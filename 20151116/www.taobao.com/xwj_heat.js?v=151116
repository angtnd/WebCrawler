/* 2015-11-16 11:42:52 */
!function(e){function t(){for(var e=b.split("&"),t={},n=0;n<e.length;n++){var o=e[n],i=o.split("=");t[i[0]]=i[1]}return t}function n(e,t){return e&&e.getAttribute?e.getAttribute(t)||"":""}function o(){return d=d||u.getElementsByTagName("head")[0],c||(d?c=d.getElementsByTagName("meta"):[])}function i(){var e,t,i,r=o(),a=r.length;for(e=0;a>e;e++)if(t=r[e],"ahot-aplus"==n(t,"name")){i=n(t,"content");break}return i}function r(){var e,t,i,r=o(),a=r.length;for(e=0;a>e;e++)if(t=r[e],"microscope-data"==n(t,"name")){i=n(t,"content");break}return i}function a(e,t){var n=e,o=document.getElementById(n);return o||(o=u.createElement("iframe"),o.setAttribute("frameborder","0"),o.style.cssText="width:0;height:0;border:0;display:none;",o.setAttribute("id",n),o.setAttribute("name",n)),t&&o.setAttribute("src",t),o.parentNode||u.body.appendChild(o),o}var s=5;if(!(e._ap_xwj_heat&&s<=e._ap_xwj_heat.version)){var d,c,m=window,u=document,l=location,h=location.href,f=l.hostname,p=m.navigator,g=p.appVersion,v=p&&p.userAgent||"",w=i(),E=r(),T=u.getElementById("tb-beacon-aplus"),b=n(T,"exparams"),y={layout:0,shouldBindMonitor:!1},M={RATE:{RESOURCE_TIMING:.001},THRESHOLD:{RESOURCE_TIMING:50},DEBUG:{RESOURCE_TIMING:location.search.indexOf("ap-debug-resource")>-1},ID:{IFRAME:"aplus_iframe_resource_timing",FORM:"aplus_form_resource_timing"}},R=function(e){return"number"==typeof e},S=function(e,t){return e.indexOf(t)>-1},x=function(){return S(b,"atp_isdpp")},I=function(){if(w)return!0;var e,t,n=["item.taobao.com","detail.tmall.com","s.taobao.com"];for(t=n.length,e=0;t>e;e++)if(S(f,n[e]))return!1;return S(h,"/go/act/")?!1:!x()},O=m.attachEvent?function(e){m.attachEvent("onload",e,!1)}:m.addEventListener?function(e){m.addEventListener("load",e,!1)}:function(e){},P=function(){for(var e="",t="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";e.length<16;)e+=t.substr(Math.floor(62*Math.random()),1);return e},N=function(e){var t,n,o,i,r,a,s=u.getElementsByTagName("*");for(t=[];e&&1==e.nodeType;e=e.parentNode)if(e.id){for(a=e.id,i=0,n=0;n<s.length;n++)if(r=s[n],r.id&&r.id==a){i++;break}if(t.unshift(e.tagName.toLowerCase()+'[@id="'+a+'"]'),1==i)return t.unshift("/"),t.join("/")}else{for(n=1,o=e.previousSibling;o;o=o.previousSibling)o.tagName==e.tagName&&n++;t.unshift(e.tagName.toLowerCase()+"["+n+"]")}return t.length?"/"+t.join("/"):null},C=function(e){var t,n=[];for(t in e)e.hasOwnProperty(t)&&n.push(t+"="+encodeURIComponent(e[t]));return n.join("&")},_=function(e,t,n){var o=Math.max(W.scrollWidth,W.clientWidth),i=W.scrollTop,r=W.scrollLeft,a=t.pageX,s=t.pageY;R(a)||(a=t.clientX+r,s=t.clientY+i);var d,c,m=-1;if(e&&e.getBoundingClientRect&&(c=e.getBoundingClientRect(),m=c.left+r,d=c.top+i),0==n){var u=o>>1;a-=u,m-=u}else 2==n&&(a-=o,m-=o);return{x:a,y:s,ex:m,ey:d}},L=function(e){var t=0;return parseFloat(e.replace(/\./g,function(){return 0==t++?".":""}))},B=function(e,t){var n,o;t[n="trident"]=.1,(o=e.match(/Trident\/([\d.]*)/))&&o[1]&&(t[n]=L(o[1])),t.core=n},A=function(e){var t,n;return(t=e.match(/MSIE ([^;]*)|Trident.*; rv(?:\s|:)?([0-9.]+)/))&&(n=t[1]||t[2])?L(n):0},k=function(e){return void 0==e||""==e?"other":e},D=function(e){function t(){for(var t=[["Windows NT 5.1","winXP"],["Windows NT 6.1","win7"],["Windows NT 6.0","winVista"],["Windows NT 6.2","win8"],["iPad","ios"],["iPhone;","ios"],["iPod","ios"],["Macintosh","mac"],["Android","android"],["Ubuntu","ubuntu"],["Linux","linux"],["Windows NT 5.2","win2003"],["Windows NT 5.0","win2000"],["Windows","winOther"],["rhino","rhino"]],n=0,o=t.length;o>n;++n)if(-1!=e.indexOf(t[n][0]))return t[n][1];return"other"}function n(e,t,n,o){var i,r=m.navigator.mimeTypes;try{for(i in r)if(r.hasOwnProperty(i)&&r[i][e]==t){if(void 0!==n&&o.test(r[i][n]))return!0;if(void 0===n)return!0}return!1}catch(a){return!1}}var o,i,r,a,s,d,c,l,h="",f=h,p=h,v=[6,9],w="{{version}}",E="<!--[if IE "+w+"]><s></s><![endif]-->",T=u&&u.createElement("div"),b=[],y={webkit:void 0,trident:void 0,gecko:void 0,presto:void 0,chrome:void 0,safari:void 0,firefox:void 0,ie:void 0,ieMode:void 0,opera:void 0,mobile:void 0,core:void 0,shell:void 0,phantomjs:void 0,os:void 0,ipad:void 0,iphone:void 0,ipod:void 0,ios:void 0,android:void 0,nodejs:void 0,extraName:void 0,extraVersion:void 0};if(T&&T.getElementsByTagName&&(T.innerHTML=E.replace(w,""),b=T.getElementsByTagName("s")),b.length>0){for(B(e,y),a=v[0],s=v[1];s>=a;a++)if(T.innerHTML=E.replace(w,a),b.length>0){y[p="ie"]=a;break}!y.ie&&(r=A(e))&&(y[p="ie"]=r)}else(i=e.match(/AppleWebKit\/([\d.]*)/))&&i[1]?(y[f="webkit"]=L(i[1]),(i=e.match(/OPR\/(\d+\.\d+)/))&&i[1]?y[p="opera"]=L(i[1]):(i=e.match(/Chrome\/([\d.]*)/))&&i[1]?y[p="chrome"]=L(i[1]):(i=e.match(/\/([\d.]*) Safari/))&&i[1]&&(y[p="safari"]=L(i[1])),/ Mobile\//.test(e)&&e.match(/iPad|iPod|iPhone/)?(y.mobile="apple",i=e.match(/OS ([^\s]*)/),i&&i[1]&&(y.ios=L(i[1].replace("_","."))),o="ios",i=e.match(/iPad|iPod|iPhone/),i&&i[0]&&(y[i[0].toLowerCase()]=y.ios)):/ Android/i.test(e)?(/Mobile/.test(e)&&(o=y.mobile="android"),i=e.match(/Android ([^\s]*);/),i&&i[1]&&(y.android=L(i[1]))):(i=e.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))&&(y.mobile=i[0].toLowerCase()),(i=e.match(/PhantomJS\/([^\s]*)/))&&i[1]&&(y.phantomjs=L(i[1]))):(i=e.match(/Presto\/([\d.]*)/))&&i[1]?(y[f="presto"]=L(i[1]),(i=e.match(/Opera\/([\d.]*)/))&&i[1]&&(y[p="opera"]=L(i[1]),(i=e.match(/Opera\/.* Version\/([\d.]*)/))&&i[1]&&(y[p]=L(i[1])),(i=e.match(/Opera Mini[^;]*/))&&i?y.mobile=i[0].toLowerCase():(i=e.match(/Opera Mobi[^;]*/))&&i&&(y.mobile=i[0]))):(r=A(e))?(y[p="ie"]=r,B(e,y)):(i=e.match(/Gecko/))&&(y[f="gecko"]=.1,(i=e.match(/rv:([\d.]*)/))&&i[1]&&(y[f]=L(i[1]),/Mobile|Tablet/.test(e)&&(y.mobile="firefox")),(i=e.match(/Firefox\/([\d.]*)/))&&i[1]&&(y[p="firefox"]=L(i[1])));o||(o=t());var M,R;if(!n("type","application/vnd.chromium.remoting-viewer")){M="scoped"in u.createElement("style"),R="v8Locale"in m;try{l=m.external||void 0}catch(S){}if(i=e.match(/360SE/))d="360";else if(i=e.match(/SE\s([\d.]*)/)||l&&"SEVersion"in l)d="sougou",c=L(i[1])||.1;else if((i=e.match(/Maxthon(?:\/)+([\d.]*)/))&&l){d="maxthon";try{c=L(l.max_version||i[1])}catch(x){c=.1}}else M&&R?d="360se":M||R||!/Gecko\)\s+Chrome/.test(g)||y.opera||y.trident||(d="360ee")}return(i=e.match(/TencentTraveler\s([\d.]*)|QQBrowser\/([\d.]*)/))?(d="tt",c=L(i[2])||.1):(i=e.match(/LBBROWSER/)||l&&"LiebaoGetVersion"in l)?d="liebao":(i=e.match(/TheWorld/))?(d="theworld",c=3):(i=e.match(/TaoBrowser\/([\d.]*)/))&&(d="taobao",c=L(i[1])||.1),y.os=o,y.core=y.core||f,y.shell=p,y.ieMode=y.ie&&u.documentMode||y.ie,y.extraName=d,y.extraVersion=c,y.resolution=m.screen.width+"x"+m.screen.height,y},j=P(),W="BackCompat"==u.compatMode?u.body:u.documentElement,F=(e.screen.width,e.screen.height,W.clientWidth,W.clientHeight,u.referrer,l.protocol),U="https:"==F,G=(new Date).getTime(),V=0,H=w?"/ahot.1.2":"/ahot.1.1",z=F+"//gm.mmstat.com"+H+"?logtype=2&cache=",q=function(e){this.config=e};q.prototype={startup:function(){var t=this;this["spm-cnt"]=e.goldlog&&e.goldlog.spm_ab?e.goldlog.spm_ab:null,O(function(e){t.sendPV(),t.sendResourceTiming(),y.shouldBindMonitor&&t.bindMonitor()})},collectPerformanceTiming:function(){var e=window.performance||window.mozPerformance||window.msPerformance||window.webkitPerformance||{},t=e.timing,n={};if(!t)return n;var o,i,r,a={navigationStart:"ns",unloadEventStart:"ues",unloadEventEnd:"uee",redirectStart:"rds",redirectEnd:"rde",fetchStart:"fs",domainLookupStart:"dls",domainLookupEnd:"dle",connectStart:"cs",connectEnd:"ce",secureConnectionStart:"scs",requestStart:"rqs",responseStart:"rps",responseEnd:"rpe",domLoading:"dl",domInteractive:"di",domContentLoadedEventStart:"dcles",domContentLoadedEventEnd:"dclee",domComplete:"dc",loadEventStart:"les",loadEventEnd:"lee"},s=t.navigationStart;for(o in t)t.hasOwnProperty(o)&&(i=t[o],r=a[o],r&&(0===i||void 0==i?n[r]="na":"number"==typeof i&&(n[r]=i-s)));var d;return"number"==typeof t.msFirstPaint?d=t.msFirstPaint:m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes().firstPaintTime&&(d=Math.ceil(1e3*window.chrome.loadTimes().firstPaintTime)),"number"==typeof d?d-=s:d="na",n.fp=d,n},collectResourceTiming:function(){if("performance"in window&&"getEntriesByType"in window.performance&&window.performance.getEntriesByType("resource")instanceof Array){var e=[],t=window.performance.getEntriesByType("resource"),n=function(e){return void 0==e||0==e?0:Math.floor(e)};for(var o in t)if(t.hasOwnProperty(o)){var i=t[o];void 0!=i.initiatorType&&e.push({rs:n(i.redirectStart),re:n(i.redirectEnd),fs:n(i.fetchStart),st:n(i.startTime),dls:n(i.domainLookupStart),dle:n(i.domainLookupEnd),cs:n(i.connectStart),ce:n(i.connectEnd),scs:n(i.secureConnectionStart),resqs:n(i.requestStart),resps:n(i.responseStart),respe:n(i.responseEnd),restype:i.initiatorType,n:i.name})}return e}},sendPV:function(){var e=this;if(!this.initialized){var n,o,i,r,a,s,d,c,m,u,l,h,f,p=1;try{n=D(v),o=n.os,i=n.shell,r=n.core,a=n.resolution,s=n.extraName,d=n.extraVersion,c=o?o+(n[o]?n[o]:""):"",m=i?i+parseInt(n[i]):"",u=r,l=a,h=s?s+(d?parseInt(d):""):""}catch(g){}var w={p:p,o:k(c),b:k(m),w:k(u),s:l,mx:h};this["spm-cnt"]&&(w["spm-cnt"]=this["spm-cnt"].join(".")),goldlog&&goldlog.pvid&&(w["spm-cnt"]+="."+goldlog.pvid),U&&(w.isps=1),(f=t().trid)&&(w.trid=f),setTimeout(function(){var t,n,o=e.collectPerformanceTiming();for(t in o)o.hasOwnProperty(t)&&(n=o[t],w[t]||(w[t]=n));e.initialized=!0,e.sendData(z+Math.random(),w)},0)}},sendResourceTiming:function(){var e=this;if((Math.random()<M.RATE.RESOURCE_TIMING||M.DEBUG.RESOURCE_TIMING)&&"performance"in window)for(var t="|--|",n=M.ID.IFRAME,o=(a(n),this.collectResourceTiming()),i=this.groupResourceTimingData(o),r=0;r<i.length;r++)!function(n){setTimeout(function(){var o=[goldlog?goldlog.pvid:"","total="+i.length,"index="+(n+1),"rescnt="+i[n].groupItem.length,i[n].groupItemString].join(t);e.setResourceTimingForm("content",o)},500*(n+1))}(r)},groupResourceTimingData:function(e){for(var t=this,n=[];e.length;)n.push(e.splice(0,M.THRESHOLD.RESOURCE_TIMING));for(var o=0;o<n.length;o++){for(var i=n[o],r="",a="|--|",s="resinfo=",d=0;d<i.length;d++){var c=i[d];r+=s+t.serializeResourceObj(c)+a}n[o]={groupItem:i,groupItemString:r}}return n},serializeResourceObj:function(e){var t,n=[],o="|-|";for(t in e)e.hasOwnProperty(t)&&n.push(t+"="+encodeURIComponent(e[t]));return n.join(o)},setResourceTimingForm:function(e,t){var n,o=document.getElementById(M.ID.FORM);if(!o){o=document.createElement("form"),o.style.display="none",o.target=M.ID.IFRAME,o.method="POST",o.action="//res.mmstat.com/1.gif",o.setAttribute("id",M.ID.FORM),n=document.createElement("input"),n.type="hidden",o.appendChild(n);var i=document.createElement("input");i.type="submit",i.value="",o.appendChild(i),document.body.appendChild(o)}n=o.getElementsByTagName("input")[0],n.name=e,n.value=t,o.submit()},bindMonitor:function(){var t=this,n=!!u.attachEvent,o=n?"attachEvent":"addEventListener";u[o]((n?"on":"")+"mousedown",function(n){n=n||e.event;var o=n.target||n.srcElement;o&&t.mousedown(o,n)},!1)},mousedown:function(e,t){var n,o=e.tagName,i={type:1,pvid:j};if(!o||"HTML"!=o){("A"==o||"AREA"==o)&&(n=e.getAttribute("href",2)||"",i.href=n);var r=_(e,t,this.config.layout);i.xpath=N(e),i.x=r.x,i.y=r.y,i.ex=r.ex,i.ey=r.ey,i.ew=e.offsetWidth,i.eh=e.offsetHeight,i.t=(new Date).getTime()-G,i.n=++V,this["spm-cnt"]&&(i["spm-cnt"]=this["spm-cnt"].join(".")),w&&E&&(i.so=encodeURIComponent(E)),this.sendData(z+Math.random(),i)}},sendData:function(t,n){var o=new Image,i="_img_"+Math.random(),r=-1==t.indexOf("?")?"?":"&";e[i]=o,o.onload=o.onerror=function(){e[i]=null},o.src=t+r+C(n),o=null}},I()&&(y.shouldBindMonitor=!0);var X=new q(y);X.startup(),e._ap_xwj_heat={version:s}}}(window);