var CEDATO_ES5=function(h,a){h.include=function(){try{Object.getPrototypeOf||(Object.getPrototypeOf=function(a){if(a!==Object(a))throw TypeError("Object.getPrototypeOf called on non-object");return a.__proto__||a.constructor.prototype||Object.prototype}),"function"!==typeof Object.getOwnPropertyNames&&(Object.getOwnPropertyNames=function(a){if(a!==Object(a))throw TypeError("Object.getOwnPropertyNames called on non-object");var c=[],d;for(d in a)Object.prototype.hasOwnProperty.call(a,d)&&c.push(d);
return c}),"function"!==typeof Object.create&&(Object.create=function(a,c){function d(){}if("object"!==typeof a)throw TypeError();d.prototype=a;var g=new d;a&&(g.constructor=d);if(void 0!==c){if(c!==Object(c))throw TypeError();Object.defineProperties(g,c)}return g}),function(){var a;if(!(a=!Object.defineProperty)){var c;try{Object.defineProperty({},"x",{}),c=!0}catch(g){c=!1}a=!c}if(a){var d=Object.defineProperty;Object.defineProperty=function(c,a,m){if(d)try{return d(c,a,m)}catch(n){}if(c!==Object(c))throw TypeError("Object.defineProperty called on non-object");
Object.prototype.__defineGetter__&&"get"in m&&Object.prototype.__defineGetter__.call(c,a,m.get);Object.prototype.__defineSetter__&&"set"in m&&Object.prototype.__defineSetter__.call(c,a,m.set);"value"in m&&(c[a]=m.value);return c}}}(),"function"!==typeof Object.defineProperties&&(Object.defineProperties=function(a,c){if(a!==Object(a))throw TypeError("Object.defineProperties called on non-object");for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&Object.defineProperty(a,d,c[d]);return a}),Object.keys||
(Object.keys=function(a){if(a!==Object(a))throw TypeError("Object.keys called on non-object");var c=[],d;for(d in a)Object.prototype.hasOwnProperty.call(a,d)&&c.push(d);return c}),Function.prototype.bind||(Function.prototype.bind=function(a){function c(){}if("function"!==typeof this)throw TypeError("Bind must be called on a function");var d=[].slice,g=d.call(arguments,1),k=this,l=function(){return k.apply(this instanceof c?this:a,g.concat(d.call(arguments)))};c.prototype=k.prototype;l.prototype=new c;
return l}),Array.isArray=Array.isArray||function(a){return!(!a||"[object Array]"!==Object.prototype.toString.call(Object(a)))},Array.prototype.indexOf||(Array.prototype.indexOf=function(a){if(void 0===this||null===this)throw TypeError();var c=Object(this),d=c.length>>>0;if(0===d)return-1;var g=0;0<arguments.length&&(g=+arguments[1],isNaN(g)?g=0:0!==g&&g!==1/0&&g!==-(1/0)&&(g=(0<g||-1)*Math.floor(Math.abs(g))));if(g>=d)return-1;for(g=0<=g?g:Math.max(d-Math.abs(g),0);g<d;g++)if(g in c&&c[g]===a)return g;
return-1}),Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function(a){if(void 0===this||null===this)throw TypeError();var c=Object(this),d=c.length>>>0;if(0===d)return-1;var g=d;1<arguments.length&&(g=+arguments[1],g!==g?g=0:0!==g&&g!==1/0&&g!==-(1/0)&&(g=(0<g||-1)*Math.floor(Math.abs(g))));for(d=0<=g?Math.min(g,d-1):d-Math.abs(g);0<=d;d--)if(d in c&&c[d]===a)return d;return-1}),Array.prototype.every||(Array.prototype.every=function(a,c){if(void 0===this||null===this)throw TypeError();
var d=Object(this),g=d.length>>>0;if("function"!==typeof a)throw TypeError();var k;for(k=0;k<g;k++)if(k in d&&!a.call(c,d[k],k,d))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(a,c){if(void 0===this||null===this)throw TypeError();var d=Object(this),g=d.length>>>0;if("function"!==typeof a)throw TypeError();var k;for(k=0;k<g;k++)if(k in d&&a.call(c,d[k],k,d))return!0;return!1}),Array.prototype.forEach||(Array.prototype.forEach=function(a,c){if(void 0===this||null===this)throw TypeError();
var d=Object(this),g=d.length>>>0;if("function"!==typeof a)throw TypeError();var k;for(k=0;k<g;k++)k in d&&a.call(c,d[k],k,d)}),Array.prototype.map||(Array.prototype.map=function(a,c){if(void 0===this||null===this)throw TypeError();var d=Object(this),g=d.length>>>0;if("function"!==typeof a)throw TypeError();var k=[];k.length=g;var l;for(l=0;l<g;l++)l in d&&(k[l]=a.call(c,d[l],l,d));return k}),Array.prototype.filter||(Array.prototype.filter=function(a,c){if(void 0===this||null===this)throw TypeError();
var d=Object(this),g=d.length>>>0;if("function"!==typeof a)throw TypeError();var k=[],l;for(l=0;l<g;l++)if(l in d){var n=d[l];a.call(c,n,l,d)&&k.push(n)}return k}),Array.prototype.reduce||(Array.prototype.reduce=function(a){if(void 0===this||null===this)throw TypeError();var c=Object(this),d=c.length>>>0;if("function"!==typeof a)throw TypeError();if(0===d&&1===arguments.length)throw TypeError();var g=0,k;if(2<=arguments.length)k=arguments[1];else{do{if(g in c){k=c[g++];break}if(++g>=d)throw TypeError();
}while(1)}for(;g<d;)g in c&&(k=a.call(void 0,k,c[g],g,c)),g++;return k}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(a){if(void 0===this||null===this)throw TypeError();var c=Object(this),d=c.length>>>0;if("function"!==typeof a)throw TypeError();if(0===d&&1===arguments.length)throw TypeError();var d=d-1,g;if(2<=arguments.length)g=arguments[1];else{do{if(d in this){g=this[d--];break}if(0>--d)throw TypeError();}while(1)}for(;0<=d;)d in c&&(g=a.call(void 0,g,c[d],d,c)),d--;return g}),
String.prototype.trim||(String.prototype.trim=function(){return String(this).replace(/^\s+/,"").replace(/\s+$/,"")}),Date.now||(Date.now=function(){return+new Date}),Date.prototype.toISOString||(Date.prototype.toISOString=function(){function a(c){return("00"+c).slice(-2)}return this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"."+function(a){return("000"+a).slice(-3)}(this.getUTCMilliseconds())+
"Z"})}catch(a){}};return h}(CEDATO_ES5||{},window),CEDATO_SWF=function(h){try{h.swfobject=function(){function a(){if(!U){try{var e=p.getElementsByTagName("body")[0].appendChild(p.createElement("span"));e.parentNode.removeChild(e)}catch(a){return}U=!0;for(var e=ea.length,c=0;c<e;c++)ea[c]()}}function m(e){U?e():ea[ea.length]=e}function c(e){if("undefined"!=typeof w.addEventListener)w.addEventListener("load",e,!1);else if("undefined"!=typeof p.addEventListener)p.addEventListener("load",e,!1);else if("undefined"!=
typeof w.attachEvent)u(w,"onload",e);else if("function"==typeof w.onload){var a=w.onload;w.onload=function(){a();e()}}else w.onload=e}function d(){var e=p.getElementsByTagName("body")[0],a=p.createElement("object");a.setAttribute("type","application/x-shockwave-flash");var c=e.appendChild(a);if(c){var d=0;(function(){if("undefined"!=typeof c.GetVariable){var k=c.GetVariable("$version");k&&(k=k.split(" ")[1].split(","),t.pv=[parseInt(k[0],10),parseInt(k[1],10),parseInt(k[2],10)])}else if(10>d){d++;
setTimeout(arguments.callee,10);return}e.removeChild(a);c=null;g()})()}else g()}function g(){var e=L.length;if(0<e)for(var a=0;a<e;a++){var c=L[a].id,d=L[a].callbackFn,g={success:!1,id:c};if(0<t.pv[0]){var h=C(c);if(h)if(!H(L[a].swfVersion)||t.wk&&312>t.wk)if(L[a].expressInstall&&l()){g={};g.data=L[a].expressInstall;g.width=h.getAttribute("width")||"0";g.height=h.getAttribute("height")||"0";h.getAttribute("class")&&(g.styleclass=h.getAttribute("class"));h.getAttribute("align")&&(g.align=h.getAttribute("align"));
for(var m={},h=h.getElementsByTagName("param"),q=h.length,p=0;p<q;p++)"movie"!=h[p].getAttribute("name").toLowerCase()&&(m[h[p].getAttribute("name")]=h[p].getAttribute("value"));n(g,m,c,d)}else y(h),d&&d(g);else E(c,!0),d&&(g.success=!0,g.ref=k(c),d(g))}else E(c,!0),d&&((c=k(c))&&"undefined"!=typeof c.SetVariable&&(g.success=!0,g.ref=c),d(g))}}function k(e){var a=null;(e=C(e))&&"OBJECT"==e.nodeName&&("undefined"!=typeof e.SetVariable?a=e:(e=e.getElementsByTagName("object")[0])&&(a=e));return a}function l(){return!fa&&
H("6.0.65")&&(t.win||t.mac)&&!(t.wk&&312>t.wk)}function n(a,c,d,g){fa=!0;T=g||null;Q={success:!1,id:d};var k=C(d);if(k){"OBJECT"==k.nodeName?(Y=q(k),ga=null):(Y=k,ga=d);a.id="SWFObjectExprInst";if("undefined"==typeof a.width||!/%$/.test(a.width)&&310>parseInt(a.width,10))a.width="310";if("undefined"==typeof a.height||!/%$/.test(a.height)&&137>parseInt(a.height,10))a.height="137";p.title=p.title.slice(0,47)+" - Flash Player Installation";g=t.ie&&t.win?"ActiveX":"PlugIn";g="MMredirectURL="+w.location.toString().replace(/&/g,
"%26")+"&MMplayerType="+g+"&MMdoctitle="+p.title;c.flashvars="undefined"!=typeof c.flashvars?c.flashvars+("&"+g):g;t.ie&&t.win&&4!=k.readyState&&(g=p.createElement("div"),d+="SWFObjectNew",g.setAttribute("id",d),k.parentNode.insertBefore(g,k),k.style.display="none",function(){4==k.readyState?k.parentNode.removeChild(k):setTimeout(arguments.callee,10)}());e(a,c,d)}}function y(e){if(t.ie&&t.win&&4!=e.readyState){var a=p.createElement("div");e.parentNode.insertBefore(a,e);a.parentNode.replaceChild(q(e),
a);e.style.display="none";(function(){4==e.readyState?e.parentNode.removeChild(e):setTimeout(arguments.callee,10)})()}else e.parentNode.replaceChild(q(e),e)}function q(e){var a=p.createElement("div");if(t.win&&t.ie)a.innerHTML=e.innerHTML;else if(e=e.getElementsByTagName("object")[0])if(e=e.childNodes)for(var c=e.length,d=0;d<c;d++)1==e[d].nodeType&&"PARAM"==e[d].nodeName||8==e[d].nodeType||a.appendChild(e[d].cloneNode(!0));return a}function e(e,a,c){var d,g=C(c);if(t.wk&&312>t.wk)return d;if(g)if("undefined"==
typeof e.id&&(e.id=c),t.ie&&t.win){var k="",l;for(l in e)e[l]!=Object.prototype[l]&&("data"==l.toLowerCase()?a.movie=e[l]:"styleclass"==l.toLowerCase()?k+=' class="'+e[l]+'"':"classid"!=l.toLowerCase()&&(k+=" "+l+'="'+e[l]+'"'));l="";for(var n in a)a[n]!=Object.prototype[n]&&(l+='<param name="'+n+'" value="'+a[n]+'" />');g.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+k+">"+l+"</object>";V[V.length]=e.id;d=C(e.id)}else{n=p.createElement("object");n.setAttribute("type","application/x-shockwave-flash");
for(var h in e)e[h]!=Object.prototype[h]&&("styleclass"==h.toLowerCase()?n.setAttribute("class",e[h]):"classid"!=h.toLowerCase()&&n.setAttribute(h,e[h]));for(k in a)a[k]!=Object.prototype[k]&&"movie"!=k.toLowerCase()&&(e=n,l=k,h=a[k],c=p.createElement("param"),c.setAttribute("name",l),c.setAttribute("value",h),e.appendChild(c));g.parentNode.replaceChild(n,g);d=n}return d}function v(e){var a=C(e);a&&"OBJECT"==a.nodeName&&(t.ie&&t.win?(a.style.display="none",function(){if(4==a.readyState){var c=C(e);
if(c){for(var d in c)"function"==typeof c[d]&&(c[d]=null);c.parentNode.removeChild(c)}}else setTimeout(arguments.callee,10)}()):a.parentNode.removeChild(a))}function C(e){var a=null;try{a=p.getElementById(e)}catch(c){}return a}function u(e,a,c){e.attachEvent(a,c);W[W.length]=[e,a,c]}function H(e){var a=t.pv;e=e.split(".");e[0]=parseInt(e[0],10);e[1]=parseInt(e[1],10)||0;e[2]=parseInt(e[2],10)||0;return a[0]>e[0]||a[0]==e[0]&&a[1]>e[1]||a[0]==e[0]&&a[1]==e[1]&&a[2]>=e[2]?!0:!1}function F(e,a,c,d){if(!t.ie||
!t.mac){var g=p.getElementsByTagName("head")[0];g&&(c=c&&"string"==typeof c?c:"screen",d&&(ha=P=null),P&&ha==c||(d=p.createElement("style"),d.setAttribute("type","text/css"),d.setAttribute("media",c),P=g.appendChild(d),t.ie&&t.win&&"undefined"!=typeof p.styleSheets&&0<p.styleSheets.length&&(P=p.styleSheets[p.styleSheets.length-1]),ha=c),t.ie&&t.win?P&&"object"==typeof P.addRule&&P.addRule(e,a):P&&"undefined"!=typeof p.createTextNode&&P.appendChild(p.createTextNode(e+" {"+a+"}")))}}function E(e,a){if(ra){var c=
a?"visible":"hidden";U&&C(e)?C(e).style.visibility=c:F("#"+e,"visibility:"+c)}}function B(e){return null!=/[\\\"<>\.;]/.exec(e)&&"undefined"!=typeof encodeURIComponent?encodeURIComponent(e):e}var w=window,p=document,I=navigator,Z=!1,ea=[function(){Z?d():g()}],L=[],V=[],W=[],Y,ga,T,Q,U=!1,fa=!1,P,ha,ra=!0,t=function(){var e="undefined"!=typeof p.getElementById&&"undefined"!=typeof p.getElementsByTagName&&"undefined"!=typeof p.createElement,a=I.userAgent.toLowerCase(),c=I.platform.toLowerCase(),d=c?
/win/.test(c):/win/.test(a),c=c?/mac/.test(c):/mac/.test(a),a=/webkit/.test(a)?parseFloat(a.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,g=!+"\v1",k=[0,0,0],l=null;if("undefined"!=typeof I.plugins&&"object"==typeof I.plugins["Shockwave Flash"])!(l=I.plugins["Shockwave Flash"].description)||"undefined"!=typeof I.mimeTypes&&I.mimeTypes["application/x-shockwave-flash"]&&!I.mimeTypes["application/x-shockwave-flash"].enabledPlugin||(Z=!0,g=!1,l=l.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),k[0]=parseInt(l.replace(/^(.*)\..*$/,
"$1"),10),k[1]=parseInt(l.replace(/^.*\.(.*)\s.*$/,"$1"),10),k[2]=/[a-zA-Z]/.test(l)?parseInt(l.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if("undefined"!=typeof w.ActiveXObject)try{if(l=(new ActiveXObject("ShockwaveFlash.ShockwaveFlash")).GetVariable("$version"))g=!0,l=l.split(" ")[1].split(","),k=[parseInt(l[0],10),parseInt(l[1],10),parseInt(l[2],10)]}catch(n){}return{w3:e,pv:k,wk:a,ie:g,win:d,mac:c}}();(function(){t.w3&&(("undefined"!=typeof p.readyState&&"complete"==p.readyState||"undefined"==
typeof p.readyState&&(p.getElementsByTagName("body")[0]||p.body))&&a(),U||("undefined"!=typeof p.addEventListener&&p.addEventListener("DOMContentLoaded",a,!1),t.ie&&t.win&&(p.attachEvent("onreadystatechange",function(){"complete"==p.readyState&&(p.detachEvent("onreadystatechange",arguments.callee),a())}),w==top&&function(){if(!U){try{p.documentElement.doScroll("left")}catch(e){setTimeout(arguments.callee,0);return}a()}}()),t.wk&&function(){U||(/loaded|complete/.test(p.readyState)?a():setTimeout(arguments.callee,
0))}(),c(a)))})();(function(){t.ie&&t.win&&window.attachEvent("onunload",function(){for(var e=W.length,a=0;a<e;a++)W[a][0].detachEvent(W[a][1],W[a][2]);e=V.length;for(a=0;a<e;a++)v(V[a]);for(var c in t)t[c]=null;t=null;for(var d in h.swfobject)h.swfobject[d]=null;h.swfobject=null})})();return{registerObject:function(e,a,c,d){if(t.w3&&e&&a){var g={};g.id=e;g.swfVersion=a;g.expressInstall=c;g.callbackFn=d;L[L.length]=g;E(e,!1)}else d&&d({success:!1,id:e})},getObjectById:function(e){if(t.w3)return k(e)},
embedSWF:function(a,c,d,g,k,h,q,y,p,F){var v={success:!1,id:c};t.w3&&!(t.wk&&312>t.wk)&&a&&c&&d&&g&&k?(E(c,!1),m(function(){d+="";g+="";var m={};if(p&&"object"===typeof p)for(var w in p)m[w]=p[w];m.data=a;m.width=d;m.height=g;w={};if(y&&"object"===typeof y)for(var u in y)w[u]=y[u];if(q&&"object"===typeof q)for(var B in q)w.flashvars="undefined"!=typeof w.flashvars?w.flashvars+("&"+B+"="+q[B]):B+"="+q[B];if(H(k))u=e(m,w,c),m.id==c&&E(c,!0),v.success=!0,v.ref=u;else{if(h&&l()){m.data=h;n(m,w,c,F);return}E(c,
!0)}F&&F(v)})):F&&F(v)},switchOffAutoHideShow:function(){ra=!1},ua:t,getFlashPlayerVersion:function(){return{major:t.pv[0],minor:t.pv[1],release:t.pv[2]}},hasFlashPlayerVersion:H,createSWF:function(a,c,d){if(t.w3)return e(a,c,d)},showExpressInstall:function(e,a,c,d){t.w3&&l()&&n(e,a,c,d)},removeSWF:function(e){t.w3&&v(e)},createCSS:function(e,a,c,d){t.w3&&F(e,a,c,d)},addDomLoadEvent:m,addLoadEvent:c,getQueryParamValue:function(e){var a=p.location.search||p.location.hash;if(a){/\?/.test(a)&&(a=a.split("?")[1]);
if(null==e)return B(a);for(var a=a.split("&"),c=0;c<a.length;c++)if(a[c].substring(0,a[c].indexOf("="))==e)return B(a[c].substring(a[c].indexOf("=")+1))}return""},expressInstallCallback:function(){if(fa){var e=C("SWFObjectExprInst");e&&Y&&(e.parentNode.replaceChild(Y,e),ga&&(E(ga,!0),t.ie&&t.win&&(Y.style.display="block")),T&&T(Q));fa=!1}}}}()}catch(a){}return h}(CEDATO_SWF||{}),CEDATO_DEVICE=function(h){h.getDeviceInfo=function(){var a={os:"",osv:"0",make:"",model:"",mobile:!1},h=navigator.userAgent,
c;if(/iPod/i.test(h))a.os="iOS",a.osv=(h.match(/\b[0-9]+_[0-9]+(?:_[0-9]+)?\b/)||[""])[0].replace(/_/g,"."),a.make="Apple",a.model="iPod",a.mobile=!0;else if(/iPhone/i.test(h))a.os="iOS",a.osv=(h.match(/\b[0-9]+_[0-9]+(?:_[0-9]+)?\b/)||[""])[0].replace(/_/g,"."),a.make="Apple",a.model="iPhone",a.mobile=!0;else if(/iPad/i.test(h))a.os="iOS",a.osv=(h.match(/\b[0-9]+_[0-9]+(?:_[0-9]+)?\b/)||[""])[0].replace(/_/g,"."),a.make="Apple",a.model="iPad",a.mobile=!0;else if(/Android/i.test(h)){if(a.os="Android",
a.mobile=!0,c=/\Android.([\d\.]+).*;\s(\w*;\s)?(.*)\sBuild.*\)/i,c=c.exec(h)){a.osv=c[1]||"0";var d=c[3]||"";/HTC/i.test(d)?(a.make="HTC",c=/HTC\s(.*)/i,c=c.exec(d),a.model=c?c[1]:""):/ASUS/i.test(d)?(a.make="ASUS",c=/ASUS\s(.*)/i,c=c.exec(d),a.model=c?c[1]:""):/ALCATEL/i.test(d)?(a.make="ALCATEL",c=/ALCATEL\s(.*)/i,c=c.exec(d),a.model=c?c[1]:""):/BLU/i.test(d)?(a.make="BLU",c=/BLU\s(.*)/i,c=c.exec(d),a.model=c?c[1]:""):/ME17\d/i.test(d)?(a.make="ASUS",a.model=d):/Nexus/i.test(d)?(a.make="Google",
a.model=d):/Lenovo/i.test(d)?a.make="Lenovo":/IdeaTab/i.test(d)?(a.make="Lenovo",a.model=d):/Huawei/i.test(h)?(a.make="Huawei",a.model=d):/SGP\d/i.test(d)?(a.make="Sony",a.model=d):/LT[1-9]\d/i.test(d)?(a.make="Sony",a.model=d):/HP/i.test(d)?(a.make="HP",c=/HP\s(.*)/i,c=c.exec(d),a.model=c?c[1]:""):/A1-/i.test(d)||/B11-/i.test(d)?(a.make="Acer",a.model=d):/GT-/i.test(d)?(a.make="Samsung",c=/(GT-.*)/i,c=c.exec(d),a.model=c?c[1]:""):/SM-/i.test(d)?(a.make="Samsung",c=/(SM-.*)/i,c=c.exec(d),a.model=
c?c[1]:""):/SPH-/i.test(d)?(a.make="Samsung",c=/(SPH-.*)/i,c=c.exec(d),a.model=c?c[1]:""):/SCH-/i.test(d)?(a.make="Samsung",c=/(SCH-.*)/i,c=c.exec(d),a.model=c?c[1]:""):/SGH-/i.test(d)?(a.make="Samsung",c=/(SGH-.*)/i,c=c.exec(d),a.model=c?c[1]:""):/DROID/i.test(d)?(a.make="Motorola",c=/(DROID.*)/i,c=c.exec(d),a.model=c?c[1]:""):/XT/i.test(d)?(a.make="Motorola",c=/(XT.*)/i,c=c.exec(d),a.model=c?c[1]:""):/LG-/i.test(d)?(a.make="LG",c=/(LG-.*)/i,c=c.exec(d),a.model=c?c[1]:""):/VS/i.test(d)?(a.make="LG",
c=/(VS.*)/i,c=c.exec(d),a.model=c?c[1]:""):/Z[1-9]/i.test(d)?(a.make="ZTE",c=/(Z[1-9].*)/i,c=c.exec(d),a.model=c?c[1]:""):/NX[1-9]/i.test(d)?(a.make="NEXTBOOK",c=/(NX[1-9].*)/i,c=c.exec(d),a.model=c?c[1]:""):/C5[1-9]/i.test(d)?(a.make="Kyocera",c=/(C5[1-9].*)/i,c=c.exec(d),a.model=c?c[1]:""):a.model=d}}else/Windows.Phone/i.test(h)||/WPDesktop/i.test(h)?(a.os="WindowsPhone",a.osv=(h.match(/Windows.Phone\s([0-9]+\.[0-9])/)||[""])[1]||8,a.mobile=!0,/NOKIA/i.test(h)&&(a.make="Nokia",c=/NOKIA;\s(.*?)(;|\))/i,
c=c.exec(h),a.model=c?c[1]:"")):/BlackBerry/i.test(h)||navigator.userAgent.match(/BB10/i)?(a.os="BlackBerry",c=0<=h.indexOf("Version/")?/Version\/(.*?)\s/i:/BlackBerry.*\/(.*?)\s/i,c=c.exec(h),a.osv=c?c[1]:"",a.mobile=!0):/Windows/i.test(h)?(a.os="Windows",c=/Windows\sNT\s(.*?)(;|\)|\s)/i,c=c.exec(h),a.osv=c?c[1]:""):/Mac\sOS/i.test(h)&&(a.os="MacOS",c=/Mac\sOS\sX\s(.*?)(;|\)|\s)/i,c=c.exec(h),a.osv=c?c[1]:"");return a};return h}(CEDATO_DEVICE||{}),CEDATO_BROWSER=function(h){h.msie=function(){var a=
window.navigator.userAgent,c=a.indexOf("MSIE "),d=a.indexOf("Trident/"),g=a.indexOf("Edge/"),k=null;0<c?k=parseInt(a.split("MSIE")[1]):0<d?k=11:0<g&&(k=12);return k?{version:k}:!1}();h.oldIE=h.msie&&10>h.msie.version;h.supportsVideo=function(){var a=!1;try{var c=document.createElement("video");c.volume=.5;a=!!c.canPlayType}catch(d){a=!1}return a};var a=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},
function(){return new ActiveXObject("Microsoft.XMLHTTP")}];h.createXMLHTTPObject=function(){var h=!1,c;for(c=0;c<a.length;c++){try{h=a[c]()}catch(d){continue}break}return h};h.parseTextToXML=function(a){return(window.DOMParser?function(a){return(new window.DOMParser).parseFromString(a,"text/xml")}:"undefined"!==typeof window.ActiveXObject&&new window.ActiveXObject("Microsoft.XMLDOM")?function(a){var d=new window.ActiveXObject("Microsoft.XMLDOM");d.async="false";d.loadXML(a);return d}:function(){return null})(a)};
h.json_decode=function(a){return window.JSON&&JSON.parse?JSON.parse(a):eval("("+a+")")};return h}(CEDATO_BROWSER||{}),CEDATO_URLUTILS=function(h){h.ScriptPath=function(){try{throw Error();}catch(g){var a=g.stack.split("\n"),h=0,c;for(c in a)if(a[c].match(/http[s]?:\/\//)){h=+c+1;break}var d;a[h+1]&&(d=a[h+1].match(/((http[s]?:\/\/.+\/)([^\/]+\.js).*?):/));d&&d[1]||(d=a[h].match(/((http[s]?:\/\/.+\/)([^\/]+\.js).*?):/));a="";d[1]&&(a=d[1]);a&&":"===a.substr(a.length-1)&&(a=a.substring(0,a.length-1));
return a}};h.getProtocol=function(a){try{if(a&&0===a.toLowerCase().indexOf("https")||document&&document.location&&0===document.location.protocol.indexOf("https")||window.location&&0===window.location.protocol.indexOf("https")||location&&0===location.protocol.indexOf("https"))return"https:"}catch(h){}return"http:"};h.getDetectedDomain=function(){var a="";try{if(parent!==window){if(a=document.referrer,window.location.ancestorOrigins){var h=window.location.ancestorOrigins[window.location.ancestorOrigins.length-
1];h&&a.substring(0,h.length)!=h&&(a=h)}}else a=top.location.href}catch(c){}return a};h.buildUrl=function(a,h){var c=[],d;for(d in h)if(h.hasOwnProperty(d)){var g=String(h[d]);if("extra"===d)for(var g=g.split("&"),k=0,l=g.length;k<l;k++)c.push(g[k]);else d&&d.length&&g.length?c.push([d,encodeURIComponent(g)].join("=")):d&&d.length?c.push(d+"="):g&&g.length&&c.push(g)}return[a,c.join("&")].join("")};return h}(CEDATO_URLUTILS||{}),CEDATO_HTTP=function(h){h.CORS_W_CREDENTIALS=1;h.CORS_FLASH=2;h.CORS_WO_CREDENTIALS=
3;h.CORS_FLASH_AND_WO_CREDENTIALS=4;h.USE_JSONP_AND_AJAX=5;h.USE_AJAX=6;h.USE_JSONP=7;h.ERR_NO_XDOMAIN_REQUEST=1;h.ERR_OPEN=2;h.ERR_SEND=3;h.ERR_AFTER_SEND=4;h.ERR_TIMEOUT=5;h.ERR_UNKNOWN=6;h.ERR_FLOAD_FAILED=7;h.ERR_FLOAD_ERROR=8;h.ERR_EXCEPTION_HEADER=9;h.ERR_BAD_RESPONSE=10;h.FetchVastService={banned:[],cache:{},get:function(a){function h(a,c){CEDATO_HTTP.ajax({url:k,withCredentials:a,onLoad:function(){if(400<=this.status)return d.onNonRetry(CEDATO_HTTP.ERR_BAD_RESPONSE,{message:""});if(d.exceptionHeaders.length){for(var e=
[],a=(this.getAllResponseHeaders()||"").split("\n"),c=0,h=d.exceptionHeaders.length;c<h;c++)for(var l=0,n=a.length;l<n;l++)0===a[l].toLowerCase().indexOf(d.exceptionHeaders[c].toLowerCase())&&e.push(a[l]);return d.onNonRetry(CEDATO_HTTP.ERR_EXCEPTION_HEADER,{message:e.join("\n")})}try{return e=!1,-1!=this.responseText.indexOf("/vlog?vpaidEvent")&&(e=!0,g.players.logVastResponse=!0),g.players.logVastResponse&&(g.debugLog(g.players,"vastId "+d.vastId+" - xhr response to url "+k,!1),g.debugLog(g.players,
this.responseText,!1)),e&&g.vastError(g.players,d.vastId,3,"lior test",null,g.playerData),"undefined"===typeof this.responseXML&&this.responseText&&(this.responseXML=CEDATO_BROWSER.parseTextToXML(this.responseText)),g.cb(null,this.responseXML,{players:g.players,playerData:g.playerData,urlhandler:g.vastURLHandler,withCredentials:this.withCredentials})}catch(q){return-1==q.message.indexOf("cross-origin")?g.vastError(g.players,d.vastId,3,"xhr onload JS exception: ",q,g.playerData):g.players.logVastResponse&&
g.debugLog(g.players,"vastId "+d.vastId+" - xhr response to url "+k+" gave cross origin error",!1),g.cb(null,null,{players:g.players,playerData:g.playerData,urlhandler:g.vastURLHandler,withCredentials:this.withCredentials})}},onError:function(e,a){switch(e){case CEDATO_HTTP.ERR_NO_XDOMAIN_REQUEST:g.debugLog(g.players,"vastId "+d.vastId+" - old ie but no XDomainRequest",!1);c();break;case CEDATO_HTTP.ERR_OPEN:g.debugLog(g.players,"vastId "+d.vastId+" - xhr open failed with error: "+a.message,!1);c();
break;case CEDATO_HTTP.ERR_SEND:g.debugLog(g.players,"vastId "+d.vastId+" - xhr send failed with error: "+a.message,!1);c();break;case CEDATO_HTTP.ERR_AFTER_SEND:c();break;case CEDATO_HTTP.ERR_TIMEOUT:g.debugLog(g.players,"vastId "+d.vastId+" - timeout error, url: "+k,!1);g.cb(null,null,{players:g.players,playerData:g.playerData,urlhandler:g.vastURLHandler});break;case CEDATO_HTTP.ERR_UNKNOWN:if(-1==a.message.indexOf("101")&&2153644038!=a.result)return g.vastError(g.players,d.vastId,3,"vastURLHandler JS exception on stage ???: ",
a,g.playerData),g.cb(null,null,{players:g.players,playerData:g.playerData,urlhandler:g.vastURLHandler,withCredentials:this.withCredentials});g.debugLog(g.players,"vastId "+d.vastId+" - xhr response gave cross origin exception",!1);c()}},externals:g});g.players.logVastResponse&&g.debugLog(g.players,"vastId "+d.vastId+" - xhr request send called url "+k,!1)}function c(){CEDATO_HTTP.flashAjax({url:k,onLoad:function(){},onError:function(a,c){switch(a){case CEDATO_HTTP.ERR_FLOAD_FAILED:g.debugLog(g.players,
"vastId "+g.playerData.vastId+" - fload failed - vpw disappeared: "+c.message,!1);g.playerData.tlvState=10;g.playerData.errorCount+=1;g.vpwException(g.players,g.playerData,"fload");break;case CEDATO_HTTP.ERR_FLOAD_ERROR:g.debugLog(g.players,"vastId "+g.playerData.vastId+" - fload returned error: "+c.message,!1),g.cb(null,null,{players:g.players,playerData:g.playerData,urlhandler:g.vastURLHandler})}},externals:g})}var d=CEDATO_UTILS.extend({vastId:null,url:"",flashSupport:!1,flashProxyObject:null,
corsSupport:0,exceptionHeaders:[],onSuccess:function(){},onFailure:function(){},onNonRetry:function(){},externals:{players:{},playerData:{},fixURLPrm:function(){},debugLog:function(){},vastError:function(){},cb:function(){},vastURLHandler:null,vpwException:function(){}}},a),g=d.externals;g.players.logVastResponse&&g.debugLog(g.players,"vastId "+d.vastId+" - xhr request url "+d.url,!1);a=d.url;if(a=g.fixURLPrm(g.players.protocol,a)){var k=a;CEDATO_BROWSER.oldIE&&-1==a.indexOf(g.players.protocol)&&
(k=g.players.protocol+a.substr(a.indexOf("/")),g.debugLog(g.players,"vastId "+d.vastId+" - old ie and different scheme, adjusting url to "+k,!1));var l={players:g.players,playerData:g.playerData,urlhandler:g.vastURLHandler};switch(d.corsSupport){case CEDATO_HTTP.CORS_FLASH:c();break;case CEDATO_HTTP.CORS_W_CREDENTIALS:case CEDATO_HTTP.CORS_WO_CREDENTIALS:var n=d.corsSupport===CEDATO_HTTP.CORS_W_CREDENTIALS;h(n,function(){g.debugLog(g.players,"vastId "+d.vastId+" - xhr error, fload not available",
!1);n?(g.debugLog(g.players,"vastId "+d.vastId+" - xhr error, retrying without credentials, url: "+k,!1),CEDATO_HTTP.FetchVastService.get(CEDATO_UTILS.extend(d,{corsSupport:CEDATO_HTTP.CORS_WO_CREDENTIALS}))):g.cb(null,null,l)});break;case CEDATO_HTTP.CORS_FLASH_AND_WO_CREDENTIALS:break;default:n=d.corsSupport!==CEDATO_HTTP.CORS_FLASH_AND_WO_CREDENTIALS,h(n,function(){d.flashSupport?c():n?(g.debugLog(g.players,"vastId "+d.vastId+" - xhr error, retrying without credentials, url: "+k,!1),CEDATO_HTTP.FetchVastService.get(CEDATO_UTILS.extend(d,
{corsSupport:CEDATO_HTTP.CORS_WO_CREDENTIALS}))):g.cb(null,null,l)})}}else g.vastError(g.players,d.vastId,3,"strange url: "+d.url,!1,g.playerData,!1,!1,"strange url")}};h.ajax=function(a){var h=CEDATO_UTILS.extend({url:"",withCredentials:!1,method:"GET",postData:null,timeout:0,onLoad:function(){},onError:function(){}},a);try{var c=!1,d=CEDATO_BROWSER.createXMLHTTPObject();if(CEDATO_BROWSER.oldIE&&!d){if(!window.XDomainRequest)return h.onError.call(d,CEDATO_HTTP.ERR_NO_XDOMAIN_REQUEST),null;d=new XDomainRequest;
d.onprogress=function(){}}try{d.open(h.method,h.url)}catch(l){return h.onError.call(d,CEDATO_HTTP.ERR_OPEN,l),null}"withCredentials"in d&&(d.withCredentials=h.withCredentials);"timeout"in d&&(d.timeout=h.timeout);d.onload=function(){c||(window.XDomainRequest&&d instanceof window.XDomainRequest&&(d.status=200,d.getResponseHeader=function(){return null},d.getAllResponseHeaders=function(){return null}),h.onLoad.call(d))};d.onerror=function(a){c=!0;h.onError.call(d,CEDATO_HTTP.ERR_AFTER_SEND,{result:-1,
message:""})};var g=null;a=[];if(h.postData){if("string"==typeof h.postData)g=h.postData;else{for(var k in h.postData)h.postData.hasOwnProperty(k)&&a.push([k,h.postData[k]].join("="));g=a.join("&")}d.setRequestHeader&&d.setRequestHeader("Content-type","application/x-www-form-urlencoded")}if(CEDATO_BROWSER.oldIE)setTimeout(function(){try{d.send(g)}catch(a){h.onError.call(d,CEDATO_HTTP.ERR_SEND,a)}},0);else try{d.send(g)}catch(l){h.onError.call(d,CEDATO_HTTP.ERR_SEND,l)}}catch(l){h.onError.call(d,CEDATO_HTTP.ERR_UNKNOWN,
l)}return d};h.flashAjax=function(a){function h(){if(2!==d.playerData.vpwLoaded)setTimeout(h,500);else{var a;try{a=d.playerData.flashElement[d.playerData.flashEICallbacks]("fLoad",c.url,c.timeout,d.players.playersStorageName,d.playerData.uniqId,g,d.players.floadSuccessCallbackFuncName,d.players.floadFailureCallbackFuncName)}catch(l){c.onError(CEDATO_HTTP.ERR_FLOAD_FAILED,l)}if(""!==a)c.onError(CEDATO_HTTP.ERR_FLOAD_ERROR,{message:a})}}var c=CEDATO_UTILS.extend({url:"",timeout:2E4,onLoad:function(){},
onError:function(){},externals:{players:{},playerData:{},cb:function(){}}},a),d=c.externals,g=d.playerData.floadCbs.length;d.playerData.floadCbs.push(d.cb);h()};h.JSONP=function(a){var h=CEDATO_UTILS.extend({url:"",onLoad:function(a){},onError:function(){}},a);a="_"+(new Date).getTime();var c=document.createElement("script"),d=document.getElementsByTagName("head")[0]||document.documentElement;window[a]=function(a){try{c.parentNode&&c.parentNode.removeChild()}catch(d){}h.onLoad(a)};var g=h.url,k=g.indexOf("?");
-1==k?g+="?":k!==g.length-1&&(g+="&");c.src=g+"callback="+a;CEDATO_BROWSER.msie&&9>CEDATO_BROWSER.msie.version?c.onreadystatechange=function(a){if(/loaded|complete/.test(c.readyState)&&(a=c.readyState,c.children,"loaded"==a&&"loading"==c.readyState))h.onError()}:(c.onerror=function(){h.onError()},d.appendChild(c));return{script:c,uid:a}};h.GetPlayerVast=function(a){function h(a){g.push(a);g.length==l&&(2===l?!g[0]&&!g[1]&&0<c.retries:!g[0]&&0<c.retries)&&(c.retries--,setTimeout(function(){CEDATO_HTTP.GetPlayerVast(c)},
c.retryInterval))}var c=CEDATO_UTILS.extend({url:"",success:function(a,c,d){},preferredMethod:CEDATO_HTTP.USE_JSONP_AND_AJAX,retryInterval:1E4,retries:2,externals:{players:{},debugLog:function(){},playerError:function(){}}},a),d=c.externals,g=[],k=!1,l=c.preferredMethod===CEDATO_HTTP.USE_JSONP_AND_AJAX?2:1;d.debugLog(d.players,"gpv url: "+c.url,!1);d.players.gpvAttempt++;if(c.preferredMethod===CEDATO_HTTP.USE_AJAX||c.preferredMethod===CEDATO_HTTP.USE_JSONP_AND_AJAX)d.players.gsvXHR=CEDATO_HTTP.ajax({url:c.url,
method:"get",onLoad:function(){try{d.debugLog(d.players,"sp callback from "+c.url,!1);var a=CEDATO_BROWSER.json_decode(this.responseText);k||(k=!0,c.success(d.players,a,CEDATO_HTTP.USE_AJAX));h(!0)}catch(g){h(!1),g.message&&-1===g.message.indexOf("Unexpected EOF")&&d.playerError(d.players,3,"spcallback gave JS exception: "+g.message)}},onError:function(a){h(!1)}});c.preferredMethod!==CEDATO_HTTP.USE_JSONP&&c.preferredMethod!==CEDATO_HTTP.USE_JSONP_AND_AJAX||CEDATO_HTTP.JSONP({url:c.url,onLoad:function(a){k||
(k=!0,c.success(d.players,a,CEDATO_HTTP.USE_JSONP));h(!0)},onError:function(){h(!1)}})};h.sendPixel=function(a,h){CEDATO_HTTP.ajax({url:a,postData:h,method:h?"post":"get"})};return h}(CEDATO_HTTP||{}),CEDATO_UTILS=function(h){h.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)};h.extend=function(a,h){for(var c in h)h.hasOwnProperty(c)&&(a[c]=h[c]);return a};return h}(CEDATO_UTILS||{}),CEDATO_CONTENT=function(h){var a=function(a){function c(){h.video&&h.video.parentNode&&
h.video.parentNode.removeChild(h.video);var a=l.customCreateVideoElement?l.customCreateVideoElement():document.createElement("video");a.src=h.currentContentUrl;a.controls=h.controlBar;a.autoplay=h.autoPlay;a.loop=!1;a.preload="auto";a.volume=h.volume;a.setAttribute("style","height:100% !important;display:block;");a.style.width="100%";a.style.position="relative";a.style.zIndex="1";a.addEventListener("ended",function(e){n&&a.play();if(!y){e=0;for(var d=h.callbacks.endContentVideo.length;e<d;e++)h.callbacks.endContentVideo[e].call(h);
y=!0}n||(h.currentContentUrl=h.contentUrlList.shift(),h.loop&&h.contentUrlList.push(h.currentContentUrl),h.currentContentUrl?c():"")},!1);a.addEventListener("error",function(e){var a="";switch(e.target.error.code){case e.target.error.MEDIA_ERR_ABORTED:a="You aborted the video playback.";break;case e.target.error.MEDIA_ERR_NETWORK:a="A network error caused the video download to fail part-way.";break;case e.target.error.MEDIA_ERR_DECODE:a="The video playback was aborted due to a corruption problem or because the video used features your browser did not support.";
break;case e.target.error.MEDIA_ERR_SRC_NOT_SUPPORTED:a="The video could not be loaded, either because the server or network failed or because the format is not supported.";break;default:a="An unknown error occurred."}l.onError(e,a)},!1);a.addEventListener("canplay",function(e){a.canvas&&(a.canvas.style.width="100%",a.canvas.style.height="100%")});h.video=a;h.container?h.container.appendChild(a):"";h.autoPlay||h.controlBar||d()}function d(){var a=document.createElement("div");a.style.display="table";
a.style.position="absolute";a.style.left="0";a.style.top="0";a.style.width="100%";a.style.height="100%";a.style.zIndex="2";a.style.background="#000";a.style.cursor="pointer";var e=document.createElement("div");e.style.display="table-cell";e.style.verticalAlign="middle";e.style.textAlign="center";var c=new Image;c.src=l.playButtonUrl;c.style.width="auto";c.style.maxHeight=Math.round(.3*h.container.clientHeight)+"px";e.appendChild(c);a.appendChild(e);h.playOverlay=a;h.container?h.container.appendChild(a):
"";a.onclick=function(e){h.playOverlay&&h.playOverlay.parentNode?h.playOverlay.parentNode.removeChild(h.playOverlay):"";h.playOverlay=null;h.playContent();e.stopPropagation();e=0;for(var a=h.callbacks.userStartPlaying.length;e<a;e++)h.callbacks.userStartPlaying[e].call(h)}}function g(){var a=document.createElement("div");a.style.width="100%";a.style.height="100%";a.style.background="url("+h.bannerUrl+") no-repeat center center";a.style.position="absolute";a.style.left="0";a.style.top="0";h.bannerOverlay=
a;h.container?h.container.appendChild(a):"";h.autoPlay||d()}var h=this,l=CEDATO_UTILS.extend({parentDiv:null,contentUrl:null,bannerUrl:"spinner.gif",playButtonUrl:"play_button_gr.png",clickUrl:"",autoPlay:!0,volume:1,loop:!0,controlBar:!1,videoSupport:!0,customCreateVideoElement:null,userStartPlayingCallback:function(a){},endContentVideoCallback:function(a){},userClick:function(a){},onError:function(a){}},a);this.parentDiv=l.parentDiv;this.contentUrl=l.contentUrl;this.contentUrlList=CEDATO_UTILS.isArray(this.contentUrl)?
this.contentUrl.slice():this.contentUrl?[this.contentUrl]:[];this.currentContentUrl=this.contentUrlList.length?this.contentUrlList.shift():null;this.bannerUrl=l.bannerUrl;this.clickUrl=l.clickUrl;this.autoPlay=l.autoPlay;this.volume=1*l.volume;this.loop=l.loop;this.controlBar=l.controlBar;this.videoSupport=l.videoSupport;var n=!1;this.callbacks={userStartPlaying:[l.userStartPlayingCallback],endContentVideo:[l.endContentVideoCallback]};this.loop&&(this.contentUrlList.push(this.currentContentUrl),n=
1==h.contentUrlList.length);this.container=document.createElement("div");this.container.style.width="100%";this.container.style.height="100%";this.container.style.top="0";this.container.style.left="0";this.container.style.position="absolute";this.container.style.background="#000";this.container.style.zIndex="10001";h.parentDiv?h.parentDiv.appendChild(this.container):"";this.playOverlay=this.video=this.bannerOverlay=null;var y=!1;h.currentContentUrl&&this.videoSupport?c():g();this.container.onclick=
function(a){h.clickUrl&&!h.playOverlay&&(l.userClick(),window.open(h.clickUrl,"_blank"))}};a.prototype.playContent=function(){!this.video||this.video.paused&&this.playOverlay||this.video.play()};a.prototype.pauseContent=function(){this.video&&this.video.pause()};a.prototype.showContent=function(){this.container&&(this.container.style.zIndex="10001",this.container.style.display="",this.playContent())};a.prototype.hideContent=function(){this.container&&(this.container.style.zIndex="1",this.container.style.display=
"none",this.pauseContent())};a.prototype.isVisible=function(){return this.container?"10001"===this.container.style.zIndex&&""===this.container.style.display:!1};a.prototype.removeContent=function(){this.container&&this.container.parentNode&&this.container.parentNode.removeChild(this.container)};a.prototype.setVolume=function(a){this.video&&(this.volume=a,this.video.volume=a)};a.prototype.addEndContentVideoCallback=function(a){this.callbacks.endContentVideo.push(a)};a.prototype.addUserStartPlayingCallback=
function(a){this.callbacks.userStartPlaying.push(a)};h.ContentUnit=a;return h}(CEDATO_CONTENT||{}),CEDATO_DETECT_UTILS=function(h){h.getStatsParam=function(a){if(a){var h="h";"https:"===a.protocol&&(h="s");var c="h";if("vpaid"===a.mode&&(c="f",a.vpaidObj))switch(a.vpaidObj.getVpaidType()){case "fl":c="f";break;case "js":c="j"}var d="d";a.info&&a.info.mobile&&(d="m");return h+c+d}};return h}(CEDATO_DETECT_UTILS||{});
(function(h){"object"===typeof eexports&&"undefined"!==typeof mmodule?mmodule.eexports=h():"function"===typeof ddefine&&ddefine.amd?ddefine([],h):("undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:this).DMVAST=h()})(function(){return function a(m,c,d){function g(l,y){if(!c[l]){if(!m[l]){var q="function"==typeof rrequire&&rrequire;if(!y&&q)return q(l,!0);if(k)return k(l,!0);q=Error("Cannot find mmodule '"+l+"'");throw q.code="MODULE_NOT_FOUND",q;}q=
c[l]={eexports:{}};m[l][0].call(q.eexports,function(e){var a=m[l][1][e];return g(a?a:e)},q,q.eexports,a,m,c,d)}return c[l].eexports}for(var k="function"==typeof rrequire&&rrequire,l=0;l<d.length;l++)g(d[l]);return g}({1:[function(a,m,c){a=function(){return function(){this.errorURLTemplates=[];this.impressionURLTemplates=[];this.creatives=[]}}();this.extensions="";m.eexports=a},{}],2:[function(a,m,c){var d,g;d=a("./parser.coffee");g=a("./util.coffee");a=function(){function a(){}a.cappingFreeLunch=
0;a.cappingMinimumTimeInterval=0;a.options={withCredentials:!1,timeout:0};a.get=function(a,g,k){var q,e,m;e=+new Date;q=c.extend=function(e,a){var c,d;for(c in a)d=a[c],e[c]=d;return e};k||("function"===typeof g&&(k=g),m={});m=q(this.options,g);this.totalCallsTimeout<e?(this.totalCalls=1,this.totalCallsTimeout=e+36E5):this.totalCalls++;if(this.cappingFreeLunch>=this.totalCalls)k(null);else if(e-this.lastSuccessfullAd<this.cappingMinimumTimeInterval)k(null);else return d.parse(a,m,function(e){return k(e)})};
(function(){var c,d;d=g.storage;c=Object.defineProperty;["lastSuccessfullAd","totalCalls","totalCallsTimeout"].forEach(function(g){c(a,g,{get:function(){return d.getItem(g)},set:function(a){return d.setItem(g,a)},configurable:!1,enumerable:!0})});null==a.totalCalls&&(a.totalCalls=0);null==a.totalCallsTimeout&&(a.totalCallsTimeout=0)})();return a}();m.eexports=a},{"./parser.coffee":7,"./util.coffee":13}],3:[function(a,m,c){a=function(){return function(){this.id=null;this.height=this.width=0;this.companionClickThroughURLTemplate=
this.staticResource=this.type=null;this.trackingEvents={}}}();m.eexports=a},{}],4:[function(a,m,c){var d,g={}.hasOwnProperty,k=function(a,c){function d(){this.constructor=a}for(var k in c)g.call(c,k)&&(a[k]=c[k]);d.prototype=c.prototype;a.prototype=new d;a.__super__=c.prototype;return a};d=function(){return function(){this.trackingEvents={}}}();a=function(a){function c(){c.__super__.constructor.apply(this,arguments);this.type="linear";this.duration=0;this.skipDelay=null;this.mediaFiles=[];this.videoClickThroughURLTemplate=
null;this.videoClickTrackingURLTemplates=[]}k(c,a);return c}(d);this.adParameters="";c=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}k(c,a);return c}(d);d=function(a){function c(){this.type="companion";this.variations=[];this.videoClickTrackingURLTemplates=[]}k(c,a);return c}(d);m.eexports={VASTCreativeLinear:a,VASTCreativeNonLinear:c,VASTCreativeCompanion:d}},{}],5:[function(a,m,c){m.eexports={client:a("./client.coffee"),tracker:a("./tracker.coffee"),parser:a("./parser.coffee"),
util:a("./util.coffee")}},{"./client.coffee":2,"./parser.coffee":7,"./tracker.coffee":9,"./util.coffee":13}],6:[function(a,m,c){a=function(){return function(){this.fileURL=this.id=null;this.deliveryType="progressive";this.codec=this.mimeType=null;this.height=this.width=this.maxBitrate=this.minBitrate=this.bitrate=0;this.maintainAspectRatio=this.scalable=this.apiFramework=null}}();m.eexports=a},{}],7:[function(a,m,c){var d,g,k,l,n,y,q,e,v,C=[].indexOf||function(e){for(var a=0,c=this.length;a<c;a++)if(a in
this&&this[a]===e)return a;return-1};g=a("./urlhandler.coffee");e=a("./response.coffee");k=a("./ad.coffee");v=a("./util.coffee");y=a("./creative.coffee").VASTCreativeLinear;n=a("./creative.coffee").VASTCreativeCompanion;q=a("./mediafile.coffee");l=a("./companionad.coffee");d=a("events").EventEmitter;a=function(){function a(){}var c;c=[];a.addURLTemplateFilter=function(e){"function"===typeof e&&c.push(e)};a.removeURLTemplateFilter=function(){return c.pop()};a.countURLTemplateFilters=function(){return c.length};
a.clearUrlTemplateFilters=function(){return c=[]};a.parse=function(e,a,c){c||("function"===typeof a&&(c=a),a={});return this._parse(e,null,a,function(e,a){return c(a)})};a.vent=new d;a.track=function(e,a){this.vent.emit("VAST-error",a);return v.track(e,a)};a.on=function(e,a){return this.vent.on(e,a)};a.once=function(e,a){return this.vent.once(e,a)};a._parse=function(a,d,l,k){var n,y,q,m=this;k||("function"===typeof l&&(k=l),l={});y=0;for(q=c.length;y<q;y++)n=c[y],a=n(a);null==d&&(d=[]);d.push(a);
return g.get(a,l,function(c,g,l){var n,y,p,q,B,v;if(null!=c)return k(c);p=new e;if(null==(null!=g?g.documentElement:void 0)||"VAST"!==g.documentElement.nodeName)return k();v=g.documentElement.childNodes;q=0;for(B=v.length;q<B;q++)c=v[q],"Error"===c.nodeName&&p.errorURLTemplates.push(m.parseNodeText(c));B=g.documentElement.childNodes;g=0;for(q=B.length;g<q;g++)c=B[g],"Ad"===c.nodeName&&(n=m.parseAdElement(c),null!=n?p.ads.push(n):m.track(p.errorURLTemplates,{ERRORCODE:101}));y=function(e){var a,c,
d;null==e&&(e=!1);if(p){d=p.ads;a=0;for(c=d.length;a<c;a++)if(n=d[a],null!=n.nextWrapperURL)return;0===p.ads.length&&(e||m.track(p.errorURLTemplates,{ERRORCODE:303}),p=null);return k(null,p)}};for(c=p.ads.length;c--;)n=p.ads[c],null!=n.nextWrapperURL&&function(e){var c;if(10<=d.length||(c=e.nextWrapperURL,0<=C.call(d,c)))m.track(e.errorURLTemplates,{ERRORCODE:302}),p.ads.splice(p.ads.indexOf(e),1),y();else return-1===e.nextWrapperURL.indexOf("://")&&(c=a.slice(0,a.lastIndexOf("/")),e.nextWrapperURL=
""+c+"/"+e.nextWrapperURL),m._parse(e.nextWrapperURL,d,l,function(a,c){var d,g,l,k,n,q,w,E,F,B,v,I,u,C,L;g=!1;if(null!=a)m.track(e.errorURLTemplates,{ERRORCODE:301}),p.ads.splice(p.ads.indexOf(e),1),g=!0;else if(null==c)m.track(e.errorURLTemplates,{ERRORCODE:303}),p.ads.splice(p.ads.indexOf(e),1),g=!0;else for(p.errorURLTemplates=p.errorURLTemplates.concat(c.errorURLTemplates),k=p.ads.indexOf(e),p.ads.splice(k,1),u=c.ads,w=0,E=u.length;w<E;w++){n=u[w];n.errorURLTemplates=e.errorURLTemplates.concat(n.errorURLTemplates);
n.impressionURLTemplates=e.impressionURLTemplates.concat(n.impressionURLTemplates);if(null!=e.trackingEvents)for(C=n.creatives,v=0,F=C.length;v<F;v++)if(d=C[v],"linear"===d.type)for(L=Object.keys(e.trackingEvents),I=0,B=L.length;I<B;I++)l=L[I],(q=d.trackingEvents)[l]||(q[l]=[]),d.trackingEvents[l]=d.trackingEvents[l].concat(e.trackingEvents[l]);if(null!=e.videoClickTrackingURLTemplates)for(B=n.creatives,F=0,l=B.length;F<l;F++)d=B[F],"linear"===d.type&&(d.videoClickTrackingURLTemplates=d.videoClickTrackingURLTemplates.concat(e.videoClickTrackingURLTemplates));
p.ads.splice(k,0,n)}delete e.nextWrapperURL;return y(g)})}(n);return y()})};a.childByName=function(e,a){var c,d,g,l;l=e.childNodes;d=0;for(g=l.length;d<g;d++)if(c=l[d],c.nodeName===a)return c};a.childsByName=function(e,a){var c,d,g,l,k;d=[];k=e.childNodes;g=0;for(l=k.length;g<l;g++)c=k[g],c.nodeName===a&&d.push(c);return d};a.parseAdElement=function(e){var a,c,d;d=e.childNodes;a=0;for(c=d.length;a<c;a++){e=d[a];if("Wrapper"===e.nodeName)return this.parseWrapperElement(e);if("InLine"===e.nodeName)return this.parseInLineElement(e)}};
a.parseWrapperElement=function(e){var a,c,d,g,l;a=this.parseInLineElement(e);c=this.childByName(e,"VASTAdTagURI");null!=c?a.nextWrapperURL=this.parseNodeText(c):(c=this.childByName(e,"VASTAdTagURL"),null!=c&&(a.nextWrapperURL=this.parseNodeText(this.childByName(c,"URL"))));c=null;l=a.creatives;d=0;for(g=l.length;d<g;d++)if(e=l[d],"linear"===e.type){c=e;break}null!=c&&(null!=c.trackingEvents&&(a.trackingEvents=c.trackingEvents),null!=c.videoClickTrackingURLTemplates&&(a.videoClickTrackingURLTemplates=
c.videoClickTrackingURLTemplates));if(null!=a.nextWrapperURL)return a};a.parseInLineElement=function(e){var a,c,d,g,l,n,y,q,m,v;a=new k;q=e.childNodes;e=0;for(l=q.length;e<l;e++)switch(g=q[e],g.nodeName){case "Error":this.isUrl(g)&&a.errorURLTemplates.push(this.parseNodeText(g));break;case "Extensions":a.extensions=this.parseNodeText(g);break;case "Impression":this.isUrl(g)&&a.impressionURLTemplates.push(this.parseNodeText(g));break;case "Creatives":for(m=this.childsByName(g,"Creative"),g=0,n=m.length;g<
n;g++)for(d=m[g],v=d.childNodes,d=0,y=v.length;d<y;d++)switch(c=v[d],c.nodeName){case "Linear":(c=this.parseCreativeLinearElement(c))&&a.creatives.push(c);break;case "CompanionAds":(c=this.parseCompanionAd(c))&&a.creatives.push(c)}}return a};a.parseCreativeLinearElement=function(e){var a,c,d,g,l,k,n,m,v,u;c=new y;c.duration=this.parseDuration(this.parseNodeText(this.childByName(e,"Duration")));if(-1===c.duration&&"Wrapper"!==e.parentNode.parentNode.parentNode.nodeName)return null;a=e.getAttribute("skipoffset");
null==a?c.skipDelay=null:"%"===a.charAt(a.length-1)?(a=parseInt(a,10),c.skipDelay=a/100*c.duration):c.skipDelay=this.parseDuration(a);a=this.childByName(e,"VideoClicks");if(null!=a)for(c.videoClickThroughURLTemplate=this.parseNodeText(this.childByName(a,"ClickThrough")),d=this.childsByName(a,"ClickTracking"),l=0,u=d.length;l<u;l++)a=d[l],c.videoClickTrackingURLTemplates.push(this.parseNodeText(a));a=this.childByName(e,"AdParameters");null!=a&&(c.adParameters=this.parseNodeText(a));u=this.childsByName(e,
"TrackingEvents");a=0;for(l=u.length;a<l;a++)for(d=u[a],k=this.childsByName(d,"Tracking"),v=0,g=k.length;v<g;v++)n=k[v],d=n.getAttribute("event"),n=this.parseNodeText(n),null!=d&&null!=n&&(null==(m=c.trackingEvents)[d]&&(m[d]=[]),c.trackingEvents[d].push(n));a=this.childsByName(e,"MediaFiles");e=0;for(m=a.length;e<m;e++)for(l=a[e],v=this.childsByName(l,"MediaFile"),d=0,u=v.length;d<u;d++)g=v[d],l=new q,l.id=g.getAttribute("id"),l.fileURL=this.parseNodeText(g),l.deliveryType=g.getAttribute("delivery"),
l.codec=g.getAttribute("codec"),l.mimeType=g.getAttribute("type"),l.apiFramework=g.getAttribute("apiFramework"),l.bitrate=parseInt(g.getAttribute("bitrate")||0),l.minBitrate=parseInt(g.getAttribute("minBitrate")||0),l.maxBitrate=parseInt(g.getAttribute("maxBitrate")||0),l.width=parseInt(g.getAttribute("width")||0),l.height=parseInt(g.getAttribute("height")||0),(k=g.getAttribute("scalable"))&&"string"===typeof k&&(k=k.toLowerCase(),"true"===k?l.scalable=!0:"false"===k&&(l.scalable=!1)),(g=g.getAttribute("maintainAspectRatio"))&&
"string"===typeof g&&(g=g.toLowerCase(),"true"===g?l.maintainAspectRatio=!0:"false"===g&&(l.maintainAspectRatio=!1)),c.mediaFiles.push(l);return c};a.parseCompanionAd=function(e){var a,c,d,g,k,y,q,m,v,u,C,H,T,Q;c=new n;T=this.childsByName(e,"Companion");q=0;for(v=T.length;q<v;q++){a=T[q];e=new l;e.id=a.getAttribute("id")||null;e.width=a.getAttribute("width");e.height=a.getAttribute("height");d=this.childsByName(a,"HTMLResource");m=0;for(u=d.length;m<u;m++)g=d[m],e.type=g.getAttribute("creativeType")||
0,e.htmlResource=this.parseNodeText(g);d=this.childsByName(a,"IFrameResource");m=0;for(u=d.length;m<u;m++)g=d[m],e.type=g.getAttribute("creativeType")||0,e.iframeResource=this.parseNodeText(g);d=this.childsByName(a,"StaticResource");m=0;for(u=d.length;m<u;m++)g=d[m],e.type=g.getAttribute("creativeType")||0,e.staticResource=this.parseNodeText(g);u=this.childsByName(a,"TrackingEvents");m=0;for(g=u.length;m<g;m++)for(d=u[m],Q=this.childsByName(d,"Tracking"),H=0,C=Q.length;H<C;H++)k=Q[H],d=k.getAttribute("event"),
k=this.parseNodeText(k),null!=d&&null!=k&&(null==(y=e.trackingEvents)[d]&&(y[d]=[]),e.trackingEvents[d].push(k));e.companionClickThroughURLTemplate=this.parseNodeText(this.childByName(a,"CompanionClickThrough"));c.variations.push(e)}return c};a.parseDuration=function(e){var a,c;if(null==e)return-1;a=e.split(":");if(3!==a.length)return-1;c=a[2].split(".");e=parseInt(c[0]);2===c.length&&(e+=parseFloat("0."+c[1]));c=parseInt(60*a[1]);a=parseInt(3600*a[0]);return isNaN(a||isNaN(c||isNaN(e||3600<c||60<
e)))?-1:a+c+e};a.parseNodeText=function(e){return e&&(e.textContent||e.text||"").trim()};a.isUrl=function(e){return/[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?//=]*)/i.test(this.parseNodeText(e))};return a}();m.eexports=a},{"./ad.coffee":1,"./companionad.coffee":3,"./creative.coffee":4,"./mediafile.coffee":6,"./response.coffee":8,"./urlhandler.coffee":10,"./util.coffee":13,events:14}],8:[function(a,m,c){a=function(){return function(){this.ads=[];this.errorURLTemplates=[]}}();
m.eexports=a},{}],9:[function(a,m,c){var d,g,k,l={}.hasOwnProperty,n=function(a,c){function e(){this.constructor=a}for(var d in c)l.call(c,d)&&(a[d]=c[d]);e.prototype=c.prototype;a.prototype=new e;a.__super__=c.prototype;return a};d=a("./client.coffee");k=a("./util.coffee");g=a("./creative.coffee").VASTCreativeLinear;a=function(a){function c(e,a){var l,k,n;this.ad=e;this.creative=a;this.skipable=this.impressed=this.muted=!1;this.skipDelayDefault=-1;this.trackingEvents={};this.emitAlwaysEvents="creativeView start firstQuartile midpoint thirdQuartile complete resume pause rewind skip closeLinear close".split(" ");
n=a.trackingEvents;for(l in n)k=n[l],this.trackingEvents[l]=k.slice(0);a instanceof g?(this.setDuration(a.duration),this.skipDelay=a.skipDelay,this.linear=!0,this.clickThroughURLTemplate=a.videoClickThroughURLTemplate,this.clickTrackingURLTemplates=a.videoClickTrackingURLTemplates):(this.skipDelay=-1,this.linear=!1);this.on("start",function(){d.lastSuccessfullAd=+new Date})}n(c,a);c.prototype.setDuration=function(e){this.assetDuration=e;return this.quartiles={firstQuartile:Math.round(25*this.assetDuration)/
100,midpoint:Math.round(50*this.assetDuration)/100,thirdQuartile:Math.round(75*this.assetDuration)/100}};c.prototype.setProgress=function(e){var a,c,d,g;c=null===this.skipDelay?this.skipDelayDefault:this.skipDelay;-1===c||this.skipable||(c>e?this.emit("skip-countdown",c-e):(this.skipable=!0,this.emit("skip-countdown",0)));if(this.linear&&0<this.assetDuration){c=[];if(0<e)for(a in c.push("start"),d=Math.round(e/this.assetDuration*100),c.push("progress-"+d+"%"),g=this.quartiles,g)d=g[a],d<=e&&e<=d+
1&&c.push(a);d=0;for(g=c.length;d<g;d++)a=c[d],this.track(a,!0);e<this.progress&&this.track("rewind")}return this.progress=e};c.prototype.setMuted=function(a){this.muted!==a&&this.track(a?"mute":"unmute");return this.muted=a};c.prototype.setPaused=function(a){this.paused!==a&&this.track(a?"pause":"resume");return this.paused=a};c.prototype.setFullscreen=function(a){this.fullscreen!==a&&this.track(a?"fullscreen":"exitFullscreen");return this.fullscreen=a};c.prototype.setSkipDelay=function(a){if("number"===
typeof a)return this.skipDelay=a};c.prototype.load=function(){if(!this.impressed)return this.impressed=!0,this.trackURLs(this.ad.impressionURLTemplates),this.track("creativeView")};c.prototype.errorWithCode=function(a){return this.trackURLs(this.ad.errorURLTemplates,{ERRORCODE:a})};c.prototype.complete=function(){return this.track("complete")};c.prototype.stop=function(){return this.track(this.linear?"closeLinear":"close")};c.prototype.skip=function(){this.track("skip");return this.trackingEvents=
[]};c.prototype.click=function(){var a,c;null!=(c=this.clickTrackingURLTemplates)&&c.length&&this.trackURLs(this.clickTrackingURLTemplates);if(null!=this.clickThroughURLTemplate)return this.linear&&(a={CONTENTPLAYHEAD:this.progressFormated()}),a=k.resolveURLTemplates([this.clickThroughURLTemplate],a)[0],this.emit("clickthrough",a)};c.prototype.track=function(a,c){var d,g;null==c&&(c=!1);"closeLinear"===a&&null==this.trackingEvents[a]&&null!=this.trackingEvents.close&&(a="close");g=this.trackingEvents[a];
d=this.emitAlwaysEvents.indexOf(a);null!=g?(this.emit(a,""),this.trackURLs(g)):-1!==d&&this.emit(a,"");!0===c&&(delete this.trackingEvents[a],-1<d&&this.emitAlwaysEvents.splice(d,1))};c.prototype.trackURLs=function(a,c){null==c&&(c={});this.linear&&(c.CONTENTPLAYHEAD=this.progressFormated());return k.track(a,c)};c.prototype.progressFormated=function(){var a,c,d,g;d=parseInt(this.progress);a=d/3600;2>a.length&&(a="0"+a);c=d/60%60;2>c.length&&(c="0"+c);g=d%60;2>g.length&&(g="0"+c);d=parseInt(100*(this.progress-
d));return""+a+":"+c+":"+g+"."+d};return c}(a("events").EventEmitter);m.eexports=a},{"./client.coffee":2,"./creative.coffee":4,"./util.coffee":13,events:14}],10:[function(a,m,c){var d,g;g=a("./urlhandlers/xmlhttprequest.coffee");d=a("./urlhandlers/flash.coffee");c=function(){function c(){}c.get=function(c,k,m){m||("function"===typeof k&&(m=k),k={});return k.urlhandler&&k.urlhandler.supported()?k.urlhandler.get(c,k,m):"undefined"===typeof window||null===window?a("./urlhandlers/node.coffee").get(c,
k,m):g.supported()?g.get(c,k,m):d.supported()?d.get(c,k,m):m()};return c}();m.eexports=c},{"./urlhandlers/flash.coffee":11,"./urlhandlers/xmlhttprequest.coffee":12}],11:[function(a,m,c){a=function(){function a(){}a.xdr=function(){var a;window.XDomainRequest&&(a=new XDomainRequest);return a};a.supported=function(){return!!this.xdr()};a.get=function(a,c,d){var n,m;if(m="function"===typeof window.ActiveXObject?new window.ActiveXObject("Microsoft.XMLDOM"):void 0)m.async=!1;else return d();n=this.xdr();
n.open("GET",a);n.timeout=c.timeout||0;n.withCredentials=c.withCredentials||!1;n.send();return n.onload=function(){m.loadXML(n.responseText);return d(null,m)}};return a}();m.eexports=a},{}],12:[function(a,m,c){a=function(){function a(){}a.xhr=function(){var a;a=new window.XMLHttpRequest;if("withCredentials"in a)return a};a.supported=function(){return!!this.xhr()};a.get=function(a,c,d){var n;try{return n=this.xhr(),n.open("GET",a),n.timeout=c.timeout||0,n.withCredentials=c.withCredentials||!1,n.send(),
n.onreadystatechange=function(){if(4===n.readyState)return d(null,n.responseXML)}}catch(m){return d()}};return a}();m.eexports=a},{}],13:[function(a,m,c){a=function(){function a(){}a.track=function(a,c){var d,n,m,q,e,v;n=this.resolveURLTemplates(a,c);v=[];q=0;for(e=n.length;q<e;q++)d=n[q],"undefined"!==typeof window&&null!==window&&(m=new Image,v.push(m.src=d));return v};a.resolveURLTemplates=function(a,c){var d,n,m,q,e,v,C,u;n=[];null==c&&(c={});"CACHEBUSTING"in c||(c.CACHEBUSTING=Math.round(1E10*
Math.random()));c.random=c.CACHEBUSTING;C=0;for(u=a.length;C<u;C++)if(e=a[C]){for(m in c)v=c[m],d="["+m+"]",q="%%"+m+"%%",e=e.replace(d,v),e=e.replace(q,v);n.push(e)}return n};a.storage=function(){var a,c,d;try{d="undefined"!==typeof window&&null!==window?window.localStorage||window.sessionStorage:null}catch(n){d=null}c=function(a){try{if(a.setItem("__VASTUtil__","__VASTUtil__"),"__VASTUtil__"!==a.getItem("__VASTUtil__"))return!0}catch(c){return!0}return!1};if(null==d||c(d))a={},d={length:0,getItem:function(c){return a[c]},
setItem:function(c,d){a[c]=d;this.length=Object.keys(a).length},removeItem:function(c){delete a[c];this.length=Object.keys(a).length},clear:function(){a={};this.length=0}};return d}();return a}();m.eexports=a},{}],14:[function(a,m,c){function d(){this._events=this._events||{};this._maxListeners=this._maxListeners||void 0}function g(a){return"function"===typeof a}function k(a){return"object"===typeof a&&null!==a}m.eexports=d;d.EventEmitter=d;d.prototype._events=void 0;d.prototype._maxListeners=void 0;
d.defaultMaxListeners=10;d.prototype.setMaxListeners=function(a){if("number"!==typeof a||0>a||isNaN(a))throw TypeError("n must be a positive number");this._maxListeners=a;return this};d.prototype.emit=function(a){var c,d,m,e;this._events||(this._events={});if("error"===a&&(!this._events.error||k(this._events.error)&&!this._events.error.length)){c=arguments[1];if(c instanceof Error)throw c;throw TypeError('Uncaught, unspecified "error" event.');}d=this._events[a];if(void 0===d)return!1;if(g(d))switch(arguments.length){case 1:d.call(this);
break;case 2:d.call(this,arguments[1]);break;case 3:d.call(this,arguments[1],arguments[2]);break;default:c=arguments.length;m=Array(c-1);for(e=1;e<c;e++)m[e-1]=arguments[e];d.apply(this,m)}else if(k(d)){c=arguments.length;m=Array(c-1);for(e=1;e<c;e++)m[e-1]=arguments[e];d=d.slice();c=d.length;for(e=0;e<c;e++)d[e].apply(this,m)}return!0};d.prototype.addListener=function(a,c){var m;if(!g(c))throw TypeError("listener must be a function");this._events||(this._events={});this._events.newListener&&this.emit("newListener",
a,g(c.listener)?c.listener:c);this._events[a]?k(this._events[a])?this._events[a].push(c):this._events[a]=[this._events[a],c]:this._events[a]=c;k(this._events[a])&&!this._events[a].warned&&(m=void 0!==this._maxListeners?this._maxListeners:d.defaultMaxListeners)&&0<m&&this._events[a].length>m&&(this._events[a].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[a].length),"function"===
typeof console.trace&&console.trace());return this};d.prototype.on=d.prototype.addListener;d.prototype.once=function(a,c){function d(){this.removeListener(a,d);k||(k=!0,c.apply(this,arguments))}if(!g(c))throw TypeError("listener must be a function");var k=!1;d.listener=c;this.on(a,d);return this};d.prototype.removeListener=function(a,c){var d,m,e;if(!g(c))throw TypeError("listener must be a function");if(!this._events||!this._events[a])return this;d=this._events[a];e=d.length;m=-1;if(d===c||g(d.listener)&&
d.listener===c)delete this._events[a],this._events.removeListener&&this.emit("removeListener",a,c);else if(k(d)){for(;0<e--;)if(d[e]===c||d[e].listener&&d[e].listener===c){m=e;break}if(0>m)return this;1===d.length?(d.length=0,delete this._events[a]):d.splice(m,1);this._events.removeListener&&this.emit("removeListener",a,c)}return this};d.prototype.removeAllListeners=function(a){var c;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[a]&&
delete this._events[a],this;if(0===arguments.length){for(c in this._events)"removeListener"!==c&&this.removeAllListeners(c);this.removeAllListeners("removeListener");this._events={};return this}c=this._events[a];if(g(c))this.removeListener(a,c);else for(;c.length;)this.removeListener(a,c[c.length-1]);delete this._events[a];return this};d.prototype.listeners=function(a){return this._events&&this._events[a]?g(this._events[a])?[this._events[a]]:this._events[a].slice():[]};d.listenerCount=function(a,
c){return a._events&&a._events[c]?g(a._events[c])?1:a._events[c].length:0}},{}]},{},[5])(5)});
var CEDATO_VPAID_OBJ=function(h){function a(){this.type_="";this.obj={};this.flashEI="";this.eventsCallbacks_={};this.vpaidStatus="not_connected";this.globalCallbackName="";var a=this;this.playerID;this.globalCallbackName="cpcb"+Math.floor(1000001*Math.random());window[this.globalCallbackName]=function(c,d,g){if(this.eventsCallbacks_[c])g?setTimeout(function(){a.eventsCallbacks_[c].call(a,d)},0):a.eventsCallbacks_[c].call(a,d);else throw Exception("no callback "+c);}.bind(a)}a.prototype={callObj:function(a,
c){if("fl"==this.type_){try{var d=this.obj[this.flashEI](a,c)}catch(g){return null}return d}return this.obj.pEvent(a,c)},initObj:function(a,c,d,g){this.type_=c;"fl"==this.type_?(this.obj=a,g&&(this.flashEI=g)):window[a]&&(this.obj=window[a],this.vpaidStatus="connected",this.call("connect",{globalCallbackName:this.globalCallbackName,playersStorageName:d}))},getVpaidType:function(){return this.type_},call:function(a,c,d){if(d)setTimeout(this.callObj.bind(this),0,a,c);else return this.callObj(a,c)},
register:function(a,c,d){c=c.bind(d);this.eventsCallbacks_[a]=c}};h.getVpaid=function(){return new a};return h}(CEDATO_VPAID_OBJ||{}),CEDATO_EVENT_LOGGER=function(h){function a(a,c,d){for(var g=0,h=a.length;g<h;g++)if("undefined"!=typeof c[a[g]])switch(a[g]){case "flashSupport":d[a[g]]=c[a[g]]?"1":"0";break;default:d[a[g]]=c[a[g]]}}function m(a){var c={},g;for(g in a)a.hasOwnProperty(g)&&"undefined"!==typeof d[g]&&(c[d[g]]=a[g]);return c}h.E_REQUEST="/vpx/request";h.E_LOADED="/vpx/loaded";h.E_MIDS=
"/vpx/mids";h.E_END="/vpx/end";h.E_ADSTART="/vpx/start";h.E_VAST_ERROR="/vpx/error";h.E_START="/ppx/start";h.E_VPWS="/ppx/vpws";h.E_ADPLAYED="/ppx/adplayed";h.E_SCHEDULED="/ppx/scheduled";h.E_PLAYER_ERROR="/ppx/error";h.E_SUBMIT_DEBUG_LOG="sdl";var c={},d={subid:"sid",domain:"domain",sessionId:"se",playerVersion:"pv",timeFromStart:"s",flashSupport:"f",detect:"sa",vastId:"v",playerId:"p",memUsed:"m",time:"t",time2:"t2",duration:"d",gpvTime:"gt",fpwReadyTime:"ft",domReadyTime:"dt",gpvM:"gm",roundNo:"r",
totalMemS:"tm",vastType:"y",state:"st",gpvAttempt:"ga",errorCode:"en",errorMessage:"em",mediaURL:"mu",logStartRequest:"ls",logLoadRequest:"lr"},g="subid domain sessionId playerVersion timeFromStart flashSupport detect".split(" ");h.log=function(d,h,m,y){try{var q=!0;h=h||{};m=m||{};y=y||function(){};var e=[],v;for(v in m)e.push([v,String(m[v])].join("="));y(h,"tlv_logEvent: "+d+"?"+e.join("&"),!1);var C=((new Date).getTime()-h.startTime)/1E3,C=C.toFixed(1),u={name:d.substring(d.lastIndexOf("/")+1),
common:{},extra:{}};a(g,h,u.common);u.common.timeFromStart=C;switch(d){case CEDATO_EVENT_LOGGER.E_REQUEST:a(["playerId","vastId"],m,u.extra);break;case CEDATO_EVENT_LOGGER.E_LOADED:a(["playerId","vastId","memUsed","time"],m,u.extra);break;case CEDATO_EVENT_LOGGER.E_MIDS:a(["playerId","vastId","duration"],m,u.extra);break;case CEDATO_EVENT_LOGGER.E_END:a(["playerId","vastId"],m,u.extra);u.extra.duration=(m.duration/4).toFixed(2);q=!0;break;case CEDATO_EVENT_LOGGER.E_ADSTART:a("playerId vastId time roundNo memUsed totalMemS vastType".split(" "),
m,u.extra);q=!0;break;case CEDATO_EVENT_LOGGER.E_VAST_ERROR:a("playerId vastId errorCode errorMessage mediaURL logStartRequest logLoadRequest time".split(" "),m,u.extra);q=!0;break;case CEDATO_EVENT_LOGGER.E_START:a(["playerId"],h,u.extra);q=!0;break;case CEDATO_EVENT_LOGGER.E_SCHEDULED:a("playerId fpwReadyTime gpvTime domReadyTime gpvM gpvAttempt".split(" "),h,u.extra);var H=((new Date).getTime()-h.startTime)/1E3;u.extra.time=H.toFixed(1);q=!0;break;case CEDATO_EVENT_LOGGER.E_ADPLAYED:a(["playerId"],
h,u.extra);H=((new Date).getTime()-h.startTime)/1E3;u.extra.time=H.toFixed(1);q=!0;break;case CEDATO_EVENT_LOGGER.E_VPWS:a(["playerId"],h,u.extra);a(["time","state","time2"],m,u.extra);q=!0;break;case CEDATO_EVENT_LOGGER.E_PLAYER_ERROR:a(["playerId"],h,u.extra),a(["errorCode","errorMessage"],m,u.extra),q=!0}var F=d.substring(0,d.lastIndexOf("/"));v=[h.protocol||"","//",h.machineId,F].join("");"undefined"==typeof c[v]&&(c[v]={flushTimerId:null,events:[]});0==c[v].events.length&&(c[v].flushTimerId=
function(a){return setTimeout(function(){CEDATO_EVENT_LOGGER.flushEvents(a)},1E4)}(v));c[v].events.push(u);q&&CEDATO_EVENT_LOGGER.flushEvents(v)}catch(E){}};window.URLS=[];h.flushEvents=function(a){if(a){var d=c[a].events;if(d.length)if(1==d.length)try{var g=d[0],h=[a,"/",g.name,"?"].join(""),q=CEDATO_UTILS.extend(g.common,g.extra),e=m(q);e.cb=(new Date).getTime();var v=CEDATO_URLUTILS.buildUrl(h,e);CEDATO_HTTP.sendPixel(v,null)}catch(Z){}else try{for(var C=[a,"/multiple-events?"].join(""),h={},u=
[],q=[],e=0,H=d.length;e<H;e++){var F={},g=d[e];if(0==e)h=g.common;else for(var E in g.common)g.common[E]!=h[E]&&(F[E]=g.common[E]);for(E in g.extra)F[E]=g.extra[E];u.push(g.name);q.push(m(F))}for(var B=u.join(","),g=[],e=0,H=q.length;e<H;e++){var w=q[e];E=[];for(var p in w)E.push([p,w[p]].join(":"));g.push(E.join(","))}var I=g.join("|"),v=CEDATO_URLUTILS.buildUrl(C,CEDATO_UTILS.extend({cb:(new Date).getTime(),events:B,data:I},m(h)));CEDATO_HTTP.sendPixel(v,null)}catch(Z){}c[a].events=[];clearTimeout(c[a].flushTimerId)}else for(d in c)CEDATO_EVENT_LOGGER.flushEvents(d)};
return h}(CEDATO_EVENT_LOGGER||{}),CEDATO_API=function(h){function a(){var a=this,d={ready:[],click:[],adstart:[],adcomplete:[],adpause:[],adplay:[],_play:[],_pause:[],_sound:[],_resize:[],_overrideinit:[]};a._ready=!1;a.on=function(g,h){var l=g.toLowerCase();d[l]&&d[l].push(h);"ready"===l&&a._ready&&setTimeout(function(){a.trigger("ready")},0);return a};a.off=function(g,h){var l=g.toLowerCase();if(d[l])if("function"===typeof h){var m=d[l].indexOf(h);0<=m&&d[l].splice(m,1)}else d[l]=[];return a};
a.trigger=function(g,h){var l=g.toLowerCase();if(d[l]){for(var m=d[l].slice(),y=0,q=m.length;y<q;y++)if(-1<d[l].indexOf(m[y])){var e={};e.name=l;e.player=a;e.data="undefined"===typeof h?{}:h;m[y](e)}"ready"===l&&a.off("ready")}return a};a.play=function(){a.trigger("_play")};a.pause=function(){a.trigger("_pause")};a.overrideInitParams=function(d){a.trigger("_overrideInit",d)};a.sound=function(d){switch(typeof d){case "boolean":case "number":a.trigger("_sound",d);break;case "string":"on"!==d&&"off"!==
d||a.trigger("_sound","on"===d)}};a.resize=function(d,h){var l=+d,m=+h;0<=l&&0<=m&&a.trigger("_resize",{width:l,height:m})}}if("undefined"===typeof h.getPlayer){var m={};h.registerPlayer=function(c){"undefined"===typeof m[c]?(m[c]=new a,m[c]._ready=!0):(m[c]._ready=!0,setTimeout(function(){m[c].trigger("ready")},0));return m[c]};h.getPlayer=function(c){"undefined"===typeof m[c]&&(m[c]=new a);return m[c]}}return h}(CEDATO_API||{});
(function(h,a){function m(b,f,a){b.addEventListener?b.addEventListener(f,a,!1):b.attachEvent?b.attachEvent("on"+f,a):b[f]=a}function c(b,f,a,e){return f.protocol+"//"+("c"==e?"cdn1-m"+f.networkId+".algovid.tv":f.conf.mUrl)+"/vpr/"+encodeURIComponent(encodeURIComponent(b))+"/a.jsv"}function d(b,f){f||(f=a);var z=null;b.usejsv?(z=CEDATO_JSV.createVideoElement(),z.setAttribute("preload","auto")):b.hasVideoSupport&&(z=f.createElement("video"));return z}function g(b,f){var a,e;a=f?{}:[];try{var c=b.slice(b.indexOf("?")+
1).split("&"),d;for(d=0;d<c.length;d++){e=c[d].split("=");f||a.push(e[0]);var g=e[1];f&&(g=decodeURIComponent(g));a[e[0]]||(a[e[0]]=g)}}catch(h){a={}}return a}function k(b,f){var a=f.split("//");return 1<a.length?(a[0]=b,a.join("//")):!1}function l(b,f,a){if("undefined"===typeof a||0>a)a="";var c=((new Date).getTime()-f.loadAdTime)/1E3,c=c.toFixed(1);CEDATO_EVENT_LOGGER.log(CEDATO_EVENT_LOGGER.E_LOADED,b,{playerId:f.playerId,vastId:f.vastId,time:c,memUsed:a},e)}function n(b){if(""!=b.debugLog){b.bSubmitted+=
b.debugLog.length;if(5E5<b.bSubmitted||18E4<(new Date).getTime()-b.startTime)b.debugLog="last packet",b.keepDebugLog=!1;b.debugLogLastSubmitted=+(new Date).getTime();var f=b.debugLog;b.debugLog="";var a=(new Date).getTime();b=b.protocol+"//"+b.machineId+"/sdl?se="+encodeURIComponent(b.sessionId)+"&sid="+encodeURIComponent(b.subid)+"&domain="+encodeURIComponent(b.domain)+"&cb="+a+"&p="+b.playerId+"&pv="+b.playerVersion+"&r="+encodeURIComponent(b.debugLogReason);CEDATO_HTTP.sendPixel(b,f)}}function y(b){if(1E5>
b.debugLogBuffer.length)b.debugLog=b.debugLogBuffer;else{b.debugLog=b.debugLogBuffer.substr(b.debugLogBuffer.length-1E5);var f=b.debugLog.indexOf("\n");b.debugLog=-1===f?"":b.debugLog.substr(f+1)}b.debugLogBuffer=""}function q(b,f,a,e,c){b.debugLog="";b.debugLogBuffer="";b.debugLogLastSubmitted=(new Date).getTime();b.logDebugToConsole=f;b.keepDebugLog=a;b.keepDetailedDebugLog=e;b.logToHTML=c;b.debugLogBuffer="";b.bSubmitted=0;b.debugLogSubmittedDueToException=!1;c&&(f=h.document.createElement("div"),
a=h.document.createElement("pre"),f.style.cssText="border: 1px solid; height: 300px; width: 1200px; resize: both; overflow: auto;",f.appendChild(a),h.document.body.appendChild(f),b.debugDocElement=a)}function e(b,f,a){if(!a||b.keepDetailedDebugLog)if(b.logDebugToConsole&&h.console&&h.console.log((new Date).getTime()+"\t"+f),b.logToHTML&&(b.debugDocElement.innerHTML+=f+"<br>"),f=h.JSON&&h.JSON.stringify?JSON.stringify(f):'"'+f+'"',f=(new Date).getTime()+"\t"+f+"\n",a=f.length,1E5<a&&(f=(new Date).getTime()+
"\ttruncated line\n",a=f.length),b.keepDebugLog){var e=b.debugLog.length;0<e&&1E5<e+a&&n(b);b.debugLog+=f;(3E3<(new Date).getTime()-b.debugLogLastSubmitted||1E5<b.debugLog.length)&&n(b)}else b.debugLogBuffer&&1E7<b.debugLogBuffer.length||(b.debugLogBuffer+=f)}function v(b,f){try{var z=a.createElement("script"),c=a.getElementsByTagName("head")[0]||a.documentElement;z.setAttribute("type","text/javascript");var d=b,d=k(f.protocol,d),g=(new Date).getTime(),d=d.replace(/\[CB\]/g,g),d=d.replace(/\[DIVID\]/g,
f.divId),g="";f.callingFlashObject&&f.callingFlashObject.id&&(g=f.callingFlashObject.id);d=d.replace(/\[FLASHID\]/g,g);z.src=d;e(f,"gpv requested script: "+d,!1);c.appendChild(z)}catch(h){}}function C(){var b=a.createElement("iframe");b.src="about:blank";b.width="100%";b.height="100%";b.id="vjs"+Math.floor(5E3*Math.random());b.setAttribute("frameBorder","0");b.setAttribute("scrolling","no");b.style.position="absolute";b.style.left="0px";b.style.top="0px";b.style.overflow="hidden";return b}function u(b,
f,z){b=a.createElement("div");b.style.zIndex="0";b.style.width="100%";b.style.height="100%";b.style.position="absolute";b.style.top="0px";b.style.left="0px";b.style.margin="0";b.style.padding="0";b.id="vpaidContainerDiv_"+z+"_"+Math.floor(5E3*Math.random());return b}function H(b,f,a,c){var d=u(a.width,a.height,c.vastId);c.jsVPAIDElementDiv=d;a.divElem.appendChild(d);var g=C();c.jsVpaidFrame=g;var ba=!1,k=!1,l=c.vastId+"_"+c.uniqId,m=function(d){if(d.origin===h.location.origin&&JSON.parse(d.data).id===
l){d=g.contentWindow&&g.contentWindow.document;if(!d)return!1;h.removeEventListener("message",m);d.body.style.margin="0";d.body.style.padding="0";var R;a.usejsv&&a.mainAutoplay?(R=d.createElement("script"),R.setAttribute("type","text/javascript"),R.src=a.protocol+"//"+a.conf.pJsvUrl,R.addEventListener("load",function(){(ba=!0,k)&&f(a,c)},!1),d.body.appendChild(R)):ba=!0;R=d.createElement("script");R.setAttribute("type","text/javascript");R.src=b;R.attachEvent&&R.attachEvent("onreadystatechange",function(){"complete"!=
R.readyState&&"loaded"!=R.readyState||f(a,c)});R.addEventListener&&R.addEventListener("load",function(){k=!0;ba&&k&&f(a,c)},!1);var n=d.createElement("div");n.id="vpaid-js-ad-elem";n.style.margin="0";n.style.padding="0";n.style.width="100%";n.style.height="100%";n.style.position="absolute";n.style.left="0";n.style.top="0";c.vpaidJsIframeAdElem=n;d.body.appendChild(n);d.body.appendChild(R);c.companionHTML&&(c.companionsElementDiv=null,c.companionsElementDiv=d.createElement("div"),c.companionsElementDiv.setAttribute("style",
"width:100%;height:100%;position:relative;top:-"+a.height+"px; z-index: 0; "),n.appendChild(c.companionsElementDiv),c.companionsElementDiv&&(e(a,"vastId "+c.vastId+" - companionHTML: "+c.companionHTML,!1),c.companionsElementDiv.innerHTML=c.companionHTML))}};d.appendChild(g);d=g.contentWindow&&g.contentWindow.document;if(!d)return!1;h.addEventListener("message",m);e(a,"vastId writing iframe content",!1);d.write('<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="UTF-8">\n</head>\n<body><script>parent.postMessage(\'{"event": "ready", "id": "'+
l+"\"}', window.location.origin);\n\x3c/script>\n</body>\n</html>\n")}function F(b,f){try{e(b,"vastId "+f.vastId+" - playPlayer",!1);e(b,"playPlayer: hiding all vasts but "+f.vastId,!0);for(var a=0,c=b.plist.length;a<c;a++)if(b.plist[a].vastId!=f.vastId||b.plist[a].uniqId!=f.uniqId)b.parallelStartAd&&5==b.plist[a].tlvState||qa(b,b.plist[a]);if("flvpaid"==f.adType||"jsvpaid"==f.adType)f.durationKnown?e(b,"vastId "+f.vastId+" - playPlayer: has already known duration of: "+f.duration,!1):(f.duration=
60,e(b,"vastId "+f.vastId+" - playPlayer: no known duration, setting to 60",!1));else if("video"==f.adType&&!f.durationKnown){f.durationKnown=!0;try{f.duration=f.videoElement.duration}catch(d){}e(b,"vastId "+f.vastId+" - playPlayer: duration taken from video element: "+f.duration,!1)}f.vtClickThroughFunc=function(b,f){try{var a,z;this.playerData&&this.playerData.playersStorageName&&(f=this.playerData);a=h[f.playersStorageName];z=f.vastId;e(a,"vastId "+z+" - tracker onClickthrough",!1);b&&h.open(b,
"_blank");a.apiInterface.trigger("click",{url:b,vastId:f.vastId})}catch(c){r(a,z,3,"tracker onClickthrough gave JS exception: ",c,f)}};f.vtFirstQuartileFunc=function(b){try{var f,a;this.playerData&&this.playerData.playersStorageName&&(b=this.playerData);f=h[b.playersStorageName];a=b.vastId;e(f,"vastId "+a+" - tracker on-firstQuartile",!1);var z;try{z=b.vastTracker.duration/4}catch(c){z=b.duration/4}z=z.toFixed(2);CEDATO_EVENT_LOGGER.log(CEDATO_EVENT_LOGGER.E_MIDS,f,{playerId:b.playerId,vastId:a,duration:z},
e)}catch(c){r(f,a,3,"tracker on firstQuartile gave JS exception: ",c,b)}};f.vtAdVideoStartFunc=function(b){try{var f,a;this.playerData&&this.playerData.playersStorageName&&(b=this.playerData);f=h[b.playersStorageName];a=b.vastId;e(f,"vastId "+a+" - tracker on-AdVideoStart",!1);var z;try{z=b.vastTracker.duration/4}catch(c){z=b.duration/4}z=z.toFixed(2);CEDATO_EVENT_LOGGER.log(CEDATO_EVENT_LOGGER.E_MIDS,f,{playerId:b.playerId,vastId:a,duration:z},e)}catch(c){r(f,a,3,"tracker on AdVideoStart gave JS exception: ",
c,b)}};f.vtMidPointFunc=function(b){try{var f,a;this.playerData&&this.playerData.playersStorageName&&(b=this.playerData);f=h[b.playersStorageName];a=b.vastId;e(f,"vastId "+a+" - tracker on-midpoint",!1);var z=b.duration/4,z=z.toFixed(2);CEDATO_EVENT_LOGGER.log(CEDATO_EVENT_LOGGER.E_MIDS,f,{playerId:b.playerId,vastId:a,duration:z},e)}catch(c){r(f,a,3,"tracker onmidpoint gave JS exception: ",c,b)}};f.vtThirdQuartileFunc=function(b){try{var f,a;this.playerData&&this.playerData.playersStorageName&&(b=
this.playerData);f=h[b.playersStorageName];a=b.vastId;e(f,"vastId "+a+" - tracker on-thirdQuartile",!1);var z=b.duration/4,z=z.toFixed(2);CEDATO_EVENT_LOGGER.log(CEDATO_EVENT_LOGGER.E_MIDS,f,{playerId:b.playerId,vastId:a,duration:z},e)}catch(c){r(f,a,3,"tracker onthirdQuartile gave JS exception: ",c,b)}};f.vtCompleteFunc=function(b){try{var f,a;this.playerData&&this.playerData.playersStorageName&&(b=this.playerData);f=h[b.playersStorageName];a=b.vastId;e(f,"vastId "+a+" - tracker on-complete",!1);
f.anyPlaying=aa(f,a);f.anyPlaying||ca(f);CEDATO_EVENT_LOGGER.log(CEDATO_EVENT_LOGGER.E_END,f,b,e);f.apiInterface.trigger("adcomplete",{vastId:a});null!=b.startAdSwitcher&&(clearTimeout(b.startAdSwitcher),b.startAdSwitcher=null)}catch(z){r(f,a,3,"tracker on complete gave JS exception: ",z,b)}};f.vtErrorFunc=function(b){try{var f=h[this.playerData.playersStorageName];e(f,"vast tracker on error vastId"+b.vastId,!1)}catch(a){r(f,b.vastId,3,"tracker onerror gave JS exception: ",a,b)}};f.skipVastTracker?
e(b,"vastId "+f.vastId+" - playPlayer: no need for our vastTracker",!1):(e(b,"vastId "+f.vastId+" - playPlayer: initializing vastTracker",!1),null==f.creative.trackingEvents?(f.creative.trackingEvents=[],e(b,"added trackingEvents",!1)):e(b,"had trackingEvents",!1),f.vastTracker=new b.DMVAST.tracker(f.ad,f.creative),f.vastTracker.playerData=f,e(b,"vastId "+f.vastId+" - playPlayer: vastTracker set",!1),!f.durationKnown&&f.vastTracker.duration&&0<f.vastTracker.duration&&(f.duration=f.vastTracker.duration,
e(b,"vastId "+f.vastId+" - playPlayer: duration from tracker: "+f.duration,!1)),f.vastTracker.playerId=b.playerId,f.vastTracker.subid=b.subid,f.vastTracker.domain=b.domain,f.vastTracker.vastId=f.vastId,f.vastTracker.duration=f.duration,f.vastTracker.setDuration(f.duration),e(b,"vastId "+f.vastId+" - playPlayer: creating events",!1),f.vastTracker.on("clickthrough",f.vtClickThroughFunc),f.vastTracker.on("firstQuartile",f.vtFirstQuartileFunc),f.vastTracker.on("midpoint",f.vtMidPointFunc),f.vastTracker.on("thirdQuartile",
f.vtThirdQuartileFunc),f.vastTracker.on("complete",f.vtCompleteFunc),f.vastTracker.on("error",f.vtErrorFunc),e(b,"vastId "+f.vastId+" - playPlayer: events ready",!1));b.scheduledPixelSent||(e(b,"vastId "+f.vastId+" - playPlayer: first play - logging scheduled pixel",!1),b.scheduledPixelSent=!0,CEDATO_EVENT_LOGGER.log(CEDATO_EVENT_LOGGER.E_SCHEDULED,b,{},e));e(b,"vastId "+f.vastId+" - playPlayer: playing media",!1);b.parallelStartAd||CEDATO_EVENT_LOGGER.log(CEDATO_EVENT_LOGGER.E_REQUEST,b,f,e);f.adImpressionCount=
0;f.gotLastAdImpressionOn=null;f.adStartCount=0;f.startAdTime=(new Date).getTime();if("flvpaid"==f.adType||"jsvpaid"==f.adType){b.singleVPW?b.callingFlashObject&&"flvpaid"==f.adType?b.divElem.style.display="none":"jsvpaid"==f.adType&&b.callingFlashObject&&(b.rootDivElem.style.top="0px",b.divElem.style.top="0px",f.flashElement&&E(b,f)):("flvpaid"==f.adType&&(f.flashElementDiv.style.zIndex="9999",f.flashElementDiv.style.position="relative",f.flashElementDiv.style.left="0px",f.flashElementDiv.style.top=
"0px"),"jsvpaid"==f.adType&&f.flashElementDiv&&(f.flashElementDiv.style.display="none"),b.rootDivElem.style.top="0px");var g,ja;try{if(f.vpaidPlaying=1,f.tlvState=5,e(b,"vastId "+f.vastId+" - startAd called, uniqId: "+f.uniqId,!1),"flvpaid"==f.adType&&(ja="vpw disappeared",g=f.flashElement[f.flashEICallbacks]("vpwStartAd",f.uniqId)),"jsvpaid"==f.adType&&(ja="external js exception",g=f.jsVPAIDElement.startAd(),"undefined"===typeof g||g))g="1"}catch(d){r(b,f.vastId,5,"startAd failed - "+ja+": "+d.message,
!1,f);f.vpaidPlaying=0;f.tlvState=10;f.errorCount+=100;G(f,0);"vpaid"==f.adType&&V(b,f,"startAd");return}if("1"==g)f.sureFastStart=f.expectedSureFastStart;else{f.vpaidPlaying=0;var ba=b.parallelStartAd,a="no reason given";try{"flvpaid"==f.adType&&(a=f.flashElement[f.flashEICallbacks]("getLastError",f.uniqId)),"jsvpaid"==f.adType&&(a="external js expcetion")}catch(d){a="getLastError gave exception: "+d.message}r(b,f.vastId,5,"startAd failed - "+a,!1,f,ba);f.tlvState=10;f.errorCount+=100;"flvpaid"==
f.adType&&K(b,f,!0);G(f,0);return}if(b.parallelStartAd&&(null!=f.startAdHalfStopper&&(clearTimeout(f.startAdHalfStopper),f.startAdHalfStopper=null),5==f.tlvState)){var k=function(b,f){f.startAdHalfStopper=null;e(b,"vastId "+f.vastId+" - half stopper point, starting more if ready",!1);p(b,"any")};f.startAdHalfStopper=CEDATO_BROWSER.oldIE?setTimeout(function(){k(b,f)},7E3):setTimeout(k,7E3,b,f)}null!=f.startAdStopper&&(clearTimeout(f.startAdStopper),f.startAdStopper=null);if(5==f.tlvState){ba=2E4;f.longStartAd&&
(ba=35E3);var l=function(b,f){if("flvpaid"==f.adType)try{f.flashElement[f.flashEICallbacks]("vpwStopAd",f.uniqId)}catch(a){}else if("jsvpaid"==f.adType)try{f.jsVPAIDElement.stopAd()}catch(a){}else if("video"==f.adType)try{f.videoElement.pause()}catch(a){}f.startAdStopper=null;f.vpaidPlaying=0;r(b,f.vastId,60,"gave up on startAd",!1,f,b.parallelStartAd);f.tlvState=10;f.errorCount+=100;"flvpaid"==f.adType&&K(b,f,!0);G(f,0);w(b)};f.startAdStopper=CEDATO_BROWSER.oldIE?setTimeout(function(){l(b,f)},ba):
setTimeout(l,ba,b,f)}}else"video"==f.adType&&(f.videoElement.style.display="block",f.videoElement.style.zIndex="9999",f.tlvState=5,f.sureFastStart=!0,f.videoElement.play(),b.callingFlashObject&&(b.rootDivElem.style.top="0px",b.divElem.style.top="0px",f.flashElement&&E(b,f)));e(b,"vastId "+f.vastId+" - playPlayer: done",!1)}catch(d){r(b,f.vastId,3,"playPlayer issue: ",d,f)}}function E(b,f){f.flashPrevStyle={position:f.flashElement.style.position,top:f.flashElement.style.top,left:f.flashElement.style.left};
f.flashElement.style.position="absolute";f.flashElement.style.top="-1000px";f.flashElement.style.left="-1000px"}function B(b,f){b.callingFlashObject&&f.flashPrevStyle&&(f.flashElement.style.position=f.flashPrevStyle.position,f.flashElement.style.top=f.flashPrevStyle.top,f.flashElement.style.left=f.flashPrevStyle.left,b.divElem.style.display="none")}function w(b,f){"undefined"===typeof f&&(f=!1);if(!b.autoplay&&!f)return e(b,"manual mode - not trying to auto play",!1),!1;var a="any";b.readyForStartAd||
(a="1");return p(b,a)}function p(b,f){e(b,"playNextVast called, group: "+f,!1);if(b.anyPlaying)return e(b,"still playing previous media",!1),!1;if(b.parallelStartAd){for(var a=!1,c=0,d=b.plist.length;c<d;c++){var g=b.plist[c];if(5==g.tlvState&&g.sureFastStart){if(3>((new Date).getTime()-g.startAdTime)/1E3)return e(b,"vastId "+g.vastId+" - is sure fast starter and is trying to start - quiting",!1),!1;e(b,"vastId "+g.vastId+" - is sure fast starter and is trying to start but passed grace time",!1)}}c=
0;for(d=b.plist.length;c<d;c++)if(g=b.plist[c],e(b,"vastId "+g.vastId+" tlvState is: "+g.tlvState,!0),4==g.tlvState)if("any"==f||g.group==f){e(b,"vastId "+g.vastId+" tlvState is ready to play",!1);a=!0;F(b,g);if(b.anyPlaying)return!0;if(g.sureFastStart)return e(b,"vastId "+g.vastId+" - sure fast start - breaking",!1),!0}else e(b,"vastId "+g.vastId+" - is ready but on different group",!1);return a}a=!1;c=0;for(d=b.plist.length;c<d;c++)g=b.plist[c],e(b,"vastId "+g.vastId+" tlvState is: "+g.tlvState,
!0),4==g.tlvState&&(a?g.errorCount<a.errorCount&&(a=g):a=g);if(a)return e(b,"vastId "+a.vastId+" tlvState is ready to play",!1),b.anyPlaying=!0,"vpaid"==b.mode&&(b.autoplay=!1),F(b,a),!0;e(b,"no vast is ready to play",!0);return!1}function I(b,f){e(b,"freezing players",!1);b.frozen=!0;Na(b,f);if(f)e(b,"leaving players objects for now",!1);else if(e(b,"removing players objects",!1),null!=b.initialStartAd&&(clearTimeout(b.initialStartAd),b.initialStartAd=null),null!=b.domLoadTimeout&&(clearTimeout(b.domLoadTimeout),
b.domLoadTimeout=null),null!=b.reportVPWStateInterval&&(clearInterval(b.reportVPWStateInterval),b.reportVPWStateInterval=null),b.callingFlashObject)try{b.callingFlashObjectParent.removeChild(b.companionsRootDivElem),b.callingFlashObjectParent.removeChild(b.rootDivElem)}catch(a){e(b,"removing root divs gave exception: "+a.message,!1)}}function Z(b,f,a,c){var d=A(b,f);if(d){var g=d.vastId;e(b,"vastId "+g+" - adImpression called for uniqId: "+f,!1);if("undefined"===typeof c||0>c)c="";b.singleVPW||("jsvpaid"==
d.adType?(d.jsVPAIDElementDiv.style.zIndex="10000",d.vpaidJsIframeAdElem&&(d.vpaidJsIframeAdElem.style.zIndex="10000"),d.vpaidJsIframeVideo&&(d.vpaidJsIframeVideo.style.margin="0",d.vpaidJsIframeVideo.padding="0",d.vpaidJsIframeVideo.top="0px",d.vpaidJsIframeVideo.style.left="0px",d.vpaidJsIframeVideo.style.position="absolute")):"flvpaid"==d.adType?(d.flashElementDiv.style.zIndex="10000",d.flashElementDiv.style.left="0px"):"video"==d.adType&&(d.videoElement.style.zIndex="10000"));b.contentUrlPlayer&&
b.contentUrlPlayer.hideContent();if(!b.anyAdPlayed){b.anyAdPlayed=!0;var h=((new Date).getTime()-b.startTime)/1E3,h=h.toFixed(1);CEDATO_EVENT_LOGGER.log(CEDATO_EVENT_LOGGER.E_ADPLAYED,b,{},e);0>h&&(b.debugLogReason="negative adplayed",y(b),n(b))}if(null!=d.gotLastAdImpressionOn&&3E3>(new Date).getTime()-d.gotLastAdImpressionOn)return e(b,"vastId "+g+" - second ad impression too soon - ignoring",!1),!0;b.submitDebugLogOnVastDisplayed!=d.vastId||d.keepDebugLog||(y(b),n(b),b.keepDebugLog=!0);if(d.skipVastTracker||
null!=d.vastTracker){if(b.parallelStartAd&&b.anyPlaying&&6!=d.tlvState&&7!=d.tlvState){r(b,g,64,"stopped due to parallel double started",!1,d);if("flvpaid"==d.adType)try{d.flashElement[d.flashEICallbacks]("vpwStopAd",d.uniqId)}catch(k){e(b,"parallel dbl-started stopAd of flash vpaid "+d.vastId+" gave exception: "+k.message,!1)}else if("jsvpaid"==d.adType)try{d.jsVPAIDElement.stopAd()}catch(k){e(b,"parallel stopAd of js vpaid "+d.vastId+" gave exception: "+k.message,!1)}else"video"==d.adType&&d.videoElement.pause();
d.tlvState=10;b.frozen||("flvpaid"==d.adType&&K(b,d,!0),G(d,0));return!1}d.tlvState=6;d.gotLastAdImpressionOn=(new Date).getTime();if(b.parallelStartAd){b.anyPlaying=!0;"vpaid"==b.mode&&(b.autoplay=!1);e(b,"parallel startAd mode - stopping any other opened startAd",!1);CEDATO_EVENT_LOGGER.log(CEDATO_EVENT_LOGGER.E_REQUEST,b,d,e);for(var l=0,m=b.plist.length;l<m;l++){var D=b.plist[l];if(D.vastId!=g&&5==D.tlvState){e(b,"vastId "+D.vastId+" - parallel startAd mode - stopping - vastId "+g+" started playing",
!1);r(b,D.vastId,63,"stopped due to parallel started",!1,D);D.tlvState=10;if("flvpaid"==D.adType)try{D.flashElement[D.flashEICallbacks]("vpwStopAd",D.uniqId)}catch(k){e(b,"parallel stopAd of flash vpaid "+D.vastId+" gave exception: "+k.message,!1)}else if("jsvpaid"==D.adType)try{D.jsVPAIDElement.stopAd()}catch(k){e(b,"parallel stopAd of js vpaid "+D.vastId+" gave exception: "+k.message,!1)}else"video"==D.adType&&D.videoElement.pause();qa(b,D);"flvpaid"==D.adType&&K(b,D,!0);G(D,0)}}e(b,"parallel startAd mode - stopping any other opened startAd - done",
!1)}var h=0,p=f="";try{l=0;for(m=b.plist.length;l<m;l++)if(D=b.plist[l],"flvpaid"==D.adType&&D.flashElement&&D.flashEICallbacks)try{var q=D.flashElement[D.flashEICallbacks]("getMem");if(isNaN(q))p=p+D.vastId+" - NaN, ";else{h+=parseFloat(q);p=p+D.vastId+" - "+q+", ";break}}catch(k){p=p+D.vastId+" - exception: "+k.message+", "}else p="flvpaid"!=D.adType?p+D.vastId+" - not flash, ":D.flashElement?D.flashEICallbacks?p+D.vastId+" - unknown reason, ":p+D.vastId+" - no callbacks, ":p+D.vastId+" - no flash element, ";
f=h}catch(k){p="exception: "+k.message}e(b,"memory check: "+p,!1);h=((new Date).getTime()-d.startAdTime)/1E3;h=h.toFixed(1);l=0;"flvpaid"==d.adType&&(l=d.isIMA?2:1);"jsvpaid"==d.adType&&(l=d.isIMA?4:3);d.hasFlashVPAID&&d.hasJSVPAID&&(l=5);CEDATO_EVENT_LOGGER.log(CEDATO_EVENT_LOGGER.E_ADSTART,b,{playerId:d.playerId,vastId:g,time:h,roundNo:d.roundNo,memUsed:c,totalMemS:f,vastType:l},e);b.apiInterface.trigger("adstart",{vastId:g});d.adImpressionCount++;1<d.adImpressionCount?(r(b,d.vastId,61,"double impression: "+
d.adImpressionCount,!1,d),CEDATO_EVENT_LOGGER.log(CEDATO_EVENT_LOGGER.E_REQUEST,b,d,e)):d.skipVastTracker||d.vastTracker.load();if("vpaid"==b.mode)return e(b,"vastId "+g+" - has calling VPAID object - calling events",!1),a&&b.vpaidObj.call("jsAdStarted",{},!0),b.vpaidObj.call("jsAdImpression",{},!0),I(b,d.vastId),!0;b.curAdStarts++;if(b.maxAdStarts&&b.curAdStarts>=b.maxAdStarts)return e(b,"vastId "+g+" - reached maximum number of allowed ad starts, freezing",!1),I(b,d.vastId),!0;null!=d.sameVastIdLoader&&
(clearTimeout(d.sameVastIdLoader),d.sameVastIdLoader=null);if(!b.frozen){var v=function(b,f){try{f.sameVastIdLoader=null;e(b,"vastId "+f.vastId+" - same vastId loader",!1);e(b,"vastId "+f.vastId+" - duplicating player data",!1);var a=[];a.id=f.vastId;a.url=f.vastURL;a.group=f.group;a.lsa=f.longStartAd;a.pid=f.playerId;a.mvr=f.maxFailedVastRetries;a.vt=f.vastPreferType;a.ct=f.corsType;for(var c=!1,z=0,d=b.plist.length;z<d;z++)if(b.plist[z].vastId==f.vastId){c=z;break}var g=Oa(b,a,c);g.duplicatedNow=
!0;b.domReady&&b.vpwCached&&Pa(b,g);Ba(g)}catch(O){r(b,f.vastId,3,"svi gave JS exception: ",O,f)}};d.sameVastIdLoader=CEDATO_BROWSER.oldIE?setTimeout(function(){v(b,d)},5E3):setTimeout(v,5E3,b,d)}null!=d.startAdSwitcher&&(clearTimeout(d.startAdSwitcher),d.startAdSwitcher=null);if(!b.allowLongImpressions){var u=function(b,f){try{r(b,f.vastId,62,"long impression",!1,f),f.startAdSwitcher=null,f.vpaidPlaying=0,f.tlvState=10,S(b,f),b.anyPlaying=aa(b,f.vastId),b.anyPlaying||ca(b),w(b)}catch(a){r(b,f.vastId,
3,"sas gave JS exception: ",a,f)}};d.startAdSwitcher=CEDATO_BROWSER.oldIE?setTimeout(function(){u(b,d)},6E4):setTimeout(u,6E4,b,d)}}else e(b,"vastId "+g+" - no vast tracker",!1),G(d,0);return!0}e(b,"adImpression called for a gone uniqId: "+f,!1);J(b,3,"adImpression called for a gone uniqId")}function ea(b,f){try{var a;a=d(b);a.setAttribute("style","height:100% !important;");a.style.width="100%";a.style.zIndex="9994";a.style.position="relative";a.style.top="0px";a.style.left="0px";a.style.backgroundColor=
"black";f.firstPlayEventTriggered=!1;m(a,"play",function(){try{b.apiInterface.trigger("adplay",{vastId:f.vastId,playerId:b.playerId,subid:b.subid}),"vpaid"==b.mode&&b.vpaidObj.call("jsAdDurationChange",{duration:(f.duration?f.duration:a.duration).toFixed(2)},!0),e(b,"vastId "+f.vastId+" - onplay",!1),f.firstPlayEventTriggered?e(b,"vastId "+f.vastId+" - already handled play event",!1):(f.firstPlayEventTriggered=!0,5!=f.tlvState?e(b,"vastId "+f.vastId+" - invalid state, was probably stopped - "+f.tlvState,
!1):Z(b,f.uniqId,!0)&&("vpaid"==b.mode&&b.vpaidObj.call("jsAdVideoStart",{},!0),f.errorCount=0,e(b,"vastId "+f.vastId+" - onplay done",!1)))}catch(c){r(b,f.vastId,3,"video onplay gave JS exception: ",c,f)}});m(a,"timeupdate",function(){try{if(!(3>f.tlvState||10==f.tlvState||"video"!=f.adType)){null!=f.vastTracker&&f.vastTracker.setProgress(a.currentTime);var c=a.duration-a.currentTime,e=a.duration;"vpaid"==b.mode&&(b.vpaidObj.call("jsAdRemainingTimeChange",{remainingTime:c.toFixed()},!0),a.currentTime.toFixed()==
(e/4).toFixed()&&b.vpaidObj.call("jsAdFirstQuartile",{},!0),a.currentTime.toFixed()==(e/3).toFixed()&&b.vpaidObj.call("jsAdMidpoint",{},!0),a.currentTime.toFixed()==(e/4*3).toFixed()&&b.vpaidObj.call("jsAdThirdQuartile",{},!0))}}catch(d){r(b,f.vastId,3,"video ontimeupdate gave JS exception: ",d,f)}});m(a,"click",function(a){try{e(b,"vastId "+f.vastId+" - video onclick",!1),f.vastTracker&&f.vastTracker.click(),b.apiInterface.trigger("click",{url:a,vastId:f.vastId}),"vpaid"==b.mode&&b.vpaidObj.call("jsAdClickthrough",
{url:a},!0)}catch(c){r(b,f.vastId,3,"video onclick gave JS exception: ",c,f)}});m(a,"error",function(a){try{if(!(3>f.tlvState||10==f.tlvState||"video"!=f.adType)){e(b,"vastId "+f.vastId+" - video onerror",!1);var c=!1;3==f.tlvState&&(c=!0);B(b,f);f.tlvState=10;var z=-1;a.target.error.code&&a.target.error.code&&(z=a.target.error.code);r(b,f.vastId,4,"video player error code: "+z,!1,f,c);w(b);f.errorCount=5<=f.tlvState?f.errorCount+100:f.errorCount+1;G(f,0)}}catch(d){r(b,f.vastId,3,"video onerror gave JS exception: ",
d,f)}});m(a,"canplay",function(){try{if(e(b,"vastId "+f.vastId+" - video oncanplay",!1),"video"!=f.adType)e(b,"vastId "+f.vastId+" - adType not video: "+f.adType,!1);else if(4<f.tlvState)e(b,"vastId "+f.vastId+" - video oncanplay but state is "+f.tlvState,!1);else{null!=f.playVideoRetry&&(clearInterval(f.playVideoRetry),f.playVideoRetry=null);f.durationKnown=!0;try{f.duration=a.duration,f.vastTracker&&(f.vastTracker.duration=f.duration,f.vastTracker.setDuration(f.duration))}catch(c){f.durationKnown=
!1}var d=b.width,g=b.height;a.style.width="100%";a.style.height="100%";d||(d=b.width,g=b.height);d>b.width&&(g=g*b.width/d,d=b.width);g>b.height&&(d=d*b.height/g,g=b.height);var d=Math.floor(d),g=Math.floor(g),h=(b.height-g)/2,h=Math.floor(h);e(b,"vastId "+f.vastId+" - video width: "+d+", height: "+g+", top: "+h,!1);a.style.cssText="background-color: black; width:100%; height:100%; position: relative; top: "+h+"px";f.tlvState=4;if("vpaid"==b.mode)try{b.vpaidObj.call("jsAdReadyToStart",{},!0)}catch(c){r(b,
f.vastId,3,"video oncanplay gave JS exception: ",c,f)}w(b)}}catch(c){r(b,f.vastId,3,"video oncanplay gave JS exception: ",c,f)}});m(a,"ended",function(){try{e(b,"vastId "+f.vastId+" - video onended",!1),f.firedEvents&&f.firedEvents.complete?e(b,"vastId "+f.vastId+" - dup video ended event",!1):(f.firedEvents.complete=1,e(b,"vastId "+f.vastId+" - video onended",!1),"vpaid"!==b.mode&&(b.anyPlaying=aa(b,f.vastId),b.anyPlaying||ca(b)),f.vastTracker?(L("firstQuartile",b,f),L("midpoint",b,f),L("thirdQuartile",
b,f),f.vastTracker.complete()):r(b,f.vastId,3,"no vastTracker for ended",!1,f,!1,!1,"vastTracker error"),"vpaid"==b.mode&&(b.vpaidObj.call("jsAdComplete",{},!0),b.vpaidObj.call("jsAdStopped",{},!0),b.divElem.style.display="none",B(b,f)),CEDATO_BROWSER.oldIE?setTimeout(function(){S(b,f)},3E3):setTimeout(S,3E3,b,f),b.frozen?e(b,"vastId "+f.vastId+" - frozen - finishing here",!1):(b.readyForStartAd&&Da(b),w(b)))}catch(a){r(b,f.vastId,3,"video onended gave JS exception: ",a,f)}})}catch(c){r(b,f.vastId,
3,"video prepare gave JS exception: ",c,f)}return a}function L(b,f,a){b&&f&&a&&a.vastTracker.quartiles&&a.vastTracker.quartiles[b]&&(b=a.vastTracker.quartiles[b],!a.vastTracker.progress||a.vastTracker.progress<b)&&(e(f,"vastId "+a.vastId+" - advancing progress accordingly",!1),a.vastTracker.setProgress(b))}function V(b,f,a){e(b,"vastId "+f.vastId+" - "+a+" resulted in exception, vpw disappeared",!1);10<f.vpwLoadRetry?(r(b,f.vastId,25,a+" gave up on vpw",!1,f),e(b,"vastId "+f.vastId+" - "+a+"  too many errors - giving up",
!1),f.tlvState=10):(e(b,"vastId "+f.vastId+" - "+a+"  - allowing vpw to reload",!1),K(b,f,!0),e(b,"vastId "+f.vastId+" - "+a+"  - allowing vpw to reload - done",!1))}function W(b,f){try{var a=h[f.playersStorageName];CEDATO_BROWSER.oldIE?setTimeout(function(){ia(a,f.uniqId)},10):setTimeout(ia,0,a,f.uniqId);e(a,"vastId "+f.vastId+" - got js adLoaded event",!1)}catch(c){r(a,f.vastId,3,"jsVpaidAdLoaded callback gave JS exception: ",c,f)}}function Y(b,f){try{var a=h[f.playersStorageName];"undefined"===
typeof b?b="no message":"string"!==typeof b&&(b=b.message?b.message:b.data&&b.data.message?b.data.message:"Couldnt extract error message");CEDATO_BROWSER.oldIE?setTimeout(function(){sa(a,f.uniqId,b)},10):setTimeout(sa,0,a,f.uniqId,b);e(a,"vastId "+f.vastId+" - got js adError event: "+b,!1)}catch(c){r(a,f.vastId,3,"jsVpaidAdError callback gave JS exception: ",c,f)}}function ga(b,f){try{var a=h[f.playersStorageName];CEDATO_BROWSER.oldIE?setTimeout(function(){ka(a,f.uniqId)},0):setTimeout(ka,0,a,f.uniqId);
try{!a.allowSound&&f.jsVPAIDElement.setAdVolume&&f.jsVPAIDElement.setAdVolume(0)}catch(c){}e(a,"vastId "+f.vastId+" - got js adStarted event: ",!1)}catch(c){r(a,f.vastId,3,"jsVpaidAdStarted callback gave JS exception: ",c,f)}}function T(b,f){try{var a=h[f.playersStorageName];CEDATO_BROWSER.oldIE?setTimeout(function(){la(a,f.uniqId)},10):setTimeout(la,0,a,f.uniqId);e(a,"vastId "+f.vastId+" - got js adImpression event: ",!1);try{!a.allowSound&&f.jsVPAIDElement.setAdVolume&&f.jsVPAIDElement.setAdVolume(0)}catch(c){}}catch(c){r(a,
f.vastId,3,"jsVpaidAdImpression callback gave JS exception: ",c,f)}}function Q(b,f){try{var a=h[f.playersStorageName];CEDATO_BROWSER.oldIE?setTimeout(function(){Qa(a,f.uniqId)},10):setTimeout(Qa,0,a,f.uniqId);try{!a.allowSound&&f.jsVPAIDElement.setAdVolume&&f.jsVPAIDElement.setAdVolume(0)}catch(c){}e(a,"vastId "+f.vastId+" - got js AdVideoStart event",!1)}catch(c){r(a,f.vastId,3,"jsVPAdVideoStartFunc callback gave JS exception: ",c,f)}}function U(b,f){try{var a=h[f.playersStorageName];CEDATO_BROWSER.oldIE?
setTimeout(function(){ta(a,f.uniqId)},10):setTimeout(ta,0,a,f.uniqId);e(a,"vastId "+f.vastId+" - got js FirstQuartile event",!1)}catch(c){r(a,f.vastId,3,"jsVpaidAdFirstQuartile callback gave JS exception: ",c,f)}}function fa(b,f){try{var a=h[f.playersStorageName];CEDATO_BROWSER.oldIE?setTimeout(function(){ua(a,f.uniqId)},10):setTimeout(ua,0,a,f.uniqId);e(a,"vastId "+f.vastId+" - got js midpoint event",!1)}catch(c){r(a,f.vastId,3,"jsVpaidAdMidpoint callback gave JS exception: ",c,f)}}function P(b,
f){try{var a=h[f.playersStorageName];CEDATO_BROWSER.oldIE?setTimeout(function(){va(a,f.uniqId)},0):setTimeout(va,10,a,f.uniqId);e(a,"vastId "+f.vastId+" - got js adThirdQuartile event",!1)}catch(c){r(a,f.vastId,3,"jsVpaidAdThirdQuartile callback gave JS exception: ",c,f)}}function ha(b,f){try{var a=h[f.playersStorageName];e(a,"vastId "+f.vastId+" - got js adComplete event",!1);CEDATO_BROWSER.oldIE?setTimeout(function(){ma(a,f.uniqId)},0):setTimeout(ma,10,a,f.uniqId)}catch(c){r(a,f.vastId,3,"jsVpaidAdComplete callback gave JS exception: ",
c,f)}}function ra(b,f){try{var a=h[f.playersStorageName];e(a,"vastId "+f.vastId+" - got js adStopped event",!1);CEDATO_BROWSER.oldIE?setTimeout(function(){Ra(a,f.uniqId)},10):setTimeout(Ra,0,a,f.uniqId)}catch(c){r(a,f.vastId,3,"jsVpaidAdStopped callback gave JS exception: ",c,f)}}function t(b,f){try{var a=h[f.playersStorageName];"undefined"===typeof b&&(b=!1);var c;try{c=f.jsVPAIDElement.getAdRemainingTime()}catch(d){c=!1}if(!c&&(c=b,!c))try{c=f.jsVPAIDElement.remainingTime}catch(d){}e(a,"vastId "+
f.vastId+" - got js adRemainingTimeChange event, remainingTime:"+c,!1);c&&(CEDATO_BROWSER.oldIE?setTimeout(function(){wa(a,f.uniqId,c)},10):setTimeout(wa,0,a,f.uniqId,c),e(a,"vastId "+f.vastId+" - got js adRemainingTimeChange event, t:"+c,!1))}catch(d){r(a,f.vastId,3,"jsVpaidAdRemainingTimeChange callback gave JS exception: ",d,f)}}function db(b,a){try{var c=h[a.playersStorageName];"undefined"===typeof b&&(b=!1);var d;try{d=a.jsVPAIDElement.getAdDuration()}catch(g){d=!1}if(!d&&(d=b,!d))try{d=a.jsVPAIDElement.duration}catch(g){}e(c,
"vastId "+a.vastId+" - got js adDurationChange event, duration:"+d,!1);d&&(CEDATO_BROWSER.oldIE?setTimeout(function(){Sa(c,a.uniqId,d)},10):setTimeout(Sa,0,c,a.uniqId,d),e(c,"vastId "+a.vastId+" - got js adDurationChange event, t:"+d,!1))}catch(g){r(c,a.vastId,3,"adDurationChange callback gave JS exception: ",g,a)}}function fb(b,a){try{var c=h[a.playersStorageName];"undefined"===typeof b&&(b="");CEDATO_BROWSER.oldIE?setTimeout(function(){xa(c,a.uniqId,b)},10):setTimeout(xa,0,c,a.uniqId,b);e(c,"vastId "+
a.vastId+" - got js adClickthru event, url: "+b,!1)}catch(d){r(c,a.vastId,3,"jsVpaidAdClickthru callback gave JS exception: ",d,a)}}function eb(b,a){try{e(b,"vastId "+a.vastId+" - VPAID JS script loaded",!1);var d=a.jsVpaidFrame;if(1==a.jsVPAIDType){if(!d||!d.contentWindow||!d.contentWindow.getVPAIDAd){r(b,a.vastId,324,"couldn't find js vpaid module",!1,a);a.tlvState=10;a.errorCount+=1;G(a,0);return}var g=d.contentWindow&&d.contentWindow.document,h;h=b.usejsv&&b.mainAutoplay?new d.contentWindow.video_jsv:
g.createElement("video");a.vpaidJsIframeVideo=h;h.setAttribute("preload","auto");h.style.margin="0";h.style.padding="0";h.style.top="0px";h.style.left="0px";h.style.position="absolute";h.style.width="100%";h.style.height="100%";b.usejsv&&b.mainAutoplay&&(h.canPlayType=function(){return"probably"},h.proxyUrl=function(a){return c(a,b)});a.vpaidJsIframeAdElem.appendChild(h);b.usejsv&&b.mainAutoplay&&(a.vpaidJsIframeVideoCanvas=a.vpaidJsIframeVideo.getElementsByTagName("canvas")[0]);a.initAdEnvObject=
{};a.initAdEnvObject.slot=a.vpaidJsIframeAdElem;a.initAdEnvObject.videoSlot=a.vpaidJsIframeVideo;a.initAdEnvObject.videoSlotCanAutoPlay=!0;b.usejsv&&!b.mainAutoplay&&(a.initAdEnvObject.videoSlotCanAutoPlay=!1);a.jsVPAIDElement=d.contentWindow.getVPAIDAd()}a.jsVPAIDElement?(a.jsVPAIDElement.handshakeVersion&&a.jsVPAIDElement.handshakeVersion("2.0"),1==a.jsVPAIDType&&(a.jsVPAIDElement.subscribe(function(b){W(b,a)},"AdLoaded"),a.jsVPAIDElement.subscribe(function(b){Y(b,a)},"AdError"),a.jsVPAIDElement.subscribe(function(b){ga(b,
a)},"AdStarted"),a.jsVPAIDElement.subscribe(function(b){T(b,a)},"AdImpression"),a.jsVPAIDElement.subscribe(function(b){Q(b,a)},"AdVideoStart"),a.jsVPAIDElement.subscribe(function(b){U(b,a)},"AdVideoFirstQuartile"),a.jsVPAIDElement.subscribe(function(b){fa(b,a)},"AdVideoMidpoint"),a.jsVPAIDElement.subscribe(function(b){P(b,a)},"AdVideoThirdQuartile"),a.jsVPAIDElement.subscribe(function(b){ha(b,a)},"AdVideoComplete"),a.jsVPAIDElement.subscribe(function(b){ra(b,a)},"AdStopped"),a.jsVPAIDElement.subscribe(function(b){fb(b,
a)},"AdClickThru"),a.jsVPAIDElement.subscribe(function(b){t(b,a)},"AdRemainingTimeChange"),a.jsVPAIDElement.subscribe(function(b){db(b,a)},"AdDurationChange")),e(b,"vastId "+a.vastId+" - VPAID JS element prepared",!1),Ca(b,a)):(r(b,a.vastId,325,"failed to create js vpaid module",!1,a),a.tlvState=10,a.errorCount+=1,G(a,0))}catch(ja){r(b,a.vastId,3,"jsVpaidLoaded callback gave JS exception: ",ja,a)}}function pa(b,f){e(b,"vastId "+f.vastId+" - initMediaLoad",!1);f.tlvState=2;if(f.companionHTML)try{"jsvpaid"!=
f.adType&&(f.companionsElementDiv||(f.companionsElementDiv=a.createElement("div"),f.companionsElementDiv.setAttribute("style","width:100%;height:100%;position:relative;top:-"+b.height+"px;  "),b.callingFlashObject?b.companionsDivElem.appendChild(f.companionsElementDiv):b.divElem.appendChild(f.companionsElementDiv)),f.companionsElementDiv&&(e(b,"vastId "+f.vastId+" - companionHTML: "+f.companionHTML,!1),f.companionsElementDiv.innerHTML=f.companionHTML))}catch(d){}if("flvpaid"==f.adType||"jsvpaid"==
f.adType)f.durationKnown=!1,b.thirdPartyTimeout&&(-1!=f.mediaURL.indexOf("liverail.com")&&(-1==f.mediaURL.indexOf("LR_TIMEOUT_ADSOURCE")&&(f.mediaURL+="&LR_TIMEOUT_ADSOURCE="+b.thirdPartyTimeout,e(b,"vastId "+f.vastId+" - initMediaLoad - added timeout to media file, new url: "+f.mediaURL,!1)),-1==f.mediaURL.indexOf("LR_TIMEOUT_DELIVERY")&&(f.mediaURL+="&LR_TIMEOUT_DELIVERY="+b.thirdPartyTimeout,e(b,"vastId "+f.vastId+" - initMediaLoad - added timeout to media file, new url: "+f.mediaURL,!1))),-1!=
f.mediaURL.indexOf("adap.tv")&&-1==f.mediaURL.indexOf("breakLoadedTimeout")&&(f.mediaURL+="&breakLoadedTimeout="+1E3*b.thirdPartyTimeout,e(b,"vastId "+f.vastId+" - initMediaLoad - added timeout to media file, new url: "+f.mediaURL,!1)));if("flvpaid"==f.adType){b.urlReplacer&&b.urlReplacer.vastId==f.vastId&&-1!=f.mediaURL.indexOf(b.urlReplacer.searchFor)&&(f.mediaURL=b.urlReplacer.replaceWith+f.mediaURL.substr(f.mediaURL.indexOf("?")));e(b,"vastId "+f.vastId+" - initMediaLoad - uniqId: "+f.uniqId+
", flash loadAd with url "+f.mediaURL,!1);try{-1!==f.mediaURL.indexOf("[[IMPORT]]")&&(f.mediaURL=f.mediaURL.replace("[[IMPORT]]",b.protocol+"/")),f.flashElement[f.flashEICallbacks]("vpwLoadAd",f.mediaURL,f.isIMA,12E3,f.playersStorageName,f.uniqId,b.successCallbackFuncName,b.failureCallbackFuncName,b.adLoadedCallbackFuncName,b.adErrorCallbackFuncName,b.adStartedCallbackFuncName,b.adImpressionCallbackFuncName,b.adFirstQuartileEventCallbackFundName,b.adMidpointEventCallbackFuncName,b.adThirdQuartileEventCallbackFundName,
b.adCompleteEventCallbackFuncName,b.adRemainingtimeChangeCallbackFuncName,b.adClickthroughCallbackFuncName,b.adSetCompanionsCallbackFuncName,b.allowSound,b.width,b.height)}catch(d){f.tlvState=1;f.errorCount++;r(b,f.vastId,5,"loadAd failed - vpw disappeared: "+d.message+" ** "+f.flashEICallbacks,!1,f);V(b,f,"initMediaLoad");return}}else if("jsvpaid"==f.adType)e(b,"vastId "+f.vastId+" - initMediaLoad - loading JS script "+f.mediaURL,!1),H(f.mediaURL,eb,b,f);else if("video"==f.adType)if(e(b,"vastId "+
f.vastId+" - initMediaLoad - initializing video url to "+f.mediaURL,!0),b.divElem.appendChild(f.videoElement),l(b,f),b.usejsv){var z=c(f.mediaURL,b);f.videoElement.setAttribute("src",z);null!=f.playVideoRetry&&(clearInterval(f.playVideoRetry),f.playVideoRetry=null);var g=function(b,a){e(b,"vastId "+a.vastId+" - jsv play video retry",!1);var f=a.videoElement.getAttribute("src");a.videoElement.setAttribute("src",f)};f.playVideoRetry=CEDATO_BROWSER.oldIE?setInterval(function(){g(b,f)},2E4):setInterval(g,
2E4,b,f)}else f.videoElement.src=f.mediaURL,f.videoElement.preload="auto",f.videoElement.autoplay="",f.videoElement.controls=b.controlBar,f.videoElement.loop="",b.allowSound||(f.videoElement.muted="muted");e(b,"vastId "+f.vastId+" - initMediaLoad - done",!0)}function G(b,a){var c=h[b.playersStorageName];if(null!=b.requeryTimeout)e(c,"vastId "+b.vastId+" - requery vast already scheduled - ignoring",!1);else{null!=b.startAdStopper&&(clearTimeout(b.startAdStopper),b.startAdStopper=null);null!=b.startAdHalfStopper&&
(clearTimeout(b.startAdHalfStopper),b.startAdHalfStopper=null);null!=b.startAdSwitcher&&(clearTimeout(b.startAdSwitcher),b.startAdSwitcher=null);null!=b.playVideoRetry&&(clearInterval(b.playVideoRetry),b.playVideoRetry=null);null!=b.initAdThrottler&&(clearInterval(b.initAdThrottler),b.initAdThrottler=null);try{if(b.flashElement&&b.flashEICallbacks)b.flashElement[b.flashEICallbacks]("clearAd",b.uniqId)}catch(d){}"jsvpaid"==b.adType&&Ta(b);e(c,"vastId "+b.vastId+" - scheduling requery vast",!1);0===
a&&(a=b.freqRetry?10>b.errorCount?1E3+Math.floor(500*Math.random()):100>b.errorCount?2E3+Math.floor(500*Math.random()):110>b.errorCount?2E3+Math.floor(1500*Math.random()):1E4:1==b.errorCount?200:4>b.errorCount?1E3:10>b.errorCount?1E3*b.errorCount:100>b.errorCount?1E4:100==b.errorCount?200:104>b.errorCount?3E3:110>b.errorCount?6E3:3E4,a*=c.vastWaitFactor,e(c,"vastId "+b.vastId+" - wait is set to "+a+", ec: "+b.errorCount,!1));var g=function(b,a){e(b,"vastId "+a.vastId+" - requery",!1);a.requeryTimeout=
null;Ba(a)};b.requeryTimeout=CEDATO_BROWSER.oldIE?setTimeout(function(){g(c,b)},a):setTimeout(g,a,c,b)}}function qa(b,a){a.videoElement&&(a.videoElement.style.display="none");null==a.flashElementDiv||b.singleVPW||(a.flashElementDiv.style.zIndex="-1");null!=a.jsVPAIDElementDiv&&(a.jsVPAIDElementDiv.style.zIndex="1");a.vpaidJsIframeAdElem&&(a.vpaidJsIframeAdElem.style.zIndex="1");a.vpaidJsIframeVideo&&(a.vpaidJsIframeVideo.style.zIndex="1")}function Ka(b,a){b.domReady?"flvpaid"==a.adType?2===a.vpwLoaded?
(e(b,"vastId "+a.vastId+" - dom is already ready and vpw is loaded - calling initMediaLoad",!0),pa(b,a)):e(b,"vastId "+a.vastId+" - dom is ready but vpw is not loaded yet - initMediaLoad will be called later",!1):(e(b,"vastId "+a.vastId+" - dom is already and this is a video ad - calling initMediaLoad",!1),pa(b,a)):e(b,"vastId "+a.vastId+" - dom is not ready - initMediaLoad will be called later",!1)}function Ba(b){var a=h[b.playersStorageName];if(a.frozen)e(a,"vastId "+b.vastId+" - fpv - frozen - quiting",
!1);else{b.loadAdTime=(new Date).getTime();b.floadCbs=[];b.roundNo++;b.initAdEnvObject=null;var c=0;0<b.maxFailedVastRetries&&(c=b.maxFailedVastRetries);0<a.maxFailedVastRetries&&(0==c||a.maxFailedVastRetries<c)&&(c=a.maxFailedVastRetries);if(0<c&&b.roundNo>c)e(a,"vastId "+b.vastId+" - crossed number of allowed failed retries: "+c,!1),S(a,b,!0);else{var c=b.vastURL,d=(new Date).getTime(),c=c.replace(/\[CB\]/g,d),c=c.replace(/\[CACHE_BUSTER\]/g,d),c=c.replace(/\[CACHEBUSTING\]/g,d),c=c.replace(/\[WIDTH\]/g,
a.width),c=c.replace(/\[HEIGHT\]/g,a.height);a.info&&(c=c.replace(/\[DEVICEOS\]/gi,encodeURIComponent(a.info.os)),c=c.replace(/\[DEVICEOSV\]/gi,encodeURIComponent(a.info.osv)),c=c.replace(/\[DEVICEMAKE\]/gi,encodeURIComponent(a.info.make)),c=c.replace(/\[DEVICEMODEL\]/gi,encodeURIComponent(a.info.model)));e(a,"vastId "+b.vastId+" - fetch_player_vast, url: "+b.vastURL,!1);b.ad=null;b.creative=null;b.mediaURL="";b.isFlash=0;b.adType&&(b.previousAdType=b.adType);b.adType=null;b.vpaidPlaying=0;b.vastTracker=
null;b.skipVastTracker=!1;b.hasFlashVPAID=!1;b.hasJSVPAID=!1;qa(a,b);-1!=c.indexOf(".g.doubleclick.net")&&(b.isIMA=!0);b.isIMA?a.flashSupport&&(e(a,"vastId "+b.vastId+" - is IMA",!1),b.isFlash=1,b.adType="flvpaid",b.mediaURL=c,b.companionHTML="",b.tlvState=1,b.skipVastTracker=!0,Ka(a,b)):(d={withCredentials:!0},d.players=a,d.playerData=b,d.urlhandler=Ea,a.DMVAST.client.get(c,d,function(a){try{var f=h[b.playersStorageName],c=b.vastId;e(f,"vastId "+c+" - got response",!1);if(f.frozen)e(f,"vastId "+
c+" - fpv answer - frozen - quiting",!1);else if(a&&a.ads){e(f,"vastId "+c+" - got response with data",!0);e(f,a,!0);for(var d=!1,z=!1,g=!1,O="",l=0,m=0,n=!1,p="",q="",v,u=a.ads.length;0<u;){var t=a.ads[0];e(f,"vastId "+c+" - got ad",!1);e(f,t,!0);for(var u=0,y=t.creatives.length;u<y;u++){var w=t.creatives[u];e(f,"vastId "+c+" - got creative",!0);e(f,w,!0);switch(w.type){case "linear":e(f,"vastId "+c+" - creative is linear with "+w.mediaFiles.length+" medias",!0);for(var A=0,C=w.mediaFiles.length;A<
C;A++){var x=w.mediaFiles[A];e(f,"vastId "+c+" - got media",!0);e(f,x,!0);q+=x.mimeType+",";e(f,"vastId "+c+" - got media - mimeType: "+x.mimeType,!1);if("video/"!=x.mimeType.substr(0,6)&&"application/x-shockwave-flash"!=x.mimeType&&"application/javascript"!=x.mimeType)e(f,"vastId "+c+" - not a video mimeType: "+x.mimeType,!0);else{"application/javascript"==x.mimeType&&(v=b.hasJSVPAID=!0);if("video/"==x.mimeType.substr(0,6)){try{if(!f.usejsv&&!f.hasVideoSupport){e(f,"vastId "+c+" - no video support for mimeType: "+
x.mimeType,!1);continue}b.videoElement||(b.videoElement=ea(f,b));if(!f.usejsv&&!b.videoElement.canPlayType(x.mimeType)){e(f,"vastId "+c+" - unsupported mimeType: "+x.mimeType,!0);continue}}catch(B){}if(f.usejsv&&"video/webm"!=x.mimeType&&"video/mp4"!=x.mimeType&&"video/wmv"!=x.mimeType&&"video/flv"!=x.mimeType){e(f,"vastId "+c+" - unsupported mimeType: "+x.mimeType,!0);continue}}"application/x-shockwave-flash"==x.mimeType&&(b.hasFlashVPAID=!0);if("application/x-shockwave-flash"!=x.mimeType||f.flashSupport){if("application/x-shockwave-flash"!=
x.mimeType&&"application/x-shockwave-flash"!=O){var E;if(!(E=x.deliveryType&&"streaming"==x.deliveryType)){var F=x.fileURL,H=F.split("/")[0].toLowerCase(),N=!("rtsp:"!==H&&"rtp:"!==H);if(!N){var I=F.split(".").pop().split(/\#|\?/)[0];if("m3u8"===I||"m3u"===I)N=!0}E=N}if(E){e(f,"vastId "+c+" - dont allow streaming",!0);continue}N=!0;if(0!=x.bitrate&&0!=l)if(N=!1,x.bitrate>l){e(f,"vastId "+c+" - bitrate is higher than chosen: "+x.bitrate,!0);continue}else x.bitrate==l?N=!0:e(f,"vastId "+c+" - choosing bitrate "+
x.bitrate+" over previously chosen bitrate "+l,!0);else if(0!=m&&0!=x.width){var N=!1,J=x.width*x.height;if(J>m){e(f,"vastId "+c+" - size is higher than chosen: "+x.mediaSize,!0);continue}else J==m?N=!0:e(f,"vastId "+c+" - choosing size "+J+" over previously chosen size "+m,!0)}if(N&&""!=O){if("video/webm"==O){e(f,"vastId "+c+" - same speed but already chosen preferred webm over "+x.mimeType,!0);continue}if("video/ogg"==O&&"video/mp4"==x.mimeType){e(f,"vastId "+c+" - same speed but already chosen preferred ogg over "+
x.mimeType,!0);continue}if("video/3gp"==O&&"video/mp4"==x.mimeType){e(f,"vastId "+c+" - same speed but already chosen preferred 3gp over "+x.mimeType,!0);continue}e(f,"vastId "+c+" - choosing mimeType "+x.mimeType+" over previously chosen "+O,!0)}}N=!0;1==b.vastPreferType?N=!0:2==b.vastPreferType&&(N=!1);-1!==x.fileURL.indexOf("cdn.altitude-arena.com")&&(N=!0);if("application/x-shockwave-flash"===x.mimeType){if("application/javascript"==O){if(!b.previousAdType&&!N){e(f,"vastId "+c+" - preferring vpaidjs to flash",
!0);continue}if(b.previousAdType&&"application/x-shockwave-flash"===b.previousAdType){e(f,"vastId "+c+" - had flash before now trying JS ",!0);continue}}if(""!==O&&"application/javascript"!==O&&"application/x-shockwave-flash"!==O){e(f,"vastId "+c+" - prefer video over flash",!0);continue}}if("application/javascript"===x.mimeType){if("application/x-shockwave-flash"===O){if(b.previousAdType&&"application/javascript"==b.previousAdType){e(f,"vastId "+c+" - preferring flash choice if previous is vpaidjs ",
!0);continue}if(!b.previousAdType&&N){e(f,"vastId "+c+" - preferring flash to vpaidjs",!0);continue}}if(""!==O&&"application/javascript"!==O&&"application/x-shockwave-flash"!==O){e(f,"vastId "+c+" - prefer video over JS",!0);continue}}0!=x.bitrate?l=x.bitrate:0!=x.width&&(m=x.width*x.height);O=x.mimeType;d=0;z=u;g=A;n=!0;e(f,"vastId "+c+" - chosen media",!1)}else e(f,"vastId "+c+" - flash mimetype but we don't have flash support",!0)}}break;case "companion":for(var A=0,L=w.variations.length;A<L;A++){var M=
w.variations[A];M.width==f.width&&M.height==f.height&&"image/jpeg"!=M.type&&(p=M.htmlResource)}}}if(n){try{t=a.ads[d],w=t.creatives[z],x=w.mediaFiles[g],e(f,"vastId "+c+" - chosen ad-creative-media",!1),e(f,t,!0),e(f,w,!0),e(f,x,!0),b.adParameters=w.adParameters,1!=t.impressionURLTemplates.length||t.impressionURLTemplates[0]||(t.impressionURLTemplates=[]),b.ad=t,b.creative=w,"application/x-shockwave-flash"==O?(e(f,"vastId "+c+" - media is flash",!1),b.isFlash=1,b.isJSVPaid=0,b.adType="flvpaid"):"application/javascript"==
O?(e(f,"vastId "+c+" - media is javascript",!1),b.isFlash=0,b.isJSVPaid=1,b.jsVPAIDType=v,b.adType="jsvpaid"):(e(f,"vastId "+c+" - media is video",!1),b.isFlash=0,b.isJSVPaid=0,b.adType="video"),b.mediaURL=x.fileURL,f.usejsv||"flvpaid"==b.adType||(b.mediaURL=k(f.protocol,b.mediaURL)),b.companionHTML=p,b.tlvState=1}catch(B){r(f,b.vastId,3,"fpv-chosen gave JS exception: ",B,b,!1,!0);b.errorCount+=1;G(b,0);break}try{Ka(f,b)}catch(B){r(f,b.vastId,3,"fpv-chosen-init2 gave JS exception: ",B,b,!1,!0);b.errorCount+=
1;G(b,0);break}}else r(f,b.vastId,27,"no suitable media: "+q,!1,b,!1,!0),e(f,"vastId "+c+" - error - no suitable media",!1),f.DMVAST.util.track(t.errorURLTemplates,{ERRORCODE:403}),b.errorCount+=1,G(b,0);break}}else r(f,b.vastId,26,"empty vast response",!1,b,!1,!0),e(f,"vastId "+c+" - empty response",!1),b.errorCount+=1,G(b,0)}catch(B){r(f,b.vastId,3,"fpv gave JS exception: ",B,b,!1,!0),b.errorCount+=1,G(b,0)}}))}}}function gb(){function b(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}
return b()+b()+"-"+b()+"-"+b()+"-"+b()+"-"+b()+b()+b()}function A(b,a){for(var c=0,d=b.plist.length;c<d;c++)if(b.plist[c].uniqId==a)return b.plist[c];return null}function aa(b,a){for(var c=0,d=b.plist.length;c<d;c++)if(b.plist[c].vastId!=a&&6==b.plist[c].tlvState)return!0;return!1}function La(b,a){null!=a.initAdThrottler&&(clearInterval(a.initAdThrottler),a.initAdThrottler=null);var c,d;try{if(e(b,"vastId "+a.vastId+" - calling initAd, uniqId: "+a.uniqId,!1),a.tlvState=3,"flvpaid"==a.adType&&(d="vpw disappeared",
"string"!==typeof a.adParameters&&(a.adParameters=""),c=a.flashElement[a.flashEICallbacks]("vpwInitAd",a.adParameters,a.uniqId)),"jsvpaid"==a.adType){d="external js exception";var g=!1,g={};g.AdParameters=a.adParameters?a.adParameters:{};!1===g&&(g={});c=a.jsVPAIDElement.initAd(b.width,b.height,"normal",4800,g,a.initAdEnvObject);b.usejsv&&b.mainAutoplay&&0==a.vpaidJsIframeVideo.getElementsByTagName("canvas").length&&a.vpaidJsIframeVideo.appendChild(a.vpaidJsIframeVideoCanvas);if("undefined"===typeof c||
c)c="1"}}catch(h){r(b,a.vastId,5,"initAd failed - "+d+": "+h.message,!1,a);a.tlvState=10;a.errorCount+=1;G(a,0);"flvpaid"==a.adType&&V(b,a,"initAd");return}if("1"==c)e(b,"vastId "+a.vastId+" - initAd returned success",!1);else{c="no reason given";try{"flvpaid"==a.adType&&(c=a.flashElement[a.flashEICallbacks]("getLastError",a.uniqId)),"jsvpaid"==a.adType&&(c="js vpaid error")}catch(h){c="getLastError gave exception: "+h.message}r(b,a.vastId,5,"initAd failed - "+c,!1,a,!1,!0);a.tlvState=10;a.errorCount+=
1;"flvpaid"==a.adType&&K(b,a,!0);G(a,0)}}function Ma(b,a){for(var c="in group "+a.group+", ",d=!0,e=0,g=b.plist.length;e<g;e++)if("1"==b.plist[e].group&&3>b.plist[e].tlvState&&!b.plist[e].errorCount&&1>=b.plist[e].roundNo){d=!1;break}for(var h=!0,e=0,g=b.plist.length;e<g;e++)if("1"==b.plist[e].group&&6>b.plist[e].tlvState&&!b.plist[e].errorCount&&1>=b.plist[e].roundNo){h=!1;break}if("1"==a.group&&1>=a.errorCount)return c+" and no/low error count";if(a.duplicatedNow)return a.duplicatedNow=!1,c+" just duplicated";
if("1"!=a.group&&!h||"1"!=a.group&&b.anyPlaying)return!1;g=e=0;for(h=b.plist.length;g<h;g++)3<=b.plist[g].tlvState&&10!=b.plist[g].tlvState&&e++;if(6>e){if("1"==a.group)return c+" and less than 6 total";if(d)return c+" and less than 6 total, all group 1 inited"}return!1}function Ca(b,a){null!=a.requeryTimeout&&(e(b,"vastId "+a.vastId+" - cleared pending requery",!1),clearTimeout(a.requeryTimeout),a.requeryTimeout=null);var c=Ma(b,a);if(c)e(b,"vastId "+a.vastId+" - initAd throttler passed: "+c,!1),
La(b,a);else{e(b,"vastId "+a.vastId+" - initAd throttled, we'll wait",!1);var d=function(b,a){try{var f=Ma(b,a);f&&(e(b,"vastId "+a.vastId+" - initAd throttler passed in interval: "+f,!1),La(b,a))}catch(c){r(b,a.vastId,3,"iat gave JS exception: ",c,a)}};a.initAdThrottler=CEDATO_BROWSER.oldIE?setInterval(function(){d(b,a)},300):setInterval(d,300,b,a)}}function ia(b,a,c){var d=A(b,a);if(d)if(d.firedEvents.AdLoaded)e(b,"AdLoaded fired already",!1);else{d.firedEvents.AdLoaded=!0;var g=d.vastId;if("undefined"===
typeof c||0>c)c="";e(b,"vastId "+g+" - got vpaid adLoaded callback, uniqId: "+a+", mem used: "+c,!1);null!=d.requeryTimeout&&(e(b,"vastId "+g+" - cleared pending requery",!1),clearTimeout(d.requeryTimeout),d.requeryTimeout=null);2>d.tlvState||10==d.tlvState?e(b,"vastId "+g+" - adLoaded on wrong state - ignoring it - "+d.tlvState,!1):3<d.tlvState&&10!=d.tlvState?e(b,"vastId "+g+" - second adLoaded event - ignoring it",!1):(d.tlvState=4,e(b,"vastId "+g+" - marked as ready to play",!0),l(b,d,c),"vpaid"==
b.mode&&b.vpaidObj.call("jsAdReadyToStart",{},!0),w(b))}else e(b,"got adLoaded callback for a gone uniq",!1)}function sa(b,a,c){if(a=A(b,a)){B(b,a);var d=a.vastId;e(b,"vastId "+d+" - got vpaid aderror callback, message: "+c,!1);if(2>=a.tlvState||10==a.tlvState)e(b,"vastId "+d+" - vpaid aderror callback on invalid state - ignoring - "+a.tlvState,!1);else{var g=!1,h=!1;if(1==a.vpaidPlaying){a.vpaidPlaying=0;if(b.parallelStartAd){if(6==a.tlvState||7==a.tlvState)e(b,"vastId "+d+" - was playing",!1),b.anyPlaying=
aa(b,d),b.anyPlaying||ca(b)}else e(b,"vastId "+d+" - was playing",!1),b.anyPlaying=aa(b,d),b.anyPlaying||ca(b);null!=a.startAdHalfStopper&&(clearTimeout(a.startAdHalfStopper),a.startAdHalfStopper=null);null!=a.startAdStopper&&(clearTimeout(a.startAdStopper),a.startAdStopper=null);b.parallelStartAd&&(h=!0)}4>a.tlvState&&(g=!0);null!=a.startAdSwitcher&&(clearTimeout(a.startAdSwitcher),a.startAdSwitcher=null);null!=a.initAdThrottler&&(clearInterval(a.initAdThrottler),a.initAdThrottler=null);var d=22,
k="";try{k=c.toLowerCase()}catch(l){}if(-1!=k.indexOf("timeout")||-1!=k.indexOf("timed out"))d=110;if(-1!=k.indexOf("empty")||-1!=k.indexOf("3403"))d=111;-1!=k.indexOf("domain")&&-1!=k.indexOf("block")&&(d=112);if(-1!=k.indexOf("no ad")||-1!=k.indexOf("there was an error parsing the ad tag response - null, errno: 0"))d=113;if(-1!=k.indexOf("but the server returned a vast error")||-1!=k.indexOf("failed to parse liverail xml response")||-1!=k.indexOf("unknown liverail xml response type"))d=114;if(-1!=
k.indexOf("security error")||-1!=k.indexOf("2048"))d=115;if(-1!=k.indexOf("2032")||-1!=k.indexOf("9408")||-1!=k.indexOf("error loading asset : ioerror"))d=116;-1!=k.indexOf("1903")&&(d=117);-1!=k.indexOf("1902")&&(d=118);-1!=k.indexOf("volume violation")&&(b.debugLogReason="volume",y(b),n(b),b.keepDebugLog=!0,d=300);-1!=k.indexOf("non linear ads")&&(d=157);-1!=k.indexOf("adstart exception")&&(d=156);r(b,a.vastId,d,"onAdError on state "+a.tlvState+" : "+c,!1,a,h,g);a.errorCount=5<=a.tlvState?a.errorCount+
100:a.errorCount+1;null!=a.vastTracker&&a.vastTracker.errorWithCode(901);6==a.tlvState||7==a.tlvState?S(b,a,!0):(a.tlvState=10,"flvpaid"==a.adType&&K(b,a,!0),G(a,0));w(b)}}else e(b,"got adError callback for a gone uniq",!1)}function ka(b,a){var c=A(b,a);c?c.firedEvents.AdStarted?e(b,"AdStarted fired already",!1):(c.firedEvents.AdStarted=!0,c.firedEvents.AdLoaded||ia(b,a,null),c.adStartCount++,1<c.adStartCount&&r(b,c.vastId,61,"double adstart: "+c.adStartCount,!1,c),"vpaid"==b.mode&&b.vpaidObj.call("jsAdStarted",
{},!0)):e(b,"got adStarted callback for a gone uniq",!1)}function la(b,a,c){var d=A(b,a);if(d)if(d.firedEvents.AdImpression)e(b,"AdImpression fired already",!1);else{d.firedEvents.AdImpression=!0;d.firedEvents.AdStarted||ka(b,a);if("undefined"===typeof c||0>c)c="";e(b,"vastId "+d.vastId+" - got flash impression callback, uniqId: "+a+", mem used: "+c,!1);10==d.tlvState||5>d.tlvState?e(b,"vastId "+d.vastId+" - got flash impression callback but in invalid state - ignoring - "+d.tlvState,!1):Z(b,d.uniqId,
!1,c)&&(null!=d.startAdHalfStopper&&(clearTimeout(d.startAdHalfStopper),d.startAdHalfStopper=null),null!=d.startAdStopper&&(clearTimeout(d.startAdStopper),d.startAdStopper=null),d.errorCount=0)}else e(b,"got adImpression callback for a gone uniq",!1)}function Qa(b,a){var c=A(b,a);c?c.firedEvents.AdVideoStart?e(b,"AdVideoStart fired already",!1):(c.firedEvents.AdVideoStart=!0,c.firedEvents.AdImpression||la(b,a,null),e(b,"vastId "+c.vastId+" - got flash AdVideoStart callback, uniqId: "+a,!1),"vpaid"==
b.mode&&b.vpaidObj.call("jsAdVideoStart",{},!0)):e(b,"got VPAID AdVideoStart callback for a gone uniq",!1)}function ta(b,a){var c=A(b,a);if(c){var d=c.vastId;e(b,"vastId "+d+" - got flash adFirstQuartile callback, uniqId: "+a,!1);if(c.skipVastTracker)e(b,"vastId "+d+" - skip vast tracker mode, calling directly",!1),c.vtFirstQuartileFunc(c);else if(c.vastTracker){if(c.vastTracker.quartiles&&c.vastTracker.quartiles.firstQuartile){var g=c.vastTracker.quartiles.firstQuartile;!c.vastTracker.progress||
c.vastTracker.progress<g?(e(b,"vastId "+d+" - advancing progress accordingly",!1),c.vastTracker.setProgress(g)):e(b,"vastId "+d+" - progress is in the right place ("+c.vastTracker.progress+")",!1)}}else r(b,c.vastId,3,"no vastTracker for first quartile",!1,c,!1,!1,"vastTracker error");"vpaid"==b.mode&&b.vpaidObj.call("jsAdFirstQuartile",{},!0)}else e(b,"got flash first quartile callback for a gone uniq",!1)}function ua(b,a){var c=A(b,a);if(c){var d=c.vastId;e(b,"vastId "+d+" - got flash adMidpoint callback",
!1);if(c.skipVastTracker)e(b,"vastId "+d+" - skip vast tracker mode, calling directly",!1),c.vtMidPointFunc(c);else if(c.vastTracker){if(c.vastTracker.quartiles&&c.vastTracker.quartiles.midpoint){var g=c.vastTracker.quartiles.midpoint;!c.vastTracker.progress||c.vastTracker.progress<g?(e(b,"vastId "+d+" - advancing progress accordingly",!1),c.vastTracker.setProgress(g)):e(b,"vastId "+d+" - progress is in the right place",!1)}}else r(b,c.vastId,3,"no vastTracker for midpoint",!1,c,!1,!1,"vastTracker error");
"vpaid"==b.mode&&b.vpaidObj.call("jsAdMidpoint",{},!0)}else e(b,"got flash midpoint callback for a gone uniq",!1)}function va(b,a){var c=A(b,a);if(c){var d=c.vastId;e(b,"vastId "+d+" - got flash adThirdQuartile callback",!1);if(c.skipVastTracker)e(b,"vastId "+d+" - skip vast tracker mode, calling directly",!1),c.vtThirdQuartileFunc(c);else if(c.vastTracker){if(c.vastTracker.quartiles&&c.vastTracker.quartiles.thirdQuartile){var g=c.vastTracker.quartiles.thirdQuartile;!c.vastTracker.progress||c.vastTracker.progress<
g?(e(b,"vastId "+d+" - advancing progress accordingly",!1),c.vastTracker.setProgress(g)):e(b,"vastId "+d+" - progress is in the right place",!1)}}else r(b,c.vastId,3,"no vastTracker for third quartile",!1,c,!1,!1,"vastTracker error");"vpaid"==b.mode&&b.vpaidObj.call("jsAdThirdQuartile",{},!0)}else e(b,"got flash third quartile callback for a gone uniq",!1)}function ma(b,a){var c=A(b,a);if(c){B(b,c);qa(b,c);var d=c.vastId;e(b,"vastId "+d+" - got vpaid adComplete callback",!1);if(6!=c.tlvState&&7!=
c.tlvState)e(b,"vastId "+d+" - vpaid adcomplete callback on invalid state - ignoring - "+c.tlvState,!1);else{c.tlvState=8;b.anyPlaying=aa(b,d);b.anyPlaying||ca(b);null!=c.startAdSwitcher&&(clearTimeout(c.startAdSwitcher),c.startAdSwitcher=null);if(c.skipVastTracker)e(b,"vastId "+d+" - skip vast tracker mode, calling directly",!1),c.vtCompleteFunc(c);else if(null==c.vastTracker)r(b,c.vastId,3,"no vastTracker for complete",!1,c,!1,!1,"vastTracker error");else{if(c.vastTracker.quartiles&&c.vastTracker.quartiles.thirdQuartile){var g=
c.vastTracker.quartiles.thirdQuartile;if(!c.vastTracker.progress||c.vastTracker.progress<=g)e(b,"vastId "+c.vastId+" - advancing progress accordingly",!1),c.vastTracker.setProgress(g)}c.vastTracker.complete()}"vpaid"==b.mode&&(b.vpaidObj.call("jsAdComplete",{},!0),b.vpaidObj.call("jsAdStopped",{},!0));CEDATO_BROWSER.oldIE?setTimeout(function(){S(b,c)},3E3):setTimeout(S,3E3,b,c);b.frozen?e(b,"vastId "+d+" - frozen - finishing here",!1):(b.readyForStartAd&&Da(b),w(b))}}else e(b,"got vpaid adComplete callback for a gone uniq",
!1)}function Ra(b,a){var c=A(b,a);if(c){if(B(b,c),e(b,"vastId "+c.vastId+" - got flash adStopped callback",!1),6==c.tlvState||7==c.tlvState)e(b,"triggering manual AdComplete",!1),ma(b,a)}else e(b,"got flash adStopped callback for a gone uniq",!1)}function xa(b,a,c){(a=A(b,a))?(b.apiInterface.trigger("click",{url:c,vastId:a.vastId}),e(b,"vastId "+a.vastId+" - got flash click through callback",!1),a.skipVastTracker?(e(b,"vastId "+a.vastId+" - skip vast tracker mode, calling directly",!1),a.vtClickThroughFunc(c,
a)):null==a.vastTracker?r(b,a.playerData.vastId,3,"no vastTracker for click",!1,a,!1,!1,"vastTracker error"):a.vastTracker.click(),"vpaid"==b.mode&&b.vpaidObj.call("jsAdClickthrough",{url:c},!0)):e(b,"got flash click callback for a gone uniq",!1)}function Sa(b,a,c){(a=A(b,a))?(e(b,"vastId "+a.vastId+" - got vpaid ad duration time callback, t: "+c,!0),a.duration=c,a.durationKnown=!0,a.vastTracker&&(a.vastTracker.duration=a.duration,a.vastTracker.setDuration(a.duration)),"vpaid"==b.mode&&b.vpaidObj.call("jsAdDurationChange",
{duration:c},!0)):e(b,"got vpaid duration change callback for a gone uniq",!1)}function wa(b,a,c){(a=A(b,a))?(e(b,"vastId "+a.vastId+" - got flash ad remaining time callback, t: "+c,!0),!a.durationKnown||6>a.tlvState?(e(b,"vastId "+a.vastId+" - got first flash ad remaining time callback, duration set to t: "+c,!0),a.duration=c,a.durationKnown=!0,a.vastTracker&&(a.vastTracker.duration=a.duration,a.vastTracker.setDuration(a.duration)),"vpaid"==b.mode&&b.vpaidObj.call("jsAdDurationChange",{duration:c},
!0)):a.vastTracker&&a.vastTracker.setProgress(a.duration-c),"vpaid"==b.mode&&b.vpaidObj.call("jsAdRemainingTimeChange",{remainingTime:c},!0)):e(b,"got flash remaining callback for a gone uniq",!1)}function hb(b){b.anyVPWLoaded=0;if(b.reportVPWLoaded){b.reportVPWLoaded=!0;b.reportVPWLoadedCount=0;e(b,"vpws - reporting state 0",!1);CEDATO_EVENT_LOGGER.log(CEDATO_EVENT_LOGGER.E_VPWS,b,{time:0,state:0},e);var a=function(b){try{e(b,"vpws 10 seconds interval",!1);b.reportVPWLoadedCount++;var a=10*b.reportVPWLoadedCount,
c=!1;0<b.anyVPWLoaded||4<b.reportVPWLoadedCount?(e(b,"vpws 10 seconds interval - time to stop",!1),c=!0):(e(b,"vpws - reporting state 0",!1),CEDATO_EVENT_LOGGER.log(CEDATO_EVENT_LOGGER.E_VPWS,b,{time:a,state:0},e));c&&(clearInterval(b.reportVPWStateInterval),b.reportVPWStateInterval=null)}catch(f){J(b,3,"rvpwIntervalFunc gave JS exception: "+f.message)}};b.reportVPWStateInterval=CEDATO_BROWSER.oldIE?setInterval(function(){a(b)},1E4):setInterval(a,1E4,b)}b.floadSuccessCallbackFuncName="flsc"+Math.floor(1000001*
Math.random());h[b.floadSuccessCallbackFuncName]=function(b,a,c,f){try{var d=h[b],g=A(d,a);if(g){var k=g.vastId;e(d,"vastId "+k+" - got fload success callback "+c,!1);d.logVastResponse&&(e(d,"vastId "+g.vastId+" - fload response:",!1),e(d,f,!1));if(g.floadCbs[c]){var l={};l.players=d;l.playerData=g;l.urlhandler=Ea;var m=CEDATO_BROWSER.parseTextToXML(f);if(!m)return e(d,"vastId "+k+" - fload failed - no xmlDocument",!1),g.floadCbs[c](null,null,l);CEDATO_BROWSER.oldIE?setTimeout(function(){g.floadCbs[c](null,
m,l)},10):setTimeout(g.floadCbs[c],0,null,m,l)}else e(d,"vastId "+k+" - fload success cb disappeared "+c,!1)}else e(d,"got fload success callback for a gone uniq",!1)}catch(n){d=h[b],g=A(d,a),k=g.vastId,r(d,k,3,"fload success callback gave JS exception: ",n,g)}};b.floadFailureCallbackFuncName="flfc"+Math.floor(1000001*Math.random());h[b.floadFailureCallbackFuncName]=function(b,a,c,f,d){try{var g=h[b],k=A(g,a);if(k){var l=k.vastId;e(g,"vastId "+l+" - got fload failure callback "+c+", errorCode: "+
f+", errorMessage: "+d,!1);if(k.floadCbs[c]){var m={};m.players=g;m.playerData=k;m.urlhandler=Ea;CEDATO_BROWSER.oldIE?setTimeout(function(){k.floadCbs[c](null,null,m)},10):setTimeout(k.floadCbs[c],0,null,null,m)}else e(g,"vastId "+l+" - fload failure cb disappeared "+c,!1)}else e(g,"got fload failure callback for a gone uniq",!1)}catch(n){g=h[b],k=A(g,a),l=k.vastId,r(g,l,3,"fload failure callback gave JS exception: ",n,k)}};b.successCallbackFuncName="sc"+Math.floor(1000001*Math.random());h[b.successCallbackFuncName]=
function(b,a,c){try{var f=h[b],d=A(f,a);if(d){var g=d.vastId;if("undefined"===typeof c||0>c)c="";e(f,"vastId "+g+" - got flash success callback, uniqId: "+a+", mem used: "+c,!1);CEDATO_BROWSER.oldIE?setTimeout(function(){Ca(f,d)},10):setTimeout(Ca,0,f,d)}else e(f,"got fload success callback for a gone uniq",!1)}catch(k){(f=h[b])&&a&&(d=A(f,a),g=d.vastId,r(f,g,3,"flash success callback gave JS exception: ",k,d))}};b.failureCallbackFuncName="fc"+Math.floor(1000001*Math.random());h[b.failureCallbackFuncName]=
function(b,a,c,f){try{var d=h[b],g=A(d,a);if(!g&&d)e(d,"got flash failure callback for a gone uniq",!1);else{var k=function(b,a,c,f,d,g){c=a.vastId;e(b,"vastId "+c+" - got flash failure callback, errorCode: "+d+", errorMessage: "+g,!1);a.tlvState=10;a.errorCount+=1;K(b,a,!0);G(a,0);-1!=g.indexOf("#2035")&&(d=2035,g="URL not found");-1!=g.indexOf("#2036")&&(d=2036,g="Load not completed");r(b,c,d,"flash failure called: "+g,!1,a,!1,!0);try{a.flashElement[a.flashEICallbacks]("clearAd",a.uniqId)}catch(h){}};
CEDATO_BROWSER.oldIE?setTimeout(function(){k(d,g,b,a,c,f)},0):setTimeout(k,0,d,g,b,a,c,f)}}catch(l){d=h[b],g=A(d,a),r(d,g.vastId,3,"flash failure callback gave JS exception: ",l,g)}};b.adLoadedCallbackFuncName="al"+Math.floor(1000001*Math.random());h[b.adLoadedCallbackFuncName]=function(b,a,c){try{var f=h[b],d=A(f,a),e=d.vastId;CEDATO_BROWSER.oldIE?setTimeout(function(){ia(f,a,c)},10):setTimeout(ia,0,f,a,c)}catch(g){f=h[b],d=A(f,a),e=d.vastId,r(f,e,3,"flash adLoaded callback gave JS exception: ",
g,d)}};b.adStartedCallbackFuncName="al"+Math.floor(1000001*Math.random());h[b.adStartedCallbackFuncName]=function(b,a){try{var c=h[b];CEDATO_BROWSER.oldIE?setTimeout(function(){ka(c,a)},10):setTimeout(ka,0,c,a)}catch(f){var d=A(c,a);r(c,d.vastId,3,"flash started callback gave JS exception: ",f,d)}};b.adImpressionCallbackFuncName="ai"+Math.floor(1000001*Math.random());h[b.adImpressionCallbackFuncName]=function(b,a,c){try{var f=h[b];CEDATO_BROWSER.oldIE?setTimeout(function(){la(f,a,c)},10):setTimeout(la,
0,f,a,c)}catch(d){b=A(f,a),r(f,b.vastId,3,"flash impression callback gave JS exception: ",d,b)}};b.adErrorCallbackFuncName="ae"+Math.floor(1000001*Math.random());h[b.adErrorCallbackFuncName]=function(b,a,c){try{var f=h[b];b=A(f,a);CEDATO_BROWSER.oldIE?setTimeout(function(){sa(f,a,c)},50):setTimeout(sa,50,f,a,c)}catch(d){b=A(f,a),r(f,b.vastId,3,"flash adError callback gave JS exception: ",d,b)}};b.adFirstQuartileEventCallbackFundName="afq"+Math.floor(1000001*Math.random());h[b.adFirstQuartileEventCallbackFundName]=
function(b,a){try{var c=h[b];CEDATO_BROWSER.oldIE?setTimeout(function(){ta(c,a)},10):setTimeout(ta,0,c,a)}catch(f){var d=A(c,a);r(c,d.vastId,3,"flash onFirstQuartile callback gave JS exception: ",f,d)}};b.adMidpointEventCallbackFuncName="am"+Math.floor(1000001*Math.random());h[b.adMidpointEventCallbackFuncName]=function(b,a){try{var c=h[b];CEDATO_BROWSER.oldIE?setTimeout(function(){ua(c,a)},10):setTimeout(ua,0,c,a)}catch(f){var d=A(c,a);r(c,d.vastId,3,"flash onMidpoint callback gave JS exception: ",
f,d)}};b.adThirdQuartileEventCallbackFundName="atq"+Math.floor(1000001*Math.random());h[b.adThirdQuartileEventCallbackFundName]=function(b,a){try{var c=h[b];CEDATO_BROWSER.oldIE?setTimeout(function(){va(c,a)},10):setTimeout(va,0,c,a)}catch(f){var d=A(c,a);r(c,d.vastId,3,"flash onThirdQuartile callback gave JS exception: ",f,d)}};b.adCompleteEventCallbackFuncName="ac"+Math.floor(1000001*Math.random());h[b.adCompleteEventCallbackFuncName]=function(b,a){try{var c=h[b];CEDATO_BROWSER.oldIE?setTimeout(function(){ma(c,
a)},0):setTimeout(ma,0,c,a)}catch(f){var d=A(c,a);r(c,d.vastId,3,"flash onComplete callback gave JS exception: ",f,d)}};b.adClickthroughCallbackFuncName="acl"+Math.floor(1000001*Math.random());h[b.adClickthroughCallbackFuncName]=function(b,a,c){try{var f=h[b];CEDATO_BROWSER.oldIE?setTimeout(function(){xa(f,a,c)},10):setTimeout(xa,0,f,a,c)}catch(d){b=A(f,a),r(f,b.vastId,3,"flash onClickthrough callback gave JS exception: ",d,b)}};b.adSetCompanionsCallbackFuncName="sccl"+Math.floor(1000001*Math.random());
h[b.adSetCompanionsCallbackFuncName]=function(b,a,c){try{var f=h[b],d=function(b,a,c){(b=A(f,a))?(e(f,"vastId "+b.vastId+" - got flash set companions HTML callback",!1),b.companionHTML=c,b.companionHTML&&b.companionsElementDiv&&(b.companionsElementDiv.innerHTML=b.companionHTML)):e(f,"got flash set companions callback for a gone uniq",!1)};CEDATO_BROWSER.oldIE?setTimeout(function(){d(b,a,c)},10):setTimeout(d,0,b,a,c)}catch(g){var k=A(f,a);r(f,k.vastId,3,"flash onSetCompanionsHTML callback gave JS exception: ",
g,k)}};b.adRemainingtimeChangeCallbackFuncName="art"+Math.floor(1000001*Math.random());h[b.adRemainingtimeChangeCallbackFuncName]=function(b,a,c){try{var f=h[b];CEDATO_BROWSER.oldIE?setTimeout(function(){wa(f,a,c)},10):setTimeout(wa,0,f,a,c)}catch(d){b=A(f,a),r(f,b.vastId,3,"flash ad remaining time callback gave JS exception: ",d,b)}}}function Ua(b){var a="",c;for(c in b)b.hasOwnProperty(c)&&(a+="property: "+c+" value: ["+b[c]+"]\n");return a+="toString():  value: ["+b.toString()+"]"}function J(b,
a,c,d){d&&(c+=Ua(d));CEDATO_EVENT_LOGGER.log(CEDATO_EVENT_LOGGER.E_PLAYER_ERROR,b,{errorCode:a,errorMessage:c},e);e(b,"errorCode "+a+" - "+c,!1);3!=a||b.keepDebugLog||b.debugLogSubmittedDueToException||!b.submitDebugLogOnPlayerError||(b.debugLogReason="player error",y(b),n(b),b.debugLogSubmittedDueToException=!0)}function r(b,a,c,d,g,h,k,l,m){var p,q="";if("undefined"!==typeof h&&h){if(3!=c&&1<h.errorCount)return;p="";q=5<=h.tlvState?((new Date).getTime()-h.startAdTime)/1E3:((new Date).getTime()-
h.loadAdTime)/1E3;q=q.toFixed(1)}else p="";"undefined"===typeof k&&(k=!1);"undefined"===typeof l&&(l=!1);"undefined"===typeof m&&(m="vast error");g&&(d+=Ua(g));g={playerId:h.playerId,vastId:a,errorCode:c,errorMessage:d,mediaURL:p};k&&(g.logStartRequest=1);l&&(g.logLoadRequest=1);""!=q&&(g.time=q);CEDATO_EVENT_LOGGER.log(CEDATO_EVENT_LOGGER.E_VAST_ERROR,b,g,e);e(b,"vastId "+a+" - errorCode "+c+" - "+d,!1);3!=c||b.keepDebugLog||b.debugLogSubmittedDueToException||!b.submitDebugLogOnVastError||(b.debugLogReason=
m,y(b),n(b),b.debugLogSubmittedDueToException=!0)}function Fa(){var b=h.navigator.userAgent;return 0<b.indexOf("MSIE ")?parseInt(b.split("MSIE")[1]):0<b.indexOf("Trident/")?11:0<b.indexOf("Edge/")?12:!1}function ib(b,a){null!=a.vpwWaitFunc&&(clearInterval(a.vpwWaitFunc),a.vpwWaitFunc=null);a.vpwWaitRetries=0;var c=function(a,b){try{b.vpwWaitRetries++;var c=!1,f="";try{b.flashEICallbacks=b.flashElement.connectToJSPlayer(a.playersStorageName,a.vpPlayCallbackFuncName,a.vpStopCallbackFuncName,a.vpDebugCallbackFuncName,
a.vpResizeAdCallbackFuncName,a.vpSetAdVolumeCallbackFuncName,a.vpPauseCallbackFuncName,a.vpResumeCallbackFuncName),b.flashEICallbacks&&""!=b.flashEICallbacks&&(c=!0,a.singleVPW&&(a.flashEICallbacks=b.flashEICallbacks))}catch(d){f=d.message}if(c){e(a,"vastId "+b.vastId+" - vpw finished init",!1);clearInterval(b.vpwWaitFunc);b.vpwWaitFunc=null;b.vpwLoaded=2;setTimeout(function(){b.flashElementDiv.style.top="0px";b.flashElementDiv.style.left="0px"},50);b.vpwLoadRetry=0;if(2>a.anyVPWLoaded&&(a.anyVPWLoaded=
2,a.reportVPWLoaded)){var g=((new Date).getTime()-a.startTime)/1E3,g=g.toFixed(1),h=((new Date).getTime()-a.firstVPWInitTime)/1E3,h=h.toFixed(1);e(a,"vpws - reporting state 2",!1);CEDATO_EVENT_LOGGER.log(CEDATO_EVENT_LOGGER.E_VPWS,a,{time:g,state:2,time2:h},e)}null==a.fpwReadyTime&&(g=((new Date).getTime()-a.startTime)/1E3,g=g.toFixed(1),a.fpwReadyTime=g);1==b.tlvState&&(e(a,"vastId "+b.vastId+" - has schedule media load - calling now",!1),pa(a,b))}else c=5,Fa()&&(c=10),b.vpwWaitRetries>5*c&&(clearInterval(b.vpwWaitFunc),
b.vpwWaitFunc=null,Ga(a),e(a,"vastId "+b.vastId+" - vpw won't init on time, last error message: "+f,!1),K(a,b,!0))}catch(d){J(a,3,"vpwWaitFunc gave JS exception: "+d.message,d)}};a.vpwWaitFunc=CEDATO_BROWSER.oldIE?setInterval(function(){c(b,a)},50):setInterval(c,50,b,a)}function ya(b,c){b.singleVPW&&!b.flashElement&&b.callingFlashObject&&(b.flashElement=b.callingFlashObject,e(b,"using calling flash object as vpw",!1));if(b.singleVPW&&b.flashElement)e(b,"vastId "+c.vastId+" - single vpw, using player vpw",
!1),c.flashElement=b.flashElement,c.flashEICallbacks=b.flashEICallbacks,c.vpwLoaded=2;else{var d=c.vastId+"-"+Math.floor(1000001*Math.random()),g=a.createElement("div");g.id=d;b.singleVPW?b.flashElementDiv.appendChild(g):c.flashElementDiv.appendChild(g);g="vpwid"+Math.floor(1000001*Math.random());g={data:b.vpwURL+b.vpwVersion,width:b.width,height:b.height,id:g,name:g};e(b,"vastId "+c.vastId+" - vpw url: "+g.data,!1);c.flashElement=CEDATO_SWF.swfobject.createSWF(g,{flashvars:"",allowscriptaccess:"always",
wmode:"opaque"},d);c.vpwLoaded=0;c.flashEICallbacks="";b.singleVPW&&(b.flashElement=c.flashElement)}}function Ha(b){if("vpaid"!=b.mode){var f=b.protocol+b.conf.content.defaultLoader;b.content&&b.content.loader_image_url&&(f=b.content.loader_image_url);var g=b.protocol+b.conf.content.playButton,h=[];if(b.content&&b.content.url&&1==b.content.type)for(var l=b.content.url.split(","),m=0,n=l.length;m<n;m++)b.usejsv&&b.mainAutoplay?h.push(c(l[m],b,null,"c")):h.push(k(b.protocol,l[m]));try{b.contentUrlPlayer=
new CEDATO_CONTENT.ContentUnit({parentDiv:b.divElem,contentUrl:h,bannerUrl:f,clickUrl:b.content.click,playButtonUrl:g,autoPlay:!!b.content.autoplay,volume:b.allowSound?.8:0,loop:!!b.content.loop,controlBar:!!b.controlBar,videoSupport:b.hasVideoSupport,customCreateVideoElement:function(){return b.usejsv&&!b.mainAutoplay?a.createElement("video"):d(b)},userStartPlayingCallback:function(){b.content.playFull&&0!==h.length||(b.content.autoplay=!0,b.autoplay=!0,w(b,!0))},endContentVideoCallback:function(){b.content.playFull&&
(b.anyPlaying||(b.autoplay=!0),b.usejsv&&!b.mainAutoplay&&b.contentUrlPlayer.hideContent(),w(b,!0))},userClick:function(a){b.apiInterface.trigger("click",{url:b.content.click,vastId:null})},onError:function(a,c){e(b,"Error loading content video: "+b.content.url+" msg:"+c,!1)}})}catch(p){J(b,3,"createRotator rotatorDiv gave JS exception: "+p.message,p)}}}function ca(a){if("single"==a.mode)if(a.contentUrlPlayer)try{a.contentUrlPlayer.showContent()}catch(c){Ha(a)}else Ha(a)}function Ga(a){if(Fa()&&(!a.vpwVersionRenewed||
10<((new Date).getTime()-a.vpwVersionRenewed)/1E3)){a.vpwVersionRenewedCount?a.vpwVersionRenewedCount++:a.vpwVersionRenewedCount=1;if(3<a.vpwVersionRenewedCount)return!1;e(a,"IE detected - using random vpw version",!1);a.vpwVersion=Math.floor(1000001*Math.random());a.vpwVersionRenewed=(new Date).getTime();return!0}return!1}function Va(a,c){c.vpwStartLoadTime=(new Date).getTime();null!=c.flashInitialTimeout&&(clearInterval(c.flashInitialTimeout),c.flashInitialTimeout=null);null!=c.flashLoadCheckInterval&&
(clearInterval(c.flashLoadCheckInterval),c.flashLoadCheckInterval=null);c.vpwLoaded=0;e(a,"vastId "+c.vastId+" - loadVPW - setting FIT",!1);var d=function(a,b){try{if(b.flashElement&&"undefined"!==typeof b.flashElement.PercentLoaded){clearInterval(b.flashInitialTimeout);b.flashInitialTimeout=null;e(a,"vastId "+b.vastId+" - vpw - started to load flash",!1);null!=b.flashLoadCheckInterval&&(clearInterval(b.flashLoadCheckInterval),b.flashLoadCheckInterval=null);var c=function(a,b){try{if(b.flashElement&&
"undefined"!==typeof b.flashElement.PercentLoaded&&b.flashElement.PercentLoaded()&&100===b.flashElement.PercentLoaded()){clearInterval(b.flashLoadCheckInterval);b.flashLoadCheckInterval=null;e(a,"vastId "+b.vastId+" - vpw - flash loaded",!1);b.vpwLoaded=1;if(1>a.anyVPWLoaded&&(a.anyVPWLoaded=1,a.reportVPWLoaded)){var c=((new Date).getTime()-a.startTime)/1E3,c=c.toFixed(1);a.firstVPWInitTime=(new Date).getTime();e(a,"vpws - reporting state 1",!1);CEDATO_EVENT_LOGGER.log(CEDATO_EVENT_LOGGER.E_VPWS,
a,{time:c,state:1},e)}if(0==b.vastId){if(a.prevpwDiv){e(a,"destroying pre vpw",!1);try{a.prevpwDiv.innerHTML="",a.prevpwDiv.parentNode.removeChild(a.prevpwDiv)}catch(f){}a.vpwCached=!0;a.prevpwDiv=null;Wa(a)}}else ib(a,b)}}catch(f){-1==f.message.indexOf("NPObject")&&f.message.indexOf("defineGetter")}};b.flashLoadCheckInterval=CEDATO_BROWSER.oldIE?setInterval(function(){c(a,b)},200):setInterval(c,200,a,b)}else 0!=b.vastId&&7E3<(new Date).getTime()-b.vpwStartLoadTime&&(b.vpwLoadRetry++,clearInterval(b.flashInitialTimeout),
Ga(a),K(a,b,!0))}catch(f){f.message&&-1==f.message.indexOf("NPObject")&&-1==f.message.indexOf("defineGetter")&&J(a,3,"flashInitialTimeout2 gave JS exception: "+f.message);var d=(new Date).getTime();0!=b.vastId&&7E3<d-b.vpwStartLoadTime&&(b.vpwLoadRetry++,clearInterval(b.flashInitialTimeout),b.flashInitialTimeout=null,e(a,"vastId "+b.vastId+" - vpw timeouted starting to load",!1),K(a,b,!0))}};c.flashInitialTimeout=CEDATO_BROWSER.oldIE?setInterval(function(){d(a,c)},100):setInterval(d,100,a,c)}function K(a,
c,d){if(a.domReady){"undefined"!==typeof c.flashElement&&c.flashElement||(e(a,"vastId "+c.vastId+" - flash disappeared",!1),ya(a,c));if(d&&(e(a,"vastId "+c.vastId+" - loadVPW - handling reload",!1),!a.singleVPW))try{try{if(c.flashElement&&c.flashEICallbacks)c.flashElement[c.flashEICallbacks]("clearAd",c.uniqId)}catch(g){}c.vpwLoaded=0;c.flashEICallbacks=null;try{CEDATO_SWF.swfobject.removeSWF(c.flashElement.id)}catch(g){e(a,"vastId "+c.vastId+" - loadVPW - removeSWF failed",!1)}c.flashElementDiv.innerHTML=
"";c.flashElement=null;ya(a,c);e(a,"vastId "+c.vastId+" - loadVPW - flash element created",!1)}catch(g){e(a,"vastId "+c.vastId+" - loadVPW - exception - element must have vanished - recreating",!1),c.flashElementDiv.innerHTML="",ya(a,c)}a.callingFlashObject||Va(a,c);e(a,"vastId "+c.vastId+" - loadVPW - done",!1)}else e(a,"vastId "+c.vastId+" - loadVPW - called before dom ready",!1)}function Wa(a){e(a,"post prepare",!1);if(a.domReady)for(var c=0,d=a.plist.length;c<d;c++){var g=a.plist[c];a.vpwCached&&
Pa(a,g);1==g.tlvState&&("flvpaid"!=g.adType||2==g.vpwLoaded&&a.vpwCached&&"flvpaid"==g.adType?(e(a,"vastId "+g.vastId+" has schedule media load - calling now",!1),pa(a,g)):e(a,"vastId "+g.vastId+" has schedule media load but it's flash and vpw is not ready",!1))}else e(a,"post prepare - dom not ready yet - we'll wait",!1)}function na(b,c){if(0==b.domReadyTime)try{if(e(b,"on dom load",!1),b.rootDivElem||(b.rootDivElem=a.getElementById(b.divId)),b.rootDivElem){b.domLoadTimeout&&(clearTimeout(b.domLoadTimeout),
b.domLoadTimeout=null);var d=((new Date).getTime()-b.startTime)/1E3,d=d.toFixed(1);b.domReadyTime=d;e(b,"ondomload - adding div",!1);b.width=b.rootDivElem.clientWidth;b.height=b.rootDivElem.clientHeight;b.divElem=a.createElement("div");b.divElem.style.cssText="width:100%; height:100%; display: block; overflow:hidden; position: relative; margin: 0; padding: 0; border: 0; background-color: black; top: 0; left 0;";b.rootDivElem.appendChild(b.divElem);e(b,"ondomload - creating rotator",!1);Ha(b);b.domReady=
!0;Wa(b)}else if(c>b.conf.maxDomLoadTimes)b.domLoadTimeout&&(clearTimeout(b.domLoadTimeout),b.domLoadTimeout=null),J(b,6,"div element not found tlvPlayerDomLoaded: "+b.divId);else{e(b,"domload timeout "+c+" retrying in "+b.conf.domLoadRetryTimeout,!1);b.domLoadTimeout&&(clearTimeout(b.domLoadTimeout),b.domLoadTimeout=null);var g=function(a,b){try{e(a,"domload timeout",!1),a.domLoadTimeout=null,a.domLoadTimeout&&(clearTimeout(a.domLoadTimeout),a.domLoadTimeout=null),na(a,b+1)}catch(c){}};b.domLoadTimeout=
CEDATO_BROWSER.oldIE?setTimeout(function(){g(b,c)},b.conf.domLoadRetryTimeout):setTimeout(g,b.conf.domLoadRetryTimeout,b,c)}}catch(h){J(b,3,"tlvPlayerDomLoaded gave JS exception: "+h.message,h)}}function Da(a){if(!a.frozen)if(a.parallelStartAd){for(var c=!0,d=0,g=a.plist.length;d<g;d++)if("1"==a.plist[d].group&&0==a.plist[d].errorCount){c=!1;break}if(c)e(a,"all have errors, not reseting readyForStartAd",!1);else{e(a,"reseting readyForStartAd",!1);a.readyForStartAd=!1;null!=a.initialStartAd&&(clearTimeout(a.initialStartAd),
a.initialStartAd=null);var h=function(a){e(a,"readyForStartAd",!1);a.readyForStartAd=!0;a.initialStartAd=null;w(a)};a.initialStartAd=CEDATO_BROWSER.oldIE?setTimeout(function(){h(a)},12E3):setTimeout(h,12E3,a)}}else a.readyForStartAd=!0}function Oa(a,c,d){e(a,"initializing player for vastId "+c.id+", url: "+c.url,!1);var g=[];g.videoElement=null;g.flashElement=null;g.jsVPAIDElement=null;g.jsVPAIDElementDiv=null;g.initAdEnvObject=null;g.companionsElementDiv=null;g.maxFailedVastRetries=0;g.adType=null;
g.previousAdType=null;g.firedEvents={};g.vastPreferType=0;g.corsType=null;g.group=c.group;g.vastURL=c.url;g.vastId=c.id;g.playerId=c.pid?c.pid:a.playerId;c.mvr&&(g.maxFailedVastRetries=c.mvr);c.vt&&(g.vastPreferType=c.vt);c.ct&&(g.corsType=c.ct);g.longStartAd=!!c.lsa;g.expectedSureFastStart=!!c.sff;g.expectedSureFastStart=!1;g.playersStorageName=a.playersStorageName;g.tlvState=0;g.vpwLoaded=0;g.vpwLoadRetry=0;g.errorCount=0;g.startAdStopper=null;g.startAdHalfStopper=null;g.startAdSwitcher=null;g.playVideoRetry=
null;g.requeryTimeout=null;g.initAdThrottler=null;g.vpwWaitFunc=null;g.flashInitialTimeout=null;g.flashLoadCheckInterval=null;a.curUniq++;g.uniqId=a.curUniq;g.roundNo=0;g.freqRetry=a.usejsv;g.isIMA=!1;"undefined"!==typeof d&&d?a.plist.splice(d,0,g):a.plist.push(g);return g}function Pa(b,c){if(b.flashSupport){if(b.singleVPW){if(!b.flashElementDiv){b.flashElementDiv=a.createElement("div");b.flashElementDiv.style.position="absolute";try{b.flashElementDiv.style.top="-1000px"}catch(d){}b.flashElementDiv.style.zIndex=
"1";b.divElem.appendChild(b.flashElementDiv)}c.flashElementDiv=b.flashElementDiv}else{c.flashElementDiv=a.createElement("div");c.flashElementDiv.style.position="absolute";try{c.flashElementDiv.style.top="-1000px"}catch(d){}c.flashElementDiv.style.zIndex="1";b.divElem.appendChild(c.flashElementDiv)}ya(b,c);null===c.flashElement?J(b,4,"failed to create flash element"):K(b,c,!1)}}function Ta(a){a.jsVPAIDElementDiv&&(a.jsVPAIDElementDiv.style.display="none");try{a.jsVPAIDElement&&(a.jsVPAIDElement.stopAd(),
a.jsVPAIDElement.clearAd&&a.jsVPAIDElement.clearAd())}catch(c){}try{a.jsVPAIDElementDiv&&a.jsVPAIDElementDiv.parentNode.removeChild(a.jsVPAIDElementDiv)}catch(c){}a.jsVpaidFrame=null;a.vpaidJsIframeAdElem=null;a.vpaidJsIframeVideo=null;a.vpaidJsIframeVideoCanvas=null;a.jsVPAIDElement=null;a.jsVPAIDElementDiv=null}function S(a,c,d){try{"undefined"===typeof d&&(d=!1);var g=c.vastId;e(a,"vastId "+c.vastId+" - destroying player data, immediate: "+d,!1);c.destroyMe=!0;for(var h=null,k=0,l=a.plist.length;k<
l;k++)if(a.plist[k].destroyMe){h=k;break}if(null===h)return!1;a.plist.splice(h,1);null!=c.flashInitialTimeout&&(clearInterval(c.flashInitialTimeout),c.flashInitialTimeout=null);null!=c.flashLoadCheckInterval&&(clearInterval(c.flashLoadCheckInterval),c.flashLoadCheckInterval=null);null!=c.requeryTimeout&&(clearInterval(c.requeryTimeout),c.requeryTimeout=null);null!=c.requeryTimeout&&(clearTimeout(c.startAdSwitcher),c.startAdSwitcher=null);null!=c.startAdHalfStopper&&(clearTimeout(c.startAdHalfStopper),
c.startAdHalfStopper=null);null!=c.startAdStopper&&(clearTimeout(c.startAdStopper),c.startAdStopper=null);null!=c.sameVastIdLoader&&(clearTimeout(c.sameVastIdLoader),c.sameVastIdLoader=null);null!=c.startAdSwitcher&&(clearTimeout(c.startAdSwitcher),c.startAdSwitcher=null);null!=c.initAdThrottler&&(clearInterval(c.initAdThrottler),c.initAdThrottler=null);null!==c.playVideoRetry&&(clearInterval(c.playVideoRetry),c.playVideoRetry=null);if(c.videoElement)try{c.videoElement.parentNode.removeChild(c.videoElement)}catch(m){e(a,
"ve removeChild gave exception: "+m.message,!1)}"jsvpaid"==c.adType&&Ta(c);if(a.flashSupport)if(a.singleVPW)n=function(a,b){try{c.flashElement[c.flashEICallbacks]("removeVpaid",b)}catch(d){e(a,"flash removeFunc gave exception: "+d.message,!1)}},d?n(a,c.uniqId):CEDATO_BROWSER.oldIE?setTimeout(function(){n(a,c.uniqId)},1E4):setTimeout(n,1E4,a,c.uniqId);else{c.flashElementDiv&&(c.flashElementDiv.style.zIndex="0");try{if(c.flashElement&&c.flashEICallbacks)c.flashElement[c.flashEICallbacks]("clearAd",
c.uniqId)}catch(m){}var n=function(a,b,c){try{CEDATO_SWF.swfobject.removeSWF(c.id)}catch(d){}try{b&&b.parentNode.removeChild(b),b.innerHTML=""}catch(d){e(a,"removeFunc gave exception: "+d.message,!1)}};c.flashElementDiv&&c.flashElement&&(d?n(a,c.flashElementDiv,c.flashElement):CEDATO_BROWSER.oldIE?setTimeout(function(){n(a,c.flashElementDiv,c.flashElement)},1E4):setTimeout(n,1E4,a,c.flashElementDiv,c.flashElement))}try{c.companionsElementDiv&&(c.companionsElementDiv.parentNode.removeChild(c.companionsElementDiv),
c.companionsElementDiv.innerHTML="",c.companionsElementDiv=null)}catch(m){e(a,"remove companions div gave exception: "+m.message,!1)}}catch(m){r(a,g,3,"destroy player data exception: "+m.message,m,c,!1,!1,"destroy player")}}function Na(a,c){"undefined"===typeof c&&(c=!1);c?e(a,"destroying all players except for vastId "+c,!1):e(a,"destroying all players",!1);for(var d=!0;d;)for(var d=!1,g=0,h=a.plist.length;g<h;g++)if(a.plist[g].vastId!=c){S(a,a.plist[g],!0);d=!0;break}}function jb(b,c){var d=null;
if(c){e(b,"prepare calling flash object",!1);"null"!=c&&(d=-1!=navigator.appName.indexOf("Microsoft")?h[c]:a[c]);if(null==d){for(var g=a.getElementsByTagName("object"),k=0,l=g.length;k<l;k++)if(g[k].connectToJSPlayer){d=g[k];break}if(null==d)for(g=a.getElementsByTagName("embed"),k=0,l=g.length;k<l;k++)if(g[k].connectToJSPlayer){d=g[k];break}}else e(b,"got connceting clash object from prms",!1);if(null==d)return e(b,"could not identify calling object",!1),!1;if(!d.connectToJSPlayer)return e(b,"flash connect callback not found",
!1),!1;b.allowLongImpressions=!0}b.callingFlashObject=d}function Xa(a){for(var c=0,d=a.plist.length;c<d;c++)if(6==a.plist[c].tlvState)return a.plist[c];return!1}function Ya(a,c){e(c,a+" resume callback called",!1);var d=Xa(c);if(d)if(c.apiInterface.trigger("adplay",{vastId:d.vastId,playerId:c.playerId,subid:c.subid}),e(c,a+" resume - got playing playerData, vastId: "+d.vastId,!1),"flvpaid"==d.adType){if(d.flashElement)try{d.flashElement[d.flashEICallbacks]("vpwResumeAd",d.uniqId)}catch(g){e(c,a+" resume gave JS exception on flashElement pause: "+
g.message)}}else if("jsvpaid"==d.adType)try{d.jsVPAIDElement.resumeAd()}catch(g){e(c,a+" pause gave JS exception on vpaidjs pause: "+g.message)}else{if("video"==d.adType)try{d.videoElement.play()}catch(g){e(c,a+" resume gave JS exception on videoElement pause: "+g.message)}}else e(c,a+" resume - no playing playerData",!1),c.contentUrlPlayer&&c.contentUrlPlayer.isVisible()?c.contentUrlPlayer.playContent():(c.autoplay=!0,c.autoplayOverwrite=!0,w(c,!0),c.anyPlaying||(c.autoplay=!0,c.autoplayOverwrite=
!0),e(c,"vp resume - no playing playerData",!1))}function Za(a,c){c.apiInterface.trigger("adplay",{vastId:null,playerId:c.playerId,subid:c.subid});c.autoplayOverwrite=!0;c.autoplay=!0;e(c,a+" play callback called",!1);w(c,!0);c.anyPlaying||(c.autoplay=!0)}function $a(a,c){e(c,a+" pause callback called",!1);var d=Xa(c);if(d)if(c.apiInterface.trigger("adpause",{vastId:d.vastId,playerId:c.playerId,subid:c.subid}),d.isPaused=!0,e(c,a+" pause - got playing playerData, vastId: "+d.vastId,!1),"flvpaid"==
d.adType){if(d.flashElement)try{d.flashElement[d.flashEICallbacks]("vpwPauseAd",d.uniqId)}catch(g){e(c,a+" pause gave JS exception on flashElement pause: "+g.message)}}else if("jsvpaid"==d.adType)try{d.jsVPAIDElement.pauseAd()}catch(g){e(c,a+" pause gave JS exception on vpaidjs pause: "+g.message)}else{if("video"==d.adType)try{d.videoElement.pause()}catch(g){e(c,a+" pause gave JS exception on videoElement pause: "+g.message)}}else e(c,a+" pause - no playing playerData",!1)}function ab(a,c,d,e){a.width=
c;a.height=d;a.rootDivElem.style.width=c+"px";a.rootDivElem.style.height=d+"px";for(var g=0,h=a.plist.length;g<h;g++){var k=a.plist[g];switch(k.adType){case "flvpaid":if(k.flashElement){k.flashElement.width=c;k.flashElement.height=d;try{k.flashElement[k.flashEICallbacks]("vpwResizeAd",k.uniqId,c,d,e)}catch(l){}}break;case "jsvpaid":if(k.jsVPAIDElement&&k.jsVPAIDElement.resizeAd)try{k.jsVPAIDElement.resizeAd(c,d,e)}catch(l){}}}}function Ia(a,c,d){a.allowSound=0<c;for(var e=0,g=a.plist.length;e<g;e++){var h=
a.plist[e];switch(h.adType){case "flvpaid":if(h.flashElement)try{h.flashElement[h.flashEICallbacks]("vpwVolume",h.uniqId,c)}catch(k){}break;case "jsvpaid":if(h.jsVPAIDElement&&h.jsVPAIDElement.resizeAd)try{h.jsVPAIDElement.setAdVolume(c)}catch(k){}break;case "video":"undefined"!==typeof d&&d?h.videoElement.muted=0==c:(h.videoElement.muted=!1,h.videoElement.volume=c)}}}function kb(b){e(b,"post prepare js callbacks",!1);b.vpDebugCallbackFuncName="vpd"+Math.floor(1000001*Math.random());h[b.vpDebugCallbackFuncName]=
function(a,b,c,d){try{var f=h[a.playersStorageName||a];if(""!=b)if(c){var g=b.split("\n"),k,z=g.length;for(k=0;k<z;k++)""!=g[k]&&e(f,"flash: "+g[k],!1)}else e(f,"flash: "+b,!1)}catch(l){}};if("vpaid"==b.mode){b.vpPlayCallbackFuncName="vpp"+Math.floor(1000001*Math.random());h[b.vpPlayCallbackFuncName]=function(a){try{var b=h[a.playersStorageName||a];Za("vp",b)}catch(c){e(b,"vp play gave JS exception: "+c.message)}};b.vpStopCallbackFuncName="vps"+Math.floor(1000001*Math.random());h[b.vpStopCallbackFuncName]=
function(a){try{var b=h[a.playersStorageName||a];e(b,"vp stop callback called",!1);b.autoplay=!1;b.autoplayOverwrite=!0;I(b,!1);b.vpaidObj.call("jsAdStopped",{},!0)}catch(c){e(b,"vp stop gave JS exception: "+c.message)}};b.vpPauseCallbackFuncName="vpps"+Math.floor(1000001*Math.random());h[b.vpPauseCallbackFuncName]=function(a){try{var b=h[a.playersStorageName||a];b.autoplay=!1;b.autoplayOverwrite=!0;e(b,"vp pause callback called",!1);$a("vp",b)}catch(c){e(b,"vp pause gave JS exception: "+c.message)}};
b.vpResumeCallbackFuncName="vprs"+Math.floor(1000001*Math.random());h[b.vpResumeCallbackFuncName]=function(a){try{var b=h[a.playersStorageName||a];e(b,"vp pause callback called",!1);Ya("vp",b)}catch(c){e(b,"vp resume gave JS exception: "+c.message)}};b.vpInitAdCallbackFuncName="vpia"+Math.floor(1000001*Math.random());h[b.vpInitAdCallbackFuncName]=function(b){var c=h[b.playersStorageName||b];b=b.slot;var d=c.rootDivElem?c.rootDivElem:a.getElementById(c.divId);d.parentNode.removeChild(d);b.parentNode.style.margin=
0;b.parentNode.style.padding=0;b.appendChild(d);c.vpaidObj.call("jsAdReadyToStart",{},!0)};b.vpSetAdVolumeCallbackFuncName="vpsv"+Math.floor(1000001*Math.random());h[b.vpSetAdVolumeCallbackFuncName]=function(a,b){var c=h[a.playersStorageName||a];b=a.volume||b||0;Ia(c,b,!1);e(c,"vpSetAdVolumeCallbackFuncName called",!1)};b.vpResizeAdCallbackFuncName="vprs"+Math.floor(1000001*Math.random());h[b.vpResizeAdCallbackFuncName]=function(a,b,c,d){var f=h[a.playersStorageName||a];b=a.width||b;c=a.height||c;
d=a.viewMode||d;ab(f,b,c,d);e(f,"vpResizeAdCallbackFuncName called",!1)};b.vpExpandAdCallbackFuncName="vpex"+Math.floor(1000001*Math.random());h[b.vpExpandAdCallbackFuncName]=function(a){e(h[a.playersStorageName||a],"vpExpandAdCallbackFuncName called",!1)};if("vpaid"==b.mode){var c=a.createElement("div");c.setAttribute("id",b.divId);var d="0";b.callingFlashObject&&(d="-"+b.height);c.setAttribute("style","width:"+b.width+"px;height:"+b.height+"px;position:relative;top:"+d+"px;");if(b.callingFlashObject){e(b,
"post prepare calling flash object",!1);b.flashEICallbacks=b.callingFlashObject.connectToJSPlayer(b.playersStorageName,b.vpPlayCallbackFuncName,b.vpStopCallbackFuncName,b.vpDebugCallbackFuncName,b.vpResizeAdCallbackFuncName,b.vpSetAdVolumeCallbackFuncName,b.vpPauseCallbackFuncName,b.vpResumeCallbackFuncName);if(!b.flashEICallbacks||""===b.flashEICallbacks)return e(b,"flash connect callback returned an error",!1),!1;b.vpaidObj.initObj(b.callingFlashObject,"fl",b.playersStorageName,b.flashEICallbacks);
e(b,"js connected to flash successfully",!1);var g=b.callingFlashObject.parentNode||b.callingFlashObject.parentElement;b.callingFlashObjectParent=g;b.callingFlashObject.nextSibling?g.insertBefore(c,b.callingFlashObject.nextSibling):g.appendChild(c)}else b.jsCallingVpaid&&(d=a.querySelector("body"),d.appendChild(c),b.vpaidObj.register("inInitAd",h[b.vpInitAdCallbackFuncName],this),b.vpaidObj.register("inPlayAd",h[b.vpPlayCallbackFuncName],this),b.vpaidObj.register("inStopAd",h[b.vpStopCallbackFuncName],
this),b.vpaidObj.register("inPauseAd",h[b.vpPauseCallbackFuncName],this),b.vpaidObj.register("inResumeAd",h[b.vpResumeCallbackFuncName],this),b.vpaidObj.register("inSetAdVolume",h[b.vpSetAdVolumeCallbackFuncName],this),b.vpaidObj.register("inResizeAd",h[b.vpResizeAdCallbackFuncName],this),b.vpaidObj.register("inExpandAd",h[b.vpExpandAdCallbackFuncName],this),b.vpaidObj.call("ready",{},!0))}b.rootDivElem=a.getElementById(b.divId);if(b.rootDivElem)return b.width=b.rootDivElem.clientWidth,b.height=b.rootDivElem.clientHeight,
b.companionsRootDivElem=a.createElement("div"),b.companionsDivElem=a.createElement("div"),b.companionsDivElem.setAttribute("style","width:100%;height:100%;position:relative;top:0px; display: block;"),b.companionsRootDivElem.appendChild(b.companionsDivElem),b.callingFlashObject?g.insertBefore(b.companionsRootDivElem,c):b.jsCallingVpaid&&(d=a.querySelector("body"),d.appendChild(b.companionsRootDivElem)),!0;J(b,6,"div element not found in post calling flash obj: "+b.divId)}}function lb(b){if(b.flashSupport){b.vpwVersion=
2;b.vpwURL=b.protocol+"//"+b.conf.sUrl+"/player/"+b.conf.flName+("?se="+b.sessionId+"pst="+b.startTime+"&")+"v=";Ga(b);b.prevpwDiv=null;b.vpwCached=!0;try{if(b.callingFlashObject)e(b,"calling flash object present, no pre-vpw needed",!1);else if(a&&a.body){e(b,"appending vpw pre loader",!1);b.vpwCached=!1;b.prevpwDiv=a.createElement("div");a.body.appendChild(b.prevpwDiv);var c="vpwp"+Math.floor(1000001*Math.random());b.prevpwDiv.innerHTML='<object id="'+c+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="1" height="1"><param name="movie" value="'+
b.vpwURL+b.vpwVersion+'" /><param name="allowScriptAccess" value="always"></param><param name="allowscriptaccess" value="always"></param>\x3c!--[if !IE]>--\x3e<object type="application/x-shockwave-flash" data="'+b.vpwURL+b.vpwVersion+'" width="1" height="1">\x3c!--<![endif]--\x3e\x3c!--[if !IE]>--\x3e</object>\x3c!--<![endif]--\x3e</object>';var d=CEDATO_SWF.swfobject.getObjectById(c);d?(b.prevpwPlayerData=[],b.prevpwPlayerData.vastId=0,b.prevpwPlayerData.flashElement=d,b.prevpwPlayerData.flashInitialTimeout=
null,b.prevpwPlayerData.flashLoadCheckInterval=null,b.prevpwPlayerData.vpwWaitFunc=null,e(b,"vpw pre loader flash element prepared",!1),Va(b,b.prevpwPlayerData)):(b.prevpwDiv=null,b.vpwCached=!0,e(b,"could not get vpw pre loader flash element",!1))}else e(b,"no document.body",!1)}catch(g){}}}function mb(b,c,d){try{d?e(b,"gpv answer from xhr",!1):e(b,"gpv answer from script",!1);b.gpvM="2";d&&(b.gpvM="1");b.gpvReturned=!0;if(d)try{a.getElementsByTagName("head")}catch(g){}else try{b.gsvXHR.abort()}catch(g){}var h=
((new Date).getTime()-b.startTime)/1E3,h=h.toFixed(1);b.gpvTime=h;e(b,c,!0);e(b,"initializing players",!1);b.urlReplacer=null;for(var h=d=!1,k=[],l=0,m=c.length;l<m;l++){var n=c[l];if("c"==n.id)if("d"==n.c)d=!0,Na(b),ca(b);else{n.tpt&&(b.thirdPartyTimeout=n.tpt);b.vastWaitFactor=1;n.vwf&&(b.vastWaitFactor=n.vwf);b.maxFailedVastRetries=0;n.mvr&&(b.maxFailedVastRetries=n.mvr);n.mas&&(b.maxAdStarts=n.mas);n.sc&&(b.allowSound=n.sc);n.lc&&(b.noContentLoop=!n.lc);n.paf&&(b.adsAfterContent=n.paf,b.adsAfterContent&&
!b.autoplayOverwrite&&(b.autoplay=!1));b.debugLogReason=n.sdlr?n.sdlr:"gpv";"1"==n.sdl&&(e(b,"gpv turned sdl on",!1),y(b),b.keepDebugLog=!0);"1"==n.lvr&&(b.logVastResponse=!0);"1"==n.sdlpe&&(b.submitDebugLogOnPlayerError=!0);"1"==n.sdlve&&(b.submitDebugLogOnVastError=!0);n.vd&&(b.submitDebugLogOnVastDisplayed=n.vd);n.content&&(b.content=n.content);n.ni&&(b.networkId=n.ni);b.autoplayOverwrite||(!1===n.ap?(b.autoplay=!1,b.mainAutoplay=!1):(b.autoplay=!0,b.mainAutoplay=!0));n.rvu&&(b.urlReplacer=[],
b.urlReplacer.vastId=n.rvu.v,b.urlReplacer.searchFor=n.rvu.s,b.urlReplacer.replaceWith=n.rvu.r,b.vpwURL&&(b.vpwURL=b.vpwURL.replace("v=","edl=2&v=")));n.ho&&1==n.ho&&(b.flashSupport=!1);b.allowSound=n.as?n.as:!1;b.controlBar=n.co?n.co:!1;n.content?(b.content.url=n.content.url,b.content.loader_image_url=n.content.loader_image_url,b.content.type=n.content.type,b.content.loop=!!(1*n.content.cl),b.content.click=n.content.click,b.content.playFull=!!(1*n.content.cpf),b.content.autoplay=n.ap,b.content.playFull&&
!b.autoplayOverwrite&&(b.autoplay=!1)):(b.content.url="",b.content.loader_image_url="",b.content.type=0,b.content.loop=!0,b.content.click="",b.content.playFull=!1,b.autoplayOverwrite||(b.content.autoplay=!0,!1===n.ap&&(b.content.autoplay=!1)));n.is&&v(n.is,b);for(var p=0,q=b.initOverrides.length;p<q;p++)switch(b.initOverrides[p].name){case "autoplay":b.autoplay=b.initOverrides[p].value;break;case "contentUrl":b.content.type=1;b.content.url=b.initOverrides[p].value;break;case "contentClickUrl":b.content.click=
b.initOverrides[p].value;break;case "rotate":b.content.maxAdStarts=b.initOverrides[p].value;break;case "allowSound":b.allowSound=b.initOverrides[p].value}}else if("d"==n.c){for(var r=n.id,t=[],p=0,q=b.plist.length;p<q;p++)b.plist[p].vastId==r&&t.push(b.plist[p]);b.anyPlaying=0<t.length?!0:b.anyPlaying;p=0;for(q=t.length;p<q;p++)S(b,t[p],!0),b.anyPlaying=b.anyPlaying&&aa(b,t[p]);d=!0;h=h||0<t.length}else k.push(Oa(b,n))}if(d)h&&w(b);else if(Da(b),"single"==b.mode){b.domLoadTimeout=null;CEDATO_SWF.swfobject.addDomLoadEvent(function(){try{b.domLoadTimeout&&
(clearTimeout(b.domLoadTimeout),b.domLoadTimeout=null),na(b,1)}catch(a){J(b,3,"ondomload gave JS exception: "+a.message,a),e(b,"ondomload gave JS exception: "+a.message,!1)}});var u=function(a){try{e(a,"domload timeout",!1),a.domLoadTimeout&&(clearTimeout(a.domLoadTimeout),a.domLoadTimeout=null),na(a,1)}catch(b){}};b.domLoadTimeout=CEDATO_BROWSER.oldIE?setTimeout(function(){u(b)},b.conf.domLoadInitTimeout):setTimeout(u,b.conf.domLoadInitTimeout,b)}else b.domLoadTimeout=CEDATO_BROWSER.oldIE?setTimeout(function(){na(b,
1)},0):setTimeout(na,0,b,1);e(b,"initiating fetch",!1);p=0;for(q=k.length;p<q;p++)Ba(k[p])}catch(g){J(b,3,"gpv gave JS exception: "+g.message,g)}}function bb(a){try{h&&(h.onerror=function(a,b,c,f,g){try{-1===b.indexOf("algovid")&&-1===b.indexOf("tlvmedia")||e(d,"Unhandeled exception "+a+" == "+b+" == "+c,!1)}catch(h){}});var c=0,d=[],k=g(a,!0);if(k.p&&k.sid){var l=k.p,m=[];m.push(l);-1!==l.indexOf(",")&&(m=l.split(","),l=m[0]);var n;k.d&&(n=decodeURIComponent(k.d));var p=(new Date).getTime(),r=decodeURIComponent(k.sid),
t;t=k.did?decodeURIComponent(k.did):k.cb?"video"+l+decodeURIComponent(k.cb):"video"+l;var u="102.32";k.pv?u=k.pv:k.playerVersion&&(u=k.playerVersion);var v="s9.algovid.com";k.mid&&(v=k.mid);var w=!1,y=!1;2==k.cnl&&(w=!0);3==k.cnl&&(y=w=!0);var A=!1;1==k.sv&&(A=!0);var C=!0;0==k.ap&&(C=!1);var B=!1;!B&&Fa();2==k.sdl&&(B=!0);var E;E=k.se?k.se:gb();var F=300,H=250;isNaN(k.w)||(F=k.w);isNaN(k.h)||(H=k.h);var I=!1;1==k.lvr&&(I=!0);a=!1;var G,L=[];1==k.app&&(a=!0);var x=!1;k.tpt&&(x=k.tpt);var M={d:!0,
sid:!0,did:!0,p:!0,cb:!0,playerVersion:!0,mid:!0,cnl:!0,sv:!0,ap:!0,sdl:!0,se:!0,w:!0,h:!0,lvr:!0,app:!0,jsv:!0,ob:!0,pv:!0};if(a){var K="appsu appidfa appv appn appb appc appaid".split(" ");for(G in K)K.hasOwnProperty(G)&&(M[K[G]]=!0,k[K[G]]&&L.push(K[G]+"="+encodeURIComponent(k[K[G]])));!k.d&&k.appn&&(n="app://"+encodeURIComponent(k.appn))}G=!1;if(1==k.jsv||a)G=!0;var P=k.ob,N=k.job,K=!1;k.hasOwnProperty("muted")&&"0"==k.muted&&(K=!0);var U=!1;k.mas&&(U=k.mas);var T=!1;k.ho&&"1"==k.ho&&(T=!0);var V=
!1,S="",Q;for(Q in k)isNaN(Q)&&!M[Q]&&k.hasOwnProperty(Q)&&(S=S+"&"+Q+"="+k[Q]);try{var W=function(a){var b={p:m.join(","),cb:p,d:d.domain,sid:r,pv:u,w:F,h:H,f:Y,dd:aa,vs:Z,extra:S};if(d.plist.length){b.av=[];for(var c=0,f=d.plist.length;c<f;c++)-1===b.av.indexOf(d.plist[c].vastId)&&b.av.push(d.plist[c].vastId);b.av=b.av.join(",")}b=CEDATO_URLUTILS.buildUrl(d.protocol+"//"+d.machineId+"/player/get_player_vasts?",b);try{CEDATO_HTTP.GetPlayerVast({url:b,retryInterval:1E4,preferredMethod:a,retries:6,
success:function(a,b,c){mb(a,b,c==CEDATO_HTTP.USE_AJAX);setTimeout(function(){W(c)},ca)},externals:{players:d,debugLog:e,playerError:J}})}catch(g){J(d,3,"init stage GetPlayerVast gave JS exception: "+g.message,g)}};d.playerId=l;d.subid=r;d.domain=n;d.sessionId=E;d.anyAdPlayed=!1;d.startTime=(new Date).getTime();d.fpwReadyTime=null;d.scheduledPixelSent=!1;d.width=F;d.height=H;d.domReady=!1;d.domReadyTime=!1;d.anyPlaying=!1;d.divId=t;d.playerVersion=u;d.machineId=v;d.parallelStartAd=!0;d.usejsv=!1;
d.gpvAttempt=0;d.autoplayOverwrite=!1;d.vpPlayCallbackFuncName=null;d.vpStopCallbackFuncName=null;d.vpDebugCallbackFuncName=null;d.vpResizeCallbackFuncName=null;d.vpVolumeCallbackFuncName=null;P||(d.info=CEDATO_DEVICE.getDeviceInfo());d.initialStartAd=null;d.curUniq=0;d.logVastResponse=I;d.singleVPW=A;d.autoplay=C;d.allowLongImpressions=!1;d.reportVPWStateInterval=null;d.allowSound=K;d.adsAfterContent=!1;d.maxAdStarts=U;d.curAdStarts=0;d.noContentLoop=!1;d.gpvM="0";d.vpwCached=!0;d.mode="single";
d.conf={};d.conf.flName="cedato_vpw_ima_101.71.swf";d.conf.sUrl="c.algovid.com";d.conf.pJsvUrl=d.conf.sUrl+"/player/jsv_pure.js";d.conf.mUrl="mc.algovid.com";d.conf.maxDomLoadTimes=60;d.conf.domLoadRetryTimeout=200;d.conf.domLoadInitTimeout=500;d.conf.content={};d.conf.content.defaultLoader="//"+d.conf.sUrl+"/player/spinner.gif";d.conf.content.playButton="//"+d.conf.sUrl+"/player/play_button_gr.png";d.content={};if(w||B)d.debugLogReason="tag";d.submitDebugLogOnPlayerError=!1;d.submitDebugLogOnVastError=
!1;d.submitDebugLogOnVastDisplayed=!1;d.thirdPartyTimeout=x;d.plist=[];d.protocol=CEDATO_URLUTILS.getProtocol(d.domain);d.detect=CEDATO_DETECT_UTILS.getStatsParam(d);c=1;q(d,w,B,y,!1);e(d,"player initialized. player version: "+d.playerVersion+", playerId: "+l+", subid: "+d.subid+", domain: "+d.domain+", singleVPW: "+d.singleVPW+", autoplay: "+d.autoplay+", width: "+d.width+", height: "+d.height,!1);e(d,"ua: "+h.navigator.userAgent,!1);d.domainDetected=CEDATO_URLUTILS.getDetectedDomain();e(d,"domain detected: "+
d.domainDetected,!1);d.domain?e(d,"domain received in param: "+d.domain,!1):(d.domain=d.domainDetected,e(d,"using detected domain: "+d.domain,!1));d.hasVideoSupport=!0;CEDATO_BROWSER.oldIE&&(e(d,"old ie",!1),9>CEDATO_BROWSER.msie.version&&(e(d,"no video support",!1),d.hasVideoSupport=!1));d.hasVideoSupport&&!CEDATO_BROWSER.supportsVideo()&&(e(d,"no video support using test",!1),d.hasVideoSupport=!1);d.info?e(d,"get device info returned mobile: "+d.info.mobile+", os: "+d.info.os+", osv: "+d.info.osv+
", make: "+d.info.make+", model: "+d.info.model,!1):e(d,"get device info failed",!1);r||J(d,6,"subid not defined");t||J(d,6,"divId not defined");l||J(d,6,"playerId not defined");c=2;d.playersStorageName="tlvp"+Math.floor(1000001*Math.random());h[d.playersStorageName]=d;if(P||N)d.mode="vpaid",d.vpaidObj=CEDATO_VPAID_OBJ.getVpaid(),d.autoplay=!1,d.autoplayOverwrite=!0;N&&(d.jsCallingVpaid=N,d.vpaidObj.initObj(N,"js",d.playersStorageName));d.detect=CEDATO_DETECT_UTILS.getStatsParam(d);c=15;jb(d,P);n=
encodeURIComponent(n);c=3;c=41;CEDATO_ES5.include();c=42;d.DMVAST=DMVAST;d.flashSupport=!1;G&&(d.flashSupport=!1,d.info.mobile=!0,d.usejsv=!0);c=5;d.flashSupport=P?!0:d.usejsv||d.info&&d.info.mobile||T?!1:CEDATO_SWF.swfobject.hasFlashPlayerVersion("10.0.1");CEDATO_EVENT_LOGGER.log(CEDATO_EVENT_LOGGER.E_START,d,{},e);V=!0;d.info&&!d.info.mobile&&5==Math.floor(100*Math.random())&&(d.reportVPWLoaded=!0);if(d.flashSupport)hb(d);else if(d.usejsv||d.info&&d.info.mobile||T)d.usejsv=d.info.mobile,d.usejsv&&
e(d,"using jsv",!1),d.parallelStartAd=!1;else{if(CEDATO_SWF.swfobject.hasFlashPlayerVersion("6.0.0")){l=k="";try{k=navigator.userAgent(),l=CEDATO_SWF.swfobject.getFlashPlayerVersion()}catch(da){}J(d,2,"noflash old ver "+l+": "+k)}d.reportVPWLoaded&&CEDATO_EVENT_LOGGER.log(CEDATO_EVENT_LOGGER.E_VPWS,d,{state:3},e)}c=52;if(d.usejsv){e(d,"jsv loaded",!1);try{CEDATO_JSV.include()}catch(da){}d.hasVideoSupport=!0}c=53;lb(d);c=54;kb(d);c=55;c=6;e(d,"calling gpv",!1);if(a){var X=L.join("&");X&&(S="&"+X)}d.gpvReturned=
!1;var Y;Y=d.flashSupport?"1":"0";var Z;Z=d.hasVideoSupport?"1":"0";var aa="";d.domainDetected!==d.domain&&(aa=encodeURIComponent(d.domainDetected));var c=56,ca=6E5;W(CEDATO_HTTP.USE_JSONP_AND_AJAX);c=57;d.apiInterface=CEDATO_API.registerPlayer(t);d.initOverrides=[];d.apiInterface.on("_pause",function(){d.autoplay=!1;$a("api",d)}).on("_play",function(){d.contentUrlPlayer&&d.contentUrlPlayer.isVisible()?(d.autoplay=!0,d.contentUrlPlayer.playContent()):d.anyPlaying?Ya("api",d):Za("api",d)}).on("_overrideInit",
function(a){a=a.data;"undefined"!=typeof a.autoplay&&d.initOverrides.push({name:"autoplay",value:!!a.autoplay});"undefined"!=typeof a.contentUrl&&d.initOverrides.push({name:"contentUrl",value:String(a.contentUrl)});"undefined"!=typeof a.contentClickUrl&&d.initOverrides.push({name:"contentClickUrl",value:String(a.contentClickUrl)});"undefined"!=typeof a.rotate&&d.initOverrides.push({name:"rotate",value:+a.rotate});"undefined"!=typeof a.allowSound&&d.initOverrides.push({name:"allowSound",value:!!a.allowSound})}).on("_sound",
function(a){a=a.data;switch(typeof a){case "boolean":Ia(d,a?1:0,!0);break;case "number":0<=a&&1>=a&&Ia(d,a,!0)}}).on("_resize",function(a){ab(d,a.data.width,a.data.height,"normal")})}catch(da){J(d,3,"init stage "+c+" gave JS exception: "+da.message,da)}}}catch(da){d.playerId||(d.playerId="0"),d.machineId||(d.machineId="s9.algovid.com"),d.subid||(d.subid=""),d.playerVersion||(d.playerVersion="102.32"),d.sessionId||(d.sessionId=""),0===c&&q(d,!1,!1,!1,!1),J(d,3,"init error  gave JS exception: "+encodeURIComponent(da.message),
da),V||CEDATO_EVENT_LOGGER.log(CEDATO_EVENT_LOGGER.E_START,d,{},e)}}function cb(a){if(!a)return!1;a=a||"";return{algovid:a.indexOf("algovid"),tlvmedia:a.indexOf("tlvmedia"),cedatoplayer:a.indexOf("cedato_player")}}var Ea=function(){function a(){}a.xhr=function(){return CEDATO_BROWSER.createXMLHTTPObject()};a.supported=function(){return!!this.xhr()};a.get=function(c,d,g){var h=d.players;CEDATO_HTTP.FetchVastService.get({vastId:null,url:c,flashSupport:h.flashSupport,exceptionHeaders:[],onNonRetry:function(a,
b){},externals:{players:h,playerData:d.playerData,fixURLPrm:k,debugLog:e,vastError:r,cb:g,vastURLHandler:a,vpwException:V}})};return a}(),X="",oa={},M;try{X=CEDATO_URLUTILS.ScriptPath(),oa=g(X,!0)}catch(b){X=""}M=null;M=cb(X);if(!M||(-1===M.algovid||18<M.algovid)&&(-1===M.tlvmedia||18<M.tlvmedia)&&-1===M.cedatoplayer||!oa.p){var za,Aa;try{Aa=a.getElementsByTagName("script"),za=Aa.length}catch(b){za=0,Aa=[]}if(0<za){for(var Ja=za-1;0<=Ja&&(X=Aa[Ja].src,M=null,!(M=cb(X))||-1===M.algovid&&-1===M.tlvmedia&&
-1===M.cedatoplayer);--Ja);oa=g(X,!0)}}oa.ob||oa.job||bb(X);h.viddspPlayerInit=bb})(window,document);

