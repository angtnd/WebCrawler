__d("widget.famoussite.famoussite",["common.js.jquery","common.js.log","common.js.adjust","common.js.profile"],function(o,p,m,g){var h=g("common.js.jquery"),b=g("common.js.log"),k=g("common.js.adjust"),f=g("common.js.profile");return function(g,a,j){var i=h("#box-famoussite .wf-slider"),c=h("#box-famoussite .widget-famoussite .wf-inner"),l=h("#box-wfslider");h(".widget-wfslider",l);var d=i.parent(".wf-line"),r=!0;i.click(function(){r&&(r=!1,c.slideToggle(200,function(){k.adjust();c.css("overflow",
"visible");d.hasClass("js_sliderClose")?(f.set("fms","0"),i.attr("title","\u70b9\u6211\u6536\u8d77\u5b9e\u7ebf\u4ee5\u4e0b\u7f51\u5740"),BigPipe.request("/api/gettop/?fms=0",["box-wfslider"]),b({type:"fms",v:0})):(f.set("fms","1"),i.attr("title","\u70b9\u6211\u5c55\u5f00\u7f51\u5740"),BigPipe.request("/api/gettop/?fms=1",["box-wfslider"]),b({type:"fms",v:1}));d.toggleClass("js_sliderClose");r=!0}));return!1});l.click(function(d){if(h(d.target).hasClass("wf-change")){d=parseInt(h(d.target).attr("rnd"));
d+=1;if(3<d||1>d)d=1;BigPipe.request("/api/gettop/?fms=1&rnd="+d,["box-wfslider"]);return!1}});for(var e={},l=g.length,v=0;v<l;v++){var A=g[v].url.replace(/(.*)\/$/,"$1");e[A]=g[v]}h("#box-famoussite .famoussite-mainlink").each(function(d){var c=this.href.replace(/(.*)\/$/,"$1");e[c]&&e[c].mzzyw&&j.add.call(this,e[c],d,"famoussite",a)})}});
__d("widget.suggest.nssug",["common.js.jquery","common.js.config","common.js.format"],function(o,p,m,g){function h(a){for(var a=a||{},b=arguments,i=b.length,c=0,l,d;++c<i;)if(l=b[c])for(d in l)l.hasOwnProperty(d)&&(a[d]=l[d]);return a}function b(a,j,i,c){var l={url:HAO.httpsTrans("http://nssug.baidu.com/su?cb=?"),data:{},queryKey:"wd",cache:!1,dataType:"jsonp",scriptCharset:"gbk"},d={},i=i||b.defaultCallback;a&&(d.prod=a);h(l.data,d,j);h(l,c);return function(d){var e=this,c=l.data||{};(d=d.replace(/^\s+|\s+$/g,
""))?(c[l.queryKey]=d,l.data=c,f.ajax(l).done(function(){i.apply(e,arguments);e=null})):e.clear()}}function k(a,b){var i=b;a&&-1<i.indexOf(a)&&(i=["<b>",i.replace(a,n("</b>#{0}<b>",a)),"</b>"].join("").replace("<b></b>",""));return i}var f=g("common.js.jquery");g("common.js.config");var n=g("common.js.format");b.defaultCallback=function(a){var b,i,c,l;this.clear();if(a&&(b=a.s)&&(c=b.length)){a=a.q||"";for(i=0;i<c;i++)l=b[i],this.add(l,k(a,l));this.show()}};b.getSuggestHTML=k;return b});
__d("widget.suggest.suggest",["common.js.widget","common.js.format","common.js.events","common.js.JSON"],function(o,p,m,g){function h(c,a){"length"in c&&(c=c[0]);return c.getAttribute("data-"+a)}function b(c){c=parseInt(h(c,"index"));return isNaN(c)?0:c}g("common.js.widget");var k=g("common.js.format"),f=g("common.js.events"),n=g("common.js.JSON"),a="input",j=!0,i=function(){};$.widget("hao123.suggest",{options:{popupTpl:'<div class="suggest #{classes|e}"><div class="header-hook"></div><ul class="list-hook"></ul><div class="footer-hook"></div></div>',
itemTpl:'<li class="suggest-item item-hook #{cls}" data-query="#{query|e}" data-index="#{index|e}" data-data="#{data|e}">#{html}</li>',header:"",footer:"",classes:"",hoverClass:"hover g-bg1",inputDelay:200,hideDelay:20,eventSpace:"suggest",sugBType:!1,headerTpl:'<div class="list-header"><p class="list-title">\u5b9e\u65f6\u70ed\u70b9</p></div>',cmsTpl:'<div class="sug-cms" monkey="sugcms"></div>',picTpl:'<a href="#{url}" alog-text="#{title}" class="sug-pic sug-link" data-text="#{title}"><span class="sug-img" style="cursor:pointer;background:url(#{pic}) 0 0 no-repeat;display:block;width:161px;height:92px;"></span><span class="picbg"></span><span class="pictitle">#{title}</span></a>',
linkTpl:'<a href="#{linkurl}" class="sug-text sug-link #{cls}" data-text="#{text}"><span class="sug-title ">#{text}</span></a>'},_create:function(){var c=this.options,a=this.element;this.sugBType=c.sugBType;this.addcms=this.addheader=!1;this.$tip=$(k(c.popupTpl,c));this.$list=$(".list-hook",this.$tip);this.$header=$(".header-hook",this.$tip);this.$footer=$(".footer-hook",this.$tip);this._footer=this._header="";this.header(c.header);this.footer(c.footer);this.$tip.appendTo(a.parent());this.sugBType&&
(this.$tip.addClass("sugB-Box"),this._initCmsEvent())},_init:function(){this.repaint=this.showed=this.inited=!1;this.content=[];this.$items=null;this._index=0;this._original=this.element.val();this._shouldClose=this._hold=this._skipChange=!1;this._inputHandler=i;this._initInputEvent();this._initTipToggle();this._initKeyEvent()},_initCmsEvent:function(){var c=this,a,d,b,e,i=0;c.$tip.on("click",".sug-link",function(h){b=$(h.target).closest(".sug-link");e=b.attr("href");a=b.data("text");c.hide(j);c.element.val(a);
if(!e)return d={value:a,from:"click"},b.hasClass("sug-pic")?i="cmsimage":b.hasClass("sug-text")&&(i="cmstxt"),f.emit("suggest.clickcms",i),c._triggerEvent("submit",d),!1})},_initTipToggle:function(){function c(){clearTimeout(e);e=setTimeout(a,i)}function a(){var e;if((d._shouldClose=e=!f&&!h)&&!d._hold)d.original(b.val()),d.hide(j)}var d=this,b=d.element,e=0,i=d.options.hideDelay,f=!1,h=!1,g=!1;b.on("input focus keydown",function(){f=!0;c()}).on("blur",function(){f=!1;c()}).on("beforedeactivate",
function(){return!g});d.$tip.hover(function(){h=!0;c()},function(){h=!1;c()});d.$list.mousedown(function(){g=!0;setTimeout(function(){g=!1},0);return!1}).mouseup(function(e){2<e.which||0==d._index||(d.select(d._index,!0),d.submit("click"))})},hold:function(c){var a=this.element;this._hold=!!c;this._shouldClose&&!c&&(this.original(a.val()),this.clear())},_initInputEvent:function(){function c(){f=r.val().replace(/^\s+|\s+$/g,"");d.original(f);clearTimeout(i);i=setTimeout(b,e)}function b(){h!==f&&(h=
f,d._triggerEvent(a,{value:f})&&d._inputHandler(f))}var d=this,r=d.element,e=d.options.inputDelay,i=0,f=null,h=null;r.attr("autocomplete","off");r.on("input",c);r.on("propertychange",function(e){(e=e.originalEvent)&&"value"==e.propertyName&&(d._skipChange||c())});d.original()&&c()},_initKeyEvent:function(){var c=this,a=!1;c.element.on("keydown",function(d){a=c.$tip.hasClass("sugB-Box");var b=!1;switch(d.keyCode){case 38:a||c.select(c._index-1,!0);b=!0;break;case 40:a||c.select(c._index+1,!0);b=!0;
break;case 13:c.submit("enter");b=!1;break;case 27:c.hide(j),b=!0}return!b})},_addItemEvent:function(){var c=this;c.$items.mouseenter(function(){c.select(b(this))})},_removeItemEvent:function(){this.$items.off("mouseenter mouseleave click")},_triggerEvent:function(c,a){var d=this.options,b;b=this._trigger(c,null,a)&&!0;b=f.emit(d.eventSpace+"."+c,a)&&b;return!!b},submit:function(c){c={value:this.element.val(),index:this._index,from:c};this.hide(j);this._triggerEvent("submit",c)},show:function(){if(!(this.content&&
0>=this.content.length)){this.repaint&&(this.$item&&this._removeItemEvent(),this.$list.html(this.content.join("")),this.$items=$(".item-hook",this.$list),this._addItemEvent(),this.repaint=!1);this.showed||(this.$tip.show(),this._triggerEvent("show"));var c=$("li:eq(0)",this.$list);0!==$(".video-detail",c).length&&(c.addClass("video-detail-open"),c.on("hover",function d(){c.removeClass("video-detail-open");c.off("hover",d)}),this.select(1,!1));0!==$(".short-detail",c).length&&c.addClass("short-detail-open");
this.showed=!0}},hide:function(c){this.showed&&(this.$tip.hide(),this._triggerEvent("hide"));this.showed=!1;c||this.select(0)},header:function(c){this._header!=c&&(c?(this.$header.html(c),this._header||this.$header.show()):this.$header.hide(),this._header=c)},getHeader:function(){return this.$header},getList:function(){return this.$list},footer:function(c){this._footer!=c&&(c?(this.$footer.html(c),this._footer||this.$footer.show()):this.$footer.hide(),this._footer=c)},clear:function(){this.content.length&&
(this.content=[],this.repaint=!0);this.hide()},add:function(c,a,d,b){var e=this.options,i=this.content,f=i.length+1;i.push(k(e.itemTpl,{query:c,index:f,html:void 0===a?c:a,data:n.stringify(2<arguments.length?d:null),cls:b}));this.repaint=!0;this.showed&&this.show()},addHeader:function(){var a=this.options;this.addheader||(this.addheader=!0,this.$list.before($(a.headerTpl)))},addCmsData:function(a,b){var d=this.options,i=b.length,e,f,h="";e="";if(!this.addcms){this.addcms=!0;this.$cmsBox=$(d.cmsTpl);
this.$cmsBox.append(k(d.picTpl,{url:a.url,pic:HAO.httpsTrans(a.imgurl),title:a.title}));this.$pic=$(".sug-pic",this.$cmsBox);this.$pic.hover(function(){$(this).addClass("pichover")},function(){$(this).removeClass("pichover")});this.$cmsBox.append('<div class="sug-textbox"></div>');this.$textbox=$(".sug-textbox",this.$cmsBox);for(var j=0;j<i;j++)1===j%2?f="sug-righttext":f="",e=b[j],e=k(d.linkTpl,{linkurl:e.url,text:e.title,cls:f}),h+=e;this.$textbox.append(h);this.$tip.append(this.$cmsBox)}},select:function(a,
b){var d=this,i=d.element,e=d.$items,f=d.options.hoverClass,j=d.content.length+1,g=d._index,k=null,u=null,s=null,k=null,a=a%j;0>a&&(a+=j);b=!!b;d._index=a;0<g&&e.eq(g-1).removeClass(f);if(0<a&&(e.eq(a-1).addClass(f),(u=$(".video-detail",e.eq(a-1)))&&0!==u.length))this._selectedVideoDetail&&0!==this._selectedVideoDetail.length&&this._selectedVideoDetail.removeClass("last-video-detail"),e.eq(a-1).addClass("last-video-detail"),this._selectedVideoDetail=e.eq(a-1);b&&(0<a?(e=e.eq(a-1),u=h(e,"query"),s=
n.parse(h(e,"data"))):(u=d.original(),s=null),k=i.val(),k={index:a,oldValue:k,newValue:u,data:s},d._triggerEvent("change",k)&&(d._skipChange=!0,i.val(u),setTimeout(function(){d._skipChange=!1},0)));var q=a;0==q&&(q=1);window.setTimeout(function(){var e=d.$list.find("li").eq(q-1),e=e&&e.data()?e.data().data:void 0;d._trigger("select",null,{index:a,data:e,q:i.val()})},0)},original:function(a){if(arguments.length)this._original=a;else return this._original},index:function(){return this._index},handler:function(a){this._inputHandler=
a||i}});return m});
__d("widget.suggest.webHandler",["common.js.jquery","common.js.format","common.js.cookie"],function(o,p,m,g){function h(a){var c=this;f.ajax({url:"http://suggestion.baidu.com/su?cb=?",data:{wd:a,sc:"hao123"},queryKey:"wd",cache:!1,dataType:"jsonp",scriptCharset:"gbk"}).done(function(a){c.clear();var d=!1,i=j.check(a.s),e=a.z?!0:!1;a.q=decodeURIComponent(a.q);var h=j.getShortVideoData(a.q);h&&c.add(a.q,j.getHTML(a.q,h.title,h),h);f.each(a.s,function(f){if(i&&10<this.length)return!0;d=!0;if(e&&a.z[f])f=
k(a.z[f]),c.add(a.q,f.html,{suggestId:f.id});else if(j.checkItem(this)){var h=j.getData(this);c.add(a.s[f],j.getHTML(a.q,this,h),h)}else c.add(a.s[f],b(a.q,this),null,"sug-input")});d?c.show():c.hide()})}function b(a,b){a=a.replace(/</g,"&lt;").replace(/>/g,"&gt;");b=b.replace(/</g,"&lt;").replace(/>/g,"&gt;");return('<span class="suggest-text"><b>'+b.replace(RegExp(a,"g"),"</b>"+a+"<b>")+"</b></span>").replace("<b></b>","")}function k(a){var b=parseInt(a.type),f={};switch(b){case 1:case 2:if(void 0===
a.key)return!1;f.query=a.key;f.html=n('<dl class="aladdin"><dt class="info g-fc2"><img class="icon" src="http://s1.hao123img.com/index/images/xiongzhang.png" width="12" height="12" />#{key}#{auth}</dt><dd class="define">#{word}#{word_add}</dd></dl>',{key:a.key,auth:function(){return 2==b?" - \u767e\u5ea6\u5b89\u5168\u8ba4\u8bc1":""},word:a.word||"",word_add:function(){return a.word_add?n(' <span class="info g-fc2">(#{0})</span>',a.word_add):""}});f.id=a.id;break;default:return!1}return f}var f=g("common.js.jquery"),
n=g("common.js.format"),a=g("common.js.cookie"),j=function(){var i,c=[];f.ajax({url:"/api/ssugdata",data:{c:a.getCSRFId(),r:(new Date).getTime()/3E5|0},cache:!0,dataType:"json"}).done(function(a){i=a});f.ajax({url:"/api/sug_short",data:{c:a.getCSRFId(),r:(new Date).getTime()/3E5|0},cache:!0,dataType:"json"}).done(function(a){c=a});return{check:function(a){if(!i)return!1;for(var d=0,b=a.length;d<b;d++)for(var e=0,c=i.length;e<c;e++)if(f.trim(a[d])==f.trim(i[e].title))return!0},checkItem:function(a){if(!i)return!1;
for(var d=0,b=i.length;d<b;d++)if(f.trim(a)==f.trim(i[d].title))return!0;return!1},getShortVideoData:function(a){if(0!==c.length)for(var d=0,b=c.length;d<b;d++){var e=c[d];e.isSpecial=!0;if(-1!==e.title.indexOf(a))return e}return!1},getData:function(a){if(i&&i)for(var d=0,b=i.length;d<b;d++)if(f.trim(i[d].title)==f.trim(a))return i[d].isSpecial=!0,i[d]},getHTML:function(a,d,c){var e;e="<div>"+('<span class="video-type-label">'+{m:"\u7535\u5f71",t:"\u7535\u89c6\u5267",d:"\u52a8\u6f2b",z:"\u7efc\u827a",
s:"\u70ed\u70b9"}[c.sort]+"</span>");e+=b(a,d);e+='<span class="video-type-icon"></span></div>';c.imgurl=HAO.httpsTrans(c.imgurl);return e+=n({m:'<div class="video-detail"><div class="col-left"><span><img width="74" height="100" src="#{imgurl}" /></span></div><div class="col-right">    <div><label>\u8bc4\u5206\uff1a</label><em>#{n}\u5206</em></div>    <div><label>\u7c7b\u578b\uff1a</label>#{type1} #{type2}</div>    <div><label>\u4e3b\u6f14\uff1a</label>#{actor1} #{actor2}</div></div><span class="icon icon-movie"></span></div>',
t:'<div class="video-detail"><div class="col-left"><span><img width="74" height="100" src="#{imgurl}" /></span></div><div class="col-right">    <div style="color: #3b5998">#{n}</div>    <div><label>\u7c7b\u578b\uff1a</label>#{type1} #{type2}</div>    <div><label>\u5730\u533a\uff1a</label>#{area}</div></div><span class="icon icon-tv"></span></div>',d:'<div class="video-detail"><div class="col-left"><span><img width="74" height="100" src="#{imgurl}" /></span></div><div class="col-right">    <div style="color: #3b5998">#{n}</div>    <div><label>\u7c7b\u578b\uff1a</label>#{type1} #{type2}</div>    <div><label>\u5730\u533a\uff1a</label>#{area}</div></div><span class="icon icon-comic"></span></div>',
z:'<div class="video-detail"><div class="col-left"><span><img width="74" height="100" src="#{imgurl}" /></span></div><div class="col-right">    <div style="color: #3b5998">#{n}</div>    <div><label>\u7c7b\u578b\uff1a</label>#{type1} #{type2}</div>    <div><label>\u5730\u533a\uff1a</label>#{area}</div>    <div><label>\u4e3b\u6301\uff1a</label>#{actor1} #{actor2}</div></div><span class="icon icon-show"></span></div>',s:'<div class="short-detail video-detail" style="padding-top: 0"><div class="short-video-desc">#{subtitle}</div><div class="col-left"><span><img width="108" height="60" src="#{imgurl}" /></span></div><div class="col-right">    <div style="margin-top: 45px; line-height: 1.4;"><label>\u64ad\u653e\uff1a</label>#{n}</div></div><span class="icon icon-short"></span></div>'}[c.sort],
c)},getPMData:function(){return i}}}();h.getPMData=j.getPMData;return h});
__d("widget.suggest.videoHandler",["common.js.jquery","common.js.format","common.js.browser","common.js.cookie"],function(o,p,m,g){function h(a,b,i){a=b.replace(RegExp(a,"g"),"<b>"+a+"</b>");(i=f[i])&&(a+=k('<div class="suggest-video-type">#{text}<i>&gt;</i></i>',{text:i}));return a}var b=g("common.js.jquery"),k=g("common.js.format");g("common.js.browser");g("common.js.cookie");var f={movie:"\u7535\u5f71",tv:"\u7535\u89c6\u5267",comic:"\u52a8\u6f2b",show:"\u7efc\u827a"},n=b("#search");(function(){function a(d){c||
(c=!0,i=b("<div>"),n.find(".suggest").append(i));i.get(0).className={movie:"suggest-video-detail suggest-video-detail-movie",tvplay:"suggest-video-detail suggest-video-detail-tv",comic:"suggest-video-detail suggest-video-detail-comic",tvshow:"suggest-video-detail suggest-video-detail-tvshow"}[d.category];i.show().html(k({movie:"<div class='suggest-video-detail-pic'><a href='#{url}'><img src='#{poster}'/><div class='suggest-video-detail-pictext'>#{year}</div></a></div><div class='suggest-video-detail-content'><div class='suggest-video-detail-title'><a href='#{url}'>#{title}</a></div><div class='suggest-video-detail-info'><p><span class='label'>\u8bc4\u5206\uff1a</span><span class='rate'>#{rating}</span></p><p><span class='label'>\u4e3b\u6f14\uff1a</span>#{actors}</p><p><span class='label'>\u5bfc\u6f14\uff1a</span>#{directors}</p><p><span class='label'>\u7c7b\u578b\uff1a</span>#{genres}</p></div><a class='suggest-video-detail-link' href='#{url}'>\u67e5\u770b\u8be6\u60c5<span>&gt;&gt;</span></a></div>",
tvplay:"<div class='suggest-video-detail-pic'><a href='#{url}'><img src='#{poster}'/><div class='suggest-video-detail-pictext'>#{update}</div></a></div><div class='suggest-video-detail-content'><div class='suggest-video-detail-title'><a href='#{url}'>#{title}</a></div><div class='suggest-video-detail-info'><p><span class='label'>\u4e3b\u6f14\uff1a</span>#{actors}</p><p><span class='label'>\u5e74\u4ee3\uff1a</span>#{year}</p><p><span class='label'>\u7c7b\u578b\uff1a</span>#{genres}</p></div><a class='suggest-video-detail-link' href='#{url}'>\u67e5\u770b\u8be6\u60c5<span>&gt;&gt;</span></a></div>",
comic:"<div class='suggest-video-detail-pic'><a href='#{url}'><img src='#{poster}'/><div class='suggest-video-detail-pictext'>#{update}</div></a></div><div class='suggest-video-detail-content'><div class='suggest-video-detail-title'><a href='#{url}'>#{title}</a></div><div class='suggest-video-detail-info'><p><span class='label'>\u5e74\u4ee3\uff1a</span>#{year}</p><p><span class='label'>\u5730\u533a\uff1a</span>#{areas}</p><p><span class='label'>\u7c7b\u578b\uff1a</span>#{genres}</p></div><a class='suggest-video-detail-link' href='#{url}'>\u67e5\u770b\u8be6\u60c5<span>&gt;&gt;</span></a></div>",
tvshow:"<div class='suggest-video-detail-pic'><a href='#{url}'><img src='#{poster}'/><div class='suggest-video-detail-pictext'>#{update}</div></a></div><div class='suggest-video-detail-content'><div class='suggest-video-detail-title'><a href='#{url}'>#{title}</a></div><div class='suggest-video-detail-info'><p><span class='label'>\u4e3b\u6301\uff1a</span>#{hosts}</p><p><span class='label'>\u5730\u533a\uff1a</span>#{areas}</p><p><span class='label'>\u7c7b\u578b\uff1a</span>#{genres}</p></div><a class='suggest-video-detail-link' href='#{url}'>\u67e5\u770b\u8be6\u60c5<span>&gt;&gt;</span></a></div>"}[d.category],
d));b("#search .suggest").css({height:264})}var f={},i,c=!1,h=function(){function d(d){for(var a=[],b=0;b<d.length;b++)a.push('<span class="text">'+d[b]+"</span>");return a.join("")}function a(d){var b=d.episodes_count||d.episode_count;return d.update<b?"\u66f4\u65b0\u81f3"+d.update+"\u96c6":"\u5168"+b+"\u96c6"}return function(e){var b;switch(e.category){case "movie":b={actors:d(e.actors),directors:d(e.directors),genres:d(e.genres),url:"http://v.hao123.com/dianying/"+e.id+".htm",year:e.year};break;
case "tvplay":b={actors:d(e.actors),directors:d(e.directors),genres:d(e.genres),url:"http://v.hao123.com/dianshi/"+e.id+".htm",year:e.year,update:a(e)};break;case "comic":b={genres:d(e.genres),url:"http://v.hao123.com/dongman/"+e.id+".htm",year:e.year,areas:e.areas,update:a(e)};break;case "tvshow":b={hosts:d(e.hosts),genres:d(e.genres),url:"http://v.hao123.com/zongyi/"+e.id+".htm",year:e.year,areas:d(e.areas),update:"\u66f4\u65b0\u81f3"+e.update.replace(/(\d{4})(\d{2})(\d{2})/,"$1-$2-$3")}}b.title=
e.title;b.category=e.category;b.poster=e.poster;b.rating=e.rating;return b}}();return{show:a,hide:function(){i&&(i.hide(),b("#search .suggest").css({height:"auto"}))},fill:function(d){f[d.videoid]?a(f[d.videoid]):b.ajax({url:d.url,data:{id:d.videoid},cache:!0,dataType:"jsonp"}).done(function(b){b=h(b.video);f[d.videoid]=b;a(b)})}}})();return function(a){var f=this;b.ajax({url:"http://nssug.baidu.com/su?cb=?",data:{wd:a,sc:"hao123",prod:"video_ala",oe:"utf-8"},queryKey:"wd",scriptCharset:"gbk",cache:!1,
dataType:"jsonp"}).done(function(i){f.clear();var c=!1;window.s=i.s;b.each(i.s,function(i,d){var g=d.split("{#S+_}");if(0==g.length||5<i)return!0;c=!0;var e=b.parseJSON(g[1]);e?f.add(g[0],h(a,g[0],e.type),{videoid:e.id,url:"http://v.baidu.com/"+e.type+"_sug/?callback=?"}):f.add(g[0],h(a,g[0]))});c&&f.show()})}});
__d("widget.search.config","common.js.format,common.js.events,widget.suggest.nssug,widget.suggest.webHandler,widget.suggest.videoHandler,common.js.config,common.js.log,common.js.browser,common.js.query".split(","),function(o,p,m,g){function h(d,a){6==c.ie&&(d+="_png8");return a?"http://s0.hao123img.com/res/images/search_logo_white/"+d+".png":"http://s1.hao123img.com/res/images/search_logo/"+d+".png"}function b(d){var b,e,c,f,i;this.clear();if(d&&!d.error&&(b=d.msg)&&(f=b.length)){i=n("#{0|e}",this.original());
for(c=0;c<f;c++)d=b[c],e=a.getSuggestHTML(i,d),this.add(d,e);this.show()}}function k(d){var b,e,c,f,i,h;this.clear();if(d&&(b=d.s)&&(f=b.length)){i=d.q||"";for(c=0;c<f;c++)if(d=b[c])d=d.split("$"),h=d[0]+d[1],d=d[2]||""+d[3]||"",d||(d=b[c].split("$"),d=d[3]?d[1]:d[0]+d[1],h=!d[3]||0!=d[3]?"":d[0]),d||(d=b[c].split("$"),d=d[3]||"",h=d[0]+d[1]),e=a.getSuggestHTML(i,d),e+=n('<i class="g-fc2">#{0}</i>',h),this.add(d,e);this.show()}}function f(d,a,b){return!d.hasOwnProperty(a)?b:d[a]}var n=g("common.js.format"),
o=g("common.js.events"),a=g("widget.suggest.nssug"),j=g("widget.suggest.webHandler"),i=g("widget.suggest.videoHandler");g("common.js.config");g("common.js.log");var c=g("common.js.browser"),l={web:{alt:"\u767e\u5ea6\u9996\u9875",logo:h("webv2",!1),logoWhite:h("web",!0),url:"http://www.baidu.com/?tn="+encodeURIComponent(window.__originTn__||window.__haoTn__||"sitehao123"),action:"http://www.baidu.com/s",actionSSL:"https://www.baidu.com/s",query:"word",params:{tn:window.__originTn__||window.__haoTn__||
"sitehao123",ie:"utf-8"},sug:j,hotword:"/sugdata_s4.json"},music:{alt:"\u767e\u5ea6\u97f3\u4e50",logo:h("yinyue",!1),logoWhite:h("yinyue",!0),url:"http://music.baidu.com",action:"http://music.hao123.com/search",query:"key",params:{fr:"hao123",ie:"utf-8"},sug:a("mp3",{sc:"hao123"})},video:{alt:"\u767e\u5ea6\u89c6\u9891\u641c\u7d22",logo:h("video",!1),logoWhite:h("video",!0),url:"http://v.baidu.com",action:"http://v.baidu.com/v",query:"word",params:{fr:"video",ie:"utf-8"},sug:i},image:{alt:"\u767e\u5ea6\u56fe\u7247",
logo:h("image",!1),logoWhite:h("image",!0),url:"http://image.baidu.com",action:"http://image.baidu.com/i",query:"word",params:{tn:"baiduimage",ct:"201326592",cl:"2",lm:"-1",ie:"utf-8",fm:"hao123"},sug:a("image",{sc:"hao123"}),hotword:""},tieba:{alt:"\u767e\u5ea6\u8d34\u5427",logo:h("tieba",!1),logoWhite:h("tieba",!0),url:"http://tieba.baidu.com",action:"http://tieba.baidu.com/f",query:"kw",params:{ie:"utf-8",sc:"hao123"},sug:function(d){var a=this;(d=d.replace(/^\s+|\s+$/g,""))?(d=n("http://tieba.baidu.com/sug?query=#{0|u}&callback=?",
d),$.ajax({url:d,data:{sc:"hao123"},cache:!1,dataType:"jsonp",scriptCharset:"gbk"}).done(function(){b.apply(a,arguments);a=null})):a.clear()}},zhidao:{alt:"\u767e\u5ea6\u77e5\u9053",logo:h("zhidao",!1),logoWhite:h("zhidao",!0),url:"http://zhidao.baidu.com",action:"http://zhidao.baidu.com/q",query:"word",params:{tn:"ikaslist",ct:"17",ie:"utf-8",sc:"hao123",rn:"20"},sug:a("zhidao",{sc:"hao123"})},news:{alt:"\u767e\u5ea6\u65b0\u95fb\u641c\u7d22",logo:h("news",!1),logoWhite:h("news",!0),url:"http://news.baidu.com",
action:"http://news.baidu.com/ns",query:"word",params:{tn:"news",ie:"utf-8",from:"hao123",sr:0,cl:2,rn:20,ct:1,prevct:"no"},sug:a("news",{sc:"hao123"})},map:{alt:"\u767e\u5ea6\u5730\u56fe\u641c\u7d22",logo:h("map",!1),logoWhite:h("map",!0),url:"http://map.baidu.com",action:"http://map.baidu.com/m",query:"word",params:{c:1,ie:"utf-8",sc:"hao123"},sug:function(a){var b=this;(a=a.replace(/^\s+|\s+$/g,""))?(a=n("http://map.baidu.com/su?wd=#{0|u}&callback=?",a),$.ajax({url:a,data:{cid:1,type:0,newmap:1,
sc:"hao123"},cache:!1,dataType:"jsonp",scriptCharset:"utf-8"}).done(function(){k.apply(b,arguments);b=null})):b.clear()}}};o.on("tnchecked",function(a,b){if(b&&b.fake){var e="http://www.baidu.com/?tn="+encodeURIComponent(b.tn),c={tn:b.tn,ie:"utf-8"};l.web.url=e;l.web.params=c}});p.exports=function(a){a=l[a];return!a?void 0:{alt:f(a,"alt"),logo:f(a,"logo"),logoWhite:f(a,"logoWhite"),url:f(a,"url"),action:f(a,"action"),actionSSL:f(a,"actionSSL"),query:f(a,"query"),params:f(a,"params"),sug:f(a,"sug"),
hotword:f(a,"hotword",!1)}};return m});
__d("widget.search.search","common.js.widget,widget.suggest.suggest,common.js.repeat,common.js.format,common.js.events,common.js.cookie,common.js.browser,common.js.config,widget.search.config,widget.suggest.webHandler,common.js.log".split(","),function(o,p,m,g){function h(a,b){for(var a=a||{},e=arguments,c=e.length,f=0,i,h;++f<c;)for(h in i=e[f],i)i.hasOwnProperty(h)&&(a[h]=i[h]);return a}g("common.js.widget");g("widget.suggest.suggest");g("common.js.repeat");var b=g("common.js.format"),k=g("common.js.events"),
f=g("common.js.cookie");g("common.js.browser");var n=g("common.js.config"),a=g("widget.search.config"),j=g("widget.suggest.webHandler");g("common.js.log");var i="tp3",c=window.location.hash||"",l=function(){};$.widget("hao123.search",{options:{defaultTab:"web",currClass:"s-bg20 g-fc5 g-fc5h curr",normalClass:"g-fc0",suggestClass:"suggest-search g-bg11 g-br9 g-sd0",paramTpl:'<input type="hidden" name="#{name|e}" value="#{value|e}" />',hotURL:"/sugdata_s4.json",hotItemTpl:'<span class="hot-icon hot-icon-index hot-icon-#{cls}"><span class="hot-icon-num">#{index}</span></span>#{word}#{tag}',
hotNumTpl:'<span class="hot-num">#{num}</span>',yindaoTibTpl:'<div style="display:none;hotword-yindao-tip" class="g_icon hotword-yindao-tip"><span class="g_icon hot-quan"></span><span class="hot-close"></span></div>',hotOnClass:"hotword-on",hotOffClass:"hotword-off",hotSugFooter:'<a class="hotword-tip g-fc2" href="http://top.baidu.com/">\u7531\u767e\u5ea6\u641c\u7d22\u98ce\u4e91\u699c\u63d0\u4f9b</a>'},_create:function(){var a=this.element,b=this.sugBType="hao123-indexsuga"==this.options.pageId;this.cmssrc=
"0";this.hotwordsNum=b?14:10;this.$magnify=$(".input-magnify",a);this.$recentWord=$(".input-word",a);this.showed=!1;this.$logoLink=$(".link-hook",a);this.$logoImg=$(".img-hook",a);this.$form=$(".form-hook",a);this.$shadow=$(".shadow-hook",a);this.$wrapper=$(".wrapper-hook",a);this.$input=$(".input-hook",a);this.$params=$(".params-hook",a);this.$button=$(".button-hook",a);this.$tabs=$(".tab-hook",a);this.$currTab=$(".curr-hook",a);this.$suggest=this.$input.suggest({classes:this.options.suggestClass,
eventSpace:"searchsuggest",sugBType:b});this.$sugBox=$(".suggest-search",a);this.$hotword=$(".hotword-hook",a);$(".tab",a).attr("hidefocus","true");this.$hotword.attr("hidefocus","true");""==c&&this.$input.focus();this.$tabsToggle=$(".tabs-toggle-hook",a).attr("hidefocus",!0);this.$tabsView=this.$tabs.closest(".tabs")},_init:function(){function a(){e.$tabsView.hide();e.$tabsToggle.removeClass("tabs-toggle-open").find("i").html("\u5c55\u5f00")}function b(){$(this).toggleClass("tabs-hover")}var e=this,
c=e.options,f=c.currClass,i=c.normalClass;e.$detail=e.$suggest.suggest("getHeader");e.$detail.addClass("detail");e.$list=e.$suggest.suggest("getList");e.$input.focus(function(){BaiduHttps&&BaiduHttps.useHttps&&BaiduHttps.useHttps()});e.$suggest.on("suggestselect",function(a,b){e.$list.css({height:"auto"});(b=b.data)&&b.isSpecial&&e._trigger("specialshow")});e.$tabs.click(function(){var a=e.$currTab,b=a.data("tab"),d=null;a.removeClass(f).addClass(i);a=$(this).removeClass(i).addClass(f);e.$currTab=
a;d=a.data("tab");b!==d&&e._trigger("tabchange",null,{prevTab:b,currTab:d});e._selectText();return!1});$(document).click(function(b){$(b.target).closest(e.$tabsToggle)[0]?(e.$tabsToggle.hasClass("tabs-toggle-open")?a():(e.$tabsView.show(),e.$tabsToggle.addClass("tabs-toggle-open").find("i").html("\u6536\u8d77")),b.preventDefault()):a()});e.element.on("searchtabchange",function(){e.$tabsToggle.find(".tab-curr").html(e.$currTab.text());a()});e.$tabsView.hover(b,b);e.$suggest.on("suggestshow",function(){e.showed=
!0;e.$hotword.addClass(c.hotOnClass);a()});e.$shadow.click(function(){e.$input.focus()});e.$shadow.hover(function(){e.$input.is(":focus")||e._selectText()});e._initHotWord();e._bindAdvancedEvent();e._initSubmitEvent();e._trigger("init",null,{currTab:c.defaultTab});e.element.on("mouseover",".footer-hook",function(){$(".item-hook",e.element).removeClass("hover g-bg3").filter(":last").addClass("hover g-bg3")});e.element.on("mouseout",".footer-hook",function(){$(".item-hook:last",e.element).removeClass("hover g-bg3")});
e.element.on("mouseout",".list-hook",function(){e.$sugBox.hasClass("sugB-Box")&&$(".item-hook",e.element).removeClass("hover g-bg3 g-bg1")})},_initSubmitEvent:function(){var b=this,c=!1,e="other",f="input",i=0,g=null,n=b.options.defaultTab,l;b.$suggest.on("suggestinit",function(a,e){b.$wrapper.append(e);return!1}).on("suggestinput",function(){f="input";i=0;g=null;b.$sugBox.removeClass("sugB-Box")}).on("suggestchange",function(a,e){i=e.index;g=e.data;f=0==i?"input":c?"hotword":"suggest";b.$sugBox.removeClass("sugB-Box")}).on("suggestsubmit",
function(a,c){b.$sugBox.removeClass("sugB-Box");switch(c.from){case "enter":l=e="enter";break;case "click":e="select";l="click";b.$form.submit();break;default:l=e="other"}});b.$button.on("mousedown",function(){l="button";b.$button.addClass("button-active")}).on("mouseout mouseup",function(){b.$button.removeClass("button-active")}).mouseup(function(){e="button";b._trigger("buttonclick",null,{query:b.$input.val()})});b.element.on("searchtabchange searchinit",function(a,b){n=b.currTab;g=null}).on("searchhotwordshow",
function(){c=!0}).on("searchhotwordhide",function(){c=!1});k.on("suggest.clickcms",function(a){b.cmssrc=a});b.$form.on("submit",function(c){function k(){if(!j.getPMData())return null;var a=j.getPMData(),b=[];$("#search .list-hook li").each(function(){for(var e=$(this).data().query,d=0;d<a.length;d++)a[d].title==e&&b.push(a[d])});return 0<b.length?b:null}function r(a){if(!j.getPMData())return!1;for(var b=j.getPMData(),e=0;e<b.length;e++)if(b[e].title==a)return!0;return!1}var m,o,t=a(n);"web"===n&&
(t=a(n),o=h({},b.defaultParams,t.params),m=BaiduHttps.useHttps(),o=o.tn);c=b._trigger("submit",c,{action:e,from:f,suggestIndex:i,suggestData:g,query:b.$input.val(),tab:n,ssl_type:m,ssl_tn:o,ssl_pageFlag:b.options.pageFlag,cmssrc:b.cmssrc});b.cmssrc="0";if(c&&"tieba"==n&&""==b.$input.val())return b._goUrl("http://tieba.baidu.com"),!1;c&&"hotword"===f&&g&&g.url&&(b._goUrl(g.url),c=!1);e="other";if("web"==n){t=!1;o=m=0;var B=k(),w=$("#search .list-hook li").eq(i-1).data();0<i&&w&&w.data&&w.data.isSpecial?
(c=!1,window.open(w.data.detailurl),m=o=1,t=!0):B&&(t=!0,o=0==i&&r(b.$input.val())?1:0);t&&b._trigger("secialsubmit",null,{toerji:m,from:l,hit:o,index:i})}else c&&(c=!1,b._goUrl(t.action+"?"+b.$form.serialize()));return c})},_goUrl:function(a){window.open(a)},_selectText:function(){""==c&&(this.$input.focus(),this.$input.select())},_initHotWord:function(){function a(d){var h,g;if(d&&d.data){d&&d.boardurl&&(h=!0);c.sugBType&&c.$sugBox.addClass("sugB-Box");d=d.data;f.suggest("clear");h&&f.suggest("footer",
e.hotSugFooter);for(h=0;h<c.hotwordsNum;h++){g=d[h];if(!g)break;f.suggest("add",g.word,b(e.hotItemTpl,{index:h+1,cls:3>h?"orange":"dark",word:g.word,tag:g.isnew?' <span class="hot-icon hot-icon-new">\u65b0</span>':""}),{url:g.url||null})}c.sugBType&&(d=e.cmsdata[0].data[0],h=e.cmsdata[1].data,f.suggest("addHeader"),f.suggest("addCmsData",d,h));f.suggest("show");i.addClass(e.hotOnClass)}}var c=this,e=c.options,f=c.$suggest,i=c.$hotword;i.click(function(){c.showed?(i.addClass("hotword-off").removeClass("hotword-on"),
f.suggest("clear")):(i.addClass("hotword-on").removeClass("hotword-off"),c._loadHotWord(a),c._trigger("hotwordshow"),c.$input.focus());return!1}).hover(function(){f.suggest("hold",!0)},function(){f.suggest("hold",!1)});f.on("suggesthide",function(){i.addClass(e.hotOffClass);i.removeClass(e.hotOnClass);c.showed=!1;f.suggest("footer","");c._trigger("hotwordhide")})},_loadHotWord:function(a){var b=this;b.hotURL&&(a=a||l,$.ajax({dataType:"json",url:b.hotURL,cache:!0,data:{r:~(new Date/18E5)},success:function(e){e.data=
{};for(var c,f=0;f<e.keywords.length;f++)c=e.keywords[f],e.data[f]={word:c.keyword,isnew:c.isNew,srchs:c.searches,change:c.changeRate,detailurl:"",m_detailurl:"",links:{}};a.call(b,e);k.emit("hotword.loaded",e)}}))},_bindAdvancedEvent:function(){function d(a){if(a&&a.data){var c,d,f,a=a.data;for(c=0,f=0;c<e.hotwordsNum;c++){d=a[c];if(!d)break;d.isnew&&f++}f&&(a=f,s?s.text(a).show():s=$(b(m.hotNumTpl,{num:a})).appendTo(e.$hotword).css({height:18,top:6,opacity:1}).animate({height:18,top:6,opacity:1},
400),e.$num=s)}}function g(){p&&(q?q.show():(q=$(m.yindaoTibTpl).appendTo(e.$wrapper),x=$(".hot-close",q),setTimeout(function(){q.fadeIn();y=0},y)),x&&x.click(function(){q&&q.remove();f.set(i,1,{expires:30})}))}var e=this,j=e.element,l=null,m=e.options,o=!f.has("index_searchhint"),p=!f.has(i),s,q,x,y=1900,z=n.get("searchtip")-0;$(document).on("floatstart",function(){e.isfloat=!0;k.emit("search.floatstart")});$(document).on("floatend",function(){e.isfloat=!1;k.emit("search.floatend")});j.on("searchinit searchtabchange",
function(b,f){var i=a(f.currTab),h;i&&(h=i.hotword,""==c&&e.$input.focus(),e.$input.attr({name:i.query}),l=i.params,e.$suggest.suggest("handler",a("web").sug),e.hotURL=h,e._loadHotWord(function(a){h&&d(a)}),h&&(s&&s.hide(),e._loadHotWord(d)),e.$hotword.toggle(!!h),z&&(h?g():(q&&q.remove(),q=null)))}).on("searchsubmit",function(b,c){var d=c.tab,f=a(d),i=h({},l,f.params);"web"===d&&c.ssl_pageFlag&&h(i,{ssl_sample:c.ssl_pageFlag});"web"===d&&void 0!==c.ssl_type&&c.ssl_tn&&(1===c.ssl_type?e.$form.attr({action:f.actionSSL}):
e.$form.attr({action:HAO.httpsTrans(f.action)}));if("suggest"==c.from||"hotword"==c.from)h(i,{f:3,rsp:c.suggestIndex-1}),(d=c.suggestData)&&d.suggestId&&h(i,{rsv_sug5:d.suggestId});e.isfloat&&e._trigger("floatsubmit");e.params(i)}).on("searchhotwordshow",function(){o&&(f.set("index_searchhint",1,{expires:1}),o=!1);z&&p&&(f.set(i,1,{expires:30}),q&&q.remove())})},params:function(a,c){var e=this.options.paramTpl,f,i,h;1<arguments.length?(this._params||(this._params={}),f=this._params,f[""+a]=c):f=this._params=
a;h=[];for(i in f)f.hasOwnProperty(i)&&h.push(b(e,{name:i,value:f[i]}));this.$params.html(h.join(""))}});return m});
__d("widget.logo.logo",["common.js.widget","common.js.format","common.js.fixpng","common.js.browser","common.js.events"],function(o,p,m,g,h){function b(a){a=parseInt(a);return isNaN(a)?0:a}g("common.js.widget");g("common.js.format");var k=g("common.js.fixpng"),f=g("common.js.browser"),n=g("common.js.events");$.widget("hao123.logo",{options:{url:"",title:"",target:"",style:"",imgurl:"",swfurl:"",width:0,height:0,defaultWidth:210,defaultHeight:60},_create:function(){var a=this,b=a.element;a.$img=$(".img-hook",
b);a.$link=$(".link-hook",b);a.$flash=null;a.$link.click(function(b){return a._trigger("click",b)}).attr("hidefocus","true")},_init:function(){var a=this.options;a.width=b(a.width)||a.defaultWidth;a.height=b(a.height)||a.defaultHeight;this._trigger("beforeload")&&(this.$link.attr({href:a.url,title:a.title,target:a.target}),n.done("title.ok"),this.$img.attr({width:a.width,height:a.height,alt:a.title}),a.swfurl?!f.isIpad()&&!f.safari&&this.setFlash(a.swfurl):this.setImage(a.imgurl,a.ieimg))},setFlash:function(a){var b=
this,f,c=b.options;h(["common.js.swf"],function(h){if(f=h.createHTML({url:a,width:parseInt(c.width),height:parseInt(c.height),wmode:"transparent"}))b.$flash||(b.$flash=$('<div class="card flash"></div>').insertBefore(b.$link),b.$flash.html(f)),b.$img.fadeOut(function(){b.$img.attr("src","http://s0.hao123img.com/img/1L/Aw/2F/mk/ch/o/blank.gif").show()})})},setImage:function(a,b){this.$img.attr("src",a);k(this.$img,b||a)}});return m});
__d("widget.topzixun.topzixun",["common.js.widget","common.js.ctr","common.js.format"],function(o,p,m,g){g("common.js.widget");var h=g("common.js.ctr"),b=g("common.js.format");$.widget("hao123.topzixun",{options:{txtdata:[],area:"",places:5},_create:function(){},_init:function(){this.$ps=$("p:lt("+this.options.places+")",this.element);this.$links=$("a",this.$ps);this._bindEvent()},_bindEvent:function(){var b=this;this.$links.click(function(){b._changeLink($(this))})},_changeLink:function(g){var f=
this.options,n=f.txtdata,a,j=g.parents("p"),i=(+new Date%6048E5).toString(36),g=$(".js_link",j),c=$(".js_sublink",j),l=parseInt(g.data("index"));(a=n.shift())&&setTimeout(function(){if(c.length){var d=$("span",c),j=c.data("index"),e=c.data("style");c.removeClass(e).addClass(a.ext.style2||"");c.data("style",a.ext.style2||"");d.text(a.ext.title2||"");c.attr("href",a.ext.url2||a.url);c.attr("title",a.ext.title2);c.attr("alog-custom",b("index:#{index},abtest:#{abtest},recom:#{recom},hash:#{hash},ts:#{ts}",
{index:j,recom:a.is_backup||0,abtest:f.area,hash:a.link_hash||"",ts:i}));c.attr("data-ctr",b("area:#{area},type:link,hash:#{hash},recom:#{recom},index:#{index},ts:#{ts}",{index:j,type:"link",recom:a.is_backup||0,area:f.area,hash:a.link_hash||"",ts:i}));c.attr("data-ctr-status",0);""!=a.ext.title2?c.show():c.hide()}d=$("span",g);j=g.data("style");g.removeClass(j).addClass(a.style||"");g.data("style",a.style||"");d.text(a.title||"");g.attr("href",a.url);g.attr("title",a.title);g.attr("alog-custom",
b("index:#{index},abtest:#{abtest},recom:#{recom},hash:#{hash},ts:#{ts}",{index:l,recom:a.is_backup||0,abtest:f.area,hash:a.link_hash||"",ts:i}));g.attr("data-ctr",b("area:#{area},type:link,hash:#{hash},recom:#{recom},index:#{index},ts:#{ts}",{index:l,type:"link",recom:a.is_backup||0,area:f.area,hash:a.link_hash||"",ts:i}));g.attr("data-ctr-status",0);c.length?h.callCTR($([c[0],g[0]])):h.callCTR(g)},600)},destroy:function(){clearInterval(this.timer);$.Widget.prototype.destroy.call(this)}});return m});
__d("widget.ecom.ecom",["common.js.widget"],function(o,p,m,g){g("common.js.widget");$.widget("hao123.ecom",{options:{selectCls:"selected",interval:1E4},_create:function(){var h=this.element;this.$imglist=$(".js_content li",h);this.$imgs=this.$imglist.find("img");this.$links=$(".pic",h)},_init:function(){this.$imgs&&(this.imgCount=this.$imglist.length,this.currentIndex=0,this._bindEvent(),1<this.imgCount&&this._autoPlay())},_bindEvent:function(){var h=this;this.$imglist.hover(function(){clearTimeout(h.hideTimer)},
function(){h.hideTimer=setTimeout(function(){},100)})},_autoPlay:function(){var h=this,b=h.options;clearInterval(this.timer);this.timer=setInterval(function(){h._goNext()},b.interval)},_goNext:function(){var h=this.currentIndex;++this.currentIndex===this.imgCount&&(this.currentIndex=0);this._display(h)},_display:function(h){var b=this.options;this.$imglist.eq(h).removeClass(b.selectCls);this.$imglist.eq(this.currentIndex).addClass(b.selectCls);this._animateShow(h)},_animateShow:function(h){this.$imglist.eq(h).css({opacity:1}).stop().animate({opacity:0},
800);this.$imglist.eq(this.currentIndex).css({opacity:0,display:"block"}).stop().animate({opacity:1},800)},destroy:function(){clearInterval(this.timer);$.Widget.prototype.destroy.call(this)}});return m});
__d("widget.calendarv2.calendarv2",["common.js.widget","common.js.log","common.js.cookie","common.js.messenger","common.js.format"],function(o,p,m,g){g("common.js.widget");var h=g("common.js.log"),b=g("common.js.cookie"),k=new (g("common.js.messenger"))("starSignParent","starSignChannel"),f=g("common.js.format"),n=HAO.httpsTrans("http://www.hao123.com/rili/index_iframe");$.widget("hao123.calendarv2",{options:{linkUrl:""},_create:function(){var a=this.element;this.savedInfo=b.get("constellation")||
0;this.$link=$('[data-hook="colcalendar-info"]',a);this.$xingzuo=$('[data-hook="calendarinfo-xingzuo"]',a);this.$xingzuoBox=$("#xingzuo_frame_box");this.$arrow=$('[data-hook="xingzuo-arrow"]',a);this.$bg=$('[data-hook="xingzuo-bg"]',a);this.$icon=$('[data-hook="calendarinfo-xingzuo"]',a);this.show_xingzuo=this.add_xingzuo=!1;this._setIcon(this.savedInfo);this._bindEvents()},_renderIframe:function(a){this.$xingzuo=$(f('<iframe id="xingzuo_frame" allowtransparency="true" class="game_frame" height="380" frameborder="0" scrolling="no" src=#{url} style="margin:0 auto; display:block;"></iframe>',
{url:n})).appendTo(this.$xingzuoBox);a&&a()},_initMsger:function(){var a=this,b="0,1,2,3,4,5,6,7,8,9,10,11,close,done".split(","),f=document.getElementById("xingzuo_frame");k.addTarget(f.contentWindow,"starSignIframe");k.listen(function(c){-1!=$.inArray(c,b)&&("done"==c?(a.$bg.hide(),a.$xingzuo.show()):"close"==c?a._toggleFrame():a._setIcon(c))})},_bindEvents:function(){var a=this,b=this.element;this._on(!0,{"click .colcalendar-info":function(b){a.add_xingzuo||(a.add_xingzuo=!0,a._renderIframe(function(){a.$xingzuo.hide();
a._initMsger()}));a._toggleFrame();b.stopPropagation();return!1}});$(document).on("click",function(f){if(a.show_xingzuo){var c=b.parent()[0],f=f.target;f!=a.$xingzuo&&f!=a.$xingzuoBox&&!$.contains(c,f)&&a._toggleFrame()}})},_toggleFrame:function(){this.show_xingzuo?(this.show_xingzuo=!1,this.$xingzuoBox.hide(),this.$arrow.removeClass("xingzuo-hoverarrow"),this.$link.removeClass("calendarinfo-hover"),k&&k.send("index-closed")):(this.show_xingzuo=!0,this.$xingzuoBox.show(),h({level:"1",page:"index",
type:"auto",pageId:"hao123-indexnu",k:"xingzuo"}),this.$arrow.addClass("xingzuo-hoverarrow"),this.$link.addClass("calendarinfo-hover"))},_setIcon:function(a){var b={"0":"0 17px",1:"-48px 17px",2:"-192px 17px",3:"-72px 17px",4:"-144px 17px",5:"-24px 17px",6:"-240px 17px",7:"-264px 17px",8:"-120px 17px",9:"-96px 17px",10:"-216px 17px",11:"-168px 17px"};this.$icon.css("background-position",b[a]?b[a]:b["0"])}});return m});
__d("widget.baritem.baritem",["common.js.browser","widget.canlash.imageloader","common.js.widget","common.js.jquery_easing"],function(o,p,m,g){g("common.js.browser");g("widget.canlash.imageloader");g("common.js.widget");g("common.js.jquery_easing");$.widget("hao123.baritem",{options:{},_create:function(){this.$link=$('[data-hook="baritem-link"]',this.element)},_init:function(){var h=this;setTimeout(function(){h._appendO2O()},2E3)},_appendO2O:function(){var h=this,b=this.element;h.$link.each(function(g,
f){if("\u751f\u6d3b"==$(f).text()&&0==g){h.$parent=b.parent();var n=$('<a href="http://life.hao123.com/?tn=mkt_qipao" class="mxlm-o2otip" data-hook="mxlm-o2otip"></a>').appendTo(b);h.$parent.css("overflow","visible");h._animate(n)}})},_animate:function(h){var b=this;h.animate({height:"23px"},1E3,function(){setTimeout(function(){h.animate({height:0},1E3,function(){b.$parent&&b.$parent.css("overflow","hidden")})},4E3)})}});return m});
__d("widget.scrolltip.scrolltip",["common.js.jquery","common.js.widget","common.js.cookie","common.js.log"],function(o,p,m,g){g("common.js.jquery");g("common.js.widget");var h=g("common.js.cookie"),b=h.get("scrollflag"),k=(new Date).getTime();$.widget("hao123.scrolltip",{_create:function(){if("undefined"===typeof b){var f=k+604800;h.set("scrollflag",f+"",{expires:30});b=f}if(!(0<k-b)){var g=this,f=this.element,a=this.options.scrollBox,j=this.options.scrollBtn,i="onwheel"in document||9<=document.documentMode?
"wheel.scrolltip":"mousewheel.scrolltip DomMouseScroll.scrolltip";this.tiptimer=null;this.topelem=f;this.scrollTip=$("<span>",{"class":"top-scroll-tip"}).css({"z-index":600,display:"none"});this._startTime();f.on(i,function(){g._wheelHandler()});a.on("click.scrolltip",function(){g._wheelHandler()});j.on("mousedown.scrolltip",function(){$(document).on("mousemove.scrolltip",function(){g._wheelHandler()})});f.parent().on("mouseenter.scrolltip",g.debouce(function(){clearTimeout(g.tiptimer);g.tiptimer=
null;g._tipHide()},400,!0));f.parent().on("mouseleave.scrolltip",g.debouce(function(){g._startTime();g._tipShow()},400,!0));this.scrollTip.prependTo(f).show(300)}},_setOption:function(){},destroy:function(){this.scrollTip.remove();this._clearTime();this.element.off(".scrolltip");this.element.parent().off(".scrolltip");this.options.scrollBox.off("click.scrolltip");this.options.scrollBtn.off("mousedown.scrolltip");$(document).off("mousemove.scrolltip");$.Widget.prototype.destroy.call(this)},_startTime:function(){var b=
this;this.tiptimer=setTimeout(function(){b.destroy()},2E4)},_clearTime:function(){clearTimeout(this.tiptimer);this.tiptimer=null},_wheelHandler:function(){var b=g("common.js.log");this.destroy();h.set("scrollflag",0,{expires:30});b({page:"index",level:1,type:"auto",k:"topzixun-scrolltip"})},_tipHide:function(){this.scrollTip.hide(300)},_tipShow:function(){this.scrollTip.show(300)},debouce:function(b,g,a){var h=this,i,c,k,d;return function(){c=arguments;k=new Date;var m=function(){var e=new Date-k;
e<g?i=setTimeout(m,g-e):(i=null,a||(d=b.apply(h,c)))},e=a&&!i;i||(i=setTimeout(m,g));e&&(d=b.apply(h,c));return d}}});return m});
__d("widget.sitelinks.sitelinks",["common.js.widget","common.js.browser"],function(o,p,m,g){g("common.js.widget");var h=g("common.js.browser");$.widget("hao123.sitelinks",{options:{},_create:function(){this._render();this._bindEvent()},_render:function(){var b=this,g=b.element;this.$bgbox=$(".js_bgbox",g);this.$openup=$(".js_openup",g);this.$sites=$(".js_bgbox a",g);6==h.ie&&this._setWidth(this.$bgbox.width()-16);this.$sites.each(function(f,g){var a=$(g),h=b._initAlog(a);a.attr({"alog-custom":h})})},
_initAlog:function(b){for(var b=b.attr("cls").split(","),g=b.length,f="ins:",h=";sal:",a=";atd:",j=0;j<g;j++)0==j&&(f+=b[0]),1==j&&("y"==b[j]?h+="1":"n"==b[j]&&(h+="0")),2==j&&(a+=b[2]);return f+h+a},_setWidth:function(b){this.$sites.width(b)},_bindEvent:function(){var b=this;this.$bgbox.hover(function(){clearTimeout(b.hideTimer)},function(){clearTimeout(b.showTimer);b.hideTimer=setTimeout(function(){b._hide()},300)});this.$openup.hover(function(){clearTimeout(b.hideTimer);b.showTimer=setTimeout(function(){b._show()},
300)},function(){clearTimeout(b.showTimer);b.hideTimer=setTimeout(function(){b._hide()},300)});this.$sites.bind("click",function(){b._hide()})},_hide:function(){$(this.element).css("z-index","0");$(this.element).parent().css("z-index","");this.$bgbox.hide();this.$openup.removeClass("open-down")},_show:function(){$(this.element).css("z-index","90");$(this.element).parent().css("z-index","200");$.browser.msie&&7>$.browser.version&&this.$bgbox.find("a").css("width","0");this.$bgbox.show();this.$openup.addClass("open-down")},
destroy:function(){$.Widget.prototype.destroy.call(this)}});return m});
__d("widget.hotsearch.hotsearch",["common.js.widget","common.js.events","common.js.log"],function(o,p,m,g){g("common.js.widget");g("common.js.events");var h=g("common.js.log");$.widget("hao123.hotsearch",{_create:function(){var b=this.element,g=this.options;this.$ctrlBtn=$(".js-ctrlBtn",b);this.$ctrlDes=$(".js-hotsearchbottom",b);this.$ctrlText=$(".js-ctrlBtn-text",b);this.$hotword=$(".js-hotword",b);this.logParams=g.logParams;this.getRecom();this.bindEvent()},initYHJF:function(){var b=this,g=b.options,
f;b.wordsBackup=g.hotwords.slice(g.max);b.index=g.max;b.$hotword.click(function(){var g=$(this);b.wordsBackup.length&&(clearTimeout(f),f=setTimeout(function(){b.replaceItem(g,b.wordsBackup.shift());if(b.options.flag){var a=b.getVLogParams();b.sendVLog(a)}},600))})},getRecom:function(){var b=this,g=b.options,f=g.recomUrl;g.flag&&f&&(f=HAO.httpsTrans(decodeURIComponent(f)),$.ajax(f,{dataType:"jsonp",jsonpCallback:"setRecom"}).success(function(f){var a=f.flag;4===a?b.renderRecom(f.json,a):3===a&&(b.logParams=
b.logParams.replace(/(recom:)\d/,"$1"+a),b.$hotword.each(function(){$(this).attr("alog-custom",function(b,f){return f.replace(/(recom:)\d/,"$1"+a)})}));b.initYHJF();f=b.getVLogParams();b.sendVLog(f)}).fail(function(){}))},renderRecom:function(b,g){var f=this,h=[],a=f.options,j=a.hotwords;f.index=0;for(var i=j.shift(),c=b.length;c--;)if(b[c].title===i.title){b.splice(c,1);break}b.unshift(i);b.push.apply(b,j);c=b.length;for(j=0;j<c;j++)h.push(b[j].title);f.logParams=f.logParams.replace(/(hotq:)[^,]+/,
"$1"+h.join("|")).replace(/(recom:)\d/,"$1"+g);f.$hotword.each(function(a){f.replaceItem($(this),b[a])});a.hotwords=b},replaceItem:function(b,g){var f=g.title,h=g.url;b.text(f).prop("href",h||this.getUrl(f)).attr("alog-custom",this.getLogParams(g)).css("color",g.style||"")},getUrl:function(b){return"http://www.baidu.com/s?word="+encodeURIComponent(b)+"&tn="+this.options.tn+"&ie=utf-8"},getLogParams:function(b){b.link_hash&&(this.logParams+=",hash:"+b.link_hash);return this.logParams+",index:"+this.index++},
getVLogParams:function(){var b={};$.each(this.logParams.split(","),function(a,f){var c=f.split(":");b[c[0]]=c[1]});var g=[];g.push(b.abtest);g.push(b.recom);g.push(b.organic);g.push(b.ts);var f=[],h=this.$hotword.closest("ul"),a=h.offset();a.right=a.left+h.innerWidth();a.bottom=a.top+h.innerHeight();this.$hotword.each(function(){var b=$(this),g=b.offset();a.top<=g.top&&a.left<=g.left&&a.right>=g.left+b.innerWidth()&&a.bottom>=g.top+b.innerHeight()&&f.push(b.text())});g.push(f.join("|"));return g},
sendVLog:function(b){b={q:b.join("_")};b._=(+new Date).toString(36);h(b,{url:"/v.gif"})},bindEvent:function(){this.options.flag||this.initYHJF()},destroy:function(){$.Widget.prototype.destroy.call(this)}});return m});window.js_kEHWVmDsaa&&window.js_kEHWVmDsaa(!0);
