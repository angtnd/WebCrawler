__d("widget.site.siteResource",["common.js.format","common.js.animation"],function(x,w,r,c){var i=c("common.js.format"),o=c("common.js.animation"),j={addResource:function(b,a,d,f){var h=$(this).parent(),b=j.createDom(b,a,d),a=j.createTip();h.append(b).append(a);var d=a[0],y="-3 -4,-28 -4,-53 -4,-78 -4,-103 -4,-128 -4,-153 -4,-178 -4,-203 -4,-228 -4,-253 -4,-328 -4,-353 -4,-403 -4,-353 -4,-328 -4,-253 -4,-228 -4,-203 -4,-178 -4,-153 -4,-128 -4,-103 -4,-78 -4,-53 -4,-28 -4,-3 -4".split(","),l="-5 -5,-30 -5,-55 -5,-80 -5,-105 -5,-130 -5,-155 -5,-180 -5,-205 -5,-230 -5,-255 -5,-330 -5,-255 -5,-230 -5,-205 -5,-180 -5,-155 -5,-130 -5,-105 -5,-80 -5,-55 -5,-30 -5,-5 -5".split(",");
"wide"==f?o().changePosition(d,y).start(100):"narrow"==f&&o().changePosition(d,l).start(100);j.bindEvents(b,a,h)},bindEvents:function(b,a,d){$('[data-hook="siteresource-link"]',b);var f="",f=b.hasClass("resource-container-right")?"resourcelink-bg":"resourcelink-bg-left";d.mouseleave(function(){$(this).hasClass(f)&&(b.hide(),$(this).removeClass(f),a.show())});a.mouseover(function(){b.show();d.addClass(f);$(this).hide()})},createTip:function(){return $('<div data-hook="siteresource-tip" class="g-ib siteresource-tip"></div>')},
createDom:function(b,a,d){var f=document.createElement("div"),h,y,l="resource-container ",c=Math.floor(a/6);if(b.mzzyw){0==(a+1)%6&&(l=l+"resource-container-right "+("resource-container-right"+c+" "));l+="resource-container-r"+c+" ";for(a=1;a<=b.mzzyw;a++)h="mzzywtitle"+a,y="mzzywurl"+a,h=i('<a hidefocus="true" data-hook="siteresource-link" href="#{url}" title="#{title}" class="siteresource-link">#{title}</a>',{url:b[y],title:b[h]}),y=$(h),h=1==a?"siteresource-firstlink siteresource-link1":a==b.mzzyw?
"siteresource-lastlink siteresource-link3":"siteresource-link2","mz"==d&&c+1==a&&(h+=" siteresource-curlink"),y.addClass(h),$(f).append(y).addClass(l).attr("monkey","siteresource_container");return $(f)}}};return r={add:j.addResource}});
__d("widget.coolsite.coolsiteresource",["common.js.format"],function(x,w,r,c){var i=c("common.js.format"),o={addResource:function(c){var b=$(this).parent(),c=o.createDom(c),a=o.createTip();b.append(c).append(a).css("position","relative");o.bindEvents(c,a,b)},bindEvents:function(c,b,a){a.hover(function(){$(this).parent().addClass("coolsiteResource-hover");$(this).addClass("coolsiteResource-hover");c.show()},function(){$(this).parent().removeClass("coolsiteResource-hover");$(this).removeClass("coolsiteResource-hover");
c.hide()})},createTip:function(){return $('<div data-hook="siteresource-tip" class="g-ib coolsiteresource-tip"></div>')},createDom:function(c){var b=document.createElement("div");if("0"!=c.kzzyw){var a=i('<a hidefocus="true" data-hook="siteresource-link" href="#{url}" alog-text="#{title}" class="coolsiteresource-link"><span class="coolsiteresource-title">#{title}</span><img class="coolsiteresource-img" src="#{imgurl}" /></a>',{url:c.kzzywurl,title:c.kzzywtitle,imgurl:HAO.httpsTrans(c.kzzywimg)}),
a=$(a);""==c.kzzywtitle&&(a.attr("alog-text","coolsiteresource-title"),$(".coolsiteresource-title",a).hide(),$(".coolsiteresource-img",a).addClass("coolsiteresource-lgimg"));$(b).append(a).addClass("coolsiteresource_container").attr("monkey","coolsiteresource_container");return $(b)}}};return r={add:o.addResource}});
__d("common.js.tabs",[],function(x,w,r){(function(c){var i=0,o=0;c.widget("ui.tabs",{options:{add:null,ajaxOptions:null,cache:!1,cookie:null,collapsible:!1,disable:null,disabled:[],enable:null,event:"click",fx:null,idPrefix:"ui-tabs-",load:null,panelTemplate:"<div></div>",remove:null,select:null,show:null,spinner:"<em>Loading&#8230;</em>",tabTemplate:'<li><a href="#{href}"><span>#{label}</span></a></li>'},_create:function(){this._tabify(!0)},_setOption:function(c,b){"selected"==c?this.options.collapsible&&
b==this.options.selected||this.select(b):(this.options[c]=b,this._tabify())},_tabId:function(c){return c.title&&c.title.replace(/\s/g,"_").replace(/[^A-Za-z0-9\-_:\.]/g,"")||this.options.idPrefix+ ++i},_sanitizeSelector:function(c){return c.replace(/:/g,"\\:")},_cookie:function(){var j=this.cookie||(this.cookie=this.options.cookie.name||"ui-tabs-"+ ++o);return c.cookie.apply(null,[j].concat(c.makeArray(arguments)))},_ui:function(c,b){return{tab:c,panel:b,index:this.anchors.index(c)}},_cleanup:function(){this.lis.filter(".ui-state-processing").removeClass("ui-state-processing").find("span:data(label.tabs)").each(function(){var j=
c(this);j.html(j.data("label.tabs")).removeData("label.tabs")})},_tabify:function(j){function b(a,m){a.css({display:""});!c.support.opacity&&m.opacity&&a[0].style.removeAttribute("filter")}this.list=this.element.find("ol,ul").eq(0);this.lis=c("li:has(a[href])",this.list);this.anchors=this.lis.map(function(){return c("a",this)[0]});this.panels=c([]);var a=this,d=this.options,f=/^#.+/;this.anchors.each(function(h,m){var e=c(m).attr("href"),z=e.split("#")[0],g;if(z&&(z===location.toString().split("#")[0]||
(g=c("base")[0])&&z===g.href))e=m.hash,m.href=e;f.test(e)?a.panels=a.panels.add(a._sanitizeSelector(e)):"#"!=e?(c.data(m,"href.tabs",e),c.data(m,"load.tabs",e.replace(/#.*$/,"")),e=a._tabId(m),m.href="#"+e,z=c("#"+e),z.length||(z=c(d.panelTemplate).attr("id",e).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").insertAfter(a.panels[h-1]||a.list),z.data("destroy.tabs",!0)),a.panels=a.panels.add(z)):d.disabled.push(h)});j?(this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all"),
this.list.addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"),this.lis.addClass("ui-state-default ui-corner-top"),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom"),void 0===d.selected?(location.hash&&this.anchors.each(function(a,m){if(m.hash==location.hash)return d.selected=a,!1}),"number"!=typeof d.selected&&d.cookie&&(d.selected=parseInt(a._cookie(),10)),"number"!=typeof d.selected&&this.lis.filter(".ui-tabs-selected").length&&(d.selected=
this.lis.index(this.lis.filter(".ui-tabs-selected"))),d.selected=d.selected||(this.lis.length?0:-1)):null===d.selected&&(d.selected=-1),d.selected=0<=d.selected&&this.anchors[d.selected]||0>d.selected?d.selected:0,d.disabled=c.unique(d.disabled.concat(c.map(this.lis.filter(".ui-state-disabled"),function(h){return a.lis.index(h)}))).sort(),-1!=c.inArray(d.selected,d.disabled)&&d.disabled.splice(c.inArray(d.selected,d.disabled),1),this.panels.addClass("ui-tabs-hide"),this.lis.removeClass("ui-tabs-selected ui-state-active"),
0<=d.selected&&this.anchors.length&&(this.panels.eq(d.selected).removeClass("ui-tabs-hide"),this.lis.eq(d.selected).addClass("ui-tabs-selected ui-state-active"),a.element.queue("tabs",function(){a._trigger("show",null,a._ui(a.anchors[d.selected],a.panels[d.selected]))}),this.load(d.selected)),c(window).bind("unload",function(){a.lis.add(a.anchors).unbind(".tabs");a.lis=a.anchors=a.panels=null})):d.selected=this.lis.index(this.lis.filter(".ui-tabs-selected"));this.element[d.collapsible?"addClass":
"removeClass"]("ui-tabs-collapsible");d.cookie&&this._cookie(d.selected,d.cookie);for(var j=0,h;h=this.lis[j];j++)c(h)[-1!=c.inArray(j,d.disabled)&&!c(h).hasClass("ui-tabs-selected")?"addClass":"removeClass"]("ui-state-disabled");!1===d.cache&&this.anchors.removeData("cache.tabs");this.lis.add(this.anchors).unbind(".tabs");if("mouseover"!=d.event){var y=function(a,m){m.is(":not(.ui-state-disabled)")&&m.addClass("ui-state-"+a)};this.lis.bind("mouseover.tabs",function(){y("hover",c(this))});this.lis.bind("mouseout.tabs",
function(){c(this).removeClass("ui-state-hover")});this.anchors.bind("focus.tabs",function(){y("focus",c(this).closest("li"))});this.anchors.bind("blur.tabs",function(){c(this).closest("li").removeClass("ui-state-focus")})}var l,u;d.fx&&(c.isArray(d.fx)?(l=d.fx[0],u=d.fx[1]):l=u=d.fx);var k=u?function(h,m){c(h).closest("li").addClass("ui-tabs-selected ui-state-active");m.hide().removeClass("ui-tabs-hide").animate(u,u.duration||"normal",function(){b(m,u);a._trigger("show",null,a._ui(h,m[0]))})}:function(h,
m){c(h).closest("li").addClass("ui-tabs-selected ui-state-active");m.removeClass("ui-tabs-hide");a._trigger("show",null,a._ui(h,m[0]))},q=l?function(h,m){m.animate(l,l.duration||"normal",function(){a.lis.removeClass("ui-tabs-selected ui-state-active");m.addClass("ui-tabs-hide");b(m,l);a.element.dequeue("tabs")})}:function(h,m){a.lis.removeClass("ui-tabs-selected ui-state-active");m.addClass("ui-tabs-hide");a.element.dequeue("tabs")};this.anchors.bind(d.event+".tabs",function(){var h=this,m=c(this).closest("li"),
e=a.panels.filter(":not(.ui-tabs-hide)"),z=c(a._sanitizeSelector(this.hash));if(m.hasClass("ui-tabs-selected")&&!d.collapsible||m.hasClass("ui-state-disabled")||m.hasClass("ui-state-processing")||!1===a._trigger("select",null,a._ui(this,z[0])))return this.blur(),!1;d.selected=a.anchors.index(this);a.abort();if(d.collapsible){if(m.hasClass("ui-tabs-selected"))return d.selected=-1,d.cookie&&a._cookie(d.selected,d.cookie),a.element.queue("tabs",function(){q(h,e)}).dequeue("tabs"),this.blur(),!1;if(!e.length)return d.cookie&&
a._cookie(d.selected,d.cookie),a.element.queue("tabs",function(){k(h,z)}),a.load(a.anchors.index(this)),this.blur(),!1}d.cookie&&a._cookie(d.selected,d.cookie);if(z.length)e.length&&a.element.queue("tabs",function(){q(h,e)}),a.element.queue("tabs",function(){k(h,z)}),a.load(a.anchors.index(this));else throw"jQuery UI Tabs: Mismatching fragment identifier.";c.browser.msie&&this.blur()});this.anchors.bind("click.tabs",function(){return!1})},destroy:function(){var j=this.options;this.abort();this.element.unbind(".tabs").removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible").removeData("tabs");
this.list.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all");this.anchors.each(function(){var b=c.data(this,"href.tabs");b&&(this.href=b);var a=c(this).unbind(".tabs");c.each(["href","load","cache"],function(b,f){a.removeData(f+".tabs")})});this.lis.unbind(".tabs").add(this.panels).each(function(){c.data(this,"destroy.tabs")?c(this).remove():c(this).removeClass("ui-state-default ui-corner-top ui-tabs-selected ui-state-active ui-state-hover ui-state-focus ui-state-disabled ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide")});
j.cookie&&this._cookie(null,j.cookie);return this},add:function(j,b,a){void 0===a&&(a=this.anchors.length);var d=this,f=this.options,b=c(f.tabTemplate.replace(/#\{href\}/g,j).replace(/#\{label\}/g,b)),j=!j.indexOf("#")?j.replace("#",""):this._tabId(c("a",b)[0]);b.addClass("ui-state-default ui-corner-top").data("destroy.tabs",!0);var h=c("#"+j);h.length||(h=c(f.panelTemplate).attr("id",j).data("destroy.tabs",!0));h.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide");a>=this.lis.length?
(b.appendTo(this.list),h.appendTo(this.list[0].parentNode)):(b.insertBefore(this.lis[a]),h.insertBefore(this.panels[a]));f.disabled=c.map(f.disabled,function(h){return h>=a?++h:h});this._tabify();1==this.anchors.length&&(f.selected=0,b.addClass("ui-tabs-selected ui-state-active"),h.removeClass("ui-tabs-hide"),this.element.queue("tabs",function(){d._trigger("show",null,d._ui(d.anchors[0],d.panels[0]))}),this.load(0));this._trigger("add",null,this._ui(this.anchors[a],this.panels[a]));return this},remove:function(j){var b=
this.options,a=this.lis.eq(j).remove(),d=this.panels.eq(j).remove();a.hasClass("ui-tabs-selected")&&1<this.anchors.length&&this.select(j+(j+1<this.anchors.length?1:-1));b.disabled=c.map(c.grep(b.disabled,function(a){return a!=j}),function(a){return a>=j?--a:a});this._tabify();this._trigger("remove",null,this._ui(a.find("a")[0],d[0]));return this},enable:function(j){var b=this.options;if(-1!=c.inArray(j,b.disabled))return this.lis.eq(j).removeClass("ui-state-disabled"),b.disabled=c.grep(b.disabled,
function(a){return a!=j}),this._trigger("enable",null,this._ui(this.anchors[j],this.panels[j])),this},disable:function(c){var b=this.options;c!=b.selected&&(this.lis.eq(c).addClass("ui-state-disabled"),b.disabled.push(c),b.disabled.sort(),this._trigger("disable",null,this._ui(this.anchors[c],this.panels[c])));return this},select:function(c){"string"==typeof c?c=this.anchors.index(this.anchors.filter("[href$="+c+"]")):null===c&&(c=-1);-1==c&&this.options.collapsible&&(c=this.options.selected);this.anchors.eq(c).trigger(this.options.event+
".tabs");return this},load:function(i){var b=this,a=this.options,d=this.anchors.eq(i)[0],f=c.data(d,"load.tabs");this.abort();if(!f||0!==this.element.queue("tabs").length&&c.data(d,"cache.tabs"))this.element.dequeue("tabs");else{this.lis.eq(i).addClass("ui-state-processing");if(a.spinner){var h=c("span",d);h.data("label.tabs",h.html()).html(a.spinner)}this.xhr=c.ajax(c.extend({},a.ajaxOptions,{url:f,success:function(h,f){c(b._sanitizeSelector(d.hash)).html(h);b._cleanup();a.cache&&c.data(d,"cache.tabs",
!0);b._trigger("load",null,b._ui(b.anchors[i],b.panels[i]));try{a.ajaxOptions.success(h,f)}catch(u){}},error:function(h,f){b._cleanup();b._trigger("load",null,b._ui(b.anchors[i],b.panels[i]));try{a.ajaxOptions.error(h,f,i,d)}catch(c){}}}));b.element.dequeue("tabs");return this}},abort:function(){this.element.queue([]);this.panels.stop(!1,!0);this.element.queue("tabs",this.element.queue("tabs").splice(-2,2));this.xhr&&(this.xhr.abort(),delete this.xhr);this._cleanup();return this},url:function(c,b){this.anchors.eq(c).removeData("cache.tabs").data("load.tabs",
b);return this},length:function(){return this.anchors.length}});c.extend(c.ui.tabs,{version:"1.8.2"});c.extend(c.ui.tabs.prototype,{rotation:null,rotate:function(c,b){var a=this,d=this.options,f=a._rotate||(a._rotate=function(h){clearTimeout(a.rotation);a.rotation=setTimeout(function(){var h=d.selected;a.select(++h<a.anchors.length?h:0)},c);h&&h.stopPropagation()}),h=a._unrotate||(a._unrotate=!b?function(h){h.clientX&&a.rotate(null)}:function(){t=d.selected;f()});c?(this.element.bind("tabsshow",f),
this.anchors.bind(d.event+".tabs",h),f()):(clearTimeout(a.rotation),this.element.unbind("tabsshow",f),this.anchors.unbind(d.event+".tabs",h),delete this._rotate,delete this._unrotate);return this}})})(jQuery);return r});
__d("common.js.autoheight-server",[],function(x,w,r){window._refreshFrameStatus=function(){var c=$("iframe[action=logInFrame]"),i;1>c.length?(c=$("#main_frame"),i=c.src,c.src="about:blank",setTimeout(function(){c.src=i},100)):$.each(c,function(i){(function(c,b){c.attr("src","about:blank");setTimeout(function(){c.attr("src",b)},100)})(c.eq(i),c.eq(i).attr("src"))})};(function(c){var i={},o=null,j=window.autoheight=window.autoheight||{},b,a=/\&/g,d=/=/g;j.listen=function(a,b){b||(b=a);a&&(i[a]=b,window.iframe_listened=
b)};j.callback=function(a){o=a};var f=function(h){for(var f=h.data.toString().split(a),l,u,k,q,n,m,e=!1,z=!1,h=!1,g,v,p=0;p<f.length;p++){var A=f[p].split(d),B=A[0];if(A=A[1])switch(B){case "width":u=A;break;case "height":k=A;break;case "id":l=A;break;case "top":e=!0;g=A;break;case "left":e=!0;v=A;break;case "view":z=!0;n=A;break;case "usrcallback":h=!0;m=A;break;case "IFRAM_DATA":window.IFRAM_DATA=A}}1==f.length&&!k&&!isNaN(parseInt(f[0],10))&&(k=parseInt(f[0],10));if(i[l]&&(q=c.document.getElementById(i[l]))){u&&
(q.style.width=u+"px");k&&(q.style.height=k+"px");e&&scrollTo(v,g);if(z&&n){l=c.document.getElementById(n);if(!l)return;scrollTo(0,l.offsetTop)}h&&m&&("alert"==m.split("|")[0]&&alert(m.split("|")[1]),"showLogin"==m.split("|")[0]&&showLogin(),"commentcount"==m.split("|")[0]&&addCommentCount(parseInt(m.split("|")[1],10)));b!==k&&o&&"function"==typeof o&&(o(),b=k)}};c.postMessage&&(c.addEventListener?c.addEventListener("message",f,!1):c.attachEvent?c.attachEvent("onmessage",function(){f.call(c,window.event)}):
c.onmessage=function(){f.call(c,window.event)});j.raise=f;c.onloginsuccess=function(){c._refreshFrameStatus.call(c,window.event)}})(window);return r});
__d("common.js.autosize",[],function(x,w,r){!function(c){var i,o={className:"autosizejs",id:"autosizejs",append:"\n",callback:!1,resizeDelay:10,placeholder:!0},j="fontFamily,fontSize,fontWeight,fontStyle,letterSpacing,textTransform,wordSpacing,textIndent,whiteSpace".split(","),b=c('<textarea tabindex="-1" style="position:absolute; top:-999px; left:0; right:auto; bottom:auto; border:0; padding: 0; -moz-box-sizing:content-box; -webkit-box-sizing:content-box; box-sizing:content-box; word-wrap:break-word; height:0 !important; min-height:0 !important; overflow:hidden; transition:none; -webkit-transition:none; -moz-transition:none;"/>').data("autosize",!0)[0];
b.style.lineHeight="99px";"99px"===c(b).css("lineHeight")&&j.push("lineHeight");b.style.lineHeight="";c.fn.autosize=function(a){return this.length?(a=c.extend({},o,a||{}),b.parentNode!==document.body&&c(document.body).append(b),this.each(function(){function d(){var e,a=window.getComputedStyle?window.getComputedStyle(q,null):null;a?(e=parseFloat(a.width),("border-box"===a.boxSizing||"border-box"===a.webkitBoxSizing||"border-box"===a.mozBoxSizing)&&c.each(["paddingLeft","paddingRight","borderLeftWidth",
"borderRightWidth"],function(m,s){e-=parseFloat(a[s])})):e=n.width();b.style.width=Math.max(e,0)+"px"}function f(){var e={};if(i=q,b.className=a.className,b.id=a.id,l=parseFloat(n.css("maxHeight")),c.each(j,function(a,s){e[s]=n.css(s)}),c(b).css(e).attr("wrap",n.attr("wrap")),d(),window.chrome){var m=q.style.width;q.style.width="0px";q.offsetWidth;q.style.width=m}}function h(){var g,h;i!==q?f():d();b.value=!q.value&&a.placeholder?n.attr("placeholder")||"":q.value;b.value+=a.append||"";b.style.overflowY=
q.style.overflowY;h=parseFloat(q.style.height)||0;b.scrollTop=0;b.scrollTop=9E4;g=b.scrollTop;l&&g>l?(q.style.overflowY="scroll",g=l):(q.style.overflowY="hidden",u>g&&(g=u));g+=m;0.01<Math.abs(h-g)&&(q.style.height=g+"px",b.className=b.className,e&&a.callback.call(q,q),n.trigger("autosize.resized"))}function y(){clearTimeout(k);k=setTimeout(function(){var e=n.width();e!==g&&(g=e,h())},parseInt(a.resizeDelay,10))}var l,u,k,q=this,n=c(q),m=0,e=c.isFunction(a.callback),z={height:q.style.height,overflow:q.style.overflow,
overflowY:q.style.overflowY,wordWrap:q.style.wordWrap,resize:q.style.resize},g=n.width(),v=n.css("resize");n.data("autosize")||(n.data("autosize",!0),("border-box"===n.css("box-sizing")||"border-box"===n.css("-moz-box-sizing")||"border-box"===n.css("-webkit-box-sizing"))&&(m=n.outerHeight()-n.height()),u=Math.max(parseFloat(n.css("minHeight"))-m||0,n.height()),n.css({overflow:"hidden",overflowY:"hidden",wordWrap:"break-word"}),"vertical"===v?n.css("resize","none"):"both"===v&&n.css("resize","horizontal"),
"onpropertychange"in q?"oninput"in q?n.on("input.autosize keyup.autosize",h):n.on("propertychange.autosize",function(){"value"===event.propertyName&&h()}):n.on("input.autosize",h),!1!==a.resizeDelay&&c(window).on("resize.autosize",y),n.on("autosize.resize",h),n.on("autosize.resizeIncludeStyle",function(){i=null;h()}),n.on("autosize.destroy",function(){i=null;clearTimeout(k);c(window).off("resize",y);n.off("autosize").off(".autosize").css(z).removeData("autosize")}),h())})):this}}(jQuery||$);return r=
{autosize:function(c){c.autosize()}}});
__d("common.js.detector",[],function(x,w,r){function c(e,a){for(var s=0,m=e.length;s<m&&!(!1===a.call(e,e[s],s));s++);}function i(e){if(!y.test(e))return null;var a,s,m;if(-1!==e.indexOf("trident/")&&(a=/\btrident\/([0-9.]+)/.exec(e))&&2<=a.length)s=a[1],m=a[1].split("."),m[0]=parseInt(m[0],10)+4,m=m.join(".");a=y.exec(e);e=a[1];a=a[1].split(".");"undefined"===typeof m&&(m=e);a[0]=parseInt(a[0],10)-4;a=a.join(".");"undefined"===typeof s&&(s=a);return{browserVersion:m,browserMode:e,engineVersion:s,
engineMode:a,compatible:s!==a}}function o(e){if(h)try{var a=h.twGetRunPath.toLowerCase(),s=h.twGetSecurityID(f),m=h.twGetVersion(s);if(a&&-1===a.indexOf(e))return!1;if(m)return{version:m}}catch(g){}}function j(e,a,s){a="[object Function]"===Object.prototype.toString.call(a)?a.call(null,s):a;if(!a)return null;var e={name:e,version:d,codename:""},m=Object.prototype.toString.call(a);if(!0===a)return e;if("[object String]"===m){if(-1!==s.indexOf(a))return e}else{if("[object Object]"===Object.prototype.toString.call(a))return a.hasOwnProperty("version")&&
(e.version=a.version),e;if(a.exec&&(s=a.exec(s)))return e.version=2<=s.length&&s[1]?s[1].replace(/_/g,"."):d,e}}function b(e,a,s,m){var h=g;c(a,function(a){if(a=j(a[0],a[1],e))return h=a,!1});s.call(m,h.name,h.version)}var a={},d="-1",f=window,h,y=/\b(?:msie |ie |trident\/[0-9].*rv[ :])([0-9.]+)/,l=/\bbb10\b.+?\bversion\/([\d.]+)/,u=/\bblackberry\b.+\bversion\/([\d.]+)/,k=/\bblackberry\d+\/([\d.]+)/,q=[["nokia",function(e){return-1!==e.indexOf("nokia ")?/\bnokia ([0-9]+)?/:/\bnokia([a-z0-9]+)?/}],
["samsung",function(e){return-1!==e.indexOf("samsung")?/\bsamsung(?:[ \-](?:sgh|gt|sm))?-([a-z0-9]+)/:/\b(?:sgh|sch|gt|sm)-([a-z0-9]+)/}],["wp",function(e){return-1!==e.indexOf("windows phone ")||-1!==e.indexOf("xblwp")||-1!==e.indexOf("zunewp")||-1!==e.indexOf("windows ce")}],["pc","windows"],["ipad","ipad"],["ipod","ipod"],["iphone",/\biphone\b|\biph(\d)/],["mac","macintosh"],["mi",/\bmi[ \-]?([a-z0-9 ]+(?= build|\)))/],["hongmi",/\bhm[ \-]?([a-z0-9]+)/],["aliyun",/\baliyunos\b(?:[\-](\d+))?/],
["meizu",function(e){return 0<=e.indexOf("meizu")?/\bmeizu[\/ ]([a-z0-9]+)\b/:/\bm([0-9cx]{1,4})\b/}],["nexus",/\bnexus ([0-9s.]+)/],["huawei",function(e){var a=/\bmediapad (.+?)(?= build\/huaweimediapad\b)/;return-1!==e.indexOf("huawei-huawei")?/\bhuawei\-huawei\-([a-z0-9\-]+)/:a.test(e)?a:/\bhuawei[ _\-]?([a-z0-9]+)/}],["lenovo",function(e){return-1!==e.indexOf("lenovo-lenovo")?/\blenovo\-lenovo[ \-]([a-z0-9]+)/:/\blenovo[ \-]?([a-z0-9]+)/}],["zte",function(e){return/\bzte\-[tu]/.test(e)?/\bzte-[tu][ _\-]?([a-su-z0-9\+]+)/:
/\bzte[ _\-]?([a-su-z0-9\+]+)/}],["vivo",/\bvivo(?: ([a-z0-9]+))?/],["htc",function(e){return/\bhtc[a-z0-9 _\-]+(?= build\b)/.test(e)?/\bhtc[ _\-]?([a-z0-9 ]+(?= build))/:/\bhtc[ _\-]?([a-z0-9 ]+)/}],["oppo",/\boppo[_]([a-z0-9]+)/],["konka",/\bkonka[_\-]([a-z0-9]+)/],["sonyericsson",/\bmt([a-z0-9]+)/],["coolpad",/\bcoolpad[_ ]?([a-z0-9]+)/],["lg",/\blg[\-]([a-z0-9]+)/],["android",/\bandroid\b|\badr\b/],["blackberry",function(e){return 0<=e.indexOf("blackberry")?/\bblackberry\s?(\d+)/:"bb10"}]],n=
[["wp",function(e){return-1!==e.indexOf("windows phone ")?/\bwindows phone (?:os )?([0-9.]+)/:-1!==e.indexOf("xblwp")?/\bxblwp([0-9.]+)/:-1!==e.indexOf("zunewp")?/\bzunewp([0-9.]+)/:"windows phone"}],["windows",/\bwindows nt ([0-9.]+)/],["macosx",/\bmac os x ([0-9._]+)/],["ios",function(e){return/\bcpu(?: iphone)? os /.test(e)?/\bcpu(?: iphone)? os ([0-9._]+)/:-1!==e.indexOf("iph os ")?/\biph os ([0-9_]+)/:/\bios\b/}],["yunos",/\baliyunos ([0-9.]+)/],["android",function(e){return 0<=e.indexOf("android")?
/\bandroid[ \/-]?([0-9.x]+)?/:0<=e.indexOf("adr")?0<=e.indexOf("mqqbrowser")?/\badr[ ]\(linux; u; ([0-9.]+)?/:/\badr(?:[ ]([0-9.]+))?/:"android"}],["chromeos",/\bcros i686 ([0-9.]+)/],["linux","linux"],["windowsce",/\bwindows ce(?: ([0-9.]+))?/],["symbian",/\bsymbian(?:os)?\/([0-9.]+)/],["blackberry",function(e){return(e=e.match(l)||e.match(u)||e.match(k))?{version:e[1]}:"blackberry"}]],m=[["edgehtml",/edge\/([0-9.]+)/],["trident",y],["blink",function(){return"chrome"in f&&"CSS"in f&&/\bapplewebkit[\/]?([0-9.+]+)/}],
["webkit",/\bapplewebkit[\/]?([0-9.+]+)/],["gecko",function(e){if(e=e.match(/\brv:([\d\w.]+).*\bgecko\/(\d+)/))return{version:e[1]+"."+e[2]}}],["presto",/\bpresto\/([0-9.]+)/],["androidwebkit",/\bandroidwebkit\/([0-9.]+)/],["coolpadwebkit",/\bcoolpadwebkit\/([0-9.]+)/],["u2",/\bu2\/([0-9.]+)/],["u3",/\bu3\/([0-9.]+)/]],e=[["edge",/edge\/([0-9.]+)/],["sogou",function(e){return 0<=e.indexOf("sogoumobilebrowser")?/sogoumobilebrowser\/([0-9.]+)/:0<=e.indexOf("sogoumse")?!0:/ se ([0-9.x]+)/}],["theworld",
function(){var e=o("theworld");return"undefined"!==typeof e?e:"theworld"}],["360",function(e){var a=o("360se");return"undefined"!==typeof a?a:-1!==e.indexOf("360 aphone browser")?/\b360 aphone browser \(([^\)]+)\)/:/\b360(?:se|ee|chrome|browser)\b/}],["maxthon",function(){try{if(h&&(h.mxVersion||h.max_version))return{version:h.mxVersion||h.max_version}}catch(e){}return/\b(?:maxthon|mxbrowser)(?:[ \/]([0-9.]+))?/}],["micromessenger",/\bmicromessenger\/([\d.]+)/],["qq",/\bm?qqbrowser\/([0-9.]+)/],["green",
"greenbrowser"],["tt",/\btencenttraveler ([0-9.]+)/],["liebao",function(e){if(0<=e.indexOf("liebaofast"))return/\bliebaofast\/([0-9.]+)/;if(-1===e.indexOf("lbbrowser"))return!1;var a;try{h&&h.LiebaoGetVersion&&(a=h.LiebaoGetVersion())}catch(s){}return{version:a||d}}],["tao",/\btaobrowser\/([0-9.]+)/],["coolnovo",/\bcoolnovo\/([0-9.]+)/],["saayaa","saayaa"],["baidu",/\b(?:ba?idubrowser|baiduhd)[ \/]([0-9.x]+)/],["ie",y],["mi",/\bmiuibrowser\/([0-9.]+)/],["opera",function(e){var a=/\bopera.+version\/([0-9.ab]+)/,
s=/\bopr\/([0-9.]+)/;return a.test(e)?a:s}],["oupeng",/\boupeng\/([0-9.]+)/],["yandex",/yabrowser\/([0-9.]+)/],["ali-ap",function(e){return 0<e.indexOf("aliapp")?/\baliapp\(ap\/([0-9.]+)\)/:/\balipayclient\/([0-9.]+)\b/}],["ali-ap-pd",/\baliapp\(ap-pd\/([0-9.]+)\)/],["ali-am",/\baliapp\(am\/([0-9.]+)\)/],["ali-tb",/\baliapp\(tb\/([0-9.]+)\)/],["ali-tb-pd",/\baliapp\(tb-pd\/([0-9.]+)\)/],["ali-tm",/\baliapp\(tm\/([0-9.]+)\)/],["ali-tm-pd",/\baliapp\(tm-pd\/([0-9.]+)\)/],["uc",function(e){return 0<=
e.indexOf("ucbrowser/")?/\bucbrowser\/([0-9.]+)/:0<=e.indexOf("ubrowser/")?/\bubrowser\/([0-9.]+)/:/\buc\/[0-9]/.test(e)?/\buc\/([0-9.]+)/:0<=e.indexOf("ucweb")?/\bucweb([0-9.]+)?/:/\b(?:ucbrowser|uc)\b/}],["chrome",/ (?:chrome|crios|crmo)\/([0-9.]+)/],["android",function(e){return-1===e.indexOf("android")?void 0:/\bversion\/([0-9.]+(?: beta)?)/}],["blackberry",function(e){return(e=e.match(l)||e.match(u)||e.match(k))?{version:e[1]}:"blackberry"}],["safari",/\bversion\/([0-9.]+(?: beta)?)(?: mobile(?:\/[a-z0-9]+)?)? safari\//],
["webview",/\bcpu(?: iphone)? os (?:[0-9._]+).+\bapplewebkit\b/],["firefox",/\bfirefox\/([0-9.ab]+)/],["nokia",/\bnokiabrowser\/([0-9.]+)/]],z=[["edge",/edge\/([0-9.]+)/],["baidu",/\b(?:ba?idubrowser|baiduhd)[ \/]([0-9.x]+)/],["ie",y],["chrome",/ (?:chrome|crios|crmo)\/([0-9.]+)/],["android",function(e){return-1===e.indexOf("android")?void 0:/\bversion\/([0-9.]+(?: beta)?)/}],["safari",/\bversion\/([0-9.]+(?: beta)?)(?: mobile(?:\/[a-z0-9]+)?)? safari\//],["webview",/\bcpu(?: iphone)? os (?:[0-9._]+).+\bapplewebkit\b/],
["firefox",/\bfirefox\/([0-9.ab]+)/]],g={name:"na",version:d},x=function(a){var a=(a||"").toLowerCase(),g={};b(a,q,function(e,a){var s=parseFloat(a);g.device={name:e,version:s,fullVersion:a};g.device[e]=s},g);b(a,n,function(e,a){var s=parseFloat(a);g.os={name:e,version:s,fullVersion:a};g.os[e]=s},g);var s=i(a);b(a,m,function(e,a){var m=a;s&&(a=s.engineVersion||s.engineMode,m=s.engineMode);var h=parseFloat(a);g.engine={name:e,version:h,fullVersion:a,mode:parseFloat(m),fullMode:m,compatible:s?s.compatible:
!1};g.engine[e]=h},g);b(a,e,function(e,a){var m=a;s&&("ie"===e&&(a=s.browserVersion),m=s.browserMode);var h=parseFloat(a);g.browser={name:e,version:h,fullVersion:a,mode:parseFloat(m),fullMode:m,compatible:s?s.compatible:!1};g.browser[e]=h},g);b(a,z,function(e,a){var m=a;s&&("ie"===e&&(a=s.browserVersion),m=s.browserMode);var h=parseFloat(a);g.myBrowser={name:e,version:h,fullVersion:a,mode:parseFloat(m),fullMode:m,compatible:s?s.compatible:!1};g.myBrowser[e]=h},g);return g};if("object"===typeof process&&
"[object process]"===process.toString()){var v=w.require("./morerule");[].unshift.apply(q,v.DEVICES||[]);[].unshift.apply(n,v.OS||[]);[].unshift.apply(e,v.BROWSER||[]);[].unshift.apply(m,v.ENGINE||[])}else{var a=navigator.userAgent||"",v=navigator.appVersion||"",p=navigator.vendor||"";h=f.external;a=x(a+" "+v+" "+p)}a.parse=x;w.exports=a;return r});
__d("common.js.player",[],function(x,w,r){(function(b,a){"undefined"===typeof b._mu&&(b._mu={});return"object"===typeof r?w.exports=a():"function"===typeof define&&define.amd?define("muplayer/core/cfg",a):b._mu.cfg=a()})(this,function(){return $.extend({namespace:this._mu,debug:!1,version:"0.9.2",timerResolution:25,cdn:"http://apps.bdimg.com/libs/muplayer/",engine:{TYPES:{FLASH_MP3:"FlashMP3Core",FLASH_MP4:"FlashMP4Core",AUDIO:"AudioCore"},EVENTS:{STATECHANGE:"engine:statechange",POSITIONCHANGE:"engine:postionchange",
PROGRESS:"engine:progress",ERROR:"engine:error",INIT:"engine:init",INIT_FAIL:"engine:init_fail"},STATES:{NOT_INIT:"not_init",PREBUFFER:"prebuffer",BUFFERING:"buffering",PLAYING:"playing",PAUSE:"pause",STOP:"stop",END:"ended"},ERRCODE:{MEDIA_ERR_ABORTED:"1",MEDIA_ERR_NETWORK:"2",MEDIA_ERR_DECODE:"3",MEDIA_ERR_SRC_NOT_SUPPORTED:"4"}}},"undefined"===typeof this._mu?{}:this._mu.cfg)});(function(b,a){return"object"===typeof r?w.exports=a():"function"===typeof define&&define.amd?define("muplayer/core/utils",
["muplayer/core/cfg"],a):b._mu.utils=a(b._mu.cfg)})(this,function(b){var a,d,f,h,c,l,u,k,q,n;u={};f=String.prototype;a=Number.prototype;d=Object.prototype;c=Array.prototype.push;h=d.hasOwnProperty;l=d.toString;n="Arguments,Function,String,Number,Date,RegExp".split(",");for(k=0,q=n.length;k<q;k++)d=n[k],u["is"+d]=function(a){return function(e){return l.call(e)==="[object "+a+"]"}}(d);$.isFunction(f.startsWith)||(f.startsWith=function(a){return this.slice(0,a.length)===a});$.isFunction(f.endsWith)||
(f.endsWith=function(a){return this.slice(-a.length)===a});a.toFixed=function(a){var e;e=Math.pow(10,a);e=(Math.round(this*e)/e).toString();if(0===a)return e;0>e.indexOf(".")&&(e+=".");for(a=a+1-(e.length-e.indexOf("."));a--;)e+="0";return e};$.extend(u,{isEmpty:function(a){var e,h,g;if(null==a)return!0;if($.isArray(a)||this.isString(a))return 0===a.length;for(h=0,g=a.length;h<g;h++)if(e=a[h],this.has(a,e))return!1;return!0},isBoolean:function(a){return!0===a||!1===a||"[object Boolean]"===l.call(a)},
has:function(a,e){return h.call(a,e)},random:function(a,e){e||(e=a,a=0);return a+Math.floor(Math.random()*(e-a+1))},shuffle:function(a){var e,h,g,b,f,d;e=0;b=[];for(f=0,d=a.length;f<d;f++)h=a[f],g=this.random(e++),b[e-1]=b[g],b[g]=h;return b},clone:function(a){$.isPlainObject(a)||a;return $.isArray(a)?a.slice():$.extend({},a)},time2str:function(a){var e,h,g,b;g=[];e=Math.floor;a=Math.round(a);h=e(a/3600);e=e((a-3600*h)/60);b=a%60;a=function(){return function(e,a){var g,s,h;g=s="";0>e&&(g="-");h=""+
Math.abs(e);h.length<a&&(s=Array(a-h.length+1).join("0"));return g+s+h}}(this);h&&g.push(h);g.push(a(e,2));g.push(a(b,2));return g.join(":")},namespace:function(){var a,e,h,g,f,d,c,B;a=arguments;for(d=0,c=a.length;d<c;d++)if(e=a[d],f=b.namespace,-1<e.indexOf(".")){e=e.split(".");for(B=[0,e.length],h=B[0],g=B[1];h<g;)f[e[h]]=f[e[h]]||{},f=f[e[h]],h++}else f[e]=f[e]||{},f=f[e];return f},wrap:function(a,e){return function(){var h;h=[a];c.apply(h,arguments);return e.apply(this,h)}},toAbsoluteUrl:function(a){var e;
e=document.createElement("div");e.innerHTML="<a></a>";e.firstChild.href=a;e.innerHTML=e.innerHTML;return e.firstChild.href}});return u});(function(b,a){"object"===typeof r?w.exports=a():"function"===typeof define&&define.amd?define("muplayer/lib/events",a):b._mu.Events=a()})(this,function(){function b(){}function a(a,f,b){if(a){var d=0,c=a.length,q=f[0],n=f[1],m=f[2],e=!0;switch(f.length){case 0:for(;d<c;d+=2)e=!1!==a[d].call(a[d+1]||b)&&e;break;case 1:for(;d<c;d+=2)e=!1!==a[d].call(a[d+1]||b,q)&&
e;break;case 2:for(;d<c;d+=2)e=!1!==a[d].call(a[d+1]||b,q,n)&&e;break;case 3:for(;d<c;d+=2)e=!1!==a[d].call(a[d+1]||b,q,n,m)&&e;break;default:for(;d<c;d+=2)e=!1!==a[d].apply(a[d+1]||b,f)&&e}}return e}var d=/\s+/;b.prototype.on=function(a,f,b){var c,k;if(!f)return this;c=this.__events||(this.__events={});for(a=a.split(d);k=a.shift();)k=c[k]||(c[k]=[]),k.push(f,b);return this};b.prototype.once=function(a,f,b){var d=this,c=function(){d.off(a,c);f.apply(this,arguments)};this.on(a,c,b)};b.prototype.off=
function(a,b,c){var i,k,q;if(!(i=this.__events))return this;if(!a&&!b&&!c)return delete this.__events,this;for(a=a?a.split(d):f(i);k=a.shift();)if(q=i[k])if(!b&&!c)delete i[k];else for(k=q.length-2;0<=k;k-=2)b&&q[k]!==b||c&&q[k+1]!==c||q.splice(k,2);return this};b.prototype.trigger=function(h){var f,b,c,i,q=[],n=!0;if(!(f=this.__events))return this;h=h.split(d);for(b=1,c=arguments.length;b<c;b++)q[b-1]=arguments[b];for(;b=h.shift();){if(c=f.all)c=c.slice();if(i=f[b])i=i.slice();n=a(i,q,this)&&n;n=
a(c,[b].concat(q),this)&&n}return n};b.prototype.emit=b.prototype.trigger;b.mixTo=function(a){var a="[object Function]"===Object.prototype.toString.call(a)?a.prototype:a,f=b.prototype,d;for(d in f)f.hasOwnProperty(d)&&(a[d]=f[d])};var f=Object.keys;f||(f=function(a){var f=[],b;for(b in a)a.hasOwnProperty(b)&&f.push(b);return f});return b});var c=[].indexOf||function(b){for(var a=0,d=this.length;a<d;a++)if(a in this&&this[a]===b)return a;return-1};(function(b,a){return"object"===typeof r?w.exports=
a():"function"===typeof define&&define.amd?define("muplayer/core/playlist",["muplayer/core/utils","muplayer/lib/events"],a):b._mu.Playlist=a(_mu.utils,_mu.Events)})(this,function(b,a){var d;d=function(){function a(h){this.opts=$.extend({},this.defaults,h);this.reset()}a.prototype.reset=function(){this.cur="";return $.isArray(this.list)?this.list.length=0:this.list=[]};a.prototype._resetListRandom=function(a){var f;if("list-random"===this.mode)return this._listRandomIndex=a=a||0,this._listRandom=b.shuffle(function(){f=
[];for(var a=0,h=this.list.length;0<=h?a<h:a>h;0<=h?a++:a--)f.push(a);return f}.apply(this)),this.cur=this.list[this._listRandom[a]]};a.prototype._formatSid=function(a){var f,d,c;f=this.opts.absoluteUrl;d=function(a){return f&&b.toAbsoluteUrl(a)||""+a};return $.isArray(a)&&function(){var b,f,i;i=[];for(b=0,f=a.length;b<f;b++)(c=a[b])&&i.push(d(c));return i}()||d(a)};a.prototype.setMode=function(a){if("single"===a||"random"===a||"list-random"===a||"list"===a||"loop"===a)this.mode=a;return this._resetListRandom()};
a.prototype.add=function(a){a=this._formatSid(a);this.remove(a);$.isArray(a)&&a.length?this.list=a.concat(this.list):a&&this.list.unshift(a);this.trigger("playlist:add",a);return this._resetListRandom()};a.prototype.remove=function(a){var b,f,d,c;f=function(a){return function(b){b=$.inArray(b,a.list);if(-1!==b)return a.list.splice(b,1)}}(this);a=this._formatSid(a);if($.isArray(a))for(d=0,c=a.length;d<c;d++)b=a[d],f(b);else f(a);this.trigger("playlist:remove",a);return this._resetListRandom()};a.prototype.prev=
function(){var a,f,d,c;d=this.list;a=$.inArray(this.cur,d);f=d.length;c=a-1;switch(this.mode){case "single":c=a;break;case "random":c=b.random(0,f-1);break;case "list-random":return a=this._listRandomIndex--,c=a-1,0===a&&(c=f-1,this._resetListRandom(c)),this.cur=d[this._listRandom[c]];case "loop":0===a&&(c=f-1)}return this.cur=d[c]};a.prototype.next=function(){var a,f,d,c;d=this.list;a=$.inArray(this.cur,d);f=d.length;c=a+1;switch(this.mode){case "single":c=a;break;case "random":c=b.random(0,f-1);
break;case "list":if(a===f-1)return this.cur=d[0],!1;break;case "list-random":return a=this._listRandomIndex++,c=a+1,a===f-1&&(c=0,this._resetListRandom(c)),this.cur=d[this._listRandom[c]];case "loop":a===f-1&&(c=0)}return this.cur=d[c]};a.prototype.setCur=function(a){a+="";0>c.call(this.list,a)&&this.add(a);return this.cur=""+a};return a}();a.mixTo(d);return d});c=[].indexOf||function(b){for(var a=0,d=this.length;a<d;a++)if(a in this&&this[a]===b)return a;return-1};(function(b,a){return"object"===
typeof r?w.exports=a():"function"===typeof define&&define.amd?define("muplayer/core/engines/engineCore",["muplayer/core/cfg","muplayer/core/utils","muplayer/lib/events"],a):b._mu.EngineCore=a(_mu.cfg,_mu.utils,_mu.Events)})(this,function(b,a,d){var f,h,i,l,j,k;k=b.engine;f=k.EVENTS;h=k.STATES;i=function(){var a;a=[];for(l in h)j=h[l],a.push(j);return a}();b=function(){function a(){}a.prototype._supportedTypes=[];a.prototype.getSupportedTypes=function(){return this._supportedTypes};a.prototype.canPlayType=
function(a){return-1!==$.inArray(a,this.getSupportedTypes())};a.prototype.reset=function(){this.stop();this.setUrl();return this.setState(h.NOT_INIT)};a.prototype.play=function(){return this};a.prototype.pause=function(){return this};a.prototype.stop=function(){return this};a.prototype.setUrl=function(a){null==a&&(a="");this._url=a;return this};a.prototype.getUrl=function(){return this._url};a.prototype.setState=function(a){var b;if(0<=c.call(i,a)&&a!==this._state)return b=this._state,this._state=
a,this.trigger(f.STATECHANGE,{oldState:b,newState:a})};a.prototype.getState=function(){return this._state};a.prototype.setVolume=function(a){this._volume=a;return this};a.prototype.getVolume=function(){return this._volume};a.prototype.setMute=function(a){this._mute=a;return this};a.prototype.getMute=function(){return this._mute};a.prototype.setCurrentPosition=function(){return this};a.prototype.getCurrentPosition=function(){return 0};a.prototype.getLoadedPercent=function(){return 0};a.prototype.getTotalTime=
function(){return 0};return a}();d.mixTo(b);return b});(function(b,a){"object"===typeof r?w.exports=a():"function"===typeof define&&define.amd?define("muplayer/lib/modernizr.audio",a):b._mu.Modernizr=a()})(this,function(){return function(b,a,d){var f={},c=a.documentElement,b=a.createElement("modernizr"),b=b.style,i={},l=[],j=l.slice,k,q={}.hasOwnProperty,n;n="undefined"!==typeof q&&"undefined"!==typeof q.call?function(a,b){return q.call(a,b)}:function(a,b){return b in a&&"undefined"===typeof a.constructor.prototype[b]};
Function.prototype.bind||(Function.prototype.bind=function(a){var b=this;if("function"!=typeof b)throw new TypeError;var g=j.call(arguments,1),f=function(){if(this instanceof f){var d=function(){};d.prototype=b.prototype;var d=new d,m=b.apply(d,g.concat(j.call(arguments)));return Object(m)===m?m:d}return b.apply(a,g.concat(j.call(arguments)))};return f});i.audio=function(){var e=a.createElement("audio"),b=!1;try{if(b=!!e.canPlayType)b=new Boolean(b),b.ogg=e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,
""),b.mp3=e.canPlayType("audio/mpeg;").replace(/^no$/,""),b.wav=e.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),b.m4a=(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/aac;")).replace(/^no$/,"")}catch(g){}return b};for(var m in i)n(i,m)&&(k=m.toLowerCase(),f[k]=i[m](),l.push((f[k]?"":"no-")+k));f.addTest=function(a,b){if("object"==typeof a)for(var g in a)n(a,g)&&f.addTest(g,a[g]);else{a=a.toLowerCase();if(f[a]!==d)return f;b="function"==typeof b?b():b;"undefined"!==typeof enableClasses&&
enableClasses&&(c.className+=" "+(b?"":"no-")+a);f[a]=b}return f};b.cssText="";b=null;f._version="2.7.1";return f}(this,this.document)});var i={}.hasOwnProperty,o=function(b,a){function d(){this.constructor=b}for(var f in a)i.call(a,f)&&(b[f]=a[f]);d.prototype=a.prototype;b.prototype=new d;b.__super__=a.prototype;return b},j=[].slice;(function(b,a){return"object"===typeof r?w.exports=a():"function"===typeof define&&define.amd?define("muplayer/core/engines/audioCore",["muplayer/core/cfg","muplayer/core/utils",
"muplayer/core/engines/engineCore","muplayer/lib/modernizr.audio"],a):b._mu.AudioCore=a(_mu.cfg,_mu.utils,_mu.EngineCore,_mu.Modernizr)})(this,function(b,a,d,f){var c,i,l,u,k,q;k=window;q=b.engine;u=q.TYPES;i=q.EVENTS;l=q.STATES;c=q.ERRCODE;return function(b){function d(a){var b,g,c,h,i,B;this.opts=$.extend({},d.defaults,a);this.opts.emptyMP3=this.opts.baseDir+this.opts.emptyMP3;h=this.opts;c={"":0,maybe:1,probably:2};a=c[h.confidence];b=f.audio;if(!b)return this;for(g in b)B=b[g],c[B]>=a&&this._supportedTypes.push(g);
b=new Audio;b.preload=h.preload;b.autoplay=h.autoplay;b.loop=!1;b.on=function(){return function(a,e){b.addEventListener(a,e,!1);return b}}(this);b.off=function(){return function(a,e){b.removeEventListener(a,e,!1);return b}}(this);this.audio=b;this._needCanPlay(["play","setCurrentPosition"]);this.setState(l.NOT_INIT);this._initEvents();h.needPlayEmpty&&(i=function(a){return function(){a.setUrl(h.emptyMP3).play();return k.removeEventListener("touchstart",i,!1)}}(this),k.addEventListener("touchstart",
i,!1))}o(d,b);d.defaults={confidence:"maybe",preload:!1,autoplay:!1,needPlayEmpty:!0,emptyMP3:"empty.mp3"};d.prototype._supportedTypes=[];d.prototype.engineType=u.AUDIO;d.prototype._test=function(a){if(!f.audio||!this._supportedTypes.length)return!1;a&&this.trigger(i.INIT_FAIL,this.engineType);return!0};d.prototype._initEvents=function(){var a,b,g;g=this.trigger;this.trigger=function(a){return function(e,b){if(a.getUrl()!==a.opts.emptyMP3)return g.call(a,e,b)}}(this);a=function(a){return function(e){a.setState(l.BUFFERING);
return a.trigger(i.PROGRESS,e||a.getLoadedPercent())}}(this);b=null;return this.audio.on("loadstart",function(g){return function(){var d;d=g.audio;b=setInterval(function(){return 1<d.readyState?clearInterval(b):a()},50);return g.setState(l.PREBUFFER)}}(this)).on("playing",function(a){return function(){return a.setState(l.PLAYING)}}(this)).on("pause",function(a){return function(){return a.setState(a.getCurrentPosition()&&l.PAUSE||l.STOP)}}(this)).on("ended",function(a){return function(){return a.setState(l.END)}}(this)).on("error",
function(a){return function(){a.setState(l.END);return a.trigger(i.ERROR,c.MEDIA_ERR_NETWORK)}}(this)).on("waiting",function(a){return function(){return a.setState(a.getCurrentPosition()&&l.BUFFERING||l.PREBUFFER)}}(this)).on("timeupdate",function(a){return function(){return a.trigger(i.POSITIONCHANGE,a.getCurrentPosition())}}(this)).on("progress",function(g){var d;clearInterval(b);d=g.loaded||0;g=g.total||1;return a(d&&1*(d/g).toFixed(2))})};d.prototype._needCanPlay=function(e){var b,g,d,f,c;b=this.audio;
c=[];for(d=0,f=e.length;d<f;d++)g=e[d],c.push(this[g]=a.wrap(this[g],function(a){return function(){var e,g,d;g=arguments[0];e=2<=arguments.length?j.call(arguments,1):[];3>b.readyState?(d=function(){g.apply(a,e);return b.off("canplay",d)},b.on("canplay",d)):g.apply(a,e);return a}}(this)));return c};d.prototype.play=function(){this.audio.play();return this};d.prototype.pause=function(){this.audio.pause();return this};d.prototype.stop=function(){try{this.audio.currentTime=0}catch(a){}finally{this.pause()}return this};
d.prototype.setUrl=function(a){null==a&&(a="");this.audio.src=a;this.audio.load();return d.__super__.setUrl.call(this,a)};d.prototype.setVolume=function(a){this.audio.volume=a/100;return d.__super__.setVolume.call(this,a)};d.prototype.setMute=function(a){this.audio.muted=a;return d.__super__.setMute.call(this,a)};d.prototype.setCurrentPosition=function(a){try{this.audio.currentTime=a/1E3}catch(b){}finally{this.play()}return this};d.prototype.getCurrentPosition=function(){return 1E3*this.audio.currentTime};
d.prototype.getLoadedPercent=function(){var a,b,g,d,f,c;a=this.audio;f=a.duration;d=a.buffered;g=d.length;for(b=0;g--;)if(d.start(g)<=(c=a.currentTime)&&c<=d.end(g)){b=d.end(g);break}return f&&1*((b>f?f:b)/f).toFixed(2)||0};d.prototype.getTotalTime=function(){var a;return(a=this.audio.duration)&&1E3*a||0};return d}(d)});(function(b,a){"object"===typeof r?w.exports=a():"function"===typeof define&&define.amd?define("muplayer/lib/Timer",a):b._mu.Timer=a()})(this,function(){function b(a){if("string"===
typeof a){isNaN(parseInt(a,10))&&(a="1"+a);var b=a.replace(/[^a-z0-9\.]/g,"").match(/(?:(\d+(?:\.\d+)?)(?:days?|d))?(?:(\d+(?:\.\d+)?)(?:hours?|hrs?|h))?(?:(\d+(?:\.\d+)?)(?:minutes?|mins?|m\b))?(?:(\d+(?:\.\d+)?)(?:seconds?|secs?|s))?(?:(\d+(?:\.\d+)?)(?:milliseconds?|ms))?/);if(b[0])return 864E5*parseFloat(b[1]||0)+36E5*parseFloat(b[2]||0)+6E4*parseFloat(b[3]||0)+1E3*parseFloat(b[4]||0)+parseInt(b[5]||0,10);if(!isNaN(parseInt(a,10)))return parseInt(a,10)}return"number"===typeof a?a:0}function a(a,
b){return parseInt(a/b,10)||1}function d(a){if(!1===this instanceof d)return new d(a);this._notifications=[];this._resolution=b(a)||1E3;this._running=!1;this._ticks=0;this._timer=null;this._drift=0}d.prototype={start:function(){var a=this;this._running||(this._running=!this._running,setTimeout(function y(){a._ticks++;for(var b=0,d=a._notifications.length;b<d;b++)a._notifications[b]&&0===a._ticks%a._notifications[b].ticks&&a._notifications[b].callback.call(a._notifications[b],{ticks:a._ticks,resolution:a._resolution});
a._running&&(a._timer=setTimeout(y,a._resolution+a._drift),a._drift=0)},this._resolution));return this},stop:function(){this._running&&(this._running=!this._running,clearTimeout(this._timer));return this},reset:function(){this.stop();this._ticks=0;return this},clear:function(){this.reset();this._notifications=[];return this},ticks:function(){return this._ticks},resolution:function(){return this._resolution},running:function(){return this._running},bind:function(d,c){d&&c&&this._notifications.push({ticks:a(b(d),
this._resolution),callback:c});return this},unbind:function(a){if(a)for(var b=0,d=this._notifications.length;b<d;b++)this._notifications[b]&&this._notifications[b].callback===a&&this._notifications.splice(b,1);else this._notifications=[];return this},drift:function(a){this._drift=a;return this}};d.prototype.every=d.prototype.bind;d.prototype.after=function(a,b){var c=this;d.prototype.bind.call(c,a,function u(){d.prototype.unbind.call(c,u);b.apply(this,arguments)});return this};return d});(function(b,
a){"object"===typeof r?w.exports=a():"function"===typeof define&&define.amd?define("muplayer/lib/jquery.swfobject",a):a()})(this,function(){(function(b,a,d){function c(a,e){var b=(a[0]||0)-(e[0]||0);return 0<b||!b&&0<a.length&&c(a.slice(1),e.slice(1))}function h(a){if(typeof a!=l)return a;var e=[],b="",d;for(d in a)b=typeof a[d]==l?h(a[d]):[d,j?encodeURI(a[d]):a[d]].join("="),e.push(b);return e.join("&")}function i(a){var e=[],b;for(b in a)e.push(['<param name="',b,'" value="',h(a[b]),'" />'].join(""));
return e.join("")}var l="object",j=!0;try{var k=d.description||(new d("ShockwaveFlash.ShockwaveFlash")).GetVariable("$version")}catch(q){k="Unavailable"}var n=k.match(/\d+/g)||[0];b[a]={available:0<n[0],activeX:d&&!d.name,version:{original:k,array:n,string:n.join("."),major:parseInt(n[0],10)||0,minor:parseInt(n[1],10)||0,release:parseInt(n[2],10)||0},hasVersion:function(a){a=/string|number/.test(typeof a)?a.toString().split("."):/object/.test(typeof a)?[a.major,a.minor]:a||[0,0];return c(n,a)},encodeParams:!0,
expressInstall:"expressInstall.swf",expressInstallIsActive:!1,create:function(a){if(!a.swf||this.expressInstallIsActive||!this.available&&!a.hasVersionFail)return!1;if(!this.hasVersion(a.hasVersion||1)){this.expressInstallIsActive=!0;if("function"==typeof a.hasVersionFail&&!a.hasVersionFail.apply(a))return!1;a={swf:a.expressInstall||this.expressInstall,height:137,width:214,flashvars:{MMredirectURL:location.href,MMplayerType:this.activeX?"ActiveX":"PlugIn",MMdoctitle:document.title.slice(0,47)+" - Flash Player Installation"}}}attrs=
{data:a.swf,type:"application/x-shockwave-flash",id:a.id||"flash_"+Math.floor(999999999*Math.random()),width:a.width||320,height:a.height||180,style:a.style||""};j="undefined"!==typeof a.useEncode?a.useEncode:this.encodeParams;a.movie=a.swf;a.wmode=a.wmode||"opaque";delete a.fallback;delete a.hasVersion;delete a.hasVersionFail;delete a.height;delete a.id;delete a.swf;delete a.useEncode;delete a.width;var e=document.createElement("div"),b;b=attrs;var d=[],c;for(c in b)b[c]&&d.push([c,'="',b[c],'"'].join(""));
b=d.join(" ");e.innerHTML=["<object ",b,">",i(a),"</object>"].join("");return e.firstChild}};b.fn[a]=function(d){var e=this.find(l).andSelf().filter(l);/string|object/.test(typeof d)&&this.each(function(){var e=b(this),g;d=typeof d==l?d:{swf:d};d.fallback=this;if(g=b[a].create(d))e.children().remove(),e.html(g)});"function"==typeof d&&e.each(function(){var e=this;e.jsInteractionTimeoutMs=e.jsInteractionTimeoutMs||0;660>e.jsInteractionTimeoutMs&&(e.clientWidth||e.clientHeight?d.call(e):setTimeout(function(){b(e)[a](d)},
e.jsInteractionTimeoutMs+66))});return e}})(jQuery,"flash",navigator.plugins["Shockwave Flash"]||window.ActiveXObject)});i={}.hasOwnProperty;o=function(b,a){function d(){this.constructor=b}for(var c in a)i.call(a,c)&&(b[c]=a[c]);d.prototype=a.prototype;b.prototype=new d;b.__super__=a.prototype;return b};j=[].slice;(function(b,a){return"object"===typeof r?w.exports=a():"function"===typeof define&&define.amd?define("muplayer/core/engines/flashCore",["muplayer/core/cfg","muplayer/core/utils","muplayer/lib/Timer",
"muplayer/core/engines/engineCore","muplayer/lib/jquery.swfobject"],a):b._mu.FlashCore=a(_mu.cfg,_mu.utils,_mu.Timer,_mu.EngineCore)})(this,function(b,a,d,c){var h,i,l,u,k,q;q=b.engine;i=q.EVENTS;l=q.STATES;h=q.ERRCODE;k=b.timerResolution;u={"-1":l.NOT_INIT,1:l.PREBUFFER,2:l.BUFFERING,3:l.PLAYING,4:l.PAUSE,5:l.STOP,6:l.END};return function(b){function c(e){var b,d,f;this.opts=f=$.extend({},this.defaults,e);this._state=l.NOT_INIT;this._loaded=!1;this._queue=[];this._needFlashReady("play,pause,stop,setCurrentPosition,_setUrl,_setVolume,_setMute".split(","));
this._unexceptionGet(["getCurrentPosition","getLoadedPercent","getTotalTime"]);e=f.baseDir;b="muplayer_"+setTimeout(function(){},0);d=f.instanceName+"_"+b;a.namespace("engines")[d]=this;this.flash=$.flash.create({swf:e+f.swf,id:b,height:1,width:1,allowscriptaccess:"always",wmode:"transparent",expressInstaller:e+f.expressInstaller,flashvars:{_instanceName:"_mu.engines."+d,_buffertime:5E3}});f.$el.append(this.flash);this._initEvents()}o(c,b);c.defaults={expressInstaller:"expressInstall.swf"};c.prototype._test=
function(a){if(!$.flash.hasVersion(this.opts.flashVer))return!1;a&&this.trigger(i.INIT_FAIL,this.engineType);return!0};c.prototype._initEvents=function(){var a,b;this.progressTimer=new d(k);this.positionTimer=new d(k);b=function(a){return function(){var e;e=a.getLoadedPercent();a._lastPer!==e&&(a._lastPer=e,a.trigger(i.PROGRESS,e));if(1===e)return a.progressTimer.stop()}}(this);a=function(a){return function(){var e;e=a.getCurrentPosition();if(a._lastPos!==e)return a._lastPos=e,a.trigger(i.POSITIONCHANGE,
e)}}(this);this.progressTimer.every("100 ms",b);this.positionTimer.every("100 ms",a);return this.on(i.STATECHANGE,function(b){return function(d){d=d.newState;switch(d){case l.PREBUFFER:case l.PLAYING:b.progressTimer.start();break;case l.PAUSE:case l.STOP:b.progressTimer.stop();break;case l.END:b.progressTimer.reset()}switch(d){case l.PLAYING:return b.positionTimer.start();case l.PAUSE:case l.STOP:return b.positionTimer.stop(),a();case l.END:return b.positionTimer.reset()}}}(this))};c.prototype._needFlashReady=
function(e){var b,d,c,f;f=[];for(d=0,c=e.length;d<c;d++)b=e[d],f.push(this[b]=a.wrap(this[b],function(a){return function(){var e,b;b=arguments[0];e=2<=arguments.length?j.call(arguments,1):[];a._loaded?b.apply(a,e):a._pushQueue(b,e);return a}}(this)));return f};c.prototype._unexceptionGet=function(e){var b,d,c,f;f=[];for(d=0,c=e.length;d<c;d++)b=e[d],f.push(this[b]=a.wrap(this[b],function(a){return function(){var e,b;b=arguments[0];e=2<=arguments.length?j.call(arguments,1):[];try{return b.apply(a,
e)}catch(d){return 0}}}(this)));return f};c.prototype._pushQueue=function(a,b){return this._queue.push([a,b])};c.prototype._fireQueue=function(){var a,b,d,c;for(c=[];this._queue.length;)d=this._queue.shift(),b=d[0],a=d[1],c.push(b.apply(this,a));return c};c.prototype.play=function(){this.flash.f_play();return this};c.prototype.pause=function(){this.flash.f_pause();return this};c.prototype.stop=function(){this.flash.f_stop();return this};c.prototype._setUrl=function(a){return this.flash.f_load(a)};
c.prototype.setUrl=function(a){a&&(this._setUrl(a),function(a){return function(){var e,b;b=null;e=function(d){return d.newState===l.PLAYING&&d.oldState===l.PREBUFFER?b=setTimeout(function(){a.off(i.STATECHANGE,e);if(100>a.getCurrentPosition())return a.setState(l.END),a.trigger(i.ERROR,h.MEDIA_ERR_SRC_NOT_SUPPORTED)},2E3):clearTimeout(b)};return a.off(i.STATECHANGE,e).on(i.STATECHANGE,e)}}(this)());return c.__super__.setUrl.call(this,a)};c.prototype.getState=function(a){return u[a]||this._state};c.prototype._setVolume=
function(a){return this.flash.setData("volume",a)};c.prototype.setVolume=function(a){this._setVolume(a);return c.__super__.setVolume.call(this,a)};c.prototype._setMute=function(a){return this.flash.setData("mute",a)};c.prototype.setMute=function(a){this._setMute(a);return c.__super__.setMute.call(this,a)};c.prototype.setCurrentPosition=function(a){this.flash.f_play(a);return this};c.prototype.getCurrentPosition=function(){return this.flash.getData("position")};c.prototype.getLoadedPercent=function(){return this.flash.getData("loadedPct")};
c.prototype.getTotalTime=function(){return this.flash.getData("length")};c.prototype._swfOnLoad=function(){this._loaded=!0;return setTimeout(function(a){return function(){return a._fireQueue()}}(this),0)};c.prototype._swfOnStateChange=function(a){return this.setState(this.getState(a))};c.prototype._swfOnErr=function(a){this.setState(l.END);this.trigger(i.ERROR);return"undefined"!==typeof console&&null!==console?console.error(a):void 0};return c}(c)});i={}.hasOwnProperty;o=function(b,a){function d(){this.constructor=
b}for(var c in a)i.call(a,c)&&(b[c]=a[c]);d.prototype=a.prototype;b.prototype=new d;b.__super__=a.prototype;return b};(function(b,a){return"object"===typeof r?w.exports=a():"function"===typeof define&&define.amd?define("muplayer/core/engines/flashMP3Core",["muplayer/core/cfg","muplayer/core/engines/flashCore"],a):b._mu.FlashMP3Core=a(_mu.cfg,_mu.FlashCore)})(this,function(b,a){var d;d=b.engine.TYPES;return function(a){function b(){return b.__super__.constructor.apply(this,arguments)}o(b,a);b.prototype.defaults=
{swf:"muplayer_mp3.swf",instanceName:"MP3Core",flashVer:"9.0.0"};b.prototype._supportedTypes=["mp3"];b.prototype.engineType=d.FLASH_MP3;return b}(a)});i={}.hasOwnProperty;o=function(b,a){function d(){this.constructor=b}for(var c in a)i.call(a,c)&&(b[c]=a[c]);d.prototype=a.prototype;b.prototype=new d;b.__super__=a.prototype;return b};(function(b,a){return"object"===typeof r?w.exports=a():"function"===typeof define&&define.amd?define("muplayer/core/engines/flashMP4Core",["muplayer/core/cfg","muplayer/core/engines/flashCore"],
a):b._mu.FlashMP4Core=a(_mu.cfg,_mu.FlashCore)})(this,function(b,a){var d;d=b.engine.TYPES;return function(a){function b(){return b.__super__.constructor.apply(this,arguments)}o(b,a);b.prototype.defaults={swf:"muplayer_mp4.swf",instanceName:"MP4Core",flashVer:"9.0.115"};b.prototype._supportedTypes=["m4a"];b.prototype.engineType=d.FLASH_MP4;return b}(a)});(function(b,a){return"object"===typeof r?w.exports=a():"function"===typeof define&&define.amd?define("muplayer/core/engines/engine","muplayer/core/cfg,muplayer/core/utils,muplayer/lib/events,muplayer/core/engines/engineCore,muplayer/core/engines/audioCore,muplayer/core/engines/flashMP3Core,muplayer/core/engines/flashMP4Core".split(","),
a):b._mu.Engine=a(_mu.cfg,_mu.utils,_mu.Events,_mu.EngineCore,_mu.AudioCore,_mu.FlashMP3Core,_mu.FlashMP4Core)})(this,function(b,a,d,c,h,i,l){var j,k,q,n;n=b.engine;j=n.EVENTS;k=n.STATES;q=/\.(\w+)(\?.*)?$/;b=function(){function a(e){this.opts=$.extend({},this.defaults,e);this._initEngines()}a.el='<div id="muplayer_container_{{DATETIME}}" style="width: 1px; height: 1px; overflow: hidden"></div>';a.prototype.defaults={engines:[{constructor:h},{constructor:i},{constructor:l}]};a.prototype._initEngines=
function(){var e,b,d,h,i,l,B,s;this.engines=[];i=this.opts;e=$(a.el.replace(/{{DATETIME}}/g,+new Date)).appendTo("body");s=i.engines;for(b=l=0,B=s.length;l<B;b=++l){h=s[b];d=h.constructor;b=h.args||{};b.baseDir=i.baseDir;b.$el=e;try{$.isFunction(d)||(d=eval(d)),h=new d(b)}catch(j){throw"Missing constructor: "+h.constructor;}h._test()&&this.engines.push(h)}return this.engines.length?this.setEngine(this.engines[0]):this.setEngine(new c)};a.prototype.setEngine=function(a){var b,d,c,f,h,B,s;this._lastE=
{};B=function(a){return function(b){if(!(b.oldState===a._lastE.oldState&&b.newState===a._lastE.newState))return a._lastE={oldState:b.oldState,newState:b.newState},a.trigger(j.STATECHANGE,b)}}(this);f=function(a){return function(b){return a.trigger(j.POSITIONCHANGE,b)}}(this);h=function(a){return function(b){return a.trigger(j.PROGRESS,b)}}(this);d=function(a){return function(b){return a.trigger(j.ERROR,b)}}(this);b=function(a){return a.on(j.STATECHANGE,B).on(j.POSITIONCHANGE,f).on(j.PROGRESS,h).on(j.ERROR,
d)};s=function(a){return a.off(j.STATECHANGE,B).off(j.POSITIONCHANGE,f).off(j.PROGRESS,h).on(j.ERROR,d)};if(this.curEngine){if(this.curEngine!==a)return c=this.curEngine,s(c).reset(),this.curEngine=b(a),this.curEngine.setVolume(c.getVolume()).setMute(c.getMute())}else return this.curEngine=b(a)};a.prototype.canPlayType=function(a){return-1!==$.inArray(a,this.getSupportedTypes())};a.prototype.getSupportedTypes=function(){var a,b,d,c,f;b=[];f=this.engines;for(d=0,c=f.length;d<c;d++)a=f[d],b=b.concat(a.getSupportedTypes());
return b};a.prototype.switchEngineByType=function(a){var b,d,c,f,h;d=!1;h=this.engines;for(c=0,f=h.length;c<f;c++)if(b=h[c],b.canPlayType(a)){this.setEngine(b);d=!0;break}if(!d)return this.setEngine(this.engines[0])};a.prototype.reset=function(){this.curEngine.reset();return this};a.prototype.setUrl=function(a){var b;q.test(a)&&(b=RegExp.$1.toLocaleLowerCase());if(this.canPlayType(b))this.curEngine.canPlayType(b)||this.switchEngineByType(b);else throw"Can not play with: "+b;this.curEngine.setUrl(a);
return this};a.prototype.getUrl=function(){return this.curEngine.getUrl()};a.prototype.play=function(){this.curEngine.play();return this};a.prototype.pause=function(){this.curEngine.pause();this.setState(k.PAUSE);return this};a.prototype.stop=function(){this.curEngine.stop();this.setState(k.STOP);return this};a.prototype.setState=function(a){this.curEngine.setState(a);return this};a.prototype.getState=function(){return this.curEngine.getState()};a.prototype.setMute=function(a){this.curEngine.setMute(!!a);
return this};a.prototype.getMute=function(){return this.curEngine.getMute()};a.prototype.setVolume=function(a){$.isNumeric(a)&&0<=a&&100>=a&&this.curEngine.setVolume(a);return this};a.prototype.getVolume=function(){return this.curEngine.getVolume()};a.prototype.setCurrentPosition=function(a){this.curEngine.setCurrentPosition(~~a);return this};a.prototype.getCurrentPosition=function(){return this.curEngine.getCurrentPosition()};a.prototype.getLoadedPercent=function(){return this.curEngine.getLoadedPercent()};
a.prototype.getTotalTime=function(){return this.curEngine.getTotalTime()};a.prototype.getEngineType=function(){return this.curEngine.engineType};a.prototype.getState=function(){return this.curEngine.getState()};return a}();d.mixTo(b);return b});(function(b,a){return"object"===typeof r?w.exports=a():"function"===typeof define&&define.amd?define("muplayer/player",["muplayer/core/cfg","muplayer/core/utils","muplayer/lib/events","muplayer/core/playlist","muplayer/core/engines/engine"],a):b._mu.Player=
a(b._mu.cfg,b._mu.utils,b._mu.Events,b._mu.Playlist,b._mu.Engine)})(this,function(b,a,d,c,h){var i,l,j,k;k=b.engine;i=k.EVENTS;l=k.STATES;j=a.time2str;a=function(){function a(b){var e;this.opts=e=$.extend({},a.defaults,b);b=e.baseDir;if(!1===b)b="";else if(!b)throw"baseDir must be set! Usually, it should point to the MuPlayer's dist directory.";b&&!b.endsWith("/")&&(b+="/");if(e.singleton){if(d)return d;d=this}this.playlist=new c({absoluteUrl:e.absoluteUrl});this.playlist.setMode(e.mode);this._initEngine(new h({baseDir:b,
engines:e.engines}));this.setMute(e.mute);this.setVolume(e.volume)}var d;d=null;a.defaults={baseDir:""+b.cdn+b.version,mode:"loop",mute:!1,volume:80,singleton:!0,absoluteUrl:!0};a.prototype._initEngine=function(a){return this.engine=a.on(i.STATECHANGE,function(a){return function(b){b=b.newState;a.trigger(b);if(b===l.END)return a.next(!0)}}(this)).on(i.POSITIONCHANGE,function(a){return function(b){return a.trigger("timeupdate",b)}}(this)).on(i.PROGRESS,function(a){return function(b){return a.trigger("progress",
b)}}(this)).on(i.ERROR,function(a){return function(b){return a.trigger("error",b)}}(this))};a.prototype.play=function(a){var b,d,c,f,a=~~a;b=$.Deferred();d=this.engine;c=function(c){return function(){a?d.setCurrentPosition(a):d.play();c.trigger("player:play",a);return b.resolve()}}(this);(f=this.getState())===l.NOT_INIT||f===l.STOP||f===l.END?this._fetch().done(function(){return function(){return c()}}(this)):c();return b.promise()};a.prototype.pause=function(){this.engine.pause();this.trigger("player:pause");
return this};a.prototype.stop=function(){this.engine.stop();this.trigger("player:stop");return this};a.prototype.replay=function(){return this.stop().play()};a.prototype.prev=function(){var a;a=this.getCur();this.stop();this.getSongsNum()&&this.playlist.prev()&&(this.trigger("player:prev",{cur:a}),this.play());return this};a.prototype.next=function(a){var b;b=this.getCur();this.stop();this.getSongsNum()&&this.playlist.next()&&(this.trigger("player:next",{auto:a,cur:b}),this.play());return this};a.prototype.getCur=
function(){var a,b;b=this.playlist;a=b.cur;!a&&this.getSongsNum()&&(a=b.list[0],b.setCur(a));return a+""};a.prototype.setCur=function(a){var b;b=this.playlist;!a&&this.getSongsNum()&&(a=b.list[0]);a&&this._sid!==a&&(b.setCur(a),this._sid=a,this.stop());return this};a.prototype.curPos=function(a){var b;b=this.engine.getCurrentPosition()/1E3;return a?j(b):b};a.prototype.duration=function(a){var b;b=this.engine.getTotalTime()/1E3;return a?j(b):b};a.prototype.add=function(a){a&&this.playlist.add(a);this.trigger("player:add",
a);return this};a.prototype.remove=function(a){a&&this.playlist.remove(a);this.getSongsNum()||this.reset();this.trigger("player:remove",a);return this};a.prototype.reset=function(){this.playlist.reset();this.engine.reset();this.trigger("player:reset");return this};a.prototype.getState=function(){return this.engine.getState()};a.prototype.setUrl=function(a){this.engine.setUrl(a);return this};a.prototype.getUrl=function(){return this.engine.getUrl()};a.prototype.setVolume=function(a){return this.engine.setVolume(a)};
a.prototype.getVolume=function(){return this.engine.getVolume()};a.prototype.setMute=function(a){this.engine.setMute(a);return this};a.prototype.getMute=function(){return this.engine.getMute()};a.prototype.canPlayType=function(a){return this.engine.canPlayType(a)};a.prototype.getSongsNum=function(){return this.playlist.list.length};a.prototype.setMode=function(a){this.playlist.setMode(a);return this};a.prototype.getMode=function(){return this.playlist.mode};a.prototype._fetch=function(){var a;a=$.Deferred();
this.getUrl()===this.getCur()?a.resolve():setTimeout(function(b){return function(){b.setUrl(b.getCur());return a.resolve()}}(this),0);return a.promise()};return a}();d.mixTo(a);return a});return r});
__d("common.js.audioPool",[],function(){function x(){}function w(i){this.pool=[];this.src=c?i.ogg:i.mp3;this.newAudio()}var r=!!document.createElement("audio").canPlayType,c=r&&document.createElement("audio").canPlayType("audio/ogg");w.prototype.play=r?function(){this.pool.shift().play();1>this.pool.length&&this.newAudio()}:x;w.prototype.newAudio=r?function(){var c=new Audio(this.src),o=this;this.pool.push(c);c.addEventListener("ended",function(){o.pool.push(c)})}:x;return w});
__d("widget.servicetab.servicetab",["common.js.widget"],function(x,w,r,c){c("common.js.widget");$.widget("hao123.servicetab",{options:{active:0,tabid:"tabid"},_create:function(){this.status=1;this.$tabHeaderElem=$(".servicetab-header",this.element);this.$tabBdElem=$(".servicetab-bd",this.element);this.$morehdElem=$(".servicetab-more",this.$tabHeaderElem);this.$morebdElem=$(".box-more",this.$tabBdElem);this.$allTabs=$(".js_tag",this.$tabHeaderElem);this.allTabs=this.$allTabs.get();this.tabMap=[$("#box-starbar"),
$("#box-locallife")];this.showMoreFlag=0;this._on(!0,this.$tabHeaderElem,{"click .js_tag":function(c){var o=this.options.active,j=this.options.tabid,c=$.inArray(c.currentTarget,this.allTabs),b=this.$allTabs.eq(o).data(j),j=this.$allTabs.eq(c).data(j),a="_hide"+$.camelCase(b),d="_show"+$.camelCase(j);this._hideboxMoreHandler();if(j==b)return!1;this[a]||(a="_hideboxDefault");this[a](o);this[d]||(d="_showboxDefault");this[d](c);this.options.active=c;return!1}});this._on(!0,this.$morehdElem,{click:function(){this.showMoreFlag?
this._hideboxMore():this._showboxMore();return!1}});this._on(!0,this.$morebdElem,{click:function(c){c.stopPropagation()}});this._on(!0,this.document,{click:"_hideboxMoreHandler"})},_showboxDefault:function(c){$(this.allTabs[c]).addClass("servicetab-itemactive");this.tabMap[c].show()},_hideboxDefault:function(c){$(this.allTabs[c]).removeClass("servicetab-itemactive");this.tabMap[c].hide()},_showboxMore:function(){this.$tabHeaderElem.addClass("servicetab-headeractive");this.$morehdElem.addClass("servicetab-moreactive");
$("#box-more").show();this.showMoreFlag=1},_hideboxMore:function(){this.$tabHeaderElem.removeClass("servicetab-headeractive");this.$morehdElem.removeClass("servicetab-moreactive");$("#box-more").hide();this.showMoreFlag=0},_hideboxMoreHandler:function(){this.showMoreFlag&&this._hideboxMore()}});return r});
__d("widget.leftbannerv2.leftbannerv2",["common.js.jquery","common.js.widget"],function(x,w,r,c){c("common.js.jquery");c("common.js.widget");$.widget("hao123.leftbannerv2",function(){var c=null,o=0,j=0,b,a=[];return{options:{arrowClass:"wslider-arrow",innerClass:"wslider-inner",auto:!0,interval:6E3},_create:function(){var a=this.element,c=this.options,h=c.auto,i=c.arrowClass,c=a.children("."+c.innerClass);j=(this.item=c.children()).length;b=this;if(1<j){var l=a.children("."+i),o=l.children();c.on("mouseenter",
function(){l.css("display","block")}).on("mouseleave",function(){l.css("display","none")});o.on("mouseenter",function(){l.css("display","block")}).on("mouseleave",function(){l.css("display","none")});i&&a.children("."+i).on("click",this.arrowHandler);h&&this.start()}},_init:function(){},_setOption:function(){$.Widget.prototype._setOption.call(this);return this},destroy:function(){$.Widget.prototype.destroy.call(this)},start:function(){c=setInterval(function(){var a=b.checkIndex(o+1);b.gotoPage(a)},
b.options.interval)},loadImage:function(a,b,c){var i=new Image;i.src=b.data(c);i.complete?(b.removeData(c),b.get(0).removeAttribute("data-"+c),b.get(0).src=i.src,a.removeClass("wslider-loading"),i.onload=null):i.onload=function(){b.removeData(c);b.get(0).removeAttribute("data-"+c);b.get(0).src=i.src;a.removeClass("wslider-loading");i.onload=null}},gotoPage:function(d){var f=this,h=f.item,j=a[o]||h.eq(o),l=a[d]||h.eq(d),h=l.find(".P");h.data("realsrc")&&f.loadImage(l,h,"realsrc");j.is(":animated")?
(j.stop(!1,!0),l.stop(!1,!0)):l.is(":animated")&&l.stop(!1,!0);$.queue(f,"switching",function(){j.animate({opacity:0.3},function(){$(this).addClass("hide").css("opacity",0.3);$.dequeue(f,"switching")})});$.queue(f,"switching",function(){l.removeClass("hide").animate({opacity:1},function(){o=d;c||b.options.auto&&b.start()})});$.dequeue(f,"switching")},checkIndex:function(a){return a>j-1?0:0>a?j-1:a},stop:function(){clearInterval(c);c=null},arrowHandler:function(a){var c=$(this).children().get(1)==
a.target?b.checkIndex(o+1):b.checkIndex(o-1);b.stop();b.gotoPage(c);a.preventDefault()}}}());return r});
__d("widget.site.config",[],function(x,w,r){return r={css:{siteNormal:"site-normal",siteEdit:"site-edit",hdNormal:"site-hd-normal",hdEdit:"site-hd-edit",itemNormal:"site-item-normal",itemMove:"site-item-move",itemEdit:"site-item-edit",itemCurrent:"site-item-current",itemDashed:"site-item-dashed",itemAdd:"site-item-add",itemAddUp:"site-item-add-up",itemAddDown:"site-item-add-down",item:"site-item",js_item:"js_site-item",bdNormal:"site-bd-normal",itemText:"site-text",itemTpl:"site-tpl",sugError:"error"},
sug:{requestQuery:"wd",url:"http://nssug.baidu.com/su",callbackFn:"baidu.sug",callbackDataKey:"s",requestParas:{prod:"superpage"},n:5,noSubmit:!0},error:{500:'\u51fa\u73b0\u9519\u8bef\uff0c\u8bf7\u70b9 <a href="http://www.hao123.com" target="_self">\u8fd9\u91cc</a> \u5237\u65b0\u9875\u9762',501:"\u8be5\u7f51\u5740\u5df2\u5b58\u5728",510:'\u51fa\u73b0\u9519\u8bef\uff0c\u8bf7\u70b9 <a href="http://www.hao123.com"  target="_self">\u8fd9\u91cc</a> \u5237\u65b0\u9875\u9762',503:'\u51fa\u73b0\u9519\u8bef\uff0c\u8bf7\u70b9 <a href="http://www.hao123.com"  target="_self">\u8fd9\u91cc</a> \u5237\u65b0\u9875\u9762',
511:"\u8bf7\u8f93\u5165\u6b63\u786e\u683c\u5f0f\uff0c\u5982http://www.abc.com",512:"\u7f51\u7ad9\u540d\u79f0\u8fc7\u957f",513:"\u7f51\u5740\u8fc7\u957f",515:"\u8bf7\u8f93\u5165\u7f51\u7ad9\u540d\u79f0",516:"\u8bf7\u8f93\u5165\u7f51\u5740",507:"\u8bf7\u60a8\u5148\u767b\u5f55",514:"\u7f51\u5740\u5df2\u6ee1\uff0c\u8bf7\u5220\u9664\u4e0d\u5e38\u7528\u7684\u7f51\u5740"},info:{loading:"\u6b63\u5728\u8bf7\u6c42\uff0c\u8bf7\u7a0d\u5019",ok:"\u64cd\u4f5c\u6210\u529f\uff01",refresh:"\u6b63\u5728\u5237\u65b0\uff0c\u8bf7\u7a0d\u5019"},
url:{init:"/url/init",add:"/url/add",modify:"/url/modify",doDelete:"/url/delete",recover:"/url/reset",needImport:"/url/isneedimport",doImport:"/url/import",sort:"/url/sort",cr:"/api/paneldata",delRecommend:"/api/delrecom",delRecombyid:"/api/delrecombyid",user:"/api/username",adds:"/url/recomadds"},retry:2,recommendN:3,recommendMaxWord:5,showSaveMax:5,nameMaxLength:40,urlMaxLength:200,siteMaxlength:48,guestMaxLength:10,guestStatus:2,dragHint:"\u62d6\u52a8\u6392\u5e8f",confirmTitle:"\u63d0\u793a",confirmText:"\u767b\u5f55\u540e\u53ef\u7f16\u8f91\u66f4\u591a\u7f51\u5740\uff0c\u968f\u65f6\u968f\u5730\u6536\u85cf\uff0c\u4e0d\u518d\u62c5\u5fc3\u7f51\u5740\u4e22\u5931\uff01",
alertTitle:"\u63d0\u793a",recoverTitle:"\u6062\u590d\u9ed8\u8ba4",recoverText:"\u662f\u5426\u8981\u6062\u590d\u4e3a\u9ed8\u8ba4\u7f51\u5740\uff1f",adddedText:"\u5df2\u6dfb\u52a0\uff0c\u70b9\u51fb\u53d6\u6d88",emptyText:"\u6e05\u7a7a\u5386\u53f2\u8bb0\u5f55\uff01",guestHint:"\u7f51\u5740\u8fc7\u591a\uff0c\u5efa\u8bae\u767b\u5f55\u540e\u6c38\u4e45\u4fdd\u5b58",baiduCookie:"BAIDUID",flashCookie:"FLASHID",dataIdAttr:"data-id",iconBaseUrl:"hao123img.com/urlicon/",defaultIconUrl:"http://sc1.hao123img.com/urlicon/6000.png",
jsItem:".js_site-item",tpl:{sugMain:'<ol class="site-sugwrap">#{content}<ol>',sugItem:'<li site="#{site}" q="#{q}"><span class="name">#{title}</span><span class="url">#{text}</span></li>',sugSplitChar:"0{#S+_}",recommend:"<li><a class='item item-add js_recommend' data-id='#{id}' hidefocus='true'  data-type='recommend' href='#{url}'>#{name}</a></li>",cms:"<dl class='g_clr'><dt><span class='popup-site-cms-title'>#{name}:</span></dt>#{content}</dl>",cmsContent:"<dd #{itemStyle}><a href='#{url}' data-httpslink='off' data-id='#{id}' hidefocus='true' data-type='cms' class='#{className}'>#{name}</a></dd>",
itemTag:"<ul>",editItem:"<li title='\u62d6\u52a8\u6392\u5e8f' class='js_site-item' data-id='#{id}' data-status='#{status}' data-name='#{rawName}'  data-url='#{url}'><span class='js_text text' >#{name}</span><a  class='js_modify modify'  href='#' title='\u4fee\u6539' hidefocus='true'></a><a class='js_delete delete'  href='#'  title='\u5220\u9664' hidefocus='true'></a></li>",item:'<li class="js_site-item g-ib site-item site-item-normal #{style}" data-status="#{status}" title="#{title}" data-id="#{id}"><a class="js_text" href="#{url}" style="background-image:url(#{icon})" hidefocus="true">#{name}</a></li>',
recommendNone:'<div class="popup-site-recommend-sidenone"><h5>\u60a8\u5e38\u70b9\u7684\uff1a</h5><span>\u8fd8\u6ca1\u6709\u53d1\u73b0\u60a8\u5e38\u70b9\u7684\u7f51\u5740\uff0c\u5efa\u8bae\u60a8\u591a\u4f7f\u7528hao123</span></div>',noData:'<li class="js_no-data nodata">\u6ca1\u6709\u5e38\u7528\u7f51\u5740\uff0c\u8bf7\u60a8<a href="javascript:void(0)">\u6dfb\u52a0</a></li>',addNormalBtn:'<li class="js_item-add g-ib site-item site-item-add site-item-add-normal"><i></i><span class="site-item-add-text">\u6dfb\u52a0\u7f51\u5740</span>#{recommend}</li>',
addShortBtn:'<li title="\u6dfb\u52a0\u7f51\u5740" class="js_item-add g-ib site-item site-item-add site-item-add-short"><i></i>#{recommend}</li>',addRecommend:"",tipTpl:'<div class="popup-site-tip-add"><i class="popup-site-tip-close js_add-tip-close">\u5173\u95ed</i></div>'}}});
__d("widget.site.drag",["widget.site.config","common.js.jquery","common.js.browser","common.js.format","common.js.events"],function(x,w,r,c){function i(a,b){this.container=a;this.placeHolder=b;this._events={sorted:[]};this.activeIndex=-1}function o(a){if(a.pageX||a.pageY)return{x:a.pageX,y:a.pageY};if(document.documentElement&&document.documentElement.scrollTop)return{x:a.clientX+document.documentElement.scrollLeft-document.documentElement.clientLeft,y:a.clientY+document.documentElement.scrollTop-
document.documentElement.clientTop};if(document.body)return{x:a.clientX+document.body.scrollLeft-document.body.clientLeft,y:a.clientY+document.body.scrollTop-document.body.clientTop}}var j=c("widget.site.config"),b=c("common.js.jquery"),a=c("common.js.browser");c("common.js.format");var d=c("common.js.events"),f=null,h=j.jsItem;h.substring(1);var y="item-move";i.prototype={setIsCanDrag:function(a){this._isCanDrag=a},dragable:function(){var c=this;this.container.delegate(j.jsItem,"mousedown",function(f){function i(a){var b=
o(a),a=b.x,b=b.y,d=a-z+m,s=b-g+e;0<d&&d+v.offsetWidth<c.container.width()+10&&(m=d);0<s&&s<c.container.height()&&(e=s);v.style.left=m+"px";v.style.top=e+"px";z=a;g=b;c._dealMeet(v);return!1}function j(){b(document).off("mousemove",i);b(document).off("mouseup",j);a.ie?v.releaseCapture():v.style.opacity="";c._moveTo(v,function(){b(v).insertBefore(c.placeHolder).removeClass(y);c.placeHolder.hide();var a=b(h).index(v);c.activeIndex!=a&&(c.activeIndex=a,d.emit("sorted"))});return!1}function n(){return c._isCanDrag?
!1:!0}c.container.on("click",n);if(!(0<=f.target.className.indexOf("js_modify")||0<=f.target.className.indexOf("js_delete"))){c.activeIndex=b(h).index(this);a.ie?this.setCapture():this.style.opacity=0.8;this.style.left=this.offsetLeft+"px";this.style.top=this.offsetTop+"px";this.className=this.className+" "+y;c.placeHolder.insertBefore(this);c.placeHolder.show();var m=parseInt(this.style.left),e=parseInt(this.style.top),f=o(f),z=f.x,g=f.y;c._registePosition();var v=this;b(document).on("mousemove",
i);b(document).on("mouseup",j);b(document).off("mouseup",n);return!1}})},_registePosition:function(){f=[];b(h,this.container).each(function(a){f.push({left:this.offsetLeft,top:this.offsetTop,index:a,thisObj:this})});this.placeHolder.index=b("li,",this.container).index(this.placeHolder)},_dealMeet:function(a){for(var b=a.offsetLeft,c=a.offsetTop,d=0;d<f.length;d++)if(f[d].thisObj!==a&&Math.abs(f[d].left-b)<0.5*a.offsetWidth&&Math.abs(f[d].top-c)<0.3*a.offsetHeight){this.placeHolder.index>f[d].index?
this.placeHolder.insertBefore(f[d].thisObj):this.placeHolder.insertAfter(f[d].thisObj);this._registePosition();break}},_moveTo:function(a,b){function c(){i+=(h-d)/j;g+=(e-f)/j;a.style.left=i+"px";a.style.top=g+"px";o++<j?window.setTimeout(c,p):b()}var d=a.offsetLeft,f=a.offsetTop,h=this.placeHolder.get(0).offsetLeft,e=this.placeHolder.get(0).offsetTop,i=d,g=f,j=6,p=20,o=0;10>Math.abs(h-d)&&10>Math.abs(e-f)?b():window.setTimeout(c,p)}};return i});
__d("common.js.placeholder",["common.js.browser"],function(x,w,r,c){c("common.js.browser");return function(c,o,j){"length"in c||(c=Array(c));for(var b=0,a=c.length;b<a;b++){"id"in c[b]||(c[b].id="p"+(new Date).getTime());var d=document.createElement("label");d.setAttribute("for",c[b].id);d.innerHTML=o;d.style.cssText="position:absolute;color:#999;z-index:999; background-color: #FFFFFF; ";d.className=j;c[b].parentNode.appendChild(d);c[b].setAttribute("autoComplete","off");c[b].onkeydown=c[b].onmousedown=
function(){d.style.display="none"};d.onclick=function(a){return function(){this.style.display="none";a.focus()}}(c[b]);var f=function(a,b){return function(){""==b.value&&(a.style.display="")}}(d,c[b]);window.addEventListener?c[b].addEventListener("blur",f,!1):c[b].attachEvent("onblur",f)}}});
__d("common.js.timeHint",[],function(){function x(w,r){this.duration=r||3E3;this.timeHandler=null;this.elem=w}x.prototype={show:function(w,r){var c=this,r=r||{};c.timeHandler&&window.clearTimeout(c.timeHandler);r.text&&c.elem.html(r.text);c.elem.css(w);c.elem.show();c.timeHandler=window.setTimeout(function(){c.elem.hide()},c.duration)},hide:function(){this.timeHandler&&(window.clearTimeout(this.timeHandler),this.timeHandler=null);this.elem.hide()}};return x});
__d("widget.popup.confirm",["widget.popup.base"],function(x,w,r,c){c("widget.popup.base");$.widget("hao123.confirm",$.lottery.popup,{options:{className:"popup-confirm",isModel:!0,okText:"\u786e\u5b9a"},_create:function(){this._baseCreate();var c=this.element,o=this;$(".js_title",c).html(this.options.title);$(".js_text",c).html(this.options.text);$(".js_close",c).click(function(){o._baseHide();o._trigger("close");return!1});$(".js_ok",c).click(function(){o._baseHide();o._trigger("ok")}).text(o.options.okText);
$(".js_cancel",c).click(function(){o._baseHide();o._trigger("cancel")})},show:function(){this._baseShow()}});return r});
__d("common.js.login",["common.js.events","common.js.config"],function(x,w,r,c,i,o){function j(c){var i={apiOpt:{safeFlag:0,memberPass:!0,staticPage:window.location.protocol+"//"+window.location.host+"/jumpv3.htm",u:window.location.href,product:"hao123",subpro:"hao123-indexnu"},authsite:["qzone","tsina","renren"],tangram:!window.baidu||!window.baidu.version||0!==window.baidu.version.indexOf("2."),cache:!1,registerLink:"https://passport.baidu.com/v2/?reg&tpl=hao123&regType=1&subpro=hao123-indexnu&u="+
window.location.href,forgetLink:"https://passport.baidu.com/?getpass_index",onLoginSuccess:function(c){var h={rspData:c.rsp.data,origin:c};c.returnValue=!1;f=!0;a.hide();d&&d(h);b.emit("login.success",h)}};c&&$.extend(i,c);a=passport.pop.init(i)}var b=c("common.js.events"),a,d,f=c("common.js.config").get("userinfo").islanding;w.exports={init:function(b){a||o(["common.js.jquery"],function(a){a.getScript(window.location.protocol+"//passport.baidu.com/passApi/js/uni_login_wrapper.js?cdnversion="+ +new Date,
function(){j(b)})})},show:function(b){a.show();d=b},hide:function(){a.hide()},isLogin:function(){return f}};return r});
__d("widget.popup.alert",["widget.popup.base"],function(x,w,r,c){c("widget.popup.base");$.widget("hao123.alert",$.lottery.popup,{options:{className:"popup-alert",isModel:!0,okText:"\u786e\u5b9a"},_create:function(){this._baseCreate();var c=this.element,o=this;$(".js_title",c).html(this.options.title);$(".js_text",c).html(this.options.text);$(".js_close",c).click(function(){o._baseHide();return!1});$(".js_ok",c).click(function(){o._baseHide();o._trigger("ok")}).text(o.options.okText)},show:function(){this._baseShow()}});
return r});
__d("widget.site.siteModel","widget.site.config,common.js.events,common.js.cookie,common.js.login,common.js.JSON,common.js.config,common.js.jquery".split(","),function(x,w,r,c){function i(){(new Date).getTime();return o()?{key:(new Date).getTime(),c:o()}:null}function o(){var a=h.getBaiduId();return(a=h.getFlashId()||a)?window.encodeURIComponent(a):null}function j(a){var b=window.location.search.match(/[?&]tn=([^&<>'"]+)/);1==u.get("tnuser")&&(a=a+"?tn="+b[1]);return a}function b(a){if(a)for(var b=0;b<
n.length;b++)n[b].id=a[n[b].id],n[b].style=""}function a(a){return a.replace(/(.*)\/$/,"$1").toLowerCase()}var d=c("widget.site.config"),f=c("common.js.events"),h=c("common.js.cookie"),y=c("common.js.login"),l=c("common.js.JSON"),u=c("common.js.config"),k=c("common.js.jquery"),q=d.url,n=[],m={setData:function(a){n=a},checkLimit:function(a){if(a&&this.getItemById(a).status==d.guestStatus)return 0;for(var b=a=0;b<n.length;b++)n[b].status==d.guestStatus&&a++;return a>=d.guestMaxLength?517:0},getUserDataCount:function(){for(var a=
0,b=0;b<n.length;b++)n[b].status==d.guestStatus&&a++;return a},getData:function(){return n},checkIsShowSave:function(){if(y.isLogin())return!1;var a=this.getUserDataCount();return a>=d.showSaveMax?a:!1},checkIsShowRecover:function(){return 0==n.length||500<n[0].id?!0:!1},checkFull:function(){return n.length>=d.siteMaxlength?514:0},checkAddDuplicate:function(a){for(var b=0;b<n.length;b++)if(n[b].url==a)return 501;return 0},checkModifyDuplicate:function(a){if(a.url==this.getItemById(a.id).url)return 0;
for(var b=0;b<n.length;b++)if(n[b].url==a.url)return 501;return 0},init:function(a){n=a},setRecommend:function(){},getModifyItem:function(a){return modifyItem=this.getItemById(a)},getItemById:function(a){for(var b=0;b<n.length;b++)if(n[b].id==a)return n[b]},deleteItemById:function(a){for(var b=0;b<n.length;b++)n[b].id==a&&n.splice(b,1)},getUser:function(){var a=i();k.ajax({url:q.user,success:function(a){switch(a.code){case 200:f.emit("getUser",{userName:a.name,code:200});break;default:f.emit("getUser",
{userName:"",code:a.code})}},error:function(){f.emit("getUser",{userName:"",code:"900"})},data:a,dataType:"json",type:"GET"})},sort:function(a){k.post(q.sort,k.extend({ids:a},i()),function(a){f.emit("operated");switch(a.code){case 200:break;case 201:b(a.data.map);f.emit("firsted",a.data.map);break;default:f.emit("error",{code:a.code,src:"sort"})}},"json")},recover:function(){k.getJSON(q.recover,i(),function(a){switch(a.code){case 200:n=a.data.sites;f.emit("recovered",a.data.sites);break;default:f.emit("error",
{code:a.code,src:"recover"})}})},addTwo:function(a){var b=m.checkAddDuplicate(a.url);0<b?f.emit("error",{code:b,src:"feadd"}):(a.key=(new Date).getTime(),k.post(q.add,k.extend(a,i(),{type:"recommend"}),function(b){f.emit("operated");var c=null;switch(b.code){case 200:c={icon:b.data.icon,name:a.name,url:a.url,id:b.data.id,status:b.data.status,obj:a.obj};n.push(c);f.emit("addtwoed",c);break;default:f.emit("error",{code:b.code,src:"addtwo"})}},"json"))},add:function(a){var c=m.checkAddDuplicate(a.url);
0<c?f.emit("error",{code:c,src:"feadd"}):(a.key=(new Date).getTime(),k.post(q.add,k.extend(a,i()),function(c){f.emit("operated");var d=null;switch(c.code){case 201:b(c.data.map),f.emit("firsted",c.data.map);case 200:d={isRecommend:a.isRecommend,icon:c.data.icon,name:a.name,url:a.url,id:c.data.id,status:c.data.status,type:a.type,obj:a.obj};n.push(d);f.emit("added",d);break;default:d="add",a.isSynadd&&(d="synadd"),f.emit("error",{code:c.code,src:d})}},"json"))},addBanner:function(a,b){k.post(q.add,
k.extend(a,i()),function(c){f.emit("operated");var d=null;switch(c.code){case 200:d={icon:c.data.icon,name:a.name,url:a.url,id:c.data.id,status:c.data.status};n.push(d);b(!0,d);break;default:b(!1,c.code)}},"json")},updateBanner:function(a,c){var d=this;k.post(q.modify,k.extend(a,i()),function(h){f.emit("operated");switch(h.code){case 201:b(h.data.map);var i=d.getItemById(h.data.id);i.name=a.name;i.url=a.url;i.oldId=i.id;i.id=h.data.id;i.status=h.data.status;i.icon=h.data.icon;c(!0,i);break;default:c(!1,
h.code)}},"json")},adds:function(a){var c=l.parse(a);k.post(q.adds,k.extend(i(),{urls:a}),function(a){f.emit("operated");switch(a.code){case 200:n=n.concat(c),b(a.data.map),f.emit("addsed",n)}},"json")},addClickSync:function(a){k.post(q.add,k.extend(a,i(),{type:"recommend"}),function(c){f.emit("operated");var d=null;switch(c.code){case 201:b(c.data.map),f.emit("firsted",c.data.map);case 200:d={icon:c.data.icon,name:a.name,url:a.url,id:c.data.id,status:c.data.status};n.push(d);f.emit("addClickSynced",
d);break;default:f.emit("error",{code:c.code,src:"addClickSync"})}},"json")},doDelete:function(a,c){k.getJSON(q.doDelete,k.extend({id:a},i()),function(d){f.emit("operated");switch(d.code){case 201:m.deleteItemById(a);b(d.data.map);c||f.emit("firsted",d.data.map);f.emit("delete");break;case 200:m.deleteItemById(a);f.emit("delete");break;default:f.emit("error",{code:d.code,src:"del"})}})},delRecommend:function(){k.getJSON(j(q.delRecommend),i(),function(a){500<=a.code&&f.emit("error",{code:a.code,src:"delRecommend"})})},
delRecombyid:function(a){k.getJSON(j(q.delRecombyid),k.extend({id:a},i()),function(a){500<=a.code&&f.emit("error",{code:a.code,src:"delRecombyid"})})},modify:function(a,c){var d=m.checkModifyDuplicate(a);if(0<d)f.emit("error",{code:d,src:"femodify"});else{var h=this;k.post(q.modify,k.extend(a,i()),function(d){f.emit("operated");switch(d.code){case 201:b(d.data.map),c||f.emit("firsted",d.data.map);case 200:var g=h.getItemById(201==d.code?d.data.map[d.data.oldid]:d.data.oldid);g.name=a.name;g.url=a.url;
g.id=d.data.id;g.status=d.data.status;g.icon=d.data.icon;c||f.emit("modified",g);break;default:f.emit("error",{code:d.code,src:"modify"})}},"json")}},refresh:function(){var a=i();if(!a)return!1;k.ajax({url:q.init,success:function(a){switch(a.code){case 200:a.data.isuser?(n=a.data.sites,f.emit("refreshed",!0)):f.emit("refreshed",!1);break;default:f.emit("error",{code:a.code,src:"refreshSuccess"})}},error:function(){k.ajax({url:q,data:i(),success:function(a){f.emit("error",{code:"588",src:"refresh"+
a.substring(0,500)})},dataType:"text",type:"GET"})},data:a,dataType:"json",type:"GET"})},sortData:function(a){var b={};k.each(n,function(){b[this.id]=this});n=[];k.each(a,function(){n.push(b[this])});return n},getCRdata:function(){var b=i();b.n=6;var c={};k.each(n,function(){c[a(this.url)]=this.id});0<document.URL.indexOf("sitepopuppreview")&&(b.preview=1);k.ajax({url:j(q.cr),success:function(b){k.each(b.data.cms,function(){this.isTitle||(this.isAdded=Boolean(c[a(this.url)]),this.id=c[a(this.url)])});
f.emit("cred",b)},error:function(a,b,c){f.emit("error",{code:599,src:"cr"+b+c})},data:b,dataType:"json",type:"GET"})}};return m});
__d("widget.site.siteView","widget.site.config,common.js.events,common.js.cookie,common.js.format,common.js.browser,common.js.JSON,common.js.config,common.js.widget,widget.suggest.suggest,widget.suggest.nssug".split(","),function(x,w,r,c){function i(){o("");j("")}function o(a){g.sugName.val(a);""==a?v.sugNamePlaceholder.show():v.sugNamePlaceholder.hide()}function j(a){g.sugUrl.val(a);""==a?v.sugUrlPlaceholder.show():v.sugUrlPlaceholder.hide()}function b(a){a=$.trim(a);/^.+:\/\/.*$/i.test(a)||(a="http://"+
a);a=a.replace(/^(.+:\/\/)([^\/?]+)(.*)$/,function(a,b,c,d){return/^(https?|ftp)/i.test(b)?b.toLowerCase()+c.toLowerCase()+d:"http://"+c.toLowerCase()+d});a=a.replace(/^(.+:\/\/[^\/?]+)[\/?]$/,"$1");return a=a.replace(/\x3c/g,"").replace(/\x3E/g,"").replace(/\x22/g,"").replace(/\x27/g,"")}function a(a){return a?"http://sc"+(parseInt("0"+a.split(".")[0])%2+1)+"."+k.iconBaseUrl+a:k.defaultIconUrl}function d(a){a=$.trim(a);a=a.replace(/^(.+:\/\/[^\/?]+)[\/?]$/,"$1");return l(a)}function f(a){return 6>
a.length?"":h(a)}function h(a){for(var a=$.trim(a),b=0,c=0;c<a.length;c++)if(b=/\w/.test(a.charAt(c))?b+8:b+14,80<b){a=a.substring(0,c)+"...";break}2==a.length?a=a.charAt(0)+"&#12288;"+a.charAt(1):3==a.length&&(a=a.charAt(0)+" "+a.charAt(1)+" "+a.charAt(2));return l(a,!0)}function y(a){return a.replace("&#12288;","").replace(/ /g,"").replace("\u3000","")}function l(a){return a=a.replace(/\x3c/g,"&lt;").replace(/\x3E/g,"&gt;").replace(/\x22/g,"&quot;").replace(/\x27/g,"&#39;")}function u(a,b){return!a||
!b?!1:a.replace(/(.*)\/$/,"$1").toLowerCase()==b.replace(/(.*)\/$/,"$1").toLowerCase()}var k=c("widget.site.config"),q=c("common.js.events"),n=c("common.js.cookie"),m=c("common.js.format");c("common.js.browser");var e=c("common.js.JSON"),z=c("common.js.config");c("common.js.widget");c("widget.suggest.suggest");var x=c("widget.suggest.nssug"),g,v,p=k.jsItem,A=null,B=null;return r={onBannerAdd:function(b){b=$(m(k.tpl.item,{id:b.id,name:h(b.name),url:d(b.url),icon:HAO.httpsTrans(a(b.icon)),title:f(b.name),
status:b.status}));b.width(108);b.insertBefore(g.bd.find(".js_item-add"));g.bd.find(".js_item-add").remove();this._addAddBtn()},updateBanner:function(b,c,d){var e=$("#site .site-hot-w");$(".site-hot-relink",e);var f=$(".site-hot-link",e),g=$(".site-hot-link2",e),B=a(b.icon),i=f.offset().top-c.offset.top,j=f.offset().left-c.offset.left;(function(){g.show().animate({left:"-="+j,top:"-="+i,opacity:1},500,function(){g.hide();$(".js_text",c.link).html(h(b.name));$(".js_text",c.link).attr("style","background:url("+
B+") no-repeat 0px 2px;");$(".js_text",c.link).attr("href",f.attr("href"));d._hideBanner();d._trigger("bannerlink",null,{iu:0})})})()},onSecondAdd:function(b){$(m(k.tpl.item,{id:b.id,name:h(b.name),url:d(b.url),icon:HAO.httpsTrans(a(b.icon)),title:f(b.name),status:b.status})).insertBefore(g.bd.find(".js_item-add"));g.bd.find(".js_item-add").remove();this._addAddBtn()},doBlink:function(){var a=0,b=["#f3f3f3","#f7f7f7"];window.setTimeout(function(){g.blink.css("background-color",b[a%2]);a++;8>a&&window.setTimeout(arguments.callee,
200)},200)},_getPosition:function(a){for(var b={left:a.offsetLeft,top:a.offsetTop},a=a.offsetParent;a&&!$(a).hasClass("popup-site");)b.left+=a.offsetLeft,b.top+=a.offsetTop,a=a.offsetParent;b.top-=34;return b},on517:function(){i();g.modify.hide();g.add.show()},getRecommends:function(){var a=[];g.recommends.each(function(){var b=$(this).find("a");a.push({name:b.html(),url:b.get(0).getAttribute("href",2),id:$(this).attr("data-id"),icon:$(this).attr("data-icon"),status:1})});return e.stringify(a)},onAddClickSynced:function(b){$(m(k.tpl.item,
{id:this.id,name:h(b.name),url:d(b.url),icon:HAO.httpsTrans(a(b.icon)),title:f(b.name),status:b.status})).insertBefore(g.topRecommend);g.topRecommend.remove();g.topRecommendHint.remove()},clearHint:function(){g.hintSug.hide();g.hintSave.hide();g.hintNoicon.hide();g.hintAdded.hide()},onRcommendDeleteOver:function(a){a=v._getPosition(a);a.left-=45;a.top-=6;g.hintNoicon.show(a,{text:k.emptyText})},onRcommendDeleteOut:function(){g.hintNoicon.hide()},onImported:function(a){if("none"!=g.psite.get(0).style.display){v.updatePopup(a);
v.clearError();i();var b={};$.each(a,function(){b[this.url]=this.id});g.psite.find(".item").each(function(){var a=this.href.replace(/(.*)\/$/,"$1");b[a]&&(this.className="item item-added",this.setAttribute("data-id",b[a]))})}else this.update(a)},onRefreshed:function(a){a?g.refresh.show():(g.refresh.hide(),g.manage.show(),g.bd.find(".js_item-add").show())},onRefreshClick:function(a){g.refresh.hide();g.manage.show();v.update(a)},onAddedClick:function(a){v._recoverAdded(a.href);i();g.modify.hide();g.add.show();
g.sites.find(p).each(function(){if(this.getAttribute("data-id")==a.getAttribute("data-id"))return $(this).remove(),!1});this.clearError();g.hintNoicon.hide();g.hintAdded.hide();g.hintSave.hide();g.hintSug.hide();g.recover.show();return a.getAttribute("data-id")},onAddedItemOut:function(){g.hintNoicon.hide()},onAddedItemOver:function(a){g.hintAdded.hide();g.hintNoicon.show(v._getPosition(a),{text:k.adddedText})},onItemClick:function(a){var c=a.innerHTML,d=a.getAttribute("href",2);return""!=$.trim(c)&&
""!=$.trim(d)?(B=a,{name:$.trim(c),url:b(d),type:a.getAttribute("data-type")}):!1},onFirsted:function(a){g.sites.find(p).each(function(){var b=this.getAttribute("data-id");this.setAttribute("data-id",a[b])})},onRecovered:function(a){g.noDataHint.hide();g.recover.hide();g.saveForeverHint.hide();v.updatePopup(a);g.cms.find(".item-added").each(function(){this.className="js_recommend item item-normal"});g.recommendContent.find(".item-added").each(function(){this.className="js_recommend item item-add"});
$.each(a,function(){});this.clearError();i();g.add.show();g.modify.hide();g.hintAdded.hide()},onRecommendControlClick:function(){g.recommend.html(k.tpl.recommendNone);g.options.recommendCount=0;g.hintNoicon.hide()},onSorted:function(){var a=[];g.recover.show();$(p,g.sites).each(function(){var b=this.getAttribute("data-id");""!=$.trim(b)&&a.push(b)});return a},onCred:function(a){g.recommendContent.html("");if(0<g.recommendData.length){g.recommendCount.html(g.recommendData.length);var b=k.tpl.recommend;
$.each(g.recommendData,function(){g.recommendContent.append(m(b,{name:l(this.title),url:d(this.url),id:this.id}))});g.recommend.show()}else g.recommend.hide();var c=[];g.cms.html("");n.get("stip0")?n.get("stip1")?g.tipDel.hide():g.tipDel.show():g.cms.html(k.tpl.tipTpl);!n.get("stip2")&&!g._tipsave?g.tipSave.show():g.tipSave.hide();g._tipsave2=!0;$.each(a.data.cms,function(){this.isTitle?(g.cms.append(m(k.tpl.cms,{name:this.name,content:c.join("")})),c=[]):c.push(m(k.tpl.cmsContent,{className:this.isAdded?
"item item-added":"js_recommend item item-normal",name:this.name,url:this.url,id:this.id,itemStyle:this.isImportant?"class='important'":""}))})},onItemModifyClick:function(a){g.modify.show();g.add.hide();A=a=$(a);g.sugName.get(0).focus();o(a.attr("data-name"));j(a.attr("data-url"));v.clearError()},_recoverAdded:function(a){g.psite.find(".item-added").each(function(){u(a,this.href)&&(this.className="cms"==this.getAttribute("data-type")?"js_recommend item item-normal":"js_recommend item item-add")})},
onItemDeleteClick:function(a){g.psite.find(".item-added").each(function(){var b=this.getAttribute("data-id");if(b&&b==a.getAttribute("data-id"))return v._recoverAdded(this.href),!1});$(a).remove();g.recover.show();i();g.add.show();g.hintAdded.hide();g.modify.hide();0==g.sites.find(".js_site-item").length&&(g.noDataHint.show(),g.sites.hide())},onAdded:function(a){g.noDataHint.hide();g.hintSave.hide();g.recover.show();g.sites.show();g.sites.append(m(k.tpl.editItem,{id:a.id,url:d(a.url),name:h(a.name),
rawName:a.name,status:a.status||""}));i();a.type&&(g.hintAdded.show(v._getPosition(B),{text:k.addedText}),B=null);$(".js_recommend",g.psite).each(function(){u(this.getAttribute("href",2),a.url)&&(this.className="item item-added",this.setAttribute("data-id",a.id))})},onModified:function(a){g.add.show();g.recover.show();g.modify.hide();$(m(k.tpl.editItem,{id:a.id,url:d(a.url),name:h(a.name),rawName:a.name,status:a.status||""})).insertBefore(A);A.remove();i();$(".item-added",g.psite).each(function(){u(this.href,
A.attr("data-url"))&&(this.className="cms"==this.getAttribute("data-type")?"js_recommend item item-normal":"js_recommend item item-add")});A=null},_refreshState:function(a){$(".js_recommend",g.psite).each(function(){u(this.href,a.url)&&(this.className="item item-added",this.setAttribute("data-id",a.id))})},onAddClick:function(){if(!this._check())return!1;this.clearError();return{name:$.trim(g.sugName.val()),url:b(g.sugUrl.val())}},onModifyClick:function(){if(!this._check())return!1;this.clearError();
return{name:$.trim(g.sugName.val()),url:b(g.sugUrl.val()),id:A.attr("data-id")}},init:function(a){g=a;z.get("isStatic");a=!1;v=this;v.sugNamePlaceholder=$("#js_placeholder-name");v.sugUrlPlaceholder=$("#js_placeholder-url");g.sugName.bind("focus keydown",function(){v.sugNamePlaceholder.hide()});g.sugUrl.bind("focus keydown",function(){v.sugUrlPlaceholder.hide()});g.sugName.blur(function(){""==this.value&&v.sugNamePlaceholder.show()});g.sugUrl.blur(function(){""==this.value&&v.sugUrlPlaceholder.show()});
var b=n.getFlashId();!g.isLanding&&null==b&&(a=!0);g.isLanding&&g.save.hide();return a},showRefresh:function(){g.refresh.show()},onManageClick:function(a,b){a?g.recover&&g.recover.show():g.recover&&g.recover.hide();i();b?v.showSaveMessage():g.saveForeverHint.hide()},showSaveMessage:function(){n.get(g.saveHintCookie)||(g.saveForeverHint.show(),g._tipsave=!0,g._tipsave2&&g.tipSave.hide())},getSiteData:function(){var a=[],b=this;$(p+':not(".site-item-recommend")',g.bd).each(function(){var c=this.children[0],
d=$(this).children("a").eq(1);d.length?a.push({id:this.getAttribute("data-id"),name:y(c.getAttribute("data-title")),url:c.getAttribute("href",2),status:this.getAttribute("data-status"),icon:b._getIcon(c),style:this.getAttribute("data-style"),name2:d.text(),url2:d.attr("href")}):a.push({id:this.getAttribute("data-id"),name:y(c.getAttribute("data-title")),url:c.getAttribute("href",2),status:this.getAttribute("data-status"),icon:b._getIcon(c),style:this.getAttribute("data-style")})});return a},_getIcon:function(a){var b=
a.parentNode.getAttribute("data-icon");return b?b:""!=a.style.backgroundImage?a.style.backgroundImage.match(/^.*\/([^)]+)/)[1]:"6000.png"},update:function(b){if(0>=b.length)g.bd.html(k.tpl.noData);else{var c=[];$.each(b,function(){var b=m(k.tpl.item,{id:this.id,name:h(this.name),url:d(this.url),icon:HAO.httpsTrans(a(this.icon)),title:f(this.name),status:this.status,style:this.style});1==this.status&&this.name2&&""!=this.name2&&(b=m('<li class="js_site-item g-ib site-item site-item-normal " data-id="#{id}" data-status="1"><a class="js_text " href="#{url}" style="background-image:url(#{icon})" data-title="#{name}" hidefocus="true">#{name}</a>&nbsp;\u2022&nbsp;<a href="#{subUrl}" style="background:none;padding-left:0;padding-right:5px;position:relative;z-index:999;display:inline-block;">#{subName}</a></li>',
{id:this.id,url:d(this.url),icon:HAO.httpsTrans(a(this.icon)),name:this.name,subName:this.name2,subUrl:this.url2}));c.push(b)});g.bd.html(c.join(""));this._addAddBtn();g.add.show();g.modify.hide();i()}},_addAddBtn:function(){var a=g.bd.find(".js_site-item").length;if(6!=a){var b="";0<g.recommendData.length&&(b=m(k.tpl.addRecommend,{count:g.recommendData.length}));if(0==a%6){var a=";max-width:60px;_width:60px;min-width:56px; overflow:hidden; text-overflow: ellipsis;white-space: nowrap;",c=g.bd.find("li:last a").get(0);
if(1==g.bd.find("li:last").data("status")&&("\u5f69\u7968"==c.innerHTML||"\u4f18\u9177"==c.innerHTML||"\u641c\u72d0"==c.innerHTML||"\u817e\u8baf"==c.innerHTML||"\u65b0\u534e"==c.innerHTML||"\u5f71\u89c6"==c.innerHTML))a="";c.style.cssText+=a;g.bd.append(m(k.tpl.addShortBtn,{recommend:b}))}else g.bd.append(m(k.tpl.addNormalBtn,{recommend:b}))}},updatePopup:function(a){var b=[];$.each(a,function(){b.push(m(k.tpl.editItem,{id:this.id,url:d(this.url),name:h(this.name),rawName:this.name,status:this.status||
""}))});0==b.length?(g.noDataHint&&g.noDataHint.show(),g.sites&&g.sites.hide()):(g.noDataHint&&g.noDataHint.hide(),g.sites&&g.sites.html(b.join("")).show())},initSug:function(){g.sugName.suggest({classes:"suggest-site",eventSpace:"sitesuggest"}).suggest("handler",this._nssug).on("suggestinput",function(){if(""!=$.trim(g.sugUrl.val()))return!1});g.sugUrl.suggest({classes:"suggest-site",eventSpace:"sitesuggest"}).suggest("handler",this._nssug).on("suggestinput",function(){if(""!=$.trim(g.sugName.val()))return!1});
q.on("sitesuggest.change",function(a){if(0==a.index)return!0;o(a.data[0]);j(a.data[1]);return!1});q.on("sitesuggest.submit",function(){"none"!=g.add.get(0).style.display?g.add.click():g.modify.click();return!1})},_nssug:x("superpage",{sc:"hao123"},function(a){var b=a.s,c={},a=a.q;if(0==b.length)this.hide();else{this.clear();for(var d=0,e=0;d<b.length&&5>e;d++){var f=$.parseJSON(b[d].split("0{#S+_}")[1]);f&&(f[1]=f[1]||"",f[4]&&(f[4]=f[4]||"",c[f[4]]||(e++,c[f[4]]=!0,this.add(f[4],m('<span class="name">#{title}</span><span class="url">#{text}</span>',
{title:f[4].replace(a,"<strong>"+a+"</strong>"),text:f[1].replace(a,"<strong>"+a+"</strong>")}),[f[4],f[1]]))))}this.show()}}),clearError:function(){g.sugName.removeClass(k.css.sugError);g.sugUrl.removeClass(k.css.sugError);g.hintSug.hide()},showError:function(a){switch(a){case 515:case 512:g.hintSug.show(v._getPosition(g.sugName.get(0)),{text:k.error[a]});g.sugName.addClass(k.css.sugError).get(0).focus();g.sugUrl.removeClass(k.css.sugError);break;case 516:case 513:case 501:g.hintSug&&(g.hintSug.show(v._getPosition(g.sugUrl.get(0)),
{text:k.error[a]}),g.sugUrl.addClass(k.css.sugError).get(0).focus(),g.sugName.removeClass(k.css.sugError));break;case 514:g.hintSave.show(v._getPosition(g.sugUrl.get(0)),{text:k.error[a]});break;case 507:break;case 599:break;case 588:break;case 600:case 601:case 602:case 603:g.hintSug.show(v._getPosition(g.sugUrl.get(0)),{text:"\u51fa\u73b0\u9519\u8bef\uff0c\u8bf7\u7a0d\u4faf\u91cd\u8bd5\uff01"});break;case 900:break;case 500:break;default:g.hintSave&&g.hintSave.show(v._getPosition(g.sugUrl.get(0)),
{text:k.error[a]})}},_check:function(){var a=$.trim(g.sugName.val()),b=$.trim(g.sugUrl.val());if(""==a)return this.showError(515);if(0>=b.length||/^(https?:\/\/|ftp:\/\/)$/i.test(b))return this.showError(516);if(a.length>k.nameMaxLength)return this.showError(512);if(b.length>k.urlMaxLength)return this.showError(513);this.clearError();return!0}}});
__d("widget.site.log",["common.js.login","common.js.log","common.js.config"],function(x,w,r,c){function i(a,b){var a=a||{},c;for(c in b)a[c]=b[c];return a}var o=c("common.js.login"),j=c("common.js.log"),b=c("common.js.config");return function(a){function c(){return o.isLogin()}var f={level:1,page:b.get("pageId")};0<$('#site .js_site-item[data-status="0"]').length&&j(i({type:"rpuser2",ut:"haveadd"},f));!b.get("userinfo").iscuser&&b.get("userinfo").recommendData&&j(i({type:"rpuser2",ut:"defadd"},f));
a.bind("sitemanageclick",function(){var a=i({type:"manage",isLogin:c()},f);j(a)});a.bind("siteintoaddclick",function(){var a=i({type:"intoadd",isLogin:c()},f);j(a)});a.bind("sitenoneaddclick",function(){var a=i({type:"noneadd"},f);j(a)});a.bind("sitelogin",function(a,b){var c=i({type:b.login,twicetype:b.twicelogin},f);j(c)});a.bind("sitedefaultlogin",function(){var a=$.parseJSON(b.get("userinfo").cinfo),a=i({type:"defaultLogin",cinfo:a?a.loginFrom:""},f);j(a)});a.bind("siteadd",function(a,b){j(i({type:"add",
siteId:b.id,siteUrl:b.url,isLogin:c(),siteStatus:b.status||""},f))});a.bind("siteaddsync",function(a,b){j(i({type:"addsync",siteId:b.id,siteUrl:b.url,isLogin:c()},f))});a.bind("siterecommend",function(a,b){var l=i({type:"recommend",siteId:b.id,siteUrl:b.url,isLogin:c()},f);j(l)});a.bind("siteaddclicksync",function(a,b){var l=i({type:"addclicksync",siteId:b.id,siteUrl:b.url,isLogin:c()},f);j(l)});a.bind("sitecms",function(a,b){var l=i({type:"cms",siteId:b.id,siteUrl:b.url,isLogin:c(),siteStatus:b.status||
""},f);j(l)});a.bind("sitemodify",function(a,b){var l=i({type:"modify",siteId:b.id,siteUrl:b.url,isLogin:c(),siteStatus:b.status||""},f);j(l)});a.bind("sitedeletesync",function(){var a=i({type:"syncdelete"},f);j(a)});a.bind("sitedodelete",function(a,b){var l=i({type:"delete",siteId:b.id,siteUrl:b.url,isLogin:c(),siteStatus:b.status||""},f);j(l)});a.bind("siterecovered",function(){var a=i({type:"recover",isLogin:c()},f);j(a)});a.bind("sitetextclick",function(a,b){var l=i({type:"textclick",siteId:b.id,
siteUrl:b.url,status:b.status,isLogin:c()},f);j(l)});a.bind("siterefresh",function(){var a=i({type:"refresh"},f);j(a)});a.bind("siteerror",function(a,b){var c=i({type:"siteerror",code:b.code},f);b.info&&(c.info=b.info);j(c)});a.bind("siteerrorflash",function(){var a=i({type:"siteerrorflash"},f);j(a)});a.bind("sitemanagerecommend",function(){var a=i({type:"managerecommend"},f);j(a)});a.bind("sitedeleteallrecommend",function(){var a=i({type:"deleteallrecommend"},f);j(a)});a.bind("sitegetusererror",
function(a,b){var c=i({type:"getusererror",code:b},f);j(c)});a.bind("sitehintclose",function(){var a=i({type:"sitehintclose"},f);j(a)})}});
__d("widget.site.siteRecord",["common.js.JSON"],function(x,w,r,c){function i(){a=(a=window.localStorage.getItem(d))?b.parse(a):a}function o(c){null===a&&(a={});c in a||(a[c]=0);a[c]+=1;window.localStorage.setItem(d,b.stringify(a))}function j(){}var b=c("common.js.JSON"),a=null,d="index_sites",x=null,x={get:function(b){if(null===a)return b[0];var c=Number.MAX_VALUE,d;$.each(b,function(b,f){if(c>(a[f]?a[f]:0))c=a[f],d=f});return d}};window.localStorage?(x.add=o,x.init=i):(x.add=j,x.init=j);return x});
__d("widget.site.siteBanner","common.js.config,common.js.events,common.js.format,common.js.cookie,widget.site.siteModel,common.js.adjust,widget.site.siteRecord".split(","),function(x,w,r,c){var i;function o(a,b){var c;c=$(d(i,{title:a.title,url:a.url}));var f=u.find(".js_link").offset();c.css({top:f.top-20,left:f.left});f=$('#site li[data-id="'+a.id+'"]').offset();c.animate({top:f.top,left:f.left},1E3,function(){c.remove();b()});$("body").append(c)}function j(a){var b=/(https?|ftp):\/\/[^\/]+/,c=
a.match(b);if(!c)return!1;var c=c[0],d=!0;$("#site .js_text").each(function(a,f){if(0<=f.getAttribute("href",2).match(b).indexOf(c))return d=!1,!0});return d}var b=c("common.js.config"),a=c("common.js.events"),d=c("common.js.format"),f=c("common.js.cookie"),h=c("widget.site.siteModel"),y=c("common.js.adjust").adjust,l=c("widget.site.siteRecord"),u;i='<div class="site-move-item" style="background-image:url(http://sc2.hao123img.com/urlicon/#{icon})">#{title}</div>';var k,q=null;return r={excute:function(c){if(!b.get("userinfo").iscuser&&
!f.has("sitebanner")&&1===c.isShow){var i=b.get("userinfo").recommendData;if(!(i&&2<=i.length)){i&&1==i.length?q=i[0]:l.init();u=$("#site .site-hot-w");switch(c.type){case "replace":k=l.get(c.filterReplace);c.info2=h.getItemById(k).name;if(q&&(c.title=q.title,c.url=q.url,c.id=q.id,!j(c.url)))return;u.html(d('<div class="site-hot"><span>#{info}</span><span class="site-hot-relink">#{info2}</span><span class="site-hot-label">\u63a8\u8350\u66ff\u6362\u4e3a\uff1a</span><a class="site-hot-link site-hot-link-add js_link" href="#{url}"  hidefocu="true">#{title}</a><a class="site-hot-more js_more"  hidefocu="true">#{more}&nbsp;&gt;&gt;</a><a class="site-hot-close js_close" href="###"  hidefocu="true">\u5173\u95ed</a></div>',
c)).show();break;case "del":k=l.get(c.filterDelete),c.info2=h.getItemById(k).name,u.html(d('<div class="site-hot"><span>#{info}</span><span class="site-hot-relink">#{info2}</span><span class="site-hot-label">\u5efa\u8bae\u60a8\uff1a</span><a class="site-hot-link site-hot-link-del js_link" href="#" hidefocu="true">\u4e00\u952e\u5220\u9664</a><a class="site-hot-more js_more"  hidefocu="true">#{more}&nbsp;&gt;&gt;</a><a class="site-hot-close js_close" href="###"  hidefocu="true">\u5173\u95ed</a></div>',
c)).show()}u.find(".js_close").click(function(){f.set("sitebanner",1,{expires:30});u.slideUp();a.emit("banner.close",c.type);return!1});u.find(".js_more").click(function(){a.emit("banner.other",c.type);c.moreHandler()});u.find(".js_link").click(function(){var b={title:this.innerHTML,url:this.href,id:k,icon:c.icon};switch(c.type){case "replace":o(b,function(){c.replaceHandler(b);u.slideUp()});break;case "del":c.deleteHandler(b,u)}a.emit("banner.link",c.type);return!1});y();a.emit("banner.show",c.type)}}},
hide:function(){u&&u.hide(y)},slideUp:function(){u&&u.slideUp(y)},add:function(a){l.add(a)}}});
__d("widget.site.siteBannerLog",["common.js.events","common.js.log"],function(x,w,r,c){var i=c("common.js.events"),o=c("common.js.log");return function(){i.on("banner.show",function(c){o({type:"sitebannershow",sort:c})});i.on("banner.close",function(c){o({type:"sitebannerclose",sort:c})});i.on("banner.other",function(c){o({type:"sitebannerother",sort:c})});i.on("banner.link",function(c){o({type:"sitebannerlink",sort:c})})}});
__d("widget.site.site","common.js.format,common.js.events,common.js.cookie,common.js.config,common.js.profile,widget.popup.getTpl,common.js.adjust,common.js.timeHint,common.js.browser,widget.site.siteBanner,widget.site.siteBannerLog,common.js.login,widget.popup.mask,widget.site.siteResource,widget.popup.confirm,widget.popup.alert,widget.site.siteModel,widget.site.config,widget.site.siteView,widget.site.log,common.js.log,common.js.localcookie,widget.site.drag,common.js.widget".split(","),function(x,
w,r,c){var i=c("common.js.format"),o=c("common.js.events"),j=c("common.js.cookie"),b=c("common.js.config"),a=c("common.js.profile"),d=c("widget.popup.getTpl"),f=c("common.js.adjust").adjust,h=c("common.js.timeHint"),y=c("common.js.browser"),l=c("widget.site.siteBanner"),u=c("widget.site.siteBannerLog"),k=c("common.js.login"),q=c("widget.popup.mask"),n=c("widget.site.siteResource");c("widget.popup.confirm");c("widget.popup.alert");var m=c("widget.site.siteModel"),e=c("widget.site.config"),z=c("widget.site.siteView");
c("widget.site.log");c("common.js.log");var g=c("common.js.localcookie"),v=c("widget.site.drag"),p,A=!1;c("common.js.widget");$.widget("hao123.site",{options:{},_initTask:function(){function a(){j.set(b,1,{expires:0})}var b,c=window.location.search.match(/\?key=([^<>&]+)&taskid=5/);c&&c[1]&&(this.isTask=!0,b=c[1],this._onManageClick(),o.on("added",a),o.on("modified",a),o.on("delete",a))},_initBanner:function(){u();p.siteBannerConfig=$.extend(p.options.banner,{replaceHandler:function(a){p.bd.find('[data-id="'+
a.id+'"]').find("a").text(a.title).attr("href",a.url).get(0).style.background="url(http://sc2.hao123img.com/urlicon/"+a.icon+") no-repeat 0 0";p.model.modify({name:a.title,url:a.url,id:a.id},!0)},deleteHandler:function(a){p.bd.find('[data-id="'+a.id+'"]').slideUp(800,function(){p.model.doDelete(a.id,!0);l.slideUp()})},moreHandler:function(){p._onManageClick();l.hide()},filterReplace:p.options.banner.filterReplace.split(","),filterDelete:p.options.banner.filterDelete.split(",")});var a=$("#site");
a.on("click",".js_item-add",function(){l.hide()});$(".js_manage",a).click(function(){l.hide()});$(".js_text",a).click(function(){var a=this.parentNode.getAttribute("data-id");l.add(a)})},_init:function(){var a=this.element;p=this;p.config=e;p.iscuser=b.get("userinfo").iscuser;p.recommendData=b.get("userinfo").recommendData||[];p.newStyle=!1;for(var c=[];5<p.recommendData.length;)p.recommendData.pop();p.recommend2Text=c.title;p.recommend2Url=c.url;p.retried=0;p.isFromTopLogin=!1;p.view=z;p.model=m;
p.confirmPopup=$(d("confirm")).confirm({title:p.config.confirmTitle,text:p.config.confirmText});p.recoverPopup=$(d("confirm")).confirm({title:p.config.recoverTitle,text:p.config.recoverText});p.alertPopup=$(d("alert")).alert({title:p.config.alertTitle,text:p.config.alertText});p.recommends=$(".site-item-recommend",a);p.loading=$(".popup-site-loading",a);p.popContent=$(".popup-site-content",a);p.refresh=$(".js_refresh",a);p.refreshButton=$(".js_refresh-button",a);p.manage=$(".js_manage",a);p.add=$(".js_psite-add",
a);p.modify=$(".js_psite-modify",a);p.psite=$(".js_psite",a);p.sugName=$(".js_sug-name",a);p.sugUrl=$(".js_sug-url",a);p.save=$(".js_psite-save",a);p.saveForeverHint=$(".js_hint-saveForever",a);p.bd=$(".js_bd",a);p.dash=$("<li></li>");p.addCount=$(".js_add-count",a);p.topRecommend=$(".site-item-recommend",a);p.topRecommendLink=p.topRecommend.find(".js_text");p.topRecommendDelete=$(".js_recommend_delete",a);p.topRecommendHint=$(".site-item-recommend-hint",a);p.context=$("#popup-site-holder");p.psite.appendTo(p.context);
p.recommend2Js=$(i("<div class='rpjs'><div class='rp'><em class='left'></em><span>\u63a8\u8350:</span><a data-max-width='90' href='#{url}'>#{text}</a><i></i></div>",{text:p.recommend2Text,url:p.recommend2Url}));p.recommend2=p.recommend2Js.find(".rp");p.recommend2Em=p.recommend2Js.find("em");p.recommend2Link=p.recommend2.find("a");p.recommend2key="site_recommend2";p._bind();A||(p._eventBind(),A=!0);p.init();p.saveHintCookie="site_shave_hint";$(function(){window.setTimeout(p._hint,100);var a=b.get("userinfo").iscuser,
c=0;$("li",p.bd).each(function(a,b){if(0==b.getAttribute("data-status"))return c=1,!1});p._trigger("rp",null,{iszdyuser:a,isrpuser:c})});a=$(".site-hd0",p.element);p._initAlog(a);p._initTask()},_cal_alog_custom:function(a){var b="",a=a.split(",");1==a.length?b="ind:"+a[0]:2==a.length&&("y"==a[1]?a[1]=1:"n"==a[1]&&(a[1]=0),b="ind:"+a[0]+",sal:"+a[1]);return b},_initAlog:function(a){$("a",a).each(function(){var a=$(this).attr("cls");a&&$(this).attr("alog-custom",p._cal_alog_custom(a))})},_initRecommend:function(){p.recommends.click(function(){p.model.adds(p.view.getRecommends());
p.recommends.removeClass("site-item-recommend")})},init:function(){var a=this;a.isLanding=b.get("userinfo").islanding;a.userName=b.get("userinfo").username;a._initRecommend();a._initBanner();a.isLanding&&(a._trigger("defaultlogin",null),a.userName||a.model.getUser());var c;0<a.recommend2Link.length&&(c=a.recommend2Link.get(0).getAttribute("href",2));c=a.view.init(a,c);a.model.init(a.view.getSiteData());if(c){a.needRefresh=!0;var d=j.getBaiduId();g.wait(function(b,c){b&&c&&c!=d?a.model.refresh():(a.bd.find(".js_item-add").show(),
a.manage.show(),l.excute(a.siteBannerConfig))},2E3)}else l.excute(a.siteBannerConfig);this._ajust();this._delete1();this._delete2()},_initPopupVariable:function(){var a=this.context;this.close=$(".js_psite-close",a);this.sites=$(".js_psite-sites",a);this.recover=$(".js_psite-recover",a);this.recommendContent=$(".js_psite-recommend-content",a);this.recommendControl=$(".js_psite-recommend-control",a);this.recommendCount=$(".js_psite-recommend-count",a);this.cms=$(".js_psite-cms",a);this.recommend=$(".js_psite-recommend",
a);this.recover=$(".js_psite-recover",a);this.sug=$(".js_psite-sug",a);this.tipDel=$(".popup-site-tip-del",a);this.tipSave=$(".popup-site-tip-save",a);this.hintSug=new h($(".js_hint-sug",a));this.hintAdded=new h($(".js_hint-added",a));this.hintNoicon=new h($(".js_hint-noicon",a));this.hintSave=new h($(".js_hint-save",a),6E3);this.noDataHint=$(".js_nodata-hint",a);this.blink=$(".popup-site-blink",a)},_initPopupPopup:function(){var a=this;a.confirmPopup.bind("confirmok",function(){k.show(function(){$.getJSON("/api/getprof",
{c:j.getCSRFId(),key:+new Date},function(){window.location.href=window.location.href})});a._hidePsite()});a.confirmPopup.bind("confirmcancel",function(){a._showPopup()});a.confirmPopup.bind("confirmclose",function(){a._showPopup()});a.recoverPopup.bind("confirmok",function(){a.model.recover()});a.recoverPopup.bind("confirmcancel",function(){a._showPopup()});a.recoverPopup.bind("confirmclose",function(){a._showPopup()})},_initPopupEvent:function(){var a=this;a.save.click(function(){q.hide();a._hidePsite();
k.show(function(){$.getJSON("/api/getprof",{c:j.getCSRFId(),key:+new Date},function(){window.location.href=window.location.href})});a.saveForeverHint.hide();return!1});a.saveForeverHint.click(function(){j.set(a.saveHintCookie,1);a.saveForeverHint.hide();j.get("stip2")||a.tipSave.show()});a.psite.on("mouseover",".item-added",function(){a.view.onAddedItemOver(this)});a.psite.on("mouseout",".item-added",function(){a.view.onAddedItemOut(this)});a.psite.on("click",".js_recommend",function(){a._showTip();
if(!a._checkAdd())return!1;var b=a.view.onItemClick(this);b&&a.model.add(b);return!1});a.psite.on("click",".js_add-tip-close",function(){$(this).parent(".popup-site-tip-add").hide();j.set("stip0",1,{expires:30});j.get("stip1")||$(".popup-site-tip-del",a.context).show()});a.psite.on("click",".js_del-tip-close",function(){$(this).parent(".popup-site-tip-del").hide();j.set("stip1",1,{expires:30})});a.psite.on("click",".js_save-tip-close",function(){a.tipSave.hide();j.set("stip2",1,{expires:30})});a.psite.on("click",
".item-added",function(){var b=a.view.onAddedClick(this);a.model.doDelete(b);a._trigger("dodelete",null,{id:b,url:this.parentNode.getAttribute("data-url"),status:this.parentNode.getAttribute("data-status")});return!1});a.recover.click(function(){a._hidePsite();a.recoverPopup.confirm("show");return!1});a.close.click(function(){var b=a.view.onSorted();a.view.clearError();a.view.update(a.model.sortData(b));a._delete2();q.hide();a._hidePsite();a._trigger("backclick");o.emit("close.cywzpopup");a.tipSave.hide();
j.set("stip2",1,{expires:30});f();return!1});a.add.click(function(){if(a._checkAdd()){var b=a.view.onAddClick();b&&a.model.add(b)}return!1});a.modify.click(function(){var b=a.view.onModifyClick();if(!b)return!1;var c=0;if(!k.isLogin()&&(c=a.model.checkLimit(b.id),517==c))return a.confirmPopup.confirm("show"),a._hidePsite(),a.view.on517(),!1;if(0<c)return a.view.showError(c),!1;b&&a.model.modify(b);return!1});a.sites.on("click",".js_modify",function(){a.view.onItemModifyClick(this.parentNode);return!1});
a.sites.on("click",".js_delete",function(){a._showTip(1);a.view.onItemDeleteClick(this.parentNode);var b=this.parentNode.getAttribute("data-id");a.model.doDelete(b);a.model.checkIsShowSave()<a.config.showSaveMax&&a.saveForeverHint.hide();a._trigger("dodelete",null,{id:b,url:this.parentNode.getAttribute("data-url"),status:this.parentNode.getAttribute("data-status")});return!1})},_showTip:function(a){a?($(".popup-site-tip-del",p.context).hide(),j.set("stip1",1,{expires:30})):($(".popup-site-tip-add",
p.context).hide(),j.set("stip0",1,{expires:30}),j.get("stip1")||$(".popup-site-tip-del",p.context).show())},_initPopup:function(){this._initPopupVariable();this._initPopupPopup();this._initPopupEvent();this.siteDrag=new v(this.sites,this.dash);this.siteDrag.dragable();this.view.initSug();this.model.getCRdata()},_showPopup:function(){this.psite.show();q.show();this.recommend2Js.remove()},_checkAdd:function(){var a=0;k.isLogin()||(a=this.model.checkLimit());if(0<a)return this.confirmPopup.confirm("show"),
this._hidePsite(),!1;a=this.model.checkFull();return 0<a?(this.view.showError(a),!1):!0},_hidePsite:function(){this.view.clearHint();this.psite.hide()},_bind:function(){var a=this;$(document).bind("getprof",function(b,c){if(c&&c.urls)switch(result=c.urls,result.code){case 200:c=result.data.sites;a.view.onImported(c);a.model.init(c);break;default:a._trigger("error",null,{code:result.code+"getrof"})}});6==y.ie&&(this.bd.on("mouseover",".js_item-add",function(){$(this).addClass("site-item-add-hover")}),
this.bd.on("mouseout",".js_item-add",function(){$(this).removeClass("site-item-add-hover")}));a.bd.on("click",".js_item-add",function(){a._trigger("intoaddclick");a._onManageClick()});a.bd.on("click",".js_no-data",function(){a._onManageClick();a._trigger("noneaddclick");return!1});a.manage.click(function(){a._onManageClick();return!1});a.bd.delegate(".js_text","mousedown",function(){var b={};b.url=this.href;b.id=this.parentNode.getAttribute("data-id");b.status=this.parentNode.getAttribute("data-status");
a._trigger("textclick",null,b)})},_eventBind:function(){var b=this;o.on("firsted",function(c){b.view.onFirsted(c);a.set("urls","true")});o.on("recovered",function(c){b.view.onRecovered(c);b._showPopup();a.set("urls","false");b._trigger("recovered")});o.on("modified",function(a){b.view.onModified(a);b._trigger("modify",null,a)});o.on("cred",function(a){b.view.onCred(a)});o.on("sorted",function(){b.model.sort(b.view.onSorted().join(","))});o.on("site.update",function(a){b.model.setData(a.data.sites);
b.view.update(a.data.sites)});o.on("site.updatePopup",function(a){b._showPopup();b.model.setData(a.data.sites);b.view.updatePopup(a.data.sites)});o.on("getUser",function(a){a.userName?o.emit("login.otherSignin",a):b.retried<b.config.retry?(b.retried++,b._trigger("getusererror",null,b.retried+"_"+a.code),b.model.getUser()):(o.emit("login.otherSignin",{userName:""}),b.retried++,b._trigger("getusererror",null,b.retried+"_"+a.code))});o.on("operated",function(){a.set("urls","true")});o.on("addtwoed",
function(a){b.view.onSecondAdd(a)});o.on("addsed",function(a){b.view.onManageClick(!0,!1);b.view.updatePopup(a);b.loading.hide();b.popContent.show()});o.on("addClickSynced",function(a){b.isAddingClickSync||(b._addSecondRecommend(),b.isAddingClickSync=!1);b._trigger("addclicksync",null,a)});o.on("added",function(a){b.view.onAdded(a);b.model.checkIsShowSave()>=e.showSaveMax&&b.view.showSaveMessage();a.type?b._trigger(a.type,null,a):b._trigger("add",null,a)});o.on("refreshed",function(a){b.view.onRefreshed(a);
a?b._trigger("showrefresh"):l.excute(b.siteBannerConfig)});o.on("imported",function(a){b.view.onImported(a)});o.on("error",function(a){b._trigger("error",null,{code:a.code+a.src,info:a.info});b.view.showError(a.code)});b.refreshButton.click(function(){b.view.onRefreshClick(b.model.getData());b._trigger("refresh");return!1});o.on("login.signin",function(a){b.save.hide();b.saveForeverHint.hide();a.isInit||(b._trigger("login",null,{login:"login"}),b.recommend2Js.remove(),b.recommendData=[])})},_onManageClick:function(){this._hideHint();
this.isManageClicked||(this.isManageClicked=!0,$("#popup-site").get(0).className="popup-site",this._initPopup());0<this.element.find(".site-item-recommend").length&&!this.isTask?(this.loading.show(),this.popContent.hide(),this._showPopup(),this.model.adds(this.view.getRecommends())):(this.view.onManageClick(this.model.checkIsShowRecover(),this.model.checkIsShowSave()),this.view.updatePopup(this.model.getData()),this.loading.hide(),this.popContent.show(),this._showPopup(),this._trigger("manageclick"),
0>=$("#popup-site-holder .popup-site-recommend-sidenone").length&&this._trigger("managerecommend"))},_ajust:function(){$("#site").bind("sitebackclick siterecovered siterefresh siteshowrefresh sitelogin",function(){f()})},_delete1:function(){$(function(){$("#site .js_text").each(function(a,b){if(null!==window.location.search.match(/[?&]tn=([^&<>'"]+)/)&&"http://www.baidu.com/index.php?tn=10018801_hao"==b.getAttribute("href",2))return b.href="http://www.baidu.com/?tn=10018802_hao",!1})})},_hideHint:function(){p.hint&&
(p.hint.hide(),j.set("sitehint",1,{expires:30}))},_hint:function(){},_delete2:function(){for(var a=function(){$(this).parent().toggleClass("g_tips-r-show")},c={g_green:function(a){if(a.hasClass("g_reen"))return!1;a.addClass("g_green");return!1},g_red:function(a){if(a.hasClass("g_red"))return!1;a.addClass("g_red");return!1},g_hot:function(a,b){if(a.hasClass("g_hot")||a.hasClass("g_tips-r"))return!1;if(70<a.width()||5==b%6)return!0;a.addClass("g_hot");a.append('<i class="g_icon"></i>');return!1},"g_tips-r":function(a,
b,c,f,e){if(c&&c.seed&&c.rand&&c.seed!==c.rand&&!c.ifshow)return!0;if(a.hasClass("g_hot")||a.hasClass("g_tips-r"))return!1;b=function(a){a=$(a);e&&(e.el=a);return a};c.url2?(f="",f=c.cls?'<a monkey="tips_on" class="tips_link g_tips-r" cls="'+c.cls+'" alog-custom="'+d._cal_alog_custom(c.cls)+'" alog-text="'+a.text()+"_"+c.tip+'" href="'+c.url2+'">&nbsp;<i class="g_icon">'+c.tip+"</i></a>":'<a monkey="tips_on" class="tips_link g_tips-r" alog-text="'+a.text()+"_"+c.tip+'" href="'+c.url2+'">&nbsp;<i class="g_icon">'+
c.tip+"</i></a>",a.parent().append(b(f))):(f=a.addClass("g_tips-r").html(),a.html("<b>"+f+"</b>"),a.after(b(a.clone().find("b").hide().end().append('<i class="g_icon" style="top:-19px;left:-7px;">'+c.tip+"</i>").css("padding","1px 0").attr("monkey","qipao"))));return!1},"g_tips-r-hover":function(b,c,d,f){var e={},c=this["g_tips-r"](b,c,d,f,e);if(e=e.el)e.addClass("g_tips-r-hover").attr("monkey","tips_off"),b.parent().children().hover(a,a);return c},"g_tips-r-img":function(a,c,d,f){var e={},c=this["g_tips-r"](a,
c,d,f,e);if(e=e.el){var g="",f=b.get("wideornarrow");a.closest("#site")[0]?(g="commonsite",f="wide"==f?4:-2,a=-6):(g="famoussite",f="wide"==f?3:-2,a=0);e.attr("monkey","tips_pic").prop("title",d.tip);$(".g_icon",e).css({background:"url("+HAO.httpsTrans(d.icon)+") no-repeat",width:parseInt(d.iconwidth,10),height:parseInt(d.iconheight,10),padding:0,left:f,top:a+(30-d.iconheight)/2}).html("");o.on("wideversion.viewportchange",function(a){"wide"==a?"commonsite"==g?$(".g_icon",e).css({left:"4px"}):$(".g_icon",
e).css({left:"3px"}):$(".g_icon",e).css({left:"-2px"})})}return c},"g_tips-l":function(a,b,c){if(c&&c.seed&&c.rand&&c.seed!==c.rand&&!c.ifshow)return!0;if(a.hasClass("g_hot")||a.hasClass("g_tips-l"))return!1;c.url2?(c='<a monkey="tips"  style="width:0;" class="tips_link g_tips-l" href="'+c.url2+'">&nbsp;<i class="g_icon">'+c.tip+"</i></a>",a.parent().prepend(c)):(b=a.addClass("g_tips-l").html(),a.html("<b>"+b+"</b>"),a.after(a.clone().find("b").hide().end().append('<i class="g_icon" style="top:-19px;left:-7px;">'+
c.tip+"</i>").css("padding","1px 0").attr("monkey","qipao")));return!1}},d=this,f=b.get("mzQipao"),e={},g=f.length,h=0,i=0,k=0;k<g;k++)(i=f[k])&&i.style&&-1<i.style.indexOf("g_tips-")&&!i.ifshow?(h++,i.rand=h):i.rand=-1;(k=j.get("mtip"))?(k=parseInt(k,10),i=k+1,i>h&&(i=1)):i=Math.ceil(Math.random()*h);j.set("mtip",i,{expires:30});for(k=0;k<g;k++){var h=f[k],l=h.url.replace(/(.*)\/$/,"$1");h.seed=i;e[l]=h}d.iscuser||$("a.js_text",d.element).each(function(a){var b=this.href.replace(/(.*)\/$/,"$1"),
d=e[b];d&&c[d.style]&&(c[d.style]($(this),a,d)||delete e[b])});d.newQipao||($("#box-famoussite span>a").each(function(){var a=this.href.replace(/(.*)\/$/,"$1");e[a]&&c[e[a].style]&&(c[e[a].style]($(this),void 0,e[a]),delete e[a])}),d.newQipao=!0);if(!d.iscuser){for(var m=b.get("wideornarrow"),f=b.get("sitestyle"),q={},g=f.length,p,k=0;k<g;k++)p=f[k],h=p.url.replace(/(.*)\/$/,"$1"),q[h]=p;$("a.js_text",d.element).each(function(a){(p=q[this.href.replace(/(.*)\/$/,"$1")])&&p.mzzyw&&n.add.call(this,p,
a,"mz",m)})}}});return r});
__d("common.js.auto_fixed",["common.js.adjust"],function(x,w,r,c){var i=c("common.js.adjust"),o={auto:function(c,b){var a=document,d=o,f=$("#layout-side"),h=$("#bottomtop"),r=$("#nlb"),l=$.browser.msie&&6==$.browser.version,u="BackCompat"==a.compatMode?a.body:a.documentElement;i.adjust();l||r.removeAttr("style");d.box_service_top=f.offset().top+f.height()-14;var k=function(){if($("#navigate .option-selected").index()!=c||b&&$("#navigate .option-selected .channel").attr("data-tab")!=b)return $(window).unbind("scroll",
k),f.removeAttr("style"),!1;if(Math.max(a.body.scrollTop,a.documentElement.scrollTop)+u.clientHeight>d.box_service_top){r.removeAttr("style");var i=Math.max(a.body.scrollTop,a.documentElement.scrollTop)+u.clientHeight-h.offset().top;0<i?f.css({bottom:parseInt(i)+"px",position:"fixed"}):f.css({bottom:0,position:"fixed"})}else f.removeAttr("style")};l||$(window).scroll(k);l||window.setTimeout(k,1E3)}};return o});
__d("widget.servicetab.startips",["common.js.jquery","common.js.format","common.js.cookie","common.js.adjust","common.js.log"],function(x,w,r,c){var i=c("common.js.jquery"),o=c("common.js.format"),j=c("common.js.cookie"),b=c("common.js.adjust"),a=c("common.js.log");(function(){w.exports={init:function(a){this.data=a.data;if("0"===this.data.tiptype){if(a=j.get("tvtip_notshow")){if(a=a.split("_"),a[0]===this.data.line&&"0"===a[1])return!1}else j.set("tvtip_notshow",this.data.line+"_1",{expires:1});
this.tpl='<li class="tips"><div class="tips-arrow tips-arrowOut" data-hook="tips-arrowOut"></div><div class="tips-arrow tips-arrowIn" data-hook="tips-arrowIn"></div><div class="tvtip"><a class="tvtip-txtkey" id="tvtip-txtkey" target="_blank" href="#{url}" title="#{title}">#{img}</a><a class="tvtip-txtlink" target="_blank" id="tvtip-txtlink" href="#{url2}" title="#{title2}">#{title2}</a><a class="tip-closed" title="\u4e0d\u518d\u63d0\u9192"></a></div></li>'}else this.tpl='<li class="tips tiptime"><div class="tvtip"><span class="tvtip-txtkey">#{img}</span><a class="tvtip-txtlink" id="tvtip-txtlink" target="_blank" title="#{title2}" href="#{url2}">#{title2}</a></div></li>';
this.timeLogic()},timeLogic:function(){if("true"===this.data.isShow){if("1"===this.data.tiptype){var a=i(this.data.parID),b=i("li",a);Math.ceil(b.length/2)===parseInt(this.data.line)&&a.addClass("tiptimes")}this.insertTpl()}else return!1},timeStamp:function(a){a=new Date(a);return a/1E3},insertTpl:function(){var c=this,f=i(c.data.parID),h=o(c.tpl,{img:""===i.trim(c.data.img)?" ":'<img src="'+c.data.img+'" />',url:c.data.url,title:c.data.title,url2:c.data.url2,title2:c.data.title2}),r=i("li",f),l=
c._index();r.eq(l).after(h);a({type:"starbar_tvtip",v:1,f:0});var u=i(".tips",f),f=i('[data-hook="tips-arrowIn"]',u),h=i('[data-hook="tips-arrowOut"]',u),r=i(".tip-closed",u),l=i("#tvtip-txtkey",u),k=i("#tvtip-txtlink",u);h.css("left",parseInt(c.data.pos));f.css("left",parseInt(c.data.pos)+1);r.live("click",function(){a({type:"starbar_tvtip",v:0,f:0});u.slideUp(800,function(){b.adjust();j.set("tvtip_notshow",c.data.line+"_0",{expires:1})})});r.hover(function(){i(this).addClass("tip-closed-hover")},
function(){i(this).removeClass("tip-closed-hover")});l.live("click",function(){a({type:"starbar_tvtip",v:2,f:0})});k.live("click",function(){a({type:"starbar_tvtip",v:3,f:0})});u.slideDown(800,function(){b.adjust()})},_index:function(){return 2*parseInt(this.data.line)-1}}})();return r});window.js_WZvivXOYTC&&window.js_WZvivXOYTC(!0);
