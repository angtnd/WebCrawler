/**
 * @modified $Author: hhfu $
 * @version $Rev: 01076ece711ec1fa94d24d915542ec7d7b4ee3cb $
 */
!function($){require.config({enable_ozma:true});if("object"!==typeof JSON)JSON={};!function(){"use strict";function f(e){return e<10?"0"+e:e}if("function"!==typeof Date.prototype.toJSON){Date.prototype.toJSON=function(e){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(e){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(e){escapable.lastIndex=0;return escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return"string"===typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var i,n,a,r,o=gap,s,l=t[e];if(l&&"object"===typeof l&&"function"===typeof l.toJSON)l=l.toJSON(e);if("function"===typeof rep)l=rep.call(t,e,l);switch(typeof l){case"string":return quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";gap+=indent;s=[];if("[object Array]"===Object.prototype.toString.apply(l)){r=l.length;for(i=0;i<r;i+=1)s[i]=str(i,l)||"null";a=0===s.length?"[]":gap?"[\n"+gap+s.join(",\n"+gap)+"\n"+o+"]":"["+s.join(",")+"]";gap=o;return a}if(rep&&"object"===typeof rep){r=rep.length;for(i=0;i<r;i+=1)if("string"===typeof rep[i]){n=rep[i];a=str(n,l);if(a)s.push(quote(n)+(gap?": ":":")+a)}}else for(n in l)if(Object.prototype.hasOwnProperty.call(l,n)){a=str(n,l);if(a)s.push(quote(n)+(gap?": ":":")+a)}a=0===s.length?"{}":gap?"{\n"+gap+s.join(",\n"+gap)+"\n"+o+"}":"{"+s.join(",")+"}";gap=o;return a}}if("function"!==typeof JSON.stringify)JSON.stringify=function(e,t,i){var n;gap="";indent="";if("number"===typeof i)for(n=0;n<i;n+=1)indent+=" ";else if("string"===typeof i)indent=i;rep=t;if(t&&"function"!==typeof t&&("object"!==typeof t||"number"!==typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})};if("function"!==typeof JSON.parse)JSON.parse=function(text,reviver){var j;function walk(e,t){var i,n,a=e[t];if(a&&"object"===typeof a)for(i in a)if(Object.prototype.hasOwnProperty.call(a,i)){n=walk(a,i);if(void 0!==n)a[i]=n;else delete a[i]}return reviver.call(e,t,a)}text=String(text);cx.lastIndex=0;if(cx.test(text))text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return"function"===typeof reviver?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}();define("lib/json2",JSON);define("tui/random",[],function(e,t){function i(){var e=4022871197;var t=function(t){t=t.toString();for(var i=0;i<t.length;i++){e+=t.charCodeAt(i);var n=.02519603282416938*e;e=n>>>0;n-=e;n*=e;e=n>>>0;n-=e;e+=4294967296*n}return 2.3283064365386963e-10*(e>>>0)};t.version="Mash 0.9";return t}function n(){return function(e){var t=4294967087;var n=4294944443;var a=12345,r=12345,o=123,s=12345,l=12345,c=123;if(0===e.length)e=[+new Date];var d=i();for(var u=0;u<e.length;u++){a+=4294967296*d(e[u]);r+=4294967296*d(e[u]);o+=4294967296*d(e[u]);s+=4294967296*d(e[u]);l+=4294967296*d(e[u]);c+=4294967296*d(e[u])}a%=t;r%=t;o%=t;s%=n;l%=n;c%=n;d=null;var f=function(){var e=4294967087;var t=4294944443;var i=1403580;var n=810728;var d=527612;var u=1370589;var f,p,h;p=i*r-n*a;f=0|p/e;p-=f*e;if(p<0)p+=e;a=r;r=o;o=p;h=d*c-u*s;f=0|h/t;h-=f*t;if(h<0)h+=t;s=l;l=c;c=h;if(p<=h)return p-h+e;else return p-h};var p=function(){return 2.3283064365386963e-10*f()};p.uint32=f;p.fract53=function(){return p()+1.1102230246251565e-16*(2097151&f())};p.version="MRG32k3a 0.9";p.args=e;return p}(Array.prototype.slice.call(arguments))}function a(e,t){t="undefined"==typeof t?"":t;var i=new n(e||0,location.href,Date.now());return t+(+new Date).toString(32)+parseInt(1e5*i()).toString(32)}t.rand=a});define("tui/class",[],function(){function e(){return function(){if(this.initialize)this.initialize.apply(this,arguments)}}function t(t,i){var n=this;var a=e();$.extend(a,n,i);var r=Object.create(n.prototype);r.constructor=a;a.prototype=r;$.extend(a.prototype,t);a.superClass=n.prototype;return a}var i=function(i){var n=e();$.extend(n.prototype,i);n.extend=t;return n};i.extend=t;return i});define("tui/event",["tui/class"],function(e){var t=e({initialize:function(){this.__event=window.Zepto?new window.Zepto.Events:$({})}});var i=t.prototype;["bind","one"].forEach(function(e){i[e]=function(t,i,n){if($.isPlainObject(t))for(var a in t)this[e](a,t[a]);else{var r=this.__event;var o=function(){return i.apply(n||r,arguments.length>0?window.Zepto?arguments:Array.prototype.slice.call(arguments,1):[])};r[e].call(r,t,o);i.guid=o.guid}return this}});["unbind","trigger","triggerHandler"].forEach(function(e){i[e]=function(){var t=this.__event;if(require.debug)console.log("[event] "+this.constructor.__mid+" : "+arguments[0],arguments[1]);var i=t[e].apply(t,arguments);if(require.debug&&i!=t&&void 0!=i)console.log(i);return i}});i.fire=i.trigger;i.firing=i.triggerHandler;t.mix=function(e){return $.extend(e,new t)};return t});define("tui/cookie",[],function(){return function(e,t,i,n){if("string"==typeof e){n=i;i=t;t=e;e=window}if(void 0!==i){n=n||{};var a,r="";if(n.expires){if(n.expires.constructor==Date)a=n.expires;else{a=new Date;a.setTime(a.getTime()+1e3*60*60*24*n.expires)}r="; expires="+a.toGMTString()}var o=n.path?"; path="+n.path:"";var s=n.domain?"; domain="+n.domain:"";var l=n.secure?"; secure":"";e.document.cookie=[t,"=",encodeURIComponent(i),r,o,s,l].join("")}else{i=e.document.cookie.match(new RegExp("(?:\\s|^)"+t+"\\=([^;]*)"));return i?decodeURIComponent(i[1]):null}}});define("module/stat/common",["tui/cookie","tui/event","tui/random"],function(e,t,i,n,a){var r={UL:1,OL:2,LI:3,INPUT:4,DIV:5,BODY:6,STRONG:7,SPAN:8,FORM:9,BUTTON:10,CAPTION:11,FIELDSET:12,COLGROUP:13,TFOOT:14,LABEL:15,LEGEND:16,THEAD:17,OPTGROUP:18,OPTION:19,SELECT:20,TABLE:21,TBODY:22,IFRAME:0,SCRIPT:0,OBJECT:0,EMBED:0,IMG:0};function o(){return i.rand(e("u_id"))}function s(){var t=e("juid");if(!t){t=i.rand(e("u_id"),"0");e("juid",t,{expires:365*100,domain:"tudou.com",path:"/"});t=e("juid")||1}window.juidStr=t;return t}function l(){var t=e("seid");if(!t||+new Date>(parseInt(e("seidtimeout"))||0)){t=i.rand(e("u_id"),"0");e("seid",t,{domain:"tudou.com",path:"/"});t=e("seid")||1}var n=e("referhost");if(!n||+new Date>(parseInt(e("seidtimeout"))||0)){var a=/^https?:\/\/[^\/]+/.exec(document.referrer||"");n=a?a[0]:"";e("referhost",n,{domain:"tudou.com",path:"/"})}e("seidtimeout",Date.now()+30*6e4,{domain:"tudou.com",path:"/"});return t}function c(e){e=$(e)[0];var t=[];if(e.id)return"#"+e.id;for(;e;e=e.parentNode){var i=e.nodeName.toUpperCase();if("BODY"==i)break;if(e.id&&"i"!=e.getAttribute("cs")){t.splice(0,0,"#"+e.id);return t.join("~")}var n=0;for(var a=e.previousSibling;a;a=a.previousSibling){var o=a.nodeName.toUpperCase();if(0===r[o])continue;if(o==i)++n}i=r[i]||i;var s=n?"!"+(n+1):"";t.splice(0,0,i+s)}return t.length?t.join("~"):null}function d(e){var t=$(e).attr("href")||$(e).attr("data-stat-href");if(!t)return"";if(/^(javascript:|#)/i.test(t))return"";t=$.trim(t);var i=location.href;var n=i.replace(/(https?:\/\/[^\/]+).*/,"$1");var a=n===i?n+"/":i.replace(/[#?].*/,"").replace(/[^\/]*$/,"");return t.replace(/^\.[\.\/]+/g,function(e){var t=(e.match(/\.\.\//g)||[]).length;for(var i=0;i<t;i++)a=a.replace(/[^\/]+\/$/,"");return a}).replace(/&amp;/g,"&").replace(/^\//,n+"/").replace(/^[^\h\/]/,a+"$&")}function u(e){var t={A:1,INPUT:1,BUTTON:1};if("LABEL"==e.nodeName){var i;var n=$(e);var a=n.attr("for");if(a)i=$("input#"+a).get(0);if(!i){var r=n.find("input:first");if(r.length>0)i=r.get(0)}if(i)e=i}if(e.getAttribute&&"ck"==e.getAttribute("data-stat-role"))return e;else{var o=e.parentNode;try{if(o&&o.getAttribute&&"ck"==o.getAttribute("data-stat-role"))return o}catch(s){}}if(!t[e.nodeName]){e=e.parentNode||{};if(!t[e.nodeName])return false}return e}function f(e){if(!e)return e;if(0==e.indexOf("#"))e=e.replace(/\#([^~\s]+)~/,function(e,t){return'//*[@id="'+t+'"]~'});else e="~html~body~"+e;e=e.replace(/\!(\d+)/g,function(e,t){return"["+t+"]"});e=e.replace(/(~?)(\d+)(~|\[)/g,function(e,t,i,n){for(var a in r)if(r[a]==parseInt(i))return t+a+n;return e});e=e.replace(/~/g,"/");return e}function p(e){var t=document.evaluate(e,document,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null);if(t.snapshotLength>0)return t.snapshotItem(0);return null}function h(e){var t=[];$.each(e,function(e,i){if(""!==i)t.push(encodeURIComponent(e)+"="+encodeURIComponent(i))});return t.join("&")}function m(e,i){if(!i)t.mix(e);return $.extend(e,{__callbacks:[],addData:function(e){this.__callbacks.push(e)},getData:function(){var e=this;var t={};var i=arguments;e.__callbacks.forEach(function(n){var a=n.apply(e,i)||{};$.extend(t,a)});return t}})}a.referrer=document.referrer||"";a.updateRefer=function(e){a.referrer=e||location.href};a.getPositionCode=c;a.getTrueLink=d;a.getStatTarget=u;a.getXpathFromPositionCode=f;a.getElementByXPath=p;a.param=h;a.mix=m;a.juid=s;a.seid=l;a.pvid=o});define("module/domain",[],function(e,t){var i={main:"www.tudou.com",passport:"passport.tudou.com",ui:"ui.tudou.com",css:"css.tudouui.com",js:"js.tudouui.com",v:"v.tudou.com",login:"login.tudou.com",xn:"login.tudou.com",search:"www.soku.com/t",imake:"imake.tudou.com",ent:"ent.tudou.com",music:"music.tudou.com",movie:"movie.tudou.com",fun:"fun.tudou.com",cartoon:"cartoon.tudou.com",game:"game.tudou.com",lady:"lady.tudou.com",shop:"shop.tudou.com",sports:"sports.tudou.com",life:"life.tudou.com",edu:"edu.tudou.com",etc:"etc.tudou.com",fashion:"fashion.tudou.com",fortune:"fortune.tudou.com",tv:"tv.tudou.com",zy:"zy.tudou.com",news:"news.tudou.com",jilupian:"jilupian.tudou.com",health:"health.tudou.com",beauty:"beauty.tudou.com",it:"it.tudou.com",auto:"auto.tudou.com",message:"message.tudou.com",hint:"tip.tudou.soku.com/search_keys",minichannel:"www.tudou.com/my/channel",tui:"www.tudou.com/my/tui",playlist:"www.tudou.com/playlist",comment:"www.tudou.com/comments",adextensioncpt:"v2.tudou.com/tdct/commonadv.html",programstat:"istat.tudou.com",commentcode:"rd.tudou.com",tmversion:"tmversion.tudou.com",adextensionurl:"tdct.tudou.com/adcontrol/specialadv.html",dig:"dig.tudou.com",live:"istat.tudou.com",douwan:"douwan.tudou.com",mini:"mini.tudou.com",feedback:"feedback.tudou.com",tjpt:"tdrec.youku.com",cms:"cms.tudou.com",wa:"wa.tudou.com",cps:"cps.tudou.com",pay:"pay.tudou.com",vip:"vip.tudou.com",yun:"yun.tudou.com",hinty:"tip.soku.com/search_yun",hd:"hd.tudou.com",crp:"crp.tudou.com",danmu:"danmu.tudou.com",danmus:"service.danmu.tudou.com",gc:"gc.tudou.com",korea:"korea.tudou.com",activity:"activity.tudou.com",index:"index.tudou.com",zhibo:"live.tudou.com",wanhuo:"wanhuo.tudou.com",sgp:"sgp.vsg.tudou.com",paihuo:"api.paihuo.tudou.com",jungles:"jungles.youku.com",img:"u"+~~(4*Math.random()+1)+".tdimg.com"};var n={account:"https://account.youku.com"};function a(e){$.each(e,function(e,t){n[e]=n[e]||"http://"+t})}a(i);t.join=a;t.url=t.domain=n});define("tui/drag",["tui/event"],function(e){var t=$(window);function i(){if(window.getSelection)window.getSelection().removeAllRanges();else if(document.selection)document.selection.empty();return this}function n(e){e.preventDefault()}var a=e.extend({initialize:function(e,r){var o=this;r=r||{};var s=r.handler||e;a.superClass.initialize.call(o);o.limit=r.limit;o.bubble=r.bubble;o.isCustom=r.isCustom;o.enable2=true;o.state2=false;o.hasMove2=false;o.fx=o.fy=-1;o.x2=o.y2=o.mx2=o.my2=o.px2=o.py2=o.cx2=o.cy2=0;o.node2="string"==$.type(e)?$(e):e;o.container2=r.container||o.node2.parent();o.fixed2="fixed"==o.node2.css("position").toLowerCase();o.handler2="string"==$.type(s)?$(s):s;var l=o.handler2||o.node2;function c(e){e.preventDefault();if(!o.bubble||e.target==l[0]){o.start(e);if(l[0].setCapture)l[0].setCapture()}}l.bind("mousedown",c);function d(e){if(o.state2){o.state2=false;var i=e.pageX-o.mx2+o.x2-o.px2,a=e.pageY-o.my2+o.y2-o.py2;if(o.fixed2){i-=t.scrollLeft();a-=t.scrollTop()}if(o.limit){i=Math.max(i,o.cx2-o.px2);a=Math.max(a,o.cy2-o.py2);i=Math.min(i,o.cWidth-(o.px2-o.cx2)-o.dWidth);a=Math.min(a,o.cHeight-(o.py2-o.cy2)-o.dHeight)}o.x2=o.node2.offset().left;o.y2=o.node2.offset().top;o.trigger("drag:end",[i,a,e.pageX,e.pageY,o.node2,o.container2])}$(document).unbind("selectstart",n);if(l[0].releaseCapture)l[0].releaseCapture()}$(document).bind("mouseup",d);function u(e){if(o.state2&&o.enable2){if(!o.hasMove()&&e.pageX==o.fx&&e.pageY==o.fy);else o.hasMove2=true;var n=e.pageX-o.mx2+o.x2-o.px2,a=e.pageY-o.my2+o.y2-o.py2;if(o.fixed2){n-=t.scrollLeft();a-=t.scrollTop()}if(o.limit){n=Math.max(n,o.cx2-o.px2);a=Math.max(a,o.cy2-o.py2);n=Math.min(n,o.cWidth-(o.px2-o.cx2)-o.dWidth);a=Math.min(a,o.cHeight-(o.py2-o.cy2)-o.dHeight)}if(!o.isCustom)o.node2.css({left:n,top:a});i();o.trigger("drag:move",[n,a,e.pageX,e.pageY,o.node2,o.container2])}}$(document).bind("mousemove",u);o.cancel=function(){l.unbind("mousedown",c);$(document).unbind("mouseup",d);$(document).unbind("mousemove",u)}},start:function(e){var t=this;$(document).bind("selectstart",n);t.offsetParent2=t.node2.offsetParent();if(t.limit){t.cWidth=t.container2.outerWidth();t.cHeight=t.container2.outerHeight();t.pWidth=t.offsetParent2.outerWidth();t.pHeight=t.offsetParent2.outerHeight();t.dWidth=t.node2.outerWidth();t.dHeight=t.node2.outerHeight()}t.fx=e.pageX;t.fy=e.pageY;t.cx2=t.container2.offset().left;t.cy2=t.container2.offset().top;t.px2=t.offsetParent2.offset().left;t.py2=t.offsetParent2.offset().top;t.x2=t.node2.offset().left;t.y2=t.node2.offset().top;t.mx2=e.pageX;t.my2=e.pageY;t.state2=true;t.trigger("drag:start",[t.x2,t.y2,e.pageX,e.pageY,t.node2,t.container2]);return this},enable:function(){this.enable2=true;return this},disable:function(){this.enable2=false;return this},state:function(){return this.state2},hasMove:function(){return this.hasMove2}});return a});define("tui/template",[],function(e,t){t.ns=function(e,t,i){var n,a=i||window,r=e.split(".").reverse();while((n=r.pop())&&r.length>0){if("undefined"===typeof a[n])a[n]={};else if("object"!==typeof a[n])return false;a=a[n]}if("undefined"!==typeof t)a[n]=t;return a[n]};t.format=function(e,t){return e.replace(/<%\=(\w+)%>/g,function(e,i){return null!=t[i]?t[i]:""})};t.escapeHTML=function(e){e=e||"";var t={"<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;","{":"&#123;","}":"&#125;","@":"&#64;"};return e.replace(/[<>'"\{\}@]/g,function(e){return t[e]})};t.substr=function(e,t,i){if(!e||"string"!==typeof e)return"";var n=e.substr(0,t).replace(/([^\x00-\xff])/g,"$1 ").substr(0,t).replace(/([^\x00-\xff])\s/g,"$1");return i?i.call(n,n):e.length>n.length?n+"...":n};t.strsize=function(e){return e.replace(/([^\x00-\xff]|[A-Z])/g,"$1 ").length};var i=this.document;t.tplSettings={_cache:{},evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g};t.tplHelpers={mix:$.extend,escapeHTML:t.escapeHTML,substr:t.substr,include:n,_has:function(e){return function(i){return t.ns(i,void 0,e)}}};function n(e,a,r){var o,s=t.tplSettings,l=r?"#"+r:"";if(!/[\t\r\n% ]/.test(e)){o=s._cache[e+l];if(!o){var c=i.getElementById(e);if(c)o=s._cache[e+l]=n(c.innerHTML,false,r)}}else{var d="var __p=[];"+(r?"":"with(obj){")+"var mix=api.mix,escapeHTML=api.escapeHTML,substr=api.substr,include=api.include,has=api._has("+(r||"obj")+");"+"__p.push('"+e.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(s.interpolate,function(e,t){return"',"+t.replace(/\\'/g,"'")+",'"}).replace(s.evaluate||null,function(e,t){return"');"+t.replace(/\\'/g,"'").replace(/[\r\n\t]/g," ")+"__p.push('"}).replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+"');"+(r?"":"}")+"return __p.join('');";try{o=new Function(r||"obj","api",d)}catch(u){console.log("Could not create a template function: \n"+d)}}return!o?"":a?o(a,t.tplHelpers):o}t.convertTpl=n;t.reloadTpl=function(e){delete t.tplSettings._cache[e]}});define("tui/widget",["tui/event","tui/template"],function(e,t){function i(e,t){var i;var n;var a=e.split(" ");if(1==a.length){i=t;n=e}else{i=a.shift();n=a.join(" ")}return[i,n]}var n=e.extend({element:null,template:"<div></div>",eventType:"click",model:{},events:{},targetNode:$(document.body),renderMethod:"append",initialize:function(e){var t=this;e=e||{};n.superClass.initialize.call(t);t.model=$.extend(true,{},t.model);t.events=$.extend(true,{},t.events);$.each(["element","targetNode"],function(){"undefined"!==typeof e[this]&&(t[this]=$(e[this]))});$.each(["template","eventType","renderMethod"],function(){"undefined"!==typeof e[this]&&(t[this]=e[this])});$.each(["model","events"],function(){"undefined"!==typeof e[this]&&$.extend(t[this],e[this])})},find:function(e){return this.element.find(e)},delegate:function(e,t){var n=this;if("string"==$.type(e)&&$.isFunction(t)){var a={};a[e]=t;e=a}$.each(e,function(e,t){var a=function(e){if($.isFunction(t))return t.call(n,e);else return n[t](e)};var r=i(e,n.eventType);n.element.on(r[0],r[1],a)});return n},undelegate:function(e){var t=this;var n=i(e,t.eventType);t.element.off(n[0],n[1]);return t},render:function(e){var i=this;if(!i.element||!i.element[0])i.element=$(t.convertTpl(i.template,$.extend({getUrl:this.getUrl||a},e||i.model)));i.delegate(i.events);if(i.renderMethod)i.targetNode[i.renderMethod](i.element);return i},update:function(e){if(this.renderMethod)this.targetNode[this.renderMethod](t.convertTpl(this.template,$.extend({getUrl:this.getUrl||a},e)))}});function a(e){return e}return n});define("tui/mask",[],function(){var e=$('<div class="tui_mask">');var t;var i=$(window);var n=$(document);var a=$(document.body);var r=$.browser.msie&&$.browser.version<7;var o=4096;function s(){var t=Math.max(i.width(),n.width());var a=Math.max(i.height(),n.height());var s="absolute";var l=0;if($.browser.msie&&a>o){if(!r)s="fixed";else{l=i.scrollTop();if(l+o>a)l=a-o}a=o}e.css({position:s,top:l,width:t,height:a})}return{node:function(){return e},resize:function(){s()},show:function(n){i.bind("resize",s);if(r)i.bind("scroll",s);e.css("z-index",n||9e4);this.resize();if(!t){a.append(e);t=true}else e.show();return this},hide:function(n){i.unbind("resize",s);if(r)i.unbind("scroll",s);if(n){e.remove();t=false}else e.hide();return this},update:function(){s()},state:function(){return e.is(":visible")}}});define("tui/art",[],function(){var e=window;var t=function(e,i){return t["string"===typeof i?"compile":"render"].apply(t,arguments)};t.version="2.0.2";t.openTag="<%";t.closeTag="%>";t.isEscape=true;t.isCompress=false;t.parser=null;t.render=function(e,i){var n=t.get(e)||a({id:e,name:"Render Error",message:"No Template"});return n(i)};t.compile=function(e,n){var o=arguments;var s=o[2];var l="anonymous";if("string"!==typeof n){s=o[1];n=o[0];e=l}try{var c=r(e,n,s)}catch(d){d.id=e||n;d.name="Syntax Error";return a(d)}function u(i){try{return new c(i,e)+""}catch(r){if(!s)return t.compile(e,n,true)(i);return a(r)()}}u.prototype=c.prototype;u.toString=function(){return c.toString()};if(e!==l)i[e]=u;return u};var i=t.cache={};var n=t.helpers=function(){var e=function(t,i){if("string"!==typeof t){i=typeof t;if("number"===i)t+="";else if("function"===i)t=e(t.call(t));else t=""}return t};var i={"<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","&":"&#38;"};var n=function(t){return e(t).replace(/&(?![\w#]+;|#\d+)|[<>"']/g,function(e){return i[e]})};var a=Array.isArray||function(e){return"[object Array]"==={}.toString.call(e)};var r=function(e,t){if(a(e))for(var i=0,n=e.length;i<n;i++)t.call(e,e[i],i,e);else for(i in e)t.call(e,e[i],i)};return{$include:t.render,$string:e,$escape:n,$each:r}}();t.helper=function(e,t){n[e]=t};t.onerror=function(t){var i="Template Error\n\n";for(var n in t)i+="<"+n+">\n"+t[n]+"\n\n";if(e.console)console.error(i)};t.get=function(n){var a;if(i.hasOwnProperty(n))a=i[n];else if("document"in e){var r=document.getElementById(n);if(r){var o=r.value||r.innerHTML;a=t.compile(n,o.replace(/^\s*|\s*$/g,""))}}return a};var a=function(e){t.onerror(e);return function(){return"{Template Error}"}};var r=function(){var e=n.$each;var i="break,case,catch,continue,debugger,default,delete,do,else,false"+",finally,for,function,if,in,instanceof,new,null,return,switch,this"+",throw,true,try,typeof,var,void,while,with"+",abstract,boolean,byte,char,class,const,double,enum,export,extends"+",final,float,goto,implements,import,int,interface,long,native"+",package,private,protected,public,short,static,super,synchronized"+",throws,transient,volatile"+",arguments,let,yield"+",undefined";var a=/\/\*[\w\W]*?\*\/|\/\/[^\n]*\n|\/\/[^\n]*$|"(?:[^"\\]|\\[\w\W])*"|'(?:[^'\\]|\\[\w\W])*'|[\s\t\n]*\.[\s\t\n]*[$\w\.]+/g;var r=/[^\w$]+/g;var o=new RegExp(["\\b"+i.replace(/,/g,"\\b|\\b")+"\\b"].join("|"),"g");var s=/^\d[^,]*|,\d[^,]*/g;var l=/^,+|,+$/g;var c=function(e){return e.replace(a,"").replace(r,",").replace(o,"").replace(s,"").replace(l,"").split(/^$|,+/)};return function(i,a,r){var o=t.openTag;var s=t.closeTag;var l=t.parser;var d=a;var u="";var f=1;var p={$data:1,$id:1,$helpers:1,$out:1,$line:1};var h={};var m="var $helpers=this,"+(r?"$line=0,":"");var v="".trim;var g=v?["$out='';","$out+=",";","$out"]:["$out=[];","$out.push(",");","$out.join('')"];var b=v?"if(content!==undefined){$out+=content;return content;}":"$out.push(content);";var w="function(content){"+b+"}";var _="function(id,data){"+"data=data||$data;"+"var content=$helpers.$include(id,data,$id);"+b+"}";e(d.split(o),function(e,t){e=e.split(s);var i=e[0];var n=e[1];if(1===e.length)u+=x(i);else{u+=T(i);if(n)u+=x(n)}});d=u;if(r)d="try{"+d+"}catch(e){"+"throw {"+"id:$id,"+"name:'Render Error',"+"message:e.message,"+"line:$line,"+"source:"+S(a)+".split(/\\n/)[$line-1].replace(/^[\\s\\t]+/,'')"+"};"+"}";d=m+g[0]+d+"return new String("+g[3]+");";try{var y=new Function("$data","$id",d);y.prototype=h;return y}catch(k){k.temp="function anonymous($data,$id) {"+d+"}";throw k}function x(e){f+=e.split(/\n/).length-1;if(t.isCompress)e=e.replace(/[\n\r\t\s]+/g," ").replace(/<!--.*?-->/g,"");if(e)e=g[1]+S(e)+g[2]+"\n";return e}function T(e){var i=f;if(l)e=l(e);else if(r)e=e.replace(/\n/g,function(){f++;return"$line="+f+";"});if(0===e.indexOf("=")){var a=0!==e.indexOf("==");e=e.replace(/^=*|[\s;]*$/g,"");if(a&&t.isEscape){var o=e.replace(/\s*\([^\)]+\)/,"");if(!n.hasOwnProperty(o)&&!/^(include|print)$/.test(o))e="$escape("+e+")"}else e="$string("+e+")";e=g[1]+e+g[2]}if(r)e="$line="+i+";"+e;C(e);return e+"\n"}function C(t){t=c(t);e(t,function(e){if(!p.hasOwnProperty(e)){$(e);p[e]=true}})}function $(e){var t;if("print"===e)t=w;else if("include"===e){h["$include"]=n["$include"];t=_}else{t="$data."+e;if(n.hasOwnProperty(e)){h[e]=n[e];if(0===e.indexOf("$"))t="$helpers."+e;else t=t+"===undefined?$helpers."+e+":"+t}}m+=e+"="+t+","}function S(e){return"'"+e.replace(/('|\\)/g,"\\$1").replace(/\r/g,"\\r").replace(/\n/g,"\\n")+"'"}}}();return t});define("tui/browser",[],function(){var e=navigator.userAgent.toLowerCase();var t={ie6:$.browser.msie&&6==$.browser.version,html5:function(){var e=document.createElement("input");var t=document.createElement("video");return{h264:!!(t.canPlayType&&t.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"').replace(/no/,"")),history:!!(window.history&&window.history.pushState&&window.history.popState),placeholder:"placeholder"in e}},lang:(navigator.language||navigator.systemLanguage).toLowerCase(),iOS:(e.match(/(ipad|iphone|ipod)/)||[])[0],iOSVersion:(e.match(/os\s+([\d_]+)\s+like\s+mac\s+os/)||[0,"0_0_0"])[1].split("_"),wphone:parseFloat((e.match(/windows\sphone\s(?:os\s)?([\d.]+)/)||["","0"])[1]),android:parseFloat((e.match(/android[\s|\/]([\d.]+)/)||["","0"])[1])};t.isMobile=!!t.iOS||!!t.wphone||!!t.android||void 0!==window.orientation||false;t.isPad=t.isMobile&&("ipad"==t.iOS||e.indexOf("mobile")==-1||e.indexOf("windows nt")!=-1&&e.indexOf("touch")!=-1)||false;return t});define("tui/dialog",["tui/browser","tui/art","tui/mask","tui/widget","tui/drag"],function(e,t,i,n,a){var r=$(window);var o=$.browser.msie&&$.browser.version<=7||!$.support.boxModel;var s=10002;var l='<div class="tui_dialog_button"><% for (var i = 0; i < buttons.length; i++) { %>'+'<a data-role="button_<%=i%>" href="#" <%if(buttons[i].className){%>class="<%=buttons[i].className%>"<%}%>><%=buttons[i].name%></a>'+"<% } %></div>";var c='<div class="tui_dialog <%=className%>"><div<% if (hasWrap) { %> class="tui_dialog_wrap"<% } %>><div class="tui_dialog_holder" data-role="holder">'+'<div class="tui_dialog_resize"></div>'+'<div class="tui_dialog_w_tp"></div><div class="tui_dialog_w_bm"></div>'+'<div class="tui_dialog_w_lf"></div><div class="tui_dialog_w_rt"></div>'+'<div class="tui_dialog_w_tl"></div><div class="tui_dialog_w_tr"></div>'+'<div class="tui_dialog_w_bl"></div><div class="tui_dialog_w_br"></div>'+'<div class="tui_dialog_header" data-role="header"><span class="tui_dialog_close" data-role="close" title="å³é­">å³é­</span>'+'<div class="tui_dialog_title" data-role="title"><%=title%></div><div class="tui_dialog_bar"><%=bar%></div></div>'+'<div class="tui_dialog_content" data-role="content"></div>'+'<% if (buttons.length > 0) { %><div class="tui_dialog_footer" data-role="footer">'+l+"</div><% } %>"+'<% if (info) { %><div class="tui_dialog_info"><%=info%></div><% } %>'+"</div></div></div>";var d=n.extend({events:{"click [data-role=close]":function(e){e.preventDefault();this.close()}},initialize:function(e){var i=this;var n={template:c,buttons:[],zIndex:s,hasDrag:true,hasMask:true,isFixed:true};e=$.extend(n,e||{});s=e.zIndex;var a=$.browser.msie&&parseFloat($.browser.version)<9;if("undefined"!=typeof e.hasWrap)a=e.hasWrap;var r={hasWrap:a,className:e.className||"tudou_dialog",title:e.title||"",bar:e.bar||"",info:e.info||"",buttons:e.buttons};e.element=$(t.compile(e.template)(r));d.superClass.initialize.call(this,e);i.dom={holder:i.element.find("[data-role=holder]"),header:i.element.find("[data-role=header]"),title:i.element.find("[data-role=title]"),content:i.element.find("[data-role=content]"),footer:i.element.find("[data-role=footer]"),close:i.element.find("[data-role=close]")};i.config=e;i.open();var o=function(e){if(27==e.keyCode){i.close();$(document).unbind("keydown",o)}};$(document).keydown(o)},title:function(e){this.dom.title.html(e);return this},content:function(e){this.dom.content.html(e);return this},open:function(){var e=this;var t=e.config;var n=e.element;var l=e.dom;n.css("z-index",s);s+=2;if(t.hasMask)i.show(n.css("z-index")-1);n.css("position",o||!t.isFixed?"absolute":"fixed");e.iframeMask=$("<iframe>",{src:"about:blank",frameborder:0,css:{border:"none","z-index":-1,position:"absolute",top:0,left:0,width:"100%",height:"100%"}}).prependTo(l.holder);e.content(t.content||"");$.each(t.buttons,function(t){e.events["[data-role=button_"+t+"]"]=this.callback});if(!e.element.parent()[0])e.render();e.element.show();e.locate();e.resizeLocate=function(t){e.locate()};r.bind("resize",e.resizeLocate);if(o&&t.isFixed){e.iefixScroll=function(t){e.locate()};r.bind("scroll",e.iefixScroll);e.iframeMask.css({height:l.holder.height()})}if(e.config.hasDrag)new a(n,{handler:l.header,limit:true});return e},close:function(e){var t=this;if(t.config.hasMask)i.hide(true);t.trigger("close",[t]);if(!e)t.element.find("iframe").remove();t.element[e?"hide":"remove"]();if(t.resizeLocate)r.unbind("resize",t.resizeLocate);if(t.iefixScroll){r.unbind("scroll",t.iefixScroll);t.iefixScroll=null}return t},locate:function(){var e=this;var t=Math.max(0,r.width()-e.element.width()>>1);if(!e.config.isFixed)var i=r.scrollTop()+(r.height()-e.element.height())/2;else var i=Math.max(0,r.height()-e.element.height()>>1)+(o?r.scrollTop():0);e.element.css({left:t,top:i});return e}});d.confirm=function(e,t){var i={};if($.isPlainObject(e)){i=e;e=i.msg;t=i.callback}return new d($.extend({className:"tudou_dialog alert",title:"åè±æç¤º",content:'<div class="tui_dialog_logo"></div><div class="tui_dialog_text">'+e+"</div>",hasMask:true,buttons:[{name:"ç¡®å®",callback:function(e){e.preventDefault();t&&t.call(this);this.close()}},{name:"åæ¶",callback:function(e){e.preventDefault();this.close()}}]},i))};d.alert=function(e,t){var i={};if($.isPlainObject(e)){i=e;e=i.msg;t=i.callback}return new d($.extend({className:"tudou_dialog alert",title:"åè±æç¤º",content:'<div class="tui_dialog_logo"></div><div class="tui_dialog_text">'+e+"</div>",hasMask:true,buttons:[{name:"ç¡®å®",callback:function(e){e.preventDefault();t&&t.call(this);this.close()}}]},i))};return d});define("tui/net",[],function(e,t){t.getScript=function(e,t){var i=document.createElement("script");i.type="text/javascript";i.async=true;if(!t)t={};else if($.isFunction(t))t={callback:t};if(t.charset)i.charset=t.charset;i.src=e;var n=document.getElementsByTagName("head")[0];var a=false;i.onload=i.onreadystatechange=function(){if(!a&&(!this.readyState||"loaded"==this.readyState||"complete"==this.readyState)){a=true;i.onload=i.onreadystatechange=null;n.removeChild(i);if(t.callback)t.callback()}};n.appendChild(i)};var i=0;t.getJSON=function(e,n,a,r){var o=e.match(/https?\:\/\/(.+?)\//);if(a)if((!r||!r.isScript)&&(!o||o[1]===window.location.host)){$.ajax({url:e,data:n,success:a,dataType:"json"});return true}r=$.extend({charset:"gbk",callback:"tuijsonp"+ ++i},r||{});if(r.random)n[r.random]=+new Date;var s=r.callbackName||"jsoncallback";n[s]=r.callback;e=[e,/\?/.test(e)?"&":"?",$.param(n)].join("");if(a)window[r.callback]=a;delete r.callback;t.getScript(e,r)};t.getRequest=function(e,t){var i=new Image;i.onload=function(){};i.src=!t?e:[e,e.match(/\?/)?"&":"?","string"==typeof t?t:$.param(t)].join("")}});define("module/login/login",["tui/cookie","tui/event","tui/net","tui/dialog","module/domain"],function(e,t,i,n,a,r,o){var s=new t;var l=a.url;window.hasAutoLogin=window.hasAutoLogin;window.loginCallback=window.loginCallback||[];window.loginData=window.loginData;s.juid="";s.DWriteCookie=function(t,i){var n=e("yktk");if($.isFunction(t))i=t;else if("string"===$.type(t))n=t;else if($.isPlainObject(t)){if(t.yktk)n=t.yktk;if(n)n=n+"|"+(t.isRemember?1:0)}if(n&&""!=n){var a="http://passport.tudou.com/user/crossdomain?yktk="+encodeURIComponent(n);var r=l.login+"/login.do?act=loginOver";if(i){var o="login"+(""+Math.random()).replace(/\D/g,"")+(new Date).getTime();window[o]=function(){i&&i();s.remove();window[o]=null};r+="&callback="+o}a+="&return_url="+encodeURIComponent(r);var s=$('<iframe src="'+a+'" style="position:absolute;left:-9999px;bottom:0;width:0;height:0;visibility:hidden;">');$(document.body).append(s)}};s.autoLogin=function(e,t){var i=this;e=e||{};t=t||function(){};var n=l.login;var a="www";var r=location.hostname.split(".");if(["wwwtest","logintest"].indexOf(r[0])>-1)a="wwwtest";n={www:"http://login.tudou.com",wwwtest:"http://logintest.tudou.com"}[a];$.ajax({url:n+"/login.do?act=ytAutoLogin&useYktk=true",type:"GET",jsonp:"jsoncallback",dataType:"jsonp",success:function(n){var a=1==n.status?true:false;t(a,n);if(a&&n.data)s.DWriteCookie({isRemember:e.isRemember,yktk:n.data.yktk},function(){if(a){i.trigger("after:login");i.trigger("after:autoLogin")}})},error:function(){t(false)}})};s.isLogin=function(t){var i=this;t=t||function(){};if(e("u_user")&&e("u_id")){if(e("u_login"))t(true);else if(e("u_passport_info"))window.loginCallback&&loginCallback.push(t);else return false;return true}return false};s.isLogin2=function(t){var i=this;var n=0;var a=0;var r=e("yktk");t=t||function(){};if(e("u_user")&&e("u_id")){if(e("u_login")){t(true);return}else if(e("u_passport_info"))n=1;else if(r)n=2}else if(r)n=2;if(r)a="|1"==r.slice(-2,r.length)?1:0;if(n){window.loginCallback&&loginCallback.push(t);if(!hasAutoLogin){hasAutoLogin=true;i.autoLogin({isRemember:a},function(e,t){t=t||{};
loginData=e?t:e;if(window.loginCallback&&loginCallback.length){loginCallback.forEach(function(t){t(e,loginData)});window.loginCallback=[]}})}else if(void 0!==loginData)"boolean"==$.type(loginData)?t(loginData):t(1==loginData.status?true:false,loginData)}else t(false)};s.uid=function(){return this.isLogin()?e("u_id")||0:0};s.ucode=function(){return this.isLogin()?e("u_code")||"":""};s.userInfo=function(){var t=this.uid();var i={};i._vip=+s.isVip();i._usr=e("u_user");i._nic=e("u_nick")||i._usr;i._ico=e("u_pic")||"";i._mmid=e("u_mmid")||0;i.isGuest=!!t;i.isXN=t.toString()===(e("xn")||"").split("_")[0];i.isSINA=!!e("sinawb");i.isQZONE=!!e("qzone");i.isMSN=!!e("msn");i.isTWEIBO=!!e("tweibo");i.isKAIXIN=!!e("kaixin");i.isFEIXIN=!!e("feixin");i.isYOUKU=!!e("youku");i.ulvl=(t?e("u_l"):0)||0;i.prefix=i.isXN&&"xn"||i.isSINA&&"sina"||i.isQZONE&&"qzone"||i.isMSN&&"msn"||i.isTWEIBO&&"tweibo"||i.isYOUKU&&"youku"||i.isKAIXIN&&"