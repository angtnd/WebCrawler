!function(e){"use strict";function t(t,i){function o(){U=ie("div"),U.id="pm-video-wrapper-"+H,U.className="pm-video-wrapper",V.applyStyle(U,{position:"relative",width:i.width+i.unit,height:i.height+i.unit,display:"block",background:i.options.transparent?"transparent":"#000",overflow:"hidden",textAlign:"left"}),t.appendChild(U)}function a(){U.parentNode===t&&t.removeChild(U),V.call(i.options.onerror)}function n(){q("Load HTML5 Video : %s",N),M=ie("video"),M.id="pm-video-"+H,M.src=N,M.autoplay=!1,M.volume=i.options.muted?0:i.options.maxVol,V.applyStyle(M,{width:"100%",height:"100%",position:"absolute"}),"desktop"!==V.device.name&&i.poster&&(M.poster=V.returnAbsolute(i.poster,i.baseUrl)),M.addEventListener("loadstart",function(){q("Loadstart Event")}),M.addEventListener("abort",function(){B("Video aborted"),a()}),M.addEventListener("error",function(e){switch(B("Video error"),e.target.error.code){case e.target.error.MEDIA_ERR_ABORTED:B("You aborted the video playback.");break;case e.target.error.MEDIA_ERR_NETWORK:B("A network error caused the video download to fail part-way.");break;case e.target.error.MEDIA_ERR_DECODE:B("The video playback was aborted due to a corruption problem or because the video used features your browser did not support.");break;case e.target.error.MEDIA_ERR_SRC_NOT_SUPPORTED:B("The video could not be loaded, either because the server or network failed or because the format is not supported.");break;default:B("An unknown error occurred.")}a()}),M.addEventListener("onloadeddata",function(){q("Data loaded, duration : %s",M.duration)}),M.addEventListener("loadedmetadata",function(){q("Metadata loaded, duration : %s",M.duration),d(),g(),"canvas"===P&&i.options.autoplay&&l(),F()}),M.addEventListener("durationchange",function(){q("Duration changed"),g()}),M.addEventListener("ended",function(){p()}),U.appendChild(M)}function s(){q("Prepare canvas for video"),D=document.createElement("canvas"),D.style.position="relative",U.appendChild(D),D.width=V.gbcr(U).width,D.height=V.gbcr(U).height,M.playsinline=!0,M.webKitPlaysInline=!0,M.pausedonstart=!0,M.allowsInlineMediaPlayback=!0,M.preload="auto",M.autoplay="autoplay",M.load()}function l(){q("Start canvas video playing"),D.setAttribute("data-time",0),D.setAttribute("data-paused",!1),setInterval(function(){if(D.width=D.getAttribute("data-width"),D.height=D.getAttribute("data-height"),D.getContext("2d").drawImage(M,0,0,D.getAttribute("data-width"),D.getAttribute("data-height")),"false"===D.getAttribute("data-paused")){var e=parseFloat(D.getAttribute("data-time"),10)+1e3/i.options.framerate/1e3;e>M.duration?(C(),p(),e=0):M.currentTime=e,D.setAttribute("data-time",e)}},1e3/i.options.framerate)}function r(){var e=ie("div"),t=!1;U.insertBefore(e,X),V.applyStyle(e,{position:"absolute",width:i.options.layer.width+"px",height:i.options.layer.height+"px",top:i.options.layer.top+"px",left:i.options.layer.left+"px",opacity:i.options.layer.animate?0:1,display:"none"}),V.handleAsset(i.options.layer,e,"video-layer",i.baseUrl),setInterval(function(){L()>=i.options.layer.time&&L()<i.options.layer.time+i.options.layer.duration&&!t&&(t=!0,e.style.display="block",i.options.layer.animate&&V.animate(e,{opacity:1}).play(),setTimeout(function(){t=!1,i.options.layer.animate?V.animate(e,{opacity:0,onplayer:function(){e.style.display="none"}}).play():e.style.display="none"},1e3*i.options.layer.duration))},50)}function p(){function e(){i.options.loop?(T(0),M.hasBeenPaused=!1):(i.options.smartEnd&&A(ce),C(),w())}if(M.hasBeenPaused=!0,i.packshot&&i.packshot.file){var t=ie("div");U.insertBefore(t,X),V.applyStyle(t,{position:"absolute",width:"100%",height:"100%",top:"0",left:"0"}),i.packshot.width="100%",i.packshot.height="100%",V.handleAsset(i.packshot,t,"video-packshot",i.baseUrl),ee&&(ee.style.display="none"),K&&(K.style.display="none"),i.packshot.duration&&i.options.loop&&setTimeout(function(){e(),t.parentNode.removeChild(t),ee&&(ee.style.display="block"),K&&(K.style.display="block")},1e3*i.packshot.duration)}else e();V.call(i.options.onend)}function d(){var e,t=M.videoWidth/M.videoHeight;V.onResize(M.parentNode,function(){var o,a,n,s,l=V.gbcr(M.parentNode),r=l.width/l.height;"canvas"===P?("fullsize"===i.options.resizeMode?t>r?(a=l.height,o=a*t,s=(l.width-o)/2,n=0):(o=l.width,a=o/t,s=0,n=(l.height-a)/2):(s=0,n=0,t>r?(o=l.width,a=o/t,n=(l.height-a)/2):(a=l.height,o=a*t,s=(l.width-o)/2)),o=parseInt(10*o,10)/10,a=parseInt(10*a,10)/10,n=parseInt(10*n,10)/10,s=parseInt(10*s,10)/10,D.setAttribute("data-width",o),D.setAttribute("data-height",a),D.style.top=n+"px",D.style.left=s+"px"):"letterbox"===i.options.resizeMode&&e!==i.options.resizeMode?V.applyStyle(M,{width:"100%",height:"100%",left:"0",position:"absolute"}):"fullsize"===i.options.resizeMode&&(r>t?(o=l.width,a=o/t,n=(l.height-a)/2,V.applyStyle(M,{height:a+"px",width:o+"px",top:n+"px",left:0})):(a=l.height,o=a*t,s=(l.width-o)/2,V.applyStyle(M,{height:a+"px",width:o+"px",left:s+"px",top:0}))),e=i.options.resizeMode})}function u(){q("Load Flash Video : %s",N);var e,t,o=(new Date).getTime();t=V.embedSWF({file:pe,wrapper:U,width:"100%",height:"100%",id:i.id+"-"+o,flashvars:{src:N,resizeMode:i.options.resizeMode,callback:"pmFlashNotification"+o,maxVol:i.options.maxVol},params:{wmode:i.options.transparent?"transparent":"opaque"},attributes:{wmode:i.options.transparent?"transparent":"opaque"}}),e=function(e,i){try{if(t.control)return t.control(e,i)}catch(o){B("Flash communication error : %s",o)}},j["pmFlashNotification"+o]=function(t,o){"ready"===t?(q("Flash framework ready - js side"),M.duration=o,M.ready=!0,i.options.muted||M.unmute(),F(),e("resize"),g()):"video-end"===t?p():"log"===t&&q(o)},M={unmute:function(){e("unmute")},mute:function(t){t?e("mute",t):e("mute")},play:function(t){M.paused=!1,e("play",t)},pause:function(){return M.paused=!0,e("pause")},getTime:function(){return e("getTime")},seek:function(t){e("seek",t)},object:t,duration:30,paused:!0,id:i.id,ready:!1}}function c(){function e(){M.paused?(V.applyStyle(t,{display:"block"}),V.applyStyle(i,{display:"none"})):(V.applyStyle(i,{display:"block"}),V.applyStyle(t,{display:"none"}))}Z=ie("div"),Z.className="pm-video-controls-play-button",V.applyStyle(Z,{width:"20px",height:"20px",position:"absolute",bottom:"5px",left:"9px",cursor:"pointer"});var t,i;if(he){t=ie("canvas"),i=ie("canvas");var o=t.getContext("2d"),a=i.getContext("2d");t.width=t.height=i.width=i.height=20,o.fillStyle="#FFFFFF",o.moveTo(4,4),o.lineTo(4,16),o.lineTo(16,10),o.lineTo(4,4),o.fill(),a.fillStyle="#FFFFFF",a.fillRect(5,5,3,10),a.fillRect(10,5,3,10)}else t=ie("div"),i=ie("div"),V.applyStyle(t,{background:"url("+re+de+") 0 0 no-repeat transparent",width:"20px",height:"20px"}),V.applyStyle(i,{background:"url("+re+de+") -20px 0 no-repeat transparent",width:"20px",height:"20px"});V.applyStyle(t,{position:"absolute",top:"0px",left:"0px"}),V.applyStyle(i,{position:"absolute",top:"0px",left:"0px"}),e(),setInterval(function(){e()},100),V.addEvent(Z,"click",function(e){V.preventDefault(e),M.isEnded?(T(0,!0),M.isEnded=!1,ae=!1,S("PLAY")):(ae=!M.paused,M.paused?(T(void 0,!0),S("PLAY"),M.hasBeenPaused=!1):(C(!0),S("PAUSE"),M.hasBeenPaused=!0))}),Z.appendChild(t),Z.appendChild(i),ee.appendChild(Z)}function h(){G=ie("div"),G.className="pmvideo-controls-scrubbar",J=ie("div");var e=ie("div"),t=te?110:140;V.applyStyle(G,{width:t+"px",height:"20px",position:"absolute",left:"40px",top:"5px",cursor:"pointer"}),V.applyStyle(e,{width:"100%",height:"2px",position:"relative",left:"0px",top:"9px",background:"#FFF"}),V.applyStyle(J,{width:"0px",height:"2px",position:"absolute",left:"0px",top:"0px",background:se}),e.appendChild(J),G.appendChild(e),ee.appendChild(G),setInterval(function(){M.isEnded||V.applyStyle(J,{width:L()/M.duration*100+"%"})},500),V.addEvent(G,"click",function(e){V.preventDefault(e);var i=e||j.event,o=V.getMousePosition(i,G,"left")/t,a=parseInt(M.duration*o,10);q("Scrubbar action, seek to %s% -> %s",parseInt(1e3*o,10)/10,a),A(a)})}function m(){Q=ie("div"),Q.className="pmvideo-controls-timer",V.applyStyle(Q,{width:"50px",height:"16px",paddingTop:"4px",position:"absolute",left:te?"153px":"183px",top:"5px",textAlign:"center",fontSize:"10px",fontFamily:"Arial, Helvetica, sans-serif",color:"#FFFFFF",letterSpacing:"normal",fontStyle:"bold"}),setInterval(function(){M.isEnded||(Q.innerHTML=V.sprintf(["%s",V.cleanTime(parseInt(L(),10))]))},100),ee.appendChild(Q)}function v(){$=ie("div"),V.applyStyle($,{width:"20px",height:"20px",position:"absolute",left:"205px",top:"5px",cursor:"pointer"});var e,t;he?(e=ie("canvas"),t=e.getContext("2d"),e.width=20,e.height=20,t.fillStyle="#FFFFFF",t.fillRect(3,5,14,1),t.fillRect(16,5,1,10),t.fillRect(3,14,14,1),t.fillRect(3,5,1,10),t.fillRect(6,8,10,6)):(e=ie("div"),V.applyStyle(e,{width:"20px",height:"20px",background:"url("+re+de+") 0 -20px  no-repeat transparent"})),V.addEvent($,"click",function(e){V.preventDefault(e),k(U,!0),I(),T()}),$.appendChild(e),ee.appendChild($)}function f(e){K=ie("div"),K.className="pm-video-controls-sound-button",V.applyStyle(K,{width:"20px",height:"20px",position:"absolute",bottom:"5px",right:"5px",cursor:"pointer"});var t,o;he?(t=ie("canvas"),o=t.getContext("2d"),t.width=20,t.height=20):(t=ie("div"),V.applyStyle(t,{width:"20px",height:"20px",background:"url("+re+de+") -40px -20px  no-repeat transparent"})),K.appendChild(t),he&&b("#FFFFFF"),(e?e:U).appendChild(K),i.options.muted||(y(!0),ne=!1),V.addEvent(K,"click",function(e){V.preventDefault(e),ne?(I(),oe=!1,S("UNMUTE")):(_(),oe=!0,S("MUTE"))})}function y(e){he?b(e?se:"#FFF"):V.applyStyle(K.getElementsByTagName("div")[0],{background:"url("+re+de+") "+(e?"-20px":"-40px")+" -20px  no-repeat transparent"}),V.removeClass(K,"pm-sound-state-"+(e?"muted":"unmuted")),V.addClass(K,"pm-sound-state-"+(e?"unmuted":"muted"))}function b(e){var t=1,i=K.querySelector("canvas").getContext("2d");for(i.fillStyle=e;6>t;){var o=10*t/5;i.fillRect(3*t,15-o,2,o),t++}}function x(){ee=ie("div"),ee.className="pm-video-controls",V.applyStyle(ee,{width:i.options.soundbutton?"260px":"235px",height:"30px",position:"absolute",margin:"-50px 0 0 "+(i.options.soundbutton?"-130px":"-117px"),left:"50%",top:"100%"});var e=ie("div");if(e.className="pm-video-controls-background",V.applyStyle(e,{width:"100%",height:"100%",display:"block",position:"absolute",top:"0px",left:"0px"}),he?V.applyStyle(e,{background:"#000",opacity:"0.7",borderRadius:"5px"}):V.applyStyle(e,{background:"url("+re+de+") 0px "+(i.options.soundbutton?"-40px":"-70px")+" no-repeat transparent"}),ee.appendChild(e),c(),h(),m(),te&&v(),i.options.soundbutton&&f(ee),U.appendChild(ee),i.options.hidecontrols){var t;V.addEvent(U,"mousemove",function(){ee.style.display="block",clearTimeout(t),t=setTimeout(function(){ee.style.display="none"},5e3)})}}function g(){i.trackinginterval||(i.trackinginterval=setInterval(function(){var e=parseInt(L()/M.duration*100,10),t=parseInt(i.currentTimeWv/M.duration*100,10);V.each(ue,function(){e>=this.threshold&&!this.sent&&!this.wv&&(this.sent=!0,S(this.name,i.id)),t>=this.threshold&&!this.sent&&this.wv&&0===i.options.threshold&&(this.sent=!0,S(this.name,i.id))})},300))}function w(){M.isEnded=!0,ee&&(J&&V.applyStyle(J,{width:"0"}),Q&&(Q.innerHTML="--:--"))}function F(){ce=i.options.packshotTime?i.options.packshotTime:Math.ceil(parseInt(.99*M.duration*10,10)/10),q("End pause time -> %s",ce)}function E(){return O.documentElement.requestFullscreen||O.documentElement.msRequestFullscreen||O.documentElement.mozRequestFullScreen||O.documentElement.webkitRequestFullscreen||!1}function k(e,t){if(O.fullscreenElement||O.mozFullScreenElement||O.webkitFullscreenElement||O.msFullscreenElement)t&&S("FULLSCREENOFF"),O.exitFullscreen?O.exitFullscreen():O.msExitFullscreen?O.msExitFullscreen():O.mozCancelFullScreen?O.mozCancelFullScreen():O.webkitExitFullscreen&&O.webkitExitFullscreen();else{if(!e)return;t&&S("FULLSCREENON"),e.requestFullscreen?e.requestFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):e.webkitEnterFullscreen&&e.webkitEnterFullscreen()}}function S(e){i.options.track&&"function"==typeof i.options.track?V.call(i.options.track,[e,i.id]):V.w["pmData"+i.options.pmord]?V.track(V.w["pmData"+i.options.pmord],e,i.id):V.log("Event ready %s for %s",e,i.id)}function T(e){"html5"===P?(M.play(),"undefined"==typeof e||isNaN(parseInt(e,10))||(M.currentTime=e)):"flash"===P?(clearInterval(M.playInterval),M.ready?M.play(e):M.playInterval=setInterval(function(){M.ready&&(clearInterval(M.playInterval),M.play(e))},20)):"canvas"===P&&("undefined"==typeof e||isNaN(parseInt(e,10))||A(e),D.getAttribute("data-fullscreened",!1)||D.setAttribute("data-paused",!1))}function C(){return"html5"===P?(M.pause(),M.currentTime):"flash"===P?(clearInterval(M.playInterval),M.pause()):void("canvas"===P&&D.setAttribute("data-paused",!0))}function _(e){if("html5"===P){if(e)return M.volume=0,void(ne=!0);clearInterval(Y),Y=setInterval(function(){M.volume=parseInt(10*(M.volume-.1<0?0:M.volume-.1),10)/10,M.volume<=0&&(M.volume=0,ne=!0,clearInterval(Y))},25)}else if("flash"===P)M.mute(e),ne=!0;else if("canvas"===P)return;K&&y(!1)}function I(){if("html5"===P)clearInterval(Y),Y=setInterval(function(){var e=M.volume+.1;e=e>1?1:e,M.volume=e,M.volume>=i.options.maxVol&&(M.volume=i.options.maxVol,ne=!1,clearInterval(Y))},50);else if("flash"===P)M.unmute(),ne=!1;else if("canvas"===P)return;K&&y(!0)}function L(){return"html5"===P?M.currentTime:"flash"===P?M.getTime():"canvas"===P?D.getAttribute("data-time"):void 0}function R(){return"canvas"===P?"false"===D.getAttribute("data-paused"):!M.paused}function A(e){"html5"===P?M.currentTime=e:"flash"===P?M.seek(e):"canvas"===P&&D.setAttribute("data-time",e)}if(!e.piximedia.SweetLib||!t)return!1;var N,P,U,M,D,z={files:"",baseUrl:"",width:300,height:250,unit:"px",id:"VIDEO",options:{forceCss:!1,icon_file:!1,autoplay:!1,controls:!0,soundbutton:!0,rollover:!0,muted:!0,maxVol:1,nofullscreen:!1,loop:!0,packshotTime:!1,smartEnd:!0,resizeMode:"letterbox",hidecontrols:!1,threshold:0,onend:function(){},onclick:function(){},onerror:function(){},track:!1,pmord:!1,framerate:15}},V=e.piximedia.SweetLib,q=V.log,B=V.warn,W=V.print,O=V.getDocument(t),j=V.getWindow(O),H=(new Date).getTime(),Y=null,K=!1,Z=!1,G=!1,J=!1,Q=!1,X=!1,$=!1,ee=!1,te=E()&&!i.options.nofullscreen,ie=function(e){return O.createElement(e)},oe=!1,ae=!1,ne=!0,se="#04B2F6",le="//broadcast.pm/",re=le+"assets/video/",pe=re+"videoFramework.swf",de="video_icon.v2.png",ue=[{threshold:0,name:"LECTUREDEBUT"},{threshold:24,name:"LECTURE25"},{threshold:49,name:"LECTURE50"},{threshold:74,name:"LECTURE75"},{threshold:99,name:"LECTURE100"},{threshold:1,wv:!0,name:"LECTUREDEBUT_WV"},{threshold:24,wv:!0,name:"LECTURE25_WV"},{threshold:49,wv:!0,name:"LECTURE50_WV"},{threshold:74,wv:!0,name:"LECTURE75_WV"},{threshold:99,wv:!0,name:"LECTURE100_WV"}],ce=0,he=!1,me=V.canPlayHTML5Video(i.files),ve=V.canPlayFlashVideo(i.files),fe=!1,ye=!1,be=.3;if(this.play=function(e){M.hasBeenPaused=!1,T(e)},this.pause=function(){M.hasBeenPaused=!0,C(!0)},this.seek=A,this.mute=_,this.unmute=I,this.getTime=L,this.isPlaying=R,this.data=i,this.forceError=a,this.toggleFullScreen=function(){k("desktop"===V.device.name?U:M,!0),"canvas"===P?(D.setAttribute("data-paused",!0),D.setAttribute("data-fullscreened",!0),M.play(),M.addEventListener("webkitendfullscreen",function(){D.setAttribute("data-fullscreened",!1),D.setAttribute("data-paused",!1),D.setAttribute("data-time",M.currentTime)})):T(),I()},q("New video, file : %s, wrapper : ",i.files),q(t),V.extend(i,{options:e.piximedia.videoOptions||{}}),V.extend(i,z),i.id=i.id.toString().replace(/\s/g,"").replace(/[^a-zA-Z0-9_]/g,""),q("Options : "),q(i),i.options.forceCss&&(he=!1),i.options.icon_file&&(de=i.options.icon_file),"ios"===V.device.os&&(i.options.soundbutton=!1),i.packshot&&0===i.packshot.duration&&(i.options.loop=!1),me||ve){o(),me?(N=V.returnAbsolute(me,i.baseUrl),P="html5",n()):(N=V.returnAbsolute(ve,i.baseUrl),P="flash",u());var xe=V.getFileName(N);if(e.piximedia.videoFiles||(e.piximedia.videoFiles={}),e.piximedia.videoFiles[xe]&&e.piximedia.videoFiles[xe].id!==i.id?(ye=!0,e.piximedia.videoFiles[xe].slaves||(e.piximedia.videoFiles[xe].slaves=[]),e.piximedia.videoFiles[xe].slaves.push(this),e.piximedia.videoFiles[xe].number_of_slaves++):(e.piximedia.videoFiles[xe]={time:0,playing:!1,insync:!1,number_of_slaves_waiting:0,number_of_slaves:0,video:M,masterPlaying:R,id:i.id},fe=!0),fe)setInterval(function(){e.piximedia.videoFiles[xe].time=L(),e.piximedia.videoFiles[xe].playing=R()},100);else{var ge=function(){var t=Math.abs(e.piximedia.videoFiles[xe].time-L());if(R()&&e.piximedia.videoFiles[xe].masterPlaying()&&t>be){if(!e.piximedia.videoFiles[xe].insync){e.piximedia.videoFiles[xe].insync=!0,W("Slave out of sync, delta",t),W("Slaves global sync : ",function(){for(var t=[],i=0;i<e.piximedia.videoFiles[xe].slaves.length;i++){var o=e.piximedia.videoFiles[xe].slaves[i];o!==M&&t.push(Math.abs(e.piximedia.videoFiles[xe].time-o.getTime()))}return t.join(", ")}());for(var i=function(){if(e.piximedia.videoFiles[xe].number_of_slaves_waiting--,W("Slave back in sync",e.piximedia.videoFiles[xe].number_of_slaves_waiting,"left"),e.piximedia.videoFiles[xe].number_of_slaves_waiting<=0){e.piximedia.videoFiles[xe].number_of_slaves_waiting=0,e.piximedia.videoFiles[xe].video.play();for(var t=0;t<e.piximedia.videoFiles[xe].slaves.length;t++){var o=e.piximedia.videoFiles[xe].slaves[t];o.wasPlaying&&(o.wasPlaying=!1,o.play(),o.object.removeEventListener("canplay",i))}}},o=0;o<e.piximedia.videoFiles[xe].slaves.length;o++){var a=e.piximedia.videoFiles[xe].slaves[o];a.isPlaying()||a.wasPlaying?(a.wasPlaying=!0,Math.abs(e.piximedia.videoFiles[xe].time-a.getTime())>be?(e.piximedia.videoFiles[xe].number_of_slaves_waiting++,a.seek(e.piximedia.videoFiles[xe].time),a.object.addEventListener("canplay",i)):a.pause()):a.wasPlaying=!1}W("Total out of sync slaves",e.piximedia.videoFiles[xe].number_of_slaves_waiting),e.piximedia.videoFiles[xe].number_of_slaves_waiting>0&&e.piximedia.videoFiles[xe].video.pause()}}else e.piximedia.videoFiles[xe].insync=!1};setInterval(ge,500),ge()}if(i.options.blur)if(V.canUseCSS3()){var we="number"==typeof i.options.blur?i.options.blur:3;V.applyStyle(M,{"-webkit-filter":"blur("+we+"px)","-moz-filter":"blur("+we+"px)","-o-filter":"blur("+we+"px)","-ms-filter":"blur("+we+"px)",filter:"blur("+we+"px)"})}else{var Fe=ie("div");Fe.className="pm-video-blur-wrapper",V.applyStyle(Fe,{position:"absolute",width:i.width+i.unit,height:i.height+i.unit,display:"block",left:"0",top:"0",background:"url("+re+"blur.png) 0 0 / 100% 100% no-repeat transparent"}),U.appendChild(Fe)}if(this.object=M,this.wrapper=U,X=ie("div"),X.className="pm-video-clicktag",V.applyStyle(X,{width:"100%",height:"100%",position:"absolute",top:"0",left:"0",cursor:"pointer",display:"block",background:"url("+re+"pixel.gif) 0 0 no-repeat transparent"}),V.addEvent(X,"click",function(){q("Click on video"),_(!0),V.call(i.options.onclick)}),"desktop"!==V.device.name&&(i.options.controls=!1,i.options.soundbutton=!1,i.options.autoplay))if("ios"===V.device.os&&V.device.version>8)q("We're on mobile, resorting to canvas"),P="canvas",M.style.display="none",U.appendChild(M),s();else{var Ee=function(){M.play(),V.removeEvent(V.w,"touchstart",Ee)};V.addEvent(V.w,"touchstart",Ee)}V.mouseenter(X,function(){i.options.rollover&&!oe&&R()&&i.options.muted&&I()}),V.mouseleave(X,function(){i.options.rollover&&!oe&&R()&&i.options.muted&&_()}),U.appendChild(X),i.options.layer&&i.options.layer.file&&r(),i.options.controls?x():i.options.soundbutton&&f(),U.className+=" pm-video-"+P;var ke,Se;i.currentTimeWv=0,0===i.options.threshold&&(ke=setInterval(function(){Se&&R()&&i.currentTimeWv++},1e3)),V.bindVisibilityTracker({object:this.wrapper,threshold:0===i.options.threshold?60:i.options.threshold},function(e){Se=e,i.options.threshold>0?e?i.options.autoplay&&!ae&&T():C():i.options.autoplay&&!M.hasBeenPaused&&e&&T()}),i.options.autoplay&&T()}else B("Sorry, can't play any of this"),this.play=function(){},this.pause=function(){},this.stop=function(){},this.mute=function(){},this.unmute=function(){},this.getTime=function(){},this.isPlaying=function(){},this.forceError=function(){},this.data={error:"Can't play this video"},V.call(i.options.onerror)}if(e.piximedia){try{parent.piximedia||(parent.piximedia=e.piximedia)}catch(i){}window.piximedia.SweetLib&&window.piximedia.SweetLib.log("Piximedia 2014 - Video framework loaded")}else try{e.piximedia=parent.piximedia||{}}catch(i){e.piximedia={}}e.piximedia.Video=t,e.piximedia.libraryLoader&&e.piximedia.libraryLoader["video.js"]&&(e.piximedia.libraryLoader["video.js"].complete=!0)}(window),function(){var e=window,t="video.js";e.piximedia.libraryLoader=e.piximedia.libraryLoader||{};var i=e.piximedia.libraryLoader[t];i&&(i.complete=!0)}();