__d("widget.site.siteResource",["common.js.format","common.js.animation"],function(x,w,r,c){var i=c("common.js.format"),o=c("common.js.animation"),k={addResource:function(d,a,b,e){var g=$(this).parent(),d=k.createDom(d,a,b),a=k.createTip();g.append(d).append(a);var b=a[0],y="-3 -4,-28 -4,-53 -4,-78 -4,-103 -4,-128 -4,-153 -4,-178 -4,-203 -4,-228 -4,-253 -4,-328 -4,-353 -4,-403 -4,-353 -4,-328 -4,-253 -4,-228 -4,-203 -4,-178 -4,-153 -4,-128 -4,-103 -4,-78 -4,-53 -4,-28 -4,-3 -4".split(","),m="-5 -5,-30 -5,-55 -5,-80 -5,-105 -5,-130 -5,-155 -5,-180 -5,-205 -5,-230 -5,-255 -5,-330 -5,-255 -5,-230 -5,-205 -5,-180 -5,-155 -5,-130 -5,-105 -5,-80 -5,-55 -5,-30 -5,-5 -5".split(",");
"wide"==e?o().changePosition(b,y).start(100):"narrow"==e&&o().changePosition(b,m).start(100);k.bindEvents(d,a,g)},bindEvents:function(d,a,b){$('[data-hook="siteresource-link"]',d);var e="",e=d.hasClass("resource-container-right")?"resourcelink-bg":"resourcelink-bg-left";b.mouseleave(function(){$(this).hasClass(e)&&(d.hide(),$(this).removeClass(e),a.show())});a.mouseover(function(){d.show();b.addClass(e);$(this).hide()})},createTip:function(){return $('<div data-hook="siteresource-tip" class="g-ib siteresource-tip"></div>')},
createDom:function(d,a,b){var e=document.createElement("div"),g,y,m="resource-container ",c=Math.floor(a/6);if(d.mzzyw){0==(a+1)%6&&(m=m+"resource-container-right "+("resource-container-right"+c+" "));m+="resource-container-r"+c+" ";for(a=1;a<=d.mzzyw;a++)g="mzzywtitle"+a,y="mzzywurl"+a,g=i('<a hidefocus="true" data-hook="siteresource-link" href="#{url}" title="#{title}" class="siteresource-link">#{title}</a>',{url:d[y],title:d[g]}),y=$(g),g=1==a?"siteresource-firstlink siteresource-link1":a==d.mzzyw?
"siteresource-lastlink siteresource-link3":"siteresource-link2","mz"==b&&c+1==a&&(g+=" siteresource-curlink"),y.addClass(g),$(e).append(y).addClass(m).attr("monkey","siteresource_container");return $(e)}}};return r={add:k.addResource}});
__d("widget.coolsite.coolsiteresource",["common.js.format"],function(x,w,r,c){var i=c("common.js.format"),o={addResource:function(c){var d=$(this).parent(),c=o.createDom(c),a=o.createTip();d.append(c).append(a).css("position","relative");o.bindEvents(c,a,d)},bindEvents:function(c,d,a){a.hover(function(){$(this).parent().addClass("coolsiteResource-hover");$(this).addClass("coolsiteResource-hover");c.show()},function(){$(this).parent().removeClass("coolsiteResource-hover");$(this).removeClass("coolsiteResource-hover");
c.hide()})},createTip:function(){return $('<div data-hook="siteresource-tip" class="g-ib coolsiteresource-tip"></div>')},createDom:function(c){var d=document.createElement("div");if("0"!=c.kzzyw){var a=i('<a hidefocus="true" data-hook="siteresource-link" href="#{url}" alog-text="#{title}" class="coolsiteresource-link"><span class="coolsiteresource-title">#{title}</span><img class="coolsiteresource-img" src="#{imgurl}" /></a>',{url:c.kzzywurl,title:c.kzzywtitle,imgurl:HAO.httpsTrans(c.kzzywimg)}),
a=$(a);""==c.kzzywtitle&&(a.attr("alog-text","coolsiteresource-title"),$(".coolsiteresource-title",a).hide(),$(".coolsiteresource-img",a).addClass("coolsiteresource-lgimg"));$(d).append(a).addClass("coolsiteresource_container").attr("monkey","coolsiteresource_container");return $(d)}}};return r={add:o.addResource}});
__d("common.js.tabs",[],function(x,w,r){(function(c){var i=0,o=0;c.widget("ui.tabs",{options:{add:null,ajaxOptions:null,cache:!1,cookie:null,collapsible:!1,disable:null,disabled:[],enable:null,event:"click",fx:null,idPrefix:"ui-tabs-",load:null,panelTemplate:"<div></div>",remove:null,select:null,show:null,spinner:"<em>Loading&#8230;</em>",tabTemplate:'<li><a href="#{href}"><span>#{label}</span></a></li>'},_create:function(){this._tabify(!0)},_setOption:function(c,d){"selected"==c?this.options.collapsible&&
d==this.options.selected||this.select(d):(this.options[c]=d,this._tabify())},_tabId:function(c){return c.title&&c.title.replace(/\s/g,"_").replace(/[^A-Za-z0-9\-_:\.]/g,"")||this.options.idPrefix+ ++i},_sanitizeSelector:function(c){return c.replace(/:/g,"\\:")},_cookie:function(){var k=this.cookie||(this.cookie=this.options.cookie.name||"ui-tabs-"+ ++o);return c.cookie.apply(null,[k].concat(c.makeArray(arguments)))},_ui:function(c,d){return{tab:c,panel:d,index:this.anchors.index(c)}},_cleanup:function(){this.lis.filter(".ui-state-processing").removeClass("ui-state-processing").find("span:data(label.tabs)").each(function(){var k=
c(this);k.html(k.data("label.tabs")).removeData("label.tabs")})},_tabify:function(k){function d(a,j){a.css({display:""});!c.support.opacity&&j.opacity&&a[0].style.removeAttribute("filter")}this.list=this.element.find("ol,ul").eq(0);this.lis=c("li:has(a[href])",this.list);this.anchors=this.lis.map(function(){return c("a",this)[0]});this.panels=c([]);var a=this,b=this.options,e=/^#.+/;this.anchors.each(function(g,j){var f=c(j).attr("href"),z=f.split("#")[0],h;if(z&&(z===location.toString().split("#")[0]||
(h=c("base")[0])&&z===h.href))f=j.hash,j.href=f;e.test(f)?a.panels=a.panels.add(a._sanitizeSelector(f)):"#"!=f?(c.data(j,"href.tabs",f),c.data(j,"load.tabs",f.replace(/#.*$/,"")),f=a._tabId(j),j.href="#"+f,z=c("#"+f),z.length||(z=c(b.panelTemplate).attr("id",f).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").insertAfter(a.panels[g-1]||a.list),z.data("destroy.tabs",!0)),a.panels=a.panels.add(z)):b.disabled.push(g)});k?(this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all"),
this.list.addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"),this.lis.addClass("ui-state-default ui-corner-top"),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom"),void 0===b.selected?(location.hash&&this.anchors.each(function(a,j){if(j.hash==location.hash)return b.selected=a,!1}),"number"!=typeof b.selected&&b.cookie&&(b.selected=parseInt(a._cookie(),10)),"number"!=typeof b.selected&&this.lis.filter(".ui-tabs-selected").length&&(b.selected=
this.lis.index(this.lis.filter(".ui-tabs-selected"))),b.selected=b.selected||(this.lis.length?0:-1)):null===b.selected&&(b.selected=-1),b.selected=0<=b.selected&&this.anchors[b.selected]||0>b.selected?b.selected:0,b.disabled=c.unique(b.disabled.concat(c.map(this.lis.filter(".ui-state-disabled"),function(g){return a.lis.index(g)}))).sort(),-1!=c.inArray(b.selected,b.disabled)&&b.disabled.splice(c.inArray(b.selected,b.disabled),1),this.panels.addClass("ui-tabs-hide"),this.lis.removeClass("ui-tabs-selected ui-state-active"),
0<=b.selected&&this.anchors.length&&(this.panels.eq(b.selected).removeClass("ui-tabs-hide"),this.lis.eq(b.selected).addClass("ui-tabs-selected ui-state-active"),a.element.queue("tabs",function(){a._trigger("show",null,a._ui(a.anchors[b.selected],a.panels[b.selected]))}),this.load(b.selected)),c(window).bind("unload",function(){a.lis.add(a.anchors).unbind(".tabs");a.lis=a.anchors=a.panels=null})):b.selected=this.lis.index(this.lis.filter(".ui-tabs-selected"));this.element[b.collapsible?"addClass":
"removeClass"]("ui-tabs-collapsible");b.cookie&&this._cookie(b.selected,b.cookie);for(var k=0,g;g=this.lis[k];k++)c(g)[-1!=c.inArray(k,b.disabled)&&!c(g).hasClass("ui-tabs-selected")?"addClass":"removeClass"]("ui-state-disabled");!1===b.cache&&this.anchors.removeData("cache.tabs");this.lis.add(this.anchors).unbind(".tabs");if("mouseover"!=b.event){var y=function(a,j){j.is(":not(.ui-state-disabled)")&&j.addClass("ui-state-"+a)};this.lis.bind("mouseover.tabs",function(){y("hover",c(this))});this.lis.bind("mouseout.tabs",
function(){c(this).removeClass("ui-state-hover")});this.anchors.bind("focus.tabs",function(){y("focus",c(this).closest("li"))});this.anchors.bind("blur.tabs",function(){c(this).closest("li").removeClass("ui-state-focus")})}var m,s;b.fx&&(c.isArray(b.fx)?(m=b.fx[0],s=b.fx[1]):m=s=b.fx);var l=s?function(g,j){c(g).closest("li").addClass("ui-tabs-selected ui-state-active");j.hide().removeClass("ui-tabs-hide").animate(s,s.duration||"normal",function(){d(j,s);a._trigger("show",null,a._ui(g,j[0]))})}:function(g,
j){c(g).closest("li").addClass("ui-tabs-selected ui-state-active");j.removeClass("ui-tabs-hide");a._trigger("show",null,a._ui(g,j[0]))},p=m?function(g,j){j.animate(m,m.duration||"normal",function(){a.lis.removeClass("ui-tabs-selected ui-state-active");j.addClass("ui-tabs-hide");d(j,m);a.element.dequeue("tabs")})}:function(g,j){a.lis.removeClass("ui-tabs-selected ui-state-active");j.addClass("ui-tabs-hide");a.element.dequeue("tabs")};this.anchors.bind(b.event+".tabs",function(){var g=this,j=c(this).closest("li"),
f=a.panels.filter(":not(.ui-tabs-hide)"),z=c(a._sanitizeSelector(this.hash));if(j.hasClass("ui-tabs-selected")&&!b.collapsible||j.hasClass("ui-state-disabled")||j.hasClass("ui-state-processing")||!1===a._trigger("select",null,a._ui(this,z[0])))return this.blur(),!1;b.selected=a.anchors.index(this);a.abort();if(b.collapsible){if(j.hasClass("ui-tabs-selected"))return b.selected=-1,b.cookie&&a._cookie(b.selected,b.cookie),a.element.queue("tabs",function(){p(g,f)}).dequeue("tabs"),this.blur(),!1;if(!f.length)return b.cookie&&
a._cookie(b.selected,b.cookie),a.element.queue("tabs",function(){l(g,z)}),a.load(a.anchors.index(this)),this.blur(),!1}b.cookie&&a._cookie(b.selected,b.cookie);if(z.length)f.length&&a.element.queue("tabs",function(){p(g,f)}),a.element.queue("tabs",function(){l(g,z)}),a.load(a.anchors.index(this));else throw"jQuery UI Tabs: Mismatching fragment identifier.";c.browser.msie&&this.blur()});this.anchors.bind("click.tabs",function(){return!1})},destroy:function(){var k=this.options;this.abort();this.element.unbind(".tabs").removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible").removeData("tabs");
this.list.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all");this.anchors.each(function(){var d=c.data(this,"href.tabs");d&&(this.href=d);var a=c(this).unbind(".tabs");c.each(["href","load","cache"],function(d,e){a.removeData(e+".tabs")})});this.lis.unbind(".tabs").add(this.panels).each(function(){c.data(this,"destroy.tabs")?c(this).remove():c(this).removeClass("ui-state-default ui-corner-top ui-tabs-selected ui-state-active ui-state-hover ui-state-focus ui-state-disabled ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide")});
k.cookie&&this._cookie(null,k.cookie);return this},add:function(k,d,a){void 0===a&&(a=this.anchors.length);var b=this,e=this.options,d=c(e.tabTemplate.replace(/#\{href\}/g,k).replace(/#\{label\}/g,d)),k=!k.indexOf("#")?k.replace("#",""):this._tabId(c("a",d)[0]);d.addClass("ui-state-default ui-corner-top").data("destroy.tabs",!0);var g=c("#"+k);g.length||(g=c(e.panelTemplate).attr("id",k).data("destroy.tabs",!0));g.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide");a>=this.lis.length?
(d.appendTo(this.list),g.appendTo(this.list[0].parentNode)):(d.insertBefore(this.lis[a]),g.insertBefore(this.panels[a]));e.disabled=c.map(e.disabled,function(g){return g>=a?++g:g});this._tabify();1==this.anchors.length&&(e.selected=0,d.addClass("ui-tabs-selected ui-state-active"),g.removeClass("ui-tabs-hide"),this.element.queue("tabs",function(){b._trigger("show",null,b._ui(b.anchors[0],b.panels[0]))}),this.load(0));this._trigger("add",null,this._ui(this.anchors[a],this.panels[a]));return this},remove:function(k){var d=
this.options,a=this.lis.eq(k).remove(),b=this.panels.eq(k).remove();a.hasClass("ui-tabs-selected")&&1<this.anchors.length&&this.select(k+(k+1<this.anchors.length?1:-1));d.disabled=c.map(c.grep(d.disabled,function(a){return a!=k}),function(a){return a>=k?--a:a});this._tabify();this._trigger("remove",null,this._ui(a.find("a")[0],b[0]));return this},enable:function(k){var d=this.options;if(-1!=c.inArray(k,d.disabled))return this.lis.eq(k).removeClass("ui-state-disabled"),d.disabled=c.grep(d.disabled,
function(a){return a!=k}),this._trigger("enable",null,this._ui(this.anchors[k],this.panels[k])),this},disable:function(c){var d=this.options;c!=d.selected&&(this.lis.eq(c).addClass("ui-state-disabled"),d.disabled.push(c),d.disabled.sort(),this._trigger("disable",null,this._ui(this.anchors[c],this.panels[c])));return this},select:function(c){"string"==typeof c?c=this.anchors.index(this.anchors.filter("[href$="+c+"]")):null===c&&(c=-1);-1==c&&this.options.collapsible&&(c=this.options.selected);this.anchors.eq(c).trigger(this.options.event+
".tabs");return this},load:function(i){var d=this,a=this.options,b=this.anchors.eq(i)[0],e=c.data(b,"load.tabs");this.abort();if(!e||0!==this.element.queue("tabs").length&&c.data(b,"cache.tabs"))this.element.dequeue("tabs");else{this.lis.eq(i).addClass("ui-state-processing");if(a.spinner){var g=c("span",b);g.data("label.tabs",g.html()).html(a.spinner)}this.xhr=c.ajax(c.extend({},a.ajaxOptions,{url:e,success:function(g,e){c(d._sanitizeSelector(b.hash)).html(g);d._cleanup();a.cache&&c.data(b,"cache.tabs",
!0);d._trigger("load",null,d._ui(d.anchors[i],d.panels[i]));try{a.ajaxOptions.success(g,e)}catch(s){}},error:function(g,e){d._cleanup();d._trigger("load",null,d._ui(d.anchors[i],d.panels[i]));try{a.ajaxOptions.error(g,e,i,b)}catch(c){}}}));d.element.dequeue("tabs");return this}},abort:function(){this.element.queue([]);this.panels.stop(!1,!0);this.element.queue("tabs",this.element.queue("tabs").splice(-2,2));this.xhr&&(this.xhr.abort(),delete this.xhr);this._cleanup();return this},url:function(c,d){this.anchors.eq(c).removeData("cache.tabs").data("load.tabs",
d);return this},length:function(){return this.anchors.length}});c.extend(c.ui.tabs,{version:"1.8.2"});c.extend(c.ui.tabs.prototype,{rotation:null,rotate:function(c,d){var a=this,b=this.options,e=a._rotate||(a._rotate=function(g){clearTimeout(a.rotation);a.rotation=setTimeout(function(){var g=b.selected;a.select(++g<a.anchors.length?g:0)},c);g&&g.stopPropagation()}),g=a._unrotate||(a._unrotate=!d?function(g){g.clientX&&a.rotate(null)}:function(){t=b.selected;e()});c?(this.element.bind("tabsshow",e),
this.anchors.bind(b.event+".tabs",g),e()):(clearTimeout(a.rotation),this.element.unbind("tabsshow",e),this.anchors.unbind(b.event+".tabs",g),delete this._rotate,delete this._unrotate);return this}})})(jQuery);return r});
__d("common.js.autoheight-server",[],function(x,w,r){window._refreshFrameStatus=function(){var c=$("iframe[action=logInFrame]"),i;1>c.length?(c=$("#main_frame"),i=c.src,c.src="about:blank",setTimeout(function(){c.src=i},100)):$.each(c,function(i){(function(c,d){c.attr("src","about:blank");setTimeout(function(){c.attr("src",d)},100)})(c.eq(i),c.eq(i).attr("src"))})};(function(c){var i={},o=null,k=window.autoheight=window.autoheight||{},d,a=/\&/g,b=/=/g;k.listen=function(a,e){e||(e=a);a&&(i[a]=e,window.iframe_listened=
e)};k.callback=function(a){o=a};var e=function(g){for(var e=g.data.toString().split(a),m,s,l,p,n,j,f=!1,z=!1,g=!1,h,v,q=0;q<e.length;q++){var B=e[q].split(b),A=B[0];if(B=B[1])switch(A){case "width":s=B;break;case "height":l=B;break;case "id":m=B;break;case "top":f=!0;h=B;break;case "left":f=!0;v=B;break;case "view":z=!0;n=B;break;case "usrcallback":g=!0;j=B;break;case "IFRAM_DATA":window.IFRAM_DATA=B}}1==e.length&&!l&&!isNaN(parseInt(e[0],10))&&(l=parseInt(e[0],10));if(i[m]&&(p=c.document.getElementById(i[m]))){s&&
(p.style.width=s+"px");l&&(p.style.height=l+"px");f&&scrollTo(v,h);if(z&&n){m=c.document.getElementById(n);if(!m)return;scrollTo(0,m.offsetTop)}g&&j&&("alert"==j.split("|")[0]&&alert(j.split("|")[1]),"showLogin"==j.split("|")[0]&&showLogin(),"commentcount"==j.split("|")[0]&&addCommentCount(parseInt(j.split("|")[1],10)));d!==l&&o&&"function"==typeof o&&(o(),d=l)}};c.postMessage&&(c.addEventListener?c.addEventListener("message",e,!1):c.attachEvent?c.attachEvent("onmessage",function(){e.call(c,window.event)}):
c.onmessage=function(){e.call(c,window.event)});k.raise=e;c.onloginsuccess=function(){c._refreshFrameStatus.call(c,window.event)}})(window);return r});
__d("common.js.autosize",[],function(x,w,r){!function(c){var i,o={className:"autosizejs",id:"autosizejs",append:"\n",callback:!1,resizeDelay:10,placeholder:!0},k="fontFamily,fontSize,fontWeight,fontStyle,letterSpacing,textTransform,wordSpacing,textIndent,whiteSpace".split(","),d=c('<textarea tabindex="-1" style="position:absolute; top:-999px; left:0; right:auto; bottom:auto; border:0; padding: 0; -moz-box-sizing:content-box; -webkit-box-sizing:content-box; box-sizing:content-box; word-wrap:break-word; height:0 !important; min-height:0 !important; overflow:hidden; transition:none; -webkit-transition:none; -moz-transition:none;"/>').data("autosize",!0)[0];
d.style.lineHeight="99px";"99px"===c(d).css("lineHeight")&&k.push("lineHeight");d.style.lineHeight="";c.fn.autosize=function(a){return this.length?(a=c.extend({},o,a||{}),d.parentNode!==document.body&&c(document.body).append(d),this.each(function(){function b(){var f,a=window.getComputedStyle?window.getComputedStyle(p,null):null;a?(f=parseFloat(a.width),("border-box"===a.boxSizing||"border-box"===a.webkitBoxSizing||"border-box"===a.mozBoxSizing)&&c.each(["paddingLeft","paddingRight","borderLeftWidth",
"borderRightWidth"],function(j,u){f-=parseFloat(a[u])})):f=n.width();d.style.width=Math.max(f,0)+"px"}function e(){var f={};if(i=p,d.className=a.className,d.id=a.id,m=parseFloat(n.css("maxHeight")),c.each(k,function(a,u){f[u]=n.css(u)}),c(d).css(f).attr("wrap",n.attr("wrap")),b(),window.chrome){var j=p.style.width;p.style.width="0px";p.offsetWidth;p.style.width=j}}function g(){var g,h;i!==p?e():b();d.value=!p.value&&a.placeholder?n.attr("placeholder")||"":p.value;d.value+=a.append||"";d.style.overflowY=
p.style.overflowY;h=parseFloat(p.style.height)||0;d.scrollTop=0;d.scrollTop=9E4;g=d.scrollTop;m&&g>m?(p.style.overflowY="scroll",g=m):(p.style.overflowY="hidden",s>g&&(g=s));g+=j;0.01<Math.abs(h-g)&&(p.style.height=g+"px",d.className=d.className,f&&a.callback.call(p,p),n.trigger("autosize.resized"))}function y(){clearTimeout(l);l=setTimeout(function(){var f=n.width();f!==h&&(h=f,g())},parseInt(a.resizeDelay,10))}var m,s,l,p=this,n=c(p),j=0,f=c.isFunction(a.callback),z={height:p.style.height,overflow:p.style.overflow,
overflowY:p.style.overflowY,wordWrap:p.style.wordWrap,resize:p.style.resize},h=n.width(),v=n.css("resize");n.data("autosize")||(n.data("autosize",!0),("border-box"===n.css("box-sizing")||"border-box"===n.css("-moz-box-sizing")||"border-box"===n.css("-webkit-box-sizing"))&&(j=n.outerHeight()-n.height()),s=Math.max(parseFloat(n.css("minHeight"))-j||0,n.height()),n.css({overflow:"hidden",overflowY:"hidden",wordWrap:"break-word"}),"vertical"===v?n.css("resize","none"):"both"===v&&n.css("resize","horizontal"),
"onpropertychange"in p?"oninput"in p?n.on("input.autosize keyup.autosize",g):n.on("propertychange.autosize",function(){"value"===event.propertyName&&g()}):n.on("input.autosize",g),!1!==a.resizeDelay&&c(window).on("resize.autosize",y),n.on("autosize.resize",g),n.on("autosize.resizeIncludeStyle",function(){i=null;g()}),n.on("autosize.destroy",function(){i=null;clearTimeout(l);c(window).off("resize",y);n.off("autosize").off(".autosize").css(z).removeData("autosize")}),g())})):this}}(jQuery||$);return r=
{autosize:function(c){c.autosize()}}});
__d("common.js.detector",[],function(x,w,r){function c(f,a){for(var u=0,j=f.length;u<j&&!(!1===a.call(f,f[u],u));u++);}function i(f){if(!y.test(f))return null;var a,u,j;if(-1!==f.indexOf("trident/")&&(a=/\btrident\/([0-9.]+)/.exec(f))&&2<=a.length)u=a[1],j=a[1].split("."),j[0]=parseInt(j[0],10)+4,j=j.join(".");a=y.exec(f);f=a[1];a=a[1].split(".");"undefined"===typeof j&&(j=f);a[0]=parseInt(a[0],10)-4;a=a.join(".");"undefined"===typeof u&&(u=a);return{browserVersion:j,browserMode:f,engineVersion:u,
engineMode:a,compatible:u!==a}}function o(f){if(g)try{var a=g.twGetRunPath.toLowerCase(),u=g.twGetSecurityID(e),j=g.twGetVersion(u);if(a&&-1===a.indexOf(f))return!1;if(j)return{version:j}}catch(h){}}function k(f,a,u){a="[object Function]"===Object.prototype.toString.call(a)?a.call(null,u):a;if(!a)return null;var f={name:f,version:b,codename:""},j=Object.prototype.toString.call(a);if(!0===a)return f;if("[object String]"===j){if(-1!==u.indexOf(a))return f}else{if("[object Object]"===Object.prototype.toString.call(a))return a.hasOwnProperty("version")&&
(f.version=a.version),f;if(a.exec&&(u=a.exec(u)))return f.version=2<=u.length&&u[1]?u[1].replace(/_/g,"."):b,f}}function d(f,a,u,j){var g=h;c(a,function(a){if(a=k(a[0],a[1],f))return g=a,!1});u.call(j,g.name,g.version)}var a={},b="-1",e=window,g,y=/\b(?:msie |ie |trident\/[0-9].*rv[ :])([0-9.]+)/,m=/\bbb10\b.+?\bversion\/([\d.]+)/,s=/\bblackberry\b.+\bversion\/([\d.]+)/,l=/\bblackberry\d+\/([\d.]+)/,p=[["nokia",function(f){return-1!==f.indexOf("nokia ")?/\bnokia ([0-9]+)?/:/\bnokia([a-z0-9]+)?/}],
["samsung",function(f){return-1!==f.indexOf("samsung")?/\bsamsung(?:[ \-](?:sgh|gt|sm))?-([a-z0-9]+)/:/\b(?:sgh|sch|gt|sm)-([a-z0-9]+)/}],["wp",function(f){return-1!==f.indexOf("windows phone ")||-1!==f.indexOf("xblwp")||-1!==f.indexOf("zunewp")||-1!==f.indexOf("windows ce")}],["pc","windows"],["ipad","ipad"],["ipod","ipod"],["iphone",/\biphone\b|\biph(\d)/],["mac","macintosh"],["mi",/\bmi[ \-]?([a-z0-9 ]+(?= build|\)))/],["hongmi",/\bhm[ \-]?([a-z0-9]+)/],["aliyun",/\baliyunos\b(?:[\-](\d+))?/],
["meizu",function(f){return 0<=f.indexOf("meizu")?/\bmeizu[\/ ]([a-z0-9]+)\b/:/\bm([0-9cx]{1,4})\b/}],["nexus",/\bnexus ([0-9s.]+)/],["huawei",function(f){var a=/\bmediapad (.+?)(?= build\/huaweimediapad\b)/;return-1!==f.indexOf("huawei-huawei")?/\bhuawei\-huawei\-([a-z0-9\-]+)/:a.test(f)?a:/\bhuawei[ _\-]?([a-z0-9]+)/}],["lenovo",function(f){return-1!==f.indexOf("lenovo-lenovo")?/\blenovo\-lenovo[ \-]([a-z0-9]+)/:/\blenovo[ \-]?([a-z0-9]+)/}],["zte",function(f){return/\bzte\-[tu]/.test(f)?/\bzte-[tu][ _\-]?([a-su-z0-9\+]+)/:
/\bzte[ _\-]?([a-su-z0-9\+]+)/}],["vivo",/\bvivo(?: ([a-z0-9]+))?/],["htc",function(f){return/\bhtc[a-z0-9 _\-]+(?= build\b)/.test(f)?/\bhtc[ _\-]?([a-z0-9 ]+(?= build))/:/\bhtc[ _\-]?([a-z0-9 ]+)/}],["oppo",/\boppo[_]([a-z0-9]+)/],["konka",/\bkonka[_\-]([a-z0-9]+)/],["sonyericsson",/\bmt([a-z0-9]+)/],["coolpad",/\bcoolpad[_ ]?([a-z0-9]+)/],["lg",/\blg[\-]([a-z0-9]+)/],["android",/\bandroid\b|\badr\b/],["blackberry",function(f){return 0<=f.indexOf("blackberry")?/\bblackberry\s?(\d+)/:"bb10"}]],n=
[["wp",function(f){return-1!==f.indexOf("windows phone ")?/\bwindows phone (?:os )?([0-9.]+)/:-1!==f.indexOf("xblwp")?/\bxblwp([0-9.]+)/:-1!==f.indexOf("zunewp")?/\bzunewp([0-9.]+)/:"windows phone"}],["windows",/\bwindows nt ([0-9.]+)/],["macosx",/\bmac os x ([0-9._]+)/],["ios",function(f){return/\bcpu(?: iphone)? os /.test(f)?/\bcpu(?: iphone)? os ([0-9._]+)/:-1!==f.indexOf("iph os ")?/\biph os ([0-9_]+)/:/\bios\b/}],["yunos",/\baliyunos ([0-9.]+)/],["android",function(f){return 0<=f.indexOf("android")?
/\bandroid[ \/-]?([0-9.x]+)?/:0<=f.indexOf("adr")?0<=f.indexOf("mqqbrowser")?/\badr[ ]\(linux; u; ([0-9.]+)?/:/\badr(?:[ ]([0-9.]+))?/:"android"}],["chromeos",/\bcros i686 ([0-9.]+)/],["linux","linux"],["windowsce",/\bwindows ce(?: ([0-9.]+))?/],["symbian",/\bsymbian(?:os)?\/([0-9.]+)/],["blackberry",function(f){return(f=f.match(m)||f.match(s)||f.match(l))?{version:f[1]}:"blackberry"}]],j=[["edgehtml",/edge\/([0-9.]+)/],["trident",y],["blink",function(){return"chrome"in e&&"CSS"in e&&/\bapplewebkit[\/]?([0-9.+]+)/}],
["webkit",/\bapplewebkit[\/]?([0-9.+]+)/],["gecko",function(f){if(f=f.match(/\brv:([\d\w.]+).*\bgecko\/(\d+)/))return{version:f[1]+"."+f[2]}}],["presto",/\bpresto\/([0-9.]+)/],["androidwebkit",/\bandroidwebkit\/([0-9.]+)/],["coolpadwebkit",/\bcoolpadwebkit\/([0-9.]+)/],["u2",/\bu2\/([0-9.]+)/],["u3",/\bu3\/([0-9.]+)/]],f=[["edge",/edge\/([0-9.]+)/],["sogou",function(f){return 0<=f.indexOf("sogoumobilebrowser")?/sogoumobilebrowser\/([0-9.]+)/:0<=f.indexOf("sogoumse")?!0:/ se ([0-9.x]+)/}],["theworld",
function(){var f=o("theworld");return"undefined"!==typeof f?f:"theworld"}],["360",function(f){var a=o("360se");return"undefined"!==typeof a?a:-1!==f.indexOf("360 aphone browser")?/\b360 aphone browser \(([^\)]+)\)/:/\b360(?:se|ee|chrome|browser)\b/}],["maxthon",function(){try{if(g&&(g.mxVersion||g.max_version))return{version:g.mxVersion||g.max_version}}catch(f){}return/\b(?:maxthon|mxbrowser)(?:[ \/]([0-9.]+))?/}],["micromessenger",/\bmicromessenger\/([\d.]+)/],["qq",/\bm?qqbrowser\/([0-9.]+)/],["green",
"greenbrowser"],["tt",/\btencenttraveler ([0-9.]+)/],["liebao",function(f){if(0<=f.indexOf("liebaofast"))return/\bliebaofast\/([0-9.]+)/;if(-1===f.indexOf("lbbrowser"))return!1;var a;try{g&&g.LiebaoGetVersion&&(a=g.LiebaoGetVersion())}catch(u){}return{version:a||b}}],["tao",/\btaobrowser\/([0-9.]+)/],["coolnovo",/\bcoolnovo\/([0-9.]+)/],["saayaa","saayaa"],["baidu",/\b(?:ba?idubrowser|baiduhd)[ \/]([0-9.x]+)/],["ie",y],["mi",/\bmiuibrowser\/([0-9.]+)/],["opera",function(f){var a=/\bopera.+version\/([0-9.ab]+)/,
u=/\bopr\/([0-9.]+)/;return a.test(f)?a:u}],["oupeng",/\boupeng\/([0-9.]+)/],["yandex",/yabrowser\/([0-9.]+)/],["ali-ap",function(f){return 0<f.indexOf("aliapp")?/\baliapp\(ap\/([0-9.]+)\)/:/\balipayclient\/([0-9.]+)\b/}],["ali-ap-pd",/\baliapp\(ap-pd\/([0-9.]+)\)/],["ali-am",/\baliapp\(am\/([0-9.]+)\)/],["ali-tb",/\baliapp\(tb\/([0-9.]+)\)/],["ali-tb-pd",/\baliapp\(tb-pd\/([0-9.]+)\)/],["ali-tm",/\baliapp\(tm\/([0-9.]+)\)/],["ali-tm-pd",/\baliapp\(tm-pd\/([0-9.]+)\)/],["uc",function(f){return 0<=
f.indexOf("ucbrowser/")?/\bucbrowser\/([0-9.]+)/:0<=f.indexOf("ubrowser/")?/\bubrowser\/([0-9.]+)/:/\buc\/[0-9]/.test(f)?/\buc\/([0-9.]+)/:0<=f.indexOf("ucweb")?/\bucweb([0-9.]+)?/:/\b(?:ucbrowser|uc)\b/}],["chrome",/ (?:chrome|crios|crmo)\/([0-9.]+)/],["android",function(f){return-1===f.indexOf("android")?void 0:/\bversion\/([0-9.]+(?: beta)?)/}],["blackberry",function(f){return(f=f.match(m)||f.match(s)||f.match(l))?{version:f[1]}:"blackberry"}],["safari",/\bversion\/([0-9.]+(?: beta)?)(?: mobile(?:\/[a-z0-9]+)?)? safari\//],
["webview",/\bcpu(?: iphone)? os (?:[0-9._]+).+\bapplewebkit\b/],["firefox",/\bfirefox\/([0-9.ab]+)/],["nokia",/\bnokiabrowser\/([0-9.]+)/]],z=[["edge",/edge\/([0-9.]+)/],["baidu",/\b(?:ba?idubrowser|baiduhd)[ \/]([0-9.x]+)/],["ie",y],["chrome",/ (?:chrome|crios|crmo)\/([0-9.]+)/],["android",function(f){return-1===f.indexOf("android")?void 0:/\bversion\/([0-9.]+(?: beta)?)/}],["safari",/\bversion\/([0-9.]+(?: beta)?)(?: mobile(?:\/[a-z0-9]+)?)? safari\//],["webview",/\bcpu(?: iphone)? os (?:[0-9._]+).+\bapplewebkit\b/],
["firefox",/\bfirefox\/([0-9.ab]+)/]],h={name:"na",version:b},x=function(a){var a=(a||"").toLowerCase(),g={};d(a,p,function(f,a){var u=parseFloat(a);g.device={name:f,version:u,fullVersion:a};g.device[f]=u},g);d(a,n,function(f,a){var u=parseFloat(a);g.os={name:f,version:u,fullVersion:a};g.os[f]=u},g);var u=i(a);d(a,j,function(f,a){var j=a;u&&(a=u.engineVersion||u.engineMode,j=u.engineMode);var h=parseFloat(a);g.engine={name:f,version:h,fullVersion:a,mode:parseFloat(j),fullMode:j,compatible:u?u.compatible:
!1};g.engine[f]=h},g);d(a,f,function(f,a){var j=a;u&&("ie"===f&&(a=u.browserVersion),j=u.browserMode);var h=parseFloat(a);g.browser={name:f,version:h,fullVersion:a,mode:parseFloat(j),fullMode:j,compatible:u?u.compatible:!1};g.browser[f]=h},g);d(a,z,function(f,a){var j=a;u&&("ie"===f&&(a=u.browserVersion),j=u.browserMode);var h=parseFloat(a);g.myBrowser={name:f,version:h,fullVersion:a,mode:parseFloat(j),fullMode:j,compatible:u?u.compatible:!1};g.myBrowser[f]=h},g);return g};if("object"===typeof process&&
"[object process]"===process.toString()){var v=w.require("./morerule");[].unshift.apply(p,v.DEVICES||[]);[].unshift.apply(n,v.OS||[]);[].unshift.apply(f,v.BROWSER||[]);[].unshift.apply(j,v.ENGINE||[])}else{var a=navigator.userAgent||"",v=navigator.appVersion||"",q=navigator.vendor||"";g=e.external;a=x(a+" "+v+" "+q)}a.parse=x;w.exports=a;return r});
__d("common.js.player",[],function(x,w,r){(function(d,a){"undefined"===typeof d._mu&&(d._mu={});return"object"===typeof r?w.exports=a():"function"===typeof define&&define.amd?define("muplayer/core/cfg",a):d._mu.cfg=a()})(this,function(){return $.extend({namespace:this._mu,debug:!1,version:"0.9.2",timerResolution:25,cdn:"http://apps.bdimg.com/libs/muplayer/",engine:{TYPES:{FLASH_MP3:"FlashMP3Core",FLASH_MP4:"FlashMP4Core",AUDIO:"AudioCore"},EVENTS:{STATECHANGE:"engine:statechange",POSITIONCHANGE:"engine:postionchange",
PROGRESS:"engine:progress",ERROR:"engine:error",INIT:"engine:init",INIT_FAIL:"engine:init_fail"},STATES:{NOT_INIT:"not_init",PREBUFFER:"prebuffer",BUFFERING:"buffering",PLAYING:"playing",PAUSE:"pause",STOP:"stop",END:"ended"},ERRCODE:{MEDIA_ERR_ABORTED:"1",MEDIA_ERR_NETWORK:"2",MEDIA_ERR_DECODE:"3",MEDIA_ERR_SRC_NOT_SUPPORTED:"4"}}},"undefined"===typeof this._mu?{}:this._mu.cfg)});(function(d,a){return"object"===typeof r?w.exports=a():"function"===typeof define&&define.amd?define("muplayer/core/utils",
["muplayer/core/cfg"],a):d._mu.utils=a(d._mu.cfg)})(this,function(d){var a,b,e,g,c,m,s,l,p,n;s={};e=String.prototype;a=Number.prototype;b=Object.prototype;c=Array.prototype.push;g=b.hasOwnProperty;m=b.toString;n="Arguments,Function,String,Number,Date,RegExp".split(",");for(l=0,p=n.length;l<p;l++)b=n[l],s["is"+b]=function(a){return function(f){return m.call(f)==="[object "+a+"]"}}(b);$.isFunction(e.startsWith)||(e.startsWith=function(a){return this.slice(0,a.length)===a});$.isFunction(e.endsWith)||
(e.endsWith=function(a){return this.slice(-a.length)===a});a.toFixed=function(a){var f;f=Math.pow(10,a);f=(Math.round(this*f)/f).toString();if(0===a)return f;0>f.indexOf(".")&&(f+=".");for(a=a+1-(f.length-f.indexOf("."));a--;)f+="0";return f};$.extend(s,{isEmpty:function(a){var f,g,h;if(null==a)return!0;if($.isArray(a)||this.isString(a))return 0===a.length;for(g=0,h=a.length;g<h;g++)if(f=a[g],this.has(a,f))return!1;return!0},isBoolean:function(a){return!0===a||!1===a||"[object Boolean]"===m.call(a)},
has:function(a,f){return g.call(a,f)},random:function(a,f){f||(f=a,a=0);return a+Math.floor(Math.random()*(f-a+1))},shuffle:function(a){var f,g,h,e,d,b;f=0;e=[];for(d=0,b=a.length;d<b;d++)g=a[d],h=this.random(f++),e[f-1]=e[h],e[h]=g;return e},clone:function(a){$.isPlainObject(a)||a;return $.isArray(a)?a.slice():$.extend({},a)},time2str:function(a){var f,g,h,e;h=[];f=Math.floor;a=Math.round(a);g=f(a/3600);f=f((a-3600*g)/60);e=a%60;a=function(){return function(f,a){var g,u,h;g=u="";0>f&&(g="-");h=""+
Math.abs(f);h.length<a&&(u=Array(a-h.length+1).join("0"));return g+u+h}}(this);g&&h.push(g);h.push(a(f,2));h.push(a(e,2));return h.join(":")},namespace:function(){var a,f,g,h,e,b,c,A;a=arguments;for(b=0,c=a.length;b<c;b++)if(f=a[b],e=d.namespace,-1<f.indexOf(".")){f=f.split(".");for(A=[0,f.length],g=A[0],h=A[1];g<h;)e[f[g]]=e[f[g]]||{},e=e[f[g]],g++}else e[f]=e[f]||{},e=e[f];return e},wrap:function(a,f){return function(){var g;g=[a];c.apply(g,arguments);return f.apply(this,g)}},toAbsoluteUrl:function(a){var f;
f=document.createElement("div");f.innerHTML="<a></a>";f.firstChild.href=a;f.innerHTML=f.innerHTML;return f.firstChild.href}});return s});(function(d,a){"object"===typeof r?w.exports=a():"function"===typeof define&&define.amd?define("muplayer/lib/events",a):d._mu.Events=a()})(this,function(){function d(){}function a(a,e,d){if(a){var b=0,c=a.length,p=e[0],n=e[1],j=e[2],f=!0;switch(e.length){case 0:for(;b<c;b+=2)f=!1!==a[b].call(a[b+1]||d)&&f;break;case 1:for(;b<c;b+=2)f=!1!==a[b].call(a[b+1]||d,p)&&
f;break;case 2:for(;b<c;b+=2)f=!1!==a[b].call(a[b+1]||d,p,n)&&f;break;case 3:for(;b<c;b+=2)f=!1!==a[b].call(a[b+1]||d,p,n,j)&&f;break;default:for(;b<c;b+=2)f=!1!==a[b].apply(a[b+1]||d,e)&&f}}return f}var b=/\s+/;d.prototype.on=function(a,e,d){var c,l;if(!e)return this;c=this.__events||(this.__events={});for(a=a.split(b);l=a.shift();)l=c[l]||(c[l]=[]),l.push(e,d);return this};d.prototype.once=function(a,e,d){var b=this,c=function(){b.off(a,c);e.apply(this,arguments)};this.on(a,c,d)};d.prototype.off=
function(a,d,c){var i,l,p;if(!(i=this.__events))return this;if(!a&&!d&&!c)return delete this.__events,this;for(a=a?a.split(b):e(i);l=a.shift();)if(p=i[l])if(!d&&!c)delete i[l];else for(l=p.length-2;0<=l;l-=2)d&&p[l]!==d||c&&p[l+1]!==c||p.splice(l,2);return this};d.prototype.trigger=function(g){var e,d,c,i,p=[],n=!0;if(!(e=this.__events))return this;g=g.split(b);for(d=1,c=arguments.length;d<c;d++)p[d-1]=arguments[d];for(;d=g.shift();){if(c=e.all)c=c.slice();if(i=e[d])i=i.slice();n=a(i,p,this)&&n;n=
a(c,[d].concat(p),this)&&n}return n};d.prototype.emit=d.prototype.trigger;d.mixTo=function(a){var a="[object Function]"===Object.prototype.toString.call(a)?a.prototype:a,e=d.prototype,b;for(b in e)e.hasOwnProperty(b)&&(a[b]=e[b])};var e=Object.keys;e||(e=function(a){var e=[],d;for(d in a)a.hasOwnProperty(d)&&e.push(d);return e});return d});var c=[].indexOf||function(d){for(var a=0,b=this.length;a<b;a++)if(a in this&&this[a]===d)return a;return-1};(function(d,a){return"object"===typeof r?w.exports=
a():"function"===typeof define&&define.amd?define("muplayer/core/playlist",["muplayer/core/utils","muplayer/lib/events"],a):d._mu.Playlist=a(_mu.utils,_mu.Events)})(this,function(d,a){var b;b=function(){function a(g){this.opts=$.extend({},this.defaults,g);this.reset()}a.prototype.reset=function(){this.cur="";return $.isArray(this.list)?this.list.length=0:this.list=[]};a.prototype._resetListRandom=function(a){var e;if("list-random"===this.mode)return this._listRandomIndex=a=a||0,this._listRandom=d.shuffle(function(){e=
[];for(var a=0,g=this.list.length;0<=g?a<g:a>g;0<=g?a++:a--)e.push(a);return e}.apply(this)),this.cur=this.list[this._listRandom[a]]};a.prototype._formatSid=function(a){var e,b,c;e=this.opts.absoluteUrl;b=function(a){return e&&d.toAbsoluteUrl(a)||""+a};return $.isArray(a)&&function(){var e,d,i;i=[];for(e=0,d=a.length;e<d;e++)(c=a[e])&&i.push(b(c));return i}()||b(a)};a.prototype.setMode=function(a){if("single"===a||"random"===a||"list-random"===a||"list"===a||"loop"===a)this.mode=a;return this._resetListRandom()};
a.prototype.add=function(a){a=this._formatSid(a);this.remove(a);$.isArray(a)&&a.length?this.list=a.concat(this.list):a&&this.list.unshift(a);this.trigger("playlist:add",a);return this._resetListRandom()};a.prototype.remove=function(a){var e,d,b,c;d=function(a){return function(e){e=$.inArray(e,a.list);if(-1!==e)return a.list.splice(e,1)}}(this);a=this._formatSid(a);if($.isArray(a))for(b=0,c=a.length;b<c;b++)e=a[b],d(e);else d(a);this.trigger("playlist:remove",a);return this._resetListRandom()};a.prototype.prev=
function(){var a,e,b,c;b=this.list;a=$.inArray(this.cur,b);e=b.length;c=a-1;switch(this.mode){case "single":c=a;break;case "random":c=d.random(0,e-1);break;case "list-random":return a=this._listRandomIndex--,c=a-1,0===a&&(c=e-1,this._resetListRandom(c)),this.cur=b[this._listRandom[c]];case "loop":0===a&&(c=e-1)}return this.cur=b[c]};a.prototype.next=function(){var a,e,b,c;b=this.list;a=$.inArray(this.cur,b);e=b.length;c=a+1;switch(this.mode){case "single":c=a;break;case "random":c=d.random(0,e-1);
break;case "list":if(a===e-1)return this.cur=b[0],!1;break;case "list-random":return a=this._listRandomIndex++,c=a+1,a===e-1&&(c=0,this._resetListRandom(c)),this.cur=b[this._listRandom[c]];case "loop":a===e-1&&(c=0)}return this.cur=b[c]};a.prototype.setCur=function(a){a+="";0>c.call(this.list,a)&&this.add(a);return this.cur=""+a};return a}();a.mixTo(b);return b});c=[].indexOf||function(d){for(var a=0,b=this.length;a<b;a++)if(a in this&&this[a]===d)return a;return-1};(function(d,a){return"object"===
typeof r?w.exports=a():"function"===typeof define&&define.amd?define("muplayer/core/engines/engineCore",["muplayer/core/cfg","muplayer/core/utils","muplayer/lib/events"],a):d._mu.EngineCore=a(_mu.cfg,_mu.utils,_mu.Events)})(this,function(d,a,b){var e,g,i,m,k,l;l=d.engine;e=l.EVENTS;g=l.STATES;i=function(){var a;a=[];for(m in g)k=g[m],a.push(k);return a}();d=function(){function a(){}a.prototype._supportedTypes=[];a.prototype.getSupportedTypes=function(){return this._supportedTypes};a.prototype.canPlayType=
function(a){return-1!==$.inArray(a,this.getSupportedTypes())};a.prototype.reset=function(){this.stop();this.setUrl();return this.setState(g.NOT_INIT)};a.prototype.play=function(){return this};a.prototype.pause=function(){return this};a.prototype.stop=function(){return this};a.prototype.setUrl=function(a){null==a&&(a="");this._url=a;return this};a.prototype.getUrl=function(){return this._url};a.prototype.setState=function(a){var j;if(0<=c.call(i,a)&&a!==this._state)return j=this._state,this._state=
a,this.trigger(e.STATECHANGE,{oldState:j,newState:a})};a.prototype.getState=function(){return this._state};a.prototype.setVolume=function(a){this._volume=a;return this};a.prototype.getVolume=function(){return this._volume};a.prototype.setMute=function(a){this._mute=a;return this};a.prototype.getMute=function(){return this._mute};a.prototype.setCurrentPosition=function(){return this};a.prototype.getCurrentPosition=function(){return 0};a.prototype.getLoadedPercent=function(){return 0};a.prototype.getTotalTime=
function(){return 0};return a}();b.mixTo(d);return d});(function(d,a){"object"===typeof r?w.exports=a():"function"===typeof define&&define.amd?define("muplayer/lib/modernizr.audio",a):d._mu.Modernizr=a()})(this,function(){return function(d,a,b){var e={},g=a.documentElement,d=a.createElement("modernizr"),d=d.style,c={},m=[],i=m.slice,l,p={}.hasOwnProperty,n;n="undefined"!==typeof p&&"undefined"!==typeof p.call?function(a,e){return p.call(a,e)}:function(a,e){return e in a&&"undefined"===typeof a.constructor.prototype[e]};
Function.prototype.bind||(Function.prototype.bind=function(a){var e=this;if("function"!=typeof e)throw new TypeError;var h=i.call(arguments,1),j=function(){if(this instanceof j){var b=function(){};b.prototype=e.prototype;var b=new b,d=e.apply(b,h.concat(i.call(arguments)));return Object(d)===d?d:b}return e.apply(a,h.concat(i.call(arguments)))};return j});c.audio=function(){var f=a.createElement("audio"),e=!1;try{if(e=!!f.canPlayType)e=new Boolean(e),e.ogg=f.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,
""),e.mp3=f.canPlayType("audio/mpeg;").replace(/^no$/,""),e.wav=f.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),e.m4a=(f.canPlayType("audio/x-m4a;")||f.canPlayType("audio/aac;")).replace(/^no$/,"")}catch(h){}return e};for(var j in c)n(c,j)&&(l=j.toLowerCase(),e[l]=c[j](),m.push((e[l]?"":"no-")+l));e.addTest=function(a,j){if("object"==typeof a)for(var h in a)n(a,h)&&e.addTest(h,a[h]);else{a=a.toLowerCase();if(e[a]!==b)return e;j="function"==typeof j?j():j;"undefined"!==typeof enableClasses&&
enableClasses&&(g.className+=" "+(j?"":"no-")+a);e[a]=j}return e};d.cssText="";d=null;e._version="2.7.1";return e}(this,this.document)});var i={}.hasOwnProperty,o=function(d,a){function b(){this.constructor=d}for(var e in a)i.call(a,e)&&(d[e]=a[e]);b.prototype=a.prototype;d.prototype=new b;d.__super__=a.prototype;return d},k=[].slice;(function(d,a){return"object"===typeof r?w.exports=a():"function"===typeof define&&define.amd?define("muplayer/core/engines/audioCore",["muplayer/core/cfg","muplayer/core/utils",
"muplayer/core/engines/engineCore","muplayer/lib/modernizr.audio"],a):d._mu.AudioCore=a(_mu.cfg,_mu.utils,_mu.EngineCore,_mu.Modernizr)})(this,function(d,a,b,e){var c,i,m,s,l,p;l=window;p=d.engine;s=p.TYPES;i=p.EVENTS;m=p.STATES;c=p.ERRCODE;return function(b){function j(a){var b,h,d,c,g,A;this.opts=$.extend({},j.defaults,a);this.opts.emptyMP3=this.opts.baseDir+this.opts.emptyMP3;c=this.opts;d={"":0,maybe:1,probably:2};a=d[c.confidence];b=e.audio;if(!b)return this;for(h in b)A=b[h],d[A]>=a&&this._supportedTypes.push(h);
b=new Audio;b.preload=c.preload;b.autoplay=c.autoplay;b.loop=!1;b.on=function(){return function(a,f){b.addEventListener(a,f,!1);return b}}(this);b.off=function(){return function(a,f){b.removeEventListener(a,f,!1);return b}}(this);this.audio=b;this._needCanPlay(["play","setCurrentPosition"]);this.setState(m.NOT_INIT);this._initEvents();c.needPlayEmpty&&(g=function(a){return function(){a.setUrl(c.emptyMP3).play();return l.removeEventListener("touchstart",g,!1)}}(this),l.addEventListener("touchstart",
g,!1))}o(j,b);j.defaults={confidence:"maybe",preload:!1,autoplay:!1,needPlayEmpty:!0,emptyMP3:"empty.mp3"};j.prototype._supportedTypes=[];j.prototype.engineType=s.AUDIO;j.prototype._test=function(a){if(!e.audio||!this._supportedTypes.length)return!1;a&&this.trigger(i.INIT_FAIL,this.engineType);return!0};j.prototype._initEvents=function(){var a,e,b;b=this.trigger;this.trigger=function(a){return function(f,e){if(a.getUrl()!==a.opts.emptyMP3)return b.call(a,f,e)}}(this);a=function(a){return function(f){a.setState(m.BUFFERING);
return a.trigger(i.PROGRESS,f||a.getLoadedPercent())}}(this);e=null;return this.audio.on("loadstart",function(b){return function(){var h;h=b.audio;e=setInterval(function(){return 1<h.readyState?clearInterval(e):a()},50);return b.setState(m.PREBUFFER)}}(this)).on("playing",function(a){return function(){return a.setState(m.PLAYING)}}(this)).on("pause",function(a){return function(){return a.setState(a.getCurrentPosition()&&m.PAUSE||m.STOP)}}(this)).on("ended",function(a){return function(){return a.setState(m.END)}}(this)).on("error",
function(a){return function(){a.setState(m.END);return a.trigger(i.ERROR,c.MEDIA_ERR_NETWORK)}}(this)).on("waiting",function(a){return function(){return a.setState(a.getCurrentPosition()&&m.BUFFERING||m.PREBUFFER)}}(this)).on("timeupdate",function(a){return function(){return a.trigger(i.POSITIONCHANGE,a.getCurrentPosition())}}(this)).on("progress",function(b){var h;clearInterval(e);h=b.loaded||0;b=b.total||1;return a(h&&1*(h/b).toFixed(2))})};j.prototype._needCanPlay=function(f){var e,b,j,d,c;e=this.audio;
c=[];for(j=0,d=f.length;j<d;j++)b=f[j],c.push(this[b]=a.wrap(this[b],function(a){return function(){var f,b,h;b=arguments[0];f=2<=arguments.length?k.call(arguments,1):[];3>e.readyState?(h=function(){b.apply(a,f);return e.off("canplay",h)},e.on("canplay",h)):b.apply(a,f);return a}}(this)));return c};j.prototype.play=function(){this.audio.play();return this};j.prototype.pause=function(){this.audio.pause();return this};j.prototype.stop=function(){try{this.audio.currentTime=0}catch(a){}finally{this.pause()}return this};
j.prototype.setUrl=function(a){null==a&&(a="");this.audio.src=a;this.audio.load();return j.__super__.setUrl.call(this,a)};j.prototype.setVolume=function(a){this.audio.volume=a/100;return j.__super__.setVolume.call(this,a)};j.prototype.setMute=function(a){this.audio.muted=a;return j.__super__.setMute.call(this,a)};j.prototype.setCurrentPosition=function(a){try{this.audio.currentTime=a/1E3}catch(e){}finally{this.play()}return this};j.prototype.getCurrentPosition=function(){return 1E3*this.audio.currentTime};
j.prototype.getLoadedPercent=function(){var a,e,b,j,d,c;a=this.audio;d=a.duration;j=a.buffered;b=j.length;for(e=0;b--;)if(j.start(b)<=(c=a.currentTime)&&c<=j.end(b)){e=j.end(b);break}return d&&1*((e>d?d:e)/d).toFixed(2)||0};j.prototype.getTotalTime=function(){var a;return(a=this.audio.duration)&&1E3*a||0};return j}(b)});(function(d,a){"object"===typeof r?w.exports=a():"function"===typeof define&&define.amd?define("muplayer/lib/Timer",a):d._mu.Timer=a()})(this,function(){function d(a){if("string"===
typeof a){isNaN(parseInt(a,10))&&(a="1"+a);var b=a.replace(/[^a-z0-9\.]/g,"").match(/(?:(\d+(?:\.\d+)?)(?:days?|d))?(?:(\d+(?:\.\d+)?)(?:hours?|hrs?|h))?(?:(\d+(?:\.\d+)?)(?:minutes?|mins?|m\b))?(?:(\d+(?:\.\d+)?)(?:seconds?|secs?|s))?(?:(\d+(?:\.\d+)?)(?:milliseconds?|ms))?/);if(b[0])return 864E5*parseFloat(b[1]||0)+36E5*parseFloat(b[2]||0)+6E4*parseFloat(b[3]||0)+1E3*parseFloat(b[4]||0)+parseInt(b[5]||0,10);if(!isNaN(parseInt(a,10)))return parseInt(a,10)}return"number"===typeof a?a:0}function a(a,
b){return parseInt(a/b,10)||1}function b(a){if(!1===this instanceof b)return new b(a);this._notifications=[];this._resolution=d(a)||1E3;this._running=!1;this._ticks=0;this._timer=null;this._drift=0}b.prototype={start:function(){var a=this;this._running||(this._running=!this._running,setTimeout(function y(){a._ticks++;for(var b=0,d=a._notifications.length;b<d;b++)a._notifications[b]&&0===a._ticks%a._notifications[b].ticks&&a._notifications[b].callback.call(a._notifications[b],{ticks:a._ticks,resolution:a._resolution});
a._running&&(a._timer=setTimeout(y,a._resolution+a._drift),a._drift=0)},this._resolution));return this},stop:function(){this._running&&(this._running=!this._running,clearTimeout(this._timer));return this},reset:function(){this.stop();this._ticks=0;return this},clear:function(){this.reset();this._notifications=[];return this},ticks:function(){return this._ticks},resolution:function(){return this._resolution},running:function(){return this._running},bind:function(b,c){b&&c&&this._notifications.push({ticks:a(d(b),
this._resolution),callback:c});return this},unbind:function(a){if(a)for(var b=0,d=this._notifications.length;b<d;b++)this._notifications[b]&&this._notifications[b].callback===a&&this._notifications.splice(b,1);else this._notifications=[];return this},drift:function(a){this._drift=a;return this}};b.prototype.every=b.prototype.bind;b.prototype.after=function(a,d){var c=this;b.prototype.bind.call(c,a,function s(){b.prototype.unbind.call(c,s);d.apply(this,arguments)});return this};return b});(function(d,
a){"object"===typeof r?w.exports=a():"function"===typeof define&&define.amd?define("muplayer/lib/jquery.swfobject",a):a()})(this,function(){(function(d,a,b){function e(a,f){var b=(a[0]||0)-(f[0]||0);return 0<b||!b&&0<a.length&&e(a.slice(1),f.slice(1))}function c(a){if(typeof a!=m)return a;var f=[],b="",e;for(e in a)b=typeof a[e]==m?c(a[e]):[e,k?encodeURI(a[e]):a[e]].join("="),f.push(b);return f.join("&")}function i(a){var f=[],b;for(b in a)f.push(['<param name="',b,'" value="',c(a[b]),'" />'].join(""));
return f.join("")}var m="object",k=!0;try{var l=b.description||(new b("ShockwaveFlash.ShockwaveFlash")).GetVariable("$version")}catch(p){l="Unavailable"}var n=l.match(/\d+/g)||[0];d[a]={available:0<n[0],activeX:b&&!b.name,version:{original:l,array:n,string:n.join("."),major:parseInt(n[0],10)||0,minor:parseInt(n[1],10)||0,release:parseInt(n[2],10)||0},hasVersion:function(a){a=/string|number/.test(typeof a)?a.toString().split("."):/object/.test(typeof a)?[a.major,a.minor]:a||[0,0];return e(n,a)},encodeParams:!0,
expressInstall:"expressInstall.swf",expressInstallIsActive:!1,create:function(a){if(!a.swf||this.expressInstallIsActive||!this.available&&!a.hasVersionFail)return!1;if(!this.hasVersion(a.hasVersion||1)){this.expressInstallIsActive=!0;if("function"==typeof a.hasVersionFail&&!a.hasVersionFail.apply(a))return!1;a={swf:a.expressInstall||this.expressInstall,height:137,width:214,flashvars:{MMredirectURL:location.href,MMplayerType:this.activeX?"ActiveX":"PlugIn",MMdoctitle:document.title.slice(0,47)+" - Flash Player Installation"}}}attrs=
{data:a.swf,type:"application/x-shockwave-flash",id:a.id||"flash_"+Math.floor(999999999*Math.random()),width:a.width||320,height:a.height||180,style:a.style||""};k="undefined"!==typeof a.useEncode?a.useEncode:this.encodeParams;a.movie=a.swf;a.wmode=a.wmode||"opaque";delete a.fallback;delete a.hasVersion;delete a.hasVersionFail;delete a.height;delete a.id;delete a.swf;delete a.useEncode;delete a.width;var f=document.createElement("div"),b;b=attrs;var e=[],d;for(d in b)b[d]&&e.push([d,'="',b[d],'"'].join(""));
b=e.join(" ");f.innerHTML=["<object ",b,">",i(a),"</object>"].join("");return f.firstChild}};d.fn[a]=function(b){var f=this.find(m).andSelf().filter(m);/string|object/.test(typeof b)&&this.each(function(){var f=d(this),e;b=typeof b==m?b:{swf:b};b.fallback=this;if(e=d[a].create(b))f.children().remove(),f.html(e)});"function"==typeof b&&f.each(function(){var f=this;f.jsInteractionTimeoutMs=f.jsInteractionTimeoutMs||0;660>f.jsInteractionTimeoutMs&&(f.clientWidth||f.clientHeight?b.call(f):setTimeout(function(){d(f)[a](b)},
f.jsInteractionTimeoutMs+66))});return f}})(jQuery,"flash",navigator.plugins["Shockwave Flash"]||window.ActiveXObject)});i={}.hasOwnProperty;o=function(d,a){function b(){this.constructor=d}for(var e in a)i.call(a,e)&&(d[e]=a[e]);b.prototype=a.prototype;d.prototype=new b;d.__super__=a.prototype;return d};k=[].slice;(function(d,a){return"object"===typeof r?w.exports=a():"function"===typeof define&&define.amd?define("muplayer/core/engines/flashCore",["muplayer/core/cfg","muplayer/core/utils","muplayer/lib/Timer",
"muplayer/core/engines/engineCore","muplayer/lib/jquery.swfobject"],a):d._mu.FlashCore=a(_mu.cfg,_mu.utils,_mu.Timer,_mu.EngineCore)})(this,function(d,a,b,e){var c,i,m,s,l,p;p=d.engine;i=p.EVENTS;m=p.STATES;c=p.ERRCODE;l=d.timerResolution;s={"-1":m.NOT_INIT,1:m.PREBUFFER,2:m.BUFFERING,3:m.PLAYING,4:m.PAUSE,5:m.STOP,6:m.END};return function(e){function d(f){var b,e,c;this.opts=c=$.extend({},this.defaults,f);this._state=m.NOT_INIT;this._loaded=!1;this._queue=[];this._needFlashReady("play,pause,stop,setCurrentPosition,_setUrl,_setVolume,_setMute".split(","));
this._unexceptionGet(["getCurrentPosition","getLoadedPercent","getTotalTime"]);f=c.baseDir;b="muplayer_"+setTimeout(function(){},0);e=c.instanceName+"_"+b;a.namespace("engines")[e]=this;this.flash=$.flash.create({swf:f+c.swf,id:b,height:1,width:1,allowscriptaccess:"always",wmode:"transparent",expressInstaller:f+c.expressInstaller,flashvars:{_instanceName:"_mu.engines."+e,_buffertime:5E3}});c.$el.append(this.flash);this._initEvents()}o(d,e);d.defaults={expressInstaller:"expressInstall.swf"};d.prototype._test=
function(a){if(!$.flash.hasVersion(this.opts.flashVer))return!1;a&&this.trigger(i.INIT_FAIL,this.engineType);return!0};d.prototype._initEvents=function(){var a,d;this.progressTimer=new b(l);this.positionTimer=new b(l);d=function(a){return function(){var f;f=a.getLoadedPercent();a._lastPer!==f&&(a._lastPer=f,a.trigger(i.PROGRESS,f));if(1===f)return a.progressTimer.stop()}}(this);a=function(a){return function(){var f;f=a.getCurrentPosition();if(a._lastPos!==f)return a._lastPos=f,a.trigger(i.POSITIONCHANGE,
f)}}(this);this.progressTimer.every("100 ms",d);this.positionTimer.every("100 ms",a);return this.on(i.STATECHANGE,function(b){return function(d){d=d.newState;switch(d){case m.PREBUFFER:case m.PLAYING:b.progressTimer.start();break;case m.PAUSE:case m.STOP:b.progressTimer.stop();break;case m.END:b.progressTimer.reset()}switch(d){case m.PLAYING:return b.positionTimer.start();case m.PAUSE:case m.STOP:return b.positionTimer.stop(),a();case m.END:return b.positionTimer.reset()}}}(this))};d.prototype._needFlashReady=
function(f){var b,d,e,c;c=[];for(d=0,e=f.length;d<e;d++)b=f[d],c.push(this[b]=a.wrap(this[b],function(a){return function(){var f,b;b=arguments[0];f=2<=arguments.length?k.call(arguments,1):[];a._loaded?b.apply(a,f):a._pushQueue(b,f);return a}}(this)));return c};d.prototype._unexceptionGet=function(f){var b,d,e,c;c=[];for(d=0,e=f.length;d<e;d++)b=f[d],c.push(this[b]=a.wrap(this[b],function(a){return function(){var f,b;b=arguments[0];f=2<=arguments.length?k.call(arguments,1):[];try{return b.apply(a,
f)}catch(d){return 0}}}(this)));return c};d.prototype._pushQueue=function(a,b){return this._queue.push([a,b])};d.prototype._fireQueue=function(){var a,b,d,e;for(e=[];this._queue.length;)d=this._queue.shift(),b=d[0],a=d[1],e.push(b.apply(this,a));return e};d.prototype.play=function(){this.flash.f_play();return this};d.prototype.pause=function(){this.flash.f_pause();return this};d.prototype.stop=function(){this.flash.f_stop();return this};d.prototype._setUrl=function(a){return this.flash.f_load(a)};
d.prototype.setUrl=function(a){a&&(this._setUrl(a),function(a){return function(){var f,b;b=null;f=function(d){return d.newState===m.PLAYING&&d.oldState===m.PREBUFFER?b=setTimeout(function(){a.off(i.STATECHANGE,f);if(100>a.getCurrentPosition())return a.setState(m.END),a.trigger(i.ERROR,c.MEDIA_ERR_SRC_NOT_SUPPORTED)},2E3):clearTimeout(b)};return a.off(i.STATECHANGE,f).on(i.STATECHANGE,f)}}(this)());return d.__super__.setUrl.call(this,a)};d.prototype.getState=function(a){return s[a]||this._state};d.prototype._setVolume=
function(a){return this.flash.setData("volume",a)};d.prototype.setVolume=function(a){this._setVolume(a);return d.__super__.setVolume.call(this,a)};d.prototype._setMute=function(a){return this.flash.setData("mute",a)};d.prototype.setMute=function(a){this._setMute(a);return d.__super__.setMute.call(this,a)};d.prototype.setCurrentPosition=function(a){this.flash.f_play(a);return this};d.prototype.getCurrentPosition=function(){return this.flash.getData("position")};d.prototype.getLoadedPercent=function(){return this.flash.getData("loadedPct")};
d.prototype.getTotalTime=function(){return this.flash.getData("length")};d.prototype._swfOnLoad=function(){this._loaded=!0;return setTimeout(function(a){return function(){return a._fireQueue()}}(this),0)};d.prototype._swfOnStateChange=function(a){return this.setState(this.getState(a))};d.prototype._swfOnErr=function(a){this.setState(m.END);this.trigger(i.ERROR);return"undefined"!==typeof console&&null!==console?console.error(a):void 0};return d}(e)});i={}.hasOwnProperty;o=function(d,a){function b(){this.constructor=
d}for(var e in a)i.call(a,e)&&(d[e]=a[e]);b.prototype=a.prototype;d.prototype=new b;d.__super__=a.prototype;return d};(function(d,a){return"object"===typeof r?w.exports=a():"function"===typeof define&&define.amd?define("muplayer/core/engines/flashMP3Core",["muplayer/core/cfg","muplayer/core/engines/flashCore"],a):d._mu.FlashMP3Core=a(_mu.cfg,_mu.FlashCore)})(this,function(d,a){var b;b=d.engine.TYPES;return function(a){function d(){return d.__super__.constructor.apply(this,arguments)}o(d,a);d.prototype.defaults=
{swf:"muplayer_mp3.swf",instanceName:"MP3Core",flashVer:"9.0.0"};d.prototype._supportedTypes=["mp3"];d.prototype.engineType=b.FLASH_MP3;return d}(a)});i={}.hasOwnProperty;o=function(d,a){function b(){this.constructor=d}for(var e in a)i.call(a,e)&&(d[e]=a[e]);b.prototype=a.prototype;d.prototype=new b;d.__super__=a.prototype;return d};(function(d,a){return"object"===typeof r?w.exports=a():"function"===typeof define&&define.amd?define("muplayer/core/engines/flashMP4Core",["muplayer/core/cfg","muplayer/core/engines/flashCore"],
a):d._mu.FlashMP4Core=a(_mu.cfg,_mu.FlashCore)})(this,function(d,a){var b;b=d.engine.TYPES;return function(a){function d(){return d.__super__.constructor.apply(this,arguments)}o(d,a);d.prototype.defaults={swf:"muplayer_mp4.swf",instanceName:"MP4Core",flashVer:"9.0.115"};d.prototype._supportedTypes=["m4a"];d.prototype.engineType=b.FLASH_MP4;return d}(a)});(function(d,a){return"object"===typeof r?w.exports=a():"function"===typeof define&&define.amd?define("muplayer/core/engines/engine","muplayer/core/cfg,muplayer/core/utils,muplayer/lib/events,muplayer/core/engines/engineCore,muplayer/core/engines/audioCore,muplayer/core/engines/flashMP3Core,muplayer/core/engines/flashMP4Core".split(","),
a):d._mu.Engine=a(_mu.cfg,_mu.utils,_mu.Events,_mu.EngineCore,_mu.AudioCore,_mu.FlashMP3Core,_mu.FlashMP4Core)})(this,function(d,a,b,e,c,i,m){var k,l,p,n;n=d.engine;k=n.EVENTS;l=n.STATES;p=/\.(\w+)(\?.*)?$/;d=function(){function a(f){this.opts=$.extend({},this.defaults,f);this._initEngines()}a.el='<div id="muplayer_container_{{DATETIME}}" style="width: 1px; height: 1px; overflow: hidden"></div>';a.prototype.defaults={engines:[{constructor:c},{constructor:i},{constructor:m}]};a.prototype._initEngines=
function(){var f,b,d,c,g,i,A,u;this.engines=[];g=this.opts;f=$(a.el.replace(/{{DATETIME}}/g,+new Date)).appendTo("body");u=g.engines;for(b=i=0,A=u.length;i<A;b=++i){c=u[b];d=c.constructor;b=c.args||{};b.baseDir=g.baseDir;b.$el=f;try{$.isFunction(d)||(d=eval(d)),c=new d(b)}catch(m){throw"Missing constructor: "+c.constructor;}c._test()&&this.engines.push(c)}return this.engines.length?this.setEngine(this.engines[0]):this.setEngine(new e)};a.prototype.setEngine=function(a){var b,d,e,c,g,A,u;this._lastE=
{};A=function(a){return function(f){if(!(f.oldState===a._lastE.oldState&&f.newState===a._lastE.newState))return a._lastE={oldState:f.oldState,newState:f.newState},a.trigger(k.STATECHANGE,f)}}(this);c=function(a){return function(f){return a.trigger(k.POSITIONCHANGE,f)}}(this);g=function(a){return function(f){return a.trigger(k.PROGRESS,f)}}(this);d=function(a){return function(f){return a.trigger(k.ERROR,f)}}(this);b=function(a){return a.on(k.STATECHANGE,A).on(k.POSITIONCHANGE,c).on(k.PROGRESS,g).on(k.ERROR,
d)};u=function(a){return a.off(k.STATECHANGE,A).off(k.POSITIONCHANGE,c).off(k.PROGRESS,g).on(k.ERROR,d)};if(this.curEngine){if(this.curEngine!==a)return e=this.curEngine,u(e).reset(),this.curEngine=b(a),this.curEngine.setVolume(e.getVolume()).setMute(e.getMute())}else return this.curEngine=b(a)};a.prototype.canPlayType=function(a){return-1!==$.inArray(a,this.getSupportedTypes())};a.prototype.getSupportedTypes=function(){var a,b,d,e,c;b=[];c=this.engines;for(d=0,e=c.length;d<e;d++)a=c[d],b=b.concat(a.getSupportedTypes());
return b};a.prototype.switchEngineByType=function(a){var b,d,e,c,g;d=!1;g=this.engines;for(e=0,c=g.length;e<c;e++)if(b=g[e],b.canPlayType(a)){this.setEngine(b);d=!0;break}if(!d)return this.setEngine(this.engines[0])};a.prototype.reset=function(){this.curEngine.reset();return this};a.prototype.setUrl=function(a){var b;p.test(a)&&(b=RegExp.$1.toLocaleLowerCase());if(this.canPlayType(b))this.curEngine.canPlayType(b)||this.switchEngineByType(b);else throw"Can not play with: "+b;this.curEngine.setUrl(a);
return this};a.prototype.getUrl=function(){return this.curEngine.getUrl()};a.prototype.play=function(){this.curEngine.play();return this};a.prototype.pause=function(){this.curEngine.pause();this.setState(l.PAUSE);return this};a.prototype.stop=function(){this.curEngine.stop();this.setState(l.STOP);return this};a.prototype.setState=function(a){this.curEngine.setState(a);return this};a.prototype.getState=function(){return this.curEngine.getState()};a.prototype.setMute=function(a){this.curEngine.setMute(!!a);
return this};a.prototype.getMute=function(){return this.curEngine.getMute()};a.prototype.setVolume=function(a){$.isNumeric(a)&&0<=a&&100>=a&&this.curEngine.setVolume(a);return this};a.prototype.getVolume=function(){return this.curEngine.getVolume()};a.prototype.setCurrentPosition=function(a){this.curEngine.setCurrentPosition(~~a);return this};a.prototype.getCurrentPosition=function(){return this.curEngine.getCurrentPosition()};a.prototype.getLoadedPercent=function(){return this.curEngine.getLoadedPercent()};
a.prototype.getTotalTime=function(){return this.curEngine.getTotalTime()};a.prototype.getEngineType=function(){return this.curEngine.engineType};a.prototype.getState=function(){return this.curEngine.getState()};return a}();b.mixTo(d);return d});(function(d,a){return"object"===typeof r?w.exports=a():"function"===typeof define&&define.amd?define("muplayer/player",["muplayer/core/cfg","muplayer/core/utils","muplayer/lib/events","muplayer/core/playlist","muplayer/core/engines/engine"],a):d._mu.Player=
a(d._mu.cfg,d._mu.utils,d._mu.Events,d._mu.Playlist,d._mu.Engine)})(this,function(d,a,b,e,c){var i,m,k,l;l=d.engine;i=l.EVENTS;m=l.STATES;k=a.time2str;a=function(){function a(d){var f;this.opts=f=$.extend({},a.defaults,d);d=f.baseDir;if(!1===d)d="";else if(!d)throw"baseDir must be set! Usually, it should point to the MuPlayer's dist directory.";d&&!d.endsWith("/")&&(d+="/");if(f.singleton){if(b)return b;b=this}this.playlist=new e({absoluteUrl:f.absoluteUrl});this.playlist.setMode(f.mode);this._initEngine(new c({baseDir:d,
engines:f.engines}));this.setMute(f.mute);this.setVolume(f.volume)}var b;b=null;a.defaults={baseDir:""+d.cdn+d.version,mode:"loop",mute:!1,volume:80,singleton:!0,absoluteUrl:!0};a.prototype._initEngine=function(a){return this.engine=a.on(i.STATECHANGE,function(a){return function(b){b=b.newState;a.trigger(b);if(b===m.END)return a.next(!0)}}(this)).on(i.POSITIONCHANGE,function(a){return function(b){return a.trigger("timeupdate",b)}}(this)).on(i.PROGRESS,function(a){return function(b){return a.trigger("progress",
b)}}(this)).on(i.ERROR,function(a){return function(b){return a.trigger("error",b)}}(this))};a.prototype.play=function(a){var b,d,e,c,a=~~a;b=$.Deferred();d=this.engine;e=function(e){return function(){a?d.setCurrentPosition(a):d.play();e.trigger("player:play",a);return b.resolve()}}(this);(c=this.getState())===m.NOT_INIT||c===m.STOP||c===m.END?this._fetch().done(function(){return function(){return e()}}(this)):e();return b.promise()};a.prototype.pause=function(){this.engine.pause();this.trigger("player:pause");
return this};a.prototype.stop=function(){this.engine.stop();this.trigger("player:stop");return this};a.prototype.replay=function(){return this.stop().play()};a.prototype.prev=function(){var a;a=this.getCur();this.stop();this.getSongsNum()&&this.playlist.prev()&&(this.trigger("player:prev",{cur:a}),this.play());return this};a.prototype.next=function(a){var b;b=this.getCur();this.stop();this.getSongsNum()&&this.playlist.next()&&(this.trigger("player:next",{auto:a,cur:b}),this.play());return this};a.prototype.getCur=
function(){var a,b;b=this.playlist;a=b.cur;!a&&this.getSongsNum()&&(a=b.list[0],b.setCur(a));return a+""};a.prototype.setCur=function(a){var b;b=this.playlist;!a&&this.getSongsNum()&&(a=b.list[0]);a&&this._sid!==a&&(b.setCur(a),this._sid=a,this.stop());return this};a.prototype.curPos=function(a){var b;b=this.engine.getCurrentPosition()/1E3;return a?k(b):b};a.prototype.duration=function(a){var b;b=this.engine.getTotalTime()/1E3;return a?k(b):b};a.prototype.add=function(a){a&&this.playlist.add(a);this.trigger("player:add",
a);return this};a.prototype.remove=function(a){a&&this.playlist.remove(a);this.getSongsNum()||this.reset();this.trigger("player:remove",a);return this};a.prototype.reset=function(){this.playlist.reset();this.engine.reset();this.trigger("player:reset");return this};a.prototype.getState=function(){return this.engine.getState()};a.prototype.setUrl=function(a){this.engine.setUrl(a);return this};a.prototype.getUrl=function(){return this.engine.getUrl()};a.prototype.setVolume=function(a){return this.engine.setVolume(a)};
a.prototype.getVolume=function(){return this.engine.getVolume()};a.prototype.setMute=function(a){this.engine.setMute(a);return this};a.prototype.getMute=function(){return this.engine.getMute()};a.prototype.canPlayType=function(a){return this.engine.canPlayType(a)};a.prototype.getSongsNum=function(){return this.playlist.list.length};a.prototype.setMode=function(a){this.playlist.setMode(a);return this};a.prototype.getMode=function(){return this.playlist.mode};a.prototype._fetch=function(){var a;a=$.Deferred();
this.getUrl()===this.getCur()?a.resolve():setTimeout(function(b){return function(){b.setUrl(b.getCur());return a.resolve()}}(this),0);return a.promise()};return a}();b.mixTo(a);return a});return r});
__d("common.js.audioPool",[],function(){function x(){}function w(i){this.pool=[];this.src=c?i.ogg:i.mp3;this.newAudio()}var r=!!document.createElement("audio").canPlayType,c=r&&document.createElement("audio").canPlayType("audio/ogg");w.prototype.play=r?function(){this.pool.shift().play();1>this.pool.length&&this.newAudio()}:x;w.prototype.newAudio=r?function(){var c=new Audio(this.src),o=this;this.pool.push(c);c.addEventListener("ended",function(){o.pool.push(c)})}:x;return w});
__d("widget.servicetab.servicetab",["common.js.widget"],function(x,w,r,c){c("common.js.widget");$.widget("hao123.servicetab",{options:{active:0,tabid:"tabid"},_create:function(){this.status=1;this.$tabHeaderElem=$(".servicetab-header",this.element);this.$tabBdElem=$(".servicetab-bd",this.element);this.$morehdElem=$(".servicetab-more",this.$tabHeaderElem);this.$morebdElem=$(".box-more",this.$tabBdElem);this.$allTabs=$(".js_tag",this.$tabHeaderElem);this.allTabs=this.$allTabs.get();this.tabMap=[$("#box-starbar"),
$("#box-locallife")];this.showMoreFlag=0;this._on(!0,this.$tabHeaderElem,{"click .js_tag":function(c){var o=this.options.active,k=this.options.tabid,c=$.inArray(c.currentTarget,this.allTabs),d=this.$allTabs.eq(o).data(k),k=this.$allTabs.eq(c).data(k),a="_hide"+$.camelCase(d),b="_show"+$.camelCase(k);this._hideboxMoreHandler();if(k==d)return!1;this[a]||(a="_hideboxDefault");this[a](o);this[b]||(b="_showboxDefault");this[b](c);this.options.active=c;return!1}});this._on(!0,this.$morehdElem,{click:function(){this.showMoreFlag?
this._hideboxMore():this._showboxMore();return!1}});this._on(!0,this.$morebdElem,{click:function(c){c.stopPropagation()}});this._on(!0,this.document,{click:"_hideboxMoreHandler"})},_showboxDefault:function(c){$(this.allTabs[c]).addClass("servicetab-itemactive");this.tabMap[c].show()},_hideboxDefault:function(c){$(this.allTabs[c]).removeClass("servicetab-itemactive");this.tabMap[c].hide()},_showboxMore:function(){this.$tabHeaderElem.addClass("servicetab-headeractive");this.$morehdElem.addClass("servicetab-moreactive");
$("#box-more").show();this.showMoreFlag=1},_hideboxMore:function(){this.$tabHeaderElem.removeClass("servicetab-headeractive");this.$morehdElem.removeClass("servicetab-moreactive");$("#box-more").hide();this.showMoreFlag=0},_hideboxMoreHandler:function(){this.showMoreFlag&&this._hideboxMore()}});return r});
__d("widget.leftbannerv2.leftbannerv2",["common.js.jquery","common.js.widget"],function(x,w,r,c){c("common.js.jquery");c("common.js.widget");$.widget("hao123.leftbannerv2",function(){var c=null,o=0,k=0,d,a=[];return{options:{arrowClass:"wslider-arrow",innerClass:"wslider-inner",auto:!0,interval:6E3},_create:function(){var a=this.element,c=this.options,g=c.auto,i=c.arrowClass,c=a.children("."+c.innerClass);k=(this.item=c.children()).length;d=this;if(1<k){var m=a.children("."+i),o=m.children();c.on("mouseenter",
function(){m.css("display","block")}).on("mouseleave",function(){m.css("display","none")});o.on("mouseenter",function(){m.css("display","block")}).on("mouseleave",function(){m.css("display","none")});i&&a.children("."+i).on("click",this.arrowHandler);g&&this.start()}},_init:function(){},_setOption:function(){$.Widget.prototype._setOption.call(this);return this},destroy:function(){$.Widget.prototype.destroy.call(this)},start:function(){c=setInterval(function(){var a=d.checkIndex(o+1);d.gotoPage(a)},
d.options.interval)},loadImage:function(a,d,c){var i=new Image;i.src=d.data(c);i.complete?(d.removeData(c),d.get(0).removeAttribute("data-"+c),d.get(0).src=i.src,a.removeClass("wslider-loading"),i.onload=null):i.onload=function(){d.removeData(c);d.get(0).removeAttribute("data-"+c);d.get(0).src=i.src;a.removeClass("wslider-loading");i.onload=null}},gotoPage:function(b){var e=this,g=e.item,k=a[o]||g.eq(o),m=a[b]||g.eq(b),g=m.find(".P");g.data("realsrc")&&e.loadImage(m,g,"realsrc");k.is(":animated")?
(k.stop(!1,!0),m.stop(!1,!0)):m.is(":animated")&&m.stop(!1,!0);$.queue(e,"switching",function(){k.animate({opacity:0.3},function(){$(this).addClass("hide").css("opacity",0.3);$.dequeue(e,"switching")})});$.queue(e,"switching",function(){m.removeClass("hide").animate({opacity:1},function(){o=b;c||d.options.auto&&d.start()})});$.dequeue(e,"switching")},checkIndex:function(a){return a>k-1?0:0>a?k-1:a},stop:function(){clearInterval(c);c=null},arrowHandler:function(a){var c=$(this).children().get(1)==
a.target?d.checkIndex(o+1):d.checkIndex(o-1);d.stop();d.gotoPage(c);a.preventDefault()}}}());return r});
__d("widget.site.config",[],function(x,w,r){return r={css:{siteNormal:"site-normal",siteEdit:"site-edit",hdNormal:"site-hd-normal",hdEdit:"site-hd-edit",itemNormal:"site-item-normal",itemMove:"site-item-move",itemEdit:"site-item-edit",itemCurrent:"site-item-current",itemDashed:"site-item-dashed",itemAdd:"site-item-add",itemAddUp:"site-item-add-up",itemAddDown:"site-item-add-down",item:"site-item",js_item:"js_site-item",bdNormal:"site-bd-normal",itemText:"site-text",itemTpl:"site-tpl",sugError:"error"},
sug:{requestQuery:"wd",url:"http://nssug.baidu.com/su",callbackFn:"baidu.sug",callbackDataKey:"s",requestParas:{prod:"superpage"},n:5,noSubmit:!0},error:{500:'\u51fa\u73b0\u9519\u8bef\uff0c\u8bf7\u70b9 <a href="http://www.hao123.com" target="_self">\u8fd9\u91cc</a> \u5237\u65b0\u9875\u9762',501:"\u8be5\u7f51\u5740\u5df2\u5b58\u5728",510:'\u51fa\u73b0\u9519\u8bef\uff0c\u8bf7\u70b9 <a href="http://www.hao123.com"  target="_self">\u8fd9\u91cc</a> \u5237\u65b0\u9875\u9762',503:'\u51fa\u73b0\u9519\u8bef\uff0c\u8bf7\u70b9 <a href="http://www.hao123.com"  target="_self">\u8fd9\u91cc</a> \u5237\u65b0\u9875\u9762',
511:"\u8bf7\u8f93\u5165\u6b63\u786e\u683c\u5f0f\uff0c\u5982http://www.abc.com",512:"\u7f51\u7ad9\u540d\u79f0\u8fc7\u957f",513:"\u7f51\u5740\u8fc7\u957f",515:"\u8bf7\u8f93\u5165\u7f51\u7ad9\u540d\u79f0",516:"\u8bf7\u8f93\u5165\u7f51\u5740",507:"\u8bf7\u60a8\u5148\u767b\u5f55",514:"\u7f51\u5740\u5df2\u6ee1\uff0c\u8bf7\u5220\u9664\u4e0d\u5e38\u7528\u7684\u7f51\u5740"},info:{loading:"\u6b63\u5728\u8bf7\u6c42\uff0c\u8bf7\u7a0d\u5019",ok:"\u64cd\u4f5c\u6210\u529f\uff01",refresh:"\u6b63\u5728\u5237\u65b0\uff0c\u8bf7\u7a0d\u5019"},
url:{init:"/url/init",add:"/url/add",modify:"/url/modify",doDelete:"/url/delete",recover:"/url/reset",needImport:"/url/isneedimport",doImport:"/url/import",sort:"/url/sort",cr:"/api/paneldata",delRecommend:"/api/delrecom",delRecombyid:"/api/delrecombyid",user:"/api/username",adds:"/url/recomadds"},retry:2,recommendN:3,recommendMaxWord:5,showSaveMax:5,nameMaxLength:40,urlMaxLength:200,siteMaxlength:48,guestMaxLength:10,guestStatus:2,dragHint:"\u62d6\u52a8\u6392\u5e8f",confirmTitle:"\u63d0\u793a",confirmText:"\u767b\u5f55\u540e\u53ef\u7f16\u8f91\u66f4\u591a\u7f51\u5740\uff0c\u968f\u65f6\u968f\u5730\u6536\u85cf\uff0c\u4e0d\u518d\u62c5\u5fc3\u7f51\u5740\u4e22\u5931\uff01",
alertTitle:"\u63d0\u793a",recoverTitle:"\u6062\u590d\u9ed8\u8ba4",recoverText:"\u662f\u5426\u8981\u6062\u590d\u4e3a\u9ed8\u8ba4\u7f51\u5740\uff1f",adddedText:"\u5df2\u6dfb\u52a0\uff0c\u70b9\u51fb\u53d6\u6d88",emptyText:"\u6e05\u7a7a\u5386\u53f2\u8bb0\u5f55\uff01",guestHint:"\u7f51\u5740\u8fc7\u591a\uff0c\u5efa\u8bae\u767b\u5f55\u540e\u6c38\u4e45\u4fdd\u5b58",baiduCookie:"BAIDUID",flashCookie:"FLASHID",dataIdAttr:"data-id",iconBaseUrl:"hao123img.com/urlicon/",defaultIconUrl:"http://sc1.hao123img.com/urlicon/6000.png",
jsItem:".js_site-item",tpl:{sugMain:'<ol class="site-sugwrap">#{content}<ol>',sugItem:'<li site="#{site}" q="#{q}"><span class="name">#{title}</span><span class="url">#{text}</span></li>',sugSplitChar:"0{#S+_}",recommend:"<li><a class='item item-add js_recommend' data-id='#{id}' hidefocus='true'  data-type='recommend' href='#{url}'>#{name}</a></li>",cms:"<dl class='g_clr'><dt><span class='popup-site-cms-title'>#{name}:</span></dt>#{content}</dl>",cmsContent:"<dd #{itemStyle}><a href='#{url}' data-httpslink='off' data-id='#{id}' hidefocus='true' data-type='cms' class='#{className}'>#{name}</a></dd>",
itemTag:"<ul>",editItem:"<li title='\u62d6\u52a8\u6392\u5e8f' class='js_site-item' data-id='#{id}' data-status='#{status}' data-name='#{rawName}'  data-url='#{url}'><span class='js_text text' >#{name}</span><a  class='js_modify modify'  href='#' title='\u4fee\u6539' hidefocus='true'></a><a class='js_delete delete'  href='#'  title='\u5220\u9664' hidefocus='true'></a></li>",item:'<li class="js_site-item g-ib site-item site-item-normal #{style}" data-status="#{status}" title="#{title}" data-id="#{id}"><a class="js_text" href="#{url}" style="background-image:url(#{icon})" hidefocus="true">#{name}</a></li>',
recommendNone:'<div class="popup-site-recommend-sidenone"><h5>\u60a8\u5e38\u70b9\u7684\uff1a</h5><span>\u8fd8\u6ca1\u6709\u53d1\u73b0\u60a8\u5e38\u70b9\u7684\u7f51\u5740\uff0c\u5efa\u8bae\u60a8\u591a\u4f7f\u7528hao123</span></div>',noData:'<li class="js_no-data nodata">\u6ca1\u6709\u5e38\u7528\u7f51\u5740\uff0c\u8bf7\u60a8<a href="javascript:void(0)">\u6dfb\u52a0</a></li>',addNormalBtn:'<li class="js_item-add g-ib site-item site-item-add site-item-add-normal"><i></i><span class="site-item-add-text">\u6dfb\u52a0\u7f51\u5740</span>#{recommend}</li>',
addShortBtn:'<li title="\u6dfb\u52a0\u7f51\u5740" class="js_item-add g-ib site-item site-item-add site-item-add-short"><i></i>#{recommend}</li>',addRecommend:"",tipTpl:'<div class="popup-site-tip-add"><i class="popup-site-tip-close js_add-tip-close">\u5173\u95ed</i></div>'}}});
__d("widget.site.drag",["widget.site.config","common.js.jquery","common.js.browser","common.js.format","common.js.events"],function(x,w,r,c){function i(a,b){this.container=a;this.placeHolder=b;this._events={sorted:[]};this.activeIndex=-1}function o(a){if(a.pageX||a.pageY)return{x:a.pageX,y:a.pageY};if(document.documentElement&&document.documentElement.scrollTop)return{x:a.clientX+document.documentElement.scrollLeft-document.documentElement.clientLeft,y:a.clientY+document.documentElement.scrollTop-
document.documentElement.clientTop};if(document.body)return{x:a.clientX+document.body.scrollLeft-document.body.clientLeft,y:a.clientY+document.body.scrollTop-document.body.clientTop}}var k=c("widget.site.config"),d=c("common.js.jquery"),a=c("common.js.browser");c("common.js.format");var b=c("common.js.events"),e=null,g=k.jsItem;g.substring(1);var y="item-move";i.prototype={setIsCanDrag:function(a){this._isCanDrag=a},dragable:function(){var c=this;this.container.delegate(k.jsItem,"mousedown",function(e){function i(a){var b=
o(a),a=b.x,b=b.y,d=a-z+j,e=b-h+f;0<d&&d+v.offsetWidth<c.container.width()+10&&(j=d);0<e&&e<c.container.height()&&(f=e);v.style.left=j+"px";v.style.top=f+"px";z=a;h=b;c._dealMeet(v);return!1}function k(){d(document).off("mousemove",i);d(document).off("mouseup",k);a.ie?v.releaseCapture():v.style.opacity="";c._moveTo(v,function(){d(v).insertBefore(c.placeHolder).removeClass(y);c.placeHolder.hide();var a=d(g).index(v);c.activeIndex!=a&&(c.activeIndex=a,b.emit("sorted"))});return!1}function n(){return c._isCanDrag?
!1:!0}c.container.on("click",n);if(!(0<=e.target.className.indexOf("js_modify")||0<=e.target.className.indexOf("js_delete"))){c.activeIndex=d(g).index(this);a.ie?this.setCapture():this.style.opacity=0.8;this.style.left=this.offsetLeft+"px";this.style.top=this.offsetTop+"px";this.className=this.className+" "+y;c.placeHolder.insertBefore(this);c.placeHolder.show();var j=parseInt(this.style.left),f=parseInt(this.style.top),e=o(e),z=e.x,h=e.y;c._registePosition();var v=this;d(document).on("mousemove",
i);d(document).on("mouseup",k);d(document).off("mouseup",n);return!1}})},_registePosition:function(){e=[];d(g,this.container).each(function(a){e.push({left:this.offsetLeft,top:this.offsetTop,index:a,thisObj:this})});this.placeHolder.index=d("li,",this.container).index(this.placeHolder)},_dealMeet:function(a){for(var b=a.offsetLeft,d=a.offsetTop,c=0;c<e.length;c++)if(e[c].thisObj!==a&&Math.abs(e[c].left-b)<0.5*a.offsetWidth&&Math.abs(e[c].top-d)<0.3*a.offsetHeight){this.placeHolder.index>e[c].index?
this.placeHolder.insertBefore(e[c].thisObj):this.placeHolder.insertAfter(e[c].thisObj);this._registePosition();break}},_moveTo:function(a,b){function d(){i+=(g-c)/k;h+=(f-e)/k;a.style.left=i+"px";a.style.top=h+"px";o++<k?window.setTimeout(d,q):b()}var c=a.offsetLeft,e=a.offsetTop,g=this.placeHolder.get(0).offsetLeft,f=this.placeHolder.get(0).offsetTop,i=c,h=e,k=6,q=20,o=0;10>Math.abs(g-c)&&10>Math.abs(f-e)?b():window.setTimeout(d,q)}};return i});
__d("common.js.placeholder",["common.js.browser"],function(x,w,r,c){c("common.js.browser");return function(c,o,k){"length"in c||(c=Array(c));for(var d=0,a=c.length;d<a;d++){"id"in c[d]||(c[d].id="p"+(new Date).getTime());var b=document.createElement("label");b.setAttribute("for",c[d].id);b.innerHTML=o;b.style.cssText="position:absolute;color:#999;z-index:999; background-color: #FFFFFF; ";b.className=k;c[d].parentNode.appendChild(b);c[d].setAttribute("autoComplete","off");c[d].onkeydown=c[d].onmousedown=
function(){b.style.display="none"};b.onclick=function(a){return function(){this.style.display="none";a.focus()}}(c[d]);var e=function(a,b){return function(){""==b.value&&(a.style.display="")}}(b,c[d]);window.addEventListener?c[d].addEventListener("blur",e,!1):c[d].attachEvent("onblur",e)}}});
__d("common.js.timeHint",[],function(){function x(w,r){this.duration=r||3E3;this.timeHandler=null;this.elem=w}x.prototype={show:function(w,r){var c=this,r=r||{};c.timeHandler&&window.clearTimeout(c.timeHandler);r.text&&c.elem.html(r.text);c.elem.css(w);c.elem.show();c.timeHandler=window.setTimeout(function(){c.elem.hide()},c.duration)},hide:function(){this.timeHandler&&(window.clearTimeout(this.timeHandler),this.timeHandler=null);this.elem.hide()}};return x});
__d("widget.popup.confirm",["widget.popup.base"],function(x,w,r,c){c("widget.popup.base");$.widget("hao123.confirm",$.lottery.popup,{options:{className:"popup-confirm",isModel:!0,okText:"\u786e\u5b9a"},_create:function(){this._baseCreate();var c=this.element,o=this;$(".js_title",c).html(this.options.title);$(".js_text",c).html(this.options.text);$(".js_close",c).click(function(){o._baseHide();o._trigger("close");return!1});$(".js_ok",c).click(function(){o._baseHide();o._trigger("ok")}).text(o.options.okText);
$(".js_cancel",c).click(function(){o._baseHide();o._trigger("cancel")})},show:function(){this._baseShow()}});return r});
__d("common.js.login",["common.js.events","common.js.config"],function(x,w,r,c,i,o){function k(c){var i={apiOpt:{safeFlag:0,memberPass:!0,staticPage:window.location.protocol+"//"+window.location.host+"/jumpv3.htm",u:window.location.href,product:"hao123",subpro:"hao123-indexnu"},authsite:["qzone","tsina","renren"],tangram:!window.baidu||!window.baidu.version||0!==window.baidu.version.indexOf("2."),cache:!1,registerLink:"https://passport.baidu.com/v2/?reg&tpl=hao123&regType=1&subpro=hao123-indexnu&u="+
window.location.href,forgetLink:"https://passport.baidu.com/?getpass_index",onLoginSuccess:function(c){var g={rspData:c.rsp.data,origin:c};c.returnValue=!1;e=!0;a.hide();b&&b(g);d.emit("login.success",g)}};c&&$.extend(i,c);a=passport.pop.init(i)}var d=c("common.js.events"),a,b,e=c("common.js.config").get("userinfo").islanding;w.exports={init:function(b){a||o(["common.js.jquery"],function(a){a.getScript(window.location.protocol+"//passport.baidu.com/passApi/js/uni_login_wrapper.js?cdnversion="+ +new Date,
function(){k(b)})})},show:function(c){a.show();b=c},hide:function(){a.hide()},isLogin:function(){return e}};return r});
__d("widget.popup.alert",["widget.popup.base"],function(x,w,r,c){c("widget.popup.base");$.widget("hao123.alert",$.lottery.popup,{options:{className:"popup-alert",isModel:!0,okText:"\u786e\u5b9a"},_create:function(){this._baseCreate();var c=this.element,o=this;$(".js_title",c).html(this.options.title);$(".js_text",c).html(this.options.text);$(".js_close",c).click(function(){o._baseHide();return!1});$(".js_ok",c).click(function(){o._baseHide();o._trigger("ok")}).text(o.options.okText)},show:function(){this._baseShow()}});
return r});
__d("widget.site.siteModel","widget.site.config,common.js.events,common.js.cookie,common.js.login,common.js.JSON,common.js.config,common.js.jquery".split(","),function(x,w,r,c){function i(){(new Date).getTime();return o()?{key:(new Date).getTime(),c:o()}:null}function o(){var a=g.getBaiduId();return(a=g.getFlashId()||a)?window.encodeURIComponent(a):null}function k(a){var b=window.location.search.match(/[?&]tn=([^&<>'"]+)/);1==s.get("tnuser")&&(a=a+"?tn="+b[1]);return a}function d(a){if(a)for(var b=0;b<
n.length;b++)n[b].id=a[n[b].id],n[b].style=""}function a(a){return a.replace(/(.*)\/$/,"$1").toLowerCase()}var b=c("widget.site.config"),e=c("common.js.events"),g=c("common.js.cookie"),y=c("common.js.login"),m=c("common.js.JSON"),s=c("common.js.config"),l=c("common.js.jquery"),p=b.url,n=[],j={setData:function(a){n=a},checkLimit:function(a){if(a&&this.getItemById(a).status==b.guestStatus)return 0;for(var c=a=0;c<n.length;c++)n[c].status==b.guestStatus&&a++;return a>=b.guestMaxLength?517:0},getUserDataCount:function(){for(var a=
0,c=0;c<n.length;c++)n[c].status==b.guestStatus&&a++;return a},getData:function(){return n},checkIsShowSave:function(){if(y.isLogin())return!1;var a=this.getUserDataCount();return a>=b.showSaveMax?a:!1},checkIsShowRecover:function(){return 0==n.length||500<n[0].id?!0:!1},checkFull:function(){return n.length>=b.siteMaxlength?514:0},checkAddDuplicate:function(a){for(var b=0;b<n.length;b++)if(n[b].url==a)return 501;return 0},checkModifyDuplicate:function(a){if(a.url==this.getItemById(a.id).url)return 0;
for(var b=0;b<n.length;b++)if(n[b].url==a.url)return 501;return 0},init:function(a){n=a},setRecommend:function(){},getModifyItem:function(a){return modifyItem=this.getItemById(a)},getItemById:function(a){for(var b=0;b<n.length;b++)if(n[b].id==a)return n[b]},deleteItemById:function(a){for(var b=0;b<n.length;b++)n[b].id==a&&n.splice(b,1)},getUser:function(){var a=i();l.ajax({url:p.user,success:function(a){switch(a.code){case 200:e.emit("getUser",{userName:a.name,code:200});break;default:e.emit("getUser",
{userName:"",code:a.code})}},error:function(){e.emit("getUser",{userName:"",code:"900"})},data:a,dataType:"json",type:"GET"})},sort:function(a){l.post(p.sort,l.extend({ids:a},i()),function(a){e.emit("operated");switch(a.code){case 200:break;case 201:d(a.data.map);e.emit("firsted",a.data.map);break;default:e.emit("error",{code:a.code,src:"sort"})}},"json")},recover:function(){l.getJSON(p.recover,i(),function(a){switch(a.code){case 200:n=a.data.sites;e.emit("recovered",a.data.sites);break;default:e.emit("error",
{code:a.code,src:"recover"})}})},addTwo:function(a){var b=j.checkAddDuplicate(a.url);0<b?e.emit("error",{code:b,src:"feadd"}):(a.key=(new Date).getTime(),l.post(p.add,l.extend(a,i(),{type:"recommend"}),function(b){e.emit("operated");var c=null;switch(b.code){case 200:c={icon:b.data.icon,name:a.name,url:a.url,id:b.data.id,status:b.data.status,obj:a.obj};n.push(c);e.emit("addtwoed",c);break;default:e.emit("error",{code:b.code,src:"addtwo"})}},"json"))},add:function(a){var b=j.checkAddDuplicate(a.url);
0<b?e.emit("error",{code:b,src:"feadd"}):(a.key=(new Date).getTime(),l.post(p.add,l.extend(a,i()),function(b){e.emit("operated");var c=null;switch(b.code){case 201:d(b.data.map),e.emit("firsted",b.data.map);case 200:c={isRecommend:a.isRecommend,icon:b.data.icon,name:a.name,url:a.url,id:b.data.id,status:b.data.status,type:a.type,obj:a.obj};n.push(c);e.emit("added",c);break;default:c="add",a.isSynadd&&(c="synadd"),e.emit("error",{code:b.code,src:c})}},"json"))},addBanner:function(a,b){l.post(p.add,
l.extend(a,i()),function(c){e.emit("operated");var d=null;switch(c.code){case 200:d={icon:c.data.icon,name:a.name,url:a.url,id:c.data.id,status:c.data.status};n.push(d);b(!0,d);break;default:b(!1,c.code)}},"json")},updateBanner:function(a,b){var c=this;l.post(p.modify,l.extend(a,i()),function(g){e.emit("operated");switch(g.code){case 201:d(g.data.map);var i=c.getItemById(g.data.id);i.name=a.name;i.url=a.url;i.oldId=i.id;i.id=g.data.id;i.status=g.data.status;i.icon=g.data.icon;b(!0,i);break;default:b(!1,
g.code)}},"json")},adds:function(a){var b=m.parse(a);l.post(p.adds,l.extend(i(),{urls:a}),function(a){e.emit("operated");switch(a.code){case 200:n=n.concat(b),d(a.data.map),e.emit("addsed",n)}},"json")},addClickSync:function(a){l.post(p.add,l.extend(a,i(),{type:"recommend"}),function(b){e.emit("operated");var c=null;switch(b.code){case 201:d(b.data.map),e.emit("firsted",b.data.map);case 200:c={icon:b.data.icon,name:a.name,url:a.url,id:b.data.id,status:b.data.status};n.push(c);e.emit("addClickSynced",
c);break;default:e.emit("error",{code:b.code,src:"addClickSync"})}},"json")},doDelete:function(a,b){l.getJSON(p.doDelete,l.extend({id:a},i()),function(c){e.emit("operated");switch(c.code){case 201:j.deleteItemById(a);d(c.data.map);b||e.emit("firsted",c.data.map);e.emit("delete");break;case 200:j.deleteItemById(a);e.emit("delete");break;default:e.emit("error",{code:c.code,src:"del"})}})},delRecommend:function(){l.getJSON(k(p.delRecommend),i(),function(a){500<=a.code&&e.emit("error",{code:a.code,src:"delRecommend"})})},
delRecombyid:function(a){l.getJSON(k(p.delRecombyid),l.extend({id:a},i()),function(a){500<=a.code&&e.emit("error",{code:a.code,src:"delRecombyid"})})},modify:function(a,b){var c=j.checkModifyDuplicate(a);if(0<c)e.emit("error",{code:c,src:"femodify"});else{var g=this;l.post(p.modify,l.extend(a,i()),function(c){e.emit("operated");switch(c.code){case 201:d(c.data.map),b||e.emit("firsted",c.data.map);case 200:var h=g.getItemById(201==c.code?c.data.map[c.data.oldid]:c.data.oldid);h.name=a.name;h.url=a.url;
h.id=c.data.id;h.status=c.data.status;h.icon=c.data.icon;b||e.emit("modified",h);break;default:e.emit("error",{code:c.code,src:"modify"})}},"json")}},refresh:function(){var a=i();if(!a)return!1;l.ajax({url:p.init,success:function(a){switch(a.code){case 200:a.data.isuser?(n=a.data.sites,e.emit("refreshed",!0)):e.emit("refreshed",!1);break;default:e.emit("error",{code:a.code,src:"refreshSuccess"})}},error:function(){l.ajax({url:p,data:i(),success:function(a){e.emit("error",{code:"588",src:"refresh"+
a.substring(0,500)})},dataType:"text",type:"GET"})},data:a,dataType:"json",type:"GET"})},sortData:function(a){var b={};l.each(n,function(){b[this.id]=this});n=[];l.each(a,function(){n.push(b[this])});return n},getCRdata:function(){var b=i();b.n=6;var c={};l.each(n,function(){c[a(this.url)]=this.id});0<document.URL.indexOf("sitepopuppreview")&&(b.preview=1);l.ajax({url:k(p.cr),success:function(b){l.each(b.data.cms,function(){this.isTitle||(this.isAdded=Boolean(c[a(this.url)]),this.id=c[a(this.url)])});
e.emit("cred",b)},error:function(a,b,c){e.emit("error",{code:599,src:"cr"+b+c})},data:b,dataType:"json",type:"GET"})}};return j});
__d("widget.site.siteView","widget.site.config,common.js.events,common.js.cookie,common.js.format,common.js.browser,common.js.JSON,common.js.config,common.js.widget,widget.suggest.suggest,widget.suggest.nssug".split(","),function(x,w,r,c){function i(){o("");k("")}function o(a){h.sugName.val(a);""==a?v.sugNamePlaceholder.show():v.sugNamePlaceholder.hide()}function k(a){h.sugUrl.val(a);""==a?v.sugUrlPlaceholder.show():v.sugUrlPlaceholder.hide()}function d(a){a=$.trim(a);/^.+:\/\/.*$/i.test(a)||(a="http://"+
a);a=a.replace(/^(.+:\/\/)([^\/?]+)(.*)$/,function(a,b,c,d){return/^(https?|ftp)/i.test(b)?b.toLowerCase()+c.toLowerCase()+d:"http://"+c.toLowerCase()+d});a=a.replace(/^(.+:\/\/[^\/?]+)[\/?]$/,"$1");return a=a.replace(/\x3c/g,"").replace(/\x3E/g,"").replace(/\x22/g,"").replace(/\x27/g,"")}function a(a){return a?"http://sc"+(parseInt("0"+a.split(".")[0])%2+1)+"."+l.iconBaseUrl+a:l.defaultIconUrl}function b(a){a=$.trim(a);a=a.replace(/^(.+:\/\/[^\/?]+)[\/?]$/,"$1");return m(a)}function e(a){return 6>
a.length?"":g(a)}function g(a){for(var a=$.trim(a),b=0,c=0;c<a.length;c++)if(b=/\w/.test(a.charAt(c))?b+8:b+14,80<b){a=a.substring(0,c)+"...";break}2==a.length?a=a.charAt(0)+"&#12288;"+a.charAt(1):3==a.length&&(a=a.charAt(0)+" "+a.charAt(1)+" "+a.charAt(2));return m(a,!0)}function y(a){return a.replace("&#12288;","").replace(/ /g,"").replace("\u3000","")}function m(a){return a=a.replace(/\x3c/g,"&lt;").replace(/\x3E/g,"&gt;").replace(/\x22/g,"&quot;").replace(/\x27/g,"&#39;")}function s(a,b){return!a||
!b?!1:a.replace(/(.*)\/$/,"$1").toLowerCase()==b.replace(/(.*)\/$/,"$1").toLowerCase()}var l=c("widget.site.config"),p=c("common.js.events"),n=c("common.js.cookie"),j=c("common.js.format");c("common.js.browser");var f=c("common.js.JSON"),z=c("common.js.config");c("common.js.widget");c("widget.suggest.suggest");var x=c("widget.suggest.nssug"),h,v,q=l.jsItem,B=null,A=null;return r={onBannerAdd:function(c){c=$(j(l.tpl.item,{id:c.id,name:g(c.name),url:b(c.url),icon:HAO.httpsTrans(a(c.icon)),title:e(c.name),
status:c.status}));c.width(108);c.insertBefore(h.bd.find(".js_item-add"));h.bd.find(".js_item-add").remove();this._addAddBtn()},updateBanner:function(b,c,d){var e=$("#site .site-hot-w");$(".site-hot-relink",e);var f=$(".site-hot-link",e),A=$(".site-hot-link2",e),h=a(b.icon),i=f.offset().top-c.offset.top,k=f.offset().left-c.offset.left;(function(){A.show().animate({left:"-="+k,top:"-="+i,opacity:1},500,function(){A.hide();$(".js_text",c.link).html(g(b.name));$(".js_text",c.link).attr("style","background:url("+
h+") no-repeat 0px 2px;");$(".js_text",c.link).attr("href",f.attr("href"));d._hideBanner();d._trigger("bannerlink",null,{iu:0})})})()},onSecondAdd:function(c){$(j(l.tpl.item,{id:c.id,name:g(c.name),url:b(c.url),icon:HAO.httpsTrans(a(c.icon)),title:e(c.name),status:c.status})).insertBefore(h.bd.find(".js_item-add"));h.bd.find(".js_item-add").remove();this._addAddBtn()},doBlink:function(){var a=0,b=["#f3f3f3","#f7f7f7"];window.setTimeout(function(){h.blink.css("background-color",b[a%2]);a++;8>a&&window.setTimeout(arguments.callee,
200)},200)},_getPosition:function(a){for(var b={left:a.offsetLeft,top:a.offsetTop},a=a.offsetParent;a&&!$(a).hasClass("popup-site");)b.left+=a.offsetLeft,b.top+=a.offsetTop,a=a.offsetParent;b.top-=34;return b},on517:function(){i();h.modify.hide();h.add.show()},getRecommends:function(){var a=[];h.recommends.each(function(){var b=$(this).find("a");a.push({name:b.html(),url:b.get(0).getAttribute("href",2),id:$(this).attr("data-id"),icon:$(this).attr("data-icon"),status:1})});return f.stringify(a)},onAddClickSynced:function(c){$(j(l.tpl.item,
{id:this.id,name:g(c.name),url:b(c.url),icon:HAO.httpsTrans(a(c.icon)),title:e(c.name),status:c.status})).insertBefore(h.topRecommend);h.topRecommend.remove();h.topRecommendHint.remove()},clearHint:function(){h.hintSug.hide();h.hintSave.hide();h.hintNoicon.hide();h.hintAdded.hide()},onRcommendDeleteOver:function(a){a=v._getPosition(a);a.left-=45;a.top-=6;h.hintNoicon.show(a,{text:l.emptyText})},onRcommendDeleteOut:function(){h.hintNoicon.hide()},onImported:function(a){if("none"!=h.psite.get(0).style.display){v.updatePopup(a);
v.clearError();i();var b={};$.each(a,function(){b[this.url]=this.id});h.psite.find(".item").each(function(){var a=this.href.replace(/(.*)\/$/,"$1");b[a]&&(this.className="item item-added",this.setAttribute("data-id",b[a]))})}else this.update(a)},onRefreshed:function(a){a?h.refresh.show():(h.refresh.hide(),h.manage.show(),h.bd.find(".js_item-add").show())},onRefreshClick:function(a){h.refresh.hide();h.manage.show();v.update(a)},onAddedClick:function(a){v._recoverAdded(a.href);i();h.modify.hide();h.add.show();
h.sites.find(q).each(function(){if(this.getAttribute("data-id")==a.getAttribute("data-id"))return $(this).remove(),!1});this.clearError();h.hintNoicon.hide();h.hintAdded.hide();h.hintSave.hide();h.hintSug.hide();h.recover.show();return a.getAttribute("data-id")},onAddedItemOut:function(){h.hintNoicon.hide()},onAddedItemOver:function(a){h.hintAdded.hide();h.hintNoicon.show(v._getPosition(a),{text:l.adddedText})},onItemClick:function(a){var b=a.innerHTML,c=a.getAttribute("href",2);return""!=$.trim(b)&&
""!=$.trim(c)?(A=a,{name:$.trim(b),url:d(c),type:a.getAttribute("data-type")}):!1},onFirsted:function(a){h.sites.find(q).each(function(){var b=this.getAttribute("data-id");this.setAttribute("data-id",a[b])})},onRecovered:function(a){h.noDataHint.hide();h.recover.hide();h.saveForeverHint.hide();v.updatePopup(a);h.cms.find(".item-added").each(function(){this.className="js_recommend item item-normal"});h.recommendContent.find(".item-added").each(function(){this.className="js_recommend item item-add"});
$.each(a,function(){});this.clearError();i();h.add.show();h.modify.hide();h.hintAdded.hide()},onRecommendControlClick:function(){h.recommend.html(l.tpl.recommendNone);h.options.recommendCount=0;h.hintNoicon.hide()},onSorted:function(){var a=[];h.recover.show();$(q,h.sites).each(function(){var b=this.getAttribute("data-id");""!=$.trim(b)&&a.push(b)});return a},onCred:function(a){h.recommendContent.html("");if(0<h.recommendData.length){h.recommendCount.html(h.recommendData.length);var c=l.tpl.recommend;
$.each(h.recommendData,function(){h.recommendContent.append(j(c,{name:m(this.title),url:b(this.url),id:this.id}))});h.recommend.show()}else h.recommend.hide();var d=[];h.cms.html("");n.get("stip0")?n.get("stip1")?h.tipDel.hide():h.tipDel.show():h.cms.html(l.tpl.tipTpl);!n.get("stip2")&&!h._tipsave?h.tipSave.show():h.tipSave.hide();h._tipsave2=!0;$.each(a.data.cms,function(){this.isTitle?(h.cms.append(j(l.tpl.cms,{name:this.name,content:d.join("")})),d=[]):d.push(j(l.tpl.cmsContent,{className:this.isAdded?
"item item-added":"js_recommend item item-normal",name:this.name,url:this.url,id:this.id,itemStyle:this.isImportant?"class='important'":""}))})},onItemModifyClick:function(a){h.modify.show();h.add.hide();B=a=$(a);h.sugName.get(0).focus();o(a.attr("data-name"));k(a.attr("data-url"));v.clearError()},_recoverAdded:function(a){h.psite.find(".item-added").each(function(){s(a,this.href)&&(this.className="cms"==this.getAttribute("data-type")?"js_recommend item item-normal":"js_recommend item item-add")})},
onItemDeleteClick:function(a){h.psite.find(".item-added").each(function(){var b=this.getAttribute("data-id");if(b&&b==a.getAttribute("data-id"))return v._recoverAdded(this.href),!1});$(a).remove();h.recover.show();i();h.add.show();h.hintAdded.hide();h.modify.hide();0==h.sites.find(".js_site-item").length&&(h.noDataHint.show(),h.sites.hide())},onAdded:function(a){h.noDataHint.hide();h.hintSave.hide();h.recover.show();h.sites.show();h.sites.append(j(l.tpl.editItem,{id:a.id,url:b(a.url),name:g(a.name),
rawName:a.name,status:a.status||""}));i();a.type&&(h.hintAdded.show(v._getPosition(A),{text:l.addedText}),A=null);$(".js_recommend",h.psite).each(function(){s(this.getAttribute("href",2),a.url)&&(this.className="item item-added",this.setAttribute("data-id",a.id))})},onModified:function(a){h.add.show();h.recover.show();h.modify.hide();$(j(l.tpl.editItem,{id:a.id,url:b(a.url),name:g(a.name),rawName:a.name,status:a.status||""})).insertBefore(B);B.remove();i();$(".item-added",h.psite).each(function(){s(this.href,
B.attr("data-url"))&&(this.className="cms"==this.getAttribute("data-type")?"js_recommend item item-normal":"js_recommend item item-add")});B=null},_refreshState:function(a){$(".js_recommend",h.psite).each(function(){s(this.href,a.url)&&(this.className="item item-added",this.setAttribute("data-id",a.id))})},onAddClick:function(){if(!this._check())return!1;this.clearError();return{name:$.trim(h.sugName.val()),url:d(h.sugUrl.val())}},onModifyClick:function(){if(!this._check())return!1;this.clearError();
return{name:$.trim(h.sugName.val()),url:d(h.sugUrl.val()),id:B.attr("data-id")}},init:function(a){h=a;z.get("isStatic");a=!1;v=this;v.sugNamePlaceholder=$("#js_placeholder-name");v.sugUrlPlaceholder=$("#js_placeholder-url");h.sugName.bind("focus keydown",function(){v.sugNamePlaceholder.hide()});h.sugUrl.bind("focus keydown",function(){v.sugUrlPlaceholder.hide()});h.sugName.blur(function(){""==this.value&&v.sugNamePlaceholder.show()});h.sugUrl.blur(function(){""==this.value&&v.sugUrlPlaceholder.show()});
var b=n.getFlashId();!h.isLanding&&null==b&&(a=!0);h.isLanding&&h.save.hide();return a},showRefresh:function(){h.refresh.show()},onManageClick:function(a,b){a?h.recover&&h.recover.show():h.recover&&h.recover.hide();i();b?v.showSaveMessage():h.saveForeverHint.hide()},showSaveMessage:function(){n.get(h.saveHintCookie)||(h.saveForeverHint.show(),h._tipsave=!0,h._tipsave2&&h.tipSave.hide())},getSiteData:function(){var a=[],b=this;$(q+':not(".site-item-recommend")',h.bd).each(function(){var c=this.children[0],
d=$(this).children("a").eq(1);d.length?a.push({id:this.getAttribute("data-id"),name:y(c.getAttribute("data-title")),url:c.getAttribute("href",2),status:this.getAttribute("data-status"),icon:b._getIcon(c),style:this.getAttribute("data-style"),name2:d.text(),url2:d.attr("href")}):a.push({id:this.getAttribute("data-id"),name:y(c.getAttribute("data-title")),url:c.getAttribute("href",2),status:this.getAttribute("data-status"),icon:b._getIcon(c),style:this.getAttribute("data-style")})});return a},_getIcon:function(a){var b=
a.parentNode.getAttribute("data-icon");return b?b:""!=a.style.backgroundImage?a.style.backgroundImage.match(/^.*\/([^)]+)/)[1]:"6000.png"},update:function(c){if(0>=c.length)h.bd.html(l.tpl.noData);else{var d=[];$.each(c,function(){var c=j(l.tpl.item,{id:this.id,name:g(this.name),url:b(this.url),icon:HAO.httpsTrans(a(this.icon)),title:e(this.name),status:this.status,style:this.style});1==this.status&&this.name2&&""!=this.name2&&(c=j('<li class="js_site-item g-ib site-item site-item-normal " data-id="#{id}" data-status="1"><a class="js_text " href="#{url}" style="background-image:url(#{icon})" data-title="#{name}" hidefocus="true">#{name}</a>&nbsp;\u2022&nbsp;<a href="#{subUrl}" style="background:none;padding-left:0;padding-right:5px;position:relative;z-index:999;display:inline-block;">#{subName}</a></li>',
{id:this.id,url:b(this.url),icon:HAO.httpsTrans(a(this.icon)),name:this.name,subName:this.name2,subUrl:this.url2}));d.push(c)});h.bd.html(d.join(""));this._addAddBtn();h.add.show();h.modify.hide();i()}},_addAddBtn:function(){var a=h.bd.find(".js_site-item").length;if(6!=a){var b="";0<h.recommendData.length&&(b=j(l.tpl.addRecommend,{count:h.recommendData.length}));if(0==a%6){var a=";max-width:60px;_width:60px;min-width:56px; overflow:hidden; text-overflow: ellipsis;white-space: nowrap;",c=h.bd.find("li:last a").get(0);
if(1==h.bd.find("li:last").data("status")&&("\u5f69\u7968"==c.innerHTML||"\u4f18\u9177"==c.innerHTML||"\u641c\u72d0"==c.innerHTML||"\u817e\u8baf"==c.innerHTML||"\u65b0\u534e"==c.innerHTML||"\u5f71\u89c6"==c.innerHTML))a="";c.style.cssText+=a;h.bd.append(j(l.tpl.addShortBtn,{recommend:b}))}else h.bd.append(j(l.tpl.addNormalBtn,{recommend:b}))}},updatePopup:function(a){var c=[];$.each(a,function(){c.push(j(l.tpl.editItem,{id:this.id,url:b(this.url),name:g(this.name),rawName:this.name,status:this.status||
""}))});0==c.length?(h.noDataHint&&h.noDataHint.show(),h.sites&&h.sites.hide()):(h.noDataHint&&h.noDataHint.hide(),h.sites&&h.sites.html(c.join("")).show())},initSug:function(){h.sugName.suggest({classes:"suggest-site",eventSpace:"sitesuggest"}).suggest("handler",this._nssug).on("suggestinput",function(){if(""!=$.trim(h.sugUrl.val()))return!1});h.sugUrl.suggest({classes:"suggest-site",eventSpace:"sitesuggest"}).suggest("handler",this._nssug).on("suggestinput",function(){if(""!=$.trim(h.sugName.val()))return!1});
p.on("sitesuggest.change",function(a){if(0==a.index)return!0;o(a.data[0]);k(a.data[1]);return!1});p.on("sitesuggest.submit",function(){"none"!=h.add.get(0).style.display?h.add.click():h.modify.click();return!1})},_nssug:x("superpage",{sc:"hao123"},function(a){var b=a.s,c={},a=a.q;if(0==b.length)this.hide();else{this.clear();for(var d=0,e=0;d<b.length&&5>e;d++){var f=$.parseJSON(b[d].split("0{#S+_}")[1]);f&&(f[1]=f[1]||"",f[4]&&(f[4]=f[4]||"",c[f[4]]||(e++,c[f[4]]=!0,this.add(f[4],j('<span class="name">#{title}</span><span class="url">#{text}</span>',
{title:f[4].replace(a,"<strong>"+a+"</strong>"),text:f[1].replace(a,"<strong>"+a+"</strong>")}),[f[4],f[1]]))))}this.show()}}),clearError:function(){h.sugName.removeClass(l.css.sugError);h.sugUrl.removeClass(l.css.sugError);h.hintSug.hide()},showError:function(a){switch(a){case 515:case 512:h.hintSug.show(v._getPosition(h.sugName.get(0)),{text:l.error[a]});h.sugName.addClass(l.css.sugError).get(0).focus();h.sugUrl.removeClass(l.css.sugError);break;case 516:case 513:case 501:h.hintSug&&(h.hintSug.show(v._getPosition(h.sugUrl.get(0)),
{text:l.error[a]}),h.sugUrl.addClass(l.css.sugError).get(0).focus(),h.sugName.removeClass(l.css.sugError));break;case 514:h.hintSave.show(v._getPosition(h.sugUrl.get(0)),{text:l.error[a]});break;case 507:break;case 599:break;case 588:break;case 600:case 601:case 602:case 603:h.hintSug.show(v._getPosition(h.sugUrl.get(0)),{text:"\u51fa\u73b0\u9519\u8bef\uff0c\u8bf7\u7a0d\u4faf\u91cd\u8bd5\uff01"});break;case 900:break;case 500:break;default:h.hintSave&&h.hintSave.show(v._getPosition(h.sugUrl.get(0)),
{text:l.error[a]})}},_check:function(){var a=$.trim(h.sugName.val()),b=$.trim(h.sugUrl.val());if(""==a)return this.showError(515);if(0>=b.length||/^(https?:\/\/|ftp:\/\/)$/i.test(b))return this.showError(516);if(a.length>l.nameMaxLength)return this.showError(512);if(b.length>l.urlMaxLength)return this.showError(513);this.clearError();return!0}}});
__d("widget.site.log",["common.js.login","common.js.log","common.js.config"],function(x,w,r,c){function i(a,b){var a=a||{},c;for(c in b)a[c]=b[c];return a}var o=c("common.js.login"),k=c("common.js.log"),d=c("common.js.config");return function(a){function b(){return o.isLogin()}var c={level:1,page:d.get("pageId")};0<$('#site .js_site-item[data-status="0"]').length&&k(i({type:"rpuser2",ut:"haveadd"},c));!d.get("userinfo").iscuser&&d.get("userinfo").recommendData&&k(i({type:"rpuser2",ut:"defadd"},c));
a.bind("sitemanageclick",function(){var a=i({type:"manage",isLogin:b()},c);k(a)});a.bind("siteintoaddclick",function(){var a=i({type:"intoadd",isLogin:b()},c);k(a)});a.bind("sitenoneaddclick",function(){var a=i({type:"noneadd"},c);k(a)});a.bind("sitelogin",function(a,b){var d=i({type:b.login,twicetype:b.twicelogin},c);k(d)});a.bind("sitedefaultlogin",function(){var a=$.parseJSON(d.get("userinfo").cinfo),a=i({type:"defaultLogin",cinfo:a?a.loginFrom:""},c);k(a)});a.bind("siteadd",function(a,d){k(i({type:"add",
siteId:d.id,siteUrl:d.url,isLogin:b(),siteStatus:d.status||""},c))});a.bind("siteaddsync",function(a,d){k(i({type:"addsync",siteId:d.id,siteUrl:d.url,isLogin:b()},c))});a.bind("siterecommend",function(a,d){var m=i({type:"recommend",siteId:d.id,siteUrl:d.url,isLogin:b()},c);k(m)});a.bind("siteaddclicksync",function(a,d){var m=i({type:"addclicksync",siteId:d.id,siteUrl:d.url,isLogin:b()},c);k(m)});a.bind("sitecms",function(a,d){var m=i({type:"cms",siteId:d.id,siteUrl:d.url,isLogin:b(),siteStatus:d.status||
""},c);k(m)});a.bind("sitemodify",function(a,d){var m=i({type:"modify",siteId:d.id,siteUrl:d.url,isLogin:b(),siteStatus:d.status||""},c);k(m)});a.bind("sitedeletesync",function(){var a=i({type:"syncdelete"},c);k(a)});a.bind("sitedodelete",function(a,d){var m=i({type:"delete",siteId:d.id,siteUrl:d.url,isLogin:b(),siteStatus:d.status||""},c);k(m)});a.bind("siterecovered",function(){var a=i({type:"recover",isLogin:b()},c);k(a)});a.bind("sitetextclick",function(a,d){var m=i({type:"textclick",siteId:d.id,
siteUrl:d.url,status:d.status,isLogin:b()},c);k(m)});a.bind("siterefresh",function(){var a=i({type:"refresh"},c);k(a)});a.bind("siteerror",function(a,b){var d=i({type:"siteerror",code:b.code},c);b.info&&(d.info=b.info);k(d)});a.bind("siteerrorflash",function(){var a=i({type:"siteerrorflash"},c);k(a)});a.bind("sitemanagerecommend",function(){var a=i({type:"managerecommend"},c);k(a)});a.bind("sitedeleteallrecommend",function(){var a=i({type:"deleteallrecommend"},c);k(a)});a.bind("sitegetusererror",
function(a,b){var d=i({type:"getusererror",code:b},c);k(d)});a.bind("sitehintclose",function(){var a=i({type:"sitehintclose"},c);k(a)})}});
__d("widget.site.siteRecord",["common.js.JSON"],function(x,w,r,c){function i(){a=(a=window.localStorage.getItem(b))?d.parse(a):a}function o(c){null===a&&(a={});c in a||(a[c]=0);a[c]+=1;window.localStorage.setItem(b,d.stringify(a))}function k(){}var d=c("common.js.JSON"),a=null,b="index_sites",x=null,x={get:function(b){if(null===a)return b[0];var c=Number.MAX_VALUE,d;$.each(b,function(b,e){if(c>(a[e]?a[e]:0))c=a[e],d=e});return d}};window.localStorage?(x.add=o,x.init=i):(x.add=k,x.init=k);return x});
__d("widget.site.siteBanner","common.js.config,common.js.events,common.js.format,common.js.cookie,widget.site.siteModel,common.js.adjust,widget.site.siteRecord".split(","),function(x,w,r,c){var i;function o(a,c){var d;d=$(b(i,{title:a.title,url:a.url}));var e=s.find(".js_link").offset();d.css({top:e.top-20,left:e.left});e=$('#site li[data-id="'+a.id+'"]').offset();d.animate({top:e.top,left:e.left},1E3,function(){d.remove();c()});$("body").append(d)}function k(a){var b=/(https?|ftp):\/\/[^\/]+/,c=
a.match(b);if(!c)return!1;var c=c[0],d=!0;$("#site .js_text").each(function(a,e){if(0<=e.getAttribute("href",2).match(b).indexOf(c))return d=!1,!0});return d}var d=c("common.js.config"),a=c("common.js.events"),b=c("common.js.format"),e=c("common.js.cookie"),g=c("widget.site.siteModel"),y=c("common.js.adjust").adjust,m=c("widget.site.siteRecord"),s;i='<div class="site-move-item" style="background-image:url(http://sc2.hao123img.com/urlicon/#{icon})">#{title}</div>';var l,p=null;return r={excute:function(c){if(!d.get("userinfo").iscuser&&
!e.has("sitebanner")&&1===c.isShow){var i=d.get("userinfo").recommendData;if(!(i&&2<=i.length)){i&&1==i.length?p=i[0]:m.init();s=$("#site .site-hot-w");switch(c.type){case "replace":l=m.get(c.filterReplace);c.info2=g.getItemById(l).name;if(p&&(c.title=p.title,c.url=p.url,c.id=p.id,!k(c.url)))return;s.html(b('<div class="site-hot"><span>#{info}</span><span class="site-hot-relink">#{info2}</span><span class="site-hot-label">\u63a8\u8350\u66ff\u6362\u4e3a\uff1a</span><a class="site-hot-link site-hot-link-add js_link" href="#{url}"  hidefocu="true">#{title}</a><a class="site-hot-more js_more"  hidefocu="true">#{more}&nbsp;&gt;&gt;</a><a class="site-hot-close js_close" href="###"  hidefocu="true">\u5173\u95ed</a></div>',
c)).show();break;case "del":l=m.get(c.filterDelete),c.info2=g.getItemById(l).name,s.html(b('<div class="site-hot"><span>#{info}</span><span class="site-hot-relink">#{info2}</span><span class="site-hot-label">\u5efa\u8bae\u60a8\uff1a</span><a class="site-hot-link site-hot-link-del js_link" href="#" hidefocu="true">\u4e00\u952e\u5220\u9664</a><a class="site-hot-more js_more"  hidefocu="true">#{more}&nbsp;&gt;&gt;</a><a class="site-hot-close js_close" href="###"  hidefocu="true">\u5173\u95ed</a></div>',
c)).show()}s.find(".js_close").click(function(){e.set("sitebanner",1,{expires:30});s.slideUp();a.emit("banner.close",c.type);return!1});s.find(".js_more").click(function(){a.emit("banner.other",c.type);c.moreHandler()});s.find(".js_link").click(function(){var b={title:this.innerHTML,url:this.href,id:l,icon:c.icon};switch(c.type){case "replace":o(b,function(){c.replaceHandler(b);s.slideUp()});break;case "del":c.deleteHandler(b,s)}a.emit("banner.link",c.type);return!1});y();a.emit("banner.show",c.type)}}},
hide:function(){s&&s.hide(y)},slideUp:function(){s&&s.slideUp(y)},add:function(a){m.add(a)}}});
__d("widget.site.siteBannerLog",["common.js.events","common.js.log"],function(x,w,r,c){var i=c("common.js.events"),o=c("common.js.log");return function(){i.on("banner.show",function(c){o({type:"sitebannershow",sort:c})});i.on("banner.close",function(c){o({type:"sitebannerclose",sort:c})});i.on("banner.other",function(c){o({type:"sitebannerother",sort:c})});i.on("banner.link",function(c){o({type:"sitebannerlink",sort:c})})}});
__d("widget.site.site","common.js.format,common.js.events,common.js.cookie,common.js.config,common.js.profile,widget.popup.getTpl,common.js.adjust,common.js.timeHint,common.js.browser,widget.site.siteBanner,widget.site.siteBannerLog,common.js.login,widget.popup.mask,widget.site.siteResource,widget.popup.confirm,widget.popup.alert,widget.site.siteModel,widget.site.config,widget.site.siteView,widget.site.log,common.js.log,common.js.localcookie,widget.site.drag,common.js.widget".split(","),function(x,
w,r,c){var i=c("common.js.format"),o=c("common.js.events"),k=c("common.js.cookie"),d=c("common.js.config"),a=c("common.js.profile"),b=c("widget.popup.getTpl"),e=c("common.js.adjust").adjust,g=c("common.js.timeHint"),y=c("common.js.browser"),m=c("widget.site.siteBanner"),s=c("widget.site.siteBannerLog"),l=c("common.js.login"),p=c("widget.popup.mask"),n=c("widget.site.siteResource");c("widget.popup.confirm");c("widget.popup.alert");var j=c("widget.site.siteModel"),f=c("widget.site.config"),z=c("widget.site.siteView");
c("widget.site.log");c("common.js.log");var h=c("common.js.localcookie"),v=c("widget.site.drag"),q,B=!1;c("common.js.widget");$.widget("hao123.site",{options:{},_initTask:function(){function a(){k.set(b,1,{expires:0})}var b,c=window.location.search.match(/\?key=([^<>&]+)&taskid=5/);c&&c[1]&&(this.isTask=!0,b=c[1],this._onManageClick(),o.on("added",a),o.on("modified",a),o.on("delete",a))},_initBanner:function(){s();q.siteBannerConfig=$.extend(q.options.banner,{replaceHandler:function(a){q.bd.find('[data-id="'+
a.id+'"]').find("a").text(a.title).attr("href",a.url).get(0).style.background="url(http://sc2.hao123img.com/urlicon/"+a.icon+") no-repeat 0 0";q.model.modify({name:a.title,url:a.url,id:a.id},!0)},deleteHandler:function(a){q.bd.find('[data-id="'+a.id+'"]').slideUp(800,function(){q.model.doDelete(a.id,!0);m.slideUp()})},moreHandler:function(){q._onManageClick();m.hide()},filterReplace:q.options.banner.filterReplace.split(","),filterDelete:q.options.banner.filterDelete.split(",")});var a=$("#site");
a.on("click",".js_item-add",function(){m.hide()});$(".js_manage",a).click(function(){m.hide()});$(".js_text",a).click(function(){var a=this.parentNode.getAttribute("data-id");m.add(a)})},_init:function(){var a=this.element;q=this;q.config=f;q.iscuser=d.get("userinfo").iscuser;q.recommendData=d.get("userinfo").recommendData||[];q.newStyle=!1;for(var c=[];5<q.recommendData.length;)q.recommendData.pop();q.recommend2Text=c.title;q.recommend2Url=c.url;q.retried=0;q.isFromTopLogin=!1;q.view=z;q.model=j;
q.confirmPopup=$(b("confirm")).confirm({title:q.config.confirmTitle,text:q.config.confirmText});q.recoverPopup=$(b("confirm")).confirm({title:q.config.recoverTitle,text:q.config.recoverText});q.alertPopup=$(b("alert")).alert({title:q.config.alertTitle,text:q.config.alertText});q.recommends=$(".site-item-recommend",a);q.loading=$(".popup-site-loading",a);q.popContent=$(".popup-site-content",a);q.refresh=$(".js_refresh",a);q.refreshButton=$(".js_refresh-button",a);q.manage=$(".js_manage",a);q.add=$(".js_psite-add",
a);q.modify=$(".js_psite-modify",a);q.psite=$(".js_psite",a);q.sugName=$(".js_sug-name",a);q.sugUrl=$(".js_sug-url",a);q.save=$(".js_psite-save",a);q.saveForeverHint=$(".js_hint-saveForever",a);q.bd=$(".js_bd",a);q.dash=$("<li></li>");q.addCount=$(".js_add-count",a);q.topRecommend=$(".site-item-recommend",a);q.topRecommendLink=q.topRecommend.find(".js_text");q.topRecommendDelete=$(".js_recommend_delete",a);q.topRecommendHint=$(".site-item-recommend-hint",a);q.context=$("#popup-site-holder");q.psite.appendTo(q.context);
q.recommend2Js=$(i("<div class='rpjs'><div class='rp'><em class='left'></em><span>\u63a8\u8350:</span><a data-max-width='90' href='#{url}'>#{text}</a><i></i></div>",{text:q.recommend2Text,url:q.recommend2Url}));q.recommend2=q.recommend2Js.find(".rp");q.recommend2Em=q.recommend2Js.find("em");q.recommend2Link=q.recommend2.find("a");q.recommend2key="site_recommend2";q._bind();B||(q._eventBind(),B=!0);q.init();q.saveHintCookie="site_shave_hint";$(function(){window.setTimeout(q._hint,100);var a=d.get("userinfo").iscuser,
b=0;$("li",q.bd).each(function(a,c){if(0==c.getAttribute("data-status"))return b=1,!1});q._trigger("rp",null,{iszdyuser:a,isrpuser:b})});a=$(".site-hd0",q.element);q._initAlog(a);q._initTask()},_cal_alog_custom:function(a){var b="",a=a.split(",");1==a.length?b="ind:"+a[0]:2==a.length&&("y"==a[1]?a[1]=1:"n"==a[1]&&(a[1]=0),b="ind:"+a[0]+",sal:"+a[1]);return b},_initAlog:function(a){$("a",a).each(function(){var a=$(this).attr("cls");a&&$(this).attr("alog-custom",q._cal_alog_custom(a))})},_initRecommend:function(){q.recommends.click(function(){q.model.adds(q.view.getRecommends());
q.recommends.removeClass("site-item-recommend")})},init:function(){var a=this;a.isLanding=d.get("userinfo").islanding;a.userName=d.get("userinfo").username;a._initRecommend();a._initBanner();a.isLanding&&(a._trigger("defaultlogin",null),a.userName||a.model.getUser());var b;0<a.recommend2Link.length&&(b=a.recommend2Link.get(0).getAttribute("href",2));b=a.view.init(a,b);a.model.init(a.view.getSiteData());if(b){a.needRefresh=!0;var c=k.getBaiduId();h.wait(function(b,d){b&&d&&d!=c?a.model.refresh():(a.bd.find(".js_item-add").show(),
a.manage.show(),m.excute(a.siteBannerConfig))},2E3)}else m.excute(a.siteBannerConfig);this._ajust();this._delete1();this._delete2()},_initPopupVariable:function(){var a=this.context;this.close=$(".js_psite-close",a);this.sites=$(".js_psite-sites",a);this.recover=$(".js_psite-recover",a);this.recommendContent=$(".js_psite-recommend-content",a);this.recommendControl=$(".js_psite-recommend-control",a);this.recommendCount=$(".js_psite-recommend-count",a);this.cms=$(".js_psite-cms",a);this.recommend=$(".js_psite-recommend",
a);this.recover=$(".js_psite-recover",a);this.sug=$(".js_psite-sug",a);this.tipDel=$(".popup-site-tip-del",a);this.tipSave=$(".popup-site-tip-save",a);this.hintSug=new g($(".js_hint-sug",a));this.hintAdded=new g($(".js_hint-added",a));this.hintNoicon=new g($(".js_hint-noicon",a));this.hintSave=new g($(".js_hint-save",a),6E3);this.noDataHint=$(".js_nodata-hint",a);this.blink=$(".popup-site-blink",a)},_initPopupPopup:function(){var a=this;a.confirmPopup.bind("confirmok",function(){l.show(function(){$.getJSON("/api/getprof",
{c:k.getCSRFId(),key:+new Date},function(){window.location.href=window.location.href})});a._hidePsite()});a.confirmPopup.bind("confirmcancel",function(){a._showPopup()});a.confirmPopup.bind("confirmclose",function(){a._showPopup()});a.recoverPopup.bind("confirmok",function(){a.model.recover()});a.recoverPopup.bind("confirmcancel",function(){a._showPopup()});a.recoverPopup.bind("confirmclose",function(){a._showPopup()})},_initPopupEvent:function(){var a=this;a.save.click(function(){p.hide();a._hidePsite();
l.show(function(){$.getJSON("/api/getprof",{c:k.getCSRFId(),key:+new Date},function(){window.location.href=window.location.href})});a.saveForeverHint.hide();return!1});a.saveForeverHint.click(function(){k.set(a.saveHintCookie,1);a.saveForeverHint.hide();k.get("stip2")||a.tipSave.show()});a.psite.on("mouseover",".item-added",function(){a.view.onAddedItemOver(this)});a.psite.on("mouseout",".item-added",function(){a.view.onAddedItemOut(this)});a.psite.on("click",".js_recommend",function(){a._showTip();
if(!a._checkAdd())return!1;var b=a.view.onItemClick(this);b&&a.model.add(b);return!1});a.psite.on("click",".js_add-tip-close",function(){$(this).parent(".popup-site-tip-add").hide();k.set("stip0",1,{expires:30});k.get("stip1")||$(".popup-site-tip-del",a.context).show()});a.psite.on("click",".js_del-tip-close",function(){$(this).parent(".popup-site-tip-del").hide();k.set("stip1",1,{expires:30})});a.psite.on("click",".js_save-tip-close",function(){a.tipSave.hide();k.set("stip2",1,{expires:30})});a.psite.on("click",
".item-added",function(){var b=a.view.onAddedClick(this);a.model.doDelete(b);a._trigger("dodelete",null,{id:b,url:this.parentNode.getAttribute("data-url"),status:this.parentNode.getAttribute("data-status")});return!1});a.recover.click(function(){a._hidePsite();a.recoverPopup.confirm("show");return!1});a.close.click(function(){var b=a.view.onSorted();a.view.clearError();a.view.update(a.model.sortData(b));a._delete2();p.hide();a._hidePsite();a._trigger("backclick");a.tipSave.hide();k.set("stip2",1,
{expires:30});e();return!1});a.add.click(function(){if(a._checkAdd()){var b=a.view.onAddClick();b&&a.model.add(b)}return!1});a.modify.click(function(){var b=a.view.onModifyClick();if(!b)return!1;var c=0;if(!l.isLogin()&&(c=a.model.checkLimit(b.id),517==c))return a.confirmPopup.confirm("show"),a._hidePsite(),a.view.on517(),!1;if(0<c)return a.view.showError(c),!1;b&&a.model.modify(b);return!1});a.sites.on("click",".js_modify",function(){a.view.onItemModifyClick(this.parentNode);return!1});a.sites.on("click",
".js_delete",function(){a._showTip(1);a.view.onItemDeleteClick(this.parentNode);var b=this.parentNode.getAttribute("data-id");a.model.doDelete(b);a.model.checkIsShowSave()<a.config.showSaveMax&&a.saveForeverHint.hide();a._trigger("dodelete",null,{id:b,url:this.parentNode.getAttribute("data-url"),status:this.parentNode.getAttribute("data-status")});return!1})},_showTip:function(a){a?($(".popup-site-tip-del",q.context).hide(),k.set("stip1",1,{expires:30})):($(".popup-site-tip-add",q.context).hide(),
k.set("stip0",1,{expires:30}),k.get("stip1")||$(".popup-site-tip-del",q.context).show())},_initPopup:function(){this._initPopupVariable();this._initPopupPopup();this._initPopupEvent();this.siteDrag=new v(this.sites,this.dash);this.siteDrag.dragable();this.view.initSug();this.model.getCRdata()},_showPopup:function(){this.psite.show();p.show();this.recommend2Js.remove()},_checkAdd:function(){var a=0;l.isLogin()||(a=this.model.checkLimit());if(0<a)return this.confirmPopup.confirm("show"),this._hidePsite(),
!1;a=this.model.checkFull();return 0<a?(this.view.showError(a),!1):!0},_hidePsite:function(){this.view.clearHint();this.psite.hide()},_bind:function(){var a=this;$(document).bind("getprof",function(b,c){if(c&&c.urls)switch(result=c.urls,result.code){case 200:c=result.data.sites;a.view.onImported(c);a.model.init(c);break;default:a._trigger("error",null,{code:result.code+"getrof"})}});6==y.ie&&(this.bd.on("mouseover",".js_item-add",function(){$(this).addClass("site-item-add-hover")}),this.bd.on("mouseout",
".js_item-add",function(){$(this).removeClass("site-item-add-hover")}));a.bd.on("click",".js_item-add",function(){a._trigger("intoaddclick");a._onManageClick()});a.bd.on("click",".js_no-data",function(){a._onManageClick();a._trigger("noneaddclick");return!1});a.manage.click(function(){a._onManageClick();return!1});a.bd.delegate(".js_text","mousedown",function(){var b={};b.url=this.href;b.id=this.parentNode.getAttribute("data-id");b.status=this.parentNode.getAttribute("data-status");a._trigger("textclick",
null,b)})},_eventBind:function(){var b=this;o.on("firsted",function(c){b.view.onFirsted(c);a.set("urls","true")});o.on("recovered",function(c){b.view.onRecovered(c);b._showPopup();a.set("urls","false");b._trigger("recovered")});o.on("modified",function(a){b.view.onModified(a);b._trigger("modify",null,a)});o.on("cred",function(a){b.view.onCred(a)});o.on("sorted",function(){b.model.sort(b.view.onSorted().join(","))});o.on("site.update",function(a){b.model.setData(a.data.sites);b.view.update(a.data.sites)});
o.on("site.updatePopup",function(a){b._showPopup();b.model.setData(a.data.sites);b.view.updatePopup(a.data.sites)});o.on("getUser",function(a){a.userName?o.emit("login.otherSignin",a):b.retried<b.config.retry?(b.retried++,b._trigger("getusererror",null,b.retried+"_"+a.code),b.model.getUser()):(o.emit("login.otherSignin",{userName:""}),b.retried++,b._trigger("getusererror",null,b.retried+"_"+a.code))});o.on("operated",function(){a.set("urls","true")});o.on("addtwoed",function(a){b.view.onSecondAdd(a)});
o.on("addsed",function(a){b.view.onManageClick(!0,!1);b.view.updatePopup(a);b.loading.hide();b.popContent.show()});o.on("addClickSynced",function(a){b.isAddingClickSync||(b._addSecondRecommend(),b.isAddingClickSync=!1);b._trigger("addclicksync",null,a)});o.on("added",function(a){b.view.onAdded(a);b.model.checkIsShowSave()>=f.showSaveMax&&b.view.showSaveMessage();a.type?b._trigger(a.type,null,a):b._trigger("add",null,a)});o.on("refreshed",function(a){b.view.onRefreshed(a);a?b._trigger("showrefresh"):
m.excute(b.siteBannerConfig)});o.on("imported",function(a){b.view.onImported(a)});o.on("error",function(a){b._trigger("error",null,{code:a.code+a.src,info:a.info});b.view.showError(a.code)});b.refreshButton.click(function(){b.view.onRefreshClick(b.model.getData());b._trigger("refresh");return!1});o.on("login.signin",function(a){b.save.hide();b.saveForeverHint.hide();a.isInit||(b._trigger("login",null,{login:"login"}),b.recommend2Js.remove(),b.recommendData=[])})},_onManageClick:function(){this._hideHint();
this.isManageClicked||(this.isManageClicked=!0,$("#popup-site").get(0).className="popup-site",this._initPopup());0<this.element.find(".site-item-recommend").length&&!this.isTask?(this.loading.show(),this.popContent.hide(),this._showPopup(),this.model.adds(this.view.getRecommends())):(this.view.onManageClick(this.model.checkIsShowRecover(),this.model.checkIsShowSave()),this.view.updatePopup(this.model.getData()),this.loading.hide(),this.popContent.show(),this._showPopup(),this._trigger("manageclick"),
0>=$("#popup-site-holder .popup-site-recommend-sidenone").length&&this._trigger("managerecommend"))},_ajust:function(){$("#site").bind("sitebackclick siterecovered siterefresh siteshowrefresh sitelogin",function(){e()})},_delete1:function(){$(function(){$("#site .js_text").each(function(a,b){if(null!==window.location.search.match(/[?&]tn=([^&<>'"]+)/)&&"http://www.baidu.com/index.php?tn=10018801_hao"==b.getAttribute("href",2))return b.href="http://www.baidu.com/?tn=10018802_hao",!1})})},_hideHint:function(){q.hint&&
(q.hint.hide(),k.set("sitehint",1,{expires:30}))},_hint:function(){},_delete2:function(){for(var a=function(){$(this).parent().toggleClass("g_tips-r-show")},b={g_green:function(a){if(a.hasClass("g_reen"))return!1;a.addClass("g_green");return!1},g_red:function(a){if(a.hasClass("g_red"))return!1;a.addClass("g_red");return!1},g_hot:function(a,b){if(a.hasClass("g_hot")||a.hasClass("g_tips-r"))return!1;if(70<a.width()||5==b%6)return!0;a.addClass("g_hot");a.append('<i class="g_icon"></i>');return!1},"g_tips-r":function(a,
b,d,e,f){if(d&&d.seed&&d.rand&&d.seed!==d.rand&&!d.ifshow)return!0;if(a.hasClass("g_hot")||a.hasClass("g_tips-r"))return!1;b=function(a){a=$(a);f&&(f.el=a);return a};d.url2?(e="",e=d.cls?'<a monkey="tips_on" class="tips_link g_tips-r" cls="'+d.cls+'" alog-custom="'+c._cal_alog_custom(d.cls)+'" alog-text="'+a.text()+"_"+d.tip+'" href="'+d.url2+'">&nbsp;<i class="g_icon">'+d.tip+"</i></a>":'<a monkey="tips-on" class="tips_link g_tips-r" href="'+d.url2+'">&nbsp;<i class="g_icon">'+d.tip+"</i></a>",a.parent().append(b(e))):
(e=a.addClass("g_tips-r").html(),a.html("<b>"+e+"</b>"),a.after(b(a.clone().find("b").hide().end().append('<i class="g_icon" style="top:-19px;left:-7px;">'+d.tip+"</i>").css("padding","1px 0").attr("monkey","qipao"))));return!1},"g_tips-r-hover":function(b,c,d,e){var f={},c=this["g_tips-r"](b,c,d,e,f);if(f=f.el)f.addClass("g_tips-r-hover").attr("monkey","tips_off"),b.parent().children().hover(a,a);return c},"g_tips-r-img":function(a,b,c,d){var e={},b=this["g_tips-r"](a,b,c,d,e);if(e=e.el){var d=0,
f=3;a.closest("#site")[0]&&(d=-6,f=4);$(".g_icon",e).attr("monkey","tips_pic").css({background:"url("+HAO.httpsTrans(c.icon)+") no-repeat",width:parseInt(c.iconwidth,10),height:parseInt(c.iconheight,10),padding:0,left:f,top:d+(30-c.iconheight)/2}).html("").prop("title",c.tip)}return b},"g_tips-l":function(a,b,c){if(c&&c.seed&&c.rand&&c.seed!==c.rand&&!c.ifshow)return!0;if(a.hasClass("g_hot")||a.hasClass("g_tips-l"))return!1;c.url2?(c='<a monkey="tips"  style="width:0;" class="tips_link g_tips-l" href="'+
c.url2+'">&nbsp;<i class="g_icon">'+c.tip+"</i></a>",a.parent().prepend(c)):(b=a.addClass("g_tips-l").html(),a.html("<b>"+b+"</b>"),a.after(a.clone().find("b").hide().end().append('<i class="g_icon" style="top:-19px;left:-7px;">'+c.tip+"</i>").css("padding","1px 0").attr("monkey","qipao")));return!1}},c=this,e=d.get("mzQipao"),f={},h=e.length,g=0,i=0,j=0;j<h;j++)(i=e[j])&&i.style&&-1<i.style.indexOf("g_tips-")&&!i.ifshow?(g++,i.rand=g):i.rand=-1;(j=k.get("mtip"))?(j=parseInt(j,10),i=j+1,i>g&&(i=1)):
i=Math.ceil(Math.random()*g);k.set("mtip",i,{expires:30});for(j=0;j<h;j++){var g=e[j],l=g.url.replace(/(.*)\/$/,"$1");g.seed=i;f[l]=g}c.iscuser||$("a.js_text",c.element).each(function(a){var c=this.href.replace(/(.*)\/$/,"$1"),d=f[c];d&&b[d.style]&&(b[d.style]($(this),a,d)||delete f[c])});c.newQipao||($("#box-famoussite span>a").each(function(){var a=this.href.replace(/(.*)\/$/,"$1");f[a]&&b[f[a].style]&&(b[f[a].style]($(this),void 0,f[a]),delete f[a])}),c.newQipao=!0);if(!c.iscuser){for(var m=d.get("wideornarrow"),
e=d.get("sitestyle"),o={},h=e.length,p,j=0;j<h;j++)p=e[j],g=p.url.replace(/(.*)\/$/,"$1"),o[g]=p;$("a.js_text",c.element).each(function(a){(p=o[this.href.replace(/(.*)\/$/,"$1")])&&p.mzzyw&&n.add.call(this,p,a,"mz",m)})}}});return r});
__d("common.js.auto_fixed",["common.js.adjust"],function(x,w,r,c){var i=c("common.js.adjust"),o={auto:function(c,d){var a=document,b=o,e=$("#layout-side"),g=$("#bottomtop"),r=$("#nlb"),m=$.browser.msie&&6==$.browser.version,s="BackCompat"==a.compatMode?a.body:a.documentElement;i.adjust();m||r.removeAttr("style");b.box_service_top=e.offset().top+e.height()-14;var l=function(){if($("#navigate .option-selected").index()!=c||d&&$("#navigate .option-selected .channel").attr("data-tab")!=d)return $(window).unbind("scroll",
l),e.removeAttr("style"),!1;if(Math.max(a.body.scrollTop,a.documentElement.scrollTop)+s.clientHeight>b.box_service_top){r.removeAttr("style");var i=Math.max(a.body.scrollTop,a.documentElement.scrollTop)+s.clientHeight-g.offset().top;0<i?e.css({bottom:parseInt(i)+"px",position:"fixed"}):e.css({bottom:0,position:"fixed"})}else e.removeAttr("style")};m||$(window).scroll(l);m||window.setTimeout(l,1E3)}};return o});
__d("widget.servicetab.startips",["common.js.jquery","common.js.format","common.js.cookie","common.js.adjust","common.js.log"],function(x,w,r,c){var i=c("common.js.jquery"),o=c("common.js.format"),k=c("common.js.cookie"),d=c("common.js.adjust"),a=c("common.js.log");(function(){w.exports={init:function(a){this.data=a.data;if("0"===this.data.tiptype){if(a=k.get("tvtip_notshow")){if(a=a.split("_"),a[0]===this.data.line&&"0"===a[1])return!1}else k.set("tvtip_notshow",this.data.line+"_1",{expires:1});
this.tpl='<li class="tips"><div class="tips-toparrow"></div><div class="tvtip"><a class="tvtip-txtkey" id="tvtip-txtkey" target="_blank" href="#{url}" title="#{title}">#{img}</a><a class="tvtip-txtlink" target="_blank" id="tvtip-txtlink" href="#{url2}" title="#{title2}">#{title2}</a><a class="tip-closed" title="\u4e0d\u518d\u63d0\u9192"></a></div></li>'}else this.tpl='<li class="tips tiptime"><div class="tvtip"><span class="tvtip-txtkey">#{img}</span><a class="tvtip-txtlink" id="tvtip-txtlink" target="_blank" title="#{title2}" href="#{url2}">#{title2}</a></div></li>';
this.timeLogic()},timeLogic:function(){var a=this.timeStamp(this.data.showtime),c=this.timeStamp(this.data.hidetime),d=this.data.nowtime;if(c>=a&&d>=a&&d<=c)"1"===this.data.tiptype&&(a=i(this.data.parID),c=i("li",a),Math.ceil(c.length/2)===parseInt(this.data.line)&&a.addClass("tiptimes")),this.insertTpl();else return!1},timeStamp:function(a){a=new Date(a);return a/1E3},insertTpl:function(){var b=this,c=i(b.data.parID),g=o(b.tpl,{img:""===i.trim(b.data.img)?" ":'<img src="'+b.data.img+'" />',url:b.data.url,
title:b.data.title,url2:b.data.url2,title2:b.data.title2}),r=i("li",c),m=b._index();r.eq(m).after(g);a({type:"starbar_tvtip",v:1,f:0});var s=i(".tips",c),c=i(".tips-toparrow",s),g=i(".tip-closed",s),r=i("#tvtip-txtkey",s),m=i("#tvtip-txtlink",s);c.css("left",parseInt(b.data.pos));g.live("click",function(){a({type:"starbar_tvtip",v:0,f:0});s.slideUp(800,function(){d.adjust();k.set("tvtip_notshow",b.data.line+"_0",{expires:1})})});g.hover(function(){i(this).addClass("tip-closed-hover")},function(){i(this).removeClass("tip-closed-hover")});
r.live("click",function(){a({type:"starbar_tvtip",v:2,f:0})});m.live("click",function(){a({type:"starbar_tvtip",v:3,f:0})});s.slideDown(800,function(){d.adjust()})},_index:function(){return 2*parseInt(this.data.line)-1}}})();return r});window.js_qHFAoUPFCp&&window.js_qHFAoUPFCp(!0);
