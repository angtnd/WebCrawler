/*
Copyright 2014, KISSY v1.42
MIT Licensed
build time: Feb 25 16:37
*/
KISSY.add("swf/ua",[],function(g){function i(c){var h="string"===typeof c?c.match(/\d+/g).splice(0,3):c;g.isArray(h)&&(c=parseFloat(h[0]+"."+n(h[1],3)+n(h[2],5)));return c||0}function n(c,h){var c=(c||0)+"",g=h+1-c.length;return Array(0<g?g:0).join("0")+c}function k(g){if(g||l){l=!1;var h;if(navigator.plugins&&navigator.mimeTypes.length)h=(navigator.plugins["Shockwave Flash"]||0).description;else if(c.ActiveXObject)try{h=(new c.ActiveXObject("ShockwaveFlash.ShockwaveFlash")).GetVariable("$version")}catch(k){}r=
!h?void 0:h.match(/\d+/g).splice(0,3)}return r}var r,l=!0,c=g.Env.host;return{fpv:k,fpvGTE:function(c,g){return i(k(g))>=i(c)}}});
KISSY.add("swf",["dom","json","attribute","swf/ua"],function(g,i){function n(a){var d=e;g.each(a,function(a,b){b=b.toLowerCase();b in A?d+=l(b,a):b===B&&(d+=l(b,r(a)))});return d}function k(a,d,c,b){var m=e,f=e;g.each(d,function(a,b){m+=" "+b+'="'+a+'"'});b?(m+=' classid="'+C+'"',f+=l("movie",a)):(m+=' data="'+a+'"',m+=' type="'+D+'"');f+=n(c);return s+t+m+u+f}function r(a){var d=[];g.each(a,function(a,b){"string"!==typeof a&&(a=z.stringify(a));a&&d.push(b+"="+E(a))});return d.join("&")}function l(a,
d){return'<param name="'+a+'" value="'+d+'"></param>'}var c=i("dom"),z=i("json"),h=i("attribute"),w=i("swf/ua"),p=!!g.Env.host.ActiveXObject,D="application/x-shockwave-flash",C="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000",B="flashvars",e="",s="<",u=">",F=g.Env.host.document,x=w.fpv,G=w.fpvGEQ,y=w.fpvGTE,t="object",E=encodeURIComponent,A={wmode:e,allowscriptaccess:e,allownetworking:e,allowfullscreen:e,play:"false",loop:e,menu:e,quality:e,scale:e,salign:e,bgcolor:e,devicefont:e,hasPriority:e,base:e,
swliveconnect:e,seamlesstabbing:e},v;return v=h.extend({constructor:function(a){this.callSuper(a);var d=this.get("expressInstall"),j,b,e,a=this.get("htmlMode");b=this.get("params");var f=this.get("attrs"),h=this.get("document"),i=c.create("<span>",void 0,h),l=this.get("elBefore"),o=this.get("src"),n=!("id"in f),q=this.get("version");e=f.id=f.id||g.guid("ks-swf-");n&&(j=RegExp("\\s+id\\s*=\\s*['\"]?"+g.escapeRegExp(e)+"['\"]?","i"));if(x()){if(q&&!y(q)&&(this.set("status",v.Status.TOO_LOW),d)){o=d;
if(!("width"in f)||!/%$/.test(f.width)&&310>parseInt(f.width,10))f.width="310";if(!("height"in f)||!/%$/.test(f.height)&&137>parseInt(f.height,10))f.height="137";d=b.flashVars=b.flashVars||{};g.mix(d,{MMredirectURL:location.href,MMplayerType:p?"ActiveX":"PlugIn",MMdoctitle:h.title.slice(0,47)+" - Flash Player Installation"})}"full"===a?(p?(d=k(o,f,b,1),delete f.id,delete f.style,q=k(o,f,b,0)):(q=k(o,f,b,0),delete f.id,delete f.style,d=k(o,f,b,1)),b=d+q+s+"/"+t+u+s+"/"+t+u):b=k(o,f,b,p)+s+"/"+t+u;
this.set("html",j?b.replace(j,""):b);l?c.insertBefore(i,l):c.append(i,this.get("render"));"outerHTML"in i?i.outerHTML=b:i.parentNode.replaceChild(c.create(b),i);j=c.get("#"+e,h);"full"===a?p?this.set("swfObject",j):this.set("swfObject",j.parentNode):this.set("swfObject",j);n&&c.removeAttr(j,"id");this.set("el",j);this.get("status")||this.set("status",v.Status.SUCCESS)}else this.set("status",v.Status.NOT_INSTALLED)},callSWF:function(a,d){var c=this.get("el"),b,d=d||[];try{c[a]&&(b=c[a].apply(c,d))}catch(e){b=
"",0!==d.length&&(b='"'+d.join('", "')+'"'),b=(new Function("swf","return swf."+a+"("+b+");"))(c)}return b},destroy:function(){var a=this.get("swfObject");p?(a.style.display="none",function j(){if(4===a.readyState){for(var b in a)"function"===typeof a[b]&&(a[b]=null);a.parentNode.removeChild(a)}else setTimeout(j,10)}()):a.parentNode.removeChild(a)}},{ATTRS:{expressInstall:{value:g.config("base")+"swf/assets/expressInstall.swf"},src:{},version:{value:"9"},params:{value:{}},attrs:{value:{}},render:{setter:function(a){"string"===
typeof a&&(a=c.get(a,this.get("document")));return a},valueFn:function(){return document.body}},elBefore:{setter:function(a){"string"===typeof a&&(a=c.get(a,this.get("document")));return a}},document:{value:F},status:{},el:{},swfObject:{},html:{},htmlMode:{value:"default"}},getSrc:function(a){var d=a=c.get(a),e="",b,a=[],e=c.nodeName(d);if("object"===e){(e=c.attr(d,"data"))&&a.push(d);d=d.childNodes;for(e=0;e<d.length;e++)b=d[e],1===b.nodeType&&("movie"===(c.attr(b,"name")||"").toLowerCase()?a.push(b):
"embed"===c.nodeName(b)?a.push(b):"object"===c.nodeName(d[e])&&a.push(b))}else"embed"===e&&a.push(d);d=(a=a[0])&&c.nodeName(a);return"embed"===d?c.attr(a,"src"):"object"===d?c.attr(a,"data"):"param"===d?c.attr(a,"value"):null},Status:{TOO_LOW:"flash version is too low",NOT_INSTALLED:"flash is not installed",SUCCESS:"success"},HtmlMode:{DEFAULT:"default",FULL:"full"},fpv:x,fpvGEQ:G,fpvGTE:y})});
/*
Copyright 2013, KISSY v1.42
MIT Licensed
build time: Dec 4 22:04
*/
KISSY.add("attribute",["event/custom"],function(g,p,F,C){function n(d,a){return"string"===typeof a?d[a]:a}function o(d){return d.__attrVals||(d.__attrVals={})}function q(d,a,c,b,e,f,h,i){h=h||c;return d.fire(a+g.ucfirst(c)+"Change",g.mix({attrName:h,subAttrName:f,prevVal:b,newVal:e},i))}function k(d,a,c){var b=d[a];!c&&!b&&(d[a]=b={});return b||{}}function t(d,a){for(var c=0,b=a.length;void 0!==d&&c<b;c++)d=d[a[c]];return d}function u(d){var a;-1!==d.indexOf(".")&&(a=d.split("."),d=a.shift());return{path:a,
name:d}}function v(d,a,c){var b=c;if(a){var d=b=void 0===d?{}:g.clone(d),e=a.length-1;if(0<=e){for(var f=0;f<e;f++)d=d[a[f]];void 0!==d&&(d[a[f]]=c)}}return b}function w(d,a,c,b,e){var f,h,i;f=u(a);var D=a,a=f.name;f=f.path;i=d.get(a);var l=a,m=k(d,"__defaultBeforeFns");m[l]||(m[l]=1,l="before"+g.ucfirst(l)+"Change",d.publish(l,{defaultFn:x}));f&&(h=t(i,f));if(b.force||!(!f&&i===c||f&&h===c)){c=v(i,f,c);c=g.mix({attrName:a,subAttrName:D,prevVal:i,newVal:c,_opts:b,_attrs:e,target:d},b.data);if(b.silent){if(j===
x.call(d,c))return j}else if(j===d.fire("before"+g.ucfirst(a)+"Change",c))return j;return d}}function x(d){if(d.target===this){var a=d.newVal,c=d.prevVal,b=d.attrName,e=d.subAttrName,f=d._attrs,d=d._opts,a=this.setInternal(b,a);if(a===j)return a;d.silent||(a=o(this)[b],q(this,"after",b,c,a,e,null,d.data),f?f.push({prevVal:c,newVal:a,attrName:b,subAttrName:e}):q(this,"","*",[c],[a],[e],[b],d.data))}}function r(d){var a=this.constructor;for(this.userConfig=d;a;){var c=a.ATTRS;if(c){var b=void 0;for(b in c)this.addAttr(b,
c[b],!1)}a=a.superclass?a.superclass.constructor:null}if(d)for(var e in d)this.setInternal(e,d[e])}function y(d,a){var c=a.__hooks__||{},b;for(b in c)b in d&&(d[b]=c[b](d[b]));g.each(d,function(b,c){if("function"===typeof b){var g=0;if(b.__owner__){var i=b.__owner__;delete b.__owner__;delete b.__name__;var g=b.__wrapped__=1,j=z(b);j.__owner__=i;j.__name__=c;i.prototype[c]=j}else b.__wrapped__&&(g=1);g&&(d[c]=b=z(b));b.__owner__=a;b.__name__=c}})}function E(d){y(d,this);g.mix(this.prototype,d)}function s(d,
a){var c=d.getAttrs(),b=k(c,a,1),e=b.valueFn;if(e&&(e=n(d,e)))e=e.call(d),void 0!==e&&(b.value=e),delete b.valueFn,c[a]=b;return b.value}function A(d,a,c,b){var e,f;e=u(a);a=e.name;if(e=e.path)f=d.get(a),c=v(f,e,c);if((e=k(d.getAttrs(),a).validator)&&(e=n(d,e)))if(d=e.call(d,c,a,b),void 0!==d&&!0!==d)return d}p=p("event/custom");C.exports=r;var z=g.bind,B={},j=!1;r.extend=function a(c,b){var e,b=b||{},c=c||{},f=b.__hooks__;if(e=this.__hooks__)f=b.__hooks__=b.__hooks__||{},g.mix(f,e,!1);e=c.hasOwnProperty("constructor")?
c.constructor:function(){this.callSuper.apply(this,arguments)};c.constructor=e;e.__hooks__=f;y(c,e);var h=b.inheritedStatics;if(f=this.inheritedStatics)h=b.inheritedStatics=b.inheritedStatics||{},g.mix(h,f,!1);g.extend(e,this,c,b);h&&g.mix(e,h);e.extend=b.extend||a;e.addMembers=E;return e};g.augment(r,p.Target,{INVALID:B,callSuper:function(){var a,c,b=arguments;"function"===typeof this&&this.__name__?(a=this,c=b[0],b=Array.prototype.slice.call(b,1)):(a=arguments.callee.caller,a.__wrapped__&&(a=a.caller),
c=this);var e=a.__name__;if(e)return a=a.__owner__.superclass[e],!a?void 0:a.apply(c,b||[])},getAttrs:function(){return this.__attrs||(this.__attrs={})},getAttrVals:function(){var a={},c,b=this.getAttrs();for(c in b)a[c]=this.get(c);return a},addAttr:function(a,c,b){var e=this.getAttrs(),f,c=g.clone(c);(f=e[a])?g.mix(f,c,b):e[a]=c;return this},addAttrs:function(a,c){var b=this;g.each(a,function(a,c){b.addAttr(c,a)});c&&b.set(c);return b},hasAttr:function(a){return this.getAttrs().hasOwnProperty(a)},
removeAttr:function(a){var c=o(this),b=this.getAttrs();this.hasAttr(a)&&(delete b[a],delete c[a]);return this},set:function(a,c,b){var e;if(g.isPlainObject(a)){var b=c||{},c=Object(a),f=[],h=[];for(a in c)void 0!==(e=A(this,a,c[a],c))&&h.push(e);if(h.length)return b.error&&b.error(h),j;for(a in c)w(this,a,c[a],b,f);var i=[],k=[],l=[],m=[];g.each(f,function(a){k.push(a.prevVal);l.push(a.newVal);i.push(a.attrName);m.push(a.subAttrName)});i.length&&q(this,"","*",k,l,m,i,b.data);return this}b=b||{};e=
A(this,a,c);return void 0!==e?(b.error&&b.error(e),j):w(this,a,c,b)},setInternal:function(a,c){var b,e=k(this.getAttrs(),a).setter;if(e&&(e=n(this,e)))b=e.call(this,c,a);if(b===B)return j;void 0!==b&&(c=b);o(this)[a]=c},get:function(a){var c,b=o(this),e,f;-1!==a.indexOf(".")&&(c=a.split("."),a=c.shift());e=k(this.getAttrs(),a,1).getter;f=a in b?b[a]:s(this,a);if(e&&(e=n(this,e)))f=e.call(this,f,a);!(a in b)&&void 0!==f&&(b[a]=f);c&&(f=t(f,c));return f},reset:function(a,c){if("string"===typeof a)return this.hasAttr(a)?
this.set(a,s(this,a),c):this;var c=a,b=this.getAttrs(),e={};for(a in b)e[a]=s(this,a);this.set(e,c);return this}})});
