__d("widget.site.siteResource",["common.js.format","common.js.animation"],function(w,u,s,b){var l=b("common.js.format"),o=b("common.js.animation"),j={addResource:function(d,a,h,c){var g=$(this).parent(),d=j.createDom(d,a,h),a=j.createTip();g.append(d).append(a);var h=a[0],x="-3 -4,-28 -4,-53 -4,-78 -4,-103 -4,-128 -4,-153 -4,-178 -4,-203 -4,-228 -4,-253 -4,-328 -4,-353 -4,-403 -4,-353 -4,-328 -4,-253 -4,-228 -4,-203 -4,-178 -4,-153 -4,-128 -4,-103 -4,-78 -4,-53 -4,-28 -4,-3 -4".split(","),m="-5 -5,-30 -5,-55 -5,-80 -5,-105 -5,-130 -5,-155 -5,-180 -5,-205 -5,-230 -5,-255 -5,-330 -5,-255 -5,-230 -5,-205 -5,-180 -5,-155 -5,-130 -5,-105 -5,-80 -5,-55 -5,-30 -5,-5 -5".split(",");
"wide"==c?o().changePosition(h,x).start(100):"narrow"==c&&o().changePosition(h,m).start(100);j.bindEvents(d,a,g)},bindEvents:function(d,a,h){$('[data-hook="siteresource-link"]',d);var c="",c=d.hasClass("resource-container-right")?"resourcelink-bg":"resourcelink-bg-left";h.mouseleave(function(){$(this).hasClass(c)&&(d.hide(),$(this).removeClass(c),a.show())});a.mouseover(function(){d.show();h.addClass(c);$(this).hide()})},createTip:function(){return $('<div data-hook="siteresource-tip" class="g-ib siteresource-tip"></div>')},
createDom:function(d,a,h){var c=document.createElement("div"),g,x,m="resource-container ",b=Math.floor(a/6);if(d.mzzyw){0==(a+1)%6&&(m=m+"resource-container-right "+("resource-container-right"+b+" "));m+="resource-container-r"+b+" ";for(a=1;a<=d.mzzyw;a++)g="mzzywtitle"+a,x="mzzywurl"+a,g=l('<a hidefocus="true" data-hook="siteresource-link" href="#{url}" title="#{title}" class="siteresource-link">#{title}</a>',{url:d[x],title:d[g]}),x=$(g),g=1==a?"siteresource-firstlink siteresource-link1":a==d.mzzyw?
"siteresource-lastlink siteresource-link3":"siteresource-link2","mz"==h&&b+1==a&&(g+=" siteresource-curlink"),x.addClass(g),$(c).append(x).addClass(m).attr("monkey","siteresource_container");return $(c)}}};return s={add:j.addResource}});
__d("widget.coolsite.coolsiteresource",["common.js.format"],function(w,u,s,b){var l=b("common.js.format"),o={addResource:function(b){var d=$(this).parent(),b=o.createDom(b),a=o.createTip();d.append(b).append(a).css("position","relative");o.bindEvents(b,a,d)},bindEvents:function(b,d,a){a.hover(function(){$(this).parent().addClass("coolsiteResource-hover");$(this).addClass("coolsiteResource-hover");b.show()},function(){$(this).parent().removeClass("coolsiteResource-hover");$(this).removeClass("coolsiteResource-hover");
b.hide()})},createTip:function(){return $('<div data-hook="siteresource-tip" class="g-ib coolsiteresource-tip"></div>')},createDom:function(b){var d=document.createElement("div");if("0"!=b.kzzyw){var a=l('<a hidefocus="true" data-hook="siteresource-link" href="#{url}" alog-text="#{title}" class="coolsiteresource-link"><span class="coolsiteresource-title">#{title}</span><img class="coolsiteresource-img" src="#{imgurl}" /></a>',{url:b.kzzywurl,title:b.kzzywtitle,imgurl:HAO.httpsTrans(b.kzzywimg)}),
a=$(a);""==b.kzzywtitle&&(a.attr("alog-text","coolsiteresource-title"),$(".coolsiteresource-title",a).hide(),$(".coolsiteresource-img",a).addClass("coolsiteresource-lgimg"));$(d).append(a).addClass("coolsiteresource_container").attr("monkey","coolsiteresource_container");return $(d)}}};return s={add:o.addResource}});
__d("common.js.tabs",[],function(w,u,s){(function(b){var l=0,o=0;b.widget("ui.tabs",{options:{add:null,ajaxOptions:null,cache:!1,cookie:null,collapsible:!1,disable:null,disabled:[],enable:null,event:"click",fx:null,idPrefix:"ui-tabs-",load:null,panelTemplate:"<div></div>",remove:null,select:null,show:null,spinner:"<em>Loading&#8230;</em>",tabTemplate:'<li><a href="#{href}"><span>#{label}</span></a></li>'},_create:function(){this._tabify(!0)},_setOption:function(b,d){"selected"==b?this.options.collapsible&&
d==this.options.selected||this.select(d):(this.options[b]=d,this._tabify())},_tabId:function(b){return b.title&&b.title.replace(/\s/g,"_").replace(/[^A-Za-z0-9\-_:\.]/g,"")||this.options.idPrefix+ ++l},_sanitizeSelector:function(b){return b.replace(/:/g,"\\:")},_cookie:function(){var j=this.cookie||(this.cookie=this.options.cookie.name||"ui-tabs-"+ ++o);return b.cookie.apply(null,[j].concat(b.makeArray(arguments)))},_ui:function(b,d){return{tab:b,panel:d,index:this.anchors.index(b)}},_cleanup:function(){this.lis.filter(".ui-state-processing").removeClass("ui-state-processing").find("span:data(label.tabs)").each(function(){var j=
b(this);j.html(j.data("label.tabs")).removeData("label.tabs")})},_tabify:function(j){function d(a,i){a.css({display:""});!b.support.opacity&&i.opacity&&a[0].style.removeAttribute("filter")}this.list=this.element.find("ol,ul").eq(0);this.lis=b("li:has(a[href])",this.list);this.anchors=this.lis.map(function(){return b("a",this)[0]});this.panels=b([]);var a=this,h=this.options,c=/^#.+/;this.anchors.each(function(g,i){var f=b(i).attr("href"),z=f.split("#")[0],e;if(z&&(z===location.toString().split("#")[0]||
(e=b("base")[0])&&z===e.href))f=i.hash,i.href=f;c.test(f)?a.panels=a.panels.add(a._sanitizeSelector(f)):"#"!=f?(b.data(i,"href.tabs",f),b.data(i,"load.tabs",f.replace(/#.*$/,"")),f=a._tabId(i),i.href="#"+f,z=b("#"+f),z.length||(z=b(h.panelTemplate).attr("id",f).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").insertAfter(a.panels[g-1]||a.list),z.data("destroy.tabs",!0)),a.panels=a.panels.add(z)):h.disabled.push(g)});j?(this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all"),
this.list.addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"),this.lis.addClass("ui-state-default ui-corner-top"),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom"),void 0===h.selected?(location.hash&&this.anchors.each(function(a,i){if(i.hash==location.hash)return h.selected=a,!1}),"number"!=typeof h.selected&&h.cookie&&(h.selected=parseInt(a._cookie(),10)),"number"!=typeof h.selected&&this.lis.filter(".ui-tabs-selected").length&&(h.selected=
this.lis.index(this.lis.filter(".ui-tabs-selected"))),h.selected=h.selected||(this.lis.length?0:-1)):null===h.selected&&(h.selected=-1),h.selected=0<=h.selected&&this.anchors[h.selected]||0>h.selected?h.selected:0,h.disabled=b.unique(h.disabled.concat(b.map(this.lis.filter(".ui-state-disabled"),function(g){return a.lis.index(g)}))).sort(),-1!=b.inArray(h.selected,h.disabled)&&h.disabled.splice(b.inArray(h.selected,h.disabled),1),this.panels.addClass("ui-tabs-hide"),this.lis.removeClass("ui-tabs-selected ui-state-active"),
0<=h.selected&&this.anchors.length&&(this.panels.eq(h.selected).removeClass("ui-tabs-hide"),this.lis.eq(h.selected).addClass("ui-tabs-selected ui-state-active"),a.element.queue("tabs",function(){a._trigger("show",null,a._ui(a.anchors[h.selected],a.panels[h.selected]))}),this.load(h.selected)),b(window).bind("unload",function(){a.lis.add(a.anchors).unbind(".tabs");a.lis=a.anchors=a.panels=null})):h.selected=this.lis.index(this.lis.filter(".ui-tabs-selected"));this.element[h.collapsible?"addClass":
"removeClass"]("ui-tabs-collapsible");h.cookie&&this._cookie(h.selected,h.cookie);for(var j=0,g;g=this.lis[j];j++)b(g)[-1!=b.inArray(j,h.disabled)&&!b(g).hasClass("ui-tabs-selected")?"addClass":"removeClass"]("ui-state-disabled");!1===h.cache&&this.anchors.removeData("cache.tabs");this.lis.add(this.anchors).unbind(".tabs");if("mouseover"!=h.event){var x=function(a,i){i.is(":not(.ui-state-disabled)")&&i.addClass("ui-state-"+a)};this.lis.bind("mouseover.tabs",function(){x("hover",b(this))});this.lis.bind("mouseout.tabs",
function(){b(this).removeClass("ui-state-hover")});this.anchors.bind("focus.tabs",function(){x("focus",b(this).closest("li"))});this.anchors.bind("blur.tabs",function(){b(this).closest("li").removeClass("ui-state-focus")})}var m,r;h.fx&&(b.isArray(h.fx)?(m=h.fx[0],r=h.fx[1]):m=r=h.fx);var k=r?function(g,i){b(g).closest("li").addClass("ui-tabs-selected ui-state-active");i.hide().removeClass("ui-tabs-hide").animate(r,r.duration||"normal",function(){d(i,r);a._trigger("show",null,a._ui(g,i[0]))})}:function(g,
i){b(g).closest("li").addClass("ui-tabs-selected ui-state-active");i.removeClass("ui-tabs-hide");a._trigger("show",null,a._ui(g,i[0]))},p=m?function(g,i){i.animate(m,m.duration||"normal",function(){a.lis.removeClass("ui-tabs-selected ui-state-active");i.addClass("ui-tabs-hide");d(i,m);a.element.dequeue("tabs")})}:function(g,i){a.lis.removeClass("ui-tabs-selected ui-state-active");i.addClass("ui-tabs-hide");a.element.dequeue("tabs")};this.anchors.bind(h.event+".tabs",function(){var g=this,i=b(this).closest("li"),
f=a.panels.filter(":not(.ui-tabs-hide)"),z=b(a._sanitizeSelector(this.hash));if(i.hasClass("ui-tabs-selected")&&!h.collapsible||i.hasClass("ui-state-disabled")||i.hasClass("ui-state-processing")||!1===a._trigger("select",null,a._ui(this,z[0])))return this.blur(),!1;h.selected=a.anchors.index(this);a.abort();if(h.collapsible){if(i.hasClass("ui-tabs-selected"))return h.selected=-1,h.cookie&&a._cookie(h.selected,h.cookie),a.element.queue("tabs",function(){p(g,f)}).dequeue("tabs"),this.blur(),!1;if(!f.length)return h.cookie&&
a._cookie(h.selected,h.cookie),a.element.queue("tabs",function(){k(g,z)}),a.load(a.anchors.index(this)),this.blur(),!1}h.cookie&&a._cookie(h.selected,h.cookie);if(z.length)f.length&&a.element.queue("tabs",function(){p(g,f)}),a.element.queue("tabs",function(){k(g,z)}),a.load(a.anchors.index(this));else throw"jQuery UI Tabs: Mismatching fragment identifier.";b.browser.msie&&this.blur()});this.anchors.bind("click.tabs",function(){return!1})},destroy:function(){var j=this.options;this.abort();this.element.unbind(".tabs").removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible").removeData("tabs");
this.list.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all");this.anchors.each(function(){var d=b.data(this,"href.tabs");d&&(this.href=d);var a=b(this).unbind(".tabs");b.each(["href","load","cache"],function(d,c){a.removeData(c+".tabs")})});this.lis.unbind(".tabs").add(this.panels).each(function(){b.data(this,"destroy.tabs")?b(this).remove():b(this).removeClass("ui-state-default ui-corner-top ui-tabs-selected ui-state-active ui-state-hover ui-state-focus ui-state-disabled ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide")});
j.cookie&&this._cookie(null,j.cookie);return this},add:function(j,d,a){void 0===a&&(a=this.anchors.length);var h=this,c=this.options,d=b(c.tabTemplate.replace(/#\{href\}/g,j).replace(/#\{label\}/g,d)),j=!j.indexOf("#")?j.replace("#",""):this._tabId(b("a",d)[0]);d.addClass("ui-state-default ui-corner-top").data("destroy.tabs",!0);var g=b("#"+j);g.length||(g=b(c.panelTemplate).attr("id",j).data("destroy.tabs",!0));g.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide");a>=this.lis.length?
(d.appendTo(this.list),g.appendTo(this.list[0].parentNode)):(d.insertBefore(this.lis[a]),g.insertBefore(this.panels[a]));c.disabled=b.map(c.disabled,function(g){return g>=a?++g:g});this._tabify();1==this.anchors.length&&(c.selected=0,d.addClass("ui-tabs-selected ui-state-active"),g.removeClass("ui-tabs-hide"),this.element.queue("tabs",function(){h._trigger("show",null,h._ui(h.anchors[0],h.panels[0]))}),this.load(0));this._trigger("add",null,this._ui(this.anchors[a],this.panels[a]));return this},remove:function(j){var d=
this.options,a=this.lis.eq(j).remove(),h=this.panels.eq(j).remove();a.hasClass("ui-tabs-selected")&&1<this.anchors.length&&this.select(j+(j+1<this.anchors.length?1:-1));d.disabled=b.map(b.grep(d.disabled,function(a){return a!=j}),function(a){return a>=j?--a:a});this._tabify();this._trigger("remove",null,this._ui(a.find("a")[0],h[0]));return this},enable:function(j){var d=this.options;if(-1!=b.inArray(j,d.disabled))return this.lis.eq(j).removeClass("ui-state-disabled"),d.disabled=b.grep(d.disabled,
function(a){return a!=j}),this._trigger("enable",null,this._ui(this.anchors[j],this.panels[j])),this},disable:function(b){var d=this.options;b!=d.selected&&(this.lis.eq(b).addClass("ui-state-disabled"),d.disabled.push(b),d.disabled.sort(),this._trigger("disable",null,this._ui(this.anchors[b],this.panels[b])));return this},select:function(b){"string"==typeof b?b=this.anchors.index(this.anchors.filter("[href$="+b+"]")):null===b&&(b=-1);-1==b&&this.options.collapsible&&(b=this.options.selected);this.anchors.eq(b).trigger(this.options.event+
".tabs");return this},load:function(j){var d=this,a=this.options,h=this.anchors.eq(j)[0],c=b.data(h,"load.tabs");this.abort();if(!c||0!==this.element.queue("tabs").length&&b.data(h,"cache.tabs"))this.element.dequeue("tabs");else{this.lis.eq(j).addClass("ui-state-processing");if(a.spinner){var g=b("span",h);g.data("label.tabs",g.html()).html(a.spinner)}this.xhr=b.ajax(b.extend({},a.ajaxOptions,{url:c,success:function(g,c){b(d._sanitizeSelector(h.hash)).html(g);d._cleanup();a.cache&&b.data(h,"cache.tabs",
!0);d._trigger("load",null,d._ui(d.anchors[j],d.panels[j]));try{a.ajaxOptions.success(g,c)}catch(r){}},error:function(g,c){d._cleanup();d._trigger("load",null,d._ui(d.anchors[j],d.panels[j]));try{a.ajaxOptions.error(g,c,j,h)}catch(b){}}}));d.element.dequeue("tabs");return this}},abort:function(){this.element.queue([]);this.panels.stop(!1,!0);this.element.queue("tabs",this.element.queue("tabs").splice(-2,2));this.xhr&&(this.xhr.abort(),delete this.xhr);this._cleanup();return this},url:function(b,d){this.anchors.eq(b).removeData("cache.tabs").data("load.tabs",
d);return this},length:function(){return this.anchors.length}});b.extend(b.ui.tabs,{version:"1.8.2"});b.extend(b.ui.tabs.prototype,{rotation:null,rotate:function(b,d){var a=this,h=this.options,c=a._rotate||(a._rotate=function(g){clearTimeout(a.rotation);a.rotation=setTimeout(function(){var g=h.selected;a.select(++g<a.anchors.length?g:0)},b);g&&g.stopPropagation()}),g=a._unrotate||(a._unrotate=!d?function(g){g.clientX&&a.rotate(null)}:function(){t=h.selected;c()});b?(this.element.bind("tabsshow",c),
this.anchors.bind(h.event+".tabs",g),c()):(clearTimeout(a.rotation),this.element.unbind("tabsshow",c),this.anchors.unbind(h.event+".tabs",g),delete this._rotate,delete this._unrotate);return this}})})(jQuery);return s});
__d("common.js.autoheight-server",[],function(w,u,s){window._refreshFrameStatus=function(){var b=$("iframe[action=logInFrame]"),l;1>b.length?(b=$("#main_frame"),l=b.src,b.src="about:blank",setTimeout(function(){b.src=l},100)):$.each(b,function(l){(function(b,d){b.attr("src","about:blank");setTimeout(function(){b.attr("src",d)},100)})(b.eq(l),b.eq(l).attr("src"))})};(function(b){var l={},o=null,j=window.autoheight=window.autoheight||{},d,a=/\&/g,h=/=/g;j.listen=function(a,d){d||(d=a);a&&(l[a]=d,window.iframe_listened=
d)};j.callback=function(a){o=a};var c=function(g){for(var c=g.data.toString().split(a),m,r,k,p,n,i,f=!1,z=!1,g=!1,e,v,q=0;q<c.length;q++){var A=c[q].split(h),B=A[0];if(A=A[1])switch(B){case "width":r=A;break;case "height":k=A;break;case "id":m=A;break;case "top":f=!0;e=A;break;case "left":f=!0;v=A;break;case "view":z=!0;n=A;break;case "usrcallback":g=!0;i=A;break;case "IFRAM_DATA":window.IFRAM_DATA=A}}1==c.length&&!k&&!isNaN(parseInt(c[0],10))&&(k=parseInt(c[0],10));if(l[m]&&(p=b.document.getElementById(l[m]))){r&&
(p.style.width=r+"px");k&&(p.style.height=k+"px");f&&scrollTo(v,e);if(z&&n){m=b.document.getElementById(n);if(!m)return;scrollTo(0,m.offsetTop)}g&&i&&("alert"==i.split("|")[0]&&alert(i.split("|")[1]),"showLogin"==i.split("|")[0]&&showLogin(),"commentcount"==i.split("|")[0]&&addCommentCount(parseInt(i.split("|")[1],10)));d!==k&&o&&"function"==typeof o&&(o(),d=k)}};b.postMessage&&(b.addEventListener?b.addEventListener("message",c,!1):b.attachEvent?b.attachEvent("onmessage",function(){c.call(b,window.event)}):
b.onmessage=function(){c.call(b,window.event)});j.raise=c;b.onloginsuccess=function(){b._refreshFrameStatus.call(b,window.event)}})(window);return s});
__d("common.js.autosize",[],function(w,u,s){!function(b){var l,o={className:"autosizejs",id:"autosizejs",append:"\n",callback:!1,resizeDelay:10,placeholder:!0},j="fontFamily,fontSize,fontWeight,fontStyle,letterSpacing,textTransform,wordSpacing,textIndent,whiteSpace".split(","),d=b('<textarea tabindex="-1" style="position:absolute; top:-999px; left:0; right:auto; bottom:auto; border:0; padding: 0; -moz-box-sizing:content-box; -webkit-box-sizing:content-box; box-sizing:content-box; word-wrap:break-word; height:0 !important; min-height:0 !important; overflow:hidden; transition:none; -webkit-transition:none; -moz-transition:none;"/>').data("autosize",!0)[0];
d.style.lineHeight="99px";"99px"===b(d).css("lineHeight")&&j.push("lineHeight");d.style.lineHeight="";b.fn.autosize=function(a){return this.length?(a=b.extend({},o,a||{}),d.parentNode!==document.body&&b(document.body).append(d),this.each(function(){function h(){var f,a=window.getComputedStyle?window.getComputedStyle(p,null):null;a?(f=parseFloat(a.width),("border-box"===a.boxSizing||"border-box"===a.webkitBoxSizing||"border-box"===a.mozBoxSizing)&&b.each(["paddingLeft","paddingRight","borderLeftWidth",
"borderRightWidth"],function(i,y){f-=parseFloat(a[y])})):f=n.width();d.style.width=Math.max(f,0)+"px"}function c(){var f={};if(l=p,d.className=a.className,d.id=a.id,m=parseFloat(n.css("maxHeight")),b.each(j,function(a,y){f[y]=n.css(y)}),b(d).css(f).attr("wrap",n.attr("wrap")),h(),window.chrome){var i=p.style.width;p.style.width="0px";p.offsetWidth;p.style.width=i}}function g(){var e,g;l!==p?c():h();d.value=!p.value&&a.placeholder?n.attr("placeholder")||"":p.value;d.value+=a.append||"";d.style.overflowY=
p.style.overflowY;g=parseFloat(p.style.height)||0;d.scrollTop=0;d.scrollTop=9E4;e=d.scrollTop;m&&e>m?(p.style.overflowY="scroll",e=m):(p.style.overflowY="hidden",r>e&&(e=r));e+=i;0.01<Math.abs(g-e)&&(p.style.height=e+"px",d.className=d.className,f&&a.callback.call(p,p),n.trigger("autosize.resized"))}function x(){clearTimeout(k);k=setTimeout(function(){var f=n.width();f!==e&&(e=f,g())},parseInt(a.resizeDelay,10))}var m,r,k,p=this,n=b(p),i=0,f=b.isFunction(a.callback),z={height:p.style.height,overflow:p.style.overflow,
overflowY:p.style.overflowY,wordWrap:p.style.wordWrap,resize:p.style.resize},e=n.width(),v=n.css("resize");n.data("autosize")||(n.data("autosize",!0),("border-box"===n.css("box-sizing")||"border-box"===n.css("-moz-box-sizing")||"border-box"===n.css("-webkit-box-sizing"))&&(i=n.outerHeight()-n.height()),r=Math.max(parseFloat(n.css("minHeight"))-i||0,n.height()),n.css({overflow:"hidden",overflowY:"hidden",wordWrap:"break-word"}),"vertical"===v?n.css("resize","none"):"both"===v&&n.css("resize","horizontal"),
"onpropertychange"in p?"oninput"in p?n.on("input.autosize keyup.autosize",g):n.on("propertychange.autosize",function(){"value"===event.propertyName&&g()}):n.on("input.autosize",g),!1!==a.resizeDelay&&b(window).on("resize.autosize",x),n.on("autosize.resize",g),n.on("autosize.resizeIncludeStyle",function(){l=null;g()}),n.on("autosize.destroy",function(){l=null;clearTimeout(k);b(window).off("resize",x);n.off("autosize").off(".autosize").css(z).removeData("autosize")}),g())})):this}}(jQuery||$);return s=
{autosize:function(b){b.autosize()}}});
__d("common.js.detector",[],function(w,u,s){function b(f,a){for(var i=0,y=f.length;i<y&&!(!1===a.call(f,f[i],i));i++);}function l(f){if(!x.test(f))return null;var a,i,y;if(-1!==f.indexOf("trident/")&&(a=/\btrident\/([0-9.]+)/.exec(f))&&2<=a.length)i=a[1],y=a[1].split("."),y[0]=parseInt(y[0],10)+4,y=y.join(".");a=x.exec(f);f=a[1];a=a[1].split(".");"undefined"===typeof y&&(y=f);a[0]=parseInt(a[0],10)-4;a=a.join(".");"undefined"===typeof i&&(i=a);return{browserVersion:y,browserMode:f,engineVersion:i,
engineMode:a,compatible:i!==a}}function o(f){if(g)try{var a=g.twGetRunPath.toLowerCase(),i=g.twGetSecurityID(c),y=g.twGetVersion(i);if(a&&-1===a.indexOf(f))return!1;if(y)return{version:y}}catch(e){}}function j(f,a,i){a="[object Function]"===Object.prototype.toString.call(a)?a.call(null,i):a;if(!a)return null;var f={name:f,version:h,codename:""},y=Object.prototype.toString.call(a);if(!0===a)return f;if("[object String]"===y){if(-1!==i.indexOf(a))return f}else{if("[object Object]"===Object.prototype.toString.call(a))return a.hasOwnProperty("version")&&
(f.version=a.version),f;if(a.exec&&(i=a.exec(i)))return f.version=2<=i.length&&i[1]?i[1].replace(/_/g,"."):h,f}}function d(f,a,i,y){var e=z;b(a,function(a){if(a=j(a[0],a[1],f))return e=a,!1});i.call(y,e.name,e.version)}var a={},h="-1",c=w,g,x=/\b(?:msie |ie |trident\/[0-9].*rv[ :])([0-9.]+)/,m=/\bbb10\b.+?\bversion\/([\d.]+)/,r=/\bblackberry\b.+\bversion\/([\d.]+)/,k=/\bblackberry\d+\/([\d.]+)/,p=[["nokia",function(f){return-1!==f.indexOf("nokia ")?/\bnokia ([0-9]+)?/:-1!==f.indexOf("noain")?/\bnoain ([a-z0-9]+)/:
/\bnokia([a-z0-9]+)?/}],["samsung",function(f){return-1!==f.indexOf("samsung")?/\bsamsung(?:\-gt)?[ \-]([a-z0-9\-]+)/:/\b(?:gt|sch)[ \-]([a-z0-9\-]+)/}],["wp",function(f){return-1!==f.indexOf("windows phone ")||-1!==f.indexOf("xblwp")||-1!==f.indexOf("zunewp")||-1!==f.indexOf("windows ce")}],["pc","windows"],["ipad","ipad"],["ipod","ipod"],["iphone",/\biphone\b|\biph(\d)/],["mac","macintosh"],["mi",/\bmi[ \-]?([a-z0-9 ]+(?= build|\)))/],["aliyun",/\baliyunos\b(?:[\-](\d+))?/],["meizu",/\b(?:meizu\/|m)([0-9]+)\b/],
["nexus",/\bnexus ([0-9s.]+)/],["huawei",function(f){var a=/\bmediapad (.+?)(?= build\/huaweimediapad\b)/;return-1!==f.indexOf("huawei-huawei")?/\bhuawei\-huawei\-([a-z0-9\-]+)/:a.test(f)?a:/\bhuawei[ _\-]?([a-z0-9]+)/}],["lenovo",function(f){return-1!==f.indexOf("lenovo-lenovo")?/\blenovo\-lenovo[ \-]([a-z0-9]+)/:/\blenovo[ \-]?([a-z0-9]+)/}],["zte",function(f){return/\bzte\-[tu]/.test(f)?/\bzte-[tu][ _\-]?([a-su-z0-9\+]+)/:/\bzte[ _\-]?([a-su-z0-9\+]+)/}],["vivo",/\bvivo(?: ([a-z0-9]+))?/],["htc",
function(f){return/\bhtc[a-z0-9 _\-]+(?= build\b)/.test(f)?/\bhtc[ _\-]?([a-z0-9 ]+(?= build))/:/\bhtc[ _\-]?([a-z0-9 ]+)/}],["oppo",/\boppo[_]([a-z0-9]+)/],["konka",/\bkonka[_\-]([a-z0-9]+)/],["sonyericsson",/\bmt([a-z0-9]+)/],["coolpad",/\bcoolpad[_ ]?([a-z0-9]+)/],["lg",/\blg[\-]([a-z0-9]+)/],["android",/\bandroid\b|\badr\b/],["blackberry",function(f){return 0<=f.indexOf("blackberry")?/\bblackberry\s?(\d+)/:"bb10"}]],n=[["wp",function(f){return-1!==f.indexOf("windows phone ")?/\bwindows phone (?:os )?([0-9.]+)/:
-1!==f.indexOf("xblwp")?/\bxblwp([0-9.]+)/:-1!==f.indexOf("zunewp")?/\bzunewp([0-9.]+)/:"windows phone"}],["windows",/\bwindows nt ([0-9.]+)/],["macosx",/\bmac os x ([0-9._]+)/],["ios",function(f){return/\bcpu(?: iphone)? os /.test(f)?/\bcpu(?: iphone)? os ([0-9._]+)/:-1!==f.indexOf("iph os ")?/\biph os ([0-9_]+)/:/\bios\b/}],["yunos",/\baliyunos ([0-9.]+)/],["android",function(f){return 0<=f.indexOf("android")?/\bandroid[ \/-]?([0-9.x]+)?/:0<=f.indexOf("adr")?0<=f.indexOf("mqqbrowser")?/\badr[ ]\(linux; u; ([0-9.]+)?/:
/\badr(?:[ ]([0-9.]+))?/:"android"}],["chromeos",/\bcros i686 ([0-9.]+)/],["linux","linux"],["windowsce",/\bwindows ce(?: ([0-9.]+))?/],["symbian",/\bsymbian(?:os)?\/([0-9.]+)/],["blackberry",function(f){return(f=f.match(m)||f.match(r)||f.match(k))?{version:f[1]}:"blackberry"}]],i=[["trident",x],["webkit",/\bapplewebkit[\/]?([0-9.+]+)/],["gecko",function(f){if(f=f.match(/\brv:([\d\w.]+).*\bgecko\/(\d+)/))return{version:f[1]+"."+f[2]}}],["presto",/\bpresto\/([0-9.]+)/],["androidwebkit",/\bandroidwebkit\/([0-9.]+)/],
["coolpadwebkit",/\bcoolpadwebkit\/([0-9.]+)/],["u2",/\bu2\/([0-9.]+)/],["u3",/\bu3\/([0-9.]+)/]],f=[["sogou",function(f){return 0<=f.indexOf("sogoumobilebrowser")?/sogoumobilebrowser\/([0-9.]+)/:0<=f.indexOf("sogoumse")?!0:/ se ([0-9.x]+)/}],["theworld",function(){var f=o("theworld");return"undefined"!==typeof f?f:"theworld"}],["360",function(f){var a=o("360se");return"undefined"!==typeof a?a:-1!==f.indexOf("360 aphone browser")?/\b360 aphone browser \(([^\)]+)\)/:/\b360(?:se|ee|chrome|browser)\b/}],
["maxthon",function(){try{if(g&&(g.mxVersion||g.max_version))return{version:g.mxVersion||g.max_version}}catch(f){}return/\b(?:maxthon|mxbrowser)(?:[ \/]([0-9.]+))?/}],["qq",/\bm?qqbrowser\/([0-9.]+)/],["green","greenbrowser"],["tt",/\btencenttraveler ([0-9.]+)/],["liebao",function(f){if(0<=f.indexOf("liebaofast"))return/\bliebaofast\/([0-9.]+)/;if(-1===f.indexOf("lbbrowser"))return!1;var a;try{g&&g.LiebaoGetVersion&&(a=g.LiebaoGetVersion())}catch(i){}return{version:a||h}}],["tao",/\btaobrowser\/([0-9.]+)/],
["coolnovo",/\bcoolnovo\/([0-9.]+)/],["saayaa","saayaa"],["baidu",/\b(?:ba?idubrowser|baiduhd)[ \/]([0-9.x]+)/],["ie",x],["mi",/\bmiuibrowser\/([0-9.]+)/],["opera",function(f){var a=/\bopera.+version\/([0-9.ab]+)/,i=/\bopr\/([0-9.]+)/;return a.test(f)?a:i}],["oupeng",/\boupeng\/([0-9.]+)/],["yandex",/yabrowser\/([0-9.]+)/],["ali-ap",function(f){return 0<f.indexOf("aliapp")?/\baliapp\(ap\/([0-9.]+)\)/:/\balipayclient\/([0-9.]+)\b/}],["ali-ap-pd",/\baliapp\(ap-pd\/([0-9.]+)\)/],["ali-am",/\baliapp\(am\/([0-9.]+)\)/],
["ali-tb",/\baliapp\(tb\/([0-9.]+)\)/],["ali-tb-pd",/\baliapp\(tb-pd\/([0-9.]+)\)/],["ali-tm",/\baliapp\(tm\/([0-9.]+)\)/],["ali-tm-pd",/\baliapp\(tm-pd\/([0-9.]+)\)/],["uc",function(f){return 0<=f.indexOf("ucbrowser/")?/\bucbrowser\/([0-9.]+)/:0<=f.indexOf("ubrowser/")?/\bubrowser\/([0-9.]+)/:/\buc\/[0-9]/.test(f)?/\buc\/([0-9.]+)/:0<=f.indexOf("ucweb")?/\bucweb([0-9.]+)?/:/\b(?:ucbrowser|uc)\b/}],["chrome",/ (?:chrome|crios|crmo)\/([0-9.]+)/],["android",function(f){return-1===f.indexOf("android")?
void 0:/\bversion\/([0-9.]+(?: beta)?)/}],["blackberry",function(f){return(f=f.match(m)||f.match(r)||f.match(k))?{version:f[1]}:"blackberry"}],["safari",/\bversion\/([0-9.]+(?: beta)?)(?: mobile(?:\/[a-z0-9]+)?)? safari\//],["webview",/\bcpu(?: iphone)? os (?:[0-9._]+).+\bapplewebkit\b/],["firefox",/\bfirefox\/([0-9.ab]+)/],["nokia",/\bnokiabrowser\/([0-9.]+)/]],z={name:"na",version:h},w=function(a){var a=(a||"").toLowerCase(),e={};d(a,p,function(f,a){var i=parseFloat(a);e.device={name:f,version:i,
fullVersion:a};e.device[f]=i},e);d(a,n,function(f,a){var i=parseFloat(a);e.os={name:f,version:i,fullVersion:a};e.os[f]=i},e);var g=l(a);d(a,i,function(f,a){var i=a;g&&(a=g.engineVersion||g.engineMode,i=g.engineMode);var z=parseFloat(a);e.engine={name:f,version:z,fullVersion:a,mode:parseFloat(i),fullMode:i,compatible:g?g.compatible:!1};e.engine[f]=z},e);d(a,f,function(f,a){var i=a;g&&("ie"===f&&(a=g.browserVersion),i=g.browserMode);var z=parseFloat(a);e.browser={name:f,version:z,fullVersion:a,mode:parseFloat(i),
fullMode:i,compatible:g?g.compatible:!1};e.browser[f]=z},e);return e};if("object"===typeof process&&"[object process]"===process.toString()){var e=u.require("./morerule");[].unshift.apply(p,e.DEVICES||[]);[].unshift.apply(n,e.OS||[]);[].unshift.apply(f,e.BROWSER||[]);[].unshift.apply(i,e.ENGINE||[])}else{var a=navigator.userAgent||"",e=navigator.appVersion||"",v=navigator.vendor||"";g=c.external;a=w(a+" "+e+" "+v);c.detector=a}a.parse=w;u.exports=a;return s});
__d("common.js.player",[],function(w,u,s){(function(d,a){"undefined"===typeof d._mu&&(d._mu={});return"object"===typeof s?u.exports=a():"function"===typeof define&&define.amd?define("muplayer/core/cfg",a):d._mu.cfg=a()})(this,function(){return $.extend({namespace:this._mu,debug:!1,version:"0.9.2",timerResolution:25,cdn:"http://apps.bdimg.com/libs/muplayer/",engine:{TYPES:{FLASH_MP3:"FlashMP3Core",FLASH_MP4:"FlashMP4Core",AUDIO:"AudioCore"},EVENTS:{STATECHANGE:"engine:statechange",POSITIONCHANGE:"engine:postionchange",
PROGRESS:"engine:progress",ERROR:"engine:error",INIT:"engine:init",INIT_FAIL:"engine:init_fail"},STATES:{NOT_INIT:"not_init",PREBUFFER:"prebuffer",BUFFERING:"buffering",PLAYING:"playing",PAUSE:"pause",STOP:"stop",END:"ended"},ERRCODE:{MEDIA_ERR_ABORTED:"1",MEDIA_ERR_NETWORK:"2",MEDIA_ERR_DECODE:"3",MEDIA_ERR_SRC_NOT_SUPPORTED:"4"}}},"undefined"===typeof this._mu?{}:this._mu.cfg)});(function(d,a){return"object"===typeof s?u.exports=a():"function"===typeof define&&define.amd?define("muplayer/core/utils",
["muplayer/core/cfg"],a):d._mu.utils=a(d._mu.cfg)})(this,function(d){var a,b,c,g,x,m,r,k,p,n;r={};c=String.prototype;a=Number.prototype;b=Object.prototype;x=Array.prototype.push;g=b.hasOwnProperty;m=b.toString;n="Arguments,Function,String,Number,Date,RegExp".split(",");for(k=0,p=n.length;k<p;k++)b=n[k],r["is"+b]=function(a){return function(f){return m.call(f)==="[object "+a+"]"}}(b);$.isFunction(c.startsWith)||(c.startsWith=function(a){return this.slice(0,a.length)===a});$.isFunction(c.endsWith)||
(c.endsWith=function(a){return this.slice(-a.length)===a});a.toFixed=function(a){var f;f=Math.pow(10,a);f=(Math.round(this*f)/f).toString();if(0===a)return f;0>f.indexOf(".")&&(f+=".");for(a=a+1-(f.length-f.indexOf("."));a--;)f+="0";return f};$.extend(r,{isEmpty:function(a){var f,g,e;if(null==a)return!0;if($.isArray(a)||this.isString(a))return 0===a.length;for(g=0,e=a.length;g<e;g++)if(f=a[g],this.has(a,f))return!1;return!0},isBoolean:function(a){return!0===a||!1===a||"[object Boolean]"===m.call(a)},
has:function(a,f){return g.call(a,f)},random:function(a,f){f||(f=a,a=0);return a+Math.floor(Math.random()*(f-a+1))},shuffle:function(a){var f,g,e,d,c,b;f=0;d=[];for(c=0,b=a.length;c<b;c++)g=a[c],e=this.random(f++),d[f-1]=d[e],d[e]=g;return d},clone:function(a){$.isPlainObject(a)||a;return $.isArray(a)?a.slice():$.extend({},a)},time2str:function(a){var f,g,e,d;e=[];f=Math.floor;a=Math.round(a);g=f(a/3600);f=f((a-3600*g)/60);d=a%60;a=function(){return function(f,a){var e,y,g;e=y="";0>f&&(e="-");g=""+
Math.abs(f);g.length<a&&(y=Array(a-g.length+1).join("0"));return e+y+g}}(this);g&&e.push(g);e.push(a(f,2));e.push(a(d,2));return e.join(":")},namespace:function(){var a,f,g,e,c,b,m,B;a=arguments;for(b=0,m=a.length;b<m;b++)if(f=a[b],c=d.namespace,-1<f.indexOf(".")){f=f.split(".");for(B=[0,f.length],g=B[0],e=B[1];g<e;)c[f[g]]=c[f[g]]||{},c=c[f[g]],g++}else c[f]=c[f]||{},c=c[f];return c},wrap:function(a,f){return function(){var g;g=[a];x.apply(g,arguments);return f.apply(this,g)}},toAbsoluteUrl:function(a){var f;
f=document.createElement("div");f.innerHTML="<a></a>";f.firstChild.href=a;f.innerHTML=f.innerHTML;return f.firstChild.href}});return r});(function(d,a){"object"===typeof s?u.exports=a():"function"===typeof define&&define.amd?define("muplayer/lib/events",a):d._mu.Events=a()})(this,function(){function d(){}function a(a,c,d){if(a){var b=0,h=a.length,p=c[0],n=c[1],i=c[2],f=!0;switch(c.length){case 0:for(;b<h;b+=2)f=!1!==a[b].call(a[b+1]||d)&&f;break;case 1:for(;b<h;b+=2)f=!1!==a[b].call(a[b+1]||d,p)&&
f;break;case 2:for(;b<h;b+=2)f=!1!==a[b].call(a[b+1]||d,p,n)&&f;break;case 3:for(;b<h;b+=2)f=!1!==a[b].call(a[b+1]||d,p,n,i)&&f;break;default:for(;b<h;b+=2)f=!1!==a[b].apply(a[b+1]||d,c)&&f}}return f}var b=/\s+/;d.prototype.on=function(a,c,d){var r,k;if(!c)return this;r=this.__events||(this.__events={});for(a=a.split(b);k=a.shift();)k=r[k]||(r[k]=[]),k.push(c,d);return this};d.prototype.once=function(a,c,d){var b=this,h=function(){b.off(a,h);c.apply(this,arguments)};this.on(a,h,d)};d.prototype.off=
function(a,d,m){var r,k,p;if(!(r=this.__events))return this;if(!a&&!d&&!m)return delete this.__events,this;for(a=a?a.split(b):c(r);k=a.shift();)if(p=r[k])if(!d&&!m)delete r[k];else for(k=p.length-2;0<=k;k-=2)d&&p[k]!==d||m&&p[k+1]!==m||p.splice(k,2);return this};d.prototype.trigger=function(g){var d,c,r,k,p=[],n=!0;if(!(d=this.__events))return this;g=g.split(b);for(c=1,r=arguments.length;c<r;c++)p[c-1]=arguments[c];for(;c=g.shift();){if(r=d.all)r=r.slice();if(k=d[c])k=k.slice();n=a(k,p,this)&&n;n=
a(r,[c].concat(p),this)&&n}return n};d.prototype.emit=d.prototype.trigger;d.mixTo=function(a){var a="[object Function]"===Object.prototype.toString.call(a)?a.prototype:a,c=d.prototype,b;for(b in c)c.hasOwnProperty(b)&&(a[b]=c[b])};var c=Object.keys;c||(c=function(a){var c=[],d;for(d in a)a.hasOwnProperty(d)&&c.push(d);return c});return d});var b=[].indexOf||function(d){for(var a=0,b=this.length;a<b;a++)if(a in this&&this[a]===d)return a;return-1};(function(d,a){return"object"===typeof s?u.exports=
a():"function"===typeof define&&define.amd?define("muplayer/core/playlist",["muplayer/core/utils","muplayer/lib/events"],a):d._mu.Playlist=a(_mu.utils,_mu.Events)})(this,function(d,a){var h;h=function(){function a(g){this.opts=$.extend({},this.defaults,g);this.reset()}a.prototype.reset=function(){this.cur="";return $.isArray(this.list)?this.list.length=0:this.list=[]};a.prototype._resetListRandom=function(a){var c;if("list-random"===this.mode)return this._listRandomIndex=a=a||0,this._listRandom=d.shuffle(function(){c=
[];for(var a=0,g=this.list.length;0<=g?a<g:a>g;0<=g?a++:a--)c.push(a);return c}.apply(this)),this.cur=this.list[this._listRandom[a]]};a.prototype._formatSid=function(a){var c,b,h;c=this.opts.absoluteUrl;b=function(a){return c&&d.toAbsoluteUrl(a)||""+a};return $.isArray(a)&&function(){var c,d,n;n=[];for(c=0,d=a.length;c<d;c++)(h=a[c])&&n.push(b(h));return n}()||b(a)};a.prototype.setMode=function(a){if("single"===a||"random"===a||"list-random"===a||"list"===a||"loop"===a)this.mode=a;return this._resetListRandom()};
a.prototype.add=function(a){a=this._formatSid(a);this.remove(a);$.isArray(a)&&a.length?this.list=a.concat(this.list):a&&this.list.unshift(a);this.trigger("playlist:add",a);return this._resetListRandom()};a.prototype.remove=function(a){var c,d,b,h;d=function(a){return function(c){c=$.inArray(c,a.list);if(-1!==c)return a.list.splice(c,1)}}(this);a=this._formatSid(a);if($.isArray(a))for(b=0,h=a.length;b<h;b++)c=a[b],d(c);else d(a);this.trigger("playlist:remove",a);return this._resetListRandom()};a.prototype.prev=
function(){var a,c,b,h;b=this.list;a=$.inArray(this.cur,b);c=b.length;h=a-1;switch(this.mode){case "single":h=a;break;case "random":h=d.random(0,c-1);break;case "list-random":return a=this._listRandomIndex--,h=a-1,0===a&&(h=c-1,this._resetListRandom(h)),this.cur=b[this._listRandom[h]];case "loop":0===a&&(h=c-1)}return this.cur=b[h]};a.prototype.next=function(){var a,c,b,h;b=this.list;a=$.inArray(this.cur,b);c=b.length;h=a+1;switch(this.mode){case "single":h=a;break;case "random":h=d.random(0,c-1);
break;case "list":if(a===c-1)return this.cur=b[0],!1;break;case "list-random":return a=this._listRandomIndex++,h=a+1,a===c-1&&(h=0,this._resetListRandom(h)),this.cur=b[this._listRandom[h]];case "loop":a===c-1&&(h=0)}return this.cur=b[h]};a.prototype.setCur=function(a){a+="";0>b.call(this.list,a)&&this.add(a);return this.cur=""+a};return a}();a.mixTo(h);return h});b=[].indexOf||function(d){for(var a=0,b=this.length;a<b;a++)if(a in this&&this[a]===d)return a;return-1};(function(d,a){return"object"===
typeof s?u.exports=a():"function"===typeof define&&define.amd?define("muplayer/core/engines/engineCore",["muplayer/core/cfg","muplayer/core/utils","muplayer/lib/events"],a):d._mu.EngineCore=a(_mu.cfg,_mu.utils,_mu.Events)})(this,function(d,a,h){var c,g,l,m,j,k;k=d.engine;c=k.EVENTS;g=k.STATES;l=function(){var a;a=[];for(m in g)j=g[m],a.push(j);return a}();d=function(){function a(){}a.prototype._supportedTypes=[];a.prototype.getSupportedTypes=function(){return this._supportedTypes};a.prototype.canPlayType=
function(a){return-1!==$.inArray(a,this.getSupportedTypes())};a.prototype.reset=function(){this.stop();this.setUrl();return this.setState(g.NOT_INIT)};a.prototype.play=function(){return this};a.prototype.pause=function(){return this};a.prototype.stop=function(){return this};a.prototype.setUrl=function(a){null==a&&(a="");this._url=a;return this};a.prototype.getUrl=function(){return this._url};a.prototype.setState=function(a){var i;if(0<=b.call(l,a)&&a!==this._state)return i=this._state,this._state=
a,this.trigger(c.STATECHANGE,{oldState:i,newState:a})};a.prototype.getState=function(){return this._state};a.prototype.setVolume=function(a){this._volume=a;return this};a.prototype.getVolume=function(){return this._volume};a.prototype.setMute=function(a){this._mute=a;return this};a.prototype.getMute=function(){return this._mute};a.prototype.setCurrentPosition=function(){return this};a.prototype.getCurrentPosition=function(){return 0};a.prototype.getLoadedPercent=function(){return 0};a.prototype.getTotalTime=
function(){return 0};return a}();h.mixTo(d);return d});(function(d,a){"object"===typeof s?u.exports=a():"function"===typeof define&&define.amd?define("muplayer/lib/modernizr.audio",a):d._mu.Modernizr=a()})(this,function(){return function(d,a,b){var c={},g=a.documentElement,d=a.createElement("modernizr"),d=d.style,l={},m=[],j=m.slice,k,p={}.hasOwnProperty,n;n="undefined"!==typeof p&&"undefined"!==typeof p.call?function(a,c){return p.call(a,c)}:function(a,c){return c in a&&"undefined"===typeof a.constructor.prototype[c]};
Function.prototype.bind||(Function.prototype.bind=function(a){var c=this;if("function"!=typeof c)throw new TypeError;var e=j.call(arguments,1),i=function(){if(this instanceof i){var d=function(){};d.prototype=c.prototype;var d=new d,b=c.apply(d,e.concat(j.call(arguments)));return Object(b)===b?b:d}return c.apply(a,e.concat(j.call(arguments)))};return i});l.audio=function(){var f=a.createElement("audio"),c=!1;try{if(c=!!f.canPlayType)c=new Boolean(c),c.ogg=f.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,
""),c.mp3=f.canPlayType("audio/mpeg;").replace(/^no$/,""),c.wav=f.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),c.m4a=(f.canPlayType("audio/x-m4a;")||f.canPlayType("audio/aac;")).replace(/^no$/,"")}catch(e){}return c};for(var i in l)n(l,i)&&(k=i.toLowerCase(),c[k]=l[i](),m.push((c[k]?"":"no-")+k));c.addTest=function(a,i){if("object"==typeof a)for(var e in a)n(a,e)&&c.addTest(e,a[e]);else{a=a.toLowerCase();if(c[a]!==b)return c;i="function"==typeof i?i():i;"undefined"!==typeof enableClasses&&
enableClasses&&(g.className+=" "+(i?"":"no-")+a);c[a]=i}return c};d.cssText="";d=null;c._version="2.7.1";return c}(this,this.document)});var l={}.hasOwnProperty,o=function(d,a){function b(){this.constructor=d}for(var c in a)l.call(a,c)&&(d[c]=a[c]);b.prototype=a.prototype;d.prototype=new b;d.__super__=a.prototype;return d},j=[].slice;(function(d,a){return"object"===typeof s?u.exports=a():"function"===typeof define&&define.amd?define("muplayer/core/engines/audioCore",["muplayer/core/cfg","muplayer/core/utils",
"muplayer/core/engines/engineCore","muplayer/lib/modernizr.audio"],a):d._mu.AudioCore=a(_mu.cfg,_mu.utils,_mu.EngineCore,_mu.Modernizr)})(this,function(d,a,b,c){var g,l,m,r,k,p;k=window;p=d.engine;r=p.TYPES;l=p.EVENTS;m=p.STATES;g=p.ERRCODE;return function(b){function i(a){var b,e,d,g,h,B;this.opts=$.extend({},i.defaults,a);this.opts.emptyMP3=this.opts.baseDir+this.opts.emptyMP3;g=this.opts;d={"":0,maybe:1,probably:2};a=d[g.confidence];b=c.audio;if(!b)return this;for(e in b)B=b[e],d[B]>=a&&this._supportedTypes.push(e);
b=new Audio;b.preload=g.preload;b.autoplay=g.autoplay;b.loop=!1;b.on=function(){return function(a,f){b.addEventListener(a,f,!1);return b}}(this);b.off=function(){return function(a,f){b.removeEventListener(a,f,!1);return b}}(this);this.audio=b;this._needCanPlay(["play","setCurrentPosition"]);this.setState(m.NOT_INIT);this._initEvents();g.needPlayEmpty&&(h=function(a){return function(){a.setUrl(g.emptyMP3).play();return k.removeEventListener("touchstart",h,!1)}}(this),k.addEventListener("touchstart",
h,!1))}o(i,b);i.defaults={confidence:"maybe",preload:!1,autoplay:!1,needPlayEmpty:!0,emptyMP3:"empty.mp3"};i.prototype._supportedTypes=[];i.prototype.engineType=r.AUDIO;i.prototype._test=function(a){if(!c.audio||!this._supportedTypes.length)return!1;a&&this.trigger(l.INIT_FAIL,this.engineType);return!0};i.prototype._initEvents=function(){var a,c,e;e=this.trigger;this.trigger=function(a){return function(f,c){if(a.getUrl()!==a.opts.emptyMP3)return e.call(a,f,c)}}(this);a=function(a){return function(f){a.setState(m.BUFFERING);
return a.trigger(l.PROGRESS,f||a.getLoadedPercent())}}(this);c=null;return this.audio.on("loadstart",function(e){return function(){var b;b=e.audio;c=setInterval(function(){return 1<b.readyState?clearInterval(c):a()},50);return e.setState(m.PREBUFFER)}}(this)).on("playing",function(a){return function(){return a.setState(m.PLAYING)}}(this)).on("pause",function(a){return function(){return a.setState(a.getCurrentPosition()&&m.PAUSE||m.STOP)}}(this)).on("ended",function(a){return function(){return a.setState(m.END)}}(this)).on("error",
function(a){return function(){a.setState(m.END);return a.trigger(l.ERROR,g.MEDIA_ERR_NETWORK)}}(this)).on("waiting",function(a){return function(){return a.setState(a.getCurrentPosition()&&m.BUFFERING||m.PREBUFFER)}}(this)).on("timeupdate",function(a){return function(){return a.trigger(l.POSITIONCHANGE,a.getCurrentPosition())}}(this)).on("progress",function(e){var b;clearInterval(c);b=e.loaded||0;e=e.total||1;return a(b&&1*(b/e).toFixed(2))})};i.prototype._needCanPlay=function(f){var c,e,b,i,d;c=this.audio;
d=[];for(b=0,i=f.length;b<i;b++)e=f[b],d.push(this[e]=a.wrap(this[e],function(a){return function(){var f,e,b;e=arguments[0];f=2<=arguments.length?j.call(arguments,1):[];3>c.readyState?(b=function(){e.apply(a,f);return c.off("canplay",b)},c.on("canplay",b)):e.apply(a,f);return a}}(this)));return d};i.prototype.play=function(){this.audio.play();return this};i.prototype.pause=function(){this.audio.pause();return this};i.prototype.stop=function(){try{this.audio.currentTime=0}catch(a){}finally{this.pause()}return this};
i.prototype.setUrl=function(a){null==a&&(a="");this.audio.src=a;this.audio.load();return i.__super__.setUrl.call(this,a)};i.prototype.setVolume=function(a){this.audio.volume=a/100;return i.__super__.setVolume.call(this,a)};i.prototype.setMute=function(a){this.audio.muted=a;return i.__super__.setMute.call(this,a)};i.prototype.setCurrentPosition=function(a){try{this.audio.currentTime=a/1E3}catch(c){}finally{this.play()}return this};i.prototype.getCurrentPosition=function(){return 1E3*this.audio.currentTime};
i.prototype.getLoadedPercent=function(){var a,c,e,b,i,d;a=this.audio;i=a.duration;b=a.buffered;e=b.length;for(c=0;e--;)if(b.start(e)<=(d=a.currentTime)&&d<=b.end(e)){c=b.end(e);break}return i&&1*((c>i?i:c)/i).toFixed(2)||0};i.prototype.getTotalTime=function(){var a;return(a=this.audio.duration)&&1E3*a||0};return i}(b)});(function(b,a){"object"===typeof s?u.exports=a():"function"===typeof define&&define.amd?define("muplayer/lib/Timer",a):b._mu.Timer=a()})(this,function(){function b(a){if("string"===
typeof a){isNaN(parseInt(a,10))&&(a="1"+a);var d=a.replace(/[^a-z0-9\.]/g,"").match(/(?:(\d+(?:\.\d+)?)(?:days?|d))?(?:(\d+(?:\.\d+)?)(?:hours?|hrs?|h))?(?:(\d+(?:\.\d+)?)(?:minutes?|mins?|m\b))?(?:(\d+(?:\.\d+)?)(?:seconds?|secs?|s))?(?:(\d+(?:\.\d+)?)(?:milliseconds?|ms))?/);if(d[0])return 864E5*parseFloat(d[1]||0)+36E5*parseFloat(d[2]||0)+6E4*parseFloat(d[3]||0)+1E3*parseFloat(d[4]||0)+parseInt(d[5]||0,10);if(!isNaN(parseInt(a,10)))return parseInt(a,10)}return"number"===typeof a?a:0}function a(a,
b){return parseInt(a/b,10)||1}function h(a){if(!1===this instanceof h)return new h(a);this._notifications=[];this._resolution=b(a)||1E3;this._running=!1;this._ticks=0;this._timer=null;this._drift=0}h.prototype={start:function(){var a=this;this._running||(this._running=!this._running,setTimeout(function x(){a._ticks++;for(var b=0,d=a._notifications.length;b<d;b++)a._notifications[b]&&0===a._ticks%a._notifications[b].ticks&&a._notifications[b].callback.call(a._notifications[b],{ticks:a._ticks,resolution:a._resolution});
a._running&&(a._timer=setTimeout(x,a._resolution+a._drift),a._drift=0)},this._resolution));return this},stop:function(){this._running&&(this._running=!this._running,clearTimeout(this._timer));return this},reset:function(){this.stop();this._ticks=0;return this},clear:function(){this.reset();this._notifications=[];return this},ticks:function(){return this._ticks},resolution:function(){return this._resolution},running:function(){return this._running},bind:function(c,g){c&&g&&this._notifications.push({ticks:a(b(c),
this._resolution),callback:g});return this},unbind:function(a){if(a)for(var b=0,d=this._notifications.length;b<d;b++)this._notifications[b]&&this._notifications[b].callback===a&&this._notifications.splice(b,1);else this._notifications=[];return this},drift:function(a){this._drift=a;return this}};h.prototype.every=h.prototype.bind;h.prototype.after=function(a,b){var d=this;h.prototype.bind.call(d,a,function r(){h.prototype.unbind.call(d,r);b.apply(this,arguments)});return this};return h});(function(b,
a){"object"===typeof s?u.exports=a():"function"===typeof define&&define.amd?define("muplayer/lib/jquery.swfobject",a):a()})(this,function(){(function(b,a,h){function c(a,f){var b=(a[0]||0)-(f[0]||0);return 0<b||!b&&0<a.length&&c(a.slice(1),f.slice(1))}function g(a){if(typeof a!=m)return a;var f=[],b="",e;for(e in a)b=typeof a[e]==m?g(a[e]):[e,j?encodeURI(a[e]):a[e]].join("="),f.push(b);return f.join("&")}function l(a){var f=[],b;for(b in a)f.push(['<param name="',b,'" value="',g(a[b]),'" />'].join(""));
return f.join("")}var m="object",j=!0;try{var k=h.description||(new h("ShockwaveFlash.ShockwaveFlash")).GetVariable("$version")}catch(p){k="Unavailable"}var n=k.match(/\d+/g)||[0];b[a]={available:0<n[0],activeX:h&&!h.name,version:{original:k,array:n,string:n.join("."),major:parseInt(n[0],10)||0,minor:parseInt(n[1],10)||0,release:parseInt(n[2],10)||0},hasVersion:function(a){a=/string|number/.test(typeof a)?a.toString().split("."):/object/.test(typeof a)?[a.major,a.minor]:a||[0,0];return c(n,a)},encodeParams:!0,
expressInstall:"expressInstall.swf",expressInstallIsActive:!1,create:function(a){if(!a.swf||this.expressInstallIsActive||!this.available&&!a.hasVersionFail)return!1;if(!this.hasVersion(a.hasVersion||1)){this.expressInstallIsActive=!0;if("function"==typeof a.hasVersionFail&&!a.hasVersionFail.apply(a))return!1;a={swf:a.expressInstall||this.expressInstall,height:137,width:214,flashvars:{MMredirectURL:location.href,MMplayerType:this.activeX?"ActiveX":"PlugIn",MMdoctitle:document.title.slice(0,47)+" - Flash Player Installation"}}}attrs=
{data:a.swf,type:"application/x-shockwave-flash",id:a.id||"flash_"+Math.floor(999999999*Math.random()),width:a.width||320,height:a.height||180,style:a.style||""};j="undefined"!==typeof a.useEncode?a.useEncode:this.encodeParams;a.movie=a.swf;a.wmode=a.wmode||"opaque";delete a.fallback;delete a.hasVersion;delete a.hasVersionFail;delete a.height;delete a.id;delete a.swf;delete a.useEncode;delete a.width;var f=document.createElement("div"),b;b=attrs;var e=[],c;for(c in b)b[c]&&e.push([c,'="',b[c],'"'].join(""));
b=e.join(" ");f.innerHTML=["<object ",b,">",l(a),"</object>"].join("");return f.firstChild}};b.fn[a]=function(c){var f=this.find(m).andSelf().filter(m);/string|object/.test(typeof c)&&this.each(function(){var f=b(this),e;c=typeof c==m?c:{swf:c};c.fallback=this;if(e=b[a].create(c))f.children().remove(),f.html(e)});"function"==typeof c&&f.each(function(){var f=this;f.jsInteractionTimeoutMs=f.jsInteractionTimeoutMs||0;660>f.jsInteractionTimeoutMs&&(f.clientWidth||f.clientHeight?c.call(f):setTimeout(function(){b(f)[a](c)},
f.jsInteractionTimeoutMs+66))});return f}})(jQuery,"flash",navigator.plugins["Shockwave Flash"]||window.ActiveXObject)});l={}.hasOwnProperty;o=function(b,a){function h(){this.constructor=b}for(var c in a)l.call(a,c)&&(b[c]=a[c]);h.prototype=a.prototype;b.prototype=new h;b.__super__=a.prototype;return b};j=[].slice;(function(b,a){return"object"===typeof s?u.exports=a():"function"===typeof define&&define.amd?define("muplayer/core/engines/flashCore",["muplayer/core/cfg","muplayer/core/utils","muplayer/lib/Timer",
"muplayer/core/engines/engineCore","muplayer/lib/jquery.swfobject"],a):b._mu.FlashCore=a(_mu.cfg,_mu.utils,_mu.Timer,_mu.EngineCore)})(this,function(b,a,h,c){var g,l,m,r,k,p;p=b.engine;l=p.EVENTS;m=p.STATES;g=p.ERRCODE;k=b.timerResolution;r={"-1":m.NOT_INIT,1:m.PREBUFFER,2:m.BUFFERING,3:m.PLAYING,4:m.PAUSE,5:m.STOP,6:m.END};return function(b){function c(f){var b,e,d;this.opts=d=$.extend({},this.defaults,f);this._state=m.NOT_INIT;this._loaded=!1;this._queue=[];this._needFlashReady("play,pause,stop,setCurrentPosition,_setUrl,_setVolume,_setMute".split(","));
this._unexceptionGet(["getCurrentPosition","getLoadedPercent","getTotalTime"]);f=d.baseDir;b="muplayer_"+setTimeout(function(){},0);e=d.instanceName+"_"+b;a.namespace("engines")[e]=this;this.flash=$.flash.create({swf:f+d.swf,id:b,height:1,width:1,allowscriptaccess:"always",wmode:"transparent",expressInstaller:f+d.expressInstaller,flashvars:{_instanceName:"_mu.engines."+e,_buffertime:5E3}});d.$el.append(this.flash);this._initEvents()}o(c,b);c.defaults={expressInstaller:"expressInstall.swf"};c.prototype._test=
function(a){if(!$.flash.hasVersion(this.opts.flashVer))return!1;a&&this.trigger(l.INIT_FAIL,this.engineType);return!0};c.prototype._initEvents=function(){var a,b;this.progressTimer=new h(k);this.positionTimer=new h(k);b=function(a){return function(){var f;f=a.getLoadedPercent();a._lastPer!==f&&(a._lastPer=f,a.trigger(l.PROGRESS,f));if(1===f)return a.progressTimer.stop()}}(this);a=function(a){return function(){var f;f=a.getCurrentPosition();if(a._lastPos!==f)return a._lastPos=f,a.trigger(l.POSITIONCHANGE,
f)}}(this);this.progressTimer.every("100 ms",b);this.positionTimer.every("100 ms",a);return this.on(l.STATECHANGE,function(b){return function(c){c=c.newState;switch(c){case m.PREBUFFER:case m.PLAYING:b.progressTimer.start();break;case m.PAUSE:case m.STOP:b.progressTimer.stop();break;case m.END:b.progressTimer.reset()}switch(c){case m.PLAYING:return b.positionTimer.start();case m.PAUSE:case m.STOP:return b.positionTimer.stop(),a();case m.END:return b.positionTimer.reset()}}}(this))};c.prototype._needFlashReady=
function(f){var b,c,d,g;g=[];for(c=0,d=f.length;c<d;c++)b=f[c],g.push(this[b]=a.wrap(this[b],function(a){return function(){var f,b;b=arguments[0];f=2<=arguments.length?j.call(arguments,1):[];a._loaded?b.apply(a,f):a._pushQueue(b,f);return a}}(this)));return g};c.prototype._unexceptionGet=function(f){var b,c,d,g;g=[];for(c=0,d=f.length;c<d;c++)b=f[c],g.push(this[b]=a.wrap(this[b],function(a){return function(){var f,b;b=arguments[0];f=2<=arguments.length?j.call(arguments,1):[];try{return b.apply(a,
f)}catch(c){return 0}}}(this)));return g};c.prototype._pushQueue=function(a,b){return this._queue.push([a,b])};c.prototype._fireQueue=function(){var a,b,c,d;for(d=[];this._queue.length;)c=this._queue.shift(),b=c[0],a=c[1],d.push(b.apply(this,a));return d};c.prototype.play=function(){this.flash.f_play();return this};c.prototype.pause=function(){this.flash.f_pause();return this};c.prototype.stop=function(){this.flash.f_stop();return this};c.prototype._setUrl=function(a){return this.flash.f_load(a)};
c.prototype.setUrl=function(a){a&&(this._setUrl(a),function(a){return function(){var f,b;b=null;f=function(c){return c.newState===m.PLAYING&&c.oldState===m.PREBUFFER?b=setTimeout(function(){a.off(l.STATECHANGE,f);if(100>a.getCurrentPosition())return a.setState(m.END),a.trigger(l.ERROR,g.MEDIA_ERR_SRC_NOT_SUPPORTED)},2E3):clearTimeout(b)};return a.off(l.STATECHANGE,f).on(l.STATECHANGE,f)}}(this)());return c.__super__.setUrl.call(this,a)};c.prototype.getState=function(a){return r[a]||this._state};c.prototype._setVolume=
function(a){return this.flash.setData("volume",a)};c.prototype.setVolume=function(a){this._setVolume(a);return c.__super__.setVolume.call(this,a)};c.prototype._setMute=function(a){return this.flash.setData("mute",a)};c.prototype.setMute=function(a){this._setMute(a);return c.__super__.setMute.call(this,a)};c.prototype.setCurrentPosition=function(a){this.flash.f_play(a);return this};c.prototype.getCurrentPosition=function(){return this.flash.getData("position")};c.prototype.getLoadedPercent=function(){return this.flash.getData("loadedPct")};
c.prototype.getTotalTime=function(){return this.flash.getData("length")};c.prototype._swfOnLoad=function(){this._loaded=!0;return setTimeout(function(a){return function(){return a._fireQueue()}}(this),0)};c.prototype._swfOnStateChange=function(a){return this.setState(this.getState(a))};c.prototype._swfOnErr=function(a){this.setState(m.END);this.trigger(l.ERROR);return"undefined"!==typeof console&&null!==console?console.error(a):void 0};return c}(c)});l={}.hasOwnProperty;o=function(b,a){function h(){this.constructor=
b}for(var c in a)l.call(a,c)&&(b[c]=a[c]);h.prototype=a.prototype;b.prototype=new h;b.__super__=a.prototype;return b};(function(b,a){return"object"===typeof s?u.exports=a():"function"===typeof define&&define.amd?define("muplayer/core/engines/flashMP3Core",["muplayer/core/cfg","muplayer/core/engines/flashCore"],a):b._mu.FlashMP3Core=a(_mu.cfg,_mu.FlashCore)})(this,function(b,a){var h;h=b.engine.TYPES;return function(a){function b(){return b.__super__.constructor.apply(this,arguments)}o(b,a);b.prototype.defaults=
{swf:"muplayer_mp3.swf",instanceName:"MP3Core",flashVer:"9.0.0"};b.prototype._supportedTypes=["mp3"];b.prototype.engineType=h.FLASH_MP3;return b}(a)});l={}.hasOwnProperty;o=function(b,a){function h(){this.constructor=b}for(var c in a)l.call(a,c)&&(b[c]=a[c]);h.prototype=a.prototype;b.prototype=new h;b.__super__=a.prototype;return b};(function(b,a){return"object"===typeof s?u.exports=a():"function"===typeof define&&define.amd?define("muplayer/core/engines/flashMP4Core",["muplayer/core/cfg","muplayer/core/engines/flashCore"],
a):b._mu.FlashMP4Core=a(_mu.cfg,_mu.FlashCore)})(this,function(b,a){var h;h=b.engine.TYPES;return function(a){function b(){return b.__super__.constructor.apply(this,arguments)}o(b,a);b.prototype.defaults={swf:"muplayer_mp4.swf",instanceName:"MP4Core",flashVer:"9.0.115"};b.prototype._supportedTypes=["m4a"];b.prototype.engineType=h.FLASH_MP4;return b}(a)});(function(b,a){return"object"===typeof s?u.exports=a():"function"===typeof define&&define.amd?define("muplayer/core/engines/engine","muplayer/core/cfg,muplayer/core/utils,muplayer/lib/events,muplayer/core/engines/engineCore,muplayer/core/engines/audioCore,muplayer/core/engines/flashMP3Core,muplayer/core/engines/flashMP4Core".split(","),
a):b._mu.Engine=a(_mu.cfg,_mu.utils,_mu.Events,_mu.EngineCore,_mu.AudioCore,_mu.FlashMP3Core,_mu.FlashMP4Core)})(this,function(b,a,h,c,g,l,m){var j,k,p,n;n=b.engine;j=n.EVENTS;k=n.STATES;p=/\.(\w+)(\?.*)?$/;b=function(){function a(b){this.opts=$.extend({},this.defaults,b);this._initEngines()}a.el='<div id="muplayer_container_{{DATETIME}}" style="width: 1px; height: 1px; overflow: hidden"></div>';a.prototype.defaults={engines:[{constructor:g},{constructor:l},{constructor:m}]};a.prototype._initEngines=
function(){var b,d,e,g,h,m,B,y;this.engines=[];h=this.opts;b=$(a.el.replace(/{{DATETIME}}/g,+new Date)).appendTo("body");y=h.engines;for(d=m=0,B=y.length;m<B;d=++m){g=y[d];e=g.constructor;d=g.args||{};d.baseDir=h.baseDir;d.$el=b;try{$.isFunction(e)||(e=eval(e)),g=new e(d)}catch(l){throw"Missing constructor: "+g.constructor;}g._test()&&this.engines.push(g)}return this.engines.length?this.setEngine(this.engines[0]):this.setEngine(new c)};a.prototype.setEngine=function(a){var b,c,d,g,h,B,y;this._lastE=
{};B=function(a){return function(b){if(!(b.oldState===a._lastE.oldState&&b.newState===a._lastE.newState))return a._lastE={oldState:b.oldState,newState:b.newState},a.trigger(j.STATECHANGE,b)}}(this);g=function(a){return function(b){return a.trigger(j.POSITIONCHANGE,b)}}(this);h=function(a){return function(b){return a.trigger(j.PROGRESS,b)}}(this);c=function(a){return function(b){return a.trigger(j.ERROR,b)}}(this);b=function(a){return a.on(j.STATECHANGE,B).on(j.POSITIONCHANGE,g).on(j.PROGRESS,h).on(j.ERROR,
c)};y=function(a){return a.off(j.STATECHANGE,B).off(j.POSITIONCHANGE,g).off(j.PROGRESS,h).on(j.ERROR,c)};if(this.curEngine){if(this.curEngine!==a)return d=this.curEngine,y(d).reset(),this.curEngine=b(a),this.curEngine.setVolume(d.getVolume()).setMute(d.getMute())}else return this.curEngine=b(a)};a.prototype.canPlayType=function(a){return-1!==$.inArray(a,this.getSupportedTypes())};a.prototype.getSupportedTypes=function(){var a,b,c,d,g;b=[];g=this.engines;for(c=0,d=g.length;c<d;c++)a=g[c],b=b.concat(a.getSupportedTypes());
return b};a.prototype.switchEngineByType=function(a){var b,c,d,g,h;c=!1;h=this.engines;for(d=0,g=h.length;d<g;d++)if(b=h[d],b.canPlayType(a)){this.setEngine(b);c=!0;break}if(!c)return this.setEngine(this.engines[0])};a.prototype.reset=function(){this.curEngine.reset();return this};a.prototype.setUrl=function(a){var b;p.test(a)&&(b=RegExp.$1.toLocaleLowerCase());if(this.canPlayType(b))this.curEngine.canPlayType(b)||this.switchEngineByType(b);else throw"Can not play with: "+b;this.curEngine.setUrl(a);
return this};a.prototype.getUrl=function(){return this.curEngine.getUrl()};a.prototype.play=function(){this.curEngine.play();return this};a.prototype.pause=function(){this.curEngine.pause();this.setState(k.PAUSE);return this};a.prototype.stop=function(){this.curEngine.stop();this.setState(k.STOP);return this};a.prototype.setState=function(a){this.curEngine.setState(a);return this};a.prototype.getState=function(){return this.curEngine.getState()};a.prototype.setMute=function(a){this.curEngine.setMute(!!a);
return this};a.prototype.getMute=function(){return this.curEngine.getMute()};a.prototype.setVolume=function(a){$.isNumeric(a)&&0<=a&&100>=a&&this.curEngine.setVolume(a);return this};a.prototype.getVolume=function(){return this.curEngine.getVolume()};a.prototype.setCurrentPosition=function(a){this.curEngine.setCurrentPosition(~~a);return this};a.prototype.getCurrentPosition=function(){return this.curEngine.getCurrentPosition()};a.prototype.getLoadedPercent=function(){return this.curEngine.getLoadedPercent()};
a.prototype.getTotalTime=function(){return this.curEngine.getTotalTime()};a.prototype.getEngineType=function(){return this.curEngine.engineType};a.prototype.getState=function(){return this.curEngine.getState()};return a}();h.mixTo(b);return b});(function(b,a){return"object"===typeof s?u.exports=a():"function"===typeof define&&define.amd?define("muplayer/player",["muplayer/core/cfg","muplayer/core/utils","muplayer/lib/events","muplayer/core/playlist","muplayer/core/engines/engine"],a):b._mu.Player=
a(b._mu.cfg,b._mu.utils,b._mu.Events,b._mu.Playlist,b._mu.Engine)})(this,function(b,a,h,c,g){var l,m,j,k;k=b.engine;l=k.EVENTS;m=k.STATES;j=a.time2str;a=function(){function a(b){var f;this.opts=f=$.extend({},a.defaults,b);b=f.baseDir;if(!1===b)b="";else if(!b)throw"baseDir must be set! Usually, it should point to the MuPlayer's dist directory.";b&&!b.endsWith("/")&&(b+="/");if(f.singleton){if(h)return h;h=this}this.playlist=new c({absoluteUrl:f.absoluteUrl});this.playlist.setMode(f.mode);this._initEngine(new g({baseDir:b,
engines:f.engines}));this.setMute(f.mute);this.setVolume(f.volume)}var h;h=null;a.defaults={baseDir:""+b.cdn+b.version,mode:"loop",mute:!1,volume:80,singleton:!0,absoluteUrl:!0};a.prototype._initEngine=function(a){return this.engine=a.on(l.STATECHANGE,function(a){return function(b){b=b.newState;a.trigger(b);if(b===m.END)return a.next(!0)}}(this)).on(l.POSITIONCHANGE,function(a){return function(b){return a.trigger("timeupdate",b)}}(this)).on(l.PROGRESS,function(a){return function(b){return a.trigger("progress",
b)}}(this)).on(l.ERROR,function(a){return function(b){return a.trigger("error",b)}}(this))};a.prototype.play=function(a){var b,c,e,d,a=~~a;b=$.Deferred();c=this.engine;e=function(e){return function(){a?c.setCurrentPosition(a):c.play();e.trigger("player:play",a);return b.resolve()}}(this);(d=this.getState())===m.NOT_INIT||d===m.STOP||d===m.END?this._fetch().done(function(){return function(){return e()}}(this)):e();return b.promise()};a.prototype.pause=function(){this.engine.pause();this.trigger("player:pause");
return this};a.prototype.stop=function(){this.engine.stop();this.trigger("player:stop");return this};a.prototype.replay=function(){return this.stop().play()};a.prototype.prev=function(){var a;a=this.getCur();this.stop();this.getSongsNum()&&this.playlist.prev()&&(this.trigger("player:prev",{cur:a}),this.play());return this};a.prototype.next=function(a){var b;b=this.getCur();this.stop();this.getSongsNum()&&this.playlist.next()&&(this.trigger("player:next",{auto:a,cur:b}),this.play());return this};a.prototype.getCur=
function(){var a,b;b=this.playlist;a=b.cur;!a&&this.getSongsNum()&&(a=b.list[0],b.setCur(a));return a+""};a.prototype.setCur=function(a){var b;b=this.playlist;!a&&this.getSongsNum()&&(a=b.list[0]);a&&this._sid!==a&&(b.setCur(a),this._sid=a,this.stop());return this};a.prototype.curPos=function(a){var b;b=this.engine.getCurrentPosition()/1E3;return a?j(b):b};a.prototype.duration=function(a){var b;b=this.engine.getTotalTime()/1E3;return a?j(b):b};a.prototype.add=function(a){a&&this.playlist.add(a);this.trigger("player:add",
a);return this};a.prototype.remove=function(a){a&&this.playlist.remove(a);this.getSongsNum()||this.reset();this.trigger("player:remove",a);return this};a.prototype.reset=function(){this.playlist.reset();this.engine.reset();this.trigger("player:reset");return this};a.prototype.getState=function(){return this.engine.getState()};a.prototype.setUrl=function(a){this.engine.setUrl(a);return this};a.prototype.getUrl=function(){return this.engine.getUrl()};a.prototype.setVolume=function(a){return this.engine.setVolume(a)};
a.prototype.getVolume=function(){return this.engine.getVolume()};a.prototype.setMute=function(a){this.engine.setMute(a);return this};a.prototype.getMute=function(){return this.engine.getMute()};a.prototype.canPlayType=function(a){return this.engine.canPlayType(a)};a.prototype.getSongsNum=function(){return this.playlist.list.length};a.prototype.setMode=function(a){this.playlist.setMode(a);return this};a.prototype.getMode=function(){return this.playlist.mode};a.prototype._fetch=function(){var a;a=$.Deferred();
this.getUrl()===this.getCur()?a.resolve():setTimeout(function(b){return function(){b.setUrl(b.getCur());return a.resolve()}}(this),0);return a.promise()};return a}();h.mixTo(a);return a});return s});
__d("common.js.audioPool",[],function(){function w(){}function u(l){this.pool=[];this.src=b?l.ogg:l.mp3;this.newAudio()}var s=!!document.createElement("audio").canPlayType,b=s&&document.createElement("audio").canPlayType("audio/ogg");u.prototype.play=s?function(){this.pool.shift().play();1>this.pool.length&&this.newAudio()}:w;u.prototype.newAudio=s?function(){var b=new Audio(this.src),o=this;this.pool.push(b);b.addEventListener("ended",function(){o.pool.push(b)})}:w;return u});
__d("widget.servicetab.servicetab",["common.js.widget"],function(w,u,s,b){b("common.js.widget");$.widget("hao123.servicetab",{options:{active:0,tabid:"tabid"},_create:function(){this.status=1;this.$tabHeaderElem=$(".servicetab-header",this.element);this.$tabBdElem=$(".servicetab-bd",this.element);this.$morehdElem=$(".servicetab-more",this.$tabHeaderElem);this.$morebdElem=$(".box-more",this.$tabBdElem);this.$allTabs=$(".js_tag",this.$tabHeaderElem);this.allTabs=this.$allTabs.get();this.tabMap=[$("#box-starbar"),
$("#box-locallife")];this.showMoreFlag=0;this._on(!0,this.$tabHeaderElem,{"click .js_tag":function(b){var o=this.options.active,j=this.options.tabid,b=$.inArray(b.currentTarget,this.allTabs),d=this.$allTabs.eq(o).data(j),j=this.$allTabs.eq(b).data(j),a="_hide"+$.camelCase(d),h="_show"+$.camelCase(j);this._hideboxMoreHandler();if(j==d)return!1;this[a]||(a="_hideboxDefault");this[a](o);this[h]||(h="_showboxDefault");this[h](b);this.options.active=b;return!1}});this._on(!0,this.$morehdElem,{click:function(){this.showMoreFlag?
this._hideboxMore():this._showboxMore();return!1}});this._on(!0,this.$morebdElem,{click:function(b){b.stopPropagation()}});this._on(!0,this.document,{click:"_hideboxMoreHandler"})},_showboxDefault:function(b){$(this.allTabs[b]).addClass("servicetab-itemactive");this.tabMap[b].show()},_hideboxDefault:function(b){$(this.allTabs[b]).removeClass("servicetab-itemactive");this.tabMap[b].hide()},_showboxMore:function(){this.$tabHeaderElem.addClass("servicetab-headeractive");this.$morehdElem.addClass("servicetab-moreactive");
$("#box-more").show();this.showMoreFlag=1},_hideboxMore:function(){this.$tabHeaderElem.removeClass("servicetab-headeractive");this.$morehdElem.removeClass("servicetab-moreactive");$("#box-more").hide();this.showMoreFlag=0},_hideboxMoreHandler:function(){this.showMoreFlag&&this._hideboxMore()}});return s});
__d("widget.leftbannerv2.leftbannerv2",["common.js.jquery","common.js.widget"],function(w,u,s,b){b("common.js.jquery");b("common.js.widget");$.widget("hao123.leftbannerv2",function(){var b=null,o=0,j=0,d,a=[];return{options:{arrowClass:"wslider-arrow",innerClass:"wslider-inner",auto:!0,interval:6E3},_create:function(){var a=this.element,b=this.options,g=b.auto,l=b.arrowClass,b=a.children("."+b.innerClass);j=(this.item=b.children()).length;d=this;if(1<j){var m=a.children("."+l),o=m.children();b.on("mouseenter",
function(){m.css("display","block")}).on("mouseleave",function(){m.css("display","none")});o.on("mouseenter",function(){m.css("display","block")}).on("mouseleave",function(){m.css("display","none")});l&&a.children("."+l).on("click",this.arrowHandler);g&&this.start()}},_init:function(){},_setOption:function(){$.Widget.prototype._setOption.call(this);return this},destroy:function(){$.Widget.prototype.destroy.call(this)},start:function(){b=setInterval(function(){var a=d.checkIndex(o+1);d.gotoPage(a)},
d.options.interval)},loadImage:function(a,b,d){var j=new Image;j.src=b.data(d);j.complete?(b.removeData(d),b.get(0).removeAttribute("data-"+d),b.get(0).src=j.src,a.removeClass("wslider-loading"),j.onload=null):j.onload=function(){b.removeData(d);b.get(0).removeAttribute("data-"+d);b.get(0).src=j.src;a.removeClass("wslider-loading");j.onload=null}},gotoPage:function(h){var c=this,g=c.item,j=a[o]||g.eq(o),m=a[h]||g.eq(h),g=m.find(".P");g.data("realsrc")&&c.loadImage(m,g,"realsrc");j.is(":animated")?
(j.stop(!1,!0),m.stop(!1,!0)):m.is(":animated")&&m.stop(!1,!0);$.queue(c,"switching",function(){j.animate({opacity:0.3},function(){$(this).addClass("hide").css("opacity",0.3);$.dequeue(c,"switching")})});$.queue(c,"switching",function(){m.removeClass("hide").animate({opacity:1},function(){o=h;b||d.options.auto&&d.start()})});$.dequeue(c,"switching")},checkIndex:function(a){return a>j-1?0:0>a?j-1:a},stop:function(){clearInterval(b);b=null},arrowHandler:function(a){var b=$(this).children().get(1)==
a.target?d.checkIndex(o+1):d.checkIndex(o-1);d.stop();d.gotoPage(b);a.preventDefault()}}}());return s});
__d("widget.site.config",[],function(w,u,s){return s={css:{siteNormal:"site-normal",siteEdit:"site-edit",hdNormal:"site-hd-normal",hdEdit:"site-hd-edit",itemNormal:"site-item-normal",itemMove:"site-item-move",itemEdit:"site-item-edit",itemCurrent:"site-item-current",itemDashed:"site-item-dashed",itemAdd:"site-item-add",itemAddUp:"site-item-add-up",itemAddDown:"site-item-add-down",item:"site-item",js_item:"js_site-item",bdNormal:"site-bd-normal",itemText:"site-text",itemTpl:"site-tpl",sugError:"error"},
sug:{requestQuery:"wd",url:"http://nssug.baidu.com/su",callbackFn:"baidu.sug",callbackDataKey:"s",requestParas:{prod:"superpage"},n:5,noSubmit:!0},error:{500:'\u51fa\u73b0\u9519\u8bef\uff0c\u8bf7\u70b9 <a href="http://www.hao123.com" target="_self">\u8fd9\u91cc</a> \u5237\u65b0\u9875\u9762',501:"\u8be5\u7f51\u5740\u5df2\u5b58\u5728",510:'\u51fa\u73b0\u9519\u8bef\uff0c\u8bf7\u70b9 <a href="http://www.hao123.com"  target="_self">\u8fd9\u91cc</a> \u5237\u65b0\u9875\u9762',503:'\u51fa\u73b0\u9519\u8bef\uff0c\u8bf7\u70b9 <a href="http://www.hao123.com"  target="_self">\u8fd9\u91cc</a> \u5237\u65b0\u9875\u9762',
511:"\u8bf7\u8f93\u5165\u6b63\u786e\u683c\u5f0f\uff0c\u5982http://www.abc.com",512:"\u7f51\u7ad9\u540d\u79f0\u8fc7\u957f",513:"\u7f51\u5740\u8fc7\u957f",515:"\u8bf7\u8f93\u5165\u7f51\u7ad9\u540d\u79f0",516:"\u8bf7\u8f93\u5165\u7f51\u5740",507:"\u8bf7\u60a8\u5148\u767b\u5f55",514:"\u7f51\u5740\u5df2\u6ee1\uff0c\u8bf7\u5220\u9664\u4e0d\u5e38\u7528\u7684\u7f51\u5740"},info:{loading:"\u6b63\u5728\u8bf7\u6c42\uff0c\u8bf7\u7a0d\u5019",ok:"\u64cd\u4f5c\u6210\u529f\uff01",refresh:"\u6b63\u5728\u5237\u65b0\uff0c\u8bf7\u7a0d\u5019"},
url:{init:"/url/init",add:"/url/add",modify:"/url/modify",doDelete:"/url/delete",recover:"/url/reset",needImport:"/url/isneedimport",doImport:"/url/import",sort:"/url/sort",cr:"/api/paneldata",delRecommend:"/api/delrecom",delRecombyid:"/api/delrecombyid",user:"/api/username",adds:"/url/recomadds"},retry:2,recommendN:3,recommendMaxWord:5,showSaveMax:5,nameMaxLength:40,urlMaxLength:200,siteMaxlength:48,guestMaxLength:10,guestStatus:2,dragHint:"\u62d6\u52a8\u6392\u5e8f",confirmTitle:"\u63d0\u793a",confirmText:"\u767b\u5f55\u540e\u53ef\u7f16\u8f91\u66f4\u591a\u7f51\u5740\uff0c\u968f\u65f6\u968f\u5730\u6536\u85cf\uff0c\u4e0d\u518d\u62c5\u5fc3\u7f51\u5740\u4e22\u5931\uff01",
alertTitle:"\u63d0\u793a",recoverTitle:"\u6062\u590d\u9ed8\u8ba4",recoverText:"\u662f\u5426\u8981\u6062\u590d\u4e3a\u9ed8\u8ba4\u7f51\u5740\uff1f",adddedText:"\u5df2\u6dfb\u52a0\uff0c\u70b9\u51fb\u53d6\u6d88",emptyText:"\u6e05\u7a7a\u5386\u53f2\u8bb0\u5f55\uff01",guestHint:"\u7f51\u5740\u8fc7\u591a\uff0c\u5efa\u8bae\u767b\u5f55\u540e\u6c38\u4e45\u4fdd\u5b58",baiduCookie:"BAIDUID",flashCookie:"FLASHID",dataIdAttr:"data-id",iconBaseUrl:"hao123img.com/urlicon/",defaultIconUrl:"http://sc1.hao123img.com/urlicon/6000.png",
jsItem:".js_site-item",tpl:{sugMain:'<ol class="site-sugwrap">#{content}<ol>',sugItem:'<li site="#{site}" q="#{q}"><span class="name">#{title}</span><span class="url">#{text}</span></li>',sugSplitChar:"0{#S+_}",recommend:"<li><a class='item item-add js_recommend' data-id='#{id}' hidefocus='true'  data-type='recommend' href='#{url}'>#{name}</a></li>",cms:"<dl class='g_clr'><dt><span class='popup-site-cms-title'>#{name}:</span></dt>#{content}</dl>",cmsContent:"<dd #{itemStyle}><a href='#{url}' data-id='#{id}' hidefocus='true' data-type='cms' class='#{className}'>#{name}</a></dd>",
itemTag:"<ul>",editItem:"<li title='\u62d6\u52a8\u6392\u5e8f' class='js_site-item' data-id='#{id}' data-status='#{status}' data-name='#{rawName}'  data-url='#{url}'><span class='js_text text' >#{name}</span><a  class='js_modify modify'  href='#' title='\u4fee\u6539' hidefocus='true'></a><a class='js_delete delete'  href='#'  title='\u5220\u9664' hidefocus='true'></a></li>",item:'<li class="js_site-item g-ib site-item site-item-normal #{style}" data-status="#{status}" title="#{title}" data-id="#{id}"><a class="js_text" href="#{url}" style="background-image:url(#{icon})" hidefocus="true">#{name}</a></li>',
recommendNone:'<div class="popup-site-recommend-sidenone"><h5>\u60a8\u5e38\u70b9\u7684\uff1a</h5><span>\u8fd8\u6ca1\u6709\u53d1\u73b0\u60a8\u5e38\u70b9\u7684\u7f51\u5740\uff0c\u5efa\u8bae\u60a8\u591a\u4f7f\u7528hao123</span></div>',noData:'<li class="js_no-data nodata">\u6ca1\u6709\u5e38\u7528\u7f51\u5740\uff0c\u8bf7\u60a8<a href="javascript:void(0)">\u6dfb\u52a0</a></li>',addNormalBtn:'<li class="js_item-add g-ib site-item site-item-add site-item-add-normal"><i></i><span class="site-item-add-text">\u6dfb\u52a0\u7f51\u5740</span>#{recommend}</li>',
addShortBtn:'<li title="\u6dfb\u52a0\u7f51\u5740" class="js_item-add g-ib site-item site-item-add site-item-add-short"><i></i>#{recommend}</li>',addRecommend:"",tipTpl:'<div class="popup-site-tip-add"><i class="popup-site-tip-close js_add-tip-close">\u5173\u95ed</i></div>'}}});
__d("widget.site.drag",["widget.site.config","common.js.jquery","common.js.browser","common.js.format","common.js.events"],function(w,u,s,b){function l(a,b){this.container=a;this.placeHolder=b;this._events={sorted:[]};this.activeIndex=-1}function o(a){if(a.pageX||a.pageY)return{x:a.pageX,y:a.pageY};if(document.documentElement&&document.documentElement.scrollTop)return{x:a.clientX+document.documentElement.scrollLeft-document.documentElement.clientLeft,y:a.clientY+document.documentElement.scrollTop-
document.documentElement.clientTop};if(document.body)return{x:a.clientX+document.body.scrollLeft-document.body.clientLeft,y:a.clientY+document.body.scrollTop-document.body.clientTop}}var j=b("widget.site.config"),d=b("common.js.jquery"),a=b("common.js.browser");b("common.js.format");var h=b("common.js.events"),c=null,g=j.jsItem;g.substring(1);var x="item-move";l.prototype={setIsCanDrag:function(a){this._isCanDrag=a},dragable:function(){var b=this;this.container.delegate(j.jsItem,"mousedown",function(c){function j(a){var c=
o(a),a=c.x,c=c.y,d=a-z+i,y=c-e+f;0<d&&d+v.offsetWidth<b.container.width()+10&&(i=d);0<y&&y<b.container.height()&&(f=y);v.style.left=i+"px";v.style.top=f+"px";z=a;e=c;b._dealMeet(v);return!1}function l(){d(document).off("mousemove",j);d(document).off("mouseup",l);a.ie?v.releaseCapture():v.style.opacity="";b._moveTo(v,function(){d(v).insertBefore(b.placeHolder).removeClass(x);b.placeHolder.hide();var a=d(g).index(v);b.activeIndex!=a&&(b.activeIndex=a,h.emit("sorted"))});return!1}function n(){return b._isCanDrag?
!1:!0}b.container.on("click",n);if(!(0<=c.target.className.indexOf("js_modify")||0<=c.target.className.indexOf("js_delete"))){b.activeIndex=d(g).index(this);a.ie?this.setCapture():this.style.opacity=0.8;this.style.left=this.offsetLeft+"px";this.style.top=this.offsetTop+"px";this.className=this.className+" "+x;b.placeHolder.insertBefore(this);b.placeHolder.show();var i=parseInt(this.style.left),f=parseInt(this.style.top),c=o(c),z=c.x,e=c.y;b._registePosition();var v=this;d(document).on("mousemove",
j);d(document).on("mouseup",l);d(document).off("mouseup",n);return!1}})},_registePosition:function(){c=[];d(g,this.container).each(function(a){c.push({left:this.offsetLeft,top:this.offsetTop,index:a,thisObj:this})});this.placeHolder.index=d("li,",this.container).index(this.placeHolder)},_dealMeet:function(a){for(var b=a.offsetLeft,d=a.offsetTop,g=0;g<c.length;g++)if(c[g].thisObj!==a&&Math.abs(c[g].left-b)<0.5*a.offsetWidth&&Math.abs(c[g].top-d)<0.3*a.offsetHeight){this.placeHolder.index>c[g].index?
this.placeHolder.insertBefore(c[g].thisObj):this.placeHolder.insertAfter(c[g].thisObj);this._registePosition();break}},_moveTo:function(a,b){function c(){j+=(h-d)/l;e+=(f-g)/l;a.style.left=j+"px";a.style.top=e+"px";o++<l?window.setTimeout(c,q):b()}var d=a.offsetLeft,g=a.offsetTop,h=this.placeHolder.get(0).offsetLeft,f=this.placeHolder.get(0).offsetTop,j=d,e=g,l=6,q=20,o=0;10>Math.abs(h-d)&&10>Math.abs(f-g)?b():window.setTimeout(c,q)}};return l});
__d("common.js.placeholder",["common.js.browser"],function(w,u,s,b){b("common.js.browser");return function(b,o,j){"length"in b||(b=Array(b));for(var d=0,a=b.length;d<a;d++){"id"in b[d]||(b[d].id="p"+(new Date).getTime());var h=document.createElement("label");h.setAttribute("for",b[d].id);h.innerHTML=o;h.style.cssText="position:absolute;color:#999;z-index:999; background-color: #FFFFFF; ";h.className=j;b[d].parentNode.appendChild(h);b[d].setAttribute("autoComplete","off");b[d].onkeydown=b[d].onmousedown=
function(){h.style.display="none"};h.onclick=function(a){return function(){this.style.display="none";a.focus()}}(b[d]);var c=function(a,b){return function(){""==b.value&&(a.style.display="")}}(h,b[d]);window.addEventListener?b[d].addEventListener("blur",c,!1):b[d].attachEvent("onblur",c)}}});
__d("common.js.timeHint",[],function(){function w(u,s){this.duration=s||3E3;this.timeHandler=null;this.elem=u}w.prototype={show:function(u,s){var b=this,s=s||{};b.timeHandler&&window.clearTimeout(b.timeHandler);s.text&&b.elem.html(s.text);b.elem.css(u);b.elem.show();b.timeHandler=window.setTimeout(function(){b.elem.hide()},b.duration)},hide:function(){this.timeHandler&&(window.clearTimeout(this.timeHandler),this.timeHandler=null);this.elem.hide()}};return w});
__d("widget.popup.confirm",["widget.popup.base"],function(w,u,s,b){b("widget.popup.base");$.widget("hao123.confirm",$.lottery.popup,{options:{className:"popup-confirm",isModel:!0,okText:"\u786e\u5b9a"},_create:function(){this._baseCreate();var b=this.element,o=this;$(".js_title",b).html(this.options.title);$(".js_text",b).html(this.options.text);$(".js_close",b).click(function(){o._baseHide();o._trigger("close");return!1});$(".js_ok",b).click(function(){o._baseHide();o._trigger("ok")}).text(o.options.okText);
$(".js_cancel",b).click(function(){o._baseHide();o._trigger("cancel")})},show:function(){this._baseShow()}});return s});
__d("common.js.login",["common.js.events","common.js.config"],function(w,u,s,b,l,o){function j(b){var j={apiOpt:{safeFlag:0,memberPass:!0,staticPage:window.location.protocol+"//"+window.location.host+"/jumpv3.htm",u:window.location.href,product:"hao123",subpro:"hao123-indexnu"},authsite:["qzone","tsina","renren"],tangram:!window.baidu||!window.baidu.version||0!==window.baidu.version.indexOf("2."),cache:!1,registerLink:"https://passport.baidu.com/v2/?reg&tpl=hao123&regType=1&subpro=hao123-indexnu&u="+
window.location.href,forgetLink:"https://passport.baidu.com/?getpass_index",onLoginSuccess:function(b){var g={rspData:b.rsp.data,origin:b};b.returnValue=!1;c=!0;a.hide();h&&h(g);d.emit("login.success",g)}};b&&$.extend(j,b);a=passport.pop.init(j)}var d=b("common.js.events"),a,h,c=b("common.js.config").get("userinfo").islanding;u.exports={init:function(b){a||o(["common.js.jquery"],function(a){a.getScript(window.location.protocol+"//passport.baidu.com/passApi/js/uni_login_wrapper.js?cdnversion="+ +new Date,
function(){j(b)})})},show:function(b){a.show();h=b},hide:function(){a.hide()},isLogin:function(){return c}};return s});
__d("widget.popup.alert",["widget.popup.base"],function(w,u,s,b){b("widget.popup.base");$.widget("hao123.alert",$.lottery.popup,{options:{className:"popup-alert",isModel:!0,okText:"\u786e\u5b9a"},_create:function(){this._baseCreate();var b=this.element,o=this;$(".js_title",b).html(this.options.title);$(".js_text",b).html(this.options.text);$(".js_close",b).click(function(){o._baseHide();return!1});$(".js_ok",b).click(function(){o._baseHide();o._trigger("ok")}).text(o.options.okText)},show:function(){this._baseShow()}});
return s});
__d("widget.site.siteModel","widget.site.config,common.js.events,common.js.cookie,common.js.login,common.js.JSON,common.js.config,common.js.jquery".split(","),function(w,u,s,b){function l(){(new Date).getTime();return o()?{key:(new Date).getTime(),c:o()}:null}function o(){var a=g.getBaiduId();return(a=g.getFlashId()||a)?window.encodeURIComponent(a):null}function j(a){var b=window.location.search.match(/[?&]tn=([^&<>'"]+)/);1==r.get("tnuser")&&(a=a+"?tn="+b[1]);return a}function d(a){if(a)for(var b=0;b<
n.length;b++)n[b].id=a[n[b].id],n[b].style=""}function a(a){return a.replace(/(.*)\/$/,"$1").toLowerCase()}var h=b("widget.site.config"),c=b("common.js.events"),g=b("common.js.cookie"),x=b("common.js.login"),m=b("common.js.JSON"),r=b("common.js.config"),k=b("common.js.jquery"),p=h.url,n=[],i={setData:function(a){n=a},checkLimit:function(a){if(a&&this.getItemById(a).status==h.guestStatus)return 0;for(var b=a=0;b<n.length;b++)n[b].status==h.guestStatus&&a++;return a>=h.guestMaxLength?517:0},getUserDataCount:function(){for(var a=
0,b=0;b<n.length;b++)n[b].status==h.guestStatus&&a++;return a},getData:function(){return n},checkIsShowSave:function(){if(x.isLogin())return!1;var a=this.getUserDataCount();return a>=h.showSaveMax?a:!1},checkIsShowRecover:function(){return 0==n.length||500<n[0].id?!0:!1},checkFull:function(){return n.length>=h.siteMaxlength?514:0},checkAddDuplicate:function(a){for(var b=0;b<n.length;b++)if(n[b].url==a)return 501;return 0},checkModifyDuplicate:function(a){if(a.url==this.getItemById(a.id).url)return 0;
for(var b=0;b<n.length;b++)if(n[b].url==a.url)return 501;return 0},init:function(a){n=a},setRecommend:function(){},getModifyItem:function(a){return modifyItem=this.getItemById(a)},getItemById:function(a){for(var b=0;b<n.length;b++)if(n[b].id==a)return n[b]},deleteItemById:function(a){for(var b=0;b<n.length;b++)n[b].id==a&&n.splice(b,1)},getUser:function(){var a=l();k.ajax({url:p.user,success:function(a){switch(a.code){case 200:c.emit("getUser",{userName:a.name,code:200});break;default:c.emit("getUser",
{userName:"",code:a.code})}},error:function(){c.emit("getUser",{userName:"",code:"900"})},data:a,dataType:"json",type:"GET"})},sort:function(a){k.post(p.sort,k.extend({ids:a},l()),function(a){c.emit("operated");switch(a.code){case 200:break;case 201:d(a.data.map);c.emit("firsted",a.data.map);break;default:c.emit("error",{code:a.code,src:"sort"})}},"json")},recover:function(){k.getJSON(p.recover,l(),function(a){switch(a.code){case 200:n=a.data.sites;c.emit("recovered",a.data.sites);break;default:c.emit("error",
{code:a.code,src:"recover"})}})},addTwo:function(a){var b=i.checkAddDuplicate(a.url);0<b?c.emit("error",{code:b,src:"feadd"}):(a.key=(new Date).getTime(),k.post(p.add,k.extend(a,l(),{type:"recommend"}),function(b){c.emit("operated");var d=null;switch(b.code){case 200:d={icon:b.data.icon,name:a.name,url:a.url,id:b.data.id,status:b.data.status,obj:a.obj};n.push(d);c.emit("addtwoed",d);break;default:c.emit("error",{code:b.code,src:"addtwo"})}},"json"))},add:function(a){var b=i.checkAddDuplicate(a.url);
0<b?c.emit("error",{code:b,src:"feadd"}):(a.key=(new Date).getTime(),k.post(p.add,k.extend(a,l()),function(b){c.emit("operated");var g=null;switch(b.code){case 201:d(b.data.map),c.emit("firsted",b.data.map);case 200:g={isRecommend:a.isRecommend,icon:b.data.icon,name:a.name,url:a.url,id:b.data.id,status:b.data.status,type:a.type,obj:a.obj};n.push(g);c.emit("added",g);break;default:g="add",a.isSynadd&&(g="synadd"),c.emit("error",{code:b.code,src:g})}},"json"))},addBanner:function(a,b){k.post(p.add,
k.extend(a,l()),function(d){c.emit("operated");var g=null;switch(d.code){case 200:g={icon:d.data.icon,name:a.name,url:a.url,id:d.data.id,status:d.data.status};n.push(g);b(!0,g);break;default:b(!1,d.code)}},"json")},updateBanner:function(a,b){var e=this;k.post(p.modify,k.extend(a,l()),function(g){c.emit("operated");switch(g.code){case 201:d(g.data.map);var h=e.getItemById(g.data.id);h.name=a.name;h.url=a.url;h.oldId=h.id;h.id=g.data.id;h.status=g.data.status;h.icon=g.data.icon;b(!0,h);break;default:b(!1,
g.code)}},"json")},adds:function(a){var b=m.parse(a);k.post(p.adds,k.extend(l(),{urls:a}),function(a){c.emit("operated");switch(a.code){case 200:n=n.concat(b),d(a.data.map),c.emit("addsed",n)}},"json")},addClickSync:function(a){k.post(p.add,k.extend(a,l(),{type:"recommend"}),function(b){c.emit("operated");var e=null;switch(b.code){case 201:d(b.data.map),c.emit("firsted",b.data.map);case 200:e={icon:b.data.icon,name:a.name,url:a.url,id:b.data.id,status:b.data.status};n.push(e);c.emit("addClickSynced",
e);break;default:c.emit("error",{code:b.code,src:"addClickSync"})}},"json")},doDelete:function(a,b){k.getJSON(p.doDelete,k.extend({id:a},l()),function(e){c.emit("operated");switch(e.code){case 201:i.deleteItemById(a);d(e.data.map);b||c.emit("firsted",e.data.map);c.emit("delete");break;case 200:i.deleteItemById(a);c.emit("delete");break;default:c.emit("error",{code:e.code,src:"del"})}})},delRecommend:function(){k.getJSON(j(p.delRecommend),l(),function(a){500<=a.code&&c.emit("error",{code:a.code,src:"delRecommend"})})},
delRecombyid:function(a){k.getJSON(j(p.delRecombyid),k.extend({id:a},l()),function(a){500<=a.code&&c.emit("error",{code:a.code,src:"delRecombyid"})})},modify:function(a,b){var e=i.checkModifyDuplicate(a);if(0<e)c.emit("error",{code:e,src:"femodify"});else{var g=this;k.post(p.modify,k.extend(a,l()),function(e){c.emit("operated");switch(e.code){case 201:d(e.data.map),b||c.emit("firsted",e.data.map);case 200:var h=g.getItemById(201==e.code?e.data.map[e.data.oldid]:e.data.oldid);h.name=a.name;h.url=a.url;
h.id=e.data.id;h.status=e.data.status;h.icon=e.data.icon;b||c.emit("modified",h);break;default:c.emit("error",{code:e.code,src:"modify"})}},"json")}},refresh:function(){var a=l();if(!a)return!1;k.ajax({url:p.init,success:function(a){switch(a.code){case 200:a.data.isuser?(n=a.data.sites,c.emit("refreshed",!0)):c.emit("refreshed",!1);break;default:c.emit("error",{code:a.code,src:"refreshSuccess"})}},error:function(){k.ajax({url:p,data:l(),success:function(a){c.emit("error",{code:"588",src:"refresh"+
a.substring(0,500)})},dataType:"text",type:"GET"})},data:a,dataType:"json",type:"GET"})},sortData:function(a){var b={};k.each(n,function(){b[this.id]=this});n=[];k.each(a,function(){n.push(b[this])});return n},getCRdata:function(){var b=l();b.n=6;var d={};k.each(n,function(){d[a(this.url)]=this.id});0<document.URL.indexOf("sitepopuppreview")&&(b.preview=1);k.ajax({url:j(p.cr),success:function(b){k.each(b.data.cms,function(){this.isTitle||(this.isAdded=Boolean(d[a(this.url)]),this.id=d[a(this.url)])});
c.emit("cred",b)},error:function(a,b,d){c.emit("error",{code:599,src:"cr"+b+d})},data:b,dataType:"json",type:"GET"})}};return i});
__d("widget.site.siteView","widget.site.config,common.js.events,common.js.cookie,common.js.format,common.js.browser,common.js.JSON,common.js.config,common.js.widget,widget.suggest.suggest,widget.suggest.nssug".split(","),function(w,u,s,b){function l(){o("");j("")}function o(a){e.sugName.val(a);""==a?v.sugNamePlaceholder.show():v.sugNamePlaceholder.hide()}function j(a){e.sugUrl.val(a);""==a?v.sugUrlPlaceholder.show():v.sugUrlPlaceholder.hide()}function d(a){a=$.trim(a);/^.+:\/\/.*$/i.test(a)||(a="http://"+
a);a=a.replace(/^(.+:\/\/)([^\/?]+)(.*)$/,function(a,b,c,d){return/^(https?|ftp)/i.test(b)?b.toLowerCase()+c.toLowerCase()+d:"http://"+c.toLowerCase()+d});a=a.replace(/^(.+:\/\/[^\/?]+)[\/?]$/,"$1");return a=a.replace(/\x3c/g,"").replace(/\x3E/g,"").replace(/\x22/g,"").replace(/\x27/g,"")}function a(a){return a?"http://sc"+(parseInt("0"+a.split(".")[0])%2+1)+"."+k.iconBaseUrl+a:k.defaultIconUrl}function h(a){a=$.trim(a);a=a.replace(/^(.+:\/\/[^\/?]+)[\/?]$/,"$1");return m(a)}function c(a){return 6>
a.length?"":g(a)}function g(a){for(var a=$.trim(a),b=0,c=0;c<a.length;c++)if(b=/\w/.test(a.charAt(c))?b+8:b+14,80<b){a=a.substring(0,c)+"...";break}2==a.length?a=a.charAt(0)+"&#12288;"+a.charAt(1):3==a.length&&(a=a.charAt(0)+" "+a.charAt(1)+" "+a.charAt(2));return m(a,!0)}function x(a){return a.replace("&#12288;","").replace(/ /g,"").replace("\u3000","")}function m(a){return a=a.replace(/\x3c/g,"&lt;").replace(/\x3E/g,"&gt;").replace(/\x22/g,"&quot;").replace(/\x27/g,"&#39;")}function r(a,b){return!a||
!b?!1:a.replace(/(.*)\/$/,"$1").toLowerCase()==b.replace(/(.*)\/$/,"$1").toLowerCase()}var k=b("widget.site.config"),p=b("common.js.events"),n=b("common.js.cookie"),i=b("common.js.format");b("common.js.browser");var f=b("common.js.JSON"),z=b("common.js.config");b("common.js.widget");b("widget.suggest.suggest");var w=b("widget.suggest.nssug"),e,v,q=k.jsItem,A=null,B=null;return s={onBannerAdd:function(b){b=$(i(k.tpl.item,{id:b.id,name:g(b.name),url:h(b.url),icon:HAO.httpsTrans(a(b.icon)),title:c(b.name),
status:b.status}));b.width(108);b.insertBefore(e.bd.find(".js_item-add"));e.bd.find(".js_item-add").remove();this._addAddBtn()},updateBanner:function(b,c,d){var f=$("#site .site-hot-w");$(".site-hot-relink",f);var e=$(".site-hot-link",f),h=$(".site-hot-link2",f),B=a(b.icon),j=e.offset().top-c.offset.top,i=e.offset().left-c.offset.left;(function(){h.show().animate({left:"-="+i,top:"-="+j,opacity:1},500,function(){h.hide();$(".js_text",c.link).html(g(b.name));$(".js_text",c.link).attr("style","background:url("+
B+") no-repeat 0px 2px;");$(".js_text",c.link).attr("href",e.attr("href"));d._hideBanner();d._trigger("bannerlink",null,{iu:0})})})()},onSecondAdd:function(b){$(i(k.tpl.item,{id:b.id,name:g(b.name),url:h(b.url),icon:HAO.httpsTrans(a(b.icon)),title:c(b.name),status:b.status})).insertBefore(e.bd.find(".js_item-add"));e.bd.find(".js_item-add").remove();this._addAddBtn()},doBlink:function(){var a=0,b=["#f3f3f3","#f7f7f7"];window.setTimeout(function(){e.blink.css("background-color",b[a%2]);a++;8>a&&window.setTimeout(arguments.callee,
200)},200)},_getPosition:function(a){for(var b={left:a.offsetLeft,top:a.offsetTop},a=a.offsetParent;a&&!$(a).hasClass("popup-site");)b.left+=a.offsetLeft,b.top+=a.offsetTop,a=a.offsetParent;b.top-=34;return b},on517:function(){l();e.modify.hide();e.add.show()},getRecommends:function(){var a=[];e.recommends.each(function(){var b=$(this).find("a");a.push({name:b.html(),url:b.get(0).getAttribute("href",2),id:$(this).attr("data-id"),icon:$(this).attr("data-icon"),status:1})});return f.stringify(a)},onAddClickSynced:function(b){$(i(k.tpl.item,
{id:this.id,name:g(b.name),url:h(b.url),icon:HAO.httpsTrans(a(b.icon)),title:c(b.name),status:b.status})).insertBefore(e.topRecommend);e.topRecommend.remove();e.topRecommendHint.remove()},clearHint:function(){e.hintSug.hide();e.hintSave.hide();e.hintNoicon.hide();e.hintAdded.hide()},onRcommendDeleteOver:function(a){a=v._getPosition(a);a.left-=45;a.top-=6;e.hintNoicon.show(a,{text:k.emptyText})},onRcommendDeleteOut:function(){e.hintNoicon.hide()},onImported:function(a){if("none"!=e.psite.get(0).style.display){v.updatePopup(a);
v.clearError();l();var b={};$.each(a,function(){b[this.url]=this.id});e.psite.find(".item").each(function(){var a=this.href.replace(/(.*)\/$/,"$1");b[a]&&(this.className="item item-added",this.setAttribute("data-id",b[a]))})}else this.update(a)},onRefreshed:function(a){a?(e.refresh.show(),e.manage.hide(),e.bd.find(".js_item-add").hide()):(e.refresh.hide(),e.manage.show(),e.bd.find(".js_item-add").show())},onRefreshClick:function(a){e.refresh.hide();e.manage.show();v.update(a)},onAddedClick:function(a){v._recoverAdded(a.href);
l();e.modify.hide();e.add.show();e.sites.find(q).each(function(){if(this.getAttribute("data-id")==a.getAttribute("data-id"))return $(this).remove(),!1});this.clearError();e.hintNoicon.hide();e.hintAdded.hide();e.hintSave.hide();e.hintSug.hide();e.recover.show();return a.getAttribute("data-id")},onAddedItemOut:function(){e.hintNoicon.hide()},onAddedItemOver:function(a){e.hintAdded.hide();e.hintNoicon.show(v._getPosition(a),{text:k.adddedText})},onItemClick:function(a){var b=a.innerHTML,c=a.getAttribute("href",
2);return""!=$.trim(b)&&""!=$.trim(c)?(B=a,{name:$.trim(b),url:d(c),type:a.getAttribute("data-type")}):!1},onFirsted:function(a){e.sites.find(q).each(function(){var b=this.getAttribute("data-id");this.setAttribute("data-id",a[b])})},onRecovered:function(a){e.noDataHint.hide();e.recover.hide();e.saveForeverHint.hide();v.updatePopup(a);e.cms.find(".item-added").each(function(){this.className="js_recommend item item-normal"});e.recommendContent.find(".item-added").each(function(){this.className="js_recommend item item-add"});
$.each(a,function(){});this.clearError();l();e.add.show();e.modify.hide();e.hintAdded.hide()},onRecommendControlClick:function(){e.recommend.html(k.tpl.recommendNone);e.options.recommendCount=0;e.hintNoicon.hide()},onSorted:function(){var a=[];e.recover.show();$(q,e.sites).each(function(){var b=this.getAttribute("data-id");""!=$.trim(b)&&a.push(b)});return a},onCred:function(a){e.recommendContent.html("");if(0<e.recommendData.length){e.recommendCount.html(e.recommendData.length);var b=k.tpl.recommend;
$.each(e.recommendData,function(){e.recommendContent.append(i(b,{name:m(this.title),url:h(this.url),id:this.id}))});e.recommend.show()}else e.recommend.hide();var c=[];e.cms.html("");n.get("stip0")?n.get("stip1")?e.tipDel.hide():e.tipDel.show():e.cms.html(k.tpl.tipTpl);!n.get("stip2")&&!e._tipsave?e.tipSave.show():e.tipSave.hide();e._tipsave2=!0;$.each(a.data.cms,function(){this.isTitle?(e.cms.append(i(k.tpl.cms,{name:this.name,content:c.join("")})),c=[]):c.push(i(k.tpl.cmsContent,{className:this.isAdded?
"item item-added":"js_recommend item item-normal",name:this.name,url:this.url,id:this.id,itemStyle:this.isImportant?"class='important'":""}))})},onItemModifyClick:function(a){e.modify.show();e.add.hide();A=a=$(a);e.sugName.get(0).focus();o(a.attr("data-name"));j(a.attr("data-url"));v.clearError()},_recoverAdded:function(a){e.psite.find(".item-added").each(function(){r(a,this.href)&&(this.className="cms"==this.getAttribute("data-type")?"js_recommend item item-normal":"js_recommend item item-add")})},
onItemDeleteClick:function(a){e.psite.find(".item-added").each(function(){var b=this.getAttribute("data-id");if(b&&b==a.getAttribute("data-id"))return v._recoverAdded(this.href),!1});$(a).remove();e.recover.show();l();e.add.show();e.hintAdded.hide();e.modify.hide();0==e.sites.find(".js_site-item").length&&(e.noDataHint.show(),e.sites.hide())},onAdded:function(a){e.noDataHint.hide();e.hintSave.hide();e.recover.show();e.sites.show();e.sites.append(i(k.tpl.editItem,{id:a.id,url:h(a.url),name:g(a.name),
rawName:a.name,status:a.status||""}));l();a.type&&(e.hintAdded.show(v._getPosition(B),{text:k.addedText}),B=null);$(".js_recommend",e.psite).each(function(){r(this.getAttribute("href",2),a.url)&&(this.className="item item-added",this.setAttribute("data-id",a.id))})},onModified:function(a){e.add.show();e.recover.show();e.modify.hide();$(i(k.tpl.editItem,{id:a.id,url:h(a.url),name:g(a.name),rawName:a.name,status:a.status||""})).insertBefore(A);A.remove();l();$(".item-added",e.psite).each(function(){r(this.href,
A.attr("data-url"))&&(this.className="cms"==this.getAttribute("data-type")?"js_recommend item item-normal":"js_recommend item item-add")});A=null},_refreshState:function(a){$(".js_recommend",e.psite).each(function(){r(this.href,a.url)&&(this.className="item item-added",this.setAttribute("data-id",a.id))})},onAddClick:function(){if(!this._check())return!1;this.clearError();return{name:$.trim(e.sugName.val()),url:d(e.sugUrl.val())}},onModifyClick:function(){if(!this._check())return!1;this.clearError();
return{name:$.trim(e.sugName.val()),url:d(e.sugUrl.val()),id:A.attr("data-id")}},init:function(a){e=a;1==z.get("isStatic")&&(e.manage.hide(),e.bd.find(".js_item-add").hide());a=!1;v=this;v.sugNamePlaceholder=$("#js_placeholder-name");v.sugUrlPlaceholder=$("#js_placeholder-url");e.sugName.bind("focus keydown",function(){v.sugNamePlaceholder.hide()});e.sugUrl.bind("focus keydown",function(){v.sugUrlPlaceholder.hide()});e.sugName.blur(function(){""==this.value&&v.sugNamePlaceholder.show()});e.sugUrl.blur(function(){""==
this.value&&v.sugUrlPlaceholder.show()});var b=n.getFlashId();!e.isLanding&&null==b&&(a=!0,e.bd.find(".js_item-add").hide(),e.manage.hide());e.isLanding&&e.save.hide();return a},showRefresh:function(){e.refresh.show()},onManageClick:function(a,b){a?e.recover&&e.recover.show():e.recover&&e.recover.hide();l();b?v.showSaveMessage():e.saveForeverHint.hide()},showSaveMessage:function(){n.get(e.saveHintCookie)||(e.saveForeverHint.show(),e._tipsave=!0,e._tipsave2&&e.tipSave.hide())},getSiteData:function(){var a=
[],b=this;$(q+':not(".site-item-recommend")',e.bd).each(function(){var c=this.children[0],d=$(this).children("a").eq(1);d.length?a.push({id:this.getAttribute("data-id"),name:x(c.getAttribute("data-title")),url:c.getAttribute("href",2),status:this.getAttribute("data-status"),icon:b._getIcon(c),style:this.getAttribute("data-style"),name2:d.text(),url2:d.attr("href")}):a.push({id:this.getAttribute("data-id"),name:x(c.getAttribute("data-title")),url:c.getAttribute("href",2),status:this.getAttribute("data-status"),
icon:b._getIcon(c),style:this.getAttribute("data-style")})});return a},_getIcon:function(a){var b=a.parentNode.getAttribute("data-icon");return b?b:""!=a.style.backgroundImage?a.style.backgroundImage.match(/^.*\/([^)]+)/)[1]:"6000.png"},update:function(b){if(0>=b.length)e.bd.html(k.tpl.noData);else{var d=[];$.each(b,function(){var b=i(k.tpl.item,{id:this.id,name:g(this.name),url:h(this.url),icon:HAO.httpsTrans(a(this.icon)),title:c(this.name),status:this.status,style:this.style});1==this.status&&
this.name2&&""!=this.name2&&(b=i('<li class="js_site-item g-ib site-item site-item-normal " data-id="#{id}" data-status="1"><a class="js_text " href="#{url}" style="background-image:url(#{icon})" data-title="#{name}" hidefocus="true">#{name}</a>&nbsp;\u2022&nbsp;<a href="#{subUrl}" style="background:none;padding-left:0;padding-right:5px;position:relative;z-index:999;display:inline-block;">#{subName}</a></li>',{id:this.id,url:h(this.url),icon:HAO.httpsTrans(a(this.icon)),name:this.name,subName:this.name2,
subUrl:this.url2}));d.push(b)});e.bd.html(d.join(""));this._addAddBtn();e.add.show();e.modify.hide();l()}},_addAddBtn:function(){var a=e.bd.find(".js_site-item").length;if(6!=a){var b="";0<e.recommendData.length&&(b=i(k.tpl.addRecommend,{count:e.recommendData.length}));if(0==a%6){var a=";max-width:60px;_width:60px;min-width:56px; overflow:hidden; text-overflow: ellipsis;white-space: nowrap;",c=e.bd.find("li:last a").get(0);if(1==e.bd.find("li:last").data("status")&&("\u5f69\u7968"==c.innerHTML||"\u4f18\u9177"==
c.innerHTML||"\u641c\u72d0"==c.innerHTML||"\u817e\u8baf"==c.innerHTML||"\u65b0\u534e"==c.innerHTML||"\u5f71\u89c6"==c.innerHTML))a="";c.style.cssText+=a;e.bd.append(i(k.tpl.addShortBtn,{recommend:b}))}else e.bd.append(i(k.tpl.addNormalBtn,{recommend:b}))}},updatePopup:function(a){var b=[];$.each(a,function(){b.push(i(k.tpl.editItem,{id:this.id,url:h(this.url),name:g(this.name),rawName:this.name,status:this.status||""}))});0==b.length?(e.noDataHint&&e.noDataHint.show(),e.sites&&e.sites.hide()):(e.noDataHint&&
e.noDataHint.hide(),e.sites&&e.sites.html(b.join("")).show())},initSug:function(){e.sugName.suggest({classes:"suggest-site",eventSpace:"sitesuggest"}).suggest("handler",this._nssug).on("suggestinput",function(){if(""!=$.trim(e.sugUrl.val()))return!1});e.sugUrl.suggest({classes:"suggest-site",eventSpace:"sitesuggest"}).suggest("handler",this._nssug).on("suggestinput",function(){if(""!=$.trim(e.sugName.val()))return!1});p.on("sitesuggest.change",function(a){if(0==a.index)return!0;o(a.data[0]);j(a.data[1]);
return!1});p.on("sitesuggest.submit",function(){"none"!=e.add.get(0).style.display?e.add.click():e.modify.click();return!1})},_nssug:w("superpage",{sc:"hao123"},function(a){var b=a.s,c={},a=a.q;if(0==b.length)this.hide();else{this.clear();for(var d=0,f=0;d<b.length&&5>f;d++){var e=$.parseJSON(b[d].split("0{#S+_}")[1]);e&&(e[1]=e[1]||"",e[4]&&(e[4]=e[4]||"",c[e[4]]||(f++,c[e[4]]=!0,this.add(e[4],i('<span class="name">#{title}</span><span class="url">#{text}</span>',{title:e[4].replace(a,"<strong>"+
a+"</strong>"),text:e[1].replace(a,"<strong>"+a+"</strong>")}),[e[4],e[1]]))))}this.show()}}),clearError:function(){e.sugName.removeClass(k.css.sugError);e.sugUrl.removeClass(k.css.sugError);e.hintSug.hide()},showError:function(a){switch(a){case 515:case 512:e.hintSug.show(v._getPosition(e.sugName.get(0)),{text:k.error[a]});e.sugName.addClass(k.css.sugError).get(0).focus();e.sugUrl.removeClass(k.css.sugError);break;case 516:case 513:case 501:e.hintSug&&(e.hintSug.show(v._getPosition(e.sugUrl.get(0)),
{text:k.error[a]}),e.sugUrl.addClass(k.css.sugError).get(0).focus(),e.sugName.removeClass(k.css.sugError));break;case 514:e.hintSave.show(v._getPosition(e.sugUrl.get(0)),{text:k.error[a]});break;case 507:break;case 599:break;case 588:break;case 600:case 601:case 602:case 603:e.hintSug.show(v._getPosition(e.sugUrl.get(0)),{text:"\u51fa\u73b0\u9519\u8bef\uff0c\u8bf7\u7a0d\u4faf\u91cd\u8bd5\uff01"});break;case 900:break;case 500:break;default:e.hintSave&&e.hintSave.show(v._getPosition(e.sugUrl.get(0)),
{text:k.error[a]})}},_check:function(){var a=$.trim(e.sugName.val()),b=$.trim(e.sugUrl.val());if(""==a)return this.showError(515);if(0>=b.length||/^(https?:\/\/|ftp:\/\/)$/i.test(b))return this.showError(516);if(a.length>k.nameMaxLength)return this.showError(512);if(b.length>k.urlMaxLength)return this.showError(513);this.clearError();return!0}}});
__d("widget.site.log",["common.js.login","common.js.log","common.js.config"],function(w,u,s,b){function l(a,b){var a=a||{},c;for(c in b)a[c]=b[c];return a}var o=b("common.js.login"),j=b("common.js.log"),d=b("common.js.config");return function(a){function b(){return o.isLogin()}var c={level:1,page:d.get("pageId")};0<$('#site .js_site-item[data-status="0"]').length&&j(l({type:"rpuser2",ut:"haveadd"},c));!d.get("userinfo").iscuser&&d.get("userinfo").recommendData&&j(l({type:"rpuser2",ut:"defadd"},c));
a.bind("sitemanageclick",function(){var a=l({type:"manage",isLogin:b()},c);j(a)});a.bind("siteintoaddclick",function(){var a=l({type:"intoadd",isLogin:b()},c);j(a)});a.bind("sitenoneaddclick",function(){var a=l({type:"noneadd"},c);j(a)});a.bind("sitelogin",function(a,b){var d=l({type:b.login,twicetype:b.twicelogin},c);j(d)});a.bind("sitedefaultlogin",function(){var a=$.parseJSON(d.get("userinfo").cinfo),a=l({type:"defaultLogin",cinfo:a?a.loginFrom:""},c);j(a)});a.bind("siteadd",function(a,d){j(l({type:"add",
siteId:d.id,siteUrl:d.url,isLogin:b(),siteStatus:d.status||""},c))});a.bind("siteaddsync",function(a,d){j(l({type:"addsync",siteId:d.id,siteUrl:d.url,isLogin:b()},c))});a.bind("siterecommend",function(a,d){var m=l({type:"recommend",siteId:d.id,siteUrl:d.url,isLogin:b()},c);j(m)});a.bind("siteaddclicksync",function(a,d){var m=l({type:"addclicksync",siteId:d.id,siteUrl:d.url,isLogin:b()},c);j(m)});a.bind("sitecms",function(a,d){var m=l({type:"cms",siteId:d.id,siteUrl:d.url,isLogin:b(),siteStatus:d.status||
""},c);j(m)});a.bind("sitemodify",function(a,d){var m=l({type:"modify",siteId:d.id,siteUrl:d.url,isLogin:b(),siteStatus:d.status||""},c);j(m)});a.bind("sitedeletesync",function(){var a=l({type:"syncdelete"},c);j(a)});a.bind("sitedodelete",function(a,d){var m=l({type:"delete",siteId:d.id,siteUrl:d.url,isLogin:b(),siteStatus:d.status||""},c);j(m)});a.bind("siterecovered",function(){var a=l({type:"recover",isLogin:b()},c);j(a)});a.bind("sitetextclick",function(a,d){var m=l({type:"textclick",siteId:d.id,
siteUrl:d.url,status:d.status,isLogin:b()},c);j(m)});a.bind("siterefresh",function(){var a=l({type:"refresh"},c);j(a)});a.bind("siteerror",function(a,b){var d=l({type:"siteerror",code:b.code},c);b.info&&(d.info=b.info);j(d)});a.bind("siteerrorflash",function(){var a=l({type:"siteerrorflash"},c);j(a)});a.bind("sitemanagerecommend",function(){var a=l({type:"managerecommend"},c);j(a)});a.bind("sitedeleteallrecommend",function(){var a=l({type:"deleteallrecommend"},c);j(a)});a.bind("sitegetusererror",
function(a,b){var d=l({type:"getusererror",code:b},c);j(d)});a.bind("sitehintclose",function(){var a=l({type:"sitehintclose"},c);j(a)})}});
__d("widget.site.siteRecord",["common.js.JSON"],function(w,u,s,b){function l(){a=(a=window.localStorage.getItem(h))?d.parse(a):a}function o(b){null===a&&(a={});b in a||(a[b]=0);a[b]+=1;window.localStorage.setItem(h,d.stringify(a))}function j(){}var d=b("common.js.JSON"),a=null,h="index_sites",w=null,w={get:function(b){if(null===a)return b[0];var d=Number.MAX_VALUE,h;$.each(b,function(b,c){if(d>(a[c]?a[c]:0))d=a[c],h=c});return h}};window.localStorage?(w.add=o,w.init=l):(w.add=j,w.init=j);return w});
__d("widget.site.siteBanner","common.js.config,common.js.events,common.js.format,common.js.cookie,widget.site.siteModel,common.js.adjust,widget.site.siteRecord".split(","),function(w,u,s,b){var l;function o(a,b){var c;c=$(h(l,{title:a.title,url:a.url}));var d=r.find(".js_link").offset();c.css({top:d.top-20,left:d.left});d=$('#site li[data-id="'+a.id+'"]').offset();c.animate({top:d.top,left:d.left},1E3,function(){c.remove();b()});$("body").append(c)}function j(a){var b=/(https?|ftp):\/\/[^\/]+/,c=
a.match(b);if(!c)return!1;var c=c[0],d=!0;$("#site .js_text").each(function(a,g){if(0<=g.getAttribute("href",2).match(b).indexOf(c))return d=!1,!0});return d}var d=b("common.js.config"),a=b("common.js.events"),h=b("common.js.format"),c=b("common.js.cookie"),g=b("widget.site.siteModel"),x=b("common.js.adjust").adjust,m=b("widget.site.siteRecord"),r;l='<div class="site-move-item" style="background-image:url(http://sc2.hao123img.com/urlicon/#{icon})">#{title}</div>';var k,p=null;return s={excute:function(b){if(!d.get("userinfo").iscuser&&
!c.has("sitebanner")&&1===b.isShow){var i=d.get("userinfo").recommendData;if(!(i&&2<=i.length)){i&&1==i.length?p=i[0]:m.init();r=$("#site .site-hot-w");switch(b.type){case "replace":k=m.get(b.filterReplace);b.info2=g.getItemById(k).name;if(p&&(b.title=p.title,b.url=p.url,b.id=p.id,!j(b.url)))return;r.html(h('<div class="site-hot"><span>#{info}</span><span class="site-hot-relink">#{info2}</span><span class="site-hot-label">\u63a8\u8350\u66ff\u6362\u4e3a\uff1a</span><a class="site-hot-link site-hot-link-add js_link" href="#{url}"  hidefocu="true">#{title}</a><a class="site-hot-more js_more"  hidefocu="true">#{more}&nbsp;&gt;&gt;</a><a class="site-hot-close js_close" href="###"  hidefocu="true">\u5173\u95ed</a></div>',
b)).show();break;case "del":k=m.get(b.filterDelete),b.info2=g.getItemById(k).name,r.html(h('<div class="site-hot"><span>#{info}</span><span class="site-hot-relink">#{info2}</span><span class="site-hot-label">\u5efa\u8bae\u60a8\uff1a</span><a class="site-hot-link site-hot-link-del js_link" href="#" hidefocu="true">\u4e00\u952e\u5220\u9664</a><a class="site-hot-more js_more"  hidefocu="true">#{more}&nbsp;&gt;&gt;</a><a class="site-hot-close js_close" href="###"  hidefocu="true">\u5173\u95ed</a></div>',
b)).show()}r.find(".js_close").click(function(){c.set("sitebanner",1,{expires:30});r.slideUp();a.emit("banner.close",b.type);return!1});r.find(".js_more").click(function(){a.emit("banner.other",b.type);b.moreHandler()});r.find(".js_link").click(function(){var c={title:this.innerHTML,url:this.href,id:k,icon:b.icon};switch(b.type){case "replace":o(c,function(){b.replaceHandler(c);r.slideUp()});break;case "del":b.deleteHandler(c,r)}a.emit("banner.link",b.type);return!1});x();a.emit("banner.show",b.type)}}},
hide:function(){r&&r.hide(x)},slideUp:function(){r&&r.slideUp(x)},add:function(a){m.add(a)}}});
__d("widget.site.siteBannerLog",["common.js.events","common.js.log"],function(w,u,s,b){var l=b("common.js.events"),o=b("common.js.log");return function(){l.on("banner.show",function(b){o({type:"sitebannershow",sort:b})});l.on("banner.close",function(b){o({type:"sitebannerclose",sort:b})});l.on("banner.other",function(b){o({type:"sitebannerother",sort:b})});l.on("banner.link",function(b){o({type:"sitebannerlink",sort:b})})}});
__d("widget.site.site","common.js.format,common.js.events,common.js.cookie,common.js.config,common.js.profile,widget.popup.getTpl,common.js.adjust,common.js.timeHint,common.js.browser,widget.site.siteBanner,widget.site.siteBannerLog,common.js.login,widget.popup.mask,widget.site.siteResource,widget.popup.confirm,widget.popup.alert,widget.site.siteModel,widget.site.config,widget.site.siteView,widget.site.log,common.js.log,common.js.localcookie,widget.site.drag,common.js.widget".split(","),function(w,
u,s,b){var l=b("common.js.format"),o=b("common.js.events"),j=b("common.js.cookie"),d=b("common.js.config"),a=b("common.js.profile"),h=b("widget.popup.getTpl"),c=b("common.js.adjust").adjust,g=b("common.js.timeHint"),x=b("common.js.browser"),m=b("widget.site.siteBanner"),r=b("widget.site.siteBannerLog"),k=b("common.js.login"),p=b("widget.popup.mask"),n=b("widget.site.siteResource");b("widget.popup.confirm");b("widget.popup.alert");var i=b("widget.site.siteModel"),f=b("widget.site.config"),z=b("widget.site.siteView");
b("widget.site.log");b("common.js.log");var e=b("common.js.localcookie"),v=b("widget.site.drag"),q,A=!1;b("common.js.widget");$.widget("hao123.site",{options:{},_initTask:function(){function a(){j.set(b,1,{expires:0})}var b,c=window.location.search.match(/\?key=([^<>&]+)&taskid=5/);c&&c[1]&&(this.isTask=!0,b=c[1],this._onManageClick(),o.on("added",a),o.on("modified",a),o.on("delete",a))},_initBanner:function(){r();q.siteBannerConfig=$.extend(q.options.banner,{replaceHandler:function(a){q.bd.find('[data-id="'+
a.id+'"]').find("a").text(a.title).attr("href",a.url).get(0).style.background="url(http://sc2.hao123img.com/urlicon/"+a.icon+") no-repeat 0 0";q.model.modify({name:a.title,url:a.url,id:a.id},!0)},deleteHandler:function(a){q.bd.find('[data-id="'+a.id+'"]').slideUp(800,function(){q.model.doDelete(a.id,!0);m.slideUp()})},moreHandler:function(){q._onManageClick();m.hide()},filterReplace:q.options.banner.filterReplace.split(","),filterDelete:q.options.banner.filterDelete.split(",")});var a=$("#site");
a.on("click",".js_item-add",function(){m.hide()});$(".js_manage",a).click(function(){m.hide()});$(".js_text",a).click(function(){var a=this.parentNode.getAttribute("data-id");m.add(a)})},_init:function(){var a=this.element;q=this;q.config=f;q.iscuser=d.get("userinfo").iscuser;q.recommendData=d.get("userinfo").recommendData||[];q.newStyle=!1;for(var b=[];5<q.recommendData.length;)q.recommendData.pop();q.recommend2Text=b.title;q.recommend2Url=b.url;q.retried=0;q.isFromTopLogin=!1;q.view=z;q.model=i;
q.confirmPopup=$(h("confirm")).confirm({title:q.config.confirmTitle,text:q.config.confirmText});q.recoverPopup=$(h("confirm")).confirm({title:q.config.recoverTitle,text:q.config.recoverText});q.alertPopup=$(h("alert")).alert({title:q.config.alertTitle,text:q.config.alertText});q.recommends=$(".site-item-recommend",a);q.loading=$(".popup-site-loading",a);q.popContent=$(".popup-site-content",a);q.refresh=$(".js_refresh",a);q.refreshButton=$(".js_refresh-button",a);q.manage=$(".js_manage",a);q.add=$(".js_psite-add",
a);q.modify=$(".js_psite-modify",a);q.psite=$(".js_psite",a);q.sugName=$(".js_sug-name",a);q.sugUrl=$(".js_sug-url",a);q.save=$(".js_psite-save",a);q.saveForeverHint=$(".js_hint-saveForever",a);q.bd=$(".js_bd",a);q.dash=$("<li></li>");q.addCount=$(".js_add-count",a);q.topRecommend=$(".site-item-recommend",a);q.topRecommendLink=q.topRecommend.find(".js_text");q.topRecommendDelete=$(".js_recommend_delete",a);q.topRecommendHint=$(".site-item-recommend-hint",a);q.context=$("#popup-site-holder");q.psite.appendTo(q.context);
q.recommend2Js=$(l("<div class='rpjs'><div class='rp'><em class='left'></em><span>\u63a8\u8350:</span><a data-max-width='90' href='#{url}'>#{text}</a><i></i></div>",{text:q.recommend2Text,url:q.recommend2Url}));q.recommend2=q.recommend2Js.find(".rp");q.recommend2Em=q.recommend2Js.find("em");q.recommend2Link=q.recommend2.find("a");q.recommend2key="site_recommend2";q._bind();A||(q._eventBind(),A=!0);q.init();q.saveHintCookie="site_shave_hint";$(function(){window.setTimeout(q._hint,100);var a=d.get("userinfo").iscuser,
b=0;$("li",q.bd).each(function(a,c){if(0==c.getAttribute("data-status"))return b=1,!1});q._trigger("rp",null,{iszdyuser:a,isrpuser:b})});a=$(".site-hd0",q.element);q._initAlog(a);q._initTask()},_cal_alog_custom:function(a){var b="",a=a.split(",");1==a.length?b="ind:"+a[0]:2==a.length&&("y"==a[1]?a[1]=1:"n"==a[1]&&(a[1]=0),b="ind:"+a[0]+",sal:"+a[1]);return b},_initAlog:function(a){$("a",a).each(function(){var a=$(this).attr("cls");a&&$(this).attr("alog-custom",q._cal_alog_custom(a))})},_initRecommend:function(){q.recommends.click(function(){q.model.adds(q.view.getRecommends());
q.recommends.removeClass("site-item-recommend")})},init:function(){var a=this;a.isLanding=d.get("userinfo").islanding;a.userName=d.get("userinfo").username;a._initRecommend();a._initBanner();a.isLanding&&(a._trigger("defaultlogin",null),a.userName||a.model.getUser());var b;0<a.recommend2Link.length&&(b=a.recommend2Link.get(0).getAttribute("href",2));b=a.view.init(a,b);a.model.init(a.view.getSiteData());if(b){a.needRefresh=!0;var c=j.getBaiduId();e.wait(function(b,d){b&&d&&d!=c?a.model.refresh():(a.bd.find(".js_item-add").show(),
a.manage.show(),m.excute(a.siteBannerConfig))},2E3)}else m.excute(a.siteBannerConfig);this._ajust();this._delete1();this._delete2()},_initPopupVariable:function(){var a=this.context;this.close=$(".js_psite-close",a);this.sites=$(".js_psite-sites",a);this.recover=$(".js_psite-recover",a);this.recommendContent=$(".js_psite-recommend-content",a);this.recommendControl=$(".js_psite-recommend-control",a);this.recommendCount=$(".js_psite-recommend-count",a);this.cms=$(".js_psite-cms",a);this.recommend=$(".js_psite-recommend",
a);this.recover=$(".js_psite-recover",a);this.sug=$(".js_psite-sug",a);this.tipDel=$(".popup-site-tip-del",a);this.tipSave=$(".popup-site-tip-save",a);this.hintSug=new g($(".js_hint-sug",a));this.hintAdded=new g($(".js_hint-added",a));this.hintNoicon=new g($(".js_hint-noicon",a));this.hintSave=new g($(".js_hint-save",a),6E3);this.noDataHint=$(".js_nodata-hint",a);this.blink=$(".popup-site-blink",a)},_initPopupPopup:function(){var a=this;a.confirmPopup.bind("confirmok",function(){k.show(function(){$.getJSON("/api/getprof",
{c:j.getCSRFId(),key:+new Date},function(){window.location.href=window.location.href})});a._hidePsite()});a.confirmPopup.bind("confirmcancel",function(){a._showPopup()});a.confirmPopup.bind("confirmclose",function(){a._showPopup()});a.recoverPopup.bind("confirmok",function(){a.model.recover()});a.recoverPopup.bind("confirmcancel",function(){a._showPopup()});a.recoverPopup.bind("confirmclose",function(){a._showPopup()})},_initPopupEvent:function(){var a=this;a.save.click(function(){p.hide();a._hidePsite();
k.show(function(){$.getJSON("/api/getprof",{c:j.getCSRFId(),key:+new Date},function(){window.location.href=window.location.href})});a.saveForeverHint.hide();return!1});a.saveForeverHint.click(function(){j.set(a.saveHintCookie,1);a.saveForeverHint.hide();j.get("stip2")||a.tipSave.show()});a.psite.on("mouseover",".item-added",function(){a.view.onAddedItemOver(this)});a.psite.on("mouseout",".item-added",function(){a.view.onAddedItemOut(this)});a.psite.on("click",".js_recommend",function(){a._showTip();
if(!a._checkAdd())return!1;var b=a.view.onItemClick(this);b&&a.model.add(b);return!1});a.psite.on("click",".js_add-tip-close",function(){$(this).parent(".popup-site-tip-add").hide();j.set("stip0",1,{expires:30});j.get("stip1")||$(".popup-site-tip-del",a.context).show()});a.psite.on("click",".js_del-tip-close",function(){$(this).parent(".popup-site-tip-del").hide();j.set("stip1",1,{expires:30})});a.psite.on("click",".js_save-tip-close",function(){a.tipSave.hide();j.set("stip2",1,{expires:30})});a.psite.on("click",
".item-added",function(){var b=a.view.onAddedClick(this);a.model.doDelete(b);a._trigger("dodelete",null,{id:b,url:this.parentNode.getAttribute("data-url"),status:this.parentNode.getAttribute("data-status")});return!1});a.recover.click(function(){a._hidePsite();a.recoverPopup.confirm("show");return!1});a.close.click(function(){var b=a.view.onSorted();a.view.clearError();a.view.update(a.model.sortData(b));a._delete2();p.hide();a._hidePsite();a._trigger("backclick");a.tipSave.hide();j.set("stip2",1,
{expires:30});c();return!1});a.add.click(function(){if(a._checkAdd()){var b=a.view.onAddClick();b&&a.model.add(b)}return!1});a.modify.click(function(){var b=a.view.onModifyClick();if(!b)return!1;var c=0;if(!k.isLogin()&&(c=a.model.checkLimit(b.id),517==c))return a.confirmPopup.confirm("show"),a._hidePsite(),a.view.on517(),!1;if(0<c)return a.view.showError(c),!1;b&&a.model.modify(b);return!1});a.sites.on("click",".js_modify",function(){a.view.onItemModifyClick(this.parentNode);return!1});a.sites.on("click",
".js_delete",function(){a._showTip(1);a.view.onItemDeleteClick(this.parentNode);var b=this.parentNode.getAttribute("data-id");a.model.doDelete(b);a.model.checkIsShowSave()<a.config.showSaveMax&&a.saveForeverHint.hide();a._trigger("dodelete",null,{id:b,url:this.parentNode.getAttribute("data-url"),status:this.parentNode.getAttribute("data-status")});return!1})},_showTip:function(a){a?($(".popup-site-tip-del",q.context).hide(),j.set("stip1",1,{expires:30})):($(".popup-site-tip-add",q.context).hide(),
j.set("stip0",1,{expires:30}),j.get("stip1")||$(".popup-site-tip-del",q.context).show())},_initPopup:function(){this._initPopupVariable();this._initPopupPopup();this._initPopupEvent();this.siteDrag=new v(this.sites,this.dash);this.siteDrag.dragable();this.view.initSug();this.model.getCRdata()},_showPopup:function(){this.psite.show();p.show();this.recommend2Js.remove()},_checkAdd:function(){var a=0;k.isLogin()||(a=this.model.checkLimit());if(0<a)return this.confirmPopup.confirm("show"),this._hidePsite(),
!1;a=this.model.checkFull();return 0<a?(this.view.showError(a),!1):!0},_hidePsite:function(){this.view.clearHint();this.psite.hide()},_bind:function(){var a=this;$(document).bind("getprof",function(b,c){if(c&&c.urls)switch(result=c.urls,result.code){case 200:c=result.data.sites;a.view.onImported(c);a.model.init(c);break;default:a._trigger("error",null,{code:result.code+"getrof"})}});6==x.ie&&(this.bd.on("mouseover",".js_item-add",function(){$(this).addClass("site-item-add-hover")}),this.bd.on("mouseout",
".js_item-add",function(){$(this).removeClass("site-item-add-hover")}));a.bd.on("click",".js_item-add",function(){a._trigger("intoaddclick");a._onManageClick()});a.bd.on("click",".js_no-data",function(){a._onManageClick();a._trigger("noneaddclick");return!1});a.manage.click(function(){a._onManageClick();return!1});a.bd.delegate(".js_text","mousedown",function(){var b={};b.url=this.href;b.id=this.parentNode.getAttribute("data-id");b.status=this.parentNode.getAttribute("data-status");a._trigger("textclick",
null,b)})},_eventBind:function(){var b=this;o.on("firsted",function(c){b.view.onFirsted(c);a.set("urls","true")});o.on("recovered",function(c){b.view.onRecovered(c);b._showPopup();a.set("urls","false");b._trigger("recovered")});o.on("modified",function(a){b.view.onModified(a);b._trigger("modify",null,a)});o.on("cred",function(a){b.view.onCred(a)});o.on("sorted",function(){b.model.sort(b.view.onSorted().join(","))});o.on("site.update",function(a){b.model.setData(a.data.sites);b.view.update(a.data.sites)});
o.on("site.updatePopup",function(a){b._showPopup();b.model.setData(a.data.sites);b.view.updatePopup(a.data.sites)});o.on("getUser",function(a){a.userName?o.emit("login.otherSignin",a):b.retried<b.config.retry?(b.retried++,b._trigger("getusererror",null,b.retried+"_"+a.code),b.model.getUser()):(o.emit("login.otherSignin",{userName:""}),b.retried++,b._trigger("getusererror",null,b.retried+"_"+a.code))});o.on("operated",function(){a.set("urls","true")});o.on("addtwoed",function(a){b.view.onSecondAdd(a)});
o.on("addsed",function(a){b.view.onManageClick(!0,!1);b.view.updatePopup(a);b.loading.hide();b.popContent.show()});o.on("addClickSynced",function(a){b.isAddingClickSync||(b._addSecondRecommend(),b.isAddingClickSync=!1);b._trigger("addclicksync",null,a)});o.on("added",function(a){b.view.onAdded(a);b.model.checkIsShowSave()>=f.showSaveMax&&b.view.showSaveMessage();a.type?b._trigger(a.type,null,a):b._trigger("add",null,a)});o.on("refreshed",function(a){b.view.onRefreshed(a);a?b._trigger("showrefresh"):
m.excute(b.siteBannerConfig)});o.on("imported",function(a){b.view.onImported(a)});o.on("error",function(a){b._trigger("error",null,{code:a.code+a.src,info:a.info});b.view.showError(a.code)});b.refreshButton.click(function(){b.view.onRefreshClick(b.model.getData());b._trigger("refresh");return!1});o.on("login.signin",function(a){b.save.hide();b.saveForeverHint.hide();a.isInit||(b._trigger("login",null,{login:"login"}),b.recommend2Js.remove(),b.recommendData=[])})},_onManageClick:function(){this._hideHint();
this.isManageClicked||(this.isManageClicked=!0,$("#popup-site").get(0).className="popup-site",this._initPopup());0<this.element.find(".site-item-recommend").length&&!this.isTask?(this.loading.show(),this.popContent.hide(),this._showPopup(),this.model.adds(this.view.getRecommends())):(this.view.onManageClick(this.model.checkIsShowRecover(),this.model.checkIsShowSave()),this.view.updatePopup(this.model.getData()),this.loading.hide(),this.popContent.show(),this._showPopup(),this._trigger("manageclick"),
0>=$("#popup-site-holder .popup-site-recommend-sidenone").length&&this._trigger("managerecommend"))},_ajust:function(){$("#site").bind("sitebackclick siterecovered siterefresh siteshowrefresh sitelogin",function(){c()})},_delete1:function(){$(function(){$("#site .js_text").each(function(a,b){if(null!==window.location.search.match(/[?&]tn=([^&<>'"]+)/)&&"http://www.baidu.com/index.php?tn=10018801_hao"==b.getAttribute("href",2))return b.href="http://www.baidu.com/?tn=10018802_hao",!1})})},_hideHint:function(){q.hint&&
(q.hint.hide(),j.set("sitehint",1,{expires:30}))},_hint:function(){},_delete2:function(){var a={g_green:function(a){if(a.hasClass("g_reen"))return!1;a.addClass("g_green");return!1},g_red:function(a){if(a.hasClass("g_red"))return!1;a.addClass("g_red");return!1},g_hot:function(a,b){if(a.hasClass("g_hot")||a.hasClass("g_tips-r"))return!1;if(70<a.width()||5==b%6)return!0;a.addClass("g_hot");a.append('<i class="g_icon"></i>');return!1},"g_tips-r":function(a,c,d){if(d&&d.seed&&d.rand&&d.seed!==d.rand&&
1!=d.ifshow)return!0;c=(new Date).getTime();if(d.stimer&&d.etimer){if(parseInt(d.stimer)<c&&parseInt(d.etimer)>c){if(a.hasClass("g_hot")||a.hasClass("g_tips-r"))return!1;d&&d.url2?(c=a.html(),d=d.cls?'<a monkey="tips"  style="width:0;" class="tips_link g_tips-r" cls="'+(d.cls||"")+'" alog_custom="'+b._cal_alog_custom(d.cls)+'" href="'+(d.url2||"")+'">&nbsp;<i class="g_icon">'+d.tip+"</i></a>":'<a monkey="tips"  style="width:0;" class="tips_link g_tips-r" href="'+(d.url2||"")+'">&nbsp;<i class="g_icon">'+
d.tip+"</i></a>",a.parent().append(d)):(a.addClass("g_tips-r"),c=a.html(),a.html("<b>"+c+"</b>"),a.after(a.clone().html('<b style="display:none;">'+c+"</b>").append('<i class="g_icon" style="top:-19px;left:-7px;">'+d.tip+"</i>").css("padding","1px 0").attr("monkey","qipao")));return!1}}else{if(a.hasClass("g_hot")||a.hasClass("g_tips-r"))return!1;if(60<a.width())return!0;d&&d.url2?(a.html(),d='<a monkey="tips"  style="width:0;" class="tips_link g_tips-r" href="'+(d.url2||"")+'">&nbsp;<i class="g_icon">'+
d.tip+"</i></a>",a.parent().append(d)):(a.addClass("g_tips-r"),c=a.html(),a.html("<b>"+c+"</b>"),a.append('<i class="g_icon">'+d.tip+"</i>"));return!1}},"g_tips-l":function(a,b,c){if(c&&c.seed&&c.rand&&c.seed!==c.rand&&1!=c.ifshow)return!0;b=(new Date).getTime();if(c.stimer&&c.etimer){if(parseInt(c.stimer)<b&&parseInt(c.etimer)>b){if(a.hasClass("g_hot")||a.hasClass("g_tips-l"))return!1;c&&c.url2?(b=a.html(),c='<a monkey="tips"  style="width:0;" class="tips_link g_tips-l" href="'+(c.url2||"")+'">&nbsp;<i class="g_icon">'+
c.tip+"</i></a>",a.parent().prepend(c)):(a.addClass("g_tips-l"),b=a.html(),a.html("<b>"+b+"</b>"),a.after(a.clone().html('<b style="display:none;">'+b+"</b>").append('<i class="g_icon" style="top:-19px;left:-7px;">'+c.tip+"</i>").css("padding","1px 0").attr("monkey","qipao")));return!1}}else{if(a.hasClass("g_hot")||a.hasClass("g_tips-l"))return!1;if(60<a.width())return!0;c&&c.url2?(a.html(),c='<a monkey="tips"  style="width:0;" class="tips_link g_tips-l" href="'+(c.url2||"")+'">&nbsp;<i class="g_icon">'+
c.tip+"</i></a>",a.parent().append(c)):(a.addClass("g_tips-l"),b=a.html(),a.html("<b>"+b+"</b>"),a.append('<i class="g_icon">'+c.tip+"</i>"));return!1}}},b=this,c=d.get("sitestyle"),e={},f=c.length,g=0,h=0,h=(new Date).getTime(),i,k;for(i=0;i<f;i++)(k=c[i])&&k.style&&-1<k.style.indexOf("g_tips-")&&!k.ifshow?k.stimer&&k.etimer&&parseInt(k.stimer)<h&&parseInt(k.etimer)>h?(g++,c[i].rand=g):c[i].rand=-1:c[i].rand=-1;(i=j.get("mtip"))?(i=parseInt(i),h=i+1,h>g&&(h=1)):h=Math.ceil(Math.random()*g);j.set("mtip",
h,{expires:30});for(i=0;i<f;i++)g=c[i].url.replace(/(.*)\/$/,"$1"),c[i].seed=h,e[g]=c[i];var l=d.get("wideornarrow");b.iscuser||$("a.js_text",this.element).each(function(b){var c=this.href.replace(/(.*)\/$/,"$1");e[c]&&(e[c].mzzyw&&n.add.call(this,e[c],b,"mz",l),a[e[c].style]&&(a[e[c].style]($(this),b,e[c])||delete e[c]))});b.newStyle||($("#box-famoussite span>a").each(function(){var b=this.href.replace(/(.*)\/$/,"$1");e[b]&&a[e[b].style]&&(a[e[b].style]($(this),void 0,e[b]),delete e[b])}),b.newStyle=
!0)}});return s});
__d("common.js.auto_fixed",["common.js.adjust"],function(w,u,s,b){var l=b("common.js.adjust"),o={auto:function(b,d){var a=document,h=o,c=$("#layout-side"),g=$("#bottomtop"),s=$("#nlb"),m=$.browser.msie&&6==$.browser.version,r="BackCompat"==a.compatMode?a.body:a.documentElement;l.adjust();m||s.removeAttr("style");h.box_service_top=c.offset().top+c.height()-14;var k=function(){if($("#navigate .option-selected").index()!=b||d&&$("#navigate .option-selected .channel").attr("data-tab")!=d)return $(window).unbind("scroll",
k),c.removeAttr("style"),!1;if(Math.max(a.body.scrollTop,a.documentElement.scrollTop)+r.clientHeight>h.box_service_top){s.removeAttr("style");var l=Math.max(a.body.scrollTop,a.documentElement.scrollTop)+r.clientHeight-g.offset().top;0<l?c.css({bottom:parseInt(l)+"px",position:"fixed"}):c.css({bottom:0,position:"fixed"})}else c.removeAttr("style")};m||$(window).scroll(k);m||window.setTimeout(k,1E3)}};return o});window.js_oZHUlnWXGY&&window.js_oZHUlnWXGY(!0);
