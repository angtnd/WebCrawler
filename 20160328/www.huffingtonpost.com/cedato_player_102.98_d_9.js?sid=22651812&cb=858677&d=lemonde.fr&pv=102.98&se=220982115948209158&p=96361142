var CEDATO_ES5=function(f,a){f.include=function(){try{Object.getPrototypeOf||(Object.getPrototypeOf=function(a){if(a!==Object(a))throw TypeError("Object.getPrototypeOf called on non-object");return a.__proto__||a.constructor.prototype||Object.prototype}),"function"!==typeof Object.getOwnPropertyNames&&(Object.getOwnPropertyNames=function(a){if(a!==Object(a))throw TypeError("Object.getOwnPropertyNames called on non-object");var b=[],c;for(c in a)Object.prototype.hasOwnProperty.call(a,c)&&b.push(c);
return b}),"function"!==typeof Object.create&&(Object.create=function(a,b){function c(){}if("object"!==typeof a)throw TypeError();c.prototype=a;var h=new c;a&&(h.constructor=c);if(void 0!==b){if(b!==Object(b))throw TypeError();Object.defineProperties(h,b)}return h}),function(){var a;if(!(a=!Object.defineProperty)){var b;try{Object.defineProperty({},"x",{}),b=!0}catch(h){b=!1}a=!b}if(a){var c=Object.defineProperty;Object.defineProperty=function(b,a,l){if(c)try{return c(b,a,l)}catch(f){}if(b!==Object(b))throw TypeError("Object.defineProperty called on non-object");
Object.prototype.__defineGetter__&&"get"in l&&Object.prototype.__defineGetter__.call(b,a,l.get);Object.prototype.__defineSetter__&&"set"in l&&Object.prototype.__defineSetter__.call(b,a,l.set);"value"in l&&(b[a]=l.value);return b}}}(),"function"!==typeof Object.defineProperties&&(Object.defineProperties=function(a,b){if(a!==Object(a))throw TypeError("Object.defineProperties called on non-object");for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&Object.defineProperty(a,c,b[c]);return a}),Object.keys||
(Object.keys=function(a){if(a!==Object(a))throw TypeError("Object.keys called on non-object");var b=[],c;for(c in a)Object.prototype.hasOwnProperty.call(a,c)&&b.push(c);return b}),Function.prototype.bind||(Function.prototype.bind=function(a){function b(){}if("function"!==typeof this)throw TypeError("Bind must be called on a function");var c=[].slice,h=c.call(arguments,1),f=this,p=function(){return f.apply(this instanceof b?this:a,h.concat(c.call(arguments)))};b.prototype=f.prototype;p.prototype=new b;
return p}),Array.isArray=Array.isArray||function(a){return!(!a||"[object Array]"!==Object.prototype.toString.call(Object(a)))},Array.prototype.indexOf||(Array.prototype.indexOf=function(a){if(void 0===this||null===this)throw TypeError();var b=Object(this),c=b.length>>>0;if(0===c)return-1;var h=0;0<arguments.length&&(h=Number(arguments[1]),isNaN(h)?h=0:0!==h&&h!==1/0&&h!==-(1/0)&&(h=(0<h||-1)*Math.floor(Math.abs(h))));if(h>=c)return-1;for(h=0<=h?h:Math.max(c-Math.abs(h),0);h<c;h++)if(h in b&&b[h]===
a)return h;return-1}),Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function(a){if(void 0===this||null===this)throw TypeError();var b=Object(this),c=b.length>>>0;if(0===c)return-1;var h=c;1<arguments.length&&(h=Number(arguments[1]),h!==h?h=0:0!==h&&h!==1/0&&h!==-(1/0)&&(h=(0<h||-1)*Math.floor(Math.abs(h))));for(c=0<=h?Math.min(h,c-1):c-Math.abs(h);0<=c;c--)if(c in b&&b[c]===a)return c;return-1}),Array.prototype.every||(Array.prototype.every=function(a,b){if(void 0===this||null===this)throw TypeError();
var c=Object(this),h=c.length>>>0;if("function"!==typeof a)throw TypeError();var f;for(f=0;f<h;f++)if(f in c&&!a.call(b,c[f],f,c))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(a,b){if(void 0===this||null===this)throw TypeError();var c=Object(this),h=c.length>>>0;if("function"!==typeof a)throw TypeError();var f;for(f=0;f<h;f++)if(f in c&&a.call(b,c[f],f,c))return!0;return!1}),Array.prototype.forEach||(Array.prototype.forEach=function(a,b){if(void 0===this||null===this)throw TypeError();
var c=Object(this),h=c.length>>>0;if("function"!==typeof a)throw TypeError();var f;for(f=0;f<h;f++)f in c&&a.call(b,c[f],f,c)}),Array.prototype.map||(Array.prototype.map=function(a,b){if(void 0===this||null===this)throw TypeError();var c=Object(this),h=c.length>>>0;if("function"!==typeof a)throw TypeError();var f=[];f.length=h;var p;for(p=0;p<h;p++)p in c&&(f[p]=a.call(b,c[p],p,c));return f}),Array.prototype.filter||(Array.prototype.filter=function(a,b){if(void 0===this||null===this)throw TypeError();
var c=Object(this),h=c.length>>>0;if("function"!==typeof a)throw TypeError();var f=[],p;for(p=0;p<h;p++)if(p in c){var m=c[p];a.call(b,m,p,c)&&f.push(m)}return f}),Array.prototype.reduce||(Array.prototype.reduce=function(a){if(void 0===this||null===this)throw TypeError();var b=Object(this),c=b.length>>>0;if("function"!==typeof a)throw TypeError();if(0===c&&1===arguments.length)throw TypeError();var h=0,f;if(2<=arguments.length)f=arguments[1];else{do{if(h in b){f=b[h++];break}if(++h>=c)throw TypeError();
}while(1)}for(;h<c;)h in b&&(f=a.call(void 0,f,b[h],h,b)),h++;return f}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(a){if(void 0===this||null===this)throw TypeError();var b=Object(this),c=b.length>>>0;if("function"!==typeof a)throw TypeError();if(0===c&&1===arguments.length)throw TypeError();var c=c-1,h;if(2<=arguments.length)h=arguments[1];else{do{if(c in this){h=this[c--];break}if(0>--c)throw TypeError();}while(1)}for(;0<=c;)c in b&&(h=a.call(void 0,h,b[c],c,b)),c--;return h}),
String.prototype.trim||(String.prototype.trim=function(){return String(this).replace(/^\s+/,"").replace(/\s+$/,"")}),Date.now||(Date.now=function(){return Number(new Date)}),Date.prototype.toISOString||(Date.prototype.toISOString=function(){function a(b){return("00"+b).slice(-2)}return this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"."+function(a){return("000"+a).slice(-3)}(this.getUTCMilliseconds())+
"Z"})}catch(a){}};return f}(CEDATO_ES5||{},window),CEDATO_SWF=function(f){try{f.swfobject=function(){function a(){if(!V){try{var e=r.getElementsByTagName("body")[0].appendChild(r.createElement("span"));e.parentNode.removeChild(e)}catch(a){return}V=!0;for(var e=Q.length,b=0;b<e;b++)Q[b]()}}function l(e){V?e():Q[Q.length]=e}function b(a){if("undefined"!=typeof B.addEventListener)B.addEventListener("load",a,!1);else if("undefined"!=typeof r.addEventListener)r.addEventListener("load",a,!1);else if("undefined"!=
typeof B.attachEvent)e(B,"onload",a);else if("function"==typeof B.onload){var b=B.onload;B.onload=function(){b();a()}}else B.onload=a}function c(){var e=r.getElementsByTagName("body")[0],a=r.createElement("object");a.setAttribute("type","application/x-shockwave-flash");var b=e.appendChild(a);if(b){var c=0;(function(){if("undefined"!=typeof b.GetVariable){var f=b.GetVariable("$version");f&&(f=f.split(" ")[1].split(","),v.pv=[parseInt(f[0],10),parseInt(f[1],10),parseInt(f[2],10)])}else if(10>c){c++;
setTimeout(arguments.callee,10);return}e.removeChild(a);b=null;h()})()}else h()}function h(){var e=N.length;if(0<e)for(var a=0;a<e;a++){var b=N[a].id,c=N[a].callbackFn,h={success:!1,id:b};if(0<v.pv[0]){var f=y(b);if(f)if(!F(N[a].swfVersion)||v.wk&&312>v.wk)if(N[a].expressInstall&&p()){h={};h.data=N[a].expressInstall;h.width=f.getAttribute("width")||"0";h.height=f.getAttribute("height")||"0";f.getAttribute("class")&&(h.styleclass=f.getAttribute("class"));f.getAttribute("align")&&(h.align=f.getAttribute("align"));
for(var n={},f=f.getElementsByTagName("param"),l=f.length,u=0;u<l;u++)"movie"!=f[u].getAttribute("name").toLowerCase()&&(n[f[u].getAttribute("name")]=f[u].getAttribute("value"));m(h,n,b,c)}else q(f),c&&c(h);else A(b,!0),c&&(h.success=!0,h.ref=k(b),c(h))}else A(b,!0),c&&((b=k(b))&&"undefined"!=typeof b.SetVariable&&(h.success=!0,h.ref=b),c(h))}}function k(e){var a=null;(e=y(e))&&"OBJECT"==e.nodeName&&("undefined"!=typeof e.SetVariable?a=e:(e=e.getElementsByTagName("object")[0])&&(a=e));return a}function p(){return!da&&
F("6.0.65")&&(v.win||v.mac)&&!(v.wk&&312>v.wk)}function m(e,a,b,c){da=!0;T=c||null;R={success:!1,id:b};var h=y(b);if(h){"OBJECT"==h.nodeName?(M=u(h),W=null):(M=h,W=b);e.id="SWFObjectExprInst";if("undefined"==typeof e.width||!/%$/.test(e.width)&&310>parseInt(e.width,10))e.width="310";if("undefined"==typeof e.height||!/%$/.test(e.height)&&137>parseInt(e.height,10))e.height="137";r.title=r.title.slice(0,47)+" - Flash Player Installation";c=v.ie&&v.win?"ActiveX":"PlugIn";c="MMredirectURL="+B.location.toString().replace(/&/g,
"%26")+"&MMplayerType="+c+"&MMdoctitle="+r.title;a.flashvars="undefined"!=typeof a.flashvars?a.flashvars+("&"+c):c;v.ie&&v.win&&4!=h.readyState&&(c=r.createElement("div"),b+="SWFObjectNew",c.setAttribute("id",b),h.parentNode.insertBefore(c,h),h.style.display="none",function(){4==h.readyState?h.parentNode.removeChild(h):setTimeout(arguments.callee,10)}());n(e,a,b)}}function q(e){if(v.ie&&v.win&&4!=e.readyState){var a=r.createElement("div");e.parentNode.insertBefore(a,e);a.parentNode.replaceChild(u(e),
a);e.style.display="none";(function(){4==e.readyState?e.parentNode.removeChild(e):setTimeout(arguments.callee,10)})()}else e.parentNode.replaceChild(u(e),e)}function u(e){var a=r.createElement("div");if(v.win&&v.ie)a.innerHTML=e.innerHTML;else if(e=e.getElementsByTagName("object")[0])if(e=e.childNodes)for(var b=e.length,c=0;c<b;c++)1==e[c].nodeType&&"PARAM"==e[c].nodeName||8==e[c].nodeType||a.appendChild(e[c].cloneNode(!0));return a}function n(e,a,b){var c,h=y(b);if(v.wk&&312>v.wk)return c;if(h)if("undefined"==
typeof e.id&&(e.id=b),v.ie&&v.win){var f="",n;for(n in e)e[n]!=Object.prototype[n]&&("data"==n.toLowerCase()?a.movie=e[n]:"styleclass"==n.toLowerCase()?f+=' class="'+e[n]+'"':"classid"!=n.toLowerCase()&&(f+=" "+n+'="'+e[n]+'"'));n="";for(var l in a)a[l]!=Object.prototype[l]&&(n+='<param name="'+l+'" value="'+a[l]+'" />');h.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+f+">"+n+"</object>";Z[Z.length]=e.id;c=y(e.id)}else{l=r.createElement("object");l.setAttribute("type","application/x-shockwave-flash");
for(var p in e)e[p]!=Object.prototype[p]&&("styleclass"==p.toLowerCase()?l.setAttribute("class",e[p]):"classid"!=p.toLowerCase()&&l.setAttribute(p,e[p]));for(f in a)a[f]!=Object.prototype[f]&&"movie"!=f.toLowerCase()&&(e=l,n=f,p=a[f],b=r.createElement("param"),b.setAttribute("name",n),b.setAttribute("value",p),e.appendChild(b));h.parentNode.replaceChild(l,h);c=l}return c}function w(e){var a=y(e);a&&"OBJECT"==a.nodeName&&(v.ie&&v.win?(a.style.display="none",function(){if(4==a.readyState){var b=y(e);
if(b){for(var c in b)"function"==typeof b[c]&&(b[c]=null);b.parentNode.removeChild(b)}}else setTimeout(arguments.callee,10)}()):a.parentNode.removeChild(a))}function y(e){var a=null;try{a=r.getElementById(e)}catch(b){}return a}function e(e,a,b){e.attachEvent(a,b);X[X.length]=[e,a,b]}function F(e){var a=v.pv;e=e.split(".");e[0]=parseInt(e[0],10);e[1]=parseInt(e[1],10)||0;e[2]=parseInt(e[2],10)||0;return a[0]>e[0]||a[0]==e[0]&&a[1]>e[1]||a[0]==e[0]&&a[1]==e[1]&&a[2]>=e[2]?!0:!1}function C(e,a,b,c){if(!v.ie||
!v.mac){var h=r.getElementsByTagName("head")[0];h&&(b=b&&"string"==typeof b?b:"screen",c&&(fa=O=null),O&&fa==b||(c=r.createElement("style"),c.setAttribute("type","text/css"),c.setAttribute("media",b),O=h.appendChild(c),v.ie&&v.win&&"undefined"!=typeof r.styleSheets&&0<r.styleSheets.length&&(O=r.styleSheets[r.styleSheets.length-1]),fa=b),v.ie&&v.win?O&&"object"==typeof O.addRule&&O.addRule(e,a):O&&"undefined"!=typeof r.createTextNode&&O.appendChild(r.createTextNode(e+" {"+a+"}")))}}function A(e,a){if(oa){var b=
a?"visible":"hidden";V&&y(e)?y(e).style.visibility=b:C("#"+e,"visibility:"+b)}}function G(e){return null!=/[\\\"<>\.;]/.exec(e)&&"undefined"!=typeof encodeURIComponent?encodeURIComponent(e):e}var B=window,r=document,D=navigator,H=!1,Q=[function(){H?c():h()}],N=[],Z=[],X=[],M,W,T,R,V=!1,da=!1,O,fa,oa=!0,v=function(){var e="undefined"!=typeof r.getElementById&&"undefined"!=typeof r.getElementsByTagName&&"undefined"!=typeof r.createElement,a=D.userAgent.toLowerCase(),b=D.platform.toLowerCase(),c=b?/win/.test(b):
/win/.test(a),b=b?/mac/.test(b):/mac/.test(a),a=/webkit/.test(a)?parseFloat(a.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,h=!+"\v1",f=[0,0,0],n=null;if("undefined"!=typeof D.plugins&&"object"==typeof D.plugins["Shockwave Flash"])!(n=D.plugins["Shockwave Flash"].description)||"undefined"!=typeof D.mimeTypes&&D.mimeTypes["application/x-shockwave-flash"]&&!D.mimeTypes["application/x-shockwave-flash"].enabledPlugin||(H=!0,h=!1,n=n.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),f[0]=parseInt(n.replace(/^(.*)\..*$/,
"$1"),10),f[1]=parseInt(n.replace(/^.*\.(.*)\s.*$/,"$1"),10),f[2]=/[a-zA-Z]/.test(n)?parseInt(n.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if("undefined"!=typeof B.ActiveXObject)try{if(n=(new ActiveXObject("ShockwaveFlash.ShockwaveFlash")).GetVariable("$version"))h=!0,n=n.split(" ")[1].split(","),f=[parseInt(n[0],10),parseInt(n[1],10),parseInt(n[2],10)]}catch(l){}return{w3:e,pv:f,wk:a,ie:h,win:c,mac:b}}();(function(){v.w3&&(("undefined"!=typeof r.readyState&&"complete"==r.readyState||"undefined"==
typeof r.readyState&&(r.getElementsByTagName("body")[0]||r.body))&&a(),V||("undefined"!=typeof r.addEventListener&&r.addEventListener("DOMContentLoaded",a,!1),v.ie&&v.win&&(r.attachEvent("onreadystatechange",function(){"complete"==r.readyState&&(r.detachEvent("onreadystatechange",arguments.callee),a())}),B==top&&function(){if(!V){try{r.documentElement.doScroll("left")}catch(e){setTimeout(arguments.callee,0);return}a()}}()),v.wk&&function(){V||(/loaded|complete/.test(r.readyState)?a():setTimeout(arguments.callee,
0))}(),b(a)))})();(function(){v.ie&&v.win&&window.attachEvent("onunload",function(){for(var e=X.length,a=0;a<e;a++)X[a][0].detachEvent(X[a][1],X[a][2]);e=Z.length;for(a=0;a<e;a++)w(Z[a]);for(var b in v)v[b]=null;v=null;for(var c in f.swfobject)f.swfobject[c]=null;f.swfobject=null})})();return{registerObject:function(e,a,b,c){if(v.w3&&e&&a){var h={};h.id=e;h.swfVersion=a;h.expressInstall=b;h.callbackFn=c;N[N.length]=h;A(e,!1)}else c&&c({success:!1,id:e})},getObjectById:function(e){if(v.w3)return k(e)},
embedSWF:function(e,a,b,c,h,f,u,w,k,q){var r={success:!1,id:a};v.w3&&!(v.wk&&312>v.wk)&&e&&a&&b&&c&&h?(A(a,!1),l(function(){b+="";c+="";var l={};if(k&&"object"===typeof k)for(var C in k)l[C]=k[C];l.data=e;l.width=b;l.height=c;C={};if(w&&"object"===typeof w)for(var y in w)C[y]=w[y];if(u&&"object"===typeof u)for(var B in u)C.flashvars="undefined"!=typeof C.flashvars?C.flashvars+("&"+B+"="+u[B]):B+"="+u[B];if(F(h))y=n(l,C,a),l.id==a&&A(a,!0),r.success=!0,r.ref=y;else{if(f&&p()){l.data=f;m(l,C,a,q);return}A(a,
!0)}q&&q(r)})):q&&q(r)},switchOffAutoHideShow:function(){oa=!1},ua:v,getFlashPlayerVersion:function(){return{major:v.pv[0],minor:v.pv[1],release:v.pv[2]}},hasFlashPlayerVersion:F,createSWF:function(e,a,b){if(v.w3)return n(e,a,b)},showExpressInstall:function(e,a,b,c){v.w3&&p()&&m(e,a,b,c)},removeSWF:function(e){v.w3&&w(e)},createCSS:function(e,a,b,c){v.w3&&C(e,a,b,c)},addDomLoadEvent:l,addLoadEvent:b,getQueryParamValue:function(e){var a=r.location.search||r.location.hash;if(a){/\?/.test(a)&&(a=a.split("?")[1]);
if(null==e)return G(a);for(var a=a.split("&"),b=0;b<a.length;b++)if(a[b].substring(0,a[b].indexOf("="))==e)return G(a[b].substring(a[b].indexOf("=")+1))}return""},expressInstallCallback:function(){if(da){var e=y("SWFObjectExprInst");e&&M&&(e.parentNode.replaceChild(M,e),W&&(A(W,!0),v.ie&&v.win&&(M.style.display="block")),T&&T(R));da=!1}}}}()}catch(a){}return f}(CEDATO_SWF||{}),CEDATO_DEVICE=function(f){f.getDeviceInfo=function(){var a={os:"",osv:"0",make:"",model:"",mobile:!1},f=navigator.userAgent,
b;if(/iPod/i.test(f))a.os="iOS",a.osv=(f.match(/\b[0-9]+_[0-9]+(?:_[0-9]+)?\b/)||[""])[0].replace(/_/g,"."),a.make="Apple",a.model="iPod",a.mobile=!0;else if(/iPhone/i.test(f))a.os="iOS",a.osv=(f.match(/\b[0-9]+_[0-9]+(?:_[0-9]+)?\b/)||[""])[0].replace(/_/g,"."),a.make="Apple",a.model="iPhone",a.mobile=!0;else if(/iPad/i.test(f))a.os="iOS",a.osv=(f.match(/\b[0-9]+_[0-9]+(?:_[0-9]+)?\b/)||[""])[0].replace(/_/g,"."),a.make="Apple",a.model="iPad",a.mobile=!0;else if(/Android/i.test(f)){if(a.os="Android",
a.mobile=!0,b=/\Android.([\d\.]+).*;\s(\w*;\s)?(.*)\sBuild.*\)/i,b=b.exec(f)){a.osv=b[1]||"0";var c=b[3]||"";/HTC/i.test(c)?(a.make="HTC",b=/HTC\s(.*)/i,b=b.exec(c),a.model=b?b[1]:""):/ASUS/i.test(c)?(a.make="ASUS",b=/ASUS\s(.*)/i,b=b.exec(c),a.model=b?b[1]:""):/ALCATEL/i.test(c)?(a.make="ALCATEL",b=/ALCATEL\s(.*)/i,b=b.exec(c),a.model=b?b[1]:""):/BLU/i.test(c)?(a.make="BLU",b=/BLU\s(.*)/i,b=b.exec(c),a.model=b?b[1]:""):/ME17\d/i.test(c)?(a.make="ASUS",a.model=c):/Nexus/i.test(c)?(a.make="Google",
a.model=c):/Lenovo/i.test(c)?a.make="Lenovo":/IdeaTab/i.test(c)?(a.make="Lenovo",a.model=c):/Huawei/i.test(f)?(a.make="Huawei",a.model=c):/SGP\d/i.test(c)?(a.make="Sony",a.model=c):/LT[1-9]\d/i.test(c)?(a.make="Sony",a.model=c):/HP/i.test(c)?(a.make="HP",b=/HP\s(.*)/i,b=b.exec(c),a.model=b?b[1]:""):/A1-/i.test(c)||/B11-/i.test(c)?(a.make="Acer",a.model=c):/GT-/i.test(c)?(a.make="Samsung",b=/(GT-.*)/i,b=b.exec(c),a.model=b?b[1]:""):/SM-/i.test(c)?(a.make="Samsung",b=/(SM-.*)/i,b=b.exec(c),a.model=
b?b[1]:""):/SPH-/i.test(c)?(a.make="Samsung",b=/(SPH-.*)/i,b=b.exec(c),a.model=b?b[1]:""):/SCH-/i.test(c)?(a.make="Samsung",b=/(SCH-.*)/i,b=b.exec(c),a.model=b?b[1]:""):/SGH-/i.test(c)?(a.make="Samsung",b=/(SGH-.*)/i,b=b.exec(c),a.model=b?b[1]:""):/DROID/i.test(c)?(a.make="Motorola",b=/(DROID.*)/i,b=b.exec(c),a.model=b?b[1]:""):/XT/i.test(c)?(a.make="Motorola",b=/(XT.*)/i,b=b.exec(c),a.model=b?b[1]:""):/LG-/i.test(c)?(a.make="LG",b=/(LG-.*)/i,b=b.exec(c),a.model=b?b[1]:""):/VS/i.test(c)?(a.make="LG",
b=/(VS.*)/i,b=b.exec(c),a.model=b?b[1]:""):/Z[1-9]/i.test(c)?(a.make="ZTE",b=/(Z[1-9].*)/i,b=b.exec(c),a.model=b?b[1]:""):/NX[1-9]/i.test(c)?(a.make="NEXTBOOK",b=/(NX[1-9].*)/i,b=b.exec(c),a.model=b?b[1]:""):/C5[1-9]/i.test(c)?(a.make="Kyocera",b=/(C5[1-9].*)/i,b=b.exec(c),a.model=b?b[1]:""):a.model=c}}else/Windows.Phone/i.test(f)||/WPDesktop/i.test(f)?(a.os="WindowsPhone",a.osv=(f.match(/Windows.Phone\s([0-9]+\.[0-9])/)||[""])[1]||8,a.mobile=!0,/NOKIA/i.test(f)&&(a.make="Nokia",b=/NOKIA;\s(.*?)(;|\))/i,
b=b.exec(f),a.model=b?b[1]:"")):/BlackBerry/i.test(f)||navigator.userAgent.match(/BB10/i)?(a.os="BlackBerry",b=0<=f.indexOf("Version/")?/Version\/(.*?)\s/i:/BlackBerry.*\/(.*?)\s/i,b=b.exec(f),a.osv=b?b[1]:"",a.mobile=!0):/Windows/i.test(f)?(a.os="Windows",b=/Windows\sNT\s(.*?)(;|\)|\s)/i,b=b.exec(f),a.osv=b?b[1]:""):/Mac\sOS/i.test(f)&&(a.os="MacOS",b=/Mac\sOS\sX\s(.*?)(;|\)|\s)/i,b=b.exec(f),a.osv=b?b[1]:"");return a};return f}(CEDATO_DEVICE||{}),CEDATO_BROWSER=function(f){f.msie=function(){var a=
window.navigator.userAgent,b=a.indexOf("MSIE "),c=a.indexOf("Trident/"),h=a.indexOf("Edge/"),f=null;0<b?f=parseInt(a.split("MSIE")[1]):0<c?f=11:0<h&&(f=12);return f?{version:f}:!1}();f.oldIE=f.msie&&10>f.msie.version;f.supportsVideo=function(){var a=!1;try{var b=document.createElement("video");b.volume=.5;a=!!b.canPlayType}catch(c){a=!1}return a};var a=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},
function(){return new ActiveXObject("Microsoft.XMLHTTP")}];f.createXMLHTTPObject=function(){var f=!1,b;for(b=0;b<a.length;b++){try{f=a[b]()}catch(c){continue}break}return f};f.parseTextToXML=function(a){return(window.DOMParser?function(a){return(new window.DOMParser).parseFromString(a,"text/xml")}:"undefined"!==typeof window.ActiveXObject&&new window.ActiveXObject("Microsoft.XMLDOM")?function(a){var c=new window.ActiveXObject("Microsoft.XMLDOM");c.async="false";c.loadXML(a);return c}:function(){return null})(a)};
f.json_decode=function(a){return window.JSON&&JSON.parse?JSON.parse(a):eval("("+a+")")};f.nonFlashSandbox=function(){try{return sandblaster.detect().sandboxed?"undefined"!==typeof document.plugins&&"object"===typeof document.plugins["Shockwave Flash"]?!1:!0:!1}catch(a){return!1}};return f}(CEDATO_BROWSER||{}),CEDATO_URLUTILS=function(f){f.ScriptPath=function(){try{throw Error();}catch(h){var a=h.stack.split("\n"),f=0,b;for(b in a)if(a[b].match(/http[s]?:\/\//)){f=Number(b)+1;break}var c;a[f+1]&&(c=
a[f+1].match(/((http[s]?:\/\/.+\/)([^\/]+\.js).*?):\d+/));c&&c[1]||(c=a[f].match(/((http[s]?:\/\/.+\/)([^\/]+\.js).*?):\d+/));c&&c[1]||!a[f+1]||(c=a[f+1].match(/((http[s]?:\/\/.+\/)([^\/]+\.js).*?):/));c&&c[1]||(c=a[f].match(/((http[s]?:\/\/.+\/)([^\/]+\.js).*?):/));c&&c[1]||!a[f+1]||(c=a[f+1].match(/((\/\/.+\/)([^\/]+\.js).*?):\d+/));c&&c[1]||(c=a[f].match(/((\/\/.+\/)([^\/]+\.js).*?):\d+/));a="";c[1]&&(a=c[1]);a&&":"===a.substr(a.length-1)&&(a=a.substring(0,a.length-1));return a}};f.getProtocol=
function(a){try{if(a&&0===a.toLowerCase().indexOf("https")||document&&document.location&&0===document.location.protocol.indexOf("https")||window.location&&0===window.location.protocol.indexOf("https")||location&&0===location.protocol.indexOf("https"))return"https:"}catch(f){}return"http:"};f.isFileProtocol=function(){try{if(document&&document.location&&0===document.location.protocol.indexOf("file")||window.location&&0===window.location.protocol.indexOf("file")||location&&0===location.protocol.indexOf("file"))return!0}catch(a){return!0}return!1};
f.getDetectedDomain=function(){var a="";try{if(parent!==window){if(a=document.referrer,window.location.ancestorOrigins){var f=window.location.ancestorOrigins[window.location.ancestorOrigins.length-1];f&&a.substring(0,f.length)!=f&&(a=f)}}else a=top.location.href}catch(b){}return a};f.buildUrl=function(a,f){var b=[],c;for(c in f)if(f.hasOwnProperty(c)){var h=String(f[c]);if("extra"===c)for(var h=h.split("&"),k=0,p=h.length;k<p;k++)b.push(h[k]);else if(c&&c.length&&h.length){k="";try{k=encodeURIComponent(h)}catch(m){k=
escape(h)}b.push([c,k].join("="))}else c&&c.length?b.push(c+"="):h&&h.length&&b.push(h)}return[a,b.join("&")].join("")};return f}(CEDATO_URLUTILS||{}),CEDATO_HTTP=function(f){f.CORS_W_CREDENTIALS=1;f.CORS_FLASH=2;f.CORS_WO_CREDENTIALS=3;f.CORS_FLASH_AND_WO_CREDENTIALS=4;f.USE_JSONP_AND_AJAX=5;f.USE_AJAX=6;f.USE_JSONP=7;f.ERR_NO_XDOMAIN_REQUEST=1;f.ERR_OPEN=2;f.ERR_SEND=3;f.ERR_AFTER_SEND=4;f.ERR_TIMEOUT=5;f.ERR_UNKNOWN=6;f.ERR_FLOAD_FAILED=7;f.ERR_FLOAD_ERROR=8;f.ERR_EXCEPTION_HEADER=9;f.ERR_BAD_RESPONSE=
10;f.FetchVastService={banned:[],cache:{},get:function(a){function f(a,b){CEDATO_HTTP.ajax({timeout:16E3,url:k,withCredentials:a,onLoad:function(){if(400<=this.status)return c.onNonRetry(CEDATO_HTTP.ERR_BAD_RESPONSE,{message:""});if(c.exceptionHeaders.length){for(var a=[],b=(this.getAllResponseHeaders()||"").split("\n"),f=0,e=c.exceptionHeaders.length;f<e;f++)for(var p=0,u=b.length;p<u;p++)0===b[p].toLowerCase().indexOf(c.exceptionHeaders[f].toLowerCase())&&a.push(b[p]);return c.onNonRetry(CEDATO_HTTP.ERR_EXCEPTION_HEADER,
{message:a.join("\n")})}try{return a=!1,-1!=this.responseText.indexOf("/vlog?vpaidEvent")&&(a=!0,h.players.logVastResponse=!0),h.players.logVastResponse&&(h.debugLog(h.players,"vastId "+c.vastId+" - xhr response to url "+k,!1),h.debugLog(h.players,this.responseText,!1)),a&&h.vastError(h.players,c.vastId,3,"lior test",null,h.playerData),"undefined"===typeof this.responseXML&&this.responseText&&(this.responseXML=CEDATO_BROWSER.parseTextToXML(this.responseText)),h.cb(null,this.responseXML,{players:h.players,
playerData:h.playerData,urlhandler:h.vastURLHandler,withCredentials:this.withCredentials})}catch(m){return-1==m.message.indexOf("cross-origin")?h.vastError(h.players,c.vastId,3,"xhr onload JS exception: ",m,h.playerData):h.players.logVastResponse&&h.debugLog(h.players,"vastId "+c.vastId+" - xhr response to url "+k+" gave cross origin error",!1),h.cb(null,null,{players:h.players,playerData:h.playerData,urlhandler:h.vastURLHandler,withCredentials:this.withCredentials})}},onError:function(a,f){switch(a){case CEDATO_HTTP.ERR_NO_XDOMAIN_REQUEST:h.debugLog(h.players,
"vastId "+c.vastId+" - old ie but no XDomainRequest",!1);b();break;case CEDATO_HTTP.ERR_OPEN:h.debugLog(h.players,"vastId "+c.vastId+" - xhr open failed with error: "+f.message,!1);b();break;case CEDATO_HTTP.ERR_SEND:h.debugLog(h.players,"vastId "+c.vastId+" - xhr send failed with error: "+f.message,!1);b();break;case CEDATO_HTTP.ERR_AFTER_SEND:b();break;case CEDATO_HTTP.ERR_TIMEOUT:h.debugLog(h.players,"vastId "+c.vastId+" - timeout error, url: "+k,!1);h.cb(null,null,{players:h.players,playerData:h.playerData,
urlhandler:h.vastURLHandler});break;case CEDATO_HTTP.ERR_UNKNOWN:if(-1==f.message.indexOf("101")&&2153644038!=f.result)return h.vastError(h.players,c.vastId,3,"vastURLHandler JS exception on stage ???: ",f,h.playerData),h.cb(null,null,{players:h.players,playerData:h.playerData,urlhandler:h.vastURLHandler,withCredentials:this.withCredentials});h.debugLog(h.players,"vastId "+c.vastId+" - xhr response gave cross origin exception",!1);b()}},externals:h});h.players.logVastResponse&&h.debugLog(h.players,
"vastId "+c.vastId+" - xhr request send called url "+k,!1)}function b(){CEDATO_HTTP.flashAjax({url:k,onLoad:function(){},onError:function(a,b){switch(a){case CEDATO_HTTP.ERR_FLOAD_FAILED:h.debugLog(h.players,"vastId "+h.playerData.vastId+" - fload failed - vpw disappeared: "+b.message,!1);h.playerData.tlvState=10;h.playerData.errorCount+=1;h.vpwException(h.players,h.playerData,"fload");break;case CEDATO_HTTP.ERR_FLOAD_ERROR:h.debugLog(h.players,"vastId "+h.playerData.vastId+" - fload returned error: "+
b.message,!1),h.cb(null,null,{players:h.players,playerData:h.playerData,urlhandler:h.vastURLHandler})}},externals:h})}var c=CEDATO_UTILS.extend({vastId:null,url:"",flashSupport:!1,flashProxyObject:null,corsSupport:0,exceptionHeaders:[],onSuccess:function(){},onFailure:function(){},onNonRetry:function(){},externals:{players:{},playerData:{},fixURLPrm:function(){},debugLog:function(){},vastError:function(){},cb:function(){},vastURLHandler:null,vpwException:function(){}}},a),h=c.externals;h.players.logVastResponse&&
h.debugLog(h.players,"vastId "+c.vastId+" - xhr request url "+c.url,!1);a=c.url;if(-1!==a.indexOf("noad.xml"))h.cb(null,null,p);else if(a=h.fixURLPrm(h.players.protocol,a)){var k=a;CEDATO_BROWSER.oldIE&&-1==a.indexOf(h.players.protocol)&&(k=h.players.protocol+a.substr(a.indexOf("/")),h.debugLog(h.players,"vastId "+c.vastId+" - old ie and different scheme, adjusting url to "+k,!1));var p={players:h.players,playerData:h.playerData,urlhandler:h.vastURLHandler};switch(c.corsSupport){case CEDATO_HTTP.CORS_FLASH:b();
break;case CEDATO_HTTP.CORS_W_CREDENTIALS:case CEDATO_HTTP.CORS_WO_CREDENTIALS:var m=c.corsSupport===CEDATO_HTTP.CORS_W_CREDENTIALS;f(m,function(){h.debugLog(h.players,"vastId "+c.vastId+" - xhr error, fload not available",!1);m?(h.debugLog(h.players,"vastId "+c.vastId+" - xhr error, retrying without credentials, url: "+k,!1),CEDATO_HTTP.FetchVastService.get(CEDATO_UTILS.extend(c,{corsSupport:CEDATO_HTTP.CORS_WO_CREDENTIALS}))):h.cb(null,null,p)});break;case CEDATO_HTTP.CORS_FLASH_AND_WO_CREDENTIALS:break;
default:m=c.corsSupport!==CEDATO_HTTP.CORS_FLASH_AND_WO_CREDENTIALS,f(m,function(){c.flashSupport?b():m?(h.debugLog(h.players,"vastId "+c.vastId+" - xhr error, retrying without credentials, url: "+k,!1),CEDATO_HTTP.FetchVastService.get(CEDATO_UTILS.extend(c,{corsSupport:CEDATO_HTTP.CORS_WO_CREDENTIALS}))):h.cb(null,null,p)})}}}};f.ajax=function(a){var f=CEDATO_UTILS.extend({url:"",withCredentials:!1,method:"GET",postData:null,timeout:0,onLoad:function(){},onError:function(){}},a);try{var b=!1,c=CEDATO_BROWSER.createXMLHTTPObject();
if(CEDATO_BROWSER.oldIE&&!c){if(!window.XDomainRequest)return f.onError.call(c,CEDATO_HTTP.ERR_NO_XDOMAIN_REQUEST),null;c=new XDomainRequest;c.onprogress=function(){}}try{c.open(f.method,f.url)}catch(p){return f.onError.call(c,CEDATO_HTTP.ERR_OPEN,p),null}"withCredentials"in c&&(c.withCredentials=f.withCredentials);"timeout"in c&&(c.timeout=f.timeout);c.onload=function(){b||(window.XDomainRequest&&c instanceof window.XDomainRequest&&(c.status=200,c.getResponseHeader=function(){return null},c.getAllResponseHeaders=
function(){return null}),f.onLoad.call(c))};c.onerror=function(a){b=!0;f.onError.call(c,CEDATO_HTTP.ERR_AFTER_SEND,{result:-1,message:""})};var h=null;a=[];if(f.postData){if("string"==typeof f.postData)h=f.postData;else{for(var k in f.postData)f.postData.hasOwnProperty(k)&&a.push([k,f.postData[k]].join("="));h=a.join("&")}c.setRequestHeader&&c.setRequestHeader("Content-type","application/x-www-form-urlencoded")}if(CEDATO_BROWSER.oldIE)setTimeout(function(){try{c.send(h)}catch(a){f.onError.call(c,
CEDATO_HTTP.ERR_SEND,a)}},0);else try{c.send(h)}catch(p){f.onError.call(c,CEDATO_HTTP.ERR_SEND,p)}}catch(p){f.onError.call(c,CEDATO_HTTP.ERR_UNKNOWN,p)}return c};f.flashAjax=function(a){function f(){if(2!==c.playerData.vpwLoaded)if((new Date).getTime()-h>b.waitTimeout)b.onError(CEDATO_HTTP.ERR_FLOAD_ERROR,{message:"Flash didnt load timeout"});else setTimeout(f,500);else{var a;try{a=c.playerData.flashElement[c.playerData.flashEICallbacks]("fLoad",b.url,b.timeout,c.players.playersStorageName,c.playerData.uniqId,
k,c.players.floadSuccessCallbackFuncName,c.players.floadFailureCallbackFuncName)}catch(m){b.onError(CEDATO_HTTP.ERR_FLOAD_FAILED,m)}if(""!==a)b.onError(CEDATO_HTTP.ERR_FLOAD_ERROR,{message:a})}}var b=CEDATO_UTILS.extend({url:"",timeout:2E4,waitTimeout:5E3,onLoad:function(){},onError:function(){},externals:{players:{},playerData:{},cb:function(){}}},a),c=b.externals,h=(new Date).getTime(),k=c.playerData.floadCbs.length;c.playerData.floadCbs.push(c.cb);f()};f.JSONP=function(a){var f=CEDATO_UTILS.extend({url:"",
onLoad:function(a){},onError:function(){}},a);a="_"+(new Date).getTime();var b=document.createElement("script"),c=document.getElementsByTagName("head")[0]||document.documentElement;window[a]=function(a){f.onLoad(a)};var h=f.url,k=h.indexOf("?");-1==k?h+="?":k!==h.length-1&&(h+="&");b.src=h+"callback="+a;CEDATO_BROWSER.msie&&9>CEDATO_BROWSER.msie.version?b.onreadystatechange=function(a){if(/loaded|complete/.test(b.readyState)&&(a=b.readyState,b.children,"loaded"==a&&"loading"==b.readyState))f.onError()}:
(b.onerror=function(){f.onError()},c.appendChild(b));return{script:b,uid:a}};f.GetPlayerVast=function(a){function f(a){h.push(a);h.length==p&&(2===p?!h[0]&&!h[1]&&0<b.retries:!h[0]&&0<b.retries)&&(b.retries--,setTimeout(function(){CEDATO_HTTP.GetPlayerVast(b)},b.retryInterval))}var b=CEDATO_UTILS.extend({url:"",success:function(a,b,c){},preferredMethod:CEDATO_HTTP.USE_JSONP_AND_AJAX,retryInterval:1E4,retries:2,externals:{players:{},debugLog:function(){},playerError:function(){}}},a),c=b.externals,
h=[],k=!1,p=b.preferredMethod===CEDATO_HTTP.USE_JSONP_AND_AJAX?2:1;c.debugLog(c.players,"gpv url: "+b.url,!1);c.players.gpvAttempt++;if(b.preferredMethod===CEDATO_HTTP.USE_AJAX||b.preferredMethod===CEDATO_HTTP.USE_JSONP_AND_AJAX)c.players.gsvXHR=CEDATO_HTTP.ajax({url:b.url,method:"get",onLoad:function(){try{c.debugLog(c.players,"sp callback from "+b.url,!1);var a=CEDATO_BROWSER.json_decode(this.responseText);k||(k=!0,b.success(c.players,a,CEDATO_HTTP.USE_AJAX));f(!0)}catch(h){f(!1),h.message&&-1===
h.message.indexOf("Unexpected EOF")&&-1===h.message.indexOf("Unable to parse")&&c.playerError(c.players,3,"spcallback gave JS exception: "+h.message)}},onError:function(a){f(!1)}});b.preferredMethod!==CEDATO_HTTP.USE_JSONP&&b.preferredMethod!==CEDATO_HTTP.USE_JSONP_AND_AJAX||CEDATO_HTTP.JSONP({url:b.url,onLoad:function(a){k||(k=!0,b.success(c.players,a,CEDATO_HTTP.USE_JSONP));f(!0)},onError:function(){f(!1)}})};f.sendPixel=function(a,f,b){!0===b?(new Image).src=a:CEDATO_HTTP.ajax({url:a,postData:f,
method:f?"post":"get"})};return f}(CEDATO_HTTP||{}),CEDATO_UTILS=function(f){f.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)};f.extend=function(a,f){for(var b in f)f.hasOwnProperty(b)&&(a[b]=f[b]);return a};return f}(CEDATO_UTILS||{}),CEDATO_CONTENT=function(f){var a=function(a){function b(){k.video&&k.video.parentNode&&k.video.parentNode.removeChild(k.video);var a=p.customCreateVideoElement?p.customCreateVideoElement():document.createElement("video");a.src=k.currentContentUrl;
a.controls=k.controlBar;a.autoplay=k.autoPlay;a.loop=!1;a.preload="auto";a.volume=k.volume;a.setAttribute("style","height:100% !important;display:block;");a.style.width="100%";a.style.position="relative";a.style.zIndex="1";a.addEventListener("ended",function(c){m&&a.play();if(!q){c=0;for(var f=k.callbacks.endContentVideo.length;c<f;c++)k.callbacks.endContentVideo[c].call(k);q=!0}m||(k.currentContentUrl=k.contentUrlList.shift(),k.loop&&k.contentUrlList.push(k.currentContentUrl),k.currentContentUrl?
b():"")},!1);a.addEventListener("error",function(a){var b="";switch(a.target.error.code){case a.target.error.MEDIA_ERR_ABORTED:b="You aborted the video playback.";break;case a.target.error.MEDIA_ERR_NETWORK:b="A network error caused the video download to fail part-way.";break;case a.target.error.MEDIA_ERR_DECODE:b="The video playback was aborted due to a corruption problem or because the video used features your browser did not support.";break;case a.target.error.MEDIA_ERR_SRC_NOT_SUPPORTED:b="The video could not be loaded, either because the server or network failed or because the format is not supported.";
break;default:b="An unknown error occurred."}p.onError(a,b)},!1);a.addEventListener("canplay",function(b){a.canvas&&(a.canvas.style.width="100%",a.canvas.style.height="100%")});k.video=a;k.container?k.container.appendChild(a):"";k.autoPlay||k.controlBar||c()}function c(){var a=document.createElement("div");a.style.display="table";a.style.position="absolute";a.style.left="0";a.style.top="0";a.style.width="100%";a.style.height="100%";a.style.zIndex="2";a.style.background="#000";a.style.cursor="pointer";
var b=document.createElement("div");b.style.display="table-cell";b.style.verticalAlign="middle";b.style.textAlign="center";var c=new Image;c.src=p.playButtonUrl;c.style.width="auto";c.style.maxHeight=Math.round(.3*k.container.clientHeight)+"px";b.appendChild(c);a.appendChild(b);k.playOverlay=a;k.container?k.container.appendChild(a):"";a.onclick=function(a){k.playOverlay&&k.playOverlay.parentNode?k.playOverlay.parentNode.removeChild(k.playOverlay):"";k.playOverlay=null;k.playContent();a.stopPropagation();
a=0;for(var e=k.callbacks.userStartPlaying.length;a<e;a++)k.callbacks.userStartPlaying[a].call(k)}}function f(){var a=document.createElement("div");a.style.width="100%";a.style.height="100%";a.style.background="url("+k.bannerUrl+") no-repeat center center";a.style.position="absolute";a.style.left="0";a.style.top="0";k.bannerOverlay=a;k.container?k.container.appendChild(a):"";k.autoPlay||c()}var k=this,p=CEDATO_UTILS.extend({parentDiv:null,contentUrl:null,bannerUrl:"spinner.gif",playButtonUrl:"play_button_gr.png",
clickUrl:"",autoPlay:!0,volume:0,loop:!0,controlBar:!1,videoSupport:!0,customCreateVideoElement:null,userStartPlayingCallback:function(a){},endContentVideoCallback:function(a){},userClick:function(a){},onError:function(a){}},a);this.parentDiv=p.parentDiv;this.contentUrl=p.contentUrl;this.contentUrlList=CEDATO_UTILS.isArray(this.contentUrl)?this.contentUrl.slice():this.contentUrl?[this.contentUrl]:[];this.currentContentUrl=this.contentUrlList.length?this.contentUrlList.shift():null;this.bannerUrl=
p.bannerUrl;this.clickUrl=p.clickUrl;this.autoPlay=p.autoPlay;this.volume=1*p.volume;this.loop=p.loop;this.controlBar=p.controlBar;this.videoSupport=p.videoSupport;var m=!1;this.callbacks={userStartPlaying:[p.userStartPlayingCallback],endContentVideo:[p.endContentVideoCallback]};this.loop&&(this.contentUrlList.push(this.currentContentUrl),m=1==k.contentUrlList.length);this.container=document.createElement("div");this.container.style.width="100%";this.container.style.height="100%";this.container.style.top=
"0";this.container.style.left="0";this.container.style.position="absolute";this.container.style.background="#000";this.container.style.zIndex="10001";k.parentDiv?k.parentDiv.appendChild(this.container):"";this.playOverlay=this.video=this.bannerOverlay=null;var q=!1;k.currentContentUrl&&this.videoSupport?b():f();this.container.onclick=function(a){k.clickUrl&&!k.playOverlay&&(p.userClick(),window.open(k.clickUrl,"_blank"))}};a.prototype.playContent=function(){!this.video||this.video.paused&&this.playOverlay||
this.video.play()};a.prototype.pauseContent=function(){this.video&&this.video.pause()};a.prototype.showContent=function(){this.container&&(this.container.style.zIndex="10001",this.container.style.display="",this.playContent())};a.prototype.hideContent=function(){this.container&&(this.container.style.zIndex="1",this.container.style.display="none",this.pauseContent())};a.prototype.setContentUrls=function(a){this.container&&(this.contentUrl=a,this.contentUrlList=CEDATO_UTILS.isArray(this.contentUrl)?
this.contentUrl.slice():this.contentUrl?[this.contentUrl]:[],this.currentContentUrl=this.contentUrlList.length?this.contentUrlList.shift():null,this.video.src=this.currentContentUrl)};a.prototype.isVisible=function(){return this.container?"10001"===this.container.style.zIndex&&""===this.container.style.display:!1};a.prototype.removeContent=function(){this.container&&this.container.parentNode&&this.container.parentNode.removeChild(this.container)};a.prototype.setVolume=function(a){this.video&&(this.volume=
a,this.video.volume=a)};a.prototype.addEndContentVideoCallback=function(a){this.callbacks.endContentVideo.push(a)};a.prototype.addUserStartPlayingCallback=function(a){this.callbacks.userStartPlaying.push(a)};f.ContentUnit=a;return f}(CEDATO_CONTENT||{}),CEDATO_DETECT_UTILS=function(f){f.getStatsParam=function(a){if(a){var f="h";"https:"===a.protocol&&(f="s");var b="h";if("vpaid"===a.mode&&(b="f",a.vpaidObj))switch(a.vpaidObj.getVpaidType()){case "fl":b="f";break;case "js":b="j"}var c="d";a.info&&
a.info.mobile&&(c="m");return f+b+c}};return f}(CEDATO_DETECT_UTILS||{});
(function(f){"object"===typeof eexports&&"undefined"!==typeof mmodule?mmodule.eexports=f():"function"===typeof ddefine&&ddefine.amd?ddefine([],f):("undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:this).DMVAST=f()})(function(){return function a(l,b,c){function h(p,q){if(!b[p]){if(!l[p]){var u="function"==typeof rrequire&&rrequire;if(!q&&u)return u(p,!0);if(k)return k(p,!0);u=Error("Cannot find mmodule '"+p+"'");throw u.code="MODULE_NOT_FOUND",u;}u=
b[p]={eexports:{}};l[p][0].call(u.eexports,function(a){var b=l[p][1][a];return h(b?b:a)},u,u.eexports,a,l,b,c)}return b[p].eexports}for(var k="function"==typeof rrequire&&rrequire,p=0;p<c.length;p++)h(c[p]);return h}({1:[function(a,l,b){a=function(){return function(){this.errorURLTemplates=[];this.impressionURLTemplates=[];this.creatives=[]}}();this.extensions="";l.eexports=a},{}],2:[function(a,l,b){var c,h;c=a("./parser.coffee");h=a("./util.coffee");a=function(){function a(){}a.cappingFreeLunch=
0;a.cappingMinimumTimeInterval=0;a.options={withCredentials:!1,timeout:0};a.get=function(a,h,k){var u,n,w;n=+new Date;u=b.extend=function(a,e){var b,c;for(b in e)c=e[b],a[b]=c;return a};k||("function"===typeof h&&(k=h),w={});w=u(this.options,h);this.totalCallsTimeout<n?(this.totalCalls=1,this.totalCallsTimeout=n+36E5):this.totalCalls++;if(this.cappingFreeLunch>=this.totalCalls)k(null);else if(n-this.lastSuccessfullAd<this.cappingMinimumTimeInterval)k(null);else return c.parse(a,w,function(a){return k(a)})};
(function(){var b,c;c=h.storage;b=Object.defineProperty;["lastSuccessfullAd","totalCalls","totalCallsTimeout"].forEach(function(h){b(a,h,{get:function(){return c.getItem(h)},set:function(a){return c.setItem(h,a)},configurable:!1,enumerable:!0})});null==a.totalCalls&&(a.totalCalls=0);null==a.totalCallsTimeout&&(a.totalCallsTimeout=0)})();return a}();l.eexports=a},{"./parser.coffee":7,"./util.coffee":13}],3:[function(a,l,b){a=function(){return function(){this.id=null;this.height=this.width=0;this.companionClickThroughURLTemplate=
this.staticResource=this.type=null;this.trackingEvents={}}}();l.eexports=a},{}],4:[function(a,l,b){var c,h={}.hasOwnProperty,k=function(a,b){function c(){this.constructor=a}for(var k in b)h.call(b,k)&&(a[k]=b[k]);c.prototype=b.prototype;a.prototype=new c;a.__super__=b.prototype;return a};c=function(){return function(){this.trackingEvents={}}}();a=function(a){function b(){b.__super__.constructor.apply(this,arguments);this.type="linear";this.duration=0;this.skipDelay=null;this.mediaFiles=[];this.videoClickThroughURLTemplate=
null;this.videoClickTrackingURLTemplates=[]}k(b,a);return b}(c);this.adParameters="";b=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}k(b,a);return b}(c);c=function(a){function b(){this.type="companion";this.variations=[];this.videoClickTrackingURLTemplates=[]}k(b,a);return b}(c);l.eexports={VASTCreativeLinear:a,VASTCreativeNonLinear:b,VASTCreativeCompanion:c}},{}],5:[function(a,l,b){l.eexports={client:a("./client.coffee"),tracker:a("./tracker.coffee"),parser:a("./parser.coffee"),
util:a("./util.coffee")}},{"./client.coffee":2,"./parser.coffee":7,"./tracker.coffee":9,"./util.coffee":13}],6:[function(a,l,b){a=function(){return function(){this.fileURL=this.id=null;this.deliveryType="progressive";this.codec=this.mimeType=null;this.height=this.width=this.maxBitrate=this.minBitrate=this.bitrate=0;this.maintainAspectRatio=this.scalable=this.apiFramework=null}}();l.eexports=a},{}],7:[function(a,l,b){var c,h,k,p,m,q,u,n,w,y=[].indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(b in
this&&this[b]===a)return b;return-1};h=a("./urlhandler.coffee");n=a("./response.coffee");k=a("./ad.coffee");w=a("./util.coffee");q=a("./creative.coffee").VASTCreativeLinear;m=a("./creative.coffee").VASTCreativeCompanion;u=a("./mediafile.coffee");p=a("./companionad.coffee");c=a("events").EventEmitter;a=function(){function a(){}var b;b=[];a.addURLTemplateFilter=function(a){"function"===typeof a&&b.push(a)};a.removeURLTemplateFilter=function(){return b.pop()};a.countURLTemplateFilters=function(){return b.length};
a.clearUrlTemplateFilters=function(){return b=[]};a.parse=function(a,e,b){b||("function"===typeof e&&(b=e),e={});return this._parse(a,null,e,function(a,e){return b(e)})};a.vent=new c;a.track=function(a,e){this.vent.emit("VAST-error",e);return w.track(a,e)};a.on=function(a,e){return this.vent.on(a,e)};a.once=function(a,e){return this.vent.once(a,e)};a._parse=function(a,e,c,p){var k,w,m,u=this;p||("function"===typeof c&&(p=c),c={});w=0;for(m=b.length;w<m;w++)k=b[w],a=k(a);null==e&&(e=[]);e.push(a);
return h.get(a,c,function(b,c,h){var k,w,m,q,r,l;if(null!=b)return p(b);m=new n;if(null==(null!=c?c.documentElement:void 0)||"VAST"!==c.documentElement.nodeName)return p();l=c.documentElement.childNodes;q=0;for(r=l.length;q<r;q++)b=l[q],"Error"===b.nodeName&&m.errorURLTemplates.push(u.parseNodeText(b));r=c.documentElement.childNodes;c=0;for(q=r.length;c<q;c++)b=r[c],"Ad"===b.nodeName&&(k=u.parseAdElement(b),null!=k?m.ads.push(k):u.track(m.errorURLTemplates,{ERRORCODE:101}));w=function(a){var e,b,
c;null==a&&(a=!1);if(m){c=m.ads;e=0;for(b=c.length;e<b;e++)if(k=c[e],null!=k.nextWrapperURL)return;0===m.ads.length&&(a||u.track(m.errorURLTemplates,{ERRORCODE:303}),m=null);return p(null,m)}};for(b=m.ads.length;b--;)k=m.ads[b],null!=k.nextWrapperURL&&function(b){var c;if(10<=e.length||(c=b.nextWrapperURL,0<=y.call(e,c)))u.track(b.errorURLTemplates,{ERRORCODE:302}),m.ads.splice(m.ads.indexOf(b),1),w();else return-1===b.nextWrapperURL.indexOf("://")&&(c=a.slice(0,a.lastIndexOf("/")),b.nextWrapperURL=
""+c+"/"+b.nextWrapperURL),u._parse(b.nextWrapperURL,e,h,function(a,e){var c,h,n,p,k,q,r,A,l,C,y,B,G,D,F;h=!1;if(null!=a)u.track(b.errorURLTemplates,{ERRORCODE:301}),m.ads.splice(m.ads.indexOf(b),1),h=!0;else if(null==e)u.track(b.errorURLTemplates,{ERRORCODE:303}),m.ads.splice(m.ads.indexOf(b),1),h=!0;else for(m.errorURLTemplates=m.errorURLTemplates.concat(e.errorURLTemplates),p=m.ads.indexOf(b),m.ads.splice(p,1),G=e.ads,r=0,A=G.length;r<A;r++){k=G[r];k.errorURLTemplates=b.errorURLTemplates.concat(k.errorURLTemplates);
k.impressionURLTemplates=b.impressionURLTemplates.concat(k.impressionURLTemplates);if(null!=b.trackingEvents)for(D=k.creatives,y=0,l=D.length;y<l;y++)if(c=D[y],"linear"===c.type)for(F=Object.keys(b.trackingEvents),B=0,C=F.length;B<C;B++)n=F[B],(q=c.trackingEvents)[n]||(q[n]=[]),c.trackingEvents[n]=c.trackingEvents[n].concat(b.trackingEvents[n]);if(null!=b.videoClickTrackingURLTemplates)for(C=k.creatives,l=0,n=C.length;l<n;l++)c=C[l],"linear"===c.type&&(c.videoClickTrackingURLTemplates=c.videoClickTrackingURLTemplates.concat(b.videoClickTrackingURLTemplates));
m.ads.splice(p,0,k)}delete b.nextWrapperURL;return w(h)})}(k);return w()})};a.childByName=function(a,e){var b,c,h,n;n=a.childNodes;c=0;for(h=n.length;c<h;c++)if(b=n[c],b.nodeName===e)return b};a.childsByName=function(a,e){var b,c,h,n,p;c=[];p=a.childNodes;h=0;for(n=p.length;h<n;h++)b=p[h],b.nodeName===e&&c.push(b);return c};a.parseAdElement=function(a){var e,b,c;c=a.childNodes;e=0;for(b=c.length;e<b;e++){a=c[e];if("Wrapper"===a.nodeName)return this.parseWrapperElement(a);if("InLine"===a.nodeName)return this.parseInLineElement(a)}};
a.parseWrapperElement=function(a){var e,b,c,h,n;e=this.parseInLineElement(a);b=this.childByName(a,"VASTAdTagURI");null!=b?e.nextWrapperURL=this.parseNodeText(b):(b=this.childByName(a,"VASTAdTagURL"),null!=b&&(e.nextWrapperURL=this.parseNodeText(this.childByName(b,"URL"))));b=null;n=e.creatives;c=0;for(h=n.length;c<h;c++)if(a=n[c],"linear"===a.type){b=a;break}null!=b&&(null!=b.trackingEvents&&(e.trackingEvents=b.trackingEvents),null!=b.videoClickTrackingURLTemplates&&(e.videoClickTrackingURLTemplates=
b.videoClickTrackingURLTemplates));if(null!=e.nextWrapperURL)return e};a.parseInLineElement=function(a){var e,b,c,h,n,p,m,w,q,u;e=new k;w=a.childNodes;a=0;for(n=w.length;a<n;a++)switch(h=w[a],h.nodeName){case "Error":this.isUrl(h)&&e.errorURLTemplates.push(this.parseNodeText(h));break;case "Extensions":e.extensions=this.parseNodeText(h);break;case "Impression":this.isUrl(h)&&e.impressionURLTemplates.push(this.parseNodeText(h));break;case "Creatives":for(q=this.childsByName(h,"Creative"),h=0,p=q.length;h<
p;h++)for(c=q[h],u=c.childNodes,c=0,m=u.length;c<m;c++)switch(b=u[c],b.nodeName){case "Linear":(b=this.parseCreativeLinearElement(b))&&e.creatives.push(b);break;case "CompanionAds":(b=this.parseCompanionAd(b))&&e.creatives.push(b)}}return e};a.parseCreativeLinearElement=function(a){var e,b,c,h,n,p,k,m,w,l;b=new q;b.duration=this.parseDuration(this.parseNodeText(this.childByName(a,"Duration")));if(-1===b.duration&&"Wrapper"!==a.parentNode.parentNode.parentNode.nodeName)return null;e=a.getAttribute("skipoffset");
null==e?b.skipDelay=null:"%"===e.charAt(e.length-1)?(e=parseInt(e,10),b.skipDelay=e/100*b.duration):b.skipDelay=this.parseDuration(e);e=this.childByName(a,"VideoClicks");if(null!=e)for(b.videoClickThroughURLTemplate=this.parseNodeText(this.childByName(e,"ClickThrough")),c=this.childsByName(e,"ClickTracking"),n=0,l=c.length;n<l;n++)e=c[n],b.videoClickTrackingURLTemplates.push(this.parseNodeText(e));e=this.childByName(a,"AdParameters");null!=e&&(b.adParameters=this.parseNodeText(e));l=this.childsByName(a,
"TrackingEvents");e=0;for(n=l.length;e<n;e++)for(c=l[e],p=this.childsByName(c,"Tracking"),w=0,h=p.length;w<h;w++)k=p[w],c=k.getAttribute("event"),k=this.parseNodeText(k),null!=c&&null!=k&&(null==(m=b.trackingEvents)[c]&&(m[c]=[]),b.trackingEvents[c].push(k));e=this.childsByName(a,"MediaFiles");a=0;for(m=e.length;a<m;a++)for(n=e[a],w=this.childsByName(n,"MediaFile"),c=0,l=w.length;c<l;c++)h=w[c],n=new u,n.id=h.getAttribute("id"),n.fileURL=this.parseNodeText(h),n.deliveryType=h.getAttribute("delivery"),
n.codec=h.getAttribute("codec"),n.mimeType=h.getAttribute("type"),n.apiFramework=h.getAttribute("apiFramework"),n.bitrate=parseInt(h.getAttribute("bitrate")||0),n.minBitrate=parseInt(h.getAttribute("minBitrate")||0),n.maxBitrate=parseInt(h.getAttribute("maxBitrate")||0),n.width=parseInt(h.getAttribute("width")||0),n.height=parseInt(h.getAttribute("height")||0),(p=h.getAttribute("scalable"))&&"string"===typeof p&&(p=p.toLowerCase(),"true"===p?n.scalable=!0:"false"===p&&(n.scalable=!1)),(h=h.getAttribute("maintainAspectRatio"))&&
"string"===typeof h&&(h=h.toLowerCase(),"true"===h?n.maintainAspectRatio=!0:"false"===h&&(n.maintainAspectRatio=!1)),b.mediaFiles.push(n);return b};a.parseCompanionAd=function(a){var e,b,c,h,n,k,w,q,u,l,y,F,T,R;b=new m;T=this.childsByName(a,"Companion");w=0;for(u=T.length;w<u;w++){e=T[w];a=new p;a.id=e.getAttribute("id")||null;a.width=e.getAttribute("width");a.height=e.getAttribute("height");c=this.childsByName(e,"HTMLResource");q=0;for(l=c.length;q<l;q++)h=c[q],a.type=h.getAttribute("creativeType")||
0,a.htmlResource=this.parseNodeText(h);c=this.childsByName(e,"IFrameResource");q=0;for(l=c.length;q<l;q++)h=c[q],a.type=h.getAttribute("creativeType")||0,a.iframeResource=this.parseNodeText(h);c=this.childsByName(e,"StaticResource");q=0;for(l=c.length;q<l;q++)h=c[q],a.type=h.getAttribute("creativeType")||0,a.staticResource=this.parseNodeText(h);l=this.childsByName(e,"TrackingEvents");q=0;for(h=l.length;q<h;q++)for(c=l[q],R=this.childsByName(c,"Tracking"),F=0,y=R.length;F<y;F++)n=R[F],c=n.getAttribute("event"),
n=this.parseNodeText(n),null!=c&&null!=n&&(null==(k=a.trackingEvents)[c]&&(k[c]=[]),a.trackingEvents[c].push(n));a.companionClickThroughURLTemplate=this.parseNodeText(this.childByName(e,"CompanionClickThrough"));b.variations.push(a)}return b};a.parseDuration=function(a){var e,b;if(null==a)return-1;e=a.split(":");if(3!==e.length)return-1;b=e[2].split(".");a=parseInt(b[0]);2===b.length&&(a+=parseFloat("0."+b[1]));b=parseInt(60*e[1]);e=parseInt(3600*e[0]);return isNaN(e||isNaN(b||isNaN(a||3600<b||60<
a)))?-1:e+b+a};a.parseNodeText=function(a){return a&&(a.textContent||a.text||"").trim()};a.isUrl=function(a){return/[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?//=]*)/i.test(this.parseNodeText(a))};return a}();l.eexports=a},{"./ad.coffee":1,"./companionad.coffee":3,"./creative.coffee":4,"./mediafile.coffee":6,"./response.coffee":8,"./urlhandler.coffee":10,"./util.coffee":13,events:14}],8:[function(a,l,b){a=function(){return function(){this.ads=[];this.errorURLTemplates=[]}}();
l.eexports=a},{}],9:[function(a,l,b){var c,h,k,p={}.hasOwnProperty,m=function(a,b){function c(){this.constructor=a}for(var h in b)p.call(b,h)&&(a[h]=b[h]);c.prototype=b.prototype;a.prototype=new c;a.__super__=b.prototype;return a};c=a("./client.coffee");k=a("./util.coffee");h=a("./creative.coffee").VASTCreativeLinear;a=function(a){function b(a,p){var k,e,m;this.ad=a;this.creative=p;this.skipable=this.impressed=this.muted=!1;this.skipDelayDefault=-1;this.trackingEvents={};this.emitAlwaysEvents="creativeView start firstQuartile midpoint thirdQuartile complete resume pause rewind skip closeLinear close".split(" ");
m=p.trackingEvents;for(k in m)e=m[k],this.trackingEvents[k]=e.slice(0);p instanceof h?(this.setDuration(p.duration),this.skipDelay=p.skipDelay,this.linear=!0,this.clickThroughURLTemplate=p.videoClickThroughURLTemplate,this.clickTrackingURLTemplates=p.videoClickTrackingURLTemplates):(this.skipDelay=-1,this.linear=!1);this.on("start",function(){c.lastSuccessfullAd=+new Date})}m(b,a);b.prototype.setDuration=function(a){this.assetDuration=a;return this.quartiles={firstQuartile:Math.round(25*this.assetDuration)/
100,midpoint:Math.round(50*this.assetDuration)/100,thirdQuartile:Math.round(75*this.assetDuration)/100}};b.prototype.setProgress=function(a){var b,c,e,h;c=null===this.skipDelay?this.skipDelayDefault:this.skipDelay;-1===c||this.skipable||(c>a?this.emit("skip-countdown",c-a):(this.skipable=!0,this.emit("skip-countdown",0)));if(this.linear&&0<this.assetDuration){c=[];if(0<a)for(b in c.push("start"),e=Math.round(a/this.assetDuration*100),c.push("progress-"+e+"%"),h=this.quartiles,h)e=h[b],e<=a&&a<=e+
1&&c.push(b);e=0;for(h=c.length;e<h;e++)b=c[e],this.track(b,!0);a<this.progress&&this.track("rewind")}return this.progress=a};b.prototype.setMuted=function(a){this.muted!==a&&this.track(a?"mute":"unmute");return this.muted=a};b.prototype.setPaused=function(a){this.paused!==a&&this.track(a?"pause":"resume");return this.paused=a};b.prototype.setFullscreen=function(a){this.fullscreen!==a&&this.track(a?"fullscreen":"exitFullscreen");return this.fullscreen=a};b.prototype.setSkipDelay=function(a){if("number"===
typeof a)return this.skipDelay=a};b.prototype.load=function(){if(!this.impressed)return this.impressed=!0,this.trackURLs(this.ad.impressionURLTemplates),this.track("creativeView")};b.prototype.errorWithCode=function(a){return this.trackURLs(this.ad.errorURLTemplates,{ERRORCODE:a})};b.prototype.complete=function(){return this.track("complete")};b.prototype.stop=function(){return this.track(this.linear?"closeLinear":"close")};b.prototype.skip=function(){this.track("skip");return this.trackingEvents=
[]};b.prototype.click=function(){var a,b;null!=(b=this.clickTrackingURLTemplates)&&b.length&&this.trackURLs(this.clickTrackingURLTemplates);if(null!=this.clickThroughURLTemplate)return this.linear&&(a={CONTENTPLAYHEAD:this.progressFormated()}),a=k.resolveURLTemplates([this.clickThroughURLTemplate],a)[0],this.emit("clickthrough",a)};b.prototype.track=function(a,b){var c,e;null==b&&(b=!1);"closeLinear"===a&&null==this.trackingEvents[a]&&null!=this.trackingEvents.close&&(a="close");e=this.trackingEvents[a];
c=this.emitAlwaysEvents.indexOf(a);null!=e?(this.emit(a,""),this.trackURLs(e)):-1!==c&&this.emit(a,"");!0===b&&(delete this.trackingEvents[a],-1<c&&this.emitAlwaysEvents.splice(c,1))};b.prototype.trackURLs=function(a,b){null==b&&(b={});this.linear&&(b.CONTENTPLAYHEAD=this.progressFormated());return k.track(a,b)};b.prototype.progressFormated=function(){var a,b,c,e;c=parseInt(this.progress);a=c/3600;2>a.length&&(a="0"+a);b=c/60%60;2>b.length&&(b="0"+b);e=c%60;2>e.length&&(e="0"+b);c=parseInt(100*(this.progress-
c));return""+a+":"+b+":"+e+"."+c};return b}(a("events").EventEmitter);l.eexports=a},{"./client.coffee":2,"./creative.coffee":4,"./util.coffee":13,events:14}],10:[function(a,l,b){var c,h;h=a("./urlhandlers/xmlhttprequest.coffee");c=a("./urlhandlers/flash.coffee");b=function(){function b(){}b.get=function(b,k,q){q||("function"===typeof k&&(q=k),k={});return k.urlhandler&&k.urlhandler.supported()?k.urlhandler.get(b,k,q):"undefined"===typeof window||null===window?a("./urlhandlers/node.coffee").get(b,
k,q):h.supported()?h.get(b,k,q):c.supported()?c.get(b,k,q):q()};return b}();l.eexports=b},{"./urlhandlers/flash.coffee":11,"./urlhandlers/xmlhttprequest.coffee":12}],11:[function(a,l,b){a=function(){function a(){}a.xdr=function(){var a;window.XDomainRequest&&(a=new XDomainRequest);return a};a.supported=function(){return!!this.xdr()};a.get=function(a,b,c){var m,q;if(q="function"===typeof window.ActiveXObject?new window.ActiveXObject("Microsoft.XMLDOM"):void 0)q.async=!1;else return c();m=this.xdr();
m.open("GET",a);m.timeout=b.timeout||0;m.withCredentials=b.withCredentials||!1;m.send();return m.onload=function(){q.loadXML(m.responseText);return c(null,q)}};return a}();l.eexports=a},{}],12:[function(a,l,b){a=function(){function a(){}a.xhr=function(){var a;a=new window.XMLHttpRequest;if("withCredentials"in a)return a};a.supported=function(){return!!this.xhr()};a.get=function(a,b,c){var m;try{return m=this.xhr(),m.open("GET",a),m.timeout=b.timeout||0,m.withCredentials=b.withCredentials||!1,m.send(),
m.onreadystatechange=function(){if(4===m.readyState)return c(null,m.responseXML)}}catch(q){return c()}};return a}();l.eexports=a},{}],13:[function(a,l,b){a=function(){function a(){}a.track=function(a,b){var c,m,q,l,n,w;m=this.resolveURLTemplates(a,b);w=[];l=0;for(n=m.length;l<n;l++)c=m[l],"undefined"!==typeof window&&null!==window&&(q=new Image,w.push(q.src=c));return w};a.resolveURLTemplates=function(a,b){var c,m,l,u,n,w,y,e;m=[];null==b&&(b={});"CACHEBUSTING"in b||(b.CACHEBUSTING=Math.round(1E10*
Math.random()));b.random=b.CACHEBUSTING;y=0;for(e=a.length;y<e;y++)if(n=a[y]){for(l in b)w=b[l],c="["+l+"]",u="%%"+l+"%%",n=n.replace(c,w),n=n.replace(u,w);m.push(n)}return m};a.storage=function(){var a,b,c;try{c="undefined"!==typeof window&&null!==window?window.localStorage||window.sessionStorage:null}catch(m){c=null}b=function(a){try{if(a.setItem("__VASTUtil__","__VASTUtil__"),"__VASTUtil__"!==a.getItem("__VASTUtil__"))return!0}catch(b){return!0}return!1};if(null==c||b(c))a={},c={length:0,getItem:function(b){return a[b]},
setItem:function(b,c){a[b]=c;this.length=Object.keys(a).length},removeItem:function(b){delete a[b];this.length=Object.keys(a).length},clear:function(){a={};this.length=0}};return c}();return a}();l.eexports=a},{}],14:[function(a,l,b){function c(){this._events=this._events||{};this._maxListeners=this._maxListeners||void 0}function h(a){return"function"===typeof a}function k(a){return"object"===typeof a&&null!==a}l.eexports=c;c.EventEmitter=c;c.prototype._events=void 0;c.prototype._maxListeners=void 0;
c.defaultMaxListeners=10;c.prototype.setMaxListeners=function(a){if("number"!==typeof a||0>a||isNaN(a))throw TypeError("n must be a positive number");this._maxListeners=a;return this};c.prototype.emit=function(a){var b,c,l,n;this._events||(this._events={});if("error"===a&&(!this._events.error||k(this._events.error)&&!this._events.error.length)){b=arguments[1];if(b instanceof Error)throw b;throw TypeError('Uncaught, unspecified "error" event.');}c=this._events[a];if(void 0===c)return!1;if(h(c))switch(arguments.length){case 1:c.call(this);
break;case 2:c.call(this,arguments[1]);break;case 3:c.call(this,arguments[1],arguments[2]);break;default:b=arguments.length;l=Array(b-1);for(n=1;n<b;n++)l[n-1]=arguments[n];c.apply(this,l)}else if(k(c)){b=arguments.length;l=Array(b-1);for(n=1;n<b;n++)l[n-1]=arguments[n];c=c.slice();b=c.length;for(n=0;n<b;n++)c[n].apply(this,l)}return!0};c.prototype.addListener=function(a,b){var l;if(!h(b))throw TypeError("listener must be a function");this._events||(this._events={});this._events.newListener&&this.emit("newListener",
a,h(b.listener)?b.listener:b);this._events[a]?k(this._events[a])?this._events[a].push(b):this._events[a]=[this._events[a],b]:this._events[a]=b;k(this._events[a])&&!this._events[a].warned&&(l=void 0!==this._maxListeners?this._maxListeners:c.defaultMaxListeners)&&0<l&&this._events[a].length>l&&(this._events[a].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[a].length),"function"===
typeof console.trace&&console.trace());return this};c.prototype.on=c.prototype.addListener;c.prototype.once=function(a,b){function c(){this.removeListener(a,c);k||(k=!0,b.apply(this,arguments))}if(!h(b))throw TypeError("listener must be a function");var k=!1;c.listener=b;this.on(a,c);return this};c.prototype.removeListener=function(a,b){var c,l,n;if(!h(b))throw TypeError("listener must be a function");if(!this._events||!this._events[a])return this;c=this._events[a];n=c.length;l=-1;if(c===b||h(c.listener)&&
c.listener===b)delete this._events[a],this._events.removeListener&&this.emit("removeListener",a,b);else if(k(c)){for(;0<n--;)if(c[n]===b||c[n].listener&&c[n].listener===b){l=n;break}if(0>l)return this;1===c.length?(c.length=0,delete this._events[a]):c.splice(l,1);this._events.removeListener&&this.emit("removeListener",a,b)}return this};c.prototype.removeAllListeners=function(a){var b;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[a]&&
delete this._events[a],this;if(0===arguments.length){for(b in this._events)"removeListener"!==b&&this.removeAllListeners(b);this.removeAllListeners("removeListener");this._events={};return this}b=this._events[a];if(h(b))this.removeListener(a,b);else for(;b.length;)this.removeListener(a,b[b.length-1]);delete this._events[a];return this};c.prototype.listeners=function(a){return this._events&&this._events[a]?h(this._events[a])?[this._events[a]]:this._events[a].slice():[]};c.listenerCount=function(a,
b){return a._events&&a._events[b]?h(a._events[b])?1:a._events[b].length:0}},{}]},{},[5])(5)});
var CEDATO_VPAID_OBJ=function(f){function a(){this.type_="";this.obj={};this.flashEI="";this.eventsCallbacks_={};this.vpaidStatus="not_connected";this.globalCallbackName="";var a=this;this.playerID;this.globalCallbackName="cpcb"+Math.floor(1000001*Math.random());window[this.globalCallbackName]=function(b,c,f){if(this.eventsCallbacks_[b])f?setTimeout(function(){a.eventsCallbacks_[b].call(a,c)},0):a.eventsCallbacks_[b].call(a,c);else throw Exception("no callback "+b);}.bind(a)}a.prototype={callObj:function(a,
b){if("fl"==this.type_){try{var c=this.obj[this.flashEI](a,b)}catch(f){return null}return c}return this.obj.pEvent(a,b)},initObj:function(a,b,c,f){this.type_=b;"fl"==this.type_?(this.obj=a,f&&(this.flashEI=f)):window[a]&&(this.obj=window[a],this.vpaidStatus="connected",this.call("connect",{globalCallbackName:this.globalCallbackName,playersStorageName:c}))},getVpaidType:function(){return this.type_},call:function(a,b,c){if(c)setTimeout(this.callObj.bind(this),0,a,b);else return this.callObj(a,b)},
register:function(a,b,c){b=b.bind(c);this.eventsCallbacks_[a]=b}};f.getVpaid=function(){return new a};return f}(CEDATO_VPAID_OBJ||{}),CEDATO_EVENT_LOGGER=function(f){function a(a,b,c){for(var f=0,h=a.length;f<h;f++)if("undefined"!=typeof b[a[f]]&&null!==b[a[f]])switch(a[f]){case "flashSupport":c[a[f]]=b[a[f]]?"1":"0";break;default:c[a[f]]=b[a[f]]}}function l(b,c,f,h){a(b,c,h);a(b,f,h)}function b(a){var b={},c;for(c in a)a.hasOwnProperty(c)&&"undefined"!==typeof k[c]&&(b[k[c]]=a[c]);return b}function c(a,
b){for(var c in b)null!=k[c]&&a.push([c,String(b[c])].join("="))}f.E_REQUEST="/vpx/requesti";f.E_LOADED="/vpx/loadedi";f.E_MIDS="/vpx/midsi";f.E_END="/vpx/endi";f.E_ADSTART="/vpx/starti";f.E_VAST_ERROR="/vpx/errori";f.E_START="/ppx/starti";f.E_SERVED_AND_START="/ppx/served_and_starti";f.E_VPWS="/ppx/vpwsi";f.E_ADPLAYED="/ppx/adplayedi";f.E_SCHEDULED="/ppx/scheduledi";f.E_PLAYER_ERROR="/ppx/errori";f.E_SUBMIT_DEBUG_LOG="sdl";var h={},k={subid:"sid",domain:"domain",sessionId:"se",playerVersion:"pv",
timeFromStart:"s",flashSupport:"f",detect:"sa",vastId:"v",playerId:"p",memUsed:"m",time:"t",time2:"t2",duration:"d",gpvTime:"gt",fpwReadyTime:"ft",domReadyTime:"dt",gpvM:"gm",roundNo:"r",totalMemS:"tm",vastType:"y",state:"st",gpvAttempt:"ga",errorCode:"en",errorMessage:"em",mediaURL:"mu",logStartRequest:"ls",logLoadRequest:"lr",cedatoxPlayerId:"cxp",cedatoxVastId:"cxv",chosenVastId:"cv",parentPlayerId:"pp"},p=["cedatoxPlayerId","cedatoxVastId","chosenVastId","parentPlayerId"],m="subid domain sessionId playerVersion timeFromStart flashSupport detect".split(" ");
f.log=function(a,b,f,k,y){try{var e=!1;b=b||{};f=f||{};k=k||{};y=y||function(){};var F=[];c(F,b);c(F,f);c(F,k);y(b,"tlv_logEvent: "+a+"?"+F.join("&"),!1);var C=((new Date).getTime()-b.startTime)/1E3,C=C.toFixed(1),A={name:a.substring(a.lastIndexOf("/")+1),common:{},extra:{}};l(m,b,{},A.common);A.common.timeFromStart=C;switch(a){case CEDATO_EVENT_LOGGER.E_REQUEST:l(["playerId","vastId"].concat(p),f,k,A.extra);break;case CEDATO_EVENT_LOGGER.E_LOADED:l(["playerId","vastId","memUsed","time"].concat(p),
f,k,A.extra);break;case CEDATO_EVENT_LOGGER.E_MIDS:l(["playerId","vastId","duration"].concat(p),f,k,A.extra);break;case CEDATO_EVENT_LOGGER.E_END:l(["playerId","vastId"].concat(p),f,k,A.extra);A.extra.duration=(f.duration/4).toFixed(2);e=!0;break;case CEDATO_EVENT_LOGGER.E_ADSTART:l("playerId vastId time roundNo memUsed totalMemS vastType".split(" ").concat(p),f,k,A.extra);e=!0;break;case CEDATO_EVENT_LOGGER.E_VAST_ERROR:l("playerId vastId errorCode errorMessage mediaURL logStartRequest logLoadRequest time".split(" ").concat(p),
f,k,A.extra);e=!0;break;case CEDATO_EVENT_LOGGER.E_START:l(["playerId"],b,k,A.extra);e=!0;break;case CEDATO_EVENT_LOGGER.E_SERVED_AND_START:l(["playerId"],b,k,A.extra);e=!0;break;case CEDATO_EVENT_LOGGER.E_SCHEDULED:l("playerId fpwReadyTime gpvTime domReadyTime gpvM gpvAttempt".split(" "),b,k,A.extra);var G=((new Date).getTime()-b.startTime)/1E3;A.extra.time=G.toFixed(1);e=!0;break;case CEDATO_EVENT_LOGGER.E_ADPLAYED:l(["playerId"],b,k,A.extra);G=((new Date).getTime()-b.startTime)/1E3;A.extra.time=
G.toFixed(1);e=!0;break;case CEDATO_EVENT_LOGGER.E_VPWS:l(["playerId"],b,k,A.extra);l(["time","state","time2"],f,k,A.extra);e=!0;break;case CEDATO_EVENT_LOGGER.E_PLAYER_ERROR:l(["playerId"],b,k,A.extra),l(["errorCode","errorMessage"],f,k,A.extra),e=!0}var B=a.substring(0,a.lastIndexOf("/")),r=[b.protocol||"","//",b.machineId,B].join("");"undefined"==typeof h[r]&&(h[r]={flushTimerId:null,events:[]});0==h[r].events.length&&(h[r].flushTimerId=function(a){return setTimeout(function(){CEDATO_EVENT_LOGGER.flushEvents(a)},
1E4)}(r));h[r].events.push(A);e&&CEDATO_EVENT_LOGGER.flushEvents(r)}catch(D){}};window.URLS=[];f.flushEvents=function(a){if(a){var c=h[a].events;if(c.length)if(1==c.length)try{var f=c[0],k=[a,"/",f.name,"?"].join(""),l=CEDATO_UTILS.extend(f.common,f.extra),e=b(l);e.cb=(new Date).getTime();var p=CEDATO_URLUTILS.buildUrl(k,e);CEDATO_HTTP.sendPixel(p,null,!0)}catch(m){}else try{for(var C=[a,"/multiple-events?"].join(""),k={},A=[],l=[],e=0,G=c.length;e<G;e++){var B={},f=c[e];if(0==e)k=f.common;else for(var r in f.common)f.common[r]!=
k[r]&&(B[r]=f.common[r]);for(r in f.extra)B[r]=f.extra[r];A.push(f.name);l.push(b(B))}for(var D=A.join(","),f=[],e=0,G=l.length;e<G;e++){var H=l[e];r=[];for(var Q in H)r.push([Q,H[Q]].join(":"));f.push(r.join(","))}var N=f.join("|"),p=CEDATO_URLUTILS.buildUrl(C,CEDATO_UTILS.extend({cb:(new Date).getTime(),events:D,data:N},b(k)));CEDATO_HTTP.sendPixel(p,null,!0)}catch(m){}h[a].events=[];clearTimeout(h[a].flushTimerId)}else for(c in h)CEDATO_EVENT_LOGGER.flushEvents(c)};return f}(CEDATO_EVENT_LOGGER||
{}),CEDATO_API=function(f){function a(){var a=this,c={ready:[],click:[],adstart:[],adcomplete:[],adpause:[],adplay:[],_play:[],_pause:[],_sound:[],_resize:[],_skip:[],_overrideinit:[]};a._ready=!1;a.on=function(f,k){var l=f.toLowerCase();c[l]&&c[l].push(k);"ready"===l&&a._ready&&setTimeout(function(){a.trigger("ready")},0);return a};a.off=function(f,k){var l=f.toLowerCase();if(c[l])if("function"===typeof k){var m=c[l].indexOf(k);0<=m&&c[l].splice(m,1)}else c[l]=[];return a};a.trigger=function(f,k){var l=
f.toLowerCase();if(c[l]){for(var m=c[l].slice(),q=0,u=m.length;q<u;q++)if(-1<c[l].indexOf(m[q])){var n={};n.name=l;n.player=a;n.data="undefined"===typeof k?{}:k;m[q](n)}"ready"===l&&a.off("ready")}return a};a.play=function(){a.trigger("_play")};a.pause=function(){a.trigger("_pause")};a.overrideInitParams=function(c){a.trigger("_overrideInit",c)};a.sound=function(c){switch(typeof c){case "boolean":case "number":a.trigger("_sound",c);break;case "string":"on"!==c&&"off"!==c||a.trigger("_sound","on"===
c)}};a.resize=function(c,f){var l=Number(c),m=Number(f);0<=l&&0<=m&&a.trigger("_resize",{width:l,height:m})};a.skip=function(){a.trigger("_skip")}}if("undefined"===typeof f.getPlayer){f.API_VER="1.0.2";var l={};f.registerPlayer=function(b){"undefined"===typeof l[b]?(l[b]=new a,l[b]._ready=!0):(l[b]._ready=!0,setTimeout(function(){l[b].trigger("ready")},0));return l[b]};f.getPlayer=function(b){"undefined"===typeof l[b]&&(l[b]=new a);return l[b]}}return f}(CEDATO_API||{});
(function(f,a){function l(a){return{name:a.name,message:a.message,stack:a.stack}}function b(a,b){return(a||[]).concat(b||[]).filter(function(a,b,c){return c.indexOf(a)===b})}function c(){var a=!!(f.top&&f!=f.top||f.parent&&f!=f.parent);return!f.opener&&a}function h(a){var b;try{b="object"===typeof a&&null!==a&&1===a.nodeType&&/^I?FRAME$/.test(a.nodeName||"")&&!!a.hasAttribute&&!!a.getAttribute&&!!a.setAttribute}catch(c){b=!1}return b}function k(a){var b;try{b=f.frameElement,h(b)||(b=null)}catch(c){b=
null,"function"===typeof a&&a(l(c))}return b}function p(a){var b;try{b=document.domain||null}catch(c){b=null,"function"===typeof a&&a(l(c))}return b}function m(a){var b=null;null===a?b={forms:null,modals:null,pointerLock:null,popups:null,popupsToEscapeSandbox:null,sameOrigin:!0,scripts:!0,topNavigation:null}:"string"===typeof a&&(a=a.replace(/^\s+|\s+$/g,"").toLowerCase().split(/\s+/),b={forms:-1!==a.indexOf("allow-forms"),modals:-1!==a.indexOf("allow-modals"),pointerLock:-1!==a.indexOf("allow-pointer-lock"),
popups:-1!==a.indexOf("allow-popups"),popupsToEscapeSandbox:-1!==a.indexOf("allow-popups-to-escape-sandbox"),sameOrigin:-1!==a.indexOf("allow-same-origin"),scripts:-1!==a.indexOf("allow-scripts"),topNavigation:-1!==a.indexOf("allow-top-navigation")});return b}function q(c,f){var k,e,l,p,q={sandboxed:a,sandboxAllowances:a,unsandboxable:a,resandboxable:a,errors:[]};if(h(c)){try{q.sandboxed=c.hasAttribute("sandbox")}catch(u){q.sandboxed=null,"function"===typeof f&&f(u)}if(q.sandboxed)try{k=c.getAttribute("sandbox")||
""}catch(u){k=null,"function"===typeof f&&f(u)}else null===q.sandboxed&&(k=null);if(null===k||"string"===typeof k)q.sandboxAllowances=m(k);if(q.sandboxed)try{c.removeAttribute("sandbox"),q.unsandboxable=!c.hasAttribute("sandbox")}catch(u){q.unsandboxable=!1,"function"===typeof f&&f(u)}if(q.unsandboxable&&"string"===typeof k)try{c.setAttribute("sandbox",k),e=c.hasAttribute("sandbox")}catch(u){e=!1,"function"===typeof f&&f(u)}if(e&&q.sandboxAllowances)try{l=c.getAttribute("sandbox")||""}catch(u){l=
null,"function"===typeof f&&f(u)}else null===e&&(l=null);if(null===l||"string"===typeof l)l=m(l);if(e&&(p=null,q.sandboxAllowances&&l)){k=q.sandboxAllowances;var G,B,r=!1;if(k&&"object"===typeof k&&l&&"object"===typeof l)for(e=b(Object.keys(k),Object.keys(l)),r=!0,p=0,G=e.length;p<G;p++)if(B=e[p],!k.hasOwnProperty(B)||!l.hasOwnProperty(B)||k[B]!==l[B]){r=!1;break}p=r}q.resandboxable=p}return q}function u(){if(!(this instanceof u))return new u;this._initialState=this.detect();this._unsandboxState=
null}u.prototype.detect=function(){var b,f,h,e={framed:!1,crossOrigin:null,sandboxed:null,sandboxAllowances:a,unsandboxable:a,resandboxable:a,sandboxable:a,errors:[]},m=function(a){e.errors.push(l(a))},u=function(a){f=l(a);e.errors.push(f)};try{e.framed=c(),e.framed?(b=k(u),null!=b?(e.crossOrigin=!1,h=q(b,m),e.sandboxed=h.sandboxed,e.sandboxAllowances=h.sandboxAllowances,e.unsandboxable=h.unsandboxable,e.resandboxable=h.resandboxable):(e.crossOrigin=!0,e.sandboxed=null,e.sandboxAllowances={forms:null,
modals:null,pointerLock:null,popups:null,popupsToEscapeSandbox:null,sameOrigin:null,scripts:!0,topNavigation:null},e.unsandboxable=!1,e.resandboxable=!1,null===p(m)?(e.sandboxed=!0,e.sandboxAllowances.sameOrigin=!1):f&&("SecurityError"!==f.name?e.crossOrigin=null:/(^|[\s\(\[@])sandbox(es|ed|ing|[\s\.,!\)\]@]|$)/.test(f.message.toLowerCase())&&(e.sandboxed=!0,e.sandboxAllowances.sameOrigin=!0))),e.sandboxable=e.resandboxable||!0===e.framed&&!1===e.crossOrigin&&(!1===e.sandboxed||e.sandboxAllowances.sameOrigin)||
!1):(e.crossOrigin=a,e.sandboxed=a,e.errors=a)}catch(A){m(A)}return e};u.prototype.sandbox=function(a){var c,f,e,h,l,m=!1;c=this._initialState;var q=[];if(a&&"object"===typeof a&&c.framed&&!1!==c.crossOrigin&&(c=this.detect(),!1===c.sandboxed&&c.sandboxable||c.sandboxed&&c.unsandboxable)&&(f=c.sandboxAllowances,c=b(Object.keys(a),Object.keys(f||{})),c.forEach(function(b){(!0===a[b]||null==a[b]&&f&&!0===f[b])&&q.push("allow-"+b.replace(/[A-Z]/g,"-$1").toLowerCase())}),0<q.length&&(h=k()))){e=-1===
q.indexOf("allow-same-origin")||-1===q.indexOf("allow-scripts");c=q.sort().join(" ");try{h.setAttribute("sandbox",c),m=e}catch(u){m=!1}if(h=k())try{l=(h.getAttribute("sandbox")||"").replace(/^\s+|\s+$/g,"").split(/\s+/).sort().join(" "),m=l===c||e&&(""===l||null===p())}catch(u){m=e}}return m};f.sandblaster=new u})(window);
(function(f,a){function l(d,g,a,b){"undefined"===typeof b&&(b=!1);d.addEventListener?d.addEventListener(g,a,b):d.attachEvent?d.attachEvent("on"+g,a):d[g]=a}function b(d,g,a,b){a="c"==b?"cdn1-m"+g.networkId+".algovid.tv":g.conf.mUrl;-1!==d.indexOf("track.eyeviewads.com")&&(a="m.algovid.com");d=d.trim();return g.protocol+"//"+a+"/vpr/"+encodeURIComponent(encodeURIComponent(d))+"/a.jsv"}function c(d,g){g||(g=a);var E=null;d.usejsv?(E=CEDATO_JSV.createVideoElement(),E.setAttribute("preload","auto")):
d.hasVideoSupport&&(E=g.createElement("video"));return E}function h(d){var g=d.split("/")[0].toLowerCase(),g=!("rtsp:"!==g&&"rtp:"!==g);g||(d=d.split(".").pop().split(/\#|\?/)[0],"m3u8"!==d&&"m3u"!==d&&"swf"!==d)||(g=!0);return g}function k(d,g){var a,b;a=g?{}:[];try{var e=d.slice(d.indexOf("?")+1).split("&"),c;for(c=0;c<e.length;c++){b=e[c].split("=");g||a.push(b[0]);var f=b[1];if(g){var h=f;try{h=decodeURIComponent(h)}catch(k){try{h=unescape(h)}catch(l){}}f=h}a[b[0]]||(a[b[0]]=f)}}catch(k){a={}}return a}
function p(d,g){g=g.trim();var a=g.split("//");return 1<a.length?(a[0]=d,a.join("//")):!1}function m(d,g,a){if("undefined"===typeof a||0>a)a="";var b=((new Date).getTime()-g.loadAdTime)/1E3,b=b.toFixed(1);q(CEDATO_EVENT_LOGGER.E_LOADED,d,g,{time:b,memUsed:a},e);w(g)&&CEDATO_EVENT_LOGGER.log(CEDATO_EVENT_LOGGER.E_SERVED_AND_START,d,{},{playerId:g.playerId},e)}function q(d,g,a,b,e){w(a)&&(a.cedatoxPlayerId=null,a.cedatoxVastId=a.cxvid,a.chosenVastId=null,a.parentPlayerId=a.cxpid,CEDATO_EVENT_LOGGER.log(d,
g,a,b,e),a.cedatoxPlayerId=a.playerId,a.cedatoxVastId=null,a.chosenVastId=a.vastId,a.parentPlayerId=null,CEDATO_UTILS.extend(b,{playerId:a.cxpid,vastId:a.cxvid}));CEDATO_EVENT_LOGGER.log(d,g,a,b,e)}function u(d){if(""!=d.debugLog){d.bSubmitted+=d.debugLog.length;if(5E5<d.bSubmitted||18E4<(new Date).getTime()-d.startTime)d.debugLog="last packet",d.keepDebugLog=!1;d.debugLogLastSubmitted=Number((new Date).getTime());var g=d.debugLog;d.debugLog="";var a=(new Date).getTime();d=d.protocol+"//"+d.machineId+
"/sdl?se="+encodeURIComponent(d.sessionId)+"&sid="+encodeURIComponent(d.subid)+"&domain="+encodeURIComponent(d.domain)+"&cb="+a+"&p="+d.playerId+"&pv="+d.playerVersion+"&r="+encodeURIComponent(d.debugLogReason);CEDATO_HTTP.sendPixel(d,g,!1)}}function n(d){if(1E5>d.debugLogBuffer.length)d.debugLog=d.debugLogBuffer;else{d.debugLog=d.debugLogBuffer.substr(d.debugLogBuffer.length-1E5);var g=d.debugLog.indexOf("\n");d.debugLog=-1===g?"":d.debugLog.substr(g+1)}d.debugLogBuffer=""}function w(d){return null!=
d.cxpid&&null!=d.cxvid}function y(d,g,a,b,e){d.debugLog="";d.debugLogBuffer="";d.debugLogLastSubmitted=(new Date).getTime();d.logDebugToConsole=g;d.keepDebugLog=a;d.keepDetailedDebugLog=b;d.logToHTML=e;d.debugLogBuffer="";d.bSubmitted=0;d.debugLogSubmittedDueToException=!1;e&&(g=f.document.createElement("div"),a=f.document.createElement("pre"),g.style.cssText="border: 1px solid; height: 300px; width: 1200px; resize: both; overflow: auto;",g.appendChild(a),f.document.body.appendChild(g),d.debugDocElement=
a)}function e(d,g,a){if(!a||d.keepDetailedDebugLog)if(d.logDebugToConsole&&f.console&&f.console.log((new Date).getTime()+"\t"+g),d.logToHTML&&(d.debugDocElement.innerHTML+=g+"<br>"),g=f.JSON&&f.JSON.stringify?JSON.stringify(g):'"'+g+'"',g=(new Date).getTime()+"\t"+g+"\n",a=g.length,1E5<a&&(g=(new Date).getTime()+"\ttruncated line\n",a=g.length),d.keepDebugLog){var b=d.debugLog.length;0<b&&1E5<b+a&&u(d);d.debugLog+=g;(3E3<(new Date).getTime()-d.debugLogLastSubmitted||1E5<d.debugLog.length)&&u(d)}else d.debugLogBuffer&&
1E7<d.debugLogBuffer.length||(d.debugLogBuffer+=g)}function F(d,g){try{var b=a.createElement("script"),c=a.getElementsByTagName("head")[0]||a.documentElement;b.setAttribute("type","text/javascript");var f=d,f=p(g.protocol,f),h=(new Date).getTime(),f=f.replace(/\[CB\]/g,h),f=f.replace(/\[DIVID\]/g,g.divId),h="";g.callingFlashObject&&g.callingFlashObject.id&&(h=g.callingFlashObject.id);f=f.replace(/\[FLASHID\]/g,h);b.src=f;e(g,"gpv requested script: "+f,!1);c.appendChild(b)}catch(ba){}}function C(){var d=
a.createElement("iframe");d.src="about:blank";d.width="100%";d.height="100%";d.id="vjs"+Math.floor(5E3*Math.random());d.setAttribute("frameBorder","0");d.setAttribute("scrolling","no");d.style.position="absolute";d.style.left="0px";d.style.top="0px";d.style.overflow="hidden";return d}function A(d,g,b){d=a.createElement("div");d.style.zIndex="0";d.style.width="100%";d.style.height="100%";d.style.position="absolute";d.style.top="0px";d.style.left="0px";d.style.margin="0";d.style.padding="0";d.id="vpaidContainerDiv_"+
b+"_"+Math.floor(5E3*Math.random());return d}function G(d,g,a,b){var c=A(a.width,a.height,b.vastId);b.jsVPAIDElementDiv=c;a.divElem.appendChild(c);var h=C();b.jsVpaidFrame=h;var ba=!1,k=!1,l=f,Ma=b.vastId+"_"+b.uniqId,p=function(f){if(f.origin===l.location.origin&&JSON.parse(f.data).id===Ma){f=h.contentWindow&&h.contentWindow.document;if(!f)return!1;l.removeEventListener("message",p);f.body.style.margin="0";f.body.style.padding="0";var n;a.usejsv&&a.mainAutoplay?(n=f.createElement("script"),n.setAttribute("type",
"text/javascript"),n.src=a.protocol+"//"+a.conf.pJsvUrl,n.addEventListener("load",function(){(ba=!0,k)&&g(a,b)},!1),f.body.appendChild(n)):ba=!0;n=f.createElement("script");n.setAttribute("type","text/javascript");n.src=d;n.attachEvent&&n.attachEvent("onreadystatechange",function(){"complete"!=n.readyState&&"loaded"!=n.readyState||g(a,b)});n.addEventListener&&n.addEventListener("load",function(){k=!0;ba&&k&&g(a,b)},!1);var m=f.createElement("div");m.id="vpaid-js-ad-elem";m.style.margin="0";m.style.padding=
"0";m.style.width="100%";m.style.height="100%";m.style.position="absolute";m.style.left="0";m.style.top="0";b.vpaidJsIframeAdElem=m;c.appendChild(m);f.body.appendChild(n);b.companionHTML&&(b.companionsElementDiv=null,b.companionsElementDiv=f.createElement("div"),b.companionsElementDiv.setAttribute("style","width:100%;height:100%;position:relative;top:-"+a.height+"px; z-index: 0; "),m.appendChild(b.companionsElementDiv),b.companionsElementDiv&&(e(a,"vastId "+b.vastId+" - companionHTML: "+b.companionHTML,
!1),b.companionsElementDiv.innerHTML=b.companionHTML))}};f.cedatoWinId="cwi"+Math.floor(5E3*Math.random());var n,m;try{n=c.ownerDocument,m=n.defaultView||n.parentWindow,m.cedatoWinId!==f.cedatoWinId&&(l=m)}catch(q){}c.appendChild(h);n=h.contentWindow&&h.contentWindow.document;if(!n)return!1;l.addEventListener("message",p);m="";try{if(l.location.hostname){var r="http:";l.location.protocol&&(r=l.location.protocol);m=r+"//"+l.location.hostname}}catch(q){}e(a,"vastId writing iframe content",!1);n.write('<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="UTF-8">\n</head>\n<body><script>var orig = window.location.origin;if(!orig||orig==\'null\'){orig=\''+
m+'\'}parent.postMessage(\'{"event": "ready", "id": "'+Ma+"\"}', orig);\n\x3c/script>\n</body>\n</html>\n")}function B(d,g){try{e(d,"vastId "+g.vastId+" - playPlayer",!1);e(d,"playPlayer: hiding all vasts but "+g.vastId,!0);for(var a=0,b=d.plist.length;a<b;a++)if(d.plist[a].vastId!=g.vastId||d.plist[a].uniqId!=g.uniqId)d.parallelStartAd&&5==d.plist[a].tlvState||na(d,d.plist[a]);if("flvpaid"==g.adType||"jsvpaid"==g.adType)g.durationKnown?e(d,"vastId "+g.vastId+" - playPlayer: has already known duration of: "+
g.duration,!1):(g.duration=60,e(d,"vastId "+g.vastId+" - playPlayer: no known duration, setting to 60",!1));else if("video"==g.adType&&!g.durationKnown){g.durationKnown=!0;try{g.duration=g.videoElement.duration}catch(c){}e(d,"vastId "+g.vastId+" - playPlayer: duration taken from video element: "+g.duration,!1)}g.vtClickThroughFunc=function(d,g){try{var a,b;this.playerData&&this.playerData.playersStorageName&&(g=this.playerData);a=f[g.playersStorageName];b=g.vastId;e(a,"vastId "+b+" - tracker onClickthrough",
!1);d&&f.open(d,"_blank");a.apiInterface.trigger("click",{url:d,vastId:g.vastId})}catch(E){t(a,b,3,"tracker onClickthrough gave JS exception: ",E,g)}};g.vtFirstQuartileFunc=function(d){try{var g,a;this.playerData&&this.playerData.playersStorageName&&(d=this.playerData);g=f[d.playersStorageName];a=d.vastId;e(g,"vastId "+a+" - tracker on-firstQuartile",!1);var b;try{b=d.vastTracker.duration/4}catch(E){b=d.duration/4}b=b.toFixed(2);q(CEDATO_EVENT_LOGGER.E_MIDS,g,d,{duration:b},e)}catch(E){t(g,a,3,"tracker on firstQuartile gave JS exception: ",
E,d)}};g.vtAdVideoStartFunc=function(d){try{var g,a;this.playerData&&this.playerData.playersStorageName&&(d=this.playerData);g=f[d.playersStorageName];a=d.vastId;e(g,"vastId "+a+" - tracker on-AdVideoStart",!1);var b;try{b=d.vastTracker.duration/4}catch(E){b=d.duration/4}b=b.toFixed(2);q(CEDATO_EVENT_LOGGER.E_MIDS,g,d,{duration:b},e)}catch(E){t(g,a,3,"tracker on AdVideoStart gave JS exception: ",E,d)}};g.vtMidPointFunc=function(d){try{var g,a;this.playerData&&this.playerData.playersStorageName&&(d=
this.playerData);g=f[d.playersStorageName];a=d.vastId;e(g,"vastId "+a+" - tracker on-midpoint",!1);var b=d.duration/4,b=b.toFixed(2);q(CEDATO_EVENT_LOGGER.E_MIDS,g,d,{duration:b},e)}catch(E){t(g,a,3,"tracker onmidpoint gave JS exception: ",E,d)}};g.vtThirdQuartileFunc=function(d){try{var g,a;this.playerData&&this.playerData.playersStorageName&&(d=this.playerData);g=f[d.playersStorageName];a=d.vastId;e(g,"vastId "+a+" - tracker on-thirdQuartile",!1);var b=d.duration/4,b=b.toFixed(2);q(CEDATO_EVENT_LOGGER.E_MIDS,
g,d,{duration:b},e)}catch(E){t(g,a,3,"tracker onthirdQuartile gave JS exception: ",E,d)}};g.vtCompleteFunc=function(d){try{var g,a;this.playerData&&this.playerData.playersStorageName&&(d=this.playerData);g=f[d.playersStorageName];a=d.vastId;e(g,"vastId "+a+" - tracker on-complete",!1);g.anyPlaying=aa(g,a);g.anyPlaying||ca(g);var b=d.duration/4,b=b.toFixed(2);q(CEDATO_EVENT_LOGGER.E_END,g,d,{duration:b},e);g.apiInterface.trigger("adcomplete",{vastId:a});null!=d.startAdSwitcher&&(clearTimeout(d.startAdSwitcher),
d.startAdSwitcher=null)}catch(E){t(g,a,3,"tracker on complete gave JS exception: ",E,d)}};g.vtErrorFunc=function(d){try{var g=f[this.playerData.playersStorageName];e(g,"vast tracker on error vastId"+d.vastId,!1)}catch(a){t(g,d.vastId,3,"tracker onerror gave JS exception: ",a,d)}};g.skipVastTracker?e(d,"vastId "+g.vastId+" - playPlayer: no need for our vastTracker",!1):(e(d,"vastId "+g.vastId+" - playPlayer: initializing vastTracker",!1),null==g.creative.trackingEvents?(g.creative.trackingEvents=[],
e(d,"added trackingEvents",!1)):e(d,"had trackingEvents",!1),g.vastTracker=new d.DMVAST.tracker(g.ad,g.creative),g.vastTracker.playerData=g,e(d,"vastId "+g.vastId+" - playPlayer: vastTracker set",!1),!g.durationKnown&&g.vastTracker.duration&&0<g.vastTracker.duration&&(g.duration=g.vastTracker.duration,e(d,"vastId "+g.vastId+" - playPlayer: duration from tracker: "+g.duration,!1)),g.vastTracker.playerId=d.playerId,g.vastTracker.subid=d.subid,g.vastTracker.domain=d.domain,g.vastTracker.vastId=g.vastId,
g.vastTracker.duration=g.duration,g.vastTracker.setDuration(g.duration),e(d,"vastId "+g.vastId+" - playPlayer: creating events",!1),g.vastTracker.on("clickthrough",g.vtClickThroughFunc),g.vastTracker.on("firstQuartile",g.vtFirstQuartileFunc),g.vastTracker.on("midpoint",g.vtMidPointFunc),g.vastTracker.on("thirdQuartile",g.vtThirdQuartileFunc),g.vastTracker.on("complete",g.vtCompleteFunc),g.vastTracker.on("error",g.vtErrorFunc),e(d,"vastId "+g.vastId+" - playPlayer: events ready",!1));d.scheduledPixelSent||
(e(d,"vastId "+g.vastId+" - playPlayer: first play - logging scheduled pixel",!1),d.scheduledPixelSent=!0,CEDATO_EVENT_LOGGER.log(CEDATO_EVENT_LOGGER.E_SCHEDULED,d,{},{},e));e(d,"vastId "+g.vastId+" - playPlayer: playing media",!1);d.parallelStartAd||q(CEDATO_EVENT_LOGGER.E_REQUEST,d,g,{},e);g.adImpressionCount=0;g.gotLastAdImpressionOn=null;g.adStartCount=0;g.startAdTime=(new Date).getTime();if("flvpaid"==g.adType||"jsvpaid"==g.adType){d.singleVPW?d.callingFlashObject&&"flvpaid"==g.adType&&(d.divElem.style.display=
"none"):("flvpaid"==g.adType&&(g.flashElementDiv.style.zIndex="9999",g.flashElementDiv.style.position="relative",g.flashElementDiv.style.left="0px",g.flashElementDiv.style.top="0px"),"jsvpaid"==g.adType&&g.flashElementDiv&&(g.flashElementDiv.style.display="none"),d.rootDivElem.style.top="0px");var K,h;try{if(g.vpaidPlaying=1,g.tlvState=5,e(d,"vastId "+g.vastId+" - startAd called, uniqId: "+g.uniqId,!1),"flvpaid"===g.adType&&(h="vpw disappeared",K=g.flashElement[g.flashEICallbacks]("vpwStartAd",g.uniqId)),
"jsvpaid"===g.adType){h="external js exception";try{d.allowSound||!g.jsVPAIDElement.setAdVolume||d.usejsv||g.jsVPAIDElement.setAdVolume(0)}catch(c){}K=g.jsVPAIDElement.startAd();if("undefined"===typeof K||K)K="1"}}catch(c){t(d,g.vastId,5,"startAd failed - "+h+": "+c.message,!1,g);g.vpaidPlaying=0;g.tlvState=10;g.errorCount+=100;I(g,0);"flvpaid"===g.adType&&W(d,g,"startAd");return}if("1"==K)g.sureFastStart=g.expectedSureFastStart;else{g.vpaidPlaying=0;var ba=d.parallelStartAd,a="no reason given";try{"flvpaid"==
g.adType&&(a=g.flashElement[g.flashEICallbacks]("getLastError",g.uniqId)),"jsvpaid"==g.adType&&(a="external js expcetion")}catch(c){a="getLastError gave exception: "+c.message}t(d,g.vastId,5,"startAd failed - "+a,!1,g,ba);g.tlvState=10;g.errorCount+=100;"flvpaid"==g.adType&&J(d,g,!0);I(g,0);return}if(d.parallelStartAd&&(null!=g.startAdHalfStopper&&(clearTimeout(g.startAdHalfStopper),g.startAdHalfStopper=null),5==g.tlvState)){var k=function(d,g){g.startAdHalfStopper=null;e(d,"vastId "+g.vastId+" - half stopper point, starting more if ready",
!1);Q(d,"any")};g.startAdHalfStopper=CEDATO_BROWSER.oldIE?setTimeout(function(){k(d,g)},7E3):setTimeout(k,7E3,d,g)}null!=g.startAdStopper&&(clearTimeout(g.startAdStopper),g.startAdStopper=null);if(5==g.tlvState){ba=2E4;g.longStartAd&&(ba=35E3);var l=function(d,g){if("flvpaid"===g.adType)try{g.flashElement[g.flashEICallbacks]("vpwStopAd",g.uniqId)}catch(a){}else if("jsvpaid"===g.adType)try{g.jsVPAIDElement.stopAd()}catch(a){}else if("video"===g.adType)try{g.videoElement.pause()}catch(a){}g.startAdStopper=
null;g.vpaidPlaying=0;t(d,g.vastId,60,"gave up on startAd",!1,g,d.parallelStartAd);g.tlvState=10;g.errorCount+=100;"flvpaid"==g.adType&&J(d,g,!0);I(g,0);H(d)};g.startAdStopper=CEDATO_BROWSER.oldIE?setTimeout(function(){l(d,g)},ba):setTimeout(l,ba,d,g)}}else"video"==g.adType&&(g.videoElement.style.display="block",g.videoElement.style.zIndex="9999",g.tlvState=5,g.sureFastStart=!0,g.videoElement.play());e(d,"vastId "+g.vastId+" - playPlayer: done",!1)}catch(c){t(d,g.vastId,3,"playPlayer issue: ",c,g)}}
function r(d,g){d.callingFlashObject&&!g.flashPrevStyle&&(g.flashPrevStyle={position:g.flashElement.style.position,top:g.flashElement.style.top,left:g.flashElement.style.left},g.flashElement.style.position="absolute",g.flashElement.style.top="-1000px",g.flashElement.style.left="-1000px",d.rootDivElem.style.top="0px",d.divElem.style.top="0px")}function D(d,g){d.callingFlashObject&&g.flashPrevStyle&&(g.flashPrevStyle.position&&(g.flashElement.style.position=g.flashPrevStyle.position),g.flashElement.style.top=
g.flashPrevStyle.top,g.flashElement.style.left=g.flashPrevStyle.left,d.divElem.style.display="none",d.rootDivElem.style.display="none",g.flashPrevStyle=null)}function H(d,g){"undefined"===typeof g&&(g=!1);if(!d.autoplay&&!g)return e(d,"manual mode - not trying to auto play",!1),!1;var a="any";d.readyForStartAd||(a="1");return Q(d,a)}function Q(d,g){e(d,"playNextVast called, group: "+g,!1);if(d.anyPlaying)return e(d,"still playing previous media",!1),!1;if(d.parallelStartAd){for(var a=!1,b=0,c=d.plist.length;b<
c;b++){var f=d.plist[b];if(5==f.tlvState&&f.sureFastStart){if(3>((new Date).getTime()-f.startAdTime)/1E3)return e(d,"vastId "+f.vastId+" - is sure fast starter and is trying to start - quiting",!1),!1;e(d,"vastId "+f.vastId+" - is sure fast starter and is trying to start but passed grace time",!1)}}b=0;for(c=d.plist.length;b<c;b++)if(f=d.plist[b],e(d,"vastId "+f.vastId+" tlvState is: "+f.tlvState,!0),4==f.tlvState)if("any"==g||f.group==g){e(d,"vastId "+f.vastId+" tlvState is ready to play",!1);a=
!0;B(d,f);if(d.anyPlaying)return!0;if(f.sureFastStart)return e(d,"vastId "+f.vastId+" - sure fast start - breaking",!1),!0}else e(d,"vastId "+f.vastId+" - is ready but on different group",!1);return a}a=!1;b=0;for(c=d.plist.length;b<c;b++)f=d.plist[b],e(d,"vastId "+f.vastId+" tlvState is: "+f.tlvState,!0),4==f.tlvState&&(a?f.errorCount<a.errorCount&&(a=f):a=f);if(a)return e(d,"vastId "+a.vastId+" tlvState is ready to play",!1),d.anyPlaying=!0,"vpaid"==d.mode&&(d.autoplay=!1),B(d,a),!0;e(d,"no vast is ready to play",
!0);return!1}function N(d,g){e(d,"freezing players",!1);d.frozen=!0;Na(d,g);if(g)e(d,"leaving players objects for now",!1);else if(e(d,"removing players objects",!1),null!=d.initialStartAd&&(clearTimeout(d.initialStartAd),d.initialStartAd=null),null!=d.domLoadTimeout&&(clearTimeout(d.domLoadTimeout),d.domLoadTimeout=null),null!=d.reportVPWStateInterval&&(clearInterval(d.reportVPWStateInterval),d.reportVPWStateInterval=null),d.callingFlashObject)try{d.callingFlashObjectParent.removeChild(d.companionsRootDivElem),
d.callingFlashObjectParent.removeChild(d.rootDivElem)}catch(a){e(d,"removing root divs gave exception: "+a.message,!1)}}function Z(d,g,a,b){var c=z(d,g);if(c){var f=c.vastId;e(d,"vastId "+f+" - adImpression called for uniqId: "+g,!1);if("undefined"===typeof b||0>b)b="";"jsvpaid"==c.adType?(c.jsVPAIDElementDiv.style.zIndex="10000",c.jsVPAIDElementDiv.style.position="absolute",c.vpaidJsIframeAdElem&&(c.vpaidJsIframeAdElem.style.zIndex="10000"),c.vpaidJsIframeVideo&&(c.vpaidJsIframeVideo.style.margin=
"0",c.vpaidJsIframeVideo.padding="0",c.vpaidJsIframeVideo.top="0px",c.vpaidJsIframeVideo.style.left="0px",c.vpaidJsIframeVideo.style.position="absolute"),d.callingFlashObject&&r(d,c)):"flvpaid"!=c.adType||d.singleVPW?"video"==c.adType&&(c.videoElement.style.zIndex="10000",c.videoElement.style.position="absolute",d.callingFlashObject&&r(d,c)):(c.flashElementDiv.style.zIndex="10000",c.flashElementDiv.style.position="absolute",c.flashElementDiv.style.left="0px");d.contentUrlPlayer&&d.contentUrlPlayer.hideContent();
if(!d.anyAdPlayed){d.anyAdPlayed=!0;var h=((new Date).getTime()-d.startTime)/1E3,h=h.toFixed(1);CEDATO_EVENT_LOGGER.log(CEDATO_EVENT_LOGGER.E_ADPLAYED,d,{},{},e);0>h&&(d.debugLogReason="negative adplayed",n(d),u(d))}w(c)&&CEDATO_EVENT_LOGGER.log(CEDATO_EVENT_LOGGER.E_ADPLAYED,d,{},{playerId:c.playerId},e);if(null!=c.gotLastAdImpressionOn&&3E3>(new Date).getTime()-c.gotLastAdImpressionOn)return e(d,"vastId "+f+" - second ad impression too soon - ignoring",!1),!0;d.submitDebugLogOnVastDisplayed!=c.vastId||
c.keepDebugLog||(n(d),u(d),d.keepDebugLog=!0);if(c.skipVastTracker||null!=c.vastTracker){if(d.parallelStartAd&&d.anyPlaying&&6!=c.tlvState&&7!=c.tlvState){t(d,f,64,"stopped due to parallel double started",!1,c);if("flvpaid"==c.adType)try{c.flashElement[c.flashEICallbacks]("vpwStopAd",c.uniqId)}catch(k){e(d,"parallel dbl-started stopAd of flash vpaid "+c.vastId+" gave exception: "+k.message,!1)}else if("jsvpaid"==c.adType)try{c.jsVPAIDElement.stopAd()}catch(k){e(d,"parallel stopAd of js vpaid "+c.vastId+
" gave exception: "+k.message,!1)}else"video"==c.adType&&c.videoElement.pause();c.tlvState=10;d.frozen||("flvpaid"==c.adType&&J(d,c,!0),I(c,0));return!1}c.tlvState=6;c.gotLastAdImpressionOn=(new Date).getTime();if(d.parallelStartAd){d.anyPlaying=!0;"vpaid"==d.mode&&(d.autoplay=!1);e(d,"parallel startAd mode - stopping any other opened startAd",!1);q(CEDATO_EVENT_LOGGER.E_REQUEST,d,c,{},e);for(var l=0,p=d.plist.length;l<p;l++){var m=d.plist[l];if(m.vastId!=f&&5==m.tlvState){e(d,"vastId "+m.vastId+
" - parallel startAd mode - stopping - vastId "+f+" started playing",!1);t(d,m.vastId,63,"stopped due to parallel started",!1,m);m.tlvState=10;if("flvpaid"==m.adType)try{m.flashElement[m.flashEICallbacks]("vpwStopAd",m.uniqId)}catch(k){e(d,"parallel stopAd of flash vpaid "+m.vastId+" gave exception: "+k.message,!1)}else if("jsvpaid"==m.adType)try{m.jsVPAIDElement.stopAd()}catch(k){e(d,"parallel stopAd of js vpaid "+m.vastId+" gave exception: "+k.message,!1)}else"video"==m.adType&&m.videoElement.pause();
na(d,m);"flvpaid"==m.adType&&J(d,m,!0);I(m,0)}}e(d,"parallel startAd mode - stopping any other opened startAd - done",!1)}var h=0,U=g="";try{l=0;for(p=d.plist.length;l<p;l++)if(m=d.plist[l],"flvpaid"==m.adType&&m.flashElement&&m.flashEICallbacks)try{var v=m.flashElement[m.flashEICallbacks]("getMem");if(isNaN(v))U=U+m.vastId+" - NaN, ";else{h+=parseFloat(v);U=U+m.vastId+" - "+v+", ";break}}catch(k){U=U+m.vastId+" - exception: "+k.message+", "}else U="flvpaid"!=m.adType?U+m.vastId+" - not flash, ":
m.flashElement?m.flashEICallbacks?U+m.vastId+" - unknown reason, ":U+m.vastId+" - no callbacks, ":U+m.vastId+" - no flash element, ";g=h}catch(k){U="exception: "+k.message}e(d,"memory check: "+U,!1);h=((new Date).getTime()-c.startAdTime)/1E3;h=h.toFixed(1);l=0;"flvpaid"==c.adType&&(l=c.isIMA?2:1);"jsvpaid"==c.adType&&(l=c.isIMA?4:3);c.hasFlashVPAID&&c.hasJSVPAID&&(l=5);q(CEDATO_EVENT_LOGGER.E_ADSTART,d,c,{time:h,roundNo:c.roundNo,memUsed:b,totalMemS:g,vastType:l},e);d.apiInterface.trigger("adstart",
{vastId:f});c.adImpressionCount++;1<c.adImpressionCount?(t(d,c.vastId,61,"double impression: "+c.adImpressionCount,!1,c),q(CEDATO_EVENT_LOGGER.E_REQUEST,d,c,{},e)):c.skipVastTracker||c.vastTracker.load();if("vpaid"==d.mode)return e(d,"vastId "+f+" - has calling VPAID object - calling events",!1),a&&d.vpaidObj.call("jsAdStarted",{},!0),d.vpaidObj.call("jsAdImpression",{},!0),N(d,c.vastId),!0;d.curAdStarts++;if(d.maxAdStarts&&d.curAdStarts>=d.maxAdStarts)return e(d,"vastId "+f+" - reached maximum number of allowed ad starts, freezing",
!1),N(d,c.vastId),!0;null!=c.sameVastIdLoader&&(clearTimeout(c.sameVastIdLoader),c.sameVastIdLoader=null);if(!d.frozen){var A=function(d,g){try{g.sameVastIdLoader=null;e(d,"vastId "+g.vastId+" - same vastId loader",!1);e(d,"vastId "+g.vastId+" - duplicating player data",!1);var a=[];a.id=g.vastId;a.url=g.vastURL;a.group=g.group;a.lsa=g.longStartAd;a.pid=g.playerId;a.mvr=g.maxFailedVastRetries;a.vt=g.vastPreferType;a.ct=g.corsType;a.cxvid=g.cxvid;a.cxpid=g.cxpid;a.fetchesSinceInitPlayer=g.fetchesSinceInitPlayer;
for(var b=!1,E=0,c=d.plist.length;E<c;E++)if(d.plist[E].vastId==g.vastId){b=E;break}var f=Oa(d,a,b);f.duplicatedNow=!0;d.domReady&&d.vpwCached&&Pa(d,f);pa(f)}catch(qa){t(d,g.vastId,3,"svi gave JS exception: ",qa,g)}};c.sameVastIdLoader=CEDATO_BROWSER.oldIE?setTimeout(function(){A(d,c)},5E3):setTimeout(A,5E3,d,c)}null!=c.startAdSwitcher&&(clearTimeout(c.startAdSwitcher),c.startAdSwitcher=null);if(!d.allowLongImpressions){var y=function(d,g){try{t(d,g.vastId,62,"long impression",!1,g),g.startAdSwitcher=
null,g.vpaidPlaying=0,g.tlvState=10,S(d,g),d.anyPlaying=aa(d,g.vastId),d.anyPlaying||ca(d),H(d)}catch(a){t(d,g.vastId,3,"sas gave JS exception: ",a,g)}};c.startAdSwitcher=CEDATO_BROWSER.oldIE?setTimeout(function(){y(d,c)},6E4):setTimeout(y,6E4,d,c)}}else e(d,"vastId "+f+" - no vast tracker",!1),I(c,0);return!0}e(d,"adImpression called for a gone uniqId: "+g,!1);L(d,3,"adImpression called for a gone uniqId")}function X(d,g){try{var a;a=c(d);a.setAttribute("style","height:100% !important;");a.style.width=
"100%";a.style.zIndex=(9994-g.uniqId).toString();a.style.position="relative";a.style.top="0px";a.style.left="0px";a.style.backgroundColor="black";g.firstPlayEventTriggered=!1;l(a,"play",function(){try{d.apiInterface.trigger("adplay",{vastId:g.vastId,playerId:d.playerId,subid:d.subid}),"vpaid"==d.mode&&d.vpaidObj.call("jsAdDurationChange",{duration:(g.duration?g.duration:a.duration).toFixed(2)},!0),e(d,"vastId "+g.vastId+" - onplay",!1),g.firstPlayEventTriggered?e(d,"vastId "+g.vastId+" - already handled play event",
!1):(g.firstPlayEventTriggered=!0,5!=g.tlvState?e(d,"vastId "+g.vastId+" - invalid state, was probably stopped - "+g.tlvState,!1):Z(d,g.uniqId,!0)&&("vpaid"==d.mode&&d.vpaidObj.call("jsAdVideoStart",{},!0),g.errorCount=0,e(d,"vastId "+g.vastId+" - onplay done",!1)))}catch(b){t(d,g.vastId,3,"video onplay gave JS exception: ",b,g)}});l(a,"timeupdate",function(){try{if(!(3>g.tlvState||10==g.tlvState||"video"!=g.adType)){null!=g.vastTracker&&g.vastTracker.setProgress(a.currentTime);var b=a.duration-a.currentTime,
c=a.duration;"vpaid"==d.mode&&(d.vpaidObj.call("jsAdRemainingTimeChange",{remainingTime:b.toFixed()},!0),a.currentTime.toFixed()==(c/4).toFixed()&&d.vpaidObj.call("jsAdFirstQuartile",{},!0),a.currentTime.toFixed()==(c/3).toFixed()&&d.vpaidObj.call("jsAdMidpoint",{},!0),a.currentTime.toFixed()==(c/4*3).toFixed()&&d.vpaidObj.call("jsAdThirdQuartile",{},!0))}}catch(e){t(d,g.vastId,3,"video ontimeupdate gave JS exception: ",e,g)}});l(a,"click",function(a){try{e(d,"vastId "+g.vastId+" - video onclick",
!1),g.vastTracker&&g.vastTracker.click(),d.apiInterface.trigger("click",{url:a,vastId:g.vastId}),"vpaid"==d.mode&&d.vpaidObj.call("jsAdClickthrough",{url:a},!0)}catch(b){t(d,g.vastId,3,"video onclick gave JS exception: ",b,g)}});l(a,"error",function(a){try{if(!(3>g.tlvState||10==g.tlvState||"video"!=g.adType)){e(d,"vastId "+g.vastId+" - video onerror",!1);var b=!1;3==g.tlvState&&(b=!0);D(d,g);g.tlvState=10;var c=-1;a.target.error.code&&a.target.error.code&&(c=a.target.error.code);t(d,g.vastId,4,"video player error code: "+
c,!1,g,b);H(d);g.errorCount=5<=g.tlvState?g.errorCount+100:g.errorCount+1;I(g,0)}}catch(E){t(d,g.vastId,3,"video onerror gave JS exception: ",E,g)}});l(a,"canplay",function(){try{if(e(d,"vastId "+g.vastId+" - video oncanplay",!1),"video"!=g.adType)e(d,"vastId "+g.vastId+" - adType not video: "+g.adType,!1);else if(4<g.tlvState)e(d,"vastId "+g.vastId+" - video oncanplay but state is "+g.tlvState,!1);else{null!=g.playVideoRetry&&(clearInterval(g.playVideoRetry),g.playVideoRetry=null);g.durationKnown=
!0;try{g.duration=a.duration,g.vastTracker&&(g.vastTracker.duration=g.duration,g.vastTracker.setDuration(g.duration))}catch(b){g.durationKnown=!1}var c=d.width,f=d.height;a.style.width="100%";a.style.height="100%";c||(c=d.width,f=d.height);c>d.width&&(f=f*d.width/c,c=d.width);f>d.height&&(c=c*d.height/f,f=d.height);var c=Math.floor(c),f=Math.floor(f),h=(d.height-f)/2,h=Math.floor(h);e(d,"vastId "+g.vastId+" - video width: "+c+", height: "+f+", top: "+h,!1);a.style.cssText="background-color: black; width:100%; height:100%; position: relative; top: "+
h+"px";g.tlvState=4;if("vpaid"==d.mode)try{d.vpaidObj.call("jsAdReadyToStart",{},!0)}catch(b){t(d,g.vastId,3,"video oncanplay gave JS exception: ",b,g)}try{d.allowSound||d.usejsv||(a.volume=0)}catch(b){}H(d)}}catch(b){t(d,g.vastId,3,"video oncanplay gave JS exception: ",b,g)}});l(a,"ended",function(){try{e(d,"vastId "+g.vastId+" - video onended",!1),g.firedEvents&&g.firedEvents.complete?e(d,"vastId "+g.vastId+" - dup video ended event",!1):(g.firedEvents.complete=1,e(d,"vastId "+g.vastId+" - video onended",
!1),"vpaid"!==d.mode&&(d.anyPlaying=aa(d,g.vastId),d.anyPlaying||ca(d)),g.vastTracker?(M("firstQuartile",d,g),M("midpoint",d,g),M("thirdQuartile",d,g),g.vastTracker.complete()):t(d,g.vastId,3,"no vastTracker for ended",!1,g,!1,!1,"vastTracker error"),"vpaid"==d.mode&&(D(d,g),d.vpaidObj.call("jsAdComplete",{},!0),d.vpaidObj.call("jsAdStopped",{},!0),d.divElem.style.display="none"),CEDATO_BROWSER.oldIE?setTimeout(function(){S(d,g)},3E3):setTimeout(S,3E3,d,g),d.frozen?e(d,"vastId "+g.vastId+" - frozen - finishing here",
!1):(d.readyForStartAd&&Ca(d),H(d)))}catch(a){t(d,g.vastId,3,"video onended gave JS exception: ",a,g)}})}catch(b){t(d,g.vastId,3,"video prepare gave JS exception: ",b,g)}return a}function M(d,g,a){d&&g&&a&&a.vastTracker.quartiles&&a.vastTracker.quartiles[d]&&(d=a.vastTracker.quartiles[d],!a.vastTracker.progress||a.vastTracker.progress<=d)&&(e(g,"vastId "+a.vastId+" - advancing progress accordingly",!1),a.vastTracker.setProgress(d))}function W(d,g,a){e(d,"vastId "+g.vastId+" - "+a+" resulted in exception, vpw disappeared",
!1);10<g.vpwLoadRetry?(t(d,g.vastId,25,a+" gave up on vpw",!1,g),e(d,"vastId "+g.vastId+" - "+a+"  too many errors - giving up",!1),g.tlvState=10):(e(d,"vastId "+g.vastId+" - "+a+"  - allowing vpw to reload",!1),J(d,g,!0),e(d,"vastId "+g.vastId+" - "+a+"  - allowing vpw to reload - done",!1))}function T(d,a){try{var b=f[a.playersStorageName];CEDATO_BROWSER.oldIE?setTimeout(function(){ga(b,a.uniqId)},10):setTimeout(ga,0,b,a.uniqId);e(b,"vastId "+a.vastId+" - got js adLoaded event",!1)}catch(c){t(b,
a.vastId,3,"jsVpaidAdLoaded callback gave JS exception: ",c,a)}}function R(d,a){try{var b=f[a.playersStorageName];"undefined"===typeof d?d="no message":"string"!==typeof d&&(d=d.message?d.message:d.data&&d.data.message?d.data.message:"Couldnt extract error message");CEDATO_BROWSER.oldIE?setTimeout(function(){sa(b,a.uniqId,d)},10):setTimeout(sa,0,b,a.uniqId,d);e(b,"vastId "+a.vastId+" - got js adError event: "+d,!1)}catch(c){t(b,a.vastId,3,"jsVpaidAdError callback gave JS exception: ",c,a)}}function V(d,
a){try{var b=f[a.playersStorageName];CEDATO_BROWSER.oldIE?setTimeout(function(){ha(b,a.uniqId)},0):setTimeout(ha,0,b,a.uniqId);try{b.allowSound||!a.jsVPAIDElement.setAdVolume||b.usejsv||a.jsVPAIDElement.setAdVolume(0)}catch(c){}e(b,"vastId "+a.vastId+" - got js adStarted event: ",!1)}catch(c){t(b,a.vastId,3,"jsVpaidAdStarted callback gave JS exception: ",c,a)}}function da(d,a){try{var b=f[a.playersStorageName];CEDATO_BROWSER.oldIE?setTimeout(function(){ia(b,a.uniqId)},10):setTimeout(ia,0,b,a.uniqId);
e(b,"vastId "+a.vastId+" - got js adImpression event: ",!1);try{b.allowSound||!a.jsVPAIDElement.setAdVolume||b.usejsv||a.jsVPAIDElement.setAdVolume(0)}catch(c){}}catch(c){t(b,a.vastId,3,"jsVpaidAdImpression callback gave JS exception: ",c,a)}}function O(d,a){try{var b=f[a.playersStorageName];CEDATO_BROWSER.oldIE?setTimeout(function(){Qa(b,a.uniqId)},10):setTimeout(Qa,0,b,a.uniqId);try{b.allowSound||!a.jsVPAIDElement.setAdVolum||b.usejsv||a.jsVPAIDElement.setAdVolume(0)}catch(c){}e(b,"vastId "+a.vastId+
" - got js AdVideoStart event",!1)}catch(c){t(b,a.vastId,3,"jsVPAdVideoStartFunc callback gave JS exception: ",c,a)}}function fa(d,a){try{var b=f[a.playersStorageName];CEDATO_BROWSER.oldIE?setTimeout(function(){ta(b,a.uniqId)},10):setTimeout(ta,0,b,a.uniqId);e(b,"vastId "+a.vastId+" - got js FirstQuartile event",!1)}catch(c){t(b,a.vastId,3,"jsVpaidAdFirstQuartile callback gave JS exception: ",c,a)}}function oa(d,a){try{var b=f[a.playersStorageName];CEDATO_BROWSER.oldIE?setTimeout(function(){ua(b,
a.uniqId)},10):setTimeout(ua,0,b,a.uniqId);e(b,"vastId "+a.vastId+" - got js midpoint event",!1)}catch(c){t(b,a.vastId,3,"jsVpaidAdMidpoint callback gave JS exception: ",c,a)}}function v(d,a){try{var b=f[a.playersStorageName];CEDATO_BROWSER.oldIE?setTimeout(function(){va(b,a.uniqId)},0):setTimeout(va,10,b,a.uniqId);e(b,"vastId "+a.vastId+" - got js adThirdQuartile event",!1)}catch(c){t(b,a.vastId,3,"jsVpaidAdThirdQuartile callback gave JS exception: ",c,a)}}function db(d,a){try{var b=f[a.playersStorageName];
e(b,"vastId "+a.vastId+" - got js adComplete event",!1);CEDATO_BROWSER.oldIE?setTimeout(function(){ja(b,a.uniqId)},0):setTimeout(ja,10,b,a.uniqId)}catch(c){t(b,a.vastId,3,"jsVpaidAdComplete callback gave JS exception: ",c,a)}}function fb(d,a){try{var b=f[a.playersStorageName];e(b,"vastId "+a.vastId+" - got js adStopped event",!1);CEDATO_BROWSER.oldIE?setTimeout(function(){Ra(b,a.uniqId)},10):setTimeout(Ra,0,b,a.uniqId)}catch(c){t(b,a.vastId,3,"jsVpaidAdStopped callback gave JS exception: ",c,a)}}
function eb(d,a){try{var b=f[a.playersStorageName];"undefined"===typeof d&&(d=!1);var c;try{c=a.jsVPAIDElement.getAdRemainingTime()}catch(h){c=!1}if(!c&&(c=d,!c))try{c=a.jsVPAIDElement.remainingTime}catch(h){}e(b,"vastId "+a.vastId+" - got js adRemainingTimeChange event, remainingTime:"+c,!1);c&&(CEDATO_BROWSER.oldIE?setTimeout(function(){wa(b,a.uniqId,c)},10):setTimeout(wa,0,b,a.uniqId,c),e(b,"vastId "+a.vastId+" - got js adRemainingTimeChange event, t:"+c,!1))}catch(h){t(b,a.vastId,3,"jsVpaidAdRemainingTimeChange callback gave JS exception: ",
h,a)}}function gb(d,a){try{var b=f[a.playersStorageName];"undefined"===typeof d&&(d=!1);var c;try{c=a.jsVPAIDElement.getAdDuration()}catch(h){c=!1}if(!c&&(c=d,!c))try{c=a.jsVPAIDElement.duration}catch(h){}e(b,"vastId "+a.vastId+" - got js adDurationChange event, duration:"+c,!1);c&&(CEDATO_BROWSER.oldIE?setTimeout(function(){xa(b,a.uniqId,c)},10):setTimeout(xa,0,b,a.uniqId,c),e(b,"vastId "+a.vastId+" - got js adDurationChange event, t:"+c,!1))}catch(h){t(b,a.vastId,3,"adDurationChange callback gave JS exception: ",
h,a)}}function hb(d,a){try{var b=f[a.playersStorageName];"undefined"===typeof d&&(d="");CEDATO_BROWSER.oldIE?setTimeout(function(){ya(b,a.uniqId,d)},10):setTimeout(ya,0,b,a.uniqId,d);e(b,"vastId "+a.vastId+" - got js adClickthru event, url: "+d,!1)}catch(c){t(b,a.vastId,3,"jsVpaidAdClickthru callback gave JS exception: ",c,a)}}function ib(d,a){try{e(d,"vastId "+a.vastId+" - VPAID JS script loaded",!1);var c=a.jsVpaidFrame;if(1==a.jsVPAIDType){if(!c||!c.contentWindow||!c.contentWindow.getVPAIDAd){t(d,
a.vastId,324,"couldn't find js vpaid module",!1,a);a.tlvState=10;a.errorCount+=1;I(a,0);return}var f=c.contentWindow&&c.contentWindow.document,K;K=d.usejsv&&d.mainAutoplay?new c.contentWindow.video_jsv:f.createElement("video");a.vpaidJsIframeVideo=K;K.setAttribute("preload","auto");K.style.margin="0";K.style.padding="0";K.style.top="0px";K.style.left="0px";K.style.position="absolute";K.style.width="100%";K.style.height="100%";d.allowSound||d.usejsv||(K.volume=0);if(d.usejsv&&d.mainAutoplay){var ra=
"";K.canPlayType=function(){return ra&&8<ra.length&&!h(ra)?"probably":""};K.proxyUrl=function(a){return ra=b(a,d)}}a.vpaidJsIframeAdElem.appendChild(K);d.usejsv&&d.mainAutoplay&&(a.vpaidJsIframeVideoCanvas=a.vpaidJsIframeVideo.getElementsByTagName("canvas")[0]);a.initAdEnvObject={};a.initAdEnvObject.slot=a.vpaidJsIframeAdElem;a.initAdEnvObject.videoSlot=a.vpaidJsIframeVideo;a.initAdEnvObject.videoSlotCanAutoPlay=!0;d.usejsv&&!d.mainAutoplay&&(a.initAdEnvObject.videoSlotCanAutoPlay=!1);a.jsVPAIDElement=
c.contentWindow.getVPAIDAd()}a.jsVPAIDElement?(a.jsVPAIDElement.handshakeVersion&&a.jsVPAIDElement.handshakeVersion("2.0"),1==a.jsVPAIDType&&(a.jsVPAIDElement.subscribe(function(d){T(d,a)},"AdLoaded"),a.jsVPAIDElement.subscribe(function(d){R(d,a)},"AdError"),a.jsVPAIDElement.subscribe(function(d){V(d,a)},"AdStarted"),a.jsVPAIDElement.subscribe(function(d){da(d,a)},"AdImpression"),a.jsVPAIDElement.subscribe(function(d){O(d,a)},"AdVideoStart"),a.jsVPAIDElement.subscribe(function(d){fa(d,a)},"AdVideoFirstQuartile"),
a.jsVPAIDElement.subscribe(function(d){oa(d,a)},"AdVideoMidpoint"),a.jsVPAIDElement.subscribe(function(d){v(d,a)},"AdVideoThirdQuartile"),a.jsVPAIDElement.subscribe(function(d){db(d,a)},"AdVideoComplete"),a.jsVPAIDElement.subscribe(function(d){fb(d,a)},"AdStopped"),a.jsVPAIDElement.subscribe(function(d){hb(d,a)},"AdClickThru"),a.jsVPAIDElement.subscribe(function(d){eb(d,a)},"AdRemainingTimeChange"),a.jsVPAIDElement.subscribe(function(d){gb(d,a)},"AdDurationChange")),e(d,"vastId "+a.vastId+" - VPAID JS element prepared",
!1),Da(d,a)):(t(d,a.vastId,325,"failed to create js vpaid module",!1,a),a.tlvState=10,a.errorCount+=1,I(a,0))}catch(k){t(d,a.vastId,3,"jsVpaidLoaded callback gave JS exception: ",k,a)}}function ma(d,g){e(d,"vastId "+g.vastId+" - initMediaLoad",!1);g.tlvState=2;if(g.companionHTML)try{"jsvpaid"!=g.adType&&(g.companionsElementDiv||(g.companionsElementDiv=a.createElement("div"),g.companionsElementDiv.setAttribute("style","width:100%;height:100%;position:relative;top:-"+d.height+"px;  "),d.callingFlashObject?
d.companionsDivElem.appendChild(g.companionsElementDiv):d.divElem.appendChild(g.companionsElementDiv)),g.companionsElementDiv&&(e(d,"vastId "+g.vastId+" - companionHTML: "+g.companionHTML,!1),g.companionsElementDiv.innerHTML=g.companionHTML))}catch(c){}if("flvpaid"==g.adType||"jsvpaid"==g.adType)g.durationKnown=!1,d.thirdPartyTimeout&&(-1!=g.mediaURL.indexOf("liverail.com")&&(-1==g.mediaURL.indexOf("LR_TIMEOUT_ADSOURCE")&&(g.mediaURL+="&LR_TIMEOUT_ADSOURCE="+d.thirdPartyTimeout,e(d,"vastId "+g.vastId+
" - initMediaLoad - added timeout to media file, new url: "+g.mediaURL,!1)),-1==g.mediaURL.indexOf("LR_TIMEOUT_DELIVERY")&&(g.mediaURL+="&LR_TIMEOUT_DELIVERY="+d.thirdPartyTimeout,e(d,"vastId "+g.vastId+" - initMediaLoad - added timeout to media file, new url: "+g.mediaURL,!1))),-1!=g.mediaURL.indexOf("adap.tv")&&-1==g.mediaURL.indexOf("breakLoadedTimeout")&&(g.mediaURL+="&breakLoadedTimeout="+1E3*d.thirdPartyTimeout,e(d,"vastId "+g.vastId+" - initMediaLoad - added timeout to media file, new url: "+
g.mediaURL,!1)));if("flvpaid"==g.adType){d.urlReplacer&&d.urlReplacer.vastId==g.vastId&&-1!=g.mediaURL.indexOf(d.urlReplacer.searchFor)&&(g.mediaURL=d.urlReplacer.replaceWith+g.mediaURL.substr(g.mediaURL.indexOf("?")));e(d,"vastId "+g.vastId+" - initMediaLoad - uniqId: "+g.uniqId+", flash loadAd with url "+g.mediaURL,!1);try{-1!==g.mediaURL.indexOf("[[IMPORT]]")&&(g.mediaURL=g.mediaURL.replace("[[IMPORT]]",d.protocol+"/")),g.flashElement[g.flashEICallbacks]("vpwLoadAd",g.mediaURL,g.isIMA,12E4,g.playersStorageName,
g.uniqId,d.successCallbackFuncName,d.failureCallbackFuncName,d.adLoadedCallbackFuncName,d.adErrorCallbackFuncName,d.adStartedCallbackFuncName,d.adImpressionCallbackFuncName,d.adFirstQuartileEventCallbackFundName,d.adMidpointEventCallbackFuncName,d.adThirdQuartileEventCallbackFundName,d.adCompleteEventCallbackFuncName,d.adRemainingtimeChangeCallbackFuncName,d.adDurationChangeCallbackFuncName,d.adClickthroughCallbackFuncName,d.adSetCompanionsCallbackFuncName,d.allowSound,d.width,d.height)}catch(c){g.tlvState=
1;g.errorCount++;t(d,g.vastId,5,"loadAd failed - vpw disappeared: "+c.message+" ** "+g.flashEICallbacks,!1,g);W(d,g,"initMediaLoad");return}}else if("jsvpaid"==g.adType)e(d,"vastId "+g.vastId+" - initMediaLoad - loading JS script "+g.mediaURL,!1),G(g.mediaURL,ib,d,g);else if("video"==g.adType)if(e(d,"vastId "+g.vastId+" - initMediaLoad - initializing video url to "+g.mediaURL,!0),d.divElem.appendChild(g.videoElement),m(d,g),d.usejsv){var E=b(g.mediaURL,d);g.videoElement.setAttribute("src",E);null!=
g.playVideoRetry&&(clearInterval(g.playVideoRetry),g.playVideoRetry=null);var f=function(d,a){e(d,"vastId "+a.vastId+" - jsv play video retry",!1);var g=b(a.mediaURL,d);a.videoElement.setAttribute("src",g)};g.playVideoRetry=CEDATO_BROWSER.oldIE?setInterval(function(){f(d,g)},2E4):setInterval(f,2E4,d,g)}else g.videoElement.src=g.mediaURL,g.videoElement.preload="auto",g.videoElement.autoplay="",g.videoElement.controls=d.controlBar,g.videoElement.loop="",d.allowSound||d.usejsv||(g.videoElement.volume=
0);e(d,"vastId "+g.vastId+" - initMediaLoad - done",!0)}function I(d,a){var b=f[d.playersStorageName];if(b&&z(b,d.uniqId))if(null!=d.requeryTimeout)e(b,"vastId "+d.vastId+" - requery vast already scheduled - ignoring",!1);else if(null!=d.startAdStopper&&(clearTimeout(d.startAdStopper),d.startAdStopper=null),null!=d.startAdHalfStopper&&(clearTimeout(d.startAdHalfStopper),d.startAdHalfStopper=null),null!=d.startAdSwitcher&&(clearTimeout(d.startAdSwitcher),d.startAdSwitcher=null),null!=d.playVideoRetry&&
(clearInterval(d.playVideoRetry),d.playVideoRetry=null),null!=d.initAdThrottler&&(clearInterval(d.initAdThrottler),d.initAdThrottler=null),0!=d.status){try{if(d.flashElement&&d.flashEICallbacks)d.flashElement[d.flashEICallbacks]("clearAd",d.uniqId)}catch(c){}"jsvpaid"==d.adType&&Sa(d);e(b,"vastId "+d.vastId+" - scheduling requery vast",!1);0===a&&(a=d.freqRetry?10>d.errorCount?1E3+Math.floor(500*Math.random()):100>d.errorCount?2E3+Math.floor(500*Math.random()):110>d.errorCount?2E3+Math.floor(1500*
Math.random()):1E4:1==d.errorCount?200:4>d.errorCount?1E3:10>d.errorCount?1E3*d.errorCount:100>d.errorCount?1E4:100==d.errorCount?2E3:104>d.errorCount?3E3:110>d.errorCount?6E3:3E4,a*=b.vastWaitFactor,e(b,"vastId "+d.vastId+" - wait is set to "+a+", ec: "+d.errorCount,!1));var h=function(d,a){e(d,"vastId "+a.vastId+" - requery",!1);a.requeryTimeout=null;pa(a)};d.requeryTimeout=CEDATO_BROWSER.oldIE?setTimeout(function(){h(b,d)},a):setTimeout(h,a,b,d)}}function na(d,a){a.videoElement&&(a.videoElement.style.display=
"none");null!=a.flashElementDiv&&(a.flashElementDiv.style.zIndex=(-1-a.uniqId).toString());null!=a.jsVPAIDElementDiv&&(a.jsVPAIDElementDiv.style.zIndex=(1-a.uniqId).toString());a.vpaidJsIframeAdElem&&(a.vpaidJsIframeAdElem.style.zIndex=(1-a.uniqId).toString());a.vpaidJsIframeVideo&&(a.vpaidJsIframeVideo.style.zIndex=(1-a.uniqId).toString())}function Ka(d,a){d.domReady?"flvpaid"==a.adType?2===a.vpwLoaded?(e(d,"vastId "+a.vastId+" - dom is already ready and vpw is loaded - calling initMediaLoad",!0),
ma(d,a)):e(d,"vastId "+a.vastId+" - dom is ready but vpw is not loaded yet - initMediaLoad will be called later",!1):(e(d,"vastId "+a.vastId+" - dom is already and this is a video ad - calling initMediaLoad",!1),ma(d,a)):e(d,"vastId "+a.vastId+" - dom is not ready - initMediaLoad will be called later",!1)}function pa(d){var a=f[d.playersStorageName];if(a.frozen)e(a,"vastId "+d.vastId+" - fpv - frozen - quiting",!1);else{d.loadAdTime=(new Date).getTime();d.floadCbs=[];d.roundNo++;d.initAdEnvObject=
null;var b=0;0<d.maxFailedVastRetries&&(b=d.maxFailedVastRetries);0<a.maxFailedVastRetries&&(0==b||a.maxFailedVastRetries<b)&&(b=a.maxFailedVastRetries);if(0<b&&d.roundNo>b)e(a,"vastId "+d.vastId+" - crossed number of allowed failed retries: "+b,!1),S(a,d,!0);else{var b=d.vastURL,c=(new Date).getTime(),b=b.replace(/\[CB\]/g,c),b=b.replace(/\[CACHE_BUSTER\]/g,c),b=b.replace(/\[CACHEBUSTING\]/g,c),b=b.replace(/\[WIDTH\]/g,a.width),b=b.replace(/\[HEIGHT\]/g,a.height);a.info&&(b=b.replace(/\[DEVICEOS\]/gi,
encodeURIComponent(a.info.os)),b=b.replace(/\[DEVICEOSV\]/gi,encodeURIComponent(a.info.osv)),b=b.replace(/\[DEVICEMAKE\]/gi,encodeURIComponent(a.info.make)),b=b.replace(/\[DEVICEMODEL\]/gi,encodeURIComponent(a.info.model)));e(a,"vastId "+d.vastId+" - fetch_player_vast, url: "+d.vastURL,!1);d.ad=null;d.creative=null;d.mediaURL="";d.isFlash=0;d.adType&&(d.previousAdType=d.adType);d.adType=null;d.vpaidPlaying=0;d.vastTracker=null;d.skipVastTracker=!1;d.hasFlashVPAID=!1;d.hasJSVPAID=!1;na(a,d);-1!=b.indexOf(".g.doubleclick.net")&&
(d.isIMA=!0);d.isIMA?a.flashSupport&&(e(a,"vastId "+d.vastId+" - is IMA",!1),d.isFlash=1,d.adType="flvpaid",d.mediaURL=b,d.companionHTML="",d.tlvState=1,d.skipVastTracker=!0,Ka(a,d)):(c={withCredentials:!0},c.players=a,c.playerData=d,c.urlhandler=Ea,a.DMVAST.client.get(b,c,function(a){try{var g=f[d.playersStorageName],b=d.vastId;e(g,"vastId "+b+" - got response",!1);if(g.frozen)e(g,"vastId "+b+" - fpv answer - frozen - quiting",!1);else if(a&&a.ads){e(g,"vastId "+b+" - got response with data",!0);
e(g,a,!0);for(var c=!1,E=!1,qa=!1,k="",l=0,m=0,n=!1,q="",r="",u,v=a.ads.length;0<v;){var w=a.ads[0];e(g,"vastId "+b+" - got ad",!1);e(g,w,!0);for(var v=0,A=w.creatives.length;v<A;v++){var y=w.creatives[v];e(g,"vastId "+b+" - got creative",!0);e(g,y,!0);switch(y.type){case "linear":e(g,"vastId "+b+" - creative is linear with "+y.mediaFiles.length+" medias",!0);for(var z=0,B=y.mediaFiles.length;z<B;z++){var x=y.mediaFiles[z];e(g,"vastId "+b+" - got media",!0);e(g,x,!0);r+=x.mimeType+",";e(g,"vastId "+
b+" - got media - mimeType: "+x.mimeType,!1);if("video/"!=x.mimeType.substr(0,6)&&"application/x-shockwave-flash"!=x.mimeType&&"application/javascript"!=x.mimeType)e(g,"vastId "+b+" - not a video mimeType: "+x.mimeType,!0);else{"application/javascript"==x.mimeType&&(u=d.hasJSVPAID=!0);if("video/"==x.mimeType.substr(0,6)){try{if(!g.usejsv&&!g.hasVideoSupport){e(g,"vastId "+b+" - no video support for mimeType: "+x.mimeType,!1);continue}d.videoElement||(d.videoElement=X(g,d));if(!g.usejsv&&!d.videoElement.canPlayType(x.mimeType)){e(g,
"vastId "+b+" - unsupported mimeType: "+x.mimeType,!0);continue}}catch(C){}if(g.usejsv&&"video/webm"!=x.mimeType&&"video/mp4"!=x.mimeType&&"video/wmv"!=x.mimeType&&"video/flv"!=x.mimeType){e(g,"vastId "+b+" - unsupported mimeType: "+x.mimeType,!0);continue}}"application/x-shockwave-flash"==x.mimeType&&(d.hasFlashVPAID=!0);if("application/x-shockwave-flash"!=x.mimeType||g.flashSupport){if("video/"==x.mimeType.substr(0,6)){if(x.deliveryType&&"streaming"==x.deliveryType||h(x.fileURL)||8>x.fileURL.legnth||
-1!==x.fileURL.indexOf("cdn.vdopia.com")){e(g,"vastId "+b+" - dont allow streaming",!0);continue}var D=!0;if(0!=x.bitrate&&0!=l)if(D=!1,x.bitrate>l){e(g,"vastId "+b+" - bitrate is higher than chosen: "+x.bitrate,!0);continue}else x.bitrate==l?D=!0:e(g,"vastId "+b+" - choosing bitrate "+x.bitrate+" over previously chosen bitrate "+l,!0);else if(0!=m&&0!=x.width){var D=!1,F=x.width*x.height;if(F>m){e(g,"vastId "+b+" - size is higher than chosen: "+x.mediaSize,!0);continue}else F==m?D=!0:e(g,"vastId "+
b+" - choosing size "+F+" over previously chosen size "+m,!0)}if(D&&""!=k){if("video/webm"==k){e(g,"vastId "+b+" - same speed but already chosen preferred webm over "+x.mimeType,!0);continue}if("video/ogg"==k&&"video/mp4"==x.mimeType){e(g,"vastId "+b+" - same speed but already chosen preferred ogg over "+x.mimeType,!0);continue}if("video/3gp"==k&&"video/mp4"==x.mimeType){e(g,"vastId "+b+" - same speed but already chosen preferred 3gp over "+x.mimeType,!0);continue}e(g,"vastId "+b+" - choosing mimeType "+
x.mimeType+" over previously chosen "+k,!0)}}D=!0;1==d.vastPreferType?D=!0:2==d.vastPreferType&&(D=!1);-1!==x.fileURL.indexOf("cdn.altitude-arena.com")&&(D=!0);if(!g.callingFlashObject||"application/x-shockwave-flash"===x.mimeType){if("application/x-shockwave-flash"===x.mimeType){if("application/javascript"==k){if(!d.previousAdType&&!D){e(g,"vastId "+b+" - preferring vpaidjs to flash",!0);continue}if(d.previousAdType&&"flvpaid"===d.previousAdType){e(g,"vastId "+b+" - had flash before now trying JS ",
!0);continue}}if(""!==k&&"application/javascript"!==k&&"application/x-shockwave-flash"!==k){e(g,"vastId "+b+" - prefer video over flash",!0);continue}}if("application/javascript"===x.mimeType){if("application/x-shockwave-flash"===k){if(d.previousAdType&&"jsvpaid"==d.previousAdType){e(g,"vastId "+b+" - preferring flash choice if previous is vpaidjs ",!0);continue}if(!d.previousAdType&&D){e(g,"vastId "+b+" - preferring flash to vpaidjs",!0);continue}}if(""!==k&&"application/javascript"!==k&&"application/x-shockwave-flash"!==
k){e(g,"vastId "+b+" - prefer video over JS",!0);continue}}0!=x.bitrate?l=x.bitrate:0!=x.width&&(m=x.width*x.height);k=x.mimeType;c=0;E=v;qa=z;n=!0;e(g,"vastId "+b+" - chosen media",!1)}}else e(g,"vastId "+b+" - flash mimetype but we don't have flash support",!0)}}break;case "companion":for(var z=0,H=y.variations.length;z<H;z++){var G=y.variations[z];G.width==g.width&&G.height==g.height&&"image/jpeg"!=G.type&&(q=G.htmlResource)}}}if(n){try{w=a.ads[c],y=w.creatives[E],x=y.mediaFiles[qa],e(g,"vastId "+
b+" - chosen ad-creative-media",!1),e(g,w,!0),e(g,y,!0),e(g,x,!0),d.adParameters=y.adParameters,1!=w.impressionURLTemplates.length||w.impressionURLTemplates[0]||(w.impressionURLTemplates=[]),d.ad=w,d.creative=y,"application/x-shockwave-flash"==k?(e(g,"vastId "+b+" - media is flash",!1),d.isFlash=1,d.isJSVPaid=0,d.adType="flvpaid"):"application/javascript"==k?(e(g,"vastId "+b+" - media is javascript",!1),d.isFlash=0,d.isJSVPaid=1,d.jsVPAIDType=u,d.adType="jsvpaid"):(e(g,"vastId "+b+" - media is video",
!1),d.isFlash=0,d.isJSVPaid=0,d.adType="video"),d.mediaURL=x.fileURL,d.mediaURL=d.mediaURL.trim(),g.usejsv||"flvpaid"==d.adType||(d.mediaURL=p(g.protocol,d.mediaURL)),d.companionHTML=q,d.tlvState=1}catch(C){t(g,d.vastId,3,"fpv-chosen gave JS exception: ",C,d,!1,!0);d.errorCount+=1;I(d,0);break}try{Ka(g,d)}catch(C){t(g,d.vastId,3,"fpv-chosen-init2 gave JS exception: ",C,d,!1,!0);d.errorCount+=1;I(d,0);break}}else t(g,d.vastId,27,"no suitable media: "+r,!1,d,!1,!0),e(g,"vastId "+b+" - error - no suitable media",
!1),g.DMVAST.util.track(w.errorURLTemplates,{ERRORCODE:403}),d.errorCount+=1,I(d,0);break}}else t(g,d.vastId,26,"empty vast response",!1,d,!1,!0),e(g,"vastId "+b+" - empty response",!1),d.errorCount+=1,I(d,0)}catch(C){t(g,d.vastId,3,"fpv gave JS exception: ",C,d,!1,!0),d.errorCount+=1,I(d,0)}}))}}}function jb(){function d(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return d()+d()+"-"+d()+"-"+d()+"-"+d()+"-"+d()+d()+d()}function z(d,a){for(var b=0,c=d.plist.length;b<c;b++)if(d.plist[b].uniqId==
a)return d.plist[b];return null}function aa(d,a){for(var b=0,c=d.plist.length;b<c;b++)if(d.plist[b].vastId!=a&&6==d.plist[b].tlvState)return!0;return!1}function La(d,a){null!=a.initAdThrottler&&(clearInterval(a.initAdThrottler),a.initAdThrottler=null);var b,c;try{if(e(d,"vastId "+a.vastId+" - calling initAd, uniqId: "+a.uniqId,!1),a.tlvState=3,"flvpaid"==a.adType&&(c="vpw disappeared","string"!==typeof a.adParameters&&(a.adParameters=""),b=a.flashElement[a.flashEICallbacks]("vpwInitAd",a.adParameters,
a.uniqId)),"jsvpaid"==a.adType){c="external js exception";var f=!1,f={};f.AdParameters=a.adParameters?a.adParameters:{};!1===f&&(f={});b=a.jsVPAIDElement.initAd(d.width,d.height,"normal",4800,f,a.initAdEnvObject);d.usejsv&&d.mainAutoplay&&0==a.vpaidJsIframeVideo.getElementsByTagName("canvas").length&&a.vpaidJsIframeVideo.appendChild(a.vpaidJsIframeVideoCanvas);if("undefined"===typeof b||b)b="1"}}catch(h){t(d,a.vastId,5,"initAd failed - "+c+": "+h.message,!1,a);a.tlvState=10;a.errorCount+=1;I(a,0);
"flvpaid"==a.adType&&W(d,a,"initAd");return}if("1"==b)e(d,"vastId "+a.vastId+" - initAd returned success",!1);else{b="no reason given";try{"flvpaid"==a.adType&&(b=a.flashElement[a.flashEICallbacks]("getLastError",a.uniqId)),"jsvpaid"==a.adType&&(b="js vpaid error")}catch(h){b="getLastError gave exception: "+h.message}t(d,a.vastId,5,"initAd failed - "+b,!1,a,!1,!0);a.tlvState=10;a.errorCount+=1;"flvpaid"==a.adType&&J(d,a,!0);I(a,0)}}function Ta(d,a){for(var b="in group "+a.group+", ",c=!0,e=0,f=d.plist.length;e<
f;e++)if("1"==d.plist[e].group&&3>d.plist[e].tlvState&&!d.plist[e].errorCount&&1>=d.plist[e].roundNo){c=!1;break}for(var h=!0,e=0,f=d.plist.length;e<f;e++)if("1"==d.plist[e].group&&6>d.plist[e].tlvState&&!d.plist[e].errorCount&&1>=d.plist[e].roundNo){h=!1;break}if("1"==a.group&&1>=a.errorCount)return b+" and no/low error count";if(a.duplicatedNow)return a.duplicatedNow=!1,b+" just duplicated";if("1"!=a.group&&!h||"1"!=a.group&&d.anyPlaying)return!1;f=e=0;for(h=d.plist.length;f<h;f++)3<=d.plist[f].tlvState&&
10!=d.plist[f].tlvState&&e++;if(6>e){if("1"==a.group)return b+" and less than 6 total";if(c)return b+" and less than 6 total, all group 1 inited"}return!1}function Da(d,a){null!=a.requeryTimeout&&(e(d,"vastId "+a.vastId+" - cleared pending requery",!1),clearTimeout(a.requeryTimeout),a.requeryTimeout=null);var b=Ta(d,a);if(b)e(d,"vastId "+a.vastId+" - initAd throttler passed: "+b,!1),La(d,a);else{e(d,"vastId "+a.vastId+" - initAd throttled, we'll wait",!1);var c=function(d,a){try{var b=Ta(d,a);b&&
(e(d,"vastId "+a.vastId+" - initAd throttler passed in interval: "+b,!1),La(d,a))}catch(g){t(d,a.vastId,3,"iat gave JS exception: ",g,a)}};a.initAdThrottler=CEDATO_BROWSER.oldIE?setInterval(function(){c(d,a)},300):setInterval(c,300,d,a)}}function ga(d,a,b){var c=z(d,a);if(c)if(c.firedEvents.AdLoaded)e(d,"AdLoaded fired already",!1);else{c.firedEvents.AdLoaded=!0;var f=c.vastId;if("undefined"===typeof b||0>b)b="";e(d,"vastId "+f+" - got vpaid adLoaded callback, uniqId: "+a+", mem used: "+b,!1);null!=
c.requeryTimeout&&(e(d,"vastId "+f+" - cleared pending requery",!1),clearTimeout(c.requeryTimeout),c.requeryTimeout=null);2>c.tlvState||10==c.tlvState?e(d,"vastId "+f+" - adLoaded on wrong state - ignoring it - "+c.tlvState,!1):3<c.tlvState&&10!=c.tlvState?e(d,"vastId "+f+" - second adLoaded event - ignoring it",!1):(c.tlvState=4,e(d,"vastId "+f+" - marked as ready to play",!0),m(d,c,b),"vpaid"==d.mode&&d.vpaidObj.call("jsAdReadyToStart",{},!0),H(d))}else e(d,"got adLoaded callback for a gone uniq",
!1)}function sa(d,a,b){if(a=z(d,a)){D(d,a);var c=a.vastId;e(d,"vastId "+c+" - got vpaid aderror callback, message: "+b,!1);if(2>=a.tlvState||10==a.tlvState)e(d,"vastId "+c+" - vpaid aderror callback on invalid state - ignoring - "+a.tlvState,!1);else{var f=!1,h=!1;if(1==a.vpaidPlaying){a.vpaidPlaying=0;if(d.parallelStartAd){if(6==a.tlvState||7==a.tlvState)e(d,"vastId "+c+" - was playing",!1),d.anyPlaying=aa(d,c),d.anyPlaying||ca(d)}else e(d,"vastId "+c+" - was playing",!1),d.anyPlaying=aa(d,c),d.anyPlaying||
ca(d);null!=a.startAdHalfStopper&&(clearTimeout(a.startAdHalfStopper),a.startAdHalfStopper=null);null!=a.startAdStopper&&(clearTimeout(a.startAdStopper),a.startAdStopper=null);d.parallelStartAd&&(h=!0)}4>a.tlvState&&(f=!0);null!=a.startAdSwitcher&&(clearTimeout(a.startAdSwitcher),a.startAdSwitcher=null);null!=a.initAdThrottler&&(clearInterval(a.initAdThrottler),a.initAdThrottler=null);var c=22,k="";try{k=b.toLowerCase()}catch(l){}if(-1!=k.indexOf("timeout")||-1!=k.indexOf("timed out"))c=110;if(-1!=
k.indexOf("empty")||-1!=k.indexOf("3403"))c=111;-1!=k.indexOf("domain")&&-1!=k.indexOf("block")&&(c=112);if(-1!=k.indexOf("no ad")||-1!=k.indexOf("there was an error parsing the ad tag response - null, errno: 0"))c=113;if(-1!=k.indexOf("but the server returned a vast error")||-1!=k.indexOf("failed to parse liverail xml response")||-1!=k.indexOf("unknown liverail xml response type"))c=114;if(-1!=k.indexOf("security error")||-1!=k.indexOf("2048"))c=115;if(-1!=k.indexOf("2032")||-1!=k.indexOf("9408")||
-1!=k.indexOf("error loading asset : ioerror"))c=116;-1!=k.indexOf("1903")&&(c=117);-1!=k.indexOf("1902")&&(c=118);-1!=k.indexOf("volume violation")&&(d.debugLogReason="volume",n(d),u(d),d.keepDebugLog=!0,c=300);-1!=k.indexOf("non linear ads")&&(c=157);-1!=k.indexOf("adstart exception")&&(c=156);t(d,a.vastId,c,"onAdError on state "+a.tlvState+" : "+b,!1,a,h,f);a.errorCount=5<=a.tlvState?a.errorCount+100:a.errorCount+1;null!=a.vastTracker&&a.vastTracker.errorWithCode(901);6==a.tlvState||7==a.tlvState?
S(d,a,!0):(a.tlvState=10,"flvpaid"==a.adType&&J(d,a,!0),I(a,0));H(d)}}else e(d,"got adError callback for a gone uniq",!1)}function ha(d,a){var b=z(d,a);b?b.firedEvents.AdStarted?e(d,"AdStarted fired already",!1):(b.firedEvents.AdStarted=!0,b.firedEvents.AdLoaded||ga(d,a,null),b.adStartCount++,1<b.adStartCount&&t(d,b.vastId,61,"double adstart: "+b.adStartCount,!1,b),"vpaid"==d.mode&&d.vpaidObj.call("jsAdStarted",{},!0)):e(d,"got adStarted callback for a gone uniq",!1)}function ia(d,a,b){var c=z(d,
a);if(c)if(c.firedEvents.AdImpression)e(d,"AdImpression fired already",!1);else{c.firedEvents.AdImpression=!0;c.firedEvents.AdStarted||ha(d,a);if("undefined"===typeof b||0>b)b="";e(d,"vastId "+c.vastId+" - got flash impression callback, uniqId: "+a+", mem used: "+b,!1);10==c.tlvState||5>c.tlvState?e(d,"vastId "+c.vastId+" - got flash impression callback but in invalid state - ignoring - "+c.tlvState,!1):Z(d,c.uniqId,!1,b)&&(null!=c.startAdHalfStopper&&(clearTimeout(c.startAdHalfStopper),c.startAdHalfStopper=
null),null!=c.startAdStopper&&(clearTimeout(c.startAdStopper),c.startAdStopper=null),c.errorCount=0)}else e(d,"got adImpression callback for a gone uniq",!1)}function Qa(d,a){var b=z(d,a);b?b.firedEvents.AdVideoStart?e(d,"AdVideoStart fired already",!1):(b.firedEvents.AdVideoStart=!0,b.firedEvents.AdImpression||ia(d,a,null),e(d,"vastId "+b.vastId+" - got flash AdVideoStart callback, uniqId: "+a,!1),"vpaid"==d.mode&&d.vpaidObj.call("jsAdVideoStart",{},!0)):e(d,"got VPAID AdVideoStart callback for a gone uniq",
!1)}function ta(d,a){var b=z(d,a);if(b){var c=b.vastId;e(d,"vastId "+c+" - got flash adFirstQuartile callback, uniqId: "+a,!1);if(b.skipVastTracker)e(d,"vastId "+c+" - skip vast tracker mode, calling directly",!1),b.vtFirstQuartileFunc(b);else if(b.vastTracker){if(b.vastTracker.quartiles&&b.vastTracker.quartiles.firstQuartile){var f=b.vastTracker.quartiles.firstQuartile;!b.vastTracker.progress||b.vastTracker.progress<f?(e(d,"vastId "+c+" - advancing progress accordingly",!1),b.vastTracker.setProgress(f)):
e(d,"vastId "+c+" - progress is in the right place ("+b.vastTracker.progress+")",!1)}}else t(d,b.vastId,3,"no vastTracker for first quartile",!1,b,!1,!1,"vastTracker error");"vpaid"==d.mode&&d.vpaidObj.call("jsAdFirstQuartile",{},!0)}else e(d,"got flash first quartile callback for a gone uniq",!1)}function ua(d,a){var b=z(d,a);if(b){var c=b.vastId;e(d,"vastId "+c+" - got flash adMidpoint callback",!1);if(b.skipVastTracker)e(d,"vastId "+c+" - skip vast tracker mode, calling directly",!1),b.vtMidPointFunc(b);
else if(b.vastTracker){if(b.vastTracker.quartiles&&b.vastTracker.quartiles.midpoint){var f=b.vastTracker.quartiles.midpoint;!b.vastTracker.progress||b.vastTracker.progress<f?(e(d,"vastId "+c+" - advancing progress accordingly",!1),M("firstQuartile",d,b),b.vastTracker.setProgress(f)):e(d,"vastId "+c+" - progress is in the right place",!1)}}else t(d,b.vastId,3,"no vastTracker for midpoint",!1,b,!1,!1,"vastTracker error");"vpaid"==d.mode&&d.vpaidObj.call("jsAdMidpoint",{},!0)}else e(d,"got flash midpoint callback for a gone uniq",
!1)}function va(a,b){var c=z(a,b);if(c){var f=c.vastId;e(a,"vastId "+f+" - got flash adThirdQuartile callback",!1);if(c.skipVastTracker)e(a,"vastId "+f+" - skip vast tracker mode, calling directly",!1),c.vtThirdQuartileFunc(c);else if(c.vastTracker){if(c.vastTracker.quartiles&&c.vastTracker.quartiles.thirdQuartile){var h=c.vastTracker.quartiles.thirdQuartile;!c.vastTracker.progress||c.vastTracker.progress<h?(e(a,"vastId "+f+" - advancing progress accordingly",!1),M("firstQuartile",a,c),M("midpoint",
a,c),c.vastTracker.setProgress(h)):e(a,"vastId "+f+" - progress is in the right place",!1)}}else t(a,c.vastId,3,"no vastTracker for third quartile",!1,c,!1,!1,"vastTracker error");"vpaid"==a.mode&&a.vpaidObj.call("jsAdThirdQuartile",{},!0)}else e(a,"got flash third quartile callback for a gone uniq",!1)}function ja(a,b){var c=z(a,b);if(c){D(a,c);na(a,c);var f=c.vastId;e(a,"vastId "+f+" - got vpaid adComplete callback",!1);6!=c.tlvState&&7!=c.tlvState?e(a,"vastId "+f+" - vpaid adcomplete callback on invalid state - ignoring - "+
c.tlvState,!1):(c.tlvState=8,a.anyPlaying=aa(a,f),a.anyPlaying||ca(a),null!=c.startAdSwitcher&&(clearTimeout(c.startAdSwitcher),c.startAdSwitcher=null),c.skipVastTracker?(e(a,"vastId "+f+" - skip vast tracker mode, calling directly",!1),c.vtCompleteFunc(c)):null==c.vastTracker?t(a,c.vastId,3,"no vastTracker for complete",!1,c,!1,!1,"vastTracker error"):(M("firstQuartile",a,c),M("midpoint",a,c),M("thirdQuartile",a,c),c.vastTracker.complete()),"vpaid"==a.mode&&(a.vpaidObj.call("jsAdComplete",{},!0),
a.vpaidObj.call("jsAdStopped",{},!0)),CEDATO_BROWSER.oldIE?setTimeout(function(){S(a,c)},3E3):setTimeout(S,3E3,a,c),a.frozen?e(a,"vastId "+f+" - frozen - finishing here",!1):(a.readyForStartAd&&Ca(a),H(a)))}else e(a,"got vpaid adComplete callback for a gone uniq",!1)}function Ra(a,b){var c=z(a,b);if(c){if(D(a,c),e(a,"vastId "+c.vastId+" - got flash adStopped callback",!1),6==c.tlvState||7==c.tlvState)e(a,"triggering manual AdComplete",!1),ja(a,b)}else e(a,"got flash adStopped callback for a gone uniq",
!1)}function ya(a,b,c){(b=z(a,b))?(a.apiInterface.trigger("click",{url:c,vastId:b.vastId}),e(a,"vastId "+b.vastId+" - got flash click through callback",!1),b.skipVastTracker?(e(a,"vastId "+b.vastId+" - skip vast tracker mode, calling directly",!1),b.vtClickThroughFunc(c,b)):null==b.vastTracker?t(a,b.playerData.vastId,3,"no vastTracker for click",!1,b,!1,!1,"vastTracker error"):b.vastTracker.click(),"vpaid"==a.mode&&a.vpaidObj.call("jsAdClickthrough",{url:c},!0)):e(a,"got flash click callback for a gone uniq",
!1)}function xa(a,b,c){(b=z(a,b))?(e(a,"vastId "+b.vastId+" - got vpaid ad duration time callback, t: "+c,!0),b.duration=c,b.durationKnown=!0,b.vastTracker&&(b.vastTracker.duration=b.duration,b.vastTracker.setDuration(b.duration)),"vpaid"==a.mode&&a.vpaidObj.call("jsAdDurationChange",{duration:c},!0)):e(a,"got vpaid duration change callback for a gone uniq",!1)}function wa(a,b,c){(b=z(a,b))?(e(a,"vastId "+b.vastId+" - got flash ad remaining time callback, t: "+c,!0),!b.durationKnown||6>b.tlvState?
(e(a,"vastId "+b.vastId+" - got first flash ad remaining time callback, duration set to t: "+c,!0),b.duration=c,b.durationKnown=!0,b.vastTracker&&(b.vastTracker.duration=b.duration,b.vastTracker.setDuration(b.duration)),"vpaid"==a.mode&&a.vpaidObj.call("jsAdDurationChange",{duration:c},!0)):(b.vastTracker&&b.vastTracker.setProgress(b.duration-c),"vpaid"==a.mode&&a.vpaidObj.call("jsAdRemainingTimeChange",{remainingTime:c},!0))):e(a,"got flash remaining callback for a gone uniq",!1)}function kb(a){a.anyVPWLoaded=
0;if(a.reportVPWLoaded){a.reportVPWLoaded=!0;a.reportVPWLoadedCount=0;e(a,"vpws - reporting state 0",!1);CEDATO_EVENT_LOGGER.log(CEDATO_EVENT_LOGGER.E_VPWS,a,{time:0,state:0},{},e);var b=function(a){try{e(a,"vpws 10 seconds interval",!1);a.reportVPWLoadedCount++;var d=10*a.reportVPWLoadedCount,b=!1;0<a.anyVPWLoaded||4<a.reportVPWLoadedCount?(e(a,"vpws 10 seconds interval - time to stop",!1),b=!0):(e(a,"vpws - reporting state 0",!1),CEDATO_EVENT_LOGGER.log(CEDATO_EVENT_LOGGER.E_VPWS,a,{time:d,state:0},
{},e));b&&(clearInterval(a.reportVPWStateInterval),a.reportVPWStateInterval=null)}catch(c){L(a,3,"rvpwIntervalFunc gave JS exception: "+c.message)}};a.reportVPWStateInterval=CEDATO_BROWSER.oldIE?setInterval(function(){b(a)},1E4):setInterval(b,1E4,a)}a.floadSuccessCallbackFuncName="flsc"+Math.floor(1000001*Math.random());f[a.floadSuccessCallbackFuncName]=function(a,d,b,c){try{var g=f[a],h=z(g,d);if(h){var k=h.vastId;e(g,"vastId "+k+" - got fload success callback "+b,!1);g.logVastResponse&&(e(g,"vastId "+
h.vastId+" - fload response:",!1),e(g,c,!1));if(h.floadCbs[b]){var l={};l.players=g;l.playerData=h;l.urlhandler=Ea;var m;try{m=CEDATO_BROWSER.parseTextToXML(c)}catch(n){t(g,k,3,"fload success XML parse callback gave JS exception: "+c,n,h)}if(!m)return e(g,"vastId "+k+" - fload failed - no xmlDocument",!1),h.floadCbs[b](null,null,l);CEDATO_BROWSER.oldIE?setTimeout(function(){h.floadCbs[b](null,m,l)},10):setTimeout(h.floadCbs[b],0,null,m,l)}else e(g,"vastId "+k+" - fload success cb disappeared "+b,
!1)}else e(g,"got fload success callback for a gone uniq",!1)}catch(n){g=f[a],h=z(g,d),k=h.vastId,t(g,k,3,"fload success callback gave JS exception: ",n,h)}};a.floadFailureCallbackFuncName="flfc"+Math.floor(1000001*Math.random());f[a.floadFailureCallbackFuncName]=function(a,d,b,c,g){try{var h=f[a],k=z(h,d);if(k){var l=k.vastId;e(h,"vastId "+l+" - got fload failure callback "+b+", errorCode: "+c+", errorMessage: "+g,!1);if(k.floadCbs[b]){var m={};m.players=h;m.playerData=k;m.urlhandler=Ea;CEDATO_BROWSER.oldIE?
setTimeout(function(){k.floadCbs[b](null,null,m)},10):setTimeout(k.floadCbs[b],0,null,null,m)}else e(h,"vastId "+l+" - fload failure cb disappeared "+b,!1)}else e(h,"got fload failure callback for a gone uniq",!1)}catch(n){h=f[a],k=z(h,d),l=k.vastId,t(h,l,3,"fload failure callback gave JS exception: ",n,k)}};a.successCallbackFuncName="sc"+Math.floor(1000001*Math.random());f[a.successCallbackFuncName]=function(a,d,b){try{var c=f[a],g=z(c,d);if(g){var h=g.vastId;if("undefined"===typeof b||0>b)b="";
e(c,"vastId "+h+" - got flash success callback, uniqId: "+d+", mem used: "+b,!1);CEDATO_BROWSER.oldIE?setTimeout(function(){Da(c,g)},10):setTimeout(Da,0,c,g)}else e(c,"got fload success callback for a gone uniq",!1)}catch(k){(c=f[a])&&d&&(g=z(c,d),h=g.vastId,t(c,h,3,"flash success callback gave JS exception: ",k,g))}};a.failureCallbackFuncName="fc"+Math.floor(1000001*Math.random());f[a.failureCallbackFuncName]=function(a,d,b,c){try{var g=f[a],h=z(g,d);if(!h&&g)e(g,"got flash failure callback for a gone uniq",
!1);else{var k=function(a,d,b,c,g,f){b=d.vastId;e(a,"vastId "+b+" - got flash failure callback, errorCode: "+g+", errorMessage: "+f,!1);d.tlvState=10;d.errorCount+=1;-1!=f.indexOf("#2035")&&(g=2035,f="URL not found");-1!=f.indexOf("#2036")&&(g=2036,f="Load not completed");t(a,b,g,"flash failure called: "+f,!1,d,!1,!0);try{d.flashElement[d.flashEICallbacks]("clearAd",d.uniqId)}catch(h){}J(a,d,!0);I(d,0)};CEDATO_BROWSER.oldIE?setTimeout(function(){k(g,h,a,d,b,c)},0):setTimeout(k,0,g,h,a,d,b,c)}}catch(l){g=
f[a],h=z(g,d),t(g,h.vastId,3,"flash failure callback gave JS exception: ",l,h)}};a.adLoadedCallbackFuncName="al"+Math.floor(1000001*Math.random());f[a.adLoadedCallbackFuncName]=function(a,d,b){try{var c=f[a],g=z(c,d),e=g.vastId;CEDATO_BROWSER.oldIE?setTimeout(function(){ga(c,d,b)},10):setTimeout(ga,0,c,d,b)}catch(h){c=f[a],g=z(c,d),e=g.vastId,t(c,e,3,"flash adLoaded callback gave JS exception: ",h,g)}};a.adStartedCallbackFuncName="al"+Math.floor(1000001*Math.random());f[a.adStartedCallbackFuncName]=
function(a,d){try{var b=f[a];CEDATO_BROWSER.oldIE?setTimeout(function(){ha(b,d)},10):setTimeout(ha,0,b,d)}catch(c){var g=z(b,d);t(b,g.vastId,3,"flash started callback gave JS exception: ",c,g)}};a.adImpressionCallbackFuncName="ai"+Math.floor(1000001*Math.random());f[a.adImpressionCallbackFuncName]=function(a,d,b){try{var c=f[a];CEDATO_BROWSER.oldIE?setTimeout(function(){ia(c,d,b)},10):setTimeout(ia,0,c,d,b)}catch(g){a=z(c,d),t(c,a.vastId,3,"flash impression callback gave JS exception: ",g,a)}};a.adErrorCallbackFuncName=
"ae"+Math.floor(1000001*Math.random());f[a.adErrorCallbackFuncName]=function(a,d,b){try{var c=f[a];a=z(c,d);CEDATO_BROWSER.oldIE?setTimeout(function(){sa(c,d,b)},50):setTimeout(sa,50,c,d,b)}catch(g){a=z(c,d),t(c,a.vastId,3,"flash adError callback gave JS exception: ",g,a)}};a.adFirstQuartileEventCallbackFundName="afq"+Math.floor(1000001*Math.random());f[a.adFirstQuartileEventCallbackFundName]=function(a,d){try{var b=f[a];CEDATO_BROWSER.oldIE?setTimeout(function(){ta(b,d)},10):setTimeout(ta,0,b,d)}catch(c){var g=
z(b,d);t(b,g.vastId,3,"flash onFirstQuartile callback gave JS exception: ",c,g)}};a.adMidpointEventCallbackFuncName="am"+Math.floor(1000001*Math.random());f[a.adMidpointEventCallbackFuncName]=function(a,d){try{var b=f[a];CEDATO_BROWSER.oldIE?setTimeout(function(){ua(b,d)},10):setTimeout(ua,0,b,d)}catch(c){var g=z(b,d);t(b,g.vastId,3,"flash onMidpoint callback gave JS exception: ",c,g)}};a.adThirdQuartileEventCallbackFundName="atq"+Math.floor(1000001*Math.random());f[a.adThirdQuartileEventCallbackFundName]=
function(a,d){try{var b=f[a];CEDATO_BROWSER.oldIE?setTimeout(function(){va(b,d)},10):setTimeout(va,0,b,d)}catch(c){var g=z(b,d);t(b,g.vastId,3,"flash onThirdQuartile callback gave JS exception: ",c,g)}};a.adCompleteEventCallbackFuncName="ac"+Math.floor(1000001*Math.random());f[a.adCompleteEventCallbackFuncName]=function(a,d){try{var b=f[a];CEDATO_BROWSER.oldIE?setTimeout(function(){ja(b,d)},0):setTimeout(ja,0,b,d)}catch(c){var g=z(b,d);t(b,g.vastId,3,"flash onComplete callback gave JS exception: ",
c,g)}};a.adClickthroughCallbackFuncName="acl"+Math.floor(1000001*Math.random());f[a.adClickthroughCallbackFuncName]=function(a,d,b){try{var c=f[a];CEDATO_BROWSER.oldIE?setTimeout(function(){ya(c,d,b)},10):setTimeout(ya,0,c,d,b)}catch(g){a=z(c,d),t(c,a.vastId,3,"flash onClickthrough callback gave JS exception: ",g,a)}};a.adSetCompanionsCallbackFuncName="sccl"+Math.floor(1000001*Math.random());f[a.adSetCompanionsCallbackFuncName]=function(a,d,b){try{var c=f[a],g=function(a,d,b){(a=z(c,d))?(e(c,"vastId "+
a.vastId+" - got flash set companions HTML callback",!1),a.companionHTML=b,a.companionHTML&&a.companionsElementDiv&&(a.companionsElementDiv.innerHTML=a.companionHTML)):e(c,"got flash set companions callback for a gone uniq",!1)};CEDATO_BROWSER.oldIE?setTimeout(function(){g(a,d,b)},10):setTimeout(g,0,a,d,b)}catch(h){var k=z(c,d);t(c,k.vastId,3,"flash onSetCompanionsHTML callback gave JS exception: ",h,k)}};a.adRemainingtimeChangeCallbackFuncName="art"+Math.floor(1000001*Math.random());f[a.adRemainingtimeChangeCallbackFuncName]=
function(a,d,b){try{var c=f[a];CEDATO_BROWSER.oldIE?setTimeout(function(){wa(c,d,b)},10):setTimeout(wa,0,c,d,b)}catch(g){a=z(c,d),t(c,a.vastId,3,"flash ad remaining time callback gave JS exception: ",g,a)}};a.adDurationChangeCallbackFuncName="ad"+Math.floor(1000001*Math.random());f[a.adDurationChangeCallbackFuncName]=function(a,d,b){try{var c=f[a];CEDATO_BROWSER.oldIE?setTimeout(function(){xa(c,d,b)},10):setTimeout(xa,0,c,d,b)}catch(g){a=z(c,d),t(c,a.vastId,3,"flash ad remaining time callback gave JS exception: ",
g,a)}}}function Ua(a){var b="",c;for(c in a)a.hasOwnProperty(c)&&(b+="property: "+c+" value: ["+a[c]+"]\n");return b+="toString():  value: ["+a.toString()+"]"}function L(a,b,c,f){f&&(c+=Ua(f));CEDATO_EVENT_LOGGER.log(CEDATO_EVENT_LOGGER.E_PLAYER_ERROR,a,{errorCode:b,errorMessage:c},{},e);e(a,"errorCode "+b+" - "+c,!1);3!=b||a.keepDebugLog||a.debugLogSubmittedDueToException||!a.submitDebugLogOnPlayerError||(a.debugLogReason="player error",n(a),u(a),a.debugLogSubmittedDueToException=!0)}function t(a,
b,c,f,h,k,l,m,p){var r,t="";if("undefined"!==typeof k&&k){if(3!=c&&1<k.errorCount)return;r="";t=5<=k.tlvState?((new Date).getTime()-k.startAdTime)/1E3:((new Date).getTime()-k.loadAdTime)/1E3;t=t.toFixed(1)}else r="";"undefined"===typeof l&&(l=!1);"undefined"===typeof m&&(m=!1);"undefined"===typeof p&&(p="vast error");h&&(f+=Ua(h));h={errorCode:c,errorMessage:f,mediaURL:r};l&&(h.logStartRequest=1);m&&(h.logLoadRequest=1);""!=t&&(h.time=t);q(CEDATO_EVENT_LOGGER.E_VAST_ERROR,a,k,h,e);e(a,"vastId "+b+
" - errorCode "+c+" - "+f,!1);3!=c||a.keepDebugLog||a.debugLogSubmittedDueToException||!a.submitDebugLogOnVastError||(a.debugLogReason=p,n(a),u(a),a.debugLogSubmittedDueToException=!0)}function Fa(){var a=f.navigator.userAgent;return 0<a.indexOf("MSIE ")?parseInt(a.split("MSIE")[1]):0<a.indexOf("Trident/")?11:0<a.indexOf("Edge/")?12:!1}function lb(a,b){null!=b.vpwWaitFunc&&(clearInterval(b.vpwWaitFunc),b.vpwWaitFunc=null);b.vpwWaitRetries=0;var c=function(a,d){try{d.vpwWaitRetries++;var b=!1,c="";
try{d.flashEICallbacks=d.flashElement.connectToJSPlayer(a.playersStorageName,a.vpPlayCallbackFuncName,a.vpStopCallbackFuncName,a.vpDebugCallbackFuncName,a.vpResizeAdCallbackFuncName,a.vpSetAdVolumeCallbackFuncName,a.vpPauseCallbackFuncName,a.vpResumeCallbackFuncName),d.flashEICallbacks&&""!=d.flashEICallbacks&&(b=!0,a.singleVPW&&(a.flashEICallbacks=d.flashEICallbacks))}catch(g){c=g.message}if(b){e(a,"vastId "+d.vastId+" - vpw finished init",!1);clearInterval(d.vpwWaitFunc);d.vpwWaitFunc=null;d.vpwLoaded=
2;d.vpwLoadRetry=0;if(2>a.anyVPWLoaded&&(a.anyVPWLoaded=2,a.reportVPWLoaded)){var f=((new Date).getTime()-a.startTime)/1E3,f=f.toFixed(1),h=((new Date).getTime()-a.firstVPWInitTime)/1E3,h=h.toFixed(1);e(a,"vpws - reporting state 2",!1);CEDATO_EVENT_LOGGER.log(CEDATO_EVENT_LOGGER.E_VPWS,a,{time:f,state:2,time2:h},{},e)}null==a.fpwReadyTime&&(f=((new Date).getTime()-a.startTime)/1E3,f=f.toFixed(1),a.fpwReadyTime=f);1==d.tlvState&&(e(a,"vastId "+d.vastId+" - has schedule media load - calling now",!1),
ma(a,d))}else b=5,Fa()&&(b=10),d.vpwWaitRetries>5*b&&(clearInterval(d.vpwWaitFunc),d.vpwWaitFunc=null,Ga(a),e(a,"vastId "+d.vastId+" - vpw won't init on time, last error message: "+c,!1),J(a,d,!0))}catch(g){L(a,3,"vpwWaitFunc gave JS exception: "+g.message,g)}};b.vpwWaitFunc=CEDATO_BROWSER.oldIE?setInterval(function(){c(a,b)},200):setInterval(c,200,a,b)}function za(d,b){d.singleVPW&&!d.flashElement&&d.callingFlashObject&&(d.flashElement=d.callingFlashObject,e(d,"using calling flash object as vpw",
!1));if(d.singleVPW&&d.flashElement)e(d,"vastId "+b.vastId+" - single vpw, using player vpw",!1),b.flashElement=d.flashElement,b.flashEICallbacks=d.flashEICallbacks,b.vpwLoaded=2;else{var c=b.vastId+"-"+Math.floor(1000001*Math.random()),f=a.createElement("div");f.id=c;d.singleVPW?d.flashElementDiv.appendChild(f):b.flashElementDiv.appendChild(f);f="vpwid"+Math.floor(1000001*Math.random());f={data:d.vpwURL+d.vpwVersion,width:d.width,height:d.height,id:f,name:f};e(d,"vastId "+b.vastId+" - vpw url: "+
f.data,!1);b.flashElement=CEDATO_SWF.swfobject.createSWF(f,{flashvars:"",allowscriptaccess:"always",wmode:"opaque"},c);b.vpwLoaded=0;b.flashEICallbacks="";d.singleVPW&&(d.flashElement=b.flashElement)}}function Ha(d){if("vpaid"!=d.mode){var g=d.protocol+d.conf.content.defaultLoader;d.content&&d.content.loader_image_url&&(g=d.content.loader_image_url);var f=d.protocol+d.conf.content.playButton,h=[];if(d.content&&d.content.url&&1==d.content.type)for(var k=d.content.url.split(","),l=0,m=k.length;l<m;l++)d.usejsv&&
d.mainAutoplay?h.push(b(k[l],d,null,"c")):h.push(p(d.protocol,k[l]));try{d.contentUrlPlayer=new CEDATO_CONTENT.ContentUnit({parentDiv:d.divElem,contentUrl:h,bannerUrl:g,clickUrl:d.content.click,playButtonUrl:f,autoPlay:!!d.content.autoplay,volume:d.allowSound?.8:0,loop:!!d.content.loop,controlBar:!!d.controlBar,videoSupport:d.hasVideoSupport,customCreateVideoElement:function(){return d.usejsv&&!d.mainAutoplay?a.createElement("video"):c(d)},userStartPlayingCallback:function(){d.content.playFull&&0!==
h.length||(d.content.autoplay=!0,d.autoplay=!0,H(d,!0))},endContentVideoCallback:function(){d.content.playFull&&(d.anyPlaying||(d.autoplay=!0),d.usejsv&&!d.mainAutoplay&&d.contentUrlPlayer.hideContent(),H(d,!0))},userClick:function(a){d.apiInterface.trigger("click",{url:d.content.click,vastId:null})},onError:function(a,b){e(d,"Error loading content video: "+d.content.url+" msg:"+b,!1)}})}catch(n){L(d,3,"createRotator rotatorDiv gave JS exception: "+n.message,n)}}}function ca(a){if("single"==a.mode)if(a.contentUrlPlayer)try{a.contentUrlPlayer.showContent()}catch(b){Ha(a)}else Ha(a)}
function Ga(a){if(Fa()&&(!a.vpwVersionRenewed||10<((new Date).getTime()-a.vpwVersionRenewed)/1E3)){a.vpwVersionRenewedCount?a.vpwVersionRenewedCount++:a.vpwVersionRenewedCount=1;if(3<a.vpwVersionRenewedCount)return!1;e(a,"IE detected - using random vpw version",!1);a.vpwVersion=Math.floor(1000001*Math.random());a.vpwVersionRenewed=(new Date).getTime();return!0}return!1}function Va(a,b){b.vpwStartLoadTime=(new Date).getTime();null!=b.flashInitialTimeout&&(clearInterval(b.flashInitialTimeout),b.flashInitialTimeout=
null);null!=b.flashLoadCheckInterval&&(clearInterval(b.flashLoadCheckInterval),b.flashLoadCheckInterval=null);b.vpwLoaded=0;e(a,"vastId "+b.vastId+" - loadVPW - setting FIT",!1);var c=function(a,d){try{if(d.flashElement&&"undefined"!==typeof d.flashElement.PercentLoaded){clearInterval(d.flashInitialTimeout);d.flashInitialTimeout=null;e(a,"vastId "+d.vastId+" - vpw - started to load flash",!1);null!=d.flashLoadCheckInterval&&(clearInterval(d.flashLoadCheckInterval),d.flashLoadCheckInterval=null);var b=
function(a,d){try{if(d.flashElement&&"undefined"!==typeof d.flashElement.PercentLoaded&&d.flashElement.PercentLoaded()&&100===d.flashElement.PercentLoaded()){clearInterval(d.flashLoadCheckInterval);d.flashLoadCheckInterval=null;e(a,"vastId "+d.vastId+" - vpw - flash loaded",!1);d.vpwLoaded=1;if(1>a.anyVPWLoaded&&(a.anyVPWLoaded=1,a.reportVPWLoaded)){var b=((new Date).getTime()-a.startTime)/1E3,b=b.toFixed(1);a.firstVPWInitTime=(new Date).getTime();e(a,"vpws - reporting state 1",!1);CEDATO_EVENT_LOGGER.log(CEDATO_EVENT_LOGGER.E_VPWS,
a,{time:b,state:1},{},e)}if(0==d.vastId){if(a.prevpwDiv){e(a,"destroying pre vpw",!1);try{a.prevpwDiv.innerHTML="",a.prevpwDiv.parentNode.removeChild(a.prevpwDiv)}catch(c){}a.vpwCached=!0;a.prevpwDiv=null;Wa(a)}}else lb(a,d)}}catch(c){-1==c.message.indexOf("NPObject")&&c.message.indexOf("defineGetter")}};d.flashLoadCheckInterval=CEDATO_BROWSER.oldIE?setInterval(function(){b(a,d)},400):setInterval(b,400,a,d)}else 0!=d.vastId&&7E3<(new Date).getTime()-d.vpwStartLoadTime&&(d.vpwLoadRetry++,clearInterval(d.flashInitialTimeout),
Ga(a),J(a,d,!0))}catch(c){c.message&&-1==c.message.indexOf("NPObject")&&-1==c.message.indexOf("defineGetter")&&L(a,3,"flashInitialTimeout2 gave JS exception: "+c.message);var g=(new Date).getTime();0!=d.vastId&&7E3<g-d.vpwStartLoadTime&&(d.vpwLoadRetry++,clearInterval(d.flashInitialTimeout),d.flashInitialTimeout=null,e(a,"vastId "+d.vastId+" - vpw timeouted starting to load",!1),J(a,d,!0))}};b.flashInitialTimeout=CEDATO_BROWSER.oldIE?setInterval(function(){c(a,b)},300):setInterval(c,300,a,b)}function J(a,
b,c){if(a.domReady){"undefined"!==typeof b.flashElement&&b.flashElement||(e(a,"vastId "+b.vastId+" - flash disappeared",!1),za(a,b));if(c&&(e(a,"vastId "+b.vastId+" - loadVPW - handling reload",!1),!a.singleVPW))try{c=!1;try{b.flashElement&&b.flashEICallbacks&&(b.flashElement[b.flashEICallbacks]("clearAd",b.uniqId),c=a.reuseVPW)}catch(f){}if(!c){b.vpwLoaded=0;b.flashEICallbacks=null;try{CEDATO_SWF.swfobject.removeSWF(b.flashElement.id)}catch(f){e(a,"vastId "+b.vastId+" - loadVPW - removeSWF failed",
!1)}b.flashElementDiv.innerHTML="";b.flashElement=null;za(a,b);e(a,"vastId "+b.vastId+" - loadVPW - flash element created",!1)}}catch(f){e(a,"vastId "+b.vastId+" - loadVPW - exception - element must have vanished - recreating",!1),b.flashElementDiv.innerHTML="",za(a,b)}a.callingFlashObject||Va(a,b);e(a,"vastId "+b.vastId+" - loadVPW - done",!1)}else e(a,"vastId "+b.vastId+" - loadVPW - called before dom ready",!1)}function Wa(a){e(a,"post prepare",!1);if(a.domReady)for(var b=0,c=a.plist.length;b<
c;b++){var f=a.plist[b];a.vpwCached&&Pa(a,f);1==f.tlvState&&("flvpaid"!=f.adType||2==f.vpwLoaded&&a.vpwCached&&"flvpaid"==f.adType?(e(a,"vastId "+f.vastId+" has schedule media load - calling now",!1),ma(a,f)):e(a,"vastId "+f.vastId+" has schedule media load but it's flash and vpw is not ready",!1))}else e(a,"post prepare - dom not ready yet - we'll wait",!1)}function ka(d,b){if(0==d.domReadyTime)try{if(e(d,"on dom load",!1),d.rootDivElem||(d.rootDivElem=a.getElementById(d.divId)),d.rootDivElem){d.domLoadTimeout&&
(clearTimeout(d.domLoadTimeout),d.domLoadTimeout=null);var c=((new Date).getTime()-d.startTime)/1E3,c=c.toFixed(1);d.domReadyTime=c;e(d,"ondomload - adding div",!1);var f=d.rootDivElem.offsetWidth,h=d.rootDivElem.offsetHeight;f&&h&&0!==f&&0!==h||(f=d.rootDivElem.clientWidth,h=d.rootDivElem.clientHeight);if(!f||!h||0===f||0===h)var k=d.rootDivElem.getBoundingClientRect(),h=k.height,f=k.width;d.width=f;d.height=h;d.divElem=a.createElement("div");d.divElem.style.cssText="width:100%; height:100%; display: block; overflow:hidden; position: relative; margin: 0; padding: 0; border: 0; background-color: black; top: 0; left 0;";
d.rootDivElem.appendChild(d.divElem);e(d,"ondomload - creating rotator",!1);Ha(d);d.domReady=!0;Wa(d)}else if(b>d.conf.maxDomLoadTimes)d.domLoadTimeout&&(clearTimeout(d.domLoadTimeout),d.domLoadTimeout=null),L(d,6,"div element not found tlvPlayerDomLoaded: "+d.divId);else{e(d,"domload timeout "+b+" retrying in "+d.conf.domLoadRetryTimeout,!1);d.domLoadTimeout&&(clearTimeout(d.domLoadTimeout),d.domLoadTimeout=null);var l=function(a,d){try{e(a,"domload timeout",!1),a.domLoadTimeout=null,a.domLoadTimeout&&
(clearTimeout(a.domLoadTimeout),a.domLoadTimeout=null),ka(a,d+1)}catch(b){}};d.domLoadTimeout=CEDATO_BROWSER.oldIE?setTimeout(function(){l(d,b)},d.conf.domLoadRetryTimeout):setTimeout(l,d.conf.domLoadRetryTimeout,d,b)}}catch(m){L(d,3,"tlvPlayerDomLoaded gave JS exception: "+m.message,m)}}function Ca(a){if(!a.frozen)if(a.parallelStartAd){for(var b=!0,c=0,f=a.plist.length;c<f;c++)if("1"==a.plist[c].group&&0==a.plist[c].errorCount){b=!1;break}if(b)e(a,"all have errors, not reseting readyForStartAd",
!1);else{e(a,"reseting readyForStartAd",!1);a.readyForStartAd=!1;null!=a.initialStartAd&&(clearTimeout(a.initialStartAd),a.initialStartAd=null);var h=function(a){e(a,"readyForStartAd",!1);a.readyForStartAd=!0;a.initialStartAd=null;H(a)};a.initialStartAd=CEDATO_BROWSER.oldIE?setTimeout(function(){h(a)},12E3):setTimeout(h,12E3,a)}}else a.readyForStartAd=!0}function Oa(a,b,c){e(a,"initializing player for vastId "+b.id+", url: "+b.url,!1);var f={videoElement:null,flashElement:null,jsVPAIDElement:null,
jsVPAIDElementDiv:null,initAdEnvObject:null,companionsElementDiv:null,maxFailedVastRetries:0,adType:null,previousAdType:null,firedEvents:{},vastPreferType:0,corsType:null,status:1};f.group=b.group;f.vastURL=b.url;f.vastId=b.id;f.playerId=b.pid?b.pid:a.playerId;b.mvr&&(f.maxFailedVastRetries=b.mvr);b.vt&&(f.vastPreferType=b.vt);b.ct&&(f.corsType=b.ct);b.cxvid&&(f.cxvid=b.cxvid);b.cxpid&&(f.cxpid=b.cxpid);f.fetchesSinceInitPlayer=b.fetchesSinceInitPlayer?b.fetchesSinceInitPlayer:0;f.longStartAd=!!b.lsa;
f.expectedSureFastStart=!!b.sff;f.expectedSureFastStart=!1;f.playersStorageName=a.playersStorageName;f.tlvState=0;f.vpwLoaded=0;f.vpwLoadRetry=0;f.errorCount=0;f.startAdStopper=null;f.startAdHalfStopper=null;f.startAdSwitcher=null;f.playVideoRetry=null;f.requeryTimeout=null;f.initAdThrottler=null;f.vpwWaitFunc=null;f.flashInitialTimeout=null;f.flashLoadCheckInterval=null;a.curUniq++;f.uniqId=a.curUniq;f.roundNo=0;f.freqRetry=a.usejsv;f.isIMA=!1;"undefined"!==typeof c&&c?a.plist.splice(c,0,f):a.plist.push(f);
return f}function Pa(d,b){if(d.flashSupport){if(d.singleVPW)d.flashElementDiv||(d.flashElementDiv=a.createElement("div"),d.flashElementDiv.style.zIndex="1",d.divElem.appendChild(d.flashElementDiv)),b.flashElementDiv=d.flashElementDiv;else{b.flashElementDiv=a.createElement("div");b.flashElementDiv.style.position="absolute";try{b.flashElementDiv.style.top="-1000px"}catch(c){}b.flashElementDiv.style.zIndex="1";d.divElem.appendChild(b.flashElementDiv)}za(d,b);null===b.flashElement?L(d,4,"failed to create flash element"):
J(d,b,!1)}}function Sa(a){a.jsVPAIDElementDiv&&(a.jsVPAIDElementDiv.style.display="none");try{a.jsVPAIDElement&&(a.jsVPAIDElement.stopAd(),a.jsVPAIDElement.clearAd&&a.jsVPAIDElement.clearAd())}catch(b){}try{a.jsVPAIDElementDiv&&a.jsVPAIDElementDiv.parentNode.removeChild(a.jsVPAIDElementDiv)}catch(b){}a.jsVpaidFrame=null;a.vpaidJsIframeAdElem=null;a.vpaidJsIframeVideo=null;a.vpaidJsIframeVideoCanvas=null;a.jsVPAIDElement=null;a.jsVPAIDElementDiv=null}function S(a,b,c){try{"undefined"===typeof c&&(c=
!1);var f=b.vastId;e(a,"vastId "+b.vastId+" - destroying player data, immediate: "+c,!1);b.destroyMe=!0;for(var h=null,k=0,l=a.plist.length;k<l;k++)if(a.plist[k].destroyMe){h=k;break}if(null===h)return!1;a.plist.splice(h,1);null!=b.flashInitialTimeout&&(clearInterval(b.flashInitialTimeout),b.flashInitialTimeout=null);null!=b.flashLoadCheckInterval&&(clearInterval(b.flashLoadCheckInterval),b.flashLoadCheckInterval=null);null!=b.requeryTimeout&&(clearInterval(b.requeryTimeout),b.requeryTimeout=null);
null!=b.requeryTimeout&&(clearTimeout(b.startAdSwitcher),b.startAdSwitcher=null);null!=b.startAdHalfStopper&&(clearTimeout(b.startAdHalfStopper),b.startAdHalfStopper=null);null!=b.startAdStopper&&(clearTimeout(b.startAdStopper),b.startAdStopper=null);null!=b.sameVastIdLoader&&(clearTimeout(b.sameVastIdLoader),b.sameVastIdLoader=null);null!=b.startAdSwitcher&&(clearTimeout(b.startAdSwitcher),b.startAdSwitcher=null);null!=b.initAdThrottler&&(clearInterval(b.initAdThrottler),b.initAdThrottler=null);
null!==b.playVideoRetry&&(clearInterval(b.playVideoRetry),b.playVideoRetry=null);if(b.videoElement)try{b.videoElement.parentNode.removeChild(b.videoElement)}catch(m){e(a,"ve removeChild gave exception: "+m.message,!1)}"jsvpaid"==b.adType&&Sa(b);if(a.flashSupport)if(a.singleVPW)n=function(a,d){try{b.flashElement[b.flashEICallbacks]("removeVpaid",d)}catch(c){e(a,"flash removeFunc gave exception: "+c.message,!1)}},c?n(a,b.uniqId):CEDATO_BROWSER.oldIE?setTimeout(function(){n(a,b.uniqId)},1E3):setTimeout(n,
1E3,a,b.uniqId);else{b.flashElementDiv&&(b.flashElementDiv.style.zIndex="0");try{if(b.flashElement&&b.flashEICallbacks)b.flashElement[b.flashEICallbacks]("clearAd",b.uniqId)}catch(m){}var n=function(a,d,b){try{CEDATO_SWF.swfobject.removeSWF(b.id)}catch(c){}try{d&&d.parentNode.removeChild(d),d.innerHTML=""}catch(c){e(a,"removeFunc gave exception: "+c.message,!1)}};b.flashElementDiv&&b.flashElement&&(c?n(a,b.flashElementDiv,b.flashElement):CEDATO_BROWSER.oldIE?setTimeout(function(){n(a,b.flashElementDiv,
b.flashElement)},1E3):setTimeout(n,1E3,a,b.flashElementDiv,b.flashElement))}try{b.companionsElementDiv&&(b.companionsElementDiv.parentNode.removeChild(b.companionsElementDiv),b.companionsElementDiv.innerHTML="",b.companionsElementDiv=null)}catch(m){e(a,"remove companions div gave exception: "+m.message,!1)}}catch(m){t(a,f,3,"destroy player data exception: "+m.message,m,b,!1,!1,"destroy player")}}function Na(a,b){"undefined"===typeof b&&(b=!1);b?e(a,"destroying all players except for vastId "+b,!1):
e(a,"destroying all players",!1);for(var c=!0;c;)for(var c=!1,f=0,h=a.plist.length;f<h;f++)if(a.plist[f].vastId!=b){S(a,a.plist[f],!0);c=!0;break}}function mb(d,b){var c=null;if(b){e(d,"prepare calling flash object",!1);"null"!=b&&(c=-1!=navigator.appName.indexOf("Microsoft")?f[b]:a[b]);if(null==c){for(var h=a.getElementsByTagName("object"),k=0,l=h.length;k<l;k++)if(h[k].connectToJSPlayer){c=h[k];break}if(null==c)for(h=a.getElementsByTagName("embed"),k=0,l=h.length;k<l;k++)if(h[k].connectToJSPlayer){c=
h[k];break}}else e(d,"got connceting clash object from prms",!1);if(null==c)return e(d,"could not identify calling object",!1),!1;if(!c.connectToJSPlayer)return e(d,"flash connect callback not found",!1),!1;d.allowLongImpressions=!0}d.callingFlashObject=c}function Xa(a){for(var b=0,c=a.plist.length;b<c;b++)if(6==a.plist[b].tlvState)return a.plist[b];return!1}function Ya(a,b){e(b,a+" resume callback called",!1);var c=Xa(b);if(c)if(b.apiInterface.trigger("adplay",{vastId:c.vastId,playerId:b.playerId,
subid:b.subid}),e(b,a+" resume - got playing playerData, vastId: "+c.vastId,!1),"flvpaid"==c.adType){if(c.flashElement)try{c.flashElement[c.flashEICallbacks]("vpwResumeAd",c.uniqId)}catch(f){e(b,a+" resume gave JS exception on flashElement pause: "+f.message)}}else if("jsvpaid"==c.adType)try{c.jsVPAIDElement.resumeAd()}catch(f){e(b,a+" pause gave JS exception on vpaidjs pause: "+f.message)}else{if("video"==c.adType)try{c.videoElement.play()}catch(f){e(b,a+" resume gave JS exception on videoElement pause: "+
f.message)}}else b.autoplay=!0,b.autoplayOverwrite=!0,e(b,a+" resume - no playing playerData",!1),b.contentUrlPlayer&&b.contentUrlPlayer.isVisible()?b.contentUrlPlayer.playContent():(H(b,!0),b.anyPlaying||(b.autoplay=!0,b.autoplayOverwrite=!0),e(b,"vp resume - no playing playerData",!1))}function Za(a,b){b.apiInterface.trigger("adplay",{vastId:null,playerId:b.playerId,subid:b.subid});b.autoplayOverwrite=!0;b.autoplay=!0;e(b,a+" play callback called",!1);H(b,!0);b.anyPlaying||(b.autoplay=!0)}function $a(a,
b){b.autoplay=!1;b.autoplayOverwrite=!0;e(b,a+" pause callback called",!1);var c=Xa(b);if(c)if(b.apiInterface.trigger("adpause",{vastId:c.vastId,playerId:b.playerId,subid:b.subid}),c.isPaused=!0,e(b,a+" pause - got playing playerData, vastId: "+c.vastId,!1),"flvpaid"==c.adType){if(c.flashElement)try{c.flashElement[c.flashEICallbacks]("vpwPauseAd",c.uniqId)}catch(f){e(b,a+" pause gave JS exception on flashElement pause: "+f.message)}}else if("jsvpaid"==c.adType)try{c.jsVPAIDElement.pauseAd()}catch(f){e(b,
a+" pause gave JS exception on vpaidjs pause: "+f.message)}else{if("video"==c.adType)try{c.videoElement.pause()}catch(f){e(b,a+" pause gave JS exception on videoElement pause: "+f.message)}}else b.contentUrlPlayer&&b.contentUrlPlayer.isVisible()&&b.contentUrlPlayer.pauseContent(),e(b,a+" pause - no playing playerData",!1)}function ab(a,b,c,e){a.width=b;a.height=c;if(a.rootDivElem){a.rootDivElem.style.width=b+"px";a.rootDivElem.style.height=c+"px";for(var f=0,h=a.plist.length;f<h;f++){var k=a.plist[f];
switch(k.adType){case "flvpaid":if(k.flashElement){k.flashElement.width=b;k.flashElement.height=c;try{k.flashElement[k.flashEICallbacks]("vpwResizeAd",k.uniqId,b,c,e)}catch(l){}}break;case "jsvpaid":if(k.jsVPAIDElement&&k.jsVPAIDElement.resizeAd)try{k.jsVPAIDElement.resizeAd(b,c,e)}catch(l){}}}}}function Ia(a,b,c){a.allowSound=0<b;a.contentUrlPlayer&&a.contentUrlPlayer.setVolume(b);for(var e=0,f=a.plist.length;e<f;e++){var h=a.plist[e];switch(h.adType){case "flvpaid":if(h.flashElement&&h.flashEICallbacks)try{h.flashElement[h.flashEICallbacks]("vpwVolume",
h.uniqId,b)}catch(k){}break;case "jsvpaid":if(h.jsVPAIDElement&&h.jsVPAIDElement.setAdVolume&&!a.usejsv)try{h.jsVPAIDElement.setAdVolume(b)}catch(k){}break;case "video":a.usejsv||("undefined"!==typeof c&&c?h.videoElement.muted=0==b:(h.videoElement.muted=!1,h.videoElement.volume=b))}}}function nb(b){e(b,"post prepare js callbacks",!1);b.vpDebugCallbackFuncName="vpd"+Math.floor(1000001*Math.random());f[b.vpDebugCallbackFuncName]=function(a,b,d,c){try{var g=f[a.playersStorageName||a];if(""!=b)if(d){var h=
b.split("\n"),k,l=h.length;for(k=0;k<l;k++)""!=h[k]&&e(g,"flash: "+h[k],!1)}else e(g,"flash: "+b,!1)}catch(E){}};if("vpaid"==b.mode){b.vpPlayCallbackFuncName="vpp"+Math.floor(1000001*Math.random());f[b.vpPlayCallbackFuncName]=function(a){try{var b=f[a.playersStorageName||a];Za("vp",b)}catch(d){e(b,"vp play gave JS exception: "+d.message)}};b.vpStopCallbackFuncName="vps"+Math.floor(1000001*Math.random());f[b.vpStopCallbackFuncName]=function(a){try{var b=f[a.playersStorageName||a];e(b,"vp stop callback called",
!1);b.autoplay=!1;b.autoplayOverwrite=!0;N(b,!1);b.vpaidObj.call("jsAdStopped",{},!0)}catch(d){e(b,"vp stop gave JS exception: "+d.message)}};b.vpPauseCallbackFuncName="vpps"+Math.floor(1000001*Math.random());f[b.vpPauseCallbackFuncName]=function(a){try{var b=f[a.playersStorageName||a];b.autoplay=!1;b.autoplayOverwrite=!0;e(b,"vp pause callback called",!1);$a("vp",b)}catch(d){e(b,"vp pause gave JS exception: "+d.message)}};b.vpResumeCallbackFuncName="vprs"+Math.floor(1000001*Math.random());f[b.vpResumeCallbackFuncName]=
function(a){try{var b=f[a.playersStorageName||a];e(b,"vp pause callback called",!1);Ya("vp",b)}catch(d){e(b,"vp resume gave JS exception: "+d.message)}};b.vpInitAdCallbackFuncName="vpia"+Math.floor(1000001*Math.random());f[b.vpInitAdCallbackFuncName]=function(b){var d=f[b.playersStorageName||b];b=b.slot;var c=d.rootDivElem?d.rootDivElem:a.getElementById(d.divId);c.parentNode.removeChild(c);b.parentNode.style.margin=0;b.parentNode.style.padding=0;b.appendChild(c);d.vpaidObj.call("jsAdReadyToStart",
{},!0)};b.vpSetAdVolumeCallbackFuncName="vpsv"+Math.floor(1000001*Math.random());f[b.vpSetAdVolumeCallbackFuncName]=function(a,b){var d=f[a.playersStorageName||a];b=a.volume||b||0;Ia(d,b,!1);e(d,"vpSetAdVolumeCallbackFuncName called",!1)};b.vpResizeAdCallbackFuncName="vprs"+Math.floor(1000001*Math.random());f[b.vpResizeAdCallbackFuncName]=function(a,b,d,c){var g=f[a.playersStorageName||a];b=a.width||b;d=a.height||d;c=a.viewMode||c;ab(g,b,d,c);e(g,"vpResizeAdCallbackFuncName called",!1)};b.vpExpandAdCallbackFuncName=
"vpex"+Math.floor(1000001*Math.random());f[b.vpExpandAdCallbackFuncName]=function(a){e(f[a.playersStorageName||a],"vpExpandAdCallbackFuncName called",!1)};if("vpaid"==b.mode){var c=a.createElement("div");c.setAttribute("id",b.divId);var h="0";b.callingFlashObject&&(h="-"+b.height);c.setAttribute("style","width:"+b.width+"px;height:"+b.height+"px;position:relative;top:"+h+"px;");if(b.callingFlashObject){e(b,"post prepare calling flash object",!1);b.flashEICallbacks=b.callingFlashObject.connectToJSPlayer(b.playersStorageName,
b.vpPlayCallbackFuncName,b.vpStopCallbackFuncName,b.vpDebugCallbackFuncName,b.vpResizeAdCallbackFuncName,b.vpSetAdVolumeCallbackFuncName,b.vpPauseCallbackFuncName,b.vpResumeCallbackFuncName);if(!b.flashEICallbacks||""===b.flashEICallbacks)return e(b,"flash connect callback returned an error",!1),!1;b.vpaidObj.initObj(b.callingFlashObject,"fl",b.playersStorageName,b.flashEICallbacks);e(b,"js connected to flash successfully",!1);var k=b.callingFlashObject.parentNode||b.callingFlashObject.parentElement;
b.callingFlashObjectParent=k;b.callingFlashObject.nextSibling?k.insertBefore(c,b.callingFlashObject.nextSibling):k.appendChild(c)}else b.jsCallingVpaid&&(h=a.querySelector("body"),h.appendChild(c),b.vpaidObj.register("inInitAd",f[b.vpInitAdCallbackFuncName],this),b.vpaidObj.register("inPlayAd",f[b.vpPlayCallbackFuncName],this),b.vpaidObj.register("inStopAd",f[b.vpStopCallbackFuncName],this),b.vpaidObj.register("inPauseAd",f[b.vpPauseCallbackFuncName],this),b.vpaidObj.register("inResumeAd",f[b.vpResumeCallbackFuncName],
this),b.vpaidObj.register("inSetAdVolume",f[b.vpSetAdVolumeCallbackFuncName],this),b.vpaidObj.register("inResizeAd",f[b.vpResizeAdCallbackFuncName],this),b.vpaidObj.register("inExpandAd",f[b.vpExpandAdCallbackFuncName],this),b.vpaidObj.call("ready",{},!0))}b.rootDivElem=a.getElementById(b.divId);if(b.rootDivElem)return b.width=b.rootDivElem.clientWidth,b.height=b.rootDivElem.clientHeight,b.companionsRootDivElem=a.createElement("div"),b.companionsDivElem=a.createElement("div"),b.companionsDivElem.setAttribute("style",
"width:100%;height:100%;position:relative;top:0px; display: block;"),b.companionsRootDivElem.appendChild(b.companionsDivElem),b.callingFlashObject?k.insertBefore(b.companionsRootDivElem,c):b.jsCallingVpaid&&(h=a.querySelector("body"),h.appendChild(b.companionsRootDivElem)),!0;L(b,6,"div element not found in post calling flash obj: "+b.divId)}}function ob(b){if(b.flashSupport){b.vpwVersion=2;b.vpwURL=b.protocol+"//"+b.conf.sUrl+"/player/"+b.conf.flName+"?v=";Ga(b);b.prevpwDiv=null;b.vpwCached=!0;try{if(b.callingFlashObject)e(b,
"calling flash object present, no pre-vpw needed",!1);else if(a&&a.body){e(b,"appending vpw pre loader",!1);b.vpwCached=!1;b.prevpwDiv=a.createElement("div");a.body.appendChild(b.prevpwDiv);var c="vpwp"+Math.floor(1000001*Math.random());b.prevpwDiv.innerHTML='<object id="'+c+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="1" height="1"><param name="movie" value="'+b.vpwURL+b.vpwVersion+'" /><param name="allowScriptAccess" value="always"></param><param name="allowscriptaccess" value="always"></param>\x3c!--[if !IE]>--\x3e<object type="application/x-shockwave-flash" data="'+
b.vpwURL+b.vpwVersion+'" width="1" height="1">\x3c!--<![endif]--\x3e\x3c!--[if !IE]>--\x3e</object>\x3c!--<![endif]--\x3e</object>';var f=CEDATO_SWF.swfobject.getObjectById(c);f?(b.prevpwPlayerData=[],b.prevpwPlayerData.vastId=0,b.prevpwPlayerData.flashElement=f,b.prevpwPlayerData.flashInitialTimeout=null,b.prevpwPlayerData.flashLoadCheckInterval=null,b.prevpwPlayerData.vpwWaitFunc=null,e(b,"vpw pre loader flash element prepared",!1),Va(b,b.prevpwPlayerData)):(b.prevpwDiv=null,b.vpwCached=!0,e(b,
"could not get vpw pre loader flash element",!1))}else e(b,"no document.body",!1)}catch(h){}}}function pb(b,c,f){try{f?e(b,"gpv answer from xhr",!1):e(b,"gpv answer from script",!1);b.gpvM="2";f&&(b.gpvM="1");b.gpvReturned=!0;if(f)try{a.getElementsByTagName("head")}catch(h){}else try{b.gsvXHR.abort()}catch(h){}var k=((new Date).getTime()-b.startTime)/1E3,k=k.toFixed(1);b.gpvTime=k;e(b,c,!0);e(b,"initializing players",!1);b.urlReplacer=null;for(var k=f=!1,l=[],m=0,p=c.length;m<p;m++){var q=c[m];if("c"==
q.id)if("d"==q.c)f=!0,Na(b),ca(b);else{q.tpt&&(b.thirdPartyTimeout=q.tpt);b.vastWaitFactor=1;q.vwf&&(b.vastWaitFactor=q.vwf);b.maxFailedVastRetries=0;q.mvr&&(b.maxFailedVastRetries=q.mvr);q.mas&&(b.maxAdStarts=q.mas);q.sc&&(b.allowSound=q.sc);q.lc&&(b.noContentLoop=!q.lc);q.paf&&(b.adsAfterContent=q.paf,b.adsAfterContent&&!b.autoplayOverwrite&&(b.autoplay=!1));b.debugLogReason=q.sdlr?q.sdlr:"gpv";"1"==q.sdl&&(e(b,"gpv turned sdl on",!1),n(b),b.keepDebugLog=!0);"1"==q.lvr&&(b.logVastResponse=!0);"1"==
q.sdlpe&&(b.submitDebugLogOnPlayerError=!0);"1"==q.sdlve&&(b.submitDebugLogOnVastError=!0);q.vd&&(b.submitDebugLogOnVastDisplayed=q.vd);q.content&&(b.content=q.content);q.ni&&(b.networkId=q.ni);b.autoplayOverwrite||(!1===q.ap?(b.autoplay=!1,b.mainAutoplay=!1):(b.autoplay=!0,b.mainAutoplay=!0));q.rvu&&(b.urlReplacer=[],b.urlReplacer.vastId=q.rvu.v,b.urlReplacer.searchFor=q.rvu.s,b.urlReplacer.replaceWith=q.rvu.r,b.vpwURL&&(b.vpwURL=b.vpwURL.replace("v=","edl=2&v=")));void 0!==q.ruv&&(b.reuseVPW=!!q.ruv);
q.ho&&1==q.ho&&(b.flashSupport=!1);b.allowSound=q.as?q.as:!1;b.controlBar=q.co?q.co:!1;q.content?(b.content.url=q.content.url,b.content.loader_image_url=q.content.loader_image_url,b.content.type=q.content.type,b.content.loop=!!(1*q.content.cl),b.content.click=q.content.click,b.content.playFull=!!(1*q.content.cpf),b.content.autoplay=q.ap,b.content.playFull&&!b.autoplayOverwrite&&(b.autoplay=!1)):(b.content.url="",b.content.loader_image_url="",b.content.type=0,b.content.loop=!0,b.content.click="",b.content.playFull=
!1,b.autoplayOverwrite||(b.content.autoplay=!0,!1===q.ap&&(b.content.autoplay=!1)));q.is&&F(q.is,b);for(var r=0,t=b.initOverrides.length;r<t;r++)switch(b.initOverrides[r].name){case "autoplay":b.autoplay=b.initOverrides[r].value;b.content.autoplay=b.initOverrides[r].value;break;case "contentUrl":b.content.type=1;b.content.url=b.initOverrides[r].value;break;case "contentClickUrl":b.content.click=b.initOverrides[r].value;break;case "rotate":b.content.maxAdStarts=b.initOverrides[r].value;break;case "allowSound":b.allowSound=
b.initOverrides[r].value}b.initOverrides=[];b.gpvConfLoaded=!0}else if("d"==q.c){for(var u=q.id,v=[],r=0,t=b.plist.length;r<t;r++)b.plist[r].vastId==u&&v.push(b.plist[r]);b.anyPlaying=0<v.length?!0:b.anyPlaying;r=0;for(t=v.length;r<t;r++)S(b,v[r],!0),b.anyPlaying=b.anyPlaying&&aa(b,v[r]);f=!0;k=k||0<v.length}else l.push(Oa(b,q))}if(f)k&&H(b);else if(Ca(b),"single"==b.mode&&b.flashSupport){b.domLoadTimeout=null;CEDATO_SWF.swfobject.addDomLoadEvent(function(){try{b.domLoadTimeout&&(clearTimeout(b.domLoadTimeout),
b.domLoadTimeout=null),ka(b,1)}catch(a){L(b,3,"ondomload gave JS exception: "+a.message,a),e(b,"ondomload gave JS exception: "+a.message,!1)}});var y=function(a){try{e(a,"domload timeout",!1),a.domLoadTimeout&&(clearTimeout(a.domLoadTimeout),a.domLoadTimeout=null),ka(a,1)}catch(b){}};b.domLoadTimeout=CEDATO_BROWSER.oldIE?setTimeout(function(){y(b)},b.conf.domLoadInitTimeout):setTimeout(y,b.conf.domLoadInitTimeout,b)}else b.domLoadTimeout=CEDATO_BROWSER.oldIE?setTimeout(function(){ka(b,1)},0):setTimeout(ka,
0,b,1);e(b,"initiating fetch",!1);r=0;for(t=l.length;r<t;r++){var z=l[r].playerId;w(l[r])&&null==b.cedatoxPlayersToFetchesCount[z]&&(b.cedatoxPlayersToFetchesCount[z]=0);CEDATO_BROWSER.oldIE?setTimeout(function(){pa(l[r])},50*r):setTimeout(pa,50*r,l[r])}}catch(h){L(b,3,"gpv gave JS exception: "+h.message,h)}}function bb(a){try{f&&(f.onerror=function(a,b,d,f,g){try{-1!==b.indexOf("algovid")&&e(c,"Unhandeled exception "+a+" == "+b+" == "+d,!1)}catch(h){}});var b=0,c={},h;h="object"===(typeof a).toLowerCase()?
a:k(a,!0);if(h.p&&h.sid){var l=h.p,m=[];m.push(l);-1!==l.indexOf(",")&&(m=l.split(","),l=m[0]);var n;h.d&&(n=h.d);var q=(new Date).getTime(),p=h.sid,r;r=h.did?h.did:h.cb?"video"+l+h.cb:"video"+l;var t="102.98";h.pv?t=h.pv:h.playerVersion&&(t=h.playerVersion);var u="s8.algovid.com";h.mid&&(u=h.mid);var v=!1;void 0!==h.ruv&&(v=!!h.ruv);var w=!1,z=!1;2==h.cnl&&(w=!0);3==h.cnl&&(z=w=!0);var A=!1;1==h.sv&&(A=!0);var B=!0;0==h.ap&&(B=!1);var C=!1;!C&&Fa();2==h.sdl&&(C=!0);var D;D=h.se?h.se:jb();var F=300,
G=250;isNaN(h.w)||(F=h.w);isNaN(h.h)||(G=h.h);var H=!1;1==h.lvr&&(H=!0);var I=!1,x,M=[];1==h.app&&(I=!0);var N=!1;h.tpt&&(N=h.tpt);var P={d:!0,sid:!0,did:!0,p:!0,cb:!0,playerVersion:!0,mid:!0,cnl:!0,sv:!0,ap:!0,sdl:!0,se:!0,w:!0,h:!0,lvr:!0,app:!0,jsv:!0,ob:!0,pv:!0};if(I){var J="appsu appidfa appv appn appb appc appaid".split(" ");for(x in J)J.hasOwnProperty(x)&&(P[J[x]]=!0,h[J[x]]&&M.push(J[x]+"="+encodeURIComponent(h[J[x]])));!h.d&&h.appn&&(n="app://"+encodeURIComponent(h.appn))}x=!1;if(1==h.jsv||
I)x=!0;var O=h.ob,Q=h.job,J=!1;h.hasOwnProperty("muted")&&"0"==h.muted&&(J=!0);var V=!1;h.mas&&(V=h.mas);var T=!1;h.ho&&"1"==h.ho&&(T=!0);var W=!1,S="",R;for(R in h)isNaN(R)&&!P[R]&&h.hasOwnProperty(R)&&(S=S+"&"+R+"="+h[R]);try{var X=function(a){var b={p:m.join(","),cb:q,d:c.domain,sid:p,pv:t,w:F,h:G,f:Z,dd:ca,vs:aa,sa:c.detect,extra:S};if(c.plist.length){b.av=[];for(var d=0,f=c.plist.length;d<f;d++)-1===b.av.indexOf(c.plist[d].vastId)&&b.av.push(c.plist[d].vastId);b.av=b.av.join(",")}b=CEDATO_URLUTILS.buildUrl(c.protocol+
"//"+c.machineId+"/player/gpv?",b);try{CEDATO_HTTP.GetPlayerVast({url:b,retryInterval:1E4,preferredMethod:a,retries:2,success:function(a,b,c){pb(a,b,c===CEDATO_HTTP.USE_AJAX);setTimeout(function(){!0===a.autoplay&&X(c)},da)},externals:{players:c,debugLog:e,playerError:L}})}catch(g){L(c,3,"init stage GetPlayerVast gave JS exception: "+g.message,g)}};c.playerId=l;c.playerIds=m;c.subid=p;c.domain=n;c.sessionId=D;c.anyAdPlayed=!1;c.startTime=(new Date).getTime();c.fpwReadyTime=null;c.scheduledPixelSent=
!1;c.width=F;c.height=G;c.domReady=!1;c.domReadyTime=!1;c.anyPlaying=!1;c.divId=r;c.playerVersion=t;c.machineId=u;c.parallelStartAd=!0;c.usejsv=!1;c.gpvAttempt=0;c.autoplayOverwrite=!1;c.reuseVPW=v;c.delayedFetch={};c.delayedFetch.queue=[];c.delayedFetch.timer=null;c.vpPlayCallbackFuncName=null;c.vpStopCallbackFuncName=null;c.vpDebugCallbackFuncName=null;c.vpResizeCallbackFuncName=null;c.vpVolumeCallbackFuncName=null;O||(c.info=CEDATO_DEVICE.getDeviceInfo());c.initialStartAd=null;c.curUniq=0;c.logVastResponse=
H;c.singleVPW=A;c.autoplay=B;c.allowLongImpressions=!1;c.reportVPWStateInterval=null;c.allowSound=J;c.adsAfterContent=!1;c.maxAdStarts=V;c.curAdStarts=0;c.noContentLoop=!1;c.gpvM="0";c.vpwCached=!0;c.mode="single";c.cedatoxPlayersToFetchesCount={};c.gpvConfLoaded=!1;c.conf={};c.conf.flName="cedato_vpw_ima_101.82.swf";c.conf.sUrl="c.algovid.com";c.conf.pJsvUrl=c.conf.sUrl+"/player/jsv_pure.js";c.conf.mUrl="mc.algovid.com";c.conf.maxDomLoadTimes=60;c.conf.domLoadRetryTimeout=200;c.conf.domLoadInitTimeout=
500;c.conf.content={};c.conf.content.defaultLoader="//"+c.conf.sUrl+"/player/spinner.gif";c.conf.content.playButton="//"+c.conf.sUrl+"/player/play_button_gr.png";c.content={};if(w||C)c.debugLogReason="tag";c.submitDebugLogOnPlayerError=!1;c.submitDebugLogOnVastError=!1;c.submitDebugLogOnVastDisplayed=!1;c.thirdPartyTimeout=N;c.plist=[];c.protocol=CEDATO_URLUTILS.getProtocol(c.domain);c.detect=CEDATO_DETECT_UTILS.getStatsParam(c);b=1;y(c,w,C,z,!1);e(c,"Tag: "+a,!1);e(c,"player initialized. player version: "+
c.playerVersion+", playerId: "+l+", subid: "+c.subid+", domain: "+c.domain+", singleVPW: "+c.singleVPW+", autoplay: "+c.autoplay+", width: "+c.width+", height: "+c.height,!1);e(c,"ua: "+f.navigator.userAgent,!1);c.domainDetected=CEDATO_URLUTILS.getDetectedDomain();e(c,"domain detected: "+c.domainDetected,!1);c.domain?e(c,"domain received in param: "+c.domain,!1):(c.domain=c.domainDetected,e(c,"using detected domain: "+c.domain,!1));c.hasVideoSupport=!0;CEDATO_BROWSER.oldIE&&(e(c,"old ie",!1),9>CEDATO_BROWSER.msie.version&&
(e(c,"no video support",!1),c.hasVideoSupport=!1));c.hasVideoSupport&&!CEDATO_BROWSER.supportsVideo()&&(e(c,"no video support using test",!1),c.hasVideoSupport=!1);c.info?e(c,"get device info returned mobile: "+c.info.mobile+", os: "+c.info.os+", osv: "+c.info.osv+", make: "+c.info.make+", model: "+c.info.model,!1):e(c,"get device info failed",!1);p||L(c,6,"subid not defined");r||L(c,6,"divId not defined");l||L(c,6,"playerId not defined");b=2;c.playersStorageName="tlvp"+Math.floor(1000001*Math.random());
f[c.playersStorageName]=c;if(O||Q)c.mode="vpaid",c.vpaidObj=CEDATO_VPAID_OBJ.getVpaid(),c.autoplay=!1,c.autoplayOverwrite=!0;Q&&(c.jsCallingVpaid=Q,c.vpaidObj.initObj(Q,"js",c.playersStorageName));c.detect=CEDATO_DETECT_UTILS.getStatsParam(c);b=15;mb(c,O);n=encodeURIComponent(n);b=3;b=41;CEDATO_ES5.include();b=42;c.DMVAST=DMVAST;c.flashSupport=!1;x&&(c.flashSupport=!1,c.info.mobile=!0,c.usejsv=!0);b=5;if(O)c.flashSupport=!0;else{if(CEDATO_URLUTILS.isFileProtocol()||CEDATO_BROWSER.nonFlashSandbox())c.flashSupport=
!1,T=!0;c.flashSupport=c.usejsv||c.info&&c.info.mobile||T?!1:CEDATO_SWF.swfobject.hasFlashPlayerVersion("10.0.1")}CEDATO_EVENT_LOGGER.log(CEDATO_EVENT_LOGGER.E_START,c,{},{},e);W=!0;c.info&&!c.info.mobile&&5==Math.floor(100*Math.random())&&(c.reportVPWLoaded=!0);if(c.flashSupport)kb(c);else if(c.usejsv||c.info&&c.info.mobile||T)c.usejsv=c.info.mobile,c.usejsv&&e(c,"using jsv",!1),c.parallelStartAd=!1;else{if(CEDATO_SWF.swfobject.hasFlashPlayerVersion("6.0.0")){h=a="";try{a=navigator.userAgent(),h=
CEDATO_SWF.swfobject.getFlashPlayerVersion()}catch(ea){}L(c,2,"noflash old ver "+h+": "+a)}c.reportVPWLoaded&&CEDATO_EVENT_LOGGER.log(CEDATO_EVENT_LOGGER.E_VPWS,c,{state:3},{},e)}b=52;if(c.usejsv){e(c,"jsv loaded",!1);try{CEDATO_JSV.include()}catch(ea){}c.hasVideoSupport=!0}b=53;ob(c);b=54;nb(c);b=55;b=6;e(c,"calling gpv",!1);if(I){var Y=M.join("&");Y&&(S="&"+Y)}c.gpvExtraParams=S;c.gpvReturned=!1;var Z;Z=c.flashSupport?"1":"0";var aa;aa=c.hasVideoSupport?"1":"0";var ca="";c.domainDetected!==c.domain&&
(ca=encodeURIComponent(c.domainDetected));var b=56,da=6E5;X(CEDATO_HTTP.USE_JSONP_AND_AJAX);b=57;c.apiInterface=CEDATO_API.registerPlayer(r);c.initOverrides=[];c.apiInterface.on("_pause",function(){c.autoplay=!1;$a("api",c)}).on("_play",function(){c.contentUrlPlayer&&c.contentUrlPlayer.isVisible()?(c.autoplay=!0,c.contentUrlPlayer.playContent()):c.anyPlaying?Ya("api",c):Za("api",c)}).on("_overrideInit",function(a){a=a.data;!1===c.gpvConfLoaded?("undefined"!=typeof a.autoplay&&c.initOverrides.push({name:"autoplay",
value:!!a.autoplay}),"undefined"!=typeof a.contentUrl&&c.initOverrides.push({name:"contentUrl",value:String(a.contentUrl)}),"undefined"!=typeof a.contentClickUrl&&c.initOverrides.push({name:"contentClickUrl",value:String(a.contentClickUrl)}),"undefined"!=typeof a.rotate&&c.initOverrides.push({name:"rotate",value:Number(a.rotate)}),"undefined"!=typeof a.allowSound&&c.initOverrides.push({name:"allowSound",value:!!a.allowSound})):"undefined"!=typeof a.contentUrl?c.contentUrlPlayer&&c.contentUrlPlayer.setContentUrls(a.contentUrl):
(c.content||(c.content={}),c.content.type=1,c.content.url=a.contentUrl)}).on("_sound",function(a){a=a.data;switch(typeof a){case "boolean":Ia(c,a?1:0,!0);break;case "number":0<=a&&1>=a&&Ia(c,a,!0)}}).on("_resize",function(a){ab(c,a.data.width,a.data.height,"normal")}).on("_skip",function(a){})}catch(ea){L(c,3,"init stage "+b+" gave JS exception: "+ea.message,ea)}}}catch(ea){c.playerId||(c.playerId="0"),c.machineId||(c.machineId="s8.algovid.com"),c.subid||(c.subid=""),c.playerVersion||(c.playerVersion=
"102.98"),c.sessionId||(c.sessionId=""),0===b&&y(c,!1,!1,!1,!1),L(c,3,"init error  gave JS exception: "+encodeURIComponent(ea.message),ea),W||CEDATO_EVENT_LOGGER.log(CEDATO_EVENT_LOGGER.E_START,c,{},{},e)}}function cb(a){if(!a)return!1;a=a||"";return{algovid:a.indexOf("algovid"),tlvmedia:a.indexOf("tlvmedia"),cedatoplayer:a.indexOf("cedato_player")}}var Ea=function(){function a(){}a.xhr=function(){return CEDATO_BROWSER.createXMLHTTPObject()};a.supported=function(){return!!this.xhr()};a.get=function(b,
c,f){var h=c.players;c=c.playerData;var k=CEDATO_HTTP.CORS_W_CREDENTIALS;CEDATO_URLUTILS.isFileProtocol()&&(k=CEDATO_HTTP.CORS_WO_CREDENTIALS);CEDATO_HTTP.FetchVastService.get({vastId:c.vastId,url:b,corsSupport:k,flashSupport:h.flashSupport,exceptionHeaders:[],onNonRetry:function(a,b){},externals:{players:h,playerData:c,fixURLPrm:p,debugLog:e,vastError:t,cb:f,vastURLHandler:a,vpwException:W}})};return a}(),Y="",la={},P;try{Y=CEDATO_URLUTILS.ScriptPath(),la=k(Y,!0)}catch(d){Y=""}P=null;P=cb(Y);if(!P||
(-1===P.algovid||18<P.algovid)&&(-1===P.tlvmedia||18<P.tlvmedia)&&-1===P.cedatoplayer||!la.p){var Aa,Ba;try{Ba=a.getElementsByTagName("script"),Aa=Ba.length}catch(d){Aa=0,Ba=[]}if(0<Aa){for(var Ja=Aa-1;0<=Ja&&(Y=Ba[Ja].src,P=null,!(P=cb(Y))||-1===P.algovid&&-1===P.tlvmedia&&-1===P.cedatoplayer);--Ja);la=k(Y,!0)}}la.ob||la.job||bb(Y);f.viddspPlayerInit=bb})(window,document);

