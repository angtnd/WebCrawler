!function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){t.exports=n(1)},function(t,e,n){!function(){"use strict";function t(){var t=null,e=window.BF_User;if(e&&e instanceof Function){t={};var n=new e;if(t.isLoggedIn=n.isLoggedIn(),t.referrer=document.referrer,t.userAgent=navigator.userAgent,t.isLoggedIn){var r=n.getUserInfo();t.email=r.email,t.id=r.userid,t.name=r.username,t.isEditor="true"===r.p_editor_admin,t.isAdmin="true"===r.p_admin,t.isAdvertiser="true"===r.f_ad}w.log.info("User info aggregated")}return null}var e=n(2),r=n(3),i=n(4),o=n(5),a=n(158),s=n(161),u=n(162),c=n(163),l=n(164),d=n(166),p=n(167),f=n(178),h=n(179),g=n(180),v=n(181),m=n(182),y=n(183),b=n(184),_=n(185),w=new _.Core,x=w.utils.get(window,"BF_STATIC",null);if(w.utils.isObject(x)){var k={mode:"dev"===x.bf_env?w.defs.bfaMode.develop:w.defs.bfaMode.prod,webRoot:x.web_root,staticRoot:x.static_root,env:x.bf_env,platform:w.utils.startsWith(x.tt_page,"Mobile")?w.defs.platform.mobileweb:w.defs.platform.desktop,debug:document.location.search.indexOf("bfadebug=true")>-1};w.plugin(r,k).plugin(d).plugin(o).plugin(l).plugin(e);var S=t(),T={uri:{cleanedPath:document.location.pathname}};document.location.pathname&&x.web_root&&w.utils.startsWith(document.location.pathname,x.web_root)&&(T.uri.cleanedPath=document.location.pathname.substr(x.web_root.length)),T.country=x.country,T.metavertical="",T.language=x.language,T.type=x.page_type,T.templateType=x.tt_page,T.platform=k.platform;var M=w.utils.get(window,"buzzDetails",null);w.utils.isObject(M)&&(T.post={},T.post.form=M.form,T.post.id=x.campaignid,T.post.name=x.buzz_name,T.post.published=M.published,T.post.publishedAgo=M.published_ago,T.post.postFormat=M.postFormat,T.post.listFormat=M.listFormat,T.post.author=x.username,T.post.badges=M.postBadges,T.post.tags=M.postTags,T.post.metavertical="tbd",T.post.category=M.category_name,T.post.ad=0!==M.ad,T.post.user=0!==M.user,T.post.editor=0!==M.editor,T.post.trigger=0!==M.trigger,T.post.partner=0!==M.f_partner,T.post.raw=0!==M.raw,T.post.isPromoted=1===parseInt(x.f_ad),T.post.nsfw=0!==M.nsfw,T.post.subBuzzAmount=""!==M.subBuzzCount?parseInt(M.subBuzzCount):0,T.post.mainSubBuzzAmount=M.mainSubBuzzCount?parseInt(M.mainSubBuzzCount):0,T.post.wordsCount=M.wordsCount?parseInt(M.wordsCount):null),w.log.info("Page info aggregated");var F=k.platform===w.defs.platform.desktop?"mousedown":"click",C={bfaFunctionName:"bfa",domBinder:{delegatedMapping:{click:[{event:F,selector:".page-nav__action--fb-share",options:{}},{event:F,selector:"div.reactions-carousel__arrows",options:{}},{event:F,selector:"i.gif-nav",options:{}},{event:F,selector:".page-search__search-button",options:{}},{event:F,selector:"a",options:{handlers:["ATagWithExternalLinkHandler","ATagWithInternalLinkHandler","ATagDefaultHandler"]}},{event:F,selector:"button",options:{}},{event:F,selector:"input[type='submit']",options:{}},{event:F,selector:"select",options:{}},{event:F,selector:".country-toggle",options:{}},{event:"change",selector:"select",options:{handlers:["SelectTagChangedClickHandler"]}}]},directMapping:{click:[{event:F,selector:"#contribute-post",options:{}},{event:F,selector:".commentbox.contribution-form .submit",options:{}},{event:F,selector:"button.js-submit-signup-form",options:{}}]}},socialBinder:{facebookMapping:["like","unlike","comment"]}};T.post&&(C.scrollBinder={elementMode:{enabled:T.post.mainSubBuzzAmount>0&&"long"!==T.post.listFormat&&"no_list"!==T.post.listFormat,element:".buzz_superlist_item",expected:T.post.mainSubBuzzAmount},pixelMode:{enabled:!0},checkpoints:[25,50,75,100],bottomBounds:['[data-bfa="@l:Bottom-Share;"]',"#related_feed"]}),w.plugin(i).plugin(a).plugin(s).plugin(u).plugin(h).plugin(c).plugin(f).plugin(p,C).plugin(g,{enabled:x.pound_enabled}).registerModule(v,{extFilesPaths:[x.static_root+"/compiled/scode_webapp.js"],configMapsDelegate:y}).registerModule(m,{configMapsDelegate:b}),w.activatePlugins(),S?w.push("general/user/update",{}):w.domi.onDomReady(function(){S=t(),w.push("general/user/update",{})}),w.domi.onDomReady(function(){w.push("plugin/binder/activate",{})},this),w.push("general/page/update",T),w.activate()}}()},function(t,e){!function(){"use strict";function e(t){this._core=t,this._isDomReady=!1,this._domReady=new t.utils.Signal,this._domReady.addOnce(function(){this._isDomReady=!0},this,Number.MAX_VALUE);var e=this;return this._installDomi=function(n){n.domi={onDomReady:function(t,n){e._isDomReady?t.call(n):e._domReady.addOnce(t,n)},loadScript:function(e,n,r,i){function o(){this.onerror=null,this.onload=null,n.apply(i)}function a(){this.onerror=null,this.onload=null,r.apply(i)}var s=document.createElement("script");s.type=e.type||"text/javascript",s.charset=e.charset||"utf8",s.src=e.src,e.async!==!1&&(s.async=!0),t.utils.isUndefined(e.attrs)||t.utils.forOwn(e.attrs,function(t,e){s.setAttribute(e,t)}),t.utils.isFunction(n)&&(s.onload=o),t.utils.isFunction(r)&&(s.onerror=a);var u=document.body||document.getElementsByTagName("body")[0];u&&u.appendChild(s)}}},this._installDomi(t),function(){if("complete"===document.readyState||"loaded"===document.readyState||"interactive"===document.readyState)return t.log.info("onReady method: document.readyState is '"+document.readyState+"' and callback will be fired immediately"),void e._domReady.dispatch();if(document.addEventListener)t.log.info("onReady method: callback will be added to EventListener"),document.addEventListener("DOMContentLoaded",e._domReady.dispatch,!1);else if(document.attachEvent)document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&e._domReady.dispatch()});else{t.log.info("onReady method: callback will be added to window onload");var n=window.onload;window.onload=function(){n&&n(),e._domReady.dispatch()}}}(),{modifySBInstance:function(t){e._installDomi(t)}}}e.defaultId="domi",t.exports=e}()},function(t,e){!function(){"use strict";function e(t,e){var n={mode:t.defs.bfaMode.prod,debug:!1};this._core=t;var r=this._core.utils.defaultsDeep(e||{},n),i=new t.utils.Signal;return this.setSettings=function(e){t._generalSettings=t.utils.cloneDeep(e||{}),t._onGeneralSettingsChange.dispatch(t.utils.cloneDeep(t._generalSettings))},this.updateSettings=function(e){t._generalSettings=t.utils.merge(t._generalSettings||{},e||{}),t._onGeneralSettingsChange.dispatch(t.utils.cloneDeep(t._generalSettings))},t._onGeneralSettingsChange=i,this.setSettings(r),this._core._router.sub("general/settings/set",this.setSettings,this),this._core._router.sub("general/settings/update",this.updateSettings,this),{modifySBInstance:function(e){e.getGeneralSettings=function(){return t.utils.cloneDeep(t._generalSettings)},e.onGeneralSettingsChange=function(e,n){t._onGeneralSettingsChange.add(e,n)}}}}e.defaultId="generalSettings",t.exports=e}()},function(t,e){!function(){"use strict";function e(t,e){var n={varName:"bfa",eventsArrayName:"c"};if(this.settings=t.utils.defaultsDeep(e||{},n),this.unhandledEventsArray=null,t.utils.has(window,this.settings.varName)){var r=t.utils.get(window,this.settings.varName);if(t.utils.has(r,this.settings.eventsArrayName)&&t.utils.isArray(r[this.settings.eventsArrayName])&&(this.unhandledEventsArray=r[this.settings.eventsArrayName],this.unhandledEventsArray.length>0)){var i=t.utils.remove(this.unhandledEventsArray,function(e){return e[0]&&!t.utils.startsWith(e[0],"track")&&!t.utils.startsWith(e[0],"module")});t.utils.forEach(i,function(e){t.push.apply(t,e)},this)}}return t.inited.addOnce(function(){window[this.settings.varName]=function(){t.push.apply(t,arguments)},this.unhandledEventsArray&&this.unhandledEventsArray.length>0&&t.utils.forEach(this.unhandledEventsArray,function(e){t.push.apply(t,e)},this)},this),{}}e.defaultId="globalBfaEndpoint",t.exports=e}()},function(t,e,n){!function(){"use strict";function e(t){function e(e){e.mode===t.defs.bfaMode.develop||e.debug===!0?t.log.enabled()!==!0&&t.log.enabled(!0):t.log.enabled()===!0&&t.log.enabled(!1)}return t.log=r("BFACore"),t._router.log=t.log,t.createLogger=function(e){return t.utils.isString(e)&&""!==e||t.log.error("core.createLogger: `loggerName` argument must be a not empty string"),r(e)},t.log.enabled=function(t){return r.enabled(t)},e(t._generalSettings),t._onGeneralSettingsChange.add(e,this),{modifySBInstance:function(t){t.log=r(t.instanceId)}}}var r=n(6);e.defaultId="logger",e.require=["generalSettings"],t.exports=e}()},function(t,e,n){!function(){"use strict";function e(){var t=new Date,e=t.getMinutes(),n=t.getSeconds(),r=t.getMilliseconds();return 10>e&&(e="0"+e),10>n&&(n="0"+n),e+":"+n+"."+r}function r(t){return t instanceof Error?t.stack||t.message:t.toString()}function i(t){return{log:function(n,o){if("undefined"!=typeof o&&i._enabled===!0){o=r(o);var a="BF_Analytics: [ "+t+", "+n+", Time: "+e()+", '"+o+"' ]";window&&window.console&&console.log&&Function.prototype.apply.call(console.log,console,[a])}},info:function(t){this.log("INFO",t)},error:function(t){this.log("ERROR",t)},warn:function(t){this.log("WARN",t)}}}var o=n(7);i._enabled=!1,i.enabled=function(t){return o.isBoolean(t)&&(i._enabled=t),i._enabled},t.exports=i}()},function(t,e,n){!function(){"use strict";t.exports.isEmpty=n(8),t.exports.isString=n(15),t.exports.isArray=n(19),t.exports.isBoolean=n(29),t.exports.isObject=n(14),t.exports.isPlainObject=n(30),t.exports.isUndefined=n(34),t.exports.isFunction=n(22),t.exports.cloneDeep=n(35),t.exports.clone=n(47),t.exports.has=n(49),t.exports.get=n(56),t.exports.set=n(57),t.exports.forOwn=n(58),t.exports.keys=n(24),t.exports.defaults=n(60),t.exports.defaultsDeep=n(67),t.exports.merge=n(68),t.exports.values=n(74),t.exports.after=n(76),t.exports.defer=n(77),t.exports.bind=n(79),t.exports.delay=n(105),t.exports.every=n(106),t.exports.forEach=n(126),t.exports.map=n(128),t.exports.pluck=n(131),t.exports.slice=n(132),t.exports.indexOf=n(133),t.exports.remove=n(138),t.exports.flatten=n(140),t.exports.uniq=n(143),t.exports.startsWith=n(150),t.exports.trim=n(151),t.exports.readCookie=function(t){var e=[],n=document.cookie.split(";");t=RegExp("^\\s*"+t+"=\\s*(.*?)\\s*$");for(var r=0;r<n.length;r++){var i=n[r].match(t);i&&e.push(i[1])}return e[0]},t.exports.checkType=function(e,n,r,i){return typeof n!==e?""+r+" has to be a "+e:i===!0&&t.exports.isEmpty(n)?""+r+" has to be not empty":void 0},t.exports.Signal=n(157)}()},function(t,e,n){function r(t){return null==t?!0:a(t)&&(o(t)||c(t)||i(t)||u(t)&&s(t.splice))?!t.length:!l(t).length}var i=n(9),o=n(19),a=n(10),s=n(22),u=n(16),c=n(15),l=n(24);t.exports=r},function(t,e,n){function r(t){return o(t)&&i(t)&&s.call(t,"callee")&&!u.call(t,"callee")}var i=n(10),o=n(16),a=Object.prototype,s=a.hasOwnProperty,u=a.propertyIsEnumerable;t.exports=r},function(t,e,n){function r(t){return null!=t&&o(i(t))}var i=n(11),o=n(18);t.exports=r},function(t,e,n){var r=n(12),i=r("length");t.exports=i},function(t,e,n){function r(t){return function(e){return null==e?void 0:i(e)[t]}}var i=n(13);t.exports=r},function(t,e,n){function r(t){if(a.unindexedChars&&o(t)){for(var e=-1,n=t.length,r=Object(t);++e<n;)r[e]=t.charAt(e);return r}return i(t)?t:Object(t)}var i=n(14),o=n(15),a=n(17);t.exports=r},function(t,e){function n(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}t.exports=n},function(t,e,n){function r(t){return"string"==typeof t||i(t)&&s.call(t)==o}var i=n(16),o="[object String]",a=Object.prototype,s=a.toString;t.exports=r},function(t,e){function n(t){return!!t&&"object"==typeof t}t.exports=n},function(t,e){var n=Array.prototype,r=Error.prototype,i=Object.prototype,o=i.propertyIsEnumerable,a=n.splice,s={};!function(t){var e=function(){this.x=t},n={0:t,length:t},i=[];e.prototype={valueOf:t,y:t};for(var u in new e)i.push(u);s.enumErrorProps=o.call(r,"message")||o.call(r,"name"),s.enumPrototypes=o.call(e,"prototype"),s.nonEnumShadows=!/valueOf/.test(i),s.ownLast="x"!=i[0],s.spliceObjects=(a.call(n,0,1),!n[0]),s.unindexedChars="x"[0]+Object("x")[0]!="xx"}(1,0),t.exports=s},function(t,e){function n(t){return"number"==typeof t&&t>-1&&t%1==0&&r>=t}var r=9007199254740991;t.exports=n},function(t,e,n){var r=n(20),i=n(18),o=n(16),a="[object Array]",s=Object.prototype,u=s.toString,c=r(Array,"isArray"),l=c||function(t){return o(t)&&i(t.length)&&u.call(t)==a};t.exports=l},function(t,e,n){function r(t,e){var n=null==t?void 0:t[e];return i(n)?n:void 0}var i=n(21);t.exports=r},function(t,e,n){function r(t){return null==t?!1:i(t)?d.test(c.call(t)):a(t)&&(o(t)?d:s).test(t)}var i=n(22),o=n(23),a=n(16),s=/^\[object .+?Constructor\]$/,u=Object.prototype,c=Function.prototype.toString,l=u.hasOwnProperty,d=RegExp("^"+c.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=r},function(t,e,n){function r(t){return i(t)&&s.call(t)==o}var i=n(14),o="[object Function]",a=Object.prototype,s=a.toString;t.exports=r},function(t,e){var n=function(){try{Object({toString:0}+"")}catch(t){return function(){return!1}}return function(t){return"function"!=typeof t.toString&&"string"==typeof(t+"")}}();t.exports=n},function(t,e,n){var r=n(20),i=n(10),o=n(14),a=n(25),s=n(17),u=r(Object,"keys"),c=u?function(t){var e=null==t?void 0:t.constructor;return"function"==typeof e&&e.prototype===t||("function"==typeof t?s.enumPrototypes:i(t))?a(t):o(t)?u(t):[]}:a;t.exports=c},function(t,e,n){function r(t){for(var e=c(t),n=e.length,r=n&&t.length,l=!!r&&s(r)&&(o(t)||i(t)||u(t)),p=-1,f=[];++p<n;){var h=e[p];(l&&a(h,r)||d.call(t,h))&&f.push(h)}return f}var i=n(9),o=n(19),a=n(26),s=n(18),u=n(15),c=n(27),l=Object.prototype,d=l.hasOwnProperty;t.exports=r},function(t,e){function n(t,e){return t="number"==typeof t||r.test(t)?+t:-1,e=null==e?i:e,t>-1&&t%1==0&&e>t}var r=/^\d+$/,i=9007199254740991;t.exports=n},function(t,e,n){function r(t){if(null==t)return[];l(t)||(t=Object(t));var e=t.length;e=e&&c(e)&&(a(t)||o(t)||d(t))&&e||0;for(var n=t.constructor,r=-1,i=s(n)&&n.prototype||S,f=i===t,h=Array(e),g=e>0,m=p.enumErrorProps&&(t===k||t instanceof Error),y=p.enumPrototypes&&s(t);++r<e;)h[r]=r+"";for(var _ in t)y&&"prototype"==_||m&&("message"==_||"name"==_)||g&&u(_,e)||"constructor"==_&&(f||!M.call(t,_))||h.push(_);if(p.nonEnumShadows&&t!==S){var A=t===T?w:t===k?v:F.call(t),O=C[A]||C[b];for(A==b&&(i=S),e=x.length;e--;){_=x[e];var I=O[_];f&&I||(I?!M.call(t,_):t[_]===i[_])||h.push(_)}}return h}var i=n(28),o=n(9),a=n(19),s=n(22),u=n(26),c=n(18),l=n(14),d=n(15),p=n(17),f="[object Array]",h="[object Boolean]",g="[object Date]",v="[object Error]",m="[object Function]",y="[object Number]",b="[object Object]",_="[object RegExp]",w="[object String]",x=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],k=Error.prototype,S=Object.prototype,T=String.prototype,M=S.hasOwnProperty,F=S.toString,C={};C[f]=C[g]=C[y]={constructor:!0,toLocaleString:!0,toString:!0,valueOf:!0},C[h]=C[w]={constructor:!0,toString:!0,valueOf:!0},C[v]=C[m]=C[_]={constructor:!0,toString:!0},C[b]={constructor:!0},i(x,function(t){for(var e in C)if(M.call(C,e)){var n=C[e];n[t]=M.call(n,t)}}),t.exports=r},function(t,e){function n(t,e){for(var n=-1,r=t.length;++n<r&&e(t[n],n,t)!==!1;);return t}t.exports=n},function(t,e,n){function r(t){return t===!0||t===!1||i(t)&&s.call(t)==o}var i=n(16),o="[object Boolean]",a=Object.prototype,s=a.toString;t.exports=r},function(t,e,n){function r(t){var e;if(!s(t)||p.call(t)!=c||a(t)||o(t)||!d.call(t,"constructor")&&(e=t.constructor,"function"==typeof e&&!(e instanceof e)))return!1;var n;return u.ownLast?(i(t,function(t,e,r){return n=d.call(r,e),!1}),n!==!1):(i(t,function(t,e){n=e}),void 0===n||d.call(t,n))}var i=n(31),o=n(9),a=n(23),s=n(16),u=n(17),c="[object Object]",l=Object.prototype,d=l.hasOwnProperty,p=l.toString;t.exports=r},function(t,e,n){function r(t,e){return i(t,e,o)}var i=n(32),o=n(27);t.exports=r},function(t,e,n){var r=n(33),i=r();t.exports=i},function(t,e,n){function r(t){return function(e,n,r){for(var o=i(e),a=r(e),s=a.length,u=t?s:-1;t?u--:++u<s;){var c=a[u];if(n(o[c],c,o)===!1)break}return e}}var i=n(13);t.exports=r},function(t,e){function n(t){return void 0===t}t.exports=n},function(t,e,n){function r(t,e,n){return"function"==typeof e?i(t,!0,o(e,n,3)):i(t,!0)}var i=n(36),o=n(45);t.exports=r},function(t,e,n){function r(t,e,n,g,v,m,y){var _;if(n&&(_=v?n(t,g,v):n(t)),void 0!==_)return _;if(!f(t))return t;var w=d(t);if(w){if(_=u(t),!e)return i(t,_)}else{var k=D.call(t),S=k==b;if(k!=x&&k!=h&&(!S||v))return V[k]?c(t,k,e):v?t:{};if(p(t))return v?t:{};if(_=l(S?{}:t),!e)return a(_,t)}m||(m=[]),y||(y=[]);for(var T=m.length;T--;)if(m[T]==t)return y[T];return m.push(t),y.push(_),(w?o:s)(t,function(i,o){_[o]=r(i,e,n,o,t,m,y)}),_}var i=n(37),o=n(28),a=n(38),s=n(40),u=n(41),c=n(42),l=n(44),d=n(19),p=n(23),f=n(14),h="[object Arguments]",g="[object Array]",v="[object Boolean]",m="[object Date]",y="[object Error]",b="[object Function]",_="[object Map]",w="[object Number]",x="[object Object]",k="[object RegExp]",S="[object Set]",T="[object String]",M="[object WeakMap]",F="[object ArrayBuffer]",C="[object Float32Array]",A="[object Float64Array]",O="[object Int8Array]",I="[object Int16Array]",E="[object Int32Array]",P="[object Uint8Array]",R="[object Uint8ClampedArray]",j="[object Uint16Array]",B="[object Uint32Array]",V={};V[h]=V[g]=V[F]=V[v]=V[m]=V[C]=V[A]=V[O]=V[I]=V[E]=V[w]=V[x]=V[k]=V[T]=V[P]=V[R]=V[j]=V[B]=!0,V[y]=V[b]=V[_]=V[S]=V[M]=!1;var N=Object.prototype,D=N.toString;t.exports=r},function(t,e){function n(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}t.exports=n},function(t,e,n){function r(t,e){return null==e?t:i(e,o(e),t)}var i=n(39),o=n(24);t.exports=r},function(t,e){function n(t,e,n){n||(n={});for(var r=-1,i=e.length;++r<i;){var o=e[r];n[o]=t[o]}return n}t.exports=n},function(t,e,n){function r(t,e){return i(t,e,o)}var i=n(32),o=n(24);t.exports=r},function(t,e){function n(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&i.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var r=Object.prototype,i=r.hasOwnProperty;t.exports=n},function(t,e,n){(function(e){function r(t,e,n){var r=t.constructor;switch(e){case l:return i(t);case o:case a:return new r(+t);case d:case p:case f:case h:case g:case v:case m:case y:case b:r instanceof r&&(r=x[e]);var w=t.buffer;return new r(n?i(w):w,t.byteOffset,t.length);case s:case c:return new r(t);case u:var k=new r(t.source,_.exec(t));k.lastIndex=t.lastIndex}return k}var i=n(43),o="[object Boolean]",a="[object Date]",s="[object Number]",u="[object RegExp]",c="[object String]",l="[object ArrayBuffer]",d="[object Float32Array]",p="[object Float64Array]",f="[object Int8Array]",h="[object Int16Array]",g="[object Int32Array]",v="[object Uint8Array]",m="[object Uint8ClampedArray]",y="[object Uint16Array]",b="[object Uint32Array]",_=/\w*$/,w=e.Uint8Array,x={};x[d]=e.Float32Array,x[p]=e.Float64Array,x[f]=e.Int8Array,x[h]=e.Int16Array,x[g]=e.Int32Array,x[v]=w,x[m]=e.Uint8ClampedArray,x[y]=e.Uint16Array,x[b]=e.Uint32Array,t.exports=r}).call(e,function(){return this}())},function(t,e){(function(e){function n(t){var e=new r(t.byteLength),n=new i(e);return n.set(new i(t)),e}var r=e.ArrayBuffer,i=e.Uint8Array;t.exports=n}).call(e,function(){return this}())},function(t,e){function n(t){var e=t.constructor;return"function"==typeof e&&e instanceof e||(e=Object),new e}t.exports=n},function(t,e,n){function r(t,e,n){if("function"!=typeof t)return i;if(void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,o){return t.call(e,n,r,i,o)};case 5:return function(n,r,i,o,a){return t.call(e,n,r,i,o,a)}}return function(){return t.apply(e,arguments)}}var i=n(46);t.exports=r},function(t,e){function n(t){return t}t.exports=n},function(t,e,n){function r(t,e,n,r){return e&&"boolean"!=typeof e&&a(t,e,n)?e=!1:"function"==typeof e&&(r=n,n=e,e=!1),"function"==typeof n?i(t,e,o(n,r,3)):i(t,e)}var i=n(36),o=n(45),a=n(48);t.exports=r},function(t,e,n){function r(t,e,n){if(!a(n))return!1;var r=typeof e;if("number"==r?i(n)&&o(e,n.length):"string"==r&&e in n){var s=n[e];return t===t?t===s:s!==s}return!1}var i=n(10),o=n(26),a=n(14);t.exports=r},function(t,e,n){function r(t,e){if(null==t)return!1;var n=g.call(t,e);if(!n&&!c(e)){if(e=f(e),t=1==e.length?t:i(t,o(e,0,-1)),null==t)return!1;e=p(e),n=g.call(t,e)}return n||l(t.length)&&u(e,t.length)&&(s(t)||a(t)||d(t))}var i=n(50),o=n(51),a=n(9),s=n(19),u=n(26),c=n(52),l=n(18),d=n(15),p=n(53),f=n(54),h=Object.prototype,g=h.hasOwnProperty;t.exports=r},function(t,e,n){function r(t,e,n){if(null!=t){t=i(t),void 0!==n&&n in t&&(e=[n]);for(var r=0,o=e.length;null!=t&&o>r;)t=i(t)[e[r++]];return r&&r==o?t:void 0}}var i=n(13);t.exports=r},function(t,e){function n(t,e,n){var r=-1,i=t.length;e=null==e?0:+e||0,0>e&&(e=-e>i?0:i+e),n=void 0===n||n>i?i:+n||0,0>n&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}t.exports=n},function(t,e,n){function r(t,e){var n=typeof t;if("string"==n&&s.test(t)||"number"==n)return!0;if(i(t))return!1;var r=!a.test(t);return r||null!=e&&t in o(e)}var i=n(19),o=n(13),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,s=/^\w*$/;t.exports=r},function(t,e){function n(t){var e=t?t.length:0;return e?t[e-1]:void 0}t.exports=n},function(t,e,n){function r(t){if(o(t))return t;var e=[];return i(t).replace(a,function(t,n,r,i){e.push(r?i.replace(s,"$1"):n||t)}),e}var i=n(55),o=n(19),a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,s=/\\(\\)?/g;t.exports=r},function(t,e){function n(t){return null==t?"":t+""}t.exports=n},function(t,e,n){function r(t,e,n){var r=null==t?void 0:i(t,o(e),e+"");return void 0===r?n:r}var i=n(50),o=n(54);t.exports=r},function(t,e,n){function r(t,e,n){if(null==t)return t;var r=e+"";e=null!=t[r]||o(e,t)?[r]:s(e);for(var u=-1,c=e.length,l=c-1,d=t;null!=d&&++u<c;){var p=e[u];a(d)&&(u==l?d[p]=n:null==d[p]&&(d[p]=i(e[u+1])?[]:{})),d=d[p]}return t}var i=n(26),o=n(52),a=n(14),s=n(54);t.exports=r},function(t,e,n){var r=n(40),i=n(59),o=i(r);t.exports=o},function(t,e,n){function r(t){return function(e,n,r){return("function"!=typeof n||void 0!==r)&&(n=i(n,r,3)),t(e,n)}}var i=n(45);t.exports=r},function(t,e,n){var r=n(61),i=n(65),o=n(66),a=o(r,i);t.exports=a},function(t,e,n){var r=n(62),i=n(38),o=n(63),a=o(function(t,e,n){return n?r(t,e,n):i(t,e)});t.exports=a},function(t,e,n){function r(t,e,n){for(var r=-1,o=i(e),a=o.length;++r<a;){var s=o[r],u=t[s],c=n(u,e[s],s,t,e);(c===c?c===u:u!==u)&&(void 0!==u||s in t)||(t[s]=c)}return t}var i=n(24);t.exports=r},function(t,e,n){function r(t){return a(function(e,n){var r=-1,a=null==e?0:n.length,s=a>2?n[a-2]:void 0,u=a>2?n[2]:void 0,c=a>1?n[a-1]:void 0;for("function"==typeof s?(s=i(s,c,5),a-=2):(s="function"==typeof c?c:void 0,a-=s?1:0),u&&o(n[0],n[1],u)&&(s=3>a?void 0:s,a=1);++r<a;){var l=n[r];l&&t(e,l,s)}return e})}var i=n(45),o=n(48),a=n(64);t.exports=r},function(t,e){function n(t,e){if("function"!=typeof t)throw new TypeError(r);return e=i(void 0===e?t.length-1:+e||0,0),function(){for(var n=arguments,r=-1,o=i(n.length-e,0),a=Array(o);++r<o;)a[r]=n[e+r];switch(e){case 0:return t.call(this,a);case 1:return t.call(this,n[0],a);case 2:return t.call(this,n[0],n[1],a)}var s=Array(e+1);for(r=-1;++r<e;)s[r]=n[r];return s[e]=a,t.apply(this,s)}}var r="Expected a function",i=Math.max;t.exports=n},function(t,e){function n(t,e){return void 0===t?e:t}t.exports=n},function(t,e,n){function r(t,e){return i(function(n){var r=n[0];return null==r?r:(n.push(e),t.apply(void 0,n))})}var i=n(64);t.exports=r},function(t,e,n){var r=n(66),i=n(68),o=n(73),a=r(i,o);t.exports=a},function(t,e,n){var r=n(69),i=n(63),o=i(r);t.exports=o},function(t,e,n){function r(t,e,n,p,f){if(!u(t))return t;var h=s(e)&&(a(e)||l(e)),g=h?void 0:d(e);return i(g||e,function(i,a){if(g&&(a=i,i=e[a]),c(i))p||(p=[]),f||(f=[]),o(t,e,a,r,n,p,f);else{var s=t[a],u=n?n(s,i,a,t,e):void 0,l=void 0===u;l&&(u=i),void 0===u&&(!h||a in t)||!l&&(u===u?u===s:s!==s)||(t[a]=u)}}),t}var i=n(28),o=n(70),a=n(19),s=n(10),u=n(14),c=n(16),l=n(71),d=n(24);t.exports=r},function(t,e,n){function r(t,e,n,r,d,p,f){for(var h=p.length,g=e[n];h--;)if(p[h]==g)return void(t[n]=f[h]);var v=t[n],m=d?d(v,g,n,t,e):void 0,y=void 0===m;y&&(m=g,s(g)&&(a(g)||c(g))?m=a(v)?v:s(v)?i(v):[]:u(g)||o(g)?m=o(v)?l(v):u(v)?v:{}:y=!1),p.push(g),f.push(m),y?t[n]=r(m,g,d,p,f):(m===m?m!==v:v===v)&&(t[n]=m)}var i=n(37),o=n(9),a=n(19),s=n(10),u=n(30),c=n(71),l=n(72);t.exports=r},function(t,e,n){function r(t){return o(t)&&i(t.length)&&!!A[I.call(t)]}var i=n(18),o=n(16),a="[object Arguments]",s="[object Array]",u="[object Boolean]",c="[object Date]",l="[object Error]",d="[object Function]",p="[object Map]",f="[object Number]",h="[object Object]",g="[object RegExp]",v="[object Set]",m="[object String]",y="[object WeakMap]",b="[object ArrayBuffer]",_="[object Float32Array]",w="[object Float64Array]",x="[object Int8Array]",k="[object Int16Array]",S="[object Int32Array]",T="[object Uint8Array]",M="[object Uint8ClampedArray]",F="[object Uint16Array]",C="[object Uint32Array]",A={};A[_]=A[w]=A[x]=A[k]=A[S]=A[T]=A[M]=A[F]=A[C]=!0,A[a]=A[s]=A[b]=A[u]=A[c]=A[l]=A[d]=A[p]=A[f]=A[h]=A[g]=A[v]=A[m]=A[y]=!1;var O=Object.prototype,I=O.toString;t.exports=r},function(t,e,n){function r(t){return i(t,o(t))}var i=n(39),o=n(27);t.exports=r},function(t,e,n){function r(t,e){return void 0===t?e:i(t,e,r)}var i=n(68);t.exports=r},function(t,e,n){function r(t){return i(t,o(t))}var i=n(75),o=n(24);t.exports=r},function(t,e){function n(t,e){for(var n=-1,r=e.length,i=Array(r);++n<r;)i[n]=t[e[n]];return i}t.exports=n},function(t,e){(function(e){function n(t,e){if("function"!=typeof e){if("function"!=typeof t)throw new TypeError(r);var n=t;t=e,e=n}return t=i(t=+t)?t:0,function(){return--t<1?e.apply(this,arguments):void 0}}var r="Expected a function",i=e.isFinite;t.exports=n}).call(e,function(){return this}())},function(t,e,n){var r=n(78),i=n(64),o=i(function(t,e){return r(t,1,e)});t.exports=o},function(t,e){function n(t,e,n){if("function"!=typeof t)throw new TypeError(r);return setTimeout(function(){t.apply(void 0,n)},e)}var r="Expected a function";t.exports=n},function(t,e,n){var r=n(80),i=n(100),o=n(64),a=1,s=32,u=o(function(t,e,n){var o=a;if(n.length){var c=i(n,u.placeholder);o|=s}return r(t,o,e,n,c)});u.placeholder={},t.exports=u},function(t,e,n){function r(t,e,n,r,m,y,b,_){var w=e&p;if(!w&&"function"!=typeof t)throw new TypeError(g);var x=r?r.length:0;if(x||(e&=~(f|h),r=m=void 0),x-=m?m.length:0,e&h){var k=r,S=m;r=m=void 0}var T=w?void 0:u(t),M=[t,e,n,r,m,k,S,y,b,_];if(T&&(c(M,T),e=M[1],_=M[9]),M[9]=null==_?w?0:t.length:v(_-x,0)||0,e==d)var F=o(M[0],M[2]);else F=e!=f&&e!=(d|f)||M[4].length?a.apply(void 0,M):s.apply(void 0,M);var C=T?i:l;return C(F,M)}var i=n(81),o=n(83),a=n(86),s=n(103),u=n(92),c=n(104),l=n(101),d=1,p=2,f=32,h=64,g="Expected a function",v=Math.max;t.exports=r},function(t,e,n){var r=n(46),i=n(82),o=i?function(t,e){return i.set(t,e),t}:r;t.exports=o},function(t,e,n){(function(e){var r=n(20),i=r(e,"WeakMap"),o=i&&new i;t.exports=o}).call(e,function(){return this}())},function(t,e,n){(function(e){function r(t,n){function r(){var i=this&&this!==e&&this instanceof r?o:t;return i.apply(n,arguments)}var o=i(t);return r}var i=n(84);t.exports=r}).call(e,function(){return this}())},function(t,e,n){function r(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=i(t.prototype),r=t.apply(n,e);return o(r)?r:n}}var i=n(85),o=n(14);t.exports=r},function(t,e,n){var r=n(14),i=function(){function t(){}return function(e){if(r(e)){t.prototype=e;var n=new t;t.prototype=void 0}return n||{}}}();t.exports=i},function(t,e,n){(function(e){function r(t,n,w,x,k,S,T,M,F,C){function A(){for(var h=arguments.length,g=h,v=Array(h);g--;)v[g]=arguments[g];if(x&&(v=o(v,x,k)),S&&(v=a(v,S,T)),P||j){var b=A.placeholder,V=l(v,b);if(h-=V.length,C>h){var N=M?i(M):void 0,D=_(C-h,0),L=P?V:void 0,z=P?void 0:V,U=P?v:void 0,q=P?void 0:v;n|=P?m:y,n&=~(P?y:m),R||(n&=~(p|f));var H=[t,n,w,U,L,q,z,N,F,D],G=r.apply(void 0,H);return u(t)&&d(G,H),G.placeholder=b,G}}var $=I?w:this,W=E?$[t]:t;return M&&(v=c(v,M)),O&&F<v.length&&(v.length=F),this&&this!==e&&this instanceof A&&(W=B||s(t)),W.apply($,v)}var O=n&b,I=n&p,E=n&f,P=n&g,R=n&h,j=n&v,B=E?void 0:s(t);return A}var i=n(37),o=n(87),a=n(88),s=n(84),u=n(89),c=n(99),l=n(100),d=n(101),p=1,f=2,h=4,g=8,v=16,m=32,y=64,b=128,_=Math.max;t.exports=r}).call(e,function(){return this}())},function(t,e){function n(t,e,n){for(var i=n.length,o=-1,a=r(t.length-i,0),s=-1,u=e.length,c=Array(u+a);++s<u;)c[s]=e[s];for(;++o<i;)c[n[o]]=t[o];for(;a--;)c[s++]=t[o++];return c}var r=Math.max;t.exports=n},function(t,e){function n(t,e,n){for(var i=-1,o=n.length,a=-1,s=r(t.length-o,0),u=-1,c=e.length,l=Array(s+c);++a<s;)l[a]=t[a];for(var d=a;++u<c;)l[d+u]=e[u];for(;++i<o;)l[d+n[i]]=t[a++];return l}var r=Math.max;t.exports=n},function(t,e,n){function r(t){var e=a(t),n=s[e];if("function"!=typeof n||!(e in i.prototype))return!1;if(t===n)return!0;var r=o(n);return!!r&&t===r[0]}var i=n(90),o=n(92),a=n(94),s=n(96);t.exports=r},function(t,e,n){function r(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=a,this.__views__=[]}var i=n(85),o=n(91),a=Number.POSITIVE_INFINITY;r.prototype=i(o.prototype),r.prototype.constructor=r,t.exports=r},function(t,e){function n(){}t.exports=n},function(t,e,n){var r=n(82),i=n(93),o=r?function(t){return r.get(t)}:i;t.exports=o},function(t,e){function n(){}t.exports=n},function(t,e,n){function r(t){for(var e=t.name+"",n=i[e],r=n?n.length:0;r--;){var o=n[r],a=o.func;if(null==a||a==t)return o.name}return e}var i=n(95);t.exports=r},function(t,e){var n={};t.exports=n},function(t,e,n){function r(t){if(u(t)&&!s(t)&&!(t instanceof i)){if(t instanceof o)return t;if(d.call(t,"__chain__")&&d.call(t,"__wrapped__"))return c(t)}return new o(t)}var i=n(90),o=n(97),a=n(91),s=n(19),u=n(16),c=n(98),l=Object.prototype,d=l.hasOwnProperty;r.prototype=a.prototype,t.exports=r},function(t,e,n){function r(t,e,n){this.__wrapped__=t,this.__actions__=n||[],this.__chain__=!!e}var i=n(85),o=n(91);r.prototype=i(o.prototype),r.prototype.constructor=r,t.exports=r},function(t,e,n){function r(t){return t instanceof i?t.clone():new o(t.__wrapped__,t.__chain__,a(t.__actions__))}var i=n(90),o=n(97),a=n(37);t.exports=r},function(t,e,n){function r(t,e){for(var n=t.length,r=a(e.length,n),s=i(t);r--;){var u=e[r];t[r]=o(u,n)?s[u]:void 0}return t}var i=n(37),o=n(26),a=Math.min;t.exports=r},function(t,e){function n(t,e){for(var n=-1,i=t.length,o=-1,a=[];++n<i;)t[n]===e&&(t[n]=r,a[++o]=n);return a}var r="__lodash_placeholder__";t.exports=n},function(t,e,n){var r=n(81),i=n(102),o=150,a=16,s=function(){var t=0,e=0;return function(n,s){var u=i(),c=a-(u-e);if(e=u,c>0){if(++t>=o)return n}else t=0;return r(n,s)}}();t.exports=s},function(t,e,n){var r=n(20),i=r(Date,"now"),o=i||function(){return(new Date).getTime()};t.exports=o},function(t,e,n){(function(e){function r(t,n,r,a){function s(){for(var n=-1,i=arguments.length,o=-1,l=a.length,d=Array(l+i);++o<l;)d[o]=a[o];for(;i--;)d[o++]=arguments[++n];var p=this&&this!==e&&this instanceof s?c:t;return p.apply(u?r:this,d)}var u=n&o,c=i(t);return s}var i=n(84),o=1;t.exports=r}).call(e,function(){return this}())},function(t,e,n){function r(t,e){var n=t[1],r=e[1],g=n|r,v=d>g,m=r==d&&n==l||r==d&&n==p&&t[7].length<=e[8]||r==(d|p)&&n==l;if(!v&&!m)return t;r&u&&(t[2]=e[2],g|=n&u?0:c);var y=e[3];if(y){var b=t[3];t[3]=b?o(b,y,e[4]):i(y),t[4]=b?s(t[3],f):i(e[4])}return y=e[5],y&&(b=t[5],t[5]=b?a(b,y,e[6]):i(y),t[6]=b?s(t[5],f):i(e[6])),
y=e[7],y&&(t[7]=i(y)),r&d&&(t[8]=null==t[8]?e[8]:h(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=g,t}var i=n(37),o=n(87),a=n(88),s=n(100),u=1,c=4,l=8,d=128,p=256,f="__lodash_placeholder__",h=Math.min;t.exports=r},function(t,e,n){var r=n(78),i=n(64),o=i(function(t,e,n){return r(t,e,n)});t.exports=o},function(t,e,n){function r(t,e,n){var r=s(t)?i:a;return n&&u(t,e,n)&&(e=void 0),("function"!=typeof e||void 0!==n)&&(e=o(e,n,3)),r(t,e)}var i=n(107),o=n(108),a=n(123),s=n(19),u=n(48);t.exports=r},function(t,e){function n(t,e){for(var n=-1,r=t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}t.exports=n},function(t,e,n){function r(t,e,n){var r=typeof t;return"function"==r?void 0===e?t:a(t,e,n):null==t?s:"object"==r?i(t):void 0===e?u(t):o(t,e)}var i=n(109),o=n(120),a=n(45),s=n(46),u=n(121);t.exports=r},function(t,e,n){function r(t){var e=o(t);if(1==e.length&&e[0][2]){var n=e[0][0],r=e[0][1];return function(t){return null==t?!1:(t=a(t),t[n]===r&&(void 0!==r||n in t))}}return function(t){return i(t,e)}}var i=n(110),o=n(117),a=n(13);t.exports=r},function(t,e,n){function r(t,e,n){var r=e.length,a=r,s=!n;if(null==t)return!a;for(t=o(t);r--;){var u=e[r];if(s&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++r<a;){u=e[r];var c=u[0],l=t[c],d=u[1];if(s&&u[2]){if(void 0===l&&!(c in t))return!1}else{var p=n?n(l,d,c):void 0;if(!(void 0===p?i(d,l,n,!0):p))return!1}}return!0}var i=n(111),o=n(13);t.exports=r},function(t,e,n){function r(t,e,n,s,u,c){return t===e?!0:null==t||null==e||!o(t)&&!a(e)?t!==t&&e!==e:i(t,e,r,n,s,u,c)}var i=n(112),o=n(14),a=n(16);t.exports=r},function(t,e,n){function r(t,e,n,r,f,v,m){var y=s(t),b=s(e),_=d,w=d;y||(_=g.call(t),_==l?_=p:_!=p&&(y=c(t))),b||(w=g.call(e),w==l?w=p:w!=p&&(b=c(e)));var x=_==p&&!u(t),k=w==p&&!u(e),S=_==w;if(S&&!y&&!x)return o(t,e,_);if(!f){var T=x&&h.call(t,"__wrapped__"),M=k&&h.call(e,"__wrapped__");if(T||M)return n(T?t.value():t,M?e.value():e,r,f,v,m)}if(!S)return!1;v||(v=[]),m||(m=[]);for(var F=v.length;F--;)if(v[F]==t)return m[F]==e;v.push(t),m.push(e);var C=(y?i:a)(t,e,n,r,f,v,m);return v.pop(),m.pop(),C}var i=n(113),o=n(115),a=n(116),s=n(19),u=n(23),c=n(71),l="[object Arguments]",d="[object Array]",p="[object Object]",f=Object.prototype,h=f.hasOwnProperty,g=f.toString;t.exports=r},function(t,e,n){function r(t,e,n,r,o,a,s){var u=-1,c=t.length,l=e.length;if(c!=l&&!(o&&l>c))return!1;for(;++u<c;){var d=t[u],p=e[u],f=r?r(o?p:d,o?d:p,u):void 0;if(void 0!==f){if(f)continue;return!1}if(o){if(!i(e,function(t){return d===t||n(d,t,r,o,a,s)}))return!1}else if(d!==p&&!n(d,p,r,o,a,s))return!1}return!0}var i=n(114);t.exports=r},function(t,e){function n(t,e){for(var n=-1,r=t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}t.exports=n},function(t,e){function n(t,e,n){switch(n){case r:case i:return+t==+e;case o:return t.name==e.name&&t.message==e.message;case a:return t!=+t?e!=+e:t==+e;case s:case u:return t==e+""}return!1}var r="[object Boolean]",i="[object Date]",o="[object Error]",a="[object Number]",s="[object RegExp]",u="[object String]";t.exports=n},function(t,e,n){function r(t,e,n,r,o,s,u){var c=i(t),l=c.length,d=i(e),p=d.length;if(l!=p&&!o)return!1;for(var f=l;f--;){var h=c[f];if(!(o?h in e:a.call(e,h)))return!1}for(var g=o;++f<l;){h=c[f];var v=t[h],m=e[h],y=r?r(o?m:v,o?v:m,h):void 0;if(!(void 0===y?n(v,m,r,o,s,u):y))return!1;g||(g="constructor"==h)}if(!g){var b=t.constructor,_=e.constructor;if(b!=_&&"constructor"in t&&"constructor"in e&&!("function"==typeof b&&b instanceof b&&"function"==typeof _&&_ instanceof _))return!1}return!0}var i=n(24),o=Object.prototype,a=o.hasOwnProperty;t.exports=r},function(t,e,n){function r(t){for(var e=o(t),n=e.length;n--;)e[n][2]=i(e[n][1]);return e}var i=n(118),o=n(119);t.exports=r},function(t,e,n){function r(t){return t===t&&!i(t)}var i=n(14);t.exports=r},function(t,e,n){function r(t){t=o(t);for(var e=-1,n=i(t),r=n.length,a=Array(r);++e<r;){var s=n[e];a[e]=[s,t[s]]}return a}var i=n(24),o=n(13);t.exports=r},function(t,e,n){function r(t,e){var n=s(t),r=u(t)&&c(e),f=t+"";return t=p(t),function(s){if(null==s)return!1;var u=f;if(s=d(s),(n||!r)&&!(u in s)){if(s=1==t.length?s:i(s,a(t,0,-1)),null==s)return!1;u=l(t),s=d(s)}return s[u]===e?void 0!==e||u in s:o(e,s[u],void 0,!0)}}var i=n(50),o=n(111),a=n(51),s=n(19),u=n(52),c=n(118),l=n(53),d=n(13),p=n(54);t.exports=r},function(t,e,n){function r(t){return a(t)?i(t):o(t)}var i=n(12),o=n(122),a=n(52);t.exports=r},function(t,e,n){function r(t){var e=t+"";return t=o(t),function(n){return i(n,t,e)}}var i=n(50),o=n(54);t.exports=r},function(t,e,n){function r(t,e){var n=!0;return i(t,function(t,r,i){return n=!!e(t,r,i)}),n}var i=n(124);t.exports=r},function(t,e,n){var r=n(40),i=n(125),o=i(r);t.exports=o},function(t,e,n){function r(t,e){return function(n,r){var s=n?i(n):0;if(!o(s))return t(n,r);for(var u=e?s:-1,c=a(n);(e?u--:++u<s)&&r(c[u],u,c)!==!1;);return n}}var i=n(11),o=n(18),a=n(13);t.exports=r},function(t,e,n){var r=n(28),i=n(124),o=n(127),a=o(r,i);t.exports=a},function(t,e,n){function r(t,e){return function(n,r,a){return"function"==typeof r&&void 0===a&&o(n)?t(n,r):e(n,i(r,a,3))}}var i=n(45),o=n(19);t.exports=r},function(t,e,n){function r(t,e,n){var r=s(t)?i:a;return e=o(e,n,3),r(t,e)}var i=n(129),o=n(108),a=n(130),s=n(19);t.exports=r},function(t,e){function n(t,e){for(var n=-1,r=t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}t.exports=n},function(t,e,n){function r(t,e){var n=-1,r=o(t)?Array(t.length):[];return i(t,function(t,i,o){r[++n]=e(t,i,o)}),r}var i=n(124),o=n(10);t.exports=r},function(t,e,n){function r(t,e){return i(t,o(e))}var i=n(128),o=n(121);t.exports=r},function(t,e,n){function r(t,e,n){var r=t?t.length:0;return r?(n&&"number"!=typeof n&&o(t,e,n)&&(e=0,n=r),i(t,e,n)):[]}var i=n(51),o=n(48);t.exports=r},function(t,e,n){function r(t,e,n){var r=t?t.length:0;if(!r)return-1;if("number"==typeof n)n=0>n?a(r+n,0):n;else if(n){var s=o(t,e);return r>s&&(e===e?e===t[s]:t[s]!==t[s])?s:-1}return i(t,e,n||0)}var i=n(134),o=n(136),a=Math.max;t.exports=r},function(t,e,n){function r(t,e,n){if(e!==e)return i(t,n);for(var r=n-1,o=t.length;++r<o;)if(t[r]===e)return r;return-1}var i=n(135);t.exports=r},function(t,e){function n(t,e,n){for(var r=t.length,i=e+(n?0:-1);n?i--:++i<r;){var o=t[i];if(o!==o)return i}return-1}t.exports=n},function(t,e,n){function r(t,e,n){var r=0,a=t?t.length:r;if("number"==typeof e&&e===e&&s>=a){for(;a>r;){var u=r+a>>>1,c=t[u];(n?e>=c:e>c)&&null!==c?r=u+1:a=u}return a}return i(t,e,o,n)}var i=n(137),o=n(46),a=4294967295,s=a>>>1;t.exports=r},function(t,e){function n(t,e,n,o){e=n(e);for(var s=0,u=t?t.length:0,c=e!==e,l=null===e,d=void 0===e;u>s;){var p=r((s+u)/2),f=n(t[p]),h=void 0!==f,g=f===f;if(c)var v=g||o;else v=l?g&&h&&(o||null!=f):d?g&&(o||h):null==f?!1:o?e>=f:e>f;v?s=p+1:u=p}return i(u,a)}var r=Math.floor,i=Math.min,o=4294967295,a=o-1;t.exports=n},function(t,e,n){function r(t,e,n){var r=[];if(!t||!t.length)return r;var a=-1,s=[],u=t.length;for(e=i(e,n,3);++a<u;){var c=t[a];e(c,a,t)&&(r.push(c),s.push(a))}return o(t,s),r}var i=n(108),o=n(139);t.exports=r},function(t,e,n){function r(t,e){for(var n=t?e.length:0;n--;){var r=e[n];if(r!=o&&i(r)){var o=r;a.call(t,r,1)}}return t}var i=n(26),o=Array.prototype,a=o.splice;t.exports=r},function(t,e,n){function r(t,e,n){var r=t?t.length:0;return n&&o(t,e,n)&&(e=!1),r?i(t,e):[]}var i=n(141),o=n(48);t.exports=r},function(t,e,n){function r(t,e,n,c){c||(c=[]);for(var l=-1,d=t.length;++l<d;){var p=t[l];u(p)&&s(p)&&(n||a(p)||o(p))?e?r(p,e,n,c):i(c,p):n||(c[c.length]=p)}return c}var i=n(142),o=n(9),a=n(19),s=n(10),u=n(16);t.exports=r},function(t,e){function n(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}t.exports=n},function(t,e,n){function r(t,e,n,r){var u=t?t.length:0;return u?(null!=e&&"boolean"!=typeof e&&(r=n,n=a(t,e,r)?void 0:e,e=!1),n=null==n?n:i(n,r,3),e?s(t,n):o(t,n)):[]}var i=n(108),o=n(144),a=n(48),s=n(149);t.exports=r},function(t,e,n){function r(t,e){var n=-1,r=i,u=t.length,c=!0,l=c&&u>=s,d=l?a():null,p=[];d?(r=o,c=!1):(l=!1,d=e?[]:p);t:for(;++n<u;){var f=t[n],h=e?e(f,n,t):f;if(c&&f===f){for(var g=d.length;g--;)if(d[g]===h)continue t;e&&d.push(h),p.push(f)}else r(d,h,0)<0&&((e||l)&&d.push(h),p.push(f))}return p}var i=n(134),o=n(145),a=n(146),s=200;t.exports=r},function(t,e,n){function r(t,e){var n=t.data,r="string"==typeof e||i(e)?n.set.has(e):n.hash[e];return r?0:-1}var i=n(14);t.exports=r},function(t,e,n){(function(e){function r(t){return s&&a?new i(t):null}var i=n(147),o=n(20),a=o(e,"Set"),s=o(Object,"create");t.exports=r}).call(e,function(){return this}())},function(t,e,n){(function(e){function r(t){var e=t?t.length:0;for(this.data={hash:s(null),set:new a};e--;)this.push(t[e])}var i=n(148),o=n(20),a=o(e,"Set"),s=o(Object,"create");r.prototype.push=i,t.exports=r}).call(e,function(){return this}())},function(t,e,n){function r(t){var e=this.data;"string"==typeof t||i(t)?e.set.add(t):e.hash[t]=!0}var i=n(14);t.exports=r},function(t,e){function n(t,e){for(var n,r=-1,i=t.length,o=-1,a=[];++r<i;){var s=t[r],u=e?e(s,r,t):s;r&&n===u||(n=u,a[++o]=s)}return a}t.exports=n},function(t,e,n){function r(t,e,n){return t=i(t),n=null==n?0:o(0>n?0:+n||0,t.length),t.lastIndexOf(e,n)==n}var i=n(55),o=Math.min;t.exports=r},function(t,e,n){function r(t,e,n){var r=t;return(t=i(t))?(n?s(r,e,n):null==e)?t.slice(u(t),c(t)+1):(e+="",t.slice(o(t,e),a(t,e)+1)):t}var i=n(55),o=n(152),a=n(153),s=n(48),u=n(154),c=n(156);t.exports=r},function(t,e){function n(t,e){for(var n=-1,r=t.length;++n<r&&e.indexOf(t.charAt(n))>-1;);return n}t.exports=n},function(t,e){function n(t,e){for(var n=t.length;n--&&e.indexOf(t.charAt(n))>-1;);return n}t.exports=n},function(t,e,n){function r(t){for(var e=-1,n=t.length;++e<n&&i(t.charCodeAt(e)););return e}var i=n(155);t.exports=r},function(t,e){function n(t){return 160>=t&&t>=9&&13>=t||32==t||160==t||5760==t||6158==t||t>=8192&&(8202>=t||8232==t||8233==t||8239==t||8287==t||12288==t||65279==t)}t.exports=n},function(t,e,n){function r(t){for(var e=t.length;e--&&i(t.charCodeAt(e)););return e}var i=n(155);t.exports=r},function(t,e,n){var r;/** @license
	 * JS Signals <http://millermedeiros.github.com/js-signals/>
	 * Released under the MIT license
	 * Author: Miller Medeiros
	 * Version: 1.0.0 - Build: 268 (2012/11/29 05:48 PM)
	 */
!function(i){function o(t,e,n,r,i){this._listener=e,this._isOnce=n,this.context=r,this._signal=t,this._priority=i||0}function a(t,e){if("function"!=typeof t)throw new Error("listener is a required param of {fn}() and should be a Function.".replace("{fn}",e))}function s(){this._bindings=[],this._prevParams=null;var t=this;this.dispatch=function(){s.prototype.dispatch.apply(t,arguments)}}o.prototype={active:!0,params:null,execute:function(t){var e,n;return this.active&&this._listener&&(n=this.params?this.params.concat(t):t,e=this._listener.apply(this.context,n),this._isOnce&&this.detach()),e},detach:function(){return this.isBound()?this._signal.remove(this._listener,this.context):null},isBound:function(){return!!this._signal&&!!this._listener},isOnce:function(){return this._isOnce},getListener:function(){return this._listener},getSignal:function(){return this._signal},_destroy:function(){delete this._signal,delete this._listener,delete this.context},toString:function(){return"[SignalBinding isOnce:"+this._isOnce+", isBound:"+this.isBound()+", active:"+this.active+"]"}},s.prototype={VERSION:"1.0.0",memorize:!1,_shouldPropagate:!0,active:!0,_registerListener:function(t,e,n,r){var i,a=this._indexOfListener(t,n);if(-1!==a){if(i=this._bindings[a],i.isOnce()!==e)throw new Error("You cannot add"+(e?"":"Once")+"() then add"+(e?"Once":"")+"() the same listener without removing the relationship first.")}else i=new o(this,t,e,n,r),this._addBinding(i);return this.memorize&&this._prevParams&&i.execute(this._prevParams),i},_addBinding:function(t){var e=this._bindings.length;do--e;while(this._bindings[e]&&t._priority<=this._bindings[e]._priority);this._bindings.splice(e+1,0,t)},_indexOfListener:function(t,e){for(var n,r=this._bindings.length;r--;)if(n=this._bindings[r],n._listener===t&&n.context===e)return r;return-1},has:function(t,e){return-1!==this._indexOfListener(t,e)},add:function(t,e,n){return a(t,"add"),this._registerListener(t,!1,e,n)},addOnce:function(t,e,n){return a(t,"addOnce"),this._registerListener(t,!0,e,n)},remove:function(t,e){a(t,"remove");var n=this._indexOfListener(t,e);return-1!==n&&(this._bindings[n]._destroy(),this._bindings.splice(n,1)),t},removeAll:function(){for(var t=this._bindings.length;t--;)this._bindings[t]._destroy();this._bindings.length=0},getNumListeners:function(){return this._bindings.length},halt:function(){this._shouldPropagate=!1},dispatch:function(t){if(this.active){var e,n=Array.prototype.slice.call(arguments),r=this._bindings.length;if(this.memorize&&(this._prevParams=n),r){e=this._bindings.slice(),this._shouldPropagate=!0;do r--;while(e[r]&&this._shouldPropagate&&e[r].execute(n)!==!1)}}},forget:function(){this._prevParams=null},dispose:function(){this.removeAll(),delete this._bindings,delete this._prevParams},toString:function(){return"[Signal active:"+this.active+" numListeners:"+this.getNumListeners()+"]"}};var u=s;u.Signal=s,r=function(){return u}.call(e,n,e,t),!(void 0!==r&&(t.exports=r))}(this)},function(t,e,n){!function(){"use strict";function e(t){this._core=t;var e=this;return this._installMapper=function(t){t.mapper=new r},{modifySBInstance:function(t){e._installMapper(t)}}}var r=n(159);e.defaultId="mapper",t.exports=e}()},function(t,e,n){!function(){"use strict";function e(t,e){if(c.isString(t)===!1||t.length<=0)throw new TypeError('"mapTo" should be a non empty string');c.isUndefined(e)&&(e=null),this.destinationVarPath=t,this.mappingType=this.mappingTypes.sourcePath,this.mappingFrom=void 0,this.preFormatters=[],this.defaultValue=e}function r(t){this.options=t,this.mapToCollection=[]}function i(t){r.call(this,t),this.templatesToApply=[]}function o(t,e){if(!t||!c.isFunction(t))throw new Error("routeFunc should be a function that receives src object as parameter and returns bool");if(!(e&&e instanceof r))throw new Error("mapConfig should be an instance of BfaMapperMapConfig");this.routeFunc=t,this.mapConfig=e}function a(t,e){this.mapName=t,this.options=e,this.routers=[],this.defaultMapConfig=null}function s(){this.mapRouters={},this.mapTemplates={},this._utils={utils:c,defs:l}}function u(t,e){if(c.isString(t)===!1||t.length<=0)throw new TypeError('"mapTo" should be a non empty string');c.isUndefined(e)&&(e=null),this.destinationVarPath=t,this.mappings=[],this.defaultValue=e}var c=n(7),l=n(160);e.prototype.mappingTypes={sourcePath:1,"function":2},e.prototype.mapFrom=function(t,e){if(c.isFunction(t))this.mappingType=this.mappingTypes["function"],this.mappingFrom=t;else{if(!(c.isString(t)&&t.length>0))throw new TypeError('"mapFrom" is object of wrong type: '+(typeof t).toString());this.mappingType=this.mappingTypes.sourcePath,this.mappingFrom=t}return c.isArray(e)&&c.every(e,function(t){return t instanceof Function})&&this.preFormatters.push.apply(this.preFormatters,e),this},e.prototype.map=function(t,e,n){var r=this.defaultValue;if(!c.isUndefined(this.mappingFrom))switch(this.mappingType){case this.mappingTypes["function"]:r=this.mappingFrom.call(n,t,e);break;case this.mappingTypes.sourcePath:r=c.get(t,this.mappingFrom,this.defaultValue)}return c.isUndefined(r)&&(r=this.defaultValue),this.preFormatters.length>0&&c.forEach(this.preFormatters,function(t){r=t.call(n,r)}),c.set(e,this.destinationVarPath,r),r},r.prototype.addMapTo=function(t,n){var r=new e(t,n);return this.mapToCollection.push(r),r},i.prototype=Object.create(r.prototype),i.prototype.constructor=i,i.prototype.applyTemplateByName=function(t){-1===this.templatesToApply.indexOf(t)&&this.templatesToApply.push(t)},a.prototype.getMapConfig=function(t,e){for(var n=null,r=0;r<this.routers.length;r++){var i=this.routers[r];if(i.routeFunc.call(e,t)===!0){n=i.mapConfig;break}}return null===n&&(n=this.defaultMapConfig),n},a.prototype.createConfigForRoute=function(t){var e=new o(t,new i(this.options));return this.routers.push(e),e.mapConfig},a.prototype.createDefaultConfig=function(){return this.defaultMapConfig=new i(this.options),this.defaultMapConfig},s.prototype.addUtility=function(t,e){if(!this.validateName(t))throw new TypeError("`utilityName` have to be not empty string");if(c.has(this._utils,t))throw new Error("utility with "+t+" already exists");return this._utils[t]=e,this},s.prototype.getOrCreateMap=function(t,e){if(!this.validateName(t))throw new TypeError("mapName must be a not empty string");if(this.mapRouters[t])return this.mapRouters[t].defaultMapConfig;var n=new a(t,e);return this.mapRouters[t]=n,n.createDefaultConfig()},s.prototype.isExists=function(t){return c.has(this.mapRouters,t)},s.prototype.getOrCreateRouter=function(t,e){if(!this.validateName(t))throw new TypeError("`routeName` should be not empty string");if(c.has(this.mapRouters,t))return this.mapRouters[t];var n=new a(t,e);return this.mapRouters[t]=n,n},s.prototype.createMapTemplate=function(t,e){if(!this.validateName(t))throw new TypeError("`templateName` should be not empty string");if(c.has(this.mapTemplates[t]))return this.mapTemplates[t];var n=new r(e);return this.mapTemplates[t]=n,n},s.prototype.validateName=function(t){return c.isString(t)===!1||t.length<=0?!1:!0},s.prototype.map=function(t,e,n){var r=this;if((c.isUndefined(n)||null===n)&&(n={}),c.isUndefined(e)||null===e)return n;if(!c.has(this.mapRouters,t))return n;var i=this.mapRouters[t].getMapConfig(e,r._utils);if(null===i)return n;var o=i.mapToCollection;o.length>0&&c.forEach(o,function(t){t.map(e,n,r._utils)});var a=i.templatesToApply;return a.length>0&&c.forEach(a,function(t){if(c.has(r.mapTemplates,t)){var i=r.mapTemplates[t].mapToCollection;c.forEach(i,function(t){t.map(e,n,r._utils)})}}),n},s.prototype.formatters={strToLowerCase:function(t){return c.isString(t)?t.toLowerCase():t},strCutTo255Characters:function(t){return c.isString(t)&&t.length>255?t.substr(0,255):t}},u.prototype.mappingTypes={sourcePath:1,"function":2},u.prototype.mapFrom=function(t,e){var n={mappingFrom:t,preFormatters:[]};if(c.isFunction(t))n.mappingType=this.mappingTypes["function"];else{if(!(c.isString(t)&&t.length>0))throw new TypeError('"mapFrom" is object of wrong type: '+(typeof t).toString());n.mappingType=this.mappingTypes.sourcePath}return c.isArray(e)&&c.every(e,function(t){return t instanceof Function})&&n.preFormatters.push.apply(this.preFormatters,e),this.mappings.push(n),this},u.prototype.map=function(t,e,n){var r=this,i=c.get(e,this.destinationVarPath);if(i||(i=[]),!c.isArray(i))throw new TypeError('"Destination" is an object of wrong type: '+(typeof i).toString()+". Array is expected");c.forEach(this.mappings,function(o){var a=r.defaultValue;if(!c.isUndefined(o.mappingFrom))switch(o.mappingType){case r.mappingTypes["function"]:a=o.mappingFrom.call(n,t,e);break;case r.mappingTypes.sourcePath:a=c.get(t,o.mappingFrom,r.defaultValue)}c.isUndefined(a)&&(a=r.defaultValue),o.preFormatters.length>0&&c.forEach(o.preFormatters,function(t){a=t.call(n,a)}),i.push(a)}),c.set(e,this.destinationVarPath,i)},r.prototype.addMapToArray=function(t,e){var n=new u(t,e);return this.mapToCollection.push(n),n},t.exports=s}()},function(t,e){!function(){"use strict";var e={platform:{desktop:1,mobileweb:2,bflite:3},bfaMode:{develop:1,prod:2,test:3},trackingBehavior:{byDefault:1,ifSpecified:2}};Object.freeze(e),t.exports=e}()},function(t,e){!function(){"use strict";function e(t,e){function n(t,e){i.settings.isReady===!0&&t.call(e),i.pageReady.add(t,e)}function r(){return t.utils.cloneDeep(i.settings.pageInfo)}e=e||{},this.defaultSettings={readyOnFirstUpdate:!0,isReady:!1,pageInfo:{uri:{href:document.location.href,host:document.location.host,path:document.location.pathname,search:document.location.search,hash:document.location.hash,protocol:document.location.protocol}}},this.pageReady=new t.utils.Signal,this.pageChanged=new t.utils.Signal,this.settings=t.utils.defaultsDeep(e,this.defaultSettings);var i=this;return t._router.sub("general/page/{action}",function(e,n){if("ready"===n.action)return void(this.isReady||(this.isReady=!0,this.pageReady.dispatch()));if(!t.utils.isPlainObject(e))return void t.log.warn("page info must be a plain object");switch(n.action){case"set":this.settings.pageInfo=e;break;case"update":default:this.settings.pageInfo=t.utils.merge(this.settings.pageInfo,e)}this.pageChanged.dispatch(),!this.settings.isReady&&this.settings.readyOnFirstUpdate&&(this.settings.isReady=!0,this.pageReady.dispatch())},this,{action:["ready","update","set"]}),t._onPageReady=function(t,e){n(t,e)},t._getPageInfo=function(){return r()},{modifySBInstance:function(t){t.getPageInfo=function(){return r()},t.onPageReady=function(t,e){n(t,e)},t.onPageChanged=function(t,e,n){i.pageChanged[n?"addOnce":"add"](t,e)}}}}e.defaultId="pageInfo",t.exports=e}()},function(t,e){!function(){"use strict";function e(t,e){function n(t,e){i.settings.isReady===!0&&t.call(e),i.userReady.add(t,e)}function r(){return t.utils.cloneDeep(i.settings.userInfo)}e=e||{},this.defaultSettings={readyOnFirstUpdate:!0,isReady:!1,userInfo:{isLoggedIn:!1,referrer:document.referrer,userAgent:navigator.userAgent}};var i=this;return this.userReady=new t.utils.Signal,this.userChanged=new t.utils.Signal,this.settings=t.utils.defaultsDeep(e,this.defaultSettings),t._router.sub("general/user/{action}",function(e,n){if("ready"===n.action)return void(this.isReady||(this.isReady=!0,this.userReady.dispatch()));if(!t.utils.isPlainObject(e))return void t.log.warn("user info must be a plain object");switch(n.action){case"set":this.settings.userInfo=e;break;case"update":default:this.settings.userInfo=t.utils.merge(this.settings.userInfo,e)}this.userChanged.dispatch(),!this.settings.isReady&&this.settings.readyOnFirstUpdate&&(this.settings.isReady=!0,this.userReady.dispatch())},this,{action:["ready","update","set"]}),t._onUserReady=function(t,e){n(t,e)},t._getUserInfo=function(){return r()},{modifySBInstance:function(t){t.getUserInfo=function(){return r()},t.onUserReady=function(t,e){n(t,e)},t.onUserChanged=function(t,e,n){i.userChanged[n?"addOnce":"add"](t,e)}}}}e.defaultId="userInfo",t.exports=e}()},function(t,e){!function(){"use strict";function e(t,e){return e=e||{},this.defaultSettings={cookieName:"bfa_test"},this.settings=t.utils.defaultsDeep(e,this.defaultSettings),this._isTestMode="true"===t.utils.readCookie(this.settings.cookieName),this.updateGeneralSettings=function(e){e.mode!==t.defs.bfaMode.test&&t.push("general/settings/update",{mode:t.defs.bfaMode.test})},this._isTestMode&&(this.updateGeneralSettings(t._generalSettings),t._onGeneralSettingsChange.add(this.updateGeneralSettings,this)),{}}e.defaultId="testMode",e.require=["generalSettings"],t.exports=e}()},function(t,e,n){!function(){"use strict";function e(t,e){function n(){this._bfaMode=t._generalSettings.mode}function o(e,n){if(e instanceof r&&n){if(!t.utils.has(s.settings.appendersConfig,s._bfaMode))return;for(var i=s.settings.appendersConfig[s._bfaMode],o=0;o<i.length;o++)t.utils.has(s,i[o])&&s[i[o]].trackEvent(this.instanceId,e,n)}else t.log.warn("DebugTracker: can't store event data for "+this.instanceId+": not valid arguments")}function a(e){if(!t.utils.isString(e)||""===e)throw new Error("Error occurred on _createDebugTracker call: instanceId arg has to be not empty string");return{instanceId:e,trackEvent:o}}e=e||{},this.defaultSettings={storageKeyName:"bfa_debugStore",appendersConfig:{}},this.defaultSettings.appendersConfig[t.defs.bfaMode.develop]=[i.logger],this.defaultSettings.appendersConfig[t.defs.bfaMode.test]=[i.sessionStorage,i.logger],this.settings=t.utils.defaults(e,this.defaultSettings),this._bfaMode=t._generalSettings.mode,t._onGeneralSettingsChange.add(n,this);var s=this;return this[i.sessionStorage]={trackEvent:function(e,n,r){var i,o=window.sessionStorage.getItem(s.settings.storageKeyName);i=null===o?{pageHref:document.location.href}:JSON.parse(o),t.utils.isUndefined(i[e])&&(i[e]=[]),i[e].push({eventType:n.t,eventName:n.n,eventLocation:n.l,eventDescription:n.d,dataObject:r}),window.sessionStorage.setItem(s.settings.storageKeyName,JSON.stringify(i))}},this[i.logger]={trackEvent:function(t,e,n){var r={eventType:e.t,eventName:e.n,eventLocation:e.l,eventDescription:e.d,dataObject:n};this.logger.info(t+" tracked event: "+JSON.stringify(r))}},this[i.logger].logger=t.createLogger("DebugTracker_"+i.logger),t.createDebugTracker=a,{modifySBInstance:function(t){t.debugTracker=a(t.instanceId)}}}var r=n(165),i={logger:"loggerAppender",sessionStorage:"sessionStorageAppender"};e.defaultId="debugTracker",e.require=["generalSettings","logger"],t.exports=e,t.exports.debugTrackerAppenderTypes=i}()},function(t,e,n){!function(){"use strict";function e(t,e,n,i,o,a){this.t=t||"",this.n=e||"",this.l=n||"",this.d=i||"",this.data=r.isObject(o)?o:{},this.opt=r.isObject(a)?a:{}}var r=n(7);e.tryParse=function(t){var n=r.get(t,"t",""),i=r.get(t,"n","");return r.isString(n)&&0!==n.length&&r.isString(i)&&0!==i.length?new e(n,i,r.get(t,"l",""),r.get(t,"d",""),r.get(t,"data",{}),r.get(t,"opt",{})):null},t.exports=e}()},function(t,e){!function(){"use strict";function e(t,e){function n(t,e){i.settings.isReady===!0&&t.call(e),i.seedSocialFlagsReady.add(t,e)}function r(){return t.utils.cloneDeep(i.settings.seedSocialFlags)}e=e||{},this.defaultSettings={isReady:!1,seedSocialFlags:void 0},this.utils=t.utils,this.settings=t.utils.defaultsDeep(e,this.defaultSettings),this.seedSocialFlagsReady=new t.utils.Signal;var i=this;return this._tryCalculate=function(){this.settings.isReady||this.settings.pageInfo&&this.settings.userInfo&&(this.settings.pageInfo.post?this.isPromotedPost(this.settings.pageInfo,this.settings.userInfo)?this.settings.seedSocialFlags=this.calculatePromotedFlags(this.settings.pageInfo,this.settings.userInfo):this.settings.seedSocialFlags=this.calculateNotPromotedFlags(this.settings.pageInfo,this.settings.userInfo):this.settings.seedSocialFlags=null,this.settings.isReady=!0,this.seedSocialFlagsReady.dispatch())},i.settings.isReady||(t._onPageReady(function(){this.settings.pageInfo=t._getPageInfo(),this._tryCalculate()},this),t._onUserReady(function(){this.settings.userInfo=t._getUserInfo(),this._tryCalculate()},this)),t._onPostSeedSocialFlagsReady=function(t,e){n(t,e)},t._getPostSeedSocialFlags=function(){r()},{modifySBInstance:function(t){t.getPostSeedSocialFlags=function(){return r()},t.onPostSeedSocialFlagsReady=function(t,e){n(t,e)}}}}e.prototype.isPromotedPost=function(t){return this.utils.get(t,"post.isPromoted",!1)===!0},e.prototype.isBuzzFeedRegex=/^https?:\/\/([^\/]+\.)?buzzfeed\.com(\/|$)/i,e.prototype.isBuzzFeedReferrer=function(t,e){if(!e.referrer.match(this.isBuzzFeedRegex))return!1;if(0===t.uri.path.indexOf("h2/")&&e.referrer.indexOf("buzzfeed.com/h1/")>-1){var n=null,r=this.utils.readCookie("HT_PRIMARY");if(void 0!==r){var i=decodeURIComponent(r).split(",");i.length>4&&"not_available"!==i[4]&&(n=i[4])}if(null===n||!n.match(this.isBuzzFeedRegex))return!1}return!0},e.prototype.calculateNotPromotedFlags=function(t,e){if(!t||!e.referrer)return null;var n={seed:!1,social:!1};return this.isBuzzFeedReferrer(t,e)?n.seed=!0:n.social=!0,n},e.prototype.calculatePromotedFlags=function(t,e){if(!t||!e.referrer)return null;var n={seed:!1,social:!1,sodisco:!1},r=this.utils.readCookie("BUZZ_WIDGET");return r&&t.uri.href.match(r)||window.IS_HASH_WIDGET_CLICK?(n.seed=!0,n.sodisco=!0):this.isBuzzFeedReferrer(t,e)===!0?t.uri.search.match(/([&\?]+b=1)/)?n.social=!0:n.seed=!0:(n.social=0===t.uri.path.indexOf("/h2/"),n.sodisco=n.social),n},e.require=["pageInfo","userInfo"],e.defaultId="postSeedSocialFlags",t.exports=e}()},function(t,e,n){!function(){"use strict";function e(t,e){this.settings=e||{},this._binderBuilder=new r;var n=this;return t._router.sub("plugin/binder/activate",function(e){i.merge(n.settings,e||{}),i.merge(n._binderBuilder.buildConfig,n.settings),t.domi.onDomReady(function(){window.bfaBinder=n._binderBuilder.build()})},this,null,!0),{}}var r=n(168),i=n(7),o=n(171);window.bfaBinder={parser:new o},e.defaultId="binder",e.require=["domi"],t.exports=e}()},function(t,e,n){!function(){"use strict";function e(){}var r=n(169),i=n(172),o=n(173),a=n(174),s=n(177);e.prototype.buildConfig={bfaFunctionName:null,domBinder:{delegatedMapping:null,directMapping:null},scrollBinder:{pixelMode:{enabled:!1},elementMode:{enabled:!1,element:"",expected:0},checkpoints:[],bottomBounds:[]},socialBinder:{facebookMapping:null}},e.prototype.useDomDelegatedBinder=function(t){return this.buildConfig.domBinder.delegatedMapping=t,this},e.prototype.useDomDirectBinder=function(t){return this.buildConfig.domBinder.directMapping=t,this},e.prototype.useScrollPixelModeBinder=function(){return this.buildConfig.scrollBinder.pixelMode.enabled=!0,this},e.prototype.useScrollElementsModeBinder=function(t,e){return this.buildConfig.scrollBinder.elementMode.enabled=!0,this.buildConfig.scrollBinder.elementMode.element=t,this.buildConfig.scrollBinder.elementMode.expected=e,this},e.prototype.useSocialBinder=function(t){return this.buildConfig.socialBinder.mapping=t,this},e.prototype.setBottomBoundElements=function(t){return this.buildConfig.bottomBounds=t,this},e.prototype.setPercentageCheckpoints=function(t){this.scrollBinder.checkpoints=t},e.prototype.useBfaFunction=function(t){this.bfaFunctionName=t},e.prototype.build=function(){if(!this.buildConfig.bfaFunctionName)return null;var t=new s;if(this.buildConfig.domBinder.delegatedMapping){var e=new r(this.buildConfig.domBinder.delegatedMapping,this.buildConfig.bfaFunctionName);t.domBinders.push(e)}if(this.buildConfig.domBinder.directMapping){var n=new i(this.buildConfig.domBinder.directMapping,this.buildConfig.bfaFunctionName);t.domBinders.push(n)}if(this.buildConfig.socialBinder.facebookMapping){var u=new o(this.buildConfig.socialBinder.facebookMapping,this.buildConfig.bfaFunctionName);t.socialBinders.push(u)}if(this.buildConfig.scrollBinder.elementMode.enabled||this.buildConfig.scrollBinder.pixelMode.enabled){var c=new a(this.buildConfig.scrollBinder,this.buildConfig.bfaFunctionName);t.scrollBinders.push(c)}return t.init(),t},t.exports=e}()},function(t,e,n){!function(){"use strict";function e(t,e){this.events=[],this.matches=document.documentElement.matches||document.documentElement.webkitMatchesSelector||document.documentElement.mozMatchesSelector||document.documentElement.oMatchesSelector||document.documentElement.msMatchesSelector,this.init=function(){this.processMapping(),this.subscribeForEvents()},this.processMapping=function(){for(var e in t)if(t.hasOwnProperty(e))for(var n=t[e],r=0;r<n.length;r++)n[r].trackMethod=e,this.events.push(n[r])},this.subscribeForEvents=function(){var t=document.body||document.documentElement,e=this;this.events=this.events.map(function(n){return n.handler=e.getHandler(),t.addEventListener(n.event,n.handler),n})},this.getHandler=function(){var t=this;return function(e){if(!e.bfaHandled&&e.target)for(var n=e.target;n;){for(var r=0;r<t.events.length;r++){var i=t.events[r];if(n.nodeType&&9!==n.nodeType&&i.event===e.type&&t.matches.call(n,i.selector)){var o=i.options?i.options.handlers:null;t.trackElement(n,i.trackMethod,o),e.bfaHandled=!0;break}}if(e.bfaHandled)break;n=n.parentNode}}},this.trackElement=function(t,n,i){if(i)for(var o=0;o<i.length&&!r[i[o]](t,e,n);o++);else{var a=r.DefaultHandler;a(t,e,n)}},this.disable=function(){for(var t=document.body||document.documentElement,e=0;e<this.events.length;e++)t.removeEventListener(this.events[e].event,this.events[e].handler)}}var r=n(170);t.exports=e}()},function(t,e,n){!function(){"use strict";function e(t){if(null===t||void 0===t||!("string"==typeof t||t instanceof String))return null;var e=t.match(g);return{url:e[0]?e[0]:"",scheme:e[2]?e[2]:"",host:e[4]?e[4]:"",path:e[5]?e[5]:"",cleanedPath:e[5]?e[5]:"",query:e[7]?e[7]:"",fragment:e[9]?e[9]:""}}function r(t){return t.scheme.length>0&&t.host.length>0&&-1===t.host.indexOf("buzzfeed.com")||0===t.url.indexOf("javascript:;")?!1:!0}function i(t){return!t.host||!t.scheme||t.host.indexOf("buzzfeed.com")>-1||-1===t.scheme.indexOf("http")?!1:!0}function o(t){return t.path+(t.query?"?"+t.query:"")}function a(t){return t.url}function s(t){var n=e(t);return null===n?"":i(n)?a(n):r(n)?o(n):""}function u(t){return!(t&&t.ignore instanceof Array)||-1===t.ignore.indexOf("bfaBinder")&&-1===t.ignore.indexOf("all")||t.force instanceof Array&&-1!==t.force.indexOf("bfaBinder")?!0:!1}function c(t,n){if(null===t||"A"!==t.nodeName||t.hasAttribute("data-bfa"))return!1;var i=t.getAttribute("href"),a=e(i);if(null===a||!r(a))return!1;var s=new h,u=["track/click/Nav-Link",{t:"click",n:"Nav-Link",l:s.findLocation(t),data:{url:o(a)}}];return n&&window[n]instanceof Function&&window[n].apply(this,u),!0}function l(t,n){if(null===t||"A"!==t.nodeName||t.hasAttribute("data-bfa"))return!1;var r=t.getAttribute("href"),o=e(r);if(!o||!i(o))return!1;var s=new h,u=["track/click/Exit-Link",{t:"click",n:"Nav-Link",l:s.findLocation(t),data:{url:a(o),anchorDesc:t.innerHTML}}];return n&&window[n]instanceof Function&&window[n].apply(this,u),!0}function d(t,e){if(null===t||"SELECT"!==t.nodeName)return!1;var n=t.options[t.selectedIndex];if(!n)return!1;if(!n.hasAttribute("data-bfa"))return!1;var r=new h,i=r.parse(n);if(!u(i.options))return!1;n.hasAttribute("data-href")&&(i.data.url=s(n.getAttribute("data-href")));var o=["track/click/"+i.action,{t:"click",n:i.action,l:i.location,d:i.description,data:i.data,opt:i.options}];return e&&window[e]instanceof Function&&window[e].apply(this,o),!0}function p(t,e,n){if(null===t||"A"!==t.nodeName||!t.hasAttribute("data-bfa"))return!1;var r=new h,i=r.parse(t);if(!u(i.options))return!1;i.data.url=s(t.getAttribute("href"));var o=["track/"+n+"/"+i.action,{t:n,n:i.action,l:i.location,d:i.description,data:i.data,opt:i.options}];return e&&window[e]instanceof Function&&window[e].apply(this,o),!0}function f(t,e,n){if(null===t||!t.hasAttribute("data-bfa"))return!1;var r=new h,i=r.parse(t);if(!u(i.options))return!1;var o=["track/"+n+"/"+i.action,{t:n,n:i.action,l:i.location,d:i.description,data:i.data,opt:i.options}];return e&&window[e]instanceof Function&&window[e].apply(this,o),!0}var h=n(171),g=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?");t.exports={ATagWithInternalLinkHandler:c,ATagWithExternalLinkHandler:l,ATagDefaultHandler:p,SelectTagChangedClickHandler:d,DefaultHandler:f}}()},function(t,e){!function(){"use strict";function e(t){this.defaultConfig={start:"@",end:";",separator:":",objectPropertySeparator:",",objectStart:"{",objectEnd:"}",arrayStart:"[",arrayEnd:"]",parts:{action:"a",description:"d",location:"l",data:"e",options:"o"}},this.config=t||this.defaultConfig,this.parse=function(t){var e={},n=t.getAttribute("data-bfa");return e=null===n||""===n?{action:"",location:"",description:"",data:{},options:{}}:this.processAttribute(n),""===e.location&&(e.location=this.findLocation(t.parentElement)),e.action=this.grabDataSource(e.action),e.location=this.grabDataSource(e.location),e.description=this.grabDataSource(e.description),e},this.processAttribute=function(t){var e=[];for(var n in this.config.parts)if(this.config.parts.hasOwnProperty(n)){var r=t.indexOf(this.config.start+this.config.parts[n]+this.config.separator);r>-1&&e.push({part:n,idx:r})}e=e.sort(function(t,e){return t.idx<e.idx?-1:t.idx===e.idx?0:1});for(var i={action:"",location:"",description:"",data:"",options:""},o=0;o<e.length;o++)o<e.length-1?i[e[o].part]=t.substring(e[o].idx,e[o+1].idx):i[e[o].part]=t.substring(e[o].idx);for(var a in i)i.hasOwnProperty(a)&&(i[a]=i[a].replace(this.config.start+this.config.parts[a]+this.config.separator,"").trim(),i[a][i[a].length-1]===this.config.end&&(i[a]=i[a].substring(0,i[a].length-1)));return i.data=this.convertToObject(i.data),i.options=this.convertToObject(i.options),i},this.findLocation=function(t){for(;null!==t;){var e=t.getAttribute("data-bfa");if(null!==e&&""!==e){var n=this.processAttribute(e);if(""===n.location){t=t.parentElement;continue}return n.location}t=t.parentElement}return""},this.objectParseMode={propertyName:1,propertyValue:2,propertyArray:4},this.convertToObject=function(t){var e={};if(t=t.trim().replace('"',"").replace("'",""),"string"!=typeof t||0!==t.indexOf(this.defaultConfig.objectStart)||t.indexOf(this.defaultConfig.objectEnd)!==t.length-1)return e;for(var n="",r="",i="",o=this.objectParseMode.propertyName,a=1;a<t.length-1;a++)if(t[a]!==this.defaultConfig.separator||o!==this.objectParseMode.propertyName)switch(o){case this.objectParseMode.propertyArray:if(r||(r=[]),t[a]===this.defaultConfig.arrayEnd){r.push(i.trim()),e[n.trim()]=r,n="",i="",r="",o=this.objectParseMode.propertyName;break}if(t[a]===this.defaultConfig.objectPropertySeparator){r.push(i),i="";break}i+=t[a];break;case this.objectParseMode.propertyValue:t[a]===this.defaultConfig.objectPropertySeparator||a===t.length-2?(e[n.trim()]=(r+(t[a]!==this.defaultConfig.objectPropertySeparator?t[a]:"")).trim(),n="",r="",o=this.objectParseMode.propertyName):r+=t[a];break;case this.objectParseMode.propertyName:t[a]!==this.defaultConfig.objectPropertySeparator&&(n+=t[a])}else t[a+1]&&t[a+1]===this.defaultConfig.arrayStart?(o=this.objectParseMode.propertyArray,a++):o=this.objectParseMode.propertyValue;return e},this.grabDataSource=function(t){if(t.indexOf("source:")>-1){var e=t.replace("source:","").trim();if(e&&window){for(var n=window,r=e.split("."),i=r.pop(),o=0;o<r.length;o++)n=n[r[o]];var a=n[i];if(a)return a()}}return t}}t.exports=e}()},function(t,e,n){!function(){"use strict";function e(t,e){this.events=[],this.init=function(){this.processMapping(),this.subscribeForEvents()},this.processMapping=function(){for(var e in t)if(t.hasOwnProperty(e))for(var n=t[e],r=0;r<n.length;r++)n[r].trackMethod=e,this.events.push(n[r])},this.subscribeForEvents=function(){var t=this;this.events=this.events.map(function(e){var n=document.querySelector(e.selector);if(n){var r=e.options?e.options.handlers:null;e.handler=t.getHandler(e.trackMethod,r),n.addEventListener(e.event,e.handler)}return e})},this.getHandler=function(t,e){var n=this;return function(r){n.trackElement(this,t,e),r.bfaHandled=!0}},this.trackElement=function(t,n,i){if(i)for(var o=0;o<i.length&&!r[i[o]](t,e,n);o++);else{var a=r.DefaultHandler;a(t,e,n)}},this.disable=function(){for(var t=0;t<this.events.length;t++){var e=document.querySelector(this.events[t].selector);e&&e.removeEventListener(this.events[t].event,this.events[t].handler)}}}var r=n(170);t.exports=e}()},function(t,e,n){function r(t,e){"use strict";this.mapping=t,this.executable=e,this.parser=new i,this.init=function(){var t=this,e=0,n=setInterval(function(){e>=10&&clearInterval(n),window.FB&&(clearInterval(n),t.processMappings()),e++},1e3)},this.processMappings=function(){if(void 0!==t)for(var e=0;e<t.length;e++)"like"===t[e]&&this.bindLikes(),"unlike"===t[e]&&this.bindDislikes(),"comment"===t[e]&&this.bindComments()},this.bindLikes=function(){var t=this;window.FB.Event.subscribe("edge.create",function(e,n){if(null!==n&&n.getAttribute){var r=t.parser.parse(n),i=["track/click/"+r.action,{t:"click",n:r.action,d:r.description,l:r.location,data:r.data,opt:r.options}];t.executable&&window[t.executable]instanceof Function&&window[t.executable].apply(this,i)}})},this.bindDislikes=function(){var t=this;window.FB.Event.subscribe("edge.remove",function(e,n){var r=t.parser.parse(n),i=["track/click/"+r.action,{t:"click",n:r.action,d:r.description,l:r.location,data:r.data,opt:r.options}];t.executable&&window[t.executable]instanceof Function&&window[t.executable].apply(this,i)})},this.bindComments=function(){var t=this;window.FB.Event.subscribe("comment.create",function(){var e=["track/click/Submit",{t:"click",n:"Submit",d:"Facebook",l:"Contributions"}];t.executable&&window[t.executable]instanceof Function&&window[t.executable].apply(this,e)})}}var i=n(171);t.exports=r},function(t,e,n){!function(){"use strict";function e(t,e){this.options=t||{},this.executable=e,this.scrollHandler=null,this.keyPressHandler=null,this.init=function(){window&&t&&e&&(this.scrollHandler=this.getScrollHandler(),this.keyPressHandler=this.getKeyPressScrollHandler(),this.scrollHandler&&window.addEventListener("scroll",this.debounce(this.scrollHandler,200)),this.keyPressHandler&&document.addEventListener("keydown",this.debounce(this.keyPressHandler,200)))},this.getScrollHandler=function(){var e=null,n=null;return this.options.pixelMode.enabled&&(e=new r(this.options,this.executable),e.init()),this.options.elementMode.enabled&&(n=new i(this.options,this.executable),n.init()),function(){if(t.elementMode.enabled){var r=document.querySelectorAll(t.elementMode.element);r.length!==t.elementMode.expected?n.track():t.pixelMode.enabled&&e.track()}else t.pixelMode.enabled&&e.track()}},this.getKeyPressScrollHandler=function(){var t=this;return function(e){return 32===e.which||33===e.which||34===e.which||38===e.which||40===e.which||e.ctrlKey&&35===e.which||e.ctrlKey&&36===e.which&&t.scrollHandler?void t.scrollHandler():null}},this.debounce=function(t,e,n){var r;return function(){function i(){r=null,n||t.apply(o,a)}var o=this,a=arguments,s=n&&!r;clearTimeout(r),r=setTimeout(i,e),s&&t.apply(o,a)}}}var r=n(175),i=n(176);t.exports=e}()},function(t,e){!function(){"use strict";function e(t,e){this.options=t||{},this.executable=e,this.points=[],this.init=function(){this.fillCheckPoints()},this.track=function(){var t,e,n=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,r=document.documentElement.clientHeight+1,i=document.documentElement.clientTop||document.body.clientTop||0,o=n+r,a=0;for(t=0;t<this.options.bottomBounds.length&&!(e=document.querySelector(this.options.bottomBounds[t]));t++);if(e){var s=e.getBoundingClientRect().top+n-i;o>=s&&100>a&&(a=100),s>=o&&(a=o/s*100)}for(t=0;t<this.options.checkpoints.length;t++)if(this.points[t].percentage<=a&&!this.points[t].passed){this.points[t].passed=!0;var u=["track/scroll/post",{t:"scroll",n:"post",d:this.points[t].percentage.toString()}];this.executable&&window[this.executable]instanceof Function&&window[this.executable].apply(this,u)}},this.fillCheckPoints=function(){for(var t=0;t<this.options.checkpoints.length;t++)this.points.push({percentage:this.options.checkpoints[t],
passed:!1})}}t.exports=e}()},function(t,e){!function(){"use strict";function e(t,e){this.options=t||{},this.executable=e,this.points=[],this.init=function(){this.fillCheckPoints()},this.track=function(){if(this.options.elementMode.element&&this.options.elementMode.expected){var t,e=window.pageYOffset+document.documentElement.clientHeight+1,n=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,r=document.documentElement.clientTop||document.body.clientTop||0,i=document.querySelectorAll(this.options.elementMode.element),o=0;for(t=0;t<i.length;t++){var a=i[t].getBoundingClientRect().top+n-r;e>=a&&o++}var s=o/this.options.elementMode.expected*100,u=null;for(t=0;t<this.options.bottomBounds.length&&!(u=document.querySelector(this.options.bottomBounds[t]));t++);if(u){var c=u.getBoundingClientRect().top+n-r;e>=c&&100>s&&(s=100)}for(t=0;t<this.options.checkpoints.length;t++)if(this.points[t].percentage<=s&&!this.points[t].passed){this.points[t].passed=!0;var l=["track/scroll/post",{t:"scroll",n:"post",d:this.points[t].percentage.toString()}];this.executable&&window[this.executable]instanceof Function&&window[this.executable].apply(this,l)}}},this.fillCheckPoints=function(){for(var t=0;t<this.options.checkpoints.length;t++)this.points.push({percentage:this.options.checkpoints[t],passed:!1})}}t.exports=e}()},function(t,e,n){!function(){"use strict";function e(){this.domBinders=[],this.socialBinders=[],this.scrollBinders=[],this.parser=new r;var t;this.init=function(){for(t=0;t<this.domBinders.length;t++)this.domBinders[t].init();for(t=0;t<this.socialBinders.length;t++)this.socialBinders[t].init();for(t=0;t<this.scrollBinders.length;t++)this.scrollBinders[t].init()}}var r=n(171);t.exports=e}()},function(t,e,n){!function(){"use strict";function e(t){return t._router.sub("track",function(e){if(t.utils.isArray(e)){var n=new r(e[0],e[1],e[2],e[3],e[4],e[5]);""!==n.t&&t.push("track/"+n.t+"/"+n.n,n)}},this),{}}var r=n(165);e.defaultId="legacyTrackSupport",t.exports=e}()},function(t,e,n){!function(){"use strict";function e(t){function e(e,n,i){if(!t.utils.isString(e)||0===e.length)return!1;if(!(i instanceof r))return!1;var o=-1!==t.utils.indexOf(t.utils.values(t.defs.trackingBehavior),n)?n:t.defs.trackingBehavior.byDefault,a=i.opt,s=!1;switch(o){case t.defs.trackingBehavior.ifSpecified:t.utils.isPlainObject(a)&&t.utils.isArray(a.force)&&(-1!==a.force.indexOf("all")||-1!==a.force.indexOf(e))&&(s=!0);break;case t.defs.trackingBehavior.byDefault:default:(!t.utils.isPlainObject(a)||!t.utils.isArray(a.ignore)||-1===a.ignore.indexOf("all")&&-1===a.ignore.indexOf(e)||t.utils.isArray(a.force)&&-1!==a.force.indexOf(e))&&(s=!0)}return s}function n(e,n,i){return e=e||{},e instanceof r?e:(t.utils.isString(e.t)&&0!==e.t.length||(e.t=n),t.utils.isString(e.n)&&0!==e.n.length||(e.n=i),r.tryParse(e))}return{modifySBInstance:function(t){t.canTrackEvent=e,t.tryConvertToEventInfo=n}}}var r=n(165);e.defaultId="trackingUtils",t.exports=e}()},function(t,e){!function(){"use strict";function e(t,e){e=e||{},this.defaultSettings={isReady:!1,enabled:!1,maxAttempts:20,attemptDelay:100},this.poundIdResult=void 0,this.settings=t.utils.defaultsDeep(e,this.defaultSettings),this.poundIdReadySignal=new t.utils.Signal;var n=this;return this._onPoundIdReady=function(t,e){n.settings.isReady===!0&&t.call(e),n.poundIdReadySignal.add(t,e)},this._getPoundId=function(){return{poundId:n.poundIdResult}},this._activate=function(t){n.poundIdResult=t,n.settings.isReady=!0,n.poundIdReadySignal.dispatch()},n.settings.enabled===!1?this._activate(""):t.domi.onDomReady(function(){var t=0,e=setInterval(function(){if(n.settings.enabled===!0&&""!==window.location.hash&&window.pound&&window.pound.identity){var r=new window.pound.identity.Unique;return n._activate(r.unhashed(window.location.hash.slice(1)).toString()),void clearInterval(e)}t===n.settings.maxAttempts&&(n._activate(""),clearInterval(e)),t++},n.settings.attemptDelay)},this),{modifySBInstance:function(t){t.getPoundId=function(){return n._getPoundId()},t.onPoundIdReady=function(t,e){n._onPoundIdReady(t,e)}}}}e.require=["domi"],e.defaultId="poundId",t.exports=e}()},function(t,e){!function(){"use strict";function e(t){var e={trackingBehavior:t.defs.trackingBehavior.byDefault,extTrackerGlobalName:"bf_s",tracker:null,configMapsDelegate:null,extFilesPaths:[]};this._inited=!1,this._active=!1,this.settings=t.utils.defaultsDeep(t.settings||{},e),this.generalSettings=t.getGeneralSettings();var n=this;return this.activate=function(){if(!n._active&&n._inited){if(n.generalSettings.mode!==t.defs.bfaMode.prod)return void(n.page&&n.user&&!t.utils.isUndefined(n.postSeedSocialFlags)&&(t.log.info("Active"),n._active=!0,t.moduleActive.dispatch()));if(!n.tracker){if(!window[n.settings.extTrackerGlobalName])return void t.log.warn("External adobe lib is still not loaded");n.tracker=window[n.settings.extTrackerGlobalName],t.log.info("External adobe lib is loaded")}n.tracker.isReadyToTrack()?n.page&&n.user&&!t.utils.isUndefined(n.postSeedSocialFlags)&&(t.log.info("active"),n._active=!0,t.moduleActive.dispatch()):(t.log.warn("External adobe lib is still not ready to track. Subscribed on `callbackWhenReadyToTrack`"),n.tracker.callbackWhenReadyToTrack(n,n.activate))}},t.onGeneralSettingsChange(function(){this.generalSettings=t.getGeneralSettings()},this),t.onPageReady(function(){this.page=t.getPageInfo(),this.activate()},this),t.onUserReady(function(){this.user=t.getUserInfo(),this.activate()},this),t.onPostSeedSocialFlagsReady(function(){this.postSeedSocialFlags=t.getPostSeedSocialFlags(),this.activate()},this),this._trackPage=function(e){if(!this._active)return void t.moduleActive.addOnce(t.utils.bind(this._trackPage,this,e),this);var n=t.tryConvertToEventInfo(e,"page","view");if(t.canTrackEvent(t.moduleId,this.settings.trackingBehavior,n)){if(n.data.page=this.page,n.data.user=this.user,n.data.seedSocialFlags=this.postSeedSocialFlags,!t.mapper.isExists("track/page/view"))return void t.log.warn("Mapping for `track/page/view` doesn't exist");switch(this.generalSettings.mode){case t.defs.bfaMode.prod:t.mapper.map("track/page/view",n,this.tracker),this.tracker.t();break;default:t.mapper.map("track/page/view",n,this.tracker),t.debugTracker.trackEvent(n,this.tracker)}t.log.info("`page view` event successfully tracked")}},t.subOn("track/page/view",this._trackPage,this),this._trackScroll=function(e,n){if(!this._active)return void t.moduleActive.addOnce(t.utils.bind(this._trackScroll,this,e,n),this);var r=t.tryConvertToEventInfo(e,"scroll",n.eventName);if(t.canTrackEvent(t.moduleId,this.settings.trackingBehavior,r)&&this.page.post){if(r.data.page=this.page,r.data.user=this.user,!t.mapper.isExists("track/scroll"))return void t.log.error("Mapping for `track/scroll` doesn't exist");if(this.page.post.isPromoted===!0||"100"===r.d){switch(this.generalSettings.mode){case t.defs.bfaMode.prod:t.mapper.map("track/scroll",r,this.tracker),this.tracker.tl(!0,"o",r.d+"%");break;default:t.mapper.map("track/scroll",r,this.tracker),t.debugTracker.trackEvent(r,this.tracker)}t.log.info("`scroll tracking` "+r.d+"% event successfully tracked")}}},t.subOn("track/scroll/{eventName}",this._trackScroll,this),this._trackDefault=function(e,n,r){if(!this._active)return void t.moduleActive.addOnce(t.utils.bind(this._trackDefault,this,e,n,r),this);var i=t.tryConvertToEventInfo(e,n,r);if(t.canTrackEvent(t.moduleId,this.settings.trackingBehavior,i)){if(i.data.page=this.page,i.data.user=this.user,i.data.seedSocialFlags=this.postSeedSocialFlags,!t.mapper.isExists("track/"+n))return void t.log.error("Mapping for `track/"+n+"` doesn't exist");switch(this.generalSettings.mode){case t.defs.bfaMode.prod:t.mapper.map("track/"+n,i,this.tracker),this.tracker.tl(!0,"o","search"===n?"searchResult":n);break;default:t.mapper.map("track/"+n,i,this.tracker),t.debugTracker.trackEvent(i,this.tracker)}t.log.info("Event successfully tracked. Type: "+i.t+"; Name: "+i.n+"; Location: "+i.l+"; Desc: "+i.d+";")}},this._trackClick=function(t,e){this._trackDefault(t,"click",e.eventName)},t.subOn("track/click/{eventName}",this._trackClick,this),this._trackSearch=function(t,e){this._trackDefault(t,"search",e.eventName)},t.subOn("track/search/{eventName}",this._trackSearch,this),this._trackQuiz=function(t,e){this._trackDefault(t,"quiz",e.eventName)},t.subOn("track/quiz/{eventName}",this._trackQuiz,this),{init:function(){return t.utils.isFunction(n.settings.configMapsDelegate)?(n.settings.configMapsDelegate(t.mapper),n.generalSettings.mode===t.defs.bfaMode.prod?(n.tracker=n.settings.tracker,!n.tracker&&!window[n.extTrackerGlobalName]&&n.settings.extFilesPaths&&n.settings.extFilesPaths.length>0&&(t.log.info("loading scripts"),t.domi.onDomReady(function(){t.utils.forEach(n.settings.extFilesPaths,function(e){t.domi.loadScript({src:e},n.activate,null,n)})},n))):n.tracker={},n._inited=!0,t.log.info("inited"),t.moduleInited.dispatch(),void n.activate()):void t.log.error("Value of configMapsDelegate (in settings) property must be a `function` that have to set up mapping")}}}e.defaultId="adobeIntegration",e.require=["logger","domi","pageInfo","userInfo","mapper","trackingUtils","generalSettings","debugTracker","postSeedSocialFlags"],t.exports=e}()},function(t,e){!function(){"use strict";function e(t){var e={trackingBehavior:t.defs.trackingBehavior.byDefault,extTrackerGlobalName:"LOTCC",tracker:null,configMapsDelegate:null,extFilesPaths:["http://tags.crwdcntrl.net/c/6942/cc.js?ns=_cc6942"]};this._inited=!1,this._active=!1,this.settings=t.utils.defaultsDeep(t.settings||{},e),this.generalSettings=t.getGeneralSettings();var n=this;return this.activate=function(){if(!n._active&&n._inited){if(!n.tracker&&n.generalSettings.mode===t.defs.bfaMode.prod){if(!window[n.settings.extTrackerGlobalName])return void t.log.warn("External Lotame lib is still not loaded");n.tracker=window[n.settings.extTrackerGlobalName],t.log.info("External Lotame lib is loaded")}n.page&&n.user&&!t.utils.isUndefined(n.postSeedSocialFlags)&&!t.utils.isUndefined(n.poundId)?(t.log.info("Active"),n._active=!0,t.moduleActive.dispatch()):t.log.warn("External Lotame lib is still not ready to track.")}},t.onGeneralSettingsChange(function(){n.generalSettings=t.getGeneralSettings()},this),t.onPageReady(function(){n.page=t.getPageInfo(),n.activate()},this),t.onUserReady(function(){n.user=t.getUserInfo(),n.activate()},this),t.onPostSeedSocialFlagsReady(function(){n.postSeedSocialFlags=t.getPostSeedSocialFlags(),n.activate()},this),t.onPoundIdReady(function(){n.poundId=t.getPoundId(),n.activate()},this),this._addToTrackerFromDto=function(e,n){for(var r in n)if(n.hasOwnProperty(r))if(t.utils.isArray(n[r]))for(var i=0;i<n[r].length;i++)e.add(r.toString(),n[r][i]);else e.add(r.toString(),n[r])},this._trackDefault=function(e,n,r,i){if(!this._active)return void t.moduleActive.addOnce(t.utils.bind(this._trackDefault,this,e,n,r,i),this);var o=t.tryConvertToEventInfo(e,n,r);if(t.canTrackEvent(t.moduleId,this.settings.trackingBehavior,o)){o.data.page=this.page,o.data.user=this.user,o.data.seedSocialFlags=this.postSeedSocialFlags,i&&(o.data.poundId=this.poundId);var a=i?"track/page/view":"track/"+n;if(!t.mapper.isExists(a))return void t.log.error("Mapping for `"+a+"` doesn't exist");var s=t.mapper.map(a,o,{});if(t.utils.keys(s).length>0){switch(this.generalSettings.mode){case t.defs.bfaMode.prod:this._addToTrackerFromDto(this.tracker,s),this.tracker.bcp();break;default:t.debugTracker.trackEvent(o,s)}t.log.info("Event successfully tracked. Type: "+o.t+"; Name: "+o.n+"; Location: "+o.l+"; Desc: "+o.d+";")}else t.log.info("Event won't be tracked to Lotame, because object is empty after mapping. Type: "+o.t+"; Name: "+o.n+"; Location: "+o.l+"; Desc: "+o.d+";")}},this._trackPage=function(t){this._trackDefault(t,"page","view",!0)},t.subOn("track/page/view",this._trackPage,this),this._trackClick=function(t,e){this._trackDefault(t,"click",e.eventName,!1)},t.subOn("track/click/{eventName}",this._trackClick,this),this._trackQuiz=function(t,e){this._trackDefault(t,"quiz",e.eventName,!1)},t.subOn("track/quiz/{eventName}",this._trackQuiz,this),{init:function(){return t.utils.isFunction(n.settings.configMapsDelegate)?(n.settings.configMapsDelegate(t.mapper),n.generalSettings.mode===t.defs.bfaMode.prod?(n.tracker=n.settings.tracker,!n.tracker&&!window[n.extTrackerGlobalName]&&n.settings.extFilesPaths&&n.settings.extFilesPaths.length>0&&(t.log.info("loading scripts"),t.domi.onDomReady(function(){t.utils.forEach(n.settings.extFilesPaths,function(e){t.domi.loadScript({src:e,id:"LOTCC_6942"},n.activate,null,n)})},n))):n.tracker={},n._inited=!0,t.log.info("inited"),t.moduleInited.dispatch(),void n.activate()):void t.log.error("Value of configMapsDelegate (in settings) property must be a `function` that have to set up mapping")},isInited:function(){return n._inited},isActive:function(){return n._active}}}e.defaultId="LotameIntegration",e.require=["logger","domi","pageInfo","userInfo","mapper","trackingUtils","generalSettings","debugTracker","postSeedSocialFlags","poundId"],t.exports=e}()},function(t,e){!function(){"use strict";t.exports=function(t){var e=t.createMapTemplate("dfpAdobeDefault");e.addMapTo("eVar50","").mapFrom(function(t){return this.utils.get(t,"data.adpartner","")}),e.addMapTo("eVar51","").mapFrom(function(t){return t.l+"|"+t.n+"|"+(t.d?t.d:"Big-Story"!==t.l&&"Bottom-Promo"!==t.l||!t.data.adbuzzid?"(no description)":t.data.adbuzzid)}),e.addMapTo("eVar52","").mapFrom(function(t){return this.utils.get(t,"data.adbuzzurl","").replace(/^(https?|ftp):\/\//,"").replace(/^[^\/]*?buzzfeed.com\//,"").replace(/#(.*)/,"")},[t.formatters.strToLowerCase]);var n=t.getOrCreateMap("track/page/view");n.addMapTo("pageName").mapFrom(function(t){if(this.utils.has(t.data.page.post))return t.data.page.post.name.toLowerCase();var e=this.utils.trim(t.data.page.uri.cleanedPath,"/");return""===e||"index"===e.toLowerCase()?"{{home}}":e}),n.addMapTo("channel").mapFrom("data.page.metavertical"),n.addMapTo("eVar25").mapFrom(function(t){return"index"===t.data.page.type?"home":"Error"===t.data.page.templateType?"Error":t.data.page.type}),n.addMapTo("eVar26").mapFrom(function(t){return(t.data.page.platform===this.defs.platform.desktop?"desktop":"mobile web")+"|"+t.data.page.country+"|"+t.data.page.language},[t.formatters.strToLowerCase]),n.addMapTo("eVar1","").mapFrom("data.user.id"),n.addMapTo("eVar2","visitor").mapFrom(function(t){return t.data.user.isLoggedIn?t.data.user.isAdmin?"administrator":t.data.user.isEditor?"editor":t.data.user.isAdvertiser?"advertiser":"user":"visitor"}),n.addMapTo("referrer","").mapFrom(function(t){var e=t.data.user.referrer;if(t.data.user.userAgent){var n=t.data.user.userAgent.toString().toLowerCase();n.match(/fban\/messenger/)?e="http://msgr.facebook.com":n.match(/fban/)&&!e.match(/m\.facebook/)?e="http://app.facebook.com":n.match(/twitter/i)?e="http://app.twitter.com":n.match(/pinterest/i)&&(e="http://app.pinterest.com")}return e}),n.addMapTo("eVar31","none").mapFrom("data.page.post.id"),n.addMapTo("prop32","").mapFrom(function(t){var e=this.utils.get(t,"data.page.post.published");return e?e.substr(0,10):""}),n.addMapTo("eVar34","").mapFrom("data.page.post.author"),n.addMapTo("eVar61","").mapFrom(function(t){return null!==this.utils.get(t,"data.seedSocialFlags",null)&&this.utils.get(t,"data.page.post.isPromoted",!1)===!0?t.data.seedSocialFlags.social&&!t.data.seedSocialFlags.sodisco?"BuzzFeed organic":"Not organic":""}),n.addMapTo("eVar49","").mapFrom(function(t){if(null!==this.utils.get(t,"data.seedSocialFlags",null)&&this.utils.get(t,"data.page.post.isPromoted",!1)===!0){if(t.data.seedSocialFlags.seed)return"Seed";if(t.data.seedSocialFlags.social)return"Social"}return""}),n.addMapTo("eVar35","").mapFrom(function(t){var e="";if(!t.data.page.post)return e;switch(t.data.page.post.listFormat){case"long":e="Longform";break;case"breaking":e="Breaking";break;case"dec_up":e="Numbered List";break;case"dec_down":e="Countdown List";break;case"none":case"disc":e="Plain List";break;default:e="Article"}switch(t.data.page.post.postFormat){case"wide":e+=",Wide";break;default:e+=",Standard"}return e}),n.addMapTo("eVar39","").mapFrom(function(t){return this.utils.get(t,"data.page.post.isPromoted",!1)!==!0?"":"long"===t.data.page.post.listFormat?this.utils.get(t,"data.page.post.wordsCount",0):t.data.page.post.mainSubBuzzAmount}),n.addMapTo("eVar36","").mapFrom(function(t){return this.utils.get(t,"data.page.post.category","none")},[t.formatters.strToLowerCase]),n.addMapTo("eVar37","").mapFrom(function(t){return t.data.page.post?"raw:"+t.data.page.post.raw.toString()+",editor:"+t.data.page.post.editor.toString()+",ad:"+t.data.page.post.ad.toString()+",nsfw:"+t.data.page.post.nsfw.toString()+",partner:"+t.data.page.post.partner.toString()+",user:"+t.data.page.post.user.toString()+",trigger:"+t.data.page.post.trigger.toString():""}),n.addMapTo("eVar38","").mapFrom("data.page.post.badges",[t.formatters.strToLowerCase]),n.addMapTo("list1","").mapFrom(function(t){var e=this.utils.get(t,"data.page.post.tags",null);if(!e)return"";var n=e.indexOf("--primarykeyword-");return n>-1&&(e=e.substring(n+"--primarykeyword-".length)),e.replace(/(--([^,]*),)/g,"")},[t.formatters.strToLowerCase]),n.addMapTo("events","").mapFrom(function(t){return t.data.page.post?"event31":""}),n.addMapTo("eVar40","").mapFrom(function(t){return this.utils.get(t,"data.page.post.isPromoted",!1)===!0?t.data.page.post.id:""}),n.addMapTo("eVar45","").mapFrom(function(t){return this.utils.get(t,"data.page.post.isPromoted",!1)===!0?t.data.page.post.author:""}),n.addMapTo("list2","").mapFrom(function(t){var e="none";if(this.utils.get(t,"data.page.post.isPromoted",!1)===!0&&t.data.page.post.tags&&t.data.page.post.tags.indexOf("--content-theme")>-1)for(var n,r=/--content-theme-([^,]*),/g;null!==(n=r.exec(t.data.page.post.tags));)e+=n[1]+",";return e}),n.addMapTo("pageType","").mapFrom(function(t){return"Error"===t.data.page.templateType?"errorPage":""}),n.addMapTo("events","").mapFrom(function(t,e){return"/post"===this.utils.get(t,"data.page.uri.cleanedPath","")?e.events?e.events+",event44":"event44":e.events}),n.addMapTo("events","").mapFrom(function(t,e){return this.utils.get(t,"data.page.post.isPromoted",!1)===!0?e.events?e.events+",event33":"event33":e.events}),n.addMapTo("eVar33","").mapFrom(function(t){return this.utils.get(t,"data.page.post.publishedAgo","").toString()});var r=t.getOrCreateRouter("track/click"),i=r.createConfigForRoute(function(t){return"Share"===t.n});i.addMapTo("eVar8","+1"),i.addMapTo("eVar41","").mapFrom(function(t){return t.data.idx?t.d+":"+t.n+":"+t.l+":"+t.data.idx:t.d+":"+t.n+":"+t.l},[t.formatters.strToLowerCase]),i.addMapTo("events","event41"),i.addMapTo("linkTrackVars","eVar8,eVar41,events"),i.addMapTo("linkTrackEvents","event41");var o=r.createConfigForRoute(function(t){return"Standard-Reaction"===t.n||"Gif-Reaction"===t.n||"Standard"===t.n&&"Reactions"===t.l});o.addMapTo("eVar7","+1"),o.addMapTo("eVar42","").mapFrom("d",[t.formatters.strToLowerCase]),o.addMapTo("events","event42"),o.addMapTo("linkTrackVars","eVar7,eVar42,events"),o.addMapTo("linkTrackEvents","event42");var a=r.createConfigForRoute(function(t){return"Submit"===t.n&&"Contributions"===t.l});a.addMapTo("eVar9","+1"),a.addMapTo("eVar43","").mapFrom("d",[t.formatters.strToLowerCase]),a.addMapTo("events","event43"),a.addMapTo("linkTrackVars","eVar9,eVar43,events"),a.addMapTo("linkTrackEvents","event43");var s=r.createConfigForRoute(function(t){return"Thumbstrip"===t.l&&"Thumb-dfp"===t.n});s.applyTemplateByName("dfpAdobeDefault"),s.addMapTo("eVar40","").mapFrom("data.adbuzzid"),s.addMapTo("eVar56","").mapFrom(function(t){return this.utils.get(t,"data.adtitle","")+"|"+this.utils.get(t,"data.adimageurl","").replace(/^(https?|ftp):\/\/[^\/]*?buzzfee?d.com\/static\//,"")},[t.formatters.strToLowerCase]),s.addMapTo("linkTrackVars","eVar52,eVar51,eVar56,eVar40,eVar50,events"),s.addMapTo("linkTrackEvents","event50,event56,event51"),s.addMapTo("events","event50,event56,event51");var u=r.createConfigForRoute(function(t){return-1!==t.n.indexOf("-dfp")&&"Username-dfp"!==t.n});u.applyTemplateByName("dfpAdobeDefault"),u.addMapTo("linkTrackVars","eVar52,eVar51,eVar50,events"),u.addMapTo("linkTrackEvents","event50,event51"),u.addMapTo("events","event50,event51");var c=r.createConfigForRoute(function(t){return"Exit-Link"===t.n});c.addMapTo("eVar54","").mapFrom(function(t){return this.utils.get(t,"data.url","").replace(/^(https?|ftp):\/\//,"").replace(/#(.*)/,"")},[t.formatters.strToLowerCase]),c.addMapTo("eVar53","").mapFrom("data.anchorDesc",[t.formatters.strToLowerCase]),c.addMapTo("linkTrackVars","eVar54,eVar53,events"),c.addMapTo("linkTrackEvents","event53"),c.addMapTo("events","event53");var l=r.createConfigForRoute(function(t){return"CMS"===t.l&&"Publish-Now"===t.d});l.addMapTo("eVar10","+1"),l.addMapTo("events","event45"),l.addMapTo("linkTrackVars","eVar10,events"),l.addMapTo("linkTrackEvents","event45");var d=r.createConfigForRoute(function(t){return"Login"===t.n&&"Account-Set-Up"===t.d});d.addMapTo("events","event5"),d.addMapTo("linkTrackVars","events"),d.addMapTo("linkTrackEvents","event5");var p=r.createConfigForRoute(function(t){return"Login"===t.n&&"Sign-Up"===t.d});p.addMapTo("events","event1"),p.addMapTo("linkTrackVars","events"),p.addMapTo("linkTrackEvents","event1");var f=r.createConfigForRoute(function(t){return"Login"===t.n&&"Sign-Up-FB"===t.d});f.addMapTo("events","event2"),f.addMapTo("linkTrackVars","events"),f.addMapTo("linkTrackEvents","event2");var h=r.createConfigForRoute(function(t){return"Login"===t.n&&("Sign-In-FB"===t.d||"Sign-In-Google"===t.d||"Sign-In"===t.d)});h.addMapTo("eVar3","").mapFrom("data.platform"),h.addMapTo("events","event3"),h.addMapTo("linkTrackVars","eVar3,events"),h.addMapTo("linkTrackEvents","event3");var g=r.createConfigForRoute(function(t){return"Login"===t.n&&"Newsletter"===t.d});g.addMapTo("events","event4"),g.addMapTo("linkTrackVars","events"),g.addMapTo("linkTrackEvents","event4");var v=r.createDefaultConfig();v.addMapTo("eVar52","").mapFrom("data.url",[t.formatters.strToLowerCase]),v.addMapTo("eVar51","").mapFrom(function(t){var e=""!==t.d?t.d:"(no description)";return-1!==t.n.indexOf("Video-")&&t.data.videoUrl&&(e=t.data.videoUrl.replace(/^(https?|ftp):\/\/(www\.)?/,"").replace(/\?.*/,"")),t.l+"|"+t.n+"|"+e}),v.addMapTo("linkTrackVars","eVar52,eVar51,events"),v.addMapTo("linkTrackEvents","event51"),v.addMapTo("events","event51");var m=t.getOrCreateMap("track/search",{});m.addMapTo("linkTrackVars","eVar58,prop59,events"),m.addMapTo("linkTrackEvents","event58"),m.addMapTo("eVar58","").mapFrom("data.keywords",[t.formatters.strToLowerCase,t.formatters.strCutTo255Characters]),m.addMapTo("prop59","").mapFrom("data.resultsCount"),m.addMapTo("events","event58");var y=t.getOrCreateRouter("track/quiz",{});t.addUtility("getAnswerStr",function(t){return t.data?t.data.quizId+"|"+t.data.questionId+"|"+t.data.answerId:""});var b=y.createConfigForRoute(function(t){return"Answer"===t.n&&"poll"!==t.data.quizType});b.addMapTo("eVar46","").mapFrom(function(t){return this.getAnswerStr(t)},[t.formatters.strToLowerCase]),b.addMapTo("eVar51","").mapFrom(function(t){return t.l+"|Quiz-Answer|(no description)"}),b.addMapTo("linkTrackVars","eVar46,eVar51,events"),b.addMapTo("linkTrackEvents","event46"),b.addMapTo("events","event46");var _=y.createConfigForRoute(function(t){return"Answer"===t.n&&"poll"===t.data.quizType});_.addMapTo("eVar46","").mapFrom(function(t){return this.getAnswerStr(t)},[t.formatters.strToLowerCase]),_.addMapTo("eVar47","").mapFrom(function(t){return this.getAnswerStr(t)},[t.formatters.strToLowerCase]),_.addMapTo("eVar51","").mapFrom(function(t){return t.l+"|Poll-Answer|(no description)"}),_.addMapTo("linkTrackVars","eVar46,eVar47,eVar51,events"),_.addMapTo("linkTrackEvents","event46,event47"),_.addMapTo("events","event46,event47");var w=y.createConfigForRoute(function(t){return"Complete"===t.n});w.addMapTo("eVar47","").mapFrom(function(t){return t.data?t.data.quizId+"|"+t.data.result:""},[t.formatters.strToLowerCase]),w.addMapTo("eVar51","").mapFrom(function(t){return t.l+"|Quiz-Complete|(no description)"}),w.addMapTo("linkTrackVars","eVar47,eVar51,events"),w.addMapTo("linkTrackEvents","event47"),w.addMapTo("events","event47");var x=t.getOrCreateMap("track/scroll",{});t.addUtility("getEvent",function(t){var e="";switch(t.d){case"25":e="event37";break;case"50":e="event38";break;case"75":e="event39";break;case"100":e="event32"}return e}),x.addMapTo("linkTrackVars","events"),x.addMapTo("linkTrackEvents","").mapFrom(function(t){return this.getEvent(t)}),x.addMapTo("events","").mapFrom(function(t){return this.getEvent(t)})}}()},function(t,e){!function(){"use strict";function e(t,e){var n=e.get(t,"data.seedSocialFlags",null);return n?n.seed?"Seed":n.social?"Social":"Unknown":""}function n(t,n){var r=n.get(t,"data.seedSocialFlags",null),i="";r&&(i=r.sodisco?"SoDisco":"NonSoDisco");var o=e(t,n);return i+o}t.exports=function(t){var r=t.getOrCreateRouter("track/page/view"),i=r.createConfigForRoute(function(t){return"buzz"===this.utils.get(t,"data.page.type")});i.addMapTo("seg","").mapFrom(function(t){if(this.utils.has(t,"data.page.post.tags")){var e=this.utils.get(t,"data.page.post.tags").split(",").filter(function(t){return null!==t&&void 0!==t&&""!==t});return e.map(function(t){return"tag:"+t})}}),i.addMapToArray("med","").mapFrom(function(t){return"section:"+this.utils.get(t,"data.page.post.category")}).mapFrom(function(t){return"type:"+(this.utils.get(t,"data.page.post.isPromoted")?"sponsored":"editorial")}).mapFrom(function(t){var e="none";if(this.utils.get(t,"data.page.post.isPromoted")===!0&&this.utils.has(t,"data.page.post.tags")&&t.data.page.post.tags.indexOf("--content-theme")>-1)for(var n,r=/--content-theme-([^,]*),/g;null!==(n=r.exec(t.data.page.post.tags));)e+=n[1]+",";return"theme: "+e}),i.addMapToArray("comp","").mapFrom(function(t){return"username:"+this.utils.get(t,"data.page.post.author")}),i.addMapToArray("adv","").mapFrom(function(t){var e=t.data.user.referrer;if(t.data.user.userAgent){var n=t.data.user.userAgent.toString().toLowerCase();n.match(/fban\/messenger/)||n.match(/fban/)&&!e.match(/m\.facebook/)?e="Facebook":n.match(/twitter/i)?e="Twitter":n.match(/pinterest/i)?e="Pinterest":(e=e.indexOf("://")>-1?e.split("/")[2]:e.split("/")[0],e=e.split(":")[0])}return"socialreferral: "+e}).mapFrom(function(t){var e="mobileapp";switch(t.data.page.platform){case 1:e="desktop";break;case 2:e="mobileweb"}return"platform: "+e}).mapFrom(function(t){return"edition: "+t.data.page.country}),i.addMapToArray("geo","").mapFrom(function(t){if(this.utils.get(t,"data.page.post.isPromoted")){var e=n(t,this.utils);return"sponsored: "+e}}).mapFrom(function(t){if(this.utils.get(t,"data.page.post.isPromoted")){var e=n(t,this.utils);return"sponsored - "+e+": buzzID-"+this.utils.get(t,"data.page.post.id")}}).mapFrom(function(t){return this.utils.get(t,"data.page.post.isPromoted")?"sponsored: buzzID-"+this.utils.get(t,"data.page.post.id"):void 0}),i.addMapToArray("int","").mapFrom(function(t){if(!this.utils.get(t,"data.page.post.isPromoted")){var n=e(t,this.utils);return"editorial - "+n}}).mapFrom(function(t){if(!this.utils.get(t,"data.page.post.isPromoted")){var n=e(t,this.utils);return"editorial - "+n+": buzzID-"+this.utils.get(t,"data.page.post.id")}}).mapFrom(function(t){return this.utils.get(t,"data.page.post.isPromoted")?void 0:"editorial: buzzID-"+this.utils.get(t,"data.page.post.id")}).mapFrom(function(t){if(!this.utils.get(t,"data.page.post.isPromoted")){var n=e(t,this.utils);return"editorial - "+n+": section-"+this.utils.get(t,"data.page.post.category")}}),i.addMapToArray("tpid","").mapFrom("data.poundId.poundId");var o=t.getOrCreateRouter("track/click"),a=o.createConfigForRoute(function(t){return"Share"===t.n});a.addMapToArray("act","").mapFrom(function(t){return"share: "+t.d}).mapFrom(function(t){return"share: "+t.d+" : section-"+this.utils.get(t,"data.page.post.category")}).mapFrom(function(t){var n=this.utils.get(t,"data.page.post.isPromoted")?"sponsored":"editorial",r=e(t,this.utils);return"share: "+t.d+" : "+n+"-"+r});var s=o.createConfigForRoute(function(t){return"Bookmark"===t.n});s.addMapTo("act","bookmark");var u=t.getOrCreateRouter("track/quiz"),c=u.createConfigForRoute(function(t){return"Answer"===t.n});c.addMapTo("act","AnsweredQuiz");var l=u.createConfigForRoute(function(t){return"Complete"===t.n});l.addMapTo("act","CompletedQuiz")}}()},function(t,e,n){!function(){"use strict";t.exports.Core=n(186)}()},function(t,e,n){(function(t){!function(){"use strict";function e(){this._modules={},this._plugins={},this._instances={},this._router=new o,this.inited=new i,this.active=new i,this.crashed=new i,this._inited=!1,this._active=!1,this._crashed=!1,this.crashed.add(function(){this._crashed=!0,this.log.info("CRASHED")},this,Number.MAX_VALUE);var t=this;this._router.sub("bfa/subscribe/{action}/{eventName}",this._subscribe,this,{action:["add","addOnce","remove"],eventName:function(e){return t.utils.isString(e)&&e.length>0}}),this.inited.add(function(){this._inited=!0,this.log.info("inited")},this,Number.MAX_VALUE),this.active.add(function(){this._active=!0,this.log.info("active")},this,Number.MAX_VALUE),this.Sandbox=function(t,e,n,r){return this.instanceId=e,this.moduleInited=new i,this.moduleActive=new i,this.fillModuleRoute=function(t){return"module/"+e+"/"+t},this.subOn=function(e,n,r){t._router.sub(e,n,r)},this.settings=n||{},this.moduleId=r,this.utils=t.utils,this.defs=t.defs,this},this.construct.dispatch(this)}var r=n(7),i=r.Signal,o=n(188),a=n(160);e.prototype.log={error:function(){},log:function(){},info:function(){},warn:function(){},enabled:function(){}},e.prototype.construct=new i,e.prototype.utils=r,e.prototype.defs=a,e.prototype._subscribe=function(t,e){return this.utils.isPlainObject(t)&&this.utils.isPlainObject(e)&&this[e.eventName]instanceof i&&this.utils.isFunction(t.fn)&&t.context&&this[e.eventName][e.action](t.fn,t.context),this},e.prototype.registerModule=function(t,e,n){if(this._inited===!0)return this.log.warn("You can't register module after activation"),this;e=e||{};var r=this.utils.checkType("function",t,"module")||this.utils.checkType("object",e,"settings");if(r)throw new TypeError(r);if(!this.utils.isString(n)&&this.utils.isString(t.defaultId)&&(n=t.defaultId),!this.utils.isString(n)||0===n.length)throw new TypeError("moduleId has to be specified (as third argument or as `id` property of module) and must be not empty string");return this.utils.has(this._modules,n)?(this.log.warn("module "+n+" was already registered"),this):(this.push("module/"+n+"/added"),this._modules[n]={Creator:t,settings:e,id:n},this)},e.prototype.plugin=function(t,e,n){if(this._inited===!0)return this.log.warn("You can't add plugins after activation"),this;e=e||{};var r=this.utils.checkType("function",t,"plugin")||this.utils.checkType("object",e,"settings");if(r)throw new TypeError(r);if(!this.utils.isString(n)&&this.utils.isString(t.defaultId)&&(n=t.defaultId),!this.utils.isString(n)||0===n.length)throw new TypeError("pluginId has to be specified (as third argument or as `id` property of plugin) and must be not empty string");return this.utils.has(this._plugins,n)?(this.log.warn("plugin "+n+" was already registered"),this):(this._plugins[n]={Creator:t,instance:null,settings:e,id:n},this.log.warn("plugin "+n+" registered"),this)},e.prototype.activatePlugins=function(){function t(i,o){r.utils.isArray(o)||(o=[]),o.push(i),n[i]=!0,r.utils.forEach(r.utils.get(r._plugins[i],"Creator.require",[]),function(e){if(r.utils.isUndefined(r._plugins[e]))throw new Error("Can't resolve \""+e+'" for "'+i+'" plugin');if(o.indexOf(e)>=0)throw new Error('Circular dependency "'+e+'" is required by "'+i+'" plugin: '+o.join(" -> "));n[e]||t(e,o.slice(0))},r),e.indexOf(i)<0&&e.push(i)}if(this._crashed===!0)return void this.log.warn("Plugins activation interrupted");var e=[],n={},r=this;try{this.utils.forOwn(this._plugins,function(e){
t(e.id)},this);for(var i=0;i<e.length;i++){var o=e[i];null===this._plugins[o].instance?(this._plugins[o].instance=new this._plugins[o].Creator(this,this._plugins[o].settings),this.push("plugin/"+o+"/added"),this.log.info("Plugin "+o+" added successfully")):this.log.info("Plugin "+o+" already added and activated")}}catch(a){return this.log.error(a),this.log.warn("Plugins activation interrupted"),void this.crashed.dispatch()}},e.prototype.activate=function(){if(this._inited===!0)return void this.log.warn("Already initialized");if(this.activatePlugins(),this._crashed===!0)return void this.log.warn("Activation interrupted");this.log.info("Modules activation started");var e=this;this.utils.forOwn(this._modules,function(e){var n=e.Creator.defaultId,r=!1;this.utils.isString(e.settings.instanceId)&&(n=e.settings.instanceId);var i=new this.Sandbox(this,n,e.settings,e.Creator.defaultId);if(this.utils.isArray(e.Creator.require)&&e.Creator.require.length>0)for(var o=0;o<e.Creator.require.length;o++){var a=e.Creator.require[o];if(!this.utils.has(this._plugins,a)||!this.utils.has(this._plugins[a].instance,"modifySBInstance")){r="Module "+e.Creator.defaultId+" require plugin "+a;break}this._plugins[a].instance.modifySBInstance(i)}if(!r){var s=new e.Creator(i);this.utils.has(s,"init")?(this._instances[n]={module:s,sandbox:i},this.push("module/"+n+"/added"),this.log.info("Module "+n+" added successfully")):r="Constructor of module "+t.defaultId+" returned not valid object"}r&&(this.log.error(r),this.log.warn("Instance "+n+" of module "+t.defaultId+" is not added properly"))},this);var n=this.utils.keys(this._instances).length,r=this.utils.after(n,function(){e.inited.dispatch(e)}),i=this.utils.after(n,function(){e.active.dispatch(e)});this.utils.forOwn(this._instances,function(t){t.sandbox.moduleInited.addOnce(r),t.sandbox.moduleActive.addOnce(i),this.utils.defer(t.module.init)},this)},e.prototype.push=function(){this._router.pub.apply(this._router,arguments)},t.exports=e}()}).call(e,n(187)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e,n){!function(){"use strict";function e(){this._router=r.create(),this._routes={},this._router.normalizeFn=r.NORM_AS_OBJECT,this._router.ignoreState=!0,this._router.greedy=!0,this._routes=[]}var r=n(189),i=n(7);e.prototype.pub=function(t){if(i.isString(t)){var e,n=i.slice(arguments,1);1===n.length?e=n[0]:n.length>1&&(e=n),this._router.parse(t,[e])}return this},e.prototype.modifySubCB=function(t,e,n){return i.startsWith(t,"track/")?function(){e.apply(n,i.cloneDeep(Array.prototype.slice.call(arguments)))}:e},e.prototype.sub=function(t,e,n,r,o){if(!i.isString(t)||i.isEmpty(t))return this.log.error("`route` must be not empty string"),this;if(!i.isFunction(e))return this.log.error("`cb` must be a function"),this;if(r&&!i.isObject(r))return this.log.error("`rules` must be an object or not specified"),this;var a=this.modifySubCB(t,e,n),s=o?"addOnce":"add";if(i.has(this._routes,t)||r)if(r){var u=this._router.addRoute(t);u.rules=r,u.matched[s](a,n)}else this._routes[t].matched[s](a,n);else this._routes[t]=this._router.addRoute(t),this._routes[t].matched[s](a,n);return this},e.prototype.log={error:function(){},log:function(){},info:function(){},warn:function(){},enabled:function(){}},t.exports=e}()},function(t,e,n){var r,i,o;/** @license
	 * crossroads <http://millermedeiros.github.com/crossroads.js/>
	 * Author: Miller Medeiros | MIT License
	 * v0.12.2 (2015/07/31 18:37)
	 */
!function(){var a=function(t){function e(t,e){if(t.indexOf)return t.indexOf(e);for(var n=t.length;n--;)if(t[n]===e)return n;return-1}function n(t,n){var r=e(t,n);-1!==r&&t.splice(r,1)}function r(t,e){return"[object "+e+"]"===Object.prototype.toString.call(t)}function i(t){return r(t,"RegExp")}function o(t){return r(t,"Array")}function a(t){return"function"==typeof t}function s(t){var e;return e=null===t||"null"===t?null:"true"===t?!0:"false"===t?!1:t===h||"undefined"===t?h:""===t||isNaN(t)?t:parseFloat(t)}function u(t){for(var e=t.length,n=[];e--;)n[e]=s(t[e]);return n}function c(t,e){for(var n,r,i,a,u=(t||"").replace("?","").split("&"),c=-1,l={};r=u[++c];)n=r.indexOf("="),a=r.substring(0,n),i=decodeURIComponent(r.substring(n+1)),e!==!1&&(i=s(i)),a in l?o(l[a])?l[a].push(i):l[a]=[l[a],i]:l[a]=i;return l}function l(){this.bypassed=new t.Signal,this.routed=new t.Signal,this._routes=[],this._prevRoutes=[],this._piped=[],this.resetState()}function d(e,n,r,o){var a=i(e),s=o.patternLexer;this._router=o,this._pattern=e,this._paramsIds=a?null:s.getParamIds(e),this._optionalParamsIds=a?null:s.getOptionalParamsIds(e),this._matchRegexp=a?e:s.compilePattern(e,o.ignoreCase),this.matched=new t.Signal,this.switched=new t.Signal,n&&this.matched.add(n),this._priority=r||0}var p,f,h;return f=""===/t(.+)?/.exec("t")[1],l.prototype={greedy:!1,greedyEnabled:!0,ignoreCase:!0,ignoreState:!1,shouldTypecast:!1,normalizeFn:null,resetState:function(){this._prevRoutes.length=0,this._prevMatchedRequest=null,this._prevBypassedRequest=null},create:function(){return new l},addRoute:function(t,e,n){var r=new d(t,e,n,this);return this._sortedInsert(r),r},removeRoute:function(t){n(this._routes,t),t._destroy()},removeAllRoutes:function(){for(var t=this.getNumRoutes();t--;)this._routes[t]._destroy();this._routes.length=0},parse:function(t,e){if(t=t||"",e=e||[],this.ignoreState||t!==this._prevMatchedRequest&&t!==this._prevBypassedRequest){var n,r=this._getMatchedRoutes(t),i=0,o=r.length;if(o)for(this._prevMatchedRequest=t,this._notifyPrevRoutes(r,t),this._prevRoutes=r;o>i;)n=r[i],n.route.matched.dispatch.apply(n.route.matched,e.concat(n.params)),n.isFirst=!i,this.routed.dispatch.apply(this.routed,e.concat([t,n])),i+=1;else this._prevBypassedRequest=t,this.bypassed.dispatch.apply(this.bypassed,e.concat([t]));this._pipeParse(t,e)}},_notifyPrevRoutes:function(t,e){for(var n,r=0;n=this._prevRoutes[r++];)n.route.switched&&this._didSwitch(n.route,t)&&n.route.switched.dispatch(e)},_didSwitch:function(t,e){for(var n,r=0;n=e[r++];)if(n.route===t)return!1;return!0},_pipeParse:function(t,e){for(var n,r=0;n=this._piped[r++];)n.parse(t,e)},getNumRoutes:function(){return this._routes.length},_sortedInsert:function(t){var e=this._routes,n=e.length;do--n;while(e[n]&&t._priority<=e[n]._priority);e.splice(n+1,0,t)},_getMatchedRoutes:function(t){for(var e,n=[],r=this._routes,i=r.length;(e=r[--i])&&((!n.length||this.greedy||e.greedy)&&e.match(t)&&n.push({route:e,params:e._getParamsArray(t)}),this.greedyEnabled||!n.length););return n},pipe:function(t){this._piped.push(t)},unpipe:function(t){n(this._piped,t)},toString:function(){return"[crossroads numRoutes:"+this.getNumRoutes()+"]"}},p=new l,p.VERSION="0.12.2",p.NORM_AS_ARRAY=function(t,e){return[e.vals_]},p.NORM_AS_OBJECT=function(t,e){return[e]},d.prototype={greedy:!1,rules:void 0,match:function(t){return t=t||"",this._matchRegexp.test(t)&&this._validateParams(t)},_validateParams:function(t){var e,n=this.rules,r=this._getParamsObject(t);for(e in n)if("normalize_"!==e&&n.hasOwnProperty(e)&&!this._isValidParam(t,e,r))return!1;return!0},_isValidParam:function(t,n,r){var s=this.rules[n],u=r[n],c=!1,l=0===n.indexOf("?");return null==u&&this._optionalParamsIds&&-1!==e(this._optionalParamsIds,n)?c=!0:i(s)?(l&&(u=r[n+"_"]),c=s.test(u)):o(s)?(l&&(u=r[n+"_"]),c=this._isValidArrayRule(s,u)):a(s)&&(c=s(u,t,r)),c},_isValidArrayRule:function(t,n){if(!this._router.ignoreCase)return-1!==e(t,n);"string"==typeof n&&(n=n.toLowerCase());for(var r,i,o=t.length;o--;)if(r=t[o],i="string"==typeof r?r.toLowerCase():r,i===n)return!0;return!1},_getParamsObject:function(t){for(var n,r,i=this._router.shouldTypecast,o=this._router.patternLexer.getParamValues(t,this._matchRegexp,i),a={},u=o.length;u--;)r=o[u],this._paramsIds&&(n=this._paramsIds[u],0===n.indexOf("?")&&r&&(a[n+"_"]=r,r=c(r,i),o[u]=r),f&&""===r&&-1!==e(this._optionalParamsIds,n)&&(r=void 0,o[u]=r),a[n]=r),a[u]=r;return a.request_=i?s(t):t,a.vals_=o,a},_getParamsArray:function(t){var e,n=this.rules?this.rules.normalize_:null;return n=n||this._router.normalizeFn,e=n&&a(n)?n(t,this._getParamsObject(t)):this._getParamsObject(t).vals_},interpolate:function(t){var e=this._router.patternLexer.interpolate(this._pattern,t);if(!this._validateParams(e))throw new Error("Generated string doesn't validate against `Route.rules`.");return e},dispose:function(){this._router.removeRoute(this)},_destroy:function(){this.matched.dispose(),this.switched.dispose(),this.matched=this.switched=this._pattern=this._matchRegexp=null},toString:function(){return'[Route pattern:"'+this._pattern+'", numListeners:'+this.matched.getNumListeners()+"]"}},l.prototype.patternLexer=function(){function t(){var t,e;for(t in h)h.hasOwnProperty(t)&&(e=h[t],e.id="__CR_"+t+"__",e.save="save"in e?e.save.replace("{{id}}",e.id):e.id,e.rRestore=new RegExp(e.id,"g"))}function e(t,e){var n,r=[];for(t.lastIndex=0;n=t.exec(e);)r.push(n[1]);return r}function n(t){return e(f,t)}function r(t){return e(h.OP.rgx,t)}function i(t,e){return t=t||"",t&&(y===g?t=t.replace(d,""):y===m&&(t=t.replace(p,"")),t=a(t,"rgx","save"),t=t.replace(l,"\\$&"),t=a(t,"rRestore","res"),y===g&&(t="\\/?"+t)),y!==v&&(t+="\\/?"),new RegExp("^"+t+"$",e?"i":"")}function a(t,e,n){var r,i;for(i in h)h.hasOwnProperty(i)&&(r=h[i],t=t.replace(r[e],r[n]));return t}function s(t,e,n){var r=e.exec(t);return r&&(r.shift(),n&&(r=u(r))),r}function c(t,e){if(e=e||{},"string"!=typeof t)throw new Error("Route pattern should be a string.");var n=function(t,n){var r;if(n="?"===n.substr(0,1)?n.substr(1):n,null!=e[n]){if("object"==typeof e[n]){var i,a=[];for(var s in e[n])if(i=e[n][s],o(i))for(var u in i)"[]"==s.slice(-2)?a.push(encodeURI(s.slice(0,-2))+"[]="+encodeURI(i[u])):a.push(encodeURI(s+"="+i[u]));else a.push(encodeURI(s+"="+i));r="?"+a.join("&")}else r=String(e[n]);if(-1===t.indexOf("*")&&-1!==r.indexOf("/"))throw new Error('Invalid value "'+r+'" for segment "'+t+'".')}else{if(-1!==t.indexOf("{"))throw new Error("The segment "+t+" is required.");r=""}return r};return h.OS.trail||(h.OS.trail=new RegExp("(?:"+h.OS.id+")+$")),t.replace(h.OS.rgx,h.OS.save).replace(f,n).replace(h.OS.trail,"").replace(h.OS.rRestore,"/")}var l=/[\\.+*?\^$\[\](){}\/'#]/g,d=/^\/|\/$/g,p=/\/$/g,f=/(?:\{|:)([^}:]+)(?:\}|:)/g,h={OS:{rgx:/([:}]|\w(?=\/))\/?(:|(?:\{\?))/g,save:"$1{{id}}$2",res:"\\/?"},RS:{rgx:/([:}])\/?(\{)/g,save:"$1{{id}}$2",res:"\\/"},RQ:{rgx:/\{\?([^}]+)\}/g,res:"\\?([^#]+)"},OQ:{rgx:/:\?([^:]+):/g,res:"(?:\\?([^#]*))?"},OR:{rgx:/:([^:]+)\*:/g,res:"(.*)?"},RR:{rgx:/\{([^}]+)\*\}/g,res:"(.+)"},RP:{rgx:/\{([^}]+)\}/g,res:"([^\\/?]+)"},OP:{rgx:/:([^:]+):/g,res:"([^\\/?]+)?/?"}},g=1,v=2,m=3,y=g;return t(),{strict:function(){y=v},loose:function(){y=g},legacy:function(){y=m},getParamIds:n,getOptionalParamsIds:r,getParamValues:s,compilePattern:i,interpolate:c}}(),p};i=[n(157)],r=a,o="function"==typeof r?r.apply(e,i):r,!(void 0!==o&&(t.exports=o))}()}]);