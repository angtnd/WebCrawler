function highlight(a,b){$j("#"+a).css("backgroundColor","#FFFF00");$j("#"+a).animate({backgroundColor:"#FFFFFF"},2000,b)}function removeProfileItem(b,a){$j.post(b,function(f){var e=$j("#"+a).parent();var c=$j("#"+a).closest("div.videos_wrapper").data("rel");var d=parseInt($j("#"+c).html());$j("#"+a).remove();if(f){e.html(e.html().replace(/<div\s+class\s*=\s*"clear"\s*>\s*<\/div>/g,"")).append(f+'<br class="clear"/>')}$j("#"+c).html(--d)})}function removeItem(b,d,a,c){$j.post(b,{id:d},function(f){var e=$j("#"+a).parent();$j("#"+a).remove();decNums(c,true)})}function removeItemSimple(b,a){$j.post(b,function(c){$j("#"+a).remove()})}function decNums(d,a){if($j(d).length==0){return}if(a==null){a=false}var c=/(Showing\s)([0-9]+)(\sof\s)([0-9]+)(.*)/.exec($j("#"+d).html());$j("#"+d).html(""+c[1]+(a?c[2]-1:c[2])+c[3]+(c[4]-1)+c[5])}(function(a){a.fn.limit=function(b){var c={limit:200};var b=a.extend(c,b);return this.each(function(){var d=b.limit;a(this).keyup(function(){if(a(this).val().length>d){a(this).val(a(this).val().substr(0,d))}})})}})(jQuery);if(isLogged){function formSubmit(){var c=$j(".request-modal .darkGrey").html();var a=$j("#preventClick"),b=a.attr("data-user-id");$j.ajax({url:$j("#friendRequestForm").attr("action"),data:$j("#friendRequestForm").serialize(),type:"POST",dataType:"JSON",beforeSend:function(){$j(".friend_"+b).find("button").children().addClass("visuallyHidden");$j(".friend_"+b).find("button").append('<span class="spinner" />')},success:function(d){if(typeof friendRequestModal!=="undefined"){friendRequestModal.closeModal()}$j(".friend_"+b).find("button").children().removeClass("visuallyHidden");$j(".friend_"+b).find("button").find(".spinner").remove();if(d.success=="SENT"){$j(".friend_"+b).find("button").attr("data-friends",1);$j(".friend_"+b).removeClass("removeFriend add").addClass("sent");if(d.subscribed){$j(".subscribe_"+b).find("button").attr("data-subscribed",1);$j(".subscribe_"+b).removeClass("subscribe").addClass("unsubscribe");$j(".subscribe_"+b).find(".buttonLabel").text("Subscribed")}if(a.attr("data-refresh")==1){location.reload()}$j(".friend_"+b).find(".buttonLabel").text(d.text_initial)}}})}}head.ready(document,function(b){$j("body").on("click","#preventClick",function(c){$j(this).attr("disabled","disabled");if($j("#messageRequest").val()=="Add a personal message (optional)..."){$j("#messageRequest").val(" ")}formSubmit()});$j("ul#curentItemCategory li").on("click",function(){$j.cookie("currentCategory",$j(this).data("category"))});var a=$j("#menuItem3 > a, .categoryDefault").attr("href");switch($j.cookie("currentCategory")){case"al":a=a+"?o=al";$j("#menuItem3 > a, .categoryDefault").attr("href",a);break;case"mv":a=a+"?o=mv";$j("#menuItem3 > a, .categoryDefault").attr("href",a);break;case"mp":a=a;$j("#menuItem3 > a, .categoryDefault").attr("href",a);break}$j("body").on("click","a:contains('Show More'), button:contains('Show More')",function(){var c=$j($j(this).find("span"));if(c.length==1&&c.text()=="Show More"){c.text("Show Less")}else{$j(this).text("Show Less")}});$j("body").on("click","a:contains('Show Less'), button:contains('Show Less')",function(){var c=$j($j(this).find("span"));if(c.length==1&&c.text()=="Show Less"){c.text("Show More")}else{$j(this).text("Show More")}});if(!(BrowserDetect.browser=="Explorer"&&BrowserDetect.version<8)){avatarLoad()}$j(document).on("focus","textarea[data-val]",function(){if($j(this).attr("data-val")==$j(this).val()){$j(this).val("")}});$j(document).on("blur","textarea[data-val]",function(){if($j(this).val()==""){$j(this).val($j(this).attr("data-val"))}});$j(".shareTrig").on("click",addShareExternal);$j(".createPlaylistModalTrigger").on("click",function(c){c.preventDefault();if(typeof createPlaylistModal!=="undefined"){createPlaylistModal.openModal(function(){dropdown.init("#playlist-form .subFilter");$j("#new-playlist-description").limit({limit:1000})})}});$j(".js_premiumLogOut").on("click",function(d){d.preventDefault();var c=$j(this);$j.ajax({url:premiumRedirectCookieURL+"&do=delete",cache:false,crossDomain:true,xhrFields:{withCredentials:true}}).done(function(){document.location.href=c.attr("href")})})});var modelNotificationList=$j("#modelNotificationList").html(),cacheAjaxNotif=[],scrollFuncDefined=0,offset=[5,5,5],limit=5,scrollLimit=[0,0,0];function createMailAlert(c){if(!c.lastMessageIdReceived&&!c.lastMessageSent){return}if(c.lastAction=="0000-00-00 00:00:00"){return}if(c.profileSpammer){return}var a="";if(c.lastMessageIdReceived&&c.lastMessageIdSent>c.lastMessageIdReceived){a=c.lastMessageSent}else{if(c.lastMessageIdReceived){a=c.lastMessageReceived}else{if(c.lastMessageIdSent){a=c.lastMessageSent}}}var b=$j("ul#modelNotificationList > li.messageTemplate").clone().removeClass("messageTemplate");b.insertAfter("ul#modelNotificationList > li:last");b.addClass(c.status);b.find("a.wrapperLink").attr("href",c.link);b.find("img").attr("src",c.profileImage);b.find(".from").text(c.profileUsername);b.find(".message").text(a);b.find(".date").text(c.lastActionNice);b.show()}function createfriendRequestAlert(g,f,c,k,e,j,i){var a="manageRequest("+j+", 1, '"+f+"', '"+c+"')",d="manageRequest("+j+", 0, '"+f+"', '"+c+"')",b=$j("autoSubscribe_"+j).prop("checked")||i?"checked":"unchecked";var h=$j("ul#modelNotificationList > li.friendRequestTemplate").clone().removeClass("friendRequestTemplate");h.insertAfter("ul#modelNotificationList > li:last");h.attr("id","request_"+j);h.find("img").attr("src",g);h.find(".from a").attr("href",c).text(f);h.find(".message").text(k);h.find(".date").text(e);h.find("button.confirm").attr("onclick",a);h.find("button.reject").attr("onclick",d);h.find('.subscribeConfirm input[type="checkbox"]').attr("id","autoSubscribe_"+j).attr(b,b);h.find(".subscribeConfirm label").attr("for",h.find('input[type="checkbox"]').attr("id"));if(i){h.find(".subscribeConfirm .fakeCheckBox ").addClass("checked")}h.find("button.btnFlag").attr("data-userid",j);h.show()}function noAlert(a){$j("#notificationBox").attr("data-count",0);$j("ul#modelNotificationList > li").hide();$j("ul#modelNotificationList > li.noNewItem").show();$j("ul#modelNotificationList > li.noNewItem > span").text(a)}function insertNotificationContent(){$j("#notificationBox #loadingDiv").show();var a=$j("#notificationBox").data("type");$j("ul#modelNotificationList > li,.handle3, .track3").hide();if(a=="messageContent"){$j("#notificationBox .headerBox a.headerLink").attr("href",messageViewAll);$j("#notificationBox .footerBox a").attr("href",messageViewAll);if(cacheAjaxNotif[0]){$j("#modelNotificationList").html(cacheAjaxNotif[0]);$j("#notificationBox").attr("data-count",cacheAjaxNotif[3])}else{$j.ajax({type:"GET",data:{identifier:ajaxIdentifier,hash:ajaxHash,key:ajaxKey},url:"/chat/threads?limit=5&reset=1",dataType:"json",async:false,success:function(b){if(b=='"EXPIRED"'){document.location.reload()}else{if(b.jsonNonBlockedThreadsCount==0){noAlert("messages")}else{$j.map(b.jsonThreads,function(c,d){createMailAlert(c)});$j("#notificationBox").attr("data-count",b.count);$j("ul#modelNotificationList > li.noNewItem").hide()}cacheAjaxNotif[0]=$j("#modelNotificationList").html();cacheAjaxNotif[3]=$j("#notificationBox").attr("data-count")}}})}}else{if(a=="requestContent"){$j("#notificationBox .footerBox a").attr("href",requestViewAll);$j("#notificationBox .headerBox a.headerLink").attr("href",requestViewAll);if(cacheAjaxNotif[1]){$j("#modelNotificationList").html(cacheAjaxNotif[1]);$j("#notificationBox").attr("data-count",cacheAjaxNotif[4])}else{$j.ajax({type:"GET",data:{identifier:ajaxIdentifier,hash:ajaxHash,key:ajaxKey},url:"/user/ajaxGetFriendRequests?limit=5",dataType:"json",async:false,success:function(c){if(c=='"EXPIRED"'){document.location.reload()}else{if(c.count==0){noAlert("friend requests")}else{for(var b=0;b<c.datas.length;b++){createfriendRequestAlert(c.datas[b].avatar_url,c.datas[b].username,c.datas[b].user_link,c.datas[b].message,c.datas[b].request_date,c.datas[b].user_id,c.autoSubscribeFriendRequestsReceived)}$j("#notificationBox").attr("data-count",c.count);$j("ul#modelNotificationList > li.noNewItem").hide()}cacheAjaxNotif[1]=$j("#modelNotificationList").html();cacheAjaxNotif[4]=$j("#notificationBox").attr("data-count")}}})}}else{if(a=="notifContent"){$j("#notificationBox .footerBox a").attr("href",notifViewAll);$j("#notificationBox .headerBox a.headerLink").attr("href",notifViewAll);if(cacheAjaxNotif[2]){$j("#modelNotificationList").html(cacheAjaxNotif[2]);$j("#notificationBox").attr("data-count",cacheAjaxNotif[5])}else{$j.ajax({type:"GET",data:{identifier:ajaxIdentifier,hash:ajaxHash,key:ajaxKey},url:"/stream/notifications_mini?limit=15",dataType:"json",async:false,success:function(c){var b=c.html;if(c=="REFRESH"){document.location.reload()}else{if(c){$j("#modelNotificationList").append(JSON.parse(JSON.stringify(b).replace("#*","").replace("*#","")));$j("#notificationBox").attr("data-count",c.count)}else{noAlert("notifications")}}cacheAjaxNotif[2]=$j("#modelNotificationList").html();cacheAjaxNotif[5]=$j("#notificationBox").attr("data-count")}})}}}}$j("#scrollNotif").slimscroll({height:"auto",color:"#F39000",size:"7px",alwaysVisible:true,railVisible:true,railOpacity:1,railColor:"#222",distance:-2,opacity:1,railClass:"track3",barClass:"handle3"});$j("#notificationBox #loadingDiv").hide()}function manageRequest(f,b,e,d){var a=$j("#request_"+f),c=$j("#notificationBox").attr("data-count");url=b?"/user/ajaxAcceptFriendRequest":"/user/ajaxRejectFriendRequest";url=url+"?key="+ajaxKey+"&hash="+ajaxHash+"&identifier="+ajaxIdentifier;if(b==1&&$j("#autoSubscribeHeader").is(":checked")){url=url+"&subscribe=1"}else{if(b==1&&$j("#autoSubscribe_"+f).is(":checked")){url=url+"&subscribe=1"}}$j.ajax({type:"POST",url:url,data:{id:f},success:function(g){if(g=='"OK"'){$j("#notificationBox").attr("data-count",c-1);if(b){a.addClass("accepted");a.find(".action button").attr("disabled","disabled");a.find(".action").remove();a.find(".contentContainer").html('You and <a href="'+d+'" style="font-weight:bold;">'+e+"</a> are now friends.")}else{a.fadeOut("fast",function(){$j(this).remove();if($j("#modelNotificationList li").filter(":visible").size()==0&&$j("#notificationBox").attr("data-count")==0){noAlert("friend requests")}else{if($j("#modelNotificationList li").filter(":visible").size()==0){fetchData()}}})}setTimeout(function(){cacheAjaxNotif[1]=$j("#modelNotificationList").html();cacheAjaxNotif[4]=$j("#notificationBox").attr("data-count")},600)}}})}function reportSpam(c){var a=$j("#request_"+c),b=$j("#notificationBox").attr("data-count");$j.ajax({type:"POST",url:"/user/ajaxFriendRequestReport?key="+ajaxKey+"&hash="+ajaxHash+"&identifier="+ajaxIdentifier,data:{id:c},success:function(d){if(d=='"OK"'){$j("#tooltip").hide();$j("#notificationBox").attr("data-count",b-1);a.fadeOut("fast",function(){$j(this).remove();if($j("#modelNotificationList li").filter(":visible").size()==0&&$j("#notificationBox").attr("data-count")==0){noAlert("friend requests")}else{if($j("#modelNotificationList li").filter(":visible").size()==0){fetchData()}}});setTimeout(function(){cacheAjaxNotif[1]=$j("#modelNotificationList").html();cacheAjaxNotif[4]=$j("#notificationBox").attr("data-count")},600)}}})}function fetchData(){var a=$j("#notificationBox").data("type");if(a=="requestContent"){urlToFetch="/user/ajaxGetFriendRequests?offset=";cachetoUse=1}if(!scrollLimit[cachetoUse]&&!(offset[cachetoUse]>=($j("#notificationBox").attr("data-count")))){$j.ajax({type:"GET",data:{identifier:ajaxIdentifier,hash:ajaxHash,key:ajaxKey},url:urlToFetch+offset[cachetoUse]+"&limit=5",dataType:"json",success:function(c){for(var b=0;b<c.datas.length;b++){if(a=="requestContent"){createfriendRequestAlert(c.datas[b].avatar_url,c.datas[b].username,c.datas[b].user_link,c.datas[b].message,c.datas[b].request_date,c.datas[b].user_id,c.autoSubscribeFriendRequestsReceived)}}offset[cachetoUse]=offset[cachetoUse]+5;if(offset[cachetoUse]>=($j("#notificationBox").attr("data-count"))||offset[cachetoUse]>=100){scrollLimit[cachetoUse]=1}setTimeout(function(){cacheAjaxNotif[cachetoUse]=$j("#modelNotificationList").html()},600)}})}}function fetchDataMessages(){if(!scrollLimit[0]){$j.ajax({type:"GET",data:{identifier:ajaxIdentifier,hash:ajaxHash,key:ajaxKey},url:"/chat/threads?limit=5&offset="+offset[0],dataType:"json",async:false,success:function(a){if(a=='"EXPIRED"'){document.location.reload()}else{if(a.jsonThreadsCount!=0){offset[0]=offset[0]+5;$j.map(a.jsonThreads,function(b,c){createMailAlert(b)});$j("ul#modelNotificationList > li.noNewItem").hide()}if(a.jsonNonBlockedThreadsCount<5){scrollLimit[0]=1}setTimeout(function(){cacheAjaxNotif[0]=$j("#modelNotificationList").html()},600)}}})}}function fetchDataNotification(){if(!scrollLimit[2]&&!(offset[2]>=($j("#notificationBox").attr("data-count")))){$j.ajax({type:"GET",data:{identifier:ajaxIdentifier,hash:ajaxHash,key:ajaxKey},url:"/stream/notifications_mini?offset="+offset[2]+"&limit=15",dataType:"json",success:function(a){$j("#modelNotificationList").append(a.html);offset[2]=offset[2]+5;if(offset[2]>=($j("#notificationBox").attr("data-count"))||offset[2]>=100){scrollLimit[2]=1}setTimeout(function(){cacheAjaxNotif[2]=$j("#modelNotificationList").html()},600)}})}}head.ready(document,function(a){$j("#scrollNotif").on("scroll",function(){if($j(this).scrollTop()+$j(this).innerHeight()>=$j(this)[0].scrollHeight){var c=$j("#notificationBox").data("type");if(c=="notifContent"){fetchDataNotification()}else{if(c=="messageContent"){setTimeout(function(){fetchDataMessages()},600)}else{fetchData()}}}});$j(".blockPageScroll").bind("mousewheel DOMMouseScroll",function(c){c.preventDefault()});$j(".expandable-title").on("click",function(){if($j(this).next(".expandable-content").is(":visible")){$j(this).next(".expandable-content").slideUp();$j(this).parent(".expandable-section").removeClass("active")}else{$j(this).parent(".expandable-section").siblings(".expandable-section").removeClass("active").children(".expandable-content").slideUp();$j(this).next(".expandable-content").slideDown();$j(this).parent(".expandable-section").addClass("active")}});$j(".expandable-title .expand-button").on("click",function(c){c.preventDefault()});$j("body").on("mouseenter",".subscribeButton",function(){var c=$j(this).find(".buttonLabel");if(c.text()=="Subscribed"){c.text("Unsubscribe")}}).on("mouseleave",".subscribeButton",function(){var c=$j(this).find(".buttonLabel");if(c.text()=="Unsubscribe"){c.text("Subscribed")}});$j("body").on("click",".subscribeButton button",b);function b(e,d,c){e.preventDefault();$currentElement=$j(d!==undefined?d:this),$parentElement=$currentElement.closest(".subscribeButton"),$allElement=$parentElement.attr("data-button-id"),$toggleUrl=($currentElement.attr("data-subscribed")==0)?$currentElement.attr("data-subscribe-url"):$currentElement.attr("data-unsubscribe-url"),$loggedIn=$currentElement.attr("data-login"),$refresh=$currentElement.attr("data-refresh"),$partnerConfirmationText=($currentElement.attr("data-subscribed")==0)?"By subscribing to this content partner you are also subscribing to all of their channels, would you like to continue?":"By unsubscribing from this content partner you are also unsubscribing from all of their channels, would you like to continue?",$contentPartner=$currentElement.attr("data-content-partner");$isPornhubUser=$currentElement.attr("data-is-pornhub");if($loggedIn==1){signinbox.show("to subscribe")}else{if($isPornhubUser==0&&$contentPartner==1&&c!==true){yesNoModal.show($partnerConfirmationText,function(){b(e,$currentElement,true)})}else{$j.ajax({type:"POST",url:$toggleUrl,dataType:"JSON",beforeSend:function(){$currentElement.children().addClass("visuallyHidden");$currentElement.append('<span class="spinner" />')},success:function(g){var f=g;$currentElement.children().removeClass("visuallyHidden");$currentElement.find(".spinner").remove();if(f.success=="PASS"){if($currentElement.attr("data-subscribed")==0){$currentElement.attr("data-subscribed",1);$j("."+$allElement).removeClass("subscribe").addClass("unsubscribe")}else{$currentElement.attr("data-subscribed",0);$j("."+$allElement).removeClass("unsubscribe").addClass("subscribe")}if($refresh==1){location.reload()}}else{$currentElement.attr("disabled",1)}$j("."+$allElement).find(".buttonLabel").text(f.text_initial)},error:function(){location.reload()}})}}}$j("body").on("mouseenter",".addFriendButton",function(){var c=$j(this).find(".buttonLabel");if(c.text()=="Friends"){c.text("Unfriend")}else{if(c.text()=="Request Sent"){c.text("Cancel Request")}}}).on("mouseleave",".addFriendButton",function(){var c=$j(this).find(".buttonLabel");if(c.text()=="Unfriend"){c.text("Friends")}else{if(c.text()=="Cancel Request"){c.text("Request Sent")}}});$j("body").on("click",".addFriendButton button",function(c){c.preventDefault();$currentElement=$j(this),$parentElement=$currentElement.closest(".addFriendButton"),$allElement=$parentElement.attr("data-button-id"),$friendStatus=$currentElement.attr("data-friends"),$refresh=$currentElement.attr("data-refresh"),$toggleUrl=($friendStatus==2)?$currentElement.attr("data-unfriend-url"):$currentElement.attr("data-friend-url"),$loggedIn=$currentElement.attr("data-login");if($loggedIn==1){signinbox.show("to add a friend")}else{if($friendStatus==1){$j.ajax({type:"POST",url:$currentElement.attr("data-unfriend-url"),dataType:"JSON",success:function(d){if(d.success=="PASS"){$currentElement.attr("data-friends",0).find(".buttonLabel").text("Add Friend");$j("."+$allElement).removeClass("sent").addClass("add")}}})}else{$j.ajax({type:"POST",url:$toggleUrl,dataType:"JSON",beforeSend:function(){$currentElement.children().addClass("visuallyHidden");$currentElement.append('<span class="spinner" />')},success:function(d){$currentElement.children().removeClass("visuallyHidden");$currentElement.find(".spinner").remove();if(d.success=="PASS"){if($friendStatus==0){if($refresh==1&&d.auto_accepted){$currentElement.attr("data-friends",2);location.reload()}$currentElement.attr("data-friends",1);$j("."+$allElement).removeClass("add").addClass("removeFriend")}else{if($friendStatus==2){$currentElement.attr("data-friends",0);$j("."+$allElement).removeClass("removeFriend").addClass("add");if($refresh==1){location.reload()}}}}else{if(d.success=="ATTEMPT"){builtModal(d.user.id,d.user.avatar,d.user.username,d.user.profile,$toggleUrl,$refresh)}else{$currentElement.attr("disabled",1)}}$currentElement.find(".buttonLabel").text(d.text_initial)},error:function(){location.reload()}})}}});$j("body").on("click",".suggestedBox button.dismiss",function(c){c.preventDefault();$j.ajax({type:"GET",url:$j(this).attr("data-url"),dataType:"json",success:function(d){if(d==="OK"){$j(".suggestedBox").addClass("hidden noOverflow")}}})});$j(".suggestedBox").removeClass("hidden");setTimeout(function(){$j(".suggestedBox").removeClass("noOverflow")},500);$j("body").on("blur, keyup",".pornstarsList, .js-addCaption",function(){$j(this).val($j(this).val().replace(/[\<\>|\[\]|\{\}|\(\)]/gi,""))})});var cache={},timeout={timer:null,el:null};function avatarLoad(){var a=$j("body").hasClass("logged-out");$j(document).on({mouseenter:function(d){if($j(this).data("disable-popover")==0){var c=d.currentTarget;if(($j(d.target).is(".avatarTrigger")&&$j(".avatarPosition").html(""))||($j(d.currentTarget).is(".usernameWrap")&&$j(".avatarPosition").html(""))||($j(d.currentTarget).is(".userLink"))){if(timeout.timer){clearTimeout(timeout.timer)}var b=$j(this).data("type");timeout.el=this;timeout.timer=setTimeout(function(f){if(cache[$j(c).data(b+"id")]){if(a){$j(".avatarPosition",timeout.el).html(cache[$j(c).data(b+"id")])}}else{$j.ajax({type:"POST",url:"/"+b+"/hover?id="+$j(c).data(b+"id"),dataType:"html",context:this,cache:false,success:function(j){$j(c).find(".avatarPosition").html(j);$j(".avatarPopOver").hide();$j(c).find(".avatarPopOver").show();var i=$j(".avatarPopOver"),k=i.offset(),e=k.left,g=i.width(),h=$j(".wrapper").width();if(e+g>h){i.addClass("popOverEdge")}else{i.removeClass("popOverEdge")}if(a){cache[$j(timeout.el).data(b+"id")]=$j(".avatarPosition",timeout.el).html()}}})}},500)}}},mouseleave:function(c){if($j(this).data("disable-popover")==0){var b=$j(this).data("type");if(a){cache[$j(this).data(b+"id")]=$j(".avatarPosition",this).html()}$j(".avatarPopOver").hide().appendTo("body");clearTimeout(timeout.timer)}}},".avatarWrap, .usernameWrap, .userLink")}var blurTimeout="";function focusReply(){$j("form.streamCommentFrom").on("blur",".streamTextArea",function(b){var a=$j(b.target);blurTimeout=setTimeout(function(){a.closest("form").find(".streamSubmitInput, .streamSections").css("visibility","hidden");a.css("height","32px")},200)});$j(".streamTextArea").on("focus",function(c){var b=$j(this).val(),a=$j(c.target);if(b=="Click to leave a comment"){$j(this).val("")}$j(this).closest("form").find(".streamSubmitInput, .streamSections").css("visibility","visible");$j(this).trigger("resize")})}function openReply(){$j(".reply a").click(function(){var c=$j(this).closest(".feedItemSection").find(".postingForm"),d=$j(this).closest(".feedItemSection").find(".formAvatar"),e=$j(this).closest(".feedItemSection").find(".formText"),b=$j(this).closest(".feedItemSection").find(".formText textarea"),a=$j(this).closest(".feedItemSection").find(".formText .js_taggable");$j(this).hide();c.show();d.show();e.show();b.focus().text("").trigger("click")})}function loadJS(b,a){$j.getScript(b).done(function(c,d){if(typeof(a)=="function"){a()}})}function addShareExternal(b,a,c){if(shareButtonsLoaded){if(typeof(b)=="function"){b()}return}shareButtonsLoaded=true;if(typeof a=="undefined"){a=urlShare}if(typeof c=="undefined"){c=shareTitle}$j(".g-plusone").attr("data-href",a).data("href",a);loadJS("https://apis.google.com/js/plusone.js",function(){gapi.plusone.go()});$j("a.sharesTwitter").attr("href",updateQueryStringParameter($j("a.sharesTwitter").attr("href"),"url",a));$j("a.sharesTwitter").attr("href",updateQueryStringParameter($j("a.sharesTwitter").attr("href"),"text",encodeURIComponent(c)));$j("a.sharesReddit").attr("href",updateQueryStringParameter($j("a.sharesReddit").attr("href"),"url",a));$j("a.sharesReddit").attr("href",updateQueryStringParameter($j("a.sharesReddit").attr("href"),"title",encodeURIComponent(c)));$j("a.sharesTumblr").attr("href",updateQueryStringParameter($j("a.sharesTumblr").attr("href"),"u",encodeURIComponent(a)));$j("a.sharesTumblr").attr("href",updateQueryStringParameter($j("a.sharesTumblr").attr("href"),"t",encodeURIComponent(c)));$j("a.sharesGooglePlusOne").attr("href",updateQueryStringParameter($j("a.sharesGooglePlusOne").attr("href"),"url",a));$j("a.sharesStubleUpon").attr("href",updateQueryStringParameter($j("a.sharesStubleUpon").attr("href"),"url",a));$j("a.sharesStubleUpon").attr("href",updateQueryStringParameter($j("a.sharesStubleUpon").attr("href"),"title",encodeURIComponent(c)));$j("a.sharesBlogger").attr("href",updateQueryStringParameter($j("a.sharesBlogger").attr("href"),"u",a));$j("a.sharesBlogger").attr("href",updateQueryStringParameter($j("a.sharesBlogger").attr("href"),"n",encodeURIComponent(c)))}head.ready(document,function(){if(isLogged){$j("#notificationIcons .notificationIcon").on("click",function(g){var c=$j(this),h=c.data("title"),a=c.data("type"),f=c.offset().left,d=$j("#notificationBox").width()/2,b=c.width()/2;$j("#notificationBox .titleContainer").text(h);$j("#notificationBox").css({left:Math.round(f-d+b)});$j("#notificationBox").data("type",a);$j("#notificationBox").attr("type",a);$j("ul#modelNotificationList > li, .handle3, .track3").hide();$j("#notificationBox #loadingDiv").show();setTimeout(function(){insertNotificationContent()},100)});$j("#notificationBox").on("click",".subscribeConfirm label",function(){checkbox=$j(this).siblings("input");fakeCheckbox=$j(this).find(".fakeCheckBox");if(checkbox.prop("checked")){fakeCheckbox.removeClass("checked")}else{fakeCheckbox.addClass("checked")}});$j("#notificationBox").on("click",".friendRequestItem .btnFlag",function(){var a=this;yesNoModal.show("Are you sure you want to report as spam and reject this request?",function(){reportSpam($j(a).data("userid"))})});$j("#notificationBox").on("click",function(a){a.stopPropagation()})}$j("#languages li a, .languages li a").on("click",function(){$j.cookie("lang",$j(this).data("lang"),{domain:$j(this).data("root")});if(location.hash!=this.hash){location.href=(this.href.indexOf("#")==-1?this.href:this.href.substring(0,this.href.indexOf("#")))+location.hash;return false}});$j("#js-backToPH").on("click",backToPH)});function backToPH(){var a=$j(this).data();$j.ajax({url:a.logout,type:"POST"}).done(function(){$j.ajax({url:premiumRedirectCookieURL+"&do=delete",cache:false,xhrFields:{withCredentials:true},crossDomain:true}).done(function(){window.location.href=a.redirect})})};