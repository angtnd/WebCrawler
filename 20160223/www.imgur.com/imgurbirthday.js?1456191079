!function(){function a(){g=Date.now();var b=g-h;if(b>k){if(e.clearRect(0,0,d.width,d.width),!(10*j>i))return;f.update(),h=g-b%k,i++}requestAnimationFrame(a)}function b(a,b,c){this.particles=[],this.context=a,this.canvas=c,this.particle_count=b,this.tiltAngle=0}function c(){var a=l[Math.round(Math.random()*l.length)];$("#particle-canvas").siblings().remove();var b=$("#imgur-birthday");if(b.append("<h2>"+a.top+"</h2>"),a.bottom&&b.append("<p>"+a.bottom+"</p>"),a.image)b.append('<a target="_blank" href="'+a.image+'"><img src="'+a.image+'" /></a>');else{var c='<a target="_blank" href="//i.imgur.com/'+a.video+'.gifv"><video preload="auto" autoplay="autoplay" muted="muted" loop="loop" webkit-playsinline>';c+='<source src="//i.imgur.com/'+a.video+'.webm" type="video/webm">',c+='<source src="//i.imgur.com/'+a.video+'.mp4" type="video/mp4">',c+="</video></a>",b.append(c)}}var d,e,f,g,h=Date.now(),i=0,j=30,k=1e3/j;$(document).ready(function(){var g=new Imgur.Storage.LocalStorage;"/"!=location.pathname||1==g.get("bdaysi")||!Imgur.Environment.auth.id&&1==g.get("bdayso")||$.colorbox({height:600,width:1e3,top:"15%",className:"noHeader noBorder",inline:!0,scrolling:!1,href:"#imgur-birthday",onComplete:function(){$(".birthday-bag").one("click",function(){return Imgur.Environment.auth.id?(g.save("bdaysi","1","2016-03-01T00:00:00+00:00"),$this=$(this),$this.addClass("large-bag"),void $this.siblings().add("#imgur-birthday h2, #imgur-birthday p").fadeOut(400).promise().done(function(){$this.parent().addClass("large-bag-container"),setTimeout(function(){$(".large-bag-container").fadeOut(400),d=document.getElementById("particle-canvas"),e=d.getContext("2d"),f=new b(e,1e3,d),f.init({x:d.width/2,y:d.height+100}),requestAnimationFrame(a),setTimeout(function(){c()},3e3)},1800)})):(Imgur.getInstance().signin("birthday"),g.save("bdayso","1","2016-03-01T00:00:00+00:00"),void humanMsg.displayMsg("You must be signed in to receive your prize"))})},onClosed:function(){Imgur.Environment.auth.id?g.save("bdaysi","1","2016-03-01T00:00:00+00:00"):g.save("bdayso","1","2016-03-01T00:00:00+00:00")}})}),b.prototype.init=function(a){for(var b=0;b<this.particle_count;b++)this.particles.push({age:0,x:a.x,y:a.y,line_width:10*Math.random()+3,speed_x:13*(Math.random()-.5),speed_y:-(20*Math.random())-6,velocity_y:.5*Math.random()+.1,color:"rgba("+Math.floor(255*Math.random())+", "+Math.floor(255*Math.random())+", "+Math.floor(255*Math.random())+", 0.7)",tilt:Math.floor(10*Math.random())-10,tiltAngleIncremental:.07*Math.random()+.05,tiltAngle:0,fast:Math.random()>.5})},b.prototype.update=function(){this.tiltAngle+=.1;for(var a=this.canvas.height/1.5,b=this.particles.length-1;b>0;b--){var c=this.particles[b];c.tiltAngle+=c.tiltAngleIncremental,c.speed_y+=c.velocity_y,c.x+=c.fast&&c.y<a?c.speed_x:c.speed_x/1.5,c.y+=c.speed_y,c.tilt=15*Math.sin(c.tiltAngle-b/3),this.context.beginPath(),this.context.lineWidth=c.line_width,this.context.strokeStyle=c.color,this.context.moveTo(c.x+c.tilt+c.line_width/2,c.y),this.context.lineTo(c.x+c.tilt,c.y+c.tilt+c.line_width/2),this.context.stroke()}};var l=[{top:"It's an awkward dance party! Feel free to bust a move.",bottom:"(credit hero0fwar)",video:"C5fz5oo"},{top:"It's an awkward dance party! Feel free to bust a move.",image:"//i.imgur.com/kIwy9NS.gif"},{top:"It's an awkward dance party! Feel free to bust a move.",image:"//i.imgur.com/qnV2wXI.gif"},{top:"It's an awkward dance party! Feel free to bust a move.",image:"//i.imgur.com/DwYmtu4.gif"},{top:"It's an awkward dance party! Feel free to bust a move.",image:"//i.imgur.com/eMZiO4a.gif"},{top:"It's an awkward dance party! Feel free to bust a move.",video:"83wCXt5"},{top:"A nice cat GIF",bottom:"It's a birthday miracle! This cat is enjoying a bath with its friend the fish.",video:"fCTvqsj"},{top:"Even Her Royal Majesty knows this is an occasion to party hard.",bottom:"Feel free to join her by dancing wherever you are right now.",image:"//i.imgur.com/DwYmtu4.gif"},{top:"Please enjoy this chinchilla holding a balloon.",video:"8kAlOj9"},{top:"Don't be scared! Put your finger on the screen for your surprise.",image:"//i.imgur.com/3B2Kz.gif"},{top:"Put your finger in your ear and scratch to enjoy the sweet sounds of Pac Man.",image:"//i.imgur.com/I5eNfrq.gif"},{top:"It's cuteness overload!",bottom:"Relish in the fluff.",video:"krVrQCQ"},{top:"Upvote GIF",bottom:"When one regular upvote just isn't enough, feel free to share this upvote GIF with your fellow Imgurians.",video:"RtWIa8t"},{top:"Upvote GIF",bottom:"When one regular upvote just isn't enough, feel free to share this upvote GIF with your fellow Imgurians.",video:"zvxh2cR"},{top:"It's a party cat!",bottom:"Put on your best hat and join the party.",image:"//i.imgur.com/a4Cht.jpg"},{top:"It's a party cat!",bottom:"Put on your best hat and join the party.",image:"//i.imgur.com/v1IdHU2.gif"},{top:"Party with the Imgur office dogs!",image:"//i.imgur.com/d8NRlAm.png"},{top:"Hope you like word searches!",bottom:"Save this one for the next time you're bored.",image:"//i.imgur.com/sz7Yabl.png"},{top:"What could it be? Connect the dots to find out.",image:"//i.imgur.com/dkkJuFt.png"},{top:"Hope you like mazes!",bottom:"Save this one for next time you're bored.",image:"//i.imgur.com/aB65z4k.png"},{top:"What could it be? Connect the dots to find out.",image:"//i.imgur.com/obiOrOM.png"},{top:"It's the gift of an idea.",bottom:"Go make an epic adult pillow fort! Feel free to post the results on Imgur.",image:"//i.imgur.com/6zEByOS.jpg"},{top:"It's a nice, warm virtual hug.",bottom:"You've earned it!",image:"//i.imgur.com/NICPTF6.gif"},{top:"Use this code to get yourself something shiny and new",bottom:'<a href="http://store.imgur.com/">Imgur Store</a>',image:"//i.imgur.com/7m3T8ws.png"},{top:"Use this code to get yourself something shiny and new",bottom:'<a href="http://store.imgur.com/">Imgur Store</a>',image:"//i.imgur.com/RX7yOLV.png"},{top:"Use this code to get yourself something shiny and new",bottom:'<a href="http://store.imgur.com/">Imgur Store</a>',image:"//i.imgur.com/UPAh1TA.png"},{top:"Put your nose to the screen to receive your free boop.",image:"//i.imgur.com/V2T4p.jpg"},{top:"Go ahead and give that puppy a fist bump. You've earned it.",image:"//i.imgur.com/8z6gsSf.jpg"},{top:"Put your fist to the screen to get a fist bump from a cat. You've earned it.",image:"//i.imgur.com/9thIqBQ.jpg"},{top:"Have a puntastic joke to make your day better!",image:"//i.imgur.com/EBfqYWG.jpg"},{top:"Have a puntastic joke to make your day better!",image:"//i.imgur.com/cZHMtEB.jpg"},{top:"Have a puntastic joke to make your day better!",image:"//i.imgur.com/tZnM4fI.jpg"},{top:"Jokes for geeks",bottom:"Here is a joke that will certainly impress your friends and family and won't be annoying at all.",image:"//i.imgur.com/6E14Wgp.jpg"},{top:"Jokes for geeks",bottom:"Here is a joke that will certainly impress your friends and family and won't be annoying at all.",image:"//i.imgur.com/YxHYI4P.jpg"}]}();
//# sourceMappingURL=imgurbirthday.js.map