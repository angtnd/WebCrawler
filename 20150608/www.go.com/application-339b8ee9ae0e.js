/*
 * Copyright 2015 Disney
 * All Rights Reserved
 *
 * Underscore.js 1.3.3
 * Copyright 2009-2012 Jeremy Ashkenas, DocumentCloud Inc.
 * MIT License
 *
 * Backbone.js 1.0.0
 * Copyright 2010-2012 Jeremy Ashkenas, DocumentCloud Inc.
 * MIT License
 *
 * Hogan.js 2.0.0
 * Copyright 2012 Twitter Inc.
 * Apache License, Version 2.0
 */
if(function(){function e(t,i,s){if(t===i)return 0!==t||1/t==1/i;if(null==t||null==i)return t===i;if(t._chain&&(t=t._wrapped),i._chain&&(i=i._wrapped),t.isEqual&&x.isFunction(t.isEqual))return t.isEqual(i);if(i.isEqual&&x.isFunction(i.isEqual))return i.isEqual(t);var n=c.call(t);if(n!=c.call(i))return!1;switch(n){case"[object String]":return t==String(i);case"[object Number]":return t!=+t?i!=+i:0==t?1/t==1/i:t==+i;case"[object Date]":case"[object Boolean]":return+t==+i;case"[object RegExp]":return t.source==i.source&&t.global==i.global&&t.multiline==i.multiline&&t.ignoreCase==i.ignoreCase}if("object"!=typeof t||"object"!=typeof i)return!1;for(var a=s.length;a--;)if(s[a]==t)return!0;s.push(t);var o=0,r=!0;if("[object Array]"==n){if(o=t.length,r=o==i.length)for(;o--&&(r=o in t==o in i&&e(t[o],i[o],s)););}else{if("constructor"in t!="constructor"in i||t.constructor!=i.constructor)return!1;for(var l in t)if(x.has(t,l)&&(o++,!(r=x.has(i,l)&&e(t[l],i[l],s))))break;if(r){for(l in i)if(x.has(i,l)&&!o--)break;r=!o}}return s.pop(),r}var t=this,i=t._,s={},n=Array.prototype,a=Object.prototype,o=Function.prototype,r=n.slice,l=n.unshift,c=a.toString,d=a.hasOwnProperty,u=n.forEach,p=n.map,h=n.reduce,f=n.reduceRight,v=n.filter,b=n.every,m=n.some,g=n.indexOf,y=n.lastIndexOf,_=Array.isArray,k=Object.keys,w=o.bind,x=function(e){return new $(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=x),exports._=x):t._=x,x.VERSION="1.3.3";var C=x.each=x.forEach=function(e,t,i){if(null!=e)if(u&&e.forEach===u)e.forEach(t,i);else if(e.length===+e.length){for(var n=0,a=e.length;a>n;n++)if(n in e&&t.call(i,e[n],n,e)===s)return}else for(var o in e)if(x.has(e,o)&&t.call(i,e[o],o,e)===s)return};x.map=x.collect=function(e,t,i){var s=[];return null==e?s:p&&e.map===p?e.map(t,i):(C(e,function(e,n,a){s[s.length]=t.call(i,e,n,a)}),e.length===+e.length&&(s.length=e.length),s)},x.reduce=x.foldl=x.inject=function(e,t,i,s){var n=arguments.length>2;if(null==e&&(e=[]),h&&e.reduce===h)return s&&(t=x.bind(t,s)),n?e.reduce(t,i):e.reduce(t);if(C(e,function(e,a,o){n?i=t.call(s,i,e,a,o):(i=e,n=!0)}),!n)throw new TypeError("Reduce of empty array with no initial value");return i},x.reduceRight=x.foldr=function(e,t,i,s){var n=arguments.length>2;if(null==e&&(e=[]),f&&e.reduceRight===f)return s&&(t=x.bind(t,s)),n?e.reduceRight(t,i):e.reduceRight(t);var a=x.toArray(e).reverse();return s&&!n&&(t=x.bind(t,s)),n?x.reduce(a,t,i,s):x.reduce(a,t)},x.find=x.detect=function(e,t,i){var s;return T(e,function(e,n,a){return t.call(i,e,n,a)?(s=e,!0):void 0}),s},x.filter=x.select=function(e,t,i){var s=[];return null==e?s:v&&e.filter===v?e.filter(t,i):(C(e,function(e,n,a){t.call(i,e,n,a)&&(s[s.length]=e)}),s)},x.reject=function(e,t,i){var s=[];return null==e?s:(C(e,function(e,n,a){t.call(i,e,n,a)||(s[s.length]=e)}),s)},x.every=x.all=function(e,t,i){var n=!0;return null==e?n:b&&e.every===b?e.every(t,i):(C(e,function(e,a,o){return(n=n&&t.call(i,e,a,o))?void 0:s}),!!n)};var T=x.some=x.any=function(e,t,i){t||(t=x.identity);var n=!1;return null==e?n:m&&e.some===m?e.some(t,i):(C(e,function(e,a,o){return n||(n=t.call(i,e,a,o))?s:void 0}),!!n)};x.include=x.contains=function(e,t){var i=!1;return null==e?i:g&&e.indexOf===g?-1!=e.indexOf(t):i=T(e,function(e){return e===t})},x.invoke=function(e,t){var i=r.call(arguments,2);return x.map(e,function(e){return(x.isFunction(t)?t||e:e[t]).apply(e,i)})},x.pluck=function(e,t){return x.map(e,function(e){return e[t]})},x.max=function(e,t,i){if(!t&&x.isArray(e)&&e[0]===+e[0])return Math.max.apply(Math,e);if(!t&&x.isEmpty(e))return-1/0;var s={computed:-1/0};return C(e,function(e,n,a){var o=t?t.call(i,e,n,a):e;o>=s.computed&&(s={value:e,computed:o})}),s.value},x.min=function(e,t,i){if(!t&&x.isArray(e)&&e[0]===+e[0])return Math.min.apply(Math,e);if(!t&&x.isEmpty(e))return 1/0;var s={computed:1/0};return C(e,function(e,n,a){var o=t?t.call(i,e,n,a):e;o<s.computed&&(s={value:e,computed:o})}),s.value},x.shuffle=function(e){var t,i=[];return C(e,function(e,s){t=Math.floor(Math.random()*(s+1)),i[s]=i[t],i[t]=e}),i},x.sortBy=function(e,t,i){var s=x.isFunction(t)?t:function(e){return e[t]};return x.pluck(x.map(e,function(e,t,n){return{value:e,criteria:s.call(i,e,t,n)}}).sort(function(e,t){var i=e.criteria,s=t.criteria;return void 0===i?1:void 0===s?-1:s>i?-1:i>s?1:0}),"value")},x.groupBy=function(e,t){var i={},s=x.isFunction(t)?t:function(e){return e[t]};return C(e,function(e,t){var n=s(e,t);(i[n]||(i[n]=[])).push(e)}),i},x.sortedIndex=function(e,t,i){i||(i=x.identity);for(var s=0,n=e.length;n>s;){var a=s+n>>1;i(e[a])<i(t)?s=a+1:n=a}return s},x.toArray=function(e){return e?x.isArray(e)?r.call(e):x.isArguments(e)?r.call(e):e.toArray&&x.isFunction(e.toArray)?e.toArray():x.values(e):[]},x.size=function(e){return x.isArray(e)?e.length:x.keys(e).length},x.first=x.head=x.take=function(e,t,i){return null==t||i?e[0]:r.call(e,0,t)},x.initial=function(e,t,i){return r.call(e,0,e.length-(null==t||i?1:t))},x.last=function(e,t,i){return null==t||i?e[e.length-1]:r.call(e,Math.max(e.length-t,0))},x.rest=x.tail=function(e,t,i){return r.call(e,null==t||i?1:t)},x.compact=function(e){return x.filter(e,function(e){return!!e})},x.flatten=function(e,t){return x.reduce(e,function(e,i){return x.isArray(i)?e.concat(t?i:x.flatten(i)):(e[e.length]=i,e)},[])},x.without=function(e){return x.difference(e,r.call(arguments,1))},x.uniq=x.unique=function(e,t,i){var s=i?x.map(e,i):e,n=[];return e.length<3&&(t=!0),x.reduce(s,function(i,s,a){return(t?x.last(i)===s&&i.length:x.include(i,s))||(i.push(s),n.push(e[a])),i},[]),n},x.union=function(){return x.uniq(x.flatten(arguments,!0))},x.intersection=x.intersect=function(e){var t=r.call(arguments,1);return x.filter(x.uniq(e),function(e){return x.every(t,function(t){return x.indexOf(t,e)>=0})})},x.difference=function(e){var t=x.flatten(r.call(arguments,1),!0);return x.filter(e,function(e){return!x.include(t,e)})},x.zip=function(){for(var e=r.call(arguments),t=x.max(x.pluck(e,"length")),i=new Array(t),s=0;t>s;s++)i[s]=x.pluck(e,""+s);return i},x.indexOf=function(e,t,i){if(null==e)return-1;var s,n;if(i)return s=x.sortedIndex(e,t),e[s]===t?s:-1;if(g&&e.indexOf===g)return e.indexOf(t);for(s=0,n=e.length;n>s;s++)if(s in e&&e[s]===t)return s;return-1},x.lastIndexOf=function(e,t){if(null==e)return-1;if(y&&e.lastIndexOf===y)return e.lastIndexOf(t);for(var i=e.length;i--;)if(i in e&&e[i]===t)return i;return-1},x.range=function(e,t,i){arguments.length<=1&&(t=e||0,e=0),i=arguments[2]||1;for(var s=Math.max(Math.ceil((t-e)/i),0),n=0,a=new Array(s);s>n;)a[n++]=e,e+=i;return a};var A=function(){};x.bind=function(e,t){var i,s;if(e.bind===w&&w)return w.apply(e,r.call(arguments,1));if(!x.isFunction(e))throw new TypeError;return s=r.call(arguments,2),i=function(){if(!(this instanceof i))return e.apply(t,s.concat(r.call(arguments)));A.prototype=e.prototype;var n=new A,a=e.apply(n,s.concat(r.call(arguments)));return Object(a)===a?a:n}},x.bindAll=function(e){var t=r.call(arguments,1);return 0==t.length&&(t=x.functions(e)),C(t,function(t){e[t]=x.bind(e[t],e)}),e},x.memoize=function(e,t){var i={};return t||(t=x.identity),function(){var s=t.apply(this,arguments);return x.has(i,s)?i[s]:i[s]=e.apply(this,arguments)}},x.delay=function(e,t){var i=r.call(arguments,2);return setTimeout(function(){return e.apply(null,i)},t)},x.defer=function(e){return x.delay.apply(x,[e,1].concat(r.call(arguments,1)))},x.throttle=function(e,t){var i,s,n,a,o,r,l=x.debounce(function(){o=a=!1},t);return function(){i=this,s=arguments;var c=function(){n=null,o&&e.apply(i,s),l()};return n||(n=setTimeout(c,t)),a?o=!0:r=e.apply(i,s),l(),a=!0,r}},x.debounce=function(e,t,i){var s;return function(){var n=this,a=arguments,o=function(){s=null,i||e.apply(n,a)};i&&!s&&e.apply(n,a),clearTimeout(s),s=setTimeout(o,t)}},x.once=function(e){var t,i=!1;return function(){return i?t:(i=!0,t=e.apply(this,arguments))}},x.wrap=function(e,t){return function(){var i=[e].concat(r.call(arguments,0));return t.apply(this,i)}},x.compose=function(){var e=arguments;return function(){for(var t=arguments,i=e.length-1;i>=0;i--)t=[e[i].apply(this,t)];return t[0]}},x.after=function(e,t){return 0>=e?t():function(){return--e<1?t.apply(this,arguments):void 0}},x.keys=k||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var i in e)x.has(e,i)&&(t[t.length]=i);return t},x.values=function(e){return x.map(e,x.identity)},x.functions=x.methods=function(e){var t=[];for(var i in e)x.isFunction(e[i])&&t.push(i);return t.sort()},x.extend=function(e){return C(r.call(arguments,1),function(t){for(var i in t)e[i]=t[i]}),e},x.pick=function(e){var t={};return C(x.flatten(r.call(arguments,1)),function(i){i in e&&(t[i]=e[i])}),t},x.defaults=function(e){return C(r.call(arguments,1),function(t){for(var i in t)null==e[i]&&(e[i]=t[i])}),e},x.clone=function(e){return x.isObject(e)?x.isArray(e)?e.slice():x.extend({},e):e},x.tap=function(e,t){return t(e),e},x.isEqual=function(t,i){return e(t,i,[])},x.isEmpty=function(e){if(null==e)return!0;if(x.isArray(e)||x.isString(e))return 0===e.length;for(var t in e)if(x.has(e,t))return!1;return!0},x.isElement=function(e){return!(!e||1!=e.nodeType)},x.isArray=_||function(e){return"[object Array]"==c.call(e)},x.isObject=function(e){return e===Object(e)},x.isArguments=function(e){return"[object Arguments]"==c.call(e)},x.isArguments(arguments)||(x.isArguments=function(e){return!(!e||!x.has(e,"callee"))}),x.isFunction=function(e){return"[object Function]"==c.call(e)},x.isString=function(e){return"[object String]"==c.call(e)},x.isNumber=function(e){return"[object Number]"==c.call(e)},x.isFinite=function(e){return x.isNumber(e)&&isFinite(e)},x.isNaN=function(e){return e!==e},x.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==c.call(e)},x.isDate=function(e){return"[object Date]"==c.call(e)},x.isRegExp=function(e){return"[object RegExp]"==c.call(e)},x.isNull=function(e){return null===e},x.isUndefined=function(e){return void 0===e},x.has=function(e,t){return d.call(e,t)},x.noConflict=function(){return t._=i,this},x.identity=function(e){return e},x.times=function(e,t,i){for(var s=0;e>s;s++)t.call(i,s)},x.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")},x.result=function(e,t){if(null==e)return null;var i=e[t];return x.isFunction(i)?i.call(e):i},x.mixin=function(e){C(x.functions(e),function(t){O(t,x[t]=e[t])})};var E=0;x.uniqueId=function(e){var t=E++;return e?e+t:t},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var S=/.^/,P={"\\":"\\","'":"'",r:"\r",n:"\n",t:"	",u2028:"\u2028",u2029:"\u2029"};for(var M in P)P[P[M]]=M;var L=/\\|'|\r|\n|\t|\u2028|\u2029/g,D=/\\(\\|'|r|n|t|u2028|u2029)/g,I=function(e){return e.replace(D,function(e,t){return P[t]})};x.template=function(e,t,i){i=x.defaults(i||{},x.templateSettings);var s="__p+='"+e.replace(L,function(e){return"\\"+P[e]}).replace(i.escape||S,function(e,t){return"'+\n_.escape("+I(t)+")+\n'"}).replace(i.interpolate||S,function(e,t){return"'+\n("+I(t)+")+\n'"}).replace(i.evaluate||S,function(e,t){return"';\n"+I(t)+"\n;__p+='"})+"';\n";i.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __p='';var print=function(){__p+=Array.prototype.join.call(arguments, '')};\n"+s+"return __p;\n";var n=new Function(i.variable||"obj","_",s);if(t)return n(t,x);var a=function(e){return n.call(this,e,x)};return a.source="function("+(i.variable||"obj")+"){\n"+s+"}",a},x.chain=function(e){return x(e).chain()};var $=function(e){this._wrapped=e};x.prototype=$.prototype;var V=function(e,t){return t?x(e).chain():e},O=function(e,t){$.prototype[e]=function(){var e=r.call(arguments);return l.call(e,this._wrapped),V(t.apply(x,e),this._chain)}};x.mixin(x),C(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=n[e];$.prototype[e]=function(){var i=this._wrapped;t.apply(i,arguments);var s=i.length;return"shift"!=e&&"splice"!=e||0!==s||delete i[0],V(i,this._chain)}}),C(["concat","join","slice"],function(e){var t=n[e];$.prototype[e]=function(){return V(t.apply(this._wrapped,arguments),this._chain)}}),$.prototype.chain=function(){return this._chain=!0,this},$.prototype.value=function(){return this._wrapped}}.call(this),function(){var e,t=this,i=t.Backbone,s=[],n=s.push,a=s.slice,o=s.splice;e="undefined"!=typeof exports?exports:t.Backbone={},e.VERSION="1.0.0";var r=t._;r||"undefined"==typeof require||(r=require("underscore")),e.$=t.jQuery||t.Zepto||t.ender||t.$,e.noConflict=function(){return t.Backbone=i,this},e.emulateHTTP=!1,e.emulateJSON=!1;var l=e.Events={on:function(e,t,i){if(!d(this,"on",e,[t,i])||!t)return this;this._events||(this._events={});var s=this._events[e]||(this._events[e]=[]);return s.push({callback:t,context:i,ctx:i||this}),this},once:function(e,t,i){if(!d(this,"once",e,[t,i])||!t)return this;var s=this,n=r.once(function(){s.off(e,n),t.apply(this,arguments)});return n._callback=t,this.on(e,n,i)},off:function(e,t,i){var s,n,a,o,l,c,u,p;if(!this._events||!d(this,"off",e,[t,i]))return this;if(!e&&!t&&!i)return this._events={},this;for(o=e?[e]:r.keys(this._events),l=0,c=o.length;c>l;l++)if(e=o[l],a=this._events[e]){if(this._events[e]=s=[],t||i)for(u=0,p=a.length;p>u;u++)n=a[u],(t&&t!==n.callback&&t!==n.callback._callback||i&&i!==n.context)&&s.push(n);s.length||delete this._events[e]}return this},trigger:function(e){if(!this._events)return this;var t=a.call(arguments,1);if(!d(this,"trigger",e,t))return this;var i=this._events[e],s=this._events.all;return i&&u(i,t),s&&u(s,arguments),this},stopListening:function(e,t,i){var s=this._listeners;if(!s)return this;var n=!t&&!i;"object"==typeof t&&(i=this),e&&((s={})[e._listenerId]=e);for(var a in s)s[a].off(t,i,this),n&&delete this._listeners[a];return this}},c=/\s+/,d=function(e,t,i,s){if(!i)return!0;if("object"==typeof i){for(var n in i)e[t].apply(e,[n,i[n]].concat(s));return!1}if(c.test(i)){for(var a=i.split(c),o=0,r=a.length;r>o;o++)e[t].apply(e,[a[o]].concat(s));return!1}return!0},u=function(e,t){var i,s=-1,n=e.length,a=t[0],o=t[1],r=t[2];switch(t.length){case 0:for(;++s<n;)(i=e[s]).callback.call(i.ctx);return;case 1:for(;++s<n;)(i=e[s]).callback.call(i.ctx,a);return;case 2:for(;++s<n;)(i=e[s]).callback.call(i.ctx,a,o);return;case 3:for(;++s<n;)(i=e[s]).callback.call(i.ctx,a,o,r);return;default:for(;++s<n;)(i=e[s]).callback.apply(i.ctx,t)}},p={listenTo:"on",listenToOnce:"once"};r.each(p,function(e,t){l[t]=function(t,i,s){var n=this._listeners||(this._listeners={}),a=t._listenerId||(t._listenerId=r.uniqueId("l"));return n[a]=t,"object"==typeof i&&(s=this),t[e](i,s,this),this}}),l.bind=l.on,l.unbind=l.off,r.extend(e,l);var h=e.Model=function(e,t){var i,s=e||{};t||(t={}),this.cid=r.uniqueId("c"),this.attributes={},r.extend(this,r.pick(t,f)),t.parse&&(s=this.parse(s,t)||{}),(i=r.result(this,"defaults"))&&(s=r.defaults({},s,i)),this.set(s,t),this.changed={},this.initialize.apply(this,arguments)},f=["url","urlRoot","collection"];r.extend(h.prototype,l,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(){return r.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return r.escape(this.get(e))},has:function(e){return null!=this.get(e)},set:function(e,t,i){var s,n,a,o,l,c,d,u;if(null==e)return this;if("object"==typeof e?(n=e,i=t):(n={})[e]=t,i||(i={}),!this._validate(n,i))return!1;a=i.unset,l=i.silent,o=[],c=this._changing,this._changing=!0,c||(this._previousAttributes=r.clone(this.attributes),this.changed={}),u=this.attributes,d=this._previousAttributes,this.idAttribute in n&&(this.id=n[this.idAttribute]);for(s in n)t=n[s],r.isEqual(u[s],t)||o.push(s),r.isEqual(d[s],t)?delete this.changed[s]:this.changed[s]=t,a?delete u[s]:u[s]=t;if(!l){o.length&&(this._pending=!0);for(var p=0,h=o.length;h>p;p++)this.trigger("change:"+o[p],this,u[o[p]],i)}if(c)return this;if(!l)for(;this._pending;)this._pending=!1,this.trigger("change",this,i);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,r.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var i in this.attributes)t[i]=void 0;return this.set(t,r.extend({},e,{unset:!0}))},hasChanged:function(e){return null==e?!r.isEmpty(this.changed):r.has(this.changed,e)},changedAttributes:function(e){if(!e)return this.hasChanged()?r.clone(this.changed):!1;var t,i=!1,s=this._changing?this._previousAttributes:this.attributes;for(var n in e)r.isEqual(s[n],t=e[n])||((i||(i={}))[n]=t);return i},previous:function(e){return null!=e&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return r.clone(this._previousAttributes)},fetch:function(e){e=e?r.clone(e):{},void 0===e.parse&&(e.parse=!0);var t=this,i=e.success;return e.success=function(s){return t.set(t.parse(s,e),e)?(i&&i(t,s,e),void t.trigger("sync",t,s,e)):!1},N(this,e),this.sync("read",this,e)},save:function(e,t,i){var s,n,a,o=this.attributes;if(null==e||"object"==typeof e?(s=e,i=t):(s={})[e]=t,!(!s||i&&i.wait||this.set(s,i)))return!1;if(i=r.extend({validate:!0},i),!this._validate(s,i))return!1;s&&i.wait&&(this.attributes=r.extend({},o,s)),void 0===i.parse&&(i.parse=!0);var l=this,c=i.success;return i.success=function(e){l.attributes=o;var t=l.parse(e,i);return i.wait&&(t=r.extend(s||{},t)),r.isObject(t)&&!l.set(t,i)?!1:(c&&c(l,e,i),void l.trigger("sync",l,e,i))},N(this,i),n=this.isNew()?"create":i.patch?"patch":"update","patch"===n&&(i.attrs=s),a=this.sync(n,this,i),s&&i.wait&&(this.attributes=o),a},destroy:function(e){e=e?r.clone(e):{};var t=this,i=e.success,s=function(){t.trigger("destroy",t,t.collection,e)};if(e.success=function(n){(e.wait||t.isNew())&&s(),i&&i(t,n,e),t.isNew()||t.trigger("sync",t,n,e)},this.isNew())return e.success(),!1;N(this,e);var n=this.sync("delete",this,e);return e.wait||s(),n},url:function(){var e=r.result(this,"urlRoot")||r.result(this.collection,"url")||O();return this.isNew()?e:e+("/"===e.charAt(e.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(e){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},isValid:function(e){return this._validate({},r.extend(e||{},{validate:!0}))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=r.extend({},this.attributes,e);var i=this.validationError=this.validate(e,t)||null;return i?(this.trigger("invalid",this,i,r.extend(t||{},{validationError:i})),!1):!0}});var v=["keys","values","pairs","invert","pick","omit"];r.each(v,function(e){h.prototype[e]=function(){var t=a.call(arguments);return t.unshift(this.attributes),r[e].apply(r,t)}});var b=e.Collection=function(e,t){t||(t={}),t.url&&(this.url=t.url),t.model&&(this.model=t.model),void 0!==t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,r.extend({silent:!0},t))},m={add:!0,remove:!0,merge:!0},g={add:!0,merge:!1,remove:!1};r.extend(b.prototype,l,{model:h,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return e.sync.apply(this,arguments)},add:function(e,t){return this.set(e,r.defaults(t||{},g))},remove:function(e,t){e=r.isArray(e)?e.slice():[e],t||(t={});var i,s,n,a;for(i=0,s=e.length;s>i;i++)a=this.get(e[i]),a&&(delete this._byId[a.id],delete this._byId[a.cid],n=this.indexOf(a),this.models.splice(n,1),this.length--,t.silent||(t.index=n,a.trigger("remove",a,this,t)),this._removeReference(a));return this},set:function(e,t){t=r.defaults(t||{},m),t.parse&&(e=this.parse(e,t)),r.isArray(e)||(e=e?[e]:[]);var i,s,a,l,c,d=t.at,u=this.comparator&&null==d&&t.sort!==!1,p=r.isString(this.comparator)?this.comparator:null,h=[],f=[],v={};for(i=0,s=e.length;s>i;i++)(a=this._prepareModel(e[i],t))&&((l=this.get(a))?(t.remove&&(v[l.cid]=!0),t.merge&&(l.set(a.attributes,t),u&&!c&&l.hasChanged(p)&&(c=!0))):t.add&&(h.push(a),a.on("all",this._onModelEvent,this),this._byId[a.cid]=a,null!=a.id&&(this._byId[a.id]=a)));if(t.remove){for(i=0,s=this.length;s>i;++i)v[(a=this.models[i]).cid]||f.push(a);f.length&&this.remove(f,t)}if(h.length&&(u&&(c=!0),this.length+=h.length,null!=d?o.apply(this.models,[d,0].concat(h)):n.apply(this.models,h)),c&&this.sort({silent:!0}),t.silent)return this;for(i=0,s=h.length;s>i;i++)(a=h[i]).trigger("add",a,this,t);return c&&this.trigger("sort",this,t),this},reset:function(e,t){t||(t={});for(var i=0,s=this.models.length;s>i;i++)this._removeReference(this.models[i]);return t.previousModels=this.models,this._reset(),this.add(e,r.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),this},push:function(e,t){return e=this._prepareModel(e,t),this.add(e,r.extend({at:this.length},t)),e},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e),t},unshift:function(e,t){return e=this._prepareModel(e,t),this.add(e,r.extend({at:0},t)),e},shift:function(e){var t=this.at(0);return this.remove(t,e),t},slice:function(e,t){return this.models.slice(e,t)},get:function(e){return null==e?void 0:this._byId[null!=e.id?e.id:e.cid||e]},at:function(e){return this.models[e]},where:function(e,t){return r.isEmpty(e)?t?void 0:[]:this[t?"find":"filter"](function(t){for(var i in e)if(e[i]!==t.get(i))return!1;return!0})},findWhere:function(e){return this.where(e,!0)},sort:function(e){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return e||(e={}),r.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(r.bind(this.comparator,this)),e.silent||this.trigger("sort",this,e),this},sortedIndex:function(e,t,i){t||(t=this.comparator);var s=r.isFunction(t)?t:function(e){return e.get(t)};return r.sortedIndex(this.models,e,s,i)},pluck:function(e){return r.invoke(this.models,"get",e)},fetch:function(e){e=e?r.clone(e):{},void 0===e.parse&&(e.parse=!0);var t=e.success,i=this;return e.success=function(s){var n=e.reset?"reset":"set";i[n](s,e),t&&t(i,s,e),i.trigger("sync",i,s,e)},N(this,e),this.sync("read",this,e)},create:function(e,t){if(t=t?r.clone(t):{},!(e=this._prepareModel(e,t)))return!1;t.wait||this.add(e,t);var i=this,s=t.success;return t.success=function(n){t.wait&&i.add(e,t),s&&s(e,n,t)},e.save(null,t),e},parse:function(e){return e},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(e instanceof h)return e.collection||(e.collection=this),e;t||(t={}),t.collection=this;var i=new this.model(e,t);return i._validate(e,t)?i:(this.trigger("invalid",this,e,t),!1)},_removeReference:function(e){this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,i,s){("add"!==e&&"remove"!==e||i===this)&&("destroy"===e&&this.remove(t,s),t&&e==="change:"+t.idAttribute&&(delete this._byId[t.previous(t.idAttribute)],null!=t.id&&(this._byId[t.id]=t)),this.trigger.apply(this,arguments))}});var y=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","indexOf","shuffle","lastIndexOf","isEmpty","chain"];r.each(y,function(e){b.prototype[e]=function(){var t=a.call(arguments);return t.unshift(this.models),r[e].apply(r,t)}});var _=["groupBy","countBy","sortBy"];r.each(_,function(e){b.prototype[e]=function(t,i){var s=r.isFunction(t)?t:function(e){return e.get(t)};return r[e](this.models,s,i)}});var k=e.View=function(e){this.cid=r.uniqueId("view"),this._configure(e||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},w=/^(\S+)\s*(.*)$/,x=["model","collection","el","id","attributes","className","tagName","events"];r.extend(k.prototype,l,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(t,i){return this.$el&&this.undelegateEvents(),this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0],i!==!1&&this.delegateEvents(),this},delegateEvents:function(e){if(!e&&!(e=r.result(this,"events")))return this;this.undelegateEvents();for(var t in e){var i=e[t];if(r.isFunction(i)||(i=this[e[t]]),i){var s=t.match(w),n=s[1],a=s[2];i=r.bind(i,this),n+=".delegateEvents"+this.cid,""===a?this.$el.on(n,i):this.$el.on(n,a,i)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_configure:function(e){this.options&&(e=r.extend({},r.result(this,"options"),e)),r.extend(this,r.pick(e,x)),this.options=e},_ensureElement:function(){if(this.el)this.setElement(r.result(this,"el"),!1);else{var t=r.extend({},r.result(this,"attributes"));this.id&&(t.id=r.result(this,"id")),this.className&&(t["class"]=r.result(this,"className"));var i=e.$("<"+r.result(this,"tagName")+">").attr(t);this.setElement(i,!1)}}}),e.sync=function(t,i,s){var n=C[t];r.defaults(s||(s={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var a={type:n,dataType:"json"};if(s.url||(a.url=r.result(i,"url")||O()),null!=s.data||!i||"create"!==t&&"update"!==t&&"patch"!==t||(a.contentType="application/json",a.data=JSON.stringify(s.attrs||i.toJSON(s))),s.emulateJSON&&(a.contentType="application/x-www-form-urlencoded",a.data=a.data?{model:a.data}:{}),s.emulateHTTP&&("PUT"===n||"DELETE"===n||"PATCH"===n)){a.type="POST",s.emulateJSON&&(a.data._method=n);var o=s.beforeSend;s.beforeSend=function(e){return e.setRequestHeader("X-HTTP-Method-Override",n),o?o.apply(this,arguments):void 0}}"GET"===a.type||s.emulateJSON||(a.processData=!1),"PATCH"!==a.type||!window.ActiveXObject||window.external&&window.external.msActiveXFilteringEnabled||(a.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var l=s.xhr=e.ajax(r.extend(a,s));return i.trigger("request",i,l,s),l};var C={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var T=e.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},A=/\((.*?)\)/g,E=/(\(\?)?:\w+/g,S=/\*\w+/g,P=/[\-{}\[\]+?.,\\\^$|#\s]/g;r.extend(T.prototype,l,{initialize:function(){},route:function(t,i,s){r.isRegExp(t)||(t=this._routeToRegExp(t)),r.isFunction(i)&&(s=i,i=""),s||(s=this[i]);var n=this;return e.history.route(t,function(a){var o=n._extractParameters(t,a);s&&s.apply(n,o),n.trigger.apply(n,["route:"+i].concat(o)),n.trigger("route",i,o),e.history.trigger("route",n,i,o)}),this},navigate:function(t,i){return e.history.navigate(t,i),this},_bindRoutes:function(){if(this.routes){this.routes=r.result(this,"routes");for(var e,t=r.keys(this.routes);null!=(e=t.pop());)this.route(e,this.routes[e])}},_routeToRegExp:function(e){return e=e.replace(P,"\\$&").replace(A,"(?:$1)?").replace(E,function(e,t){return t?e:"([^/]+)"}).replace(S,"(.*?)"),new RegExp("^"+e+"$")},_extractParameters:function(e,t){var i=e.exec(t).slice(1);return r.map(i,function(e){return e?decodeURIComponent(e):null})}});var M=e.History=function(){this.handlers=[],r.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},L=/^[#\/]|\s+$/g,D=/^\/+|\/+$/g,I=/msie [\w.]+/,$=/\/$/;M.started=!1,r.extend(M.prototype,l,{interval:50,getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getFragment:function(e,t){if(null==e)if(this._hasPushState||!this._wantsHashChange||t){e=this.location.pathname;var i=this.root.replace($,"");e.indexOf(i)||(e=e.substr(i.length))}else e=this.getHash();return e.replace(L,"")},start:function(t){if(M.started)throw new Error("Backbone.history has already been started");M.started=!0,this.options=r.extend({},{root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var i=this.getFragment(),s=document.documentMode,n=I.exec(navigator.userAgent.toLowerCase())&&(!s||7>=s);this.root=("/"+this.root+"/").replace(D,"/"),n&&this._wantsHashChange&&(this.iframe=e.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(i)),this._hasPushState?e.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!n?e.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=i;var a=this.location,o=a.pathname.replace(/[^\/]$/,"$&/")===this.root;return this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!o?(this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0):(this._wantsPushState&&this._hasPushState&&o&&a.hash&&(this.fragment=this.getHash().replace(L,""),this.history.replaceState({},document.title,this.root+this.fragment+a.search)),this.options.silent?void 0:this.loadUrl())},stop:function(){e.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),M.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(){var e=this.getFragment();return e===this.fragment&&this.iframe&&(e=this.getFragment(this.getHash(this.iframe))),e===this.fragment?!1:(this.iframe&&this.navigate(e),void(this.loadUrl()||this.loadUrl(this.getHash())))},loadUrl:function(e){var t=this.fragment=this.getFragment(e),i=r.any(this.handlers,function(e){return e.route.test(t)?(e.callback(t),!0):void 0});return i},navigate:function(e,t){if(!M.started)return!1;if(t&&t!==!0||(t={trigger:t}),e=this.getFragment(e||""),this.fragment!==e){this.fragment=e;var i=this.root+e;if(this._hasPushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,i);else{if(!this._wantsHashChange)return this.location.assign(i);this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getFragment(this.getHash(this.iframe))&&(t.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,e,t.replace))}t.trigger&&this.loadUrl(e)}},_updateHash:function(e,t,i){if(i){var s=e.href.replace(/(javascript:|#).*$/,"");e.replace(s+"#"+t)}else e.hash="#"+t}}),e.history=new M;var V=function(e,t){var i,s=this;i=e&&r.has(e,"constructor")?e.constructor:function(){return s.apply(this,arguments)},r.extend(i,s,t);var n=function(){this.constructor=i};return n.prototype=s.prototype,i.prototype=new n,e&&r.extend(i.prototype,e),i.__super__=s.prototype,i};h.extend=b.extend=T.extend=k.extend=M.extend=V;var O=function(){throw new Error('A "url" property or function must be specified')},N=function(e,t){var i=t.error;t.error=function(s){i&&i(e,s,t),e.trigger("error",e,s,t)}}}.call(this),function(e){"use strict";var t=e.jQuery,i=e._,s=e.Backbone,n=i.sortedIndex,a=s.Events,o=s.View,r=o.prototype.remove,l="breakpoints",c=function(e,t,i){var s=n(i,e+1),a=n(i,t+1);return s!==a?i.slice(Math.min(s,a),Math.max(s,a)):[]},d=s.Resize={trigger:a.trigger,width:function(){return e.Math.max(t(e).width(),e.innerWidth||0)}};d[l]=[],i.each(["on","off","bind","unbind"],function(t){d[t]=function(s,n,o){a[t].call(this,s,n,o),this[l]=i.compact(i.map(i.keys(this._events||{}),function(t){return e.parseInt(t)})).sort(function(e,t){return e-t})}}),s.View=o.extend({constructor:function(e){o.call(this,e),this[l]&&d.on(this[l],this.resize,this)},resize:function(){this.render()},remove:function(){return this[l]&&d.off(this[l],this.resize,this),r.call(this)}}),t(function(){var i=d.width();t(e).resize(function(){var e,t=d.width();t!==i&&(e=c(i,t,d[l]),e.length&&d.trigger(e.join(" "),t,t>i?"up":"down"),i=t)})})}(this),function(e){"use strict";var t=e.Spatula={},i=e.jQuery,s=e._,n=e.Backbone,a=s.isFunction,o=s.map,r=t.whenAll=function(e){return i.when.apply(i,e||[])},l=t.tryCall=function(e,t){var i=e&&e[t];return a(i)?i.apply(e,s.rest(arguments,2)):void 0},c={},d={},u={model:!0,collection:!0},p=[],h=[],f=function(e,t,i){c[e]=t,d[e]=i};t.ContainerView=n.View.extend({mod:0,transition:function(e){if(e===this.current)return e.render();var t=this,s=++t.mod,n=t.current,a=r();return t.current=e,t.$el.css("minHeight",t.$el.height()),n||t.$el.empty(),t.trigger("begin",e),n&&(n.hide&&(a=i.when(n.hide(),a)),a.done(function(){n.remove()})),a=r(o(this._cb,function(t){return t.call(this,e)}).concat([l(e,"load"),a])),a.fail(function(){var i=Array.prototype.slice.call(arguments);t.mod===s&&(t.current=null,t.$el.empty(),t.trigger.apply(t,["error",e].concat(i)))}),a=a.pipe(function(){return t.mod===s?(e.render(),t.$el.prepend(e.el),l(e,"ready"),t.trigger("ready",e),l(e,"show")):void 0
}),a.pipe(function(){return t.mod!==s?i.Deferred().reject():(t.$el.css("minHeight",""),void t.trigger("end",e))})},loader:function(e){(this._cb||(this._cb=[])).push(e)},render:function(){return l(this.current,"render"),this},ready:function(){return l(this.current,"ready"),this}}),t.RichView=n.View.extend({assets:u,load:function(e,t){var i=this;return i._load||(i._load=r(o(i.assets,function(e,t){return c[t].call(i,e).done(function(){i.trigger("load:"+t)})})).done(function(){i.trigger("load")})),i._load.then(e,t)},render:function(){var e=this,t=e.load();return"resolved"===t.state()?e.safeRender():e._render||(e._render=!0,t.then(function(){e.safeRender()})),e},safeRender:function(){},remove:function(){var e=this;return e.destroy(),e.trigger("destroy"),e.off(),s.each(e.assets,function(e,t){l(d,t,e)}),n.View.prototype.remove.apply(e,arguments),e},destroy:function(){}},{assetLoader:f}),f("scripts",function(e){return e=s.difference(e,p),r(o(e,function(e){return p.push(e),i.ajax(e,{dataType:"script",cache:!0,error:function(){p=s.without(p,e)}})}))}),i(function(){p=s.union(p,i("script[src]").not("[async]").map(function(){return i(this).attr("src")}).get())}),f("styles",function(e){return r(o(e,function(e){i("<link/>",{"class":"css-"+this.cid,rel:"stylesheet",type:"text/css",href:e}).appendTo("head")}))},function(){i("link.css-"+this.cid).remove()}),f("templates",function(e,t){return t||(t=this.templates={}),r(o(e,function(e,s){return i.ajax(e,{cache:!0,success:function(e){t[s]=e}})}))}),f("data",function(e){var t=this;return i.ajax(e,{dataType:"json",success:function(e){t.data=e}})}),s.each(u,function(e,t){f(t,function(e){return e=a(e.fetch)?e:this[t],l(e,"fetch")||r()})}),t.start=function(a){var o,r=n.history,l=/^([^\/]+?:\/\/[^\/]+?)(\/[^?#]*)/.exec(e.location.href);a=s.extend({pushState:!0,hashChange:!1},a),l&&r.start(a)&&(l=l[1]+r.options.root,o=l.length,i("body").on("click.spatula","a[href]",function(e){var i=this.href;e.metaKey||e.ctrlKey||e.isDefaultPrevented()||!i||i.substr(0,o)!==l||(i=i.substr(o),t.test(i)&&s.any(r.handlers,function(t){return t.route.test(i)?(e.preventDefault(),r.navigate(i,!0),!0):void 0}))}))},t.test=function(e){return!s.any(h,function(t){return t.test(e)})},t.exclude=function(e){s.isRegExp(e)||(e=n.Router.prototype._routeToRegExp.call({},e)),h.push(e)}}(this),function(e){"use strict";var t=e.Spatula,i=e.Disney;i.pageless_blacklist.forEach(function(e){var i=e.replace(/^\/|\/$/g,"");t.exclude(i),t.exclude(i+"/")}),t.exclude(/\?(?:.*&)?cds(?:[=&]|$)/)}(this),function(e){"use strict";var t=e.Disney;t.Style.AssetPaths={theme_stylesheets:{junior:"//a.dilcdn.com/a/themes/junior/application-5016dffc4b25.css",marvelkids:"//a.dilcdn.com/a/themes/marvelkids/application-631661320dad.css",marvelkids_home:"//a.dilcdn.com/a/themes/marvelkids/home/application-be19e20109c6.css",marvelkids_avengers:"//a.dilcdn.com/a/themes/marvelkids/avengers/application-a5150fec8c63.css","marvelkids_spider-man":"//a.dilcdn.com/a/themes/marvelkids/spider-man/application-25b96bd53329.css"},supported_videoplayer_skins:{junior:"//a.dilcdn.com/a/videoplayer_assets_junior-1b4f14d040c9.swf"},nav_logos:{light:{non_retina:"//a.dilcdn.com/a/logos/nav_logo-89193ebe6563.png",retina:"//a.dilcdn.com/a/logos/nav_logo@2x-25d10ad375dd.png"},dark:{non_retina:"//a.dilcdn.com/a/logos/nav_logo_dark-fa26a1e2ea84.png",retina:"//a.dilcdn.com/a/logos/nav_logo_dark@2x-8096506f0cde.png"}}}}(this),!jQuery.support.cors&&window.XDomainRequest){var httpRegEx=/^https?:\/\//i,getOrPostRegEx=/^get|post$/i,sameSchemeRegEx=new RegExp("^"+location.protocol,"i"),xmlRegEx=/\/xml/i;jQuery.ajaxTransport("text html xml json",function(e,t){if(e.crossDomain&&e.async&&getOrPostRegEx.test(e.type)&&httpRegEx.test(t.url)&&sameSchemeRegEx.test(t.url)){var i=null,s=(t.dataType||"").toLowerCase();return{send:function(n,a){i=new XDomainRequest,/^\d+$/.test(t.timeout)&&(i.timeout=t.timeout),i.ontimeout=function(){a(500,"timeout")},i.onload=function(){var e="Content-Length: "+i.responseText.length+"\r\nContent-Type: "+i.contentType,t={code:200,message:"success"},n={text:i.responseText};try{if("json"===s)try{n.json=JSON.parse(i.responseText)}catch(o){t.code=500,t.message="parseerror"}else if("xml"===s||"text"!==s&&xmlRegEx.test(i.contentType)){var r=new ActiveXObject("Microsoft.XMLDOM");r.async=!1;try{r.loadXML(i.responseText)}catch(o){r=void 0}if(!r||!r.documentElement||r.getElementsByTagName("parsererror").length)throw t.code=500,t.message="parseerror","Invalid XML: "+i.responseText;n.xml=r}}catch(l){throw l}finally{a(t.code,t.message,n,e)}},i.onerror=function(){a(500,"error",{text:i.responseText})},i.open(e.type,e.url),i.send()},abort:function(){i&&i.abort()}}}})}/*
 *  Copyright 2011 Twitter, Inc.
 *  Licensed under the Apache License, Version 2.0 (the "License");
 *  you may not use this file except in compliance with the License.
 *  You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 *  Unless required by applicable law or agreed to in writing, software
 *  distributed under the License is distributed on an "AS IS" BASIS,
 *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 *  See the License for the specific language governing permissions and
 *  limitations under the License.
 */
var Hogan={};!function(e){"use strict";function t(e,t,i){var s;return t&&"object"==typeof t&&(void 0!==t[e]?s=t[e]:i&&t.get&&"function"==typeof t.get&&(s=t.get(e))),s}function i(e,t,i,s,n,a){function o(){}function r(){}o.prototype=e,r.prototype=e.subs;var l,c=new o;c.subs=new r,c.subsText={},c.buf="",s=s||{},c.stackSubs=s,c.subsText=a;for(l in t)s[l]||(s[l]=t[l]);for(l in s)s.hasOwnProperty(l)&&(c.subs[l]=s[l]);n=n||{},c.stackPartials=n;for(l in i)i.hasOwnProperty(l)&&!n[l]&&(n[l]=i[l]);for(l in n)n.hasOwnProperty(l)&&(c.partials[l]=n[l]);return c}function s(e){return String(null===e||void 0===e?"":e)}function n(e){return e=s(e),d.test(e)?e.replace(a,"&amp;").replace(o,"&lt;").replace(r,"&gt;").replace(l,"&#39;").replace(c,"&quot;"):e}e.Template=function(e,t,i,s){e=e||{},this.r=e.code||this.r,this.c=i,this.options=s||{},this.text=t||"",this.partials=e.partials||{},this.subs=e.subs||{},this.buf=""},e.Template.prototype={r:function(){return""},v:n,t:s,render:function(e,t,i){return this.ri([e],t||{},i)},ri:function(e,t,i){return this.r(e,t,i)},ep:function(e,t){var s=this.partials[e],n=t[s.name];if(s.instance&&s.base===n)return s.instance;if("string"==typeof n){if(!this.c)throw new Error("No compiler available.");n=this.c.compile(n,this.options)}if(!n)return null;if(this.partials[e].base=n,s.subs){t.stackText||(t.stackText={});for(var a in s.subs)s.subs.hasOwnProperty(a)&&!t.stackText[a]&&(t.stackText[a]=void 0!==this.activeSub&&t.stackText[this.activeSub]?t.stackText[this.activeSub]:this.text);n=i(n,s.subs,s.partials,this.stackSubs,this.stackPartials,t.stackText)}return this.partials[e].instance=n,n},rp:function(e,t,i,s){var n=this.ep(e,i);return n?n.ri(t,i,s):""},rs:function(e,t,i){var s=e[e.length-1];if(!u(s)){if(!this.options.modelGet||"object"!=typeof s||"number"!=typeof s.length||"function"!=typeof s.slice)return void i(e,t,this);s=s.slice(0,s.length)}for(var n=0;n<s.length;n++)e.push(s[n]),i(e,t,this),e.pop()},s:function(e,t,i,s,n,a,o){var r;return u(e)&&0===e.length?!1:("function"==typeof e&&(e=this.ms(e,t,i,s,n,a,o)),r=!!e,!s&&r&&t&&t.push("object"==typeof e?e:t[t.length-1]),r)},d:function(e,i,s,n){var a,o=e.split("."),r=this.f(o[0],i,s,n),l=this.options.modelGet,c=null;if("."===e&&u(i[i.length-2]))r=i[i.length-1];else for(var d=1;d<o.length;d++)a=t(o[d],r,l),void 0!==a?(c=r,r=a):r="";return n&&!r?!1:(n||"function"!=typeof r||(i.push(c),r=this.mv(r,i,s),i.pop()),r)},f:function(e,i,s,n){for(var a=!1,o=null,r=!1,l=this.options.modelGet,c=i.length-1;c>=0;c--)if(o=i[c],a=t(e,o,l),void 0!==a){r=!0;break}return r?(n||"function"!=typeof a||(a=this.mv(a,i,s)),a):n?!1:""},ls:function(e,t,i,n,a){var o=this.options.delimiters;return this.options.delimiters=a,this.b(this.ct(s(e.call(t,n)),t,i)),this.options.delimiters=o,!1},ct:function(e,t,i){if(this.options.disableLambda)throw new Error("Lambda features disabled.");return this.c.compile(e,this.options).render(t,i)},b:function(e){this.buf+=e},fl:function(){var e=this.buf;return this.buf="",e},ms:function(e,t,i,s,n,a,o){var r,l=t[t.length-1],c=e.call(l);return"function"==typeof c?s?!0:(r=this.activeSub&&this.subsText&&this.subsText[this.activeSub]?this.subsText[this.activeSub]:this.text,this.ls(c,l,i,r.substring(n,a),o)):c},mv:function(e,t,i){var n=t[t.length-1],a=e.call(n);return"function"==typeof a?this.ct(s(a.call(n)),n,i):a},sub:function(e,t,i,s){var n=this.subs[e];n&&(this.activeSub=e,n(t,i,this,s),this.activeSub=!1)}};var a=/&/g,o=/</g,r=/>/g,l=/\'/g,c=/\"/g,d=/[&<>\"\']/,u=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}}("undefined"!=typeof exports?exports:Hogan),this.Whiskers||!function(e){"use strict";var t=e.Hogan,i=function(e,t){var i,s=this;for(e=e.split(".");e.length>1;)i=e.shift(),s=s.hasOwnProperty(i)?s[i]:s[i]={};s[e[0]]=t},s=e.Whiskers=function(e,n){var a="function"==typeof t.compile?t:null;i.call(s,e,new t.Template(n,"",a,{modelGet:!0}))}}(this),Whiskers("partials.style_elements.page_styles",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<style type="text/css"> '),s.s(s.f("page_background_styles",e,t,1),e,t,0,51,1552,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(" /* base-level page background styles */ #body-bg{ opacity: 1; } "),i.s(i.f("bg_color",e,t,1),e,t,0,129,204,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" #body-bg .main, #body-bg .safety-color{ background-color: "),i.b(i.v(i.f("bg_color",e,t,0))),i.b("; } ")}),e.pop()),i.b(" "),i.s(i.f("gradient",e,t,1),e,t,0,231,878,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" #body-bg .color-fade{ background-image: -webkit-gradient(linear, left top, left bottom, color-stop("),i.b(i.v(i.f("stop1",e,t,0))),i.b(", "),i.b(i.v(i.f("bg_color",e,t,0))),i.b("), color-stop("),i.b(i.v(i.f("stop2",e,t,0))),i.b(", "),i.b(i.v(i.f("bg_color",e,t,0))),i.b("), color-stop("),i.b(i.v(i.f("stop3",e,t,0))),i.b(", "),i.b(i.v(i.f("color",e,t,0))),i.b("), color-stop(92%, "),i.b(i.v(i.f("color",e,t,0))),i.b(")); background-image: -webkit-linear-gradient(top, "),i.b(i.v(i.f("bg_color",e,t,0))),i.b(" "),i.b(i.v(i.f("stop1",e,t,0))),i.b(", "),i.b(i.v(i.f("bg_color",e,t,0))),i.b(" "),i.b(i.v(i.f("stop2",e,t,0))),i.b(", "),i.b(i.v(i.f("color",e,t,0))),i.b(" "),i.b(i.v(i.f("stop3",e,t,0))),i.b(", "),i.b(i.v(i.f("color",e,t,0))),i.b(" "),i.b(i.v(i.f("stop4",e,t,0))),i.b("); background-image: linear-gradient(to bottom, "),i.b(i.v(i.f("bg_color",e,t,0))),i.b(" "),i.b(i.v(i.f("stop1",e,t,0))),i.b(", "),i.b(i.v(i.f("bg_color",e,t,0))),i.b(" "),i.b(i.v(i.f("stop2",e,t,0))),i.b(", "),i.b(i.v(i.f("color",e,t,0))),i.b(" "),i.b(i.v(i.f("stop3",e,t,0))),i.b(", "),i.b(i.v(i.f("color",e,t,0))),i.b(" "),i.b(i.v(i.f("stop4",e,t,0))),i.b("); "),i.b("-ms-filter: \"progid:DXImageTransform.Microsoft.gradient(startColorstr='"),i.b(i.v(i.f("bg_color",e,t,0))),i.b("', endColorstr='"),i.b(i.v(i.f("color",e,t,0))),i.b("', GradientType=0)\"; } ")}),e.pop()),i.b(" "),i.s(i.f("background_image",e,t,1),e,t,0,913,1027,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" #base-bg{ background-image: url("),i.b(i.v(i.f("image",e,t,0))),i.b("); background-position: "),i.b(i.v(i.f("position",e,t,0))),i.b("; background-repeat: "),i.b(i.v(i.f("repeat",e,t,0))),i.b("; }) ")}),e.pop()),i.b(" "),i.s(i.f("footer_inverted",e,t,1),e,t,0,1069,1531,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.b(" @media screen and (min-width: 1025px){ "),i.b(" footer #bottomnav a, footer #bottomnav p, footer #help p, footer #utility p{ color: #fff; } footer #bottomnav .col, footer #utility .divider { border-color: rgba(255, 255, 255, 0.07); } } ")}),e.pop()),i.b(" ")}),e.pop()),s.b(" "),s.s(s.f("primary_theme",e,t,1),e,t,0,1598,2698,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(" /* primary module-level color theme */ "),i.s(i.f("header_color",e,t,1),e,t,0,1655,1960,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" .module.primary-theme:not(.skip-styles) h1:not(.skip-text-styles), .module.primary-theme:not(.skip-styles) h2:not(.skip-text-styles), .module.primary-theme.list_module_featured:not(.skip-styles) h3:not(.skip-text-styles), .module.primary-theme:not(.skip-styles) .accent-color{ color: "),i.b(i.v(i.f("header_color",e,t,0))),i.b("; } ")}),e.pop()),i.b(" "),i.s(i.f("text_color",e,t,1),e,t,0,1993,2321,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" .module.primary-theme:not(.skip-styles) p:not(.skip-text-styles), .module:not(.skip-text-styles) ul:not(.skip-text-styles), .module.primary-theme:not(.skip-styles) li:not(.skip-text-styles), .module:not(.skip-text-styles) ol:not(.skip-text-styles), .module.primary-theme:not(.skip-styles) .base-color{ color: "),i.b(i.v(i.f("text_color",e,t,0))),i.b("; } ")}),e.pop()),i.b(" "),i.s(i.f("link_color",e,t,1),e,t,0,2352,2531,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" .module.primary-theme:not(.skip-styles) a:not(.skip-text-styles), .module.primary-theme:not(.skip-styles) a.entity-link:hover h3:not(.skip-text-styles){ color: "),i.b(i.v(i.f("link_color",e,t,0))),i.b("; } ")}),e.pop()),i.b(" "),i.s(i.f("background_color",e,t,1),e,t,0,2568,2676,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" .module.primary-theme:not(.skip-styles){ background-color: "),i.b(i.v(i.f("background_color",e,t,0))),i.b("; background-image: none; } ")}),e.pop()),i.b(" ")}),e.pop()),s.b(" "),s.s(s.f("secondary_theme",e,t,1),e,t,0,2737,3881,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(" /* secondary module-level color theme */ "),i.s(i.f("header_color",e,t,1),e,t,0,2796,3109,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" .module.secondary-theme:not(.skip-styles) h1:not(.skip-text-styles), .module.secondary-theme:not(.skip-styles) h2:not(.skip-text-styles), .module.secondary-theme.list_module_featured:not(.skip-styles) h3:not(.skip-text-styles), .module.secondary-theme:not(.skip-styles) .accent-color{ color: "),i.b(i.v(i.f("header_color",e,t,0))),i.b("; } ")}),e.pop()),i.b(" "),i.s(i.f("text_color",e,t,1),e,t,0,3142,3498,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" .module.secondary-theme:not(.skip-styles) p:not(.skip-text-styles), .module.secondary-theme:not(.skip-styles) ul:not(.skip-text-styles), .module.secondary-theme:not(.skip-styles) li:not(.skip-text-styles), .module.secondary-theme:not(.skip-styles) ol:not(.skip-text-styles), .module.secondary-theme:not(.skip-styles) .base-color{ color: "),i.b(i.v(i.f("text_color",e,t,0))),i.b("; } ")}),e.pop()),i.b(" "),i.s(i.f("link_color",e,t,1),e,t,0,3529,3712,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" .module.secondary-theme:not(.skip-styles) a:not(.skip-text-styles), .module.secondary-theme:not(.skip-styles) a.entity-link:hover h3:not(.skip-text-styles){ color: "),i.b(i.v(i.f("link_color",e,t,0))),i.b("; } ")}),e.pop()),i.b(" "),i.s(i.f("background_color",e,t,1),e,t,0,3749,3859,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" .module.secondary-theme:not(.skip-styles){ background-color: "),i.b(i.v(i.f("background_color",e,t,0))),i.b("; background-image: none; } ")}),e.pop()),i.b(" ")}),e.pop()),s.b(" "),s.s(s.f("icon_styles",e,t,1),e,t,0,3918,4258,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(" /* module-level icon colors */ .module .module_header.icon .header_icon{ background-color: "),i.b(i.v(i.f("bottom",e,t,0))),i.b("; background-image: -webkit-gradient(linear, left top, left bottom, from("),i.b(i.v(i.f("top",e,t,0))),i.b("), to("),i.b(i.v(i.f("bottom",e,t,0))),i.b(")); background-image: -webkit-linear-gradient(top, "),i.b(i.v(i.f("top",e,t,0))),i.b(", "),i.b(i.v(i.f("bottom",e,t,0))),i.b("); background-image: linear-gradient(to bottom, "),i.b(i.v(i.f("top",e,t,0))),i.b(", "),i.b(i.v(i.f("bottom",e,t,0))),i.b("); } ")}),e.pop()),s.b(" "),s.s(s.f("serif_font",e,t,1),e,t,0,4290,4372,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(" /* font styles */ h1, h1 a, h2, h2 a, h3, h3 a { font-family: MatterhornSerif; } ")}),e.pop()),s.b(" </style>"),s.fl()},partials:{},subs:{}}),Whiskers("partials.style_elements.takeover_styles",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<style type="text/css"> /* style-pack-configured takeover styles */ '),s.s(s.f("module_override",e,t,1),e,t,0,88,191,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(" #takeover-area .overlay.default{ opacity: 0; } #takeover-area .overlay.module-override{ opacity: 1; } ")}),e.pop()),s.b(" "),s.s(s.f("main_background_color",e,t,1),e,t,0,238,340,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(" #takeover-area .overlay."),i.b(i.v(i.f("overlay_type",e,t,0))),i.b(" .main-color{ background-color: "),i.b(i.v(i.f("main_background_color",e,t,0))),i.b("; } ")}),e.pop()),s.b(" "),s.s(s.f("pushdown_safety_color",e,t,1),e,t,0,393,509,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(" #takeover-area .overlay."),i.b(i.v(i.f("overlay_type",e,t,0))),i.b(" .safety-color .color-block{ background-color: "),i.b(i.v(i.f("pushdown_safety_color",e,t,0))),i.b(";} ")}),e.pop()),s.b(" "),s.s(s.f("main_image",e,t,1),e,t,0,551,892,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(" .site-default-gradient{ display: none; } #takeover-area .overlay."),i.b(i.v(i.f("overlay_type",e,t,0))),i.b(" .main-image{ background-image: url("),i.b(i.v(i.d("main_image.src",e,t,0))),i.b("); } "),i.s(i.f("main_background_color",e,t,1),e,t,0,718,865,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.s(i.f("repeating_image",e,t,1),e,t,1,0,0,"")||(i.b(" #takeover-area .overlay."),i.b(i.v(i.f("overlay_type",e,t,0))),i.b(" .repeating-image{ background-color: "),i.b(i.v(i.f("main_background_color",e,t,0))),i.b("; } "))}),e.pop()),i.b(" ")}),e.pop()),s.b(" "),s.s(s.f("top_gradient",e,t,1),e,t,0,925,1664,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(" #takeover-area .overlay."),i.b(i.v(i.f("overlay_type",e,t,0))),i.b(" .repeating-color "),i.s(i.f("main_image",e,t,1),e,t,0,999,1058,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(", #takeover-area .overlay."),i.b(i.v(i.f("overlay_type",e,t,0))),i.b(" .repeating-image")}),e.pop()),i.b("{ background-image: -webkit-gradient(linear, left top, left bottom, from("),i.b(i.v(i.f("color",e,t,0))),i.b(" "),i.b(i.v(i.f("color_stop",e,t,0))),i.b("), to("),i.b(i.v(i.f("main_background_color",e,t,0))),i.b(")); background-image: -webkit-linear-gradient(top, "),i.b(i.v(i.f("color",e,t,0))),i.b(" "),i.b(i.v(i.f("color_stop",e,t,0))),i.b(", "),i.b(i.v(i.f("main_background_color",e,t,0))),i.b("); background-image: linear-gradient(to bottom, "),i.b(i.v(i.f("color",e,t,0))),i.b(" "),i.b(i.v(i.f("color_stop",e,t,0))),i.b(", "),i.b(i.v(i.f("main_background_color",e,t,0))),i.b("); "),i.b("-ms-filter: \"progid:DXImageTransform.Microsoft.gradient(startColorstr='"),i.b(i.v(i.f("color",e,t,0))),i.b("', endColorstr='"),i.b(i.v(i.f("main_background_color",e,t,0))),i.b("', GradientType=0)\"; } #takeover-area .overlay."),i.b(i.v(i.f("overlay_type",e,t,0))),i.b(" .safety-color .color-block{ background-color: "),i.b(i.v(i.f("color",e,t,0))),i.b(";} ")}),e.pop()),s.b(" "),s.s(s.f("repeating_image",e,t,1),e,t,0,1702,1812,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(" #takeover-area .overlay."),i.b(i.v(i.f("overlay_type",e,t,0))),i.b(" .repeating-image{ background-image: url("),i.b(i.v(i.d("repeating_image.src",e,t,0))),i.b("); } ")}),e.pop()),s.b(" "),s.b(" "),s.s(s.f("topper_takeovers",e,t,1),e,t,0,1957,2324,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(" @media screen and (max-width: "),i.b(i.v(i.f("max_bp",e,t,0))),i.b("px){ #topper{ background-image: url("),i.b(i.v(i.d("src.non_retina",e,t,0))),i.b("); background-size: "),i.b(i.v(i.f("display_width",e,t,0))),i.b("px "),i.b(i.v(i.f("display_height",e,t,0))),i.b("px; } } @media screen and (-webkit-min-device-pixel-ratio: 1.5) and (max-width: "),i.b(i.v(i.f("max_bp",e,t,0))),i.b("px), screen and (min-resolution: 144dpi) and (max-width: "),i.b(i.v(i.f("max_bp",e,t,0))),i.b("px){ #topper{ background-image: url("),i.b(i.v(i.d("src.retina",e,t,0))),i.b("); } } ")}),e.pop()),s.b(" @media screen and (min-width: 1025px){ "),s.s(s.f("local_chrome_dark",e,t,1),e,t,1,0,0,"")||s.b(" #nav-logo, #nav-local li a, aside.gpt.pushdown, #chrome-controls{ color: #fff; } #chrome-controls .chrome-controls-icon{ border-color: transparent #fff #fff transparent; } #nav-local li a.active{ color: #b2dfff; } "),s.b(" "),s.s(s.f("local_chrome_dark",e,t,1),e,t,0,2667,2953,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(" #nav-logo, #nav-local li a, aside.gpt.pushdown, #chrome-controls{ color: #000; } #chrome-controls .chrome-controls-icon{ border-color: transparent #000 #000 transparent; } #nav-local li a.active{ color: #1786eb; } "),i.b(" ")}),e.pop()),s.b(" } "),s.s(s.f("nav_logos",e,t,1),e,t,0,2992,3331,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(" "),i.b(" @media screen and (min-width: 1025px){ #nav-logo{ background-image: url("),i.b(i.v(i.f("non_retina",e,t,0))),i.b(");} } @media screen and (-webkit-min-device-pixel-ratio: 1.5) and (min-width: 1025px), screen and (min-resolution: 144dpi) and (min-width: 1025px){ #nav-logo{ background-image: url("),i.b(i.v(i.f("retina",e,t,0))),i.b(");} } ")}),e.pop()),s.b(" </style>"),s.fl()},partials:{},subs:{}}),function(e){"use strict";var t=e.Disney,i=e.Spatula,s=e.GOC,n=e.jQuery,a=e._,o=e.Backbone,r=o.sync,l=/^\/(?:[^\/]|$)/,c=t.ajaxBase;n(function(){var s=t.redirect,o=t.top=new i.ContainerView({el:"#main"});o.on("begin",function(){t.Style.transitionModuleTakeoverStyles()}),o.on("ready",function(i){var s=i.title;if(n.isFunction(s)&&(s=s.call(i)),s&&(e.document.title=s),n("html,body").scrollTop(0),i.options.collection){var a=i.options.collection.style;t.Style.attachCustomThemeStyles(a),t.Style.applyStylePackStyles(a)}else t.Style.applyStylePackStyles(null)}),s&&o.loader(s.loader),a.defer(i.start)}),s&&s.queue.push(["go",e.document.body]),n.ajaxSetup({timeout:2e4}),c&&(o.sync=function(e,t,i){var s=i.url||t&&t.url;return l.exec(s)&&(i=a.extend({url:c+s.substr(1)},i)),r(e,t,i)})}(this),function(e,t){"use strict";t.support.css3=function(){function t(t,i){var s=e.document.body||e.document.documentElement,n=s.style,a=["Webkit","Moz","ms","O"];if(void 0!==n[t])return i?t:!0;t=t.charAt(0).toUpperCase()+t.substr(1);for(var o=0;o<a.length;o++)if(void 0!==n[a[o]+t])return i?a[o]+t:!0}return t}(),t.fn.selectTransitionEnd=function(){var t,i=e.document.createElement("fakeelement"),s={transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend"};for(t in s)if(void 0!==i.style[t])return s[t]}}(this,jQuery),Whiskers("partials.style_elements.module_styles",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.s(s.f("style",e,t,1),e,t,0,10,2159,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(" <!-- /* "),i.b(i.v(i.f("view",e,t,0))),i.b(" module "),i.b(i.v(i.f("ref",e,t,0))),i.b(" */ --> "),i.s(i.f("bg_color",e,t,1),e,t,0,63,159,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" /* background color */ #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b("{ background-color: "),i.b(i.v(i.f("bg_color",e,t,0))),i.b("; background-image: none; } ")}),e.pop()),i.b(" "),i.s(i.f("images",e,t,1),e,t,0,184,683,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("background_image",e,t,1),e,t,0,206,661,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" /* background images */ @media screen and (min-width: 680px){ #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b("{ background-size: 100% auto; "),i.s(i.f("url",e,t,1),e,t,0,319,350,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("background-image: url("),i.b(i.v(i.f("url",e,t,0))),i.b(");")}),e.pop()),i.b(" "),i.s(i.f("alignment",e,t,1),e,t,0,373,413,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("background-position: "),i.b(i.v(i.f("alignment",e,t,0))),i.b(" left;")}),e.pop()),i.b(" } } "),i.s(i.f("retina_url",e,t,1),e,t,0,447,645,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" @media screen and (-webkit-min-device-pixel-ratio: 1.5) and (min-width: 680px), screen and (min-resolution: 144dpi) and (min-width: 680px){ #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b("{ background-image: url("),i.b(i.v(i.f("retina_url",e,t,0))),i.b("); } } ")}),e.pop()),i.b(" ")}),e.pop()),i.b(" ")}),e.pop()),i.b(" "),i.s(i.f("bg_image_styles",e,t,1),e,t,0,715,968,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" /* special config settings for certain background images */ @media screen and (min-width: 680px){ "),i.s(i.f("image_repeat",e,t,1),e,t,0,831,885,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b("{ background-repeat: "),i.b(i.v(i.f("image_repeat",e,t,0))),i.b("; } ")}),e.pop()),i.b(" "),i.s(i.f("size",e,t,1),e,t,0,912,956,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b("{ background-size: "),i.b(i.v(i.f("size",e,t,0))),i.b("; } ")}),e.pop()),i.b(" } ")}),e.pop()),i.b(" "),i.s(i.f("overlay_styles",e,t,1),e,t,0,1008,1448,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" /* overlay styles */ @media screen and (min-width: 680px){ "),i.s(i.f("opacity",e,t,1),e,t,0,1080,1133,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("#ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .module_overlay{ opacity: "),i.b(i.v(i.f("opacity",e,t,0))),i.b("; }")}),e.pop()),i.b(" "),i.s(i.f("color",e,t,1),e,t,0,1156,1216,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("#ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .module_overlay{ background-color: "),i.b(i.v(i.f("color",e,t,0))),i.b("; }")}),e.pop()),i.b(" "),i.s(i.f("overlay_image",e,t,1),e,t,0,1245,1427,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(' .module_overlay{ background-image: url("'),i.b(i.v(i.f("image",e,t,0))),i.b('"); background-position: '),i.b(i.v(i.f("vertical_position",e,t,0))),i.b(" left; background-repeat: "),i.b(i.v(i.f("image_repeat",e,t,0))),i.b("; background-size: "),i.b(i.v(i.f("size",e,t,0))),i.b("; } ")}),e.pop()),i.b(" } ")}),e.pop()),i.b(" "),i.s(i.f("module_padding_overrides",e,t,1),e,t,0,1497,1642,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" /* padding styles */ "),i.s(i.f("padding_exclusions",e,t,1),e,t,0,1542,1618,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("#ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" > .bound, full-height#ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" > .bound{ padding-"),i.b(i.v(i.d(".",e,t,0))),i.b(": 0; }")}),e.pop()),i.b(" ")}),e.pop()),i.b(" "),i.s(i.f("border_overrides",e,t,1),e,t,0,1693,2137,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" /* border styles */ "),i.s(i.f("top_border",e,t,1),e,t,0,1729,1817,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" /* top border */ #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b("{ border-top: 1px solid rgba(0, 0, 0, 0.08) !important; } ")}),e.pop()),i.b(" "),i.s(i.f("top_none",e,t,1),e,t,0,1846,1898,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" /* top border */ #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b("{ border-top: none; } ")}),e.pop()),i.b(" "),i.s(i.f("bottom_border",e,t,1),e,t,0,1930,2020,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" /* bottom border */ #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" + .module{ border-top: 1px solid rgba(0, 0, 0, 0.08); } ")}),e.pop()),i.b(" "),i.s(i.f("bottom_none",e,t,1),e,t,0,2055,2120,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" /* bottom border */ #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" + .module{ border-top: none; } ")}),e.pop()),i.b(" ")}),e.pop()),i.b(" ")}),e.pop()),s.fl()},partials:{},subs:{}}),function(e){"use strict";var t=e.Disney,i=e.Whiskers,s=e._;s.extend(t.Style,{applyStyleClasses:function(e){var t=e.$el,i=e.model,s=i.get("style")||{},n=s.color_theme||"light",a=s.active_theme,o=a+"-theme",r=i.collection,l=r&&r.style,c=l&&l[a+"_theme"];t.addClass(o+" "+n),s.geo_hidden&&!t.hasClass("geo-accepted")&&t.addClass("geo-hidden"),(s.bg_color||c&&c.background_color)&&t.addClass("custom-bg-color"),s.transparent_background&&t.addClass("transparent"),s.module_padding_overrides&&t.toggleClass("full-height",s.module_padding_overrides.full_height),s.bg_image_styles&&s.bg_image_styles.tall_image&&t.addClass("extra-tall"),s.overlay_styles&&s.overlay_styles.drop_shadow&&t.find(".bound").addClass(s.overlay_styles.drop_shadow+"-shadow")},getModuleStyles:function(e){var t=e.model,s=i.partials.style_elements.module_styles,n=s.render(t);return n}})}(this),function(e){"use strict";var t=e.Disney,i=t.Style.breakpoints,s=e.Backbone,n=e.jQuery,a=e.Math,o=a.min(e.devicePixelRatio,2);t.LumiereHelpers={sizes:[160,320,480,600,768,960,1200,1536,1920],imgSrc:function(e,t){var i,s;if(e instanceof Object)i=e.src,s=e.width;else{i=e;var n=this.nativeSizeFromSrc(i);s=n&&n.width}var a=this.optimizedWidth(s,t),o=a?i+="&width="+a:i;return o},optimizedWidth:function(e,t){var n,o=t.rel_width||1,r=t.target_width;if(!r){var l=a.min(s.Resize.width(),i.contentMax);r=o*l*.94}return n=this.getClosestSize(r),e>n?n:!1},getClosestSize:function(e){var t,i=e*o;return n(this.sizes).each(function(e,s){return t=s,s>i?!1:void 0}),t},nativeSizeFromSrc:function(e){var t=e&&e.split("?")[1],i=t&&decodeURIComponent(t).split("region=")[1];if(i){var s=i.split("&")[0].split(","),n=s[2],a=s[3];return{width:n,height:a,ratio:a/n}}}}}(this),function(e){"use strict";var t=e.jQuery,i=e.Disney;t(function(){t.fn.extend({loadLazyImages:function(){t("img[data-src]",this).each(function(){var e=t(this);e.closest(".module").hasClass("geo-hidden")||e.parentsUntil(".module",".lazy-deferred").length<1&&e.swapSrc()})},enableLazyLoad:function(){return this.removeClass("lazy-deferred"),this},swapSrc:function(){var e=this[0],s=this.attr("data-src"),n=this.attr("data-width"),a=this.parent(".aspect");if(a.length>0&&n){var o=a.width(),r={src:s,width:n},l={target_width:o};s=i.LumiereHelpers.imgSrc(r,l)}e.src!==s?(this.on("load",function(){t(this).removeClass("no-src").removeAttr("data-src"),t(this).closest(".aspect").removeClass("placeholder")}),this.on("error",function(){t(this).hideBrokenImage()}),e.src=s):(this.removeAttr("data-src"),e.complete&&0===e.naturalWidth&&this.hideBrokenImage())},hideBrokenImage:function(){this.addClass("no-src").closest(".aspect").removeClass("placeholder").addClass("load-failed")}})})}(this),Whiskers("entities.item",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<span class="col item '),s.s(s.f("lastRow",e,t,1),e,t,0,34,42,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b("last-row")}),e.pop()),s.s(s.f("hidden",e,t,1),e,t,0,65,79,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(" lazy-deferred")}),e.pop()),s.s(s.f("widthClass",e,t,1),e,t,0,105,120,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(" "),i.b(i.v(i.f("widthClass",e,t,0)))}),e.pop()),s.b('"> '),s.b(" "),s.s(s.f("href",e,t,1),e,t,0,197,422,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('" '),i.s(i.f("target",e,t,1),e,t,0,228,247,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('target="'),i.b(i.v(i.f("target",e,t,0))),i.b('"')}),e.pop()),i.b(' class="arrow entity-link'),i.s(i.f("age_gate",e,t,1),e,t,0,296,306,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" age-gated")}),e.pop()),i.b('" '),i.s(i.f("age_gate",e,t,1),e,t,0,334,357,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('data-age="'),i.b(i.v(i.f("age_gate",e,t,0))),i.b('"')}),e.pop()),i.s(i.f("ping",e,t,1),e,t,0,379,407,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' data-ping="'),i.b(i.v(i.d("ping.static",e,t,0))),i.b('"')}),e.pop()),i.b("></a> ")}),e.pop()),s.b(" "),s.b(s.rp("<entity_container0",e,t,"")),s.b(" </span>"),s.fl()},partials:{"<entity_container0":{name:"entity_container",partials:{},subs:{}}},subs:{}}),Whiskers("entities.entity_container",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<div class="entity-container entity-type-'),s.b(s.v(s.f("entity_type",e,t,0))),s.b(" "),s.s(s.f("entity_config",e,t,1),e,t,0,75,473,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(" ratio-"),i.b(i.v(i.f("aspect_ratio",e,t,0))),i.b(" "),i.s(i.f("href",e,t,1),e,t,0,108,117,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("links-out")}),e.pop()),i.b(" "),i.s(i.f("rounded_corners",e,t,1),e,t,0,147,174,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("corners-"),i.b(i.v(i.f("rounded_corners",e,t,0)))}),e.pop()),i.b(" "),i.s(i.f("title_overlay",e,t,1),e,t,0,213,226,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("title-overlay")}),e.pop()),i.b(" "),i.s(i.f("stack_box",e,t,1),e,t,0,259,275,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("stack-box-entity")}),e.pop()),i.b(" "),i.s(i.f("details_visibility",e,t,1),e,t,0,313,343,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.v(i.f("details_visibility",e,t,0))),i.b("-details")}),e.pop()),i.b(" "),i.s(i.f("skip_hover",e,t,1),e,t,0,382,392,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("skip-hover")}),e.pop()),i.b(" "),i.s(i.f("show_ptitle",e,t,1),e,t,0,424,456,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.s(i.f("ptitle",e,t,1),e,t,0,435,445,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("has-ptitle")}),e.pop())}),e.pop()),i.b(" ")}),e.pop()),s.b(" "),s.s(s.f("item_aspect_ratio_override",e,t,1),e,t,0,523,544,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b("aspect-ratio-override")}),e.pop()),s.b('"> <div class="entity-mask"> '),s.b(" "),s.s(s.f("href",e,t,1),e,t,0,646,706,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b('<a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('" class="entity-link" '),i.b(i.rp("<href_attributes0",e,t,"")),i.b(">")}),e.pop()),s.b(" "),s.b(' <div class="'),s.b(s.v(s.f("entity_type",e,t,0))),s.b("-box entity-box "),s.s(s.f("entity_config",e,t,1),e,t,0,803,900,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("thumb_outline",e,t,1),e,t,0,822,834,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("thumb-border")}),e.pop()),i.b(" "),i.s(i.f("subtle_hover",e,t,1),e,t,0,870,882,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("subtle-hover")}),e.pop()),i.b(" ")}),e.pop()),s.b('"> '),s.s(s.d("entity_config.stack_box",e,t,1),e,t,0,949,1002,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b('<div class="stack-box"><div class="top-photo-border">')}),e.pop()),s.b(' <div class="aspect'),s.s(s.f("noscript",e,t,1),e,t,1,0,0,"")||s.s(s.d("thumb_data.src",e,t,1),e,t,0,1081,1121,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.s(i.f("preloaded",e,t,1),e,t,1,0,0,"")||i.b(" placeholder")}),e.pop()),s.b('"> '),s.b(" "),s.b(" "),s.b(" "),s.s(s.f("noscript",e,t,1),e,t,0,1360,1452,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.s(i.f("thumb",e,t,1),e,t,0,1370,1442,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<noscript><img src="'),i.b(i.v(i.f("thumb",e,t,0))),i.b('" class="thumb" alt="'),i.b(i.v(i.f("title",e,t,0))),i.b('"></noscript>')}),e.pop())}),e.pop()),s.b(" "),s.s(s.d("thumb_data.src",e,t,1),e,t,0,1485,1687,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("noscript",e,t,1),e,t,1,0,0,"")||(i.b('<img class="thumb '),i.s(i.f("preloaded",e,t,1),e,t,1,0,0,"")||i.b("no-src"),i.b('" alt="'),i.b(i.v(i.f("title",e,t,0))),i.b('" data-src="'),i.b(i.v(i.d("thumb_data.src",e,t,0))),i.b('"'),i.s(i.f("preloaded",e,t,1),e,t,0,1612,1636,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' src="'),i.b(i.v(i.f("preloaded_src",e,t,0))),i.b('"')}),e.pop()),i.b(" "),i.b(i.rp("<image_attributes1",e,t,"")),i.b(">")),i.b(" ")}),e.pop()),s.b(" "),s.s(s.f("badge",e,t,1),e,t,0,1717,1945,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("noscript",e,t,1),e,t,0,1731,1794,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<noscript><img src="'),i.b(i.v(i.f("badge",e,t,0))),i.b('" class="badge" alt=""></noscript>')}),e.pop()),i.b(" "),i.s(i.f("noscript",e,t,1),e,t,1,0,0,"")||(i.b('<img class="badge '),i.s(i.f("preloaded",e,t,1),e,t,1,0,0,"")||i.b("no-src"),i.b('" alt="" '),i.s(i.f("preloaded",e,t,1),e,t,1,0,0,"")||i.b("data-"),i.b('src="'),i.b(i.v(i.f("badge",e,t,0))),i.b('">')),i.b(" ")}),e.pop()),s.b(" "),s.s(s.f("duration",e,t,1),e,t,0,1969,2013,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b('<time aria-hidden="true">'),i.b(i.v(i.f("duration",e,t,0))),i.b("</time>")}),e.pop()),s.b(" </div> "),s.s(s.d("entity_config.stack_box",e,t,1),e,t,0,2062,2076,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(" </div></div> ")}),e.pop()),s.b(" </div> "),s.b(" "),s.s(s.f("href",e,t,1),e,t,0,2158,2162,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b("</a>")}),e.pop()),s.b(" "),s.b(' <div class="entity-details '),s.s(s.f("price",e,t,1),e,t,0,2274,2283,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b("has-price")}),e.pop()),s.b(" "),s.s(s.f("duration",e,t,1),e,t,0,2307,2320,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b("has-timestamp")}),e.pop()),s.b(" "),s.s(s.f("entity_config",e,t,1),e,t,0,2352,2468,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("text_alignment",e,t,1),e,t,0,2372,2395,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("text-"),i.b(i.v(i.f("text_alignment",e,t,0)))}),e.pop()),i.b(" "),i.s(i.f("truncate_title",e,t,1),e,t,0,2434,2448,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("truncate-title")}),e.pop()),i.b(" ")}),e.pop()),s.b('"> '),s.b(" "),s.s(s.f("href",e,t,1),e,t,0,2531,2591,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b('<a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('" class="entity-link" '),i.b(i.rp("<href_attributes2",e,t,"")),i.b(">")}),e.pop()),s.b(' <h3 class="title">'),s.b(s.v(s.f("title",e,t,0))),s.b("</h3> "),s.b(" "),s.s(s.f("href",e,t,1),e,t,0,2680,2684,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b("</a>")}),e.pop()),s.b(" "),s.s(s.d("entity_config.show_ptitle",e,t,1),e,t,0,2724,2780,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.s(i.f("ptitle",e,t,1),e,t,0,2735,2769,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<h4 class="ptitle">'),i.b(i.v(i.f("ptitle",e,t,0))),i.b("</h4>")}),e.pop())}),e.pop()),s.b(" "),s.s(s.f("short_desc",e,t,1),e,t,0,2826,2860,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b('<p class="desc">'),i.b(i.v(i.f("short_desc",e,t,0))),i.b("</p>")}),e.pop()),s.b(" "),s.s(s.f("price",e,t,1),e,t,0,2886,2933,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b('<p class="price skip-text-styles">'),i.b(i.v(i.f("price",e,t,0))),i.b("</p>")}),e.pop()),s.b(" "),s.s(s.d("translations.images",e,t,1),e,t,0,2968,3060,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.s(i.f("numImages",e,t,1),e,t,0,2982,3046,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<p class="image-count">'),i.b(i.v(i.f("numImages",e,t,0))),i.b(" "),i.b(i.v(i.d("translations.images",e,t,0))),i.b("</p>")}),e.pop())}),e.pop()),s.b(" "),s.b(" "),s.s(s.f("href",e,t,1),e,t,0,3127,3348,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('" class="entity-link cta-link'),i.s(i.f("cta_button_title",e,t,1),e,t,0,3195,3224,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" cta-button blue button large")}),e.pop()),i.b('" '),i.b(i.rp("<href_attributes3",e,t,"")),i.b("> "),i.s(i.f("cta_button_title",e,t,1),e,t,0,3290,3321,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" <h4>"),i.b(i.v(i.f("cta_button_title",e,t,0))),i.b("</h4> ")
}),e.pop()),i.b(" </a> ")}),e.pop()),s.b(" </div>"),s.b(" </div>"),s.b(" "),s.s(s.f("content_flag",e,t,1),e,t,0,3430,3491,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b('<p class="content-flag skip-text-styles">'),i.b(i.v(i.f("content_flag",e,t,0))),i.b("</p>")}),e.pop()),s.b(" </div>"),s.fl()},partials:{"<href_attributes0":{name:"href_attributes",partials:{},subs:{}},"<image_attributes1":{name:"image_attributes",partials:{},subs:{}},"<href_attributes2":{name:"href_attributes",partials:{},subs:{}},"<href_attributes3":{name:"href_attributes",partials:{},subs:{}}},subs:{}}),Whiskers("partials.image_attributes",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.s(s.f("thumb_data",e,t,1),e,t,0,15,368,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("width",e,t,1),e,t,0,26,50,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' data-width="'),i.b(i.v(i.f("width",e,t,0))),i.b('" ')}),e.pop()),i.b(" "),i.s(i.f("height",e,t,1),e,t,0,72,97,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('data-height="'),i.b(i.v(i.f("height",e,t,0))),i.b('" ')}),e.pop()),i.b(" "),i.s(i.f("aspect_ratio",e,t,1),e,t,0,126,163,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('data-aspect_ratio="'),i.b(i.v(i.f("aspect_ratio",e,t,0))),i.b('" ')}),e.pop()),i.b(" "),i.s(i.f("orientation",e,t,1),e,t,0,197,232,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('data-orientation="'),i.b(i.v(i.f("orientation",e,t,0))),i.b('" ')}),e.pop()),i.b(" "),i.s(i.f("optimal_w",e,t,1),e,t,0,263,294,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('data-optimal_w="'),i.b(i.v(i.f("optimal_w",e,t,0))),i.b('" ')}),e.pop()),i.b(" "),i.s(i.f("lumiere_enabled",e,t,1),e,t,1,0,0,"")||i.b('data-legacy="true"'),i.b(" ")}),e.pop()),s.fl()},partials:{},subs:{}}),Whiskers("partials.href_attributes",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('data-title="'),s.b(s.v(s.f("title",e,t,0))),s.b('"'),s.s(s.f("target",e,t,1),e,t,0,33,53,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' target="'),i.b(i.v(i.f("target",e,t,0))),i.b('"')}),e.pop()),s.s(s.f("age_gate",e,t,1),e,t,0,77,101,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' data-age="'),i.b(i.v(i.f("age_gate",e,t,0))),i.b('"')}),e.pop()),s.s(s.f("ping",e,t,1),e,t,0,123,151,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' data-ping="'),i.b(i.v(i.d("ping.static",e,t,0))),i.b('"')}),e.pop()),s.fl()},partials:{},subs:{}}),Whiskers("partials.icon_header",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.s(s.f("icon_type",e,t,1),e,t,0,14,96,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <div class="header_icon"> <div class="icon_'),i.b(i.v(i.f("icon_type",e,t,0))),i.b(' icon_img"></div> </div> ')}),e.pop()),s.fl()},partials:{},subs:{}}),Whiskers("partials.module_elements.module_header",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.s(s.f("is_ad",e,t,1),e,t,0,10,65,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b('<div class="ad-module-notice">'),i.b(i.v(i.d("translations.ad",e,t,0))),i.b("</div>")}),e.pop()),s.b(' <div class="module_header_container'),s.s(s.f("has_filters",e,t,1),e,t,0,127,139,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(" has-filters")}),e.pop()),s.b('"> '),s.s(s.f("title",e,t,1),e,t,0,168,473,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <div class="module_header'),i.s(i.f("icon_type",e,t,1),e,t,0,208,213,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" icon")}),e.pop()),i.s(i.f("desc",e,t,1),e,t,1,0,0,"")||i.b(" no-desc"),i.s(i.f("is_ad",e,t,1),e,t,0,263,273,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" ad-module")}),e.pop()),i.b('"> '),i.b(i.rp("<iconHeader0",e,t,"")),i.b(' <div class="title"> <h2>'),i.b(i.v(i.f("title",e,t,0))),i.b("</h2> "),i.s(i.f("seeAll",e,t,1),e,t,0,352,413,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<a class="all" href="'),i.b(i.v(i.f("seeAll",e,t,0))),i.b('">'),i.b(i.v(i.d("translations.see_all",e,t,0))),i.b("</a>")}),e.pop()),i.b(" </div> "),i.s(i.f("desc",e,t,1),e,t,0,441,456,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("<p>"),i.b(i.v(i.f("desc",e,t,0))),i.b("</p>")}),e.pop()),i.b(" </div> ")}),e.pop()),s.b(" "),s.s(s.f("has_filters",e,t,1),e,t,0,500,797,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <div class="filters"> <a href="" class="filter"> <span>'),i.b(i.v(i.d("translations.all",e,t,0))),i.b('</span> </a> <div class="filter_mobile"> <span>'),i.b(i.v(i.d("translations.all",e,t,0))),i.b('</span> <select class="mobile_filter_list"> <option value="0" data-filter="All" selected="selected">'),i.b(i.v(i.d("translations.all",e,t,0))),i.b("</option> </select> </div> </div> ")}),e.pop()),s.b(" </div> "),s.s(s.f("has_filters",e,t,1),e,t,0,837,905,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <div class="filter_drawer"> <div class="filter_list"></div> </div> ')}),e.pop()),s.fl()},partials:{"<iconHeader0":{name:"iconHeader",partials:{},subs:{}}},subs:{}}),function(e){"use strict";var t,i=e.console,s=e.Grill={},n=e.Spatula,a=e.jQuery,o=e._,r=e.Backbone,l=e.Whiskers,c=e.Disney,d=n.whenAll,u=r.Model,p=r.Collection,h=r.View,f=n.tryCall,v=function(t){var s=e.onerror;i&&i.error&&i.error(t.stack||t.toString()),s&&s(t.toString())},b=function(e,t){try{return f(e,t)}catch(i){v(i)}},m=function(e){return o.map(this.views,function(t){return b(t,e)})},g=a.support.css3("transition")?function(t){var i=a.Deferred(),s=a(e).selectTransitionEnd()+".grill";return a(".overlay",t).on(s,function(e){this===e.target&&(i.resolve(),t.off(s))}),i}:function(){return!0},y=s.Module=u.extend({initialize:function(){this.data=this.data(this.get("data")),this.on("change:data",function(e,t){e.data.reset(t)})},data:function(e){return new p(e)}}),_=s.Burger=p.extend({model:y,grillName:"burger",checkGrill:function(e){var t=s[this.grillName];return t?(delete s[this.grillName],this.reset(this.parse(t)),e&&e(this,t),!0):void 0},fetch:function(e){var t=e&&e.success;return this.checkGrill(t)?a.when():p.prototype.fetch.call(this,e)},parse:function(e){for(var t in e)t in _.prototype||(this[t]=e[t]);return this.trigger("parse",e),e.stack}}),k=h.extend({initialize:function(e){this.template=e.template,this.render(),this.model.on("change",this.render,this)},render:function(){var e=this.$el;this.setElement(a(this.template.render(this.model))),e.replaceWith(this.$el)}}),w=s.ListView=h.extend({tagName:"ul",initialize:function(e){var t=this,i=t.collection;t.template=e.template,t.reset(),i.on("add",function(e,i){var s=i.indexOf(e),n=t.spawn(e);t.views.splice(s,0,n),0===s?t.$el.prepend(n.el):t.views[s-1].$el.after(n.el)}),i.on("remove",function(e,i,s){t.views.splice(s.index,1)[0].remove()}),i.on("reset",t.reset,t)},reset:function(){var e=this;return e.views&&o.invoke(e.views,"remove"),e.views=e.collection.map(function(t){var i=e.spawn(t);return e.$el.append(i.el),i}),e},spawn:function(e){return new k({model:e,template:this.template})}}),x={},C=s.ModuleView=n.RichView.extend({assets:{},tagName:"section",className:"module",global_components:{images:{image_attributes:l.partials.image_attributes},links:{href_attributes:l.partials.href_attributes},entities:{item:l.entities.item,entity_container:l.entities.entity_container,image_attributes:l.partials.image_attributes,href_attributes:l.partials.href_attributes},module_header:{module_header:l.partials.module_elements.module_header,iconHeader:l.partials.icon_header}},ctx_additions:function(){var e={};if(this.required_template_sets){var t=o.pick(this.global_components,this.required_template_sets);o.each(t,function(t){o.extend(e,t)})}return o.extend(e,this.included_components,this.additional_components)},safeRender:function(){var e=this.template;e&&e.render&&this.$el.html(e.render(this.model.toJSON()))},applyStyleClasses:function(){c.Style.applyStyleClasses(this)},renderStyles:function(){return c.Style.getModuleStyles(this)},revealModuleImages:function(){this.$el.loadLazyImages(),this.model.get("styles_rendered")||(this.$el.siblings(".module_styles").append(this.renderStyles()),this.model.set("styles_rendered",!0))},storeModelThumb:function(e,t){t&&!e.get("hidden")&&e.set({preloaded:!0,preloaded_src:t})}},{register:function(e,t,i){return x[e]=this.extend(t,i)},create:function(e,t){var i=x[e]||this,s=new i(t),n=s.model&&s.model.get("ref"),a=s.style_classes;return s.$el.addClass(e).attr("data-module",e),n&&s.$el.attr("id","ref-"+n),a&&s.$el.addClass(a.join(" ")),s}}),T=w.prototype,A=s.BurgerView=w.extend({id:"burger",tagName:"article",className:"hidden",subview:C,throttleDelay:1e3,visibilityThreshold:200,initialize:function(e){T.initialize.call(this,e),a("<div/>",{"class":"overlay"}).appendTo(this.el),a("<style/>",{"class":"module_styles",type:"text/css"}).appendTo(this.el)},load:function(){var e=this;return this.collection.fetch().pipe(function(){return d(m.call(e,"load"))})},spawn:function(e){return C.create(e.get("view"),{model:e})},itemOptions:function(){return{}},title:function(){return this.collection.title},url:function(){return this.collection.url},render:function(){m.call(this,"render"),m.call(this,"applyStyleClasses")},ready:function(){d(m.call(this,"ready")),this.views.length&&this.initLazyLoading()},show:function(){return this.$el.hasClass("hidden")?(this.$el.removeClass("hidden"),d([g(this.$el)].concat(m.call(this,"show")))):!0},hide:function(){return this.$el.hasClass("hidden")?!0:(this.$el.addClass("hidden"),d([g(this.$el)].concat(m.call(this,"hide"))))},initLazyLoading:function(){this.catalogModulePositions(),this.checkModuleVisibility(),this.bindToScroll(),this.bindToResize()},catalogModulePositions:function(){var e=[];o.each(this.views,function(t){t.pos=parseInt(t.$el.offset().top,10),e.push(t)}),this.unloaded_modules=e},checkModuleVisibility:function(){var t=a(e).height(),i=a(e).scrollTop(),s=i+t+this.visibilityThreshold,n=[];o.each(this.unloaded_modules,function(e){e.pos<s?e.revealModuleImages():n.push(e)}),this.unloaded_modules=n,n.length<1&&this.unbindScroll()},onScroll:function(){this.checkModuleVisibility()},onResize:function(){var e=r.Resize.width();e!==this.currentWidth&&(this.catalogModulePositions(),this.boundToScroll||this.bindToScroll()),this.checkModuleVisibility()},bindToScroll:function(){a(e).on("scroll."+this.cid,o.throttle(o.bind(this.onScroll,this),this.throttleDelay)),this.boundToScroll=!0},unbindScroll:function(){a(e).off("scroll."+this.cid),this.boundToScroll=!1},bindToResize:function(){this.currentWidth=r.Resize.width(),a(e).on("resize."+this.cid,o.throttle(o.bind(this.onResize,this),this.throttleDelay))},remove:function(){m.call(this,"remove"),a(e).off("scroll."+this.cid),a(e).off("resize."+this.cid),T.remove.call(this)}});s.BunView=C.extend({className:"module bun skip-bottom-border skip-top-border",tagName:"div"}),t={model:_,view:A},s.config=function(e){o.extend(t,e)},s.order=function(e,i){var s=o.extend({},t,i),n=s.model,a=s.view,r=new n;r.url=e,s.container.transition(new a({collection:r}))}}(this),function(e){"use strict";new(e.Backbone.Router.extend({routes:{"*p":"a"},a:function(t){var i="/_grill/json/";t&&(i+=t),e.Grill.order(i)}}))}(this),function(e){"use strict";var t,i=[],s="unknown",n=e.Disney.age=function(e){i?i.push(e):e(s)},a=function(){if(i){for(var n=0;n<i.length;++n)i[n](s);e.clearTimeout(t),i=t=null}};n.known=function(e){s="string"==typeof e&&e||"unknown",a()},t=e.setTimeout(a,5e3)}(this),function(e){"use strict";var t=e.console,i=e.Disney,s=i.Ads=i.Ads||{},n=e._;s.MessageBus=function(){function s(e,t){for(var i=0;i<t.length;i++){var s=t[i];if(s)try{s.callback(e)}catch(n){d(n)}}}function a(e,t){var i={name:e,body:t},n=(r[e]||[]).slice(0);s(i,n),n=(r["*"]||[]).slice(0),s(i,n)}function o(e,t,i){n.each(c,function(s){if(s!==i)try{s.bus[s.functionName](e,t)}catch(n){}})}var r={},l=this,c={},d=function(i){var s=e.onerror;t&&t.error&&t.error("MessageBus:: "+i.stack||"MessageBus:: "+i.toString()),s&&s("MessageBus:: "+i.toString())};"undefined"==typeof i.Ads.MessageBus.Connections&&(i.Ads.MessageBus.Connections={}),this.addConnection=function(e,t,s){if(!s){var n=e+"_"+Math.round(1e6*Math.random()),r="Disney.Ads.MessageBus.Connections."+n,d=n+"_primarySendMessage",u=n+"_secondarySendMessage",p=function(e,t){a(e,t),o(e,t,f)},h={id:e,bus:l,"function":p,functionName:d,uniqueId:n,globalId:r};i.Ads.MessageBus.Connections[n]={},i.Ads.MessageBus.Connections[n][d]=p,l[d]=p;var f={id:e,bus:{sendMessage:t.sendMessage,addMessageListener:t.addMessageListener,removeMessageListener:t.removeMessageListener,addConnection:t.addConnection,removeConnection:t.removeConnection},functionName:u,uniqueId:n,globalId:r};s={primary:h,secondary:f},i.Ads.MessageBus.Connections[n].connection=s,c[e]=f;try{t.addConnection(e,l,s)}catch(v){}f.bus=t}},this.removeConnection=function(e){var t=c[e];if(t){var s=i.Ads.MessageBus.Connections[t.uniqueId].connection;l[s.primary.functionName]=null,i.Ads.MessageBus.Connections[t.uniqueId]=null,c[e]=null,t&&t.bus&&t.bus.removeConnection&&t.bus.removeConnection(e)}},this.sendMessage=function(e,t){a(e,t),o(e,t)},this.addMessageListener=function(e,t){var i={name:e,callback:t};r[e]||(r[e]=[]),r[e].push(i)},this.removeMessageListener=function(e,t){for(var i=r[e]||[],s=0;s<i.length;s++){var n=i[s];n&&n.name===e&&n.callback===t&&(i[s]=null)}},this.destroy=function(){n.each(c,function(e){l.removeConnection(e)}),c=null,n.each(r,function(e){l.removeMessageListener(e.name,e.callback)}),r=null,l=null}}}(this),function(e){"use strict";var t="http://pubads.g.doubleclick.net/gampad/ads?sz=768x432&iu=/7046/video&impl=s&gdfp_req=1&env=vp&output=xml_vast2&unviewed_position_start=1&url=[referrer_url]&correlator=[timestamp]&cmsid=604",i=e.Disney,s=i.Ads=i.Ads||{},n=e.jQuery,a=e._,o=a.extend,r=function(){},l=function(e){var t=this,i=function(){t.apply(this,arguments)};return r.prototype=this.prototype,i.prototype=new r,o(i.prototype,e),i.sub=this.sub,i},c=s.AbstractAdPlayer=function(e,i){this.config={adTagUrl:t+s.isMobile?"&m_ast=vast":""},e||this.init(e,i)};c.sub=l,c.prototype={id:null,config:null,messageBus:null,init:function(e,t){this.id=e,n.extend(this.config,t)},destroy:function(){this.messageBus&&(this.messageBus.destroy(),this.messageBus=null)}}}(this),function(e){"use strict";function t(){vt.ajax(ut,{dataType:"script",cache:!0,success:i,error:s})}function i(){X=e.google.ima,n()}function s(){ct.messageBus.sendMessage("adOpportunityEnd")}function n(){a(),o(),nt.requestAds(G())}function a(){var e=vt("#"+ct.id);e.html('<div class="adPlayer"><div class="overlay adControls" style="display:none;"><div class="adCountdown"><h3>'+ct.config.translations.advertisement+'</h3></div></div><div class="overlay playControls" style="display:none; z-index:1;"><div class="playButton"></div></div><div class="overlay adClickTarget" style="display:none; z-index:2;"/><video class="playerElement" autoplay="true" width="100%" oncontextmenu="return false;" oncontextmenu="return false;"></video><div class="adsContainer" style="display:none;"></div></div>')}function o(){r(),c(),u(),v(),m(),h(),K()}function r(){it=vt("#"+ct.id+" .adControls")[0]}function l(){it=null}function c(){rt=vt("#"+ct.id+" .playControls"),rt.bind("click",y)}function d(){rt&&(rt.unbind("click",y),rt=null)}function u(){et=vt("#"+ct.id+" .adClickTarget")[0]}function p(){et&&(et=null)}function h(){nt=new X.AdsLoader(st),nt.addEventListener(X.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,H,!1),nt.addEventListener(X.AdErrorEvent.Type.AD_ERROR,U,!1)}function f(){nt&&(nt.removeEventListener(X.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,H,!1),nt.removeEventListener(X.AdErrorEvent.Type.AD_ERROR,U,!1),nt=null)}function v(){dt=vt("#"+ct.id+" .playerElement")[0],dt&&dt instanceof gt&&(vt(dt).on("ended",w),vt(dt).on("timeupdate",_),dt.addEventListener("loadeddata",k,!0),dt.addEventListener("play",C,!1),dt.addEventListener("pause",T,!1),dt.addEventListener("stalled",x,!0))}function b(){dt&&dt instanceof gt&&(vt(dt).off("ended",w),vt(dt).off("timeupdate",_),dt.removeEventListener("loadeddata",k,!0),dt.removeEventListener("play",C,!1),dt.removeEventListener("pause",T,!1),dt.removeEventListener("stalled",x,!0),dt.hasOwnProperty("pause")&&dt.pause(),dt=null)}function m(){var e=vt("#"+ct.id+" .adsContainer")[0];st=new X.AdDisplayContainer(e,dt,et)}function g(){st=null}function y(){return tt?void(tt=!1):(E(),M(),void dt.play())}function _(){dt.duration>pt&&"none"===it.style.display?L():dt.duration<=pt&&"inline"===it.style.display&&D();var e=Math.round(dt.duration-dt.currentTime);e=isNaN(e)?0:e,vt("#"+ct.id+" .adCountdown h3").html(ct.config.translations.advertisement+": "+e)}function k(){dt.play()}function w(){if(mt.ios)try{dt.webkitExitFullScreen()}catch(e){}else bt.exitFullscreen?bt.exitFullscreen():bt.mozCancelFullScreen?bt.mozCancelFullScreen():bt.webkitExitFullScreen&&bt.webkitExitFullScreen()}function x(){dt.play()}function C(){ct.messageBus.sendMessage("played")}function T(){!mt.kindle&&Z&&(dt.play(),S(),P()),Z=!1,ct.messageBus.sendMessage("paused")}function A(){f(),W(),l(),d(),p(),b(),g(),Y()}function E(){et.style.display="inline"}function S(){et.style.display="none"}function P(){rt[0].style.display="inline"}function M(){rt[0].style.display="none"}function L(){it.style.display="inline"}function D(){it.style.display="none"}function I(){dt.hasAttribute("controls")&&dt.removeAttribute("controls")}function $(){E(),I(),dt.pause()}function V(){ot&&ct.messageBus.sendMessage("adEnd"),ct.messageBus.sendMessage("adOpportunityEnd"),S(),M(),D()}function O(){tt=!0,Z=!0,yt(z,0)}function N(){dt&&dt.duration>ht&&(ot=!0,ct.messageBus.sendMessage("adStart"))}function z(){tt=!1}function R(){$()}function j(){yt(V,0)}function B(){}function F(e){try{at=e.getAdsManager(dt)}catch(t){}at&&(at.addEventListener(X.AdEvent.Type.CLICK,B),at.addEventListener(X.AdEvent.Type.LOADED,B),at.addEventListener(X.AdEvent.Type.CONTENT_PAUSE_REQUESTED,B),at.addEventListener(X.AdEvent.Type.CONTENT_RESUME_REQUESTED,B),at.addEventListener(X.AdErrorEvent.Type.AD_ERROR,B),at.addEventListener(X.AdEvent.Type.STARTED,B),at.addEventListener(X.AdEvent.Type.FIRST_QUARTILE,B),at.addEventListener(X.AdEvent.Type.MIDPOINT,B),at.addEventListener(X.AdEvent.Type.THIRD_QUARTILE,B),at.addEventListener(X.AdEvent.Type.COMPLETE,B),at.addEventListener(X.AdEvent.Type.ALL_ADS_COMPLETED,B),at.addEventListener(X.AdErrorEvent.Type.AD_ERROR,B),at.addEventListener(X.AdEvent.Type.STARTED,N),at.addEventListener(X.AdEvent.Type.CLICK,O),at.addEventListener(X.AdEvent.Type.CONTENT_PAUSE_REQUESTED,R),at.addEventListener(X.AdEvent.Type.CONTENT_RESUME_REQUESTED,j))}function W(){if(at){at.removeEventListener(X.AdEvent.Type.CLICK,B),at.removeEventListener(X.AdEvent.Type.LOADED,B),at.removeEventListener(X.AdEvent.Type.CONTENT_PAUSE_REQUESTED,B),at.removeEventListener(X.AdEvent.Type.CONTENT_RESUME_REQUESTED,B),at.removeEventListener(X.AdErrorEvent.Type.AD_ERROR,B),at.removeEventListener(X.AdEvent.Type.STARTED,B),at.removeEventListener(X.AdEvent.Type.FIRST_QUARTILE,B),at.removeEventListener(X.AdEvent.Type.MIDPOINT,B),at.removeEventListener(X.AdEvent.Type.THIRD_QUARTILE,B),at.removeEventListener(X.AdEvent.Type.COMPLETE,B),at.removeEventListener(X.AdEvent.Type.ALL_ADS_COMPLETED,B),at.removeEventListener(X.AdErrorEvent.Type.AD_ERROR,B),at.removeEventListener(X.AdEvent.Type.STARTED,N),at.removeEventListener(X.AdEvent.Type.CLICK,O),at.removeEventListener(X.AdEvent.Type.CONTENT_PAUSE_REQUESTED,R),at.removeEventListener(X.AdEvent.Type.CONTENT_RESUME_REQUESTED,j);try{at.destroy()}catch(e){}at=null}}function H(e){if(F(e),at)try{at.init(vt(dt).width(),vt(dt).height(),X.ViewMode.NORMAL),at.start()}catch(t){}}function U(){V()}function G(){var e=new X.AdsRequest;return e.adTagUrl=ct.config.adTagUrl,e.adType="video",e.linearAdSlotWidth=vt(dt).width(),e.linearAdSlotHeight=vt(dt).height(),e.nonLinearAdSlotWidth=vt(dt).width(),e.nonLinearAdSlotHeight=vt(dt).height(),e}function q(){dt&&dt.play()}function Q(){dt&&!dt.paused&&(lt=!0,dt.pause())}function J(){dt&&lt&&(dt.play(),lt=!1)}function K(){ct.messageBus.addMessageListener("play",q),ct.messageBus.addMessageListener("pause",Q),ct.messageBus.addMessageListener("resume",J)}function Y(){ct&&ct.messageBus&&(ct.messageBus.removeMessageListener("play",q),ct.messageBus.removeMessageListener("pause",Q),ct.messageBus.removeMessageListener("resume",J))}var X,Z,et,tt,it,st,nt,at,ot,rt,lt,ct,dt,ut="http://s0.2mdn.net/instream/html5/ima3.js",pt=6,ht=2,ft=e.Disney,vt=e.jQuery,bt=e.document,mt=e.Modernizr,gt=e.HTMLVideoElement,yt=e.setTimeout,_t=ft.Ads=ft.Ads||{},kt=_t.AbstractAdPlayer;_t.HTMLAdPlayer=kt.sub({init:function(e,i){e&&(ct=this,kt.prototype.init.call(this,e,i),ct.messageBus.sendMessage("adOpportunityStart"),t())},destroy:function(){A(),W(),f();var e=vt("#"+ct.id);e.empty(),ct=null,kt.prototype.destroy.call(this)}})}(this),function(e){"use strict";function t(){var e="#"+n.id;h[a].ready=i,d(e,{src:"//a.dilcdn.com/a/adplayer-accd29d138a3.swf",version:o,onFail:s,bgcolor:"#000000",width:"100%",height:"100%",wmode:"opaque",menu:"false",id:n.id+"_playerElement"},{adTagUrl:n.config.adTagUrl,advertisement:n.config.translations.advertisement,skipAds:n.config.translations.skipAds,messageBusReady:"Disney.Ads.Players."+a+".ready"})}function i(){n.messageBus.addConnection(a,c.getElementById(n.id+"_playerElement"))}function s(){n.messageBus.sendMessage("adOpportunityEnd")}var n,a,o=[10,3],r=e.Disney,l=e.jQuery,c=e.document,d=e.flashembed,u=r.Ads=r.Ads||{},p=u.AbstractAdPlayer,h=u.Players=u.Players||{};u.FlashAdPlayer=p.sub({init:function(e,i){e&&(n=this,p.prototype.init.call(this,e,i),a="axxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,i="x"===e?t:3&t|8;return i.toString(16)}),h[a]={},n.messageBus.sendMessage("adOpportunityStart"),t())},destroy:function(){h[a]=null;var e=l("#"+n.id);e.empty(),n=null,p.prototype.destroy.call(this)}})}(this),function(e){"use strict";var t=e.Disney,i=e.Modernizr,s=t.Ads=t.Ads||{},n=s.FlashAdPlayer,a=s.HTMLAdPlayer,o=e.location.href.indexOf("html5=true")>-1;t.Ads.AdPlayer=function(e,s){var r;return r=!i.flash||o?new a:new n,r.messageBus=new t.Ads.MessageBus,r.init(e,s),r}}(this),function(e){"use strict";function t(e){return l.Deferred(function(t){n.age(function(i){"unknown"!==i&&e.setTargeting("age",i),t.resolve()})}).promise()}function i(){return e.ActiveXObject&&"undefined"!=typeof u.documentElement.style.opacity}var s,n=e.Disney,a=n.Ads=n.Ads||{},o=e.Modernizr,r=e.Backbone,l=e.jQuery,c=e._,d=e.location.host,u=e.document,p=c.each,h=c.extend,f=e.location.href.indexOf("gameVideoAd=true")>-1,v=function(t){e.googletag.cmd.push(function(){t(e.googletag)})},b=function(){return d.match(/\.diznee.net/)&&(d=d.split(".").slice(0,-3).join(".")),d.replace("www.","")},m=function(){var e=/^(?:[a-z0-9-]+\.)*?([a-z0-9-]+(?:\.com?)?(?:\.[a-z]{2})?)$/;return b().match(e)[1]},g=function(){},y=function(e){var t=this,i=function(){t.apply(this,arguments)};return g.prototype=this.prototype,i.prototype=new g,h(i.prototype,e),i.sub=this.sub,i},_=function(e,t,i,s){var n=this;this.id||(this.id=c.uniqueId("gpt-")),c.isArray(i[0])||(i=[i]),n._w=i[0][0],n._h=i[0][1],n.name||(n.name=e),n._d=i,v(function(e){n.define(e,t,s)})};_.sub=y,_.prototype={define:function(e,t,i){var s=this._s=e.defineSlot(t,this._d,this.id);p(i,function(e,t){s.setTargeting(t,e)}),s.addService(e.pubads())},tag:function(){return'<aside class="gpt '+this.name+'" id="'+this.id+'" style="'+this.style()+'"></aside>'},style:function(){return"width:"+this._w+"px;height:"+this._h+"px"},ready:function(){var e=this;e._$=l("#"+this.id),v(function(i){s(),t(e._s).then(function(){i.display(e.id)})})},restore:function(){this._$&&!this._$.closest("html").length&&l("#"+this.id).remove()},remove:function(){this._$&&this._$.appendTo("body").empty().remove()},refresh:function(){var e=this._s;e&&v(function(t){t.pubads().refresh([e])})},sizes:function(){return c.map(this._d,function(e){return e[0]+"x"+e[1]})}};var k,w,x,C=_.sub({ready:function(){_.prototype.ready.call(this);var t=this._$,i=function(){l.contains(u.body,t[0])?t.children().length?("inline-block"===t.css("display")&&t.css("width",""),t.css("height","")):e.setTimeout(i,100):t=null};i()}}),T="gpt-companion",A="companion",E=_.sub({id:T,name:A,define:function(){},ready:function(){var e=this;v(function(){s(),e._s=k}),_.prototype.ready.call(this)}}),S=_.sub({name:A}),P=E.sub({ready:function(){var e=this;v(function(){s(),e._s=k}),this._$=l("#"+this.id)},refresh:function(){}}),M=_.sub({name:A,refresh:function(){},showVideoCompanion:function(){this._$.addClass("hide"),this._$.after(O.tag("gameVideoCompanion")),V.gameVideoCompanion.ready()},hideVideoCompanion:function(){this._$.removeClass("hide"),V.gameVideoCompanion&&V.gameVideoCompanion.remove()}}),L=_.sub({adPlayed:!1,tag:function(){return'<aside class="gpt" id="'+this.id+'-container" style="margin:0px auto;'+this.style()+'"><div class="'+this.name+'" id="'+this.id+'" style="'+this.style()+'"></div><div class="'+this.name+'" id="'+this.id+'-video" style="'+this.style()+';display:none"></div></aside>'},ready:function(){var i=this;i._$=l("#"+this.id+"-container"),v(function(n){s(),t(i._s).then(function(){n.display(i.id),f&&e.setTimeout(function(){e.disableAutoUnload(),i.videoMode()},0)})})},remove:function(){!this.adPlayed&&V&&V.gameCompanion&&V.gameCompanion.hideVideoCompanion(),n.Ads.setPlayer(null),this.adPlayer&&(this.adPlayer.messageBus&&this.adPlayer.messageBus.removeMessageListener("adStart",this.onAdStart),this.adPlayer.destroy(),this.adPlayer=null),_.prototype.remove.call(this)},getId:function(){return this.id},videoMode:function(){l("#"+this.id).hide(),l("#"+this.id+"-video").show(),V&&V.gameCompanion&&V.gameCompanion.showVideoCompanion();var e={adTagUrl:O.getVideoAdTagUrl(),translations:O.translations};this.onAdStart=c.bind(function(){this.adPlayed=!0},this),this.adPlayer=new n.Ads.AdPlayer(this.id+"-video",e),this.adPlayer.messageBus.addMessageListener("adStart",this.onAdStart),n.Ads.setPlayer(this.adPlayer)}}),D=[300,60];o.mobile?(x="gpt_mobile.js",w={sponsor:[_,[270,80]],banner:[_,[320,50]],rectAll:[_,[320,50]],mobile:[_,[320,50]],modalInterstitial:[_,[300,254]]},r.Resize.width()>=728&&(w.videoCompanion=[E,D],w.pushdown=[_,[728,90]],w.rectAll=[_,[300,250]])):(x="gpt.js",w={videoCompanion:[E,D],gameCompanion:[M,D],gameVideoCompanion:[P,D],activitykitCompanion:[S,D],gameLoader:[L,[750,500]],sponsor:[_,[270,80]],pushdown:[C,[[970,90],[970,66],[728,90],[970,250]]],rectangle:[_,[300,250]],rectAll:[_,[300,250]],banner:[_,[320,50]],modalInterstitial:[_,[300,254]]});var I,$,V,O,N=a.DoubleClickAdContext=function(e){this.adData=e,this.slots=V={},this.adCounts={},this.translations={advertisement:"Advertisement",skip_ad:"Skip Ad"},this.unit=I=o.mobile&&this.adData.config.mobile||this.adData.config.web,this._t=$=this.adData.config.targeting,O=this,O.adSystem="dfp",O.companion="gpt-companion:300:60",O.ageReady=l.Deferred(function(e){n.age(e.resolve)}).promise(),O.status=function(){return O.ageReady},O.useAdPattern=function(){return!0},O.iterateRegistryName=function(e){var t=this.adCounts[e]||0,i=e;return t>0&&(i=e+"-"+t),this.adCounts[e]=t+1,i}};N.prototype={noAds:function(){return!this.unit},tag:function(e,t){var i,s=w[e];return s?(i=s[0],s=new i(e,this.unit,s[1],h({},this._t,t)),this.slots[this.iterateRegistryName(e)]=s,s.tag()):""},showCDSAds:function(){return!1},cds:function(){return!!this.adData.cds},refresh:function(){var t=this;v(function(i){n.age(function(){e.setTimeout(function(){i.pubads().refresh(c.pluck(t.slots,"_s"))},0)})})},ready:function(){p(this.slots,function(e){e.ready()}),this.refresh()},helpers:function(e){var t=this,i={};return p(w,function(s,n){i[n+"Ad"]=function(){return t.tag(n,h({},e,this.adTargeting))}}),i},setTranslation:function(e,t){this.translations[e]=t},setTargeting:function(e,t){this._t[e]=t},sizes:function(){return c.union.apply(c,c.invoke(this.slots,"sizes"))},getVideoAdTagUrl:function(e){var t=encodeURIComponent(n.Ads.getAdUnit()),i=encodeURIComponent(n.Ads.getCompanionSizesString()),s=encodeURIComponent(n.Ads.getTargetingString()),a=encodeURIComponent(n.Ads.getAdRule()),r=encodeURIComponent(n.Ads.getDescriptionUrl()),l="http://pubads.g.doubleclick.net/gampad/ads?sz=768x432&adRule="+a+"&iu="+t+"&ciu_szs="+i+"&impl=s&gdfp_req=1&env=vp&output=xml_vast2&unviewed_position_start=1&url=[referrer_url]&correlator=[timestamp]&cmsid=604&cust_params="+s+"&description_url="+r;return e&&e.length>0&&(l+="&vid="+e),o.mobile&&(l+="&m_ast=vast"),l}},p(["restore","remove"],function(e){N.prototype[e]=function(){p(this.slots,function(t){t[e]()})}});var z=function(){return e.location.hostname};e.googletag={cmd:[]},s=c.once(function(){var t=e.googletag,i=t.pubads();i.setTargeting("hostname",z()),k=t.defineSlot(I,D,T),k.addService(t.companionAds()).addService(i),t.companionAds().setRefreshUnfilledSlots(!0),i.enableAsyncRendering(),i.collapseEmptyDivs(),i.disableInitialLoad(),t.enableServices()}),l(function(){var e={dataType:"script",cache:!0};l.ajax("//www.googletagservices.com/tag/js/"+x,e)}),e.sendJSEvent=function(e){try{"pauseVideo"===e?n.Ads.getPlayer().messageBus.sendMessage("pause"):"playVideo"===e&&n.Ads.getPlayer().messageBus.sendMessage("resume")}catch(t){}};var R,j=function(e){if(u.createEvent){var t=u.createEvent("Event");t.initEvent(e,!0,!0),u.dispatchEvent(t)}},B=function(){u.attachEvent&&!i()?u.documentElement.fakePlayEvent++:j("DisneyMediaPlayerPlay")},F=function(){u.attachEvent&&!i()?u.documentElement.fakePauseEvent++:j("DisneyMediaPlayerStop")};l("document").ready(function(){u.attachEvent&&!i()&&(u.documentElement.fakePlayEvent=0,u.documentElement.fakePauseEvent=0)}),c.extend(a,{isMobile:o.mobile,setPlayer:function(e){R&&R.messageBus&&(R.messageBus.removeMessageListener("played",B),R.messageBus.removeMessageListener("paused",F)),R=e,R&&R.messageBus&&(R.messageBus.addMessageListener("played",B),R.messageBus.addMessageListener("paused",F))},getPlayer:function(){return R},getAdUnit:function(){return I},getTargeting:function(){return $},getTargetingString:function(){var e="";return $&&!$.hostname&&($.hostname=z()),c.each($,function(t,i){i&&t&&(e+=i+"="+t+"&")}),e.slice(0,e.length-1)},getCompanionSizes:function(){return[D]},getCompanionSizesString:function(){var e=n.Ads.getCompanionSizes(),t="";return c.each(e,function(e){e&&(t+=e[0]+"x"+e[1]+",")}),t.slice(0,t.length-1)},getAdRule:function(){var e=n.Ads.getAdContext(),t=e.adData||{},i=0===t.dfpAdRule?0:1;return i},getDescriptionUrl:function(){return"http://"+m()}})}(this),function(e){"use strict";function t(e,t,i){var s=e.sizes(),n='<aside class="gpt '+e.name+'" id="'+e.id+'" style="'+e.style()+'"><span id="comp_'+s+'" class="_fwph">';return n+='<form id="_fw_form_comp_'+s+'" style="display:none" >',n+='<input type="hidden" name="_fw_input_comp_'+s+'" id="_fw_input_comp_'+s+'" value="'+t+'" /></form>',n+='<span id="_fw_container_comp_'+s+i+"></span></span></aside>"}var i=e.Disney,s=i.Ads=i.Ads||{},n=e.Modernizr,a=e.jQuery,o=e._,r=function(){return{}},l=o.each,c=o.pluck,d=o.extend,u=function(){},p=function(e){var t=this,i=function(){t.apply(this,arguments)};return u.prototype=this.prototype,i.prototype=new u,d(i.prototype,e),i.sub=this.sub,i},h=function(e,t,i){var s=this;this.id||(this.id=o.uniqueId("vevo-")),o.isArray(i[0])||(i=[i]),s._w=o.max(c(i,0)),s._h=o.max(c(i,1)),s.name||(s.name=e),s._d=i};h.sub=p,h.prototype={define:function(){},tag:function(){return t(this,"ptgt=p&envp=g_iframe_js&slau="+this.sizes()+"_Companion1&slid=comp_"+this.sizes()+"&cd="+this._w+","+this._h+"&flag=+fcai+niic",'"')},style:function(){return"width:"+this._w+"px;height:"+this._h+"px"},ready:function(){var e=this;e._$=a("#"+this.id)},restore:function(){this._$&&!this._$.closest("html").length&&a("#"+this.id).remove()},remove:function(){this._$&&this._$.appendTo("body").empty().remove()},refresh:function(){var e=this._s},sizes:function(){return o.map(this._d,function(e){return e[0]+"x"+e[1]})}};var f,v=h.sub({ready:function(){h.prototype.ready.call(this)},tag:function(){return t(this,"ptgt=p&envp=g_iframe_js&slid=comp_"+this.sizes()+"&w="+this._w+"&h="+this._h+"&flag=-cmpn",'" class="_fwac"')}}),b="vevo-companion",m="companion",g=h.sub({id:b,name:m,define:function(){},ready:function(){h.prototype.ready.call(this)},tag:function(){return t(this,"ptgt=p&envp=g_iframe_js&slau="+this.sizes()+"_Companion1&slid=comp_"+this.sizes()+"&cd="+this._w+","+this._h+"&flag=+fcai+niic",'"')}}),y=[300,60];f=n.mobile||!n.flash||e.location.href.indexOf("html5=true")>-1?{}:{videoCompanion:[g,y],pushdown:[v,[[728,90]]],rectangle:[h,[300,250]]};var _,k,w,x=s.VevoAdContext=function(e,t){function s(){return a.Deferred(function(e){i.age(function(t){k.siteSection="adult"===t||"teen"===t||"unknown"===t?w.config.ads:w.config.coppa,e.resolve()})}).promise()}this.slots=_={},k=this,w=e,k.adSystem="vevo",k.siteSection=w.config.coppa,k.ageReady=a.Deferred(function(e){i.age(e.resolve)}).promise(),k.status=function(){return k.ageReady},k.cds()===!0||w.disableAds===!0?k.siteSection=w.config.noads:s(),t.on("login",s),t.on("logout",s)};x.prototype={tag:function(e){if(this.cds())return"";
var t,i=this.slots[e],s=f[e];return i?i.tag():s?(t=s[0],s=new t(e,"",s[1],d({},this._t,"")),this.slots[e]=s,s.tag()):""},cds:function(){return!!w.cds},noAds:function(){return!1},showCDSAds:function(){return!0},useAdPattern:function(){return!0},removeSlot:function(e){_[e].remove()},helpers:function(e){var t=this,i={};return l(f,function(s,n){i[n+"Ad"]=function(){return t.tag(n,d({},e,this.adTargeting))}}),i},sizes:function(){return o.union.apply(o,o.invoke(this.slots,"sizes"))},setTargeting:r,setTranslation:r},l(["ready","restore","remove","refresh"],function(e){x.prototype[e]=function(){l(this.slots,function(t){t[e]()})}})}(this),function(e){"use strict";var t=e.Disney,i=t.Ads=t.Ads||{},s=e.XDomainRequest,n=e.jQuery,a=e._,o=a.extend,r=e.location.href.indexOf("gameVideoAd=true")>-1,l=!0,c=function(e,t){if(s){var i=new s;i&&(i.onload=function(){t(i.responseText)},i.open("get",e),i.send())}else n.get(e,t)},d=function(t){e.googletag.cmd.push(function(){t(e.googletag)})},u=function(){var t=e.location.hostname;return t.match(/\.diznee.net/)&&(t=t.split(".").slice(0,-3).join(".")),t.replace("www.","")},p=function(){var e=a.map(t.locales,function(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}).join("|"),i=new RegExp("^(?:[a-z0-9-]+.)*?((?:(?:"+e+").)?[a-z0-9-]+(?:.com?)?(?:.[a-z]{2})?)$","i");return u().match(i)[1]},h=function(){return u()===p()},f=function(){return u().replace("."+p(),"")},v=function(){return e.location.pathname.split("/")},b=function(){var e=v();return h()?""===e[1]?"homepage":e[1]:f()},m=function(e){return a.find(e,function(e){return["watch","watch_2","sidekick_video","trailer"].indexOf(e.get("view"))>-1})},g=function(e){var t=m(e),i=t?t.get("data"):[],s=i.length>0?i[0]:{},n=s.externals||[],a=n.length>0?n[0]:{};return"kaltura"===a.source?a.data&&"IBMS"===a.data.Origin?"26725361":"27176231":"matterhorn-player"},y=function(e,t){return(a.find(t,function(t){return t.kaltura_act_id===e})||{cms_id:604}).cms_id},_=function(e){var t=m(e),i=t?t.get("data"):null;return i&&i[0]?i[0].adId:"unknown"},k=function(e){var t=m(e),i=t?t.get("data"):[],s=i.length>0?i[0]:{},n=s.externals||[],a=n.length>0?n[0]:{};return a.account?a.account:null},w=function(e){var t=v();return t[h()?e:e+1]},x=function(){return w(0)},C=function(){return w(1)},T=function(){return w(2)},A={cmsid:604,disneycms:"MH"},E={manual:!0,position:["oop","overlay","top-mpu","top-head","inline-head","lower-head","rich-head","logo","video-mpu","lower-head","lower-mpu","games-video"].join(",")},S={sdk:1,vid:"vid",output:"xml_vast2"},P="http://analytics.disneyinternational.com/ads/tagsv2/",M=function(e){var t=P+"video/";return[t,n.param(a.defaults(e||{},A,S))].join("?")},L=function(e){var t=P+"json/";return[t,n.param(a.defaults(e||{},A,E))].join("?")},D=function(e){var t=e.advertisement_placement_id,i=e.advertisement_type;if("leaderboard"===i)switch(t){case"top":return"top-head";case"mid1":return"inline-head";case"rich":return"rich-head";default:return"lower-head"}else{if("mpu"!==i)return"inline-head";switch(t){case"top":return"top-mpu";case"lower":return"lower-mpu";case"video":return"video-mpu";default:return"lower-mpu"}}},I=function(){},$=function(e){var t=this,i=function(){t.apply(this,arguments)};return I.prototype=this.prototype,i.prototype=new I,o(i.prototype,e),i.sub=this.sub,i},V=function(e,t){this.id=e,this.element_id=a.uniqueId("am-"),this.type=t};V.sub=$,V.prototype={tag:function(){return'<div class="admaster '+this.id+'-container"><div class="'+this.id+' aside" id="'+this.element_id+'"></div></div>'},ready:function(){this._$=n("#"+this.element_id)},define:function(e){var t=this;d(function(i){var s,a=e.mappingSizes[t.id]||{},o=a.slotSizes||null,r=a.defaults||[],l=a.targeting||{},c=e.viewports||{},d=e.adUnitPath||"",u=["pubads"];if(a.service&&u.push(a.service),s="oop"===t.id?i.defineOutOfPageSlot(d,t.element_id):i.defineSlot(d,r,t.element_id)){var p,h,f,v,b=i.sizeMapping();if(o){for(v in c)null!==(p=c[v])&&(b=b.addSize(p,o[v]));s.defineSizeMapping(b.build())}for(v in l)null!==(h=l[v])&&s.setTargeting(v,[h]);for(v in u)null!==(f=u[v])&&n.isFunction(i[f])&&s.addService(i[f]());t.gptslot=s}})},display:function(){var e=this;d(function(t){t.display(e.element_id)})},restore:function(){this._$.length&&!this._$.closest("html").length&&this._$.remove()},remove:function(){this._$.appendTo("body").empty().remove()},refresh:function(){var e=this;d(function(t){t.pubads().refresh([e.gptslot])})}};var O,N,z=V.sub({ready:function(){var e=this;e._$=n("#"+e.element_id),d(function(t){n.getJSON(L(a.extend({},e.context.baseParams,{position:e.id}))+"&callback=?",function(i){var s,n,a=i.targetings||{},o=t.pubads();e.define(i);for(s in a)null!==(n=a[s])&&o.setTargeting(s,n);e.display(),t.pubads().refresh([e.gptslot])})})}}),R=V.sub({adPlayed:!1,tag:function(){return'<aside class="admaster" id="'+this.element_id+'-container" style="margin:0px auto;'+this.style()+'"><div class="'+this.id+'" id="'+this.element_id+'" style="'+this.style()+'"></div><div class="'+this.id+'" id="'+this.element_id+'-video" style="'+this.style()+';display:none"></div></aside>'},style:function(){return"width:750px;height:500px"},ready:function(){var t=this;t._$=n("#"+this.element_id+"-container"),d(function(){r&&e.setTimeout(function(){e.disableAutoUnload(),t.videoMode()},0)})},remove:function(){t.Ads.setPlayer(null),this.adPlayer&&(this.adPlayer.messageBus&&this.adPlayer.messageBus.removeMessageListener("adStart",this.onAdStart),this.adPlayer.destroy(),this.adPlayer=null),V.prototype.remove.call(this)},getId:function(){return this.element_id},videoMode:function(){n("#"+this.element_id).hide(),n("#"+this.element_id+"-video").show();var e={adTagUrl:""!==O.adTagPreUrl?O.adTagPreUrl:O.adTagUrl,translations:O.translations};this.onAdStart=a.bind(function(){this.adPlayed=!0},this),this.adPlayer=new t.Ads.AdPlayer(this.element_id+"-video",e),this.adPlayer.messageBus.addMessageListener("adStart",this.onAdStart),t.Ads.setPlayer(this.adPlayer)}}),j=n("body"),B=i.AdMasterAdContext=function(){var e=this;e.slots=N={},e.translations={advertisement:"Advertisement",skip_ad:"Skip Ad"},e.adSystem="admaster",e.companion="div-video-mpu:300:250",e.adTagUrl="",e.adTagPreUrl="",e.adTagPostUrl="",e.adTagReady=n.Deferred(),e.status=function(){return e.adTagReady},O=this,d(function(e){var t=e.pubads(),i=e.companionAds();t.collapseEmptyDivs(!0),t.enableVideoAds(!0),t.enableSingleRequest(),i.setRefreshUnfilledSlots(!0),t.disableInitialLoad(),t.enableAsyncRendering(),e.enableServices()})};B.prototype={tag:function(e,t){var i;return"games-video"===e?(e="games-video",t="gameLoader",i=new R(e,t)):"modalInterstitial"===e?(e="top-mpu",t="modalInterstitial",i=new z(e,t)):(t=t||e,i=new V(e,t)),i.context=this,this.slots[t]=i,i.tag()},ready:function(t){var i=t?t.collection:{},s=i.cto||{},o=i.adData||{},r=o.adTargeting||{},u=o.cmsIdKalturaMap||[{}],h=0===o.dfpAdRule?0:1,f=this,v={actor:r.actor,bucode:s.buCode,buid:s.buId,character:r.character,characterId:r.characterId,country:s.country,disneycms:s.cmsId,pagename:r.pageName,property:s.property,propertyId:s.propertyId,product:r.product,contenttype:s.contentType,contentid:r.contentId,hub:p(),gamegenre:r.gameGenre,gamename:r.gameTitle,gametype:r.gameType,keywords:r.keywords,moviegenre:r.movieGenre,movierating:r.movieRating,movietitle:r.movieTitle,site:b(),section:x(),slug1:C(),slug2:T(),sitesection:b()},m=a.extend({},v,{vid:_(i.models),sdk:h,cmsid:y(k(i.models),u),player:g(i.models),url:e.location.href,description_url:"http://"+p()});if(f.view=t,f.dfpAdRule=h,f.baseParams=v,"burger"===n(f.view.el).attr("id")&&(j.append(f.tag("oop")),j.append(f.tag("overlay"))),0===h){var w=[];w.push(c(M(a.extend({},m,{vpos:"preroll"})),function(e){f.adTagPreUrl=e})),w.push(c(M(a.extend({},m,{vpos:"postroll"})),function(e){f.adTagPostUrl=e}));var A=n.when(w);A.done(function(){f.adTagReady.resolve()})}else c(M(a.extend({},m)),function(e){f.adTagUrl=e,f.adTagReady.resolve()});d(function(t){n.getJSON(L(a.extend({},v,{position:a.map(f.slots,function(e){return e.id}).join(",")}))+"&callback=?",function(i){var s,o,r=i.targetings||{},c=t.pubads();a.each(f.slots,function(e){e.ready(),e.define(i)});for(s in r)null!==(o=r[s])&&c.setTargeting(s,o);a.each(f.slots,function(e){e.display()});var d=a.map(f.slots,function(e){return e.gptslot});l?n(e.window).load(function(){l=!1,t.pubads().refresh(d)}):t.pubads().refresh(d)})})},cds:function(){return!1},noAds:function(){return!1},useAdPattern:function(){return!1},setTranslation:function(e,t){this.translations[e]=t},helpers:function(e){var t=this,i=e;return{pushdownAd:function(){return t.tag("top-head","pushdown")},rectangleAd:function(){return t.tag("top-mpu","rectangle")},rectAllAd:function(){return t.tag("top-mpu","rectAll")},companionAd:function(){return i&&"watch"===i.view||i&&"play"===i.view?t.tag("video-mpu","companionAd"):t.tag("top-mpu","companionAd")},gameLoaderAd:function(){return t.tag("games-video","gameLoader")},bannerAd:function(){return i&&"ad_banner"===i.view?t.tag(D(i),"bannerAd-"+D(i)):t.tag("inline-head","bannerAd")}}},remove:function(){a.each(this.slots,function(e){e.remove()})}},a.each(["restore"],function(e){B.prototype[e]=function(){a.each(this.slots,function(t){t[e]()})}})}(this),function(e){"use strict";var t=e.Disney,i=t.Ads=t.Ads||{},s=function(){return{}},n=e.jQuery,a=i.NoAdContext=function(e){var t=n.Deferred().resolve().promise();this.cds=function(){return e.cds},this.noAds=function(){return e.disableAds},this.status=function(){return t}};a.prototype={adSystem:"noads",showCDSAds:function(){return!1},helpers:s,ready:s,restore:s,remove:s,setTargeting:s,setTranslation:s,tag:function(){return""},sizes:function(){return[]}}}(this),function(e){"use strict";var t,i=e.Disney,s=i.Ads,n=e._;i.Ads.AdContext=function(e){var i=e.adData;switch(i.adSystem){case"dfp":t=new s.DoubleClickAdContext(i);break;case"vevo":t=new s.VevoAdContext(i,e.guestContext);break;case"admaster":t=new s.AdMasterAdContext(i);break;default:t=new s.NoAdContext(i)}return t},n.extend(s,{getAdSlots:function(){return i.top?i.top.current.ads.slots:t},getAdContext:function(){return i.top?i.top.current.ads:t}})}(this),function(e){"use strict";var t=e.Disney,i=t.Cookie,s=e.Backbone,n=e._,a=/^([0-9a-f]+):([^:]+)/,o="dolMttAbn",r=7,l=function(){var e=a.exec(i.get(o)||"");return e&&{id:e[1],group:e[2]}},c=function(e){i.set(o,e.id+":"+e.group,{domain:i.domain(),path:"/",expires:r})},d=t.abn=n.extend({testcase:function(){return l()},parse:function(e){var s,a,o=e.abn,r=o&&o.cases,c=l(),d=-1;return r&&(a=n.pluck(r,"weight"),s=n.keys(r),!i.enabled()||c&&c.id!==o.id||(c?d=n.indexOf(s,c.group):(d=t.randi(a),d>=0&&(c={id:o.id,group:s[d]}))),e=r[s[0>d?0:d]].data,d>=0&&this.trigger("view",c,e)),e}},s.Events);d.on("view",c),t.randi=function(t){var i,s,n=0,a=t.length;for(i=a-1;i>-1;--i)n+=+t[i]||0;for(s=e.Math.random()*n,i=a-1;s>=0&&i>-2;--i)s-=+t[i]||0;return i+1}}(this),function(e){"use strict";var t=e.jQuery,i=e._,s=e.Backbone,n=e.Math,a=s.Collection,o=function(e,t){var i,s=new Array(e);if(t!==s[0])for(i=0;e>i;++i)s[i]=t;return s},r=function(e){return{models:e}};s.LazyCollection=a.extend({params:{limit:"limit",offset:"offset"},constructor:function(e,t){t||(t={}),this.count=t.count,this.min=t.min||e&&e.length||1,t.params&&(this.params=i.defaults(t.params,this.params)),a.call(this,e,t)},ensure:function(e){var i,s,a=this,o=a.count,r=a.length,l=a._ensure,c=a.params,d=n.min(e-r,a.min);return o&&(e=n.min(e,o)),r>=e?s=t.when():l?(s=t.Deferred(),l.always(function(){a.ensure(e).then(function(){s.resolveWith(arguments)},function(){s.rejectWith(arguments)})})):(i={},i[c.limit]=d,i[c.offset]=r,a.trigger("loading",a,!0),s=a._ensure=a.fetch({add:!0,remove:!1,data:i}).then(function(){a.length<r+d&&(a.count=a.length)}).always(function(){a._ensure=null,a.trigger("loading",a,!1)})),s},remaining:function(){var e=this.count;return e?e-this.length:null},loading:function(){return!!this._ensure},pages:function(e,t){var s,a,l=[],c=t&&t.whole,d=t&&t.pad,u=t&&t.nest,p=t&&t.fill;for(e=+e||1,a=0;a<this.length;a+=e)l.push(this.models.slice(a,a+e));if(a=l.length-1,c&&a>0&&l[a].length<e&&(--a,l.pop()),d&&(a>=0&&(l[a]=l[a].concat(o(e-l[a].length,p))),s=o(e,p)),u&&(l=i.map(l,r),s=r(s)),d){for(a=n.floor(this.count/e);l.length<a;)l.push(s);a=this.count-a*e,a>0&&!c&&(s=o(a,p),l.push(u?r(s):s))}return l},peeking:function(){return!0},page:function(e,t){return this.pages(t,{nest:!0})},lastIndex:function(e){return this.pages(e,{nest:!0}).length-1}}),s.LazySliderCollection=s.LazyCollection.extend({constructor:function(e,t){this.loadedPageCounter=[],this.pageOptions={nest:!0},i.each(e,function(e){e.set("hidden",!0)}),s.LazyCollection.call(this,e,t)},startingIndex:0,lastIndex:function(e){return this.pages(e,this.pageOptions).length-1},page:function(e,t,s,n){var a=this.pages(t,this.pageOptions);if(i.each(a[e].models,function(e){e&&e.set("hidden",!1)}),this.nextPeek(e,a)){var o=a[e+1];i(s).times(function(e){var t=o.models[e*n];t&&t.set("hidden",!1)})}return i.contains(this.loadedPageCounter,e)||this.loadedPageCounter.push(e),a},loadedPages:function(){return this.loadedPageCounter.length},peeking:function(e){return this.length>e},nextPeek:function(e,t){return e<t.length-1}}),s.LazyFilterCollection=s.LazyCollection.extend({parse:function(e){return this.count=e.count,this.nextFilter=e.next?e.next:null,e.data},next:function(){this.nextFilter&&(this.url=this.baseUrl+this.nextFilter)}})}(this),function(e){"use strict";function t(e,t){var i=n.top.current,s=i.guest;s.current?"CHILD"!==s.current.profile.ageBand&&e(t):e(t)}function i(t){var i=new e.Image;i.src=t}function s(t){var i=e.document.createElement("iframe");i.src=t,i.frameborder="0",i.height="1",i.width="1",i.style.display="none",a(e.document.body).prepend(i)}var n=e.Disney,a=e.jQuery,o=e.Math,r=/%%([a-z0-9]+)%%/g,l=function(e,t){return"rng"===t?""+o.floor(1e18*o.random()):""},c=n.ping=function(e){var n=e.toString().replace(r,l);n.match(/\/activityi;/)?t(s,n):t(i,n)};a("body").on("click","a[data-ping]",function(){c(this.getAttribute("data-ping"))})}(this),function(e){"use strict";var t=e.Disney,i=e.Backbone,s=e._,n="change:watched",a=function(e,t){t?this.retain():this.release()},o=function(e){e!==n&&this.trigger.apply(this,arguments)},r=function(e){this.current=e||{}},l=function(){this.current=void 0},c={},d=["login","logout","refresh","updateProfile"],u=t.GuestContext=function(e){this._h=e||{},this.on("login",r),this.on("update",r),this.on("logout",l)};u.actions=d,s.extend(u.prototype,i.Events,{_r:0,retain:function(){0===this._r++&&this.trigger(n,this,!0)},release:function(){this._r>0&&0===--this._r&&this.trigger(n,this,!1)},watched:function(){return this._r>0},spawn:function(){var e=new u(c);return e._p=this,e.current=this.current,e.on(n,a,this),this.on("all",o,e),e},disown:function(e){e.off(n,a,this),this.off("all",o,e),e._r>0&&this.release()}});var p=function(){throw"Not implemented"};s.each(d,function(e){u.prototype[e]=function(){return(this._h[e]||p).apply(this,arguments)},c[e]=function(){return this._p[e].apply(this._p,arguments)}})}(this),function(e,t){"use strict";function i(){}var s,n,a=e.Disney,o=e._,r=e.JSON,l=o.rest,c={query:i,provide:i,pub:i,sub:i};r&&e.postMessage&&(e.addEventListener?(s=function(t){e.addEventListener("message",t,!1)},n=function(t){e.removeEventListener("message",t,!1)}):e.attachEvent&&(s=function(t){e.attachEvent("onmessage",t)},n=function(t){e.detachEvent("onmessage",t)})),a.xdc=function(e,i,a,d){function u(t){var s=v+r.stringify([t].concat(l(arguments)));e.postMessage(s,i)}function p(e){var s,n,a=f.length;e.origin===i&&"string"==typeof e.data&&e.data.substr(0,a)===f&&(s=r.parse(e.data.substr(a)),"string"==typeof s[0]&&(n=o.has(h,s[0])&&h[s[0]])&&n.apply(t,l(s)))}var h,f="xdc "+a+" ",v="xdc "+(d||a)+" ",b={},m={},g={};return s?(s(p),h={call:function(e,i,s){function n(){if(r++)throw"reply already sent";u("reply",i,o.toArray(arguments))}var a=o.has(m,e)&&m[e],r=0,l=!1;if(a)try{a.apply(t,s.concat([n])),l=!0}finally{l||u("error",i,"unexpected remote exception")}else u("error",i,"undefined remote procedure: "+e)},reply:function(e,i){var s=o.has(b,e)&&b[e];s&&(delete b[e],s.apply(t,i))},notify:function(e,i){var s,n,a=o.has(g,e)&&g[e];if("number"==typeof i.length){if(a)for(s=0,n=a.length;n>s;++s)a[s].apply(t,i);"all"!==e&&h.notify("all",[e].concat(i))}},error:function(e,t){var i=o.has(b,e)&&b[e];if(i)throw delete b[e],""+t}},{query:function(e){var t=l(arguments),i=t[t.length-1],s=o.uniqueId();i&&(b[s]=i,u("call",e,s,o.initial(t)))},provide:function(e,t){m[e]=t},pub:function(e){u("notify",e,l(arguments))},sub:function(e,t){var i=g[e];i||(i=g[e]=[]),i.push(t)},close:function(){n(p)}}):c}}(this),function(e){"use strict";var t=e.Disney,i=e.jQuery,s=e._,n=e.document,a=/^([^\/:]+:\/\/[^\/]+)\//,o="#auth-system-wrapper{ position: absolute; top: 0; bottom: 0; left: 0; right: 0; width: 100%; overflow: hidden; z-index: 10000; }#auth-system-wrapper.open{ visibility: visible; min-height: 2000px; }#auth-system-wrapper.closed{ visibility: hidden; min-height: 0; height: 0; }#auth-system-iframe{ width: 100%; height: 100%; overflow: hidden; display: block; border: none; }";t.initGuestConsumer=function(r,l){var c=a.exec(r)||a.exec(e.location.href),d=i.Deferred(),u={};return s.each(t.GuestContext.actions,function(e){u[e]=function(){return d.then(function(t){return i.Deferred(function(i){t.query(e,function(e,t){t?i.reject(t):i.resolve(e)})})})}}),u=new t.GuestContext(u),d.then(function(e){e.sub("all",function(){u.trigger.apply(u,s.toArray(arguments))})}),c?!function(){function e(){a.setAttribute("class","closed")}var s,a=n.createElement("div"),p=n.createElement("iframe"),h=n.createElement("style");p.setAttribute("allowtransparency","true"),p.setAttribute("id","auth-system-iframe"),p.setAttribute("scrolling","no"),p.src=r,h.setAttribute("type","text/css"),h.innerHTML=o,a.setAttribute("id","auth-system-wrapper"),a.appendChild(h),a.appendChild(p),e(),l=l||n.body,l.appendChild(a),l.style.position="relative",s=t.xdc(p.contentWindow,c[1],"guest"),s.provide("ready",function(e){e(),d.resolve(s)}),u.on("open",function(){a.setAttribute("class","open"),p.focus&&p.focus(),i("html,body").scrollTop(0)}),u.on("close",e)}():d.reject(),u}}(this),function(e){"use strict";var t=e.Disney,i=e._,s=e.jQuery;t.initEmptyGuestConsumer=function(){var e={};return i.each(t.GuestContext.actions,function(t){e[t]=function(){return s.Deferred()}}),new t.GuestContext(e)}}(this),function(e){"use strict";var t=e.Disney;t.gocGuest=function(e,t){function i(t){e.queue.push(t)}function s(){i(t.watched()||t.current?["user",!!t.current]:["user",void 0])}s(),t.on("change:watched",s),t.on("login",s),t.on("logout",s),i(["on","click:login",function(){t.login()}]),i(["on","click:logout",function(){t.logout()}]),i(["on","click:profile",function(){t.updateProfile()}])}}(this),function(e){"use strict";function t(e){s.age.known((e.profile.ageBand||"unknown").toLowerCase())}function i(){s.age.known(null)}var s=e.Disney;s.ageGuest=function(e){e.refresh().fail(i),e.on("login",t),e.on("update",t),e.on("logout",i)}}(this),function(e){"use strict";function t(){return s.mobile?"mobile":"desktop"}var i=e.Disney,s=e.Modernizr,n=e._,a=e.$;i.vis=function(e){return n.reduce(e,function(e,i){var s=i.visibility||{};return n.contains(s.invisible_device_types,t())||(n.isEmpty(s.allowed_regions)&&n.isEmpty(s.disallowed_regions)||(i.style.geo_hidden=!0),e.push(i)),e},[])},a(function(){i.top.on("ready",function(e){n.each(e.views,function(e){var t=e.model.get("visibility");t&&e.$el.hasClass("geo-hidden")?i.geo(function(i){i&&!n.include(t.disallowed_regions,i)&&(n.isEmpty(t.allowed_regions)||n.include(t.allowed_regions,i))&&(e.$el.removeClass("geo-hidden").addClass("geo-accepted"),e.geoReady&&e.geoReady())}):e.$el.hasClass("geo-hidden")||e.geoReady&&e.geoReady()})})})}(this),function(e){"use strict";function t(){var e=o.didOpts||{},t=u.href.match(/draft_id=([a-z,0-9]*)/),i=0,s="?";t&&t[1]&&(e.draft_id=t[1]);var a=n.size(e);for(var r in e)e.hasOwnProperty(r)&&(s+=r+"="+e[r],a!==i+1&&(s+="&"),i++);return o.didBase?o.initGuestConsumer(o.didBase+u.host+u.pathname+encodeURI(s)):o.initEmptyGuestConsumer()}var i=e.Grill,s=e.jQuery,n=e._,a=e.Backbone,o=e.Disney,r=i.BurgerView,l=r.prototype,c=i.Burger,d=c.prototype,u=e.location,p=/[&?]draft_id=([^&]+)/.exec(u.search),h=e.Disney.rootGuestContext=t(),f=i.ValueAdedBurgerView=r.extend({initialize:function(){this.guest=h.spawn(),r.prototype.initialize.apply(this,arguments)},spawn:function(e){var t=this.collection,s=this.ads;s||(this.ads=s=new o.Ads.AdContext({adData:t.adData,guestContext:h}));var n={model:e,ads:s,guest:this.guest,cds:s.cds(),noAds:s.noAds()};return i.ModuleView.create(e.get("view"),n)},remove:function(){var e=s("#nav-local #nav-pushdown"),t=e.height();return h.disown(this.guest),this.ads&&(t>0&&e.css("min-height",t),this.ads.remove()),l.remove.call(this)},optimizely:function(){var e=this.collection.optimizely;return e},cto:function(){var e=this.collection.cto,t=this.ads;t&&t.unit&&(e=s.extend({adPageName:t.unit,adSizeList:t.sizes().join(",")},e));var i=o.abn.testcase();return i&&(e=s.extend({abTest:i.id+"|"+i.group},e)),e},url:function(){return this.collection.href},branding:function(){return this.collection.branding}}),v=/^\/_grill\/json(\/.*)/,b=i.Module.extend({data:function(e){var t,i=new a.LazyCollection(e,{model:o.Entity,params:{offset:"o",limit:"l"},count:this.get("count")}),n=this.collection.url;(t=v.exec(n))&&(n=t[1]);var r=n.indexOf("?")>=0?"&":"?";return n="/_grill/more"+n+r+s.param({r:this.get("ref")}),p&&(n+="&draft_id="+p[1]),i.url=n,i},subject:function(){return this.data.first()}}),m=i.MysteryMeat=c.extend({model:b,parse:function(e){return e=o.abn.parse(e),e.stack=o.vis(e.stack),d.parse.call(this,e)}});e.GOC&&o.gocGuest(e.GOC,h),o.ageGuest(h),s(function(){var t=o.top;e.Grill.config({container:t,model:m,view:f}),t.on("ready",function(e){var t,i=e.ads,n=e.collection,a=s(".nav-local #nav-pushdown").css("min-height","");i&&i.helpers&&(t=i.helpers(),t.pushdownAd&&n&&n.adData.pda&&a.is(":visible")&&(a.html(t.pushdownAd()),e.catalogModulePositions&&(e.catalogModulePositions(),e.checkModuleVisibility())),e.guest&&n&&n.ping&&e.guest.refresh().always(function(){o.ping(n.ping.dynamic)}),i.ready(e))})})}(this),function(e){"use strict";var t=e.Disney,i=e.Grill,s=e.Spatula,n=e._,a=e.$,o=i.TopperView=i.ValueAdedBurgerView.extend({className:"topper",id:"topper"}),r=i.MysteryTopper=i.MysteryMeat.extend({grillName:"topper",fetch:function(e){var t=e&&e.success;return this.checkGrill(t),a.when()}});a(function(){var i=t.topper_nav=new s.ContainerView({el:"#topper-nav"});i.on("ready",function(e){var i=e.ads,s=e.collection,n=s&&s.adData,o=a("#topper-nav #nav-pushdown").css("min-height","");if(i&&i.helpers){var r=i.helpers();r.pushdownAd&&n&&o.is(":visible")&&o.html(r.pushdownAd()),s&&s.ping&&t.ping(s.ping),i.ready(e)}}),n.defer(function(){e.Grill.order("/_grill/json/nav",{container:i,model:r,view:o})})})}(this),function(e){"use strict";var t=e.jQuery,i=e.GOC||{queue:[]};t("#nav-e").click(function(e){e.preventDefault(),i.queue.push(["openMenu"])}),t(function(){var s=e.Backbone.history;s.on("route",function(){var n=s.options.root+s.getFragment(),a=/^([^\/]+?:\/\/[^\/]+?)\//.exec(e.location.href);a&&"/"===n.substr(0,1)&&(n=a[1]+n),t("#nav-local li a[href]").each(function(){t(this).toggleClass("active",this.href===n)}),i.queue.push(["closeMenu"])})})}(this),function(e){"use strict";var t=e.jQuery,i=e.GOC||{queue:[]};t("#nav-e").click(function(e){e.preventDefault(),i.queue.push(["openMenu"])}),t(function(){var s=e.Backbone.history;if(s.on("route",function(){var e=t("#nav-local-channels a"),n=s.options.root+s.getFragment();e.removeClass("active"),t("#nav-local-channels a[href='"+n+"']").addClass("active"),i.queue.push(["closeMenu"])}),t(e).width()>=1024){var n=t("#nav-local-channels .channel-slider"),a=n.hasClass("channel")?.09:.045;n.swipeasaurus({arrows:!0,loop:!0,right:a})}t(".channel-bg > .pages > li > a").each(function(){var e=t(this),i=e.html(),s=i.split(" "),n='<span class="firstWord">'+s[0]+"</span><br />";s.shift(),t.each(s,function(e,t){n+=" "+t}),e.html(n)}),t(".xd-bg > .pages > li > a").each(function(){var e=t(this),i=e.html(),s=i.split(" "),n='<span class="firstWord">'+s[0]+"</span><br />";s.shift(),t.each(s,function(e,t){n+=" "+t}),e.html(n)})})}(this),function(e){"use strict";var t,i=e.Disney,s=i.Cookie,n=e.jQuery,a=e.navigator,o="https:"===e.location.protocol,r=Array.prototype.slice,l=[],c=function(e){null===l?e(t):l.push(e)},d=e.cto={trackPagination:function(e){for(e+="";e.length<2;)e="0"+e;c(function(t){var i=t.pageName;i&&(t.pageName=i.replace(/\|page_\d+$/,"")+"|page_"+e,t.track())})}};n.each(["resetObj","track","trackApp","trackEvent","trackLink","trackVideo","trackGame"],function(e,t){d[t]=function(){var e=r.call(arguments),i=e[0];i&&i.ctoSrcPath&&u(i.ctoSrcPath),c(function(i){i[t].apply(i,e)})}});var u=function(i){function r(){t=new e.CTO;var i=0,s=function(){i<l.length?(l[i](t),++i,e.setTimeout(s,200)):l=null};s()}if(!(a&&"preview"===a.loadPurpose||e.cto.account)){var c,d;n(e).one("CTOReady SWIDReady",function(e){var t=e.type;"CTOReady"===t?c=!0:"SWIDReady"===t&&(d=!0),c&&d&&r()});var u=n.ajax((o?"https://global":"http://aglobal")+".go.com"+i,{dataType:"script",cache:!0});o||s.get("SWID")||!s.enabled()?n(e).trigger("SWIDReady"):(u=n.when(u,n.Deferred(function(e){n.ajax("http://r.disney.com/swid",{dataType:"text"}).then(function(t){s.set("SWID",t,{domain:s.domain(),expires:7300}),e.resolve()},function(){e.resolve()})})),u.then(function(){n(e).trigger("SWIDReady")}))}}}(this),function(e){"use strict";var t=e.jQuery,i=e.cto,s=e.Tracker={safe_cto:function(t,s){i&&i[t]?i[t].apply(this,s):e.console.log("Undefined method: "+t+" on cto")},page:function(e){var i={pageName:""};t.extend(i,e),s.track({pageName:i.pageName})},event:function(e){var i=e.eventCategory+":"+e.action,n={eventCategory:null,action:null,label:null,value:null,engagementMeta:null,engagementType:i};t.extend(n,e),s.trackEvent(n)},link:function(e){var i={linkName:null,linkPosition:null,isChrome:!1,href:null};t.extend(i,e),i.isChrome&&(i.linkPosition="Chrome: "+i.linkPosition),s.trackLink(i.linkName,i.linkPosition,void 0,i.href)},video:function(e){var i={analyticsData:null};t.extend(i,e),s.trackVideo(i.analyticsData)},setCto:function(e){i=e}},n=["resetObj","track","trackPagination","trackApp","trackLink","trackEvent","trackVideo"];t.map(n,function(e){s[e]=function(){s.safe_cto(e,arguments)}}),t(function(){t("#nav-local ul").on("click","a",null,function(i){var s=t(i.currentTarget),n=t.trim(s.find("img").attr("alt")||s.text()),a=s.attr("href"),o=t("#nav-local a").index(s),r=["sitenav",o,"none","link"].join("/"),l=[r,n].join("/");e.Tracker.link({linkName:l,linkPosition:r,href:a})}),t("#nav-local-channels .pages").on("click","a",null,function(i){var s=t(i.currentTarget),n=t.trim(s.find("a").attr("alt")||s.text()),a=n.replace(/[^a-z0-9 ]/gi,"").replace(/\s+/g,"-"),o=s.attr("href"),r=["Topnav","mainlinks"].join("/"),l=[r,"image",a].join("/");e.Tracker.link({linkName:l,linkPosition:r,href:o})}),t("#nav-local-channels .channel-slider-container").on("click","a",null,function(i){var s=t(i.currentTarget),n=t.trim(s.find("img").attr("alt")||s.text()),a=n.replace(/[^a-z0-9 ]/gi,"").replace(/\s+/g,"-"),o=s.attr("href"),r=["CharacterNav","char"].join("/"),l=[r,"image",a].join("/");e.Tracker.link({linkName:l,linkPosition:r,href:o})}),t("footer a").on("click",null,null,function(i){var s=t.trim(t(i.currentTarget).text()),n=t(i.currentTarget).attr("href"),a=t(i.currentTarget).data("module-title");a&&(s=a+"/"+s),e.Tracker.link({linkName:"globalfooter/link/"+s,linkPosition:"globalfooter",href:n})}),t.each(["#searchField_SRP","#searchField_BlogChrome"],function(i,s){t(s).one("input",function(){e.cto.trackEvent({searchFlow:s.replace("#",""),searchEvent:"attempt"})})})})}(this),function(e){"use strict";var t=e.jQuery,i=e.Tracker,s=t("#goc-bar"),n=t("#chrome-controls");t(function(){n.click(function(){var t=n.hasClass("open");s.toggleClass("open"),n.toggleClass("open"),i&&i.event({eventCategory:"navigation",action:"disney-chrome-"+(t?"hide":"show"),label:e.location.href})})})}(this),Whiskers("errors.e404",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<article id="error_page" class="e404 module"> <div class="bound"> <div class="inner"> <img src="'),s.b(s.v(s.f("image",e,t,0))),s.b('"> <div class="message"> <h1>Uh Oh!</h1> <h2>Couldn&rsquo;t find that. <br> Try something else?</h2> <form id="search_404" action="'),s.b(s.v(s.f("search_error",e,t,0))),s.b('" method="GET"> <div class="search-field"> <input id="search_404_input" name="q" type="text" placeholder="Search..."> <span class="search-icon"></span> </div> </form> </div> </div> </div> </article>'),s.fl()},partials:{},subs:{}}),Whiskers("errors.e500",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<article id="error_page" class="e500 module"> <div class="bound"> <div class="inner"> <img src="'),s.b(s.v(s.f("image",e,t,0))),s.b('"> <div class="message"> <h1>Gawrsh!</h1> <h2>Something is not working right.<br> Please try again soon.</h2> </div> </div> </div> </article>'),s.fl()},partials:{},subs:{}}),Whiskers("errors.enet",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<article id="error_page" class="enet module"> <div class="bound"> <div class="inner"> <img src="'),s.b(s.v(s.f("image",e,t,0))),s.b('"> <div class="message"> <h1>Aw Phooey!</h1> <h2>The connection was lost. Please try again.</h2> </div> </div> </div> </article>'),s.fl()},partials:{},subs:{}}),function(e){"use strict";var t=e.Disney,i=e.Backbone,s=e.jQuery,n=e.Whiskers,a=["//a.dilcdn.com/a/errors/e404_matte-3539f646e0d3.png","//a.dilcdn.com/a/errors/e500_matte-5f40aef5fa77.png","//a.dilcdn.com/a/errors/enet_matte-c4264c3a6186.png"],o=s("#goc-bar .goc-search").attr("action"),r=i.View.extend({initialize:function(){this.guest=e.Disney.rootGuestContext.spawn()},render:function(){this.el.innerHTML=this.template.render({image:this.image,search_error:o})},cto:function(){return{cmsId:"MH",account:"wdgdsec",categoryCode:"dcom",pageName:this.error,breadcrumbs:"error",pageType:"errorpage",ctoSrcPath:"/stat/dolWebAnalytics_DEV.js"}},remove:function(){e.Disney.rootGuestContext.disown(this.guest)}}),l=r.extend({image:a[0],search_error:o,template:n.errors.e404,error:"404"}),c=r.extend({image:a[1],template:n.errors.e500,error:"500"}),d=r.extend({image:a[2],template:n.errors.enet,error:"network"});s(function(){t.top.on("error",function(e,i,s,n){"timeout"===s?t.top.transition(new d):"Not Found"===n?t.top.transition(new l):"abort"!==s&&t.top.transition(new c)}),"/"===t.ajaxBase&&e.setTimeout(function(){for(var t=0;t<a.length;++t)(new e.Image).src=a[t];a=null},4e3)})}(this),function(e){"use strict";e.jQuery(function(){var t=e.Backbone.history,i=10;t.on("route",function(){--i<0&&(t._hasPushState=!1)})})}(this),function(e){"use strict";var t=e.Disney,i=e.jQuery,s=t.Spinner={};i(function(){var e=t.top,n=i("#spinner"),a=function(){n.addClass("loading-page")},o=function(){n.removeClass("loading-page")};e.on("begin",a).on("ready",o).on("error",o),s=t.Spinner={show:function(){a()},hide:function(){o()}}})}(this),function(e){"use strict";e.jQuery(function(t){var i="title",s=t("body");e.Modernizr.touch||s.on("mouseenter","[title]",function(){var e=t(this),s=e.data(i)||e.attr(i);e.data(i,s).attr(i,"")}).on("mouseleave","[title]",function(){var e=t(this),s=e.data(i);s&&e.attr(i,s)})})}(this),function(e){var t=e.document,i=e.jQuery,s=[84,69,65,77,32,77,65,84,84,69,82,72,79,82,78],n=0,a=function(o){o.keyCode===s[n++]?n===s.length&&(i(t).off("keydown",a),i("body").fadeOut(function(){e.location.href="/its/a/secret/to/everybody/index.html"})):n=0};i(t).on("keydown",a)}(this),function(e){"use strict";var t=e.Disney,i=e.jQuery,s=e.window,n=e.Tracker;i(function(){var e=i("footer"),a=e.find(".language-picker");t.top.on("ready",function(t){a.length&&(a.find("option").each(function(){i(this).data("url")===s.location.origin&&a.val(this.value)}),a.change(function(){var e=a.find("option:selected"),t=e.data("url");n.link({linkPosition:"globalfooter/lanuage-picker",linkName:"globalfooter/lanuage-picker/"+e.text(),href:t}),t&&(s.location=t)}));var o=t.branding;i.isFunction(o)&&(o=o.call(t)),e.find(".branding").first().text(o)}),e.find("form.search").on("submit",function(){n.link({linkName:"globalfooter/searchbox/search_enter",linkPosition:"globalfooter/searchbox"})}),e.find("form.search input").one("input",function(){n.event({searchAttempt:"y",engagementType:"globalfooter",searchFlow:"searchField_Footer"})})})}(this),function(e){"use strict";function t(e,t){return t=o.inject(t,function(e,t,i){return e[i]=d(t)?t.join():t,e},{}),"/_recommendations/"+e+"?"+a.param(t)
}function i(t,i,s){var n=e.location.search,a=new RegExp(i+"=([^&]*)"),o=a.exec(n),r=(o||[])[1],l=u.get(t),d=JSON.parse(c(l||"{}"));return r||d[s]}function s(){return i("ctoVisitor","visitor_id","visitorId")}function n(){var t=e.document.referrer,s=i("ctoSession","first_ref_url","sessionFirstRefUrl");return s||t}var a=e.jQuery,o=e._,r=e.Disney,l=e.Tracker,c=e.decodeURIComponent,d=e.Array.isArray,u=r.Cookie,p=r.Recommender=r.Recommender||{};p.getRecommendations=function(e){if(e&&e.type&&"recommendation"===e.type.toLowerCase()){var i=e.parameters,r=e.recommendation_type,l=["name","title","type","primary_image_url","url","duration","id","parent_title","parent_objects"];return i.swid=s(),i.id=e.core_id||"",i.fields=o.union(i.fields||[],l),i.refUrl=n(),a.ajax({url:t(r,i),type:"GET",dataType:"json"}).then(function(e){return o.isArray(e)&&!o.isEmpty(e)?(e.forEach(function(e){e.entity_config.title_overlay=!1}),r="COLDSTART"===e[0].recommendation_type?"coldstart":r,p.track([{recommendation_type:r}]),e):a.Deferred().reject()})}return a.Deferred().reject()},p.track=function(e){for(var t={metadata_match:"metamatch",recommend:"recommended_for_you"},i=o.unique(o.compact(o.map(e,function(e){return t[e.recommendation_type]||e.recommendation_type}))),s=0;s<i.length;s++)i[s]&&l.event({engagementType:"impression-"+i[s]})}}(this),function(e){"use strict";var t=e.Disney,i=e.jQuery,s=t.Cookie;i(function(){t.top.on("ready",function(){"true"!==s.get("cookies-accepted")&&(i(".regional-cookie-warning").show(),i("#regional-cookie-accept").click(function(){s.set("cookies-accepted","true",{domain:s.domain(),expires:365}),i(".regional-cookie-warning").hide()}))})})}(this),function(e){"use strict";var t=e.Disney,i=e.Modernizr,s=t.Cookie,n=e.jQuery;n(function(){t.top.on("ready",function(){var e=n("#browser_warning"),t=s.get("accept-browser-warning");i.mq("only all")||"true"!==t&&(e.addClass("modal-show"),n("#modal_accept").click(function(){e.removeClass("modal-show"),s.set("accept-browser-warning","true",{domain:s.domain(),expires:1})}))})})}(this),function(e){"use strict";e.Disney.FormElements=e.Disney.FormElements||{};var t=e.Disney.FormElements,i=e.Whiskers,s=e._,n=e.jQuery;n(function(){t.dateDropdown={renderTemplate:function(t){for(var n=t||{},a=s.extend({month:"Month",day:"Day",year:"Year",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December"},n.translations),o=[],r=[],l=[],c=new e.Date,d=c.getFullYear(),u=1;31>=u;u++)o.push(u);for(var p=0;12>p;p++)r.push({value:p,month:a["month"+(p+1)]});for(var h=d;h>=d-100;h--)l.push(h);var f={days:o,months:r,years:l,translations:a};return i.partials.date_dropdown.render(f)}},t.characterCountdown={renderTemplate:function(e){var t={rows:e.rows,maxLength:e.maxLength||140,tag:e.tag,label:e.label,required:e.required};return i.partials.character_countdown.render(t)},onReady:function(e,t,i){e.on("keyup",function(){var e=n(this).val(),s=t-e.length;i.html(s)})}}})}(this),Whiskers("shared.search_navigation",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<span id="search-e" role="button" title="Search"></span> <div id="nav-search" class="goc-nav-search"> <div class="overlay"></div> <div class="search-form"> <form class="goc-search" method="GET" action="'),s.b(s.v(s.f("search_action",e,t,0))),s.b('"> <span id="search-clear" role="button" title="Clear"></span> <span class="search-icon"></span> <input type="text" name="q" class="instant-search-input" placeholder="'),s.b(s.v(s.f("search",e,t,0))),s.b('" autocomplete="off"/> </form> <span id="search-close" role="button" title="Cancel"></span> </div> </div>'),s.fl()},partials:{},subs:{}}),function(e){"use strict";var t=e.Grill,i=e.Whiskers,s=e.jQuery,n=e.GOC,a=e.Tracker;t.ModuleView.register("search_navigation",{template:i.shared.search_navigation,$navSearch:null,$searchClear:null,$searchInput:null,$searchClose:null,$navLocal:null,open:function(){var e=["sitenav",s("#nav-local a").length,"none","link"].join("/");a.link({linkName:"searchOpen",linkPosition:e}),this.$navLocal.addClass("search-open")},close:function(){return this.$navLocal.removeClass("search-open"),this.clearForm(!0),!0},clearForm:function(e){this.$searchClear.removeClass("show"),s("#search-is").remove();var t=this.$searchInput.val("").focus();e&&t.blur()},initialize:function(){var t=this,i=s("#goc-bar .goc-search"),o=i.attr("action"),r=i.find("input[type=text]").attr("placeholder"),l=this.template.render({search_action:o,search:r});s("#nav-e + ul").after(l),s("form.goc-search input[type='text']").keyup(function(e){""===s(e.target).val()&&t.clearForm(!1)}),t.$navSearch=s("#nav-search"),t.$navLocal=s(".nav-local"),t.$searchClose=s("#search-close"),t.$searchClose.html(s("#search_cancel_text").html()),t.$navSearch.on("click","a[href]",function(){t.close()});var c=e.setInterval(function(){"function"==typeof n.ac&&(n.ac(t.$navSearch,"mtt_chrome"),e.clearInterval(c))},1500);s("#search-e").bind("click touchstart",function(){return t.open(),!1}),t.$searchClear=s("#search-clear"),t.$searchInput=s("#nav-search .search-form form input[type=text]"),t.$searchClose.bind("click touchstart",function(){a.link({linkName:"searchClose",searchPhraseInput:t.$searchInput.val()})}),t.$searchClear.bind("click touchstart",function(){a.link({linkName:"searchClear",searchPhraseInput:t.$searchInput.val()})}),t.$navSearch.find(".overlay, #search-close").bind("click touchstart",function(){return t.close(),!1}),t.$searchInput.attr("autocomplete","off").attr("autocorrect","off"),t.$navSearch.find(".search-form").on(s.fn.selectTransitionEnd(),function(){return t.$searchInput.focus(),!1}),t.$searchClear.bind("click touchstart",function(){t.clearForm(!1)}),t.$searchInput.keyup(function(){t.$searchClear.addClass("show")})}}),s(function(){t.ModuleView.create("search_navigation")})}(this),Whiskers("partials.age_gate_modal",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<div id="age-gate-modal" class="modal-prompt-window"> <div class="loading-status"><span>'),s.b(s.v(s.d("translations.loading",e,t,0))),s.b('</span></div> <div class="modal-close top-right"></div> <div class="modal-info"> <div class="enter-birthday"> <p class="modal-title">'),s.b(s.v(s.d("translations.enter",e,t,0))),s.b("</p> <form>"),s.b(s.t(s.f("date_dropdown",e,t,0))),s.b('</form> <p class="error alert">'),s.b(s.v(s.d("translations.error",e,t,0))),s.b('</p> <a class="submit-button button blue large">'),s.b(s.v(s.d("translations.submit",e,t,0))),s.b('</a> <a class="modal-close button" data-title="close">'),s.b(s.v(s.d("translations.nevermind",e,t,0))),s.b('</a> </div> <div class="too-young"> <p class="modal-title">'),s.b(s.v(s.d("translations.sorry",e,t,0))),s.b("</p> <p>"),s.b(s.v(s.d("translations.too_young",e,t,0))),s.b('</p> <a class="button-close button blue small">'),s.b(s.v(s.d("translations.close",e,t,0))),s.b("</a> </div> </div> "),s.s(s.f("isSocial",e,t,1),e,t,0,717,1497,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <div id="social-buttons"> <p>'),i.b(i.v(i.d("translations.share_this_with_your_friends",e,t,0))),i.b('</p> <div id="social-logos"> <a class="fb-logo" title="Facebook" data-share-url="'),i.b(i.v(i.f("fbsource",e,t,0))),i.b('" href="#">Facebook</a> <a class="tw-logo" title="Twitter" target="_blank" href="https://twitter.com/intent/tweet?url='),i.b(i.v(i.f("twtsource",e,t,0))),i.b("&text="),i.b(i.v(i.f("titleEncoded",e,t,0))),i.b('">Twitter</a> '),i.s(i.f("thumbEncoded",e,t,1),e,t,0,1069,1259,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <a class="pin-logo" title="Pinterest" target="_blank" href="http://www.pinterest.com/pin/create/button/?url='),i.b(i.v(i.f("pinsource",e,t,0))),i.b("&media="),i.b(i.v(i.f("thumbEncoded",e,t,0))),i.b("&description="),i.b(i.v(i.f("titleEncoded",e,t,0))),i.b('">Pinterest</a> ')}),e.pop()),i.b(' </div> </div> <div id="share-links"> <p>'),i.b(i.v(i.d("translations.link",e,t,0))),i.b('</p> <input type="text" value="'),i.b(i.v(i.f("source",e,t,0))),i.b('"> '),i.s(i.f("embedCode",e,t,1),e,t,0,1396,1475,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" <p>"),i.b(i.v(i.d("translations.embed",e,t,0))),i.b('</p> <textarea rows="2"> '),i.b(i.t(i.f("embedCode",e,t,0))),i.b(" </textarea> ")}),e.pop()),i.b(" </div> ")}),e.pop()),s.b(' </div> <div class="modal-overlay"></div>'),s.fl()},partials:{},subs:{}}),Whiskers("partials.date_dropdown",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<div class="date_dropdown"> <div class="input-group month"> <select name="month" required> <option value="" selected disabled>'),s.b(s.v(s.d("translations.month",e,t,0))),s.b("</option> "),s.s(s.f("months",e,t,1),e,t,0,169,215,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <option value="'),i.b(i.v(i.f("value",e,t,0))),i.b('">'),i.b(i.v(i.f("month",e,t,0))),i.b("</option> ")}),e.pop()),s.b(' </select> </div> <div class="input-group day"> <select name="day" required> <option value="" selected disabled>'),s.b(s.v(s.d("translations.day",e,t,0))),s.b("</option> "),s.s(s.f("days",e,t,1),e,t,0,377,415,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <option value="'),i.b(i.v(i.d(".",e,t,0))),i.b('">'),i.b(i.v(i.d(".",e,t,0))),i.b("</option> ")}),e.pop()),s.b(' </select> </div> <div class="input-group year"> <select name="year" required> <option value="" selected disabled>'),s.b(s.v(s.d("translations.year",e,t,0))),s.b("</option> "),s.s(s.f("years",e,t,1),e,t,0,579,617,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <option value="'),i.b(i.v(i.d(".",e,t,0))),i.b('">'),i.b(i.v(i.d(".",e,t,0))),i.b("</option> ")}),e.pop()),s.b(" </select> </div> </div>"),s.fl()},partials:{},subs:{}}),function(e){"use strict";e.Disney.AgeGate=e.Disney.AgeGate||{};var t=e.Disney,i=t.AgeGate,s=e.Whiskers,n=t.Cookie,a=e.Tracker,o=e._,r=e.jQuery;i={createAgeGate:function(){return null},getAge:function(e){var t=e.guest.current;return new Date(t?t.profile.dateOfBirth:decodeURI(n.get("age-gate-user")))},renderModal:function(e,i){var n=i.collection.age_gate_text||{},a={loading:"Loading",enter:"Enter your birthday to continue:",submit:"Submit",close:"Close",error:"Please fill out all fields",sorry:"Sorry",too_young:"You are not eligible.",link:"Link",embed:"Embed",share_this_with_your_friends:"Share this with your friends",month:"Month",day:"Day",year:"Year"};o.defaults(n,a);var r=o.extend({date_dropdown:t.FormElements.dateDropdown.renderTemplate({translations:n}),translations:n},e);return s.partials.age_gate_modal.render(r)},checkAge:function(){var t=r("#age-gate-modal .date_dropdown"),i=t.find(".month option:selected").val(),s=t.find(".day option:selected").val(),n=t.find(".year option:selected").val(),a=new e.Date(n,i,s);""===i||""===s||""===n?this.errorText():a<this.minBday()?(this.setCookie(a),this.oldEnough()):(this.setCookie(a),this.tooYoungText())},minBday:function(){var t=new e.Date;return t.setFullYear(t.getFullYear()-this.gatedAge)},bindModalEvents:function(e){var t=this;r("#age-gate-modal .modal-close, #age-gate-modal .button-close, .modal-overlay").on("click",function(){t.closeModal()}),r("#age-gate-modal .submit-button").on("click",function(){t.checkAge()}),"function"==typeof e&&e()},closeModal:function(){r("#age-gate-modal, #age-gate-modal + .modal-overlay").delay(100).remove(),r("html").removeClass("modal-no-scroll")},openModal:function(){var e=this.renderModal();r("#burger-container").append(e),r("#age-gate-modal").addClass("modal-show"),this.bindModalEvents()},errorText:function(){r(".error").delay(400).fadeIn()},tooYoungText:function(){r(".enter-birthday").hide(),r(".too-young").delay(100).fadeIn()},oldEnough:function(){return null},setCookie:function(e){n.set("age-gate-user",encodeURI(e),{domain:n.domain(),expires:1})}};var l=o.defaults({createAgeGate:function(){var i=this;r("#burger-container").on("click",".social-link-btn",function(){var s=r(this);i.view=t.top.current,i.bday=i.getAge(i.view),i.isSocial=s.hasClass("social-link-btn"),i.gatedLink=s.data("url"),i.source=s.data("source")||e.location.href,i.thumb=s.data("thumb"),i.title=s.data("title"),i.gatedAge=i.isSocial?13:parseInt(s.attr("data-age"),10),i.openModal(),i.bday&&i.bday>=i.minBday()?(i.showDropDown(),i.tooYoungText()):t.FB&&t.FB.load()})},checkSuccess:function(){var e=this.bday<this.minBday();e?this.oldEnough():this.gatedAge&&this.showDropDown()},showDropDown:function(){r("#social-buttons").hide(0,function(){r("#age-gate-modal .modal-info").fadeIn()})},openModal:function(){var t=this,i=e.location.href.match(/\?.+/)?"&":"?",s={isSocial:this.isSocial,source:this.source,fbsource:this.source+i+"cmp="+encodeURIComponent("GSL|none|natural|fb||social-share-buttons"),twtsource:encodeURIComponent(this.source+i+"cmp="+encodeURIComponent("GSL|none|natural|twt||social-share-buttons")),pinsource:encodeURIComponent(this.source+i+"cmp="+encodeURIComponent("GSL|none|natural|pin||social-share-buttons")),thumbEncoded:encodeURIComponent(this.thumb),titleEncoded:encodeURIComponent(this.title),embedCode:this.buildEmbedCode};r("#burger-container").append(this.renderModal(s,this.view)),r("html").addClass("modal-no-scroll");var n=r("#age-gate-modal");n.addClass("modal-show"),n.find(".modal-info").hide(),this.bindModalEvents(function(){n.find("#social-logos > a").on("click",function(e){e.preventDefault(),t.$el=r(this),t.checkSuccess()}),n.find("input[type=text], textarea").on("click",function(){this.select()})}),a&&a.event({eventCategory:"socialelement",action:"share",label:e.location.href})},oldEnough:function(){var e=this.$el;e.hasClass("fb-logo")?this.shareFacebook(e.data("share-url")):e.hasClass("pin-logo")?this.sharePinterest(e.attr("href")):e.hasClass("tw-logo")&&this.shareTwitter(e.attr("href")),this.closeModal()},shareFacebook:function(e){t.FB.load(function(t){t.ui({method:"share",href:e})})},sharePinterest:function(t){e.open(t,"pinterest","height=440,width=550,resizable=1")},shareTwitter:function(t){e.open(t,"twitter","height=440,width=550,resizable=1")},buildEmbedCode:function(){var t=r(".bun.watch").find('meta[itemprop="name"]').attr("content"),i=r('div[itemprop="video"]').find('meta[itemprop="embedURL"]').attr("content"),s=i?'<iframe width="560" height="315" src="'+i+'" frameborder="0" allowfullscreen scrolling="no"></iframe><br/><a href="'+e.location.href+'">'+t+" on Disney Video</a>":null;return s}},i),c=o.defaults({createAgeGate:function(){var e=this;r("#burger-container").on("click","a[data-age]",function(i){i.preventDefault();var s=r(this),n=t.top.current;e.bday=e.getAge(n),e.view=n,e.gatedLink=s,e.gatedAge=parseInt(s.attr("data-age"),10),e.agePass=e.bday<e.minBday(),e.checkSuccess()})},checkSuccess:function(){this.agePass?this.oldEnough():this.gatedAge&&(this.openModal(),this.bday.getTime()&&this.tooYoungText())},openModal:function(){var e=this.renderModal({},this.view);r("#burger-container").append(e),r("#age-gate-modal").addClass("modal-show"),this.bindModalEvents(),r("html").addClass("modal-no-scroll")},oldEnough:function(){this.gatedLink.context.target?(e.open(this.gatedLink.context.href),this.closeModal()):e.location=this.gatedLink.context.href}},i);r(function(){c.createAgeGate(),l.createAgeGate()})}(this),function(e){"use strict";var t,i=e.Disney,s=e.window,n=e.GOC,a=e.$,o=e.DossierProxy={start:function(){a("html").addClass("wait-cursor");var e=i.top.current.guest;a.when(e.refresh()).then(function(e){e&&e.tokens&&e.tokens.access&&(t=e.tokens.access,s.addEventListener("message",o.messageReceived,!1),o.loadDossier())},function(){a("html").removeClass("wait-cursor"),e.login()})},loadDossier:function(){a.getScript(i.dossierBase+"/js/dossier.js")},messageReceived:function(e){a("html").removeClass("wait-cursor"),"dossier-ready"===e.data&&(o.launchDossier(),this.removeEventListener("message",o.messageReceived,!1))},launchDossier:function(){Dossier.open(t,"",i.dossierBase)}};n.queue.push(["on","click:my_interests",function(){e.DossierProxy.start()}])}(this),function(e){"use strict";var t=e.Disney,i=e.jQuery,s=0,n=/^(?:(?:[^:\/]+:)?\/\/[^\/]+)?(\/[^#]*)/;i(function(){t.top.on("ready",function(){var t=n.exec(e.location.href);s++&&i.ajax("/_grill/pv"+(t?t[1]:"/"),{converters:{"*":e.String}})})})}(this),function(e){"use strict";var t=e.Disney,i=e.jQuery,s=i.isFunction,n=function(t){var i=e.onerror,s=e.console;s&&s.error&&s.error(t.stack||t.toString()),i&&i(t.toString())};i(function(){t.top.on("ready",function(t){var i=e.Tracker,a={};if(s(t.cto)&&(a=t.cto()),a&&a.account)try{i.resetObj(),i.track(a)}catch(o){n(o)}})})}(this),function(e){"use strict";var t=e.Tracker,i=e.jQuery,s="#burger > [data-module]",n=".slides li",a=function(e){return null!=e&&(e=i.trim(e).replace(/[^a-z0-9_:, \-]/gi,"").replace(/\s+/g," ")),e},o=function(e,t,s){var n=e.closest(t);return n.length?i(t,s).index(n):-1},r=function(e,t,r,l){var c=[],d=i(s).index(t),u=o(e,".entity,.item,.item,.product",t),p=o(e,n,t),h=o(e,".button",e.closest(n+","+s)),f=o(e,".all",t),v=a(i.trim(t.find("h1,h2,h3,h4,h5,h6").eq(0).text()));return 0===d&&v.indexOf("hero")>-1&&(v=e.closest(n).find(".background img[alt]").attr("alt")||v),c.push(v,"mod"+(d+1)),u>=0?c.push("item"+(u+1)):p>=0&&(c.push("slide"+(p+1)),r="full"),l&&c.push(l),h>=0?r="button"+(h+1):o(e,".poster",t)>=0?r="poster":o(e,".trailer-thumb",t)>=0?r="trailer-thumb":o(e,".gallery-item",t)>=0&&(r=null),r&&c.push(r),f>=0&&c.push("viewall"),c.join("/")},l=function(e,t,i){var s=o(e,".suggested",t),n=o(e,".card .next",t);return s>=0?"card/suggested/p"+s+"/"+i:n>=0?"card/next/p"+n+"/"+i:o(e,"#next_container",t)>=0?("link"===i&&(i="details"),"upnext/"+i):r(e,t,i)},c=function(e,t,n){var l=a(i.trim(t.find("h1,h2,h3,h4,h5,h6").eq(0).text())),c=i(s).index(t),d=o(e,".modal-window .arrow-next",t),u=o(e,".modal-window .arrow-prev",t),p=o(e,".modal-window .modal-close",t);if(d>=0||u>=0||p>=0){var h=e.data("viewtype"),f=parseInt(e.data("currentitem"),10)+1,v="ad"===h?"ad":"item"+f,b=l+"/mod"+(c+1)+"/"+v+"/modal";return b}return r(e,t,n)};i("body").on("click","#burger a[href], #burger .button, #burger .clicon, #burger .launches-modal",function(e){var n,o,d=i(this),u=i(e.target),p=u.is("img"),h=d.closest(s),f=a(h.data("module")),v=a(d.closest("[data-title]").data("title")||p&&u.attr("alt")||d.text()),b=p?"thumb":"link",m=a(d.closest("[data-convert]").data("convert"));if("buy"===m&&(v=m+"_"+v,o=a(d.closest("[data-retailer]").data("retailer")),o&&(v=o+"/"+v)),"search"!==f&&"voting_multi"!==f&&h.length){var g="";if(n=("watch"===f?l:"image_gallery"===f?c:r)(d,h,b,m),"songs"===f){if("like-icon clicon clicked"===d.context.className)g="/like-song",v="like-song/"+d.data("likeinfo").replace(/\s+/g,"_");else if("like-icon clicon"===d.context.className)return;if("buy_song"===m){var y=i(e.currentTarget),_=y.closest(".icon-container").data("buyaylitics").replace(/\s+/g,"_");n=n.replace(/buy_song/,"cart"),v=_,y.data("purchase")&&(v=y.data("retailer")+"/"+_)}}t.link({linkName:f+"/"+n+"/"+v,linkPosition:f+"/"+n+g,href:d.attr("href")})}})}(this),function(e){"use strict";var t=e.Disney,i=e.jQuery,s=e._,n=function(e,t,i){var n=this;s.each(i,function(e,t){n[t]=function(){var t=this,i=arguments;t.load(function(s){e.apply(t,[s].concat(i))})}}),n._u=e,n._c=[],n._i=t};n.prototype={load:function(e){var t=this;return t._p||(t._p=i.ajax(t._u,{dataType:"script",cache:!0}).pipe(function(){var e=t._i();return s.invoke(t._c,"call",t,e),t._c=null,e})),this._p.then(e)},ready:function(e){this._p?this._p.then(e):this._c.push(e)}},t.FB=new n("https://connect.facebook.net/en_US/all.js",function(){var t=e.FB;return t.init({appId:i("meta[property='fb:app_id']").attr("content"),status:!1}),t},{go:function(e){e.XFBML.parse()}}),i(function(){i("<div/>",{id:"fb-root"}).appendTo("body")}),e.___gcfg={parsetags:"explicit"},t.P1=new n("https://apis.google.com/js/plusone.js",function(){return e.gapi.plusone},{go:function(e){e.go()}})}(this),function(e){"use strict";var t=function(t){t="socialelement/"+t,e.Tracker.event({eventCategory:t,action:"like"})};e.Disney.FB.ready(function(e){e.Event.subscribe("edge.create",function(){t("facebook")})}),e.renderPlusone=function(){t("google")}}(this),function(e){"use strict";var t=e.Disney,i=e.jQuery;i(function(){t.top.on("ready",function(t){if(t&&t.collection){var s=t.collection.optimizely;if(s&&!i.isEmptyObject(s))if(e.optimizely)e.optimizely.push(["activate"]);else{var n="http://cdn.optimizely.com/js/"+s.project_id+".js";i.getScript([n],function(){e.optimizely&&e.optimizely.push(["activate"])})}}})})}(this),Whiskers("modules.activity_kit_shared",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.s(s.f("kitData",e,t,1),e,t,0,12,28,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(" "),i.b(i.rp("<kitStyles0",e,t,"")),i.b(" ")}),e.pop()),s.b(" "),s.s(s.f("data",e,t,1),e,t,0,50,283,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <div class="content-container '),i.b(i.v(i.f("type",e,t,0))),i.b("-container "),i.b(i.v(i.f("theme",e,t,0))),i.b('"> <div class="content-wrapper"> '),i.b(i.rp("<container1",e,t,"")),i.b(' </div> </div> <div class="content-toolbar-container"> <div id="toolbar" class="inverted"> <div id="meta"></div> </div> </div> ')}),e.pop()),s.fl()},partials:{"<kitStyles0":{name:"kitStyles",partials:{},subs:{}},"<container1":{name:"container",partials:{},subs:{}}},subs:{}}),Whiskers("partials.activity_kit_content",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<div class="stage"> <div id="activity-kit" class="'),s.b(s.v(s.f("view",e,t,0))),s.b('"></div> <div class="print-footer"> <h2 class="print-title" '),s.s(s.f("kitData",e,t,1),e,t,0,130,192,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.s(i.f("theme_color",e,t,1),e,t,0,146,176,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('style="color: '),i.b(i.v(i.f("theme_color",e,t,0))),i.b('"')}),e.pop())}),e.pop()),s.b(">"),s.b(s.v(s.f("title",e,t,0))),s.b('</h1> <div class="print-notice"> &copy; 2015 Disney </div> </div> </div>'),s.fl()},partials:{},subs:{}}),Whiskers("partials.activity_kit_theming",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<style type="text/css"> '),s.s(s.f("theme_color",e,t,1),e,t,0,40,725,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(" #activity-kit.avatar .finish .back { color: "),i.b(i.v(i.f("theme_color",e,t,0))),i.b(";} #activity-kit.avatar .finish .back .icon { background-color: "),i.b(i.v(i.f("theme_color",e,t,0))),i.b("; } #activity-kit.avatar .finish .print { background-color: "),i.b(i.v(i.f("theme_color",e,t,0))),i.b("; } #activity-kit.avatar .toolbar .tab.done.active { background-color: "),i.b(i.v(i.f("theme_color",e,t,0))),i.b("; } #activity-kit.stickerbook .choices, #activity-kit.stickerbook .choices > .progress, #activity-kit.stickerbook .finish, .landscape #activity-kit.stickerbook .toolbar .tabs .tab.active .tab-content, .portrait #activity-kit.stickerbook .toolbar .tabs .tab.active .tab-content { background-color: "),i.b(i.v(i.f("theme_color",e,t,0))),i.b("; } #activity-kit .print-footer .print-title { color: "),i.b(i.v(i.f("theme_color",e,t,0))),i.b("; } ")}),e.pop()),s.b(" "),s.s(s.f("theme_arrows",e,t,1),e,t,0,759,1368,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(" #activity-kit.avatar .toolbar .eye .next{ background-image: url("),i.b(i.v(i.f("next",e,t,0))),i.b("); background-size: 96% auto; } #activity-kit.avatar .toolbar .eye .prev{ background-image: url("),i.b(i.v(i.f("prev",e,t,0))),i.b("); background-size: 96% auto; } #activity-kit.stickerbook .omnislide .next{ background-image: url("),i.b(i.v(i.f("next",e,t,0))),i.b("); background-size: 50px; } #activity-kit.stickerbook .omnislide .prev{ background-image: url("),i.b(i.v(i.f("prev",e,t,0))),i.b("); background-size: 50px; } #activity-kit.dressup .omnislide .next{ background-image: url("),i.b(i.v(i.f("next",e,t,0))),i.b("); background-size: 50px; } #activity-kit.dressup .omnislide .prev{ background-image: url("),i.b(i.v(i.f("prev",e,t,0))),i.b("); background-size: 50px; } ")}),e.pop()),s.b(" </style>"),s.fl()},partials:{},subs:{}}),function(e){e.ActivityKit=e.ActivityKit||{},e.ActivityKit.rule_templates={Background:{zIndex:1,required:!0,min:1,max:1,selfReplace:!0,width:1,height:1},CharacterSticker:{movable:!0,zIndex:2,max:100},PropSticker:{movable:!0,zIndex:4,max:100},DressupCharacter:{zIndex:2,max:1,movable:!0,selfReplace:!0}}}(this),function(e){"use strict";var t=e.ActivityKit,i=e.Disney,s=e._,n=[],a=e.devicePixelRatio||1,o=e.document.documentElement.clientWidth,r=function(){for(var e=0;e<n.length;++e)n[e](o);r=n=null};t.hiRes=function(e){n?n.push(e):e(o)},a>1?i.geo(function(e){s.contains(["dialup","mobile","satellite","wireless"],e)||(o=a*o),r()}):r()}(this),function(e){"use strict";var t,i=e.ActivityKit,s=e.jQuery,n=e.Backbone,a=e._,o=n.Model,r=n.Collection,l=function(){},c=1024,d=function(){t=null},u=i.unload=function(){t||(t=[],a.defer(d,1e3)),t.push(this),this.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAIAOw=="},p=function(t,n){var o=t.prototype;a.each(n,function(e){o[e]=function(){var t=this.get(e),i=a.keys(t||{});return 0===i.length?void 0:t[a.min(i,function(e){var t=e-c;return 0>t?t*t:t})]}}),o.prefetch=a.memoize(function(){var t,o,r,c,d=this,p=s.Deferred(),h=0,f=n.length;return f>0?(r=function(){this.onload=this.onabort=this.onerror=l,u.call(this),p.notify(e.Math.min(++h,f)/f),h>=f&&(t=null,e.clearInterval(o),p.resolve())},c=function(e){e&&e.onload===r&&e.complete&&e.onload()},o=e.setInterval(function(){a.each(t,c)},500),i.hiRes(function(){t=a.map(n,function(t){var i,s=d[t]();return i=new e.Image,i.src=s,i.complete?r.call(i):i.onload=i.onabort=i.onerror=r,i})})):p.resolve(),p.promise()},function(){return this.cid})},h=function(){return s.when.apply(s,this.map(function(e){return e.prefetch()})).pipe(null,null,function(){return a.reduce(arguments,function(e,t){return e+(t||0)},0)/arguments.length})},f=o.extend({});i.GroupList=r.extend({model:f,prefetch:h});var v=o.extend({defaults:{zIndex:0,movable:!1,min:0},applyTo:function(e,t,i){var n,o,r,l,c,d=e.ofRule(this),u=d.length,p=this.get("required"),h=this.get("min"),f=this.get("max");if(u>f){var v=a.first(d.slice(0,u-f));n=v.get("x"),o=v.get("y"),r=v.get("width"),l=v.get("height"),c=v.get("rotation"),i&&(i.set("x",n),i.set("y",o),i.set("width",r),i.set("height",l),i.set("rotation",c)),e.remove(v)}else if(p&&h>u)e.add(a.map(t.ofRule(this).slice(0,h),function(e){return e.clone()}));else if(i&&i.creationEvent){var b;b=i.creationEvent.originalEvent?i.creationEvent.originalEvent:i.creationEvent;var m={x:(b.x-s(b.target).first("img").offset().left)/s(b.target).first("img").width(),y:(b.y-s(b.target).first("img").offset().top)/s(b.target).first("img").height()};i.set("x",(s(b.target).offset().left-s(".scene").offset().left)/s(".scene")[0].offsetWidth-.03),i.set("y",(s(b.target).offset().top-s(".scene").offset().top)/s(".scene")[0].offsetHeight-.5),i.set("relLoc",m)}return e}});i.RuleList=r.extend({model:v,applyTo:function(e,t,i){return this.each(function(s){s.applyTo(e,t,i)}),e},forLayer:function(e){return this.get(e.get("rule"))}});var b=o.extend({defaults:{rotation:0},initialize:function(){var t=this;(null==this.get("x")||null==this.get("y"))&&this.positionAt(.4,.5),"Background"===this.get("modifier_rule")&&this.positionAt(0,0);var n=new e.Image;n.src=t.src(),s(n).on("load",function(){if(t.set("natural",{width:n.naturalWidth,height:n.naturalHeight}),i.bgSize||"Background"!==t.get("modifier_rule")){if(i.bgSize&&"Background"!==t.get("modifier_rule")){var e={width:n.naturalWidth/i.bgSize.width,height:n.naturalHeight/i.bgSize.height};if(!t.get("width")){var s=1;"PropSticker"===t.get("modifier_rule")?s=.3:"CharacterSticker"===t.get("modifier_rule")?s=.6:"DressupCharacter"===t.get("modifier_rule")&&(s=.8),t.set("width",e.width*s),t.set("height",e.height*s)}}}else i.bgSize=t.get("natural")})},positionAt:function(e,t){this.set("x",e),this.set("y",t)},groups:function(){var e=this.get("group");return this.get("groups")||(e?[e]:[])},isRule:function(e){return this.get("rule")===e},inGroup:function(e){return e.id&&(e=e.id),a.contains(this.groups(),e)}}),m=i.LayerList=r.extend({model:b,prefetch:h,ofRule:function(){var e=a.map(arguments,function(e){return e.id&&(e=e.id),e});return this.select(function(t){return a.include(e,t.get("rule"))})},ofGroup:function(e){return this.filter(function(t){return t.inGroup(e)})}}),g=o.extend({rules:function(){var e=this.get("rule");return this.get("rules")||(e?[e]:[])},findChoices:function(e,t,i){if(this.get("group"))return t.toArray();var s=new m(i.ofGroup(e));return s.ofRule.apply(s,this.rules())}});i.TabList=r.extend({model:g,prefetch:h}),p(f,["icon"]),p(b,["src"]),i.hiRes(function(e){c=e})}(this),function(e,t,i){"use strict";var s="swipeasaurus",n="."+s,a={effect:"slide",loop:!0,index:0,speed:300,delay:0,rtl:!1},o=Math.abs,r=Math.min,l=e.setTimeout,c=e.clearTimeout,d=["Webkit","Moz","ms","O"],u=e.document.documentElement,p=function(e){var t,s=0;if(u.style[e]!==i)return e;for(t=e.charAt(0).toUpperCase()+e.substr(1);s<d.length;s++)if(u.style[d[s]+t]!==i)return d[s]+t},h=!!p("perspective"),f=!!p("transition"),v=!!p("transform"),b=(p("transform")||"transform").replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase()}).replace(/^ms-/,"-ms-"),m=function(){return(new Date).getTime()},g=function(e,i){return t("<span/>",{"class":e,title:i,role:"button",onclick:""})},y={slide:{c:{overflow:"hidden"},s:{opacity:1,transitionProperty:b+", visibility"},a:f&&v?function(e,t,i){i=i?i+"ms":"0ms";var s=o(t)<2,n=this.rtl?-100:100;e.css({transitionDuration:i+", 0ms",transitionDelay:"0ms, "+(s?"0ms":i),visibility:s?"visible":"hidden",transform:h?"translate3d("+t*n+"%,0,0)":"translateX("+t*n+"%)"})}:function(e,t,i){var s=this,n=s.rtl?"right":"left",a=function(){e.css(n,100*(t*(1-s._r-s._l)+s._l)+"%")},o=e.width();if(i&&o){var r={};r[n]=t*o+"px",e.stop().css(n,e.position()[n]).animate(r,i,a)}else a()}},fade:{c:{overflow:""},s:{transform:"translate3d(0,0,0)",transitionProperty:"opacity, visibility"},a:f?function(e,t,i){i=i?i+"ms":"0";var s=o(t),n=1>s,a=.5>s;e.css({transitionDuration:i+", 0ms",transitionDelay:"0ms, "+(n?"0ms":i),visibility:n?"visible":"hidden",opacity:1-r(1,s),zIndex:a?1:0})}:function(e,t,i){var s=o(t),n=1>s;n&&e.css({visibility:"visible"}),e.stop().animate({opacity:1-r(1,s)},i,function(){n||e.css({visibility:"hidden"})})}}},_={scroll:function(){t(this.$el).scrollLeft(0)}},k=function(e,t){var i=e[t]||e.peek;return i>0&&.5>i?i:0},w=function(e,i){var s,a=this,o=a.rtl=!!i.rtl||"rtl"===e.css("direction"),r=a.$slides=e.children(),l=a.length=r.length,c=a._w=!!i.loop,d=a._l=k(i,"left"),u=a._r=k(i,"right"),p=1-d-u;a._s=+i.speed,a.index=i.index,a.$el=e,t.each(_,function(t,s){var o=e;"mouse"===t.substr(0,5)&&i.arrows&&(o=e.parent()),o.on(t+n,function(e){s.call(a,e)})}),r.on("focusin",function(){a.slide(t(this).index())}),i.dots&&l>1&&(s=r.map(function(e){return g("dot",e)[0]}),s.on("click",function(e){var i=t(e.currentTarget).index();a.slide(i)}),e.on("slide",function(e,t){s.removeClass("active").eq(t).addClass("active")}),e.after(t("<div/>",{"class":"dots","aria-hidden":"true"}).append(s))),t.each({prev:["Previous",0],next:["Next",l-1]},function(s,n){var o;i[s]?o=t(i[s]):i.arrows&&(o=e.siblings("."+s),!o.length&&l>1&&e.after(o=g(s,n[0]))),o&&(o.on("click",t.proxy(a[s],a)),c||e.on("slide",function(e,t){o.toggleClass("disabled",t===n[1])}))}),e.css({zIndex:1,position:"relative"}),r.each(function(e){var i=a.index;t(this).css({display:"block",position:e===i?"relative":"absolute",width:100*p+"%",left:o?"auto":100*d+"%",right:o?100*d+"%":"auto",top:0})}),a.effect(i.effect),a.start(i.delay)};w.prototype={_c:0,effect:function(e){var i=y[e]||a.effect;this._a=function(e,s){for(var n=0,a=this.length,o=this.$slides;a>n;++n)i.a.call(this,t(o[n]),n-e,s)},this.$el.css(i.c),this.$slides.css(i.s),this.slide(this.index,!0)},slide:function(e,t){var i=this,s=t?0:i._s;0>e&&(e=0),e>=i.length&&(e=i.length-1),i._c++&&i.index===e||(i.$el.trigger("slide",i.index=e),c(i._t),i._t=l(function(){i.$el.trigger("slideEnd",e)},s)),i._a(i.index,s),i.resume()},prev:function(){var e=this.index;0===e?this._w&&this.slide(this.length-1):this.slide(e-1)},next:function(){var e=this.index;e===this.length-1?this._w&&this.slide(0):this.slide(e+1)},resume:function(){var e=this;e.pause(),e._d>0&&(e._i=l(function(){t(e.$el).data(s)===e&&e.next()},e._d+e._s))},pause:function(){c(this._i)},start:function(e){this._d=e||this._d,this.resume()},stop:function(){this._d=0,this.pause()}},t.extend(_,e.Modernizr.touch?{touchstart:function(e){var t=e.originalEvent.touches;return t.length>1?_.touchcancel.call(this,e):void(this.touch={x:t[0].pageX,y:t[0].pageY,delta:0,dist:0,test:!0,time:m(),width:this.$el.width()})},touchmove:function(e){var t,i,s=this.touch,n=e.originalEvent.touches,a=this.index,r=this.length;if(s){if(t=n[0].pageX-s.x,s.dist+=o(t-s.delta),s.delta=t,s.test&&(i=n[0].pageY-s.y,s.test=!1,o(t)<o(i)))return _.touchcancel.call(this,e);
e.preventDefault(),this.pause(),(0===a&&t>0||a===r-1&&0>t)&&(t/=o(t)/s.width+1),this._a(a-t/s.width)}},touchcancel:function(){this.touch=null,this.slide(this.index)},touchend:function(e){var t=this.touch,i=0;t&&((2*o(t.delta)>t.width||m()-t.time<250&&t.dist>20)&&(i=t.delta<0?1:-1),t.dist>20&&(e.preventDefault(),this.bust=m()),this.touch=null,this.slide(this.index+i))},click:function(e){this.bust&&m()-this.bust<250&&e.preventDefault()}}:{mouseenter:function(){this.pause()},mouseleave:function(){this.resume()}}),t.fn[s]=function(e){var i=arguments;return this.each(function(){var n,o=t(this);"string"==typeof e?(n=o.data(s),n[e].apply(n,Array.prototype.slice.call(i,1))):(e=t.extend({},a,e),o.data(s,new w(o,e)))})}}(this,jQuery),function(e){"use strict";var t=e.ActivityKit,i=e.jQuery,s=e.Backbone,n=e.Math,a=e.Disney,o=e.Tracker,r=e._,l=s.View,c=function(e){o.link({linkName:"activity_kit",linkPosition:"activity_kit/"+e})},d=function(){this.removeAttribute("width"),this.removeAttribute("height")},u=t.ProgressView=l.extend({className:"progress",percent:0,initialize:function(e){var t=this,s=r.bind(t.remove,t);t.promise=i.when(e.promise).then(function(){s()},s,r.bind(t.progress,t)),t.render()},progress:function(e){this.percent=e,this.$(".bar").css("width",100*e+"%")},render:function(){var e=i("<div/>",{"class":"track"});e.append(i("<div/>",{"class":"bar"})),this.$el.empty().append(e),this.progress(this.percent)}},{forPromise:function(e,t){e=i.when(e),"pending"===e.state()&&i(t).prepend(new u({promise:e}).el)}}),p=l.extend({tagName:"div",className:"layer",transformControl:'<div class="transformers-container"><div class="transformers"><div class="rotate handle"><div class="handle-aspect"></div></div><div class="resize handle"><div class="handle-aspect"></div></div></div></div>',endPos:{},events:{mousedown:"mousedown",touchstart:"touchstart",dragstart:function(e){e.preventDefault()}},initialize:function(){var t=new e.Image,s=this.$el,n=this;t.src=this.model.src(),this.render(),s.append(t),this.options.rule.get("selfReplace")?s.css("z-index",this.options.rule.get("zIndex")):(this.options.old=!1,s.css("z-index",999)),t.loaded?n.assignOrientation(t,s):i(t).on("load",function(){n.assignOrientation(t,s)}),this.options.rule.get("movable")&&s.append(this.transformControl),this.$el.append('<div class="glow" />'),this.model.on("change",this.render,this)},assignOrientation:function(e,t){var i=e.naturalHeight/e.naturalWidth,s=i>2.25?"ultra-portrait":i>1?"portrait":i>.75?"square":"landscape";t.addClass(s+"-image")},startgesture:function(e,t,s){var n=this;if(this.movable()){var a=this.model,o=this.$el.closest(".scene"),l=o.offset();l.width=o.outerWidth(),l.height=o.outerHeight(),this.gesture={offset:r.extend({},l),initial:{x:a.get("x"),y:a.get("y"),width:a.get("width"),rotation:a.get("rotation")},start:{x:e-l.left,y:t-l.top,target:s,direction:0}}}this.options.rule.get("min")>0&&this.options.trash.toggleVisible(!1);var c=[];i.each(this.$el.siblings(),function(e,t){c.push({el:t,index:parseInt(i(t).css("z-index"),10)})}),c=c.sort(function(e,t){return e.index-t.index}),i.each(c,function(e,t){t.index=e+1,e>0&&i(t.el).css("z-index",t.index)}),!this.options.rule.get("selfReplace")&&this.options.old&&this.$el.css("z-index",r.last(c).index+1),i.each(this.model.collection.models,function(e,t){t===n.model?n.model.inFocus=!n.model.inFocus:t.inFocus=!1}),i(s).hasClass("handle-aspect")||(i(".layer.focus").removeClass("focus"),i(s).closest(".layer").hasClass("background-rule-type")||this.$el.closest(".scene").removeClass("focus-on-layer"))},movegesture:function(e,t){var s=this.model,a=this.gesture,o=this.options.trash;if(a){var r={x:e-a.offset.left,y:t-a.offset.top},l=r.x-a.start.x,c=r.y-a.start.y,d=i(a.start.target).closest(".layer"),u={top:d.position().top+d.height()/2,left:d.position().left+d.width()/2},p=n.atan2(r.y-u.top,r.x-u.left)-n.atan2(a.start.y-u.top,a.start.x-u.left),h=a.start.x-u.left,f=r.x-u.left,v=n.abs(f)-n.abs(h);i(a.start.target).parent().hasClass("rotate")?this.$el.hasClass("rotating")||this.$el.addClass("rotating"):this.$el.addClass(i(a.start.target).parent().hasClass("resize")?"resizing":"dragging"),i(a.start.target).parent().hasClass("rotate")?(s.set("rotation",a.initial.rotation+p),this.$el.find(".transformers").css({transform:"rotate("+p+"rad)"})):i(a.start.target).parent().hasClass("resize")?s.set("width",a.initial.width+v/a.offset.width):(s.set("x",a.initial.x+l/a.offset.width),s.set("y",a.initial.y+c/a.offset.height)),0!==l&&0!==c&&(this.model.inFocus=!0)}this.options.rule.get("required")||o.toggleVisible(!0),o.toggleHover(o.inHitZone(e,t)&&!this.options.rule.get("required")),this.endPos={left:e,top:t}},cancelgesture:function(){var e=this.gesture;e&&this.endgesture(e.start.x,e.start.y)},endgesture:function(e,t){var s=this.options.trash,n=this.$el;null!=e&&null!=t&&(t>i(".choices").offset().top&&(t=i("#activity-kit").height()/3*2),this.movegesture(e,t)),this.options.old||(n.css("z-index",997),this.options.old=!0),this.gesture=null,n.closest("#activity-kit").off("."+this.cid),n.removeClass("dragging rotating resizing"),this.toggleFocus(this.model.inFocus),this.$el.find(".transformers").css({transform:"rotate(0rad)"}),s.inHitZone(e,t)&&!this.options.rule.get("required")&&this.throwOut()},mousedown:function(e){var t=this.cid;this.startgesture(e.pageX,e.pageY,e.target),this.$el.closest("#activity-kit").on("mousemove."+t,r.bind(this.mousemove,this)).on("mouseup."+t+" mouseleave."+t,r.bind(this.mouseup,this))},mousemove:function(e){e.preventDefault(),this.movegesture(e.pageX,e.pageY)},mouseup:function(e){this.endgesture(e.pageX,e.pageY)},touchstart:function(e){var t,s,n=this.cid;if(s=e.originalEvent?e:i.Event(e,{target:this.el}),t=s.originalEvent.touches,t.length>1)this.cancelgesture();else if(this.movable()){this.startgesture(t[0].pageX,t[0].pageY,t[0].target);var a=this.$el.closest(".scene");a.on("touchmove."+n,r.bind(this.touchmove,this)).on("touchend."+n,r.bind(this.touchend,this)).on("touchcancel."+n,r.bind(this.cancelgesture,this))}},touchmove:function(e){var t;t=e.originalEvent?e.originalEvent.touches:e.touches,this.gesture&&(e.preventDefault(),this.movegesture(t[0].pageX,t[0].pageY))},touchend:function(){this.endgesture(this.endPos.left,this.endPos.top),this.endPos={}},render:function(){var e=this.model,t=this.$el;t.addClass(e.attributes.rule+" "+e.attributes.modifier_rule.toLowerCase()+"-rule-type"),t.attr("data-linkedTo",this.options.rule.get("linkedTo")),this.$el.css({width:100*e.get("width")+"%",top:100*e.get("y")+"%",left:100*e.get("x")+"%",position:"absolute"}).each(d),this.$el.find("img").css({transform:"rotate("+e.get("rotation")+"rad)"})},movable:function(){return this.options.editable&&this.options.rule.get("movable")},toggleFocus:function(t){var i=this,s=this.options.trash,n=!this.options.rule.get("required");e.clearInterval(s.focusInterval),t?(i.$el.addClass("focus"),s.toggleVisible(n),s.targetLayer=n?this:null,s.focusInterval=e.setTimeout(function(){i.$el.removeClass("focus"),s.toggleVisible(!1)},5e3)):(i.$el.removeClass("focus"),s.toggleVisible(!1),s.targetLayer=null)},throwOut:function(){this.options.model.collection.remove(this.model),e.clearInterval(this.options.trash.focusInterval),this.options.trash.toggleHover(!1),this.options.trash.toggleVisible(!1)},remove:function(){l.prototype.remove.call(this),t.unload.call(this.el)}});t.SceneView=l.extend({className:"scene",events:{save:function(){this.save()}},initialize:function(){var e=this,t=e.collection;e.render(),i("#activity-kit").addClass(this.options.activityType),t.on("add",function(t,s){var n=s.indexOf(t),a=e.layer(t),o=a.el;if(0===n?e.$el.prepend(o):e.items().eq(n-1).after(o),t.creationEvent){var r;r=t.creationEvent.originalEvent?t.creationEvent.originalEvent:t.creationEvent,e.options.rules.forLayer(t).get("selfReplace")||(t.set("x",(i(r.target).offset().left-i(".scene").offset().left)/i(".scene")[0].offsetWidth-.03),t.set("y",(i(r.target).offset().top-i(".scene").offset().top)/i(".scene")[0].offsetHeight-.5))}}),t.on("remove",function(t,i,s){e.items().eq(s.index).remove()}),t.on("reset",e.render,e),i("#activity-kit").on("touchmove",function(e){e.preventDefault()})},render:function(){var e=this;return e.items().remove(),e.collection.each(function(t){var s=e.layer(t).el;e.options.rules.forLayer(t).get("movable")&&i(s).append(e.transformControl),e.$el.append(s),i(s).css("z-index",e.options.rules.forLayer(t).get("zIndex"))}),e},layer:function(e){var t=e;t.inFocus=!1;var i=new p({model:t,old:!0,rule:this.options.rules.forLayer(e),editable:this.options.editable,trash:this.options.trash});return i.render(),{el:i.el,layer:i}},items:function(){return this.$el.children()},save:function(){var e=a.top.current,t=e.guest;t.login().then(function(){return null})}}),t.ChoicesView=l.extend({className:"choices",choicesPerRow:function(){return 5},transitionEffect:function(){return"slide"},events:{"mousedown .layer":function(e){e.preventDefault();var t=e.currentTarget;this.applyChoice(this.$(".layer").index(t),e)},"touchstart .layer":function(e){e.preventDefault();var t=e.currentTarget;this.applyChoice(this.$(".layer").index(t),e)},"touchmove .layer":function(e){e.preventDefault()},"mousemove .layer":function(e){e.preventDefault()}},initialize:function(e){var t=this.scene=e.scene,i=this.collection;i.on("reset",this.render,this),this.render(),t.on("add",this.selection,this),t.on("remove",this.selection,this),t.on("reset",this.selection,this)},selection:function(){var e=this.scene;this.$(".layer").each(function(){var t=i(this),s=t.data("id");t.toggleClass("selected",!!e.get(s))})},render:function(){var e,s=this,n=i("<div/>"),a=this.collection;n.css("display","none"),a.each(function(t,a){a%s.choicesPerRow()===0&&(e=i("<ul/>",{"class":t.get("rule")+" "+t.get("modifier_rule").toLowerCase()+"-rule-type"}).appendTo(n));var o=i("<img/>",{"class":"icon",src:t.get("src")[768]}),r=i("<div/>",{"class":"layer "+t.get("rule")+" "+t.get("modifier_rule").toLowerCase()+"-rule-type",data:{id:t.id}}).append(o);e.append(i("<li/>").append(r))}),this.$("img").each(t.unload),this.$el.empty().append(n),this.$("img").each(d),n.swipeasaurus({arrows:!0,right:0,loop:!1,effect:this.transitionEffect()}),this.selection(),n.fadeIn(),u.forPromise(a.prefetch(),this.$el)},applyChoice:function(e,t){var i,s,n=this.options,a=this.collection,o=a.at(e),r=this.options.rules,l=this.scene;if(n.groups.include(o)){var d=n.toolbar.options;n.scenes[d.active.id].reset(l.toArray()),l.reset(n.scenes[o.id].toArray()),n.active=d.active=o}else i=r.forLayer(o),l.get(o.id)?i.get("min")<l.ofRule(i).length&&l.remove(o):(s=o.clone(),i.get("selfReplace")||(s.creationEvent=t),l.add(s)),r.applyTo(l,o,s);c("img/"+a.title+(e+1))}}),t.ToolbarView=l.extend({index:0,className:"toolbar",events:{"click .tabs li":function(e){var t=e.currentTarget;this.switchToTab(i(t).prevAll().length,!0)},"click .next":function(){this.activeTab?i(this.activeTab).find(".next").trigger("click"):i(".omnislide .choices.selected").find(".next").trigger("click")},"click .prev":function(){this.activeTab?i(this.activeTab).find(".prev").trigger("click"):i(".omnislide .choices.selected").find(".prev").trigger("click")}},initialize:function(e){this.index=e.index||this.index,this.render()},render:function(){var e=i("<ul/>",{"class":"tabs tabs-"+this.options.tabs.length}),t=i("<div/>",{"class":"eye"}).append(i("<div/>",{"class":"next",role:"button",title:"Next"})).append(i("<div/>",{"class":"prev",role:"button",title:"Prev"}));this.options.tabs.each(function(t){e.append(i("<li/>",{"class":"tab "+t.get("rule")}).append(i("<div/>",{"class":"tab-content"}).append(i("<img/>",{"class":"lit",src:t.get(t.get("icon_active")?"icon_active":t.get("active_icon_image_fog")?"active_icon_image_fog":"icon_image_fog")})).append(i("<img/>",{"class":"dim",src:t.get(t.get("icon_default")?"icon_default":"icon_image_fog")})).append(i("<span/>",{text:t.get("title"),"class":"title"}))))}),e.find("li").first().addClass("active"),this.$el.empty().append(t).append(e),this.$("img").each(d),this.switchToTab(this.index)},switchToTab:function(i,s){var a=this.options,o=this.index=+i,r=a.tabs.at(o),l=r.get("title").toLowerCase(),d=100,u=1.5,p=96,h=n.max(this.options.tabs.length,5);r.get("finish")?(a.omnislide&&a.omnislide.children(".choices").removeClass("selected"),this.options.finish.$el.delay(d).fadeIn(),this.$(".eye").css("top",80+u+"%")):(this.options.finish.$el.fadeOut(150),"stickerbook"===t.data.activityType&&this.collection.reset(r.findChoices(a.active,a.groups,a.choices)),this.$(".eye").css("top",o*p/h+u+"%")),this.$(".eye").attr("class","eye "+r.get("rule")),this.$el.attr("class","toolbar "+r.get("rule")+" tab-"+o),e.setTimeout(function(){this.$(".tabs li").removeClass("active").eq(o).addClass("active")},100),s&&c("button/"+l),this.collection.title=l}}),t.TrashView=l.extend({className:"trash",tagName:"div",focusInterval:null,targetLayer:null,events:{click:function(){var e=this.targetLayer;e&&(e.throwOut(),this.toggleVisible(!1))}},inHitZone:function(e,t){var i={};return i.left=this.$el.offset().left,i.right=i.left+this.$el.width(),i.top=this.$el.offset().top,i.bottom=i.top+this.$el.height(),e>i.left&&t>i.top&&e<i.right&&t<i.bottom},toggleVisible:function(e){this.$el.toggleClass("active",e)},toggleHover:function(e){e?(this.$el.addClass("hovering"),i(".dragging").css("opacity","0.15")):(this.$el.removeClass("hovering"),i(".dragging").css("opacity","1"))}}),t.FinishView=l.extend({className:"finish-container",events:{"click .print":function(){c("button/print"),e.print()},"click .save":function(){this.options.canvas&&this.options.canvas.$el.trigger("save")},"click .back":function(){c("button/back");var e=this.options.toolbar.$el.find("ul li").get(0);i(e).trigger("click")}},initialize:function(){var s=this.$el.empty(),n=this.options.show_save,a=i("<div/>",{"class":n?"finish saving":"finish"}),o=i("<div/>",{"class":"print",role:"button",title:t.translations.print,text:t.translations.print}),r=i("<div/>",{"class":"reload back",role:"button",title:t.translations.back,text:t.translations.back}),l=i("<div/>",{"class":"save",role:"button",title:t.translations.save,text:t.translations.save});a.append(r),e.print&&a.append(o),n&&a.append(l),s.append(a)}}),i(e).on("touchstart",function(){})}(this),function(e){"use strict";var t=e.ActivityKit,i=e.jQuery,s=e._,n=e.Backbone;t.data={};var a=function(e){var t=0,i=function(){t<e.length&&e[t++].prefetch().then(i)};e=e.slice(),i(),i()};t.init=function(o,r,l,c){s.extend(t.data,{activityType:l,hasPrimary:!1,orientation:"landscape"}),t.translations={print:"Print",done:"Done",back:"Back",save:"Add to Gallery"},s.extend(t.translations,c);var d,u=r,p=[],h=[];o.rules=[],i.each(o.categories,function(e,s){s.rule=s.title.replace(/ /g,"-").replace(/'/g,"").toLowerCase(),o.rules.push({id:s.rule,template:s.modifier_rule}),s.primary&&(t.data.hasPrimary=!0,i.each(s.assets,function(e,t){h.push(t.id)}))}),t.data.hasPrimary||(d=new t.GroupList({id:"emptyPrimary"}),h.push("emptyPrimary")),i.each(o.rules,function(e,t){s.extend(t,u[t.template])}),i.each(o.categories,function(e,s){i.each(s.assets,function(e,t){t.groups=s.primary?[t.id]:h,t.id=t.id.toString(),t.src={320:t.iphone_image_fog,640:t.iphone_retina_image_fog,768:t.ipad_image_fog,1024:t.desktop_image_fog,1536:t.ipad_retina_image_fog,2048:t.desktop_retina_image_fog},t.rule=s.title.replace(/ /g,"-").replace(/'/g,"").toLowerCase(),t.modifier_rule=s.modifier_rule,p.push(t)}),s.primary&&(s.group=!0,d=new t.GroupList(s.assets))}),o.categories.push({title:t.translations.done,rule:"done",finish:!0,icon_default:"//a.dilcdn.com/a/modules/activity_kit_app/icon-done-864a26cc55a8.png",icon_active:"//a.dilcdn.com/a/modules/activity_kit_app/icon-done_active-ed56d02b0135.png"});var f=/(?:\?|&)group=([^&]*)/.exec(e.location.search),v=new t.RuleList(o.rules),b=new t.TabList(o.categories),m=new t.LayerList(p,{comparator:function(e){return e.groups().length}}),g=new t.LayerList,y=d.reduce(function(e,i){var s=e[i.id]=new t.LayerList;return v.applyTo(s,new t.LayerList(m.ofGroup(i))),g.add(s.models),e},{}),_=f&&d.get(f[1])||(f=null)||d.first(),k=y[_.id].clone(),w=new t.LayerList,x=new t.TrashView({scene:k}),C=new t.SceneView({activityType:t.data.activityType,collection:k,rules:v,editable:!0,trash:x}),T=new t.FinishView({canvas:C,choices:m,tabs:b,show_save:o.show_save}),A=new t.ToolbarView({activityType:t.data.activityType,collection:w,active:_,scene:k,tabs:b,index:f?1:0,choices:m,groups:d,finish:T}),E=[];"stickerbook"===t.data.activityType&&(E[0]=new t.ChoicesView({activityType:t.data.activityType,collection:w,active:_,scene:k,scenes:y,rules:v,groups:d,toolbar:A,trash:x}));var S=[];i.each(E,function(e,t){S.push(t.el)});var P=i("<div/>",{"class":"omnislide"}).append(T.el);i.each(S,function(e,t){P.append(t)}),s.extend(T.options,{toolbar:A}),s.extend(A.options,{omnislide:P});var M=i("<div/>",{"class":"scaler"}).append(C.el),L=i("<div/>",{"class":"controls"}).prepend(x.el).prepend(A.el).prepend(P),D=function(){var s=i(".stage"),a=i(e).height()-s.offset().top,o=n.Resize.width(),r=a/o,l=r>1?"portrait":"landscape";o>1024&&(l="landscape"),l!==t.data.orientatation&&(s.removeClass(t.data.orientation).addClass(l),t.data.orientation=l),i(".loading-spacer").addClass("complete")},I=g.add(b).prefetch().then(function(){i("#activity-kit").prepend(L).prepend(M),D(),i(e).on("resize",s.throttle(D,100)),a(m)});T.$el.hide(),t.ProgressView.forPromise(I,M),i(e.document).on("keydown",function(e){var t=x.targetLayer;if(8===e.keyCode&&e.preventDefault(),t){var i=t.model.get("rotation"),s=t.model.get("width");8===e.keyCode?(e.preventDefault(),t.throwOut()):27===e.keyCode?(t.model.inFocus=!1,t.toggleFocus(!1)):38===e.keyCode?(s+=.03,t.model.set("width",s)):40===e.keyCode?s>.1&&(s-=.03,t.model.set("width",s)):37===e.keyCode?(i=void 0===i?0:i-.04,t.model.set("rotation",i)):39===e.keyCode&&(i=void 0===i?0:i+.04,t.model.set("rotation",i))}})}}(this),Whiskers("shared.contenttoolbar",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<div id="toolbar"> <div id="metadata" class="bound '),s.b(s.v(s.f("adSystem",e,t,0))),s.b('"> <div class="module_body"> <div class="contentarea col-container"> <div class="content"> <div class="item"> '),s.s(s.f("contentToolbarTitleLink",e,t,1),e,t,0,201,341,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("asset_desktop_image",e,t,1),e,t,0,226,316,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <a href="'),i.b(i.v(i.f("url",e,t,0))),i.b('" class="icon"> <img src="'),i.b(i.v(i.f("asset_desktop_image",e,t,0))),i.b('" alt="'),i.b(i.v(i.f("title",e,t,0))),i.b('"> </a> ')}),e.pop()),i.b(" ")}),e.pop()),s.b(' <div class="productlink"> <h1>'),s.b(s.v(s.f("title",e,t,0))),s.b("</h1> "),s.s(s.f("badge",e,t,1),e,t,0,425,504,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <span class="watch_icon"> <img src="'),i.b(i.v(i.f("badge",e,t,0))),i.b('" class="watchpageicon"> </span> ')}),e.pop()),s.b(" "),s.s(s.f("contentToolbarTitleLink",e,t,1),e,t,0,543,574,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b('<a href="'),i.b(i.v(i.f("url",e,t,0))),i.b('">'),i.b(i.v(i.f("title",e,t,0))),i.b("</a>")}),e.pop()),s.b(' </div> </div> <p itemprop="description">'),s.b(s.v(s.f("description",e,t,0))),s.b(s.v(s.f("rating",e,t,0))),s.b("</p> "),s.s(s.f("cds",e,t,1),e,t,1,0,0,"")||(s.b(" "),s.s(s.f("use_deprecated_social",e,t,1),e,t,0,708,846,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <ul id="social-links"'),i.s(i.f("linksInverted",e,t,1),e,t,0,748,765,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' class="inverted"')}),e.pop()),i.b("> "),i.s(i.f("socialLinks",e,t,1),e,t,0,801,823,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.rp("<socialLinkPartial0",e,t,""))}),e.pop()),i.b(" </ul> ")}),e.pop()),s.b(" "),s.s(s.f("use_deprecated_social",e,t,1),e,t,1,0,0,"")||(s.b(" "),s.s(s.f("suppress_social",e,t,1),e,t,1,0,0,"")||(s.b(" "),s.b(s.rp("<socialLinkPartial1",e,t,"")),s.b(" ")),s.b(" ")),s.b(" ")),s.b(" "),s.s(s.f("contentToolbarPromoLink",e,t,1),e,t,0,1029,1386,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <a href="'),i.b(i.v(i.f("url",e,t,0))),i.b('" class="watch_icon item" alt="'),i.b(i.v(i.f("title",e,t,0))),i.b('"> <div class="messageLink"> '),i.s(i.f("asset_desktop_image",e,t,1),e,t,0,1139,1224,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="watch-icon"> <img src="'),i.b(i.v(i.f("asset_desktop_image",e,t,0))),i.b('" alt="'),i.b(i.v(i.f("title",e,t,0))),i.b('"> </div> ')}),e.pop()),i.b(' <div class="copy'),i.s(i.f("asset_desktop_image",e,t,1),e,t,1,0,0,"")||i.b(" noImage "),i.b('"> <p aria-hidden="true">'),i.b(i.v(i.f("description",e,t,0))),i.b("</p> </div> </div> </a> ")}),e.pop()),s.b(" "),s.s(s.f("purchase",e,t,1),e,t,0,1428,1526,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <div id="purchase" class="bound"> <p> <a href="'),i.b(i.v(i.f("url",e,t,0))),i.b('" target="_blank">'),i.b(i.v(i.f("text",e,t,0))),i.b("</a> </p> </div> ")}),e.pop()),s.b(" </div> </div> "),s.s(s.f("cds",e,t,1),e,t,1,0,0,"")||(s.b(' <div class="ad-container"> <div class="companionad">'),s.b(s.t(s.f("companionAd",e,t,0))),s.b("</div> "),s.b(s.t(s.f("mobileAd",e,t,0))),s.b(" </div> ")),s.b(" </div> </div> </div>"),s.fl()},partials:{"<socialLinkPartial0":{name:"socialLinkPartial",partials:{},subs:{}},"<socialLinkPartial1":{name:"socialLinkPartial",partials:{},subs:{}}},subs:{}}),Whiskers("shared.contenttoolbar2",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<div id="toolbar"> <div id="metadata" class="bound"> <div class="module_body '),s.s(s.f("contentToolbarTitleLink",e,t,1),e,t,0,105,117,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b("has-prodlink")}),e.pop()),s.b(" "),s.s(s.f("cds",e,t,1),e,t,1,0,0,"")||s.s(s.f("suppress_social",e,t,1),e,t,1,0,0,"")||s.b("has-social"),s.b(" "),s.s(s.f("purchase",e,t,1),e,t,0,226,238,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b("has-purchase")}),e.pop()),s.b(' "> <div class="contentarea col-container"> <div class="content"> <h1>'),s.b(s.v(s.f("title",e,t,0))),s.b('</h1> <p itemprop="description">'),s.b(s.v(s.f("description",e,t,0))),s.b(s.v(s.f("rating",e,t,0))),s.b('</p> </div> </div> <div class="secondary-content"> <div class="promo-social-wrapper"> <div class="meta-content"> <div class="productlink"> '),s.s(s.f("contentToolbarTitleLink",e,t,1),e,t,0,554,694,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("asset_desktop_image",e,t,1),e,t,0,579,669,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <a href="'),i.b(i.v(i.f("url",e,t,0))),i.b('" class="icon"> <img src="'),i.b(i.v(i.f("asset_desktop_image",e,t,0))),i.b('" alt="'),i.b(i.v(i.f("title",e,t,0))),i.b('"> </a> ')}),e.pop()),i.b(" ")}),e.pop()),s.b(" "),s.s(s.f("badge",e,t,1),e,t,0,733,812,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <span class="watch_icon"> <img src="'),i.b(i.v(i.f("badge",e,t,0))),i.b('" class="watchpageicon"> </span> ')}),e.pop()),s.b(" "),s.s(s.f("contentToolbarTitleLink",e,t,1),e,t,0,851,903,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <a class="icon_title" href="'),i.b(i.v(i.f("url",e,t,0))),i.b('">'),i.b(i.v(i.f("title",e,t,0))),i.b("</a> ")}),e.pop()),s.b(" </div> "),s.s(s.f("cds",e,t,1),e,t,1,0,0,"")||s.s(s.f("suppress_social",e,t,1),e,t,1,0,0,"")||(s.b(" "),s.b(s.rp("<socialLinkPartial0",e,t,"")),s.b(" ")),s.b(" "),s.s(s.f("purchase",e,t,1),e,t,0,1033,1115,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <div id="purchase"> <p><a href="'),i.b(i.v(i.f("url",e,t,0))),i.b('" target="_blank">'),i.b(i.v(i.f("text",e,t,0))),i.b("</a></p> </div> ")}),e.pop()),s.b(" </div> </div> </div> </div> "),s.s(s.f("cds",e,t,1),e,t,1,0,0,"")||(s.b(' <div class="ad-container"> <div class="companionad">'),s.b(s.t(s.f("companionAd",e,t,0))),s.b("</div> "),s.b(s.t(s.f("mobileAd",e,t,0))),s.b(" </div> ")),s.b(" </div> </div>"),s.fl()},partials:{"<socialLinkPartial0":{name:"socialLinkPartial",partials:{},subs:{}}},subs:{}}),Whiskers("partials.social_link",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<li class="social-dropdown-btn '),s.b(s.v(s.f("share_type",e,t,0))),s.b('"> <div class="label" role="button">'),s.b(s.v(s.f("share_text",e,t,0))),s.b('</div> <!-- dropdown area --> <div class="dropdown-panel"> <span class="dropdown-label">'),s.b(s.v(s.f("output_label",e,t,0))),s.b(':</span> <textarea rows="1" class="text-output"></textarea> </div> </li>'),s.fl()},partials:{},subs:{}}),Whiskers("partials.social_btn",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<button type="button" class="social-link-btn'),s.s(s.f("social_btn_text_lightness",e,t,1),e,t,0,74,109,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(" text-"),i.b(i.v(i.f("social_btn_text_lightness",e,t,0)))}),e.pop()),s.b('" data-source="'),s.s(s.f("shareOverrides",e,t,1),e,t,0,173,196,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(i.v(i.d("shareOverrides.href",e,t,0)))}),e.pop()),s.s(s.f("shareOverrides",e,t,1),e,t,1,0,0,"")||s.b(s.v(s.f("href",e,t,0))),s.b('" data-thumb="'),s.b(s.v(s.f("thumb",e,t,0))),s.b('" data-title="'),s.s(s.f("shareOverrides",e,t,1),e,t,0,317,341,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(i.v(i.d("shareOverrides.title",e,t,0)))}),e.pop()),s.s(s.f("shareOverrides",e,t,1),e,t,1,0,0,"")||s.b(s.v(s.f("title",e,t,0))),s.b('"> <span class="icon-social"></span> <span class="social-share-title">'),s.b(s.v(s.d("translations.share",e,t,0))),s.b("</span> </button>"),s.fl()},partials:{},subs:{}}),function(e){"use strict";var t=e.jQuery,i=e.document,s=e.Tracker;t(function(){var n=e.location;t(i).on("click",".social-dropdown-btn .label",function(){var i=t(this).closest(".social-dropdown-btn"),a=function(e){var i=t(e).closest(".bun.watch").find('meta[itemprop="name"]').attr("content"),s=t(e).closest('div[itemprop="video"]').find('meta[itemprop="embedURL"]').attr("content");t(e).find(".text-output").text('<iframe width="560" height="315" src="'+s+'" frameborder="0" allowfullscreen scrolling="no"></iframe><br/><a href="'+n.href+'">'+i+" on Disney Video</a>")},o=function(e){t(e).removeClass("active"),t("body").off("click.watch"),t(e).hasClass("active")&&(t(e).removeClass("active"),r(e))},r=function(i){s&&s.event({eventCategory:"socialelement",action:"embed",label:e.location.href}),t(i).hasClass("share")?t(i).find(".text-output").text(n.href):t(i).hasClass("embed")&&a(i),t(i).addClass("active"),t("body").on("click.watch",function(e){var s=t(e.target);0===s.closest(".dropdown-panel").length&&0===s.closest(".social-dropdown-btn").length&&o(i)})};i.hasClass("active")?o(i):(t.each(t(".social-dropdown-btn.active"),function(e,t){o(t)}),n=e.location,r(i))});var a=t(".dropdown-panel");t(i).on("click",a,function(){t(this).find(".text-output").select()})})}(this),function(e){"use strict";var t=e.Disney,i=e.Backbone,s=e.jQuery,n=e._,a=e.Whiskers,o=e.Tracker;t.ContentToolbarView=i.View.extend({initialize:function(){this.render(),this.init()},render:function(){var e=this.options.ads,t=this.options.use_deprecated_social,i=t?a.partials.social_link:a.partials.social_btn,s=this.model.get("translations")||{},o=this.options.template||a.shared.contenttoolbar,r=this.model.get("data"),l=n.extend({use_deprecated_social:t,translations:s,cds:this.options.cdsMode&&!e.showCDSAds(),socialLinks:this.options.socialLinks,adSystem:e.adSystem,companionAd:function(){return e.tag(this.type.toLowerCase()+"Companion")}},"activitykit"===this.model.get("type")&&r[1]?r[1]:r[0],e?e.helpers(this.model.toJSON()):{});this.$el.html(o.render(l,{socialLinkPartial:i}))},init:function(){var t=this;t.$(".share-embed-btn").on("click",function(){var i=function(){t.$("#share_embed").removeClass("active"),s("body").off("click.watch"),t.$("#share_link").hasClass("active")&&(t.$("#share_link").removeClass("active"),n())},n=function(){o&&o.event({eventCategory:"socialelement",action:"embed",label:e.location.href}),t.$("#share_embed").addClass("active"),s("body").on("click.watch",function(e){var t=s(e.target);0===t.closest("#share_embed").length&&0===t.closest(".share-embed-btn").length&&i()})};t.$("#sharing .active").length?i():n()}),t.$(".share-link-btn").on("click",function(){var i=function(){t.$("#share_link").removeClass("active"),s("body").off("click.watch"),t.$("#share_embed").hasClass("active")&&(t.$("#share_embed").removeClass("active"),n())},n=function(){o&&o.event({eventCategory:"socialelement",action:"share",label:e.location.href}),t.$("#share_link").addClass("active"),s("body").on("click.watch",function(e){var t=s(e.target);0===t.closest("#share_link").length&&0===t.closest(".share-link-btn").length&&i()})};t.$("#sharing .active").length?i():n()});var i=s("#share_embed");s(".code",i).on("click",function(){s(this).select()});var a=s("#share_link");s(".link",a).on("click",function(){s(this).select()});var r=n.first(this.model.get("data")),l=e.location,c="http://"+l.host+"/embed/"+r.id;t.$("#share_embed .code").text('<iframe width="560" height="315" src="'+c+'" frameborder="0" allowfullscreen scrolling="no"></iframe><br/><a href="'+l.href+'">'+r.title+" on Disney Video</a>"),t.$(".quick_link input[type=text]").val(l.href)},remove:function(){s("body").off("click.watch");var e=s("#share_embed"),t=s("#share_link");s(".code",e).off("click"),s(".link",t).off("click"),s("#sharing").appendTo("body").remove()}})}(this),function(e){"use strict";var t=e.ActivityKit,i=e.Disney,s=e.Grill,n=e._,a=e.jQuery,o=e.Math,r=e.Whiskers,l=s.ModuleView.extend({bodyClassName:"content-page",template:r.modules.activity_kit_shared,initialize:function(){var e=this,i=n.first(e.model.get("data")),s=e.model.get("view"),a=t.rule_templates,o=e.model.get("schema_json");e.translations=e.model.get("translations"),n.defaults(e.translations,{print:"Print",done:"Done",back:"Back"}),i.show_save=o&&o.show_save;var r=n.last(this.model.get("data")).pslug,l=n.last(this.model.get("data")).ptitle;!r&&l&&(r=l.replace(/ /g,"-").replace(/'/g,"").toLowerCase()),r&&(this.bodyClassName+=" "+r),t.init(i,a,s,e.translations)},render:function(){var e=this,t=n.last(e.model.get("data")),i=e.model.get("data").length>1&&n.first(e.model.get("data")),s=n.extend({data:t,kitData:i,cds:e.options.cds,theme:e.model.get("style").default_color_theme,view:e.model.get("view"),upNext:this.upNext&&this.upNext(),translations:e.translations},this.options.ads.helpers());e.options.cds&&(s.allurl+="?cds"),e.$el.html(e.template.render(s,{kitStyles:r.partials.activity_kit_theming,container:r.partials.activity_kit_content})),a("#body-wrapper").attr("class",e.bodyClassName)},ready:function(){var t=this,s=t.options,o=n.last(t.model.get("data")),r=t.translations,l=e.Tracker;a("html").addClass("single-page-print"),this.tb=new i.ContentToolbarView({el:this.$("#meta"),model:this.model,socialLinks:[{share_type:"embed",share_text:r.embed,output_label:r.embed},{share_type:"share",share_text:r.share,output_label:r.quick_link}],cdsMode:s.cds,ads:s.ads}),e.setTimeout(function(){var e=o.ptitle||"",i=o.slug.replace(/-/g,"")||"",s=o.id||"",n=t.generateUUID()||"",a=(new Date).getTime()||"";l.trackApp({assetTypeCode:"app",appEvent:"load",appBuCode:"dcom",appPropertyCode:e,appOwnerName:"dcom",appTypeCode:"misc",appGenreCode:"",appName:i,assetId:s,assetName:"app|dcom|"+e+"|dcom|misc||"+s+"|"+i||"",appTime:a,appSessionId:n})},1e3)},containerType:function(){return n.contains(["stickerbook","avatar"],this.model.get("view"))?"activity_kit":n.last(this.model.get("data")).type.toLowerCase()},generateUUID:function(){var e=function(){return(65536*(1+o.random())|0).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},remove:function(){s.ModuleView.prototype.remove.call(this),a("#body-wrapper").removeClass(this.bodyClassName),a("html").removeClass("single-page-print"),this.tb.remove()}});l.register("stickerbook",{})}(this),Whiskers("modules.add_to_home_screen",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<div id="popup-bookmark"> <div class="popup-bookmark-contain"> <p class="title">'),s.b(s.v(s.f("title",e,t,0))),s.b('</p> <p class="description">'),s.b(s.v(s.f("desc",e,t,0))),s.b("</p> </div> </div>"),s.fl()},partials:{},subs:{}}),function(e){"use strict";var t=e.jQuery,i=e.Disney,s=i.Cookie,n=e.Grill,a=e.Whiskers;n.ModuleView.register("add_to_home_screen",{template:a.modules.add_to_home_screen,cookie_name:"popup-bookmark-tip",cookie_duration:30,display_time:6e3,render:function(){var i=this;if(this.canShowTip()){var s=this.model.get("header_data"),n={title:s.title,desc:s.desc};this.$el.html(this.template.render(n)),this.setCookie(),e.setTimeout(function(){t("#popup-bookmark").hide()},i.display_time)}},setCookie:function(){s.set(this.cookie_name,"true",{domain:s.domain(),expires:this.cookie_duration})},canShowTip:function(){var t=s.get(this.cookie_name),i=e.navigator.userAgent;return-1!==i.indexOf("iPhone")&&!!i.match(/Safari/i)&&!i.match(/ChriOS/i)&&"true"!==t}})}(this),Whiskers("modules.banner",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<div class="bound"> '),s.b(s.t(s.f("bannerAd",e,t,0))),s.b(" </div>"),s.fl()
},partials:{},subs:{}}),Whiskers("modules.sponsor",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<div class="bound"> '),s.b(s.t(s.f("sponsorAd",e,t,0))),s.b(" </div>"),s.fl()},partials:{},subs:{}}),Whiskers("modules.pushdown",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<div id="nav-pushdown"> '),s.b(s.t(s.f("pushdownAd",e,t,0))),s.b(" </div>"),s.fl()},partials:{},subs:{}}),function(e){"use strict";var t=e.Grill,i=e.Whiskers,s=e._,n=t.ModuleView.extend({render:function(){var e=this.model.toJSON(),t=s.extend(this.options.ads.helpers(e),this.model);this.$el.html(this.template.render(t))}});n.register("ad_banner",{style_classes:["full-width","full-height"],template:i.modules.banner}),n.register("sponsor",{style_classes:["full-width","full-height"],template:i.modules.sponsor});var a=t.ModuleView.extend({render:function(){var e=s.extend({},this.options.ads.helpers(),this.model);this.$el.html(this.template.render(e))}});a.register("pushdown",{template:i.modules.pushdown})}(this),Whiskers("modules.all",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<div class="bound '),s.b(s.v(s.f("type",e,t,0))),s.b(" "),s.b(s.v(s.f("entity_type",e,t,0))),s.s(s.f("singleRow",e,t,1),e,t,0,56,67,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(" single-row")}),e.pop()),s.b('"> '),s.s(s.f("header_data",e,t,1),e,t,0,100,118,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(i.rp("<module_header0",e,t,""))}),e.pop()),s.b(' <div id="stream_items"> '),s.b(s.t(s.f("list",e,t,0))),s.b(" </div> "),s.s(s.f("hasMore",e,t,1),e,t,0,189,389,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <div class="show_more_container"> <div class="show_more blue button large" role="button" onclick=""> <span class="label">'),i.b(i.v(i.d("translations.show_more",e,t,0))),i.b('</span> <span class="spinner"></span> </div> </div> ')}),e.pop()),s.b(" </div>"),s.fl()},partials:{"<module_header0":{name:"module_header",partials:{},subs:{}}},subs:{}}),function(e){"use strict";var t=e.Disney,i=t.placeSwap=function(e,t){return t?(t.render(),void e.$("#"+t.cid).replaceWith(t.el)):function(t){t&&i(e,t)}};t.placeHtml=function(e){return e?'<div id="'+e.cid+'"></div>':null}}(this),function(e){"use strict";var t=e.Disney,i=e.Grill,s=t.Style.breakpoints,n=e._,a=e.Backbone;t.GridModuleDimensions={cols:function(e,t){switch(e){case"poster":case"dvd_case":case"letter":case"baseball_card":return t>=s.max?5:t>=s.midHigh?4:t>=s.midLow?3:2;case"square":return t>=s.max?4:t>=s.midHigh?3:2;case"16x9":return t>=s.midHigh?3:t>=s.midLow?2:1;case"widescreen":return t>=s.midHigh?2:1;case"4x3":return t>=s.max?4:t>=s.midHigh?3:t>=s.midLow?2:1;default:return t>=s.max?4:t>=s.midHigh?3:1}},rows:function(e){return e>=s.max?4:e>=s.midHigh?4:5}},i.GridModuleBaseView=i.ModuleView.extend({cols:function(){var e=a.Resize.width(),i=n.first(this.model.get("data")),o=i&&i.entity_config&&i.entity_config.aspect_ratio,r=this.model.get("style");return r.items_per_row_override&&e>=s.midHigh?r.items_per_row_override:t.GridModuleDimensions.cols(o,e)},rows:function(){var e=a.Resize.width();return t.GridModuleDimensions.rows(e)}})}(this),function(e){"use strict";var t=e.Disney,i=e.Grill,s=e.Backbone,n=e.Whiskers,a=e.Math,o=e.encodeURIComponent,r=e._,l=e.jQuery,c=t.Style.breakpoints,d=e.Tracker,u=r.values(c);i.GridModuleBaseView.register("all",{style_classes:["stream-view","grid-view","filters-view"],required_template_sets:["module_header","entities"],template:n.modules.all,breakpoints:u.join(" "),page:1,events:{"click .show_more":function(e){var t=this,i=++t.page*t.cols()*this.rows();e.preventDefault(),t.model.data.ensure(i).then(function(){t.fit(),d.trackPagination(t.page)})},"click .filters a.filter":function(e){var t=this;e.preventDefault(),t.$(".filters a.filter").toggleClass("active");var i=l(".filter_list").height()+44;t.$(".filter_drawer").hasClass("active")?t.$(".filter_drawer").css("height","0").removeClass("active"):t.$(".filter_drawer").css("height",i).addClass("active")}},initialize:function(){var e=this,t=e.model,s=t.data,a=r.first(s.models),o=a.get("entity_config");e.entity_type=a.get("entity_type")||t.get("type"),this.list=new i.ListView({collection:s,template:{render:function(t){return r.extend(t,{translations:e.model.get("translations"),entity_config:o}),n.entities.item.render(t,e.global_components.entities)}}}),s.on("loading",function(t,i){e.updateButton(i)})},render:function(){var e=this.list,i=this.model.data,s=r.extend({entity_type:this.entity_type,list:t.placeHtml(e),hasMore:i.remaining()>0,singleRow:i.count<=this.cols()},this.model);this.$el.html(this.template.render(s,this.ctx_additions())),t.placeSwap(this,e),this.updateButton(!1)},getPlatforms:function(){var e=this,t=e.model,i=t.data,s=[];return r.each(i.models,function(e){l.merge(s,e.attributes.platforms||[])},this),r.uniq(s).sort()},getGameTypes:function(){var e=this,i=e.model,s=i.data,n=[];return r.each(s.models,function(e){n.push(e.attributes.game_type)},this),1===r.uniq(n).length&&"games.disney.com"===t.portal?n[0]:"All"},ready:function(){this.gameFilterType=this.getGameTypes(),this.createUI(),this.$el.loadLazyImages()},createUI:function(){var e=this,i=e.model.get("filters"),s=this.model.get("all_button_text"),n=e.getPlatforms();if(i="games.disney.com"===t.portal?n:i,i&&i.length){var a=this.$(".filter_list"),o=this.$(".mobile_filter_list");a.append('<a class="active" href="" data-filter="All"><span>All '+s+"</span></a>"),this.$(".filters a.filter span").replaceWith("<span>All "+s+"</span>"),this.$(".filter_mobile span").replaceWith("<span>All "+s+"</span>"),l.each(i,function(e){var t=i[e];a.append('<a href="" data-filter="'+t+'"><span>'+t+"</span></a>"),o.append('<option value="'+(e+1)+'" data-filter="'+t+'">'+t+"</option>")}),this.$(".filter_drawer a").click(function(t){t.preventDefault(),e.$(".filter_drawer a").removeClass("active"),l(this).addClass("active"),e.$(".filter_drawer").css("height","0").removeClass("active"),e.$(".filters a.filter").removeClass("active"),"All"===l(this).data("filter")?(e.$(".filters a.filter span").replaceWith("<span>"+l(this).data("filter")+" "+s+"</span>"),e.$(".filter_mobile span").replaceWith("<span>"+l(this).data("filter")+" "+s+"</span>")):(e.$(".filters a.filter span").replaceWith("<span>"+l(this).data("filter")+"</span>"),e.$(".filter_mobile span").replaceWith("<span>"+l(this).data("filter")+"</span>")),e.hideStreamItems()}),this.$(".mobile_filter_list").change(function(){e.$(".mobile_filter_list option:selected").each(function(){"All"===l(this).data("filter")?(e.$(".filters a.filter span").replaceWith("<span>"+l(this).data("filter")+" "+s+"</span>"),e.$(".filter_mobile span").replaceWith("<span>"+l(this).data("filter")+" "+s+"</span>")):(e.$(".filters a.filter span").replaceWith("<span>"+l(this).data("filter")+"</span>"),e.$(".filter_mobile span").replaceWith("<span>"+l(this).data("filter")+"</span>")),e.$(".mobile_filter_list").blur(),e.hideStreamItems()})}),a.css("display","")}this.resize()},hideStreamItems:function(){var t=this,i=this.$("#stream_items ul"),s=this.$("#stream_items"),n=i.outerHeight(),a=l(e).selectTransitionEnd()+".stream_items";i.css("height",n).addClass("hide"),s.addClass("load"),l.support.css3("transition")?i.on(a,function(e){this===e.target&&(t.fetch(),i.off(a))}):t.fetch()},fetch:function(){var e,i=this,n=s.Resize.width(),a=i.list.collection,r=this.$(".filter_drawer a.active").data("filter")||"All",l=this.$("select.mobile_filter_list option:selected").data("filter")||"All";n<c.midHigh?e="/all-filter.json?f="+o(l):(r.replace(/'?'/g,""),e="/all-filter.json?f="+o(r)),"games.disney.com"===t.portal&&(e=e+"&g="+i.gameFilterType),i.page=1,a.reset(),a.url=e;var d=i.page*i.cols()*this.rows();a.ensure(d).then(function(){i.$("#stream_items").removeClass("load"),i.$("#stream_items ul").css("height","auto").removeClass("hide"),i.$el.loadLazyImages()})},updateButton:function(e){var t=this.$el,i=this.model.data;t.toggleClass("loading",e),t.toggleClass("has-more",i.remaining()>0)},resize:function(){var e=this.cols(),t=e>1?"grid-layout":"list-layout";this.page=a.floor(this.model.data.length/this.rows()/e)||1,this.list.$el.attr("class","col-container cols-"+e+" "+t),this.fit()},fit:function(){var e=this.list.collection.count,t=this.page*this.cols()*this.rows();this.model.data.remaining()>0?e>t?(this.list.$el.children().show().slice(t).hide(),this.$(".col").removeClass("last-row"),this.list.$el.children().slice(t-this.cols()).addClass("last-row")):this.list.$el.children().show():(this.list.$el.children().show(),this.$(".col").removeClass("last-row")),this.$el.loadLazyImages()}})}(this),Whiskers("modules.article",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.s(s.f("data",e,t,1),e,t,0,9,1845,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <div class="bound"> <div class="article_container" itemscope="" itemtype="http://schema.org/BlogPosting"> '),i.s(i.f("noscript",e,t,1),e,t,1,0,0,"")||(i.b('<img data-src="'),i.b(i.v(i.f("asset_image",e,t,0))),i.b('" class="no-src article_mobile_image" />')),i.b(" "),i.s(i.f("noscript",e,t,1),e,t,0,226,305,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<noscript><img src="'),i.b(i.v(i.f("asset_image",e,t,0))),i.b('" class="article_mobile_image" /></noscript>')}),e.pop()),i.b(" "),i.s(i.f("author_name",e,t,1),e,t,0,335,788,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="author_info"> <span class="author_img"> <div class="scaler"></div> '),i.s(i.f("noscript",e,t,1),e,t,1,0,0,"")||(i.b('<img data-src="'),i.b(i.v(i.f("author_image",e,t,0))),i.b('" class="no-src" />')),i.b(" "),i.s(i.f("noscript",e,t,1),e,t,0,505,556,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<noscript><img src="'),i.b(i.v(i.f("author_image",e,t,0))),i.b('" /></noscript>')}),e.pop()),i.b(' </span> <div class="author"> <p class="posted_by">Posted By</p> <p class="author_name">'),i.b(i.v(i.f("author_name",e,t,0))),i.b('</p> </div> <time class="post_date" datetime="'),i.b(i.v(i.f("schema_date",e,t,0))),i.b('" itemprop="datePublished">'),i.b(i.v(i.f("post_date",e,t,0))),i.b("</time> </div> ")}),e.pop()),i.b(' <div class="article_text"> <div class="header module_header"><h2 class="blog_title title" itemprop="name headline">'),i.b(i.v(i.f("title",e,t,0))),i.b('</h2></div> <div class="article_body" itemprop="articleBody"> '),i.b(i.t(i.f("article_text",e,t,0))),i.b(' </div> </div> <div class="author_info_mobile"> <span class="author_img"> '),i.s(i.f("noscript",e,t,1),e,t,1,0,0,"")||(i.b('<img data-src="'),i.b(i.v(i.f("author_image",e,t,0))),i.b('" class="no-src" />')),i.b(" "),i.s(i.f("noscript",e,t,1),e,t,0,1173,1223,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<noscript><img src="'),i.b(i.v(i.f("author_image",e,t,0))),i.b('"/></noscript>')}),e.pop()),i.b(' </span> <div class="author"> <p class="posted_by">Posted By</p> <p class="author_name">'),i.b(i.v(i.f("author_name",e,t,0))),i.b('</p> </div> <div class="post_date">'),i.b(i.v(i.f("post_date",e,t,0))),i.b('</div> </div> <div class="article_image_container"> <div class="caption_img"> '),i.s(i.f("noscript",e,t,1),e,t,1,0,0,"")||(i.b('<img data-src="'),i.b(i.v(i.f("asset_image",e,t,0))),i.b('" class="no-src" />')),i.b(" "),i.s(i.f("noscript",e,t,1),e,t,0,1554,1604,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<noscript><img src="'),i.b(i.v(i.f("asset_image",e,t,0))),i.b('" /></noscript>')}),e.pop()),i.b(" "),i.s(i.f("image_caption",e,t,1),e,t,0,1636,1686,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<div class="image_caption">'),i.b(i.v(i.f("image_caption",e,t,0))),i.b("</div>")}),e.pop()),i.b(' </div> <div class="artAd_medRect ad-container"> '),i.b(i.t(i.f("rectangleAd",e,t,0))),i.b(" </div> </div> </div> "),i.b(" "),i.b(i.t(i.f("mobileAd",e,t,0))),i.b(" </div> ")}),e.pop()),s.fl()},partials:{},subs:{}}),function(e){"use strict";var t=e.Grill,i=e._,s=t.ModuleView.extend({render:function(){var e=i.extend({},this.options.ads.helpers(),this.model);this.$el.html(this.template.render(e))}});s.register("article",{template:e.Whiskers.modules.article})}(this),Whiskers("modules.article_stream",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<div class ="bound"> '),s.s(s.f("header_data",e,t,1),e,t,0,37,55,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(i.rp("<module_header0",e,t,""))}),e.pop()),s.b(" <ul>"),s.s(s.f("data",e,t,1),e,t,0,85,94,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(i.rp("<list1",e,t,""))}),e.pop()),s.b("</ul> </div>"),s.fl()},partials:{"<module_header0":{name:"module_header",partials:{},subs:{}},"<list1":{name:"list",partials:{},subs:{}}},subs:{}}),Whiskers("partials.article_stream_list",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<li class="article_container"> <div class="image_container"> <a href="'),s.b(s.v(s.f("href",e,t,0))),s.b('"> <div class="aspect placeholder ratio-16x9"> '),s.s(s.f("noscript",e,t,1),e,t,1,0,0,"")||(s.b('<img class="no-src" data-src="'),s.b(s.v(s.f("asset_image",e,t,0))),s.b('"></img>')),s.b(" "),s.s(s.f("noscript",e,t,1),e,t,0,218,272,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b('<noscript><img src="'),i.b(i.v(i.f("asset_image",e,t,0))),i.b('"></img></noscript>')}),e.pop()),s.b(' </div> </a> </div> <div class="article_text_container"> <div class="header_article"> <a href = "'),s.b(s.v(s.f("href",e,t,0))),s.b('"> <h2>'),s.b(s.v(s.f("title",e,t,0))),s.b('</h2> </a> </div> <p class="articletext">'),s.b(s.v(s.f("article_excerpt",e,t,0))),s.b(' <a href = "'),s.b(s.v(s.f("href",e,t,0))),s.b('">'),s.b(s.v(s.d("translations.continue_reading",e,t,0))),s.b('</a> </p> <div class ="articlefooter"> <div class="author_info"> '),s.s(s.f("noscript",e,t,1),e,t,1,0,0,"")||(s.b('<img class="no-src circle" data-src="'),s.b(s.v(s.f("author_image",e,t,0))),s.b('">')),s.b(" "),s.s(s.f("noscript",e,t,1),e,t,0,681,745,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b('<noscript><img src="'),i.b(i.v(i.f("author_image",e,t,0))),i.b('" class="circle"></noscript>')}),e.pop()),s.b(' </div> <p class ="postdate">'),s.b(s.v(s.d("translations.posted",e,t,0))),s.b(" "),s.b(s.v(s.f("post_date_diff",e,t,0))),s.b("</p> "),s.b(" </div> </div> </li>"),s.fl()},partials:{},subs:{}}),function(e){"use strict";var t=e.Grill,i=e._,s=e.Whiskers,n=t.ModuleView.extend({required_template_sets:["module_header"],included_components:{list:s.partials.article_stream_list},initialize:function(){var e=this.model.get("translations"),t={continue_reading:"Continue Reading",posted:"Posted"};i.defaults(e,t),i.extend(this,{translations:e})},render:function(){var e=i.extend(this.model,{translations:this.translations});this.$el.html(this.template.render(e,this.ctx_additions()))}});n.register("article_stream",{style_classes:["full-height"],template:s.modules.article_stream})}(this),Whiskers("modules.artist",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.s(s.f("data",e,t,1),e,t,0,9,448,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <div class="bound skip-styles"> <div class="container"> <div class="branding"> <img src="'),i.b(i.v(i.f("hero",e,t,0))),i.b('"> </div> <div class="details right'),i.s(i.f("style",e,t,1),e,t,0,152,174,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.b(i.v(i.f("module_font_color",e,t,0)))}),e.pop()),i.b('" style="background-color: '),i.b(i.v(i.f("bgColor",e,t,0))),i.b(';"> <h1>'),i.b(i.v(i.f("title",e,t,0))),i.b('</h1> <div class="headshot"> <span class="personality-box entity-box"><span class="aspect"> <img src="'),i.b(i.v(i.f("thumb",e,t,0))),i.b('" alt="'),i.b(i.v(i.f("title",e,t,0))),i.b('"> </span></span> </div> <p class="desc">'),i.b(i.v(i.f("description",e,t,0))),i.b("</p> </div> </div> </div> ")}),e.pop()),s.fl()},partials:{},subs:{}}),function(e){"use strict";var t=e.Grill,i=e.Disney,s=i.Style.breakpoints,n=s.midHigh.toString(),a=e.Whiskers,o=e.Backbone,r=e._,l=t.ModuleView.extend({style_classes:["personality_hero","skip-bottom-border","skip-top-border","skip-styles","full-height","full-width"],render:function(){var e=r.first(this.model.get("data")),t=o.Resize.width()>=s.midHigh,i=r.extend({posterClass:t&&"wide",posterImg:t?e.poster:e.poster_mobile},this.options.ads.helpers(),this.model);this.$el.html(this.template.render(i))},resize:function(){this.render(),this.options.ads.restore()}});l.register("artist",{breakpoints:n,template:a.modules.artist})}(this),Whiskers("modules.catalog",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.s(s.f("data",e,t,1),e,t,0,9,3656,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <div class="bound '),i.b(i.v(i.f("type",e,t,0))),i.b('"> '),i.s(i.d("header_data.is_ad",e,t,1),e,t,0,61,116,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<div class="ad-module-notice">'),i.b(i.v(i.d("translations.ad",e,t,0))),i.b("</div>")}),e.pop()),i.b(' <div class="container" data-title="'),i.b(i.v(i.f("title",e,t,0))),i.b('"> <div class="title"> <h1>'),i.b(i.v(i.f("title",e,t,0))),i.b('</h1> <p class="desc"> '),i.b(i.v(i.f("desc",e,t,0))),i.b(" "),i.s(i.f("price",e,t,1),e,t,0,261,297,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<span class="price">'),i.b(i.v(i.f("price",e,t,0))),i.b("</span>")}),e.pop()),i.b(" </p> "),i.s(i.f("watch_message",e,t,1),e,t,0,331,423,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="watch_message"> <div class="watch_message_text">'),i.b(i.v(i.f("watch_message",e,t,0))),i.b("</div> </div> ")}),e.pop()),i.b(" "),i.s(i.f("meta",e,t,1),e,t,0,451,934,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<p class="meta"> '),i.s(i.f("rating",e,t,1),e,t,0,479,551,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <span class="meta-title">'),i.b(i.v(i.d("translations.rated",e,t,0))),i.b(":</span> "),i.b(i.v(i.f("rating",e,t,0))),i.b("<br> ")}),e.pop()),i.b(" "),i.s(i.f("release",e,t,1),e,t,0,575,794,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <span class="meta-title">'),i.s(i.f("reRelease",e,t,1),e,t,0,615,633,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.v(i.f("reReleasedText",e,t,0)))}),e.pop()),i.s(i.f("reRelease",e,t,1),e,t,1,0,0,"")||(i.b(i.v(i.d("translations.released",e,t,0))),i.b(":")),i.b("</span> "),i.s(i.f("reRelease",e,t,1),e,t,1,0,0,"")||i.b(i.v(i.f("release",e,t,0))),i.s(i.f("reRelease",e,t,1),e,t,0,762,775,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.v(i.f("reRelease",e,t,0)))}),e.pop()),i.b("<br> ")}),e.pop()),i.b(" "),i.s(i.f("platform_data",e,t,1),e,t,0,825,911,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <span class="meta-title">'),i.b(i.v(i.d("translations.available_on",e,t,0))),i.b(":</span> "),i.b(i.v(i.f("platform_data",e,t,0))),i.b("<br> ")}),e.pop()),i.b(" </p>")}),e.pop()),i.b(" "),i.b(' <div class="movie-actions-alt"> '),i.s(i.f("is_printable",e,t,1),e,t,0,1040,1144,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<a href="'),i.b(i.v(i.f("printable_asset",e,t,0))),i.b('" target="_blank" class="button blue large print">'),i.b(i.v(i.d("translations.print",e,t,0))),i.b("</a>")}),e.pop()),i.b(" "),i.s(i.f("retailerData",e,t,1),e,t,1,0,0,"")||(i.b(" "),i.s(i.f("buttons",e,t,1),e,t,0,1192,1324,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('" class="button large '),i.b(i.v(i.f("type",e,t,0))),i.b(" "),i.b(i.v(i.f("button_color",e,t,0))),i.b('"'),i.s(i.f("convert",e,t,1),e,t,0,1270,1297,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' data-convert="'),i.b(i.v(i.f("convert",e,t,0))),i.b('"')}),e.pop()),i.b(">"),i.b(i.v(i.f("title",e,t,0))),i.b("</a> ")}),e.pop()),i.b(" ")),i.b(" "),i.s(i.f("retailerData",e,t,1),e,t,0,1372,1405,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="retail-link"></div> ')}),e.pop()),i.b(' </div> </div> <div class="poster-container'),i.s(i.f("watch_message",e,t,1),e,t,0,1483,1497,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" watch-padding")}),e.pop()),i.b('"> <div class="poster-inner poster-box"> <div class="poster '),i.s(i.f("isMobile",e,t,1),e,t,0,1588,1596,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("isMobile")}),e.pop()),i.b('"> '),i.s(i.f("is_printable",e,t,1),e,t,0,1629,1675,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<a href="'),i.b(i.v(i.f("printable_asset",e,t,0))),i.b('" target="_blank">')}),e.pop()),i.b(" "),i.s(i.f("noscript",e,t,1),e,t,1,0,0,"")||(i.b('<img data-src="'),i.b(i.v(i.f("catalogImage",e,t,0))),i.b('" class="no-src" alt="'),i.b(i.v(i.f("title",e,t,0))),i.b('" width="100%">')),i.b(" "),i.s(i.f("noscript",e,t,1),e,t,0,1810,1888,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<noscript><img src="'),i.b(i.v(i.f("catalogImage",e,t,0))),i.b('" alt="'),i.b(i.v(i.f("title",e,t,0))),i.b('" width="100%"></noscript>')}),e.pop()),i.b(" "),i.s(i.f("is_printable",e,t,1),e,t,0,1919,1923,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("</a>")}),e.pop()),i.b(" "),i.s(i.f("sponsor_banner",e,t,1),e,t,0,1960,2216,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("noscript",e,t,1),e,t,1,0,0,"")||(i.b('<img class="sponsor-banner no-src" data-src="'),i.b(i.v(i.f("sponsor_banner",e,t,0))),i.b('" title="'),i.b(i.v(i.f("title",e,t,0))),i.b('" width="100%">')),i.b(" "),i.s(i.f("noscript",e,t,1),e,t,0,2097,2202,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<noscript><img class="sponsor-banner" src="'),i.b(i.v(i.f("sponsor_banner",e,t,0))),i.b('" title="'),i.b(i.v(i.f("title",e,t,0))),i.b('" width="100%"></noscript>')}),e.pop()),i.b(" ")}),e.pop()),i.b(" </div> </div> "),i.s(i.f("cds",e,t,1),e,t,1,0,0,"")||(i.b(" "),i.s(i.f("suppress_social",e,t,1),e,t,1,0,0,"")||(i.b(" "),i.b(i.rp("<socialLinkPartial0",e,t,"")),i.b(" ")),i.b(" ")),i.b(" </div> "),i.s(i.f("wide",e,t,1),e,t,1,0,0,"")||(i.b(' <div class="desc-alt"> <p class="desc'),i.s(i.f("watch_message",e,t,1),e,t,0,2405,2419,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" watch-padding")}),e.pop()),i.b('"> '),i.b(i.v(i.f("desc",e,t,0))),i.b(" "),i.s(i.f("price",e,t,1),e,t,0,2459,2496,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<span class="price">$'),i.b(i.v(i.f("price",e,t,0))),i.b("</span>")}),e.pop()),i.b(" </p> "),i.s(i.f("watch_message",e,t,1),e,t,0,2530,2622,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="watch_message"> <div class="watch_message_text">'),i.b(i.v(i.f("watch_message",e,t,0))),i.b("</div> </div> ")}),e.pop()),i.b(" "),i.s(i.f("meta",e,t,1),e,t,0,2650,3133,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<p class="meta"> '),i.s(i.f("rating",e,t,1),e,t,0,2678,2750,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <span class="meta-title">'),i.b(i.v(i.d("translations.rated",e,t,0))),i.b(":</span> "),i.b(i.v(i.f("rating",e,t,0))),i.b("<br> ")}),e.pop()),i.b(" "),i.s(i.f("release",e,t,1),e,t,0,2774,2993,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <span class="meta-title">'),i.s(i.f("reRelease",e,t,1),e,t,0,2814,2832,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.v(i.f("reReleasedText",e,t,0)))}),e.pop()),i.s(i.f("reRelease",e,t,1),e,t,1,0,0,"")||(i.b(i.v(i.d("translations.released",e,t,0))),i.b(":")),i.b("</span> "),i.s(i.f("reRelease",e,t,1),e,t,1,0,0,"")||i.b(i.v(i.f("release",e,t,0))),i.s(i.f("reRelease",e,t,1),e,t,0,2961,2974,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.v(i.f("reRelease",e,t,0)))}),e.pop()),i.b("<br> ")}),e.pop()),i.b(" "),i.s(i.f("platform_data",e,t,1),e,t,0,3024,3110,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <span class="meta-title">'),i.b(i.v(i.d("translations.available_on",e,t,0))),i.b(":</span> "),i.b(i.v(i.f("platform_data",e,t,0))),i.b("<br> ")}),e.pop()),i.b(" </p>")}),e.pop()),i.b(" </div> ")),i.b(" "),i.b(' <div class="movie-actions"> '),i.s(i.f("is_printable",e,t,1),e,t,0,3252,3356,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<a href="'),i.b(i.v(i.f("printable_asset",e,t,0))),i.b('" target="_blank" class="button blue large print">'),i.b(i.v(i.d("translations.print",e,t,0))),i.b("</a>")}),e.pop()),i.b(" "),i.s(i.f("retailerData",e,t,1),e,t,1,0,0,"")||(i.b(" "),i.s(i.f("buttons",e,t,1),e,t,0,3404,3536,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('" class="button large '),i.b(i.v(i.f("type",e,t,0))),i.b(" "),i.b(i.v(i.f("button_color",e,t,0))),i.b('"'),i.s(i.f("convert",e,t,1),e,t,0,3482,3509,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' data-convert="'),i.b(i.v(i.f("convert",e,t,0))),i.b('"')}),e.pop()),i.b(">"),i.b(i.v(i.f("title",e,t,0))),i.b("</a> ")}),e.pop()),i.b(" ")),i.b(" "),i.s(i.f("retailerData",e,t,1),e,t,0,3584,3617,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="retail-link"></div> ')}),e.pop()),i.b(" </div> </div> </div> ")}),e.pop()),s.fl()},partials:{"<socialLinkPartial0":{name:"socialLinkPartial",partials:{},subs:{}}},subs:{}}),Whiskers("shared.productbutton",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<div class="purchase_product"> <a class="button large green '),s.s(s.f("retail_links",e,t,1),e,t,1,0,0,"")||s.b("clear"),s.b('"> '),s.s(s.f("retail_links",e,t,1),e,t,1,0,0,"")||s.b('<div class="arrow-left"></div>'),s.b(" "),s.s(s.f("purchase_cta",e,t,1),e,t,0,184,200,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(i.v(i.f("purchase_cta",e,t,0)))}),e.pop()),s.b(" "),s.s(s.f("purchase_cta",e,t,1),e,t,1,0,0,"")||(s.b(" "),s.s(s.f("retail_links",e,t,1),e,t,0,253,270,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(i.v(i.f("pre_order_now",e,t,0)))}),e.pop()),s.b(" "),s.s(s.f("retail_links",e,t,1),e,t,1,0,0,"")||s.b(s.v(s.f("coming_soon",e,t,0))),s.b(" ")),s.b(" "),s.s(s.f("retail_links",e,t,1),e,t,1,0,0,"")||s.b('<div class="arrow-right"></div>'),s.b(' </a> <div class="buy '),s.s(s.f("retail_links",e,t,1),e,t,1,0,0,"")||s.b("no_flyout"),s.b('" data-convert="buy"> <ul> '),s.s(s.f("retail_links",e,t,1),e,t,0,530,737,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <li><a href="'),i.b(i.v(i.f("content_url",e,t,0))),i.b('" target="_blank" '),i.s(i.f("age_gate",e,t,1),e,t,0,590,632,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' class="age-gated" data-age="'),i.b(i.v(i.f("age_gate",e,t,0))),i.b('"')}),e.pop()),i.b(' data-retailer="'),i.b(i.v(i.f("title",e,t,0))),i.b('"'),i.s(i.f("ping",e,t,1),e,t,0,680,708,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' data-ping="'),i.b(i.v(i.d("ping.static",e,t,0))),i.b('"')}),e.pop()),i.b(">"),i.b(i.v(i.f("title",e,t,0))),i.b("</a></li> ")}),e.pop()),s.b(" </ul> </div> </div>"),s.fl()},partials:{},subs:{}}),function(e){"use strict";var t=e.Disney,i=e.Backbone,s=e._,n=e.Whiskers;t.ProductButtonView=i.View.extend({_flyoutVisible:!1,flyoutVisible:function(e){return"undefined"==typeof e?this._flyoutVisible:(this._flyoutVisible=e,void this.renderFlyout())},initialize:function(e){this.translations=e.translations,this.age_gate=e.age_gate,this.render()},render:function(){var e=this,t=s.extend(e.model,e.translations);t.age_gate=this.age_gate,this.$el.html(n.shared.productbutton.render(t)),this.$el.click(function(){e.flyoutVisible(!e.flyoutVisible()),e.trigger("change",e)})},renderFlyout:function(){var e=this.$(".buy");this.flyoutVisible()?e.addClass("active"):e.removeClass("active")}})}(this),function(e){"use strict";var t=e.Grill,i=e.Disney,s=i.Style.breakpoints,n=s.midHigh.toString(),a=e.Whiskers,o=e._,r=t.BunView.extend({style_classes:["catalog"],breakpoints:n,template:a.modules.catalog,render:function(){var t,s=this,n=s.model.data.first(),r=s.model.get("data")[0],l=s.model.get("translations"),c=new Date,d=c.getUTCDate(),u=c.getUTCMonth()+1,p=c.getUTCFullYear(),h=!1;10>d&&(d="0"+d),10>u&&(u="0"+u),c=p+"-"+u+"-"+d;var f=(r.re_release_date<=c?l.re_released:l.re_releasing)+":";if("Game"===r.type&&(t=r.platforms,t&&t.length>0&&(t=t.join(", "))),(t||r.rating||r.release)&&(h=!0),r.href&&-1===r.href.indexOf(e.location.hostname)){var v=/[^\/]+?:\/\/[^/]+/.exec(e.location.href)+r.href;n.set("href",v)}var b=o.extend({platform_data:t,meta:h,reReleasedText:f,linksInverted:!0,cds:!!this.options.cds},s.options.ads.helpers(),s.model);s.$el.html(s.template.render(b,{socialLinkPartial:a.partials.social_btn}));var m=n.get("retailerData");m&&m.retail_links.length&&new i.ProductButtonView({el:s.$(".retail-link"),model:m,translations:l})},ready:function(){var e=this.model.get("style").background_color?this.model.get("style").background_color:!1;e&&this.$el.css({"background-color":e}).addClass("custom-bg-color")},resize:function(){this.options.ads.restore()}});r.register("catalog"),r.register("print"),i.CatalogFloatView=r.register("catalog_float",{initialize:function(){var e=this.options.el;this.render(),e&&(e.addClass(this.className),e.find(".bound").addClass("noAd"))}})}(this),Whiskers("modules.character_bio",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<div class="bound '),s.b(s.v(s.f("entity_type",e,t,0))),s.b('"> '),s.s(s.f("header_data",e,t,1),e,t,0,52,70,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(i.rp("<module_header0",e,t,""))}),e.pop()),s.b(' <div class="character-bio-list"> <ul> '),s.s(s.f("data",e,t,1),e,t,0,134,181,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <li class="item"> '),i.b(i.rp("<entity_container1",e,t,"")),i.b(" </li> ")}),e.pop()),s.b(" </ul> </div> </div>"),s.fl()},partials:{"<module_header0":{name:"module_header",partials:{},subs:{}},"<entity_container1":{name:"entity_container",partials:{},subs:{}}},subs:{}}),function(e){"use strict";var t=e.Grill,i=e.Whiskers,s=e._,n=t.ModuleView.extend({style_classes:["list_module_featured"],required_template_sets:["module_header","entities"],template:i.modules.character_bio,initialize:function(){var t=this.model.data.models,i=e.location,n=i.protocol+"//"+i.hostname+i.pathname;s.each(t,function(e){e.set("skip_hover",!0);var t=e.get("href");(t===n||"#"===t)&&e.set("href",null)})},render:function(){var e=s.extend({},this.model);this.$el.html(this.template.render(e,this.ctx_additions()))}});n.register("character_bio",{}),n.register("character_bio_left_align",{})}(this),Whiskers("modules.contest",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.s(s.f("data",e,t,1),e,t,0,9,197,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <div class="bound'),i.s(i.f("noAd",e,t,1),e,t,0,36,41,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" noAd")}),e.pop()),i.b('"> <div class="container"></div> '),i.s(i.f("data",e,t,1),e,t,0,92,180,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("noAd",e,t,1),e,t,1,0,0,"")||(i.b(' <div class="ad-container"> '),i.b(i.t(i.f("rectangleAd",e,t,0))),i.b(" "),i.b(i.t(i.f("mobileAd",e,t,0))),i.b(" </div> ")),i.b(" ")}),e.pop()),i.b(" </div> ")}),e.pop()),s.fl()},partials:{},subs:{}}),Whiskers("entities.contest",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<div class="contest_heading'),s.s(s.f("logo",e,t,1),e,t,0,36,40,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(" img")}),e.pop()),s.b('"> <div class="module_header"> <h2 class="'),s.s(s.f("logo",e,t,1),e,t,0,100,128,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.s(i.f("hide_ad",e,t,1),e,t,1,0,0,"")||i.b("noAd")}),e.pop()),s.b('">'),s.b(s.v(s.f("title",e,t,0))),s.b("</h2> </div> "),s.s(s.f("logo",e,t,1),e,t,0,170,240,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <img class="'),i.s(i.f("logo",e,t,1),e,t,0,192,214,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.s(i.f("noAd",e,t,1),e,t,0,201,205,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("noAd")}),e.pop())}),e.pop()),i.b('"src="'),i.b(i.v(i.f("logo",e,t,0))),i.b('"> ')}),e.pop()),s.b(' <div class="contestant_container'),s.s(s.f("logo",e,t,1),e,t,1,0,0,"")||s.s(s.f("noAd",e,t,1),e,t,0,300,305,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(" noAd")}),e.pop()),s.b(" "),s.s(s.f("logo",e,t,1),e,t,0,333,366,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.s(i.f("noAd",e,t,1),e,t,0,342,357,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" noAd hasHeader")}),e.pop())}),e.pop()),s.b('"> <ul class="contestants'),s.s(s.f("single_option",e,t,1),e,t,0,418,425,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(" single")}),e.pop()),s.b(" "),s.s(s.f("logo",e,t,1),e,t,1,0,0,"")||s.s(s.f("noAd",e,t,1),e,t,0,462,502,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(" noAd"),i.s(i.f("showFour",e,t,1),e,t,0,480,489,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" showFour")}),e.pop())}),e.pop()),s.b(" "),s.s(s.f("logo",e,t,1),e,t,0,530,563,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.s(i.f("noAd",e,t,1),e,t,0,539,554,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" noAd hasHeader")}),e.pop())}),e.pop()),s.b('"> '),s.s(s.f("contestants",e,t,1),e,t,0,591,1804,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <li class="option '),i.b(i.v(i.f("type",e,t,0))),i.s(i.f("clickable",e,t,1),e,t,0,632,642,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" clickable")}),e.pop()),i.s(i.f("results",e,t,1),e,t,1,0,0,"")||i.s(i.f("disabled",e,t,1),e,t,0,681,690,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" disabled")}),e.pop()),i.s(i.f("results",e,t,1),e,t,0,727,734,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" active")}),e.pop()),i.b('" data-id="'),i.b(i.v(i.f("id",e,t,0))),i.b('"> '),i.s(i.f("results",e,t,1),e,t,1,0,0,"")||(i.b(' <div class="actions checkboxes"> '),i.s(i.f("vote_button",e,t,1),e,t,0,828,1006,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <span class="vote checkbox'),i.s(i.f("votes",e,t,1),e,t,0,865,873,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" checked")}),e.pop()),i.s(i.f("disabled",e,t,1),e,t,0,896,905,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" disabled")}),e.pop()),i.s(i.f("loading",e,t,1),e,t,0,930,938,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" loading")}),e.pop()),i.b('" title="'),i.b(i.v(i.f("text",e,t,0))),i.b('"> <span class="check"></span> </span> ')
}),e.pop()),i.b(" "),i.s(i.f("checkboxes",e,t,1),e,t,0,1038,1204,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <span class="checkbox'),i.s(i.f("checked",e,t,1),e,t,0,1072,1080,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" checked")}),e.pop()),i.s(i.f("disabled",e,t,1),e,t,0,1105,1114,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" disabled")}),e.pop()),i.b('" data-index="'),i.b(i.v(i.f("index",e,t,0))),i.b('" alt="'),i.b(i.v(i.f("text",e,t,0))),i.b('"> <span class="check"></span> </span> ')}),e.pop()),i.b(" </div> ")),i.b(" "),i.s(i.f("results",e,t,1),e,t,0,1252,1549,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="actions results"> '),i.s(i.f("image_poll",e,t,1),e,t,0,1298,1386,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("results",e,t,1),e,t,0,1311,1373,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="bar" style="height:'),i.b(i.v(i.f("percent_formatted",e,t,0))),i.b('"></div> ')}),e.pop()),i.b(" ")}),e.pop()),i.b(" "),i.s(i.f("show_percentage",e,t,1),e,t,0,1422,1452,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" <p>"),i.b(i.v(i.f("percent_formatted",e,t,0))),i.b("</p> ")}),e.pop()),i.b(" "),i.s(i.f("show_percentage",e,t,1),e,t,1,0,0,"")||(i.b(" <p>"),i.b(i.v(i.f("total_formatted",e,t,0))),i.b("</p> ")),i.b(" </div> ")}),e.pop()),i.b(' <div class="contest-item"> '),i.s(i.f("image_poll",e,t,1),e,t,0,1604,1641,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <img src="'),i.b(i.v(i.f("logo",e,t,0))),i.b('" alt="'),i.b(i.v(i.f("text",e,t,0))),i.b('"> ')}),e.pop()),i.b(" "),i.s(i.f("image_poll",e,t,1),e,t,1,0,0,"")||(i.b(" "),i.s(i.f("results",e,t,1),e,t,0,1685,1746,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="bar" style="width:'),i.b(i.v(i.f("percent_formatted",e,t,0))),i.b('"></div> ')}),e.pop()),i.b(" ")),i.b(" <p>"),i.b(i.v(i.f("text",e,t,0))),i.b("</p> </div> </li> ")}),e.pop()),s.b(" </ul> "),s.s(s.f("message",e,t,1),e,t,0,1839,1993,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <div class="message '),i.b(i.v(i.f("type",e,t,0))),i.s(i.f("single_option",e,t,1),e,t,0,1886,1893,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" single")}),e.pop()),i.b('"> <p>'),i.b(i.v(i.f("text",e,t,0))),i.b('<span class="again"> '),i.b(i.v(i.d("translations.vote_again",e,t,0))),i.b("?</span></p> </div> ")}),e.pop()),s.b(" "),s.s(s.f("master_button",e,t,1),e,t,0,2024,2254,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("complete",e,t,1),e,t,1,0,0,"")||(i.b(' <div class="master_button '),i.s(i.f("logo",e,t,1),e,t,0,2074,2107,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.s(i.f("noAd",e,t,1),e,t,0,2083,2098,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" noAd hasHeader")}),e.pop())}),e.pop()),i.b('"> <div class="button large blue'),i.s(i.f("disabled",e,t,1),e,t,0,2161,2170,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" disabled")}),e.pop()),i.s(i.f("loading",e,t,1),e,t,0,2195,2203,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" loading")}),e.pop()),i.b('">'),i.b(i.v(i.f("text",e,t,0))),i.b(" </div> </div> ")),i.b(" ")}),e.pop()),s.b(" </div> </div>"),s.fl()},partials:{},subs:{}}),function(e){"use strict";function t(e,t){arguments.length<2&&(t=e>>>0,e=s);var i=l.Deferred();return d(function(){i.resolve(e)},t),i.promise()}function i(e){return String(e).replace(/\b(\d+)((\.\d+)*)\b/g,function(e,t,i){return(t.charAt(0)>0&&!(i||".").lastIndexOf(".")?t.replace(/(\d)(?=(\d{3})+$)/g,"$1,"):t)+i})}var s,n=e.Grill,a=e.Whiskers,o=e.Backbone,r=e.Tracker,l=e.jQuery,c=e._,d=e.setTimeout,u=function(e,t){if(!e)throw new Error(t)},p=o.View.extend({className:"",template:a.entities.contest,events:{"click .master_button .button":"_handleMasterClick","click span.checkbox":"_handleCheckboxClick","click div.contest-item":"_handleTextOrImageClick","click span.vote":"_handleSingleVoteClick","click .again":"_handleVoteAgainClick"},initialize:function(){c.bindAll(this),this._initializeContest()},render:function(){var e=this._generateRenderContext();this.$el.html(this.template.render(e))},_displayAlert:function(){},_showVoteConfirmation:function(){},_generateRenderContext:function(){var e={},t=this.model.get("translations"),s=this._contest?this._contest.state:"pre",n=1;if(e.title=this.model.get("title"),e.logo=this.model.get("logo"),e.image_poll=this.model.get("image_poll"),e.noAd=this.model.get("noAd"),e.showFour=this.model.get("showFour"),e.one_click=this.model.get("one_click"),e.show_percentage=this.model.get("show_percentage"),e.translations=t,e.contestants=[],c.each(this.model.get("contestants"),function(a){var o={};o.id=a.id,o.title=a.title,o.description=a.description,o.text=a.text,o.logo=a.logo,o.type=e.image_poll?"img":"text",o.checkboxes=[],o.vote_button=null;var r=this._userVotes?this._userVotes.votes[o.id]:null;if(e.one_click){var l="voting"!==s||!r||r.pending||r.available_votes<1,d=r&&r.total_period_votes?r.total_period_votes:0,u=r&&r.pending?t.saving:this.model.get("vote_button_text");o.vote_button={disabled:l,text:u,votes:d,loading:r&&r.pending}}else for(var p=0;n>p;++p)if(r){var h=r.total_period_votes,f=r.available_votes,v=r.pending_votes,b=r.pending?!0:!1,m=h+v>p,g=!b&&p>=h&&h+v+f>p;o.checkboxes.push({index:p+1,checked:m,disabled:!g})}else o.checkboxes.push({index:p+1,checked:!1,disabled:!0});"voting"!==s&&"closed"!==s&&"finished"!==s||!this._userVotes||0!==this._userVotes.max_available_votes||this._results&&(o.results=this._results[o.id],o.results&&(o.results.percent_formatted=void 0!==o.results.percent?String(Math.round(100*o.results.percent))+"%":"0%",o.results.total_formatted=void 0!==o.results.total?i(o.results.total):"0")),o.checkboxes&&o.checkboxes.length>0&&(o.disabled=c.every(o.checkboxes,function(e){return e.disabled===!0}),o.clickable=!o.disabled),o.vote_button&&(o.clickable=!o.vote_button.disabled),e.contestants.push(o)},this),e.single_option=1===e.contestants.length,"pre"===s?e.message={type:"pre",text:this.model.get("pre_open_text")}:"voting"===s?(e.message={type:"voting",text:null},this._userVotes&&(this._userVotes.max_available_votes>0||this._userVotes.total_period_votes>0&&(e.message.type="voted",e.message.text=this.model.get("voted_text")))):"closed"===s?e.message={type:"closed",text:this.model.get("closed_text")}:"finished"===s&&(e.message={type:"finished",text:this.model.get("finished_text")}),e.message&&!e.message.text&&(e.message=null),!e.one_click&&"voting"===s){var a=e.master_button={disabled:!0,loading:!1,text:this.model.get("vote_button_text"),complete:!1};this._userVotes&&(this._userVotes.pending?(a.loading=!0,a.text=t.saving):this._userVotes.max_available_votes>0?a.disabled=!1:this._userVotes.total_period_votes>0&&(a.complete=!0))}return e},_handleMasterClick:function(e){var t=l(e.currentTarget);return t.hasClass("disabled")?void(this.model.get("requires_registration")&&!this._currentUid):(this._registerVotes(),this._trackLink(null,t.text()),void e.preventDefault())},_handleTextOrImageClick:function(e){var t=l(e.currentTarget);if(this.model.get("one_click"))this._handleSingleVoteClick(e);else{var i=t.closest(".option");if(i.length){if(i.hasClass("disabled"))return void e.preventDefault();var s=i.data("id");if(this._userVotes&&this._userVotes.votes[s]){var n=this._userVotes.votes[s];0===n.pending_votes?this._setCandidatePendingVotes(s,n.available_votes):this._setCandidatePendingVotes(s,0),this.render()}this._trackLink(s)}e.preventDefault()}},_handleCheckboxClick:function(e){if(!this.model.get("one_click")){var t=l(e.currentTarget),i=t.closest(".option"),s=i.find(".checkbox"),n=s.not(".disabled"),a=s.filter(".disabled.checked"),o=0;if(t.hasClass("checkbox")){if(t.hasClass("disabled"))return;o=t.data("index"),t.hasClass("checked")&&!t.next().hasClass("checked")&&--o,o-=a.length}else o=n.last().hasClass("checked")?0:a.length-n.length;var r=i.data("id");this._setCandidatePendingVotes(r,o),this.render(),this._trackLink(r),e.preventDefault()}},_handleSingleVoteClick:function(e){var t=l(e.currentTarget),i=t.closest(".option");if(t.hasClass("disabled"))return this.model.get("requires_registration")&&null===this._currentUid,void e.preventDefault();var s=i.data("id");this._registerVote(s),e.preventDefault()},_handleVoteAgainClick:function(){this.render()},_trackLink:function(e,t){if(e||t){var i=this.options,s=["contest","mod"+i.moduleView.index,"item"+i.index];if(e){var n=this.model.get("contestants"),a=c.find(n,function(t){return t.id===e}),o=c.indexOf(n,a);t=t||a.text||a.title,s.push("poll"+o)}else s.push("button");var l=s.join("/"),d=l+"/"+t.replace(/[^a-z0-9 ]/gi,"").replace(/\s+/g,"-");r.link({linkName:d,linkPosition:l})}},_initializeContest:function(){return this._userVotes=null,this.model.get("requires_registration")&&null===this._currentUid?void this.render():void this._loadContestInfo().then(this._handleLoadContestInfoSuccess,this._handleLoadContestInfoFailed).then(this.render)},_handleLoadContestInfoSuccess:function(e){var t=e.results,i=e.user,s=e.contest;if(!i)throw new Error("Contest Info is missing user field");this._storageSaveContestInfo({results:t,user:i}),this._userVotes=this._inflateUserVotes(i),this._results=this._inflateResults(t),this._contest=s},_handleLoadContestInfoFailed:function(){},_handleSubmitVotesSuccess:function(e){var t=this._storageGetContestInfo();for(var i in this._userVotes.votes)this._userVotes.votes.hasOwnProperty(i)&&(this._setCandidatePending(i,!1),this._commitCandidatePendingVotes(i,t?t.user:null));this._storageSaveContestInfo(t),this._results=this._inflateResults(e.results,this._userVotes),this.render(),this._showVoteConfirmation(),this._beginVoteAgainCountdown()},_handleSubmitVotesError:function(){for(var e in this._userVotes.votes)this._userVotes.votes.hasOwnProperty(e)&&this._setCandidatePending(e,!1);this.render(),this._displayAlert("Error submitting votes...")},_handleSubmitVoteSuccess:function(e){var t=e.candidate_id,i=this._storageGetContestInfo();this._setCandidatePending(t,!1),this._commitCandidatePendingVotes(t,i?i.user:null),this._storageSaveContestInfo(i),this._results=this._inflateResults(e.results,this._userVotes),this.render(),this._showVoteConfirmation(t),this._beginVoteAgainCountdown()},_handleSubmitVoteError:function(e){var t=e.candidate_id;this._setCandidatePendingVotes(t,0),this._setCandidatePending(t,!1),this.render(),this._displayAlert("Error submitting vote, please try again.")},_loadContestInfo:function(){var e;return e=this._storageGetContestInfo(),e?l.when(e):this._fetchContestInfo()},_fetchContestInfo:function(){var e=this.model.get("cws_url")+"/voting/tenants/"+encodeURIComponent(this.model.get("cws_tenant"))+"/contests/"+encodeURIComponent(this.model.get("contest_id"));return l.ajax({type:"get",context:this,dataType:"json",cache:!1,url:e,xhrFields:{withCredentials:!0}})},_submitVotes:function(e){var i=this.model.get("cws_url")+"/voting/tenants/"+encodeURIComponent(this.model.get("cws_tenant"))+"/contests/"+encodeURIComponent(this.model.get("contest_id"))+"/vote",s=(new Date).valueOf(),n=function(e){var i=(new Date).valueOf(),n=i-s-0;return 0>n?t(e,-1*n):e};return l.ajax({type:"post",context:this,dataType:"json",url:i,data:{votes:e},xhrFields:{withCredentials:!0}}).then(n)},_beginVoteAgainCountdown:function(){"voting"===this._contest.state&&this._userVotes.max_available_votes<=0&&this._contest.time_rules&&this._contest.time_rules.period>=0&&(this._activeVoteAgainTimer=d(this._handleVoteAgainTimeout,1e3*this._contest.time_rules.period))},_handleVoteAgainTimeout:function(){var e=this;this._loadContestInfo().then(this._handleLoadContestInfoSuccess,this._handleLoadContestInfoFailed).then(function(){this._userVotes.max_available_votes>0&&e.$(".again").fadeIn(500)})},_registerVote:function(e){var t=this._userVotes;if(!t)return!1;var i=t.votes[e];if(!i)return!1;if(i.pending_votes)return!1;var s=this._setCandidatePendingVotes(e,1);if(s===!1)return!1;this._setCandidatePending(e,!0);var n=[String(e)];return this.render(),this._submitVotes(n).then(function(t){return t.candidate_id=e,t},function(t){return{candidate_id:e,xhr:t}}).then(this._handleSubmitVoteSuccess,this._handleSubmitVoteError)},_registerVotes:function(){if(!this._userVotes)return!1;if(!this._userVotes.pending_votes)return this._displayAlert(),!1;this._displayAlert("");var e=[];for(var t in this._userVotes.votes)if(this._userVotes.votes.hasOwnProperty(t)){var i=this._userVotes.votes[t];this._setCandidatePending(t,!0);for(var s=0;s<i.pending_votes;++s)e.push(String(t))}return this.render(),this._submitVotes(e).then(this._handleSubmitVotesSuccess,this._handleSubmitVotesError)},_inflateUserVotes:function(e){e.pending_votes=0,e.max_available_votes=e.available_votes,e.pending=!1;for(var t in e.votes)if(e.votes.hasOwnProperty(t)){var i=e.votes[t];i.max_available_votes=i.available_votes,i.pending_votes=0,i.pending=!1}return e},_inflateResults:function(e,t){if(!e)return null;var i=0,s=0,n={};for(var a in this._userVotes.votes)if(this._userVotes.votes.hasOwnProperty(a)){var o=e[a]||0;if(t&&t.votes){var r=t.votes[a]||0;r&&(o+=r.total_period_votes)}i+=o,n[a]={total:o},o>s&&(s=o)}if(i>0)for(var l in n)if(n.hasOwnProperty(l)){var c=n[l];c.winner=s===c.total,c.percent=c.total/i}return n},_setCandidatePendingVotes:function(e,t){var i=this._userVotes;if(!i)return!1;var s=i.votes[e];if(!s)return!1;var n=t-s.pending_votes;if(n>s.available_votes)return!1;s.pending_votes=t,i.pending_votes+=n,i.available_votes-=n;for(var a in i.votes)i.votes.hasOwnProperty(a)&&(s=i.votes[a],s.available_votes=Math.min(i.available_votes,s.max_available_votes-s.pending_votes));return!0},_commitCandidatePendingVotes:function(e,t){var i,s=this._userVotes,n=s.votes[e];s.total_votes+=n.pending_votes,s.total_period_votes+=n.pending_votes,s.max_available_votes-=n.pending_votes,s.pending_votes-=n.pending_votes,t&&(t.total_votes=s.total_votes,t.total_period_votes=s.total_period_votes,t.available_votes=s.max_available_votes),n.total_votes+=n.pending_votes,n.total_period_votes+=n.pending_votes,n.max_available_votes-=n.pending_votes,n.pending_votes=0,t&&(i=t.votes[e],i.total_votes=n.total_votes,i.total_period_votes=n.total_period_votes);for(e in s.votes)s.votes.hasOwnProperty(e)&&(n=s.votes[e],n.max_available_votes=Math.min(s.max_available_votes,n.max_available_votes),u(n.max_available_votes>=n.available_votes,"available_votes is out of sync"),t&&(i=t.votes[e],i.available_votes=n.max_available_votes))},_setCandidatePending:function(e,t){var i=this._userVotes,s=i.votes[e];i.pending=!1,s.pending=t;for(e in i.votes)if(i.votes.hasOwnProperty(e)&&(s=i.votes[e],s.pending)){i.pending=!0;break}return i.pending},_storageGetContestInfo:function(){return null},_storageSaveContestInfo:function(){return null}}),h=n.ModuleView.extend({className:"module contest",template:a.modules.contest,initialize:function(){this.cds=!!this.options.cds,this.contest_views=[],this.index=this.model.collection.indexOf(this.model),this.model.data.each(function(e,t){this.contest_views.push(new p({model:e,index:t,moduleView:this}))},this)},render:function(){var e=c.extend({iconStyles:this.model.get("style"),noAd:!!this.options.cds},this.options.ads.helpers(),this.model);this.$el.html(this.template.render(e,{iconHeader:a.partials.icon_header}));var t=this.$el.find(".container");c.each(this.contest_views,function(e){e.render(),t.append(e.$el)},this)},resize:function(){this.cds||this.options.ads.restore(),this.render(),this.ready()}});h.register("contest")}(this),Whiskers("modules.credits",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<div class="bound"> '),s.s(s.f("noAd",e,t,1),e,t,1,0,0,"")||(s.b(" "),s.b(s.t(s.f("rectangleAd",e,t,0))),s.b(" "),s.b(s.t(s.f("mobileAd",e,t,0))),s.b(" ")),s.b(' <div class="content container"> '),s.s(s.f("header_data",e,t,1),e,t,0,121,139,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(i.rp("<module_header0",e,t,""))}),e.pop()),s.b(' <div class="credits-list"> <div class="role_contain"> <div class="credit_contain"> '),s.s(s.f("roles",e,t,1),e,t,0,249,534,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <div class="role_group"> <h3 class="accent-color">'),i.b(i.v(i.f("role",e,t,0))),i.b('</h3> <div class="cast_list"> '),i.s(i.f("cast",e,t,1),e,t,0,347,510,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <p class="cast"> <span class="talent">'),i.b(i.v(i.f("person",e,t,0))),i.b('</span> <span class="character '),i.b(i.v(i.f("role",e,t,0))),i.b('"> '),i.s(i.f("title",e,t,1),e,t,0,448,457,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.v(i.f("title",e,t,0)))}),e.pop()),i.b(" "),i.s(i.f("title",e,t,1),e,t,1,0,0,"")||i.b(i.v(i.f("role",e,t,0))),i.b(" </span> </p> ")}),e.pop()),i.b(" </div> </div> ")}),e.pop()),s.b(" </div> </div> </div> </div> </div>"),s.fl()},partials:{"<module_header0":{name:"module_header",partials:{},subs:{}}},subs:{}}),function(e){"use strict";var t=e.Grill,i=e.Disney,s=i.Style.breakpoints,n=s.midHigh.toString(),a=e.Whiskers,o=e.Backbone,r=e._,l=t.ModuleView.extend({breakpoints:n,template:a.modules.credits,required_template_sets:["module_header"],getRoles:function(){var e={};return r.each(this.model.get("data"),function(t){var i=t.role;i&&(e[i]||(e[i]={role:i,cast:[]}),e[i].cast.push({person:t.person,title:t.title||i}))}),r.values(e)},render:function(){var e=o.Resize.width()>=s.midHigh,t=this.getRoles(),i=r.extend({roles:t,creditsClass:e&&"wide",noAd:"credits_no_ad"===this.model.get("view")},this.options.ads.helpers(),this.model);this.$el.html(this.template.render(i,this.ctx_additions()))},resize:function(){this.render(),this.options.ads.restore()}});l.register("credits",{}),l.register("credits_no_ad",{})}(this),Whiskers("modules.dcom_filters",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<div class="bound '),s.b(s.v(s.f("type",e,t,0))),s.b(" "),s.b(s.v(s.f("entity_type",e,t,0))),s.s(s.f("singleRow",e,t,1),e,t,0,56,67,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(" single-row")}),e.pop()),s.b('"> '),s.s(s.f("header_data",e,t,1),e,t,0,100,118,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(i.rp("<module_header0",e,t,""))}),e.pop()),s.b(' <div id="stream_items"> '),s.b(s.t(s.f("list",e,t,0))),s.b(' </div> <div class="show_more_container"> <div class="show_more blue button large" role="button" onclick=""> <span class="label">'),s.b(s.v(s.d("translations.show_more",e,t,0))),s.b('</span> <span class="spinner"></span> </div> </div> </div>'),s.fl()},partials:{"<module_header0":{name:"module_header",partials:{},subs:{}}},subs:{}}),Whiskers("modules.col",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<span class="col item '),s.s(s.f("lastRow",e,t,1),e,t,0,34,42,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b("last-row")}),e.pop()),s.b('">'),s.b(s.rp("<entity_container0",e,t,"")),s.b('<span class="arrow"></span></span>'),s.fl()},partials:{"<entity_container0":{name:"entity_container",partials:{},subs:{}}},subs:{}}),function(e){"use strict";var t=e.Disney,i=e.Grill,s=e.Backbone,n=e.Whiskers,a=e.Math,o=e._,r=e.jQuery,l=t.Style.breakpoints,c=o.values(l);i.GridModuleBaseView.register("dcom_filters",{style_classes:["stream-view","filters-view"],required_template_sets:["module_header"],template:n.modules.dcom_filters,breakpoints:c.join(" "),page:1,events:{"click .show_more":function(e){var t=this,i=t.list.collection,s=++t.page*t.rpp;e.preventDefault(),i.next(),i.ensure(s).then(function(){t.filterCache[t.activeFilter]={models:i.models,count:i.count},t.fit(),t.updateUI()})},"click .filters a.filter":function(e){var t=this;e.preventDefault(),t.$(".filters a.filter").toggleClass("active");var i=t.$(".filter_list").height()+44;t.$(".filter_drawer").hasClass("active")?t.$(".filter_drawer").css("height","0").removeClass("active"):t.$(".filter_drawer").css("height",i).addClass("active")}},initialize:function(){var t,a=this,r=a.model,l=r.get("filters");if(l&&l.length>0){var c=l[0];if(o.extend(a,{filters:l,filterRoot:"/_grill/filter"+e.location.pathname,activeFilter:c.title,filterCache:{}}),a.entity_type=c.items.data[0].type.toLowerCase(),t=new s.LazyFilterCollection(r.data.models,{min:40}),t.baseUrl=a.filterRoot,t.nextFilter=c.items.next,t.count=c.items.count_estimate,a.filterCache[c.title]={models:r.data.models,count:t.count},t.remaining()>0&&t.nextFilter){var d=t.nextFilter.split("offset=")[1];a.rpp=Number(d)}else a.rpp=t.count}this.list=new i.ListView({collection:t,template:{render:function(e){return n.entities.item.render(e,a.global_components.entities)}}}),this.list.collection.on("loading",function(e,t){a.updateButton(t)})},render:function(){var e=this,i=e.list,s=i.collection.remaining()>0,n=e.model.data,a=o.extend({entity_type:this.entity_type,list:t.placeHtml(i),hasMore:s,singleRow:n.count<=this.cols()},this.model);this.$el.html(e.template.render(a,this.ctx_additions())),s?this.$(".show_more_container").show():this.$(".show_more_container").hide(),t.placeSwap(this,i),this.updateButton(!1)},ready:function(){this.createUI(),this.$el.loadLazyImages()},createUI:function(){var e=this,t=e.model.get("filters");if(t&&t.length){var i=this.$(".filter_list"),s=this.$(".mobile_filter_list"),n=this.$(".filter-label");n.text(t[0].title),r.each(t,function(e,t){var n=t.items.next?t.items.next:"?filter="+encodeURIComponent(t.title);i.append('<a href="" data-filter-next="'+n+'" data-filter="'+t.title+'"><span>'+t.title+"</span></a>"),s.append('<option value="'+n+'" data-filter="'+t.title+'">'+t.title+"</option>")}),this.$(".filter_drawer a").click(function(t){t.preventDefault(),e.$(".filter_drawer a").removeClass("active"),r(this).addClass("active"),e.$(".filter_drawer").css("height","0").removeClass("active"),e.$(".filters a.filter").removeClass("active"),e.$(".filters a.filter span").replaceWith("<span>"+r(this).data("filter")+"</span>"),e.$(".filter_mobile span").replaceWith("<span>"+r(this).data("filter")+"</span>"),e.hideStreamItems()}),this.$(".mobile_filter_list").change(function(){e.$(".mobile_filter_list option:selected").each(function(){e.$(".filters a.filter span").replaceWith("<span>"+r(this).data("filter")+"</span>"),e.$(".filter_mobile span").replaceWith("<span>"+r(this).data("filter")+"</span>"),e.$(".mobile_filter_list").blur(),e.hideStreamItems()})}),i.css("display","")}this.resize()},hideStreamItems:function(){var t=this,i=this.$("#stream_items ul"),s=this.$("#stream_items"),n=i.outerHeight(),a=r(e).selectTransitionEnd()+".stream_items";i.css("height",n).addClass("hide"),s.addClass("load"),r.support.css3("transition")?i.on(a,function(e){this===e.target&&(t.fetch(),i.off(a))}):t.fetch()},fetch:function(){var e=this,t=e.list.collection,i=this.$(".filter_drawer a.active").data("filter"),s=this.$(".filter_drawer a.active").data("filter-next");if(e.activeFilter=i,e.page=1,e.rpp=40,t.count=e.rpp,t.reset(),t.nextFilter=s,t.next(),e.filterCache[i]){var n=e.filterCache[i];return r.when().then(function(){t.reset(n.models),t.count=n.count,e.updateUI()})}var a=e.page*e.rpp;t.ensure(a).then(function(){e.filterCache[e.activeFilter]={models:t.models,count:t.count},e.updateUI()})},updateButton:function(e){var t=this.$el,i=this.model.data;t.toggleClass("loading",e),t.toggleClass("has-more",i.remaining()>0)},resize:function(){var e=this.cols(),t=e>1?"grid-layout":"list-layout";this.page=a.floor(this.model.data.length/this.rows()/e)||1,this.list.$el.attr("class","col-container cols-"+e+" "+t),this.fit()},fit:function(){var e=this.list.collection.count,t=this.page*this.cols()*this.rows();this.list.collection.remaining()>0?e>t?(this.list.$el.children().show().slice(t).hide(),this.$(".col").removeClass("last-row"),this.list.$el.children().slice(t-this.cols()).addClass("last-row")):this.list.$el.children().show():(this.list.$el.children().show(),this.$(".col").removeClass("last-row"))},updateUI:function(){var e=this,t=e.list.collection;e.$("#stream_items").removeClass("load"),e.$("#stream_items ul").css("height","auto").removeClass("hide"),e.$el.loadLazyImages(),t.remaining()<=0?e.$(".show_more_container").hide():e.$(".show_more_container").show()}})}(this),Whiskers("modules.disclaimer",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<div class="bound"> <div class="links"> '),s.s(s.f("data",e,t,1),e,t,0,49,125,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('" class="button blue small" target="_blank">'),i.b(i.v(i.f("title",e,t,0))),i.b("</a> ")}),e.pop()),s.b(" </div> "),s.s(s.f("desc",e,t,1),e,t,0,151,186,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b('<p class="description">'),i.b(i.v(i.f("desc",e,t,0))),i.b("</p>")}),e.pop()),s.b(" </div>"),s.fl()},partials:{},subs:{}}),function(e){"use strict";var t=e.Grill,i=e._,s=e.Whiskers;t.ModuleView.register("disclaimer",{template:s.modules.disclaimer,render:function(){var e=i.extend({},this.model);this.$el.html(this.template.render(e))}})}(this),function(e){"use strict";var t=e.Grill.BunView,i=e.jQuery,s=e._,n=e.Math,a=function(){var t=i(e),s=t.height(),a=t.width(),o=n.min(1.3333,n.max(s/a,.5625));s=n.round(a*o),s!==this.h&&(this.h=s,this.$("iframe.stage").height(s))};t.register("dressup",{initialize:function(){i(e).on("resize."+this.cid,s.throttle(s.bind(a,this),100))},render:function(){var t=i("<iframe/>",{"class":"stage",src:"/apps/dressup/princess"+e.location.search,frameborder:0,scrolling:"no"});this.$el.empty().append(t)},ready:a,remove:function(){t.prototype.remove.call(this),i(e).off("resize."+this.cid)}}),i(e).on("touchstart",function(){})}(this),Whiskers("modules.empty_example",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b(' <div class="bound '),s.b(s.v(s.f("type",e,t,0))),s.b(" "),s.b(s.v(s.f("entity_type",e,t,0))),s.b('"> '),s.b(" "),s.b(" "),s.s(s.f("header_data",e,t,1),e,t,0,381,399,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(i.rp("<module_header0",e,t,""))}),e.pop()),s.b(" "),s.b(" "),s.s(s.f("displayImages",e,t,1),e,t,0,631,880,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <div class="entity-box"><div class="aspect"><img src="'),i.b(i.v(i.f("starterKitteh",e,t,0))),i.b('"></div></div> '),i.b(" ")}),e.pop()),s.b(" "),s.b(' <div class="text-container"> <h2 class="hello_world skip-text-styles">'),s.b(s.v(s.d("translations.hello_world",e,t,0))),s.b("</h2> "),s.b(" "),s.b(" "),s.s(s.f("displayImages",e,t,1),e,t,0,1515,1899,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(" "),i.b(' <div class="surprise large button '),i.b(i.v(i.f("buttonColor",e,t,0))),i.b('">'),i.b(i.v(i.d("translations.surprise_me",e,t,0))),i.b("</div> "),i.b(" ")}),e.pop()),s.b(" </div> </div>"),s.fl()},partials:{"<module_header0":{name:"module_header",partials:{},subs:{}}},subs:{}}),function(e){"use strict";function t(e,t){return l.floor(l.random()*(t-e)+e)}function i(e,i){var s=e,n=e>=u.max?.32*e:e>=u.midHigh?.36*e:e>=u.midLow?.44*e:.5*e,a=t(s,s+20),o=t(n,n+20),r=i+a+"/"+o;return r}function s(e,t){t.find(".aspect").html(e),t.removeClass("loading")}var n=e.Grill,a=e.Disney,o=e.Whiskers,r=e.Backbone,l=e.Math,c=e._,d=e.jQuery,u=a.Style.breakpoints,p=c.values(u),h=n.ModuleView.extend({style_classes:["empty-view"],required_template_sets:["module_header"],template:o.modules.empty_example,breakpoints:p.join(" "),initialize:function(){var e=this.model.get("translations"),t={hello_world:"Oh haiiiiii world!",surprise_me:"Surprise Me!"};c.defaults(e,t),c.extend(this,{translations:e})},render:function(){var e=c.extend(this.model,{translations:this.translations});this.extendContext&&c.extend(e,this.extendContext()),this.$el.html(this.template.render(e,this.ctx_additions()))}}),f=h.extend({style_classes:["empty-view","empty-image-view"],rootUrl:"http://placekitten.com/",buttonColor:"blue",displayImages:!0,extendContext:function(){var e=this,t={starterKitteh:function(){var t=l.min(r.Resize.width(),920);return i(t,e.rootUrl)},buttonColor:e.buttonColor,displayImages:e.displayImages};return t},events:{"click .surprise":function(){var t=this.$(".entity-box"),n=new e.Image;t.addClass("loading"),n.src=i(t.width(),this.rootUrl),n.complete?s(n,t):d(n).on("load",function(){s(n,t)})}}});h.register("empty_example",{}),f.register("empty_example_image",{}),f.register("empty_example_image_extension",{rootUrl:"http://placepuppy.it/",buttonColor:"green"})}(this),Whiskers("modules.error",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<div id="error_page" class="e'),s.b(s.v(s.f("error_code",e,t,0))),s.b(' module"> <div class="bound"> <div class="inner"> '),s.b(" "),s.s(s.f("style",e,t,1),e,t,0,199,343,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("images",e,t,1),e,t,0,211,331,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("foreground_image",e,t,1),e,t,0,233,309,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="rich_text_image '),i.b(i.v(i.f("alignment",e,t,0))),i.b('_align"><img src="'),i.b(i.v(i.f("url",e,t,0))),i.b('"></div> ')}),e.pop()),i.b(" ")}),e.pop()),i.b(" ")}),e.pop()),s.b(' <div class="message"> <h1>'),s.b(s.v(s.f("title",e,t,0))),s.b("</h1> <h2>"),s.b(s.v(s.f("desc",e,t,0))),s.b('</h2> <div id="error_search"></div> </div> </div> </div> </div>'),s.fl()},partials:{},subs:{}}),function(e){"use strict";var t=e.Grill,i=e.jQuery,s=e.Whiskers;t.ModuleView.register("error",{template:s.modules.error,initialize:function(){var e=this.model.get("schema_json"),t=e&&e.suppress_search,i=404===this.model.get("error_code");this.search_form=i&&!t},render:function(){this.$el.html(this.template.render(this.model))},ready:function(){if(this.search_form){var e=i("footer #utility form");e.clone().appendTo(i("#error_page #error_search"))}}})}(this),Whiskers("modules.featured_media",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<div class="bound '),s.b(s.v(s.f("layout",e,t,0))),s.b('"> '),s.s(s.f("data",e,t,1),e,t,0,40,63,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(" "),i.b(i.rp("<entity_container0",e,t,"")),i.b(" ")}),e.pop()),s.b(" </div>"),s.fl()},partials:{"<entity_container0":{name:"entity_container",partials:{},subs:{}}},subs:{}}),function(e){"use strict";var t=e.Grill,i=e.Disney,s=i.Style.breakpoints,n=s.midHigh.toString(),a=e.Whiskers,o=e._,r=t.ModuleView.extend({breakpoints:n,template:a.modules.featured_media,style_classes:["featured_media","list_module_featured"],required_template_sets:["entities"],render:function(){var e=this,t=e.model,s=o.first(e.model.get("data")),n=this.$el,a=t.get("type"),r=i.rtl?"right":"left",l=t.get("style").layout?t.get("style").layout:r;"game"===a&&s.isConsole&&(a="movie");var c=o.extend({layout:l,seeAll:t.get("seeAll")},this.options.ads.helpers(),e.model);n.html(e.template.render(c,this.ctx_additions()))},resize:function(){this.render(),this.options.ads.restore()}});r.register("featured_media",{style_classes:["featured_media","list_module_featured","parent_featured"]}),r.register("featured_game",{}),r.register("featured_movie",{}),r.register("featured_gallery",{})}(this),Whiskers("modules.flex_image_modules",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<div class="bound image-size-'),s.b(s.v(s.f("image_sizing",e,t,0))),s.b(" "),s.s(s.f("style_config",e,t,1),e,t,0,63,222,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("image_alignment",e,t,1),e,t,0,84,110,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" image-"),i.b(i.v(i.f("image_alignment",e,t,0)))}),e.pop()),i.b(" "),i.s(i.f("background_color",e,t,1),e,t,0,152,200,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('" style="background-color: '),i.b(i.v(i.f("background_color",e,t,0))),i.b(";")}),e.pop()),i.b(" ")}),e.pop()),s.b('"> '),s.b(" "),s.s(s.f("sized_image",e,t,1),e,t,0,292,312,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(" "),i.b(i.rp("<image_partial0",e,t,"")),i.b(" ")}),e.pop()),s.b(" "),s.b(" "),s.s(s.f("sized_image",e,t,1),e,t,1,0,0,"")||(s.b(" "),s.s(s.d("schema_json.image_assets",e,t,1),e,t,0,410,456,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <noscript><img src="'),i.b(i.v(i.f("desktop",e,t,0))),i.b('"></noscript> ')}),e.pop()),s.b(" ")),s.b(" "),s.s(s.f("data",e,t,1),e,t,0,512,530,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(" "),i.b(i.rp("<bio_overlay1",e,t,"")),i.b(" ")}),e.pop()),s.b(" </div>"),s.fl()},partials:{"<image_partial0":{name:"image_partial",partials:{},subs:{}},"<bio_overlay1":{name:"bio_overlay",partials:{},subs:{}}},subs:{}}),Whiskers("partials.flex_size_image",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b(' <div class="image-wrapper" style="width: '),s.b(s.v(s.f("width",e,t,0))),s.b('px;"> <div class="aspect" style="padding-bottom: '),s.b(s.v(s.f("ratio",e,t,0))),s.b('%;"> '),s.s(s.f("noscript",e,t,1),e,t,1,0,0,"")||(s.b('<img data-src="'),s.b(s.v(s.f("src",e,t,0))),s.b('" alt="'),s.b(s.v(s.f("title",e,t,0))),s.b('">')),s.b(" "),s.s(s.f("noscript",e,t,1),e,t,0,227,283,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b('<noscript><img src="'),i.b(i.v(i.f("src",e,t,0))),i.b('" alt="'),i.b(i.v(i.f("title",e,t,0))),i.b('"></noscript>')}),e.pop()),s.b(' </div> </div> <div class="min-height-spacer" style="padding-bottom: '),s.b(s.v(s.f("ratio",e,t,0))),s.b('%;"></div>'),s.fl()},partials:{},subs:{}}),Whiskers("partials.bio_overlay",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<div class="bound bio-overlay '),s.s(s.f("schema_json",e,t,1),e,t,0,46,309,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("wide",e,t,1),e,t,0,56,221,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.s(i.f("desktop_config",e,t,1),e,t,0,75,202,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" content-"),i.b(i.v(i.f("horizontal_content_position",e,t,0))),i.b(" content-"),i.b(i.v(i.f("vertical_content_position",e,t,0))),i.b(" text-"),i.b(i.v(i.f("text_alignment",e,t,0))),i.b(" text-"),i.b(i.v(i.f("text_lightness",e,t,0))),i.b(" ")
}),e.pop())}),e.pop()),i.b(" "),i.s(i.f("wide",e,t,1),e,t,1,0,0,"")||i.s(i.f("mobile_config",e,t,1),e,t,0,258,281,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("text-"),i.b(i.v(i.f("text_lightness",e,t,0)))}),e.pop()),i.b(" ")}),e.pop()),s.b('"> <div class="bio-content details"> <h1 class="title" '),s.s(s.f("wide",e,t,1),e,t,0,389,560,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.s(i.d("schema_json.desktop_config.title_color_override",e,t,1),e,t,0,441,508,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('style="color: '),i.b(i.v(i.d("schema_json.desktop_config.title_color_override",e,t,0))),i.b(';"')}),e.pop())}),e.pop()),s.b('> <span class="name">'),s.b(s.v(s.f("title",e,t,0))),s.b('</span> </h1> <p class="desc '),s.b(s.v(s.f("contentPosition",e,t,0))),s.b('">'),s.b(s.v(s.f("description",e,t,0))),s.b('</p> <p class="short-desc '),s.b(s.v(s.f("contentPosition",e,t,0))),s.b('">'),s.b(s.v(s.f("short_desc",e,t,0))),s.b("</p> "),s.s(s.f("include_social",e,t,1),e,t,0,749,764,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(i.rp("<social_btn0",e,t,""))}),e.pop()),s.b(" </div> </div>"),s.fl()},partials:{"<social_btn0":{name:"social_btn",partials:{},subs:{}}},subs:{}}),function(e){"use strict";var t=e.Disney,i=t.Style.breakpoints,s=i.midHigh.toString(),n=e.Grill,a=e.Math,o=e.Whiskers,r=e.Backbone,l=e._,c=e.devicePixelRatio>1.5,d=n.ModuleView.extend({breakpoints:s,style_classes:["image_module","full-height","full-width","skip-styles"],template:o.modules.flex_image_modules,included_components:{bio_overlay:o.partials.bio_overlay,image_partial:o.partials.flex_size_image,social_btn:o.partials.social_btn},initialize:function(){var e=this.model.get("schema_json"),s=e&&e.image_assets,n={},o=e&&e.include_social,r=o&&!this.options.cds;if(s){var d=["desktop","mobile"];l.each(d,function(e){var o=s[e];if(o){var r=t.LumiereHelpers.nativeSizeFromSrc(o),l=r.ratio,d=a.ceil(a.min(i.contentMax,r.width/2)),u=a.ceil(d*l);n[e]={src:c?o:o+"&width="+d,base_src:o,height:u,width:d,ratio:100*l}}})}this.model.set({image_data:n,image_sizing:this.flexSize?"flex":"fixed",include_social:r})},render:function(){var e=r.Resize.width()>=i.midHigh,s=e?"desktop":"mobile",n=this.model.get("schema_json"),a=n&&n[s+"_config"],o=this.model.get("image_data"),c=o[s];c.src=t.LumiereHelpers.imgSrc(c.base_src,{rel_width:1}),this.model.set("sized_image",c);var d=l.extend({wide:e,style_config:a},this.model);this.$el.html(this.template.render(d,this.included_components))}});d.register("flex_image",{flexSize:!0}),d.register("rich_bio",{flexSize:!1})}(this),Whiskers("modules.fta_catchup",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<div class="bound video"> <div class="header"> '),s.s(s.f("title",e,t,1),e,t,0,57,75,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b("<h2>"),i.b(i.v(i.f("title",e,t,0))),i.b("</h2>")}),e.pop()),s.b(" "),s.s(s.f("desc",e,t,1),e,t,0,95,123,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b('<p class="desc">'),i.b(i.v(i.f("desc",e,t,0))),i.b("</p>")}),e.pop()),s.b(' <div class="filters"> <div class="filter"> '),s.s(s.f("days",e,t,1),e,t,0,185,290,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <a class="day-toggle '),i.s(i.f("selected",e,t,1),e,t,0,220,228,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("selected")}),e.pop()),i.b('" href="#" data-filter="'),i.b(i.v(i.f("date",e,t,0))),i.b('"> '),i.b(i.v(i.f("name",e,t,0))),i.b(" </a> ")}),e.pop()),s.b(' </div> <div class="filter_mobile"> <span>'),s.b(s.v(s.d("translations.Today",e,t,0))),s.b('</span> <select class="mobile_filter_list"> '),s.s(s.f("days",e,t,1),e,t,0,416,503,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(" <option "),i.s(i.f("selected",e,t,1),e,t,0,438,446,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("selected")}),e.pop()),i.b(' data-filter="'),i.b(i.v(i.f("date",e,t,0))),i.b('"> '),i.b(i.v(i.f("name",e,t,0))),i.b(" </option> ")}),e.pop()),s.b(' </select> </div> </div> </div> <br/> <div id="stream_items"> '),s.b(s.t(s.f("list",e,t,0))),s.b(' <div class="zero_case"> <h3>'),s.b(s.v(s.d("translations.no_videos",e,t,0))),s.b('</h3> </div> <div class="show_more_container"> <div class="show_more blue button large" role="button"> <span class="label">'),s.b(s.v(s.d("translations.show_more",e,t,0))),s.b('</span> <span class="spinner"></span> </div> </div> </div> </div>'),s.fl()},partials:{},subs:{}}),function(e){"use strict";var t=e.jQuery,i=e._,s=e.Disney,n=e.Grill,a=e.Backbone,o=e.Modernizr,r=e.Whiskers,l=s.Style.breakpoints,c=i.values(l),d=a.LazyCollection.extend({parse:function(e){return this.count=e.data.total_found,(e.data||{}).results}}),u=n.ModuleView.extend({compatibility:o.canvas&&o.flash?"html5,flash":o.canvas&&!o.flash?"html5":"flash",style_classes:["stream-view","grid-view"],page:1,events:{"click .show_more":function(t){t.preventDefault();var i=this;this.$el.addClass("loading"),this.getMoreItems().then(function(){i.$el.removeClass("loading"),e.Tracker.trackPagination(++i.page),i.$el.loadLazyImages()})},"click a.day-toggle":function(e){this.selectDay(e,t(e.target).html())},"change select.mobile_filter_list":function(e){this.selectDay(e,t(e.target).find(":selected").html())}},selectDay:function(e,t){e.preventDefault();var i=this.$el,s=i.find(".zero_case"),n=i.find("a.day-toggle"),a=i.find(".filter_mobile span"),o=i.find(".mobile_filter_list"),r=i.find('a.day-toggle:contains("'+t+'")'),l=o.find('.option[value="'+t+'"]');s.hide(),n.removeClass("selected"),r.addClass("selected"),a.html(t),l.prop("selected",!0),o.blur(),this.resetAndGetMoreItems()},initialize:function(){var e=this,t=this.model,i=t.data=new d(null,{min:6}),s=this.translations=this.model.get("translations");this.list=new n.ListView({collection:i,template:{render:function(t){return r.entities.item.render(t,e.global_components.entities)}}}),this.dayMap=[s.sunday||"Sunday",s.monday||"Monday",s.tuesday||"Tuesday",s.wednesday||"Wednesday",s.thursday||"Thursday",s.friday||"Friday",s.saturday||"Saturday"]},getMoreItems:function(){var e,i,s=this,n=this.list.collection,o=a.Resize.width(),r=this.$("a.day-toggle.selected"),c=this.$(".mobile_filter_list");e=o<l.midHigh?c.find(":selected").data("filter"):r.attr("data-filter");var d={q:"video",filter:{type:"Video",start_date_s:e}};return n.url="/_fta_stream/search.json?"+t.param(d),this.itemCount+=this.cols()*this.rows(),i=this.model.data.ensure(this.itemCount),i.then(function(){s.hideLoader(),s.$el.loadLazyImages(),s.updateButton()}),i},showLoader:function(){var e=this.$el,t=this.$("#stream_items"),i=t.find("ul"),s=i.outerHeight()||100;i.css("height",s).addClass("hide"),t.addClass("load"),e.addClass("loading")},hideLoader:function(){var e=this.$el,i=t("#stream_items"),s=i.find("ul");i.removeClass("load"),s.css("height","auto").removeClass("hide"),e.removeClass("loading")},render:function(){var e=i.extend({days:this.dates(),list:s.placeHtml(this.list),sortOptions:!0},this.model.toJSON());this.$el.html(this.template.render(e)),s.placeSwap(this,this.list)},ready:function(){this.resize(),this.resetAndGetMoreItems()},updateButton:function(){var e=this.$el,t=this.model.data.count,i=e.find("#stream_items .item").length;e.toggleClass("has-more",t>i)},resize:function(){var e=this.cols();this.list.$el.removeClass().addClass("cols-"+e),this.fit()},fit:function(){var e=this.list,t=e.$el,i=e.collection.count,s=e.collection.length,n=this.page*this.cols()*this.rows();i>n&&i>s?t.children().show().slice(n).hide():t.children().show()},formatDate:function(e){var t=String(e.getMonth()+1),i=String(e.getDate()),s=String(e.getFullYear());return 1===t.length&&(t="0"+t),1===i.length&&(i="0"+i),[s,t,i].join("-")},dates:function(){for(var e,t,i,s=new Date,n=[],a=0;8>a;a++)i=!1,s.setDate(s.getDate()-(0===a?0:1)),e=this.formatDate(s),0===a?(t=this.translations.today||"Today",i=!0):t=1===a?this.translations.yesterday||"Yesterday":this.dayMap[s.getDay()],n.push({name:t,date:e,selected:i});return n.reverse()},resetAndGetMoreItems:function(){return this.list.collection.reset(),this.showLoader(),this.page=1,this.itemCount=0,this.getMoreItems()}});u.register("fta_catchup",{breakpoints:c.join(" "),template:r.modules.fta_catchup,rows:function(){var e=a.Resize.width();return e<l.midHigh?4:e<l.max?3:2},cols:function(){var e=a.Resize.width(),t=parseInt(this.model.get("style").items_per_row_override,10);return e<l.midHigh?1:t||3}})}(this),Whiskers("modules.full_schedule",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<div class="bound '),s.b(s.v(s.f("type",e,t,0))),s.b(" "),s.b(s.v(s.f("entity_type",e,t,0))),s.b('"> <div class="whats-on"> <a href="'),s.b(s.v(s.f("href",e,t,0))),s.b('" class="button large blue">'),s.b(s.v(s.d("translations.watch_live",e,t,0))),s.b("</a> <h2>"),s.b(s.v(s.d("translations.whats_on",e,t,0))),s.b('</h2> </div> <div id="fixed-container"> <div id="fixed"> <div class="header"> <div class="filters" data-title="filters"> <div class="sort-label"> <span>'),s.b(s.v(s.d("translations.catch_up",e,t,0))),s.b("</span><span>"),s.b(s.v(s.d("translations.today",e,t,0))),s.b("</span><span>"),s.b(s.v(s.d("translations.coming_up",e,t,0))),s.b('</span> </div> <div class="sort"> '),s.s(s.f("localized_dates",e,t,1),e,t,0,479,612,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <a class="'),i.b(i.v(i.f("day",e,t,0))),i.b(" "),i.b(i.v(i.f("class",e,t,0))),i.b(' belt" data-date="'),i.b(i.v(i.f("data_date",e,t,0))),i.b('" href="javascript:void(0)"><span>'),i.b(i.v(i.f("day",e,t,0))),i.b("</span><span>"),i.b(i.v(i.f("date",e,t,0))),i.b("</span></a> ")}),e.pop()),s.b(' </div> <div class="filter_mobile"> <div id="anchor-links" class="sort"> <a class="morning" href="#morning">'),s.b(s.v(s.d("translations.morning_button",e,t,0))),s.b('</a> <a class="afternoon" href="#afternoon">'),s.b(s.v(s.d("translations.afternoon_button",e,t,0))),s.b('</a> </div> <div class="filter_mobile_list"> <span>'),s.b(s.v(s.f("localized_date",e,t,0))),s.b('</span> <select class="filter_mobile_select"> '),s.s(s.f("localized_dates",e,t,1),e,t,0,983,1046,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <option value="'),i.b(i.v(i.f("data_date",e,t,0))),i.b('" '),i.b(i.v(i.f("selected",e,t,0))),i.b(">"),i.b(i.v(i.f("label",e,t,0))),i.b("</option> ")}),e.pop()),s.b(' </select> </div> </div> </div> </div><!-- div.fixed --> </div> </div> <div id="schedule" class="container clear"> '),s.s(s.f("schedule",e,t,1),e,t,0,1194,1425,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(" "),i.s(i.d("schedule_items.length",e,t,1),e,t,0,1221,1398,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="header"> <div class="title"> <h2>'),i.b(i.v(i.f("time_period_label",e,t,0))),i.b('</h2> </div> </div> <div class="schedule-time-group" id="'),i.b(i.v(i.f("time_period",e,t,0))),i.b('"> '),i.b(i.rp("<scheduleTimeGroupItems0",e,t,"")),i.b(" </div> ")}),e.pop()),i.b(" ")}),e.pop()),s.b(" "),s.s(s.f("schedule",e,t,1),e,t,1,0,0,"")||(s.b(' <div class="title"> <h2 class="no-data">'),s.b(s.v(s.f("no_epg_data",e,t,0))),s.b("</h2> </div> ")),s.b(" </div><!-- div#schedule --> </div>"),s.fl()},partials:{"<scheduleTimeGroupItems0":{name:"scheduleTimeGroupItems",partials:{},subs:{}}},subs:{}}),Whiskers("partials.schedule_time_group_items",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b(' <ul class="schedule-items"> '),s.s(s.f("schedule_items",e,t,1),e,t,0,92,884,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <li class="schedule-entry entry container indent closed"> <div class="inner-entry"> <div class="meta"> <p class="gamma time">'),i.b(i.v(i.f("time",e,t,0))),i.b('</p> </div> <div class="entry-details"> '),i.s(i.f("primary_image_url",e,t,1),e,t,0,288,407,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="show-thumb"> <img class="show-thumb thumb" alt="'),i.b(i.v(i.f("show_title",e,t,0))),i.b('" src="'),i.b(i.v(i.f("primary_image_url",e,t,0))),i.b('"></img> </div> ')}),e.pop()),i.b(' <div class="show-text"> '),i.s(i.f("url",e,t,1),e,t,0,462,571,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <h2 class="show-title title regular light beta"><a class="show-link" href="'),i.b(i.v(i.f("url",e,t,0))),i.b('">'),i.b(i.v(i.f("show_title",e,t,0))),i.b("</a></h2> ")}),e.pop()),i.b(" "),i.s(i.f("url",e,t,1),e,t,1,0,0,"")||(i.b(' <h2 class="show-title title regular light beta"><a class="inactive" href="#">'),i.b(i.v(i.f("show_title",e,t,0))),i.b("</a></h2> ")),i.b(' </div> <div class="extra"> <h2 class="gamma regular book episode-title title">'),i.b(i.v(i.f("episode_title",e,t,0))),i.b('</h2> <p class="delta episode-description">'),i.b(i.v(i.f("description",e,t,0))),i.b("</p> </div> </div> </div> </li> ")}),e.pop()),s.b(" </ul> "),s.fl()},partials:{},subs:{}}),function(e){"use strict";function t(){var e=new Date,t=-(e.getTimezoneOffset()/60);return t}var i=e.Disney,s=e.Grill,n=e.jQuery,a=e._,o=e.Whiskers,r="/_schedule/full/",l=s.ModuleView.extend({template:o.modules.full_schedule,schedule:null,events:{"click .sort .belt":function(e){var t=n(e.currentTarget);return this.fetchData(t.data("date")),this.$(".sort .belt.active").removeClass("active"),t.addClass("active"),e.preventDefault(),e.stopPropagation(),!1},"change .filter_mobile_select":function(e){var t=n(e.currentTarget);this.fetchData(t.val())},"click .sort a.morning":function(e){return this.$(".morning").addClass("active"),this.$(".afternoon").removeClass("active"),e.preventDefault(),!1},"click .sort a.afternoon":function(e){return e.preventDefault(),this.$(".afternoon").addClass("active"),this.$(".morning").removeClass("active"),!1},"click div#schedule .schedule-entry":function(e){var t=n(e.currentTarget);return t.hasClass("closed")?t.find("div.entry-details").find(":hidden").toggleClass("opened").slideDown():t.hasClass("open")&&t.find("div.entry-details").find(".opened").toggleClass("opened").slideUp(),t.toggleClass("open closed"),e.preventDefault(),!1},"click a.show-link":function(e){e.stopPropagation()},"click div#anchor-links a":function(t){var i=n(t.currentTarget),s=i.prop("hash"),a=this.$(s);n("html, body").stop().animate({scrollTop:a.offset().top-275},800,"swing",function(){e.location.hash=i.prop("hash")})}},render:function(){var t=new Date,i=t.getFullYear()+("0"+(t.getMonth()+1)).slice(-2)+("0"+t.getDate()).slice(-2);this.fetchData(i),n(e).on("scroll."+this.cid,a.throttle(a.bind(this.toggleFixedControls,this),300))},toggleFixedControls:function(){var t=this.$("#fixed-container");if(t.length>0){var i=t.offset().top;n(e).scrollTop()<i?t.find("#fixed").removeClass("fixed-controls"):t.find("#fixed").addClass("fixed-controls")}},remove:function(){s.ModuleView.prototype.remove.call(this),n(e).off("scroll."+this.cid)},fetchData:function(e){var t=this;this.$("#schedule").empty(),i.Spinner.show(),n.getJSON(t.buildUrl(e),function(e){var s=t.model.get("translations"),n=t.model.get("page_level_options"),r=n.watch_live_link||"",l=[s.morning,s.afternoon,s.evening,s.night];a.each(e.schedule,function(e,t){e.time_period_label=l[t]});var c=a.extend({translations:s,href:r},e);t.$el.html(t.template.render(c,{scheduleTimeGroupItems:o.partials.schedule_time_group_items})),i.Spinner.hide(),t.toggleFixedControls()})},buildUrl:function(i){var s=encodeURIComponent(e.location.pathname);return r+i+"/"+t()+"/"+s}});l.register("full_schedule");var c=l.extend({className:"module full_schedule",buildUrl:function(e){return r+e}});c.register("emea_full_schedule")}(this),Whiskers("modules.game_logos",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<div class="bound"> <div class="container"> '),s.s(s.f("game_rating",e,t,1),e,t,0,60,587,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <div class="logo-container"> <span class="esrb"> '),i.s(i.f("noscript",e,t,1),e,t,1,0,0,"")||(i.b('<img class="no-src" data-src="'),i.b(i.v(i.f("game_rating",e,t,0))),i.b('">')),i.b(" "),i.s(i.f("noscript",e,t,1),e,t,0,197,265,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<noscript><img class="no-src" data-src="'),i.b(i.v(i.f("game_rating",e,t,0))),i.b('"></noscript>')}),e.pop()),i.b(" </span> "),i.s(i.f("data",e,t,1),e,t,0,296,570,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('" target="_blank"> <span class="game-logo-box"> '),i.s(i.f("noscript",e,t,1),e,t,1,0,0,"")||(i.b('<img data-src="'),i.b(i.v(i.f("icon",e,t,0))),i.b('" class="no-src game-logo" alt="'),i.b(i.v(i.f("title",e,t,0))),i.b('">')),i.b(" "),i.s(i.f("noscript",e,t,1),e,t,0,468,543,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<noscript><img src="'),i.b(i.v(i.f("icon",e,t,0))),i.b('" class="game-logo" alt="'),i.b(i.v(i.f("title",e,t,0))),i.b('"></noscript>')}),e.pop()),i.b(" </span> </a> ")}),e.pop()),i.b(" </div> ")}),e.pop()),s.b(' <div class="game_legal"> '),s.b(s.v(s.f("legal_text",e,t,0))),s.b(" </div> </div> </div>"),s.fl()},partials:{},subs:{}}),function(e){"use strict";var t=e.Grill,i=e.Whiskers,s=e._;t.ModuleView.register("game_logos",{template:i.modules.game_logos,render:function(){var e=s.extend({},this.model);this.$el.html(this.template.render(e))},resize:function(){this.render()}})}(this),Whiskers("modules.glance",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<div class="bound"> '),s.s(s.f("header_data",e,t,1),e,t,0,36,54,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(i.rp("<module_header0",e,t,""))}),e.pop()),s.b(" "),s.s(s.f("data",e,t,1),e,t,0,80,1195,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <div class="item" data-title="'),i.b(i.v(i.f("title",e,t,0))),i.b('"> <div class="poster"> <a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('"><span class="poster-box"><img src="'),i.b(i.v(i.f("poster",e,t,0))),i.b('" width="100%"></span></a> </div><div class="details"> <h3><a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('">'),i.b(i.v(i.f("title",e,t,0))),i.b('</a></h3> <p class="desc">'),i.b(i.v(i.f("short_desc",e,t,0))),i.b('</p> <div class="meta"> '),i.s(i.f("reRelease",e,t,1),e,t,0,373,459,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <p class="rerelease"><strong>'),i.b(i.v(i.d("translations.re_release",e,t,0))),i.b(":</strong> "),i.b(i.v(i.f("reRelease",e,t,0))),i.b("</p> ")}),e.pop()),i.b(" "),i.s(i.f("release",e,t,1),e,t,0,486,557,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <p class="release"><strong>'),i.b(i.v(i.f("release_text",e,t,0))),i.b(":</strong> "),i.b(i.v(i.f("release",e,t,0))),i.b("</p> ")}),e.pop()),i.b(" "),i.s(i.f("rating",e,t,1),e,t,0,581,656,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <p class="rating"><strong>'),i.b(i.v(i.d("translations.rated",e,t,0))),i.b(":</strong> "),i.b(i.v(i.f("rating",e,t,0))),i.b("</p> ")}),e.pop()),i.b(' </div> <div class="actions"> '),i.s(i.f("buttons",e,t,1),e,t,0,709,852,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div><a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('" class="button small '),i.b(i.v(i.f("type",e,t,0))),i.b(" "),i.b(i.v(i.f("button_color",e,t,0))),i.b('"'),i.s(i.f("convert",e,t,1),e,t,0,792,819,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' data-convert="'),i.b(i.v(i.f("convert",e,t,0))),i.b('"')}),e.pop()),i.b(">"),i.b(i.v(i.f("title",e,t,0))),i.b("</a></div> ")}),e.pop()),i.b(' </div> </div><div class="trailer-thumb"> <a href="'),i.b(i.v(i.f("thref",e,t,0))),i.b('"> <span class="thumb-box"><span class="aspect"> <img src="'),i.b(i.v(i.f("tthumb",e,t,0))),i.b('" class="thumb" alt="'),i.b(i.v(i.f("ttitle",e,t,0))),i.b('"> <span class="thumb-title"> <h3 class="title" aria-hidden="true">'),i.b(i.v(i.f("ttitle",e,t,0))),i.b('</h3> <time aria-hidden="true">'),i.b(i.v(i.f("tduration",e,t,0))),i.b("</time> </span> </span></span> </a> </div> </div> ")}),e.pop()),s.b(" </div>"),s.fl()},partials:{"<module_header0":{name:"module_header",partials:{},subs:{}}},subs:{}}),function(e){"use strict";var t=e.Grill,i=e.Disney,s=i.Style.breakpoints,n=s.midHigh.toString(),a=e.Whiskers,o=e._;t.ModuleView.register("glance",{breakpoints:n,template:a.modules.glance,render:function(){var e=this.model.get("translations"),t=o.extend({release_text:e.release},this.options.ads.helpers(),this.model);this.$el.html(this.template.render(t));var i=this.$el;i.find(".divide:last").css("display","none")},resize:function(){this.render(),this.options.ads.restore()}})}(this),Whiskers("modules.glimpse",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<div class="bound"> '),s.s(s.f("header_data",e,t,1),e,t,0,36,54,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(i.rp("<module_header0",e,t,""))}),e.pop()),s.b(' <div class="col-container container cols-2">'),s.s(s.f("data",e,t,1),e,t,0,124,852,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b('<div class="col item" data-title="'),i.b(i.v(i.f("title",e,t,0))),i.b('"> '),i.b(i.rp("<entity_container1",e,t,"")),i.b(' <div class="details"> <div class="meta"> '),i.s(i.f("reRelease",e,t,1),e,t,0,247,333,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <p class="rerelease"><strong>'),i.b(i.v(i.d("translations.re_release",e,t,0))),i.b(":</strong> "),i.b(i.v(i.f("reRelease",e,t,0))),i.b("</p> ")}),e.pop()),i.b(" "),i.s(i.f("release",e,t,1),e,t,0,360,439,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <p class="release"><strong>'),i.b(i.v(i.d("translations.release",e,t,0))),i.b(":</strong> "),i.b(i.v(i.f("release",e,t,0))),i.b("</p> ")}),e.pop()),i.b(" "),i.s(i.f("rating",e,t,1),e,t,0,463,538,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <p class="rating"><strong>'),i.b(i.v(i.d("translations.rated",e,t,0))),i.b(":</strong> "),i.b(i.v(i.f("rating",e,t,0))),i.b("</p> ")}),e.pop()),i.b(" "),i.s(i.f("albumShortDesc",e,t,1),e,t,0,569,614,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <p class="shortdesc">'),i.b(i.v(i.f("albumShortDesc",e,t,0))),i.b("</p> ")}),e.pop()),i.b(' </div> <div class="actions"> '),i.s(i.f("buttons",e,t,1),e,t,0,675,818,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div><a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('" class="button small '),i.b(i.v(i.f("type",e,t,0))),i.b(" "),i.b(i.v(i.f("button_color",e,t,0))),i.b('"'),i.s(i.f("convert",e,t,1),e,t,0,758,785,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' data-convert="'),i.b(i.v(i.f("convert",e,t,0))),i.b('"')}),e.pop()),i.b(">"),i.b(i.v(i.f("title",e,t,0))),i.b("</a></div> ")}),e.pop()),i.b(" </div> </div> </div> ")}),e.pop()),s.b("</div> </div>"),s.fl()},partials:{"<module_header0":{name:"module_header",partials:{},subs:{}},"<entity_container1":{name:"entity_container",partials:{},subs:{}}},subs:{}}),function(e){"use strict";var t=e.Grill,i=e.Whiskers,s=e._;t.ModuleView.register("glimpse",{template:i.modules.glimpse,required_template_sets:["module_header","entities"],render:function(){var e=this.model,t=s.extend({albumShortDesc:function(){return"album"===e.get("type")&&this.get("short_desc")}},this.options.ads.helpers(),this.model);this.$el.html(this.template.render(t,this.ctx_additions()))},resize:function(){this.render(),this.options.ads.restore()}})}(this),Whiskers("modules.grid",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<div class="bound '),s.b(s.v(s.f("type",e,t,0))),s.b(" "),s.b(s.v(s.f("entity_type",e,t,0))),s.s(s.f("singleRow",e,t,1),e,t,0,56,67,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(" single-row")}),e.pop()),s.b('"> '),s.s(s.f("header_data",e,t,1),e,t,0,100,118,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(i.rp("<module_header0",e,t,""))}),e.pop()),s.b(' <div class="cols-'),s.b(s.v(s.f("rpp",e,t,0))),s.b(" "),s.b(s.v(s.f("layoutType",e,t,0))),s.b(' col-container"> '),s.s(s.f("visible_data",e,t,1),e,t,0,208,217,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(i.rp("<item1",e,t,""))}),e.pop()),s.b(" </div> </div>"),s.fl()},partials:{"<module_header0":{name:"module_header",partials:{},subs:{}},"<item1":{name:"item",partials:{},subs:{}}},subs:{}}),function(e){"use strict";var t=e.Grill,i=e.Disney,s=e.Whiskers,n=e._,a=i.Style.breakpoints,o=n.values(a),r=n.contains(["disneychannel.disney.com","disneyxd.disney.com"],i.portal),l=t.GridModuleBaseView.extend({breakpoints:o.join(" "),style_classes:["grid-view"],required_template_sets:["module_header","entities"],template:s.modules.grid,initialize:function(){var e=this.model,t=e.data;this.entity_type=n.first(t.models).get("entity_type")||e.get("type")},render:function(){var e=this.cols(),t=this.model,i=t.data.models.slice(0,this.limit(e));this.model.set("visible_data",i);var s=n.extend({rpp:e,layoutType:e>1?"grid-layout":"list-layout",channelSite:r,entity_type:this.entity_type,singleRow:i.length<=e},this.model);this.$el.html(this.template.render(s,this.ctx_additions()))},limit:function(e){var t=this.model.get("type"),i=this.model.data.length;return"character"===t?i:i>e?i-i%e:i}});l.register("browse",{}),l.register("recommended",{limit:function(e){return r?this.model.data.length:e}}),l.register("enchilada",{style_classes:["browse"],limit:function(){return this.model.data.length}})}(this),Whiskers("modules.guide",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<div class="bound"> <div class="container"> '),s.s(s.f("header_data",e,t,1),e,t,0,60,78,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(i.rp("<module_header0",e,t,""))}),e.pop()),s.b(' <div class="schedule"> '),s.s(s.f("data",e,t,1),e,t,0,127,345,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <div class="row"> <span class="cell time">'),i.b(i.v(i.f("time",e,t,0))),i.b('</span> <span class="cell info"> <div class="title">'),i.b(i.v(i.f("title",e,t,0))),i.b('</div> <div class="series">'),i.b(i.v(i.f("series",e,t,0))),i.b('</div> </span> <span class="cell desc">'),i.b(i.v(i.f("description",e,t,0))),i.b("</span> </div> ")}),e.pop()),s.b(" </div> </div> </div>"),s.fl()},partials:{"<module_header0":{name:"module_header",partials:{},subs:{}}},subs:{}}),Whiskers("modules.schedule",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<div class="shows_schedule"> <div class="container"> <div class="header">'),s.b(s.v(s.f("title",e,t,0))),s.b('</div> <ul class="three_up"> '),s.s(s.f("data",e,t,1),e,t,0,120,207,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <li><span class="time">'),i.b(i.v(i.f("time",e,t,0))),i.b('</span><span class="show_title">'),i.b(i.v(i.f("series",e,t,0))),i.b("</span></li> ")}),e.pop()),s.b(' </ul> <div class="full_schedule"> <a href="'),s.b(s.v(s.f("href",e,t,0))),s.b('"><span class="see_mobile">'),s.b(s.v(s.f("see",e,t,0))),s.b(" &nbsp;</span>"),s.b(s.v(s.f("linkTitle",e,t,0))),s.b("</a> </div> </div> </div>"),s.fl()},partials:{},subs:{}}),function(e){"use strict";var t=e.Grill,i=e.Modernizr,s=e.Whiskers,n=e.jQuery,a=e._,o={title:"Today's Schedule",schedule_title:"What's On:"},r=t.ModuleView.extend({initialize:function(){var e=this,t=e.buildUrl();e.fetchData(t),e.$el.hide()},zeroPad:function(e,t){for(var i=e.toString();i.length<t;)i="0"+i;return i},toParseableDate:function(e){var t={Jan:1,Feb:2,Mar:3,Apr:4,May:5,Jun:6,Jul:7,Aug:8,Sep:9,Oct:10,Nov:11,Dec:12},i=e.split(" ");return e=i[3]+"/"+parseInt(t[i[2]],10)+"/"+parseInt(i[1],10)+" "+i[4],new Date(e)},buildUrl:function(){var e=this,t=new Date,i=new Date,s="";i.setDate(i.getDate()+1);var n=t.getFullYear()+e.zeroPad(t.getMonth()+1,2)+e.zeroPad(t.getDate(),2),a=i.getFullYear()+e.zeroPad(i.getMonth()+1,2)+e.zeroPad(i.getDate(),2),o=-(t.getTimezoneOffset()/60),r="001",l=this.model.get("data")[0].title.toLowerCase(),c=null;c=this.model.get("channel_schedule")?this.model.get("channel_schedule").toLowerCase():"false";var d="";return s=-1!==l.indexOf("junior")||-1!==c.indexOf("junior")?"008":-1!==l.indexOf("xd")||-1!==c.indexOf("xd")?"009":"004",d="/watch/livetvguide/"+s+"/"+r+"/"+n+"/"+a+"/"+o},fetchData:function(e){var t=this;n.getJSON(e,function(e){var s=[],r=e.schedule.video,l=0,c=new Date;n.each(r,function(e,i){var n=i.airdates.airdate,a=t.toParseableDate(n),o=a.getTime()+parseInt(i.duration,10)>=c.getTime();if(o&&10>l){var r=a.getHours(),d=a.getMinutes(),u=r>=12?"pm":"am";r=0===r?12:r>12?r-12:r;var p=r+":"+t.zeroPad(d,2)+u;l++,s.push({time:p,title:i.title,series:i.show.title,description:i.description})}}),o=a.extend(o,{data:s}),i.flash&&!i.mobile&&t.$el.hide().html(t.template.render(o)).fadeIn()})}});r.register("live_tv_guide",{template:s.modules.guide}),r.register("schedule",{template:s.modules.schedule,fetchData:function(e){var t=this,i=this.model.get("data")[0].href,s=this.model.get("data")[0].title,r=this.model.get("title"),l=this.model.get("translations");n.getJSON(e,function(e){var c=[],d=e.schedule.video,u=0,p=new Date;n.each(d,function(e,i){var s=i.airdates.airdate,n=t.toParseableDate(s),a=n.getTime()+parseInt(i.duration,10)>=p.getTime();if(a&&3>u){var o=n.getHours(),r=n.getMinutes(),l=o>=12?"p":"a";o=0===o?12:o>12?o-12:o;var d=o+":"+t.zeroPad(r,2)+l;u++,c.push({time:d,series:i.show.title})}}),o=a.extend(o,{data:c,href:i,title:r,linkTitle:s,translations:l}),t.$el.hide().html(t.template.render(o)).fadeIn()})}})}(this),Whiskers("modules.hero_universal",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<div class="bound"> <div class="carousel'),s.s(s.f("identity",e,t,1),e,t,0,53,100,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(" identity"),i.s(i.f("hasThumbs",e,t,1),e,t,1,0,0,"")||i.b(" no-thumbs")}),e.pop()),s.b(" "),s.b(s.v(s.f("heroSize",e,t,0))),s.b(' universal"> <ul class="slides"> '),s.s(s.f("slides",e,t,1),e,t,0,170,195,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(" <li>"),i.b(i.rp("<heroSlide0",e,t,"")),i.b("</li> ")}),e.pop()),s.b(" </ul> </div> "),s.s(s.f("identity",e,t,1),e,t,0,233,260,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(i.rp("<identityOverlayPartial1",e,t,""))}),e.pop()),s.b(" </div>"),s.fl()},partials:{"<heroSlide0":{name:"heroSlide",partials:{},subs:{}},"<identityOverlayPartial1":{name:"identityOverlayPartial",partials:{},subs:{}}},subs:{}}),Whiskers("modules.rich_image",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.s(s.f("image",e,t,1),e,t,0,10,336,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b('<div class="bound"> '),i.s(i.f("data",e,t,1),e,t,0,39,178,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('" '),i.s(i.f("age_gate",e,t,1),e,t,0,71,114,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' class="age-gated" data-age="'),i.b(i.v(i.f("age_gate",e,t,0))),i.b('" ')}),e.pop()),i.b(' title="'),i.b(i.v(i.f("title",e,t,0))),i.b('" alt="'),i.b(i.v(i.f("title",e,t,0))),i.b('" target="_blank">')}),e.pop()),i.b(" "),i.s(i.f("noscript",e,t,1),e,t,1,0,0,"")||(i.b('<img class="no-src" data-src="'),i.b(i.v(i.f("image",e,t,0))),i.b('">')),i.b(" "),i.s(i.f("noscript",e,t,1),e,t,0,269,311,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<noscript><img src="'),i.b(i.v(i.f("image",e,t,0))),i.b('"></noscript>')}),e.pop()),i.b(" </a> </div>")}),e.pop()),s.fl()},partials:{},subs:{}}),Whiskers("partials.hero_slide",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<div class="branding"> <div class="scaler"></div> '),s.s(s.f("overlayLeft",e,t,1),e,t,0,66,137,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <div class="left-overlay overlay"> <img src="'),i.b(i.v(i.f("overlayLeft",e,t,0))),i.b('"> </div> ')}),e.pop()),s.b(" "),s.s(s.f("overlayRight",e,t,1),e,t,0,171,244,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <div class="right-overlay overlay"> <img src="'),i.b(i.v(i.f("overlayRight",e,t,0))),i.b('"> </div> ')}),e.pop()),s.b(" "),s.s(s.f("href",e,t,1),e,t,0,271,290,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b('<a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('">')}),e.pop()),s.b(' <div class="background"> '),s.s(s.f("slide_image",e,t,1),e,t,0,341,384,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b('<img src="'),i.b(i.v(i.f("slide_image",e,t,0))),i.b('" alt="'),i.b(i.v(i.f("title",e,t,0))),i.b('">')}),e.pop()),s.b(" "),s.s(s.f("noscript",e,t,1),e,t,0,414,471,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b('<noscript><img src="'),i.b(i.v(i.f("hero",e,t,0))),i.b('" alt="'),i.b(i.v(i.f("title",e,t,0))),i.b('"></noscript>')}),e.pop()),s.b(" </div> "),s.s(s.f("show_data",e,t,1),e,t,0,506,1200,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("section",e,t,1),e,t,0,519,563,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<h2 class="channel_section">'),i.b(i.v(i.f("section",e,t,0))),i.b("</h2>")}),e.pop()),i.b(' <div class="channel_mini_hero"> <div class="featured_channel_img"> <img src="'),i.b(i.v(i.f("asset_logo_image",e,t,0))),i.b('"> <p>'),i.b(i.v(i.f("watch_message",e,t,0))),i.b("</p> </div> "),i.s(i.f("featured_channel_shortDesc",e,t,1),e,t,0,739,902,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('" class="featured_link"> <div class="featured_channel"> <img src="'),i.b(i.v(i.f("featured_content_image",e,t,0))),i.b('"> <p>'),i.b(i.v(i.f("featured_channel_shortDesc",e,t,0))),i.b("</p> </div> </a> ")}),e.pop()),i.b(" "),i.s(i.f("featured_channel_shortDesc",e,t,1),e,t,1,0,0,"")||i.b('<div class="no_desc_box"></div>'),i.b(' <div class="cds_box '),i.s(i.f("featured_channel_shortDesc",e,t,1),e,t,1,0,0,"")||i.b("notxt"),i.s(i.f("featured_channel_shortDesc",e,t,1),e,t,0,1146,1153,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" hastxt")}),e.pop()),i.b('"></div> </div> ')}),e.pop()),s.b(" "),s.s(s.f("animated",e,t,1),e,t,0,1228,1283,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.s(i.f("noVideoSupport",e,t,1),e,t,1,0,0,"")||i.b(i.rp("<videoPartial0",e,t,""))}),e.pop()),s.b(" "),s.s(s.f("href",e,t,1),e,t,0,1306,1310,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b("</a>")
}),e.pop()),s.b(" </div> "),s.s(s.f("show_data",e,t,1),e,t,1,0,0,"")||(s.b(' <div class="content '),s.b(s.v(s.f("contentPosition",e,t,0))),s.b('"> <div class="logo"> '),s.s(s.f("featured_content_image",e,t,1),e,t,0,1430,1495,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('"> <img src="'),i.b(i.v(i.f("featured_content_image",e,t,0))),i.b('"> </a> ')}),e.pop()),s.b(' <a href="'),s.b(s.v(s.f("href",e,t,0))),s.b('" class="heading"> <h2 class="'),s.b(s.v(s.f("editorialColor",e,t,0))),s.b('" '),s.s(s.f("headerColor",e,t,1),e,t,0,1606,1637,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b('style="color: '),i.b(i.v(i.f("headerColor",e,t,0))),i.b(';"')}),e.pop()),s.b(">"),s.b(s.v(s.f("section",e,t,0))),s.b('</h2> <h3 class="'),s.b(s.v(s.f("editorialColor",e,t,0))),s.b('">'),s.b(s.v(s.f("featured_channel_shortDesc",e,t,0))),s.b("</h3> </a> "),s.s(s.f("buttons",e,t,1),e,t,0,1755,2406,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('" class="button large blue" style="background-color: '),i.b(i.v(i.f("bg_top_color",e,t,0))),i.b("; background-image: -webkit-gradient(linear, left top, left bottom, from("),i.b(i.v(i.f("bg_bottom_color",e,t,0))),i.b("), to("),i.b(i.v(i.f("bg_top_color",e,t,0))),i.b(")); background-image: -webkit-linear-gradient(top, "),i.b(i.v(i.f("bg_bottom_color",e,t,0))),i.b(", "),i.b(i.v(i.f("bg_top_color",e,t,0))),i.b("); background-image: -moz-linear-gradient(top, "),i.b(i.v(i.f("bg_bottom_color",e,t,0))),i.b(", "),i.b(i.v(i.f("bg_top_color",e,t,0))),i.b("); background-image: -o-linear-gradient(top, "),i.b(i.v(i.f("bg_bottom_color",e,t,0))),i.b(", "),i.b(i.v(i.f("bg_top_color",e,t,0))),i.b("); background-image: linear-gradient(to bottom, "),i.b(i.v(i.f("bg_bottom_color",e,t,0))),i.b(", "),i.b(i.v(i.f("bg_top_color",e,t,0))),i.b("); "),i.s(i.f("border_color",e,t,1),e,t,0,2315,2350,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("border: 1px solid "),i.b(i.v(i.f("border_color",e,t,0))),i.b(";")}),e.pop()),i.b(" color: "),i.b(i.v(i.f("text_color",e,t,0))),i.b(';">'),i.b(i.v(i.f("title",e,t,0))),i.b("</a> ")}),e.pop()),s.b(" </div> </div> ")),s.fl()},partials:{"<videoPartial0":{name:"videoPartial",partials:{},subs:{}}},subs:{}}),Whiskers("partials.hero_video",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<!-- begin video partial--> <div class="video-wrapper '),s.s(s.f("loopOption",e,t,1),e,t,0,69,76,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b("looping")}),e.pop()),s.b(" "),s.s(s.f("loopOption",e,t,1),e,t,1,0,0,"")||s.b("single-play"),s.b('"> <video '),s.s(s.f("loopOption",e,t,1),e,t,0,158,162,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b("loop")}),e.pop()),s.b('> <source src="'),s.b(s.v(s.f("mp4",e,t,0))),s.b('" type="video/mp4"> <source src="'),s.b(s.v(s.f("webm",e,t,0))),s.b('" type="video/webm"> <img src="'),s.b(s.v(s.f("fallback",e,t,0))),s.b('"> </video> <!--<a class="sound-toggle on"></a>--> '),s.s(s.f("loopOption",e,t,1),e,t,1,0,0,"")||(s.b('<div class="replay-button-box '),s.b(s.v(s.f("contentPosition",e,t,0))),s.b(" "),s.b(s.v(s.f("editorialColor",e,t,0))),s.b('-theme"><a class="button transparent large replay" style="">Replay</a></div>')),s.b(" </div><!-- end video partial -->"),s.fl()},partials:{},subs:{}}),Whiskers("partials.hero_identity_overlay",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<div class="personality-details '),s.b(s.v(s.f("contentPosition",e,t,0))),s.b(" "),s.b(s.v(s.f("portal",e,t,0))),s.b(" "),s.b(s.v(s.f("editorialColor",e,t,0))),s.s(s.f("schema_json",e,t,1),e,t,0,97,124,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(" "),i.b(i.v(i.d("schema_json.text_style",e,t,0)))}),e.pop()),s.b('" style="background-color: '),s.b(s.v(s.f("darkColor",e,t,0))),s.b(';"> <h1 class="skip-text-styles" '),s.s(s.f("headerColor",e,t,1),e,t,0,229,260,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b('style="color: '),i.b(i.v(i.f("headerColor",e,t,0))),i.b(';"')}),e.pop()),s.b(">"),s.b(s.v(s.f("title",e,t,0))),s.b("</h1> "),s.s(s.f("hasThumbs",e,t,1),e,t,0,306,612,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <div class="headshot entity-container ratio-square"> <div class="personality-box entity-box"> <div class="aspect"> '),i.s(i.f("noscript",e,t,1),e,t,1,0,0,"")||(i.b('<img class="no-src" data-src="'),i.b(i.v(i.f("thumb",e,t,0))),i.b('" alt="'),i.b(i.v(i.f("title",e,t,0))),i.b('">')),i.b(" "),i.s(i.f("noscript",e,t,1),e,t,0,519,577,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<noscript><img src="'),i.b(i.v(i.f("thumb",e,t,0))),i.b('" alt="'),i.b(i.v(i.f("title",e,t,0))),i.b('"></noscript>')}),e.pop()),i.b(" </div> </div> </div> ")}),e.pop()),s.b(' <p class="desc '),s.b(s.v(s.f("contentPosition",e,t,0))),s.b(' skip-text-styles">'),s.b(s.v(s.f("description",e,t,0))),s.b("</p> </div>"),s.fl()},partials:{},subs:{}}),function(e){"use strict";var t=e.Disney,i=e.Whiskers,s=e._,n=e.jQuery;s.extend(t.Style,{verifyModuleTakeoverStyles:function(){var e=n("#takeover-styles-module-override");e.hasClass("transitioning")&&e.html("").removeClass("transitioning")},transitionModuleTakeoverStyles:function(){n("#takeover-styles-module-override").addClass("transitioning")},applyTakeoverStyles:function(e,a,o){var r=a?"module-override":"default",l=n("#takeover-styles-"+r),c=e&&e.local_chrome_color||"light",d=t.Style.AssetPaths.nav_logos[c],u=e&&s.extend(e,{overlay_type:r,module_override:a,nav_logos:d}),p=u&&i.partials.style_elements.takeover_styles.render(u)||"";l.hasClass("persistent")||l.html(p),o&&l.addClass("persistent"),a&&l.removeClass("transitioning")},applyPageStyles:function(e){var t=!!(e&&e.page_background_styles&&e.page_background_styles.footer_inverted),s=e&&i.partials.style_elements.page_styles.render(e)||"";n("#style-pack-theming").html(s),n("footer, #goc-ft").toggleClass("inverted",t)},applyStylePackStyles:function(e){e=e||{},this.applyPageStyles(e),this.applyTakeoverStyles(e.takeover_styles),this.verifyModuleTakeoverStyles()},attachCustomThemeStyles:function(e){var i=e&&e.custom_theme_components||{},a={name:i.base,$target:n("#base-theme-styles")},o={name:i.child&&i.name,$target:n("#child-theme-styles")};s.each([a,o],function(e){if(!e.$target.hasClass(e.name)){var i=e.name&&t.Style.AssetPaths.theme_stylesheets[e.name]||"";e.$target.attr("href",i).attr("class",e.name)}})}})}(this),function(e){"use strict";var t=e.Grill.ModuleView,i=e.Disney,s=e.Grill,n=e.Whiskers,a=e.Modernizr,o=e.jQuery,r=e._,l=e.Backbone,c=e.devicePixelRatio>1.5,d=i.Style.breakpoints,u=d.midHigh.toString(),p=s.ModuleView.extend({style_classes:["skip-styles","skip-bottom-border","skip-top-border","full-height","full-width"],template:n.modules.hero_universal,breakpoints:u,heroImg:"hero",wideImage:null,mobileImage:null,currentPlayer:void 0,current:void 0,oldPlayer:void 0,mergedObj:null,darkColor:null,identityThumbs:null,slideDelay:3e3,delayAfterVideo:4e3,showArrows:!0,showDots:!0,hidden:!1,topBorder:!1,initialize:function(){this.model.get("slide_timer")&&(this.slideDelay=1e3*this.model.get("slide_timer"));var e=this.model.get("data"),t=this.model.get("style"),i=this.model.collection.style,s=this,a=null;if(e.length>0&&"Hero"===e[0].type)this.darkColor=i&&i.secondary_theme&&i.secondary_theme.background_color,this.mergedObj={heroes:e},"Hero"!==o(e).slice(-1)[0].type&&(a=o(e).slice(-1)[0],this.mergedObj.heroes.pop(),this.identityThumbs="Character"===a.type||"Artist"===a.type),this.mergedObj.identity=a;else if(s.template=n.modules.rich_image,t&&t.images&&t.images.foreground_image){var r=t.images.foreground_image;s.wideImage=c&&r.retina_url?r.retina_url:r.url,s.mobileImage=c&&r.mobile_retina_url?r.mobile_retina_url:r.mobile_url?r.mobile_url:null}},render:function(){var t=this,i=this.model,s=i.get("data"),u=r.first(i.get("data")),p=i.get("style"),h=l.Resize.width(),f=h>=d.midHigh,v=h>=d.max,b=!!this.options.cds,m=r.extend({data:s,desktop:v,image:f?t.wideImage:t.mobileImage,cds:b,noVideoSupport:!a.video||a.mobile,darkColor:t.darkColor,heroSize:u?u.heroSize:null,layout:p.layout,contentPosition:u?u.contentPosition:null,slides:s,identity:function(){return t.mergedObj.identity?(r.extend(t.mergedObj.identity,{darkColor:t.darkColor,hasThumbs:t.identityThumbs,editorialColor:r.first(t.mergedObj.heroes).editorialColor,headerColor:r.first(t.mergedObj.heroes).titleColor||r.first(t.mergedObj.heroes).editorialColor}),t.mergedObj.identity):void 0},slide_image:function(){var e=this.image_assets;if(e){var t=c?e.retina:e.non_retina;return f?t.wide_src:t.mobile_src}},headerColor:function(){return this.titleColor}},this.options.ads.helpers(),i);this.$el.html(t.template.render(m,{heroSlide:n.partials.hero_slide,videoPartial:n.partials.hero_video,identityOverlayPartial:n.partials.hero_identity_overlay})),this.$(".slides").swipeasaurus({effect:h>=d.max?"fade":t.mergedObj&&t.mergedObj.heroes&&t.mergedObj.heroes.length>1?"slide":"fade",dots:this.showDots,arrows:this.showArrows}),o(e).on("scroll."+this.cid,r.throttle(r.bind(this.scrollCheck,this),300))},resize:function(){var t=this.$(".slides"),i=this,s=(t.data("swipeasaurus")||{}).index/o("li",t).length,n=[];this.$(".slides li.finished").each(function(e,t){n.push(o(t).index())}),t=i.$(".slides"),t.swipeasaurus("slide",e.Math.floor(s*o("li",t).length),!0),this.options.ads.restore(),t.swipeasaurus("stop"),this.render(),o(n).each(function(e){o(i.$(".slides li")[e]).addClass("finished")}),this.geoReady()},geoReady:function(){this.takeover(0);var e=l.Resize.width();if(this.mergedObj&&this.mergedObj.identity&&this.mergedObj.identity.headerColor&&(e<d.midHigh?this.$(".details h1").css("color","#fff"):this.$(".details h1").css("color",this.mergedObj.identity.headerColor)),!(e<d.midHigh)){var t=this.$(".slides"),i=this.$(".button.replay"),s=this;s.current=o(".dot.active")[0]?o(".dot.active").index():0,i.on("click",function(e){e.preventDefault();var i=o(e.target).parent(".content").siblings(".branding").find("video")[0];o(i).closest("li").removeClass("finished"),t.swipeasaurus("stop"),s.resetSlide(o(e.target).closest(".slides li").index(),!0)}),t.on("slide",function(e,t){l.Resize.width()>=d.max&&s.takeover(t)}).swipeasaurus("start",s.slideDelay),s.onNewSlide(s.current);var n=function(e,t){t===s.current};t.on("slideEnd",n),s.scrollCheck()}},scrollCheck:function(){var t=this,i=this.$(".slides"),s=o(e).height(),n=t.$el.height(),a=t.$el.offset().top,r=o(e).scrollTop();t.hidden?("below"===t.hidden&&s+r>a+n/5||"above"===t.hidden&&a+n>r)&&(t.hidden=!1,t.currentPlayer&&("loop"===o(t.currentPlayer).attr("loop")?t.currentPlayer.play():t.onNewSlide(t.current)),i.swipeasaurus("resume")):r>a+n?(t.hidden="above",t.currentPlayer&&"loop"===o(t.currentPlayer).attr("loop")&&t.currentPlayer.pause(),i.swipeasaurus("pause")):a>s+r&&(t.hidden="below",t.currentPlayer&&"loop"===o(t.currentPlayer).attr("loop")&&t.currentPlayer.pause(),i.swipeasaurus("pause"))},pauseAndRewind:function(e){e.pause(),e.currentTime=0},startVideo:function(e){var t=this;e&&(e.play(),o(e).on("ended",function(){o(e).closest("li").addClass("finished"),t.showEndcard(e)}))},showEndcard:function(e){var t=this;o(e).closest("li").hasClass("finished")?l.Resize.width()>d.midHigh&&t.$(".slides").swipeasaurus("start",t.delayAfterVideo):(e.currentTime=e.duration,o(e).closest("li").addClass("finished"))},resetSlide:function(e,t){var i=this;o(i.$(".slides li")[e]).removeClass("finished");var s=o(i.$(".slides li")[e]).find("video")[0];s&&(i.pauseAndRewind(s),t&&i.startVideo(s))},onNewSlide:function(e){var t=this,i=t.$(".slides");t.current=e,l.Resize.width()>d.midHigh&&(t.oldPlayer&&t.oldPlayer!==t.currentPlayer&&(o(t.oldPlayer).closest("li").hasClass("finished")||(t.pauseAndRewind(t.oldPlayer),o(t.oldPlayer).closest(".video-wrapper").hasClass("single-play")&&t.showEndcard(t.oldPlayer))),o(t.$(".slides > li")[e]).find("video")&&(t.currentPlayer=o(t.$(".slides > li")[e]).find("video")[0]),t.oldPlayer=t.currentPlayer,t.hidden===!1&&(t.currentPlayer?o(t.currentPlayer).closest("li").hasClass("finished")||"loop"===o(t.currentPlayer).attr("loop")?("loop"===o(t.currentPlayer).attr("loop")&&t.startVideo(t.currentPlayer),i.swipeasaurus("start",t.slideDelay)):(i.swipeasaurus("stop"),t.startVideo(t.currentPlayer)):i.swipeasaurus("start",t.slideDelay)),l.Resize.width()>=d.max&&t.takeover(e))},takeover:function(e){var t=this.model.get("data"),s=t[e].takeover_styles;i.Style.applyTakeoverStyles(s,!0)},remove:function(){t.prototype.remove.call(this),o(e).off("scroll."+this.cid)}});p.register("hero_universal",{}),p.register("minihero",{heroImg:"minihero"}),p.register("channel_hero",{}),p.register("hero_slider",{}),p.register("empty_takeover",{}),p.register("rich_media",{className:"module bun full-height full-width",takeover:function(){},showArrows:!1,showDots:!1,hidden:"below",topBorder:!0})}(this),Whiskers("modules.image_gallery",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.s(s.f("data",e,t,1),e,t,0,9,3124,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <div id="print-image"> <div class="print-frame"> <div class="img-wrapper"> <img> <div class="info"> <p class="caption skip-text-styles"></p> <p class="print-notice skip-text-styles"> &copy; 2015 Disney </p> </div> </div> </div> </div> <div class="gallery_header"> <div class="gallery_banner_container"> <div class="banner_img"> <div class="scaler"></div> '),i.s(i.f("noscript",e,t,1),e,t,1,0,0,"")||(i.b('<img data-src="'),i.b(i.v(i.f("banner",e,t,0))),i.b('">')),i.b(" "),i.s(i.f("noscript",e,t,1),e,t,0,432,475,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<noscript><img src="'),i.b(i.v(i.f("banner",e,t,0))),i.b('"></noscript>')}),e.pop()),i.b(' <h2 class="'),i.s(i.f("cds",e,t,1),e,t,0,508,521,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" gallery-noad")}),e.pop()),i.b('">'),i.b(i.v(i.f("gallery_title",e,t,0))),i.b('</h2> <span class="gallery_shade"></span> </div> </div> <div class="gallery_link_container'),i.s(i.f("cds",e,t,1),e,t,0,646,659,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" gallery-noad")}),e.pop()),i.b('"> <p class="description">'),i.b(i.v(i.f("description",e,t,0))),i.b('</p> <ul class="gallery_external_links"> '),i.s(i.f("parent_page",e,t,1),e,t,0,765,852,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <li class="parent_page_link"><a href="'),i.b(i.v(i.f("parent_page",e,t,0))),i.b('">'),i.b(i.v(i.f("parent_page_title",e,t,0))),i.b("</a></li> ")}),e.pop()),i.b(' <li class="image-total">'),i.b(i.v(i.f("numImages",e,t,0))),i.b(" "),i.b(i.v(i.d("translations.images",e,t,0))),i.b("</li> "),i.b(" "),i.s(i.f("cds",e,t,1),e,t,1,0,0,"")||(i.b(" "),i.s(i.f("suppress_social",e,t,1),e,t,1,0,0,"")||(i.b(' <li class="social"> '),i.s(i.f("cds",e,t,1),e,t,1,0,0,"")||(i.b(" "),i.b(i.rp("<socialLinkPartial0",e,t,"")),i.b(" ")),i.b(" </li> ")),i.b(" ")),i.b(' </ul> </div> </div> <div class="gallery_ad">'),i.b(i.t(i.f("rectAllAd",e,t,0))),i.b('</div> <div id="gallery_thumb_grid"> <ul class ="img-cols"> '),i.s(i.f("thumbViewList",e,t,1),e,t,0,1250,1269,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.t(i.f("thumbViewList",e,t,0)))}),e.pop()),i.b(" "),i.s(i.f("thumbViewList",e,t,1),e,t,1,0,0,"")||(i.b(" "),i.b(" "),i.s(i.f("noscript_images",e,t,1),e,t,0,1389,1416,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.rp("<partials/gallery_thumb1",e,t,""))}),e.pop()),i.b(" ")),i.b(" </ul> </div> "),i.s(i.f("show_pagination",e,t,1),e,t,0,1489,1729,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="static_pagination"> '),i.s(i.f("prev_page",e,t,1),e,t,0,1536,1610,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<a href="?page='),i.b(i.v(i.f("prev_page",e,t,0))),i.b('" class="prev_page"> &laquo; Previous Page</a>')}),e.pop()),i.b(" "),i.s(i.f("next_page",e,t,1),e,t,0,1639,1707,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<a href="?page='),i.b(i.v(i.f("next_page",e,t,0))),i.b('" class="next_page">Next Page&raquo;</a>')}),e.pop()),i.b(" </div> ")}),e.pop()),i.b(" "),i.s(i.f("hasMore",e,t,1),e,t,0,1762,1951,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="show_more_container"> <div class="show_more blue button large" role="button"> <span class="label">'),i.b(i.v(i.d("translations.show_more",e,t,0))),i.b('</span> <span class="spinner"></span> </div> </div> ')}),e.pop()),i.b(" "),i.b(' <div class="modal-window"> <div class="modal-header"></div> <div class="modal-content"> '),i.b(i.t(i.f("imageViewList",e,t,0))),i.b(' <div class="arrows"> <div class="arrow-sizer prev"><span class="arrow-prev clicon" data-title="prev"></span></div> <div class="arrow-sizer next"><span class="arrow-next clicon" data-title="next"></span></div> </div> </div> <div class="modal-footer"> '),i.s(i.f("cds",e,t,1),e,t,1,0,0,"")||(i.b(" "),i.s(i.f("suppress_social",e,t,1),e,t,1,0,0,"")||(i.b(' <span class="social"> '),i.b(i.rp("<socialLinkPartial2",e,t,"")),i.b(" </span> ")),i.b(" ")),i.b(' <span class="print"></span> <span class="image-count"><span class="current-count">1</span> <span>'),i.b(i.v(i.d("translations.of",e,t,0))),i.b("</span> <span>"),i.b(i.v(i.f("numImages",e,t,0))),i.b('</span></span> </div> <div class="loading-status"><span>'),i.b(i.v(i.d("translations.loading",e,t,0))),i.b('...</span></div> <div class="modal-info"> <h2 class="modal-title skip-text-styles">'),i.b(i.v(i.f("gallery_title",e,t,0))),i.b('</h2> </div> <div class="modal-close clicon" data-title="close"></div> </div> <div class="modal-overlay"></div> ')}),e.pop()),s.fl()},partials:{"<socialLinkPartial0":{name:"socialLinkPartial",partials:{},subs:{}},"<partials/gallery_thumb1":{name:"partials/gallery_thumb",partials:{},subs:{}},"<socialLinkPartial2":{name:"socialLinkPartial",partials:{},subs:{}}},subs:{}}),Whiskers("partials.gallery_thumb",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<li class="gallery-item item thumb launches-modal '),s.s(s.f("active",e,t,1),e,t,0,61,67,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b("active")}),e.pop()),s.b('" data-title="thumb" itemscope itemtype="http://schema.org/ImageObject"> <div class="center-crop"> <div class="img-aspect aspect'),s.s(s.f("preloaded",e,t,1),e,t,1,0,0,"")||s.b(" placeholder"),s.b('"> <a itemprop="contentURL" href="'),s.b(s.v(s.f("image_fog",e,t,0))),s.b('"> '),s.s(s.f("noscript",e,t,1),e,t,1,0,0,"")||(s.b('<img class="thumbnail-image '),s.s(s.f("preloaded",e,t,1),e,t,1,0,0,"")||s.b("no-src"),s.b('" title="'),s.b(s.v(s.f("seo_title",e,t,0))),s.b('" alt="'),s.b(s.v(s.f("seoCaption",e,t,0))),s.b('" data-src="'),s.b(s.v(s.f("thumbnail_image_fog",e,t,0))),s.b('" '),s.s(s.f("preloaded",e,t,1),e,t,0,465,489,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' src="'),i.b(i.v(i.f("preloaded_src",e,t,0))),i.b('"')}),e.pop()),s.b(' itemprop="thumbnailUrl">')),s.b(" "),s.s(s.f("noscript",e,t,1),e,t,0,555,702,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b('<noscript><img class="thumbnail-image" title="'),i.b(i.v(i.f("seo_title",e,t,0))),i.b('" alt="'),i.b(i.v(i.f("seoCaption",e,t,0))),i.b('" src="'),i.b(i.v(i.f("thumbnail_image_fog",e,t,0))),i.b('" itemprop="thumbnailUrl"></noscript>')}),e.pop()),s.b(' <div class="active-indicator"></div> </a> </div> <div class="zoom-overlay" '),s.s(s.f("touchDevice",e,t,1),e,t,0,807,824,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' ontouchstart=" "')}),e.pop()),s.b('></div> </div> <meta itemprop="caption" content="'),s.b(s.v(s.f("caption",e,t,0))),s.b('"> <meta itemprop="name" content="'),s.b(s.v(s.f("seoTitle",e,t,0))),s.b('"> </li>'),s.fl()},partials:{},subs:{}}),Whiskers("partials.image_gallery_slide",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<li class="content-container item-'),s.b(s.v(s.f("slide",e,t,0))),s.b(" "),s.b(s.v(s.f("type",e,t,0))),s.b("-"),s.b(s.v(s.f("index",e,t,0))),s.b(" "),s.b(s.v(s.f("type",e,t,0))),s.b('" data-id="'),s.b(s.v(s.f("id",e,t,0))),s.b('"> <div class="image-info"> '),s.s(s.f("caption",e,t,1),e,t,0,128,166,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b('<p class="description">'),i.b(i.v(i.f("caption",e,t,0))),i.b("</p>")}),e.pop()),s.b(' </div> <div class="gallery-image-sizer"> '),s.s(s.f("ad",e,t,1),e,t,0,227,458,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b('<div class="interstitial-container"> <div class="gallery_ad"><div class="ad-sizer"></div></div> </div> <p class="skip-ad"><span class="skip-prev"></span><span class="skip-text">'),i.b(i.v(i.f("skipText",e,t,0))),i.b('</span><span class="skip-next"></span></p>')}),e.pop()),s.b(" "),s.s(s.f("ad",e,t,1),e,t,1,0,0,"")||s.b(' <img class="gallery-image"> '),s.b(" </div> </li>"),s.fl()},partials:{},subs:{}}),function(e){"use strict";var t=e.Disney,i=e.Math,s=e.jQuery;t.Style.fitToScreen=function(e){if(e){var t=e[0],n=t&&t.item,a=t.height/t.width||0,o=t.limitMax,r=e[1],l=e[2]&&e[2].height()||0,c=e[3],d=c&&c.height()||0,u=e[4]||.5,p=r.height(),h=p-l-d,f=r.width(),v=o?t.width:i.min(h/a,f),b=o?t.height:v*a,m=i.max(i.abs(h-b)*u,0),g=m+b;c.css({top:g}),n&&s(n).css({height:b,width:v,top:m})}}}(this),function(e){"use strict";var t=e.Grill,i=e.Disney,s=i.Style.breakpoints,n=e.Modernizr,a=e.Whiskers,o=e.Backbone,r=e.Tracker,l=e._,c=e.jQuery,d=e.history;t.ModuleView.register("image_gallery",{style_classes:["skip-top-border"],page:1,currentImage:0,currentSlide:0,autoPaginate:!0,imageIds:[],resizeParams:{},adjacents:[],template:a.modules.image_gallery,social_link:a.partials.social_link,events:{"click .modal-close":function(){this.closeModal()},"click .skip-ad":function(e){var t=this.$(".modal-slides");t.swipeasaurus(c(e.target).hasClass("skip-prev")?"prev":"next")},"click .gallery-item":function(e){e.preventDefault();var t=c(e.target).closest(".gallery-item").index();this.openModal(t)},"click .show_more_container":function(){this.loadMoreThumbs(),r&&this.cleanPageName&&r.page({pageName:this.cleanPageName+"_"+this.page})},"click .print":function(){this.printExclusive()},"touchstart .print":function(){this.printExclusive()}},printExclusive:function(){c("body").addClass("exclusive-print"),e.print()},initializeModalAd:function(e){var t=this.options.ads.tag("modalInterstitial"),i=e.$el.find(".interstitial-container .gallery_ad");i.html(t),this.options.ads.slots.modalInterstitial.ready(),this.modalAd=i},initialize:function(){var e=this,i=!!this.options.cds,s=l.first(this.model.get("data")),r=s.gallery_images;l.extend(this,{touchDevice:n.touch,cds:i,allThumbs:r,numImages:r.length,modalImages:[],visibleThumbs:r&&r.slice(0,this.page*this.numPerBatch()),adInterval:i?null:s.adInterval});var d=this.adInterval;this.adDivisor=d?d:1e3,c.each(this.allThumbs,function(t,i){e.imageIds.push(i.id),i.index=t,i.slide=e.modalImages.length,i.type="image",e.modalImages.push(i),d&&(t+1)%e.adDivisor===0&&e.modalImages.push({type:"ad",index:Math.floor(t/e.adDivisor),ad:!0,slide:e.modalImages.length,skipText:"Skip ad"})}),this.numSlides=e.modalImages.length,this.thumbCollection=new o.LazyCollection(this.visibleThumbs),this.modalCollection=new o.LazyCollection(this.modalImages),this.thumbViewList=new t.ListView({collection:this.thumbCollection,template:{render:function(e){return a.partials.gallery_thumb.render(e,{})}}}),this.imageViewList=new t.ListView({className:"modal-slides",collection:this.modalCollection,template:{render:function(e){return l.extend(e,{imgSrc:function(){return this.get(o.Resize.width()<=568?"mobile_image":"image")}}),a.partials.image_gallery_slide.render(e,{})}}}),c.each(this.imageViewList.views,function(e,t){t.printSrc=t.model.get("image")||null});var u=this.model.collection;u&&u.cto&&(this.cleanPageName=u.cto.pageName,u.cto.pageName+="_1",u.cto.breadcrumbs="image-gallery")},render:function(){var e=this.thumbViewList,t=this.imageViewList,s=this.model.get("translations"),n={images:"Images"};l.defaults(s,n);var o=l.extend(this.options.ads.helpers(),this.model,{numImages:this.numImages,hasMore:this.hasMore(),cds:this.cds,thumbViewList:i.placeHtml(e),imageViewList:i.placeHtml(t),translations:s});this.$el.html(this.template.render(o,{socialLinkPartial:a.partials.social_btn})),i.placeSwap(this,e),i.placeSwap(this,t)},ready:function(){var t=this,i=this.slides=this.$(".modal-slides");i.swipeasaurus({arrows:!0,next:".arrow-next",prev:".arrow-prev",loop:!1,speed:500}),this.$(".content-container").css("visibility","hidden"),i.on("slide",function(e,i){t.onSlide(i)}),this.updateButton(!1),c("body").addClass(this.hoverClass),c("html").addClass("single-page-print");var s=27,n=37,a=39;c(e.document).keyup(function(e){switch(e.keyCode){case s:c(".modal-window .modal-close").trigger("click");break;case n:i.swipeasaurus("prev");break;case a:i.swipeasaurus("next")}}),this.modalAd=c(".interstitial-container .gallery_ad").first(),this.deepLink()},deepLink:function(){var t=e.location.href.match(/[?&]image_id=([^&]+)#?/)||[],i=e.location.hash.match(/image\/([a-z0-9]*)/)||[],s=t[1]||i[1],n=s&&s.length?this.imageIds.indexOf(s):-1;n>=0&&(this.autoPaginate=!1,this.openModal(n))},dimensions:function(){var e=o.Resize.width(),t=e>=s.max?"desktop":e>=s.midHigh?"tablet":"mobile",i={desktop:4,tablet:3,mobile:2},n={desktop:3,tablet:3,mobile:3},a={cols:i[t],rows:n[t]};return a},numPerBatch:function(){return this.dimensions().rows*this.dimensions().cols},bindResize:function(t){var s=this,n=s.fetchAdjacents(),a=function(){i.Style.fitToScreen(s.fetchResizeParams(t)),n.length>0&&c(n).each(function(e,t){i.Style.fitToScreen(s.fetchResizeParams(t))})};c(e).on("resize."+this.cid+"slide"+t,l.debounce(a,100))},unbindResize:function(t){c(e).off("resize."+this.cid+"slide"+t)},setResizeParams:function(e,t){var i=t.$el,s=this.$(".modal-window"),n=this.$(".modal-header"),a=i.find(".image-info"),o=.46,r="item"+t.model.get("slide");return this.resizeParams[r]=[e,s,n,a,o],this.resizeParams[r]},fetchResizeParams:function(e){return this.resizeParams["item"+e]},fetchAdjacents:function(){return this.adjacents},itemLoaded:function(e){var t=!1;if(!e.model.get("ad")){var i=e.$el.find("img")[0];t=i&&!!i.src}return t},preloadItem:function(t){var i=this,s=t.model,n=!!s.get("ad");if(n)i.insertNewItem(t);else{var a=s.get(o.Resize.width()<=568?"mobile_image":"image"),r=new e.Image;r.className="gallery-image",r.src=a,r.complete?i.insertNewItem(t,r):c(r).on("load",function(){i.insertNewItem(t,r)})}},insertNewItem:function(e,t){var i;if(e.model.get("ad"))i=this.modalAd;else{var s=e.$el.find("img")[0]||null;s&&t&&c(s).replaceWith(t),i=t}this.sizeItem(i,e),this.$(".modal-window").removeClass("loading")},onSlide:function(t){var s=this,n=this.$(".modal-window"),a=this.$(".modal-footer .social-link-btn"),o=this.viewForIndex(t),u=o.$el.data("id"),p=o.model,h=p.get("ad"),f=t<this.numSlides-1?t+1:null,v=t>0?t-1:null,b={next:f,prev:v},m=e.document.title;s.itemLoaded(o)||(this.preloadItem(o),h||n.addClass("loading")),this.unbindResize(this.currentSlide),this.bindResize(t),this.adjacents=b,l.extend(this,{currentImage:p.get("index"),currentSlide:t,currentView:o}),this.$(".current").removeClass("current"),o.$el.addClass("current"),h?(this.modalAd.find(".ad-sizer").length>0&&this.initializeModalAd(o),this.insertAd(o)):s.autoPaginate&&this.currentImage>=this.visibleThumbs.length&&this.loadMoreThumbs(),c.each(b,function(e,t){if(t){var n=s.viewForIndex(t);s.itemLoaded(n)?i.Style.fitToScreen(s.fetchResizeParams(t)):s.preloadItem(n)}}),this.setNewText(o),this.insertPrintData(o),o.$el.css("visibility","visible"),o.$el.css("opacity",1),n.hasClass("first-shown")&&e.setTimeout(function(){s.$(".modal-window").removeClass("first-shown")},800),i.Style.fitToScreen(s.fetchResizeParams(t)),r&&this.cleanPageName&&r.page({pageName:this.cleanPageName}),d&&d.replaceState&&d.replaceState({},m,u?"?image_id="+o.$el.data("id"):"?"),a.data("source",e.location.href),a.data("thumb",o.printSrc)},centerThumb:function(e){var t=e.outerHeight(),i=e.offset().top,s=t/2,n=Math.max(i-s,0);c("body").stop(!0).animate({scrollTop:n},1e3)},setNewText:function(e){var t=parseInt(e.model.get("index"),10),i=this.fetchAdjacents().next,s=this.fetchAdjacents().prev,n=i?this.viewForIndex(i).model:e.model,a=s?this.viewForIndex(s).model:e.model,o=e.model.get("ad"),r=this.$(".modal-window");o?r.addClass("ad-view"):(this.$(".modal-window .current-count").html(t+1),r.removeClass("ad-view")),this.$(".modal-window .arrow-prev").data({currentitem:i?n.get("index"):this.numSlides,viewtype:n.get("type")}),this.$(".modal-window .arrow-next").data({currentitem:s?a.get("index"):0,viewtype:a.get("type")})},sizeItem:function(t,i){var s,n,a,o=this;if(t===this.modalAd){var r=t.find(".ad-sizer, .gpt, .admaster");s=r.height(),n=r.width(),a=!0,this.fitToScreen(n,s,a,t,i)}else{var l=new e.Image;l.addEventListener("load",function(){s=l.height,n=l.width,a=!1,o.fitToScreen(n,s,a,t,i)},!1),l.src=t.src}},fitToScreen:function(e,t,s,n,a){var o={height:t,width:e,limitMax:s,item:n};a.aspectRatio=t/e,i.Style.fitToScreen(this.setResizeParams(o,a)),this.$(".modal-window").removeClass("loading")},openModal:function(e){var t=e+Math.floor(e/this.adDivisor),i=this.viewForIndex(t),s=this.$(".modal-slides"),n=this.$(".modal-window");n.addClass("first-shown"),s.swipeasaurus("effect","fade"),this.onSlide(t),s.swipeasaurus("slide",t),s.swipeasaurus("effect","slide"),n.addClass("modal-show"),i.$el.css("visibility","visible"),c("html").addClass("modal-no-scroll")},closeModal:function(){var t=this;if(this.$(".modal-window .modal-close").data("currentitem",this.currentImage),this.$(".modal-window").removeClass("modal-show loading"),this.$(".gallery-item.active").removeClass("active"),this.$(".content-container").css("visibility","hidden"),c("html").removeClass("modal-no-scroll"),d&&d.replaceState&&d.replaceState({},e.document.title,"?"),t.autoPaginate){var i=this.thumbViewList.collection.at(t.currentImage);i.set({active:!0}),t.storeModelThumb(i,i.get("thumb")),e.setTimeout(function(){t.thumbViewList.collection.at(t.currentImage).set("active",!1)},1200),this.centerThumb(this.thumbViewList.views[this.currentImage].$el)}else t.autoPaginate=!0;this.unbindResize(this.currentSlide),this.cds||this.refreshAd("rectAll")},updateButton:function(e){this.$el.toggleClass("loading",e).toggleClass("has-more",this.hasMore())},hasMore:function(){return this.page*this.numPerBatch()<this.numImages},loadMoreThumbs:function(){this.page++,this.updateButton(!0),this.visibleThumbs=this.allThumbs.slice(0,this.page*this.numPerBatch()),this.thumbViewList.collection.add(this.visibleThumbs),this.updateButton(!1),this.$el.loadLazyImages()},insertAd:function(e){var t=this.modalAd.detach();e.$el.find(".interstitial-container").html(t),this.refreshAd("modalInterstitial")},refreshAd:function(e){this.options.ads.slots[e].refresh()},viewForIndex:function(e){return this.imageViewList.views[e]},remove:function(){this.unbindResize(this.currentSlide),c("body").removeClass(this.hoverClass),c("html").removeClass("single-page-print"),t.ModuleView.prototype.remove.call(this)},insertPrintData:function(e){var t=c("#print-image img")[0],i=e.printSrc,s=e.model.get("caption");t&&(t.src=i),c("#print-image .caption").html(s)}})}(this),Whiskers("modules.junior_nav",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b("<ul> "),s.s(s.f("data",e,t,1),e,t,0,14,188,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <li class="'),i.b(i.v(i.f("ref_title_slug",e,t,0))),i.b('"> <a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('" title="'),i.b(i.v(i.f("title",e,t,0))),i.b('"> <span class="nav-icon '),i.b(i.v(i.f("ref_title_slug",e,t,0))),i.b('-icon"></span> <span class="title">'),i.b(i.v(i.f("title",e,t,0))),i.b("</span> </a> </li> ")}),e.pop()),s.b(" </ul>"),s.fl()},partials:{},subs:{}}),function(e){"use strict";var t=e.Grill,i=e.Whiskers,s=e._,n=["nav-link-games","nav-link-video","nav-link-create","nav-link-activities","nav-link-watch-live","nav-link-junior-logo","nav-link-home","nav-link-grown-ups","nav-link-parents"];t.ModuleView.register("junior_nav",{template:i.modules.junior_nav,navLinks:[],initialize:function(){this.setNavLinks()},setNavLinks:function(){var e=this;s.each(this.model.get("data"),function(t){t.ref_title_slug&&s.contains(n,t.ref_title_slug)&&e.navLinks.push(t)})},render:function(){var e={data:this.navLinks};this.$el.html(this.template.render(e,{}))}})}(this),Whiskers("modules.landing",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.s(s.f("data",e,t,1),e,t,0,9,290,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <div class="bound"> <div class="landing-box '),i.b(i.v(i.f("landingClass",e,t,0))),i.b('"> '),i.s(i.f("noscript",e,t,1),e,t,1,0,0,"")||(i.b('<img class="no-src landing" data-src="'),i.b(i.v(i.f("landingImg",e,t,0))),i.b('" alt="'),i.b(i.v(i.f("title",e,t,0))),i.b('">')),i.b(" "),i.s(i.f("noscript",e,t,1),e,t,0,183,262,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<noscript><img src="'),i.b(i.v(i.f("landingImg",e,t,0))),i.b('" alt="'),i.b(i.v(i.f("title",e,t,0))),i.b('" class="landing"></noscript>')}),e.pop()),i.b(" </div> </div> ")}),e.pop()),s.fl()},partials:{},subs:{}}),function(e){"use strict";var t=e.Grill,i=e.Disney,s=i.Style.breakpoints,n=s.midHigh.toString(),a=e.Whiskers,o=e.Backbone,r=e._,l=t.BunView.extend({style_classes:["full-width","full-height"],template:a.modules.landing,breakpoints:n,takeover:function(){var e=this.model.get("data"),t=r.first(e).takeover_styles;
i.Style.applyTakeoverStyles(t,!0)},render:function(){var t=this.model.data.first(),i=o.Resize.width()>=s.midHigh,n=e.devicePixelRatio>1.5,a=t.get("image_assets")||{},l=n?a.retina:a.non_retina,c=r.extend({landingClass:i&&"wide",landingImg:i?l.wide_src:l.mobile_src},this.options.ads.helpers(),this.model);this.$el.html(this.template.render(c)),this.takeover()},resize:function(){this.render(),this.options.ads.restore()},geoReady:function(){this.takeover()}});l.register("landing",{}),l.register("youtube",{})}(this),Whiskers("modules.live",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<div id="video_wrapper" class="inverted"> <div class="bound"> <div class="scaler"></div> <div class="live player" id="live_watch_player" width="100%" height="100%" vp:wmode="direct" vp:pfallback="flash" vp:autoplay="true" vp:preloader="http://cdn.edgedatg.com/vp2/m/vp2k/1.0.0/prod/preloader.swf"> </div> </div>'),s.fl()},partials:{},subs:{}}),function(e){"use strict";var t=e.Disney,i=e.flashembed,s=t.Capabilities={MIN_FP_VERSION:[9,0],isHTML5Capable:function(){return e.Modernizr.canvas},isFlashCapable:function(e){var t=e||s.MIN_FP_VERSION;return i.isSupported(t)},isMobileBrowser:function(){return e.navigator.userAgent.match(/(ipod|iphone|ipad|android|silk|iemobile)/i)},isiOSBrowser:function(){return e.navigator.userAgent.match(/(ipod|iphone|ipad)/i)},isAndroidBrowser:function(){return e.navigator.userAgent.match(/(android)/i)},isKindleBrowser:function(){return e.navigator.userAgent.match(/(kindle|silk)/i)}}}(this),function(e){"use strict";function t(){e.flashembed=d}function i(t){t.providerId||e.Backbone.history.navigate(f[n].url,!0)}function s(){}var n,a=e.Grill,o=e._,r=e.jQuery,l=e.Whiskers,c=e.Modernizr,d=e.flashembed,u=e.Math,p=!1,h=!1,f={dch:{url:"/collections/disney-channel-4befcbb33c18eb29118e2222",id:"9723272"},xd:{url:"/collections/disney-xd-4befcbb5e4276b29118e2222",id:"9723252"},djr:{url:"/collections/disney-junior-4befcbb481d3cb29118e2222",id:"9723262"}},v=function(){if(h&&p)if(c.flash&&!c.mobile){r("#live_watch_player").attr("vp:config",f[n].id);var a=e.com.disney.datg.videoplatforms.vp2k.PlayerManager.create("live_watch_player");a.on(a.PROVIDERSELECT,i),a.on(a.PROVIDERDIALOG,s),a.on(a.LOADSTART,t)}else r("#live_watch_player").html('<div class="player_error">Sorry, but your device does not support watching live TV.</div>')};a.BunView.register("live_watch",{initialize:function(){var t=this;t.h=r(e).on("resize.live_watch",o.throttle(function(){var i=r(e).height();i!==t.h&&(t.h=i,t.layout())},100)).height();var i=this.model.get("data")[0].title.toLowerCase();n=-1!==i.indexOf("junior")?"djr":-1!==i.indexOf("xd")?"xd":"dch",r("document").ready(function(){r.ajax("http://cdn.edgedatg.com/vp2/m/vp2k/1.0.0/prod/embed.js?prod=true",{dataType:"script",cache:!0,success:function(){h=!0,e.setTimeout(v,0)}})})},render:function(){this.$el.html(l.modules.live.render())},ready:function(){p=!0,e.setTimeout(v,0)},layout:function(){var e=this.$("#video_wrapper .bound");e.css("maxWidth",u.min(1280,u.max(320,u.ceil((this.h-120)/.5625))))},remove:function(){}})}(this),Whiskers("partials.logo",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<a href="'),s.b(s.v(s.f("href",e,t,0))),s.b('" title="Disney '),s.b(s.v(s.f("title",e,t,0))),s.b('" class="nav-logo'),s.s(s.f("hide_logo",e,t,1),e,t,0,73,87,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(" disable_image")}),e.pop()),s.b('"'),s.s(s.f("logo_override",e,t,1),e,t,0,120,197,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' id="nav-logo-override"> <img src="'),i.b(i.v(i.f("logo_override",e,t,0))),i.b('" alt="Disney '),i.b(i.v(i.f("title",e,t,0))),i.b('">')}),e.pop()),s.s(s.f("logo_override",e,t,1),e,t,1,0,0,"")||(s.b('id="nav-logo"><span>'),s.b(s.v(s.f("title",e,t,0))),s.b("</span> ")),s.b("</a>"),s.fl()},partials:{},subs:{}}),Whiskers("modules.navigation.channels",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<div id="nav-local-channels" class="nav-local '),s.b(s.v(s.f("style",e,t,0))),s.b('"> <div class="'),s.b(s.v(s.f("style",e,t,0))),s.b('-bound"> <div class="'),s.b(s.v(s.f("style",e,t,0))),s.b('-bg"> '),s.b(s.rp("<logo0",e,t,"")),s.b(' <span id="nav-e" role="button" title="Navigate"></span> <ul class="pages"> '),s.s(s.f("links",e,t,1),e,t,0,210,269,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <li><a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('" alt="'),i.b(i.v(i.f("title",e,t,0))),i.b('">'),i.b(i.v(i.f("title",e,t,0))),i.b("</a></li> ")}),e.pop()),s.b(' </ul> <div class="channel-slider-container '),s.b(s.v(s.f("style",e,t,0))),s.b('"> <div class="peek"></div> <div class="channel-slider '),s.b(s.v(s.f("style",e,t,0))),s.b('"> '),s.s(s.f("slider",e,t,1),e,t,0,410,705,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <div class="images"> '),i.s(i.f("page",e,t,1),e,t,0,441,688,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('" title="'),i.b(i.v(i.f("title",e,t,0))),i.b('"> <div class="image-box-nav"> <img src="'),i.b(i.v(i.f("asset_thumbnail_image",e,t,0))),i.b('" class="image-nav" id="'),i.b(i.v(i.f("id",e,t,0))),i.b('" alt="'),i.b(i.v(i.f("title",e,t,0))),i.b('" /> <img src="'),i.b(i.v(i.f("asset_thumbnail_hover_image",e,t,0))),i.b('" class="image-over" id="'),i.b(i.v(i.f("id",e,t,0))),i.b('-over" /> </div> </a> ')}),e.pop()),i.b(" </div> ")}),e.pop()),s.b(' </div> </div> </div> </div> <span id="search_cancel_text">'),s.b(s.v(s.f("search_cancel_text",e,t,0))),s.b("</span> </div>"),s.fl()},partials:{"<logo0":{name:"logo",partials:{},subs:{}}},subs:{}}),Whiskers("modules.navigation.disneychannelde",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<div id="nav-local-channels" class="nav-local '),s.b(s.v(s.f("style",e,t,0))),s.b('"> <div class="'),s.b(s.v(s.f("style",e,t,0))),s.b('-bound"> <div class="'),s.b(s.v(s.f("style",e,t,0))),s.b('-bg"> '),s.b(s.rp("<logo0",e,t,"")),s.b(' <span id="nav-e" role="button" title="Navigate"></span> <ul class="pages"> '),s.s(s.f("links",e,t,1),e,t,0,210,269,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <li><a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('" alt="'),i.b(i.v(i.f("title",e,t,0))),i.b('">'),i.b(i.v(i.f("title",e,t,0))),i.b("</a></li> ")}),e.pop()),s.b(' </ul> </div> </div> <span id="search_cancel_text">'),s.b(s.v(s.f("search_cancel_text",e,t,0))),s.b("</span> </div>"),s.fl()},partials:{"<logo0":{name:"logo",partials:{},subs:{}}},subs:{}}),Whiskers("modules.navigation.matterhorn",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<div id="nav-local" class="nav-local '),s.s(s.f("exclude_from_desktop",e,t,1),e,t,0,62,83,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b("excluded_from_desktop")}),e.pop()),s.b('"> <div class="bound"> '),s.b(s.rp("<logo0",e,t,"")),s.b(' <span id="nav-e" role="button" title="Navigate"></span> <ul> '),s.s(s.f("links",e,t,1),e,t,0,212,255,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <li><a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('">'),i.b(i.v(i.f("title",e,t,0))),i.b("</a></li> ")}),e.pop()),s.b(' </ul> <span id="search_cancel_text">'),s.b(s.v(s.f("search_cancel_text",e,t,0))),s.b("</span> </div> </div>"),s.fl()},partials:{"<logo0":{name:"logo",partials:{},subs:{}}},subs:{}}),function(e){"use strict";var t=e.$,i=e.Backbone,s=e.GOC||{queue:[]},n=e.Grill,a=e.Disney.Style.breakpoints,o=e.Whiskers;n.ModuleView.register("local_chrome",{breakpoints:a.chromeMax,index:0,ready:function(){this.index=this.$el.index(),this.$el.find("#nav-e").click(function(e){e.preventDefault(),s.queue.push(["openMenu"])});var i=this.model.get("navigation"),a=e.Backbone.history;if("channels"===i.template){var o=a.options.root+a.getFragment();if(a.on("route",function(){var e=t("#nav-local-channels a");e.removeClass("active"),t("#nav-local-channels a[href='"+o+"']").addClass("active"),s.queue.push(["closeMenu"])}),t(e).width()>=1024){var r=t("#nav-local-channels .channel-slider"),l=r.hasClass("channel")?.09:.045;r.swipeasaurus({arrows:!0,loop:!0,right:l})}this.$el.find(".channel-bg > .pages > li > a, .xd-bg > .pages > li > a").each(function(){var e=t(this),i=e.html(),s=i.split(" "),n='<span class="firstWord">'+s[0]+"</span><br />";s.shift(),t.each(s,function(e,t){n+=" "+t}),e.html(n)})}else a.on("route",function(){var i=a.options.root+a.getFragment(),n=/^([^\/]+?:\/\/[^\/]+?)\//.exec(e.location.href);n&&"/"===i.substr(0,1)&&(i=n[1]+i),t("#nav-local li a[href]").each(function(){t(this).toggleClass("active",this.href===i)}),s.queue.push(["closeMenu"])});n.ModuleView.create("search_navigation"),this.resize()},render:function(){var e=this.model.get("navigation"),t=o.modules.navigation[e.template];this.$el.html(t.render(e,{logo:o.partials.logo}))},resize:function(){var e=i.Resize.width();if(e<a.chromeMax)this.$el.parent().prepend(this.$el);else if(this.index!==this.$el.index()){var t=this.$el.parent().children();this.index>=t.size()-1?this.$el.parent().append(this.$el):this.$el.insertBefore(t.eq(this.index+1))}}})}(this),Whiskers("modules.menu_links",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<div id="nav-pushdown"></div> <div class="menu-wrap hidden"> <div class="bound"> <span id="nav-e" role="button" title="Navigate"></span> <ul class="menu"> '),s.s(s.f("links",e,t,1),e,t,0,165,474,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <li class="'),i.b(i.v(i.f("slug",e,t,0))),i.b('" data-path="'),i.b(i.v(i.f("path",e,t,0))),i.b('"> <a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('" title="'),i.b(i.v(i.f("title",e,t,0))),i.b('" class="logo_'),i.b(i.v(i.f("slug",e,t,0))),i.b('">'),i.b(i.v(i.f("title",e,t,0))),i.b('</a> <ul class="submenu"> '),i.s(i.f("children",e,t,1),e,t,0,316,448,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <li data-path="'),i.b(i.v(i.f("path",e,t,0))),i.b('"> <a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('" title="'),i.b(i.v(i.f("title",e,t,0))),i.b('"><span class="submenu-icon icon_'),i.b(i.v(i.f("slug",e,t,0))),i.b('"></span>'),i.b(i.v(i.f("title",e,t,0))),i.b("</a> </li> ")}),e.pop()),i.b(" </ul> </li> ")}),e.pop()),s.b(" </ul> </div> </div>"),s.fl()},partials:{},subs:{}}),function(e){"use strict";var t=e.$,i=e.Grill,s=e.GOC||{queue:[]},n=e.Backbone,a=e.Disney,o=a.Style.breakpoints;i.ModuleView.register("menu_links",{breakpoints:o.chromeMax,markup:t(".module.menu_links").html(),events:{"click #nav-e":function(){s.queue.push(["openMenu"])}},render:function(){this.$el.html(this.markup),this.toggleID(),this.$(".menu-wrap").removeClass("hidden")},ready:function(){var e=this;this.toggleActiveStates(),a.top.on("begin",function(){e.toggleActiveStates()})},resize:function(e){this.toggleID(e)},toggleActiveStates:function(){var e=/^(\/[^\/]*){1,2}/,t=n.history.location.pathname.match(e),i=t?t[0]:"/",s=this.$('[data-path="'+i+'"]');this.$(".active").removeClass("active"),s.length?s.addClass("active").parents(".menu li").addClass("active"):this.$(".menu > li:first-child").addClass("active")},toggleID:function(e){var t=this.$(".menu-wrap");e||(e=n.Resize.width()),e<o.chromeMax?t.attr("id","nav-local"):t.attr("id","")}})}(this),function(e){"use strict";function t(){var e=new Date,t=-(e.getTimezoneOffset()/60);return t}function i(e){return r+t()+e}var s=e.Grill,n=e.Whiskers,a=e.window,o=e.jQuery,r="/_schedule/mini/",l=s.ModuleView.extend({className:"module mini_schedule",initialize:function(){var e=this,t=encodeURIComponent(a.location.pathname),s=i("/"+t);e.fetchData(s),e.$el.hide()},render:function(){},fetchData:function(e){var t=this;o.getJSON(e,function(e){var i=t.model.get("translations"),s=t.model.get("data"),n={data:e,title:i.whats_on,see:i.see};if(s.length>0){var a=s[0];n.linkTitle=a.title,n.href=a.href}n.data.length>0&&t.$el.hide().html(t.template.render(n)).fadeIn()})}});l.register("mini_schedule",{template:n.modules.schedule});var c=l.extend({className:"module mini_schedule",initialize:function(){var e=this,t=i("");e.fetchData(t),e.$el.hide()}});c.register("emea_mini_schedule",{template:n.modules.schedule})}(this),Whiskers("modules.personality_hero",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.s(s.f("data",e,t,1),e,t,0,9,532,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <div class="bound"> <div class="container"> <div class="branding"> <img src="'),i.b(i.v(i.f("imageUrl",e,t,0))),i.b('"> </div> <div class="details '),i.b(i.v(i.f("layout",e,t,0))),i.b(" "),i.s(i.f("schema_json",e,t,1),e,t,0,156,183,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.b(i.v(i.d("schema_json.text_style",e,t,0)))}),e.pop()),i.b('" '),i.s(i.f("bgColor",e,t,1),e,t,0,213,251,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('style="background-color: '),i.b(i.v(i.f("bgColor",e,t,0))),i.b(';"')}),e.pop()),i.b('> <h1 class="skip-text-styles">'),i.b(i.v(i.f("title",e,t,0))),i.b('</h1> <div class="headshot"> <span class="personality-box entity-box"><span class="aspect"> <img src="'),i.b(i.v(i.f("imageUrl",e,t,0))),i.b('" alt="'),i.b(i.v(i.f("title",e,t,0))),i.b('"> </span></span> </div> <p class="desc skip-text-styles">'),i.b(i.v(i.f("description",e,t,0))),i.b("</p> </div> </div> </div> ")}),e.pop()),s.fl()},partials:{},subs:{}}),function(e){"use strict";var t=e.Grill,i=e.Disney,s=e.Whiskers,n=e.Backbone,a=i.Style.breakpoints,o=a.midHigh.toString(),r=e._,l=e.devicePixelRatio>1.5,c=t.ModuleView.extend({style_classes:["full-width","full-height","skip-styles","skip-bottom-border","skip-top-border"],breakpoints:o,template:s.modules.personality_hero,render:function(){var e=r.first(this.model.get("data")),t=n.Resize.width()>=a.midHigh,i=!!this.options.cds,s=this.$el,o=this.model.collection.style,c=t?"none":o&&o.secondary_theme&&o.secondary_theme.background_color,d=this.model.get("style").layout?this.model.get("style").layout:"left",u=this.model.get("style").images.foreground_image,p=null,h=null,f=null;p=u?l&&u.retina_url?u.retina_url:u.url:e.hero,h=l?e.thumb2x?e.thumb2x:e.thumb:e.thumb?e.thumb:e.photo?e.photo:p,f=t?p:h;var v=r.extend({imageUrl:f,cds:i,bgColor:c,layout:d},this.model);s.html(this.template.render(v))}});c.register("personality_hero",{breakpoints:o,template:s.modules.personality_hero})}(this),Whiskers("modules.play",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.s(s.f("data",e,t,1),e,t,0,9,1193,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <!-- MUSTACHE TEMPLATE - GAME CONTAINER MODULE--> <div class="bound"> <div class="game_wrapper"> <div class="bun_game '),i.b(i.v(i.f("createClass",e,t,0))),i.b('"> <div id="game_container_outer" class="inverted"> <noscript> <div class="player_error">'),i.b(i.v(i.d("translations.no_javascript",e,t,0))),i.b("</div> </noscript> "),i.s(i.f("showGameLoader",e,t,1),e,t,0,300,318,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.t(i.f("gameLoaderAd",e,t,0)))}),e.pop()),i.b(' <div itemscope itemtype="http://schema.org/WebApplication"> <meta itemprop="name" content="'),i.b(i.v(i.f("title",e,t,0))),i.b('"> <meta itemprop="description" content="'),i.b(i.v(i.f("desc",e,t,0))),i.b('"> <meta itemprop="url" content="'),i.b(i.v(i.f("href",e,t,0))),i.b('"> <meta itemprop="image" content="'),i.b(i.v(i.f("square",e,t,0))),i.b('"> <meta itemprop="applicationCategory" content="'),i.b(i.v(i.f("type",e,t,0))),i.b('"> <meta itemprop="applicationSubCategory" content="'),i.b(i.v(i.f("genres",e,t,0))),i.b(" "),i.b(i.v(i.f("type",e,t,0))),i.b('"> <div id="game_container" class="inverted"> <div id=\'DisneyGame-'),i.b(i.v(i.f("id",e,t,0))),i.b("' contentid='"),i.b(i.v(i.f("id",e,t,0))),i.b('\'></div> </div> <div class="game_container_too_small"> <div class="orphan"><p>'),i.b(i.v(i.d("translations.too_small",e,t,0))),i.b('</p></div> </div> <div class="iOS"> <div class="orphan"><p>'),i.b(i.v(i.d("translations.ios",e,t,0))),i.b('</p></div> </div> <div class="flashNotPresent"> <div class="orphan"><p>'),i.b(i.v(i.d("translations.no_flash",e,t,0))),i.b('</p></div> </div> </div> </div> </div> </div> </div> <div class="content-toolbar-container"> <div id="meta"></div> </div> ')}),e.pop()),s.fl()},partials:{},subs:{}}),function(e){"use strict";var t=e.Disney,i=t.Style.breakpoints,s=[i.midHigh,i.max],n=e.Grill,a=e.Backbone,o=e.Modernizr,r=e._,l=e.jQuery,c=e.Whiskers,d=!1,u=!1,p=!1,h=null,f=!1,v=function(t){var i=e.onerror,s=e.console;s&&s.error&&s.error(t.stack||t.toString()),i&&i(t.toString())};n.ModuleView.register("play",{style_classes:["full-width","full-height","skip-top-border"],breakpoints:s.join(" "),template:c.modules.play,tabletSize:768,isMobile:o.mobile,assets:{scripts:["http://img.lum.dolimg.com/v1/game_container/js/disneygames.js"]},render:function(){var t=a.Resize.width()>=this.tabletSize;this.gameType=this.model.get("data")[0].game_type,this.isCreateApp()||(this.gameData={wmode:"transparent"},e.disneyGames.processConfig(this.model.get("data")[0].game_data,this.gameData),this.setAdTargeting(this.gameData),this.setAdTranslations(this.model.get("translations")));var i=r.extend({cds:this.options.cds,createClass:this.isCreateApp()?"create_module":"game_module",showGameLoader:t},this.options.ads.helpers(),this.model);this.$el.html(this.template.render(i))},isCreateApp:function(){return"Create App"===this.gameType},hideAllMessages:function(){this.$(".flashNotPresent").hide(),this.$(".game_container_too_small").hide(),this.$(".create_container_too_small").hide(),this.$(".iOS").hide()},resize:function(){return p?(this.$(".flashNotPresent").hide(),this.$(".game_container_too_small").hide(),this.$(".create_container_too_small").hide(),this.$(".bun_game").addClass("error_holder"),this.$(".iOS").show(),null):(this.$(".iOS").hide(),void(u?(this.$(".bun_game").addClass("error_holder"),this.$(".flashNotPresent").show(),this.$(".game_container_too_small").hide(),this.$(".create_container_too_small").hide()):this.isMobile||(this.$(".flashNotPresent").hide(),this.handleGameContainerShowHide(this.isCreateApp()?a.Resize.width()>=i.max:a.Resize.width()>=this.tabletSize))))},handleGameContainerShowHide:function(t){var i=e.disneyGames;t?(d===!1?this.loadGameContainer():i.showGame(),this.$("#game_container").show(),this.$(".bun_game").removeClass("error_holder"),this.$(".game_container_too_small").hide()):(this.$(".bun_game").addClass("error_holder"),this.$(".game_container_too_small").show(),d===!0&&(i.hideGame(),e.setTimeout(r.bind(this.removeAd,this),0)),this.$("#game_container").hide())},setAdTranslations:function(e){var t=this.options.ads;t.setTranslation("advertisement",e.advertisement),t.setTranslation("skip_ad",e.skip_ad)},setAdTargeting:function(e){var t=this.options.ads;t.setTargeting&&(t.setTargeting("assetId",e.assetId),t.setTargeting("assetName",e.assetName),t.setTargeting("assetType",e.assetType),t.setTargeting("bu",e.bu),t.setTargeting("gameName",e.gameName),t.setTargeting("gameType",e.gameType),t.setTargeting("genre",e.genre),t.setTargeting("owner",e.owner),t.setTargeting("property",e.property))},loadGameContainer:function(){var t=e.disneyGames,i=this.model.get("data")[0].id;if(d=!0,e.disneyGamesCommunication.addMessageListener(r.bind(this.handleMessage,this)),this.isCreateApp())t.addGame({elementId:"DisneyGame-"+i,contentId:this.model.get("data")[0].create_id,provider:"create"});else{var s={elementId:"DisneyGame-"+i,contentId:this.getContentId(),gameData:this.gameData,iframePath:"/games/syndication/iframeGame.html"};if(this.options&&this.options.ads&&this.options.ads.slots){var n=this.options.ads.slots.gameLoader;n&&(s.adDivId=n.getId(),s.externalAdControl=!0)}t.addGame(s)}},getContentId:function(){var e;return e=this.model.get("data")[0].go_pub_id?this.model.get("data")[0].go_pub_id:this.model.get("data")[0].id},removeAd:function(){if(this.options&&this.options.ads&&this.options.ads.slots){var e=this.options.ads.slots.gameLoader;e&&e.remove()}},handleMessage:function(t){var i=e.disneyGames;switch(t){case"adStarted":h.hideAllMessages();break;case"startGame":a.Resize.width()<=this.tabletSize&&!this.isMobile&&h.resize();break;case"removeAd":e.setTimeout(r.bind(this.removeAd,this),0),h.resize();break;case"unsupportedDevice":p=!0,h.resize(),this.$("#game_container").hide(),d===!0&&i.hideGame();break;case"flashFailed":u=!0,h.resize(),this.$("#game_container").hide(),d===!0&&i.hideGame();break;case"HTML5Works":this.$(".bun_game").css("padding","0")}},refreshAds:function(){l("#nav-pushdown").is(":visible")&&this.options.ads.refresh()},ready:function(){var i=this,s=i.model.get("translations");h=i,u=!1,p=!1,new t.ContentToolbarView({el:this.$("#meta"),model:this.model,socialLinks:[{share_type:"share",share_text:s.share,output_label:s.quick_link}],cdsMode:this.options.cds,ads:this.options.ads}),d===!1&&this.loadGameContainer(),this.hideAllMessages(),this.resize(),f||this.options.cds||(f=e.setInterval(function(){i.refreshAds()},18e4))},remove:function(){try{e.disneyGamesCommunication.clearMessageListeners()}catch(t){v(t)}try{e.disneyGames.removeGame()}catch(t){v(t)}n.BunView.prototype.remove.call(this),d=!1}})}(this),Whiskers("modules.playlist",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<div class="bound"> <ul class="list"> '),s.s(s.f("data",e,t,1),e,t,0,47,147,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.s(i.f("list_items",e,t,1),e,t,0,62,132,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <li> <div class="order"><span>'),i.b(i.v(i.f("order",e,t,0))),i.b("</span></div> "),i.b(i.rp("<item0",e,t,"")),i.b(" </li> ")}),e.pop())}),e.pop()),s.b(" </ul> </div>"),s.fl()},partials:{"<item0":{name:"item",partials:{},subs:{}}},subs:{}}),Whiskers("modules.playlist_header_image",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<div class="bound"> <div class="container"> '),s.s(s.f("data",e,t,1),e,t,0,53,514,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <div class="playlist_item"> <a href="'),i.b(i.v(i.f("playlistLink",e,t,0))),i.b('" title="'),i.b(i.v(i.f("title",e,t,0))),i.b('"> <span class="playlist_play_btn"></span> '),i.s(i.f("thumbnails",e,t,1),e,t,0,183,220,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<img src="'),i.b(i.v(i.f("image",e,t,0))),i.b('" alt="'),i.b(i.v(i.f("title",e,t,0))),i.b('">')}),e.pop()),i.b(' </a> </div> <div class="details"> <h2>'),i.b(i.v(i.f("title",e,t,0))),i.b('</h2> <div class="meta"> <span class="total">'),i.b(i.v(i.f("totalVideos",e,t,0))),i.b(" "),i.b(i.v(i.d("translations.videos",e,t,0))),i.b('</span> </div> <p class="desc">'),i.b(i.v(i.f("description",e,t,0))),i.b('</p> <a class="button large blue" href="'),i.b(i.v(i.f("playlistLink",e,t,0))),i.b('">'),i.b(i.v(i.d("translations.watch_playlist",e,t,0))),i.b("</a> </div> ")}),e.pop()),s.b(" </div> </div>"),s.fl()},partials:{},subs:{}}),Whiskers("modules.featured_playlist",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<div class="bound"> <div class="container"> '),s.s(s.f("data",e,t,1),e,t,0,53,520,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <div class="playlist_item"> <a href="'),i.b(i.v(i.f("playlistLink",e,t,0))),i.b('" title="'),i.b(i.v(i.f("title",e,t,0))),i.b('"> <span class="playlist_play_btn" ></span> '),i.s(i.f("thumbnails",e,t,1),e,t,0,184,221,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<img src="'),i.b(i.v(i.f("image",e,t,0))),i.b('" alt="'),i.b(i.v(i.f("title",e,t,0))),i.b('">')}),e.pop()),i.b(' </a> </div> <div class="details"> <h3><a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('">'),i.b(i.v(i.f("title",e,t,0))),i.b('</a></h3> <div class="meta"> <span class="total"><strong>'),i.b(i.v(i.f("totalVideos",e,t,0))),i.b(' Videos</strong><span class="pipeColor"> | </span><a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('">'),i.b(i.v(i.d("translation.see_playlist",e,t,0))),i.b("</a></span> </div> <p>"),i.b(i.v(i.f("short_desc",e,t,0))),i.b("</p> </div> ")}),e.pop()),s.b(" </div> </div>"),s.fl()},partials:{},subs:{}}),function(e){"use strict";var t=e.Grill,i=e.Whiskers,s=e.jQuery,n=e._,a=t.ModuleView.register("playlist",{template:i.modules.playlist,style_classes:["list_module_featured"],required_template_sets:["entities"],render:function(){var e=this.model.get("data")[0].id,t=this,i=n.extend({},t.model);t.$el.html(t.template.render(i,this.ctx_additions())),t.$("a").each(function(t,i){s(i).attr("href",s(i).attr("href")+"?playlist="+e)})}});a.register("playlist_header_image",{template:i.modules.playlist_header_image}),a.register("featured_playlist",{template:i.modules.featured_playlist})}(this),Whiskers("modules.popup_language_selector",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<div id="language-top-container"> <div id="language-top"> <span class="icon globe"></span> '),s.s(s.f("site_links",e,t,1),e,t,0,106,163,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <a href="'),i.b(i.v(i.f("url",e,t,0))),i.b('" class="language-option">'),i.b(i.v(i.f("title",e,t,0))),i.b("</a> ")}),e.pop()),s.b(' <a href="#" class="dismiss"></a> </div> </div>'),s.fl()},partials:{},subs:{}}),function(e){"use strict";var t=e.Grill,i=e.Disney,s=i.Cookie,n=e.Whiskers,a=e.Tracker,o=e.$,r=e.location.hostname,l=function(){var e=r;return e.match(/\.diznee.net/)&&(e=e.split(".").slice(0,-3).join(".")),e.replace("www.","")},c=function(){var e=/^(?:[a-z0-9-]+\.)*?([a-z0-9-]+(?:\.com?)?(?:\.[a-z]{2})?)$/;return l().match(e)[1]},d=function(){return r.replace(l(),"")},u=function(){return c()+d()},p=function(e,t){e.preventDefault(),s.set("language-preference","dismissed",{domain:u()}),t.fadeOut(),a.link({linkUrl:"#",linkName:"popup_language_selector/dismiss"})};t.ModuleView.register("popup_language_selector",{template:n.modules.popup_language_selector,render:function(){this.$el.html(this.template.render(this.model))},ready:function(){this.$(".language-option").each(function(){this.host===r&&o(this).css("color","white")}),s.get("language-preference")||this.$el.show()},events:{"click #language-top a.dismiss":function(e){p(e,this.$el)},"click #language-top a.language-option":function(e){var t=o(e.currentTarget);t[0].host===r?e.preventDefault():a.link({linkUrl:t.attr("href"),linkName:"popup_language_selector/"+t.text()})}}})}(this),Whiskers("modules.product",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<div class="bound '),s.b(s.v(s.f("layout",e,t,0))),s.b('"> '),s.s(s.f("header_data",e,t,1),e,t,0,47,65,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(i.rp("<module_header0",e,t,""))}),e.pop()),s.b(' <div class="product_list"> '),s.b(s.rp("<products1",e,t,"")),s.b(" "),s.s(s.f("data",e,t,1),e,t,0,132,144,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(" "),i.b(i.rp("<modal2",e,t,"")),i.b(" ")}),e.pop()),s.b(" </div> "),s.s(s.f("hasMore",e,t,1),e,t,0,173,373,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <div class="show_more_container"> <div class="show_more blue button large" role="button" onclick=""> <span class="label">'),i.b(i.v(i.d("translations.show_more",e,t,0))),i.b('</span> <span class="spinner"></span> </div> </div> ')}),e.pop()),s.b(" </div>"),s.fl()},partials:{"<module_header0":{name:"module_header",partials:{},subs:{}},"<products1":{name:"products",partials:{},subs:{}},"<modal2":{name:"modal",partials:{},subs:{}}},subs:{}}),Whiskers("modules.sidekick_product",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<div class="bound '),s.b(s.v(s.f("type",e,t,0))),s.b(" "),s.b(s.v(s.f("entity_type",e,t,0))),s.b(" "),s.b(s.v(s.f("layout",e,t,0))),s.b('"> '),s.s(s.f("header_data",e,t,1),e,t,0,72,90,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(i.rp("<module_header0",e,t,""))}),e.pop()),s.b(' <div class="module_body"> <div class="product_list one ad"> '),s.s(s.f("data",e,t,1),e,t,0,176,992,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <div class="product"> <div class="product-thumb"> <div class="boundingBox"> '),i.s(i.f("noscript",e,t,1),e,t,1,0,0,"")||(i.b('<img class="logo no-src" data-src="'),i.b(i.v(i.f("thumb",e,t,0))),i.b('">')),i.b(" "),i.s(i.f("noscript",e,t,1),e,t,0,339,394,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<noscript><img class="logo" src="'),i.b(i.v(i.f("thumb",e,t,0))),i.b('"></noscript>')}),e.pop()),i.b(' </div> <div class="product-button"></div> </div> <div class="details"> <h2 class="title">'),i.b(i.v(i.f("title",e,t,0))),i.b('</h2> <div class="product-button"></div> <ul class="desc"> '),i.s(i.f("product_lines",e,t,1),e,t,0,583,597,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("<li>"),i.b(i.v(i.d(".",e,t,0))),i.b("</li>")}),e.pop()),i.b(" </ul> "),i.s(i.f("more_lines",e,t,1),e,t,0,637,708,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<a class="modal_info button transparent">'),i.b(i.v(i.d("translations.more_info",e,t,0))),i.b("</a>")}),e.pop()),i.b(' </div> <ul class="desc_mobile '),i.s(i.f("more_lines",e,t,1),e,t,0,769,777,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("hasModal")}),e.pop()),i.b('"> '),i.s(i.f("product_lines",e,t,1),e,t,0,813,827,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("<li>"),i.b(i.v(i.d(".",e,t,0))),i.b("</li>")}),e.pop()),i.b(" "),i.s(i.f("specs",e,t,1),e,t,0,856,957,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.s(i.f("specifications",e,t,1),e,t,0,875,938,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <li><span class="tech_title">'),i.b(i.v(i.f("title",e,t,0))),i.b(":</span> "),i.b(i.v(i.f("value",e,t,0))),i.b("</li> ")}),e.pop())}),e.pop()),i.b(" </ul> </div> "),i.b(i.rp("<modal1",e,t,"")),i.b(" ")}),e.pop()),s.b(' </div> <div class="ad-container"> '),s.b(s.t(s.f("rectangleAd",e,t,0))),s.b(" "),s.b(s.t(s.f("mobileAd",e,t,0))),s.b(" </div> </div> </div>"),s.fl()},partials:{"<module_header0":{name:"module_header",partials:{},subs:{}},"<modal1":{name:"modal",partials:{},subs:{}}},subs:{}}),Whiskers("entities.products",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.s(s.f("product_data",e,t,1),e,t,0,17,876,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <div class="product"> <div class="product-thumb"> <div class="boundingBox"> '),i.s(i.f("noscript",e,t,1),e,t,1,0,0,"")||(i.b('<img class="logo no-src" data-src="'),i.b(i.v(i.f("thumb",e,t,0))),i.b('">')),i.b(" "),i.s(i.f("noscript",e,t,1),e,t,0,180,235,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<noscript><img class="logo" src="'),i.b(i.v(i.f("thumb",e,t,0))),i.b('"></noscript>')}),e.pop()),i.b(' </div> <div class="product-button '),i.s(i.f("more_lines",e,t,1),e,t,0,298,306,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("hasModal")}),e.pop()),i.b('"></div> </div> <div class="details"> <h2 class="title">'),i.b(i.v(i.f("title",e,t,0))),i.b('</h2> <div class="product-button"></div> <ul class="desc"> '),i.s(i.f("product_lines",e,t,1),e,t,0,463,479,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" <li>"),i.b(i.v(i.d(".",e,t,0))),i.b("</li> ")}),e.pop()),i.b(' </ul> <a class="modal_info button transparent'),i.s(i.f("more_lines",e,t,1),e,t,1,0,0,"")||i.b(" no_modal"),i.b('">'),i.b(i.v(i.d("translations.show_more",e,t,0))),i.b('</a> </div> <ul class="desc_mobile '),i.s(i.f("more_lines",e,t,1),e,t,0,660,668,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("hasModal")}),e.pop()),i.b('"> '),i.s(i.f("product_lines",e,t,1),e,t,0,704,720,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" <li>"),i.b(i.v(i.d(".",e,t,0))),i.b("</li> ")}),e.pop()),i.b(" "),i.s(i.f("specs",e,t,1),e,t,0,749,852,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("specifications",e,t,1),e,t,0,769,832,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <li><span class="tech_title">'),i.b(i.v(i.f("title",e,t,0))),i.b(":</span> "),i.b(i.v(i.f("value",e,t,0))),i.b("</li> ")}),e.pop()),i.b(" ")}),e.pop()),i.b(" </ul> </div> ")}),e.pop()),s.fl()},partials:{},subs:{}}),Whiskers("entities.product_modal",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<div class="product-tech"> <div class="close_modal"></div> <div class="product-modal"> <p class="title tablet">'),s.b(s.v(s.f("title",e,t,0))),s.b('</p> <div class="product-thumb"> <div class="boundingBox"> '),s.s(s.f("noscript",e,t,1),e,t,1,0,0,"")||(s.b('<img class="logo no-src" data-src="'),s.b(s.v(s.f("thumb",e,t,0))),s.b('">')),s.b(" "),s.s(s.f("noscript",e,t,1),e,t,0,265,320,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b('<noscript><img class="logo" src="'),i.b(i.v(i.f("thumb",e,t,0))),i.b('"></noscript>')}),e.pop()),s.b(' </div> <div class="product-button"></div> </div> <div class="details"> <h2 class="title desktop">'),s.b(s.v(s.f("title",e,t,0))),s.b('</h2> <div class="desc_modal"> <h3 class="special">Special Features</h3> <ul class="desc"> '),s.s(s.f("tech_lines",e,t,1),e,t,0,546,562,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(" <li>"),i.b(i.v(i.d(".",e,t,0))),i.b("</li> ")}),e.pop()),s.b(" </ul> "),s.s(s.f("spec_truth",e,t,1),e,t,0,599,641,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b('<h3 class="tech_spec">Technical Specs</h3>')}),e.pop()),s.b(" "),s.s(s.f("specs",e,t,1),e,t,0,667,866,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <div class="spec_col"> <h2 class="spec_type">'),i.b(i.v(i.f("title",e,t,0))),i.b("</h2> "),i.s(i.f("specifications",e,t,1),e,t,0,747,839,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <ul class="tech_list"> <li><span class="tech_title">'),i.b(i.v(i.f("title",e,t,0))),i.b(":</span> "),i.b(i.v(i.f("value",e,t,0))),i.b("</li> </ul> ")}),e.pop()),i.b(" </div> ")}),e.pop()),s.b(" </div> </div> </div> </div>"),s.fl()
},partials:{},subs:{}}),function(e,t){"use strict";var i="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";e.fn.imagesLoaded=function(s){function n(){var t=e(p),i=e(h);l&&(h.length?l.reject(d,t,i):l.resolve(d)),e.isFunction(s)&&s.call(r,d,t,i)}function a(e){o(e.target,"error"===e.type)}function o(t,s){t.src!==i&&-1===e.inArray(t,u)&&(u.push(t),s?h.push(t):p.push(t),e.data(t,"imagesLoaded",{isBroken:s,src:t.src}),c&&l.notifyWith(e(t),[s,d,e(p),e(h)]),d.length===u.length&&(setTimeout(n),d.unbind(".imagesLoaded",a)))}var r=this,l=e.isFunction(e.Deferred)?e.Deferred():0,c=e.isFunction(l.notify),d=r.find("img").add(r.filter("img")),u=[],p=[],h=[];return e.isPlainObject(s)&&e.each(s,function(e,t){"callback"===e?s=t:l&&l[e](t)}),d.length?d.bind("load.imagesLoaded error.imagesLoaded",a).each(function(s,n){var a=n.src,r=e.data(n,"imagesLoaded");return r&&r.src===a?void o(n,r.isBroken):n.complete&&n.naturalWidth!==t?void o(n,0===n.naturalWidth||0===n.naturalHeight):void((n.readyState||n.complete)&&(n.src=i,n.src=a))}):n(),l?l.promise(r):r}}(jQuery),function(e){"use strict";var t=e.Grill,i=e.Disney,s=i.Style.breakpoints,n=s.midHigh.toString(),a=e.Whiskers,o=e.Backbone,r=e.jQuery,l=e._,c=t.ModuleView.extend({breakpoints:n,required_template_sets:["module_header"],template:a.modules.product,included_components:{products:a.entities.products,modal:a.entities.product_modal},initialize:function(){this.itemCount=0,this.two_button_margin=10,this.translations=this.model.get("translations")},render:function(){l.extend(this,{itemCount:this.model.get("data").length,allProducts:this.model.get("data")}),this.allProducts.length>4?(this.productData=this.allProducts.slice(0,4),this.stashedData=this.allProducts.slice(4)):this.productData=this.allProducts,this.defaultLayout=2===this.itemCount||this.itemCount>3||this.sidekick?"left":"right",i.rtl&&(this.defaultLayout="left"===this.defaultLayout?"right":"left"),this.layout=this.model.get("style").layout?this.model.get("style").layout:this.defaultLayout;var e=l.extend({hasMore:this.itemCount>4,title:this.model.get("title"),desc:this.model.get("desc"),layout:this.layout,product_data:this.productData},this.options.ads.helpers(),this.model);this.$el.html(this.template.render(e,this.ctx_additions())),this.updateButton(this.itemCount>4)},resize:function(){var e=o.Resize.width()>=s.midHigh;this.options.ads.restore(),e?this.$(".desc_mobile, .modal_info").removeClass("fade"):this.$(".product-tech, .product").removeClass("fade")},ready:function(){this.buttonViews=[];var e=this,t=this.$(".product_list .product"),s=this.$(".product_list"),n=this.$(".product-tech").length;switch(t.length){case 1:s.addClass("one");break;case 3:s.addClass("three");break;default:s.addClass("two")}this.$(".product_list .product").each(function(t,s){e.$(s).find(".product-button").each(function(s,n){var a=new i.ProductButtonView({el:n,model:e.model.get("data")[t],translations:e.model.get("translations"),age_gate:e.model.get("age_gate")});a.on("change",e.buttonChanged,e),e.buttonViews.push(a)})}),this.$(".product-tech").each(function(t,s){e.$(s).find(".product-button").each(function(s,n){var a=new i.ProductButtonView({el:n,model:e.model.get("data")[t],age_gate:e.model.get("age_gate")});a.on("change",e.buttonChanged,e),e.buttonViews.push(a)})});for(var a=0;n>a;a++)this.$(".modal_info").eq(a).addClass(""+a)},updateButton:function(e){var t=this.$el;t.toggleClass("has-more",e)},modalDisplay:function(e){var t=o.Resize.width()>=s.midHigh,i=this.$(".product-tech").length,n=null;if(t)for(this.$(".product_list .product").addClass("fade"),n=0;i>n;n++)r(e.currentTarget).hasClass(n)&&this.$(".product-tech").eq(n).addClass("fade");else for(n=0;i>n;n++)r(e.currentTarget).hasClass(n)&&this.$(".desc_mobile").eq(n).addClass("fade")},modalRemove:function(){this.$(".product-tech, .product, .desc_mobile").removeClass("fade"),this.$(".buy").removeClass("active")},events:{"click .modal_info":"modalDisplay","click .close_modal":"modalRemove","click .product.fade":"modalRemove","click .show_more_container":function(e){e.preventDefault(),this.buttonViews=[];var t=this,s=this.productData,n=this.stashedData,o=this.$(".product_list");n.length>4?(s=n.slice(0,4),n=n.slice(4)):(s=n,n=[]);var c=l.extend({hasMore:n.length>0,product_data:s}),d=a.entities.products.render(c);r(d).insertAfter(o.find(".product").last()),this.$(".product_list .product").slice(1).each(function(e,s){t.$(s).find(".product-button").slice(0).each(function(s,n){var a=new i.ProductButtonView({el:n,model:t.model.get("data")[e],age_gate:t.model.get("age_gate")});a.on("change",t.buttonChanged,t),t.buttonViews.push(a)})});for(var u=4;u<s.length+4;u++)this.$(".modal_info").eq(u).addClass(""+u);this.$el.loadLazyImages(),this.updateButton(!1)}}});c.register("product",{}),c.register("sidekick_product",{sidekick:!0,style_classes:["sidekick"],template:a.modules.sidekick_product})}(this),Whiskers("modules.property_hero",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.s(s.f("data",e,t,1),e,t,0,9,723,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <div class="branding"> <div class="scaler"></div> '),i.s(i.f("wide",e,t,1),e,t,0,69,286,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("overlayLeft",e,t,1),e,t,0,86,159,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <span class="left-overlay overlay"> <img src="'),i.b(i.v(i.f("overlayLeft",e,t,0))),i.b('"> </span> ')}),e.pop()),i.b(" "),i.s(i.f("overlayRight",e,t,1),e,t,0,193,268,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <span class="right-overlay overlay"> <img src="'),i.b(i.v(i.f("overlayRight",e,t,0))),i.b('"> </span> ')}),e.pop()),i.b(" ")}),e.pop()),i.b(' <span class="background"> <img src="'),i.b(i.v(i.f("propertyHeader",e,t,0))),i.b('"> </span> </div> '),i.s(i.f("wide",e,t,1),e,t,0,377,713,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="content '),i.b(i.v(i.f("contentPosition",e,t,0))),i.b('"> '),i.s(i.f("video",e,t,1),e,t,0,430,695,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("id",e,t,1),e,t,0,438,687,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="video-container"> <div class="scaler"></div> '),i.s(i.f("expired",e,t,1),e,t,1,0,0,"")||(i.b(' <div id="player_property_hero" class="player video trailer-box"> <noscript> <div class="player_error">'),i.b(i.v(i.d("translations.no_javascript",e,t,0))),i.b("</div> </noscript> </div> ")),i.b(" </div> ")}),e.pop()),i.b(" ")}),e.pop()),i.b(" </div> ")}),e.pop()),i.b(" ")}),e.pop()),s.fl()},partials:{},subs:{}}),Whiskers("modules.property_nav",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<style type="text/css"> '),s.s(s.f("data",e,t,1),e,t,0,33,1763,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.s(i.f("pn_style",e,t,1),e,t,0,46,1750,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" .property_nav_wrap{ background-color: "),i.b(i.v(i.f("background_color",e,t,0))),i.b("; background-image: -webkit-gradient(linear, left top, left bottom, from("),i.b(i.v(i.f("gradient_color",e,t,0))),i.b("), to("),i.b(i.v(i.f("background_color",e,t,0))),i.b(")); background-image: -webkit-linear-gradient(top, "),i.b(i.v(i.f("gradient_color",e,t,0))),i.b(", "),i.b(i.v(i.f("background_color",e,t,0))),i.b("); background-image: -moz-linear-gradient(top, "),i.b(i.v(i.f("gradient_color",e,t,0))),i.b(", "),i.b(i.v(i.f("background_color",e,t,0))),i.b("); background-image: -o-linear-gradient(top, "),i.b(i.v(i.f("gradient_color",e,t,0))),i.b(", "),i.b(i.v(i.f("background_color",e,t,0))),i.b("); background-image: linear-gradient(to bottom, "),i.b(i.v(i.f("gradient_color",e,t,0))),i.b(", "),i.b(i.v(i.f("background_color",e,t,0))),i.b("); } .property_nav_wrap ul li:hover{ background-color: "),i.b(i.v(i.f("hover_color",e,t,0))),i.b("; background-image: -webkit-gradient(linear, left top, left bottom, from("),i.b(i.v(i.f("hover_gradient_color",e,t,0))),i.b("), to("),i.b(i.v(i.f("hover_color",e,t,0))),i.b(")); background-image: -webkit-linear-gradient(top, "),i.b(i.v(i.f("hover_gradient_color",e,t,0))),i.b(", "),i.b(i.v(i.f("hover_color",e,t,0))),i.b("); background-image: -moz-linear-gradient(top, "),i.b(i.v(i.f("hover_gradient_color",e,t,0))),i.b(", "),i.b(i.v(i.f("hover_color",e,t,0))),i.b("); background-image: -o-linear-gradient(top, "),i.b(i.v(i.f("hover_gradient_color",e,t,0))),i.b(", "),i.b(i.v(i.f("hover_color",e,t,0))),i.b("); background-image: linear-gradient(to bottom, "),i.b(i.v(i.f("hover_gradient_color",e,t,0))),i.b(", "),i.b(i.v(i.f("hover_color",e,t,0))),i.b("); } .property_nav_wrap ul li.active{ background-color: "),i.b(i.v(i.f("active_color",e,t,0))),i.b("; background-image: -webkit-gradient(linear, left top, left bottom, from("),i.b(i.v(i.f("active_gradient_color",e,t,0))),i.b("), to("),i.b(i.v(i.f("active_color",e,t,0))),i.b(")); background-image: -webkit-linear-gradient(top, "),i.b(i.v(i.f("active_gradient_color",e,t,0))),i.b(", "),i.b(i.v(i.f("active_color",e,t,0))),i.b("); background-image: -moz-linear-gradient(top, "),i.b(i.v(i.f("active_gradient_color",e,t,0))),i.b(", "),i.b(i.v(i.f("active_color",e,t,0))),i.b("); background-image: -o-linear-gradient(top, "),i.b(i.v(i.f("active_gradient_color",e,t,0))),i.b(", "),i.b(i.v(i.f("active_color",e,t,0))),i.b("); background-image: linear-gradient(to bottom, "),i.b(i.v(i.f("active_gradient_color",e,t,0))),i.b(", "),i.b(i.v(i.f("active_color",e,t,0))),i.b("); } .module.property_nav .property_nav_wrap ul li a{ color: "),i.b(i.v(i.f("font_color",e,t,0))),i.b("; } ")}),e.pop())}),e.pop()),s.b(" </style> "),s.s(s.f("data",e,t,1),e,t,0,1791,2306,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <div class="property_nav_wrap"> <div class="property_nav_scroller"> <ul class="links-'),i.b(i.v(i.f("numLinks",e,t,0))),i.s(i.f("schema_json",e,t,1),e,t,0,1905,1950,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.s(i.f("has_divider",e,t,1),e,t,0,1921,1934,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" has-dividers")}),e.pop())}),e.pop()),i.b('"> '),i.s(i.f("pn_links",e,t,1),e,t,0,1982,2272,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<li class="'),i.s(i.f("icon",e,t,1),e,t,0,2002,2006,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("icon")}),e.pop()),i.b('"><a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('" title="'),i.b(i.v(i.f("title",e,t,0))),i.b('"'),i.s(i.f("ping",e,t,1),e,t,0,2062,2090,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' data-ping="'),i.b(i.v(i.d("ping.static",e,t,0))),i.b('"')}),e.pop()),i.b(">"),i.s(i.f("icon",e,t,1),e,t,0,2109,2245,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("noscript",e,t,1),e,t,1,0,0,"")||(i.b('<img class="no-src" data-src="'),i.b(i.v(i.f("icon",e,t,0))),i.b('">')),i.b(" "),i.s(i.f("noscript",e,t,1),e,t,0,2190,2231,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<noscript><img src="'),i.b(i.v(i.f("icon",e,t,0))),i.b('"></noscript>')}),e.pop()),i.b(" ")}),e.pop()),i.b(i.v(i.f("title",e,t,0))),i.b("</a></li>")}),e.pop()),i.b(" </ul> </div> </div> ")}),e.pop()),s.fl()},partials:{},subs:{}}),Whiskers("modules.property_description",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<div class="bound"> <div class="module_body"> '),s.s(s.f("data",e,t,1),e,t,0,55,722,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <div class="content" data-title="'),i.b(i.v(i.f("title",e,t,0))),i.b('"> <div class="header"> <h1 style="color:'),i.s(i.f("style",e,t,1),e,t,0,149,166,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.v(i.f("heading_color",e,t,0)))}),e.pop()),i.b('">'),i.b(i.v(i.f("title",e,t,0))),i.b('</h1> <div class="meta"> '),i.s(i.f("rating",e,t,1),e,t,0,223,313,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <p><span class="meta-heading accent-color">'),i.b(i.v(i.d("translations.rated",e,t,0))),i.b(":</span> "),i.b(i.v(i.f("rating",e,t,0))),i.b("</p> ")}),e.pop()),i.b(" "),i.s(i.f("release",e,t,1),e,t,0,337,435,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <p><span class="meta-heading accent-color">'),i.b(i.v(i.d("translations.release_date",e,t,0))),i.b(":</span> "),i.b(i.v(i.f("release",e,t,0))),i.b("</p> ")}),e.pop()),i.b(' </div> </div> <p class="desc">'),i.b(i.v(i.f("desc",e,t,0))),i.b("</p> "),i.s(i.f("cds",e,t,1),e,t,1,0,0,"")||(i.b('<div class="movie-actions"> '),i.s(i.f("buttons",e,t,1),e,t,0,539,687,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('" target="_blank" class="button small '),i.b(i.v(i.f("type",e,t,0))),i.b(" "),i.b(i.v(i.f("button_color",e,t,0))),i.b('"'),i.s(i.f("convert",e,t,1),e,t,0,633,660,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' data-convert="'),i.b(i.v(i.f("convert",e,t,0))),i.b('"')}),e.pop()),i.b(">"),i.b(i.v(i.f("title",e,t,0))),i.b("</a> ")}),e.pop()),i.b(" </div>")),i.b(" </div> ")}),e.pop()),s.b(' <div class="ad-container"> '),s.b(s.t(s.f("rectangleAd",e,t,0))),s.b(" "),s.b(s.t(s.f("mobileAd",e,t,0))),s.b(" </div> </div> </div>"),s.fl()},partials:{},subs:{}}),function(e){"use strict";function t(e){return e.split("?")[0]}var i=e.Disney,s=i.Style.breakpoints,n=s.midHigh.toString(),a=e.Grill,o=e.Whiskers,r=e.Backbone,l=e.jQuery,c=e._,d=a.ModuleView.extend({breakpoints:n,render:function(){var e=c.first(this.model.get("data")),t=e.takeover_styles,n=!!this.options.cds,a=r.Resize.width()>=s.midHigh,o=c.extend({cds:n,wide:a,propertyHeader:a?e.hero:e.hero_mobile,numLinks:e.pn_links?e.pn_links.length:0},this.options.ads.helpers(),this.model);this.$el.html(this.template.render(o)).toggleClass("cds",n),this.$el.addClass(this.model.cid),i.Style.applyTakeoverStyles(t,!0)},resize:function(){this.render(),this.options.ads.restore()}});d.register("property_hero",{template:o.modules.property_hero,initialize:function(){this.property().get("video")&&(this.assets={scripts:["//a.dilcdn.com/a/videoplayer-be62928c4acf.js"]})},property:function(){return this.model.data.first()},resize:function(){this.render(),this.options.ads.restore(),this.ready()},ready:function(){var e=r.Resize.width();if(!(e<s.midHigh)){var t=this.property(),n=t.get("video"),a=t.get("image");n&&(this.player=new i.MatterhornVideoPlayer("player_property_hero",{video:n,clickToPlay:!0,poster:a,ads:{enabled:!1}}))}},remove:function(){this.player&&(this.player.destroy(),this.player=null),a.ModuleView.prototype.remove.call(this)}}),d.register("property_description",{template:o.modules.property_description,breakpoints:null});var u=d.extend({style_classes:["property_nav","skip-styles","skip-bottom-border","skip-top-border"],template:o.modules.property_nav,ready:function(){this.$("a").each(function(){l(this).parent("li").toggleClass("active",t(this.href)===t(e.location.href))})}});u.register("property_nav"),u.register("property_nav_mobile")}(this),function(e){"use strict";var t=e.Disney,i=t.Style.breakpoints,s=i.midHigh.toString(),n=e.Grill,a=e.Whiskers,o=e.Backbone,r=e._,l=e.devicePixelRatio>1.5;n.ModuleView.register("rich_image",{breakpoints:s,style_classes:["full-width","full-height","skip-bottom-border","skip-top-border"],template:a.modules.rich_image,render:function(){var e=o.Resize.width()>=i.midHigh,t=this,s=r.first(this.model.get("data")),n=t.model.get("style").images.foreground_image,a=null;if(n){var c=l&&n.retina_url?n.retina_url:n.url,d=l&&n.mobile_retina_url?n.mobile_retina_url:n.mobile_url?n.mobile_url:null;a=e?c:d}var u=r.extend({image:a?a:null,data:s?s:null},this.model);this.$el.html(this.template.render(u))},resize:function(){this.render()}})}(this),Whiskers("modules.rich_text",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<div class="bound"> <div class="rich_text_container"> '),s.s(s.f("image",e,t,1),e,t,0,64,256,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b('<div class="rich_text_image '),i.b(i.v(i.f("position",e,t,0))),i.b('_align"> '),i.s(i.f("noscript",e,t,1),e,t,1,0,0,"")||(i.b('<img class="no-src" data-src="'),i.b(i.v(i.f("image",e,t,0))),i.b('">')),i.b(" "),i.s(i.f("noscript",e,t,1),e,t,0,194,236,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<noscript><img src="'),i.b(i.v(i.f("image",e,t,0))),i.b('"></noscript>')}),e.pop()),i.b(" </div>")}),e.pop()),s.b(" "),s.b(" "),s.s(s.f("image",e,t,1),e,t,1,0,0,"")||(s.b(" "),s.s(s.f("style",e,t,1),e,t,0,312,583,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.s(i.f("images",e,t,1),e,t,0,323,572,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.s(i.f("foreground_image",e,t,1),e,t,0,344,551,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.s(i.f("url",e,t,1),e,t,0,352,543,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="rich_text_image '),i.b(i.v(i.f("alignment",e,t,0))),i.b('_align"> '),i.s(i.f("noscript",e,t,1),e,t,1,0,0,"")||(i.b('<img class="no-src" data-src="'),i.b(i.v(i.f("url",e,t,0))),i.b('">')),i.b(" "),i.s(i.f("noscript",e,t,1),e,t,0,482,522,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<noscript><img src="'),i.b(i.v(i.f("url",e,t,0))),i.b('"></noscript>')}),e.pop()),i.b(" </div> ")}),e.pop())}),e.pop())}),e.pop())}),e.pop()),s.b(" ")),s.b(" "),s.s(s.f("rich_text",e,t,1),e,t,0,619,737,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <div class="rich_text_body rich-text-enabled'),i.s(i.f("image",e,t,1),e,t,0,674,703,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" has-image "),i.b(i.v(i.f("position",e,t,0))),i.b("_align")}),e.pop()),i.b('">'),i.b(i.t(i.f("rich_text",e,t,0))),i.b("</div> ")}),e.pop()),s.b(" </div> </div>"),s.fl()},partials:{},subs:{}}),function(e){"use strict";var t=e.Grill,i=e.Whiskers,s=e.Backbone,n=e.Disney,a=n.Style.breakpoints,o=a.midHigh.toString(),r=e.devicePixelRatio>1.5,l=e._;t.ModuleView.register("rich_text",{breakpoints:o,template:i.modules.rich_text,render:function(){var e,t=l.first(this.model.get("data")),i=this.model.get("style"),n=i&&i.images&&i.images.foreground_image,o=!(!n||!n.url&&!n.mobile_url),c=s.Resize.width()>=a.midHigh;if(o){var d=r&&n.retina_url?n.retina_url:n.url,u=r&&n.mobile_retina_url?n.mobile_retina_url:n.mobile_url;e=c?d:u}var p=l.extend({data:t,image:e,position:o&&n.alignment},this.model);this.$el.html(this.template.render(p))}})}(this),Whiskers("modules.search",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<form class="search-form goc-search" action="'),s.b(s.v(s.f("search_action",e,t,0))),s.b('" method="GET"> <a class="search-nav-logo" href="'),s.b(s.v(s.f("href",e,t,0))),s.b('"> </a> '),s.b(' <a class="textSearchHeading" href="'),s.b(s.v(s.f("href",e,t,0))),s.b('">'),s.b(s.v(s.d("translations.search",e,t,0))),s.b('</a> <div class="query-field"> '),s.b(' <input name="q" type="text" placeholder="" id="searchField_SRP"> </div> <input class="large button blue" type="submit" value="'),s.b(s.v(s.d("translations.search",e,t,0))),s.b('"> </form>'),s.fl()},partials:{},subs:{}}),function(e){"use strict";var t=e.Grill,i=e.GOC,s=e.jQuery,n=e.Whiskers,a=e.Tracker,o=e._;t.BunView.register("search",{template:n.modules.search,ready:function(){i&&i.queue.push(["ac",this.el,"srp/searchbox"]),s('input[name="q"]').focus()},events:{"click a":function(e){var t=s(e.currentTarget),i=t.attr("href");"img"===e.target.nodeName.toLowerCase()&&(t=s(e.target)),a.link({linkName:t.data("linkname"),linkPosition:t.data("linkposition"),href:i})},"submit form.goc-search":function(){a.link({linkName:"srp/searchbox/search_enter",linkPosition:"srp/searchbox"})}},render:function(){var e=this,t=s(".goc-bound .goc-search").attr("action")||"/search",i=o.extend({search_action:t},e.model);e.$el.html(e.template.render(i))}})}(this),Whiskers("modules.search_stream",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<div class="bound '),s.b(s.v(s.f("type",e,t,0))),s.b(" "),s.b(s.v(s.f("entity_type",e,t,0))),s.b('"> <div class="module_header_container"> <div class="module_header"> '),s.s(s.f("title",e,t,1),e,t,0,121,139,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b("<h2>"),i.b(i.v(i.f("title",e,t,0))),i.b("</h2>")}),e.pop()),s.b(' </div> <div class="filters" data-title="filters"> '),s.s(s.f("sortOptions",e,t,1),e,t,0,216,319,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <div class="sort"> <a href="" class="popular active">Popular</a><a href="" class="new">New</a> </div> ')}),e.pop()),s.b(' <a href="" class="filter"> <span>All Games</span> </a> <div class="filter_mobile"> <span>All Games</span> <select class="mobile_filter_list"> <option value="0" data-filter="All" selected="selected">All Games</option> </select> </div> </div> </div> <div class="filter_drawer"> <div class="filter_list"> </div> </div> <div id="stream_items"> '),s.b(s.t(s.f("list",e,t,0))),s.b(' </div> <div class="show_more_container"> <div class="show_more blue button large" role="button" onclick=""> <span class="label">Show More</span> <span class="spinner"></span> </div> </div> </div>'),s.fl()},partials:{},subs:{}}),function(e){"use strict";var t=e.Disney,i=e.Grill,s=e.Backbone,n=e.Modernizr,a=e.Whiskers,o=e.Tracker,r=e.jQuery,l=e._,c=t.Style.breakpoints,d=l.values(c),u=s.LazyCollection.extend({filters:[],parse:function(e){return this.setFilters(e.filters),this.setCount(e.total_found),e.data},setFilters:function(e){this.filters=e},setCount:function(e){this.count=e}}),p=i.GridModuleBaseView.extend({sortTypes:["created_at","popularity"],style_classes:["stream-view","grid-view","filters-view"],compatibility:n.canvas&&n.flash?"html5,flash":n.canvas&&!n.flash?"html5":"flash",page:1,events:{"click .show_more":function(e){var t=this;e.preventDefault(),this.getMoreItems().then(function(){t.showHideButton(),o.trackPagination(++t.page),t.$el.loadLazyImages()})},"click .sort a.popular":function(e){var t=this;e.preventDefault(),t.$(".popular").addClass("active"),t.$(".new").removeClass("active"),this.hideStreamItems()},"click .sort a.new":function(e){var t=this;e.preventDefault(),t.$(".new").addClass("active"),t.$(".popular").removeClass("active"),this.hideStreamItems()},"click .filters a.filter":function(e){var t=this;e.preventDefault(),t.$(".filters a.filter").toggleClass("active");var i=r(".filter_list").height()+44;t.$(".filter_drawer").hasClass("active")?t.$(".filter_drawer").css("height","0").removeClass("active"):t.$(".filter_drawer").css("height",i).addClass("active")}},initialize:function(){var e=this,t=e.model,s=t.data=new u(null,{min:t.data.min,params:{limit:"l",offset:"o"}});this.itemsRetrieved=!1,this.readyCalled=!1,this.list=new i.ListView({collection:s,template:{render:function(t){return a.entities.item.render(t,e.global_components.entities)}}}),s.on("loading",function(t,i){e.updateButton(i)}),this.resetAndGetMoreItems().then(function(){e.itemsRetrieved=!0,e.createUI(e.model.data.filters),e.showHideButton()})},getMoreItems:function(){var e=this,t=s.Resize.width(),i=e.list.collection,n=this.$(".filter_drawer a.active").data("filter")||"All",a=this.$("select.mobile_filter_list option:selected").data("filter")||"All",o=this.$(".sort > .active").text().toLowerCase(),r="new"!==o?e.sortTypes[1]:e.sortTypes[0];768>t&&(n=a);var l="/search-filter.json?f="+n+"&s="+r+"&c="+e.compatibility;return i.url=l,this.itemCount+=this.cols()*this.rows(),this.model.data.ensure(this.itemCount)},showHideButton:function(){this.model.data.length>=this.model.data.count?this.$(".show_more_container").hide():this.$(".show_more_container").show()},hideStreamItems:function(){var t=this,i=this.$("#stream_items ul"),s=this.$("#stream_items"),n=i.outerHeight(),a=r(e).selectTransitionEnd()+".stream_items";i.css("height",n).addClass("hide"),s.addClass("load"),r.support.css3("transition")?i.on(a,function(e){this===e.target&&(t.resetAndGetMoreItems(),i.off(a))}):t.resetAndGetMoreItems()},render:function(){var e=this.list,i={title:this.model.get("title"),type:this.model.get("type"),item_titles_below:this.model.get("item_titles_below"),list:t.placeHtml(e),sortOptions:!0};this.$el.html(this.template.render(i)),t.placeSwap(this,e),this.updateButton(!1)},ready:function(){this.readyCalled=!0,this.resize(),this.createUI(this.model.data.filters),this.$el.loadLazyImages()},updateButton:function(e){var t=this.$el,i=this.model.data;t.toggleClass("loading",e),t.toggleClass("has-more",i.count>0)},resize:function(){var e=this.cols();this.list.$el.removeClass().addClass("cols-"+e),this.fit()},fit:function(){var e=this.list.collection.count,t=this.list.collection.length,i=this.page*this.cols()*this.rows();e>i&&e>t?this.list.$el.children().show().slice(this.page*this.cols()*this.rows()).hide():this.list.$el.children().show(),this.$el.loadLazyImages()},createUI:function(e){if(this.itemsRetrieved&&this.readyCalled){var t=this,i=e,s=this.$(".filter_list"),n=this.$(".mobile_filter_list"),a=this.model.get("all_button_text");i?(s.append('<a class="active" href="" data-filter="All"><span>All '+a+"</span></a>"),this.$(".filters a.filter span").replaceWith("<span>All "+a+"</span>"),this.$(".filter_mobile span").replaceWith("<span>All "+a+"</span>"),r.each(i,function(e){var t=i[e];s.append('<a href="" data-filter="'+t+'"><span>'+t+"</span></a>"),n.append('<option value="'+(e+1)+'" data-filter="'+t+'">'+t+"</option>")}),this.$(".filter_drawer a").click(function(e){e.preventDefault(),t.$(".filter_drawer a").removeClass("active"),r(this).addClass("active"),t.$(".filter_drawer").css("height","0").removeClass("active"),t.$(".filters a.filter").removeClass("active"),"All"===r(this).data("filter")?(t.$(".filters a.filter span").replaceWith("<span>All "+a+"</span>"),t.$(".filter_mobile span").replaceWith("<span>All "+a+"</span>")):(t.$(".filters a.filter span").replaceWith("<span>"+r(this).data("filter")+"</span>"),t.$(".filter_mobile span").replaceWith("<span>"+r(this).data("filter")+"</span>")),t.hideStreamItems()}),this.$(".mobile_filter_list").change(function(){t.$(".mobile_filter_list option:selected").each(function(){"All"===r(this).data("filter")?(t.$(".filters a.filter span").replaceWith("<span>All "+a+"</span>"),t.$(".filter_mobile span").replaceWith("<span>All "+a+"</span>")):(t.$(".filters a.filter span").replaceWith("<span>"+r(this).data("filter")+"</span>"),t.$(".filter_mobile span").replaceWith("<span>"+r(this).data("filter")+"</span>")),t.$(".mobile_filter_list").blur(),t.hideStreamItems()})}),s.css("display","")):(s.hide(),this.$(".filters a.filter").hide(),this.$(".filter_mobile").hide()),this.$(".selectBox").append('<div class="arrow_down"></div>')}},resetAndGetMoreItems:function(){var e=this,t=e.list.collection;this.page=1,this.itemCount=0,t.reset();var i=this.getMoreItems();return i.then(function(){e.itemsRetrieved=!0,e.showHideButton(),e.$("#stream_items").removeClass("load"),e.$("#stream_items ul").css("height","auto").removeClass("hide"),e.$el.loadLazyImages()}),this.$(".arrow_down").length||this.$(".selectBox").append('<div class="arrow_down"></div>'),i}});p.register("search_stream",{breakpoints:d.join(" "),template:a.modules.search_stream,rows:function(){var e=s.Resize.width();return e<c.midHigh?4:e<c.max?4:3}})}(this),Whiskers("modules.shoutout",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.s(s.f("data",e,t,1),e,t,0,9,53,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <div class="container"> '),i.b(i.rp("<entity0",e,t,"")),i.b(" </div> ")}),e.pop()),s.fl()},partials:{"<entity0":{name:"entity",partials:{},subs:{}}},subs:{}}),Whiskers("entities.shoutout",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<div class="bound"> <div class="header module_header"> '),s.s(s.f("logo",e,t,1),e,t,0,64,200,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("noscript",e,t,1),e,t,1,0,0,"")||(i.b('<img class="no-src" data-src="'),i.b(i.v(i.f("logo",e,t,0))),i.b('">')),i.b(" "),i.s(i.f("noscript",e,t,1),e,t,0,145,186,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<noscript><img src="'),i.b(i.v(i.f("logo",e,t,0))),i.b('"></noscript>')}),e.pop()),i.b(" ")}),e.pop()),s.b(" <h2>"),s.b(s.v(s.f("question",e,t,0))),s.b('</h2> </div> <div class="left"> '),s.s(s.f("logo",e,t,1),e,t,0,267,403,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("noscript",e,t,1),e,t,1,0,0,"")||(i.b('<img class="no-src" data-src="'),i.b(i.v(i.f("logo",e,t,0))),i.b('">')),i.b(" "),i.s(i.f("noscript",e,t,1),e,t,0,348,389,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<noscript><img src="'),i.b(i.v(i.f("logo",e,t,0))),i.b('"></noscript>')}),e.pop()),i.b(" ")}),e.pop()),s.b(' </div> <div class="right"> <form> <div class="fields"> <div class="words"> <textarea name="shoutout" maxlength="70" placeholder="What do you have to say?" required></textarea> <span class="remaining">50</span> </div> <div class="nas"> <div class="input-group name"> <input type="text" name="name" maxlength="20" required placeholder="First name"></input> </div> <div class="input-group age"> <input type="text" name="age" maxlength="3" required placeholder="Age"></input> </div> '),s.s(s.f("show_states",e,t,1),e,t,0,908,2662,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <div class="input-group state"> <select name="state" class="empty" required> <option value="" selected>State</option> <option value="AL">AL</option> <option value="AK">AK</option> <option value="AZ">AZ</option> <option value="AR">AR</option> <option value="CA">CA</option> <option value="CO">CO</option> <option value="CT">CT</option> <option value="DE">DE</option> <option value="DC">DC</option> <option value="FL">FL</option> <option value="GA">GA</option> <option value="HI">HI</option> <option value="ID">ID</option> <option value="IL">IL</option> <option value="IN">IN</option> <option value="IA">IA</option> <option value="KS">KS</option> <option value="KY">KY</option> <option value="LA">LA</option> <option value="ME">ME</option> <option value="MD">MD</option> <option value="MA">MA</option> <option value="MI">MI</option> <option value="MN">MN</option> <option value="MS">MS</option> <option value="MO">MO</option> <option value="MT">MT</option> <option value="NE">NE</option> <option value="NV">NV</option> <option value="NH">NH</option> <option value="NJ">NJ</option> <option value="NM">NM</option> <option value="NY">NY</option> <option value="NC">NC</option> <option value="ND">ND</option> <option value="OH">OH</option> <option value="OK">OK</option> <option value="OR">OR</option> <option value="PA">PA</option> <option value="RI">RI</option> <option value="SC">SC</option> <option value="SD">SD</option> <option value="TN">TN</option> <option value="TX">TX</option> <option value="UT">UT</option> <option value="VT">VT</option> <option value="VA">VA</option> <option value="WA">WA</option> <option value="WV">WV</option> <option value="WI">WI</option> <option value="WY">WY</option> <option value="Other">Other</option> </select> </div> ')}),e.pop()),s.b(" "),s.s(s.f("show_states",e,t,1),e,t,1,0,0,"")||s.b(' <input type="hidden" name="state" value="Other"> '),s.b(' </div> <button type="submit" class="button blue small">Submit</button> <p class="notification"></p> </div> </form> <div class="list"></div> <div class="show_more_container"> <div class="show_more blue button large" role="button" onclick=""> <span class="label">Show More</span> <span class="spinner"></span> </div> </div> </div> </div>'),s.fl()},partials:{},subs:{}}),Whiskers("entities.shoutout.message",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<li class="message'),s.s(s.f("pending",e,t,1),e,t,0,30,38,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(" pending")}),e.pop()),s.b('"> <q>'),s.b(s.v(s.f("text",e,t,0))),s.b("</q> <span> "),s.s(s.f("dname",e,t,1),e,t,0,86,107,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(" "),i.b(i.v(i.f("dname",e,t,0))),i.b("</address> ")}),e.pop()),s.b(" "),s.s(s.f("name",e,t,1),e,t,0,127,288,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("show_states",e,t,1),e,t,0,144,199,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" <strong>"),i.b(i.v(i.f("name",e,t,0))),i.b("</strong> Age "),i.b(i.v(i.f("age",e,t,0))),i.b(", from "),i.b(i.v(i.f("state",e,t,0))),i.b(" ")}),e.pop()),i.b(" "),i.s(i.f("show_states",e,t,1),e,t,1,0,0,"")||(i.b(" <strong>"),i.b(i.v(i.f("name",e,t,0))),i.b("</strong> Age "),i.b(i.v(i.f("age",e,t,0))),i.b(" ")),i.b(" ")}),e.pop()),s.b(" </span> </li>"),s.fl()},partials:{},subs:{}}),Whiskers("modules.comments",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.s(s.f("data",e,t,1),e,t,0,9,53,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <div class="container"> '),i.b(i.rp("<entity0",e,t,"")),i.b(" </div> ")}),e.pop()),s.fl()},partials:{"<entity0":{name:"entity",partials:{},subs:{}}},subs:{}}),Whiskers("entities.comments",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<div class="bound"> <div class="header module_header"> <h2>Comments <span class="comment_count">(<span class="count">0</span>)</span></h2> </div> <div class="gutter"> <form> <div class="emblem"> <span class="avatar"></span> <span class="change">Change</span> </div> <div class="emblems"> <ul> '),s.s(s.f("emblems",e,t,1),e,t,0,305,376,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <li data-id="'),i.b(i.v(i.f("id",e,t,0))),i.b('"><img src="'),i.b(i.v(i.f("large_image",e,t,0))),i.b('" alt="'),i.b(i.v(i.f("title",e,t,0))),i.b('"></li> ')}),e.pop()),s.b(' </ul> </div> <div class="fields"> <div class="words"> <textarea name="shoutout" maxlength="150" placeholder="What do you have to say?" required></textarea> <span class="remaining"></span> </div> <div class="nas"> <div class="input-group name"> <input type="text" name="name" maxlength="20" required placeholder="Your name"></input> </div> <div class="input-group age"> <input type="text" name="age" maxlength="3" required placeholder="Age"></input> </div> '),s.s(s.f("show_states",e,t,1),e,t,0,861,2615,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <div class="input-group state"> <select name="state" class="empty" required> <option value="" selected>State</option> <option value="AL">AL</option> <option value="AK">AK</option> <option value="AZ">AZ</option> <option value="AR">AR</option> <option value="CA">CA</option> <option value="CO">CO</option> <option value="CT">CT</option> <option value="DE">DE</option> <option value="DC">DC</option> <option value="FL">FL</option> <option value="GA">GA</option> <option value="HI">HI</option> <option value="ID">ID</option> <option value="IL">IL</option> <option value="IN">IN</option> <option value="IA">IA</option> <option value="KS">KS</option> <option value="KY">KY</option> <option value="LA">LA</option> <option value="ME">ME</option> <option value="MD">MD</option> <option value="MA">MA</option> <option value="MI">MI</option> <option value="MN">MN</option> <option value="MS">MS</option> <option value="MO">MO</option> <option value="MT">MT</option> <option value="NE">NE</option> <option value="NV">NV</option> <option value="NH">NH</option> <option value="NJ">NJ</option> <option value="NM">NM</option> <option value="NY">NY</option> <option value="NC">NC</option> <option value="ND">ND</option> <option value="OH">OH</option> <option value="OK">OK</option> <option value="OR">OR</option> <option value="PA">PA</option> <option value="RI">RI</option> <option value="SC">SC</option> <option value="SD">SD</option> <option value="TN">TN</option> <option value="TX">TX</option> <option value="UT">UT</option> <option value="VT">VT</option> <option value="VA">VA</option> <option value="WA">WA</option> <option value="WV">WV</option> <option value="WI">WI</option> <option value="WY">WY</option> <option value="Other">Other</option> </select> </div> ')
}),e.pop()),s.b(" "),s.s(s.f("show_states",e,t,1),e,t,1,0,0,"")||s.b(' <input type="hidden" name="state" value="Other"> '),s.b(' </div> <button type="submit" class="button blue small">Submit</button> <p class="notification"></p> </div> </form> <div class="list"></div> <div class="show_more_container"> <div class="show_more blue button large" role="button" onclick=""> <span class="label">Show More</span> <span class="spinner"></span> </div> </div> </div> </div>'),s.fl()},partials:{},subs:{}}),Whiskers("entities.comments.message",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<li class="message'),s.s(s.f("pending",e,t,1),e,t,0,30,38,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(" pending")}),e.pop()),s.b('"> <div class="arrow"></div> <div class="inner"> <q>'),s.b(s.v(s.f("text",e,t,0))),s.b("</q> "),s.s(s.f("emblem",e,t,1),e,t,0,126,197,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <div class="avatar"><img src="'),i.b(i.v(i.f("large_image",e,t,0))),i.b('" alt="'),i.b(i.v(i.f("title",e,t,0))),i.b('"></div> ')}),e.pop()),s.b(" "),s.s(s.f("emblem",e,t,1),e,t,1,0,0,"")||s.b(' <div class="avatar"></div> '),s.b(" <span> "),s.s(s.f("dname",e,t,1),e,t,0,277,298,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(" "),i.b(i.v(i.f("dname",e,t,0))),i.b("</address> ")}),e.pop()),s.b(" "),s.s(s.f("name",e,t,1),e,t,0,318,479,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("show_states",e,t,1),e,t,0,335,390,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" <strong>"),i.b(i.v(i.f("name",e,t,0))),i.b("</strong> Age "),i.b(i.v(i.f("age",e,t,0))),i.b(", from "),i.b(i.v(i.f("state",e,t,0))),i.b(" ")}),e.pop()),i.b(" "),i.s(i.f("show_states",e,t,1),e,t,1,0,0,"")||(i.b(" <strong>"),i.b(i.v(i.f("name",e,t,0))),i.b("</strong> Age "),i.b(i.v(i.f("age",e,t,0))),i.b(" ")),i.b(" ")}),e.pop()),s.b(" </span> </div> </li>"),s.fl()},partials:{},subs:{}}),function(e,t){"use strict";function i(e){var i=t(e.currentTarget),s=i.val(),n=i.attr(o);n&&s===n&&(i.val(""),i.removeClass("empty"))}function s(e){var i=t(e.currentTarget),s=i.val(),n=i.attr(o);n&&!s&&(i.val(n),i.addClass("empty"))}var n,a="input,textarea",o="placeholder";n=o in e.document.createElement("input")?function(){return this}:function(){return this.on("focusin",a,i),this.on("focusout",a,s),this.find(a).each(function(){s({currentTarget:this})}),this},t.fn.polyfillPlaceholder=n}(this,jQuery),function(e){"use strict";var t=e.Grill,i=e.Disney,s=i.Style.breakpoints,n=s.midHigh.toString(),a=e.Whiskers,o=e.Backbone,r=e.jQuery,l=e._,c=e.Tracker,d=t.ListView.extend({}),u=o.LazyCollection.extend({initialize:function(e,t){this.options=t||{}},setItemEmblem:function(e){var t=this.options.emblems;if(e.emblem&&t){var i=t.get(e.emblem);e.emblem=i?i.toJSON():null}return e},parse:function(e){this.count=e.number_of_messages_stored;var t=this;return l.each(e.msgs,function(e){e.id=e._id,delete e._id,t.setItemEmblem(e)}),e.msgs},remaining:function(){return this.count||0===this.count?this.count-this.length:null}}),p=o.LazyCollection.extend({pages:o.LazyCollection.prototype.pages}),h=o.View.extend({className:"container",breakpoints:n,page:1,posts:0,events:{"click .show_more_container":function(e){e.preventDefault(),this.getNextPage()},"change select":function(){this.updateSelect()},'keyup [name="shoutout"]':function(){this.updateRemaining()},'keypress [name="shoutout"]':function(e){if(0!==e.which&&8!==e.which){var t=r(e.currentTarget),i=t.val()||"",s=t.attr("maxlength");s&&i.length>=s&&e.preventDefault()}},'change [name="shoutout"]':function(){this.updateRemaining()},'keypress input[name="name"]':function(e){if(0!==e.which&&8!==e.which){var t=String.fromCharCode(e.which);/[a-z0-9]/i.test(t)||e.preventDefault()}},'change input[name="name"]':function(e){var t=r(e.currentTarget),i=t.val()||"";t.val(i.replace(/[^a-z0-9]/gi,""))},"click div.emblem":function(){this.toggleEmblemPicker()},"click div.emblems ul li":function(e){var t=r(e.currentTarget),i=t.data("id");if(i){var s=this.model.emblems.get(i);this.setEmblem(s),this.hideEmblemPicker()}},"submit form":function(e){var t=r(e.currentTarget);this.processForm(t),e.preventDefault()}},initialize:function(){l.bindAll(this),this.template=this.options.template||this.template,this.message_template=this.options.message_template||this.message_template,this.animateMessageIntoView=this.options.animateMessageIntoView||this.animateMessageIntoView;var e=this,t=this.model.get("shoutout_id"),i=this.model.get("cws_url"),s=this.model.get("cws_tenant");this.filter_url=i+"/language_filter";var n=this.model.emblems=new p(this.model.get("emblems")),a=this.model.data=new u(null,{min:this.rows(),params:{limit:"length"},emblems:n});a.url=i+"/shoutouts/tenants/"+encodeURIComponent(s)+"/questions/"+encodeURIComponent(t)+"/messages",a.on("loading",this.onDataLoading),this.messages_view=new d({collection:a,template:this.message_template}),this.emblemPickerOpen=!1,this.currentEmblem=n.at(0),a.ensure(this.rows()).then(function(){e.$el.loadLazyImages()})},resize:function(e){if(e<s.midHigh){var t=this,i=this.model.data,n=i.models.slice(0,this.rows());i.reset(n),i.ensure(this.rows()).then(function(){t.$el.loadLazyImages()})}},trackLink:function(e){var t=this.options,i=["shoutout","mod"+t.moduleView.index,"item"+t.index,"button"],s=i.join("/"),n=s+"/"+e.replace(/[^a-z0-9 ]/gi,"").replace(/\s+/g,"-");c.link({linkName:n,linkPosition:s})},getNextPage:function(){var e=this,t=this.model.data;if(t.loading()||0===t.remaining())return!1;var i=++this.page*this.rows();this.trackLink("get more"),this.model.data.ensure(i).then(function(){e.$el.loadLazyImages()})},onScroll:function(e){var t=r(e.currentTarget),i=t.children(),s=t.height(),n=i.height(),a=t.scrollTop(),o=n-s-a;.5*s>o&&this.getNextPage()},onDataLoading:function(e,t){this.loading=t,this.updateShowMore()},onMessageSaveSuccess:function(){this.posts+=1,this.trackLink("submit"),this.posts>=3?this.updateSubmitButton({disabled:!0}):this.updateSubmitButton();var e=this._pendingMessage;this._pendingMessage=void 0,e.set("pending",!0),e.set("show_states",this.model.get("show_states")),this.model.data.unshift(this.model.data.setItemEmblem(e.toJSON())),this.animateMessageIntoView(this.messages_view.$("li:first-child")),this.$el.loadLazyImages(),this.clearForm(),this.model.data.count+=1,this.updateCount()},onMessageSaveError:function(e){"string"!=typeof e&&(e="Saving has failed, sorry!"),this.trackLink("submit-error"),this.showAlert(e),this.updateSubmitButton()},animateMessageIntoView:function(e){e.addClass("show")},toggleEmblemPicker:function(){this.emblemPickerOpen?this.hideEmblemPicker():this.showEmblemPicker()},updateRemaining:function(){var e=this.$(".remaining"),t=this.$('[name="shoutout"]'),i=t.attr("maxlength"),s=t.hasClass("empty")?0:(t.val()||"").length,n=i-s;e.text(n)},setEmblem:function(e){var t=e?e.attributes:{},i=r("<img/>").attr({"data-src":t.large_image}),s=this.$("div.emblem .avatar");s.empty(),t.large_image&&s.append(i),this.currentEmblem=e},updateCount:function(){var e=this.$(".count");e.text(this.model.data.count?this.model.data.count:0)},updateShowMore:function(){var e=this.$(".show_more_container .show_more"),t=this.$(".show_more_container .loading");if(this.loading)e.hide(),t.show();else{var i=this.model.data.remaining();null===i||i>0?e.show():e.hide(),t.hide(),this.updateCount()}},showEmblemPicker:function(){this.emblemPickerOpen||(this.$(".emblems").addClass("active"),this.emblemPickerOpen=!0)},hideEmblemPicker:function(){this.emblemPickerOpen&&(this.$(".emblems").removeClass("active"),this.emblemPickerOpen=!1)},render:function(){this.$el.html(this.template.render(this.model)),this.$el.find(".list").append(this.messages_view.$el),this.updateSelect(),this.setEmblem(this.currentEmblem),this.updateRemaining(),this.bindScroll(),this.updateCount(),this.updateShowMore(),this.$el.polyfillPlaceholder()},bindScroll:function(){this.$(".list").scroll(this.onScroll)},updateSelect:function(){var e=this.$("select");e.val()?e.removeClass("empty"):e.addClass("empty")},rows:function(){return 6},clearForm:function(){var e=this.$("form");e.find('[name="shoutout"]').val(""),e.find('[name="name"]').val(""),e.find('[name="age"]').val(""),e.find('select[name="state"]').val(""),this.updateSelect(),this.addPlaceholders&&this.addPlaceholders(),this.updateRemaining()},processForm:function(e){var t=this,i=e.find('[name="shoutout"]'),s=e.find('[name="name"]'),n=e.find('[name="age"]'),a=e.find('[name="state"]');this.clearPlaceholders&&this.clearPlaceholders();var r=i.val(),l=s.val(),c=n.val(),d=a.val();if(this.addPlaceholders&&this.addPlaceholders(),0===r.length)return this.showAlert("Type your shoutout in the box above"),!1;var u=i.attr("maxlength");if(r.length>u)return this.showAlert("Your message may be no more than "+u+" characters"),!1;if(0===l.length||-1!==l.indexOf(" "))return this.showAlert("Enter your first name (no spaces)"),!1;if(0===c.length||!c.match(/^\d+$/))return this.showAlert("Enter your age (numbers only)"),!1;if(c=parseInt(c,10),1>c||c>123)return this.showAlert("Enter a valid age"),!1;if(!d&&"hidden"!==a.attr("type"))return this.showAlert("Select the state you live in"),!1;var p=new o.Model({text:r,name:l,age:c,state:d,emblem:this.currentEmblem?this.currentEmblem.get("id"):null},{collection:this.model.data});this.updateSubmitButton({saving:!0}),this._pendingMessage=p;var h=r+"|"+l,f=o.sync("read",t.model,{url:this.filter_url+"/validate",data:{message:h}});return f.then(function(e){return e&&e.reject===!1?p.save().then(t.onMessageSaveSuccess,t.onMessageSaveError):t.onMessageSaveError("Thanks!  Select comments may be posted!")},this.onMessageSaveError)},showAlert:function(e){this.$(".notification").removeClass("notice").addClass("alert").stop(!0).hide().text(e).slideDown(500).delay(2500).slideUp(300)},showNotice:function(e){this.$(".notification").removeClass("alert").addClass("notice").stop(!0).hide().text(e).slideDown(500).delay(2500).slideUp(300)},updateSubmitButton:function(e){e=e||{};var t=this.$("button[type=submit]");e.saving?t.attr("disabled",!0).addClass("disabled").text("Saving..."):e.disabled?t.hide():t.attr("disabled",!1).removeClass("disabled").text("Submit")}}),f=t.ModuleView.extend({initialize:function(){this.shoutout_views=[],this.index=this.model.collection.indexOf(this.model),this.model.data.each(function(e,t){this.shoutout_views.push(new h({model:e,index:t,moduleView:this,template:this.entity,message_template:this.message,animateMessageIntoView:this.animateMessageIntoView}))},this)},render:function(){var e={};this.$el.html(this.template.render(e)),l.each(this.shoutout_views,function(e){e.render(),this.$el.append(e.$el)},this)}});f.register("shoutout",{template:a.modules.shoutout,entity:a.entities.shoutout,message:a.entities.shoutout.message,animateMessageIntoView:function(e){e.addClass("show")}}),f.register("comments",{template:a.modules.comments,entity:a.entities.comments,message:a.entities.comments.message,animateMessageIntoView:function(e){e.addClass("show")}})}(this),Whiskers("modules.side_by_side",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.s(s.f("foregroundImage",e,t,1),e,t,0,20,106,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <img class="item fg'),i.s(i.f("fgPos",e,t,1),e,t,0,50,67,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.b(i.v(i.f("fgPos",e,t,0))),i.b(" jsWide")}),e.pop()),i.b('" src="'),i.b(i.v(i.f("foregroundImage",e,t,0))),i.b('"> ')}),e.pop()),s.b(' <div class="bound '),s.b(s.v(s.f("type",e,t,0))),s.b(" "),s.b(s.v(s.f("entity_type",e,t,0))),s.b('"> '),s.s(s.f("data",e,t,1),e,t,0,181,303,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <div class="item"> '),i.s(i.d("schema_json.hide_title",e,t,1),e,t,1,0,0,"")||i.b(i.rp("<module_header0",e,t,"")),i.b(" "),i.b(i.rp("<entity_container1",e,t,"")),i.b(" </div> ")}),e.pop()),s.b(" </div>"),s.fl()},partials:{"<module_header0":{name:"module_header",partials:{},subs:{}},"<entity_container1":{name:"entity_container",partials:{},subs:{}}},subs:{}}),function(e){"use strict";var t=e.Grill,i=e.Disney,s=i.Style.breakpoints,n=s.midHigh.toString(),a=e.Whiskers,o=e.Backbone,r=e._,l=e.devicePixelRatio>1.5,c=t.ModuleView.extend({breakpoints:n,style_classes:["half-view"],required_template_sets:["module_header","entities"],template:a.modules.side_by_side,render:function(){var e=o.Resize.width()>=s.midHigh,t=this.model,i=this.$el,n=t.get("style").layout?t.get("style").layout:"left",a=t.get("style").images.foreground_image,c=null;if(a){var d=l&&a.retina_url?a.retina_url:a.url,u=l&&a.mobile_retina_url?a.mobile_retina_url:a.mobile_url?a.mobile_url:null;c=e?d:u}var p=r.extend({layout:n,foregroundImage:c?c:null,fgPos:e&&a&&a.alignment?a.alignment:null,contentType:function(){return this.get("type").toLowerCase()}},this.model);i.html(this.template.render(p,this.ctx_additions())),i.addClass(n)}});c.register("side_by_side",{}),c.register("halfling",{}),c.register("age_gate",{})}(this),Whiskers("modules.sidekick_shared",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<div class="bound '),s.b(s.v(s.f("type",e,t,0))),s.b(" "),s.b(s.v(s.f("entity_type",e,t,0))),s.b('"> '),s.s(s.f("header_data",e,t,1),e,t,0,61,79,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(i.rp("<module_header0",e,t,""))}),e.pop()),s.b(' <div class="module_body"> <div class="col-container'),s.s(s.f("one_up",e,t,1),e,t,0,158,165,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(" cols-1")}),e.pop()),s.s(s.f("two_up",e,t,1),e,t,0,187,194,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(" cols-2")}),e.pop()),s.b('"> '),s.s(s.f("data",e,t,1),e,t,0,217,228,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(" "),i.b(i.rp("<item1",e,t,"")),i.b(" ")}),e.pop()),s.b(' </div> <div class="ad-container"> '),s.b(s.t(s.f("rectangleAd",e,t,0))),s.b(" "),s.b(s.t(s.f("mobileAd",e,t,0))),s.b(" </div> </div> </div>"),s.fl()},partials:{"<module_header0":{name:"module_header",partials:{},subs:{}},"<item1":{name:"item",partials:{},subs:{}}},subs:{}}),Whiskers("modules.sidekick_video",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<div class="bound '),s.b(s.v(s.f("type",e,t,0))),s.b(" "),s.b(s.v(s.f("entity_type",e,t,0))),s.b('"> '),s.s(s.f("header_data",e,t,1),e,t,0,61,79,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(i.rp("<module_header0",e,t,""))}),e.pop()),s.b(' <div class="module_body"> <div class="col-container"> '),s.s(s.f("data",e,t,1),e,t,0,159,964,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <div class="col item"> <div class="entity-container ratio-16x9"> <div class="video-container trailer-box entity-box"> <div class="aspect"> '),i.s(i.f("expired",e,t,1),e,t,1,0,0,"")||(i.b(' <div id="player_sidekick" class="player video trailer-box"> <noscript> <div class="player_error">'),i.b(i.v(i.d("translations.no_javascript",e,t,0))),i.b("</div> </noscript> </div> ")),i.b(" "),i.s(i.f("expired",e,t,1),e,t,0,490,553,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<div class="orphan"><p>'),i.b(i.v(i.d("translations.video_expired",e,t,0))),i.b("</p></div>")}),e.pop()),i.b(' <div id="card" class="card embed"> <div class="card_header"> <p class="btn_replay">'),i.b(i.v(i.d("translations.replay",e,t,0))),i.b('</p> <p class="btn_watch">'),i.b(i.v(i.d("translations.watch_on",e,t,0))),i.b('</p> </div> <div class="suggested"> <ul> '),i.s(i.f("suggested",e,t,1),e,t,0,778,901,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.b(" <li>"),i.b(i.rp("<entity_container1",e,t,"")),i.b("</li> ")}),e.pop()),i.b(" </ul> </div> </div> </div> </div> </div> </div> ")}),e.pop()),s.b(' </div> <div class="ad-container"> '),s.b(s.t(s.f("rectangleAd",e,t,0))),s.b(" "),s.b(s.t(s.f("mobileAd",e,t,0))),s.b(" </div> </div> </div>"),s.fl()},partials:{"<module_header0":{name:"module_header",partials:{},subs:{}},"<entity_container1":{name:"entity_container",partials:{},subs:{}}},subs:{}}),Whiskers("modules.watch",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<div id="video_watch_container" itemprop="video" itemscope itemtype="http://schema.org/VideoObject" '),s.s(s.f("skinClass",e,t,1),e,t,0,114,149,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b('class="skin-override-'),i.b(i.v(i.f("skinClass",e,t,0))),i.b('"')}),e.pop()),s.b('> <div id="video_wrapper" class="inverted"> '),s.s(s.f("header_data",e,t,1),e,t,0,223,241,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(i.rp("<module_header0",e,t,""))}),e.pop()),s.b(' <div class="bound"> <div class="scaler"></div> <div id="frame"> '),s.s(s.f("data",e,t,1),e,t,0,331,1750,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <!-- Orphan video markup --> <meta itemprop="duration" content="'),i.b(i.v(i.f("duration_iso",e,t,0))),i.b('"> <meta itemprop="thumbnail" content="'),i.b(i.v(i.f("thumb",e,t,0))),i.b('"> <meta itemprop="name" content="'),i.b(i.v(i.f("title",e,t,0))),i.b('"> <meta itemprop="description" content="'),i.b(i.v(i.f("description",e,t,0))),i.b('"> <meta itemprop="URL" content="'),i.b(i.v(i.f("href",e,t,0))),i.b('"> '),i.s(i.f("embedURL",e,t,1),e,t,0,616,667,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <meta itemprop="embedURL" content="'),i.b(i.v(i.f("embedURL",e,t,0))),i.b('"> ')}),e.pop()),i.b(' <div id="player" class="player"> '),i.s(i.f("expired",e,t,1),e,t,1,0,0,"")||(i.b(' <noscript> <div class="player_error">'),i.b(i.v(i.d("translations.no_javascript",e,t,0))),i.b("</div> </noscript> ")),i.b(" "),i.s(i.f("expired",e,t,1),e,t,0,838,903,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="orphan"><p>'),i.b(i.v(i.d("translations.video_expired",e,t,0))),i.b("</p></div> ")}),e.pop()),i.b(" </div> "),i.s(i.f("hasPlaylist",e,t,1),e,t,0,939,1109,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="image-controls-wrap play hide"> <div class="image-controls-bg"> </div> <div class="image-play-control"></div> <div class="image-pause-control"></div> </div> ')}),e.pop()),i.b(' <!-- /Orphan video markup --> <div id="card" class="card watch"> <div class="card_header"> <p class="btn_replay skip-text-styles">'),i.b(i.v(i.d("translations.replay_video",e,t,0))),i.b('</p> <p class="countdown_intro skip-text-styles">'),i.b(i.v(i.d("translations.next_video_start",e,t,0))),i.b(' <span class="countdown">10</span><span class="autoplay">'),i.b(i.v(i.d("translations.autoplay_off",e,t,0))),i.b("</span></p> "),i.s(i.f("upNext",e,t,1),e,t,0,1476,1573,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('"><p class="btn_next skip-text-styles">'),i.b(i.v(i.d("translations.watch_next_video",e,t,0))),i.b("</p></a>")}),e.pop()),i.b(' </div> <div class="suggested"> <ul> '),i.s(i.f("upNext",e,t,1),e,t,0,1632,1669,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<li class="priority"> '),i.b(i.rp("<item1",e,t,"")),i.b(" </li>")}),e.pop()),i.b(" "),i.s(i.f("suggested",e,t,1),e,t,0,1695,1715,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("<li> "),i.b(i.rp("<item2",e,t,"")),i.b(" </li>")}),e.pop()),i.b(" </ul> </div> </div> ")}),e.pop()),s.b(" </div> </div> </div> <!-- End of video_wrapper --> "),s.s(s.f("hasPlaylist",e,t,1),e,t,0,1827,1934,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.s(i.f("playlist_below",e,t,1),e,t,1,0,0,"")||i.b(' <div id="playlist-holder" class="open"></div> <!-- end playlist --> ')}),e.pop()),s.b(' <div class="content-toolbar-container"> <div id="toolbar" class="inverted"> <div id="meta"></div> </div> <!-- End of toolbar --> </div> <!-- End of bound --> '),s.s(s.f("contentToolbarPromoLink",e,t,1),e,t,0,2137,2530,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.s(i.f("message_below",e,t,1),e,t,0,2155,2512,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <a href="'),i.b(i.v(i.f("url",e,t,0))),i.b('" class="watch_icon item" alt="'),i.b(i.v(i.f("title",e,t,0))),i.b('"> <div class="messageLink"> '),i.s(i.f("asset_desktop_image",e,t,1),e,t,0,2265,2350,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="watch-icon"> <img src="'),i.b(i.v(i.f("asset_desktop_image",e,t,0))),i.b('" alt="'),i.b(i.v(i.f("title",e,t,0))),i.b('"> </div> ')}),e.pop()),i.b(' <div class="copy'),i.s(i.f("asset_desktop_image",e,t,1),e,t,1,0,0,"")||i.b(" noImage "),i.b('"> <p aria-hidden="true">'),i.b(i.v(i.f("description",e,t,0))),i.b("</p> </div> </div> </a> ")}),e.pop())}),e.pop()),s.b(" "),s.s(s.f("hasPlaylist",e,t,1),e,t,0,2575,2682,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.s(i.f("playlist_below",e,t,1),e,t,0,2594,2663,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div id="playlist-holder" class="open"></div> <!-- end playlist --> ')}),e.pop())}),e.pop()),s.b(" </div> <!-- End -->"),s.fl()},partials:{"<module_header0":{name:"module_header",partials:{},subs:{}},"<item1":{name:"item",partials:{},subs:{}},"<item2":{name:"item",partials:{},subs:{}}},subs:{}}),function(e){"use strict";var t=e.Grill,i=e.Disney,s=i.Style.breakpoints,n=s.midHigh.toString(),a=e.Modernizr,o=e.Whiskers,r=e._,l=t.ModuleView.extend({style_classes:["sidekick"],required_template_sets:["module_header","entities"],template:o.modules.sidekick_shared,numObjects:1,render:function(){var e,t=this.model.get("type"),i=this.model.get("data");"game"===t&&(i=this.getGameData(this.model)),i[0].game_type&&(e=i[0].game_type.split(" ").join("_").toLowerCase()),this.sidekick_asset_override&&r.each(i,function(e){e.sidekick_desktop&&(e.thumb_data={src:e.sidekick_desktop},e.entity_config.aspect_ratio="16x9")}),this.model.data.models=r.first(i,this.numObjects);var s=r.extend({isPromo:"promo"===this.model.get("type"),gameType:e,one_up:1===this.numObjects,two_up:2===this.numObjects,suggested:this.model.get("suggested")},this.options.ads.helpers(),this.model);this.$el.html(this.template.render(s,this.ctx_additions())).toggleClass("cds",!!this.options.cds&&!this.options.ads.showCDSAds())},resize:function(){this.options.ads.restore()},getGameData:function(e){var t=e.get("data");if(r.each(t,function(e){e.isConsole&&e.thumb_4x3&&(e.thumb_data={src:e.thumb_4x3},e.entity_config.aspect_ratio="4x3")}),!a.flash&&a.canvas){var i=[],s=[];r.each(t,function(e){e.compatibility_flags&&(r.contains(e.compatibility_flags,"html5")||r.contains(e.compatibility_flags,"mobile"))?i.push(e):s.push(e)}),t=i.concat(s)}return t}});l.register("sidekick_one_up",{style_classes:["sidekick","list_module_featured"]}),l.register("sidekick_two_up",{numObjects:2}),l.register("sidekick_featured",{sidekick_asset_override:!0}),l.register("sidekick_video",{assets:{scripts:["//a.dilcdn.com/a/videoplayer-be62928c4acf.js"]},template:o.modules.sidekick_video,breakpoints:n,ready:function(){var e=r.first(this.model.get("data")),t=this.model.get("autoplay")?!0:!1;this.player=new i.MatterhornVideoPlayer("player_sidekick",{video:e,autoPlay:t,clickToPlay:!0,showTitle:!0,ads:{enabled:!this.options.cds&&!this.options.noAds,context:this.options.ads},translations:this.model.get("translations")})},remove:function(){this.player&&(this.player.destroy(),this.player=null),t.BunView.prototype.remove.call(this)}})}(this),Whiskers("modules.slider",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<div class="bound '),s.b(s.v(s.f("type",e,t,0))),s.b(" "),s.b(s.v(s.f("entity_type",e,t,0))),s.b('"> '),s.s(s.d("style.overlay_styles",e,t,1),e,t,0,70,104,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b('<div class="module_overlay"></div>')}),e.pop()),s.b(" "),s.s(s.f("header_data",e,t,1),e,t,0,146,164,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(i.rp("<module_header0",e,t,""))}),e.pop()),s.b(" "),s.b(' <div class="slides peek-'),s.b(s.v(s.f("rpp",e,t,0))),s.b(" "),s.s(s.f("peeking",e,t,1),e,t,1,0,0,"")||s.b("no-peek"),s.b('"> <ol class="slider-list peek-'),s.b(s.v(s.f("rpp",e,t,0))),s.b('"> '),s.s(s.f("pages",e,t,1),e,t,0,314,562,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <li class="slider-page"> <ul class="col-container cols-'),i.b(i.v(i.f("cols",e,t,0))),i.b(" rows-"),i.b(i.v(i.f("rows",e,t,0))),i.b('"> '),i.s(i.f("models",e,t,1),e,t,0,406,538,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <li class="col item'),i.s(i.f("widthClass",e,t,1),e,t,0,441,456,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.b(i.v(i.f("widthClass",e,t,0)))}),e.pop()),i.s(i.f("hidden",e,t,1),e,t,0,482,496,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" lazy-deferred")}),e.pop()),i.b('"> '),i.b(i.rp("<entity_container1",e,t,"")),i.b(" </li> ")}),e.pop()),i.b(" </ul> </li> ")}),e.pop()),s.b(' </ol> <div class="peek"></div> '),s.b(" </div> </div>"),s.fl()},partials:{"<module_header0":{name:"module_header",partials:{},subs:{}},"<entity_container1":{name:"entity_container",partials:{},subs:{}}},subs:{}}),function(e){"use strict";var t=e.Grill,i=e.Disney,s=e.Backbone,n=e.Whiskers,a=e.jQuery,o=e._,r=i.Style.breakpoints,l=i.Style.custom_breakpoints,c=o.values(r),d=s.Resize.width,u=t.ModuleView.extend({style_classes:["slider-view","pagination-styles"],required_template_sets:["module_header","entities"],breakpoints:c.join(" "),template:n.modules.slider,events:{slide:function(e,t){e.preventDefault();var i=this;this.$(".slides").toggleClass("peeking",t!==i.model.data.lastIndex(this.rpp()));var s=this.rpp()*(t+1),n=this.cols(),r=s+n,l=o.first(this.model.data.models,r);if(this.$pages&&t>0){var c=a(this.$pages[t]).find(".item"),d=a(this.$pages[t+1]).find(".item").slice(0,this.rows()),u=c.add(d);u.enableLazyLoad().loadLazyImages()}o.each(l,function(e){var t=e.get("thumb_data");e.set({hidden:!1,preloaded:!0,preloaded_src:t&&t.src})})}},initialize:function(){var e=this.model,t=new s.LazySliderCollection(e.data.models);this.model.data=t,o.extend(this,{entity_type:o.first(t.models).get("entity_type")||e.get("type"),lastPage:0,startingCount:this.index=t.startingIndex,slideTime:500,init:!1}),this.configureData&&this.configureData()},rightPeek:function(){return.25/Math.sqrt(this.rpp()/.3)},wide:function(){return d()>=r.midHigh},render:function(){var e=this,t=e.model,i=e.cols(),s=e.rows(),n=t.data,a=e.rpp(),r=n.peeking?n.peeking(a):!1;if(this.formatFeatured&&this.formatFeatured(),n){var l=o.extend({rpp:a,cols:i,rows:s,peeking:r,entity_type:e.entity_type,seeAll:t.get("seeAll"),pages:n.page(this.index,a,s,i)},e.options.ads.helpers(),this.model);e.length=l.pages.length,e.$el.html(e.template.render(l,this.ctx_additions()))}},ready:function(){this.init=!0,this.$(".slides ol").swipeasaurus({arrows:!0,loop:!1,right:this.rightPeek(),index:this.index,speed:this.slideTime,rtl:i.rtl}),this.init=!1,this.$pages=this.$(".slides ol > li")},resize:function(){this.render(),this.ready()},rows:function(){var e=this.model.get("schema_json")||{};return e.num_rows||1},rpp:function(){return this.cols()*this.rows()},cols:function(){var e=d(),t=this.wide(),i=o.first(this.model.get("data")),s=i.entity_config&&i.entity_config.aspect_ratio;if(this.model.get("style").items_per_row_override&&t)return this.model.get("style").items_per_row_override;switch(s){case"poster":case"dvd_case":case"letter":return t?4:e>=r.midLow?3:2;case"baseball_card":return e>=r.max?5:t?4:e>=r.midLow?3:2;case"square":return e>=r.max?4:t?3:2;case"16x9":case"4x3":return t?3:e>=r.midLow?2:1;case"widescreen":return e>=r.midHigh?2:1;default:return t?3:2}}});u.register("slider",{additional_components:{module_bg_style:n.partials.module_background_styles}}),u.register("grid",{peeking:function(){return!1},rows:function(){return 2}}),u.register("characters",{cols:function(){var e=d(),t=this.wide();return e>=r.max?5:t?4:e>=r.midLow?3:2}}),u.register("slider_rfy",{cols:function(){var e=this.wide();return this.model.get("style").items_per_row_override&&e?this.model.get("style").items_per_row_override:e?3:2},initialize:function(){o.extend(this,{entityType:"video",index:0,lastPage:0,startingCount:this.loadedPages=1,slideTime:500,init:!1}),this.$el.addClass("temp-hidden"),this.fetchData()},fetchData:function(){var e=this,t=i.Recommender,n=this.model,a=n.get("data")[0];t.getRecommendations(a).done(function(t){var i=new s.Collection(t);n.data=new s.LazySliderCollection(i.models),e.render(),e.ready(),e.$el.removeClass("temp-hidden").loadLazyImages()})}}),u.register("featured_promo_slider",{numFeatured:1,configureData:function(){var t=this.model,i=t.data,n=this.numFeatured,a=this.placeholders=[],r=e.state;if(e.state){o.each(i.models,function(e){var t=e.get("location"),i=t&&t.toLowerCase();e.set("inState",i===r)});var l=i.where({inState:!0});i.remove(l),i.add(l,{at:0})}o.each(i.models,function(e,t){if(n>t){var i=new s.Model;i.set("widthClass","empty_placeholder"),a.push(i),e.set("widthClass","featured"),e.set("featured",!0)}})},formatFeatured:function(){var e=this.model,t=e.data,i=this.placeholders,s=this.wide();o.each(t.models,function(e){e.get("featured")&&s?e.set("thumb_data",{src:e.get("promo_featured")}):e.set("thumb_data",{src:e.get("promo")})}),s?t.add(i,{at:1}):t.remove(i)},cols:function(){return this.wide()?4:2}}),u.register("junior_nav_slider",{breakpoints:[r.max,r.midHigh,l.juniorNavMin].join(" "),cols:function(){var e=d();return e>=r.max?6:e>=r.midHigh?5:e>=l.juniorNavMin?4:3},rightPeek:function(){return.25/Math.sqrt(this.rpp()/.2)}})}(this),function(e){"use strict";var t,i,s,n,a,o,r,l,c=e.document,d=e.Grill,u=300,p=!1,h=[];d.ModuleView.register("snow",{ready:function(){if(e.requestAnimationFrame&&!(c.documentElement.clientWidth<1025)){for(t=this,s=c.querySelector("#takeover-area"),n=c.createElement("canvas"),n.id="snow",a=n.getContext("2d"),o=s.clientWidth,r=s.clientHeight,n.style.position="absolute",n.style.left=n.style.top="0",s.appendChild(n),i=0;u>i;i++)l=new f,l.reset(),h.push(l);e.addEventListener("resize",t.resize),t.resize()}},resize:function(){o=s.clientWidth,r=s.clientHeight,n.width=o,n.height=r,a.fillStyle="#fff";var i=p;p=o>1024,!i&&p&&e.requestAnimationFrame(t.update)},update:function(){if(a.clearRect(0,0,o,r),p){for(i=0;u>i;i++)l=h[i],l.y+=l.vy,l.x+=l.vx,a.globalAlpha=l.o,a.beginPath(),a.arc(l.x,l.y,l.r,0,2*Math.PI,!1),a.closePath(),a.fill(),l.y>r&&l.reset();e.requestAnimationFrame(t.update)}}});var f=function(){this.x=0,this.y=0,this.vy=0,this.vx=0,this.r=0,this.reset()};f.prototype.reset=function(){this.x=Math.random()*o,this.y=Math.random()*-r,this.vy=1+3*Math.random(),this.vx=.5-Math.random(),this.r=1+2*Math.random(),this.o=.5+.5*Math.random()},c.addEventListener("DOMContentLoaded",function(){e.Disney.top.on("begin",function(){c.querySelector("#snow")&&s.removeChild(n)})})}(this),Whiskers("modules.songs.songs_desktop",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<div class="bound"> '),s.s(s.f("header_data",e,t,1),e,t,0,36,54,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(i.rp("<module_header0",e,t,""))}),e.pop()),s.b(' <div class = "container"> <div class = "label-container"> <p>Request</p> <div class="right"> <p>Video</p> <p>Purchase</p> </div> </div> <div class = "track-container"> <ul> '),s.s(s.f("data",e,t,1),e,t,0,253,1093,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <li class="song"> <a class = "like-icon clicon" data-likeinfo="request-'),i.b(i.v(i.f("title",e,t,0))),i.b("-"),i.b(i.v(i.f("artist",e,t,0))),i.b('"></a> <span class = "number"></span> <div class = "track-title"> <div class="song-title">'),i.b(i.v(i.f("title",e,t,0))),i.b('</div> <div class = "artist">'),i.b(i.v(i.f("artist",e,t,0))),i.b('</div> </div> <div class ="icon-container" data-buyaylitics = "'),i.b(i.v(i.f("title",e,t,0))),i.b("-"),i.b(i.v(i.f("artist",e,t,0))),i.b('"> <a class = "music-video '),i.s(i.f("watch_link",e,t,1),e,t,0,608,627,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("active hover clicon")}),e.pop()),i.b('" '),i.s(i.f("watch_link",e,t,1),e,t,0,659,682,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' href="'),i.b(i.v(i.f("watch_link",e,t,0))),i.b('" ')}),e.pop()),i.b('></a> <div class = "cart '),i.s(i.f("retail",e,t,1),e,t,0,733,752,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("active hover clicon")}),e.pop()),i.b('" '),i.s(i.f("retail",e,t,1),e,t,0,776,799,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('data-convert="buy_song"')}),e.pop()),i.b('> <div class="buy '),i.s(i.f("retail",e,t,1),e,t,1,0,0,"")||i.b("no_flyout"),i.b('"> <ul> '),i.s(i.f("retail",e,t,1),e,t,0,878,1048,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("retail_links",e,t,1),e,t,0,896,1030,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <li class = "fly-li"><a href="'),i.b(i.v(i.f("content_url",e,t,0))),i.b('" target="_blank" data-purchase="external" data-retailer="'),i.b(i.v(i.f("title",e,t,0))),i.b('">'),i.b(i.v(i.f("title",e,t,0))),i.b("</a></li> ")}),e.pop()),i.b(" ")}),e.pop()),i.b(" </ul> </div> </div> </div> </li> ")}),e.pop()),s.b(" </ul> </div> </div> </div>"),s.fl()},partials:{"<module_header0":{name:"module_header",partials:{},subs:{}}},subs:{}}),Whiskers("modules.songs.songs_mobile",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<div class="bound"> '),s.s(s.f("header_data",e,t,1),e,t,0,36,54,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(i.rp("<module_header0",e,t,""))}),e.pop()),s.b(' <div class="container"> <div class="track-container"> <ul> '),s.s(s.f("data",e,t,1),e,t,0,139,1065,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <li class="song"> <span class = "number"></span> <div class = "track-title"> <div class="song-title">'),i.b(i.v(i.f("title",e,t,0))),i.b('</div> <div class = "artist">'),i.b(i.v(i.f("artist",e,t,0))),i.b('</div> </div> <div class = "expand-icon clicon" data-expand="'),i.b(i.v(i.f("song",e,t,0))),i.b('"></div> <div class = "icon-container" data-buyaylitics = "'),i.b(i.v(i.f("title",e,t,0))),i.b("-"),i.b(i.v(i.f("artist",e,t,0))),i.b('"> <div class="inner"> <a class = "like-icon clicon" data-like="'),i.b(i.v(i.f("song",e,t,0))),i.b('" data-likeinfo="request-'),i.b(i.v(i.f("title",e,t,0))),i.b("-"),i.b(i.v(i.f("artist",e,t,0))),i.b('"></a> '),i.s(i.f("watch_link",e,t,1),e,t,0,576,679,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <a class = "music-video active hover clicon" href = "'),i.b(i.v(i.f("watch_link",e,t,0))),i.b('" data-linkname="music-video"></a> ')
}),e.pop()),i.b(" "),i.s(i.f("retail",e,t,1),e,t,0,706,984,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class = "cart active hover clicon" data-convert="buy_song"> <div class="buy"> <ul> '),i.s(i.f("retail_links",e,t,1),e,t,0,812,946,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <li class = "fly-li"><a href="'),i.b(i.v(i.f("content_url",e,t,0))),i.b('" target="_blank" data-purchase="external" data-retailer="'),i.b(i.v(i.f("title",e,t,0))),i.b('">'),i.b(i.v(i.f("title",e,t,0))),i.b("</a></li> ")}),e.pop()),i.b(" </ul> </div> </div> ")}),e.pop()),i.b(' <div class="close" data-close ="'),i.b(i.v(i.f("song",e,t,0))),i.b('"></div> </div> </div> </li> ')}),e.pop()),s.b(" </ul> </div> </div> </div>"),s.fl()},partials:{"<module_header0":{name:"module_header",partials:{},subs:{}}},subs:{}}),function(e){"use strict";function t(t){o.mq("only all")&&(t.template=r(e.window).width()>=n.midHigh?c.songs_desktop:c.songs_mobile)}var i=e.Grill,s=e.Disney,n=s.Style.breakpoints,a=n.midHigh.toString(),o=e.Modernizr,r=e.jQuery,l=e._,c=e.Whiskers.modules.songs,d=0,u=i.ModuleView.extend({breakpoints:a,template:c.songs_desktop,required_template_sets:["module_header"],initialize:function(){d=r(e.window).width(),t(this)},render:function(){var e=0,t=l.extend({},this.model);this.$el.html(this.template.render(t,this.ctx_additions()));var i=this.$("span.number"),s=this.$("li.song");i.each(function(t,i){e++;var s=r(i);s.append(e)}),s.each(function(t,i){e++;var s=e%2,n=r(i);n.addClass(1===s?"odd":"even")})},events:{"click .like-icon":function(e){r(e.currentTarget).addClass("clicked")},"click .clicked":function(e){r(e.currentTarget).removeClass("clicked")},"click .cart":function(e){var t=r(e.target),i=t.children(".buy");t.context.className.match(/cart active hover/)&&t.addClass("clicon"),i.hasClass("active")?i.removeClass("active"):(this.$(".buy").removeClass("active"),i.addClass("active"))},"click .fly-li":function(e){r(e.currentTarget).closest("div.cart").removeClass("clicon")},"click .expand-icon":function(e){var t=r(e.currentTarget.nextElementSibling);this.$(".buy").removeClass("active"),this.$(".icon-container.open").removeClass("open"),t.toggleClass("open")},"click .close":function(){this.$(".buy").removeClass("active"),this.$(".icon-container.open").removeClass("open")}},resize:function(){t(this),this.render()}});u.register("songs",{})}(this),Whiskers("modules.storybook",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.s(s.f("story",e,t,1),e,t,0,10,2707,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <div id="story-container" class="reading '),i.s(i.f("noCover",e,t,1),e,t,1,0,0,"")||i.b(" start-page"),i.s(i.f("noAudio",e,t,1),e,t,0,99,108,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" no-audio")}),e.pop()),i.b('"> <div class="artwork carousel"> <ul id="storybook-artwork"> '),i.s(i.f("panels",e,t,1),e,t,0,193,912,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("image",e,t,1),e,t,0,204,901,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" <li> "),i.s(i.f("bg",e,t,1),e,t,0,217,363,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("noscript",e,t,1),e,t,1,0,0,"")||(i.b('<img data-src="'),i.b(i.v(i.f("bg",e,t,0))),i.b('" class="bg no-src">')),i.b(" "),i.s(i.f("noscript",e,t,1),e,t,0,299,349,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<noscript><img src="'),i.b(i.v(i.f("bg",e,t,0))),i.b('" class="bg"></noscript>')}),e.pop()),i.b(" ")}),e.pop()),i.b(" "),i.s(i.f("mid",e,t,1),e,t,0,379,527,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("noscript",e,t,1),e,t,1,0,0,"")||(i.b('<img data-src="'),i.b(i.v(i.f("mid",e,t,0))),i.b('" class="bg no-src">')),i.b(" "),i.s(i.f("noscript",e,t,1),e,t,0,462,513,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<noscript><img src="'),i.b(i.v(i.f("mid",e,t,0))),i.b('" class="bg"></noscript>')}),e.pop()),i.b(" ")}),e.pop()),i.b(" "),i.s(i.f("fg",e,t,1),e,t,0,543,689,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("noscript",e,t,1),e,t,1,0,0,"")||(i.b('<img data-src="'),i.b(i.v(i.f("fg",e,t,0))),i.b('" class="bg no-src">')),i.b(" "),i.s(i.f("noscript",e,t,1),e,t,0,625,675,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<noscript><img src="'),i.b(i.v(i.f("fg",e,t,0))),i.b('" class="bg"></noscript>')}),e.pop()),i.b(" ")}),e.pop()),i.b(" "),i.s(i.f("ambient_sound",e,t,1),e,t,0,715,876,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <audio id="ambient-loop" preload loop> '),i.s(i.f("mp3",e,t,1),e,t,0,763,802,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<source src="'),i.b(i.v(i.f("mp3",e,t,0))),i.b('" type="audio/mp3">')}),e.pop()),i.b(" "),i.s(i.f("ogg",e,t,1),e,t,0,819,858,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<source src="'),i.b(i.v(i.f("ogg",e,t,0))),i.b('" type="audio/ogg">')}),e.pop()),i.b(" </audio> ")}),e.pop()),i.b(" </li> ")}),e.pop()),i.b(" ")}),e.pop()),i.b(' </ul> <div class="fade"></div> </div> <div class="narrative carousel"> <ul id="storybook-narrative"> '),i.s(i.f("text",e,t,1),e,t,0,1034,2089,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" <li> "),i.s(i.f("startPage",e,t,1),e,t,1,0,0,"")||i.s(i.f("buyButton",e,t,1),e,t,1,0,0,"")||(i.b("<p>"),i.b(i.v(i.f("text",e,t,0))),i.b("</p>")),i.b(" "),i.s(i.f("startPage",e,t,1),e,t,0,1126,1429,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="start-buttons"> <div id="read" class="large blue button start-button">'),i.b(i.v(i.d("translations.read",e,t,0))),i.b('</div> <div id="listen" class="large green button start-button">'),i.b(i.v(i.d("translations.listen",e,t,0))),i.b('</div> <div id="read-without-audio" class="large green button start-button">'),i.b(i.v(i.d("translations.begin",e,t,0))),i.b("</div> </div> ")}),e.pop()),i.b(" "),i.s(i.f("buyButton",e,t,1),e,t,0,1458,2068,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="end '),i.s(i.f("identity",e,t,1),e,t,1,0,0,"")||i.b("no-association"),i.b('"> <div class="end-block left"> <span class="replay small silver button">'),i.b(i.v(i.d("translations.read_again",e,t,0))),i.b('</span> <a href="'),i.b(i.v(i.f("url",e,t,0))),i.b('"><span class="purchase small green button">'),i.b(i.v(i.f("text",e,t,0))),i.b("</span></a> </div> "),i.s(i.f("identity",e,t,1),e,t,0,1723,2047,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="end-block right"> <a href="'),i.b(i.v(i.f("url",e,t,0))),i.b('"> <span class="visit"> '),i.s(i.f("image",e,t,1),e,t,0,1804,1970,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("noscript",e,t,1),e,t,1,0,0,"")||(i.b('<img class="portrait no-src" data-src="'),i.b(i.v(i.f("retina",e,t,0))),i.b('">')),i.b(" "),i.s(i.f("noscript",e,t,1),e,t,0,1896,1956,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<noscript><img class="portrait" src="'),i.b(i.v(i.f("retina",e,t,0))),i.b('"></noscript>')}),e.pop()),i.b(" ")}),e.pop()),i.b(" <span>"),i.b(i.v(i.d("translations.visit",e,t,0))),i.b(" "),i.b(i.v(i.f("title",e,t,0))),i.b("</span> </span> </a> </div> ")}),e.pop()),i.b(" </div> ")}),e.pop()),i.b(" </li> ")}),e.pop()),i.b(" </ul> </div> "),i.s(i.f("audio",e,t,1),e,t,0,2122,2480,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("narration",e,t,1),e,t,0,2137,2287,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<audio id="narrative-sprite"> '),i.s(i.f("mp3",e,t,1),e,t,0,2175,2214,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<source src="'),i.b(i.v(i.f("mp3",e,t,0))),i.b('" type="audio/mp3">')}),e.pop()),i.b(" "),i.s(i.f("ogg",e,t,1),e,t,0,2231,2270,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<source src="'),i.b(i.v(i.f("ogg",e,t,0))),i.b('" type="audio/ogg">')}),e.pop()),i.b(" </audio>")}),e.pop()),i.b(" "),i.s(i.f("music",e,t,1),e,t,0,2312,2469,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<audio id="music-loop" preload loop> '),i.s(i.f("mp3",e,t,1),e,t,0,2357,2396,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<source src="'),i.b(i.v(i.f("mp3",e,t,0))),i.b('" type="audio/mp3">')}),e.pop()),i.b(" "),i.s(i.f("ogg",e,t,1),e,t,0,2413,2452,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<source src="'),i.b(i.v(i.f("ogg",e,t,0))),i.b('" type="audio/ogg">')}),e.pop()),i.b(" </audio>")}),e.pop()),i.b(" ")}),e.pop()),i.b(' <div id="storybook-counter"> <div class="page-count"><span class="current-count"></span> '),i.b(i.v(i.d("translations.of",e,t,0))),i.b(' <span class="total-count"></span></div> </div> '),i.s(i.f("noAudio",e,t,1),e,t,1,0,0,"")||i.b('<div id="mute-button"></div>'),i.b(" </div> ")}),e.pop()),s.fl()},partials:{},subs:{}}),function(e){"use strict";var t=e.Grill,i=e.Whiskers,s=e.Disney,n=e.Modernizr,a=e.Tracker,o=e.jQuery,r=e._,l=s.Style.breakpoints,c=r.values(l);t.ModuleView.register("storybook",{breakpoints:c.join(" "),style_classes:["skip-top-border"],template:i.modules.storybook,story:{},textData:[],book:void 0,audInProgress:!1,narrationAudio:void 0,musicAudio:void 0,ambientAudio:void 0,currTextIndex:0,end:0,muted:!0,keyEvents:!1,fadeInIntervals:{ambient:[],music:[],narration:[]},fadeOutIntervals:{ambient:[],music:[],narration:[]},narrativeTimeouts:[],pulseInterval:void 0,timeCheckInterval:void 0,startTimeout:void 0,replayTimeout:void 0,touchDevice:n.touch,blinkArrow:function(t){var i=this;t?(o(".next").addClass("turn-page"),i.pulseInterval=e.setInterval(function(){o(".next").toggleClass("pulse")},1e3)):(e.clearInterval(i.pulseInterval),i.pulseInterval=null,o(".next").removeClass("turn-page pulse"))},stopAndReset:function(e,t){var i=this;e&&(t&&!i.touchDevice?i.fadeOut(["narration"],200):(e.pause(),i.audInProgress=!1)),o(".next, .prev").removeClass("playing")},fadeIn:function(t,i){var s=this;o.each(t,function(t,n){var a=s[n+"Audio"];if(a){a.volume=0,a.play();var o=s.currTextIndex;s.fadeInIntervals[n][o]=e.setInterval(function(){a&&a.volume<1-20/i?a.volume+=20/i:(a&&(a.volume=1),e.clearInterval(s.fadeInIntervals[n][o]),s.fadeInIntervals[n][o]=null)},20)}})},fadeOut:function(t,i){var s=this;o.each(t,function(t,n){var a=s[n+"Audio"];if(a){var o=s.currTextIndex;s.fadeOutIntervals[n][o]=e.setInterval(function(){a&&a.volume>20/i?a.volume-=20/i:(a&&(a.volume=0,a.pause(),s.audInProgress=!1),e.clearInterval(s.fadeOutIntervals[n][o]),s.fadeOutIntervals[n][o]=null)},20)}})},playNarrative:function(t){var i=this,s=i.$("#storybook-narrative");i.textData[t].audio&&(i.narrationAudio.currentTime=i.textData[t].audio.startTime,i.end=i.textData[t].audio.endTime,i.narrationAudio.volume=1,i.narrationAudio.play(),o(".next, .prev").addClass("playing"),i.audInProgress=!0,i.timeCheckInterval=e.setInterval(function(){i.audInProgress&&i.narrationAudio.currentTime>i.end&&t+1<i.textData.length&&(i.stopAndReset(i.narrationAudio,!0),e.clearInterval(i.timeCheckInterval),i.timeCheckInterval=null,0===i.currTextIndex?(e.setTimeout(function(){s.swipeasaurus("next")},1500),i.blinkArrow(!1)):i.blinkArrow(!0))},10))},setBlankPage:function(e,t){var i=this;e?(o("#story-container").addClass("start-page reading"),o(".start-buttons").fadeIn("fast"),i.keyEvents=!1,o("#storybook-counter",i.$el).css("opacity","0"),t||(o("#story-container").removeClass("started listening"),o("#mute-button").removeClass("muted").attr("style",""),i.musicAudio&&1===i.currTextIndex&&i.fadeOut(["music"],1e3),i.narrationAudio&&1===i.currTextIndex&&i.fadeOut(["narration"],500))):(o("#story-container").removeClass("start-page").addClass("started"),i.keyEvents=!0,o("#storybook-counter",i.$el).css("opacity","1"))},muteButtonPress:function(t){var i=this;t?(i.audInProgress=!1,i.stopAndReset(i.narrationAudio,!0),i.musicAudio&&i.fadeOut(["music","ambient"],800),o("#mute-button").addClass("muted"),i.timeCheckInterval&&e.clearInterval(i.timeCheckInterval),i.muted=!0):(i.playNarrative(i.currTextIndex),i.musicAudio&&i.fadeIn(["music","ambient"],400),o("#mute-button").removeClass("muted"),i.muted=!1)},render:function(){var e=this,t=e.model,i=r.first(t.get("data")),s=e.story,n=e.textData,a=this.model.get("translations"),l={read:"Read",listen:"Listen",begin:"Let's Begin!",visit:"Visit",read_again:"Read Again"};r.defaults(a,l),s=i,e.book=s.title,n.length=0,s.location=s.endcard.image.bg.split("/")[2]||"http://cdnvideo.dolimg.com",o.each(s.panels,function(t,i){i.text_blocks&&o.each(i.text_blocks,function(e,i){n.push({page:t+1,text:i.text,audio:i.audio})}),i.image&&(o.each(["bg","mid","fg"],function(e,t){i.image[t]&&(i.image[t]="http://"+s.location+i.image[t])}),o.each(["mp3","ogg"],function(e,t){i.image.ambient_sound&&i.image.ambient_sound[t]&&(i.image.ambient_sound[t]="http://"+s.location+i.image.ambient_sound[t])}),e.touchDevice&&(i.image.ambient_sound=null))}),s.cover&&(s.panels.splice(0,0,s.cover),n.splice(0,0,{text:" ",page:0,audio:s.cover.text_blocks[0].audio,startPage:!0})),s.endcard&&(s.panels.push(s.endcard),n.push({text:null,page:s.panels.length,audio:s.endcard.text_blocks[0].audio,buyButton:s.endcard.buyButton})),o.each(n,function(e,t){t.audio&&o.each(["startTime","endTime"],function(e,i){t.audio[i]&&t.audio[i].split(":").length>1?t.audio[i]=(60*parseFloat(t.audio[i].split(":")[0],10)+parseFloat(t.audio[i].split(":")[1],10)).toFixed(1):t.audio[i]&&(t.audio[i]=parseFloat(t.audio[i]))})}),s.text=n,e.touchDevice&&s.audio&&(s.audio.music=null),e.story=s;var c=r.extend(e.options.ads.helpers(),e.model,{story:s,noCover:s.cover?!1:!0,noAudio:null===s.audio,translations:a});e.$el.html(this.template.render(c),{}),e.$("#storybook-artwork").swipeasaurus(),e.$("#storybook-narrative").swipeasaurus({arrows:!0,loop:!1})},ready:function(){var t=this;t.narrationAudio=o("#narrative-sprite")[0],t.musicAudio=o("#music-loop")[0];var i=t.story,n=t.$("#storybook-artwork"),r=t.$("#storybook-narrative"),l=t.$("#story-container"),c=t.$("#storybook-counter .current-count"),d=t.$("#storybook-counter .total-count"),u=i.cover?n.children("li").length-1:n.children("li").length,p=t.textData;o("html").hasClass("no-media-query")&&l.addClass("no-audio"),i.cover?o("#storybook-counter").css("opacity",0):t.keyEvents=!0,c.text("1"),d.text(u),o(t.narrationAudio).on("ended",function(){o(".end").css("opacity",1),o("#mute-button").css("opacity",0),t.replayTimeout=e.setTimeout(function(){t.musicAudio&&t.fadeOut(["music"],2e3),t.ambientAudio&&t.fadeIn(["ambient"],2e3)},5e3),t.blinkArrow(!1),t.keyEvents=!1,t.stopAndReset(t.narrationAudio),t.audInProgress=!1}),n.on("slide",function(e,s){i.cover?0===s&&1===t.currTextIndex||s===u?t.setBlankPage(!0,s===u):1===s&&0===t.currTextIndex?(t.setBlankPage(!1,!1),c.text(s)):c.text(s):s===u-1?t.setBlankPage(!0,!0):c.text(s);var r=o(n.find("li")[s]).find("audio");r.length>0?(t.ambientAudio=r[0],t.muted||(t.ambientAudio.load(),o(t.ambientAudio).on("canplay",function(){t.fadeIn(["ambient"],2e3),o(t.ambientAudio).off("canplay")}))):t.ambientAudio=null,a.track({breadcrumbs:t.book,pageName:"dcom|pri|"+t.book+"|"+(s+1)})}),r.on("slide",function(s,a){var o;0!==a&&(e.clearTimeout(t.startTimeout),t.stopAndReset(t.narrationAudio,!0)),e.clearTimeout(t.narrativeTimeouts[t.currTextIndex]),t.narrativeTimeouts[t.currTextIndex]=null,t.timeCheckInterval&&e.clearInterval(t.timeCheckInterval),t.blinkArrow(!1),p[t.currTextIndex].page!==p[a].page?(t.ambientAudio&&t.fadeOut(["ambient"],500),n.swipeasaurus("slide",i.cover?p[a].page:p[a].page-1),o=t.ambientAudio?3e3:900):o=400,!t.muted&&p[a].audio&&l.hasClass("started")&&!l.hasClass("replay")&&(t.narrativeTimeouts[a]=e.setTimeout(function(){t.playNarrative(a)},o)),t.currTextIndex=a}),o("#mute-button").on("click",function(){t.muteButtonPress(o(this).hasClass("muted")?!1:!0)});var h=i.identity,f=t.model.collection.style,v=f&&f.takeover&&f.takeover.image||h&&h.takeover;s.Style.applyTakeoverStyles(v),o("#storybook-narrative .replay").click(function(){o(".end").attr("style",""),t.musicAudio&&t.fadeOut(["music"],2e3),t.ambientAudio&&t.fadeOut(["ambient"],2e3),i.cover?t.setBlankPage(!0,!1):t.setBlankPage(!1,!1),l.addClass("replay"),r.swipeasaurus("slide",0),a.link({linkName:"storybook",linkPosition:"storybook/button/replay"}),o("#mute-button").removeClass("muted")}),o(e.document).keydown(function(e){if(t.keyEvents){if(37===e.keyCode)return r.swipeasaurus("prev",0),!1;if(39===e.keyCode)return r.swipeasaurus("next",0),!1}}),t.resize(),o(".start-button").on("click",function(){t.currTextIndex=0,t.startTimeout=e.setTimeout(function(){o(".start-buttons").hide()},1500),e.clearInterval(t.fadeOutIntervals.music[p.length-1]),e.clearTimeout(t.replayTimeout),"listen"===o(this).attr("id")?(t.muted=!1,t.audInProgress=!1,l.removeClass("reading replay").addClass("listening started"),t.narrationAudio.readyState<3&&t.narrationAudio.load(),t.musicAudio?t.musicAudio.readyState>=3?(t.musicAudio.currentTime=0,t.fadeIn(["music"],300),e.setTimeout(function(){r.trigger("slide",0)},1500)):(t.musicAudio.load(),o(t.musicAudio).on("canplay",function(){t.fadeIn(["music"],300),o(t.musicAudio).off("canplay"),t.narrationAudio.readyState>=3?e.setTimeout(function(){r.trigger("slide",0)},1500):o(t.narrationAudio).on("canplay",function(){t.narrationAudio.volume=1,r.trigger("slide",0)})})):t.narrationAudio.readyState>2?r.trigger("slide",0):o(t.narrationAudio).on("canplay",function(){r.trigger("slide",0)}),a.link({linkName:"storybook",linkPosition:"storybook/button/listen"})):(t.muted=!0,t.musicAudio&&t.fadeOut(["music","ambient"],400),l.addClass("reading started").removeClass("start-page replay listening"),r.swipeasaurus("slide",1),t.keyEvents=!0,a.link({linkName:"storybook",linkPosition:"storybook/button/read"}))})},resize:function(){o("#storybook-narrative li p").css("top",function(){return(parseInt(o(this).parent().height(),10)-parseInt(o(this).outerHeight(),10))/2})}})}(this),Whiskers("modules.stream",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<div class="bound '),s.b(s.v(s.f("type",e,t,0))),s.b(" "),s.b(s.v(s.f("entity_type",e,t,0))),s.s(s.f("singleRow",e,t,1),e,t,0,56,67,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(" single-row")}),e.pop()),s.s(s.f("enablePeek",e,t,1),e,t,0,96,104,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(" peeking")}),e.pop()),s.b('"> '),s.s(s.f("header_data",e,t,1),e,t,0,138,156,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(i.rp("<module_header0",e,t,""))}),e.pop()),s.b(" "),s.b(s.t(s.f("list",e,t,0))),s.b(' <div class="show_more_container"> <div class="bottom-peek"></div> <div class="show_more blue button large" role="button" onclick=""> <span class="label">'),s.b(s.v(s.d("translations.show_more",e,t,0))),s.b('</span> <span class="spinner"></span> </div> </div> </div>'),s.fl()},partials:{"<module_header0":{name:"module_header",partials:{},subs:{}}},subs:{}}),function(e){"use strict";var t=e.Disney,i=e.Grill,s=e.Backbone,n=e.Whiskers,a=e.Math,o=e._,r=t.Style.breakpoints,l=o.values(r);i.GridModuleBaseView.register("stream",{style_classes:["stream-view","grid-view"],required_template_sets:["module_header"],breakpoints:l.join(" "),page:1,template:n.modules.stream,events:{"click .show_more":function(t){this.loadMoreThumbs(),this.has_revealed=!0,t.preventDefault(),this.fit(),e.Tracker&&e.Tracker.trackPagination(this.page)}},initialize:function(){var e=this,i=this.model;if(this.initCollection(this.model.get("data")),this.entity_type=o.first(this.model.data.models).get("entity_type")||this.model.get("type"),this.has_revealed=!1,"recommendation"===this.entity_type){var s=o.first(i.get("data"));e.$el.hide(),t.Recommender.getRecommendations(s).done(function(t){e.initCollection(t),e.entity_type=o.first(t).entity_type,e.makeList(),e.render(),e.ready(),e.$el.show(),e.$el.loadLazyImages()})}else t.Recommender.track(this.model.toJSON().data),this.makeList()},initCollection:function(e){this.allThumbs=e,this.visibleThumbs=this.allThumbs.slice(0,this.desired()),this.thumbCollection=new s.Collection(this.visibleThumbs),this.count=this.allThumbs.length},makeList:function(){var e=this;this.list=new i.ListView({collection:this.thumbCollection,template:{render:function(t){return o.extend(t,{translations:e.model.get("translations")}),n.entities.item.render(t,e.global_components.entities)}}})},updateView:function(){this.visibleThumbs=this.allThumbs.slice(0,this.desired()),this.list.collection.add(this.visibleThumbs)},loadMoreThumbs:function(){this.page++,this.updateView(),this.$el.loadLazyImages()},updateButton:function(){var e=this.model.get("enable_peek"),t=this.visibleThumbs.length<this.count;this.$(".col").hasClass("last-row")&&e||!e&&t?this.$el.addClass("has-more"):this.$el.removeClass("has-more")},desired:function(){return this.page*this.rows()*this.cols()},render:function(){var e=this.list,i=o.extend({entity_type:this.entity_type,list:t.placeHtml(e),enablePeek:this.model.get("enable_peek"),singleRow:this.count<=this.cols()},this.model);this.$el.html(this.template.render(i,this.ctx_additions())),t.placeSwap(this,e)},resize:function(){var e=this.cols(),t=e>1?"grid-layout":"list-layout";this.page=a.floor(this.visibleThumbs.length/this.rows()/e)||1,this.list&&this.list.$el.attr("class","col-container cols-"+e+" "+t),this.fit()},fit:function(){var e=this.desired();this.$(".col").removeClass("last-row"),e<this.count||!this.has_revealed?(this.updateView(),this.list.$el.children().removeClass("hidden").slice(e).addClass("hidden"),this.list.$el.children().slice(e-this.cols()).addClass("last-row")):this.list.$el.children().removeClass("hidden"),this.updateButton()},rows:function(){var e=s.Resize.width();switch(this.entity_type){case"game":return e<r.midHigh,4;case"personality":return e<r.midLow?3:2;default:return e<r.midLow?4:2}},ready:function(){this.list&&this.resize()}})}(this),/** @license MIT License (c) copyright 2011-2013 original author or authors */
function(e,t){"use strict";e(function(){function e(e,t,i,n){return s(e).then(t,i,n)}function i(e,t){this.then=e,this.inspect=t}function s(e){return o(function(t){t(e)})}function n(t){return e(t,c)}function a(){function e(e,a,o){t.resolve=t.resolver.resolve=function(t){return n?s(t):(n=!0,e(t),i)},t.reject=t.resolver.reject=function(e){return n?s(c(e)):(n=!0,a(e),i)},t.notify=t.resolver.notify=function(e){return o(e),e}}var t,i,n;return t={promise:N,resolve:N,reject:N,notify:N,resolver:{resolve:N,reject:N,notify:N}},t.promise=i=o(e),t}function o(e){function t(e,t,i){return o(function(s,n,a){h?h.push(function(o){o.then(e,t,i).then(s,n,a)}):C(function(){p.then(e,t,i).then(s,n,a)})})}function s(){return p?p.inspect():x()}function n(e){h&&(p=r(e),u(h,p),h=N)}function a(e){n(c(e))}function l(e){h&&u(h,d(e))}var p,h=[];try{e(n,a,l)}catch(f){a(f)}return new i(t,s)}function r(e){return e instanceof i?e:e===Object(e)&&"then"in e?o(function(t,i,s){C(function(){try{var n=e.then;"function"==typeof n?M(n,e,t,i,s):t(l(e))}catch(a){i(a)}})}):l(e)}function l(e){var t=new i(function(i){try{return"function"==typeof i?r(i(e)):t}catch(s){return c(s)}},function(){return k(e)});return t}function c(e){var t=new i(function(i,s){try{return"function"==typeof s?r(s(e)):t}catch(n){return c(n)}},function(){return w(e)});return t}function d(e){var t=new i(function(i,s,n){try{return"function"==typeof n?d(n(e)):t}catch(a){return d(a)}});return t}function u(e,t){C(function(){for(var i,s=0;i=e[s++];)i(t)})}function p(e){return e&&"function"==typeof e.then}function h(t,i,s,n,a){return e(t,function(t){function r(s,n,a){function o(e){h(e)}function r(e){p(e)}var l,c,d,u,p,h,f,v;if(f=t.length>>>0,l=Math.max(0,Math.min(i,f)),d=[],c=f-l+1,u=[],l)for(h=function(e){u.push(e),--c||(p=h=E,n(u))},p=function(e){d.push(e),--l||(p=h=E,s(d))},v=0;f>v;++v)v in t&&e(t[v],r,o,a);else s(d)}return o(r).then(s,n,a)})}function f(e,t,i,s){function n(e){return t?t(e[0]):e[0]}return h(e,1,n,i,s)}function v(e,t,i,s){return y(e,E).then(t,i,s)}function b(){return y(arguments,E)}function m(e){return y(e,k,w)}function g(e,t){return y(e,t)}function y(t,i,s){return e(t,function(t){function n(n,a,o){var r,l,c,d,u;if(c=l=t.length>>>0,r=[],!c)return void n(r);for(d=function(t,l){e(t,i,s).then(function(e){r[l]=e,--c||n(r)},a,o)},u=0;l>u;u++)u in t?d(t[u],u):--c}return o(n)})}function _(t,i){var s=M(P,arguments,1);return e(t,function(t){var n;return n=t.length,s[0]=function(t,s,a){return e(t,function(t){return e(s,function(e){return i(t,e,a,n)})})},S.apply(t,s)})}function k(e){return{state:"fulfilled",value:e}}function w(e){return{state:"rejected",reason:e}}function x(){return{state:"pending"}}function C(e){1===D.push(e)&&T()}function T(){L(A)}function A(){for(var e,t=0;e=D[t++];)e();D=[]}function E(e){return e}e.defer=a,e.resolve=s,e.reject=n,e.join=b,e.all=v,e.map=g,e.reduce=_,e.settle=m,e.any=f,e.some=h,e.isPromise=p,e.promise=o,i.prototype={otherwise:function(e){return this.then(N,e)},ensure:function(e){function t(){return s(e())}return this.then(t,t)["yield"](this)},"yield":function(e){return this.then(function(){return e})},spread:function(e){return this.then(function(t){return v(t,function(t){return e.apply(N,t)})})},always:function(e,t){return this.then(e,e,t)}};var S,P,M,L,D,I,$,V,O,N;return D=[],I=t.setTimeout,L="function"==typeof setImmediate?setImmediate.bind(t):"object"==typeof process&&process.nextTick?process.nextTick:"object"==typeof vertx?vertx.runOnLoop:function(e){I(e,0)},$=Function.prototype,V=$.call,M=$.bind?V.bind(V):function(e,t){return e.apply(t,P.call(arguments,2))},O=[],P=O.slice,S=O.reduce||function(e){var t,i,s,n,a;if(a=0,t=Object(this),n=t.length>>>0,i=arguments,i.length<=1)for(;;){if(a in t){s=t[a++];break}if(++a>=n)throw new TypeError}else s=i[1];for(;n>a;++a)a in t&&(s=e(s,t[a],a,t));return s},e})}(function(e){this.when=e()},this),Whiskers("modules.sweepstakes",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.s(s.f("data",e,t,1),e,t,0,9,384,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <div class="bound'),i.s(i.f("noCode",e,t,1),e,t,0,38,46,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" no-code")}),e.pop()),i.b('"> <div class="container"> <div class="header module_header sweeps"> <h2>'),i.b(i.v(i.f("title",e,t,0))),i.b("</h2> </div> "),i.b(i.rp("<sweeps_code0",e,t,"")),i.b(" "),i.b(i.rp("<sweeps_tos1",e,t,"")),i.b(" "),i.b(i.rp("<sweeps_complete2",e,t,"")),i.b(' <div class="sweeps_error"></div> <div class="sweep_legal"> '),i.s(i.d("metadata.short_rules",e,t,1),e,t,0,290,321,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("<p>"),i.b(i.v(i.d("metadata.short_rules",e,t,0))),i.b("</p>")}),e.pop()),i.b(" "),i.b(i.t(i.f("rich_text",e,t,0))),i.b(" </div> </div> </div> ")}),e.pop()),s.fl()},partials:{"<sweeps_code0":{name:"sweeps_code",partials:{},subs:{}},"<sweeps_tos1":{name:"sweeps_tos",partials:{},subs:{}},"<sweeps_complete2":{name:"sweeps_complete",partials:{},subs:{}}},subs:{}}),Whiskers("partials.sweeps_code",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<div class="sweeps_code"> <p class="sweep_desc">'),s.b(s.v(s.f("description",e,t,0))),s.b('</p> <div class="sweep_form"> <div class="denied_txt"> <span class="try_again">Try Again!</span> <span class="hint">Hint: '),s.s(s.f("metadata",e,t,1),e,t,0,198,223,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(i.v(i.f("codeword_hint_message",e,t,0)))}),e.pop()),s.b('</span> </div> <form> <input class="code_form" type="text" name="code" maxlength="20" required placeholder="Enter Codeword"></input> </form> <button class="button blue large code">Enter</button> </div> </div>'),s.fl()},partials:{},subs:{}}),Whiskers("partials.sweeps_tos",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<div class="sweeps_tos"> <p class="terms">'),s.b(s.v(s.f("legal_text",e,t,0))),s.b('</p> <div class="sweep_form"> <div class="tos_check"> <p class="tos">I agree to the above Terms and Conditions</p> <span class="vote checkbox" title="'),s.b(s.v(s.f("text",e,t,0))),s.b('"> <span class="check"></span> </span> </div> <button type="submit" class="button blue large tos disabled">Enter</button> </div> </div>'),s.fl()},partials:{},subs:{}}),Whiskers("partials.sweeps_complete",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<div class="sweeps_complete module_header"> <h2 class="sweep_desc complete">'),s.s(s.f("metadata",e,t,1),e,t,0,89,108,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(i.v(i.f("success_message",e,t,0)))}),e.pop()),s.b("</h2> </div>"),s.fl()},partials:{},subs:{}}),function(e){"use strict";var t=e.Grill,i=e.Disney,s=i.Style.breakpoints,n=s.midHigh.toString(),a=e.Whiskers,o=e.jQuery,r=e._,l=t.ModuleView.extend({breakpoints:n,template:a.modules.sweepstakes,sweeps_error:"",user_code:"",initialize:function(){this.options.guest.retain()},render:function(){var e=r.extend({},this.model);this.$el.html(this.template.render(e,{sweeps_tos:a.partials.sweeps_tos,sweeps_code:a.partials.sweeps_code,sweeps_complete:a.partials.sweeps_complete})),this.$el.polyfillPlaceholder()},codeWords:function(){var e=this,t=this.options.guest.login();t.then(function(){e.user_code=e.$("input.code_form").val();var t={sweeps_id:e.model.get("data")[0].sweep_id,entered_code:e.user_code};e.guestCanEnter()?(e.$("button.code").text("Verify..."),o.ajax({type:"POST",url:"/_sweeps/sweeps_code",processData:!1,data:JSON.stringify(t),contentType:"application/json",success:function(t){"false"===t?(e.$(".denied_txt").addClass("active"),e.$("button.code").text("Submit")):(e.$(".sweeps_code").remove(),e.$(".sweeps_tos").fadeIn(500))},error:function(){e.showError()}})):e.showError()})},checkboxChecking:function(){this.$(".checkbox").hasClass("checked")?(this.$(".button.tos").addClass("disabled").removeClass("compelte"),this.$(".checkbox").removeClass("checked")):(this.$(".button.tos").removeClass("disabled").addClass("compelte"),this.$(".checkbox").addClass("checked"))},sweepsTerms:function(){var e=this,t={sweeps_id:this.model.get("data")[0].sweep_id,disid:this.options.guest.current.profile.swid.replace("{","").replace("}",""),entered_code:e.user_code};this.$("button.tos").text("Verify..."),o.ajax({type:"POST",url:"/_sweeps/sweeps_info",processData:!1,data:JSON.stringify(t),contentType:"application/json",success:function(){e.$(".sweeps_complete").fadeIn(500),e.$(".container").addClass("finished"),e.$(".header.sweeps").css("visibility","hidden"),e.$(".sweeps_tos").remove()},error:function(t){409===t.status&&(e.sweeps_error="too_many"),e.showError()}})},events:{"click span.checkbox":"checkboxChecking","click .button.code":"codeWords","keypress .code_form":function(t){13===e.event.keyCode&&(this.codeWords(),t.preventDefault())},"click .button.tos.compelte":"sweepsTerms"},guestCanEnter:function(){var e=this,t=parseInt(e.model.get("data")[0].metadata.min_age,10)||0,i=parseInt(e.model.get("data")[0].metadata.max_age,10),s=new Date(e.options.guest.current.profile.dateOfBirth),n=new Date,a=new Date,o=i?new Date:null;return a.setFullYear(n.getFullYear()-t),o&&o.setFullYear(n.getFullYear()-i-1),s>a?(e.sweeps_error="min_age_gate",!1):o&&o>s?(e.sweeps_error="max_age_gate",!1):!0},showError:function(){var e,t=this;switch(t.sweeps_error){case"min_age_gate":e=t.model.get("data")[0].metadata.min_age_message;break;case"max_age_gate":e=t.model.get("data")[0].metadata.max_age_message;break;case"too_many":e="Maximum submissions exceeded. Please try again later.";break;default:e="There was an error entering the sweepstakes. Please try again."}e="<h2>"+e+"</h2>",t.$(".sweeps_code").remove(),t.$(".header.sweeps").css("visibility","hidden"),t.$(".sweeps_error").html(e).fadeIn(500)},destroy:function(){this.options.guest&&this.options.guest.release()}});l.register("sweepstakes",{})}(this),Whiskers("modules.header",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<div class="bound"> <div class="header module_header"> '),s.s(s.f("title",e,t,1),e,t,0,65,83,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b("<h2>"),i.b(i.v(i.f("title",e,t,0))),i.b("</h2>")}),e.pop()),s.b(" "),s.s(s.f("desc",e,t,1),e,t,0,103,120,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b("<h3>"),i.b(i.v(i.f("desc",e,t,0))),i.b("</h3>")}),e.pop()),s.b(" </div> </div>"),s.fl()},partials:{},subs:{}}),function(e){"use strict";var t=e.Grill,i=e.Whiskers,s=e._,n=t.ModuleView.extend({style_classes:["full-height"],template:i.modules.header,render:function(){var e=s.first(this.model.get("data")),t=s.extend({data:e?e:null},this.model);this.$el.html(this.template.render(t))}});n.register("header",{})}(this),Whiskers("modules.trailer",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<div class="bound"> <div class="container"> '),s.s(s.f("data",e,t,1),e,t,0,53,1010,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <div class="video-container trailer-box '),i.s(i.d("style_options.full_width",e,t,1),e,t,0,123,133,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("full-width")}),e.pop()),i.b('"> <div class="scaler"></div> '),i.s(i.f("expired",e,t,1),e,t,1,0,0,"")||(i.b(' <div id="player_trailer" class="player video trailer-box"> <noscript> <div class="player_error">'),i.b(i.v(i.d("translations.no_javascript",e,t,0))),i.b("</div> </noscript> </div> ")),i.b(" "),i.s(i.f("expired",e,t,1),e,t,0,382,447,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="orphan"><p>'),i.b(i.v(i.d("translations.video_expired",e,t,0))),i.b("</p></div> ")}),e.pop()),i.b(' <div id="card" class="card embed"> <div class="card_header"> <p class="btn_replay skip-text-styles">'),i.b(i.v(i.d("translations.replay",e,t,0))),i.b('</p> <p class="btn_watch skip-text-styles">'),i.b(i.v(i.d("translations.watch_on",e,t,0))),i.b('</p> </div> <div class="suggested"> <ul> '),i.s(i.f("suggested",e,t,1),e,t,0,706,829,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.b(" <li>"),i.b(i.rp("<entity_container0",e,t,"")),i.b("</li> ")}),e.pop()),i.b(' </ul> </div> </div> </div> <div class="module_header details"> <h2><a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('" title="'),i.b(i.v(i.f("title",e,t,0))),i.b('">'),i.b(i.v(i.f("title",e,t,0))),i.b('</a></h2> <p class="desc">'),i.b(i.v(i.f("description",e,t,0))),i.b("</p> </div> ")}),e.pop()),s.b(" </div> </div>"),s.fl()},partials:{"<entity_container0":{name:"entity_container",partials:{},subs:{}}},subs:{}}),function(e){"use strict";var t=e.Disney,i=t.Style.breakpoints,s=i.midHigh.toString(),n=e.Grill,a=e.Whiskers,o=e.$,r=e._;n.ModuleView.register("trailer",{breakpoints:s,template:a.modules.trailer,assets:{scripts:["//a.dilcdn.com/a/videoplayer-be62928c4acf.js"]},initialize:function(){var t=this;t.centerSuggested=r.throttle(function(){var i=t.$el.find(".card.embed .card_header"),s=t.$el.find(".card.embed ul"),n=s.find("li");if(o(e).width()<=1008){var a=(s.outerHeight()-i.outerHeight()-n.outerHeight())/2;s.css("margin-top",a>0?a:0)}else s.css("margin-top",4)},100),o(e).on("resize."+t.cid,t.centerSuggested)},render:function(){var e=r.extend({},this.options.ads.helpers(),this.model);this.$el.html(this.template.render(e,{suggested:this.model.get("suggested"),item:a.entities.item,entity_container:a.entities.entity_container}))},ready:function(){this.$el.find(".card.embed .suggested li:nth-child(n+3)").addClass("li-nth-child-np3"),this.centerSuggested();var e=r.first(this.model.get("data")),i=this.model.get("autoplay")?!0:!1;this.player=new t.MatterhornVideoPlayer("player_trailer",{video:e,autoPlay:i,clickToPlay:!0,ads:{enabled:!this.options.cds&&!this.options.noAds,context:this.options.ads},translations:this.model.get("translations")})},resize:function(){this.render(),this.options.ads.restore(),this.ready()},remove:function(){this.player&&(this.player.destroy(),this.player=null),o(e).off("resize."+this.cid),n.ModuleView.prototype.remove.call(this)}})}(this),Whiskers("modules.trifecta",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<div class="bound"> '),s.s(s.f("header_data",e,t,1),e,t,0,36,54,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(i.rp("<module_header0",e,t,""))}),e.pop()),s.b(' <div class="container"> '),s.s(s.f("data",e,t,1),e,t,0,104,467,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <div class="item"> <div class="logo-container"> <a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('"> <span class="logo-box"> <img src="'),i.b(i.v(i.f("logo",e,t,0))),i.b('" class="logo" alt="'),i.b(i.v(i.f("title",e,t,0))),i.b('"> </span> </a> </div> <div class="description-container"> <p class="desc">'),i.b(i.v(i.f("short_desc",e,t,0))),i.b('</p> </div> <div class="btn"> <a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('" class="button small blue" role="button">'),i.b(i.v(i.d("translations.watch_now",e,t,0))),i.b("</a> </div> </div> ")}),e.pop()),s.b(" </div> </div>"),s.fl()},partials:{"<module_header0":{name:"module_header",partials:{},subs:{}}},subs:{}}),function(e){"use strict";var t=e.Grill,i=e.Disney,s=i.Style.breakpoints,n=s.midHigh.toString(),a=e.Whiskers,o=e._;t.ModuleView.register("trifecta",{template:a.modules.trifecta,required_template_sets:["entities"],breakpoints:n,render:function(){var e=o.extend({},this.model);this.$el.html(this.template.render(e,this.ctx_additions()))},resize:function(){this.render(),this.options.ads.restore()}})}(this),Whiskers("modules.ugc_consent",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<div class="bound"> '),s.s(s.f("header_data",e,t,1),e,t,0,36,54,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(i.rp("<module_header0",e,t,""))}),e.pop()),s.b(' <div class="content-wrapper"> <div class="content ugc-response"> '),s.s(s.f("ugcResponse",e,t,1),e,t,0,152,303,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(" <h3>"),i.b(i.v(i.d("message.header",e,t,0))),i.b('</h3> <p class="description">'),i.b(i.v(i.d("message.body",e,t,0))),i.b("</p> "),i.s(i.f("url",e,t,1),e,t,0,233,294,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <a href="'),i.b(i.v(i.f("url",e,t,0))),i.b('" class="checkout">Checkout with Paypal</a> ')}),e.pop()),i.b(" ")}),e.pop()),s.b(" </div> </div> </div>"),s.fl()},partials:{"<module_header0":{name:"module_header",partials:{},subs:{}}},subs:{}}),function(e){"use strict";var t=e.Grill,i=e.Whiskers,s=e.$,n=e._;t.ModuleView.register("ugc_consent",{style_classes:["module","ugc-consent"],required_template_sets:["module_header"],template:i.modules.ugc_consent,ugcResponse:{},initialize:function(){var e=this.model.get("translations"),t={generic_error_heading:"Oops",generic_error_message:"There was an error processing your request."};n.defaults(e,t),n.extend(this,{translations:e}),this.callUGCService()},render:function(){},actuallyRender:function(){var e=n.extend(this.model.toJSON(),{translations:this.translations,ugcResponse:this.ugcResponse});this.$el.html(this.template.render(e,this.ctx_additions()))},callUGCService:function(){var e=this.getQueryParams(),t=this;s.ajax({url:this.getConsentUrl(e),headers:{Authorization:this.model.get("cellophane_auth_key")},type:"verify"===e.action?"POST":"GET",dataType:"json"}).always(function(e){e.message&&e.message.body?t.ugcResponse=e:e.responseJSON&&e.responseJSON.message&&e.responseJSON.message.body?t.ugcResponse=e.responseJSON:t.ugcResponse.message=t.getGenericErrorMessage(),t.actuallyRender()})},getQueryParams:function(){var t={},i=e.window.location.search.substring(1),s=i.split("&");return n.each(s,function(e){e=e.split("="),e[0]&&e[1]&&(t[e[0]]=e[1])}),t},getConsentUrl:function(e){return this.model.get("cellophane_host")+"/ugc/content/v1/submission/"+("hlc"===e.type?"paypal":e.action)+"/"+e.cid+"/"+e.aid+(e.k?"/"+e.k:"")},getGenericErrorMessage:function(){return{header:this.translations.generic_error_heading,body:this.translations.generic_error_message}}})}(this),/*
 * jQuery UI Widget 1.10.3+amd
 * https://github.com/blueimp/jQuery-File-Upload
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/jQuery.widget/
 */
function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e,t){var i=0,s=Array.prototype.slice,n=e.cleanData;e.cleanData=function(t){for(var i,s=0;null!=(i=t[s]);s++)try{e(i).triggerHandler("remove")}catch(a){}n(t)},e.widget=function(t,i,s){var n,a,o,r,l={},c=t.split(".")[0];t=t.split(".")[1],n=c+"-"+t,s||(s=i,i=e.Widget),e.expr[":"][n.toLowerCase()]=function(t){return!!e.data(t,n)},e[c]=e[c]||{},a=e[c][t],o=e[c][t]=function(e,t){return this._createWidget?void(arguments.length&&this._createWidget(e,t)):new o(e,t)},e.extend(o,a,{version:s.version,_proto:e.extend({},s),_childConstructors:[]}),r=new i,r.options=e.widget.extend({},r.options),e.each(s,function(t,s){return e.isFunction(s)?void(l[t]=function(){var e=function(){return i.prototype[t].apply(this,arguments)},n=function(e){return i.prototype[t].apply(this,e)};return function(){var t,i=this._super,a=this._superApply;return this._super=e,this._superApply=n,t=s.apply(this,arguments),this._super=i,this._superApply=a,t}}()):void(l[t]=s)}),o.prototype=e.widget.extend(r,{widgetEventPrefix:a?r.widgetEventPrefix:t},l,{constructor:o,namespace:c,widgetName:t,widgetFullName:n}),a?(e.each(a._childConstructors,function(t,i){var s=i.prototype;e.widget(s.namespace+"."+s.widgetName,o,i._proto)}),delete a._childConstructors):i._childConstructors.push(o),e.widget.bridge(t,o)},e.widget.extend=function(i){for(var n,a,o=s.call(arguments,1),r=0,l=o.length;l>r;r++)for(n in o[r])a=o[r][n],o[r].hasOwnProperty(n)&&a!==t&&(i[n]=e.isPlainObject(a)?e.isPlainObject(i[n])?e.widget.extend({},i[n],a):e.widget.extend({},a):a);return i},e.widget.bridge=function(i,n){var a=n.prototype.widgetFullName||i;e.fn[i]=function(o){var r="string"==typeof o,l=s.call(arguments,1),c=this;return o=!r&&l.length?e.widget.extend.apply(null,[o].concat(l)):o,this.each(r?function(){var s,n=e.data(this,a);return n?e.isFunction(n[o])&&"_"!==o.charAt(0)?(s=n[o].apply(n,l),s!==n&&s!==t?(c=s&&s.jquery?c.pushStack(s.get()):s,!1):void 0):e.error("no such method '"+o+"' for "+i+" widget instance"):e.error("cannot call methods on "+i+" prior to initialization; attempted to call method '"+o+"'")}:function(){var t=e.data(this,a);t?t.option(o||{})._init():e.data(this,a,new n(o,this))}),c}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,s){s=e(s||this.defaultElement||this)[0],this.element=e(s),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),s!==this&&(e.data(s,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===s&&this.destroy()}}),this.document=e(s.style?s.ownerDocument:s.document||s),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(i,s){var n,a,o,r=i;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof i)if(r={},n=i.split("."),i=n.shift(),n.length){for(a=r[i]=e.widget.extend({},this.options[i]),o=0;o<n.length-1;o++)a[n[o]]=a[n[o]]||{},a=a[n[o]];if(i=n.pop(),s===t)return a[i]===t?null:a[i];a[i]=s}else{if(s===t)return this.options[i]===t?null:this.options[i];r[i]=s}return this._setOptions(r),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(t,i,s){var n,a=this;"boolean"!=typeof t&&(s=i,i=t,t=!1),s?(i=n=e(i),this.bindings=this.bindings.add(i)):(s=i,i=this.element,n=this.widget()),e.each(s,function(s,o){function r(){return t||a.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof o?a[o]:o).apply(a,arguments):void 0}"string"!=typeof o&&(r.guid=o.guid=o.guid||r.guid||e.guid++);var l=s.match(/^(\w+)\s*(.*)$/),c=l[1]+a.eventNamespace,d=l[2];d?n.delegate(d,c,r):i.bind(c,r)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function i(){return("string"==typeof e?s[e]:e).apply(s,arguments)}var s=this;return setTimeout(i,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,s){var n,a,o=this.options[t];if(s=s||{},i=e.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],a=i.originalEvent)for(n in a)n in i||(i[n]=a[n]);return this.element.trigger(i,s),!(e.isFunction(o)&&o.apply(this.element[0],[i].concat(s))===!1||i.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,i){e.Widget.prototype["_"+t]=function(s,n,a){"string"==typeof n&&(n={effect:n});var o,r=n?n===!0||"number"==typeof n?i:n.effect||i:t;n=n||{},"number"==typeof n&&(n={duration:n}),o=!e.isEmptyObject(n),n.complete=a,n.delay&&s.delay(n.delay),o&&e.effects&&e.effects.effect[r]?s[t](n):r!==t&&s[r]?s[r](n.duration,n.easing,a):s.queue(function(i){e(this)[t](),a&&a.call(s[0]),i()})}})}),Whiskers("modules.user_upload",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b(" "),s.s(s.f("schema_json",e,t,1),e,t,0,72,1059,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <style type="text/css"> '),i.s(i.f("header_color",e,t,1),e,t,0,114,178,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" .module.user_upload .stunt-info h1{ color: "),i.b(i.v(i.f("header_color",e,t,0))),i.b("; } ")}),e.pop()),i.b(" "),i.s(i.f("button_color",e,t,1),e,t,0,213,531,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" .module.user_upload .button{ background-color: "),i.b(i.v(i.f("button_color",e,t,0))),i.b('; position: relative; overflow: hidden; } .module.user_upload .button:hover{ opacity: 0.9; } .module.user_upload .button:before{ content: ""; background-color: rgba(0, 0, 0, 0.08); z-index: -1; position: absolute; top: 0; left: 0; right: 0; bottom: 0; } ')}),e.pop()),i.b(" "),i.s(i.f("button_text_color",e,t,1),e,t,0,571,633,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" .module.user_upload .button{ color: "),i.b(i.v(i.f("button_text_color",e,t,0))),i.b("; } ")}),e.pop()),i.b(" "),i.s(i.f("tips_link_color",e,t,1),e,t,0,676,753,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" .module.user_upload .stunt-info .tips-button{ color: "),i.b(i.v(i.f("tips_link_color",e,t,0))),i.b("; } ")}),e.pop()),i.b(" "),i.s(i.f("progress_color",e,t,1),e,t,0,793,879,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" .progress-slices .slice, .progress-slices:before{ border-color: "),i.b(i.v(i.f("progress_color",e,t,0))),i.b(";} ")}),e.pop()),i.b(" "),i.s(i.f("progress_wheel_bg_color",e,t,1),e,t,0,927,1021,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" .progress-slices, .progress-slices .slice.cover{ border-color: "),i.b(i.v(i.f("progress_wheel_bg_color",e,t,0))),i.b(";} ")}),e.pop()),i.b(" </style> ")}),e.pop()),s.b(' <div class="'),s.b(s.v(s.f("type",e,t,0))),s.b(" "),s.b(s.v(s.f("entity_type",e,t,0))),s.b('"> <div class="bound"> '),s.b(' <div class="content-container"> <div class="stunt-info rich-text-enabled'),s.s(s.f("contest_logo",e,t,1),e,t,1,0,0,"")||s.b(" no-logo"),s.b('"> <div class="details-container"> '),s.s(s.f("contest_logo",e,t,1),e,t,0,1332,1518,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("noscript",e,t,1),e,t,1,0,0,"")||(i.b('<img class="contest-logo" data-src="'),i.b(i.v(i.f("contest_logo",e,t,0))),i.b('">')),i.b(" "),i.s(i.f("noscript",e,t,1),e,t,0,1427,1504,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<noscript><img class="contest-logo no-src" src="'),i.b(i.v(i.f("contest_logo",e,t,0))),i.b('"></noscript>')}),e.pop()),i.b(" ")}),e.pop()),s.b(" <h1>"),s.b(s.t(s.f("start_header",e,t,0))),s.b('</h1> <div class="description">'),s.b(s.t(s.f("start_description",e,t,0))),s.b("</div> "),s.s(s.f("has_tips",e,t,1),e,t,0,1632,1684,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <h3 class="tips-button">'),i.b(i.v(i.d("translations.tips",e,t,0))),i.b("</h3> ")}),e.pop()),s.b(' </div> </div> <div class="form-container"> <div class="form-mask"> <h3 class="login-notice">'),s.b(s.v(s.d("translations.login",e,t,0))),s.b('</h3> <div class="button blue large disid-button"> '),s.s(s.f("start_button_text",e,t,1),e,t,0,1885,1906,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(i.v(i.f("start_button_text",e,t,0)))}),e.pop()),s.b(" "),s.s(s.f("start_button_text",e,t,1),e,t,1,0,0,"")||s.b(s.v(s.d("translations.start",e,t,0))),s.b(" </div> "),s.s(s.d("schema_json.ie9_text",e,t,1),e,t,0,2028,2078,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b('<p class="no-fileapi">'),i.b(i.v(i.d("schema_json.ie9_text",e,t,0))),i.b("</p>")}),e.pop()),s.b(' </div> <form action="'),s.b(s.v(s.f("form_action",e,t,0))),s.b('"> '),s.s(s.f("fields",e,t,1),e,t,0,2154,3826,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <fieldset class="info-fs"> <legend><h3>'),i.b(i.v(i.d("translations.submission_info",e,t,0))),i.b("</h3></legend> "),i.s(i.f("name",e,t,1),e,t,0,2250,2343,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <input type="text" name="name" placeholder="'),i.b(i.v(i.f("label",e,t,0))),i.b('"'),i.s(i.f("required",e,t,1),e,t,0,2318,2327,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" required")}),e.pop()),i.b("/> ")}),e.pop()),i.b(" "),i.s(i.d("fields.title",e,t,1),e,t,0,2370,2533,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.b(' <input type="text" name="title" placeholder="'),i.b(i.v(i.f("label",e,t,0))),i.b('" maxlength="140"'),i.s(i.f("required",e,t,1),e,t,0,2507,2516,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" required")}),e.pop()),i.b(" /> ")}),e.pop()),i.b(" "),i.s(i.f("age",e,t,1),e,t,0,2559,3026,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("select",e,t,1),e,t,0,2571,2794,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="input-group age select"> <select name="age" class="empty"'),i.s(i.f("required",e,t,1),e,t,0,2654,2663,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" required")}),e.pop()),i.b('> <option value="">'),i.b(i.v(i.f("label",e,t,0))),i.b("</option> "),i.s(i.f("options",e,t,1),e,t,0,2726,2764,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <option value="'),i.b(i.v(i.d(".",e,t,0))),i.b('">'),i.b(i.v(i.d(".",e,t,0))),i.b("</option> ")}),e.pop()),i.b(" </select> </div> ")}),e.pop()),i.b(" "),i.s(i.f("select",e,t,1),e,t,1,0,0,"")||(i.b(" "),i.b(' <input type="number" name="age" placeholder="'),i.b(i.v(i.f("label",e,t,0))),i.b('"'),i.s(i.f("required",e,t,1),e,t,0,2958,2967,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" required")}),e.pop()),i.b(' value="13" class="hide-field" /> ')),i.b(" ")}),e.pop()),i.b(" "),i.s(i.f("state",e,t,1),e,t,0,3045,3391,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.b(' <select name="state" class="empty hide-field"'),i.s(i.f("required",e,t,1),e,t,0,3174,3183,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" required")}),e.pop()),i.b(" > "),i.b(' <option value="CA">'),i.b(i.v(i.f("label",e,t,0))),i.b("</option> "),i.s(i.f("options",e,t,1),e,t,0,3330,3368,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <option value="'),i.b(i.v(i.d(".",e,t,0))),i.b('">'),i.b(i.v(i.d(".",e,t,0))),i.b("</option> ")}),e.pop()),i.b(" </select> ")}),e.pop()),i.b(" </fieldset> "),i.s(i.f("extra",e,t,1),e,t,0,3424,3815,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <fieldset class="extra-fs"> '),i.s(i.f("select",e,t,1),e,t,0,3464,3702,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="input-group extra select"> <select name="'),i.b(i.v(i.f("tag",e,t,0))),i.b('" class="empty"'),i.s(i.f("required",e,t,1),e,t,0,3553,3562,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" required")}),e.pop()),i.b('> <option value="" selected>'),i.b(i.v(i.f("label",e,t,0))),i.b("</option> "),i.s(i.f("options",e,t,1),e,t,0,3634,3672,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <option value="'),i.b(i.v(i.d(".",e,t,0))),i.b('">'),i.b(i.v(i.d(".",e,t,0))),i.b("</option> ")}),e.pop()),i.b(" </select> </div> ")}),e.pop()),i.b(" "),i.s(i.f("select",e,t,1),e,t,1,0,0,"")||(i.b(' <div class="input-group extra"> '),i.b(i.t(i.f("character_countdown",e,t,0))),i.b(" </div> ")),i.b(" </fieldset> ")}),e.pop()),i.b(" ")}),e.pop()),s.b(' <div class="file-name-container"> <div class="file-name"></div> <span class="delete-file"></span> </div> <div class="button silver small select-file visible"> '),s.b(s.v(s.f("select_file_button_text",e,t,0))),s.b(' <input type="file" name="file" required /> </div> <div class="button gold small begin-upload"> '),s.b(s.v(s.f("upload_file_button_text",e,t,0))),s.b(' </div> <div class="notification"></div> <input type="hidden" name="campaign_id" value="'),s.b(s.v(s.f("campaign_id",e,t,0))),s.b('"> '),s.s(s.f("form_footnotes",e,t,1),e,t,0,4272,4339,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b('<div class="footnotes rich-text-enabled">'),i.b(i.t(i.f("form_footnotes",e,t,0))),i.b("</div>")}),e.pop()),s.b(' </form> <div class="progress"> <div class="progress-indicator"> <div class="progress-slices"> <div class="slice slice-1"></div> <div class="slice cover"></div> <div class="slice slice-2"></div> </div> </div> <div class="uploading"> <h3>'),s.b(s.v(s.d("translations.uploading",e,t,0))),s.b('</h3> <div class="button small cancel-upload">Cancel Upload</div> </div> <div class="thank-you rich-text-enabled"> '),s.s(s.f("thank_you_header",e,t,1),e,t,0,4757,4788,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b("<h3>"),i.b(i.t(i.f("thank_you_header",e,t,0))),i.b("</h3>")}),e.pop()),s.b(" "),s.s(s.f("thank_you_text",e,t,1),e,t,0,4829,4880,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b('<div class="description">'),i.b(i.t(i.f("thank_you_text",e,t,0))),i.b("</div>")}),e.pop()),s.b(' </div> </div> </div> </div> </div> <div class="tips-bound"> <div class="close-icon close-tips"></div> <div class="bound"> '),s.s(s.f("helpful_tip_header",e,t,1),e,t,0,5045,5110,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b('<span class="tip-header"><h2>'),i.b(i.t(i.f("helpful_tip_header",e,t,0))),i.b("</h2></span>")}),e.pop()),s.b(' <div class="tips"> <div class="tips-container left"> <h3 class="tips-header"> '),s.s(s.f("dos_header",e,t,1),e,t,0,5227,5243,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(i.t(i.f("dos_header",e,t,0)))}),e.pop()),s.b(" "),s.s(s.f("dos_header",e,t,1),e,t,1,0,0,"")||s.b(s.v(s.d("translations.do",e,t,0))),s.b(" </h3> "),s.s(s.f("dos",e,t,1),e,t,0,5323,5369,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b('<div class="rich-text-enabled">'),i.b(i.t(i.f("dos",e,t,0))),i.b("</div>")}),e.pop()),s.b(' </div> <div class="tips-container right"> <h3 class="tips-header"> '),s.s(s.f("donts_header",e,t,1),e,t,0,5462,5480,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(i.t(i.f("donts_header",e,t,0)))}),e.pop()),s.b(" "),s.s(s.f("donts_header",e,t,1),e,t,1,0,0,"")||s.b(s.v(s.d("translations.do",e,t,0))),s.b(" </h3> "),s.s(s.f("donts",e,t,1),e,t,0,5568,5616,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b('<div class="rich-text-enabled">'),i.b(i.t(i.f("donts",e,t,0))),i.b("</div>")}),e.pop()),s.b(' </div> <div class="button silver small close-button close-tips">'),s.b(s.v(s.d("translations.close_button",e,t,0))),s.b("</div> </div> "),s.s(s.f("helpful_tip_footnote",e,t,1),e,t,0,5759,5814,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b('<p class="tips-footnote">'),i.b(i.t(i.f("helpful_tip_footnote",e,t,0))),i.b("</p>")}),e.pop()),s.b(' </div> </div> <div class="container-mask"></div> </div>'),s.fl()},partials:{},subs:{}}),Whiskers("partials.character_countdown",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b(' <textarea type="text" rows="'),s.s(s.f("rows",e,t,1),e,t,0,99,107,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(i.v(i.f("rows",e,t,0)))}),e.pop()),s.s(s.f("rows",e,t,1),e,t,1,0,0,"")||s.b("1"),s.b('" class="has-count" name="'),s.b(s.v(s.f("tag",e,t,0))),s.b('" placeholder="'),s.b(s.v(s.f("label",e,t,0))),s.b('" maxlength="'),s.b(s.v(s.f("maxLength",e,t,0))),s.b('"'),s.s(s.f("required",e,t,1),e,t,0,232,241,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(" required")}),e.pop()),s.b(" /> "),s.b(' <div class="count-bg"></div> <span class="count-remaining"></span>'),s.fl()},partials:{},subs:{}}),/*
 * Copyright <%= DateTime.now.year %> Disney
 * All Rights Reserved
 *
 * jQuery UI Widget 1.10.3+amd
 * Copyright 2012 jQuery Foundation
 * MIT License
 */
function(e){"use strict";var t,i,s=e.Grill,n=e.Disney,a=e.Whiskers,o=e.Backbone,r=e.Tracker,l=e._,c=e.jQuery,d=n.Style.breakpoints,u=d.midHigh.toString();s.ModuleView.register("user_upload",{breakpoints:u,template:a.modules.user_upload,progressConfig:{step_pct:5,min_millis:800},events:{"click .disid-button":function(){this.handleGetStartedClick()},"click .begin-upload":function(){this.beginUpload()},"click .cancel-upload":function(){this.handleCancelUploadClick()},"click .tips-button":function(){this.handleTipsClick()},"click .close-tips":function(){this.handleTipsClose()},"click .delete-file":function(){this.handleFileNameClick()},'change input[type="file"]':function(e){this.updateSelectedFile(e)},"change select":function(){this.updateSelect()}},initialize:function(){var e=100/this.progressConfig.step_pct,t=this.progressConfig.min_millis/e;l.extend(this.progressConfig,{num_steps:e,min_interval:t}),this.options.guest.retain(),l.bindAll(this)},render:function(){var e=this,i=this.template;if(i&&i.render){var s=this.model.toJSON().data[0];c.ajax({url:s.ugc_endpoint+"/campaign/"+s.campaign_id,headers:{Authorization:this.model.get("cellophane_auth_key")},type:"GET",dataType:"json"}).always(function(n){t=n&&n.data?n.data:{},t.formFields=t.formFields||[{label:"First Name",tag:"name",required:!0},{label:"Age",tag:"age",required:!0},{label:"State",tag:"state",required:!0,options:["AL","AK","AZ","AR","CA","CO","CT","DE","DC","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY","other"]},{label:"Caption",tag:"caption",required:!1}];var a=e.generateRenderContext(s);e.$el.html(i.render(a)),e.countdown(),c.when(e.options.guest.refresh()).then(e.revealForm)})}},updateSelect:function(){this.$("select").each(function(){var e=c(this),t=e.find("option:selected"),i=0===t.index();e.toggleClass("empty",i&&""===e.val())})},updateSelectedFile:function(e){if(this.activeFile=e&&e.currentTarget,this.resetAlert(),this.activeFile){var t=this.activeFile.files[0],i=t.name;this.$(".file-name-container").addClass("visible"),this.$(".file-name").text(i),this.$(".select-file").removeClass("visible"),this.$(".begin-upload").addClass("visible"),this.$(".extra-fs").addClass("file-show"),this.$(".footnotes").addClass("visible")}else this.$('form input[type="file"]')[0].value=null,this.$(".file-name-container").removeClass("visible"),this.$(".file-name").text(""),this.$(".select-file").addClass("visible"),this.$(".begin-upload").removeClass("visible"),this.$(".extra-fs").removeClass("file-show"),this.$(".footnotes").removeClass("visible")},revealForm:function(){r.event({eventCategory:"ugcUpload",action:"form_visible",label:e.location.href}),c(".user_upload .container-mask, .user_upload .form-mask").fadeOut(150),c(".user_upload .form-container form").addClass("visible"),this.$(":input:visible:first").focus()},tryUpload:function(e){return this.getLoginAccessToken(e).then(this.uploadFile)},uploadFile:function(t){var s=this.model.toJSON(),n=s.cellophane_auth_key,a=this.progressConfig,o=this;i=c.ajax({url:s.cellophane_host+"/ugc/content/v1/campaign/submit",type:"POST",headers:{Authorization:n},timeout:36e5,xhr:function(){var e=c.ajaxSettings.xhr();if(e.upload){var t=Date.now();e.upload.addEventListener("progress",function(e){var i=e.total,s=e.loaded,n=Date.now(),r=n-t,l=s/i*100,c=Math.round(l/a.step_pct)*a.step_pct;o.updateProgressIndicator(c,r)},!1)}return e},beforeSend:function(){r.event({eventCategory:"ugcUpload",action:"start",label:e.location.href}),o.showProgress()},success:function(){r.event({eventCategory:"ugcUpload",action:"success",label:e.location.href}),o.handleUploadSuccess()},error:function(t){r.event({eventCategory:"ugcUpload",action:"failed",label:e.location.href});var i=t.responseJSON&&t.responseJSON.message?t.responseJSON.message:"Sorry, something went wrong with your upload";o.handleUploadFailure(i)},data:t,cache:!1,contentType:!1,processData:!1})},beginUpload:function(){var e=this;this.$(".uploading").addClass("visible"),this.validateForm().then(this.tryUpload,e.showAlert)},validateForm:function(){for(var i,s,n=this.$("form"),a=new e.FormData,o=this.model.toJSON(),r=new c.Deferred,l=t.formFields||[],d=0;d<l.length;++d){var u=l[d];if(i=n.find('[name="'+u.tag+'"]'),s=i.val(),u.required&&!s)return r.reject(u.label+" is required.");s&&a.append(u.tag,s)}return a.append("file",n.find('input[type="file"]')[0].files[0]),a.append("campaign_id",o.data[0].campaign_id),this.activeFile?r.resolve(a):r.reject("Please select a file.")},showProgress:function(){this.resetProgressIndicator(),this.$("form").addClass("hide"),this.$(".progress").addClass("visible")},hideProgress:function(){this.$(".progress").removeClass("visible"),this.$("form").delay(1e3).removeClass("hide"),this.resetProgressIndicator()},updateProgressIndicator:function(e,t){var i=this.progressConfig,s=Math.floor(t/i.min_interval),n=Math.min(s*i.step_pct,100),a=Math.min(e,n);this.updateProgressIndicatorProperties("true",a),100===a&&this.$(".progress-indicator").attr("data-loading","false")},updateProgressIndicatorProperties:function(e,t){var i=this.$(".progress-indicator");i.attr("data-loading",e),i.attr("data-progress",t)},resetProgressIndicator:function(){var e=this.$(".progress-indicator");e.attr("data-loading","false"),e.attr("data-progress","0"),e.removeClass("upload-success")},handleUploadSuccess:function(){var t,i=this,s=parseInt(this.$(".progress-indicator").attr("data-progress"),10),n=this.progressConfig;100===s?this.revealSuccess():t=e.setInterval(function(){s+=n.step_pct,100===s?(i.updateProgressIndicatorProperties("false",s),i.revealSuccess(),e.clearInterval(t),i.$(".progress-indicator").attr("data-loading","false")):i.updateProgressIndicatorProperties("true",s)},n.min_interval)},revealSuccess:function(){this.$(".progress-indicator").addClass("upload-success"),this.$(".thank-you").addClass("visible"),this.$(".uploading").removeClass("visible")},getLoginAccessToken:function(e){var t=new c.Deferred;return this.options.guest?c.when(this.options.guest.refresh()).then(function(i){return i&&i.tokens&&i.tokens.access?(e.append("access_token",i.tokens.access),e.append("swid",i.profile.swid),e):t.reject("You have logged out, please log in again.")}):t.reject("Please log in.")},handleUploadFailure:function(e){this.$(".uploading").removeClass("visible"),this.revealError(e)},revealError:function(e){this.hideProgress(),this.showAlert(e),this.resetProgressIndicator()},handleCancelUploadClick:function(){i.abort(),this.resetAlert(),this.resetProgressIndicator()},showAlert:function(e){this.$(".notification").removeClass("notice").addClass("alert").stop(!0).hide().text(e).slideDown(500)},resetAlert:function(){this.$(".notification").addClass("notice").removeClass("alert").hide()},handleFileNameClick:function(){this.updateSelectedFile(null)},handleTipsClick:function(){c(".tips-bound").addClass("visible"),c(".modal-overlay").addClass("ugc-show")},handleTipsClose:function(){c(".tips-bound").removeClass("visible"),c(".modal-overlay").removeClass("ugc-show")},handleGetStartedClick:function(){c.when(this.options.guest.login()).then(this.revealForm)},countdown:function(){var e=this.$(".has-count"),t=e.attr("maxlength"),i=e.siblings(".count-remaining");i.html(t),n.FormElements.characterCountdown.onReady(e,t,i)},generateRenderContext:function(e){var i,s=this.model.toJSON(),a=o.Resize.width(),r=["name","age","state","title"],c={};l.extend(s,s.data[0],t),l.each(s.formFields,function(e){l.contains(r,e.tag)?c[e.tag]=e:c.extra=e,e.options&&(c[e.tag].select=!0)});var u=!l.isEmpty(s.dos)||!l.isEmpty(s.donts),p=this.model.get(a<d.midHigh?"start_background_mobile_image":"start_background_desktop_image");return c.extra&&(i=n.FormElements.characterCountdown.renderTemplate({maxLength:140,tag:c.extra.tag,label:c.extra.label,rows:3,required:c.extra.required})),l.extend(s,{fields:c,has_tips:u,character_countdown:i,background_image:p},e),s},destroy:function(){this.options.guest&&this.options.guest.release()}})}(this),Whiskers("modules.voting",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<div class="bound"> <h3 class="voting-title">'),s.b(s.v(s.f("title",e,t,0))),s.b('</h3> <h2 class="voting-question">'),s.b(s.v(s.d("header_data.desc",e,t,0))),s.b('</h2> <ul class="voting-items"> '),s.s(s.f("randData",e,t,1),e,t,0,153,744,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <li data-id="'),i.b(i.v(i.f("id",e,t,0))),i.b('"> <div class="item-container"> <div class="thumb" style="background-image: url('),i.b(i.v(i.f("thumb",e,t,0))),i.b(');"> <span class="thumb-sizer"></span> </div> <div class="details"> <div class="title">'),i.b(i.v(i.f("title",e,t,0))),i.b('</div> <div class="description">'),i.b(i.v(i.f("description",e,t,0))),i.b('</div> </div> <div class="btn-container vote-container clicon"> <div class="vote-btn"> <div class="vote-btn-checkmark"></div> <div class="vote-btn-title">'),i.b(i.v(i.d("translations.vote",e,t,0))),i.b('</div> </div> </div> <div class="btn-container share-vote">'),i.b(i.rp("<socialLinkPartial0",e,t,"")),i.b('</div> </div> <div class="notification"></div> <span class="bg-fill"></span> </li> ')}),e.pop()),s.b(" </ul> </div>"),s.fl()},partials:{"<socialLinkPartial0":{name:"socialLinkPartial",partials:{},subs:{}}},subs:{}}),Whiskers("modules.voting_player",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<div id="voting-video"> <div class="aspect"> <!-- Orphan video markup --> '),s.s(s.f("expired",e,t,1),e,t,1,0,0,"")||s.b(' <div id="voting-video-player" class="voting-video-player"></div> '),s.b(" "),s.s(s.f("expired",e,t,1),e,t,0,177,242,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <div class="orphan"><p>'),i.b(i.v(i.d("translations.video_expired",e,t,0))),i.b("</p></div> ")}),e.pop()),s.b(" <!-- /Orphan video markup --> </div> </div>"),s.fl()},partials:{},subs:{}}),function(e){"use strict";var t=e.Disney,i=e.document,s=e.jQuery,n=e._;t.Utilities=t.Utilities||{},n.extend(t.Utilities,{toggleFullScreen:function(e,t){var s=this.isFullScreen();e&&t&&!s?e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullScreen?e.webkitRequestFullScreen():e.msRequestFullscreen&&e.msRequestFullscreen():!t&&s&&(i.exitFullscreen?i.exitFullscreen():i.mozCancelFullScreen?i.mozCancelFullScreen():i.webkitCancelFullScreen?i.webkitCancelFullScreen():i.msExitFullscreen&&i.msExitFullscreen())},onFullScreenChange:function(e){s(i).on("fullscreenchange",function(){e()}),s(i).on("webkitfullscreenchange",function(){e()}),s(i).on("mozfullscreenchange",function(){e()}),s(i).on("msfullscreenchange",function(){e()})},offFullScreenChange:function(){s(i).off("fullscreenchange"),s(i).off("webkitfullscreenchange"),s(i).off("mozfullscreenchange"),s(i).off("msfullscreenchange")},isFullScreen:function(){return!!(i.fullScreen||i.webkitIsFullScreen||i.mozFullScreen||i.msFullscreenElement||i.fullscreenElement)}})}(this),function(e){"use strict";var t=e.Grill,i=e.Backbone,s=e.Disney,n=s.Utilities,a=e.Modernizr,o=e.Whiskers,r=e.jQuery,l=e._,c=s.Style.breakpoints;t.ModuleView.register("voting",{template:o.modules.voting,assets:{scripts:["//a.dilcdn.com/a/videoplayer-be62928c4acf.js"]},events:{"click .vote-container":function(e){this.$voteItem=r(e.currentTarget).closest("li"),this.handleVoteClick()},"click .thumb":function(e){var t=r(e.currentTarget),i=t.closest("li"),s=i.data("id");this.$voteItem&&this.$voteItem.data("id")===s||(this.$(".thumb").removeClass("active"),t.addClass("active"),this.$voteItem=i,this.initVideoPlayer(this.$voteItem))}},initialize:function(){this.options.guest.retain()},render:function(){var e=this.model.get("data"),t=l.shuffle(e);this.model.set("randData",t);var i=l.extend({shareOverrides:{href:r("meta[property='og:url']").attr("content"),title:r("meta[property='og:title']").attr("content")}},this.model);this.$el.html(this.template.render(i,{socialLinkPartial:o.partials.social_btn}))},handleVoteClick:function(){var e=this;r.when(this.options.guest.login()).then(function(t){e.makeVoteRequest(t)})},makeVoteRequest:function(e){var t=this,i=t.model.get("translations"),s=i.error_default,n={swid:e.profile.swid,accessToken:e.tokens.access,eventID:this.model.get("campaign_id"),voteOptionID:this.$voteItem.data("id")};r.ajax({url:t.model.get("cellophane_host")+"/ugc/content/v1/vote",headers:{Authorization:t.model.get("cellophane_auth_key")},type:"POST",data:n,dataType:"json"}).done(function(e){e.data&&e.data._id?t.animateVoteSuccess():t.animateVoteFail(s)}).fail(function(e){409===e.status&&(s=i.error_maxnum),t.animateVoteFail(s)})},animateVoteSuccess:function(){this.$(".selected").removeClass("selected"),this.$voteItem.addClass("selected")},animateVoteFail:function(e){this.$(".alert").removeClass("alert"),this.$voteItem.addClass("alert").find(".notification").text(e)},destroy:function(){this.options.guest&&this.options.guest.release()},initVideoPlayer:function(e){var t=e.data("id"),s=this.model.data.findWhere({id:t});if(this.playerView&&this.playerView.remove(),this.playerView=new d({model:s}),e.find(".thumb-sizer").html(this.playerView.render()),this.playerView.init(),a.mobile){var o=this,r=o.playerView.$el.find("video")[0];r.play(),i.Resize.width()<c.midHigh&&(n.toggleFullScreen(r,!0),n.onFullScreenChange(function(){n.isFullScreen()||(r.pause(),o.playerView&&(o.playerView.remove(),o.playerView=null,o.$voteItem=null),n.offFullScreenChange())}))}}});var d=t.ModuleView.register("video-player",{className:"voting-video-container",template:o.modules.voting_player,render:function(){return this.$el.html(this.template.render()),this.el},init:function(){var e=this;this.player=new s.MatterhornVideoPlayer("voting-video-player",{video:e.model.attributes,autoPlay:!0,clickToPlay:!0,showTitle:!0,ads:{enabled:!1,context:!1}})},remove:function(){this.$(".voting-video-container").remove(),this.$el.closest(".thumb").removeClass("active"),this.player.destroy(),this.player=null,t.BunView.prototype.remove.call(this)}})}(this),Whiskers("modules.voting_multi",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.s(s.f("style_options",e,t,1),e,t,0,18,2340,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <style type="text/css"> '),i.s(i.f("color_settings",e,t,1),e,t,0,62,1460,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("base_color",e,t,1),e,t,0,78,725,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .voting-category .item{ background-color: "),i.b(i.v(i.f("base_color",e,t,0))),i.b("; } "),i.b(" #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .voting-category .item.voted{ background-color: transparent; } #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .button.blue:not(.next-button), #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .button.all-categories-button, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .entity-container.voted .title, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .entity-container.voted .desc, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .entity-container.error .title, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .entity-container.error .desc, html.no-touch #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .category-link.selected, html.no-touch #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .category-link.item:hover, html.no-touch #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .category-link.item:active{ color: "),i.b(i.v(i.f("base_color",e,t,0))),i.b("; } ")}),e.pop()),i.b(" "),i.s(i.f("accent_color",e,t,1),e,t,0,758,1260,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .button.blue, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .button.all-categories-button, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .voting-category:not(.landing-page) .item .aspect:before, html.no-touch #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .button.blue:hover, html.no-touch #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .button.blue:active, html.no-touch #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .category-link.selected, html.no-touch #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .category-link.item:hover, html.no-touch #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .category-link.item:active{ background-color: "),i.b(i.v(i.f("accent_color",e,t,0))),i.b("; } #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .next-button .next-text{ color: "),i.b(i.v(i.f("accent_color",e,t,0))),i.b("; } ")}),e.pop()),i.b(" "),i.s(i.f("error_modal",e,t,1),e,t,0,1294,1443,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("background_color",e,t,1),e,t,0,1316,1421,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .voting-category:not(.landing-page) .item:after{ background-color: "),i.b(i.v(i.f("background_color",e,t,0))),i.b("; } ")}),e.pop()),i.b(" ")}),e.pop()),i.b(" ")}),e.pop()),i.b(" "),i.s(i.f("next_button",e,t,1),e,t,0,1496,1726,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("background_color",e,t,1),e,t,0,1518,1704,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .button.next-button, html.no-touch #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .button.next-button:hover, html.no-touch #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .button.next-button:active{ background-color: "),i.b(i.v(i.f("background_color",e,t,0))),i.b("; } ")}),e.pop()),i.b(" ")}),e.pop()),i.b(" "),i.s(i.f("vote_again_button",e,t,1),e,t,0,1765,1969,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .button.vote-again-button, html.no-touch #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .button.vote-again-button:hover, html.no-touch #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .button.vote-again-button:active{ background-color: "),i.b(i.v(i.f("background_color",e,t,0))),i.b("; } ")}),e.pop()),i.b(" "),i.s(i.f("message_color",e,t,1),e,t,0,2010,2312,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("background_color",e,t,1),e,t,0,2032,2290,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .end-card .message-wrapper p{ border-color: "),i.b(i.v(i.f("background_color",e,t,0))),i.b("; } #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .social-link-btn, html.no-touch #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .social-link-btn:hover, html.no-touch #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .social-link-btn:active{ background-color: "),i.b(i.v(i.f("background_color",e,t,0))),i.b("; } ")}),e.pop()),i.b(" ")}),e.pop()),i.b(" </style> ")}),e.pop()),s.b(' <div class="bound'),s.s(s.f("enable_all_categories",e,t,1),e,t,0,2402,2425,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(" all-categories-enabled")}),e.pop()),s.b(' "> <div class="voting-wrapper'),s.s(s.f("show_desc",e,t,1),e,t,0,2495,2505,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(" show-desc")}),e.pop()),s.b('"> '),s.b(" "),s.s(s.f("data",e,t,1),e,t,0,2550,4472,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("listCollection",e,t,1),e,t,0,2570,4452,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("endcard",e,t,1),e,t,1,0,0,"")||(i.b(' <div class="voting-category '),i.s(i.f("active",e,t,1),e,t,0,2623,2629,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("active")}),e.pop()),i.s(i.f("landing",e,t,1),e,t,0,2652,2665,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" landing-page")}),e.pop()),i.s(i.f("thumbs_loaded",e,t,1),e,t,1,0,0,"")||i.b(" lazy-deferred"),i.b('" data-id="'),i.b(i.v(i.f("display_id",e,t,0))),i.b('" data-category-slug="'),i.b(i.v(i.f("ref_title_slug",e,t,0))),i.b('"'),i.s(i.f("fallback",e,t,1),e,t,0,2806,2827,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' data-fallback="true"')}),e.pop()),i.b('> <div class="category-header module_header"> <h2>'),i.b(i.v(i.f("title",e,t,0))),i.b("</h2> <p>"),i.b(i.v(i.f("short_desc",e,t,0))),i.b('</p> </div> <div class="cols-'),i.b(i.v(i.f("cols",e,t,0))),i.b(" col-container "),i.b(i.v(i.f("layoutType",e,t,0))),i.b('"> '),i.s(i.f("listCollection",e,t,1),e,t,0,3010,3783,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.b(' <span class="col item '),i.s(i.f("lastRow",e,t,1),e,t,0,3161,3169,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("last-row")}),e.pop()),i.b(" "),i.s(i.f("widthClass",e,t,1),e,t,0,3197,3211,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.v(i.f("widthClass",e,t,0)))}),e.pop()),i.b(" "),i.s(i.f("category",e,t,1),e,t,0,3240,3254,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" category-link")}),e.pop()),i.b(" "),i.s(i.d("style_options.color_settings",e,t,1),e,t,0,3301,3324,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("text-"),i.b(i.v(i.f("text_lightness",e,t,0)))}),e.pop()),i.b('" data-id="'),i.b(i.v(i.f("id",e,t,0))),i.b('" data-category="'),i.b(i.v(i.f("ref_title_slug",e,t,0))),i.b('"'),i.s(i.f("fallback",e,t,1),e,t,0,3423,3444,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' data-fallback="true"')}),e.pop()),i.b("> "),i.b(i.rp("<entity_container0",e,t,"")),i.b(" "),i.s(i.f("display_interactive_elements",e,t,1),e,t,0,3514,3741,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="modal-message '),i.s(i.d("style_options.error_modal",e,t,1),e,t,0,3571,3594,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("text-"),i.b(i.v(i.f("text_lightness",e,t,0)))}),e.pop()),i.b('"> <h4 class="title">'),i.b(i.v(i.d("translations.error",e,t,0))),i.b('</h4><p class="message">'),i.b(i.v(i.d("translations.error_message_generic",e,t,0))),i.b("</p> </div> ")}),e.pop()),i.b(" </span> ")}),e.pop()),i.b(" </div> </div> ")),i.b(" "),i.s(i.f("endcard",e,t,1),e,t,0,3842,4439,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="voting-category end-card '),i.s(i.f("active",e,t,1),e,t,0,3891,3897,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("active")}),e.pop()),i.b('" data-id="'),i.b(i.v(i.f("display_id",e,t,0))),i.b('"> <div class="content-wrapper content-center content-middle"> '),i.s(i.f("title",e,t,1),e,t,0,4006,4024,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("<h2>"),i.b(i.v(i.f("title",e,t,0))),i.b("</h2>")}),e.pop()),i.b(' <div class="message-wrapper"> '),i.s(i.f("thank_you_message",e,t,1),e,t,0,4087,4131,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<p class="message">'),i.b(i.v(i.f("thank_you_message",e,t,0))),i.b("</p>")}),e.pop()),i.b(' <div class="vote-again-button button large '),i.s(i.d("style_options.vote_again_button",e,t,1),e,t,0,4233,4256,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("text-"),i.b(i.v(i.f("text_lightness",e,t,0)))}),e.pop()),i.b('"> '),i.b(i.v(i.d("translations.vote_again",e,t,0))),i.b(" </div> </div> "),i.s(i.f("include_social",e,t,1),e,t,0,4356,4405,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<div class="social-wrapper">'),i.b(i.rp("<social_btn1",e,t,"")),i.b("</div>")}),e.pop()),i.b(" </div> </div> ")}),e.pop()),i.b(" ")}),e.pop()),i.b(" ")}),e.pop()),s.b(" "),s.s(s.f("display_interactive_elements",e,t,1),e,t,0,4515,5017,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("enable_all_categories",e,t,1),e,t,0,4542,4629,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="all-categories-button button large">'),i.b(i.v(i.d("translations.all_categories",e,t,0))),i.b("</div> ")}),e.pop()),i.b(' <div class="next-button-wrapper"> '),i.b(' <div class="next-button button large '),i.s(i.d("style_options.next_button",e,t,1),e,t,0,4835,4858,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("text-"),i.b(i.v(i.f("text_lightness",e,t,0)))}),e.pop()),i.b('"> <span class="next-text">'),i.b(i.v(i.d("translations.next_category",e,t,0))),i.b('</span> <span class="next-title">'),i.b(i.v(i.f("current_title",e,t,0))),i.b("</span> </div> </div> ")}),e.pop()),s.b(" </div> </div>"),s.fl()},partials:{"<entity_container0":{name:"entity_container",partials:{},subs:{}},"<social_btn1":{name:"social_btn",partials:{},subs:{}}},subs:{}}),function(e){"use strict";function t(e){d.fn.extend({replaceChildText:function(e,t){var i=this.find(e);return i.text(t),this},replaceVoteText:function(e){return this.replaceChildText(".cta-button",e)},replaceNextTitle:function(e){return this.replaceChildText(".next-title",e)},animateVoteSuccess:function(){return this.addClass("voted").replaceVoteText(e.voted)},animateVoteFail:function(){var e=this;return this.one("transitionend",function(){u.delay(function(){e.removeClass("error")},2e3)}),this.addClass("error")},resetVoteState:function(){return this.removeClass("voted").replaceVoteText(e.vote)},activateCategory:function(e){var t=this.addClass("active");return t.hasClass("lazy-deferred")&&!t.hasClass("end-card")&&t.enableLazyLoad().loadLazyImages(),t.on("transitionend",function(i){if(2===i.eventPhase&&(i.stopPropagation(),"max-height"===i.originalEvent.propertyName)){t.off("transitionend");var s={type:"categoryTransitioned",categoryID:e.nextCategory.get("display_id"),nextButtonText:e.afterNextDesc};t.trigger(s)}}),t},deactivateCategory:function(){return this.removeClass("active")},getNextCategory:function(e){var t=".voting-category:not(.landing-page)"+(e?":not(.end-card)":""),i=this.next(t);return i.length<1&&(i=this.siblings(t).first()),i}})}function i(e){e.unset("active")}function s(e){return e.toLowerCase().replace(/[^a-z0-9_:, \-]/gi,"").replace(/\s+/g,"_")}function n(e,t){var i=e.get,s=i?e.get("list_items")||e.get("data"):e.list_items;s?(u.each(s,function(e){n(e,t)}),i?e.set({listCollection:new l.LazyCollection(s),display_id:e.id}):(e.listCollection=new l.LazyCollection(s),e.display_id=e.id)):e.entity_config&&(u.extend(e,{cta_button_title:t,href:"",short_desc:e.short_desc||"",thumb_data:e.thumb_images&&e.thumb_images.thumb_4x3||e.thumb_data}),u.extend(e.entity_config,{aspect_ratio:"4x3",title_overlay:!1,details_visibility:"show",thumb_outline:!0,text_alignment:"center",rounded_corners:"default",skip_hover:!0,show_ptitle:!0}))}var a=e.Disney,o=e.Grill,r=e.Whiskers,l=e.Backbone,c=e.Tracker,d=e.jQuery,u=e._,p=a.Style.breakpoints,h=u.values(p),f=o.ModuleView.extend({style_classes:["grid-view","full-width-mob"],required_template_sets:["module_header","entities"],breakpoints:h.join(" "),template:r.modules.voting_multi,included_components:{social_btn:r.partials.social_btn},infiniteVote:!0,skipEndCard:!1,campaignID:"",events:{"click .next-button":function(){this.trackButtonClick("Next Category"),this.jumpToCategory("next")},"click .all-categories-button":function(){this.trackButtonClick("All Categories"),this.jumpToCategory("landing")},"click .vote-again-button":function(){this.trackButtonClick("Vote Again"),this.jumpToCategory(this.initialCategoryID)},"click .item:not(.category-link)":function(e){e.preventDefault();var t=d(e.currentTarget).closest(".item");t.hasClass("voted")||t.hasClass("error")||this.handleVoteClick(t)},"click .item.category-link":function(e){var t=d(e.currentTarget),i=t.data("id");t.addClass("selected"),this.skipEndCard=!0,this.trackCategoryItem(t),this.jumpToCategory(i),this.model.get("enable_endcard")&&this.reIndexEndCard(i),this.skipEndCard=!1},categoryTransitioned:function(e){this.infiniteVote&&this.resetVoteItems(),this.replaceNextButtonText(e.nextButtonText),this.updateHash(e.categoryID),this.$(".category-link.selected").removeClass("selected")}},initialize:function(){if(this.dataValid=this.validateData(),t(this.model.get("translations")),this.dataValid){var i=this.model,s=i.get("data_structure"),a="mega_list"===s?u.first(i.data.models):i,o=i.get("translations"),r=i.get("config_options")||{},l=r.endcard_config,c=!!r.skip_category_page,d=!!r.show_desc;r.shuffle_content&&this.shuffleData(),this.campaignID=r.campaign_id,i.set({show_desc:d,enable_endcard:!!l,enable_all_categories:!l&&"single_category"!==s}),n(a,o.vote);var p,h,f=a.get("listCollection"),v=f.at(0);if("single_category"!==s){var b=this.addLandingPage(a);v=c?f.at(1):b}if(v.set("fallback",!0),l&&(this.endCardModel=this.generateEndCard()),e.location.hash){var m=/(#)([a-z0-9]*)/,g=m.exec(e.location.hash),y=g&&g[2];p=f.findWhere({display_id:y})}p=p||v,h=f.indexOf(p),this.initialCategoryID=p.id,this.activateCategoryModel(p),f.add(this.endCardModel,{at:h}),this.masterCollection=f,i.data.models=[a]}},render:function(){if(this.dataValid){var t=this.cols(),i=this.cols(!0),s=e.location,n=u.extend(this.model,{display_interactive_elements:!0,shareOverrides:{href:s.protocol+"//"+s.hostname+s.pathname},cols:function(){return this.get("landing")?i:t},layoutType:function(){return t>1||this.get("landing")?"grid-layout":"list-layout"}});this.$el.html(this.template.render(n,this.ctx_additions())),this.$nextButton=this.$(".next-button-wrapper"),this.$endCard=this.$(".end-card");var a=this.getTargetElements();this.replaceNextButtonText(a.nextDesc)}},cols:function(e){var t=l.Resize.width(),i=t>p.midHigh;return e?t>p.max?4:i?3:2:i?3:1},validateData:function(){var e=this.model,t=e.data.models,i=u.first(t),s=i&&i.get("list_items");if(!s)return!1;var n=t.length>1?"multiple_objects":s[0]&&s[0].list_items?"mega_list":"single_category";return e.set("data_structure",n),!0},shuffleData:function(){var e=this.model.get("data"),t=this.model.get("data_structure"),i=function(e){e.list_items=u.shuffle(e.list_items)};"multiple_objects"===t?(u.each(e,i),this.model.set("data",u.shuffle(e))):"mega_list"===t&&(u.each(e[0],i),this.model.set("data",e))},addLandingPage:function(e){var t,i=this.model,s=e.get("list_items")||e.get("data");u.each(s,function(e){u.extend(e,{category:!0})}),t=new l.LazyCollection(s);var n=new l.Model({title:i.get("title"),short_desc:i.get("desc"),listCollection:t,display_id:"",landing:!0});return e.get("listCollection").unshift(n),n},generateEndCard:function(){var e=this.model,t=e.get("translations"),i=e.get("config_options"),n=i&&i.endcard_config,a=!!n,o=!this.options.cds&&n&&n.enable_social,r=e.get("style_options"),c=r&&r.message_color&&r.message_color.text_lightness,d=e.get("extra_options"),u=d&&d.thank_you_messaging,p=u&&u.heading,h=u&&u.paragraph_text,f=s(p||t.vote_again),v=new l.Model({display_id:f,endcard:!0,enable_endcard:a,include_social:o,social_btn_text_lightness:c,title:""!==p&&p,thank_you_message:""!==h&&h});return v},reIndexEndCard:function(e){var t=this.masterCollection,i=t.findWhere({display_id:e}),s=this.$(".voting-category[data-id="+e+"]");t.remove(this.endCardModel);var n=this.$endCard.detach(),a=t.indexOf(i);t.add(this.endCardModel,{at:a}),s.before(n)},jumpToCategory:function(e){var t,i=this.masterCollection;switch(e){case"next":t=this.getTargetElements();break;case"landing":t=this.getTargetElements(this.$(".voting-category.landing-page"));break;case"endcard":t=this.getTargetElements(this.$(".voting-category.end-card"));break;default:var s,n=i.findWhere({display_id:e});s=this.$(n?".voting-category[data-id="+e+"]":".voting-category[data-fallback='true']"),t=this.getTargetElements(s)}this.transitionCategory(t)},transitionCategory:function(e){i(e.active),this.activateCategoryModel(e.nextCategory),e.$current.deactivateCategory(),e.$next.activateCategory(e)},updateHash:function(t){e.location.replace("#"+t)},replaceNextButtonText:function(e){var t=this.$nextButton;t.toggleClass("hidden",!e),t.replaceNextTitle(e?e:"")},activateCategoryModel:function(e){var t=e.get("landing"),i=e.get("ref_title_slug");e.set({active:!0,thumbs_loaded:!0}),t?this.trackCategoryPage("Splash"):this.trackCategoryPage("Nominees",i)},getTargetElements:function(e){var t=this.$(".voting-category.active"),i=e||t.getNextCategory(this.skipEndCard),s=i.getNextCategory(this.skipEndCard),n=this.masterCollection,a=n.findWhere({active:!0}),o=i.data("id"),r=n.findWhere({display_id:o}),l=s.data("id"),c=n.findWhere({display_id:l}),d={$current:t,$next:i,active:a,nextCategory:r,nextDesc:r&&r.get("short_desc"),afterNextCategory:c,afterNextDesc:c&&c.get("short_desc")};return d},handleVoteClick:function(e){this.makeVoteRequest(e),this.trackVoteItem(e)},makeVoteRequest:function(e){var t=this,i=e.parents(".voting-category"),s=e.data("id"),n=i.data("category-slug"),o={};o[n+"|"+s]="",o._portal=a.portal,d.ajax({timeout:3e3,url:this.model.get("cellophane_host")+"/ugc/content/v1/campaigns/"+this.campaignID+"/submit",headers:{Authorization:this.model.get("cellophane_auth_key")},type:"POST",data:o,dataType:"json"}).done(function(){e.one("transitionend",function(){t.jumpToCategory("next")}).animateVoteSuccess()}).fail(function(){e.animateVoteFail()})},resetVoteItems:function(){this.$(".item.voted").resetVoteState()},trackCategoryPage:function(e,t){if(c){var i={engagementType:"mattVote_category"+e+"_view",action:"Vote Category "+e+" (Page Load)"};t&&(i.engagementMeta=t),c.event(i)}},trackCategoryItem:function(e){var t=e.data("category");c&&c.event({engagementType:"mattVote_categorySplash_selectCategory",engagementMeta:t,action:"Vote Category Selection (Click)"})},trackVoteItem:function(e){var t=e.data("category"),i=s(e.find(".entity-container .title").text()),n=t+"/"+i;c&&c.event({engagementType:"mattVote_categoryNominees_vote",engagementMeta:n,action:"Vote Button (Click)"})},trackButtonClick:function(e){var t=this.$(".voting-category.active .item").data("category"),i=(e.charAt(0).toLowerCase()+e.slice(1)).replace(/\s+/g,"");c&&c.event({engagementType:"mattVote_categoryNominees_"+i+"Button",engagementMeta:t,action:'"'+e+'" Button (Click)'})
}});f.register("voting_multi",{})}(this),function(e){"use strict";var t,i=e.Disney,s=e.Grill,n=e.Backbone,a=e._,o=e.jQuery,r=e.Whiskers,l=e.Math,c=e.sessionStorage,d=e.JSON,u=s.ModuleView.extend({style_classes:["full-width","full-height","skip-top-border"],required_template_sets:["module_header","entities"],template:r.modules.watch,assets:{scripts:["//a.dilcdn.com/a/videoplayer-be62928c4acf.js"]},initialize:function(){var t=this,s=this.model.collection&&this.model.collection.style,n=s&&s.video_player_skin_override;if(n&&"matterhorn"!==n){var r=i.Style.AssetPaths.supported_videoplayer_skins;a.extend(this.playerConfig,{skinUrl:r[n]}),this.skinClass=n}this.hasPlaylist=!!/[&?]playlist=([^&]+)/.exec(e.location.search),t.h=o(e).on("resize."+t.cid,a.throttle(function(){var i=o(e).height();i!==t.h&&(t.h=i,t.layout())},100)).height()},render:function(){var e=a.first(this.model.get("data")),i=this.hidePromoLink?null:e.contentToolbarPromoLink,s=a.extend({tags:e.tags,contenttype:e.contenttype,upNext:this.upNext(),contentToolbarPromoLink:i,cds:this.options.cds,skinClass:this.skinClass,playlist_below:this.playlist_below,message_below:this.message_below,hasPlaylist:this.hasPlaylist},this.options.ads.helpers(),this.model.toJSON());this.$el.html(this.template.render(s,this.ctx_additions())),t=s.data[0],this.layout()},ready:function(){var t,s=this,n=s.options,o=a.first(s.model.get("data")),r=s.model.get("translations");if(s.loadContentSideBarView(),s.loadItemsWithinModule&&e.location.hash){var l=/(idx\/)([a-z0-9]*)/,c=l.exec(e.location.hash);c&&c[2]&&c[2]!==o.id&&(t=c[2],s.player=null)}a.extend(this.playerConfig,{video:o,ads:{enabled:!n.cds&&!n.noAds,context:n.ads},translations:r}),"undefined"==typeof t&&(this.player=new i.MatterhornVideoPlayer("player",this.playerConfig)),this.hasPlaylist&&(this.watchPlaylist=new i.WatchPlaylistView({el:this.$("#playlist-holder"),model:this.model,videoPlayer:this.player,cdsMode:n.cds,keepPlayListOpenOnLoad:s.keepPlayListOpenOnLoad,loadItemsWithinModule:s.loadItemsWithinModule,itemToPlayOnLoad:t})),s.postReady&&s.postReady()},loadContentSideBarView:function(){this.loadContentToolBarView()},loadContentToolBarView:function(){var e=this,t=e.options,s=e.$("#meta"),n=e.model.get("data")[0].not_embeddable,a=e.model.get("translations"),o=[{share_type:"share",share_text:a.share,output_label:a.quick_link}];n!==!0&&o.unshift({share_type:"embed",share_text:a.embed,output_label:a.embed}),e.$(".module_header").addClass("hide"),e.tb=new i.ContentToolbarView({el:s,template:e.toolbar_template,use_deprecated_social:e.use_deprecated_social,model:e.model,socialLinks:o,cdsMode:t.cds,ads:t.ads})},upNext:function(){var e=a.first(this.model.get("data")),t=c&&d.parse(c.getItem("videoHistoryOnDisneyVideo")||"[]"),i=e.next||[],s=[];a.each(i,function(e){s.push(e.id)});var n=a.first(a.difference(s,t)),o=a.find(i,function(e){return e.id===n});o||(o=a.first(i)),t.push(e.id),t.length>10&&t.shift();try{c.setItem("videoHistoryOnDisneyVideo",d.stringify(t))}catch(r){}return o},layout:function(){var e=this.$("#video_wrapper .bound");e.css("maxWidth",l.min(1024,l.max(320,l.ceil((this.h-120)/.5625))))},remove:function(){this.removePlayer(),s.BunView.prototype.remove.call(this),o(e).off("resize."+this.cid),this.tb.remove(),this.watchPlaylist&&this.watchPlaylist.remove()},removePlayer:function(){this.player&&(this.player.destroy(),this.player=null)}});u.register("watch",{toolbar_template:r.shared.contenttoolbar,use_deprecated_social:!0,playlist_below:!1,message_below:!1,playerConfig:{autoPlay:!0,clickToPlay:!1}}),u.register("watch_2",{toolbar_template:r.shared.contenttoolbar2,use_deprecated_social:!1,playlist_below:!0,message_below:!0,playerConfig:{autoPlay:!0,clickToPlay:!1}}),u.register("watch2_inline",{className:"bun module full-width full-height watch_2",toolbar_template:r.shared.contenttoolbar2,use_deprecated_social:!1,playlist_below:!0,message_below:!0,playerConfig:{autoPlay:!0,clickToPlay:!1,showEndCard:!1},loadItemsWithinModule:!0,keepPlayListOpenOnLoad:!0,hidePromoLink:!0,catalogEntityType:"Game",loadContentSideBarView:function(){var e=this,t=e.options,n=e.model.get("header_data"),o=a.last(e.model.get("data")),r=e.catalogEntityType&&o.type===e.catalogEntityType,l=e.model.get("translations"),c=e.$("#meta");if(e.loadItemsWithinModule&&r){var d=new s.Module({data:[o],translations:l});this.tb=new i.CatalogFloatView({el:c,model:d,cdsMode:t.cds,ads:t.ads}),n&&c.addClass("with-header")}else e.loadContentToolBarView()},postReady:function(){var e=this;e.setupImageAnimationControls(),e.listenTo(n,"loadNextItem",e.loadNextItem,e)},loadNextItem:function(t){var s=this,n=s.$(".image-controls-wrap");if(s.removePlayer(),s.imgTimer&&e.clearTimeout(s.imgTimer),"Video"===t.type){n.addClass("hide");var r=a.find(s.model.get("data"),function(e){return e.id===t.id});if("undefined"==typeof r)return s.watchPlaylist.updatePlayer(null),void s.watchPlaylist.loadNextPlaylistItem(t.id);a.extend(s.playerConfig,{video:r,showEndCard:!1}),s.player=new i.MatterhornVideoPlayer("player",s.playerConfig),s.watchPlaylist.updatePlayer(s.player)}else"Image"===t.type&&(s.watchPlaylist.updatePlayer(null),n.removeClass("hide").addClass("play"),s.$("#player").empty().append(o("<img>",{src:t.image,alt:t.seo_title,id:t.id,width:"100%"})),s.imgTimer=e.setTimeout(function(){s.watchPlaylist.loadNextPlaylistItem(t.id)},5e3));e.location.replace("#idx/"+t.id)},setupImageAnimationControls:function(){var t=this,i=t.$("#player");t.$(".image-controls-wrap").click(function(){var s=o(this);s.toggleClass("play"),t.imgTimer&&e.clearTimeout(t.imgTimer),s.hasClass("play")&&(t.imgTimer=e.setTimeout(function(){t.watchPlaylist.loadNextPlaylistItem(i.find("img").attr("id"))},5e3))})}})}(this),Whiskers("modules.watch_message",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.s(s.f("data",e,t,1),e,t,0,9,100,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <div class="bound"> '),i.s(i.f("watch_message",e,t,1),e,t,0,48,74,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("<h4>"),i.b(i.v(i.f("watch_message",e,t,0))),i.b("</h4>")}),e.pop()),i.b(" </div> ")}),e.pop()),s.fl()},partials:{},subs:{}}),function(e){"use strict";var t=e.Grill,i=e._,s=e.Whiskers,n=t.ModuleView.extend({style_classes:["custom-padding"],render:function(){var e=i.first(this.model.get("data")),t=i.extend({data:e});this.$el.html(s.modules.watch_message.render(t))}});n.register("watch_message",{})}(this),Whiskers("modules.watch_playlist",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<div class="watch-playlist slider-view pagination-styles dark"> <div class="bound"> <div class="hider"></div> <div class="slides peek-'),s.b(s.v(s.f("rpp",e,t,0))),s.b(' peeking"> <div class="peek left"></div> <div class="peek"></div> <ol class="slider-list peek-'),s.b(s.v(s.f("rpp",e,t,0))),s.b('"> '),s.s(s.f("pages",e,t,1),e,t,0,255,1081,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <li class="slider-page"> <ul class="col-container cols-'),i.b(i.v(i.f("rpp",e,t,0))),i.b(' rows-1"> '),i.s(i.f("models",e,t,1),e,t,0,339,1057,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <li class="col item"> <a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('" id="'),i.b(i.v(i.f("id",e,t,0))),i.b('" class="entity-container ratio-16x9" data-next="'),i.b(i.v(i.f("nextItem",e,t,0))),i.b('"> <div class="thumb-box entity-box"> '),i.s(i.f("vType",e,t,1),e,t,0,500,622,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <span class="thumb-play-btn-wrap"> <span class="thumb-play-btn-bg"> </span> <span class="thumb-play-btn"></span> </span> ')}),e.pop()),i.b(' <div class="aspect"> <div class="now-playing-title"> <h3 class="overlay-title" aria-hidden="true">'),i.b(i.v(i.f("now_playing",e,t,0))),i.b('</h3> </div> <div class="thumbnail"> <img src="'),i.b(i.v(i.f("thumb",e,t,0))),i.b('" class="thumb" alt="'),i.b(i.v(i.f("title",e,t,0))),i.b('"> '),i.s(i.f("badge",e,t,1),e,t,0,845,887,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<img src="'),i.b(i.v(i.f("badge",e,t,0))),i.b('" class="badge" alt="">')}),e.pop()),i.b(' </div> </div> <div class="hover-title"> <div class="text-hidden"><h3 class="skip-text-styles" aria-hidden="true">'),i.b(i.v(i.f("title",e,t,0))),i.b("</h3></div> </div> </div> </a> </li> ")}),e.pop()),i.b(" </ul> </li> ")}),e.pop()),s.b(' </ol> <div class="count"> <p><span class="title">'),s.b(s.v(s.f("playlistTitle",e,t,0))),s.b(' &nbsp;|&nbsp; </span> <span class="item-index">'),s.b(s.v(s.f("currentIndex",e,t,0))),s.b("</span> "),s.b(s.v(s.d("translations.of",e,t,0))),s.b(" "),s.b(s.v(s.f("totolItems",e,t,0))),s.b('</p> </div> </div> </div> </div> <div class="pulldown-bar"><div class="arrow up"></div></div>'),s.fl()},partials:{},subs:{}}),function(e){"use strict";function t(e,t,i){for(var s=i?"&":"?",n=[],a=[],o=0,r=0;r<e.length;r++)if(e[r].href=e[r].href+s+"playlist="+t,(a=e[r].images)&&a.length>0){for(var l=0;l<a.length;l++)a[l].order=++o,a[l].type="Image",a[l].href=e[r].href+"#image/"+a[l].id,a[l].nextItem=e[r].href;n=n.concat(a)}else e[r].nextItem=e[r+1]?e[r+1].href+s+"playlist="+t:"",e[r].order=++o,n.push(e[r]);return n}function i(e,t,i){var s=e,n=t.id,a=(t.order||t.get("order"))-1;if(u.each(s.$(".slider-list li a .active"),function(e){s.$(e).removeClass("active")}),n){var o=s.$("#"+n);o.find(".thumb-box").addClass("active"),o.find(".thumbnail").addClass("active"),o.find(".now-playing-title").addClass("active"),s.$(".item-index").text(t.order)}if(i&&a>=0){var r=s.rpp(),l=Math.floor(a/r);s.$(".slides ol").swipeasaurus("slide",l)}}function s(t){if(t){var i=b.exec(t);i&&i[1]&&e.Backbone.history.navigate(i[1],!0)}}var n=e.Disney,a=n.Style.breakpoints,o=[a.midLow,a.midHigh],r=e.Backbone,l=e.jQuery,c=e.Whiskers,d=n.Cookie,u=e._,p=!1,h=null,f=r.Resize.width,v="manual-play",b=/^(?:(?:[a-z]+:)?\/\/[a-z0-9:.\-]+)?\/(.*)$/;n.WatchPlaylistView=r.View.extend({videoPlayer:null,breakpoints:o.join(" "),events:{"click .pulldown-bar":function(){this.showPlaylist()},"click .hider":function(){this.showPlaylist()},"click .watch-playlist .slides":function(e){e.stopPropagation()}},showPlaylist:function(){h||(p?(p=!1,l("#playlist-holder").addClass("closed").removeClass("open"),l(".hider").fadeIn()):(p=!0,l("#playlist-holder").addClass("open").removeClass("closed"),l(".hider").fadeOut()))},initialize:function(){this.videoPlayer=this.options.videoPlayer||null,this.loadItemsWithinModule=this.options.loadItemsWithinModule||!1,this.init()},render:function(){var t=this,s=this.rpp(),n=this.options.keepPlayListOpenOnLoad||!1,o=this.model.get("translations"),r=t.options.itemToPlayOnLoad||t.model.get("data")[0].id,d=u.indexOf(u.pluck(this.listData.models,"id"),r);0>d&&(d=0);var p=t.listData.models[d],v=Math.floor(d/s),b={cds:this.options.cdsMode,rpp:s,currentTitle:p.get("title"),currentIndex:p.get("order"),totolItems:t.listData.length,playlistTitle:t.playlistTitle,pages:t.listData.pages(s,{nest:1}),translations:o};this.$el.html(c.modules.watch_playlist.render(b)),this.$(".slides ol").swipeasaurus({arrows:!0,loop:!1,right:.2/(s+.2),index:v}),t.$(".slides ol").delegate("a","click",function(e){var i=this;return i&&t.loadSelectedPlaylistItem(e.currentTarget,i),!1}),i(this,p),l(".hider").fadeOut(),!n&&f()>=a.midHigh&&(h=e.setTimeout(this.closePlaylist,5e3)),this.videoPlayer&&this.videoPlayer.adPattern.setPlaylistLoaded(!0),this.playlistLoaded=!0},closePlaylist:function(){h&&(e.clearTimeout(h),h=null),l("#playlist-holder").addClass("closed").removeClass("open"),l(".hider").fadeIn()},init:function(){var i=/(?:\?|^|&)playlist=([0-9a-f]+)/,s=this,a=i.exec(e.location.search);if(s.pageUrl=/[^\/]+?:\/\/[^#]+/.exec(e.location.href),a){a=a[1];var o=this.options.cdsMode?"?cds":"";l.ajax((n.ajaxBase||"/")+"lists/"+a+".json"+o,{dataType:"json",cache:!0}).then(function(e){s.playlistTitle=e.title,s.adTime=e.adTime,s.adPattern=e.adPattern,s.videoPlayer&&(s.videoPlayer.adPattern.setPlaylistAdTime(e.adTime),s.videoPlayer.adPattern.setPlaylistAdPattern(e.adPattern),s.videoPlayer.messageBus.addMessageListener("playComplete",u.bind(s.loadNextPlaylistItem,s))),s.vpListWithGalleryImages=t(e.data,a,s.options.cdsMode),s.listData=new r.LazyCollection(s.vpListWithGalleryImages),s.render(),s.options.itemToPlayOnLoad&&s.loadPlaylistItem(s.options.itemToPlayOnLoad,!1,!0),s.videoPlayer&&s.configureEndCard(s.videoPlayer)})}},rpp:function(){var e=f()>=a.midHigh;return e?4:2},isPlaylistLoaded:function(){return this.playlistLoaded},configureEndCard:function(){var t=l(".card"),i="#"+this.videoPlayer.config.video.id,s=l(i).attr("data-next");s?this.videoPlayer.config.showEndCard=!1:(this.videoPlayer.config.showEndCard=!0,t.find(".countdown_intro").css("display","none"),t.find(".btn_next").css("display","none"),t.find(".priority").removeClass("priority"),t.find(".btn_replay").css("left","410px"),d.set(v,"ON"),this.videoPlayer.endCard.replay=function(){var t=u.first(l(".item")),i=l(t).find("a").attr("href");if(i){var s=b.exec(i);s&&s[1]&&e.Backbone.history.navigate(s[1],!0)}})},loadNextPlaylistItem:function(){var e=this.videoPlayer&&this.videoPlayer.config.video&&this.videoPlayer.config.video.id||arguments&&arguments[0];if(this.loadItemsWithinModule)this.loadPlaylistItem(e,!0);else if(e){var t=this.$("#"+e).attr("data-next");s(t)}},loadSelectedPlaylistItem:function(t,i){var n=this.$(t),a=n.attr("id");if(this.loadItemsWithinModule)this.loadPlaylistItem(a,!1,!0);else{if(e.Tracker){var o=l.trim(n.find("img").attr("alt")||n.text()),r=n.attr("href"),c=this.$(".slides ol a").index(n),d=["stream","playlist",c,"link"].join("/"),u=[d,o].join("/");e.Tracker.link({linkName:u,linkPosition:d,href:r})}s(i)}},loadPlaylistItem:function(t,s,n){var a=this,o=u.find(a.vpListWithGalleryImages,function(e){return e.id===t});if("undefined"==typeof o&&(o=u.first(a.vpListWithGalleryImages),s=!1),s&&(o=a.vpListWithGalleryImages[o.order]||a.vpListWithGalleryImages[0]),n&&e.Tracker){var l=o.title||o.seo_title,c=a.pageUrl+"#idx/"+o.id,d=o.order-1,p=["stream","playlist",d,"link"].join("/"),h=[p,l].join("/");e.Tracker.link({linkName:h,linkPosition:p,href:c})}i(this,o,!0),r.trigger("loadNextItem",o)},updatePlayer:function(e){var t=this;t.videoPlayer=e,t.videoPlayer&&(t.videoPlayer.adPattern.setPlaylistAdTime(t.adTime),t.videoPlayer.adPattern.setPlaylistAdPattern(t.adPattern),t.videoPlayer.messageBus.addMessageListener("playComplete",u.bind(t.loadNextPlaylistItem,t)))}})}(this),Whiskers("modules.weather",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.s(s.f("time_config",e,t,1),e,t,0,16,459,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(" <div class='weather-elements "),i.b(i.v(i.f("time_category",e,t,0))),i.b(" "),i.b(i.v(i.f("time",e,t,0))),i.b("'> "),i.s(i.f("afternoon",e,t,1),e,t,0,89,212,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="rainbow"> <span class="arc arc1"></span> <span class="arc arc2"></span> <span class="arc arc3"></span> </div> ')}),e.pop()),i.b(' <div class="moving-element moving-element1"></div> <div class="moving-element moving-element2"></div> <div class="container"> <div class="glow"></div> <div class="element-featured'),i.s(i.f("midnight",e,t,1),e,t,0,419,423,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" el2")}),e.pop()),i.b('"></div> </div> </div> ')}),e.pop()),s.fl()},partials:{},subs:{}}),function(e){"use strict";var t=e.Grill,i=e.Whiskers,s=e.Disney,n=s.Style.breakpoints,a=e.Backbone,o=e.jQuery,r=e._;o(function(){s.topper_nav.on("ready",function(){var e=o(".module.junior_weather"),t=o("#takeover-area .overlay.default .main-image");e.insertBefore(t)})}),t.ModuleView.register("junior_weather",{template:i.modules.weather,render:function(){var e=this.getCurrentTime(),t={time_category:"daytime",time:e};switch(e){case"night":t.time_category="nighttime";break;case"midnight":t.time_category="nighttime",t.midnight=!0;break;case"afternoon":t.afternoon=!0}var i=r.extend({time_config:t},this.model);this.$el.html(this.template.render(i)),this.setTakeoverStyles(e)},ready:function(){var e=this,t=a.Resize.width()>=n.chromeMax,i=e.$(".weather-elements .container");t&&(r.delay(function(){i.addClass("visible")},1600),i.one("transitionend",function(t){var i=t.originalEvent.propertyName;("right"===i||"left"===i||"opacity"===i||"bottom"===i)&&r.delay(function(){e.setAnimation()},2e3)}))},setTakeoverStyles:function(e){var t=this.model.get("style_options"),i=t&&t.image_assets,n=i&&i.default_background.desktop,a=i&&i.day.desktop,o=i&&i.night.desktop,r=t&&t[e]&&t[e].main_background_color,l=t&&t[e]&&t[e].top_gradient_color,c={pushdown_safety_color:r,main_background_color:r,top_gradient:{color:l,color_stop:"15%"},main_image:n};c.repeating_image="night"===e||"midnight"===e?o:a,s.Style.applyTakeoverStyles(c,!1,!0)},getCurrentTime:function(){var t,i=e.location.search.split("?"),s={},n=["midnight","morning","afternoon","evening","night"];if(o.each(i,function(e,t){var i=t.split("=");i.length>1&&(s[i[0]]=i[1])}),s.time&&r.contains(n,s.time))t=s.time;else{var a=!isNaN(s.time)&&s.time||(new Date).getHours();t=this.convertHours(a)}return t},convertHours:function(e){return e>=0&&5>e?"midnight":e>=5&&11>e?"morning":e>=11&&17>e?"afternoon":e>=17&&21>e?"evening":e>=21&&24>=e?"night":"afternoon"},moveElements:function(e,t,i){var s=9e4,n=s+Math.floor(s*Math.random());e.addClass("move"),e.on("transitionend",function(s){s.stopPropagation(),"right"===s.originalEvent.propertyName&&(o(s.currentTarget).removeClass("move"),e.off("transitionend"),r.delay(i.moveElements,n,e,t,i))})},setAnimation:function(){var e=this,t=e.$(".moving-element1"),i=e.$(".moving-element2"),s=e.getCurrentTime();e.moveElements(t,s,e),r.delay(e.moveElements,15e3,i,s,e),"afternoon"===s&&e.$(".rainbow").addClass("visible")}})}(this);