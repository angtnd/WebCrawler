define(["jquery-1"],function(b){var a;a={isLimitedFunctionality:false,id:{limitedFunctionality:"locator-limited-functionality-message"},browserEnabled:function(){var c;if(bbccookies&&typeof bbccookies.cookiesEnabled==="function"){return bbccookies.cookiesEnabled()}c="ckps_locserv_test_cookie";this.set(c,"cookie_test");if(this.get(c)==="cookie_test"){this.unset(c);return true}this.unset(c);return false},areAllowed:function(){if(this.browserEnabled()===false){return false}return this.policyEnabled()},policyEnabled:function(){var c;c="locserv";if(bbccookies&&bbccookies.hasOwnProperty("isAllowed")){return bbccookies.isAllowed(c)}return false},get:function(g,d){var f,e,h,j;f=g+"=";e=document.cookie.split(";");for(h=0;h<e.length;h++){j=e[h];while(j.charAt(0)===" "){j=j.substring(1,j.length)}if(j.indexOf(f)===0){return j.substring(f.length,j.length)}}return d},set:function(e,i,f,h,j){var d,c,g;g=e+"="+i;if(f){d=new Date();d.setTime(d.getTime()+(f*24*60*60*1000));g+="; expires="+d.toGMTString()}if(h){g+="; domain="+h}if(typeof j!=="string"){j=".bbc.co.uk"}g+="; path="+j;document.cookie=g},unset:function(c){this.set(c,"0",-1)},getLimitedFunctionalityTemplate:function(){var c,e,d;e=locator.cookies.disabled.title||"";d=locator.cookies.disabled.explanation||"";c='<div id="'+this.id.limitedFunctionality+'">';c+="<h3>"+e+"</h3>";c+="<p>"+d+"</p>";c+="</div>";return c},removeLimitedFunctionalityMessage:function(){b("#"+this.id.limitedFunctionality).remove()},shouldDisplayLimitedFunctionalityMessage:function(){if(this.isLimitedFunctionality===true){return true}if(this.areAllowed()===false&&window.locator.isSearchComponentOnly===false&&(window.locator.index===true||this.isLimitedFunctionality===true)){return true}return false}};return a});