/*! jQuery v1.8.2 jquery.com | jquery.org/license */
(function(a,b){function G(a){var b=F[a]={};return p.each(a.split(s),function(a,c){b[c]=!0}),b}function J(a,c,d){if(d===b&&a.nodeType===1){var e="data-"+c.replace(I,"-$1").toLowerCase();d=a.getAttribute(e);if(typeof d=="string"){try{d=d==="true"?!0:d==="false"?!1:d==="null"?null:+d+""===d?+d:H.test(d)?p.parseJSON(d):d}catch(f){}p.data(a,c,d)}else d=b}return d}function K(a){var b;for(b in a){if(b==="data"&&p.isEmptyObject(a[b]))continue;if(b!=="toJSON")return!1}return!0}function ba(){return!1}function bb(){return!0}function bh(a){return!a||!a.parentNode||a.parentNode.nodeType===11}function bi(a,b){do a=a[b];while(a&&a.nodeType!==1);return a}function bj(a,b,c){b=b||0;if(p.isFunction(b))return p.grep(a,function(a,d){var e=!!b.call(a,d,a);return e===c});if(b.nodeType)return p.grep(a,function(a,d){return a===b===c});if(typeof b=="string"){var d=p.grep(a,function(a){return a.nodeType===1});if(be.test(b))return p.filter(b,d,!c);b=p.filter(b,d)}return p.grep(a,function(a,d){return p.inArray(a,b)>=0===c})}function bk(a){var b=bl.split("|"),c=a.createDocumentFragment();if(c.createElement)while(b.length)c.createElement(b.pop());return c}function bC(a,b){return a.getElementsByTagName(b)[0]||a.appendChild(a.ownerDocument.createElement(b))}function bD(a,b){if(b.nodeType!==1||!p.hasData(a))return;var c,d,e,f=p._data(a),g=p._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h)for(d=0,e=h[c].length;d<e;d++)p.event.add(b,c,h[c][d])}g.data&&(g.data=p.extend({},g.data))}function bE(a,b){var c;if(b.nodeType!==1)return;b.clearAttributes&&b.clearAttributes(),b.mergeAttributes&&b.mergeAttributes(a),c=b.nodeName.toLowerCase(),c==="object"?(b.parentNode&&(b.outerHTML=a.outerHTML),p.support.html5Clone&&a.innerHTML&&!p.trim(b.innerHTML)&&(b.innerHTML=a.innerHTML)):c==="input"&&bv.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):c==="option"?b.selected=a.defaultSelected:c==="input"||c==="textarea"?b.defaultValue=a.defaultValue:c==="script"&&b.text!==a.text&&(b.text=a.text),b.removeAttribute(p.expando)}function bF(a){return typeof a.getElementsByTagName!="undefined"?a.getElementsByTagName("*"):typeof a.querySelectorAll!="undefined"?a.querySelectorAll("*"):[]}function bG(a){bv.test(a.type)&&(a.defaultChecked=a.checked)}function bY(a,b){if(b in a)return b;var c=b.charAt(0).toUpperCase()+b.slice(1),d=b,e=bW.length;while(e--){b=bW[e]+c;if(b in a)return b}return d}function bZ(a,b){return a=b||a,p.css(a,"display")==="none"||!p.contains(a.ownerDocument,a)}function b$(a,b){var c,d,e=[],f=0,g=a.length;for(;f<g;f++){c=a[f];if(!c.style)continue;e[f]=p._data(c,"olddisplay"),b?(!e[f]&&c.style.display==="none"&&(c.style.display=""),c.style.display===""&&bZ(c)&&(e[f]=p._data(c,"olddisplay",cc(c.nodeName)))):(d=bH(c,"display"),!e[f]&&d!=="none"&&p._data(c,"olddisplay",d))}for(f=0;f<g;f++){c=a[f];if(!c.style)continue;if(!b||c.style.display==="none"||c.style.display==="")c.style.display=b?e[f]||"":"none"}return a}function b_(a,b,c){var d=bP.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function ca(a,b,c,d){var e=c===(d?"border":"content")?4:b==="width"?1:0,f=0;for(;e<4;e+=2)c==="margin"&&(f+=p.css(a,c+bV[e],!0)),d?(c==="content"&&(f-=parseFloat(bH(a,"padding"+bV[e]))||0),c!=="margin"&&(f-=parseFloat(bH(a,"border"+bV[e]+"Width"))||0)):(f+=parseFloat(bH(a,"padding"+bV[e]))||0,c!=="padding"&&(f+=parseFloat(bH(a,"border"+bV[e]+"Width"))||0));return f}function cb(a,b,c){var d=b==="width"?a.offsetWidth:a.offsetHeight,e=!0,f=p.support.boxSizing&&p.css(a,"boxSizing")==="border-box";if(d<=0||d==null){d=bH(a,b);if(d<0||d==null)d=a.style[b];if(bQ.test(d))return d;e=f&&(p.support.boxSizingReliable||d===a.style[b]),d=parseFloat(d)||0}return d+ca(a,b,c||(f?"border":"content"),e)+"px"}function cc(a){if(bS[a])return bS[a];var b=p("<"+a+">").appendTo(e.body),c=b.css("display");b.remove();if(c==="none"||c===""){bI=e.body.appendChild(bI||p.extend(e.createElement("iframe"),{frameBorder:0,width:0,height:0}));if(!bJ||!bI.createElement)bJ=(bI.contentWindow||bI.contentDocument).document,bJ.write("<!doctype html><html><body>"),bJ.close();b=bJ.body.appendChild(bJ.createElement(a)),c=bH(b,"display"),e.body.removeChild(bI)}return bS[a]=c,c}function ci(a,b,c,d){var e;if(p.isArray(b))p.each(b,function(b,e){c||ce.test(a)?d(a,e):ci(a+"["+(typeof e=="object"?b:"")+"]",e,c,d)});else if(!c&&p.type(b)==="object")for(e in b)ci(a+"["+e+"]",b[e],c,d);else d(a,b)}function cz(a){return function(b,c){typeof b!="string"&&(c=b,b="*");var d,e,f,g=b.toLowerCase().split(s),h=0,i=g.length;if(p.isFunction(c))for(;h<i;h++)d=g[h],f=/^\+/.test(d),f&&(d=d.substr(1)||"*"),e=a[d]=a[d]||[],e[f?"unshift":"push"](c)}}function cA(a,c,d,e,f,g){f=f||c.dataTypes[0],g=g||{},g[f]=!0;var h,i=a[f],j=0,k=i?i.length:0,l=a===cv;for(;j<k&&(l||!h);j++)h=i[j](c,d,e),typeof h=="string"&&(!l||g[h]?h=b:(c.dataTypes.unshift(h),h=cA(a,c,d,e,h,g)));return(l||!h)&&!g["*"]&&(h=cA(a,c,d,e,"*",g)),h}function cB(a,c){var d,e,f=p.ajaxSettings.flatOptions||{};for(d in c)c[d]!==b&&((f[d]?a:e||(e={}))[d]=c[d]);e&&p.extend(!0,a,e)}function cC(a,c,d){var e,f,g,h,i=a.contents,j=a.dataTypes,k=a.responseFields;for(f in k)f in d&&(c[k[f]]=d[f]);while(j[0]==="*")j.shift(),e===b&&(e=a.mimeType||c.getResponseHeader("content-type"));if(e)for(f in i)if(i[f]&&i[f].test(e)){j.unshift(f);break}if(j[0]in d)g=j[0];else{for(f in d){if(!j[0]||a.converters[f+" "+j[0]]){g=f;break}h||(h=f)}g=g||h}if(g)return g!==j[0]&&j.unshift(g),d[g]}function cD(a,b){var c,d,e,f,g=a.dataTypes.slice(),h=g[0],i={},j=0;a.dataFilter&&(b=a.dataFilter(b,a.dataType));if(g[1])for(c in a.converters)i[c.toLowerCase()]=a.converters[c];for(;e=g[++j];)if(e!=="*"){if(h!=="*"&&h!==e){c=i[h+" "+e]||i["* "+e];if(!c)for(d in i){f=d.split(" ");if(f[1]===e){c=i[h+" "+f[0]]||i["* "+f[0]];if(c){c===!0?c=i[d]:i[d]!==!0&&(e=f[0],g.splice(j--,0,e));break}}}if(c!==!0)if(c&&a["throws"])b=c(b);else try{b=c(b)}catch(k){return{state:"parsererror",error:c?k:"No conversion from "+h+" to "+e}}}h=e}return{state:"success",data:b}}function cL(){try{return new a.XMLHttpRequest}catch(b){}}function cM(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}function cU(){return setTimeout(function(){cN=b},0),cN=p.now()}function cV(a,b){p.each(b,function(b,c){var d=(cT[b]||[]).concat(cT["*"]),e=0,f=d.length;for(;e<f;e++)if(d[e].call(a,b,c))return})}function cW(a,b,c){var d,e=0,f=0,g=cS.length,h=p.Deferred().always(function(){delete i.elem}),i=function(){var b=cN||cU(),c=Math.max(0,j.startTime+j.duration-b),d=1-(c/j.duration||0),e=0,f=j.tweens.length;for(;e<f;e++)j.tweens[e].run(d);return h.notifyWith(a,[j,d,c]),d<1&&f?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:p.extend({},b),opts:p.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:cN||cU(),duration:c.duration,tweens:[],createTween:function(b,c,d){var e=p.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(e),e},stop:function(b){var c=0,d=b?j.tweens.length:0;for(;c<d;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;cX(k,j.opts.specialEasing);for(;e<g;e++){d=cS[e].call(j,a,k,j.opts);if(d)return d}return cV(j,k),p.isFunction(j.opts.start)&&j.opts.start.call(a,j),p.fx.timer(p.extend(i,{anim:j,queue:j.opts.queue,elem:a})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}function cX(a,b){var c,d,e,f,g;for(c in a){d=p.camelCase(c),e=b[d],f=a[c],p.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=p.cssHooks[d];if(g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}}function cY(a,b,c){var d,e,f,g,h,i,j,k,l=this,m=a.style,n={},o=[],q=a.nodeType&&bZ(a);c.queue||(j=p._queueHooks(a,"fx"),j.unqueued==null&&(j.unqueued=0,k=j.empty.fire,j.empty.fire=function(){j.unqueued||k()}),j.unqueued++,l.always(function(){l.always(function(){j.unqueued--,p.queue(a,"fx").length||j.empty.fire()})})),a.nodeType===1&&("height"in b||"width"in b)&&(c.overflow=[m.overflow,m.overflowX,m.overflowY],p.css(a,"display")==="inline"&&p.css(a,"float")==="none"&&(!p.support.inlineBlockNeedsLayout||cc(a.nodeName)==="inline"?m.display="inline-block":m.zoom=1)),c.overflow&&(m.overflow="hidden",p.support.shrinkWrapBlocks||l.done(function(){m.overflow=c.overflow[0],m.overflowX=c.overflow[1],m.overflowY=c.overflow[2]}));for(d in b){f=b[d];if(cP.exec(f)){delete b[d];if(f===(q?"hide":"show"))continue;o.push(d)}}g=o.length;if(g){h=p._data(a,"fxshow")||p._data(a,"fxshow",{}),q?p(a).show():l.done(function(){p(a).hide()}),l.done(function(){var b;p.removeData(a,"fxshow",!0);for(b in n)p.style(a,b,n[b])});for(d=0;d<g;d++)e=o[d],i=l.createTween(e,q?h[e]:0),n[e]=h[e]||p.style(a,e),e in h||(h[e]=i.start,q&&(i.end=i.start,i.start=e==="width"||e==="height"?1:0))}}function cZ(a,b,c,d,e){return new cZ.prototype.init(a,b,c,d,e)}function c$(a,b){var c,d={height:a},e=0;b=b?1:0;for(;e<4;e+=2-b)c=bV[e],d["margin"+c]=d["padding"+c]=a;return b&&(d.opacity=d.width=a),d}function da(a){return p.isWindow(a)?a:a.nodeType===9?a.defaultView||a.parentWindow:!1}var c,d,e=a.document,f=a.location,g=a.navigator,h=a.jQuery,i=a.$,j=Array.prototype.push,k=Array.prototype.slice,l=Array.prototype.indexOf,m=Object.prototype.toString,n=Object.prototype.hasOwnProperty,o=String.prototype.trim,p=function(a,b){return new p.fn.init(a,b,c)},q=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,r=/\S/,s=/\s+/,t=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,u=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,v=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,w=/^[\],:{}\s]*$/,x=/(?:^|:|,)(?:\s*\[)+/g,y=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,z=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,A=/^-ms-/,B=/-([\da-z])/gi,C=function(a,b){return(b+"").toUpperCase()},D=function(){e.addEventListener?(e.removeEventListener("DOMContentLoaded",D,!1),p.ready()):e.readyState==="complete"&&(e.detachEvent("onreadystatechange",D),p.ready())},E={};p.fn=p.prototype={constructor:p,init:function(a,c,d){var f,g,h,i;if(!a)return this;if(a.nodeType)return this.context=this[0]=a,this.length=1,this;if(typeof a=="string"){a.charAt(0)==="<"&&a.charAt(a.length-1)===">"&&a.length>=3?f=[null,a,null]:f=u.exec(a);if(f&&(f[1]||!c)){if(f[1])return c=c instanceof p?c[0]:c,i=c&&c.nodeType?c.ownerDocument||c:e,a=p.parseHTML(f[1],i,!0),v.test(f[1])&&p.isPlainObject(c)&&this.attr.call(a,c,!0),p.merge(this,a);g=e.getElementById(f[2]);if(g&&g.parentNode){if(g.id!==f[2])return d.find(a);this.length=1,this[0]=g}return this.context=e,this.selector=a,this}return!c||c.jquery?(c||d).find(a):this.constructor(c).find(a)}return p.isFunction(a)?d.ready(a):(a.selector!==b&&(this.selector=a.selector,this.context=a.context),p.makeArray(a,this))},selector:"",jquery:"1.8.2",length:0,size:function(){return this.length},toArray:function(){return k.call(this)},get:function(a){return a==null?this.toArray():a<0?this[this.length+a]:this[a]},pushStack:function(a,b,c){var d=p.merge(this.constructor(),a);return d.prevObject=this,d.context=this.context,b==="find"?d.selector=this.selector+(this.selector?" ":"")+c:b&&(d.selector=this.selector+"."+b+"("+c+")"),d},each:function(a,b){return p.each(this,a,b)},ready:function(a){return p.ready.promise().done(a),this},eq:function(a){return a=+a,a===-1?this.slice(a):this.slice(a,a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(k.apply(this,arguments),"slice",k.call(arguments).join(","))},map:function(a){return this.pushStack(p.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:j,sort:[].sort,splice:[].splice},p.fn.init.prototype=p.fn,p.extend=p.fn.extend=function(){var a,c,d,e,f,g,h=arguments[0]||{},i=1,j=arguments.length,k=!1;typeof h=="boolean"&&(k=h,h=arguments[1]||{},i=2),typeof h!="object"&&!p.isFunction(h)&&(h={}),j===i&&(h=this,--i);for(;i<j;i++)if((a=arguments[i])!=null)for(c in a){d=h[c],e=a[c];if(h===e)continue;k&&e&&(p.isPlainObject(e)||(f=p.isArray(e)))?(f?(f=!1,g=d&&p.isArray(d)?d:[]):g=d&&p.isPlainObject(d)?d:{},h[c]=p.extend(k,g,e)):e!==b&&(h[c]=e)}return h},p.extend({noConflict:function(b){return a.$===p&&(a.$=i),b&&a.jQuery===p&&(a.jQuery=h),p},isReady:!1,readyWait:1,holdReady:function(a){a?p.readyWait++:p.ready(!0)},ready:function(a){if(a===!0?--p.readyWait:p.isReady)return;if(!e.body)return setTimeout(p.ready,1);p.isReady=!0;if(a!==!0&&--p.readyWait>0)return;d.resolveWith(e,[p]),p.fn.trigger&&p(e).trigger("ready").off("ready")},isFunction:function(a){return p.type(a)==="function"},isArray:Array.isArray||function(a){return p.type(a)==="array"},isWindow:function(a){return a!=null&&a==a.window},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return a==null?String(a):E[m.call(a)]||"object"},isPlainObject:function(a){if(!a||p.type(a)!=="object"||a.nodeType||p.isWindow(a))return!1;try{if(a.constructor&&!n.call(a,"constructor")&&!n.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}var d;for(d in a);return d===b||n.call(a,d)},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},error:function(a){throw new Error(a)},parseHTML:function(a,b,c){var d;return!a||typeof a!="string"?null:(typeof b=="boolean"&&(c=b,b=0),b=b||e,(d=v.exec(a))?[b.createElement(d[1])]:(d=p.buildFragment([a],b,c?null:[]),p.merge([],(d.cacheable?p.clone(d.fragment):d.fragment).childNodes)))},parseJSON:function(b){if(!b||typeof b!="string")return null;b=p.trim(b);if(a.JSON&&a.JSON.parse)return a.JSON.parse(b);if(w.test(b.replace(y,"@").replace(z,"]").replace(x,"")))return(new Function("return "+b))();p.error("Invalid JSON: "+b)},parseXML:function(c){var d,e;if(!c||typeof c!="string")return null;try{a.DOMParser?(e=new DOMParser,d=e.parseFromString(c,"text/xml")):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(c))}catch(f){d=b}return(!d||!d.documentElement||d.getElementsByTagName("parsererror").length)&&p.error("Invalid XML: "+c),d},noop:function(){},globalEval:function(b){b&&r.test(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(A,"ms-").replace(B,C)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,c,d){var e,f=0,g=a.length,h=g===b||p.isFunction(a);if(d){if(h){for(e in a)if(c.apply(a[e],d)===!1)break}else for(;f<g;)if(c.apply(a[f++],d)===!1)break}else if(h){for(e in a)if(c.call(a[e],e,a[e])===!1)break}else for(;f<g;)if(c.call(a[f],f,a[f++])===!1)break;return a},trim:o&&!o.call("ï»¿Â ")?function(a){return a==null?"":o.call(a)}:function(a){return a==null?"":(a+"").replace(t,"")},makeArray:function(a,b){var c,d=b||[];return a!=null&&(c=p.type(a),a.length==null||c==="string"||c==="function"||c==="regexp"||p.isWindow(a)?j.call(d,a):p.merge(d,a)),d},inArray:function(a,b,c){var d;if(b){if(l)return l.call(b,a,c);d=b.length,c=c?c<0?Math.max(0,d+c):c:0;for(;c<d;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,c){var d=c.length,e=a.length,f=0;if(typeof d=="number")for(;f<d;f++)a[e++]=c[f];else while(c[f]!==b)a[e++]=c[f++];return a.length=e,a},grep:function(a,b,c){var d,e=[],f=0,g=a.length;c=!!c;for(;f<g;f++)d=!!b(a[f],f),c!==d&&e.push(a[f]);return e},map:function(a,c,d){var e,f,g=[],h=0,i=a.length,j=a instanceof p||i!==b&&typeof i=="number"&&(i>0&&a[0]&&a[i-1]||i===0||p.isArray(a));if(j)for(;h<i;h++)e=c(a[h],h,d),e!=null&&(g[g.length]=e);else for(f in a)e=c(a[f],f,d),e!=null&&(g[g.length]=e);return g.concat.apply([],g)},guid:1,proxy:function(a,c){var d,e,f;return typeof c=="string"&&(d=a[c],c=a,a=d),p.isFunction(a)?(e=k.call(arguments,2),f=function(){return a.apply(c,e.concat(k.call(arguments)))},f.guid=a.guid=a.guid||p.guid++,f):b},access:function(a,c,d,e,f,g,h){var i,j=d==null,k=0,l=a.length;if(d&&typeof d=="object"){for(k in d)p.access(a,c,k,d[k],1,g,e);f=1}else if(e!==b){i=h===b&&p.isFunction(e),j&&(i?(i=c,c=function(a,b,c){return i.call(p(a),c)}):(c.call(a,e),c=null));if(c)for(;k<l;k++)c(a[k],d,i?e.call(a[k],k,c(a[k],d)):e,h);f=1}return f?a:j?c.call(a):l?c(a[0],d):g},now:function(){return(new Date).getTime()}}),p.ready.promise=function(b){if(!d){d=p.Deferred();if(e.readyState==="complete")setTimeout(p.ready,1);else if(e.addEventListener)e.addEventListener("DOMContentLoaded",D,!1),a.addEventListener("load",p.ready,!1);else{e.attachEvent("onreadystatechange",D),a.attachEvent("onload",p.ready);var c=!1;try{c=a.frameElement==null&&e.documentElement}catch(f){}c&&c.doScroll&&function g(){if(!p.isReady){try{c.doScroll("left")}catch(a){return setTimeout(g,50)}p.ready()}}()}}return d.promise(b)},p.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(a,b){E["[object "+b+"]"]=b.toLowerCase()}),c=p(e);var F={};p.Callbacks=function(a){a=typeof a=="string"?F[a]||G(a):p.extend({},a);var c,d,e,f,g,h,i=[],j=!a.once&&[],k=function(b){c=a.memory&&b,d=!0,h=f||0,f=0,g=i.length,e=!0;for(;i&&h<g;h++)if(i[h].apply(b[0],b[1])===!1&&a.stopOnFalse){c=!1;break}e=!1,i&&(j?j.length&&k(j.shift()):c?i=[]:l.disable())},l={add:function(){if(i){var b=i.length;(function d(b){p.each(b,function(b,c){var e=p.type(c);e==="function"&&(!a.unique||!l.has(c))?i.push(c):c&&c.length&&e!=="string"&&d(c)})})(arguments),e?g=i.length:c&&(f=b,k(c))}return this},remove:function(){return i&&p.each(arguments,function(a,b){var c;while((c=p.inArray(b,i,c))>-1)i.splice(c,1),e&&(c<=g&&g--,c<=h&&h--)}),this},has:function(a){return p.inArray(a,i)>-1},empty:function(){return i=[],this},disable:function(){return i=j=c=b,this},disabled:function(){return!i},lock:function(){return j=b,c||l.disable(),this},locked:function(){return!j},fireWith:function(a,b){return b=b||[],b=[a,b.slice?b.slice():b],i&&(!d||j)&&(e?j.push(b):k(b)),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!d}};return l},p.extend({Deferred:function(a){var b=[["resolve","done",p.Callbacks("once memory"),"resolved"],["reject","fail",p.Callbacks("once memory"),"rejected"],["notify","progress",p.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return p.Deferred(function(c){p.each(b,function(b,d){var f=d[0],g=a[b];e[d[1]](p.isFunction(g)?function(){var a=g.apply(this,arguments);a&&p.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f+"With"](this===e?c:this,[a])}:c[f])}),a=null}).promise()},promise:function(a){return a!=null?p.extend(a,d):d}},e={};return d.pipe=d.then,p.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[a^1][2].disable,b[2][2].lock),e[f[0]]=g.fire,e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b=0,c=k.call(arguments),d=c.length,e=d!==1||a&&p.isFunction(a.promise)?d:0,f=e===1?a:p.Deferred(),g=function(a,b,c){return function(d){b[a]=this,c[a]=arguments.length>1?k.call(arguments):d,c===h?f.notifyWith(b,c):--e||f.resolveWith(b,c)}},h,i,j;if(d>1){h=new Array(d),i=new Array(d),j=new Array(d);for(;b<d;b++)c[b]&&p.isFunction(c[b].promise)?c[b].promise().done(g(b,j,c)).fail(f.reject).progress(g(b,i,h)):--e}return e||f.resolveWith(j,c),f.promise()}}),p.support=function(){var b,c,d,f,g,h,i,j,k,l,m,n=e.createElement("div");n.setAttribute("className","t"),n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",c=n.getElementsByTagName("*"),d=n.getElementsByTagName("a")[0],d.style.cssText="top:1px;float:left;opacity:.5";if(!c||!c.length)return{};f=e.createElement("select"),g=f.appendChild(e.createElement("option")),h=n.getElementsByTagName("input")[0],b={leadingWhitespace:n.firstChild.nodeType===3,tbody:!n.getElementsByTagName("tbody").length,htmlSerialize:!!n.getElementsByTagName("link").length,style:/top/.test(d.getAttribute("style")),hrefNormalized:d.getAttribute("href")==="/a",opacity:/^0.5/.test(d.style.opacity),cssFloat:!!d.style.cssFloat,checkOn:h.value==="on",optSelected:g.selected,getSetAttribute:n.className!=="t",enctype:!!e.createElement("form").enctype,html5Clone:e.createElement("nav").cloneNode(!0).outerHTML!=="<:nav></:nav>",boxModel:e.compatMode==="CSS1Compat",submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},h.checked=!0,b.noCloneChecked=h.cloneNode(!0).checked,f.disabled=!0,b.optDisabled=!g.disabled;try{delete n.test}catch(o){b.deleteExpando=!1}!n.addEventListener&&n.attachEvent&&n.fireEvent&&(n.attachEvent("onclick",m=function(){b.noCloneEvent=!1}),n.cloneNode(!0).fireEvent("onclick"),n.detachEvent("onclick",m)),h=e.createElement("input"),h.value="t",h.setAttribute("type","radio"),b.radioValue=h.value==="t",h.setAttribute("checked","checked"),h.setAttribute("name","t"),n.appendChild(h),i=e.createDocumentFragment(),i.appendChild(n.lastChild),b.checkClone=i.cloneNode(!0).cloneNode(!0).lastChild.checked,b.appendChecked=h.checked,i.removeChild(h),i.appendChild(n);if(n.attachEvent)for(k in{submit:!0,change:!0,focusin:!0})j="on"+k,l=j in n,l||(n.setAttribute(j,"return;"),l=typeof n[j]=="function"),b[k+"Bubbles"]=l;return p(function(){var c,d,f,g,h="padding:0;margin:0;border:0;display:block;overflow:hidden;",i=e.getElementsByTagName("body")[0];if(!i)return;c=e.createElement("div"),c.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",i.insertBefore(c,i.firstChild),d=e.createElement("div"),c.appendChild(d),d.innerHTML="<table><tr><td></td><td>t</td></tr></table>",f=d.getElementsByTagName("td"),f[0].style.cssText="padding:0;margin:0;border:0;display:none",l=f[0].offsetHeight===0,f[0].style.display="",f[1].style.display="none",b.reliableHiddenOffsets=l&&f[0].offsetHeight===0,d.innerHTML="",d.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",b.boxSizing=d.offsetWidth===4,b.doesNotIncludeMarginInBodyOffset=i.offsetTop!==1,a.getComputedStyle&&(b.pixelPosition=(a.getComputedStyle(d,null)||{}).top!=="1%",b.boxSizingReliable=(a.getComputedStyle(d,null)||{width:"4px"}).width==="4px",g=e.createElement("div"),g.style.cssText=d.style.cssText=h,g.style.marginRight=g.style.width="0",d.style.width="1px",d.appendChild(g),b.reliableMarginRight=!parseFloat((a.getComputedStyle(g,null)||{}).marginRight)),typeof d.style.zoom!="undefined"&&(d.innerHTML="",d.style.cssText=h+"width:1px;padding:1px;display:inline;zoom:1",b.inlineBlockNeedsLayout=d.offsetWidth===3,d.style.display="block",d.style.overflow="visible",d.innerHTML="<div></div>",d.firstChild.style.width="5px",b.shrinkWrapBlocks=d.offsetWidth!==3,c.style.zoom=1),i.removeChild(c),c=d=f=g=null}),i.removeChild(n),c=d=f=g=h=i=n=null,b}();var H=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,I=/([A-Z])/g;p.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+(p.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(a){return a=a.nodeType?p.cache[a[p.expando]]:a[p.expando],!!a&&!K(a)},data:function(a,c,d,e){if(!p.acceptData(a))return;var f,g,h=p.expando,i=typeof c=="string",j=a.nodeType,k=j?p.cache:a,l=j?a[h]:a[h]&&h;if((!l||!k[l]||!e&&!k[l].data)&&i&&d===b)return;l||(j?a[h]=l=p.deletedIds.pop()||p.guid++:l=h),k[l]||(k[l]={},j||(k[l].toJSON=p.noop));if(typeof c=="object"||typeof c=="function")e?k[l]=p.extend(k[l],c):k[l].data=p.extend(k[l].data,c);return f=k[l],e||(f.data||(f.data={}),f=f.data),d!==b&&(f[p.camelCase(c)]=d),i?(g=f[c],g==null&&(g=f[p.camelCase(c)])):g=f,g},removeData:function(a,b,c){if(!p.acceptData(a))return;var d,e,f,g=a.nodeType,h=g?p.cache:a,i=g?a[p.expando]:p.expando;if(!h[i])return;if(b){d=c?h[i]:h[i].data;if(d){p.isArray(b)||(b in d?b=[b]:(b=p.camelCase(b),b in d?b=[b]:b=b.split(" ")));for(e=0,f=b.length;e<f;e++)delete d[b[e]];if(!(c?K:p.isEmptyObject)(d))return}}if(!c){delete h[i].data;if(!K(h[i]))return}g?p.cleanData([a],!0):p.support.deleteExpando||h!=h.window?delete h[i]:h[i]=null},_data:function(a,b,c){return p.data(a,b,c,!0)},acceptData:function(a){var b=a.nodeName&&p.noData[a.nodeName.toLowerCase()];return!b||b!==!0&&a.getAttribute("classid")===b}}),p.fn.extend({data:function(a,c){var d,e,f,g,h,i=this[0],j=0,k=null;if(a===b){if(this.length){k=p.data(i);if(i.nodeType===1&&!p._data(i,"parsedAttrs")){f=i.attributes;for(h=f.length;j<h;j++)g=f[j].name,g.indexOf("data-")||(g=p.camelCase(g.substring(5)),J(i,g,k[g]));p._data(i,"parsedAttrs",!0)}}return k}return typeof a=="object"?this.each(function(){p.data(this,a)}):(d=a.split(".",2),d[1]=d[1]?"."+d[1]:"",e=d[1]+"!",p.access(this,function(c){if(c===b)return k=this.triggerHandler("getData"+e,[d[0]]),k===b&&i&&(k=p.data(i,a),k=J(i,a,k)),k===b&&d[1]?this.data(d[0]):k;d[1]=c,this.each(function(){var b=p(this);b.triggerHandler("setData"+e,d),p.data(this,a,c),b.triggerHandler("changeData"+e,d)})},null,c,arguments.length>1,null,!1))},removeData:function(a){return this.each(function(){p.removeData(this,a)})}}),p.extend({queue:function(a,b,c){var d;if(a)return b=(b||"fx")+"queue",d=p._data(a,b),c&&(!d||p.isArray(c)?d=p._data(a,b,p.makeArray(c)):d.push(c)),d||[]},dequeue:function(a,b){b=b||"fx";var c=p.queue(a,b),d=c.length,e=c.shift(),f=p._queueHooks(a,b),g=function(){p.dequeue(a,b)};e==="inprogress"&&(e=c.shift(),d--),e&&(b==="fx"&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return p._data(a,c)||p._data(a,c,{empty:p.Callbacks("once memory").add(function(){p.removeData(a,b+"queue",!0),p.removeData(a,c,!0)})})}}),p.fn.extend({queue:function(a,c){var d=2;return typeof a!="string"&&(c=a,a="fx",d--),arguments.length<d?p.queue(this[0],a):c===b?this:this.each(function(){var b=p.queue(this,a,c);p._queueHooks(this,a),a==="fx"&&b[0]!=="inprogress"&&p.dequeue(this,a)})},dequeue:function(a){return this.each(function(){p.dequeue(this,a)})},delay:function(a,b){return a=p.fx?p.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,c){var d,e=1,f=p.Deferred(),g=this,h=this.length,i=function(){--e||f.resolveWith(g,[g])};typeof a!="string"&&(c=a,a=b),a=a||"fx";while(h--)d=p._data(g[h],a+"queueHooks"),d&&d.empty&&(e++,d.empty.add(i));return i(),f.promise(c)}});var L,M,N,O=/[\t\r\n]/g,P=/\r/g,Q=/^(?:button|input)$/i,R=/^(?:button|input|object|select|textarea)$/i,S=/^a(?:rea|)$/i,T=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,U=p.support.getSetAttribute;p.fn.extend({attr:function(a,b){return p.access(this,p.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){p.removeAttr(this,a)})},prop:function(a,b){return p.access(this,p.prop,a,b,arguments.length>1)},removeProp:function(a){return a=p.propFix[a]||a,this.each(function(){try{this[a]=b,delete this[a]}catch(c){}})},addClass:function(a){var b,c,d,e,f,g,h;if(p.isFunction(a))return this.each(function(b){p(this).addClass(a.call(this,b,this.className))});if(a&&typeof a=="string"){b=a.split(s);for(c=0,d=this.length;c<d;c++){e=this[c];if(e.nodeType===1)if(!e.className&&b.length===1)e.className=a;else{f=" "+e.className+" ";for(g=0,h=b.length;g<h;g++)f.indexOf(" "+b[g]+" ")<0&&(f+=b[g]+" ");e.className=p.trim(f)}}}return this},removeClass:function(a){var c,d,e,f,g,h,i;if(p.isFunction(a))return this.each(function(b){p(this).removeClass(a.call(this,b,this.className))});if(a&&typeof a=="string"||a===b){c=(a||"").split(s);for(h=0,i=this.length;h<i;h++){e=this[h];if(e.nodeType===1&&e.className){d=(" "+e.className+" ").replace(O," ");for(f=0,g=c.length;f<g;f++)while(d.indexOf(" "+c[f]+" ")>=0)d=d.replace(" "+c[f]+" "," ");e.className=a?p.trim(d):""}}}return this},toggleClass:function(a,b){var c=typeof a,d=typeof b=="boolean";return p.isFunction(a)?this.each(function(c){p(this).toggleClass(a.call(this,c,this.className,b),b)}):this.each(function(){if(c==="string"){var e,f=0,g=p(this),h=b,i=a.split(s);while(e=i[f++])h=d?h:!g.hasClass(e),g[h?"addClass":"removeClass"](e)}else if(c==="undefined"||c==="boolean")this.className&&p._data(this,"__className__",this.className),this.className=this.className||a===!1?"":p._data(this,"__className__")||""})},hasClass:function(a){var b=" "+a+" ",c=0,d=this.length;for(;c<d;c++)if(this[c].nodeType===1&&(" "+this[c].className+" ").replace(O," ").indexOf(b)>=0)return!0;return!1},val:function(a){var c,d,e,f=this[0];if(!arguments.length){if(f)return c=p.valHooks[f.type]||p.valHooks[f.nodeName.toLowerCase()],c&&"get"in c&&(d=c.get(f,"value"))!==b?d:(d=f.value,typeof d=="string"?d.replace(P,""):d==null?"":d);return}return e=p.isFunction(a),this.each(function(d){var f,g=p(this);if(this.nodeType!==1)return;e?f=a.call(this,d,g.val()):f=a,f==null?f="":typeof f=="number"?f+="":p.isArray(f)&&(f=p.map(f,function(a){return a==null?"":a+""})),c=p.valHooks[this.type]||p.valHooks[this.nodeName.toLowerCase()];if(!c||!("set"in c)||c.set(this,f,"value")===b)this.value=f})}}),p.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{get:function(a){var b,c,d,e,f=a.selectedIndex,g=[],h=a.options,i=a.type==="select-one";if(f<0)return null;c=i?f:0,d=i?f+1:h.length;for(;c<d;c++){e=h[c];if(e.selected&&(p.support.optDisabled?!e.disabled:e.getAttribute("disabled")===null)&&(!e.parentNode.disabled||!p.nodeName(e.parentNode,"optgroup"))){b=p(e).val();if(i)return b;g.push(b)}}return i&&!g.length&&h.length?p(h[f]).val():g},set:function(a,b){var c=p.makeArray(b);return p(a).find("option").each(function(){this.selected=p.inArray(p(this).val(),c)>=0}),c.length||(a.selectedIndex=-1),c}}},attrFn:{},attr:function(a,c,d,e){var f,g,h,i=a.nodeType;if(!a||i===3||i===8||i===2)return;if(e&&p.isFunction(p.fn[c]))return p(a)[c](d);if(typeof a.getAttribute=="undefined")return p.prop(a,c,d);h=i!==1||!p.isXMLDoc(a),h&&(c=c.toLowerCase(),g=p.attrHooks[c]||(T.test(c)?M:L));if(d!==b){if(d===null){p.removeAttr(a,c);return}return g&&"set"in g&&h&&(f=g.set(a,d,c))!==b?f:(a.setAttribute(c,d+""),d)}return g&&"get"in g&&h&&(f=g.get(a,c))!==null?f:(f=a.getAttribute(c),f===null?b:f)},removeAttr:function(a,b){var c,d,e,f,g=0;if(b&&a.nodeType===1){d=b.split(s);for(;g<d.length;g++)e=d[g],e&&(c=p.propFix[e]||e,f=T.test(e),f||p.attr(a,e,""),a.removeAttribute(U?e:c),f&&c in a&&(a[c]=!1))}},attrHooks:{type:{set:function(a,b){if(Q.test(a.nodeName)&&a.parentNode)p.error("type property can't be changed");else if(!p.support.radioValue&&b==="radio"&&p.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}},value:{get:function(a,b){return L&&p.nodeName(a,"button")?L.get(a,b):b in a?a.value:null},set:function(a,b,c){if(L&&p.nodeName(a,"button"))return L.set(a,b,c);a.value=b}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(a,c,d){var e,f,g,h=a.nodeType;if(!a||h===3||h===8||h===2)return;return g=h!==1||!p.isXMLDoc(a),g&&(c=p.propFix[c]||c,f=p.propHooks[c]),d!==b?f&&"set"in f&&(e=f.set(a,d,c))!==b?e:a[c]=d:f&&"get"in f&&(e=f.get(a,c))!==null?e:a[c]},propHooks:{tabIndex:{get:function(a){var c=a.getAttributeNode("tabindex");return c&&c.specified?parseInt(c.value,10):R.test(a.nodeName)||S.test(a.nodeName)&&a.href?0:b}}}}),M={get:function(a,c){var d,e=p.prop(a,c);return e===!0||typeof e!="boolean"&&(d=a.getAttributeNode(c))&&d.nodeValue!==!1?c.toLowerCase():b},set:function(a,b,c){var d;return b===!1?p.removeAttr(a,c):(d=p.propFix[c]||c,d in a&&(a[d]=!0),a.setAttribute(c,c.toLowerCase())),c}},U||(N={name:!0,id:!0,coords:!0},L=p.valHooks.button={get:function(a,c){var d;return d=a.getAttributeNode(c),d&&(N[c]?d.value!=="":d.specified)?d.value:b},set:function(a,b,c){var d=a.getAttributeNode(c);return d||(d=e.createAttribute(c),a.setAttributeNode(d)),d.value=b+""}},p.each(["width","height"],function(a,b){p.attrHooks[b]=p.extend(p.attrHooks[b],{set:function(a,c){if(c==="")return a.setAttribute(b,"auto"),c}})}),p.attrHooks.contenteditable={get:L.get,set:function(a,b,c){b===""&&(b="false"),L.set(a,b,c)}}),p.support.hrefNormalized||p.each(["href","src","width","height"],function(a,c){p.attrHooks[c]=p.extend(p.attrHooks[c],{get:function(a){var d=a.getAttribute(c,2);return d===null?b:d}})}),p.support.style||(p.attrHooks.style={get:function(a){return a.style.cssText.toLowerCase()||b},set:function(a,b){return a.style.cssText=b+""}}),p.support.optSelected||(p.propHooks.selected=p.extend(p.propHooks.selected,{get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}})),p.support.enctype||(p.propFix.enctype="encoding"),p.support.checkOn||p.each(["radio","checkbox"],function(){p.valHooks[this]={get:function(a){return a.getAttribute("value")===null?"on":a.value}}}),p.each(["radio","checkbox"],function(){p.valHooks[this]=p.extend(p.valHooks[this],{set:function(a,b){if(p.isArray(b))return a.checked=p.inArray(p(a).val(),b)>=0}})});var V=/^(?:textarea|input|select)$/i,W=/^([^\.]*|)(?:\.(.+)|)$/,X=/(?:^|\s)hover(\.\S+|)\b/,Y=/^key/,Z=/^(?:mouse|contextmenu)|click/,$=/^(?:focusinfocus|focusoutblur)$/,_=function(a){return p.event.special.hover?a:a.replace(X,"mouseenter$1 mouseleave$1")};p.event={add:function(a,c,d,e,f){var g,h,i,j,k,l,m,n,o,q,r;if(a.nodeType===3||a.nodeType===8||!c||!d||!(g=p._data(a)))return;d.handler&&(o=d,d=o.handler,f=o.selector),d.guid||(d.guid=p.guid++),i=g.events,i||(g.events=i={}),h=g.handle,h||(g.handle=h=function(a){return typeof p!="undefined"&&(!a||p.event.triggered!==a.type)?p.event.dispatch.apply(h.elem,arguments):b},h.elem=a),c=p.trim(_(c)).split(" ");for(j=0;j<c.length;j++){k=W.exec(c[j])||[],l=k[1],m=(k[2]||"").split(".").sort(),r=p.event.special[l]||{},l=(f?r.delegateType:r.bindType)||l,r=p.event.special[l]||{},n=p.extend({type:l,origType:k[1],data:e,handler:d,guid:d.guid,selector:f,needsContext:f&&p.expr.match.needsContext.test(f),namespace:m.join(".")},o),q=i[l];if(!q){q=i[l]=[],q.delegateCount=0;if(!r.setup||r.setup.call(a,e,m,h)===!1)a.addEventListener?a.addEventListener(l,h,!1):a.attachEvent&&a.attachEvent("on"+l,h)}r.add&&(r.add.call(a,n),n.handler.guid||(n.handler.guid=d.guid)),f?q.splice(q.delegateCount++,0,n):q.push(n),p.event.global[l]=!0}a=null},global:{},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,q,r=p.hasData(a)&&p._data(a);if(!r||!(m=r.events))return;b=p.trim(_(b||"")).split(" ");for(f=0;f<b.length;f++){g=W.exec(b[f])||[],h=i=g[1],j=g[2];if(!h){for(h in m)p.event.remove(a,h+b[f],c,d,!0);continue}n=p.event.special[h]||{},h=(d?n.delegateType:n.bindType)||h,o=m[h]||[],k=o.length,j=j?new RegExp("(^|\\.)"+j.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null;for(l=0;l<o.length;l++)q=o[l],(e||i===q.origType)&&(!c||c.guid===q.guid)&&(!j||j.test(q.namespace))&&(!d||d===q.selector||d==="**"&&q.selector)&&(o.splice(l--,1),q.selector&&o.delegateCount--,n.remove&&n.remove.call(a,q));o.length===0&&k!==o.length&&((!n.teardown||n.teardown.call(a,j,r.handle)===!1)&&p.removeEvent(a,h,r.handle),delete m[h])}p.isEmptyObject(m)&&(delete r.handle,p.removeData(a,"events",!0))},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(c,d,f,g){if(!f||f.nodeType!==3&&f.nodeType!==8){var h,i,j,k,l,m,n,o,q,r,s=c.type||c,t=[];if($.test(s+p.event.triggered))return;s.indexOf("!")>=0&&(s=s.slice(0,-1),i=!0),s.indexOf(".")>=0&&(t=s.split("."),s=t.shift(),t.sort());if((!f||p.event.customEvent[s])&&!p.event.global[s])return;c=typeof c=="object"?c[p.expando]?c:new p.Event(s,c):new p.Event(s),c.type=s,c.isTrigger=!0,c.exclusive=i,c.namespace=t.join("."),c.namespace_re=c.namespace?new RegExp("(^|\\.)"+t.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,m=s.indexOf(":")<0?"on"+s:"";if(!f){h=p.cache;for(j in h)h[j].events&&h[j].events[s]&&p.event.trigger(c,d,h[j].handle.elem,!0);return}c.result=b,c.target||(c.target=f),d=d!=null?p.makeArray(d):[],d.unshift(c),n=p.event.special[s]||{};if(n.trigger&&n.trigger.apply(f,d)===!1)return;q=[[f,n.bindType||s]];if(!g&&!n.noBubble&&!p.isWindow(f)){r=n.delegateType||s,k=$.test(r+s)?f:f.parentNode;for(l=f;k;k=k.parentNode)q.push([k,r]),l=k;l===(f.ownerDocument||e)&&q.push([l.defaultView||l.parentWindow||a,r])}for(j=0;j<q.length&&!c.isPropagationStopped();j++)k=q[j][0],c.type=q[j][1],o=(p._data(k,"events")||{})[c.type]&&p._data(k,"handle"),o&&o.apply(k,d),o=m&&k[m],o&&p.acceptData(k)&&o.apply&&o.apply(k,d)===!1&&c.preventDefault();return c.type=s,!g&&!c.isDefaultPrevented()&&(!n._default||n._default.apply(f.ownerDocument,d)===!1)&&(s!=="click"||!p.nodeName(f,"a"))&&p.acceptData(f)&&m&&f[s]&&(s!=="focus"&&s!=="blur"||c.target.offsetWidth!==0)&&!p.isWindow(f)&&(l=f[m],l&&(f[m]=null),p.event.triggered=s,f[s](),p.event.triggered=b,l&&(f[m]=l)),c.result}return},dispatch:function(c){c=p.event.fix(c||a.event);var d,e,f,g,h,i,j,l,m,n,o=(p._data(this,"events")||{})[c.type]||[],q=o.delegateCount,r=k.call(arguments),s=!c.exclusive&&!c.namespace,t=p.event.special[c.type]||{},u=[];r[0]=c,c.delegateTarget=this;if(t.preDispatch&&t.preDispatch.call(this,c)===!1)return;if(q&&(!c.button||c.type!=="click"))for(f=c.target;f!=this;f=f.parentNode||this)if(f.disabled!==!0||c.type!=="click"){h={},j=[];for(d=0;d<q;d++)l=o[d],m=l.selector,h[m]===b&&(h[m]=l.needsContext?p(m,this).index(f)>=0:p.find(m,this,null,[f]).length),h[m]&&j.push(l);j.length&&u.push({elem:f,matches:j})}o.length>q&&u.push({elem:this,matches:o.slice(q)});for(d=0;d<u.length&&!c.isPropagationStopped();d++){i=u[d],c.currentTarget=i.elem;for(e=0;e<i.matches.length&&!c.isImmediatePropagationStopped();e++){l=i.matches[e];if(s||!c.namespace&&!l.namespace||c.namespace_re&&c.namespace_re.test(l.namespace))c.data=l.data,c.handleObj=l,g=((p.event.special[l.origType]||{}).handle||l.handler).apply(i.elem,r),g!==b&&(c.result=g,g===!1&&(c.preventDefault(),c.stopPropagation()))}}return t.postDispatch&&t.postDispatch.call(this,c),c.result},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return a.which==null&&(a.which=b.charCode!=null?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,c){var d,f,g,h=c.button,i=c.fromElement;return a.pageX==null&&c.clientX!=null&&(d=a.target.ownerDocument||e,f=d.documentElement,g=d.body,a.pageX=c.clientX+(f&&f.scrollLeft||g&&g.scrollLeft||0)-(f&&f.clientLeft||g&&g.clientLeft||0),a.pageY=c.clientY+(f&&f.scrollTop||g&&g.scrollTop||0)-(f&&f.clientTop||g&&g.clientTop||0)),!a.relatedTarget&&i&&(a.relatedTarget=i===a.target?c.toElement:i),!a.which&&h!==b&&(a.which=h&1?1:h&2?3:h&4?2:0),a}},fix:function(a){if(a[p.expando])return a;var b,c,d=a,f=p.event.fixHooks[a.type]||{},g=f.props?this.props.concat(f.props):this.props;a=p.Event(d);for(b=g.length;b;)c=g[--b],a[c]=d[c];return a.target||(a.target=d.srcElement||e),a.target.nodeType===3&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,f.filter?f.filter(a,d):a},special:{load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(a,b,c){p.isWindow(this)&&(this.onbeforeunload=c)},teardown:function(a,b){this.onbeforeunload===b&&(this.onbeforeunload=null)}}},simulate:function(a,b,c,d){var e=p.extend(new p.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?p.event.trigger(e,null,b):p.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},p.event.handle=p.event.dispatch,p.removeEvent=e.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){var d="on"+b;a.detachEvent&&(typeof a[d]=="undefined"&&(a[d]=null),a.detachEvent(d,c))},p.Event=function(a,b){if(this instanceof p.Event)a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||a.returnValue===!1||a.getPreventDefault&&a.getPreventDefault()?bb:ba):this.type=a,b&&p.extend(this,b),this.timeStamp=a&&a.timeStamp||p.now(),this[p.expando]=!0;else return new p.Event(a,b)},p.Event.prototype={preventDefault:function(){this.isDefaultPrevented=bb;var a=this.originalEvent;if(!a)return;a.preventDefault?a.preventDefault():a.returnValue=!1},stopPropagation:function(){this.isPropagationStopped=bb;var a=this.originalEvent;if(!a)return;a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=bb,this.stopPropagation()},isDefaultPrevented:ba,isPropagationStopped:ba,isImmediatePropagationStopped:ba},p.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){p.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj,g=f.selector;if(!e||e!==d&&!p.contains(d,e))a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b;return c}}}),p.support.submitBubbles||(p.event.special.submit={setup:function(){if(p.nodeName(this,"form"))return!1;p.event.add(this,"click._submit keypress._submit",function(a){var c=a.target,d=p.nodeName(c,"input")||p.nodeName(c,"button")?c.form:b;d&&!p._data(d,"_submit_attached")&&(p.event.add(d,"submit._submit",function(a){a._submit_bubble=!0}),p._data(d,"_submit_attached",!0))})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&p.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){if(p.nodeName(this,"form"))return!1;p.event.remove(this,"._submit")}}),p.support.changeBubbles||(p.event.special.change={setup:function(){if(V.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio")p.event.add(this,"propertychange._change",function(a){a.originalEvent.propertyName==="checked"&&(this._just_changed=!0)}),p.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1),p.event.simulate("change",this,a,!0)});return!1}p.event.add(this,"beforeactivate._change",function(a){var b=a.target;V.test(b.nodeName)&&!p._data(b,"_change_attached")&&(p.event.add(b,"change._change",function(a){this.parentNode&&!a.isSimulated&&!a.isTrigger&&p.event.simulate("change",this.parentNode,a,!0)}),p._data(b,"_change_attached",!0))})},handle:function(a){var b=a.target;if(this!==b||a.isSimulated||a.isTrigger||b.type!=="radio"&&b.type!=="checkbox")return a.handleObj.handler.apply(this,arguments)},teardown:function(){return p.event.remove(this,"._change"),!V.test(this.nodeName)}}),p.support.focusinBubbles||p.each({focus:"focusin",blur:"focusout"},function(a,b){var c=0,d=function(a){p.event.simulate(b,a.target,p.event.fix(a),!0)};p.event.special[b]={setup:function(){c++===0&&e.addEventListener(a,d,!0)},teardown:function(){--c===0&&e.removeEventListener(a,d,!0)}}}),p.fn.extend({on:function(a,c,d,e,f){var g,h;if(typeof a=="object"){typeof c!="string"&&(d=d||c,c=b);for(h in a)this.on(h,c,d,a[h],f);return this}d==null&&e==null?(e=c,d=c=b):e==null&&(typeof c=="string"?(e=d,d=b):(e=d,d=c,c=b));if(e===!1)e=ba;else if(!e)return this;return f===1&&(g=e,e=function(a){return p().off(a),g.apply(this,arguments)},e.guid=g.guid||(g.guid=p.guid++)),this.each(function(){p.event.add(this,a,e,d,c)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,c,d){var e,f;if(a&&a.preventDefault&&a.handleObj)return e=a.handleObj,p(a.delegateTarget).off(e.namespace?e.origType+"."+e.namespace:e.origType,e.selector,e.handler),this;if(typeof a=="object"){for(f in a)this.off(f,c,a[f]);return this}if(c===!1||typeof c=="function")d=c,c=b;return d===!1&&(d=ba),this.each(function(){p.event.remove(this,a,d,c)})},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},live:function(a,b,c){return p(this.context).on(a,this.selector,b,c),this},die:function(a,b){return p(this.context).off(a,this.selector||"**",b),this},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return arguments.length===1?this.off(a,"**"):this.off(b,a||"**",c)},trigger:function(a,b){return this.each(function(){p.event.trigger(a,b,this)})},triggerHandler:function(a,b){if(this[0])return p.event.trigger(a,b,this[0],!0)},toggle:function(a){var b=arguments,c=a.guid||p.guid++,d=0,e=function(c){var e=(p._data(this,"lastToggle"+a.guid)||0)%d;return p._data(this,"lastToggle"+a.guid,e+1),c.preventDefault(),b[e].apply(this,arguments)||!1};e.guid=c;while(d<b.length)b[d++].guid=c;return this.click(e)},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),p.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){p.fn[b]=function(a,c){return c==null&&(c=a,a=null),arguments.length>0?this.on(b,null,a,c):this.trigger(b)},Y.test(b)&&(p.event.fixHooks[b]=p.event.keyHooks),Z.test(b)&&(p.event.fixHooks[b]=p.event.mouseHooks)}),function(a,b){function bc(a,b,c,d){c=c||[],b=b||r;var e,f,i,j,k=b.nodeType;if(!a||typeof a!="string")return c;if(k!==1&&k!==9)return[];i=g(b);if(!i&&!d)if(e=P.exec(a))if(j=e[1]){if(k===9){f=b.getElementById(j);if(!f||!f.parentNode)return c;if(f.id===j)return c.push(f),c}else if(b.ownerDocument&&(f=b.ownerDocument.getElementById(j))&&h(b,f)&&f.id===j)return c.push(f),c}else{if(e[2])return w.apply(c,x.call(b.getElementsByTagName(a),0)),c;if((j=e[3])&&_&&b.getElementsByClassName)return w.apply(c,x.call(b.getElementsByClassName(j),0)),c}return bp(a.replace(L,"$1"),b,c,d,i)}function bd(a){return function(b){var c=b.nodeName.toLowerCase();return c==="input"&&b.type===a}}function be(a){return function(b){var c=b.nodeName.toLowerCase();return(c==="input"||c==="button")&&b.type===a}}function bf(a){return z(function(b){return b=+b,z(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function bg(a,b,c){if(a===b)return c;var d=a.nextSibling;while(d){if(d===b)return-1;d=d.nextSibling}return 1}function bh(a,b){var c,d,f,g,h,i,j,k=C[o][a];if(k)return b?0:k.slice(0);h=a,i=[],j=e.preFilter;while(h){if(!c||(d=M.exec(h)))d&&(h=h.slice(d[0].length)),i.push(f=[]);c=!1;if(d=N.exec(h))f.push(c=new q(d.shift())),h=h.slice(c.length),c.type=d[0].replace(L," ");for(g in e.filter)(d=W[g].exec(h))&&(!j[g]||(d=j[g](d,r,!0)))&&(f.push(c=new q(d.shift())),h=h.slice(c.length),c.type=g,c.matches=d);if(!c)break}return b?h.length:h?bc.error(a):C(a,i).slice(0)}function bi(a,b,d){var e=b.dir,f=d&&b.dir==="parentNode",g=u++;return b.first?function(b,c,d){while(b=b[e])if(f||b.nodeType===1)return a(b,c,d)}:function(b,d,h){if(!h){var i,j=t+" "+g+" ",k=j+c;while(b=b[e])if(f||b.nodeType===1){if((i=b[o])===k)return b.sizset;if(typeof i=="string"&&i.indexOf(j)===0){if(b.sizset)return b}else{b[o]=k;if(a(b,d,h))return b.sizset=!0,b;b.sizset=!1}}}else while(b=b[e])if(f||b.nodeType===1)if(a(b,d,h))return b}}function bj(a){return a.length>1?function(b,c,d){var e=a.length;while(e--)if(!a[e](b,c,d))return!1;return!0}:a[0]}function bk(a,b,c,d,e){var f,g=[],h=0,i=a.length,j=b!=null;for(;h<i;h++)if(f=a[h])if(!c||c(f,d,e))g.push(f),j&&b.push(h);return g}function bl(a,b,c,d,e,f){return d&&!d[o]&&(d=bl(d)),e&&!e[o]&&(e=bl(e,f)),z(function(f,g,h,i){if(f&&e)return;var j,k,l,m=[],n=[],o=g.length,p=f||bo(b||"*",h.nodeType?[h]:h,[],f),q=a&&(f||!b)?bk(p,m,a,h,i):p,r=c?e||(f?a:o||d)?[]:g:q;c&&c(q,r,h,i);if(d){l=bk(r,n),d(l,[],h,i),j=l.length;while(j--)if(k=l[j])r[n[j]]=!(q[n[j]]=k)}if(f){j=a&&r.length;while(j--)if(k=r[j])f[m[j]]=!(g[m[j]]=k)}else r=bk(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):w.apply(g,r)})}function bm(a){var b,c,d,f=a.length,g=e.relative[a[0].type],h=g||e.relative[" "],i=g?1:0,j=bi(function(a){return a===b},h,!0),k=bi(function(a){return y.call(b,a)>-1},h,!0),m=[function(a,c,d){return!g&&(d||c!==l)||((b=c).nodeType?j(a,c,d):k(a,c,d))}];for(;i<f;i++)if(c=e.relative[a[i].type])m=[bi(bj(m),c)];else{c=e.filter[a[i].type].apply(null,a[i].matches);if(c[o]){d=++i;for(;d<f;d++)if(e.relative[a[d].type])break;return bl(i>1&&bj(m),i>1&&a.slice(0,i-1).join("").replace(L,"$1"),c,i<d&&bm(a.slice(i,d)),d<f&&bm(a=a.slice(d)),d<f&&a.join(""))}m.push(c)}return bj(m)}function bn(a,b){var d=b.length>0,f=a.length>0,g=function(h,i,j,k,m){var n,o,p,q=[],s=0,u="0",x=h&&[],y=m!=null,z=l,A=h||f&&e.find.TAG("*",m&&i.parentNode||i),B=t+=z==null?1:Math.E;y&&(l=i!==r&&i,c=g.el);for(;(n=A[u])!=null;u++){if(f&&n){for(o=0;p=a[o];o++)if(p(n,i,j)){k.push(n);break}y&&(t=B,c=++g.el)}d&&((n=!p&&n)&&s--,h&&x.push(n))}s+=u;if(d&&u!==s){for(o=0;p=b[o];o++)p(x,q,i,j);if(h){if(s>0)while(u--)!x[u]&&!q[u]&&(q[u]=v.call(k));q=bk(q)}w.apply(k,q),y&&!h&&q.length>0&&s+b.length>1&&bc.uniqueSort(k)}return y&&(t=B,l=z),x};return g.el=0,d?z(g):g}function bo(a,b,c,d){var e=0,f=b.length;for(;e<f;e++)bc(a,b[e],c,d);return c}function bp(a,b,c,d,f){var g,h,j,k,l,m=bh(a),n=m.length;if(!d&&m.length===1){h=m[0]=m[0].slice(0);if(h.length>2&&(j=h[0]).type==="ID"&&b.nodeType===9&&!f&&e.relative[h[1].type]){b=e.find.ID(j.matches[0].replace(V,""),b,f)[0];if(!b)return c;a=a.slice(h.shift().length)}for(g=W.POS.test(a)?-1:h.length-1;g>=0;g--){j=h[g];if(e.relative[k=j.type])break;if(l=e.find[k])if(d=l(j.matches[0].replace(V,""),R.test(h[0].type)&&b.parentNode||b,f)){h.splice(g,1),a=d.length&&h.join("");if(!a)return w.apply(c,x.call(d,0)),c;break}}}return i(a,m)(d,b,f,c,R.test(a)),c}function bq(){}var c,d,e,f,g,h,i,j,k,l,m=!0,n="undefined",o=("sizcache"+Math.random()).replace(".",""),q=String,r=a.document,s=r.documentElement,t=0,u=0,v=[].pop,w=[].push,x=[].slice,y=[].indexOf||function(a){var b=0,c=this.length;for(;b<c;b++)if(this[b]===a)return b;return-1},z=function(a,b){return a[o]=b==null||b,a},A=function(){var a={},b=[];return z(function(c,d){return b.push(c)>e.cacheLength&&delete a[b.shift()],a[c]=d},a)},B=A(),C=A(),D=A(),E="[\\x20\\t\\r\\n\\f]",F="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+",G=F.replace("w","w#"),H="([*^$|!~]?=)",I="\\["+E+"*("+F+")"+E+"*(?:"+H+E+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+G+")|)|)"+E+"*\\]",J=":("+F+")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+I+")|[^:]|\\\\.)*|.*))\\)|)",K=":(even|odd|eq|gt|lt|nth|first|last)(?:\\("+E+"*((?:-\\d)?\\d*)"+E+"*\\)|)(?=[^-]|$)",L=new RegExp("^"+E+"+|((?:^|[^\\\\])(?:\\\\.)*)"+E+"+$","g"),M=new RegExp("^"+E+"*,"+E+"*"),N=new RegExp("^"+E+"*([\\x20\\t\\r\\n\\f>+~])"+E+"*"),O=new RegExp(J),P=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,Q=/^:not/,R=/[\x20\t\r\n\f]*[+~]/,S=/:not\($/,T=/h\d/i,U=/input|select|textarea|button/i,V=/\\(?!\\)/g,W={ID:new RegExp("^#("+F+")"),CLASS:new RegExp("^\\.("+F+")"),NAME:new RegExp("^\\[name=['\"]?("+F+")['\"]?\\]"),TAG:new RegExp("^("+F.replace("w","w*")+")"),ATTR:new RegExp("^"+I),PSEUDO:new RegExp("^"+J),POS:new RegExp(K,"i"),CHILD:new RegExp("^:(only|nth|first|last)-child(?:\\("+E+"*(even|odd|(([+-]|)(\\d*)n|)"+E+"*(?:([+-]|)"+E+"*(\\d+)|))"+E+"*\\)|)","i"),needsContext:new RegExp("^"+E+"*[>+~]|"+K,"i")},X=function(a){var b=r.createElement("div");try{return a(b)}catch(c){return!1}finally{b=null}},Y=X(function(a){return a.appendChild(r.createComment("")),!a.getElementsByTagName("*").length}),Z=X(function(a){return a.innerHTML="<a href='#'></a>",a.firstChild&&typeof a.firstChild.getAttribute!==n&&a.firstChild.getAttribute("href")==="#"}),$=X(function(a){a.innerHTML="<select></select>";var b=typeof a.lastChild.getAttribute("multiple");return b!=="boolean"&&b!=="string"}),_=X(function(a){return a.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",!a.getElementsByClassName||!a.getElementsByClassName("e").length?!1:(a.lastChild.className="e",a.getElementsByClassName("e").length===2)}),ba=X(function(a){a.id=o+0,a.innerHTML="<a name='"+o+"'></a><div name='"+o+"'></div>",s.insertBefore(a,s.firstChild);var b=r.getElementsByName&&r.getElementsByName(o).length===2+r.getElementsByName(o+0).length;return d=!r.getElementById(o),s.removeChild(a),b});try{x.call(s.childNodes,0)[0].nodeType}catch(bb){x=function(a){var b,c=[];for(;b=this[a];a++)c.push(b);return c}}bc.matches=function(a,b){return bc(a,null,null,b)},bc.matchesSelector=function(a,b){return bc(b,null,null,[a]).length>0},f=bc.getText=function(a){var b,c="",d=0,e=a.nodeType;if(e){if(e===1||e===9||e===11){if(typeof a.textContent=="string")return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=f(a)}else if(e===3||e===4)return a.nodeValue}else for(;b=a[d];d++)c+=f(b);return c},g=bc.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?b.nodeName!=="HTML":!1},h=bc.contains=s.contains?function(a,b){var c=a.nodeType===9?a.documentElement:a,d=b&&b.parentNode;return a===d||!!(d&&d.nodeType===1&&c.contains&&c.contains(d))}:s.compareDocumentPosition?function(a,b){return b&&!!(a.compareDocumentPosition(b)&16)}:function(a,b){while(b=b.parentNode)if(b===a)return!0;return!1},bc.attr=function(a,b){var c,d=g(a);return d||(b=b.toLowerCase()),(c=e.attrHandle[b])?c(a):d||$?a.getAttribute(b):(c=a.getAttributeNode(b),c?typeof a[b]=="boolean"?a[b]?b:null:c.specified?c.value:null:null)},e=bc.selectors={cacheLength:50,createPseudo:z,match:W,attrHandle:Z?{}:{href:function(a){return a.getAttribute("href",2)},type:function(a){return a.getAttribute("type")}},find:{ID:d?function(a,b,c){if(typeof b.getElementById!==n&&!c){var d=b.getElementById(a);return d&&d.parentNode?[d]:[]}}:function(a,c,d){if(typeof c.getElementById!==n&&!d){var e=c.getElementById(a);return e?e.id===a||typeof e.getAttributeNode!==n&&e.getAttributeNode("id").value===a?[e]:b:[]}},TAG:Y?function(a,b){if(typeof b.getElementsByTagName!==n)return b.getElementsByTagName(a)}:function(a,b){var c=b.getElementsByTagName(a);if(a==="*"){var d,e=[],f=0;for(;d=c[f];f++)d.nodeType===1&&e.push(d);return e}return c},NAME:ba&&function(a,b){if(typeof b.getElementsByName!==n)return b.getElementsByName(name)},CLASS:_&&function(a,b,c){if(typeof b.getElementsByClassName!==n&&!c)return b.getElementsByClassName(a)}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(V,""),a[3]=(a[4]||a[5]||"").replace(V,""),a[2]==="~="&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),a[1]==="nth"?(a[2]||bc.error(a[0]),a[3]=+(a[3]?a[4]+(a[5]||1):2*(a[2]==="even"||a[2]==="odd")),a[4]=+(a[6]+a[7]||a[2]==="odd")):a[2]&&bc.error(a[0]),a},PSEUDO:function(a){var b,c;if(W.CHILD.test(a[0]))return null;if(a[3])a[2]=a[3];else if(b=a[4])O.test(b)&&(c=bh(b,!0))&&(c=b.indexOf(")",b.length-c)-b.length)&&(b=b.slice(0,c),a[0]=a[0].slice(0,c)),a[2]=b;return a.slice(0,3)}},filter:{ID:d?function(a){return a=a.replace(V,""),function(b){return b.getAttribute("id")===a}}:function(a){return a=a.replace(V,""),function(b){var c=typeof b.getAttributeNode!==n&&b.getAttributeNode("id");return c&&c.value===a}},TAG:function(a){return a==="*"?function(){return!0}:(a=a.replace(V,"").toLowerCase(),function(b){return b.nodeName&&b.nodeName.toLowerCase()===a})},CLASS:function(a){var b=B[o][a];return b||(b=B(a,new RegExp("(^|"+E+")"+a+"("+E+"|$)"))),function(a){return b.test(a.className||typeof a.getAttribute!==n&&a.getAttribute("class")||"")}},ATTR:function(a,b,c){return function(d,e){var f=bc.attr(d,a);return f==null?b==="!=":b?(f+="",b==="="?f===c:b==="!="?f!==c:b==="^="?c&&f.indexOf(c)===0:b==="*="?c&&f.indexOf(c)>-1:b==="$="?c&&f.substr(f.length-c.length)===c:b==="~="?(" "+f+" ").indexOf(c)>-1:b==="|="?f===c||f.substr(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,b,c,d){return a==="nth"?function(a){var b,e,f=a.parentNode;if(c===1&&d===0)return!0;if(f){e=0;for(b=f.firstChild;b;b=b.nextSibling)if(b.nodeType===1){e++;if(a===b)break}}return e-=d,e===c||e%c===0&&e/c>=0}:function(b){var c=b;switch(a){case"only":case"first":while(c=c.previousSibling)if(c.nodeType===1)return!1;if(a==="first")return!0;c=b;case"last":while(c=c.nextSibling)if(c.nodeType===1)return!1;return!0}}},PSEUDO:function(a,b){var c,d=e.pseudos[a]||e.setFilters[a.toLowerCase()]||bc.error("unsupported pseudo: "+a);return d[o]?d(b):d.length>1?(c=[a,a,"",b],e.setFilters.hasOwnProperty(a.toLowerCase())?z(function(a,c){var e,f=d(a,b),g=f.length;while(g--)e=y.call(a,f[g]),a[e]=!(c[e]=f[g])}):function(a){return d(a,0,c)}):d}},pseudos:{not:z(function(a){var b=[],c=[],d=i(a.replace(L,"$1"));return d[o]?z(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--)if(f=g[h])a[h]=!(b[h]=f)}):function(a,e,f){return b[0]=a,d(b,null,f,c),!c.pop()}}),has:z(function(a){return function(b){return bc(a,b).length>0}}),contains:z(function(a){return function(b){return(b.textContent||b.innerText||f(b)).indexOf(a)>-1}}),enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return b==="input"&&!!a.checked||b==="option"&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},parent:function(a){return!e.pseudos.empty(a)},empty:function(a){var b;a=a.firstChild;while(a){if(a.nodeName>"@"||(b=a.nodeType)===3||b===4)return!1;a=a.nextSibling}return!0},header:function(a){return T.test(a.nodeName)},text:function(a){var b,c;return a.nodeName.toLowerCase()==="input"&&(b=a.type)==="text"&&((c=a.getAttribute("type"))==null||c.toLowerCase()===b)},radio:bd("radio"),checkbox:bd("checkbox"),file:bd("file"),password:bd("password"),image:bd("image"),submit:be("submit"),reset:be("reset"),button:function(a){var b=a.nodeName.toLowerCase();return b==="input"&&a.type==="button"||b==="button"},input:function(a){return U.test(a.nodeName)},focus:function(a){var b=a.ownerDocument;return a===b.activeElement&&(!b.hasFocus||b.hasFocus())&&(!!a.type||!!a.href)},active:function(a){return a===a.ownerDocument.activeElement},first:bf(function(a,b,c){return[0]}),last:bf(function(a,b,c){return[b-1]}),eq:bf(function(a,b,c){return[c<0?c+b:c]}),even:bf(function(a,b,c){for(var d=0;d<b;d+=2)a.push(d);return a}),odd:bf(function(a,b,c){for(var d=1;d<b;d+=2)a.push(d);return a}),lt:bf(function(a,b,c){for(var d=c<0?c+b:c;--d>=0;)a.push(d);return a}),gt:bf(function(a,b,c){for(var d=c<0?c+b:c;++d<b;)a.push(d);return a})}},j=s.compareDocumentPosition?function(a,b){return a===b?(k=!0,0):(!a.compareDocumentPosition||!b.compareDocumentPosition?a.compareDocumentPosition:a.compareDocumentPosition(b)&4)?-1:1}:function(a,b){if(a===b)return k=!0,0;if(a.sourceIndex&&b.sourceIndex)return a.sourceIndex-b.sourceIndex;var c,d,e=[],f=[],g=a.parentNode,h=b.parentNode,i=g;if(g===h)return bg(a,b);if(!g)return-1;if(!h)return 1;while(i)e.unshift(i),i=i.parentNode;i=h;while(i)f.unshift(i),i=i.parentNode;c=e.length,d=f.length;for(var j=0;j<c&&j<d;j++)if(e[j]!==f[j])return bg(e[j],f[j]);return j===c?bg(a,f[j],-1):bg(e[j],b,1)},[0,0].sort(j),m=!k,bc.uniqueSort=function(a){var b,c=1;k=m,a.sort(j);if(k)for(;b=a[c];c++)b===a[c-1]&&a.splice(c--,1);return a},bc.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},i=bc.compile=function(a,b){var c,d=[],e=[],f=D[o][a];if(!f){b||(b=bh(a)),c=b.length;while(c--)f=bm(b[c]),f[o]?d.push(f):e.push(f);f=D(a,bn(e,d))}return f},r.querySelectorAll&&function(){var a,b=bp,c=/'|\\/g,d=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,e=[":focus"],f=[":active",":focus"],h=s.matchesSelector||s.mozMatchesSelector||s.webkitMatchesSelector||s.oMatchesSelector||s.msMatchesSelector;X(function(a){a.innerHTML="<select><option selected=''></option></select>",a.querySelectorAll("[selected]").length||e.push("\\["+E+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),a.querySelectorAll(":checked").length||e.push(":checked")}),X(function(a){a.innerHTML="<p test=''></p>",a.querySelectorAll("[test^='']").length&&e.push("[*^$]="+E+"*(?:\"\"|'')"),a.innerHTML="<input type='hidden'/>",a.querySelectorAll(":enabled").length||e.push(":enabled",":disabled")}),e=new RegExp(e.join("|")),bp=function(a,d,f,g,h){if(!g&&!h&&(!e||!e.test(a))){var i,j,k=!0,l=o,m=d,n=d.nodeType===9&&a;if(d.nodeType===1&&d.nodeName.toLowerCase()!=="object"){i=bh(a),(k=d.getAttribute("id"))?l=k.replace(c,"\\$&"):d.setAttribute("id",l),l="[id='"+l+"'] ",j=i.length;while(j--)i[j]=l+i[j].join("");m=R.test(a)&&d.parentNode||d,n=i.join(",")}if(n)try{return w.apply(f,x.call(m.querySelectorAll(n),0)),f}catch(p){}finally{k||d.removeAttribute("id")}}return b(a,d,f,g,h)},h&&(X(function(b){a=h.call(b,"div");try{h.call(b,"[test!='']:sizzle"),f.push("!=",J)}catch(c){}}),f=new RegExp(f.join("|")),bc.matchesSelector=function(b,c){c=c.replace(d,"='$1']");if(!g(b)&&!f.test(c)&&(!e||!e.test(c)))try{var i=h.call(b,c);if(i||a||b.document&&b.document.nodeType!==11)return i}catch(j){}return bc(c,null,null,[b]).length>0})}(),e.pseudos.nth=e.pseudos.eq,e.filters=bq.prototype=e.pseudos,e.setFilters=new bq,bc.attr=p.attr,p.find=bc,p.expr=bc.selectors,p.expr[":"]=p.expr.pseudos,p.unique=bc.uniqueSort,p.text=bc.getText,p.isXMLDoc=bc.isXML,p.contains=bc.contains}(a);var bc=/Until$/,bd=/^(?:parents|prev(?:Until|All))/,be=/^.[^:#\[\.,]*$/,bf=p.expr.match.needsContext,bg={children:!0,contents:!0,next:!0,prev:!0};p.fn.extend({find:function(a){var b,c,d,e,f,g,h=this;if(typeof a!="string")return p(a).filter(function(){for(b=0,c=h.length;b<c;b++)if(p.contains(h[b],this))return!0});g=this.pushStack("","find",a);for(b=0,c=this.length;b<c;b++){d=g.length,p.find(a,this[b],g);if(b>0)for(e=d;e<g.length;e++)for(f=0;f<d;f++)if(g[f]===g[e]){g.splice(e--,1);break}}return g},has:function(a){var b,c=p(a,this),d=c.length;return this.filter(function(){for(b=0;b<d;b++)if(p.contains(this,c[b]))return!0})},not:function(a){return this.pushStack(bj(this,a,!1),"not",a)},filter:function(a){return this.pushStack(bj(this,a,!0),"filter",a)},is:function(a){return!!a&&(typeof a=="string"?bf.test(a)?p(a,this.context).index(this[0])>=0:p.filter(a,this).length>0:this.filter(a).length>0)},closest:function(a,b){var c,d=0,e=this.length,f=[],g=bf.test(a)||typeof a!="string"?p(a,b||this.context):0;for(;d<e;d++){c=this[d];while(c&&c.ownerDocument&&c!==b&&c.nodeType!==11){if(g?g.index(c)>-1:p.find.matchesSelector(c,a)){f.push(c);break}c=c.parentNode}}return f=f.length>1?p.unique(f):f,this.pushStack(f,"closest",a)},index:function(a){return a?typeof a=="string"?p.inArray(this[0],p(a)):p.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(a,b){var c=typeof a=="string"?p(a,b):p.makeArray(a&&a.nodeType?[a]:a),d=p.merge(this.get(),c);return this.pushStack(bh(c[0])||bh(d[0])?d:p.unique(d))},addBack:function(a){return this.add(a==null?this.prevObject:this.prevObject.filter(a))}}),p.fn.andSelf=p.fn.addBack,p.each({parent:function(a){var b=a.parentNode;return b&&b.nodeType!==11?b:null},parents:function(a){return p.dir(a,"parentNode")},parentsUntil:function(a,b,c){return p.dir(a,"parentNode",c)},next:function(a){return bi(a,"nextSibling")},prev:function(a){return bi(a,"previousSibling")},nextAll:function(a){return p.dir(a,"nextSibling")},prevAll:function(a){return p.dir(a,"previousSibling")},nextUntil:function(a,b,c){return p.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return p.dir(a,"previousSibling",c)},siblings:function(a){return p.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return p.sibling(a.firstChild)},contents:function(a){return p.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:p.merge([],a.childNodes)}},function(a,b){p.fn[a]=function(c,d){var e=p.map(this,b,c);return bc.test(a)||(d=c),d&&typeof d=="string"&&(e=p.filter(d,e)),e=this.length>1&&!bg[a]?p.unique(e):e,this.length>1&&bd.test(a)&&(e=e.reverse()),this.pushStack(e,a,k.call(arguments).join(","))}}),p.extend({filter:function(a,b,c){return c&&(a=":not("+a+")"),b.length===1?p.find.matchesSelector(b[0],a)?[b[0]]:[]:p.find.matches(a,b)},dir:function(a,c,d){var e=[],f=a[c];while(f&&f.nodeType!==9&&(d===b||f.nodeType!==1||!p(f).is(d)))f.nodeType===1&&e.push(f),f=f[c];return e},sibling:function(a,b){var c=[];for(;a;a=a.nextSibling)a.nodeType===1&&a!==b&&c.push(a);return c}});var bl="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",bm=/ jQuery\d+="(?:null|\d+)"/g,bn=/^\s+/,bo=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,bp=/<([\w:]+)/,bq=/<tbody/i,br=/<|&#?\w+;/,bs=/<(?:script|style|link)/i,bt=/<(?:script|object|embed|option|style)/i,bu=new RegExp("<(?:"+bl+")[\\s/>]","i"),bv=/^(?:checkbox|radio)$/,bw=/checked\s*(?:[^=]|=\s*.checked.)/i,bx=/\/(java|ecma)script/i,by=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,bz={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},bA=bk(e),bB=bA.appendChild(e.createElement("div"));bz.optgroup=bz.option,bz.tbody=bz.tfoot=bz.colgroup=bz.caption=bz.thead,bz.th=bz.td,p.support.htmlSerialize||(bz._default=[1,"X<div>","</div>"]),p.fn.extend({text:function(a){return p.access(this,function(a){return a===b?p.text(this):this.empty().append((this[0]&&this[0].ownerDocument||e).createTextNode(a))},null,a,arguments.length)},wrapAll:function(a){if(p.isFunction(a))return this.each(function(b){p(this).wrapAll(a.call(this,b))});if(this[0]){var b=p(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstChild&&a.firstChild.nodeType===1)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return p.isFunction(a)?this.each(function(b){p(this).wrapInner(a.call(this,b))}):this.each(function(){var b=p(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=p.isFunction(a);return this.each(function(c){p(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){p.nodeName(this,"body")||p(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){(this.nodeType===1||this.nodeType===11)&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,!0,function(a){(this.nodeType===1||this.nodeType===11)&&this.insertBefore(a,this.firstChild)})},before:function(){if(!bh(this[0]))return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this)});if(arguments.length){var a=p.clean(arguments);return this.pushStack(p.merge(a,this),"before",this.selector)}},after:function(){if(!bh(this[0]))return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this.nextSibling)});if(arguments.length){var a=p.clean(arguments);return this.pushStack(p.merge(this,a),"after",this.selector)}},remove:function(a,b){var c,d=0;for(;(c=this[d])!=null;d++)if(!a||p.filter(a,[c]).length)!b&&c.nodeType===1&&(p.cleanData(c.getElementsByTagName("*")),p.cleanData([c])),c.parentNode&&c.parentNode.removeChild(c);return this},empty:function(){var a,b=0;for(;(a=this[b])!=null;b++){a.nodeType===1&&p.cleanData(a.getElementsByTagName("*"));while(a.firstChild)a.removeChild(a.firstChild)}return this},clone:function(a,b){return a=a==null?!1:a,b=b==null?a:b,this.map(function(){return p.clone(this,a,b)})},html:function(a){return p.access(this,function(a){var c=this[0]||{},d=0,e=this.length;if(a===b)return c.nodeType===1?c.innerHTML.replace(bm,""):b;if(typeof a=="string"&&!bs.test(a)&&(p.support.htmlSerialize||!bu.test(a))&&(p.support.leadingWhitespace||!bn.test(a))&&!bz[(bp.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(bo,"<$1></$2>");try{for(;d<e;d++)c=this[d]||{},c.nodeType===1&&(p.cleanData(c.getElementsByTagName("*")),c.innerHTML=a);c=0}catch(f){}}c&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(a){return bh(this[0])?this.length?this.pushStack(p(p.isFunction(a)?a():a),"replaceWith",a):this:p.isFunction(a)?this.each(function(b){var c=p(this),d=c.html();c.replaceWith(a.call(this,b,d))}):(typeof a!="string"&&(a=p(a).detach()),this.each(function(){var b=this.nextSibling,c=this.parentNode;p(this).remove(),b?p(b).before(a):p(c).append(a)}))},detach:function(a){return this.remove(a,!0)},domManip:function(a,c,d){a=[].concat.apply([],a);var e,f,g,h,i=0,j=a[0],k=[],l=this.length;if(!p.support.checkClone&&l>1&&typeof j=="string"&&bw.test(j))return this.each(function(){p(this).domManip(a,c,d)});if(p.isFunction(j))return this.each(function(e){var f=p(this);a[0]=j.call(this,e,c?f.html():b),f.domManip(a,c,d)});if(this[0]){e=p.buildFragment(a,this,k),g=e.fragment,f=g.firstChild,g.childNodes.length===1&&(g=f);if(f){c=c&&p.nodeName(f,"tr");for(h=e.cacheable||l-1;i<l;i++)d.call(c&&p.nodeName(this[i],"table")?bC(this[i],"tbody"):this[i],i===h?g:p.clone(g,!0,!0))}g=f=null,k.length&&p.each(k,function(a,b){b.src?p.ajax?p.ajax({url:b.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):p.error("no ajax"):p.globalEval((b.text||b.textContent||b.innerHTML||"").replace(by,"")),b.parentNode&&b.parentNode.removeChild(b)})}return this}}),p.buildFragment=function(a,c,d){var f,g,h,i=a[0];return c=c||e,c=!c.nodeType&&c[0]||c,c=c.ownerDocument||c,a.length===1&&typeof i=="string"&&i.length<512&&c===e&&i.charAt(0)==="<"&&!bt.test(i)&&(p.support.checkClone||!bw.test(i))&&(p.support.html5Clone||!bu.test(i))&&(g=!0,f=p.fragments[i],h=f!==b),f||(f=c.createDocumentFragment(),p.clean(a,c,f,d),g&&(p.fragments[i]=h&&f)),{fragment:f,cacheable:g}},p.fragments={},p.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){p.fn[a]=function(c){var d,e=0,f=[],g=p(c),h=g.length,i=this.length===1&&this[0].parentNode;if((i==null||i&&i.nodeType===11&&i.childNodes.length===1)&&h===1)return g[b](this[0]),this;for(;e<h;e++)d=(e>0?this.clone(!0):this).get(),p(g[e])[b](d),f=f.concat(d);return this.pushStack(f,a,g.selector)}}),p.extend({clone:function(a,b,c){var d,e,f,g;p.support.html5Clone||p.isXMLDoc(a)||!bu.test("<"+a.nodeName+">")?g=a.cloneNode(!0):(bB.innerHTML=a.outerHTML,bB.removeChild(g=bB.firstChild));if((!p.support.noCloneEvent||!p.support.noCloneChecked)&&(a.nodeType===1||a.nodeType===11)&&!p.isXMLDoc(a)){bE(a,g),d=bF(a),e=bF(g);for(f=0;d[f];++f)e[f]&&bE(d[f],e[f])}if(b){bD(a,g);if(c){d=bF(a),e=bF(g);for(f=0;d[f];++f)bD(d[f],e[f])}}return d=e=null,g},clean:function(a,b,c,d){var f,g,h,i,j,k,l,m,n,o,q,r,s=b===e&&bA,t=[];if(!b||typeof b.createDocumentFragment=="undefined")b=e;for(f=0;(h=a[f])!=null;f++){typeof h=="number"&&(h+="");if(!h)continue;if(typeof h=="string")if(!br.test(h))h=b.createTextNode(h);else{s=s||bk(b),l=b.createElement("div"),s.appendChild(l),h=h.replace(bo,"<$1></$2>"),i=(bp.exec(h)||["",""])[1].toLowerCase(),j=bz[i]||bz._default,k=j[0],l.innerHTML=j[1]+h+j[2];while(k--)l=l.lastChild;if(!p.support.tbody){m=bq.test(h),n=i==="table"&&!m?l.firstChild&&l.firstChild.childNodes:j[1]==="<table>"&&!m?l.childNodes:[];for(g=n.length-1;g>=0;--g)p.nodeName(n[g],"tbody")&&!n[g].childNodes.length&&n[g].parentNode.removeChild(n[g])}!p.support.leadingWhitespace&&bn.test(h)&&l.insertBefore(b.createTextNode(bn.exec(h)[0]),l.firstChild),h=l.childNodes,l.parentNode.removeChild(l)}h.nodeType?t.push(h):p.merge(t,h)}l&&(h=l=s=null);if(!p.support.appendChecked)for(f=0;(h=t[f])!=null;f++)p.nodeName(h,"input")?bG(h):typeof h.getElementsByTagName!="undefined"&&p.grep(h.getElementsByTagName("input"),bG);if(c){q=function(a){if(!a.type||bx.test(a.type))return d?d.push(a.parentNode?a.parentNode.removeChild(a):a):c.appendChild(a)};for(f=0;(h=t[f])!=null;f++)if(!p.nodeName(h,"script")||!q(h))c.appendChild(h),typeof h.getElementsByTagName!="undefined"&&(r=p.grep(p.merge([],h.getElementsByTagName("script")),q),t.splice.apply(t,[f+1,0].concat(r)),f+=r.length)}return t},cleanData:function(a,b){var c,d,e,f,g=0,h=p.expando,i=p.cache,j=p.support.deleteExpando,k=p.event.special;for(;(e=a[g])!=null;g++)if(b||p.acceptData(e)){d=e[h],c=d&&i[d];if(c){if(c.events)for(f in c.events)k[f]?p.event.remove(e,f):p.removeEvent(e,f,c.handle);i[d]&&(delete i[d],j?delete e[h]:e.removeAttribute?e.removeAttribute(h):e[h]=null,p.deletedIds.push(d))}}}}),function(){var a,b;p.uaMatch=function(a){a=a.toLowerCase();var b=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||a.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[];return{browser:b[1]||"",version:b[2]||"0"}},a=p.uaMatch(g.userAgent),b={},a.browser&&(b[a.browser]=!0,b.version=a.version),b.chrome?b.webkit=!0:b.webkit&&(b.safari=!0),p.browser=b,p.sub=function(){function a(b,c){return new a.fn.init(b,c)}p.extend(!0,a,this),a.superclass=this,a.fn=a.prototype=this(),a.fn.constructor=a,a.sub=this.sub,a.fn.init=function c(c,d){return d&&d instanceof p&&!(d instanceof a)&&(d=a(d)),p.fn.init.call(this,c,d,b)},a.fn.init.prototype=a.fn;var b=a(e);return a}}();var bH,bI,bJ,bK=/alpha\([^)]*\)/i,bL=/opacity=([^)]*)/,bM=/^(top|right|bottom|left)$/,bN=/^(none|table(?!-c[ea]).+)/,bO=/^margin/,bP=new RegExp("^("+q+")(.*)$","i"),bQ=new RegExp("^("+q+")(?!px)[a-z%]+$","i"),bR=new RegExp("^([-+])=("+q+")","i"),bS={},bT={position:"absolute",visibility:"hidden",display:"block"},bU={letterSpacing:0,fontWeight:400},bV=["Top","Right","Bottom","Left"],bW=["Webkit","O","Moz","ms"],bX=p.fn.toggle;p.fn.extend({css:function(a,c){return p.access(this,function(a,c,d){return d!==b?p.style(a,c,d):p.css(a,c)},a,c,arguments.length>1)},show:function(){return b$(this,!0)},hide:function(){return b$(this)},toggle:function(a,b){var c=typeof a=="boolean";return p.isFunction(a)&&p.isFunction(b)?bX.apply(this,arguments):this.each(function(){(c?a:bZ(this))?p(this).show():p(this).hide()})}}),p.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=bH(a,"opacity");return c===""?"1":c}}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":p.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,c,d,e){if(!a||a.nodeType===3||a.nodeType===8||!a.style)return;var f,g,h,i=p.camelCase(c),j=a.style;c=p.cssProps[i]||(p.cssProps[i]=bY(j,i)),h=p.cssHooks[c]||p.cssHooks[i];if(d===b)return h&&"get"in h&&(f=h.get(a,!1,e))!==b?f:j[c];g=typeof d,g==="string"&&(f=bR.exec(d))&&(d=(f[1]+1)*f[2]+parseFloat(p.css(a,c)),g="number");if(d==null||g==="number"&&isNaN(d))return;g==="number"&&!p.cssNumber[i]&&(d+="px");if(!h||!("set"in h)||(d=h.set(a,d,e))!==b)try{j[c]=d}catch(k){}},css:function(a,c,d,e){var f,g,h,i=p.camelCase(c);return c=p.cssProps[i]||(p.cssProps[i]=bY(a.style,i)),h=p.cssHooks[c]||p.cssHooks[i],h&&"get"in h&&(f=h.get(a,!0,e)),f===b&&(f=bH(a,c)),f==="normal"&&c in bU&&(f=bU[c]),d||e!==b?(g=parseFloat(f),d||p.isNumeric(g)?g||0:f):f},swap:function(a,b,c){var d,e,f={};for(e in b)f[e]=a.style[e],a.style[e]=b[e];d=c.call(a);for(e in b)a.style[e]=f[e];return d}}),a.getComputedStyle?bH=function(b,c){var d,e,f,g,h=a.getComputedStyle(b,null),i=b.style;return h&&(d=h[c],d===""&&!p.contains(b.ownerDocument,b)&&(d=p.style(b,c)),bQ.test(d)&&bO.test(c)&&(e=i.width,f=i.minWidth,g=i.maxWidth,i.minWidth=i.maxWidth=i.width=d,d=h.width,i.width=e,i.minWidth=f,i.maxWidth=g)),d}:e.documentElement.currentStyle&&(bH=function(a,b){var c,d,e=a.currentStyle&&a.currentStyle[b],f=a.style;return e==null&&f&&f[b]&&(e=f[b]),bQ.test(e)&&!bM.test(b)&&(c=f.left,d=a.runtimeStyle&&a.runtimeStyle.left,d&&(a.runtimeStyle.left=a.currentStyle.left),f.left=b==="fontSize"?"1em":e,e=f.pixelLeft+"px",f.left=c,d&&(a.runtimeStyle.left=d)),e===""?"auto":e}),p.each(["height","width"],function(a,b){p.cssHooks[b]={get:function(a,c,d){if(c)return a.offsetWidth===0&&bN.test(bH(a,"display"))?p.swap(a,bT,function(){return cb(a,b,d)}):cb(a,b,d)},set:function(a,c,d){return b_(a,c,d?ca(a,b,d,p.support.boxSizing&&p.css(a,"boxSizing")==="border-box"):0)}}}),p.support.opacity||(p.cssHooks.opacity={get:function(a,b){return bL.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=p.isNumeric(b)?"alpha(opacity="+b*100+")":"",f=d&&d.filter||c.filter||"";c.zoom=1;if(b>=1&&p.trim(f.replace(bK,""))===""&&c.removeAttribute){c.removeAttribute("filter");if(d&&!d.filter)return}c.filter=bK.test(f)?f.replace(bK,e):f+" "+e}}),p(function(){p.support.reliableMarginRight||(p.cssHooks.marginRight={get:function(a,b){return p.swap(a,{display:"inline-block"},function(){if(b)return bH(a,"marginRight")})}}),!p.support.pixelPosition&&p.fn.position&&p.each(["top","left"],function(a,b){p.cssHooks[b]={get:function(a,c){if(c){var d=bH(a,b);return bQ.test(d)?p(a).position()[b]+"px":d}}}})}),p.expr&&p.expr.filters&&(p.expr.filters.hidden=function(a){return a.offsetWidth===0&&a.offsetHeight===0||!p.support.reliableHiddenOffsets&&(a.style&&a.style.display||bH(a,"display"))==="none"},p.expr.filters.visible=function(a){return!p.expr.filters.hidden(a)}),p.each({margin:"",padding:"",border:"Width"},function(a,b){p.cssHooks[a+b]={expand:function(c){var d,e=typeof c=="string"?c.split(" "):[c],f={};for(d=0;d<4;d++)f[a+bV[d]+b]=e[d]||e[d-2]||e[0];return f}},bO.test(a)||(p.cssHooks[a+b].set=b_)});var cd=/%20/g,ce=/\[\]$/,cf=/\r?\n/g,cg=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,ch=/^(?:select|textarea)/i;p.fn.extend({serialize:function(){return p.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?p.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||ch.test(this.nodeName)||cg.test(this.type))}).map(function(a,b){var c=p(this).val();return c==null?null:p.isArray(c)?p.map(c,function(a,c){return{name:b.name,value:a.replace(cf,"\r\n")}}):{name:b.name,value:c.replace(cf,"\r\n")}}).get()}}),p.param=function(a,c){var d,e=[],f=function(a,b){b=p.isFunction(b)?b():b==null?"":b,e[e.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};c===b&&(c=p.ajaxSettings&&p.ajaxSettings.traditional);if(p.isArray(a)||a.jquery&&!p.isPlainObject(a))p.each(a,function(){f(this.name,this.value)});else for(d in a)ci(d,a[d],c,f);return e.join("&").replace(cd,"+")};var cj,ck,cl=/#.*$/,cm=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,cn=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,co=/^(?:GET|HEAD)$/,cp=/^\/\//,cq=/\?/,cr=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,cs=/([?&])_=[^&]*/,ct=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,cu=p.fn.load,cv={},cw={},cx=["*/"]+["*"];try{ck=f.href}catch(cy){ck=e.createElement("a"),ck.href="",ck=ck.href}cj=ct.exec(ck.toLowerCase())||[],p.fn.load=function(a,c,d){if(typeof a!="string"&&cu)return cu.apply(this,arguments);if(!this.length)return this;var e,f,g,h=this,i=a.indexOf(" ");return i>=0&&(e=a.slice(i,a.length),a=a.slice(0,i)),p.isFunction(c)?(d=c,c=b):c&&typeof c=="object"&&(f="POST"),p.ajax({url:a,type:f,dataType:"html",data:c,complete:function(a,b){d&&h.each(d,g||[a.responseText,b,a])}}).done(function(a){g=arguments,h.html(e?p("<div>").append(a.replace(cr,"")).find(e):a)}),this},p.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){p.fn[b]=function(a){return this.on(b,a)}}),p.each(["get","post"],function(a,c){p[c]=function(a,d,e,f){return p.isFunction(d)&&(f=f||e,e=d,d=b),p.ajax({type:c,url:a,data:d,success:e,dataType:f})}}),p.extend({getScript:function(a,c){return p.get(a,b,c,"script")},getJSON:function(a,b,c){return p.get(a,b,c,"json")},ajaxSetup:function(a,b){return b?cB(a,p.ajaxSettings):(b=a,a=p.ajaxSettings),cB(a,b),a},ajaxSettings:{url:ck,isLocal:cn.test(cj[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":cx},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a.String,"text html":!0,"text json":p.parseJSON,"text xml":p.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:cz(cv),ajaxTransport:cz(cw),ajax:function(a,c){function y(a,c,f,i){var k,s,t,u,w,y=c;if(v===2)return;v=2,h&&clearTimeout(h),g=b,e=i||"",x.readyState=a>0?4:0,f&&(u=cC(l,x,f));if(a>=200&&a<300||a===304)l.ifModified&&(w=x.getResponseHeader("Last-Modified"),w&&(p.lastModified[d]=w),w=x.getResponseHeader("Etag"),w&&(p.etag[d]=w)),a===304?(y="notmodified",k=!0):(k=cD(l,u),y=k.state,s=k.data,t=k.error,k=!t);else{t=y;if(!y||a)y="error",a<0&&(a=0)}x.status=a,x.statusText=(c||y)+"",k?o.resolveWith(m,[s,y,x]):o.rejectWith(m,[x,y,t]),x.statusCode(r),r=b,j&&n.trigger("ajax"+(k?"Success":"Error"),[x,l,k?s:t]),q.fireWith(m,[x,y]),j&&(n.trigger("ajaxComplete",[x,l]),--p.active||p.event.trigger("ajaxStop"))}typeof a=="object"&&(c=a,a=b),c=c||{};var d,e,f,g,h,i,j,k,l=p.ajaxSetup({},c),m=l.context||l,n=m!==l&&(m.nodeType||m instanceof p)?p(m):p.event,o=p.Deferred(),q=p.Callbacks("once memory"),r=l.statusCode||{},t={},u={},v=0,w="canceled",x={readyState:0,setRequestHeader:function(a,b){if(!v){var c=a.toLowerCase();a=u[c]=u[c]||a,t[a]=b}return this},getAllResponseHeaders:function(){return v===2?e:null},getResponseHeader:function(a){var c;if(v===2){if(!f){f={};while(c=cm.exec(e))f[c[1].toLowerCase()]=c[2]}c=f[a.toLowerCase()]}return c===b?null:c},overrideMimeType:function(a){return v||(l.mimeType=a),this},abort:function(a){return a=a||w,g&&g.abort(a),y(0,a),this}};o.promise(x),x.success=x.done,x.error=x.fail,x.complete=q.add,x.statusCode=function(a){if(a){var b;if(v<2)for(b in a)r[b]=[r[b],a[b]];else b=a[x.status],x.always(b)}return this},l.url=((a||l.url)+"").replace(cl,"").replace(cp,cj[1]+"//"),l.dataTypes=p.trim(l.dataType||"*").toLowerCase().split(s),l.crossDomain==null&&(i=ct.exec(l.url.toLowerCase())||!1,l.crossDomain=i&&i.join(":")+(i[3]?"":i[1]==="http:"?80:443)!==cj.join(":")+(cj[3]?"":cj[1]==="http:"?80:443)),l.data&&l.processData&&typeof l.data!="string"&&(l.data=p.param(l.data,l.traditional)),cA(cv,l,c,x);if(v===2)return x;j=l.global,l.type=l.type.toUpperCase(),l.hasContent=!co.test(l.type),j&&p.active++===0&&p.event.trigger("ajaxStart");if(!l.hasContent){l.data&&(l.url+=(cq.test(l.url)?"&":"?")+l.data,delete l.data),d=l.url;if(l.cache===!1){var z=p.now(),A=l.url.replace(cs,"$1_="+z);l.url=A+(A===l.url?(cq.test(l.url)?"&":"?")+"_="+z:"")}}(l.data&&l.hasContent&&l.contentType!==!1||c.contentType)&&x.setRequestHeader("Content-Type",l.contentType),l.ifModified&&(d=d||l.url,p.lastModified[d]&&x.setRequestHeader("If-Modified-Since",p.lastModified[d]),p.etag[d]&&x.setRequestHeader("If-None-Match",p.etag[d])),x.setRequestHeader("Accept",l.dataTypes[0]&&l.accepts[l.dataTypes[0]]?l.accepts[l.dataTypes[0]]+(l.dataTypes[0]!=="*"?", "+cx+"; q=0.01":""):l.accepts["*"]);for(k in l.headers)x.setRequestHeader(k,l.headers[k]);if(!l.beforeSend||l.beforeSend.call(m,x,l)!==!1&&v!==2){w="abort";for(k in{success:1,error:1,complete:1})x[k](l[k]);g=cA(cw,l,c,x);if(!g)y(-1,"No Transport");else{x.readyState=1,j&&n.trigger("ajaxSend",[x,l]),l.async&&l.timeout>0&&(h=setTimeout(function(){x.abort("timeout")},l.timeout));try{v=1,g.send(t,y)}catch(B){if(v<2)y(-1,B);else throw B}}return x}return x.abort()},active:0,lastModified:{},etag:{}});var cE=[],cF=/\?/,cG=/(=)\?(?=&|$)|\?\?/,cH=p.now();p.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=cE.pop()||p.expando+"_"+cH++;return this[a]=!0,a}}),p.ajaxPrefilter("json jsonp",function(c,d,e){var f,g,h,i=c.data,j=c.url,k=c.jsonp!==!1,l=k&&cG.test(j),m=k&&!l&&typeof i=="string"&&!(c.contentType||"").indexOf("application/x-www-form-urlencoded")&&cG.test(i);if(c.dataTypes[0]==="jsonp"||l||m)return f=c.jsonpCallback=p.isFunction(c.jsonpCallback)?c.jsonpCallback():c.jsonpCallback,g=a[f],l?c.url=j.replace(cG,"$1"+f):m?c.data=i.replace(cG,"$1"+f):k&&(c.url+=(cF.test(j)?"&":"?")+c.jsonp+"="+f),c.converters["script json"]=function(){return h||p.error(f+" was not called"),h[0]},c.dataTypes[0]="json",a[f]=function(){h=arguments},e.always(function(){a[f]=g,c[f]&&(c.jsonpCallback=d.jsonpCallback,cE.push(f)),h&&p.isFunction(g)&&g(h[0]),h=g=b}),"script"}),p.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){return p.globalEval(a),a}}}),p.ajaxPrefilter("script",function(a){a.cache===b&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),p.ajaxTransport("script",function(a){if(a.crossDomain){var c,d=e.head||e.getElementsByTagName("head")[0]||e.documentElement;return{send:function(f,g){c=e.createElement("script"),c.async="async",a.scriptCharset&&(c.charset=a.scriptCharset),c.src=a.url,c.onload=c.onreadystatechange=function(a,e){if(e||!c.readyState||/loaded|complete/.test(c.readyState))c.onload=c.onreadystatechange=null,d&&c.parentNode&&d.removeChild(c),c=b,e||g(200,"success")},d.insertBefore(c,d.firstChild)},abort:function(){c&&c.onload(0,1)}}}});var cI,cJ=a.ActiveXObject?function(){for(var a in cI)cI[a](0,1)}:!1,cK=0;p.ajaxSettings.xhr=a.ActiveXObject?function(){return!this.isLocal&&cL()||cM()}:cL,function(a){p.extend(p.support,{ajax:!!a,cors:!!a&&"withCredentials"in a})}(p.ajaxSettings.xhr()),p.support.ajax&&p.ajaxTransport(function(c){if(!c.crossDomain||p.support.cors){var d;return{send:function(e,f){var g,h,i=c.xhr();c.username?i.open(c.type,c.url,c.async,c.username,c.password):i.open(c.type,c.url,c.async);if(c.xhrFields)for(h in c.xhrFields)i[h]=c.xhrFields[h];c.mimeType&&i.overrideMimeType&&i.overrideMimeType(c.mimeType),!c.crossDomain&&!e["X-Requested-With"]&&(e["X-Requested-With"]="XMLHttpRequest");try{for(h in e)i.setRequestHeader(h,e[h])}catch(j){}i.send(c.hasContent&&c.data||null),d=function(a,e){var h,j,k,l,m;try{if(d&&(e||i.readyState===4)){d=b,g&&(i.onreadystatechange=p.noop,cJ&&delete cI[g]);if(e)i.readyState!==4&&i.abort();else{h=i.status,k=i.getAllResponseHeaders(),l={},m=i.responseXML,m&&m.documentElement&&(l.xml=m);try{l.text=i.responseText}catch(a){}try{j=i.statusText}catch(n){j=""}!h&&c.isLocal&&!c.crossDomain?h=l.text?200:404:h===1223&&(h=204)}}}catch(o){e||f(-1,o)}l&&f(h,j,l,k)},c.async?i.readyState===4?setTimeout(d,0):(g=++cK,cJ&&(cI||(cI={},p(a).unload(cJ)),cI[g]=d),i.onreadystatechange=d):d()},abort:function(){d&&d(0,1)}}}});var cN,cO,cP=/^(?:toggle|show|hide)$/,cQ=new RegExp("^(?:([-+])=|)("+q+")([a-z%]*)$","i"),cR=/queueHooks$/,cS=[cY],cT={"*":[function(a,b){var c,d,e=this.createTween(a,b),f=cQ.exec(b),g=e.cur(),h=+g||0,i=1,j=20;if(f){c=+f[2],d=f[3]||(p.cssNumber[a]?"":"px");if(d!=="px"&&h){h=p.css(e.elem,a,!0)||c||1;do i=i||".5",h=h/i,p.style(e.elem,a,h+d);while(i!==(i=e.cur()/g)&&i!==1&&--j)}e.unit=d,e.start=h,e.end=f[1]?h+(f[1]+1)*c:c}return e}]};p.Animation=p.extend(cW,{tweener:function(a,b){p.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");var c,d=0,e=a.length;for(;d<e;d++)c=a[d],cT[c]=cT[c]||[],cT[c].unshift(b)},prefilter:function(a,b){b?cS.unshift(a):cS.push(a)}}),p.Tween=cZ,cZ.prototype={constructor:cZ,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(p.cssNumber[c]?"":"px")},cur:function(){var a=cZ.propHooks[this.prop];return a&&a.get?a.get(this):cZ.propHooks._default.get(this)},run:function(a){var b,c=cZ.propHooks[this.prop];return this.options.duration?this.pos=b=p.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):cZ.propHooks._default.set(this),this}},cZ.prototype.init.prototype=cZ.prototype,cZ.propHooks={_default:{get:function(a){var b;return a.elem[a.prop]==null||!!a.elem.style&&a.elem.style[a.prop]!=null?(b=p.css(a.elem,a.prop,!1,""),!b||b==="auto"?0:b):a.elem[a.prop]},set:function(a){p.fx.step[a.prop]?p.fx.step[a.prop](a):a.elem.style&&(a.elem.style[p.cssProps[a.prop]]!=null||p.cssHooks[a.prop])?p.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},cZ.propHooks.scrollTop=cZ.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},p.each(["toggle","show","hide"],function(a,b){var c=p.fn[b];p.fn[b]=function(d,e,f){return d==null||typeof d=="boolean"||!a&&p.isFunction(d)&&p.isFunction(e)?c.apply(this,arguments):this.animate(c$(b,!0),d,e,f)}}),p.fn.extend({fadeTo:function(a,b,c,d){return this.filter(bZ).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=p.isEmptyObject(a),f=p.speed(b,c,d),g=function(){var b=cW(this,p.extend({},a),f);e&&b.stop(!0)};return e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,c,d){var e=function(a){var b=a.stop;delete a.stop,b(d)};return typeof a!="string"&&(d=c,c=a,a=b),c&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,c=a!=null&&a+"queueHooks",f=p.timers,g=p._data(this);if(c)g[c]&&g[c].stop&&e(g[c]);else for(c in g)g[c]&&g[c].stop&&cR.test(c)&&e(g[c]);for(c=f.length;c--;)f[c].elem===this&&(a==null||f[c].queue===a)&&(f[c].anim.stop(d),b=!1,f.splice(c,1));(b||!d)&&p.dequeue(this,a)})}}),p.each({slideDown:c$("show"),slideUp:c$("hide"),slideToggle:c$("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){p.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),p.speed=function(a,b,c){var d=a&&typeof a=="object"?p.extend({},a):{complete:c||!c&&b||p.isFunction(a)&&a,duration:a,easing:c&&b||b&&!p.isFunction(b)&&b};d.duration=p.fx.off?0:typeof d.duration=="number"?d.duration:d.duration in p.fx.speeds?p.fx.speeds[d.duration]:p.fx.speeds._default;if(d.queue==null||d.queue===!0)d.queue="fx";return d.old=d.complete,d.complete=function(){p.isFunction(d.old)&&d.old.call(this),d.queue&&p.dequeue(this,d.queue)},d},p.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},p.timers=[],p.fx=cZ.prototype.init,p.fx.tick=function(){var a,b=p.timers,c=0;for(;c<b.length;c++)a=b[c],!a()&&b[c]===a&&b.splice(c--,1);b.length||p.fx.stop()},p.fx.timer=function(a){a()&&p.timers.push(a)&&!cO&&(cO=setInterval(p.fx.tick,p.fx.interval))},p.fx.interval=13,p.fx.stop=function(){clearInterval(cO),cO=null},p.fx.speeds={slow:600,fast:200,_default:400},p.fx.step={},p.expr&&p.expr.filters&&(p.expr.filters.animated=function(a){return p.grep(p.timers,function(b){return a===b.elem}).length});var c_=/^(?:body|html)$/i;p.fn.offset=function(a){if(arguments.length)return a===b?this:this.each(function(b){p.offset.setOffset(this,a,b)});var c,d,e,f,g,h,i,j={top:0,left:0},k=this[0],l=k&&k.ownerDocument;if(!l)return;return(d=l.body)===k?p.offset.bodyOffset(k):(c=l.documentElement,p.contains(c,k)?(typeof k.getBoundingClientRect!="undefined"&&(j=k.getBoundingClientRect()),e=da(l),f=c.clientTop||d.clientTop||0,g=c.clientLeft||d.clientLeft||0,h=e.pageYOffset||c.scrollTop,i=e.pageXOffset||c.scrollLeft,{top:j.top+h-f,left:j.left+i-g}):j)},p.offset={bodyOffset:function(a){var b=a.offsetTop,c=a.offsetLeft;return p.support.doesNotIncludeMarginInBodyOffset&&(b+=parseFloat(p.css(a,"marginTop"))||0,c+=parseFloat(p.css(a,"marginLeft"))||0),{top:b,left:c}},setOffset:function(a,b,c){var d=p.css(a,"position");d==="static"&&(a.style.position="relative");var e=p(a),f=e.offset(),g=p.css(a,"top"),h=p.css(a,"left"),i=(d==="absolute"||d==="fixed")&&p.inArray("auto",[g,h])>-1,j={},k={},l,m;i?(k=e.position(),l=k.top,m=k.left):(l=parseFloat(g)||0,m=parseFloat(h)||0),p.isFunction(b)&&(b=b.call(a,c,f)),b.top!=null&&(j.top=b.top-f.top+l),b.left!=null&&(j.left=b.left-f.left+m),"using"in b?b.using.call(a,j):e.css(j)}},p.fn.extend({position:function(){if(!this[0])return;var a=this[0],b=this.offsetParent(),c=this.offset(),d=c_.test(b[0].nodeName)?{top:0,left:0}:b.offset();return c.top-=parseFloat(p.css(a,"marginTop"))||0,c.left-=parseFloat(p.css(a,"marginLeft"))||0,d.top+=parseFloat(p.css(b[0],"borderTopWidth"))||0,d.left+=parseFloat(p.css(b[0],"borderLeftWidth"))||0,{top:c.top-d.top,left:c.left-d.left}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||e.body;while(a&&!c_.test(a.nodeName)&&p.css(a,"position")==="static")a=a.offsetParent;return a||e.body})}}),p.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,c){var d=/Y/.test(c);p.fn[a]=function(e){return p.access(this,function(a,e,f){var g=da(a);if(f===b)return g?c in g?g[c]:g.document.documentElement[e]:a[e];g?g.scrollTo(d?p(g).scrollLeft():f,d?f:p(g).scrollTop()):a[e]=f},a,e,arguments.length,null)}}),p.each({Height:"height",Width:"width"},function(a,c){p.each({padding:"inner"+a,content:c,"":"outer"+a},function(d,e){p.fn[e]=function(e,f){var g=arguments.length&&(d||typeof e!="boolean"),h=d||(e===!0||f===!0?"margin":"border");return p.access(this,function(c,d,e){var f;return p.isWindow(c)?c.document.documentElement["client"+a]:c.nodeType===9?(f=c.documentElement,Math.max(c.body["scroll"+a],f["scroll"+a],c.body["offset"+a],f["offset"+a],f["client"+a])):e===b?p.css(c,d,e,h):p.style(c,d,e,h)},c,g?e:b,g,null)}})}),a.jQuery=a.$=p,typeof define=="function"&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return p})})(window);
/* SockJS client, version 0.3.4, http://sockjs.org, MIT License

Copyright (c) 2011-2012 VMware, Inc.

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.
*/

// JSON2 by Douglas Crockford (minified).
var JSON;JSON||(JSON={}),function(){function str(a,b){var c,d,e,f,g=gap,h,i=b[a];i&&typeof i=="object"&&typeof i.toJSON=="function"&&(i=i.toJSON(a)),typeof rep=="function"&&(i=rep.call(b,a,i));switch(typeof i){case"string":return quote(i);case"number":return isFinite(i)?String(i):"null";case"boolean":case"null":return String(i);case"object":if(!i)return"null";gap+=indent,h=[];if(Object.prototype.toString.apply(i)==="[object Array]"){f=i.length;for(c=0;c<f;c+=1)h[c]=str(c,i)||"null";e=h.length===0?"[]":gap?"[\n"+gap+h.join(",\n"+gap)+"\n"+g+"]":"["+h.join(",")+"]",gap=g;return e}if(rep&&typeof rep=="object"){f=rep.length;for(c=0;c<f;c+=1)typeof rep[c]=="string"&&(d=rep[c],e=str(d,i),e&&h.push(quote(d)+(gap?": ":":")+e))}else for(d in i)Object.prototype.hasOwnProperty.call(i,d)&&(e=str(d,i),e&&h.push(quote(d)+(gap?": ":":")+e));e=h.length===0?"{}":gap?"{\n"+gap+h.join(",\n"+gap)+"\n"+g+"}":"{"+h.join(",")+"}",gap=g;return e}}function quote(a){escapable.lastIndex=0;return escapable.test(a)?'"'+a.replace(escapable,function(a){var b=meta[a];return typeof b=="string"?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function f(a){return a<10?"0"+a:a}"use strict",typeof Date.prototype.toJSON!="function"&&(Date.prototype.toJSON=function(a){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(a){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;typeof JSON.stringify!="function"&&(JSON.stringify=function(a,b,c){var d;gap="",indent="";if(typeof c=="number")for(d=0;d<c;d+=1)indent+=" ";else typeof c=="string"&&(indent=c);rep=b;if(!b||typeof b=="function"||typeof b=="object"&&typeof b.length=="number")return str("",{"":a});throw new Error("JSON.stringify")}),typeof JSON.parse!="function"&&(JSON.parse=function(text,reviver){function walk(a,b){var c,d,e=a[b];if(e&&typeof e=="object")for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&(d=walk(e,c),d!==undefined?e[c]=d:delete e[c]);return reviver.call(a,b,e)}var j;text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver=="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")})}()

SockJS=function(){var a=document,b=window,c={},d=function(){};d.prototype.addEventListener=function(a,b){this._listeners||(this._listeners={}),a in this._listeners||(this._listeners[a]=[]);var d=this._listeners[a];c.arrIndexOf(d,b)===-1&&d.push(b);return},d.prototype.removeEventListener=function(a,b){if(!(this._listeners&&a in this._listeners))return;var d=this._listeners[a],e=c.arrIndexOf(d,b);if(e!==-1){d.length>1?this._listeners[a]=d.slice(0,e).concat(d.slice(e+1)):delete this._listeners[a];return}return},d.prototype.dispatchEvent=function(a){var b=a.type,c=Array.prototype.slice.call(arguments,0);this["on"+b]&&this["on"+b].apply(this,c);if(this._listeners&&b in this._listeners)for(var d=0;d<this._listeners[b].length;d++)this._listeners[b][d].apply(this,c)};var e=function(a,b){this.type=a;if(typeof b!="undefined")for(var c in b){if(!b.hasOwnProperty(c))continue;this[c]=b[c]}};e.prototype.toString=function(){var a=[];for(var b in this){if(!this.hasOwnProperty(b))continue;var c=this[b];typeof c=="function"&&(c="[function]"),a.push(b+"="+c)}return"SimpleEvent("+a.join(", ")+")"};var f=function(a){var b=this;b._events=a||[],b._listeners={}};f.prototype.emit=function(a){var b=this;b._verifyType(a);if(b._nuked)return;var c=Array.prototype.slice.call(arguments,1);b["on"+a]&&b["on"+a].apply(b,c);if(a in b._listeners)for(var d=0;d<b._listeners[a].length;d++)b._listeners[a][d].apply(b,c)},f.prototype.on=function(a,b){var c=this;c._verifyType(a);if(c._nuked)return;a in c._listeners||(c._listeners[a]=[]),c._listeners[a].push(b)},f.prototype._verifyType=function(a){var b=this;c.arrIndexOf(b._events,a)===-1&&c.log("Event "+JSON.stringify(a)+" not listed "+JSON.stringify(b._events)+" in "+b)},f.prototype.nuke=function(){var a=this;a._nuked=!0;for(var b=0;b<a._events.length;b++)delete a[a._events[b]];a._listeners={}};var g="abcdefghijklmnopqrstuvwxyz0123456789_";c.random_string=function(a,b){b=b||g.length;var c,d=[];for(c=0;c<a;c++)d.push(g.substr(Math.floor(Math.random()*b),1));return d.join("")},c.random_number=function(a){return Math.floor(Math.random()*a)},c.random_number_string=function(a){var b=(""+(a-1)).length,d=Array(b+1).join("0");return(d+c.random_number(a)).slice(-b)},c.getOrigin=function(a){a+="/";var b=a.split("/").slice(0,3);return b.join("/")},c.isSameOriginUrl=function(a,c){return c||(c=b.location.href),a.split("/").slice(0,3).join("/")===c.split("/").slice(0,3).join("/")},c.getParentDomain=function(a){if(/^[0-9.]*$/.test(a))return a;if(/^\[/.test(a))return a;if(!/[.]/.test(a))return a;var b=a.split(".").slice(1);return b.join(".")},c.objectExtend=function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a};var h="_jp";c.polluteGlobalNamespace=function(){h in b||(b[h]={})},c.closeFrame=function(a,b){return"c"+JSON.stringify([a,b])},c.userSetCode=function(a){return a===1e3||a>=3e3&&a<=4999},c.countRTO=function(a){var b;return a>100?b=3*a:b=a+200,b},c.log=function(){b.console&&console.log&&console.log.apply&&console.log.apply(console,arguments)},c.bind=function(a,b){return a.bind?a.bind(b):function(){return a.apply(b,arguments)}},c.flatUrl=function(a){return a.indexOf("?")===-1&&a.indexOf("#")===-1},c.amendUrl=function(b){var d=a.location;if(!b)throw new Error("Wrong url for SockJS");if(!c.flatUrl(b))throw new Error("Only basic urls are supported in SockJS");return b.indexOf("//")===0&&(b=d.protocol+b),b.indexOf("/")===0&&(b=d.protocol+"//"+d.host+b),b=b.replace(/[/]+$/,""),b},c.arrIndexOf=function(a,b){for(var c=0;c<a.length;c++)if(a[c]===b)return c;return-1},c.arrSkip=function(a,b){var d=c.arrIndexOf(a,b);if(d===-1)return a.slice();var e=a.slice(0,d);return e.concat(a.slice(d+1))},c.isArray=Array.isArray||function(a){return{}.toString.call(a).indexOf("Array")>=0},c.delay=function(a,b){return typeof a=="function"&&(b=a,a=0),setTimeout(b,a)};var i=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,j={"\0":"\\u0000","\x01":"\\u0001","\x02":"\\u0002","\x03":"\\u0003","\x04":"\\u0004","\x05":"\\u0005","\x06":"\\u0006","\x07":"\\u0007","\b":"\\b","\t":"\\t","\n":"\\n","\x0b":"\\u000b","\f":"\\f","\r":"\\r","\x0e":"\\u000e","\x0f":"\\u000f","\x10":"\\u0010","\x11":"\\u0011","\x12":"\\u0012","\x13":"\\u0013","\x14":"\\u0014","\x15":"\\u0015","\x16":"\\u0016","\x17":"\\u0017","\x18":"\\u0018","\x19":"\\u0019","\x1a":"\\u001a","\x1b":"\\u001b","\x1c":"\\u001c","\x1d":"\\u001d","\x1e":"\\u001e","\x1f":"\\u001f",'"':'\\"',"\\":"\\\\","\x7f":"\\u007f","\x80":"\\u0080","\x81":"\\u0081","\x82":"\\u0082","\x83":"\\u0083","\x84":"\\u0084","\x85":"\\u0085","\x86":"\\u0086","\x87":"\\u0087","\x88":"\\u0088","\x89":"\\u0089","\x8a":"\\u008a","\x8b":"\\u008b","\x8c":"\\u008c","\x8d":"\\u008d","\x8e":"\\u008e","\x8f":"\\u008f","\x90":"\\u0090","\x91":"\\u0091","\x92":"\\u0092","\x93":"\\u0093","\x94":"\\u0094","\x95":"\\u0095","\x96":"\\u0096","\x97":"\\u0097","\x98":"\\u0098","\x99":"\\u0099","\x9a":"\\u009a","\x9b":"\\u009b","\x9c":"\\u009c","\x9d":"\\u009d","\x9e":"\\u009e","\x9f":"\\u009f","\xad":"\\u00ad","\u0600":"\\u0600","\u0601":"\\u0601","\u0602":"\\u0602","\u0603":"\\u0603","\u0604":"\\u0604","\u070f":"\\u070f","\u17b4":"\\u17b4","\u17b5":"\\u17b5","\u200c":"\\u200c","\u200d":"\\u200d","\u200e":"\\u200e","\u200f":"\\u200f","\u2028":"\\u2028","\u2029":"\\u2029","\u202a":"\\u202a","\u202b":"\\u202b","\u202c":"\\u202c","\u202d":"\\u202d","\u202e":"\\u202e","\u202f":"\\u202f","\u2060":"\\u2060","\u2061":"\\u2061","\u2062":"\\u2062","\u2063":"\\u2063","\u2064":"\\u2064","\u2065":"\\u2065","\u2066":"\\u2066","\u2067":"\\u2067","\u2068":"\\u2068","\u2069":"\\u2069","\u206a":"\\u206a","\u206b":"\\u206b","\u206c":"\\u206c","\u206d":"\\u206d","\u206e":"\\u206e","\u206f":"\\u206f","\ufeff":"\\ufeff","\ufff0":"\\ufff0","\ufff1":"\\ufff1","\ufff2":"\\ufff2","\ufff3":"\\ufff3","\ufff4":"\\ufff4","\ufff5":"\\ufff5","\ufff6":"\\ufff6","\ufff7":"\\ufff7","\ufff8":"\\ufff8","\ufff9":"\\ufff9","\ufffa":"\\ufffa","\ufffb":"\\ufffb","\ufffc":"\\ufffc","\ufffd":"\\ufffd","\ufffe":"\\ufffe","\uffff":"\\uffff"},k=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,l,m=JSON&&JSON.stringify||function(a){return i.lastIndex=0,i.test(a)&&(a=a.replace(i,function(a){return j[a]})),'"'+a+'"'},n=function(a){var b,c={},d=[];for(b=0;b<65536;b++)d.push(String.fromCharCode(b));return a.lastIndex=0,d.join("").replace(a,function(a){return c[a]="\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4),""}),a.lastIndex=0,c};c.quote=function(a){var b=m(a);return k.lastIndex=0,k.test(b)?(l||(l=n(k)),b.replace(k,function(a){return l[a]})):b};var o=["websocket","xdr-streaming","xhr-streaming","iframe-eventsource","iframe-htmlfile","xdr-polling","xhr-polling","iframe-xhr-polling","jsonp-polling"];c.probeProtocols=function(){var a={};for(var b=0;b<o.length;b++){var c=o[b];a[c]=y[c]&&y[c].enabled()}return a},c.detectProtocols=function(a,b,c){var d={},e=[];b||(b=o);for(var f=0;f<b.length;f++){var g=b[f];d[g]=a[g]}var h=function(a){var b=a.shift();d[b]?e.push(b):a.length>0&&h(a)};return c.websocket!==!1&&h(["websocket"]),d["xhr-streaming"]&&!c.null_origin?e.push("xhr-streaming"):d["xdr-streaming"]&&!c.cookie_needed&&!c.null_origin?e.push("xdr-streaming"):h(["iframe-eventsource","iframe-htmlfile"]),d["xhr-polling"]&&!c.null_origin?e.push("xhr-polling"):d["xdr-polling"]&&!c.cookie_needed&&!c.null_origin?e.push("xdr-polling"):h(["iframe-xhr-polling","jsonp-polling"]),e};var p="_sockjs_global";c.createHook=function(){var a="a"+c.random_string(8);if(!(p in b)){var d={};b[p]=function(a){return a in d||(d[a]={id:a,del:function(){delete d[a]}}),d[a]}}return b[p](a)},c.attachMessage=function(a){c.attachEvent("message",a)},c.attachEvent=function(c,d){typeof b.addEventListener!="undefined"?b.addEventListener(c,d,!1):(a.attachEvent("on"+c,d),b.attachEvent("on"+c,d))},c.detachMessage=function(a){c.detachEvent("message",a)},c.detachEvent=function(c,d){typeof b.addEventListener!="undefined"?b.removeEventListener(c,d,!1):(a.detachEvent("on"+c,d),b.detachEvent("on"+c,d))};var q={},r=!1,s=function(){for(var a in q)q[a](),delete q[a]},t=function(){if(r)return;r=!0,s()};c.attachEvent("unload",t),c.unload_add=function(a){var b=c.random_string(8);return q[b]=a,r&&c.delay(s),b},c.unload_del=function(a){a in q&&delete q[a]},c.createIframe=function(b,d){var e=a.createElement("iframe"),f,g,h=function(){clearTimeout(f);try{e.onload=null}catch(a){}e.onerror=null},i=function(){e&&(h(),setTimeout(function(){e&&e.parentNode.removeChild(e),e=null},0),c.unload_del(g))},j=function(a){e&&(i(),d(a))},k=function(a,b){try{e&&e.contentWindow&&e.contentWindow.postMessage(a,b)}catch(c){}};return e.src=b,e.style.display="none",e.style.position="absolute",e.onerror=function(){j("onerror")},e.onload=function(){clearTimeout(f),f=setTimeout(function(){j("onload timeout")},2e3)},a.body.appendChild(e),f=setTimeout(function(){j("timeout")},15e3),g=c.unload_add(i),{post:k,cleanup:i,loaded:h}},c.createHtmlfile=function(a,d){var e=new ActiveXObject("htmlfile"),f,g,i,j=function(){clearTimeout(f)},k=function(){e&&(j(),c.unload_del(g),i.parentNode.removeChild(i),i=e=null,CollectGarbage())},l=function(a){e&&(k(),d(a))},m=function(a,b){try{i&&i.contentWindow&&i.contentWindow.postMessage(a,b)}catch(c){}};e.open(),e.write('<html><script>document.domain="'+document.domain+'";'+"</s"+"cript></html>"),e.close(),e.parentWindow[h]=b[h];var n=e.createElement("div");return e.body.appendChild(n),i=e.createElement("iframe"),n.appendChild(i),i.src=a,f=setTimeout(function(){l("timeout")},15e3),g=c.unload_add(k),{post:m,cleanup:k,loaded:j}};var u=function(){};u.prototype=new f(["chunk","finish"]),u.prototype._start=function(a,d,e,f){var g=this;try{g.xhr=new XMLHttpRequest}catch(h){}if(!g.xhr)try{g.xhr=new b.ActiveXObject("Microsoft.XMLHTTP")}catch(h){}if(b.ActiveXObject||b.XDomainRequest)d+=(d.indexOf("?")===-1?"?":"&")+"t="+ +(new Date);g.unload_ref=c.unload_add(function(){g._cleanup(!0)});try{g.xhr.open(a,d,!0)}catch(i){g.emit("finish",0,""),g._cleanup();return}if(!f||!f.no_credentials)g.xhr.withCredentials="true";if(f&&f.headers)for(var j in f.headers)g.xhr.setRequestHeader(j,f.headers[j]);g.xhr.onreadystatechange=function(){if(g.xhr){var a=g.xhr;switch(a.readyState){case 3:try{var b=a.status,c=a.responseText}catch(a){}b===1223&&(b=204),c&&c.length>0&&g.emit("chunk",b,c);break;case 4:var b=a.status;b===1223&&(b=204),g.emit("finish",b,a.responseText),g._cleanup(!1)}}},g.xhr.send(e)},u.prototype._cleanup=function(a){var b=this;if(!b.xhr)return;c.unload_del(b.unload_ref),b.xhr.onreadystatechange=function(){};if(a)try{b.xhr.abort()}catch(d){}b.unload_ref=b.xhr=null},u.prototype.close=function(){var a=this;a.nuke(),a._cleanup(!0)};var v=c.XHRCorsObject=function(){var a=this,b=arguments;c.delay(function(){a._start.apply(a,b)})};v.prototype=new u;var w=c.XHRLocalObject=function(a,b,d){var e=this;c.delay(function(){e._start(a,b,d,{no_credentials:!0})})};w.prototype=new u;var x=c.XDRObject=function(a,b,d){var e=this;c.delay(function(){e._start(a,b,d)})};x.prototype=new f(["chunk","finish"]),x.prototype._start=function(a,b,d){var e=this,f=new XDomainRequest;b+=(b.indexOf("?")===-1?"?":"&")+"t="+ +(new Date);var g=f.ontimeout=f.onerror=function(){e.emit("finish",0,""),e._cleanup(!1)};f.onprogress=function(){e.emit("chunk",200,f.responseText)},f.onload=function(){e.emit("finish",200,f.responseText),e._cleanup(!1)},e.xdr=f,e.unload_ref=c.unload_add(function(){e._cleanup(!0)});try{e.xdr.open(a,b),e.xdr.send(d)}catch(h){g()}},x.prototype._cleanup=function(a){var b=this;if(!b.xdr)return;c.unload_del(b.unload_ref),b.xdr.ontimeout=b.xdr.onerror=b.xdr.onprogress=b.xdr.onload=null;if(a)try{b.xdr.abort()}catch(d){}b.unload_ref=b.xdr=null},x.prototype.close=function(){var a=this;a.nuke(),a._cleanup(!0)},c.isXHRCorsCapable=function(){return b.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest?1:b.XDomainRequest&&a.domain?2:L.enabled()?3:4};var y=function(a,d,e){if(this===b)return new y(a,d,e);var f=this,g;f._options={devel:!1,debug:!1,protocols_whitelist:[],info:undefined,rtt:undefined},e&&c.objectExtend(f._options,e),f._base_url=c.amendUrl(a),f._server=f._options.server||c.random_number_string(1e3),f._options.protocols_whitelist&&f._options.protocols_whitelist.length?g=f._options.protocols_whitelist:(typeof d=="string"&&d.length>0?g=[d]:c.isArray(d)?g=d:g=null,g&&f._debug('Deprecated API: Use "protocols_whitelist" option instead of supplying protocol list as a second parameter to SockJS constructor.')),f._protocols=[],f.protocol=null,f.readyState=y.CONNECTING,f._ir=S(f._base_url),f._ir.onfinish=function(a,b){f._ir=null,a?(f._options.info&&(a=c.objectExtend(a,f._options.info)),f._options.rtt&&(b=f._options.rtt),f._applyInfo(a,b,g),f._didClose()):f._didClose(1002,"Can't connect to server",!0)}};y.prototype=new d,y.version="0.3.4",y.CONNECTING=0,y.OPEN=1,y.CLOSING=2,y.CLOSED=3,y.prototype._debug=function(){this._options.debug&&c.log.apply(c,arguments)},y.prototype._dispatchOpen=function(){var a=this;a.readyState===y.CONNECTING?(a._transport_tref&&(clearTimeout(a._transport_tref),a._transport_tref=null),a.readyState=y.OPEN,a.dispatchEvent(new e("open"))):a._didClose(1006,"Server lost session")},y.prototype._dispatchMessage=function(a){var b=this;if(b.readyState!==y.OPEN)return;b.dispatchEvent(new e("message",{data:a}))},y.prototype._dispatchHeartbeat=function(a){var b=this;if(b.readyState!==y.OPEN)return;b.dispatchEvent(new e("heartbeat",{}))},y.prototype._didClose=function(a,b,d){var f=this;if(f.readyState!==y.CONNECTING&&f.readyState!==y.OPEN&&f.readyState!==y.CLOSING)throw new Error("INVALID_STATE_ERR");f._ir&&(f._ir.nuke(),f._ir=null),f._transport&&(f._transport.doCleanup(),f._transport=null);var g=new e("close",{code:a,reason:b,wasClean:c.userSetCode(a)});if(!c.userSetCode(a)&&f.readyState===y.CONNECTING&&!d){if(f._try_next_protocol(g))return;g=new e("close",{code:2e3,reason:"All transports failed",wasClean:!1,last_event:g})}f.readyState=y.CLOSED,c.delay(function(){f.dispatchEvent(g)})},y.prototype._didMessage=function(a){var b=this,c=a.slice(0,1);switch(c){case"o":b._dispatchOpen();break;case"a":var d=JSON.parse(a.slice(1)||"[]");for(var e=0;e<d.length;e++)b._dispatchMessage(d[e]);break;case"m":var d=JSON.parse(a.slice(1)||"null");b._dispatchMessage(d);break;case"c":var d=JSON.parse(a.slice(1)||"[]");b._didClose(d[0],d[1]);break;case"h":b._dispatchHeartbeat()}},y.prototype._try_next_protocol=function(b){var d=this;d.protocol&&(d._debug("Closed transport:",d.protocol,""+b),d.protocol=null),d._transport_tref&&(clearTimeout(d._transport_tref),d._transport_tref=null);for(;;){var e=d.protocol=d._protocols.shift();if(!e)return!1;if(y[e]&&y[e].need_body===!0&&(!a.body||typeof a.readyState!="undefined"&&a.readyState!=="complete"))return d._protocols.unshift(e),d.protocol="waiting-for-load",c.attachEvent("load",function(){d._try_next_protocol()}),!0;if(!!y[e]&&!!y[e].enabled(d._options)){var f=y[e].roundTrips||1,g=(d._options.rto||0)*f||5e3;d._transport_tref=c.delay(g,function(){d.readyState===y.CONNECTING&&d._didClose(2007,"Transport timeouted")});var h=c.random_string(8),i=d._base_url+"/"+d._server+"/"+h;return d._debug("Opening transport:",e," url:"+i," RTO:"+d._options.rto),d._transport=new y[e](d,i,d._base_url),!0}d._debug("Skipping transport:",e)}},y.prototype.close=function(a,b){var d=this;if(a&&!c.userSetCode(a))throw new Error("INVALID_ACCESS_ERR");return d.readyState!==y.CONNECTING&&d.readyState!==y.OPEN?!1:(d.readyState=y.CLOSING,d._didClose(a||1e3,b||"Normal closure"),!0)},y.prototype.send=function(a){var b=this;if(b.readyState===y.CONNECTING)throw new Error("INVALID_STATE_ERR");return b.readyState===y.OPEN&&b._transport.doSend(c.quote(""+a)),!0},y.prototype._applyInfo=function(b,d,e){var f=this;f._options.info=b,f._options.rtt=d,f._options.rto=c.countRTO(d),f._options.info.null_origin=!a.domain;var g=c.probeProtocols();f._protocols=c.detectProtocols(g,e,b)};var z=y.websocket=function(a,d){var e=this,f=d+"/websocket";f.slice(0,5)==="https"?f="wss"+f.slice(5):f="ws"+f.slice(4),e.ri=a,e.url=f;var g=b.WebSocket||b.MozWebSocket;e.ws=new g(e.url),e.ws.onmessage=function(a){e.ri._didMessage(a.data)},e.unload_ref=c.unload_add(function(){e.ws.close()}),e.ws.onclose=function(){e.ri._didMessage(c.closeFrame(1006,"WebSocket connection broken"))}};z.prototype.doSend=function(a){this.ws.send("["+a+"]")},z.prototype.doCleanup=function(){var a=this,b=a.ws;b&&(b.onmessage=b.onclose=null,b.close(),c.unload_del(a.unload_ref),a.unload_ref=a.ri=a.ws=null)},z.enabled=function(){return!!b.WebSocket||!!b.MozWebSocket},z.roundTrips=2;var A=function(){};A.prototype.send_constructor=function(a){var b=this;b.send_buffer=[],b.sender=a},A.prototype.doSend=function(a){var b=this;b.send_buffer.push(a),b.send_stop||b.send_schedule()},A.prototype.send_schedule_wait=function(){var a=this,b;a.send_stop=function(){a.send_stop=null,clearTimeout(b)},b=c.delay(25,function(){a.send_stop=null,a.send_schedule()})},A.prototype.send_schedule=function(){var a=this;if(a.send_buffer.length>0){var b="["+a.send_buffer.join(",")+"]";a.send_stop=a.sender(a.trans_url,b,function(b,c){a.send_stop=null,b===!1?a.ri._didClose(1006,"Sending error "+c):a.send_schedule_wait()}),a.send_buffer=[]}},A.prototype.send_destructor=function(){var a=this;a._send_stop&&a._send_stop(),a._send_stop=null};var B=function(b,d,e){var f=this;if(!("_send_form"in f)){var g=f._send_form=a.createElement("form"),h=f._send_area=a.createElement("textarea");h.name="d",g.style.display="none",g.style.position="absolute",g.method="POST",g.enctype="application/x-www-form-urlencoded",g.acceptCharset="UTF-8",g.appendChild(h),a.body.appendChild(g)}var g=f._send_form,h=f._send_area,i="a"+c.random_string(8);g.target=i,g.action=b+"/jsonp_send?i="+i;var j;try{j=a.createElement('<iframe name="'+i+'">')}catch(k){j=a.createElement("iframe"),j.name=i}j.id=i,g.appendChild(j),j.style.display="none";try{h.value=d}catch(l){c.log("Your browser is seriously broken. Go home! "+l.message)}g.submit();var m=function(a){if(!j.onerror)return;j.onreadystatechange=j.onerror=j.onload=null,c.delay(500,function(){j.parentNode.removeChild(j),j=null}),h.value="",e(!0)};return j.onerror=j.onload=m,j.onreadystatechange=function(a){j.readyState=="complete"&&m()},m},C=function(a){return function(b,c,d){var e=new a("POST",b+"/xhr_send",c);return e.onfinish=function(a,b){d(a===200||a===204,"http status "+a)},function(a){d(!1,a)}}},D=function(b,d){var e,f=a.createElement("script"),g,h=function(a){g&&(g.parentNode.removeChild(g),g=null),f&&(clearTimeout(e),f.parentNode.removeChild(f),f.onreadystatechange=f.onerror=f.onload=f.onclick=null,f=null,d(a),d=null)},i=!1,j=null;f.id="a"+c.random_string(8),f.src=b,f.type="text/javascript",f.charset="UTF-8",f.onerror=function(a){j||(j=setTimeout(function(){i||h(c.closeFrame(1006,"JSONP script loaded abnormally (onerror)"))},1e3))},f.onload=function(a){h(c.closeFrame(1006,"JSONP script loaded abnormally (onload)"))},f.onreadystatechange=function(a){if(/loaded|closed/.test(f.readyState)){if(f&&f.htmlFor&&f.onclick){i=!0;try{f.onclick()}catch(b){}}f&&h(c.closeFrame(1006,"JSONP script loaded abnormally (onreadystatechange)"))}};if(typeof f.async=="undefined"&&a.attachEvent)if(!/opera/i.test(navigator.userAgent)){try{f.htmlFor=f.id,f.event="onclick"}catch(k){}f.async=!0}else g=a.createElement("script"),g.text="try{var a = document.getElementById('"+f.id+"'); if(a)a.onerror();}catch(x){};",f.async=g.async=!1;typeof f.async!="undefined"&&(f.async=!0),e=setTimeout(function(){h(c.closeFrame(1006,"JSONP script loaded abnormally (timeout)"))},35e3);var l=a.getElementsByTagName("head")[0];return l.insertBefore(f,l.firstChild),g&&l.insertBefore(g,l.firstChild),h},E=y["jsonp-polling"]=function(a,b){c.polluteGlobalNamespace();var d=this;d.ri=a,d.trans_url=b,d.send_constructor(B),d._schedule_recv()};E.prototype=new A,E.prototype._schedule_recv=function(){var a=this,b=function(b){a._recv_stop=null,b&&(a._is_closing||a.ri._didMessage(b)),a._is_closing||a._schedule_recv()};a._recv_stop=F(a.trans_url+"/jsonp",D,b)},E.enabled=function(){return!0},E.need_body=!0,E.prototype.doCleanup=function(){var a=this;a._is_closing=!0,a._recv_stop&&a._recv_stop(),a.ri=a._recv_stop=null,a.send_destructor()};var F=function(a,d,e){var f="a"+c.random_string(6),g=a+"?c="+escape(h+"."+f),i=0,j=function(a){switch(i){case 0:delete b[h][f],e(a);break;case 1:e(a),i=2;break;case 2:delete b[h][f]}},k=d(g,j);b[h][f]=k;var l=function(){b[h][f]&&(i=1,b[h][f](c.closeFrame(1e3,"JSONP user aborted read")))};return l},G=function(){};G.prototype=new A,G.prototype.run=function(a,b,c,d,e){var f=this;f.ri=a,f.trans_url=b,f.send_constructor(C(e)),f.poll=new $(a,d,b+c,e)},G.prototype.doCleanup=function(){var a=this;a.poll&&(a.poll.abort(),a.poll=null)};var H=y["xhr-streaming"]=function(a,b){this.run(a,b,"/xhr_streaming",bd,c.XHRCorsObject)};H.prototype=new G,H.enabled=function(){return b.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest&&!/opera/i.test(navigator.userAgent)},H.roundTrips=2,H.need_body=!0;var I=y["xdr-streaming"]=function(a,b){this.run(a,b,"/xhr_streaming",bd,c.XDRObject)};I.prototype=new G,I.enabled=function(){return!!b.XDomainRequest},I.roundTrips=2;var J=y["xhr-polling"]=function(a,b){this.run(a,b,"/xhr",bd,c.XHRCorsObject)};J.prototype=new G,J.enabled=H.enabled,J.roundTrips=2;var K=y["xdr-polling"]=function(a,b){this.run(a,b,"/xhr",bd,c.XDRObject)};K.prototype=new G,K.enabled=I.enabled,K.roundTrips=2;var L=function(){};L.prototype.i_constructor=function(a,b,d){var e=this;e.ri=a,e.origin=c.getOrigin(d),e.base_url=d,e.trans_url=b;var f=d+"/iframe.html";e.ri._options.devel&&(f+="?t="+ +(new Date)),e.window_id=c.random_string(8),f+="#"+e.window_id,e.iframeObj=c.createIframe(f,function(a){e.ri._didClose(1006,"Unable to load an iframe ("+a+")")}),e.onmessage_cb=c.bind(e.onmessage,e),c.attachMessage(e.onmessage_cb)},L.prototype.doCleanup=function(){var a=this;if(a.iframeObj){c.detachMessage(a.onmessage_cb);try{a.iframeObj.iframe.contentWindow&&a.postMessage("c")}catch(b){}a.iframeObj.cleanup(),a.iframeObj=null,a.onmessage_cb=a.iframeObj=null}},L.prototype.onmessage=function(a){var b=this;if(a.origin!==b.origin)return;var c=a.data.slice(0,8),d=a.data.slice(8,9),e=a.data.slice(9);if(c!==b.window_id)return;switch(d){case"s":b.iframeObj.loaded(),b.postMessage("s",JSON.stringify([y.version,b.protocol,b.trans_url,b.base_url]));break;case"t":b.ri._didMessage(e)}},L.prototype.postMessage=function(a,b){var c=this;c.iframeObj.post(c.window_id+a+(b||""),c.origin)},L.prototype.doSend=function(a){this.postMessage("m",a)},L.enabled=function(){var a=navigator&&navigator.userAgent&&navigator.userAgent.indexOf("Konqueror")!==-1;return(typeof b.postMessage=="function"||typeof b.postMessage=="object")&&!a};var M,N=function(a,d){parent!==b?parent.postMessage(M+a+(d||""),"*"):c.log("Can't postMessage, no parent window.",a,d)},O=function(){};O.prototype._didClose=function(a,b){N("t",c.closeFrame(a,b))},O.prototype._didMessage=function(a){N("t",a)},O.prototype._doSend=function(a){this._transport.doSend(a)},O.prototype._doCleanup=function(){this._transport.doCleanup()},c.parent_origin=undefined,y.bootstrap_iframe=function(){var d;M=a.location.hash.slice(1);var e=function(a){if(a.source!==parent)return;typeof c.parent_origin=="undefined"&&(c.parent_origin=a.origin);if(a.origin!==c.parent_origin)return;var e=a.data.slice(0,8),f=a.data.slice(8,9),g=a.data.slice(9);if(e!==M)return;switch(f){case"s":var h=JSON.parse(g),i=h[0],j=h[1],k=h[2],l=h[3];i!==y.version&&c.log('Incompatibile SockJS! Main site uses: "'+i+'", the iframe:'+' "'+y.version+'".');if(!c.flatUrl(k)||!c.flatUrl(l)){c.log("Only basic urls are supported in SockJS");return}if(!c.isSameOriginUrl(k)||!c.isSameOriginUrl(l)){c.log("Can't connect to different domain from within an iframe. ("+JSON.stringify([b.location.href,k,l])+")");return}d=new O,d._transport=new O[j](d,k,l);break;case"m":d._doSend(g);break;case"c":d&&d._doCleanup(),d=null}};c.attachMessage(e),N("s")};var P=function(a,b){var d=this;c.delay(function(){d.doXhr(a,b)})};P.prototype=new f(["finish"]),P.prototype.doXhr=function(a,b){var d=this,e=(new Date).getTime(),f=new b("GET",a+"/info"),g=c.delay(8e3,function(){f.ontimeout()});f.onfinish=function(a,b){clearTimeout(g),g=null;if(a===200){var c=(new Date).getTime()-e,f=JSON.parse(b);typeof f!="object"&&(f={}),d.emit("finish",f,c)}else d.emit("finish")},f.ontimeout=function(){f.close(),d.emit("finish")}};var Q=function(b){var d=this,e=function(){var a=new L;a.protocol="w-iframe-info-receiver";var c=function(b){if(typeof b=="string"&&b.substr(0,1)==="m"){var c=JSON.parse(b.substr(1)),e=c[0],f=c[1];d.emit("finish",e,f)}else d.emit("finish");a.doCleanup(),a=null},e={_options:{},_didClose:c,_didMessage:c};a.i_constructor(e,b,b)};a.body?e():c.attachEvent("load",e)};Q.prototype=new f(["finish"]);var R=function(){var a=this;c.delay(function(){a.emit("finish",{},2e3)})};R.prototype=new f(["finish"]);var S=function(a){if(c.isSameOriginUrl(a))return new P(a,c.XHRLocalObject);switch(c.isXHRCorsCapable()){case 1:return new P(a,c.XHRLocalObject);case 2:return new P(a,c.XDRObject);case 3:return new Q(a);default:return new R}},T=O["w-iframe-info-receiver"]=function(a,b,d){var e=new P(d,c.XHRLocalObject);e.onfinish=function(b,c){a._didMessage("m"+JSON.stringify([b,c])),a._didClose()}};T.prototype.doCleanup=function(){};var U=y["iframe-eventsource"]=function(){var a=this;a.protocol="w-iframe-eventsource",a.i_constructor.apply(a,arguments)};U.prototype=new L,U.enabled=function(){return"EventSource"in b&&L.enabled()},U.need_body=!0,U.roundTrips=3;var V=O["w-iframe-eventsource"]=function(a,b){this.run(a,b,"/eventsource",_,c.XHRLocalObject)};V.prototype=new G;var W=y["iframe-xhr-polling"]=function(){var a=this;a.protocol="w-iframe-xhr-polling",a.i_constructor.apply(a,arguments)};W.prototype=new L,W.enabled=function(){return b.XMLHttpRequest&&L.enabled()},W.need_body=!0,W.roundTrips=3;var X=O["w-iframe-xhr-polling"]=function(a,b){this.run(a,b,"/xhr",bd,c.XHRLocalObject)};X.prototype=new G;var Y=y["iframe-htmlfile"]=function(){var a=this;a.protocol="w-iframe-htmlfile",a.i_constructor.apply(a,arguments)};Y.prototype=new L,Y.enabled=function(){return L.enabled()},Y.need_body=!0,Y.roundTrips=3;var Z=O["w-iframe-htmlfile"]=function(a,b){this.run(a,b,"/htmlfile",bc,c.XHRLocalObject)};Z.prototype=new G;var $=function(a,b,c,d){var e=this;e.ri=a,e.Receiver=b,e.recv_url=c,e.AjaxObject=d,e._scheduleRecv()};$.prototype._scheduleRecv=function(){var a=this,b=a.poll=new a.Receiver(a.recv_url,a.AjaxObject),c=0;b.onmessage=function(b){c+=1,a.ri._didMessage(b.data)},b.onclose=function(c){a.poll=b=b.onmessage=b.onclose=null,a.poll_is_closing||(c.reason==="permanent"?a.ri._didClose(1006,"Polling error ("+c.reason+")"):a._scheduleRecv())}},$.prototype.abort=function(){var a=this;a.poll_is_closing=!0,a.poll&&a.poll.abort()};var _=function(a){var b=this,d=new EventSource(a);d.onmessage=function(a){b.dispatchEvent(new e("message",{data:unescape(a.data)}))},b.es_close=d.onerror=function(a,f){var g=f?"user":d.readyState!==2?"network":"permanent";b.es_close=d.onmessage=d.onerror=null,d.close(),d=null,c.delay(200,function(){b.dispatchEvent(new e("close",{reason:g}))})}};_.prototype=new d,_.prototype.abort=function(){var a=this;a.es_close&&a.es_close({},!0)};var ba,bb=function(){if(ba===undefined)if("ActiveXObject"in b)try{ba=!!(new ActiveXObject("htmlfile"))}catch(a){}else ba=!1;return ba},bc=function(a){var d=this;c.polluteGlobalNamespace(),d.id="a"+c.random_string(6,26),a+=(a.indexOf("?")===-1?"?":"&")+"c="+escape(h+"."+d.id);var f=bb()?c.createHtmlfile:c.createIframe,g;b[h][d.id]={start:function(){g.loaded()},message:function(a){d.dispatchEvent(new e("message",{data:a}))},stop:function(){d.iframe_close({},"network")}},d.iframe_close=function(a,c){g.cleanup(),d.iframe_close=g=null,delete b[h][d.id],d.dispatchEvent(new e("close",{reason:c}))},g=f(a,function(a){d.iframe_close({},"permanent")})};bc.prototype=new d,bc.prototype.abort=function(){var a=this;a.iframe_close&&a.iframe_close({},"user")};var bd=function(a,b){var c=this,d=0;c.xo=new b("POST",a,null),c.xo.onchunk=function(a,b){if(a!==200)return;for(;;){var f=b.slice(d),g=f.indexOf("\n");if(g===-1)break;d+=g+1;var h=f.slice(0,g);c.dispatchEvent(new e("message",{data:h}))}},c.xo.onfinish=function(a,b){c.xo.onchunk(a,b),c.xo=null;var d=a===200?"network":"permanent";c.dispatchEvent(new e("close",{reason:d}))}};return bd.prototype=new d,bd.prototype.abort=function(){var a=this;a.xo&&(a.xo.close(),a.dispatchEvent(new e("close",{reason:"user"})),a.xo=null)},y.getUtils=function(){return c},y.getIframeTransport=function(){return L},y}(),"_sockjs_onload"in window&&setTimeout(_sockjs_onload,1),typeof define=="function"&&define.amd&&define("sockjs",[],function(){return SockJS});

(function(a,b){"use strict";var c=a.History=a.History||{},d=a.jQuery;if(typeof c.Adapter!="undefined")throw new Error("History.js Adapter has already been loaded...");c.Adapter={bind:function(a,b,c){d(a).bind(b,c)},trigger:function(a,b,c){d(a).trigger(b,c)},extractEventData:function(a,c,d){var e=c&&c.originalEvent&&c.originalEvent[a]||d&&d[a]||b;return e},onDomLoad:function(a){d(a)}},typeof c.init!="undefined"&&c.init()})(window),function(a,b){"use strict";var c=a.console||b,d=a.document,e=a.navigator,f=a.sessionStorage||!1,g=a.setTimeout,h=a.clearTimeout,i=a.setInterval,j=a.clearInterval,k=a.JSON,l=a.alert,m=a.History=a.History||{},n=a.history;k.stringify=k.stringify||k.encode,k.parse=k.parse||k.decode;if(typeof m.init!="undefined")throw new Error("History.js Core has already been loaded...");m.init=function(){return typeof m.Adapter=="undefined"?!1:(typeof m.initCore!="undefined"&&m.initCore(),typeof m.initHtml4!="undefined"&&m.initHtml4(),!0)},m.initCore=function(){if(typeof m.initCore.initialized!="undefined")return!1;m.initCore.initialized=!0,m.options=m.options||{},m.options.hashChangeInterval=m.options.hashChangeInterval||100,m.options.safariPollInterval=m.options.safariPollInterval||500,m.options.doubleCheckInterval=m.options.doubleCheckInterval||500,m.options.storeInterval=m.options.storeInterval||1e3,m.options.busyDelay=m.options.busyDelay||250,m.options.debug=m.options.debug||!1,m.options.initialTitle=m.options.initialTitle||d.title,m.intervalList=[],m.clearAllIntervals=function(){var a,b=m.intervalList;if(typeof b!="undefined"&&b!==null){for(a=0;a<b.length;a++)j(b[a]);m.intervalList=null}},m.debug=function(){(m.options.debug||!1)&&m.log.apply(m,arguments)},m.log=function(){var a=typeof c!="undefined"&&typeof c.log!="undefined"&&typeof c.log.apply!="undefined",b=d.getElementById("log"),e,f,g,h,i;a?(h=Array.prototype.slice.call(arguments),e=h.shift(),typeof c.debug!="undefined"?c.debug.apply(c,[e,h]):c.log.apply(c,[e,h])):e="\n"+arguments[0]+"\n";for(f=1,g=arguments.length;f<g;++f){i=arguments[f];if(typeof i=="object"&&typeof k!="undefined")try{i=k.stringify(i)}catch(j){}e+="\n"+i+"\n"}return b?(b.value+=e+"\n-----\n",b.scrollTop=b.scrollHeight-b.clientHeight):a||l(e),!0},m.getInternetExplorerMajorVersion=function(){var a=m.getInternetExplorerMajorVersion.cached=typeof m.getInternetExplorerMajorVersion.cached!="undefined"?m.getInternetExplorerMajorVersion.cached:function(){var a=3,b=d.createElement("div"),c=b.getElementsByTagName("i");while((b.innerHTML="<!--[if gt IE "+ ++a+"]><i></i><![endif]-->")&&c[0]);return a>4?a:!1}();return a},m.isInternetExplorer=function(){var a=m.isInternetExplorer.cached=typeof m.isInternetExplorer.cached!="undefined"?m.isInternetExplorer.cached:Boolean(m.getInternetExplorerMajorVersion());return a},m.emulated={pushState:!Boolean(a.history&&a.history.pushState&&a.history.replaceState&&!/ Mobile\/([1-7][a-z]|(8([abcde]|f(1[0-8]))))/i.test(e.userAgent)&&!/AppleWebKit\/5([0-2]|3[0-2])/i.test(e.userAgent)),hashChange:Boolean(!("onhashchange"in a||"onhashchange"in d)||m.isInternetExplorer()&&m.getInternetExplorerMajorVersion()<8)},m.enabled=!m.emulated.pushState,m.bugs={setHash:Boolean(!m.emulated.pushState&&e.vendor==="Apple Computer, Inc."&&/AppleWebKit\/5([0-2]|3[0-3])/.test(e.userAgent)),safariPoll:Boolean(!m.emulated.pushState&&e.vendor==="Apple Computer, Inc."&&/AppleWebKit\/5([0-2]|3[0-3])/.test(e.userAgent)),ieDoubleCheck:Boolean(m.isInternetExplorer()&&m.getInternetExplorerMajorVersion()<8),hashEscape:Boolean(m.isInternetExplorer()&&m.getInternetExplorerMajorVersion()<7)},m.isEmptyObject=function(a){for(var b in a)return!1;return!0},m.cloneObject=function(a){var b,c;return a?(b=k.stringify(a),c=k.parse(b)):c={},c},m.getRootUrl=function(){var a=d.location.protocol+"//"+(d.location.hostname||d.location.host);if(d.location.port||!1)a+=":"+d.location.port;return a+="/",a},m.getBaseHref=function(){var a=d.getElementsByTagName("base"),b=null,c="";return a.length===1&&(b=a[0],c=b.href.replace(/[^\/]+$/,"")),c=c.replace(/\/+$/,""),c&&(c+="/"),c},m.getBaseUrl=function(){var a=m.getBaseHref()||m.getBasePageUrl()||m.getRootUrl();return a},m.getPageUrl=function(){var a=m.getState(!1,!1),b=(a||{}).url||d.location.href,c;return c=b.replace(/\/+$/,"").replace(/[^\/]+$/,function(a,b,c){return/\./.test(a)?a:a+"/"}),c},m.getBasePageUrl=function(){var a=d.location.href.replace(/[#\?].*/,"").replace(/[^\/]+$/,function(a,b,c){return/[^\/]$/.test(a)?"":a}).replace(/\/+$/,"")+"/";return a},m.getFullUrl=function(a,b){var c=a,d=a.substring(0,1);return b=typeof b=="undefined"?!0:b,/[a-z]+\:\/\//.test(a)||(d==="/"?c=m.getRootUrl()+a.replace(/^\/+/,""):d==="#"?c=m.getPageUrl().replace(/#.*/,"")+a:d==="?"?c=m.getPageUrl().replace(/[\?#].*/,"")+a:b?c=m.getBaseUrl()+a.replace(/^(\.\/)+/,""):c=m.getBasePageUrl()+a.replace(/^(\.\/)+/,"")),c.replace(/\#$/,"")},m.getShortUrl=function(a){var b=a,c=m.getBaseUrl(),d=m.getRootUrl();return m.emulated.pushState&&(b=b.replace(c,"")),b=b.replace(d,"/"),m.isTraditionalAnchor(b)&&(b="./"+b),b=b.replace(/^(\.\/)+/g,"./").replace(/\#$/,""),b},m.store={},m.idToState=m.idToState||{},m.stateToId=m.stateToId||{},m.urlToId=m.urlToId||{},m.storedStates=m.storedStates||[],m.savedStates=m.savedStates||[],m.normalizeStore=function(){m.store.idToState=m.store.idToState||{},m.store.urlToId=m.store.urlToId||{},m.store.stateToId=m.store.stateToId||{}},m.getState=function(a,b){typeof a=="undefined"&&(a=!0),typeof b=="undefined"&&(b=!0);var c=m.getLastSavedState();return!c&&b&&(c=m.createStateObject()),a&&(c=m.cloneObject(c),c.url=c.cleanUrl||c.url),c},m.getIdByState=function(a){var b=m.extractId(a.url),c;if(!b){c=m.getStateString(a);if(typeof m.stateToId[c]!="undefined")b=m.stateToId[c];else if(typeof m.store.stateToId[c]!="undefined")b=m.store.stateToId[c];else{for(;;){b=(new Date).getTime()+String(Math.random()).replace(/\D/g,"");if(typeof m.idToState[b]=="undefined"&&typeof m.store.idToState[b]=="undefined")break}m.stateToId[c]=b,m.idToState[b]=a}}return b},m.normalizeState=function(a){var b,c;if(!a||typeof a!="object")a={};if(typeof a.normalized!="undefined")return a;if(!a.data||typeof a.data!="object")a.data={};b={},b.normalized=!0,b.title=a.title||"",b.url=m.getFullUrl(m.unescapeString(a.url||d.location.href)),b.hash=m.getShortUrl(b.url),b.data=m.cloneObject(a.data),b.id=m.getIdByState(b),b.cleanUrl=b.url.replace(/\??\&_suid.*/,""),b.url=b.cleanUrl,c=!m.isEmptyObject(b.data);if(b.title||c)b.hash=m.getShortUrl(b.url).replace(/\??\&_suid.*/,""),/\?/.test(b.hash)||(b.hash+="?"),b.hash+="&_suid="+b.id;return b.hashedUrl=m.getFullUrl(b.hash),(m.emulated.pushState||m.bugs.safariPoll)&&m.hasUrlDuplicate(b)&&(b.url=b.hashedUrl),b},m.createStateObject=function(a,b,c){var d={data:a,title:b,url:c};return d=m.normalizeState(d),d},m.getStateById=function(a){a=String(a);var c=m.idToState[a]||m.store.idToState[a]||b;return c},m.getStateString=function(a){var b,c,d;return b=m.normalizeState(a),c={data:b.data,title:a.title,url:a.url},d=k.stringify(c),d},m.getStateId=function(a){var b,c;return b=m.normalizeState(a),c=b.id,c},m.getHashByState=function(a){var b,c;return b=m.normalizeState(a),c=b.hash,c},m.extractId=function(a){var b,c,d;return c=/(.*)\&_suid=([0-9]+)$/.exec(a),d=c?c[1]||a:a,b=c?String(c[2]||""):"",b||!1},m.isTraditionalAnchor=function(a){var b=!/[\/\?\.]/.test(a);return b},m.extractState=function(a,b){var c=null,d,e;return b=b||!1,d=m.extractId(a),d&&(c=m.getStateById(d)),c||(e=m.getFullUrl(a),d=m.getIdByUrl(e)||!1,d&&(c=m.getStateById(d)),!c&&b&&!m.isTraditionalAnchor(a)&&(c=m.createStateObject(null,null,e))),c},m.getIdByUrl=function(a){var c=m.urlToId[a]||m.store.urlToId[a]||b;return c},m.getLastSavedState=function(){return m.savedStates[m.savedStates.length-1]||b},m.getLastStoredState=function(){return m.storedStates[m.storedStates.length-1]||b},m.hasUrlDuplicate=function(a){var b=!1,c;return c=m.extractState(a.url),b=c&&c.id!==a.id,b},m.storeState=function(a){return m.urlToId[a.url]=a.id,m.storedStates.push(m.cloneObject(a)),a},m.isLastSavedState=function(a){var b=!1,c,d,e;return m.savedStates.length&&(c=a.id,d=m.getLastSavedState(),e=d.id,b=c===e),b},m.saveState=function(a){return m.isLastSavedState(a)?!1:(m.savedStates.push(m.cloneObject(a)),!0)},m.getStateByIndex=function(a){var b=null;return typeof a=="undefined"?b=m.savedStates[m.savedStates.length-1]:a<0?b=m.savedStates[m.savedStates.length+a]:b=m.savedStates[a],b},m.getHash=function(){var a=m.unescapeHash(d.location.hash);return a},m.unescapeString=function(b){var c=b,d;for(;;){d=a.unescape(c);if(d===c)break;c=d}return c},m.unescapeHash=function(a){var b=m.normalizeHash(a);return b=m.unescapeString(b),b},m.normalizeHash=function(a){var b=a.replace(/[^#]*#/,"").replace(/#.*/,"");return b},m.setHash=function(a,b){var c,e,f;return b!==!1&&m.busy()?(m.pushQueue({scope:m,callback:m.setHash,args:arguments,queue:b}),!1):(c=m.escapeHash(a),m.busy(!0),e=m.extractState(a,!0),e&&!m.emulated.pushState?m.pushState(e.data,e.title,e.url,!1):d.location.hash!==c&&(m.bugs.setHash?(f=m.getPageUrl(),m.pushState(null,null,f+"#"+c,!1)):d.location.hash=c),m)},m.escapeHash=function(b){var c=m.normalizeHash(b);return c=a.escape(c),m.bugs.hashEscape||(c=c.replace(/\%21/g,"!").replace(/\%26/g,"&").replace(/\%3D/g,"=").replace(/\%3F/g,"?")),c},m.getHashByUrl=function(a){var b=String(a).replace(/([^#]*)#?([^#]*)#?(.*)/,"$2");return b=m.unescapeHash(b),b},m.setTitle=function(a){var b=a.title,c;b||(c=m.getStateByIndex(0),c&&c.url===a.url&&(b=c.title||m.options.initialTitle));try{d.getElementsByTagName("title")[0].innerHTML=b.replace("<","&lt;").replace(">","&gt;").replace(" & "," &amp; ")}catch(e){}return d.title=b,m},m.queues=[],m.busy=function(a){typeof a!="undefined"?m.busy.flag=a:typeof m.busy.flag=="undefined"&&(m.busy.flag=!1);if(!m.busy.flag){h(m.busy.timeout);var b=function(){var a,c,d;if(m.busy.flag)return;for(a=m.queues.length-1;a>=0;--a){c=m.queues[a];if(c.length===0)continue;d=c.shift(),m.fireQueueItem(d),m.busy.timeout=g(b,m.options.busyDelay)}};m.busy.timeout=g(b,m.options.busyDelay)}return m.busy.flag},m.busy.flag=!1,m.fireQueueItem=function(a){return a.callback.apply(a.scope||m,a.args||[])},m.pushQueue=function(a){return m.queues[a.queue||0]=m.queues[a.queue||0]||[],m.queues[a.queue||0].push(a),m},m.queue=function(a,b){return typeof a=="function"&&(a={callback:a}),typeof b!="undefined"&&(a.queue=b),m.busy()?m.pushQueue(a):m.fireQueueItem(a),m},m.clearQueue=function(){return m.busy.flag=!1,m.queues=[],m},m.stateChanged=!1,m.doubleChecker=!1,m.doubleCheckComplete=function(){return m.stateChanged=!0,m.doubleCheckClear(),m},m.doubleCheckClear=function(){return m.doubleChecker&&(h(m.doubleChecker),m.doubleChecker=!1),m},m.doubleCheck=function(a){return m.stateChanged=!1,m.doubleCheckClear(),m.bugs.ieDoubleCheck&&(m.doubleChecker=g(function(){return m.doubleCheckClear(),m.stateChanged||a(),!0},m.options.doubleCheckInterval)),m},m.safariStatePoll=function(){var b=m.extractState(d.location.href),c;if(!m.isLastSavedState(b))c=b;else return;return c||(c=m.createStateObject()),m.Adapter.trigger(a,"popstate"),m},m.back=function(a){return a!==!1&&m.busy()?(m.pushQueue({scope:m,callback:m.back,args:arguments,queue:a}),!1):(m.busy(!0),m.doubleCheck(function(){m.back(!1)}),n.go(-1),!0)},m.forward=function(a){return a!==!1&&m.busy()?(m.pushQueue({scope:m,callback:m.forward,args:arguments,queue:a}),!1):(m.busy(!0),m.doubleCheck(function(){m.forward(!1)}),n.go(1),!0)},m.go=function(a,b){var c;if(a>0)for(c=1;c<=a;++c)m.forward(b);else{if(!(a<0))throw new Error("History.go: History.go requires a positive or negative integer passed.");for(c=-1;c>=a;--c)m.back(b)}return m};if(m.emulated.pushState){var o=function(){};m.pushState=m.pushState||o,m.replaceState=m.replaceState||o}else m.onPopState=function(b,c){var e=!1,f=!1,g,h;return m.doubleCheckComplete(),g=m.getHash(),g?(h=m.extractState(g||d.location.href,!0),h?m.replaceState(h.data,h.title,h.url,!1):(m.Adapter.trigger(a,"anchorchange"),m.busy(!1)),m.expectedStateId=!1,!1):(e=m.Adapter.extractEventData("state",b,c)||!1,e?f=m.getStateById(e):m.expectedStateId?f=m.getStateById(m.expectedStateId):f=m.extractState(d.location.href),f||(f=m.createStateObject(null,null,d.location.href)),m.expectedStateId=!1,m.isLastSavedState(f)?(m.busy(!1),!1):(m.storeState(f),m.saveState(f),m.setTitle(f),m.Adapter.trigger(a,"statechange"),m.busy(!1),!0))},m.Adapter.bind(a,"popstate",m.onPopState),m.pushState=function(b,c,d,e){if(m.getHashByUrl(d)&&m.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(e!==!1&&m.busy())return m.pushQueue({scope:m,callback:m.pushState,args:arguments,queue:e}),!1;m.busy(!0);var f=m.createStateObject(b,c,d);return m.isLastSavedState(f)?m.busy(!1):(m.storeState(f),m.expectedStateId=f.id,n.pushState(f.id,f.title,f.url),m.Adapter.trigger(a,"popstate")),!0},m.replaceState=function(b,c,d,e){if(m.getHashByUrl(d)&&m.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(e!==!1&&m.busy())return m.pushQueue({scope:m,callback:m.replaceState,args:arguments,queue:e}),!1;m.busy(!0);var f=m.createStateObject(b,c,d);return m.isLastSavedState(f)?m.busy(!1):(m.storeState(f),m.expectedStateId=f.id,n.replaceState(f.id,f.title,f.url),m.Adapter.trigger(a,"popstate")),!0};if(f){try{m.store=k.parse(f.getItem("History.store"))||{}}catch(p){m.store={}}m.normalizeStore()}else m.store={},m.normalizeStore();m.Adapter.bind(a,"beforeunload",m.clearAllIntervals),m.Adapter.bind(a,"unload",m.clearAllIntervals),m.saveState(m.storeState(m.extractState(d.location.href,!0))),f&&(m.onUnload=function(){var a,b;try{a=k.parse(f.getItem("History.store"))||{}}catch(c){a={}}a.idToState=a.idToState||{},a.urlToId=a.urlToId||{},a.stateToId=a.stateToId||{};for(b in m.idToState){if(!m.idToState.hasOwnProperty(b))continue;a.idToState[b]=m.idToState[b]}for(b in m.urlToId){if(!m.urlToId.hasOwnProperty(b))continue;a.urlToId[b]=m.urlToId[b]}for(b in m.stateToId){if(!m.stateToId.hasOwnProperty(b))continue;a.stateToId[b]=m.stateToId[b]}m.store=a,m.normalizeStore(),f.setItem("History.store",k.stringify(a))},m.intervalList.push(i(m.onUnload,m.options.storeInterval)),m.Adapter.bind(a,"beforeunload",m.onUnload),m.Adapter.bind(a,"unload",m.onUnload));if(!m.emulated.pushState){m.bugs.safariPoll&&m.intervalList.push(i(m.safariStatePoll,m.options.safariPollInterval));if(e.vendor==="Apple Computer, Inc."||(e.appCodeName||"")==="Mozilla")m.Adapter.bind(a,"hashchange",function(){m.Adapter.trigger(a,"popstate")}),m.getHash()&&m.Adapter.onDomLoad(function(){m.Adapter.trigger(a,"hashchange")})}},m.init()}(window);
(function($){function Placeholder(input){this.input=input;if(input.attr('type')=='password'){this.handlePassword();}
$(input[0].form).submit(function(){if(input.hasClass('placeholder')&&input[0].value==input.attr('placeholder')){input[0].value='';}});}
Placeholder.prototype={show:function(loading){if(this.input[0].value===''||(loading&&this.valueIsPlaceholder())){if(this.isPassword){try{this.input[0].setAttribute('type','text');}catch(e){this.input.before(this.fakePassword.show()).hide();}}
this.input.addClass('placeholder');this.input[0].value=this.input.attr('placeholder');}},hide:function(){if(this.valueIsPlaceholder()&&this.input.hasClass('placeholder')){this.input.removeClass('placeholder');this.input[0].value='';if(this.isPassword){try{this.input[0].setAttribute('type','password');}catch(e){}
this.input.show();this.input[0].focus();}}},valueIsPlaceholder:function(){return this.input[0].value==this.input.attr('placeholder');},handlePassword:function(){var input=this.input;input.attr('realType','password');this.isPassword=true;if($.browser.msie&&input[0].outerHTML){var fakeHTML=$(input[0].outerHTML.replace(/type=(['"])?password\1/gi,'type=$1text$1'));this.fakePassword=fakeHTML.val(input.attr('placeholder')).addClass('placeholder').focus(function(){input.trigger('focus');$(this).hide();});$(input[0].form).submit(function(){fakeHTML.remove();input.show()});}}};var NATIVE_SUPPORT=!!("placeholder"in document.createElement("input"));$.fn.placeholder=function(){return NATIVE_SUPPORT?this:this.each(function(){var input=$(this);var placeholder=new Placeholder(input);placeholder.show(true);input.focus(function(){placeholder.hide();});input.blur(function(){placeholder.show(false);});if($.browser.msie){$(window).load(function(){if(input.val()){input.removeClass("placeholder");}
placeholder.show(true);});input.focus(function(){if(this.value==""){var range=this.createTextRange();range.collapse(true);range.moveStart('character',0);range.select();}});}});}})(jQuery);
(function($){$.open={};$.open.defaultParams={"width":"800","height":"600","top":"0","left":"0","directories":"no","location":"no","resizable":"yes","menubar":"no","toolbar":"no","scrollbars":"yes","status":"no"};$.open.defaultConfig={autoFocus:true};$.open.windowMap=new Array();$.open.newWindow=function(href,params,config){var windowParams=$.extend($.open.defaultParams,params);var windowConfig=$.extend($.open.defaultConfig,config);var windowName=params["windowName"]||'new'+new Date().getTime();var i,paramString="";for(i in windowParams){if(windowParams.hasOwnProperty(i)){paramString+=(paramString==="")?"":",";paramString+=i+"=";if(windowParams[i]===true||windowParams[i]===false){paramString+=(windowParams[i])?"yes":"no";}
else{paramString+=windowParams[i];}}}
if(!$.open.windowMap[windowName]||$.open.windowMap[windowName].closed){$.open.windowMap[windowName]=window.open(href,windowName,paramString);}
if(windowConfig.autoFocus){$.open.windowMap[windowName].focus();}
return $.open.windowMap[windowName];};$.fn.open=function(parameters,callback){var params=parameters.params||parameters;var config=parameters.config||{};this.each(function(){$(this).click(function(event){event.preventDefault();if($(this).attr("name")){params.windowName=$(this).attr("name");}
var href;if(params.href){href=params.href;}
else if($(this).attr("href")){href=$(this).attr("href");}
else{return;}
var windowObject=$.open.newWindow(href,params,config);if(callback){callback(windowObject);}});});return $;};})(jQuery);
(function($){function isNumber(n){return!isNaN(parseFloat(n))&&isFinite(n);}
function findTruncPoint(maxWidth,text,start,end,$workerEl,token,fromEnd){var opt1,opt2,mid;if(fromEnd){opt1=start===0?'':text.slice(-start);opt2=text.slice(-end);}else{opt1=text.slice(0,start);opt2=text.slice(0,end);}
if($workerEl.html(opt2+token).width()<$workerEl.html(opt1+token).width()){return end;}
mid=parseInt((start+end)/2,10);opt1=fromEnd?text.slice(-mid):text.slice(0,mid);$workerEl.html(opt1+token);if($workerEl.width()===maxWidth){return mid;}
if($workerEl.width()>maxWidth){end=mid-1;}else{start=mid+1;}
return findTruncPoint(maxWidth,text,start,end,$workerEl,token,fromEnd);}
$.fn.truncate=function(options){var defaults={width:'auto',token:'&hellip;',center:false,addclass:false,addtitle:false};options=$.extend(defaults,options);return this.each(function(){var $element=$(this),fontCSS={'fontFamily':$element.css('fontFamily'),'fontSize':$element.css('fontSize'),'fontStyle':$element.css('fontStyle'),'fontWeight':$element.css('fontWeight'),'font-variant':$element.css('font-variant'),'text-indent':$element.css('text-indent'),'text-transform':$element.css('text-transform'),'letter-spacing':$element.css('letter-spacing'),'word-spacing':$element.css('word-spacing'),'display':'none'},elementText=$element.html(),$truncateWorker=$('<span/>').css(fontCSS).html(elementText).appendTo('body'),originalWidth=$truncateWorker.width(),truncateWidth=isNumber(options.width)?options.width:$element.width(),truncatedText;if(originalWidth>truncateWidth){$truncateWorker.text('');if(options.center){truncateWidth=parseInt(truncateWidth/2,10)+1;truncatedText=elementText.slice(0,findTruncPoint(truncateWidth,elementText,0,elementText.length,$truncateWorker,options.token,false))
+options.token
+elementText.slice(-1*findTruncPoint(truncateWidth,elementText,0,elementText.length,$truncateWorker,'',true));}else{truncatedText=elementText.slice(0,findTruncPoint(truncateWidth,elementText,0,elementText.length,$truncateWorker,options.token,false))+options.token;}
if(options.addclass){$element.addClass(options.addclass);}
if(options.addtitle){$element.attr('title',elementText);}
$element.html(truncatedText);}
$truncateWorker.remove();});};})(jQuery);
(function($){$.fn.countdown=function(method){var defaults={date:null,updateTime:1E3,htmlTemplate:"%d <span class='cd-time'>days</span> %h <span class='cd-time'>hours</span> %i <span class='cd-time'>mins</span> %s <span class='cd-time'>sec</span>",minus:false,onChange:null,onComplete:null,onResume:null,onPause:null,leadingZero:false,offset:null,servertime:null,hoursOnly:false,minsOnly:false,secsOnly:false,hours:false,yearsAndMonths:false,direction:"down"},slice=[].slice,clear=window.clearInterval,floor=Math.floor,ceil=Math.ceil,msPerHr=36E5,msPerDay=864E5,rDate=/(%y|%m|%d|%h|%i|%s)/g,rYears=/%y/,rMonths=/%m/,rDays=/%d/,rHrs=/%h/,rMins=/%i/,rSecs=/%s/,getTZDate=function(offset,difference){var hrs,dateMS,extra,curHrs,tmpDate=new Date();if(offset===null){dateMS=tmpDate.getTime()-difference;}else{hrs=offset*msPerHr;curHrs=tmpDate.getTime()-((-tmpDate.getTimezoneOffset()/60)*msPerHr)+hrs;dateMS=tmpDate.setTime(curHrs);}
return new Date(dateMS);},timerFunc=function(){var $this=this,template,now,date,timeLeft,yearsLeft,monthsLeft,eDaysLeft,daysLeft,eHrsLeft,hrsLeft,minsLeft,eMinsleft,secLeft,time="",diff,timeSections={"years":0,"months":0,"days":0,"hours":0,"minutes":0,"seconds":0},extractSection=function(numSecs){var amount;amount=floor(diff/numSecs);diff-=amount*numSecs;return amount;},settings=$this.data("jcdData");if(!settings){return false;}
template=settings.htmlTemplate;if(settings.offset===null&&settings.servertime===null){now=new Date();}else if(settings.offset!==null){now=getTZDate(settings.offset);}else{now=getTZDate(null,settings.difference);}
now.setMilliseconds(0);date=new Date(settings.date);date.setMilliseconds(0);timeLeft=(settings.direction==="down")?date.getTime()-now.getTime():now.getTime()-date.getTime();diff=Math.round(timeLeft/1000);timeSections.days=extractSection(86400);timeSections.hours=extractSection(3600);timeSections.minutes=extractSection(60);timeSections.seconds=extractSection(1);if(settings.yearsAndMonths){diff+=(timeSections.days*86400);timeSections.years=extractSection(31556926);timeSections.months=extractSection(2629743.83);timeSections.days=extractSection(86400);}
yearsLeft=timeSections.years;monthsLeft=timeSections.months;daysLeft=timeSections.days;hrsLeft=timeSections.hours;minsLeft=timeSections.minutes;secLeft=timeSections.seconds;if(settings.hoursOnly){hrsLeft+=daysLeft*24;daysLeft=0;}
if(settings.minsOnly){minsLeft+=(hrsLeft*60)+((daysLeft*24)*60);daysLeft=hrsLeft=0;}
if(settings.secsOnly){secLeft+=(minsLeft*60);daysLeft=hrsLeft=minsLeft=0;}
settings.yearsLeft=yearsLeft;settings.monthsLeft=monthsLeft;settings.daysLeft=daysLeft;settings.hrsLeft=hrsLeft;settings.minsLeft=minsLeft;settings.secLeft=secLeft;if(secLeft===60){secLeft=0;}
if(settings.leadingZero){if(daysLeft<10&&!settings.hoursOnly){daysLeft="0"+daysLeft;}
if(yearsLeft<10){yearsLeft="0"+yearsLeft;}
if(monthsLeft<10){monthsLeft="0"+monthsLeft;}
if(hrsLeft<10){hrsLeft="0"+hrsLeft;}
if(minsLeft<10){minsLeft="0"+minsLeft;}
if(secLeft<10){secLeft="0"+secLeft;}}
if((settings.direction==="down"&&(now<date||settings.minus))||(settings.direction==="up"&&(date<now||settings.minus))){time=template.replace(rYears,yearsLeft).replace(rMonths,monthsLeft);time=time.replace(rDays,daysLeft).replace(rHrs,hrsLeft).replace(rMins,minsLeft).replace(rSecs,secLeft);}else{time=template.replace(rDate,"00");settings.hasCompleted=true;}
$this.html(time).trigger("change.jcdevt",[settings]);if(settings.hasCompleted){$this.trigger("complete.jcdevt");clear(settings.timer);}},methods={init:function(options){var opts=$.extend({},defaults,options),template=opts.htmlTemplate,local,testDate;return this.each(function(){var $this=$(this),settings={},func;if($this.data("jcdData")){$this.countdown("changeSettings",options,true);opts=$this.data("jcdData");}
if(opts.date===null){$.error("No Date passed to jCountdown. date option is required.");return true;}
testDate=new Date(opts.date);if(testDate.toString()==="Invalid Date"){$.error("Invalid Date passed to jCountdown: "+opts.date);}
testDate=null;if(opts.onChange){$this.on("change.jcdevt",opts.onChange);}
if(opts.onComplete){$this.on("complete.jcdevt",opts.onComplete);}
if(opts.onPause){$this.on("pause.jcdevt",opts.onPause);}
if(opts.onResume){$this.on("resume.jcdevt",opts.onResume);}
settings={originalHTML:$this.html(),date:opts.date,yearsAndMonths:opts.yearsAndMonths,hoursOnly:opts.hoursOnly,minsOnly:opts.minsOnly,secsOnly:opts.secsOnly,leadingZero:opts.leadingZero,updateTime:opts.updateTime,direction:opts.direction,template:opts.htmlTemplate,htmlTemplate:opts.htmlTemplate,minus:opts.minus,offset:opts.offset,servertime:opts.servertime,difference:null,onChange:opts.onChange,onComplete:opts.onComplete,onResume:opts.onResume,onPause:opts.onPause,hasCompleted:false,timer:0};if(opts.servertime!==null){var tempTime;local=new Date();tempTime=($.isFunction(settings.servertime))?settings.servertime():settings.servertime;settings.difference=local.getTime()-tempTime;}
func=$.proxy(timerFunc,$this);settings.timer=setInterval(func,settings.updateTime);$this.data("jcdData",settings);func();});},changeSettings:function(options,internal){return this.each(function(){var $this=$(this),settings,testDate,func=$.proxy(timerFunc,$this);if(!$this.data("jcdData")){return true;}
settings=$.extend({},$this.data("jcdData"),options);if(options.hasOwnProperty("date")){testDate=new Date(options.date);if(testDate.toString()==="Invalid Date"){$.error("Invalid Date passed to jCountdown: "+options.date);}}
settings.completed=false;clear(settings.timer);$this.off(".jcdevt").data("jcdData",settings);if(!internal){if(settings.onChange){$this.on("change.jcdevt",settings.onChange);}
if(settings.onComplete){$this.on("complete.jcdevt",settings.onComplete);}
if(settings.onPause){$this.on("pause.jcdevt",settings.onPause);}
if(settings.onResume){$this.on("resume.jcdevt",settings.onResume);}
settings.timer=setInterval(func,settings.updateTime);$this.data("jcdData",settings);func();}});},resume:function(){return this.each(function(){var $this=$(this),settings=$this.data("jcdData"),func=$.proxy(timerFunc,$this);if(!settings){return true;}
$this.data("jcdData",settings).trigger("resume.jcdevt");if(!settings.hasCompleted){settings.timer=setInterval(func,settings.updateTime);func();}});},pause:function(){return this.each(function(){var $this=$(this),settings=$this.data("jcdData");if(!settings){return true;}
clear(settings.timer);$this.data("jcdData",settings).trigger("pause.jcdevt");});},complete:function(){return this.each(function(){var $this=$(this),settings=$this.data("jcdData");if(!settings){return true;}
clear(settings.timer);settings.hasCompleted=true;$this.data("jcdData",settings).trigger("complete.jcdevt").off(".jcdevt");});},destroy:function(){return this.each(function(){var $this=$(this),settings=$this.data("jcdData");if(!settings){return true;}
clear(settings.timer);$this.off(".jcdevt").removeData("jcdData").html(settings.originalHTML);});},getSettings:function(name){var $this=$(this),settings=$this.data("jcdData");if(name&&settings){if(settings.hasOwnProperty(name)){return settings[name];}
return undefined;}
return settings;}};if(methods[method]){return methods[method].apply(this,slice.call(arguments,1));}else if(typeof method==="object"||!method){return methods.init.apply(this,arguments);}else{$.error("Method "+method+" does not exist in the jCountdown Plugin");}};})(jQuery);
/*
 * jQuery Cookie Plugin
 * https://github.com/carhartl/jquery-cookie
 *
 * Copyright 2011, Klaus Hartl
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.opensource.org/licenses/GPL-2.0
 */
(function($){$.cookie=function(key,value,options){if(arguments.length>1&&(!/Object/.test(Object.prototype.toString.call(value))||value===null||value===undefined)){options=$.extend({},options);if(value===null||value===undefined){options.expires=-1;}
if(typeof options.expires==='number'){var days=options.expires,t=options.expires=new Date();t.setDate(t.getDate()+days);}
value=String(value);return(document.cookie=[encodeURIComponent(key),'=',options.raw?value:encodeURIComponent(value),options.expires?'; expires='+options.expires.toUTCString():'',options.path?'; path='+options.path:'',options.domain?'; domain='+options.domain:'',options.secure?'; secure':''].join(''));}
options=value||{};var decode=options.raw?function(s){return s;}:decodeURIComponent;var pairs=document.cookie.split('; ');for(var i=0,pair;pair=pairs[i]&&pairs[i].split('=');i++){if(decode(pair[0])===key)return decode(pair[1]||'');}
return null;};})(jQuery);
Date.prototype.format=function(format){var returnStr='';var replace=Date.replaceChars;for(var i=0;i<format.length;i++){var curChar=format.charAt(i);if(i-1>=0&&format.charAt(i-1)=="\\"){returnStr+=curChar;}
else if(replace[curChar]){returnStr+=replace[curChar].call(this);}else if(curChar!="\\"){returnStr+=curChar;}}
return returnStr;};Date.replaceChars={shortMonths:['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'],longMonths:['January','February','March','April','May','June','July','August','September','October','November','December'],shortDays:['Sun','Mon','Tue','Wed','Thu','Fri','Sat'],longDays:['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'],d:function(){return(this.getDate()<10?'0':'')+this.getDate();},D:function(){return Date.replaceChars.shortDays[this.getDay()];},j:function(){return this.getDate();},l:function(){return Date.replaceChars.longDays[this.getDay()];},N:function(){return this.getDay()+1;},S:function(){return(this.getDate()%10==1&&this.getDate()!=11?'st':(this.getDate()%10==2&&this.getDate()!=12?'nd':(this.getDate()%10==3&&this.getDate()!=13?'rd':'th')));},w:function(){return this.getDay();},z:function(){var d=new Date(this.getFullYear(),0,1);return Math.ceil((this-d)/86400000);},W:function(){var d=new Date(this.getFullYear(),0,1);return Math.ceil((((this-d)/86400000)+d.getDay()+1)/7);},F:function(){return Date.replaceChars.longMonths[this.getMonth()];},m:function(){return(this.getMonth()<9?'0':'')+(this.getMonth()+1);},M:function(){return Date.replaceChars.shortMonths[this.getMonth()];},n:function(){return this.getMonth()+1;},t:function(){var d=new Date();return new Date(d.getFullYear(),d.getMonth(),0).getDate();},L:function(){var year=this.getFullYear();return(year%400==0||(year%100!=0&&year%4==0));},o:function(){var d=new Date(this.valueOf());d.setDate(d.getDate()-((this.getDay()+6)%7)+3);return d.getFullYear();},Y:function(){return this.getFullYear();},y:function(){return(''+this.getFullYear()).substr(2);},a:function(){return this.getHours()<12?'am':'pm';},A:function(){return this.getHours()<12?'AM':'PM';},B:function(){return Math.floor((((this.getUTCHours()+1)%24)+this.getUTCMinutes()/60+this.getUTCSeconds()/3600)*1000/24);},g:function(){return this.getHours()%12||12;},G:function(){return this.getHours();},h:function(){return((this.getHours()%12||12)<10?'0':'')+(this.getHours()%12||12);},H:function(){return(this.getHours()<10?'0':'')+this.getHours();},i:function(){return(this.getMinutes()<10?'0':'')+this.getMinutes();},s:function(){return(this.getSeconds()<10?'0':'')+this.getSeconds();},u:function(){var m=this.getMilliseconds();return(m<10?'00':(m<100?'0':''))+m;},e:function(){return"Not Yet Supported";},I:function(){return"Not Yet Supported";},O:function(){return(-this.getTimezoneOffset()<0?'-':'+')+(Math.abs(this.getTimezoneOffset()/60)<10?'0':'')+(Math.abs(this.getTimezoneOffset()/60))+'00';},P:function(){return(-this.getTimezoneOffset()<0?'-':'+')+(Math.abs(this.getTimezoneOffset()/60)<10?'0':'')+(Math.abs(this.getTimezoneOffset()/60))+':00';},T:function(){var m=this.getMonth();this.setMonth(0);var result=this.toTimeString().replace(/^.+ \(?([^\)]+)\)?$/,'$1');this.setMonth(m);return result;},Z:function(){return-this.getTimezoneOffset()*60;},c:function(){return this.format("Y-m-d\\TH:i:sP");},r:function(){return this.toString();},U:function(){return this.getTime()/1000;}};function elapsedTime(milliseconds,tick)
{var hours=0;var minutes=0;var seconds=0;var timeInSeconds=Math.round(milliseconds/1000);hours=Math.floor(timeInSeconds/3600);timeInSeconds=timeInSeconds-(hours*3600);minutes=Math.floor(timeInSeconds/60);timeInSeconds=timeInSeconds-(minutes*60);seconds=timeInSeconds;var result="";if(!tick){if(hours>0){result+=hours+' '+__('hour(s)')+' ';}
if(minutes>0){result+=minutes+' '+__('minute(s)')+' ';}
result+=seconds+' '+__('second(s)');}else{result=(hours<10?"0":"")+hours+":"+(minutes<10?"0":"")+minutes+":"+(seconds<10?"0":"")+seconds;}
return result;}
(function($){$.fn.manageErrors=function(fields){if(undefined!=fields&&null!=fields){for(fieldId in fields){var value=fields[fieldId];if('object'==typeof(value)){$(this).manageErrors(value);}else{$(this).find('#'+fieldId).closest('.form_row').find('.form_errors_in_row').html(value);}}}};$.fn.onSubmittedToRemoteSuccess=function(onsuccess,data,textStatus,XMLHttpRequest){var reusable=true;if(undefined!=onsuccess&&'function'==typeof(onsuccess)){onsuccess($(this),data,textStatus,XMLHttpRequest);}else if(false!=onsuccess){reusable=false;$(this).removeAttr('onsubmit').unbind('.submitToRemote').submit();}
return reusable;};$.fn.submittedToRemote=function(onsuccess,onerror,onsubmit){$(this).attr('onsubmit','return false;').find('button, input[type="submit"], input[type="image"]').removeAttr('disabled').end().find('.spinner').hide();$(this).unbind('.submitToRemote').bind('submit.submitToRemote',function(){$(this).find('.form_errors_row').remove();$(this).find('.form_errors_in_row').html('');$(this).find('button, input[type="submit"], input[type="image"]').attr('disabled','disabled');$(this).find('.spinner').show();if(undefined!=onsubmit&&'function'==typeof(onsubmit)){var retval=onsubmit($(this));if(undefined!=retval&&!retval){return false;}}
$.ajax({data:$(this).serializeArray(),url:$(this).attr('action'),dataType:'json',context:$(this),type:'post',success:function(data,textStatus,XMLHttpRequest){var reusable=true;if("object"==typeof(data)&&null!=data&&undefined!=data.status){if('error'==data.status){if(undefined!=data.global){$(this).find('.form_data').prepend('<div class="form_errors_row">'+data.global+"</div>");}
if(undefined!=data.fields){$(this).manageErrors(data.fields);}
if(undefined!=onerror&&'function'==typeof(onerror)){onerror(data,textStatus,XMLHttpRequest);}}else if('success'==data.status){reusable=$(this).onSubmittedToRemoteSuccess(onsuccess,data,textStatus,XMLHttpRequest);}else{if(undefined!=window.console){console.log('[ '+textStatus+' | '+data.status+' ] '+data);}}}else{if(undefined!=window.console){console.log('[ '+textStatus+' ] '+data);}}
if(reusable){$(this).find('button, input[type="submit"], input[type="image"]').removeAttr('disabled');$(this).find('.spinner').hide();}},error:function(request,textStatus,errorThrown){$(this).find('button, input[type="submit"], input[type="image"]').removeAttr('disabled');$(this).find('.spinner').hide();if(undefined!=window.console){console.log('[ '+textStatus+' ] '+errorThrown);}}});return false;});return this;};$.fn.unbindSubmittedToRemote=function(){$(this).removeAttr('onsubmit').unbind('.submitToRemote');};$.jlNamespace={$popupBlock:null,$popupTitle:null,$popupClose:null,$popupContent:null,$contentContainer:null};$.fn.bongacamsPopup=function($contentContainer,ondisplay,title,afterDisplay,closeButton){if(0==$contentContainer.length){return;}
if(null==$.jlNamespace.$popupBlock){$popupBlock=$('#bongacams_popup');if(0!=$popupBlock.length){alert('Can\'t work with BongaCams popups: popup element found on page');return;}
var popupBlock='<div id="bongacams_popup" class="bongacams_popup">'+'<div class="popup_header">'+'<div class="popup_title"><!-- --></div><div class="popup_close"><!-- --></div><div class="clr"><!-- --></div>'+'</div>'+'<div class="popup_content"><!-- --></div>'+'</div>';$('body').append(popupBlock);$popupBlock=$('#bongacams_popup');$popupBlock.find('.popup_close').click(function(){$.bongacamsPopupClose(true);});$.jlNamespace.$popupBlock=$popupBlock;$.jlNamespace.$popupContent=$popupBlock.find('.popup_content');var $popupHeader=$popupBlock.find('.popup_header');$.jlNamespace.$popupTitle=$popupHeader.find('.popup_title');$.jlNamespace.$popupClose=$popupHeader.find('.popup_close');}
$(this).attr('onclick','return false;');$(this).click(function(){$.bongacamsPopupClose();$.jlNamespace.$contentContainer=$contentContainer;if(undefined!=title&&false!=title){$.jlNamespace.$popupTitle.html(title).removeClass('popup_title_empty');}else{$.jlNamespace.$popupTitle.html('<!-- -->').addClass('popup_title_empty');}
$.jlNamespace.$popupClose.html((undefined!=closeButton&&false!=closeButton)?closeButton:'<!-- -->');$.jlNamespace.$popupContent.html($contentContainer.children());if(undefined!=ondisplay&&'function'==typeof(ondisplay)){ondisplay();}
$.jlNamespace.$popupBlock.css({top:$(this).offset().top+'px',left:$(this).offset().left+'px'}).show();if(undefined!=afterDisplay&&'function'==typeof(afterDisplay)){afterDisplay();}
return false;});return this;};$.bongacamsPopupClose=function(animated,onclose){function returnContentsBack(){if(null==$.jlNamespace.$contentContainer){return;}
$.jlNamespace.$contentContainer.html($.jlNamespace.$popupContent.children());$.jlNamespace.$contentContainer=null;if(undefined!=onclose&&'function'==typeof(onclose)){onclose();}}
if(animated){$.jlNamespace.$popupBlock.fadeOut(200,returnContentsBack);}else{$.jlNamespace.$popupBlock.hide();returnContentsBack();}};$.fn.screenCenter=function(){var topPos=($(window).height()-this.outerHeight(true))/2+$(window).scrollTop();var leftPos=($(window).width()-this.outerWidth(true))/2+$(window).scrollLeft();this.css({position:'absolute',top:(topPos>0)?topPos+'px':'0',left:(leftPos>0)?leftPos+'px':'0'});return this;};$.fn.max_lengthable=function(max_length){$(this).unbind('.max_lengthable').bind('keyup.max_lengthable focus.max_lengthable',function(){var $row=$(this).closest('.form_row');var $notifier=$row.find('.notifier');if(0==$notifier.length){$notifier=$('<div class="notifier"><!-- --></div>');$(this).parent().after($notifier);}
var remaindCount=max_length-$(this).val().length;if(remaindCount>=0){$notifier.removeClass('too_long');$notifier.html(remaindCount+' '+__('characters left'));}else{$notifier.addClass('too_long');$notifier.html((-remaindCount)+' '+__('characters exceeded'));}}).bind('blur.max_lengthable',function(){$(this).closest('.form_row').find('.notifier').remove();});return this;};$.fn.unmax_lengthable=function(){$(this).unbind('.max_lengthable');$(this).closest('form_row').find('.notifier').remove();};$.fn.numbersOnly=function(){return this.each(function(){var $input=$(this);$input.bind('keydown',function(event){if((event.keyCode==8||event.keyCode==189||event.keyCode==109)||(event.keyCode>=48&&event.keyCode<=57)||(event.keyCode>=96&&event.keyCode<=105)){return true;}else{return false;}});});};$.fn.sort=function(){return this.pushStack([].sort.apply(this,arguments),[]);};})(jQuery);
if(!Array.prototype.indexOf)
Array.prototype.indexOf=function(searchElement,fromIndex){for(var i=fromIndex||0,length=this.length;i<length;i++)
if(this[i]===searchElement)
return i;return-1;};String.prototype.wordWrap=function(brk,width){brk=brk||'<br/>';width=width||50;var wordsArr=this.split(' ');if(wordsArr.length==0)return this;var regex='.{1,'+width+'}(\\s|$)|.{'+width+'}|.+$';for(var i=0;i<wordsArr.length;i++){if(wordsArr[i].length>width){wordsArr[i]=wordsArr[i].match(new RegExp(regex,'g')).join(brk);}}
return wordsArr.join(' ');};$(document).ready(function(){var whwdt=$(window).width();$("#bChat").bind("onUserData",function(e){if(!chat.performerData)return;var sexType=chat.performerData.sexType;var prefix='';if(sexType!=''){prefix='male_';}
$('.top_of_week').each(function(){$(this).html(__('Top %count% of the Week',{count:$(this).attr(prefix+'count')}));$(this).attr('href',$(this).attr(prefix+'url'));});$('.contests_header').each(function(){$(this).attr('href',$(this).attr(prefix+'url'));});});if($('.data_item_membership,.vip_overview_tip').length){$.tools.tooltip.addEffect("myFadeEffect",function(done){var $tip=this.getTip();var left=parseInt($tip.css('left'));if(left>0&&$tip.width()+left>$(window).width()){$tip.css({left:($(window).width()-$tip.width()-25)+'px'});}
this.getTip().fadeIn(function(){done.call()});},function(done){var tip=this.getTip();tip.fadeOut(done);});var onlyLeft=null;var $membershipTipContainer=$('.data_item_membership');if($membershipTipContainer.length){onlyLeft=$membershipTipContainer.parents('.control_popover').length;var mSettings={tip:'.data_item_membership_tooltip',effect:'myFadeEffect',fadeOutSpeed:100,predelay:200,position:'bottom right',onBeforeShow:function(){var $tip=this.getTip();if(!$tip.html()){var self=this;$.get(this.getTrigger().attr('rel'),function(data){$tip.html(data).removeClass('spinner');if($tip.width()+$tip.offset().left>$(window).width()){$tip.css({left:($(window).width()-$tip.width()-25)+'px'});}
if(onlyLeft){if(window.isRTL){$tip.css({right:((-1)*$tip.width())+'px'});}else{$tip.css({left:((-1)*$tip.width())+'px'});}}});}}};if(onlyLeft){mSettings.offset=window.isRTL?[-10,-20]:[-10,20];mSettings.relative=true;mSettings.position=window.isRTL?'bottom right':'bottom left';}
$membershipTipContainer.tooltip(mSettings);}
var $vipTipContainer=$('.vip_overview_tip');if($vipTipContainer.length){var vSettings={tip:'',relative:true,effect:'myFadeEffect',fadeOutSpeed:100,predelay:200,position:window.isRTL?'bottom left':'bottom right'};$vipTipContainer.each(function(){onlyLeft=$(this).parents('.control_popover').length;if(onlyLeft){vSettings.offset=window.isRTL?[-10,-20]:[-10,20];vSettings.position=window.isRTL?'bottom right':'bottom left';}
vSettings.tip='.'+$(this).attr('id');$(this).tooltip(vSettings);});}}
$('input[placeholder], textarea[placeholder]').placeholder();$('.popup').find('form.remote').submittedToRemote();$('.wrapper').find('form.remote').submittedToRemote();$('.jl_alert_outer').find('.jl_alert_close_link').attr('onclick','return false;').click(function(){$(this).hide();$.ajax({url:$(this).attr('href'),dataType:'json',context:$(this),type:'get',success:function(data,textStatus,XMLHttpRequest){if(undefined!=data.status&&'success'==data.status){$(this).closest('.jl_alert_outer').remove();}else{if(undefined!=window.console){console.log('[ '+textStatus+' ] '+errorThrown);}
$(this).show();}},error:function(request,textStatus,errorThrown){if(undefined!=window.console){console.log('[ '+textStatus+' ] '+errorThrown);}
$(this).show();}});return false;});function restoreRemoteSubmit(){$.jlNamespace.$popupContent.find('form.remote').submittedToRemote();}
function focusFirstInput(){$.jlNamespace.$popupContent.find('form.remote').find('input:visible:first').focus();}
$('body').delegate('.popup_hide','click',function(e){$.fancybox.close();return false;});$('[rel=take_a_tour]').each(function(){$(this).open({width:950,height:700,left:(($(window).width()-950)/2),top:(($(window).height()-700)/2),windowName:$(this).attr('name')||'take_a_tour'});});$('[rel=prices]').each(function(){$(this).open({width:950,height:700,left:(($(window).width()-950)/2),top:(($(window).height()-700)/2),windowName:$(this).attr('name')||'prices'});});$('[rel=contact_support]').each(function(){$(this).open({width:1280,height:700,left:(($(window).width()-1280)/2),top:(($(window).height()-700)/2),windowName:$(this).attr('name')||'contact_support'});});$('[rel=friends], [rel=real_gifts]').each(function(){$(this).open({width:1280,height:700,left:(($(window).width()-1280)/2),top:(($(window).height()-700)/2),windowName:$(this).attr('rel')});});$('body').delegate('[rel=buy_tokens], [rel=buy_vip]','click',function(e){if(!$(this).attr('href'))return false;e.preventDefault();var _w=1000;$.open.newWindow($(this).attr('href'),{windowName:$(this).attr('rel'),width:_w,height:screen.height-100,left:(($(window).width()-_w)/2),top:0},{});});$('body').delegate('[rel=webcamsupport]','click',function(e){if(!$(this).attr('href'))return false;e.preventDefault();var _w=640,_h=680;$.open.newWindow($(this).attr('href'),{windowName:$(this).attr('rel'),width:_w,height:_h,left:(($(window).width()-_w)/2),top:(($(window).height()-_h)/2)},{});});$('body').delegate('a.profile, a.display_name, [rel=profile]','click',function(e){if(!$(this).attr('href'))return false;e.preventDefault();$.openProfileWindow($(this).attr('href'));});$('a.top_models_footer').open({width:960,height:700,left:(($(window).width()-640)/2),top:(($(window).height()-480)/2),windowName:'top_models'});$('a.top_rooms_header').open({width:950,height:700,left:(($(window).width()-640)/2),top:(($(window).height()-480)/2),windowName:'top_rooms_contest'});$(document).on('click','a.contests_header, a.read_more_contest',function(){if($(this).attr('xxx')=='turkey_trip_im'){$('#news_im_view .nim_close').click();}else if($(this).attr('xxx')=='turkey_trip_popup'){$('.popup_hide').click();}
$.open.newWindow($(this).attr('href'),{width:960,height:700,left:(($(window).width()-640)/2),top:(($(window).height()-480)/2),windowName:'contests'});return false;});$(document).on('click','#button_tabs a',function(e){e.preventDefault();$(this).addClass("active");$(this).siblings().removeClass("active");var tab=$(this).attr("href");$(".button_tabs_content").not(tab).css("display","none");$(tab).fadeIn();});$('a.website_queen_footer').open({width:950,height:700,left:(($(window).width()-640)/2),top:(($(window).height()-480)/2),windowName:'website_queen'});$('.cashback_panel').click(function(){location.href=$(this).find('.more a').attr('href');});$('body').delegate('a.chat_popup','click',function(){$.open.newWindow($(this).attr('href'),{windowName:$(this).attr('target'),width:1180,height:660,left:(($(window).width()-1180)/2),top:(($(window).height()-660)/2)},{});});$('body').delegate('a.switch_language','click',function(){var url=$(this).attr('href');if(!$(this).hasClass('third_level')){var arr=url.split('?');if('/'!=location.pathname){arr[0]+=location.pathname;}
url=arr.join('?');if($(this).attr('country')!=undefined){url+=url.indexOf('?')==-1?'?':'&';url+='country='+$(this).attr('country');}
if($(this).data('old_slug')&&$(this).data('new_slug')){url=decodeURIComponent(url).replace($(this).data('old_slug'),$(this).data('new_slug'));}}
$(this).attr('href',url);});var $changeSiteLang=$('#change_site_lang');if($changeSiteLang.length){var $settingCulture=$('#setting_culture');if($settingCulture.data('lang')){$changeSiteLang.val($settingCulture.data('lang'));}
$changeSiteLang.change(function(){var $selected=$(this).find('option:selected');var url=$selected.attr('data-url');if(!$settingCulture.hasClass('third_level')){var arr=url.split('?');if('/'!=location.pathname){arr[0]+=location.pathname;}
url=arr.join('?');var $objectHasSlug=$('#change_lang').find('a[data-lang="'+$(this).val()+'"]');if($objectHasSlug.length&&$objectHasSlug.data('old_slug')&&$objectHasSlug.data('new_slug')){url=decodeURIComponent(url).replace($objectHasSlug.data('old_slug'),$objectHasSlug.data('new_slug'));}}
location.href=url;});}
$('#footer_leftbar_model_join, #non_restricted_model_join').bongacamsPopup($('#bongacams_popups_content .model_join_popup_container'),restoreRemoteSubmit,false,focusFirstInput);$('#footer_leftbar_studio_join, #non_restricted_studio_join').bongacamsPopup($('#bongacams_popups_content .studio_join_popup_container'),restoreRemoteSubmit,false,focusFirstInput);$('a.submitTheForm').attr('onclick','return false;').click(function(){$(this).closest('form').submit();return false;});$('div#header_login').find('button').bind('click',function(){$(this).closest('form').append('<input type="hidden" name="redirect_url" value="'+location.href+'">');});$('[rel=login]').click(function(){$('#header_login_popup').show();$(document).unbind('.header_login_popup');setTimeout(function(){$(document).bind('click.header_login_popup',function(e){$('#header_login_popup').hide();});},1);return false;});$('#header_login_popup .close').click(function(){$('#header_login_popup').hide();});$('#header_login_popup').click(function(e){if(!$(e.target).is('a')){e.stopPropagation();}});if($('.security_log_additional_info').length>0){var $sl_data={};$sl_data.language=navigator.language;$sl_data.cookieEnabled=navigator.cookieEnabled;$sl_data.javaEnabled=navigator.javaEnabled();if(typeof swfobject!='undefined'){$sl_data.flashVersion=swfobject.hasFlashPlayerVersion('1')?swfobject.getFlashPlayerVersion().major+'.'+swfobject.getFlashPlayerVersion().minor+'.'+swfobject.getFlashPlayerVersion().release:'false';}
$sl_data.dateTime=new Date().toLocaleString();$('.security_log_additional_info').val(JSON.stringify($sl_data));}
if(!$.isTranslateSkin){var $popWrap=$('#popups_wrap');if($('.vip_popup').length){var vipInterval=60*60*2;if($popWrap.data('membership')&&$.inArray($popWrap.data('membership'),['platinum','unlimited'])!=-1){vipInterval=60*60*4;}
setInterval(function(){var $fancy=$('.fancybox-opened');if($fancy.length&&$fancy.find('.vip_popup').length){return;}
var $popups=$('.vip_popup');$.openMemberPopup($popups);},vipInterval*1000);}
if($('.gold_popup').length){setInterval(function(){var $fancy=$('.fancybox-opened');if($fancy.length&&($fancy.find('.gold_popup').length||$fancy.find('.vip_popup').length||$fancy.find('.march_promo_popup').length||$fancy.find('.vipzone_popup').length)){return;}
var $goldPopups=$('.gold_popup');var $otherPopups;var $gift500Popups=$('.march_promo_popup');var $vipZonePopups=$('.vipzone_popup');if(!$('.gifts_500_page').length){$otherPopups=$gift500Popups.add($vipZonePopups);}else{$otherPopups=$vipZonePopups;}
if($otherPopups.length){if(Math.floor(Math.random()*10000)%3==0){$.openMemberPopup($otherPopups);}else{$.openMemberPopup($goldPopups);}}else{$.openMemberPopup($goldPopups);}},1000*60*2);}
if($('.no_tokens_popup').length){var noTokensPopupTimer;function getNoTokensPopupInt(){var retVal=60*60;if($.secondsOnSiteNoTokens<6*60*60-30){retVal=6*60*60-$.secondsOnSiteNoTokens;}else if($.secondsOnSiteNoTokens<9*60*60-30){retVal=9*60*60-$.secondsOnSiteNoTokens;}
return retVal;}
function noTokensPopupTrigger(){noTokensPopupTimer=setTimeout(noTokensPopupTrigger,1000*getNoTokensPopupInt());var $fancybox=$('.fancybox-opened');if($fancybox.length&&$fancybox.find('.no_tokens_popup').length){return;}
$.openMemberPopup($('.no_tokens_popup'));}
noTokensPopupTimer=setTimeout(noTokensPopupTrigger,1000*getNoTokensPopupInt());}}
$.openMemberPopup=function($popups,isTrack,closeButton){var $fancy=$('.fancybox-opened');if($popups.length&&$fancy.length&&$fancy.find('.important_popup').length){return false;}
if($popups.is('.vipzone_popup')&&$('#chatContainer').length&&$('#chatContainer').is(':visible')&&$('#chatContainer').hasClass('vipZone')){return false;}
if(typeof isTrack=='undefined'){isTrack=true;}
if(typeof closeButton=='undefined'){closeButton=false;}
var $popup;if($popups.length>1){if(!$popups.not('.popup_viewed').length){$popups.filter('.popup_viewed').removeClass('popup_viewed');}
$popup=$popups.not('.popup_viewed').random().addClass('popup_viewed');}else{$popup=$popups;}
$.fancybox.open($popup,{scrolling:'no',padding:0,closeBtn:closeButton,closeClick:false,autoResize:false,fitToView:false,openSpeed:100,closeSpeed:100,helpers:{locked:false,overlay:{closeClick:false}},wrapCSS:'fancybox-bonga-wrap',afterShow:function(){if(isTrack){$.get($popup.data('track_url'));}
var $fancybox=$('.fancybox-opened');if($fancybox.find('.over_hidden').length){$fancybox.find('.fancybox-inner').css({overflow:'visible'});}
else if($fancybox.find('#vip_black_man_popup').length){$fancybox.find('.fancybox-inner').css({'overflow':'visible'});$fancybox.find('.fancybox-inner').addClass('bman_pop');}},afterClose:function(){$('.fancybox-inner').css({overflow:''});},keys:{close:[27]}});};if($('#warning_popup').length){if(!$.isTranslateSkin){setTimeout(function(){$.openWarningPopup();},500);}
$.openWarningPopup=function(){$.fancybox($('#warning_popup'),{padding:0,margin:0,closeBtn:false,closeClick:false,scrolling:'hidden',fitToView:false,autoHeight:false,helpers:{locked:false,overlay:{closeClick:false}},keys:{close:[27]}});};$(document).on('click','#warning_popup a.agree',function(){$.fancybox.close();return false;});}
if($('.warning_popup_red').length){setTimeout(function(){$.openFullScreenPopup($('#warning_popup_red'));},500);}
$(document).on('click','.warning18Plus',function(){$.get($(this).attr('href'),function(data){$.fancybox.close()});return false;});$(document).on('click','.yes_18_btn',function(){$.fancybox.close();$.openFullScreenPopup($('#warning_popup_girl'));return false;});$.openFullScreenPopup=function($popup){if($popup.length){$.fancybox($popup,{padding:0,margin:0,closeBtn:false,closeClick:false,scrolling:'hidden',fitToView:false,autoHeight:false,autoSize:false,width:"100%",height:"100%",helpers:{locked:false,overlay:{closeClick:false}},keys:{close:[27]},beforeShow:function(){if($popup.find('.warning_popup_red')){$('.warning_popup_red').css('padding-top',($('.warning_popup_red_content').outerHeight()/2));}
$('html').css('overflow','hidden');$('.fancybox-overlay').addClass('for-fullscreen-popup');},afterClose:function(){$('html').css('overflow','');$('.fancybox-overlay').removeClass('for-fullscreen-popup');}});}};var $footerAdContainer=$('.adfooter');if($footerAdContainer.length!=0&&($footerAdContainer.find('.skin_banner').length>0||$footerAdContainer.find('.bonga_banner').length>0)){var $bannersCount=parseInt($footerAdContainer.find('.skin_banner').find('img').length)+parseInt($footerAdContainer.find('.bonga_banner').length);function changeFooterBannerPositions()
{var $adBlockWidth=300;var $elCount=Math.min(3,$bannersCount);if($footerAdContainer.width()>=4*$adBlockWidth+3*15){$elCount=Math.min(4,$bannersCount);}
var $divs=$footerAdContainer.find('.bonga_banner:visible, .skin_banner img');var $padding=0;if($elCount!=1){$padding=Math.floor(($footerAdContainer.width()-$adBlockWidth*$elCount)/($elCount-1));}
$($divs[$elCount-1]).css('padding',0);for(var i=$elCount-2;i>=0;i--){$($divs[i]).css('padding-right',$padding+'px');}}
$(window).bind('resize',function(){changeFooterBannerPositions();});changeFooterBannerPositions();}
$('form.forget_password_remote').submittedToRemote(function($data,$textStatus){$('.forget_info').hide();$('.forget_password_remote').hide();$('div.request_sent').show();});$.showModelsCategoriesList=function(){$('#categories_list').slideDown(400,function(){$('#categories_list').removeClass('collapsed');$('#categories_list_toggle').removeClass('collapsed');});}
$.hideModelsCategoriesList=function(){$('#categories_list').slideUp(400,function(){$('#categories_list').addClass('collapsed');$('#categories_list_toggle').addClass('collapsed');});}
$('div#categories_list_toggle').click(function(){var list=$('div#categories_list');if(list.hasClass('collapsed')){$.showModelsCategoriesList();}else{$.hideModelsCategoriesList();}});$.addBottomBannerPositionsToRequest=function(p)
{p=p.split('');if($('#bottom_banners_container').width()>=4*305){p[7]=p[8]=p[9]=p[10]='1';}else{p[7]=p[8]=p[9]='1';}
p=p.join('');return p;}
$.ajaxLoadBanners=function(isWindowResize){var layout=$('body').attr('id');if(typeof layout=='undefined'||layout.indexOf('layout_')==-1||!$.ajaxLoadBannersUrl||$('.mls_models_vip').length){return;}
$('#bottom_banners_container').css({width:'100%'});var page='index';var wl=parseInt($('body').attr('wl'));if(isWindowResize){var maxPossiblePositions=Math.floor($('#bottom_banners_container').width()/305);if(maxPossiblePositions>4){maxPossiblePositions=4;}
if($('#bottom_banners_container').find('.b_pos:visible').length==maxPossiblePositions){return;}}
if($('.content_shop_category_menu, .top_members, .free_tokens_pages, .profile_header_container, .profile_header, .news_outer, .error404').length){var p='00000000000';if(wl){p=$.addBottomBannerPositionsToRequest(p);}
page='other';var scrn='large';var layout='layout_1';}else{if($('#mls_chatconsole').is(':visible')){page='chat';}
if(wl){var scrn='large';if((layout=='layout_2'||layout=='layout_1'||layout=='layout_9'||layout=='layout_10')&&scrn=='large'){if(page=='index'){var p='10001110000';}else if(page=='chat'){var p='01110000000';}}else if(page=='index'){var p='10001100000';}else if(page=='chat'){var p='01110000000';}
p=$.addBottomBannerPositionsToRequest(p);}else{var scrn='medium';if(page=='chat'){var p='01110000000';}else if(page=='index'){var p='10001100000';}}
var $cc=$('#chatContainer');if($('.right_banners').length==0){p=p.split('');p[1]=p[2]=p[3]=p[4]=p[5]='0';p=p.join('');}else if($cc.hasClass('vipZone')&&$cc.is(':visible')){p=p.split('');p[1]=p[2]='0';p=p.join('');}
if(isWindowResize||($cc.hasClass('vipZone')&&$cc.is(':visible'))){p=p.split('');p[0]=p[1]=p[2]=p[3]=p[4]=p[5]=p[6]='0';p=p.join('');}}
if(parseInt(p)==0){$('.b_pos').html('');$('.right_banners').hide();$('.mls_models_container').removeClass('screen_large screen_medium screen_small');var listing=$('#mls_container').data('listing');if(listing){listing.resizer.resize();}
return false;}
$.get($.ajaxLoadBannersUrl+'/'+parseInt(p,2)+'/'+scrn+'/'+$.liveTab+'/'+layout,{},function(data){try{scrn=data.scrn;$('td.content_container div.content').css('min-height','660px');if(isWindowResize){$('.b_pos:not(.banner_top_index, .banner_top_chat, .banner_index_right1, .banner_index_right2, .banner_index_right3, .banner_chat_right1, .banner_chat_right2)').html('');}else{$('.b_pos').html('');$('.banner_top_index').css({height:'auto',width:'auto'});$('.banner_top_chat').css({height:'auto',width:'auto'});}
var firstIterationRight=true;$.each(data,function(position,banner){banner='<div class="b_container">'+banner+'</div>';if((layout=='layout_1'||layout=='layout_9'||layout=='layout_10')&&(data.chat_right1||data.chat_right2||data.index_right1||data.index_right2||data.index_right3)){firstIterationRight==false;if(page=='chat'){var chatRightBanner=$('.chat_right_banner');chatRightBanner.removeClass('screen_large screen_medium screen_small');$('.wrapper_table .content_container .content').removeClass('right_banner_space_small right_banner_space_medium right_banner_space_large');if(data.chat_right1||data.chat_right2){chatRightBanner.addClass('screen_'+scrn).show();if(data.chat_right1&&data.chat_right2&&scrn!='large'){$('.wrapper_table .content_container .content').addClass('right_banner_space_'+scrn);}}
if(data.chat_right2){$('.mls_models_container').removeClass('screen_large screen_medium screen_small').addClass('screen_'+scrn);}else{$('.mls_models_container').removeClass('screen_'+scrn);}}else{if(data.chat_right1||data.chat_right2||data.index_right1||data.index_right2||data.index_right3){$('.mls_models_container').removeClass('screen_large screen_medium screen_small').addClass('screen_'+scrn);}}
$('#mls_chatconsole').removeClass('screen_large screen_medium screen_small');if(data.chat_right1||data.chat_right2){$('#mls_chatconsole').addClass('screen_'+scrn);};$('.right_banners').removeClass('screen_large screen_medium screen_small').addClass('screen_'+scrn);if(scrn!='large'&&data.chat_right1&&data.chat_right2){$('.mls_inner').css('min-height','1000px');}}
if($.inArray(position,['top_index','top_chat','bottom1','bottom2','bottom3','bottom4'])!=-1){if(position=='top_index'||position=='top_chat'){banner=$.adjustTopBannerIframe($(banner));}
if($('.zone_item.vip_zone.active').length){$('.banner_'+position).hide().append(banner);}else{$('.banner_'+position).append(banner).show().parents().show();}}else{$('.banner_'+position).append(banner).show().parents().show();}});if(!$(".right_banners .b_pos:not(:empty)").length){$('.right_banners').hide();$('.mls_models_container').removeClass('screen_'+scrn);}
$.adjustBottomBanners();$('.banner_top_index a img, .banner_top_chat a img').load(function(){$(this).parent('a').css({display:'block'});});if($('#mls_container').length){var listing=$('#mls_container').data('listing');if(listing){listing.resizer.resize();}}}catch(e){console.log(e);}},'json');}
$.ajaxLoadBanners();setTimeout(updateSaleCouponsCount,60*5*1000);function setEqualSupportHeight(columns,isOuter)
{var tallestcolumn=0;columns.each(function(){currentHeight=!isOuter?$(this).height():$(this).outerHeight(true);if(currentHeight>tallestcolumn){tallestcolumn=currentHeight;}});columns.height(tallestcolumn);}
if($(".contact_support").length&&$('.contact_support_tabs.support_page').is(':visible')){setEqualSupportHeight($(".contact_support .support_tab em.desc"));setEqualSupportHeight($(".contact_support .support_tab strong.maroon"));setEqualSupportHeight($(".contact_support_tabs.support_page, .contact_support .contact_support_info"),true);var schat=$(".contact_support .support_tab strong.maroon").height();var sem=$(".contact_support .support_tab em.desc").height();var sinfo=schat+sem+145;$(".contact_support .contact_support_info_content .contact_support_bill").css("top",+sinfo+"px");};var overIFrame='';$('.b_pos').on({mouseenter:function(){if($(this).attr('tracking_url')!=undefined){overIFrame=$(this).attr('tracking_url');}},mouseleave:function(){overIFrame='';}},'iframe');$(window).blur(function(){if(overIFrame!=''){$.get(overIFrame);}});if(!$.isTranslateSkin){var $promoAddressPopup=$('#promo_address_popup');if($promoAddressPopup.length&&$promoAddressPopup.find('.member_promo_address').length){$('.logout_link').click(function(){if(!$promoAddressPopup.hasClass('viewed')){$.openMemberPopup($promoAddressPopup,false,true);$promoAddressPopup.addClass('viewed');return false;}});$('.member_promo_address').submittedToRemote(function($element,data,textStatus,XMLHttpRequest){if(data.status='success'){$.fancybox.close();}});$('.cancel_prize_btn').click(function(){$.get($(this).attr('href'),{},function(data){});$.fancybox.close();return false;});}}
$('.panel_item .navbar_panel_header').click(function(){if($(this).find('.toolbar_control:visible').length){var $menu=$(this).next();var $icon=$(this).find('.toolbar_control');if($icon.hasClass('mini')){$menu.show();$icon.removeClass('mini');}else{$menu.hide();$icon.addClass('mini');}}});$(document).on('click','.turkey_trip .vote_button',function(){if(!$(this).data('real_membership')){$.showSignupPopup(true);return false;}else if('free'==$(this).data('real_membership')){$.openMemberPopup($('.gold_popup'));return false;}
var url=$(this).data('url');$('.tt_vote_success').hide();$('.tt_vote_success .m_whom').hide();if(url){$.ajax({url:url,dataType:'json',context:$(this),type:'post',success:function(data,textStatus,XMLHttpRequest){if(undefined!=data.status&&'success'==data.status){var $list=$(this).closest('.tt_vote_column');var $message=$('.tt_vote_success');if(undefined!=data.profile_link){$message.find('a').replaceWith(data.profile_link);}
$message.show();if(undefined!=data.other_type){$('.turkey_trip .m_'+data.other_type).show();}
if(undefined!=data.list){$list.find('.ttv_item').remove();$list.append(data.list);}}},error:function(request,textStatus,errorThrown){if(undefined!=window.console){console.log('[ '+textStatus+' ] '+errorThrown);}}});}});});$(document).on('click','.banner_track_link',function(){if($(this).attr('tracking_url')){$.get($(this).attr('tracking_url'));}
return true;});$.adjustBottomBanners=function()
{var minColumnWidth=305,$bottomBannersContainer=$('#bottom_banners_container'),containerWidth=$bottomBannersContainer.width()-2,$bottomBanners=$bottomBannersContainer.find('.b_pos');$bottomBanners.show().css({width:'auto'});var columns=$bottomBanners.filter(':visible');if(columns.length){while(containerWidth<columns.length*305){columns.eq(1).hide();columns=$bottomBanners.filter(':visible');}}
var newColumnWidth=containerWidth/columns.length;if(newColumnWidth<minColumnWidth){newColumnWidth=minColumnWidth;}
columns.css('width',newColumnWidth.toString()+"px");};$.waitForFinalEvent=(function(){var timers={};return function(callback,ms,uniqueId){if(!uniqueId){uniqueId="Don't call this twice without a uniqueId";}
if(timers[uniqueId]){clearTimeout(timers[uniqueId]);}
timers[uniqueId]=setTimeout(callback,ms);};})();$(window).resize(function(){$.waitForFinalEvent(function(){$.ajaxLoadBanners(true);$.adjustTopBannerIframe();$.adjustBottomBanners();$.adjustHeaderAndFooterWidth();var listing=$('#mls_container').data('listing');if(listing){listing.resizer.resize();}},500,"window_resize");});$.adjustTopBannerIframe=function($banner)
{if($('#mls_chatconsole').is(':visible')){var topBannerContainer=$('.banner_top_chat');}else{var topBannerContainer=$('.banner_top_index');}
if(!$banner){$banner=topBannerContainer.find('.b_container');$banner.hide();topBannerContainer.css({width:'auto',height:'auto'});}
if(!$banner.length){return;}
var scale=Math.ceil(topBannerContainer.width()/1640*100)/100;var w=1640*scale;var h=140*scale;topBannerContainer.css({width:w+'px',height:h+'px'});scale=1;$($banner).attr('style','width: 100%; transform: scale('+scale+'); -webkit-transform: scale('+scale+'); -moz-transform-scale('+scale+'); -ms-transform: scale('+scale+'); -o-transform: scale('+scale+');');$banner.show();return $($banner);};$.adjustHeaderAndFooterWidth=function()
{if($('.sfWebDebugActionCache').length){$('div.footer').css({'min-width':($('body').width()-2)+'px'});}
if($('.bongacams_promo_message').length){if($('.bongacams_promo_message:visible').length){$('#header, div.footer').css('cssText','min-width: 1480px !important');$('.confirm_email_box').css('cssText','min-width: 1460px !important');}else{$('#header, div.footer').css('cssText','');$('.confirm_email_box').css('cssText','');}}};$.fn.updateCouponsQuantity=function(p,count){if(!$(this).hasClass('package_'+p)){return;}
if(count<0)count=0;$(this.html(count));if(count<=0){var $saleItem=$('#sale_item');if($saleItem.length){$saleItem.addClass('closed');$saleItem.removeClass('active');$('#deal_is_on').hide();$('#deal_is_sold_out').show();var $purchaseButton=$('#package_purchase_button');if($purchaseButton.length){$purchaseButton.removeAttr('href');$purchaseButton.removeAttr('rel');$purchaseButton.click(function(e){return false;});}}}};function updateSaleCouponsCount(){var $couponsCountContainer=$('.coupon_count');if($couponsCountContainer.length&&$couponsCountContainer.attr('refresh_url')){$.getJSON($couponsCountContainer.attr('refresh_url'),function(data){$('.coupon_count').updateCouponsQuantity(data.package_id,data.count);setTimeout(updateSaleCouponsCount,60*5*1000);});}}
jQuery.openProfileWindow=function(url){var _w=screen.width-100;var _h=screen.height-160;if(_w>1357){_w=1357;}
$.open.newWindow(url,{windowName:url,width:_w,height:_h,left:0,top:0},{});};jQuery.fn.random=function(){var randomIndex=Math.floor(Math.random()*this.length);return jQuery(this[randomIndex]);};$(document).on('click','.contest_tab_item a',function(){var $tab=$(this).parent(0);if($tab.hasClass('loaded')){$('.contest_tab_item').removeClass('selected');$tab.addClass('selected');$('.contest_content').hide();$('#'+$tab.data('for_tab')).show();}else{$.ajax({url:$(this).data('ajax_url'),context:$(this),type:'get',success:function(data,textStatus,XMLHttpRequest){$('.contest_tab_item').removeClass('selected');$tab.addClass('selected');$tab.addClass('loaded');$('.contest_content').hide();$('#'+$tab.data('for_tab')).html(data).show();},error:function(request,textStatus,errorThrown){if(undefined!=window.console){console.log('[ '+textStatus+' ] '+errorThrown);}}});}
return false;});$.removeURLParameter=function(parameter){if(typeof parameter=='undefined')return;var url=window.location.href;var newUrl;var urlParts=url.split('?');if(urlParts.length>=2){var prefix=encodeURIComponent(parameter)+'=';var pars=urlParts[1].split(/[&;]/g);$.each(pars,function(key,val){if(val.lastIndexOf(prefix,0)!==-1){pars.splice(key,1);}});if(pars.length){newUrl=urlParts[0]+'?'+pars.join('&');}else{newUrl=urlParts[0];}
if(url==newUrl)return;if(undefined!=History&&History.enabled){History.replaceState({},document.title,newUrl);}else{window.location.href=newUrl;}}};
$.fn.checkPassword=function(){var $cont=$(this).closest('form');var $input=$(this);var url=$input.attr('validate_password_url');url+='?username='+$cont.find('input[id$=_username]').val()+'&value='+$input.val();$.getJSON(url,function(data){if(data.status=='success'){$input.addClass('valid');$input.closest('.form_row').find('.form_errors_in_row').html('');$input.parent().find('div.obelix').removeClass('notvalid').addClass('valid');$input.parent().removeClass('notvalid').addClass('valid');var $retypePassword=$cont.find('input[id$=_retype_password]');if($retypePassword.length&&$retypePassword.val()!=''){$retypePassword.checkRetypePassword();}}else if(data.status!='success'){$input.removeClass('valid');if(!$input.parents('.step_green').length&&!$input.parents('.step_yellow').length){$input.closest('.form_row').find('.form_errors_in_row').html('<div class="form_error_list"><div class="form_error">'+data.message+'</div></div>');}
$input.parent().find('div.obelix').removeClass('valid').addClass('notvalid').attr('title',data.message);$input.parent().removeClass('valid').addClass('notvalid');}});};$.fn.checkRetypePassword=function(){var $cont=$(this).closest('form');var $retypePassword=$cont.find('input[id$=_retype_password]');var $password=$cont.find('input[id$=_password]:not(input[id$=_retype_password])');var $obelixPassword=$password.parent().find('div.obelix');var $obelixRetypePassword=$retypePassword.parent().find('div.obelix');if($retypePassword.val()==''){$obelixRetypePassword.removeClass('valid').addClass('notvalid');$retypePassword.closest('.form_row').find('.form_errors_in_row').html('<div class="form_error_list"><div class="form_error">'+__('Required.')+'</div></div>');}else if($retypePassword.val()!=$password.val()){$retypePassword.closest('.form_row').find('.form_errors_in_row').html('<div class="form_error_list"><div class="form_error">'+__('Passwords are not the same.')+'</div></div>');$obelixRetypePassword.removeClass('valid').addClass('notvalid');}else if(!$password.hasClass('valid')){$obelixRetypePassword.removeClass('valid').addClass('notvalid');}else{$obelixPassword.removeClass('notvalid').addClass('valid');$obelixRetypePassword.removeClass('notvalid').addClass('valid');}};$.fn.checkvalidateurl=function(onerror){var $popup=$('#member_join_popup');var $input=$(this);var url=$input.attr('validate_url');url+=url.indexOf('?')==-1?'?':'&';$.getJSON(url+'value='+$input.val(),function(data){if(data.status=='success'){$input.closest('.form_row').find('.form_errors_in_row').html('');if($input.val()!=''){$input.parent().find('div.obelix').removeClass('notvalid').addClass('valid');$input.parent().removeClass('notvalid').addClass('valid');}else{$input.parent().find('div.obelix').removeClass('notvalid').removeClass('valid');$input.parent().removeClass('notvalid').removeClass('valid');}
if($popup.hasClass('gold_step_girl')||$popup.hasClass('gold_step_yellow')){$('.gold_step_girl_error').hide();}}else if(data.status!='success'){if(!$popup.hasClass('step_green')&&!$popup.hasClass('step_yellow')&&!$popup.hasClass('gold_step_girl')&&!$popup.hasClass('gold_step_yellow')){$input.closest('.form_row').find('.form_errors_in_row').html('<div class="form_error_list"><div class="form_error">'+data.message+'</div></div>');}
$input.parent().find('div.obelix').removeClass('valid').addClass('notvalid').attr('title',data.message);$input.parent().removeClass('valid').addClass('notvalid');if($popup.hasClass('gold_step_girl')||$popup.hasClass('gold_step_yellow')){$('.gold_step_girl_error').show();}
if(onerror){onerror(data.message);}}});};
/*
 * fancyBox - jQuery Plugin
 * version: 2.1.5 (Fri, 14 Jun 2013)
 * @requires jQuery v1.6 or later
 *
 * Examples at http://fancyapps.com/fancybox/
 * License: www.fancyapps.com/fancybox/#license
 *
 * Copyright 2012 Janis Skarnelis - janis@fancyapps.com
 *
 */
(function(window,document,$,undefined){"use strict";var H=$("html"),W=$(window),D=$(document),F=$.fancybox=function(){F.open.apply(this,arguments);},IE=navigator.userAgent.match(/msie/i),didUpdate=null,isTouch=document.createTouch!==undefined,isQuery=function(obj){return obj&&obj.hasOwnProperty&&obj instanceof $;},isString=function(str){return str&&$.type(str)==="string";},isPercentage=function(str){return isString(str)&&str.indexOf('%')>0;},isScrollable=function(el){return(el&&!(el.style.overflow&&el.style.overflow==='hidden')&&((el.clientWidth&&el.scrollWidth>el.clientWidth)||(el.clientHeight&&el.scrollHeight>el.clientHeight)));},getScalar=function(orig,dim){var value=parseInt(orig,10)||0;if(dim&&isPercentage(orig)){value=F.getViewport()[dim]/100*value;}
return Math.ceil(value);},getValue=function(value,dim){return getScalar(value,dim)+'px';};$.extend(F,{version:'2.1.5',defaults:{padding:15,margin:20,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,pixelRatio:1,autoSize:true,autoHeight:false,autoWidth:false,autoResize:true,autoCenter:!isTouch,fitToView:true,aspectRatio:false,topRatio:0.5,leftRatio:0.5,svAutoMargin:false,scrolling:'auto',wrapCSS:'',arrows:true,closeBtn:true,closeClick:false,nextClick:false,mouseWheel:true,autoPlay:false,playSpeed:3000,preload:3,modal:false,loop:true,ajax:{dataType:'html',headers:{'X-fancyBox':true}},iframe:{scrolling:'auto',preload:true},swf:{wmode:'transparent',allowfullscreen:'true',allowscriptaccess:'always'},keys:{next:{13:'left',34:'up',39:'left',40:'up'},prev:{8:'right',33:'down',37:'right',38:'down'},close:[27],play:[32],toggle:[70]},direction:{next:'left',prev:'right'},scrollOutside:true,index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen'+(IE?' allowtransparency="true"':'')+'></iframe>',error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a>',next:'<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'},openEffect:'fade',openSpeed:250,openEasing:'swing',openOpacity:true,openMethod:'zoomIn',closeEffect:'fade',closeSpeed:250,closeEasing:'swing',closeOpacity:true,closeMethod:'zoomOut',nextEffect:'elastic',nextSpeed:250,nextEasing:'swing',nextMethod:'changeIn',prevEffect:'elastic',prevSpeed:250,prevEasing:'swing',prevMethod:'changeOut',helpers:{overlay:true,title:true},onCancel:$.noop,beforeLoad:$.noop,afterLoad:$.noop,beforeShow:$.noop,afterShow:$.noop,beforeChange:$.noop,beforeClose:$.noop,afterClose:$.noop},group:{},opts:{},previous:null,coming:null,current:null,isActive:false,isOpen:false,isOpened:false,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:false},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(group,opts){if(!group){return;}
if(!$.isPlainObject(opts)){opts={};}
if(false===F.close(true)){return;}
if(!$.isArray(group)){group=isQuery(group)?$(group).get():[group];}
$.each(group,function(i,element){var obj={},href,title,content,type,rez,hrefParts,selector;if($.type(element)==="object"){if(element.nodeType){element=$(element);}
if(isQuery(element)){obj={href:element.data('fancybox-href')||element.attr('href'),title:element.data('fancybox-title')||element.attr('title'),isDom:true,element:element};if($.metadata){$.extend(true,obj,element.metadata());}}else{obj=element;}}
href=opts.href||obj.href||(isString(element)?element:null);title=opts.title!==undefined?opts.title:obj.title||'';content=opts.content||obj.content;type=content?'html':(opts.type||obj.type);if(!type&&obj.isDom){type=element.data('fancybox-type');if(!type){rez=element.prop('class').match(/fancybox\.(\w+)/);type=rez?rez[1]:null;}}
if(isString(href)){if(!type){if(F.isImage(href)){type='image';}else if(F.isSWF(href)){type='swf';}else if(href.charAt(0)==='#'){type='inline';}else if(isString(element)){type='html';content=element;}}
if(type==='ajax'){hrefParts=href.split(/\s+/,2);href=hrefParts.shift();selector=hrefParts.shift();}}
if(!content){if(type==='inline'){if(href){content=$(isString(href)?href.replace(/.*(?=#[^\s]+$)/,''):href);}else if(obj.isDom){content=element;}}else if(type==='html'){content=href;}else if(!type&&!href&&obj.isDom){type='inline';content=element;}}
$.extend(obj,{href:href,type:type,content:content,title:title,selector:selector});group[i]=obj;});F.opts=$.extend(true,{},F.defaults,opts);if(opts.keys!==undefined){F.opts.keys=opts.keys?$.extend({},F.defaults.keys,opts.keys):false;}
F.group=group;return F._start(F.opts.index);},cancel:function(){var coming=F.coming;if(!coming||false===F.trigger('onCancel')){return;}
F.hideLoading();if(F.ajaxLoad){F.ajaxLoad.abort();}
F.ajaxLoad=null;if(F.imgPreload){F.imgPreload.onload=F.imgPreload.onerror=null;}
if(coming.wrap){coming.wrap.stop(true,true).trigger('onReset').remove();}
F.coming=null;if(!F.current){F._afterZoomOut(coming);}},close:function(event){F.cancel();if(false===F.trigger('beforeClose')){return;}
F.unbindEvents();if(!F.isActive){return;}
if(!F.isOpen||event===true){$('.fancybox-wrap').stop(true).trigger('onReset').remove();F._afterZoomOut();}else{F.isOpen=F.isOpened=false;F.isClosing=true;$('.fancybox-item, .fancybox-nav').remove();F.wrap.stop(true,true).removeClass('fancybox-opened');F.transitions[F.current.closeMethod]();}},play:function(action){var clear=function(){clearTimeout(F.player.timer);},set=function(){clear();if(F.current&&F.player.isActive){F.player.timer=setTimeout(F.next,F.current.playSpeed);}},stop=function(){clear();D.unbind('.player');F.player.isActive=false;F.trigger('onPlayEnd');},start=function(){if(F.current&&(F.current.loop||F.current.index<F.group.length-1)){F.player.isActive=true;D.bind({'onCancel.player beforeClose.player':stop,'onUpdate.player':set,'beforeLoad.player':clear});set();F.trigger('onPlayStart');}};if(action===true||(!F.player.isActive&&action!==false)){start();}else{stop();}},next:function(direction){var current=F.current;if(current){if(!isString(direction)){direction=current.direction.next;}
F.jumpto(current.index+1,direction,'next');}},prev:function(direction){var current=F.current;if(current){if(!isString(direction)){direction=current.direction.prev;}
F.jumpto(current.index-1,direction,'prev');}},jumpto:function(index,direction,router){var current=F.current;if(!current){return;}
index=getScalar(index);F.direction=direction||current.direction[(index>=current.index?'next':'prev')];F.router=router||'jumpto';if(current.loop){if(index<0){index=current.group.length+(index%current.group.length);}
index=index%current.group.length;}
if(current.group[index]!==undefined){F.cancel();F._start(index);}},reposition:function(e,onlyAbsolute){var current=F.current,wrap=current?current.wrap:null,pos;if(wrap){pos=F._getPosition(onlyAbsolute);if(e&&e.type==='scroll'){delete pos.position;wrap.stop(true,true).animate(pos,200);}else{wrap.css(pos);current.pos=$.extend({},current.dim,pos);}}},update:function(e){var type=(e&&e.type),anyway=!type||type==='orientationchange';if(anyway){clearTimeout(didUpdate);didUpdate=null;}
if(!F.isOpen||didUpdate){return;}
didUpdate=setTimeout(function(){var current=F.current;if(!current||F.isClosing){return;}
F.wrap.removeClass('fancybox-tmp');if(anyway||type==='load'||(type==='resize'&&current.autoResize)){F._setDimension();}
if(!(type==='scroll'&&current.canShrink)){F.reposition(e);}
F.trigger('onUpdate');didUpdate=null;},(anyway&&!isTouch?0:300));},toggle:function(action){if(F.isOpen){F.current.fitToView=$.type(action)==="boolean"?action:!F.current.fitToView;if(isTouch){F.wrap.removeAttr('style').addClass('fancybox-tmp');F.trigger('onUpdate');}
F.update();}},hideLoading:function(){D.unbind('.loading');$('#fancybox-loading').remove();},showLoading:function(){var el,viewport;F.hideLoading();el=$('<div id="fancybox-loading"><div></div></div>').click(F.cancel).appendTo('body');D.bind('keydown.loading',function(e){if((e.which||e.keyCode)===27){e.preventDefault();F.cancel();}});if(!F.defaults.fixed){viewport=F.getViewport();el.css({position:'absolute',top:(viewport.h*0.5)+viewport.y,left:(viewport.w*0.5)+viewport.x});}},getViewport:function(){var locked=(F.current&&F.current.locked)||false,rez={x:W.scrollLeft(),y:W.scrollTop()};if(locked){rez.w=locked[0].clientWidth;rez.h=locked[0].clientHeight;}else{rez.w=isTouch&&window.innerWidth?window.innerWidth:W.width();rez.h=isTouch&&window.innerHeight?window.innerHeight:W.height();}
return rez;},unbindEvents:function(){if(F.wrap&&isQuery(F.wrap)){F.wrap.unbind('.fb');}
D.unbind('.fb');W.unbind('.fb');},bindEvents:function(){var current=F.current,keys;if(!current){return;}
W.bind('orientationchange.fb'+(isTouch?'':' resize.fb')+(current.autoCenter&&!current.locked?' scroll.fb':''),F.update);keys=current.keys;if(keys){D.bind('keydown.fb',function(e){var code=e.which||e.keyCode,target=e.target||e.srcElement;if(code===27&&F.coming){return false;}
if(!e.ctrlKey&&!e.altKey&&!e.shiftKey&&!e.metaKey&&!(target&&(target.type||$(target).is('[contenteditable]')))){$.each(keys,function(i,val){if(current.group.length>1&&val[code]!==undefined){F[i](val[code]);e.preventDefault();return false;}
if($.inArray(code,val)>-1){F[i]();e.preventDefault();return false;}});}});}
if($.fn.mousewheel&&current.mouseWheel){F.wrap.bind('mousewheel.fb',function(e,delta,deltaX,deltaY){var target=e.target||null,parent=$(target),canScroll=false;while(parent.length){if(canScroll||parent.is('.fancybox-skin')||parent.is('.fancybox-wrap')){break;}
canScroll=isScrollable(parent[0]);parent=$(parent).parent();}
if(delta!==0&&!canScroll){if(F.group.length>1&&!current.canShrink){if(deltaY>0||deltaX>0){F.prev(deltaY>0?'down':'left');}else if(deltaY<0||deltaX<0){F.next(deltaY<0?'up':'right');}
e.preventDefault();}}});}},trigger:function(event,o){var ret,obj=o||F.coming||F.current;if(!obj){return;}
if($.isFunction(obj[event])){ret=obj[event].apply(obj,Array.prototype.slice.call(arguments,1));}
if(ret===false){return false;}
if(obj.helpers){$.each(obj.helpers,function(helper,opts){if(opts&&F.helpers[helper]&&$.isFunction(F.helpers[helper][event])){F.helpers[helper][event]($.extend(true,{},F.helpers[helper].defaults,opts),obj);}});}
D.trigger(event);},isImage:function(str){return isString(str)&&str.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg)((\?|#).*)?$)/i);},isSWF:function(str){return isString(str)&&str.match(/\.(swf)((\?|#).*)?$/i);},_start:function(index){var coming={},obj,href,type,margin,padding;index=getScalar(index);obj=F.group[index]||null;if(!obj){return false;}
coming=$.extend(true,{},F.opts,obj);margin=coming.margin;padding=coming.padding;if($.type(margin)==='number'){coming.margin=[margin,margin,margin,margin];}
if($.type(padding)==='number'){coming.padding=[padding,padding,padding,padding];}
if(coming.modal){$.extend(true,coming,{closeBtn:false,closeClick:false,nextClick:false,arrows:false,mouseWheel:false,keys:null,helpers:{overlay:{closeClick:false}}});}
if(coming.autoSize){coming.autoWidth=coming.autoHeight=true;}
if(coming.width==='auto'){coming.autoWidth=true;}
if(coming.height==='auto'){coming.autoHeight=true;}
coming.group=F.group;coming.index=index;F.coming=coming;if(false===F.trigger('beforeLoad')){F.coming=null;return;}
type=coming.type;href=coming.href;if(!type){F.coming=null;if(F.current&&F.router&&F.router!=='jumpto'){F.current.index=index;return F[F.router](F.direction);}
return false;}
F.isActive=true;if(type==='image'||type==='swf'){coming.autoHeight=coming.autoWidth=false;coming.scrolling='visible';}
if(type==='image'){coming.aspectRatio=true;}
if(type==='iframe'&&isTouch){coming.scrolling='scroll';}
coming.wrap=$(coming.tpl.wrap).addClass('fancybox-'+(isTouch?'mobile':'desktop')+' fancybox-type-'+type+' fancybox-tmp '+coming.wrapCSS).appendTo(coming.parent||'body');$.extend(coming,{skin:$('.fancybox-skin',coming.wrap),outer:$('.fancybox-outer',coming.wrap),inner:$('.fancybox-inner',coming.wrap)});$.each(["Top","Right","Bottom","Left"],function(i,v){coming.skin.css('padding'+v,getValue(coming.padding[i]));});F.trigger('onReady');if(type==='inline'||type==='html'){if(!coming.content||!coming.content.length){return F._error('content');}}else if(!href){return F._error('href');}
if(type==='image'){F._loadImage();}else if(type==='ajax'){F._loadAjax();}else if(type==='iframe'){F._loadIframe();}else{F._afterLoad();}},_error:function(type){$.extend(F.coming,{type:'html',autoWidth:true,autoHeight:true,minWidth:0,minHeight:0,scrolling:'no',hasError:type,content:F.coming.tpl.error});F._afterLoad();},_loadImage:function(){var img=F.imgPreload=new Image();img.onload=function(){this.onload=this.onerror=null;F.coming.width=this.width/F.opts.pixelRatio;F.coming.height=this.height/F.opts.pixelRatio;F._afterLoad();};img.onerror=function(){this.onload=this.onerror=null;F._error('image');};img.src=F.coming.href;if(img.complete!==true){F.showLoading();}},_loadAjax:function(){var coming=F.coming;F.showLoading();F.ajaxLoad=$.ajax($.extend({},coming.ajax,{url:coming.href,error:function(jqXHR,textStatus){if(F.coming&&textStatus!=='abort'){F._error('ajax',jqXHR);}else{F.hideLoading();}},success:function(data,textStatus){if(textStatus==='success'){coming.content=data;F._afterLoad();}}}));},_loadIframe:function(){var coming=F.coming,iframe=$(coming.tpl.iframe.replace(/\{rnd\}/g,new Date().getTime())).attr('scrolling',isTouch?'auto':coming.iframe.scrolling).attr('src',coming.href);$(coming.wrap).bind('onReset',function(){try{$(this).find('iframe').hide().attr('src','//about:blank').end().empty();}catch(e){}});if(coming.iframe.preload){F.showLoading();iframe.one('load',function(){$(this).data('ready',1);if(!isTouch){$(this).bind('load.fb',F.update);}
$(this).parents('.fancybox-wrap').width('100%').removeClass('fancybox-tmp').show();F._afterLoad();});}
coming.content=iframe.appendTo(coming.inner);if(!coming.iframe.preload){F._afterLoad();}},_preloadImages:function(){var group=F.group,current=F.current,len=group.length,cnt=current.preload?Math.min(current.preload,len-1):0,item,i;for(i=1;i<=cnt;i+=1){item=group[(current.index+i)%len];if(item.type==='image'&&item.href){new Image().src=item.href;}}},_afterLoad:function(){var coming=F.coming,previous=F.current,placeholder='fancybox-placeholder',current,content,type,scrolling,href,embed;F.hideLoading();if(!coming||F.isActive===false){return;}
if(false===F.trigger('afterLoad',coming,previous)){coming.wrap.stop(true).trigger('onReset').remove();F.coming=null;return;}
if(previous){F.trigger('beforeChange',previous);previous.wrap.stop(true).removeClass('fancybox-opened').find('.fancybox-item, .fancybox-nav').remove();}
F.unbindEvents();current=coming;content=coming.content;type=coming.type;scrolling=coming.scrolling;$.extend(F,{wrap:current.wrap,skin:current.skin,outer:current.outer,inner:current.inner,current:current,previous:previous});href=current.href;switch(type){case'inline':case'ajax':case'html':if(current.selector){content=$('<div>').html(content).find(current.selector);}else if(isQuery(content)){if(!content.data(placeholder)){content.data(placeholder,$('<div class="'+placeholder+'"></div>').insertAfter(content).hide());}
content=content.show().detach();current.wrap.bind('onReset',function(){if($(this).find(content).length){content.hide().replaceAll(content.data(placeholder)).data(placeholder,false);}});}
break;case'image':content=current.tpl.image.replace('{href}',href);break;case'swf':content='<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+href+'"></param>';embed='';$.each(current.swf,function(name,val){content+='<param name="'+name+'" value="'+val+'"></param>';embed+=' '+name+'="'+val+'"';});content+='<embed src="'+href+'" type="application/x-shockwave-flash" width="100%" height="100%"'+embed+'></embed></object>';break;}
if(!(isQuery(content)&&content.parent().is(current.inner))){current.inner.append(content);}
F.trigger('beforeShow');current.inner.css('overflow',scrolling==='yes'?'scroll':(scrolling==='no'?'hidden':scrolling));F._setDimension();F.reposition();F.isOpen=false;F.coming=null;F.bindEvents();if(!F.isOpened){$('.fancybox-wrap').not(current.wrap).stop(true).trigger('onReset').remove();}else if(previous.prevMethod){F.transitions[previous.prevMethod]();}
F.transitions[F.isOpened?current.nextMethod:current.openMethod]();F._preloadImages();},_setDimension:function(){var viewport=F.getViewport(),steps=0,canShrink=false,canExpand=false,wrap=F.wrap,skin=F.skin,inner=F.inner,current=F.current,width=current.width,height=current.height,minWidth=current.minWidth,minHeight=current.minHeight,maxWidth=current.maxWidth,maxHeight=current.maxHeight,scrolling=current.scrolling,scrollOut=current.scrollOutside?current.scrollbarWidth:0,margin=current.margin,wMargin=getScalar(margin[1]+margin[3]),hMargin=getScalar(margin[0]+margin[2]),wPadding,hPadding,wSpace,hSpace,origWidth,origHeight,origMaxWidth,origMaxHeight,ratio,width_,height_,maxWidth_,maxHeight_,iframe,body;wrap.add(skin).add(inner).width('auto').height('auto').removeClass('fancybox-tmp');wPadding=getScalar(skin.outerWidth(true)-skin.width());hPadding=getScalar(skin.outerHeight(true)-skin.height());wSpace=wMargin+wPadding;hSpace=hMargin+hPadding;origWidth=isPercentage(width)?(viewport.w-wSpace)*getScalar(width)/100:width;origHeight=isPercentage(height)?(viewport.h-hSpace)*getScalar(height)/100:height;if(current.type==='iframe'){iframe=current.content;if(current.autoHeight&&iframe.data('ready')===1){try{if(iframe[0].contentWindow.document.location){inner.width(origWidth).height(9999);body=iframe.contents().find('body');if(scrollOut){body.css('overflow-x','hidden');}
origHeight=body.outerHeight(true);}}catch(e){}}}else if(current.autoWidth||current.autoHeight){inner.addClass('fancybox-tmp');if(!current.autoWidth){inner.width(origWidth);}
if(!current.autoHeight){inner.height(origHeight);}
if(current.autoWidth){origWidth=inner.width();}
if(current.autoHeight){origHeight=inner.height();}
inner.removeClass('fancybox-tmp');}
width=getScalar(origWidth);height=getScalar(origHeight);ratio=origWidth/origHeight;minWidth=getScalar(isPercentage(minWidth)?getScalar(minWidth,'w')-wSpace:minWidth);maxWidth=getScalar(isPercentage(maxWidth)?getScalar(maxWidth,'w')-wSpace:maxWidth);minHeight=getScalar(isPercentage(minHeight)?getScalar(minHeight,'h')-hSpace:minHeight);maxHeight=getScalar(isPercentage(maxHeight)?getScalar(maxHeight,'h')-hSpace:maxHeight);origMaxWidth=maxWidth;origMaxHeight=maxHeight;if(current.fitToView){maxWidth=Math.min(viewport.w-wSpace,maxWidth);maxHeight=Math.min(viewport.h-hSpace,maxHeight);}
maxWidth_=viewport.w-wMargin;maxHeight_=viewport.h-hMargin;if(current.aspectRatio){if(width>maxWidth){width=maxWidth;height=getScalar(width/ratio);}
if(height>maxHeight){height=maxHeight;width=getScalar(height*ratio);}
if(width<minWidth){width=minWidth;height=getScalar(width/ratio);}
if(height<minHeight){height=minHeight;width=getScalar(height*ratio);}}else{width=Math.max(minWidth,Math.min(width,maxWidth));if(current.autoHeight&&current.type!=='iframe'){inner.width(width);height=inner.height();}
height=Math.max(minHeight,Math.min(height,maxHeight));}
if(current.fitToView){inner.width(width).height(height);wrap.width(width+wPadding);width_=wrap.width();height_=wrap.height();if(current.aspectRatio){while((width_>maxWidth_||height_>maxHeight_)&&width>minWidth&&height>minHeight){if(steps++>19){break;}
height=Math.max(minHeight,Math.min(maxHeight,height-10));width=getScalar(height*ratio);if(width<minWidth){width=minWidth;height=getScalar(width/ratio);}
if(width>maxWidth){width=maxWidth;height=getScalar(width/ratio);}
inner.width(width).height(height);wrap.width(width+wPadding);width_=wrap.width();height_=wrap.height();}}else{width=Math.max(minWidth,Math.min(width,width-(width_-maxWidth_)));height=Math.max(minHeight,Math.min(height,height-(height_-maxHeight_)));}}
if(scrollOut&&scrolling==='auto'&&height<origHeight&&(width+wPadding+scrollOut)<maxWidth_){width+=scrollOut;}
inner.width(width).height(height);wrap.width(width+wPadding);width_=wrap.width();height_=wrap.height();canShrink=(width_>maxWidth_||height_>maxHeight_)&&width>minWidth&&height>minHeight;canExpand=current.aspectRatio?(width<origMaxWidth&&height<origMaxHeight&&width<origWidth&&height<origHeight):((width<origMaxWidth||height<origMaxHeight)&&(width<origWidth||height<origHeight));$.extend(current,{dim:{width:getValue(width_),height:getValue(height_)},origWidth:origWidth,origHeight:origHeight,canShrink:canShrink,canExpand:canExpand,wPadding:wPadding,hPadding:hPadding,wrapSpace:height_-skin.outerHeight(true),skinSpace:skin.height()-height});if(!iframe&&current.autoHeight&&height>minHeight&&height<maxHeight&&!canExpand){inner.height('auto');}},_getPosition:function(onlyAbsolute){var current=F.current,viewport=F.getViewport(),margin=current.margin,width=F.wrap.width()+margin[1]+margin[3],height=F.wrap.height()+margin[0]+margin[2],rez={position:'absolute',top:margin[0],left:margin[3]};if(current.autoCenter&&current.fixed&&!onlyAbsolute&&height<=viewport.h&&width<=viewport.w){rez.position='fixed';}else if(!current.locked){rez.top+=viewport.y;rez.left+=viewport.x;}
rez.top=getValue(Math.max(rez.top,rez.top+((viewport.h-height)*current.topRatio)));rez.left=getValue(Math.max(rez.left,rez.left+((viewport.w-width)*current.leftRatio)));if(current.svAutoMargin){if($(window).width()<width&&$(window).width()>F.wrap.width()){rez.left=getValue(($(window).width()-F.wrap.width())/2);}else if($(window).width()<F.wrap.width()){rez.left=getValue(0);}
if($(window).height()<height&&$(window).height()>F.wrap.height()){rez.top=getValue(($(window).height()-F.wrap.height())/2);}else if($(window).height()<F.wrap.height()){if(current.closeBtn){rez.top=getValue(20);}else{rez.top=getValue(5);}}}
return rez;},_afterZoomIn:function(){var current=F.current;if(!current){return;}
F.isOpen=F.isOpened=true;F.wrap.css('overflow','visible').addClass('fancybox-opened');F.update();if(current.closeClick||(current.nextClick&&F.group.length>1)){F.inner.css('cursor','pointer').bind('click.fb',function(e){if(!$(e.target).is('a')&&!$(e.target).parent().is('a')){e.preventDefault();F[current.closeClick?'close':'next']();}});}
if(current.closeBtn){$(current.tpl.closeBtn).appendTo(F.skin).bind('click.fb',function(e){e.preventDefault();F.close();});}
if(current.arrows&&F.group.length>1){if(current.loop||current.index>0){$(current.tpl.prev).appendTo(F.outer).bind('click.fb',F.prev);}
if(current.loop||current.index<F.group.length-1){$(current.tpl.next).appendTo(F.outer).bind('click.fb',F.next);}}
F.trigger('afterShow');if(!current.loop&&current.index===current.group.length-1){F.play(false);}else if(F.opts.autoPlay&&!F.player.isActive){F.opts.autoPlay=false;F.play();}},_afterZoomOut:function(obj){obj=obj||F.current;$('.fancybox-wrap').trigger('onReset').remove();$.extend(F,{group:{},opts:{},router:false,current:null,isActive:false,isOpened:false,isOpen:false,isClosing:false,wrap:null,skin:null,outer:null,inner:null});F.trigger('afterClose',obj);}});F.transitions={getOrigPosition:function(){var current=F.current,element=current.element,orig=current.orig,pos={},width=50,height=50,hPadding=current.hPadding,wPadding=current.wPadding,viewport=F.getViewport();if(!orig&&current.isDom&&element.is(':visible')){orig=element.find('img:first');if(!orig.length){orig=element;}}
if(isQuery(orig)){pos=orig.offset();if(orig.is('img')){width=orig.outerWidth();height=orig.outerHeight();}}else{pos.top=viewport.y+(viewport.h-height)*current.topRatio;pos.left=viewport.x+(viewport.w-width)*current.leftRatio;}
if(F.wrap.css('position')==='fixed'||current.locked){pos.top-=viewport.y;pos.left-=viewport.x;}
pos={top:getValue(pos.top-hPadding*current.topRatio),left:getValue(pos.left-wPadding*current.leftRatio),width:getValue(width+wPadding),height:getValue(height+hPadding)};return pos;},step:function(now,fx){var ratio,padding,value,prop=fx.prop,current=F.current,wrapSpace=current.wrapSpace,skinSpace=current.skinSpace;if(prop==='width'||prop==='height'){ratio=fx.end===fx.start?1:(now-fx.start)/(fx.end-fx.start);if(F.isClosing){ratio=1-ratio;}
padding=prop==='width'?current.wPadding:current.hPadding;value=now-padding;F.skin[prop](getScalar(prop==='width'?value:value-(wrapSpace*ratio)));F.inner[prop](getScalar(prop==='width'?value:value-(wrapSpace*ratio)-(skinSpace*ratio)));}},zoomIn:function(){var current=F.current,startPos=current.pos,effect=current.openEffect,elastic=effect==='elastic',endPos=$.extend({opacity:1},startPos);delete endPos.position;if(elastic){startPos=this.getOrigPosition();if(current.openOpacity){startPos.opacity=0.1;}}else if(effect==='fade'){startPos.opacity=0.1;}
F.wrap.css(startPos).animate(endPos,{duration:effect==='none'?0:current.openSpeed,easing:current.openEasing,step:elastic?this.step:null,complete:F._afterZoomIn});},zoomOut:function(){var current=F.current,effect=current.closeEffect,elastic=effect==='elastic',endPos={opacity:0.1};if(elastic){endPos=this.getOrigPosition();if(current.closeOpacity){endPos.opacity=0.1;}}
F.wrap.animate(endPos,{duration:effect==='none'?0:current.closeSpeed,easing:current.closeEasing,step:elastic?this.step:null,complete:F._afterZoomOut});},changeIn:function(){var current=F.current,effect=current.nextEffect,startPos=current.pos,endPos={opacity:1},direction=F.direction,distance=200,field;startPos.opacity=0.1;if(effect==='elastic'){field=direction==='down'||direction==='up'?'top':'left';if(direction==='down'||direction==='right'){startPos[field]=getValue(getScalar(startPos[field])-distance);endPos[field]='+='+distance+'px';}else{startPos[field]=getValue(getScalar(startPos[field])+distance);endPos[field]='-='+distance+'px';}}
if(effect==='none'){F._afterZoomIn();}else{F.wrap.css(startPos).animate(endPos,{duration:current.nextSpeed,easing:current.nextEasing,complete:F._afterZoomIn});}},changeOut:function(){var previous=F.previous,effect=previous.prevEffect,endPos={opacity:0.1},direction=F.direction,distance=200;if(effect==='elastic'){endPos[direction==='down'||direction==='up'?'top':'left']=(direction==='up'||direction==='left'?'-':'+')+'='+distance+'px';}
previous.wrap.animate(endPos,{duration:effect==='none'?0:previous.prevSpeed,easing:previous.prevEasing,complete:function(){$(this).trigger('onReset').remove();}});}};F.helpers.overlay={defaults:{closeClick:true,speedOut:200,showEarly:true,css:{},locked:!isTouch,fixed:true},overlay:null,fixed:false,el:$('html'),create:function(opts){opts=$.extend({},this.defaults,opts);if(this.overlay){this.close();}
this.overlay=$('<div class="fancybox-overlay"></div>').appendTo(F.coming?F.coming.parent:opts.parent);this.fixed=false;if(opts.fixed&&F.defaults.fixed){this.overlay.addClass('fancybox-overlay-fixed');this.fixed=true;}},open:function(opts){var that=this;opts=$.extend({},this.defaults,opts);if(this.overlay){this.overlay.unbind('.overlay').width('auto').height('auto');}else{this.create(opts);}
if(!this.fixed){W.bind('resize.overlay',$.proxy(this.update,this));this.update();}
if(opts.closeClick){this.overlay.bind('click.overlay',function(e){if($(e.target).hasClass('fancybox-overlay')){if(F.isActive){F.close();}else{that.close();}
return false;}});}
this.overlay.css(opts.css).show();},close:function(){var scrollV,scrollH;W.unbind('resize.overlay');if(this.el.hasClass('fancybox-lock')){$('.fancybox-margin').removeClass('fancybox-margin');scrollV=W.scrollTop();scrollH=W.scrollLeft();this.el.removeClass('fancybox-lock');W.scrollTop(scrollV).scrollLeft(scrollH);}
$('.fancybox-overlay').remove().hide();$.extend(this,{overlay:null,fixed:false});},update:function(){var width='100%',offsetWidth;this.overlay.width(width).height('100%');if(IE){offsetWidth=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth);if(D.width()>offsetWidth){width=D.width();}}else if(D.width()>W.width()){width=D.width();}
this.overlay.width(width).height(D.height());},onReady:function(opts,obj){var overlay=this.overlay;$('.fancybox-overlay').stop(true,true);if(!overlay){this.create(opts);}
if(opts.locked&&this.fixed&&obj.fixed){if(!overlay){this.margin=D.height()>W.height()?$('html').css('margin-right').replace("px",""):false;}
obj.locked=this.overlay.append(obj.wrap);obj.fixed=false;}
if(opts.showEarly===true){this.beforeShow.apply(this,arguments);}},beforeShow:function(opts,obj){var scrollV,scrollH;if(obj.locked){if(this.margin!==false){$('*').filter(function(){return($(this).css('position')==='fixed'&&!$(this).hasClass("fancybox-overlay")&&!$(this).hasClass("fancybox-wrap"));}).addClass('fancybox-margin');this.el.addClass('fancybox-margin');}
scrollV=W.scrollTop();scrollH=W.scrollLeft();this.el.addClass('fancybox-lock');W.scrollTop(scrollV).scrollLeft(scrollH);}
this.open(opts);},onUpdate:function(){if(!this.fixed){this.update();}},afterClose:function(opts){if(this.overlay&&!F.coming){this.overlay.fadeOut(opts.speedOut,$.proxy(this.close,this));}}};F.helpers.title={defaults:{type:'float',position:'bottom'},beforeShow:function(opts){var current=F.current,text=current.title,type=opts.type,title,target;if($.isFunction(text)){text=text.call(current.element,current);}
if(!isString(text)||$.trim(text)===''){return;}
title=$('<div class="fancybox-title fancybox-title-'+type+'-wrap">'+text+'</div>');switch(type){case'inside':target=F.skin;break;case'outside':target=F.wrap;break;case'over':target=F.inner;break;default:target=F.skin;title.appendTo('body');if(IE){title.width(title.width());}
title.wrapInner('<span class="child"></span>');F.current.margin[2]+=Math.abs(getScalar(title.css('margin-bottom')));break;}
title[(opts.position==='top'?'prependTo':'appendTo')](target);}};$.fn.fancybox=function(options){var index,that=$(this),selector=this.selector||'',run=function(e){var what=$(this).blur(),idx=index,relType,relVal;if(!(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey)&&!what.is('.fancybox-wrap')){relType=options.groupAttr||'data-fancybox-group';relVal=what.attr(relType);if(!relVal){relType='rel';relVal=what.get(0)[relType];}
if(relVal&&relVal!==''&&relVal!=='nofollow'){what=selector.length?$(selector):that;what=what.filter('['+relType+'="'+relVal+'"]');idx=what.index(this);}
options.index=idx;if(F.open(what,options)!==false){e.preventDefault();}}};options=options||{};index=options.index||0;if(!selector||options.live===false){that.unbind('click.fb-start').bind('click.fb-start',run);}else{D.undelegate(selector,'click.fb-start').delegate(selector+":not('.fancybox-item, .fancybox-nav')",'click.fb-start',run);}
this.filter('[data-fancybox-start=1]').trigger('click');return this;};D.ready(function(){var w1,w2;if($.scrollbarWidth===undefined){$.scrollbarWidth=function(){var parent=$('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo('body'),child=parent.children(),width=child.innerWidth()-child.height(99).innerWidth();parent.remove();return width;};}
if($.support.fixedPosition===undefined){$.support.fixedPosition=(function(){var elem=$('<div style="position:fixed;top:20px;"></div>').appendTo('body'),fixed=(elem[0].offsetTop===20||elem[0].offsetTop===15);elem.remove();return fixed;}());}
$.extend(F.defaults,{scrollbarWidth:$.scrollbarWidth(),fixed:$.support.fixedPosition,parent:$('body')});w1=$(window).width();H.addClass('fancybox-lock-test');w2=$(window).width();H.removeClass('fancybox-lock-test');$("<style type='text/css'>.fancybox-margin{margin-right:"+(w2-w1)+"px;}</style>").appendTo("head");});}(window,document,jQuery));
/*!
 * jQuery Tools v1.2.7 - The missing UI library for the Web
 * 
 * dateinput/dateinput.js
 * overlay/overlay.js
 * overlay/overlay.apple.js
 * rangeinput/rangeinput.js
 * scrollable/scrollable.js
 * scrollable/scrollable.autoscroll.js
 * scrollable/scrollable.navigator.js
 * tabs/tabs.js
 * tabs/tabs.slideshow.js
 * toolbox/toolbox.expose.js
 * toolbox/toolbox.flashembed.js
 * toolbox/toolbox.history.js
 * toolbox/toolbox.mousewheel.js
 * tooltip/tooltip.js
 * tooltip/tooltip.dynamic.js
 * tooltip/tooltip.slide.js
 * validator/validator.js
 * 
 * NO COPYRIGHTS OR LICENSES. DO WHAT YOU LIKE.
 * 
 * http://flowplayer.org/tools/
 * 
 * jquery.event.wheel.js - rev 1 
 * Copyright (c) 2008, Three Dub Media (http://threedubmedia.com)
 * Liscensed under the MIT License (MIT-LICENSE.txt)
 * http://www.opensource.org/licenses/mit-license.php
 * Created: 2008-07-01 | Updated: 2008-07-14
 * 
 * -----
 * 
 */
(function(d,D){function M(b,a){b=""+b;for(a=a||2;b.length<a;)b="0"+b;return b}function N(b,a,d,g){var f=a.getDate(),l=a.getDay(),k=a.getMonth(),c=a.getFullYear(),f={d:f,dd:M(f),ddd:r[g].shortDays[l],dddd:r[g].days[l],m:k+1,mm:M(k+1),mmm:r[g].shortMonths[k],mmmm:r[g].months[k],yy:(""+c).slice(2),yyyy:c},b=O[b](d,a,f,g);return S.html(b).html()}function l(b){return parseInt(b,10)}function P(b,a){return b.getFullYear()===a.getFullYear()&&b.getMonth()==a.getMonth()&&b.getDate()==a.getDate()}function w(b){if(b!==
D){if(b.constructor==Date)return b;if("string"==typeof b){var a=b.split("-");if(3==a.length)return new Date(l(a[0]),l(a[1])-1,l(a[2]));if(!/^-?\d+$/.test(b))return;b=l(b)}a=new Date;a.setDate(a.getDate()+b);return a}}function T(b,a){function j(a,t,c){o=a;z=a.getFullYear();B=a.getMonth();A=a.getDate();c||(c=d.Event("api"));"click"==c.type&&!d.browser.msie&&b.focus();c.type="beforeChange";C.trigger(c,[a]);c.isDefaultPrevented()||(b.val(N(t.formatter,a,t.format,t.lang)),c.type="change",C.trigger(c),
b.data("date",a),f.hide(c))}function g(a){a.type="onShow";C.trigger(a);d(document).on("keydown.d",function(a){if(a.ctrlKey)return!0;var e=a.keyCode;if(8==e||46==e)return b.val(""),f.hide(a);if(27==e||9==e)return f.hide(a);if(0<=d(Q).index(e)){if(!u)return f.show(a),a.preventDefault();var h=d("#"+c.weeks+" a"),j=d("."+c.focus),g=h.index(j);j.removeClass(c.focus);if(74==e||40==e)g+=7;else if(75==e||38==e)g-=7;else if(76==e||39==e)g+=1;else if(72==e||37==e)g-=1;41<g?(f.addMonth(),j=d("#"+c.weeks+" a:eq("+
(g-42)+")")):0>g?(f.addMonth(-1),j=d("#"+c.weeks+" a:eq("+(g+42)+")")):j=h.eq(g);j.addClass(c.focus);return a.preventDefault()}if(34==e)return f.addMonth();if(33==e)return f.addMonth(-1);if(36==e)return f.today();13==e&&(d(a.target).is("select")||d("."+c.focus).click());return 0<=d([16,17,18,9]).index(e)});d(document).on("click.d",function(a){var e=a.target;!d(e).parents("#"+c.root).length&&e!=b[0]&&(!E||e!=E[0])&&f.hide(a)})}var f=this,q=new Date,k=q.getFullYear(),c=a.css,F=r[a.lang],i=d("#"+c.root),
K=i.find("#"+c.title),E,G,H,z,B,A,o=b.attr("data-value")||a.value||b.val(),n=b.attr("min")||a.min,p=b.attr("max")||a.max,u,I;0===n&&(n="0");o=w(o)||q;n=w(n||new Date(k+a.yearRange[0],1,1));p=w(p||new Date(k+a.yearRange[1]+1,1,-1));if(!F)throw"Dateinput: invalid language: "+a.lang;"date"==b.attr("type")&&(I=b.clone(),k=I.wrap("<div/>").parent().html(),k=d(k.replace(/type/i,"type=text data-orig-type")),a.value&&k.val(a.value),b.replaceWith(k),b=k);b.addClass(c.input);var C=b.add(f);if(!i.length){i=
d("<div><div><a/><div/><a/></div><div><div/><div/></div></div>").hide().css({position:"absolute"}).attr("id",c.root);i.children().eq(0).attr("id",c.head).end().eq(1).attr("id",c.body).children().eq(0).attr("id",c.days).end().eq(1).attr("id",c.weeks).end().end().end().find("a").eq(0).attr("id",c.prev).end().eq(1).attr("id",c.next);K=i.find("#"+c.head).find("div").attr("id",c.title);if(a.selectors){var x=d("<select/>").attr("id",c.month),y=d("<select/>").attr("id",c.year);K.html(x.add(y))}for(var k=
i.find("#"+c.days),L=0;7>L;L++)k.append(d("<span/>").text(F.shortDays[(L+a.firstDay)%7]));d("body").append(i)}a.trigger&&(E=d("<a/>").attr("href","#").addClass(c.trigger).click(function(e){a.toggle?f.toggle():f.show();return e.preventDefault()}).insertAfter(b));var J=i.find("#"+c.weeks),y=i.find("#"+c.year),x=i.find("#"+c.month);d.extend(f,{show:function(e){if(!b.attr("readonly")&&!b.attr("disabled")&&!u){e=e||d.Event();e.type="onBeforeShow";C.trigger(e);if(!e.isDefaultPrevented()){d.each(R,function(){this.hide()});
u=true;x.off("change").change(function(){f.setValue(l(y.val()),l(d(this).val()))});y.off("change").change(function(){f.setValue(l(d(this).val()),l(x.val()))});G=i.find("#"+c.prev).off("click").click(function(){G.hasClass(c.disabled)||f.addMonth(-1);return false});H=i.find("#"+c.next).off("click").click(function(){H.hasClass(c.disabled)||f.addMonth();return false});f.setValue(o);var t=b.offset();if(/iPad/i.test(navigator.userAgent))t.top=t.top-d(window).scrollTop();i.css({top:t.top+b.outerHeight({margins:true})+
a.offset[0],left:t.left+a.offset[1]});if(a.speed)i.show(a.speed,function(){g(e)});else{i.show();g(e)}return f}}},setValue:function(e,b,g){var h=l(b)>=-1?new Date(l(e),l(b),l(g==D||isNaN(g)?1:g)):e||o;h<n?h=n:h>p&&(h=p);typeof e=="string"&&(h=w(e));e=h.getFullYear();b=h.getMonth();g=h.getDate();if(b==-1){b=11;e--}else if(b==12){b=0;e++}if(!u){j(h,a);return f}B=b;z=e;A=g;var g=(new Date(e,b,1-a.firstDay)).getDay(),i=(new Date(e,b+1,0)).getDate(),k=(new Date(e,b-1+1,0)).getDate(),r;if(a.selectors){x.empty();
d.each(F.months,function(a,b){n<new Date(e,a+1,1)&&p>new Date(e,a,0)&&x.append(d("<option/>").html(b).attr("value",a))});y.empty();for(var h=q.getFullYear(),m=h+a.yearRange[0];m<h+a.yearRange[1];m++)n<new Date(m+1,0,1)&&p>new Date(m,0,0)&&y.append(d("<option/>").text(m));x.val(b);y.val(e)}else K.html(F.months[b]+" "+e);J.empty();G.add(H).removeClass(c.disabled);for(var m=!g?-7:0,s,v;m<(!g?35:42);m++){s=d("<a/>");if(m%7===0){r=d("<div/>").addClass(c.week);J.append(r)}if(m<g){s.addClass(c.off);v=k-
g+m+1;h=new Date(e,b-1,v)}else if(m>=g+i){s.addClass(c.off);v=m-i-g+1;h=new Date(e,b+1,v)}else{v=m-g+1;h=new Date(e,b,v);P(o,h)?s.attr("id",c.current).addClass(c.focus):P(q,h)&&s.attr("id",c.today)}n&&h<n&&s.add(G).addClass(c.disabled);p&&h>p&&s.add(H).addClass(c.disabled);s.attr("href","#"+v).text(v).data("date",h);r.append(s)}J.find("a").click(function(b){var e=d(this);if(!e.hasClass(c.disabled)){d("#"+c.current).removeAttr("id");e.attr("id",c.current);j(e.data("date"),a,b)}return false});c.sunday&&
J.find("."+c.week).each(function(){var b=a.firstDay?7-a.firstDay:0;d(this).children().slice(b,b+1).addClass(c.sunday)});return f},setMin:function(a,b){n=w(a);b&&o<n&&f.setValue(n);return f},setMax:function(a,b){p=w(a);b&&o>p&&f.setValue(p);return f},today:function(){return f.setValue(q)},addDay:function(a){return this.setValue(z,B,A+(a||1))},addMonth:function(a){var a=B+(a||1),b=(new Date(z,a+1,0)).getDate();return this.setValue(z,a,A<=b?A:b)},addYear:function(a){return this.setValue(z+(a||1),B,A)},
destroy:function(){b.add(document).off("click.d keydown.d");i.add(E).remove();b.removeData("dateinput").removeClass(c.input);I&&b.replaceWith(I)},hide:function(a){if(u){a=d.Event();a.type="onHide";C.trigger(a);if(a.isDefaultPrevented())return;d(document).off("click.d keydown.d");i.hide();u=false}return f},toggle:function(){return f.isOpen()?f.hide():f.show()},getConf:function(){return a},getInput:function(){return b},getCalendar:function(){return i},getValue:function(b){return b?N(a.formatter,o,b,
a.lang):o},isOpen:function(){return u}});d.each(["onBeforeShow","onShow","change","onHide"],function(b,c){if(d.isFunction(a[c]))d(f).on(c,a[c]);f[c]=function(a){if(a)d(f).on(c,a);return f}});a.editable||b.on("focus.d click.d",f.show).keydown(function(a){var c=a.keyCode;if(!u&&d(Q).index(c)>=0){f.show(a);return a.preventDefault()}(c==8||c==46)&&b.val("");return a.shiftKey||a.ctrlKey||a.altKey||c==9?true:a.preventDefault()});w(b.val())&&j(o,a)}d.tools=d.tools||{version:"@VERSION"};var R=[],O={},q,Q=
[75,76,38,39,74,72,40,37],r={};q=d.tools.dateinput={conf:{format:"mm/dd/yy",formatter:"default",selectors:!1,yearRange:[-5,5],lang:"en",offset:[0,0],speed:0,firstDay:0,min:D,max:D,trigger:0,toggle:0,editable:0,css:{prefix:"cal",input:"date",root:0,head:0,title:0,prev:0,next:0,month:0,year:0,days:0,body:0,weeks:0,today:0,current:0,week:0,off:0,sunday:0,focus:0,disabled:0,trigger:0}},addFormatter:function(b,a){O[b]=a},localize:function(b,a){d.each(a,function(b,d){a[b]=d.split(",")});r[b]=a}};q.localize("en",
{months:"January,February,March,April,May,June,July,August,September,October,November,December",shortMonths:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec",days:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday",shortDays:"Sun,Mon,Tue,Wed,Thu,Fri,Sat"});var S=d("<a/>");q.addFormatter("default",function(b,a,d){return b.replace(/d{1,4}|m{1,4}|yy(?:yy)?|"[^"]*"|'[^']*'/g,function(a){return a in d?d[a]:a})});q.addFormatter("prefixed",function(b,a,d){return b.replace(/%(d{1,4}|m{1,4}|yy(?:yy)?|"[^"]*"|'[^']*')/g,
function(a,b){return b in d?d[b]:a})});d.expr[":"].date=function(b){var a=b.getAttribute("type");return a&&"date"==a||!!d(b).data("dateinput")};d.fn.dateinput=function(b){if(this.data("dateinput"))return this;b=d.extend(!0,{},q.conf,b);d.each(b.css,function(a,d){!d&&"prefix"!=a&&(b.css[a]=(b.css.prefix||"")+(d||a))});var a;this.each(function(){var j=new T(d(this),b);R.push(j);j=j.getInput().data("dateinput",j);a=a?a.add(j):j});return a?a:this}})(jQuery);(function(b){function m(a,c){var d=this,h=a.add(d),n=b(window),e,f,k,g=b.tools.expose&&(c.mask||c.expose),l=Math.random().toString().slice(10);g&&("string"==typeof g&&(g={color:g}),g.closeOnClick=g.closeOnEsc=!1);var i=c.target||a.attr("rel");f=i?b(i):a;if(!f.length)throw"Could not find Overlay: "+i;a&&-1==a.index(f)&&a.click(function(b){d.load(b);return b.preventDefault()});b.extend(d,{load:function(a){if(d.isOpened())return d;var p=o[c.effect];if(!p)throw'Overlay: cannot find effect : "'+c.effect+
'"';c.oneInstance&&b.each(q,function(){this.close(a)});a=a||b.Event();a.type="onBeforeLoad";h.trigger(a);if(a.isDefaultPrevented())return d;k=true;g&&b(f).expose(g);var j=c.top,e=c.left,i=f.outerWidth({margin:true}),m=f.outerHeight({margin:true});typeof j=="string"&&(j=j=="center"?Math.max((n.height()-m)/2,0):parseInt(j,10)/100*n.height());e=="center"&&(e=Math.max((n.width()-i)/2,0));p[0].call(d,{top:j,left:e},function(){if(k){a.type="onLoad";h.trigger(a)}});if(g&&c.closeOnClick)b.mask.getMask().one("click",
d.close);if(c.closeOnClick)b(document).on("click."+l,function(a){b(a.target).parents(f).length||d.close(a)});if(c.closeOnEsc)b(document).on("keydown."+l,function(a){a.keyCode==27&&d.close(a)});return d},close:function(a){if(!d.isOpened())return d;a=a||b.Event();a.type="onBeforeClose";h.trigger(a);if(!a.isDefaultPrevented()){k=false;o[c.effect][1].call(d,function(){a.type="onClose";h.trigger(a)});b(document).off("click."+l+" keydown."+l);g&&b.mask.close();return d}},getOverlay:function(){return f},
getTrigger:function(){return a},getClosers:function(){return e},isOpened:function(){return k},getConf:function(){return c}});b.each(["onBeforeLoad","onStart","onLoad","onBeforeClose","onClose"],function(a,e){if(b.isFunction(c[e]))b(d).on(e,c[e]);d[e]=function(a){if(a)b(d).on(e,a);return d}});e=f.find(c.close||".close");!e.length&&!c.close&&(e=b('<a class="close"></a>'),f.prepend(e));e.click(function(a){d.close(a)});c.load&&d.load()}b.tools=b.tools||{version:"@VERSION"};b.tools.overlay={addEffect:function(a,
b,d){o[a]=[b,d]},conf:{close:null,closeOnClick:!0,closeOnEsc:!0,closeSpeed:"fast",effect:"default",fixed:!b.browser.msie||6<b.browser.version,left:"center",load:!1,mask:null,oneInstance:!0,speed:"normal",target:null,top:"10%"}};var q=[],o={};b.tools.overlay.addEffect("default",function(a,c){var d=this.getConf(),h=b(window);d.fixed||(a.top+=h.scrollTop(),a.left+=h.scrollLeft());a.position=d.fixed?"fixed":"absolute";this.getOverlay().css(a).fadeIn(d.speed,c)},function(a){this.getOverlay().fadeOut(this.getConf().closeSpeed,
a)});b.fn.overlay=function(a){var c=this.data("overlay");if(c)return c;b.isFunction(a)&&(a={onBeforeLoad:a});a=b.extend(!0,{},b.tools.overlay.conf,a);this.each(function(){c=new m(b(this),a);q.push(c);b(this).data("overlay",c)});return a.api?c:this}})(jQuery);(function(h){function l(a){var e=a.offset();return{top:e.top+a.height()/2,left:e.left+a.width()/2}}var i=h.tools.overlay,f=h(window);h.extend(i.conf,{start:{top:null,left:null},fadeInSpeed:"fast",zIndex:9999});i.addEffect("apple",function(a,e){var b=this.getOverlay(),d=this.getConf(),g=this.getTrigger(),i=this,m=b.outerWidth({margin:!0}),c=b.data("img"),n=d.fixed?"fixed":"absolute";if(!c){c=b.css("backgroundImage");if(!c)throw"background-image CSS property not set for overlay";c=c.slice(c.indexOf("(")+
1,c.indexOf(")")).replace(/\"/g,"");b.css("backgroundImage","none");c=h('<img src="'+c+'"/>');c.css({border:0,display:"none"}).width(m);h("body").append(c);b.data("img",c)}var j=d.start.top||Math.round(f.height()/2),k=d.start.left||Math.round(f.width()/2);g&&(g=l(g),j=g.top,k=g.left);d.fixed?(j-=f.scrollTop(),k-=f.scrollLeft()):(a.top+=f.scrollTop(),a.left+=f.scrollLeft());c.css({position:"absolute",top:j,left:k,width:0,zIndex:d.zIndex}).show();a.position=n;b.css(a);c.animate({top:a.top,left:a.left,
width:m},d.speed,function(){b.css("zIndex",d.zIndex+1).fadeIn(d.fadeInSpeed,function(){i.isOpened()&&!h(this).index(b)?e.call():b.hide()})}).css("position",n)},function(a){var e=this.getOverlay().hide(),b=this.getConf(),d=this.getTrigger(),e=e.data("img"),g={top:b.start.top,left:b.start.left,width:0};d&&h.extend(g,l(d));b.fixed&&e.css({position:"absolute"}).animate({top:"+="+f.scrollTop(),left:"+="+f.scrollLeft()},0);e.animate(g,b.closeSpeed,a)})})(jQuery);(function(a){function z(c,b){var a=Math.pow(10,b);return Math.round(c*a)/a}function m(c,b){var a=parseInt(c.css(b),10);return a?a:(a=c[0].currentStyle)&&a.width&&parseInt(a.width,10)}function y(a){return(a=a.data("events"))&&a.onSlide}function A(c,b){function e(a,d,f,e){void 0===f?f=d/i*v:e&&(f-=b.min);s&&(f=Math.round(f/s)*s);if(void 0===d||s)d=f*i/v;if(isNaN(f))return g;d=Math.max(0,Math.min(d,i));f=d/i*v;if(e||!n)f+=b.min;n&&(e?d=i-d:f=b.max-f);var f=z(f,r),h="click"==a.type;if(u&&void 0!==k&&
!h&&(a.type="onSlide",w.trigger(a,[f,d]),a.isDefaultPrevented()))return g;e=h?b.speed:0;h=h?function(){a.type="change";w.trigger(a,[f])}:null;n?(j.animate({top:d},e,h),b.progress&&x.animate({height:i-d+j.height()/2},e)):(j.animate({left:d},e,h),b.progress&&x.animate({width:d+j.width()/2},e));k=f;c.val(f);return g}function o(){(n=b.vertical||m(h,"height")>m(h,"width"))?(i=m(h,"height")-m(j,"height"),l=h.offset().top+i):(i=m(h,"width")-m(j,"width"),l=h.offset().left)}function q(){o();g.setValue(void 0!==
b.value?b.value:b.min)}var g=this,p=b.css,h=a("<div><div/><a href='#'/></div>").data("rangeinput",g),n,k,l,i;c.before(h);var j=h.addClass(p.slider).find("a").addClass(p.handle),x=h.find("div").addClass(p.progress);a.each(["min","max","step","value"],function(a,d){var f=c.attr(d);parseFloat(f)&&(b[d]=parseFloat(f,10))});var v=b.max-b.min,s="any"==b.step?0:b.step,r=b.precision;void 0===r&&(r=s.toString().split("."),r=2===r.length?r[1].length:0);if("range"==c.attr("type")){var t=c.clone().wrap("<div/>").parent().html(),
t=a(t.replace(/type/i,"type=text data-orig-type"));t.val(b.value);c.replaceWith(t);c=t}c.addClass(p.input);var w=a(g).add(c),u=!0;a.extend(g,{getValue:function(){return k},setValue:function(b,d){o();return e(d||a.Event("api"),void 0,b,true)},getConf:function(){return b},getProgress:function(){return x},getHandle:function(){return j},getInput:function(){return c},step:function(c,d){d=d||a.Event();g.setValue(k+(b.step=="any"?1:b.step)*(c||1),d)},stepUp:function(a){return g.step(a||1)},stepDown:function(a){return g.step(-a||
-1)}});a.each(["onSlide","change"],function(c,d){if(a.isFunction(b[d]))a(g).on(d,b[d]);g[d]=function(b){if(b)a(g).on(d,b);return g}});j.drag({drag:!1}).on("dragStart",function(){o();u=y(a(g))||y(c)}).on("drag",function(a,b,f){if(c.is(":disabled"))return false;e(a,n?b:f)}).on("dragEnd",function(a){if(!a.isDefaultPrevented()){a.type="change";w.trigger(a,[k])}}).click(function(a){return a.preventDefault()});h.click(function(a){if(c.is(":disabled")||a.target==j[0])return a.preventDefault();o();var b=
n?j.height()/2:j.width()/2;e(a,n?i-l-b+a.pageY:a.pageX-l-b)});b.keyboard&&c.keydown(function(b){if(!c.attr("readonly")){var d=b.keyCode,f=a([75,76,38,33,39]).index(d)!=-1,e=a([74,72,40,34,37]).index(d)!=-1;if((f||e)&&!b.shiftKey&&!b.altKey&&!b.ctrlKey){f?g.step(d==33?10:1,b):e&&g.step(d==34?-10:-1,b);return b.preventDefault()}}});c.blur(function(b){var c=a(this).val();c!==k&&g.setValue(c,b)});a.extend(c[0],{stepUp:g.stepUp,stepDown:g.stepDown});q();i||a(window).load(q)}a.tools=a.tools||{version:"@VERSION"};
var u;u=a.tools.rangeinput={conf:{min:0,max:100,step:"any",steps:0,value:0,precision:void 0,vertical:0,keyboard:!0,progress:!1,speed:100,css:{input:"range",slider:"slider",progress:"progress",handle:"handle"}}};var q,l;a.fn.drag=function(c){document.ondragstart=function(){return!1};c=a.extend({x:!0,y:!0,drag:!0},c);q=q||a(document).on("mousedown mouseup",function(b){var e=a(b.target);if("mousedown"==b.type&&e.data("drag")){var o=e.position(),m=b.pageX-o.left,g=b.pageY-o.top,p=!0;q.on("mousemove.drag",
function(a){var b=a.pageX-m,a=a.pageY-g,k={};c.x&&(k.left=b);c.y&&(k.top=a);p&&(e.trigger("dragStart"),p=!1);c.drag&&e.css(k);e.trigger("drag",[a,b]);l=e});b.preventDefault()}else try{l&&l.trigger("dragEnd")}finally{q.off("mousemove.drag"),l=null}});return this.data("drag",!0)};a.expr[":"].range=function(c){var b=c.getAttribute("type");return b&&"range"==b||!!a(c).filter("input").data("rangeinput")};a.fn.rangeinput=function(c){if(this.data("rangeinput"))return this;var c=a.extend(!0,{},u.conf,c),
b;this.each(function(){var e=new A(a(this),a.extend(!0,{},c)),e=e.getInput().data("rangeinput",e);b=b?b.add(e):e});return b?b:this}})(jQuery);(function(d){function p(f,b){var c=d(b);return 2>c.length?c:f.parent().find(b)}function u(f,b){var c=this,n=f.add(c),g=f.children(),l=0,j=b.vertical;k||(k=c);1<g.length&&(g=d(b.items,f));1<b.size&&(b.circular=!1);d.extend(c,{getConf:function(){return b},getIndex:function(){return l},getSize:function(){return c.getItems().size()},getNaviButtons:function(){return h.add(m)},getRoot:function(){return f},getItemWrap:function(){return g},getItems:function(){return g.find(b.item).not("."+b.clonedClass)},
move:function(a,b){return c.seekTo(l+a,b)},next:function(a){return c.move(b.size,a)},prev:function(a){return c.move(-b.size,a)},begin:function(a){return c.seekTo(0,a)},end:function(a){return c.seekTo(c.getSize()-1,a)},focus:function(){return k=c},addItem:function(a){a=d(a);if(b.circular){g.children().last().before(a);g.children().first().replaceWith(a.clone().addClass(b.clonedClass))}else{g.append(a);m.removeClass("disabled")}n.trigger("onAddItem",[a]);return c},seekTo:function(a,e,f){a.jquery||(a=
a*1);if(b.circular&&a===0&&l==-1&&e!==0||!b.circular&&a<0||a>c.getSize()||a<-1)return c;var i=a;a.jquery?a=c.getItems().index(a):i=c.getItems().eq(a);var h=d.Event("onBeforeSeek");if(!f){n.trigger(h,[a,e]);if(h.isDefaultPrevented()||!i.length)return c}i=j?{top:-i.position().top}:{left:-i.position().left};l=a;k=c;if(e===void 0)e=b.speed;g.animate(i,e,b.easing,f||function(){n.trigger("onSeek",[a])});return c}});d.each(["onBeforeSeek","onSeek","onAddItem"],function(a,e){if(d.isFunction(b[e]))d(c).on(e,
b[e]);c[e]=function(a){if(a)d(c).on(e,a);return c}});if(b.circular){var q=c.getItems().slice(-1).clone().prependTo(g),r=c.getItems().eq(1).clone().appendTo(g);q.add(r).addClass(b.clonedClass);c.onBeforeSeek(function(a,b,d){if(!a.isDefaultPrevented()){if(b==-1){c.seekTo(q,d,function(){c.end(0)});return a.preventDefault()}b==c.getSize()&&c.seekTo(r,d,function(){c.begin(0)})}});var o=f.parents().add(f).filter(function(){if(d(this).css("display")==="none")return true});o.length?(o.show(),c.seekTo(0,0,
function(){}),o.hide()):c.seekTo(0,0,function(){})}var h=p(f,b.prev).click(function(a){a.stopPropagation();c.prev()}),m=p(f,b.next).click(function(a){a.stopPropagation();c.next()});b.circular||(c.onBeforeSeek(function(a,e){setTimeout(function(){if(!a.isDefaultPrevented()){h.toggleClass(b.disabledClass,e<=0);m.toggleClass(b.disabledClass,e>=c.getSize()-1)}},1)}),b.initialIndex||h.addClass(b.disabledClass));2>c.getSize()&&h.add(m).addClass(b.disabledClass);b.mousewheel&&d.fn.mousewheel&&f.mousewheel(function(a,
e){if(b.mousewheel){c.move(e<0?1:-1,b.wheelSpeed||50);return false}});if(b.touch){var s,t;g[0].ontouchstart=function(a){a=a.touches[0];s=a.clientX;t=a.clientY};g[0].ontouchmove=function(a){if(a.touches.length==1&&!g.is(":animated")){var b=a.touches[0],d=s-b.clientX,b=t-b.clientY;c[j&&b>0||!j&&d>0?"next":"prev"]();a.preventDefault()}}}if(b.keyboard)d(document).on("keydown.scrollable",function(a){if(b.keyboard&&!a.altKey&&!a.ctrlKey&&!a.metaKey&&!d(a.target).is(":input")&&!(b.keyboard!="static"&&k!=
c)){var e=a.keyCode;if(j&&(e==38||e==40)){c.move(e==38?-1:1);return a.preventDefault()}if(!j&&(e==37||e==39)){c.move(e==37?-1:1);return a.preventDefault()}}});b.initialIndex&&c.seekTo(b.initialIndex,0,function(){})}d.tools=d.tools||{version:"@VERSION"};d.tools.scrollable={conf:{activeClass:"active",circular:!1,clonedClass:"cloned",disabledClass:"disabled",easing:"swing",initialIndex:0,item:"> *",items:".items",keyboard:!0,mousewheel:!1,next:".next",prev:".prev",size:1,speed:400,vertical:!1,touch:!0,
wheelSpeed:0}};var k;d.fn.scrollable=function(f){var b=this.data("scrollable");if(b)return b;f=d.extend({},d.tools.scrollable.conf,f);this.each(function(){b=new u(d(this),f);d(this).data("scrollable",b)});return f.api?b:this}})(jQuery);(function(d){var h=d.tools.scrollable;h.autoscroll={conf:{autoplay:!0,interval:3E3,autopause:!0}};d.fn.autoscroll=function(b){"number"==typeof b&&(b={interval:b});var e=d.extend({},h.autoscroll.conf,b),i;this.each(function(){function b(){c&&clearTimeout(c);c=setTimeout(function(){a.next()},e.interval)}var a=d(this).data("scrollable"),f=a.getRoot(),c,g=!1;a&&(i=a);a.play=function(){c||(g=!1,f.on("onSeek",b),b())};a.pause=function(){c=clearTimeout(c);f.off("onSeek",b)};a.resume=function(){g||a.play()};
a.stop=function(){g=!0;a.pause()};e.autopause&&f.add(a.getNaviButtons()).hover(a.pause,a.resume);e.autoplay&&a.play()});return e.api?i:this}})(jQuery);(function(b){function m(a,f){var d=b(f);return 2>d.length?d:a.parent().find(f)}var g=b.tools.scrollable;g.navigator={conf:{navi:".navi",naviItem:null,activeClass:"active",indexed:!1,idPrefix:null,history:!1}};b.fn.navigator=function(a){"string"==typeof a&&(a={navi:a});var a=b.extend({},g.navigator.conf,a),f;this.each(function(){function d(){return i.find(a.naviItem||"> *")}function g(h){var e=b("<"+(a.naviItem||"a")+"/>").click(function(a){b(this);c.seekTo(h);a.preventDefault();j&&history.pushState({i:h},
"")});0===h&&e.addClass(k);a.indexed&&e.text(h+1);a.idPrefix&&e.attr("id",a.idPrefix+h);return e.appendTo(i)}var c=b(this).data("scrollable"),i=a.navi.jquery?a.navi:m(c.getRoot(),a.navi),n=c.getNaviButtons(),k=a.activeClass,j=a.history&&!!history.pushState,l=c.getConf().size;c&&(f=c);c.getNaviButtons=function(){return n.add(i)};j&&(history.pushState({i:0},""),b(window).on("popstate",function(a){(a=a.originalEvent.state)&&c.seekTo(a.i)}));d().length?d().each(function(a){b(this).click(function(e){b(this);
c.seekTo(a);e.preventDefault();j&&history.pushState({i:a},"")})}):b.each(c.getItems(),function(a){a%l==0&&g(a)});c.onBeforeSeek(function(a,c){setTimeout(function(){if(!a.isDefaultPrevented()){var b=c/l;d().eq(b).length&&d().removeClass(k).eq(b).addClass(k)}},1)});c.onAddItem(function(a,b){var d=c.getItems().index(b);d%l==0&&g(d)})});return a.api?f:this}})(jQuery);(function(d){function n(c,a,b){var e=this,l=c.add(this),g=c.find(b.tabs),f=a.jquery?a:c.children(a),i;g.length||(g=c.children());f.length||(f=c.parent().find(a));f.length||(f=d(a));d.extend(this,{click:function(a,h){var f=g.eq(a),j=!c.data("tabs");"string"==typeof a&&a.replace("#","")&&(f=g.filter('[href*="'+a.replace("#","")+'"]'),a=Math.max(g.index(f),0));if(b.rotate){var k=g.length-1;if(0>a)return e.click(k,h);if(a>k)return e.click(0,h)}if(!f.length){if(0<=i)return e;a=b.initialIndex;f=g.eq(a)}if(a===
i)return e;h=h||d.Event();h.type="onBeforeClick";l.trigger(h,[a]);if(!h.isDefaultPrevented())return m[j?b.initialEffect&&b.effect||"default":b.effect].call(e,a,function(){i=a;h.type="onClick";l.trigger(h,[a])}),g.removeClass(b.current),f.addClass(b.current),e},getConf:function(){return b},getTabs:function(){return g},getPanes:function(){return f},getCurrentPane:function(){return f.eq(i)},getCurrentTab:function(){return g.eq(i)},getIndex:function(){return i},next:function(){return e.click(i+1)},prev:function(){return e.click(i-
1)},destroy:function(){g.off(b.event).removeClass(b.current);f.find('a[href^="#"]').off("click.T");return e}});d.each(["onBeforeClick","onClick"],function(a,c){if(d.isFunction(b[c]))d(e).on(c,b[c]);e[c]=function(a){if(a)d(e).on(c,a);return e}});b.history&&d.fn.history&&(d.tools.history.init(g),b.event="history");g.each(function(a){d(this).on(b.event,function(b){e.click(a,b);return b.preventDefault()})});f.find('a[href^="#"]').on("click.T",function(a){e.click(d(this).attr("href"),a)});location.hash&&
"a"==b.tabs&&c.find('[href="'+location.hash+'"]').length?e.click(location.hash):(0===b.initialIndex||0<b.initialIndex)&&e.click(b.initialIndex)}d.tools=d.tools||{version:"@VERSION"};d.tools.tabs={conf:{tabs:"a",current:"current",onBeforeClick:null,onClick:null,effect:"default",initialEffect:!1,initialIndex:0,event:"click",rotate:!1,slideUpSpeed:400,slideDownSpeed:400,history:!1},addEffect:function(c,a){m[c]=a}};var m={"default":function(c,a){this.getPanes().hide().eq(c).show();a.call()},fade:function(c,
a){var b=this.getConf(),e=b.fadeOutSpeed,d=this.getPanes();e?d.fadeOut(e):d.hide();d.eq(c).fadeIn(b.fadeInSpeed,a)},slide:function(c,a){var b=this.getConf();this.getPanes().slideUp(b.slideUpSpeed);this.getPanes().eq(c).slideDown(b.slideDownSpeed,a)},ajax:function(c,a){this.getPanes().eq(0).load(this.getTabs().eq(c).attr("href"),a)}},j,k;d.tools.tabs.addEffect("horizontal",function(c,a){if(!j){var b=this.getPanes().eq(c),e=this.getCurrentPane();k||(k=this.getPanes().eq(0).width());j=!0;b.show();e.animate({width:0},
{step:function(a){b.css("width",k-a)},complete:function(){d(this).hide();a.call();j=!1}});e.length||(a.call(),j=!1)}});d.fn.tabs=function(c,a){var b=this.data("tabs");b&&(b.destroy(),this.removeData("tabs"));d.isFunction(a)&&(a={onBeforeClick:a});a=d.extend({},d.tools.tabs.conf,a);this.each(function(){b=new n(d(this),c,a);d(this).data("tabs",b)});return a.api?b:this}})(jQuery);(function(d){function n(c,a){function h(a){var b=d(a);return 2>b.length?b:c.parent().find(a)}function i(){g=setTimeout(function(){e.next()},a.interval)}var b=this,f=c.add(this),e=c.data("tabs"),g,j=!0,m=h(a.next).click(function(){e.next()}),k=h(a.prev).click(function(){e.prev()});d.extend(b,{getTabs:function(){return e},getConf:function(){return a},play:function(){if(g)return b;var a=d.Event("onBeforePlay");f.trigger(a);if(a.isDefaultPrevented())return b;j=!1;f.trigger("onPlay");f.on("onClick",i);
i();return b},pause:function(){if(!g)return b;var a=d.Event("onBeforePause");f.trigger(a);if(a.isDefaultPrevented())return b;g=clearTimeout(g);f.trigger("onPause");f.off("onClick",i);return b},resume:function(){j||b.play()},stop:function(){b.pause();j=!0}});d.each(["onBeforePlay","onPlay","onBeforePause","onPause"],function(e,c){if(d.isFunction(a[c]))d(b).on(c,a[c]);b[c]=function(a){return d(b).on(c,a)}});a.autopause&&e.getTabs().add(m).add(k).add(e.getPanes()).hover(b.pause,b.resume);a.autoplay&&
b.play();a.clickable&&e.getPanes().click(function(){e.next()});if(!e.getConf().rotate){var l=a.disabledClass;e.getIndex()||k.addClass(l);e.onBeforeClick(function(a,b){k.toggleClass(l,!b);m.toggleClass(l,b==e.getTabs().length-1)})}}var h;h=d.tools.tabs.slideshow={conf:{next:".forward",prev:".backward",disabledClass:"disabled",autoplay:!1,autopause:!0,interval:3E3,clickable:!0,api:!1}};d.fn.slideshow=function(c){var a=this.data("slideshow");if(a)return a;c=d.extend({},h.conf,c);this.each(function(){a=
new n(d(this),c);d(this).data("slideshow",a)});return c.api?a:this}})(jQuery);(function(b){function j(){if(b.browser.msie){var a=b(document).height(),c=b(window).height();return[window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,20>a-c?c:a]}return[b(document).width(),b(document).height()]}function g(a){if(a)return a.call(b.mask)}b.tools=b.tools||{version:"@VERSION"};var k;k=b.tools.expose={conf:{maskId:"exposeMask",loadSpeed:"slow",closeSpeed:"fast",closeOnClick:!0,closeOnEsc:!0,zIndex:9998,opacity:0.8,startOpacity:0,color:"#fff",onLoad:null,
onClose:null}};var c,h,d,e,i;b.mask={load:function(a,f){if(d)return this;"string"==typeof a&&(a={color:a});a=a||e;e=a=b.extend(b.extend({},k.conf),a);c=b("#"+a.maskId);c.length||(c=b("<div/>").attr("id",a.maskId),b("body").append(c));var l=j();c.css({position:"absolute",top:0,left:0,width:l[0],height:l[1],display:"none",opacity:a.startOpacity,zIndex:a.zIndex});a.color&&c.css("backgroundColor",a.color);if(!1===g(a.onBeforeLoad))return this;if(a.closeOnEsc)b(document).on("keydown.mask",function(a){a.keyCode==
27&&b.mask.close(a)});if(a.closeOnClick)c.on("click.mask",function(a){b.mask.close(a)});b(window).on("resize.mask",function(){b.mask.fit()});f&&f.length&&(i=f.eq(0).css("zIndex"),b.each(f,function(){var a=b(this);/relative|absolute|fixed/i.test(a.css("position"))||a.css("position","relative")}),h=f.css({zIndex:Math.max(a.zIndex+1,"auto"==i?0:i)}));c.css({display:"block"}).fadeTo(a.loadSpeed,a.opacity,function(){b.mask.fit();g(a.onLoad);d="full"});d=!0;return this},close:function(){if(d){if(!1===g(e.onBeforeClose))return this;
c.fadeOut(e.closeSpeed,function(){g(e.onClose);h&&h.css({zIndex:i});d=!1});b(document).off("keydown.mask");c.off("click.mask");b(window).off("resize.mask")}return this},fit:function(){if(d){var a=j();c.css({width:a[0],height:a[1]})}},getMask:function(){return c},isLoaded:function(a){return a?"full"==d:d},getConf:function(){return e},getExposed:function(){return h}};b.fn.mask=function(a){b.mask.load(a);return this};b.fn.expose=function(a){b.mask.load(a,this);return this}})(jQuery);(function(){function h(a,b){if(b)for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function k(a,b){var c=[],d;for(d in a)a.hasOwnProperty(d)&&(c[d]=b(a[d]));return c}function l(a,b,c){if(e.isSupported(b.version))a.innerHTML=e.getHTML(b,c);else if(b.expressInstall&&e.isSupported([6,65]))a.innerHTML=e.getHTML(h(b,{src:b.expressInstall}),{MMredirectURL:location.href,MMplayerType:"PlugIn",MMdoctitle:document.title});else if(a.innerHTML.replace(/\s/g,"")||(a.innerHTML="<h2>Flash version "+b.version+
" or greater is required</h2><h3>"+(0<f[0]?"Your version is "+f:"You have no flash plugin installed")+"</h3>"+("A"==a.tagName?"<p>Click here to download latest version</p>":"<p>Download latest version from <a href='"+j+"'>here</a></p>"),"A"==a.tagName&&(a.onclick=function(){location.href=j})),b.onFail){var d=b.onFail.call(this);"string"==typeof d&&(a.innerHTML=d)}i&&(window[b.id]=document.getElementById(b.id));h(this,{getRoot:function(){return a},getOptions:function(){return b},getConf:function(){return c},
getApi:function(){return a.firstChild}})}var i=document.all,j="http://www.adobe.com/go/getflashplayer",m="function"==typeof jQuery,n=/(\d+)[^\d]+(\d+)[^\d]*(\d*)/,g={width:"100%",height:"100%",id:"_"+(""+Math.random()).slice(9),allowfullscreen:!0,allowscriptaccess:"always",quality:"high",version:[3,0],onFail:null,expressInstall:null,w3c:!1,cachebusting:!1};window.attachEvent&&window.attachEvent("onbeforeunload",function(){__flash_unloadHandler=function(){};__flash_savedUnloadHandler=function(){}});
window.flashembed=function(a,b,c){"string"==typeof a&&(a=document.getElementById(a.replace("#","")));if(a)return"string"==typeof b&&(b={src:b}),new l(a,h(h({},g),b),c)};var e=h(window.flashembed,{conf:g,getVersion:function(){var a,b;try{b=navigator.plugins["Shockwave Flash"].description.slice(16)}catch(c){try{b=(a=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7"))&&a.GetVariable("$version")}catch(d){try{b=(a=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6"))&&a.GetVariable("$version")}catch(e){}}}return(b=
n.exec(b))?[b[1],b[3]]:[0,0]},asString:function(a){if(null===a||void 0===a)return null;var b=typeof a;"object"==b&&a.push&&(b="array");switch(b){case "string":return a=a.replace(RegExp('(["\\\\])',"g"),"\\$1"),a=a.replace(/^\s?(\d+\.?\d*)%/,"$1pct"),'"'+a+'"';case "array":return"["+k(a,function(a){return e.asString(a)}).join(",")+"]";case "function":return'"function()"';case "object":var b=[],c;for(c in a)a.hasOwnProperty(c)&&b.push('"'+c+'":'+e.asString(a[c]));return"{"+b.join(",")+"}"}return(""+
a).replace(/\s/g," ").replace(/\'/g,'"')},getHTML:function(a,b){var a=h({},a),c='<object width="'+a.width+'" height="'+a.height+'" id="'+a.id+'" name="'+a.id+'"';a.cachebusting&&(a.src+=(-1!=a.src.indexOf("?")?"&":"?")+Math.random());c=a.w3c||!i?c+(' data="'+a.src+'" type="application/x-shockwave-flash"'):c+' classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"';c+=">";if(a.w3c||i)c+='<param name="movie" value="'+a.src+'" />';a.width=a.height=a.id=a.w3c=a.src=null;a.onFail=a.version=a.expressInstall=
null;for(var d in a)a[d]&&(c+='<param name="'+d+'" value="'+a[d]+'" />');d="";if(b){for(var f in b)if(b[f]){var g=b[f];d+=f+"="+encodeURIComponent(/function|object/.test(typeof g)?e.asString(g):g)+"&"}d=d.slice(0,-1);c+='<param name="flashvars" value=\''+d+"' />"}return c+"</object>"},isSupported:function(a){return f[0]>a[0]||f[0]==a[0]&&f[1]>=a[1]}}),f=e.getVersion();m&&(jQuery.tools=jQuery.tools||{version:"@VERSION"},jQuery.tools.flashembed={conf:g},jQuery.fn.flashembed=function(a,b){return this.each(function(){jQuery(this).data("flashembed",
flashembed(this,a,b))})})})();(function(a){function g(a){if(a){var b=d.contentWindow.document;b.open().close();b.location.hash=a}}var f,d,e,h;a.tools=a.tools||{version:"@VERSION"};a.tools.history={init:function(c){h||(a.browser.msie&&"8">a.browser.version?d||(d=a("<iframe/>").attr("src","javascript:false;").hide().get(0),a("body").append(d),setInterval(function(){var b=d.contentWindow.document.location.hash;f!==b&&a(window).trigger("hash",b)},100),g(location.hash||"#")):setInterval(function(){var b=location.hash;b!==f&&a(window).trigger("hash",
b)},100),e=!e?c:e.add(c),c.click(function(b){var c=a(this).attr("href");d&&g(c);if(c.slice(0,1)!="#"){location.href="#"+c;return b.preventDefault()}}),h=!0)}};a(window).on("hash",function(c,b){b?e.filter(function(){var c=a(this).attr("href");return c==b||c==b.replace("#","")}).trigger("history",[b]):e.eq(0).trigger("history",[b]);f=b});a.fn.history=function(c){a.tools.history.init(this);return this.on("history",c)}})(jQuery);(function(b){function c(a){switch(a.type){case "mousemove":return b.extend(a.data,{clientX:a.clientX,clientY:a.clientY,pageX:a.pageX,pageY:a.pageY});case "DOMMouseScroll":b.extend(a,a.data);a.delta=-a.detail/3;break;case "mousewheel":a.delta=a.wheelDelta/120}a.type="wheel";return b.event.handle.call(this,a,a.delta)}b.fn.mousewheel=function(a){return this[a?"on":"trigger"]("wheel",a)};b.event.special.wheel={setup:function(){b.event.add(this,d,c,{})},teardown:function(){b.event.remove(this,d,c)}};var d=
!b.browser.mozilla?"mousewheel":"DOMMouseScroll"+("1.9">b.browser.version?" mousemove":"")})(jQuery);(function(e){function p(a,b,d){var f=d.relative?a.position().top:a.offset().top,c=d.relative?a.position().left:a.offset().left,h=d.position[0],f=f-(b.outerHeight()-d.offset[0]),c=c+(a.outerWidth()+d.offset[1]);/iPad/i.test(navigator.userAgent)&&(f-=e(window).scrollTop());var i=b.outerHeight()+a.outerHeight();"center"==h&&(f+=i/2);"bottom"==h&&(f+=i);h=d.position[1];a=b.outerWidth()+a.outerWidth();"center"==h&&(c-=a/2);"left"==h&&(c-=a);return{top:f,left:c}}function n(a,b){var d=this,f=a.add(d),c,
h=0,i=0,m=a.attr("title"),q=a.attr("data-tooltip"),r=o[b.effect],l,s=a.is(":input"),n=s&&a.is(":checkbox, :radio, select, :button, :submit"),t=a.attr("type"),j=b.events[t]||b.events[s?n?"widget":"input":"def"];if(!r)throw'Nonexistent effect "'+b.effect+'"';j=j.split(/,\s*/);if(2!=j.length)throw"Tooltip: bad events configuration for "+t;a.on(j[0],function(a){clearTimeout(h);b.predelay?i=setTimeout(function(){d.show(a)},b.predelay):d.show(a)}).on(j[1],function(a){clearTimeout(i);b.delay?h=setTimeout(function(){d.hide(a)},
b.delay):d.hide(a)});m&&b.cancelDefault&&(a.removeAttr("title"),a.data("title",m));e.extend(d,{show:function(k){if(!c){if(q)c=e(q);else if(b.tip)c=e(b.tip).eq(0);else if(m)c=e(b.layout).addClass(b.tipClass).appendTo(document.body).hide().append(m);else{c=a.next();c.length||(c=a.parent().next())}if(!c.length)throw"Cannot find tooltip for "+a;}if(d.isShown())return d;c.stop(true,true);var g=p(a,c,b);b.tip&&c.html(a.data("title"));k=e.Event();k.type="onBeforeShow";f.trigger(k,[g]);if(k.isDefaultPrevented())return d;
g=p(a,c,b);c.css({position:"absolute",top:g.top,left:g.left});l=true;r[0].call(d,function(){k.type="onShow";l="full";f.trigger(k)});g=b.events.tooltip.split(/,\s*/);if(!c.data("__set")){c.off(g[0]).on(g[0],function(){clearTimeout(h);clearTimeout(i)});if(g[1]&&!a.is("input:not(:checkbox, :radio), textarea"))c.off(g[1]).on(g[1],function(b){b.relatedTarget!=a[0]&&a.trigger(j[1].split(" ")[0])});b.tip||c.data("__set",true)}return d},hide:function(a){if(!c||!d.isShown())return d;a=e.Event();a.type="onBeforeHide";
f.trigger(a);if(!a.isDefaultPrevented()){l=false;o[b.effect][1].call(d,function(){a.type="onHide";f.trigger(a)});return d}},isShown:function(a){return a?l=="full":l},getConf:function(){return b},getTip:function(){return c},getTrigger:function(){return a}});e.each(["onHide","onBeforeShow","onShow","onBeforeHide"],function(a,c){if(e.isFunction(b[c]))e(d).on(c,b[c]);d[c]=function(a){if(a)e(d).on(c,a);return d}})}e.tools=e.tools||{version:"@VERSION"};e.tools.tooltip={conf:{effect:"toggle",fadeOutSpeed:"fast",
predelay:0,delay:30,opacity:1,tip:0,fadeIE:!1,position:["top","center"],offset:[0,0],relative:!1,cancelDefault:!0,events:{def:"mouseenter,mouseleave",input:"focus,blur",widget:"focus mouseenter,blur mouseleave",tooltip:"mouseenter,mouseleave"},layout:"<div/>",tipClass:"tooltip"},addEffect:function(a,b,d){o[a]=[b,d]}};var o={toggle:[function(a){var b=this.getConf(),d=this.getTip(),b=b.opacity;1>b&&d.css({opacity:b});d.show();a.call()},function(a){this.getTip().hide();a.call()}],fade:[function(a){var b=
this.getConf();!e.browser.msie||b.fadeIE?this.getTip().fadeTo(b.fadeInSpeed,b.opacity,a):(this.getTip().show(),a())},function(a){var b=this.getConf();!e.browser.msie||b.fadeIE?this.getTip().fadeOut(b.fadeOutSpeed,a):(this.getTip().hide(),a())}]};e.fn.tooltip=function(a){var b=this.data("tooltip");if(b)return b;a=e.extend(!0,{},e.tools.tooltip.conf,a);"string"==typeof a.position&&(a.position=a.position.split(/,?\s/));this.each(function(){b=new n(e(this),a);e(this).data("tooltip",b)});return a.api?
b:this}})(jQuery);(function(c){var i=c.tools.tooltip;i.dynamic={conf:{classNames:"top right bottom left"}};c.fn.dynamic=function(f){"number"==typeof f&&(f={speed:f});var f=c.extend({},i.dynamic.conf,f),l=c.extend(!0,{},f),j=f.classNames.split(/\s/),e;this.each(function(){var h=c(this).tooltip().onBeforeShow(function(f,h){var d=this.getTip(),a=this.getConf();e||(e=[a.position[0],a.position[1],a.offset[0],a.offset[1],c.extend({},a)]);c.extend(a,e[4]);a.position=[e[0],e[1]];a.offset=[e[2],e[3]];d.css({visibility:"hidden",
position:"absolute",top:h.top,left:h.left}).show();var k=c.extend(!0,{},l),b;b=c(window);var g=b.width()+b.scrollLeft(),i=b.height()+b.scrollTop();b=[d.offset().top<=b.scrollTop(),g<=d.offset().left+d.width(),i<=d.offset().top+d.height(),b.scrollLeft()>=d.offset().left];a:{for(g=b.length;g--;)if(b[g]){g=!1;break a}g=!0}if(!g){b[2]&&(c.extend(a,k.top),a.position[0]="top",d.addClass(j[0]));b[3]&&(c.extend(a,k.right),a.position[1]="right",d.addClass(j[1]));b[0]&&(c.extend(a,k.bottom),a.position[0]="bottom",
d.addClass(j[2]));b[1]&&(c.extend(a,k.left),a.position[1]="left",d.addClass(j[3]));if(b[0]||b[2])a.offset[0]*=-1;if(b[1]||b[3])a.offset[1]*=-1}d.css({visibility:"visible"}).hide()});h.onBeforeShow(function(){var c=this.getConf();this.getTip();setTimeout(function(){c.position=[e[0],e[1]];c.offset=[e[2],e[3]]},0)});h.onHide(function(){this.getTip().removeClass(f.classNames)});ret=h});return f.api?ret:this}})(jQuery);(function(b){var e=b.tools.tooltip;b.extend(e.conf,{direction:"up",bounce:!1,slideOffset:10,slideInSpeed:200,slideOutSpeed:200,slideFade:!b.browser.msie});var f={up:["-","top"],down:["+","top"],left:["-","left"],right:["+","left"]};e.addEffect("slide",function(b){var a=this.getConf(),g=this.getTip(),c=a.slideFade?{opacity:a.opacity}:{},d=f[a.direction]||f.up;c[d[1]]=d[0]+"="+a.slideOffset;a.slideFade&&g.css({opacity:0});g.show().animate(c,a.slideInSpeed,b)},function(e){var a=this.getConf(),g=a.slideOffset,
c=a.slideFade?{opacity:0}:{},d=f[a.direction]||f.up,h=""+d[0];a.bounce&&(h="+"==h?"-":"+");c[d[1]]=h+"="+g;this.getTip().animate(c,a.slideOutSpeed,function(){b(this).hide();e.call()})})})(jQuery);(function(c){function i(b,a,f){var a=c(a).first()||a,d=b.offset().top,e=b.offset().left,g=f.position.split(/,?\s+/),j=g[0],g=g[1],d=d-(a.outerHeight()-f.offset[0]),e=e+(b.outerWidth()+f.offset[1]);/iPad/i.test(navigator.userAgent)&&(d-=c(window).scrollTop());f=a.outerHeight()+b.outerHeight();"center"==j&&(d+=f/2);"bottom"==j&&(d+=f);b=b.outerWidth();"center"==g&&(e-=(b+a.outerWidth())/2);"left"==g&&(e-=b);return{top:d,left:e}}function q(b){function a(){return this.getAttribute("type")==b}a.key='[type="'+
b+'"]';return a}function n(b,a,f){function p(a,b,e){if(f.grouped||!a.length){var g;!1===e||c.isArray(e)?(g=d.messages[b.key||b]||d.messages["*"],g=g[f.lang]||d.messages["*"].en,(b=g.match(/\$\d/g))&&c.isArray(e)&&c.each(b,function(a){g=g.replace(this,e[a])})):g=e[f.lang]||e;a.push(g)}}var e=this,g=a.add(e),b=b.not(":button, :image, :reset, :submit");a.attr("novalidate","novalidate");c.extend(e,{getConf:function(){return f},getForm:function(){return a},getInputs:function(){return b},reflow:function(){b.each(function(){var a=
c(this),b=a.data("msg.el");b&&(a=i(a,b,f),b.css({top:a.top,left:a.left}))});return e},invalidate:function(a,h){if(!h){var d=[];c.each(a,function(a,f){var c=b.filter("[name='"+a+"']");c.length&&(c.trigger("OI",[f]),d.push({input:c,messages:[f]}))});a=d;h=c.Event()}h.type="onFail";g.trigger(h,[a]);h.isDefaultPrevented()||l[f.effect][0].call(e,a,h);return e},reset:function(a){a=a||b;a.removeClass(f.errorClass).each(function(){var a=c(this).data("msg.el");a&&(a.remove(),c(this).data("msg.el",null))}).off(f.errorInputEvent+
".v"||"");return e},destroy:function(){a.off(f.formEvent+".V reset.V");b.off(f.inputEvent+".V change.V");return e.reset()},checkValidity:function(a,h){var a=a||b,a=a.not(":disabled"),d={},a=a.filter(function(){var a=c(this).attr("name");if(!d[a])return d[a]=!0,c(this)});if(!a.length)return!0;h=h||c.Event();h.type="onBeforeValidate";g.trigger(h,[a]);if(h.isDefaultPrevented())return h.result;var k=[];a.each(function(){var a=[],b=c(this).data("messages",a),d=m&&b.is(":date")?"onHide.v":f.errorInputEvent+
".v";b.off(d);c.each(o,function(){var c=this[0];if(b.filter(c).length){var d=this[1].call(e,b,b.val());if(!0!==d){h.type="onBeforeFail";g.trigger(h,[b,c]);if(h.isDefaultPrevented())return!1;var j=b.attr(f.messageAttr);if(j)return a=[j],!1;p(a,c,d)}}});if(a.length&&(k.push({input:b,messages:a}),b.trigger("OI",[a]),f.errorInputEvent))b.on(d,function(a){e.checkValidity(b,a)});if(f.singleError&&k.length)return!1});var i=l[f.effect];if(!i)throw'Validator: cannot find effect "'+f.effect+'"';if(k.length)return e.invalidate(k,
h),!1;i[1].call(e,a,h);h.type="onSuccess";g.trigger(h,[a]);a.off(f.errorInputEvent+".v");return!0}});c.each(["onBeforeValidate","onBeforeFail","onFail","onSuccess"],function(a,b){if(c.isFunction(f[b]))c(e).on(b,f[b]);e[b]=function(a){if(a)c(e).on(b,a);return e}});if(f.formEvent)a.on(f.formEvent+".V",function(b){if(!e.checkValidity(null,b))return b.preventDefault();b.target=a;b.type=f.formEvent});a.on("reset.V",function(){e.reset()});b[0]&&b[0].validity&&b.each(function(){this.oninvalid=function(){return!1}});
a[0]&&(a[0].checkValidity=e.checkValidity);if(f.inputEvent)b.on(f.inputEvent+".V",function(a){e.checkValidity(c(this),a)});b.filter(":checkbox, select").filter("[required]").on("change.V",function(a){var b=c(this);(this.checked||b.is("select")&&c(this).val())&&l[f.effect][1].call(e,b,a)});b.filter(":radio[required]").on("change.V",function(a){var b=c("[name='"+c(a.srcElement).attr("name")+"']");b!=null&&b.length!=0&&e.checkValidity(b,a)});c(window).resize(function(){e.reflow()})}c.tools=c.tools||
{version:"@VERSION"};var r=/\[type=([a-z]+)\]/,s=/^-?[0-9]*(\.[0-9]+)?$/,m=c.tools.dateinput,t=/^([a-z0-9_\.\-\+]+)@([\da-z\.\-]+)\.([a-z\.]{2,6})$/i,u=/^(https?:\/\/)?[\da-z\.\-]+\.[a-z\.]{2,6}[#&+_\?\/\w \.\-=]*$/i,d;d=c.tools.validator={conf:{grouped:!1,effect:"default",errorClass:"invalid",inputEvent:null,errorInputEvent:"keyup",formEvent:"submit",lang:"en",message:"<div/>",messageAttr:"data-message",messageClass:"error",offset:[0,0],position:"center right",singleError:!1,speed:"normal"},messages:{"*":{en:"Please correct this value"}},
localize:function(b,a){c.each(a,function(a,c){d.messages[a]=d.messages[a]||{};d.messages[a][b]=c})},localizeFn:function(b,a){d.messages[b]=d.messages[b]||{};c.extend(d.messages[b],a)},fn:function(b,a,f){c.isFunction(a)?f=a:("string"==typeof a&&(a={en:a}),this.messages[b.key||b]=a);(a=r.exec(b))&&(b=q(a[1]));o.push([b,f])},addEffect:function(b,a,f){l[b]=[a,f]}};var o=[],l={"default":[function(b){var a=this.getConf();c.each(b,function(b,d){var e=d.input;e.addClass(a.errorClass);var g=e.data("msg.el");
g||(g=c(a.message).addClass(a.messageClass).appendTo(document.body),e.data("msg.el",g));g.css({visibility:"hidden"}).find("p").remove();c.each(d.messages,function(a,b){c("<p/>").html(b).appendTo(g)});g.outerWidth()==g.parent().width()&&g.add(g.find("p")).css({display:"inline"});e=i(e,g,a);g.css({visibility:"visible",position:"absolute",top:e.top,left:e.left}).fadeIn(a.speed)})},function(b){var a=this.getConf();b.removeClass(a.errorClass).each(function(){var a=c(this).data("msg.el");a&&a.css({visibility:"hidden"})})}]};
c.each(["email","url","number"],function(b,a){c.expr[":"][a]=function(b){return b.getAttribute("type")===a}});c.fn.oninvalid=function(b){return this[b?"on":"trigger"]("OI",b)};d.fn(":email","Please enter a valid email address",function(b,a){return!a||t.test(a)});d.fn(":url","Please enter a valid URL",function(b,a){return!a||u.test(a)});d.fn(":number","Please enter a numeric value.",function(b,a){return s.test(a)});d.fn("[max]","Please enter a value no larger than $1",function(b,a){if(""===a||m&&b.is(":date"))return!0;
var c=b.attr("max");return parseFloat(a)<=parseFloat(c)?!0:[c]});d.fn("[min]","Please enter a value of at least $1",function(b,a){if(""===a||m&&b.is(":date"))return!0;var c=b.attr("min");return parseFloat(a)>=parseFloat(c)?!0:[c]});d.fn("[required]","Please complete this mandatory field.",function(b,a){return b.is(":checkbox")?b.is(":checked"):!!a});d.fn("[pattern]",function(b,a){return""===a||RegExp("^"+b.attr("pattern")+"$").test(a)});d.fn(":radio","Please select an option.",function(b){var a=!1;
c("[name='"+b.attr("name")+"']").each(function(b,d){c(d).is(":checked")&&(a=!0)});return a?!0:!1});c.fn.validator=function(b){var a=this.data("validator");a&&(a.destroy(),this.removeData("validator"));b=c.extend(!0,{},d.conf,b);if(this.is("form"))return this.each(function(){var d=c(this);a=new n(d.find(":input"),d,b);d.data("validator",a)});a=new n(this,this.eq(0).closest("form"),b);return this.data("validator",a)}})(jQuery);

(function($){$.renderVCRModelBox=function(id,username,displayName,profileAvatarUrl){if(!$('#vcr_template').length)return;var html=$('#vcr_template').html();html=html.replace(/#user_id#/g,id);html=html.replace(/#username#/g,username);html=html.replace(/#avatar_image_src#/g,profileAvatarUrl);html=html.replace(/#display_name#/g,displayName);html=html.replace(/#profile_url#/g,'/profile/'+username);html=html.replace(/#chat_url#/g,'/'+username);html=html.replace(/#chat_popup_url#/g,'/chat-popup/'+username);return $(html);}
$(document).ready(function(){if($('#visited_room_list').length){var history=$.cookie('bcrc2');if(history){var historyData=JSON.parse(history);for(var i=0;i<historyData.length;i++){var modelData=historyData[i];if(!modelData.username||!modelData.displayName||!modelData.userId||!modelData.profileAvatarUrl){continue;}
$modelBox=$.renderVCRModelBox(modelData.userId,modelData.username,modelData.displayName,modelData.profileAvatarUrl);if($.isFunction($.fn.chatShowBehavior)){$modelBox.chatShowBehavior(modelData.username,modelData.displayName);}
$('#visited_room_list').prepend($modelBox);$('#visited_room_list').find('.empty').hide();}}}
$("#bChat").bind("onUserData",function(e){if(!chat.performerData)return;if(!$('#vcr_template').length)return;var modelData=chat.performerData;if(!modelData.username||!modelData.displayName||!modelData.userId||!modelData.profileAvatarUrl){return;}
if(modelData.profileAvatarData){modelData.profileAvatarUrl=chat.buildAvatarUrl(modelData);}
var $modelBox;if($('#visited_room_list').find('[data-chathost="'+modelData.username+'"]').length){$modelBox=$('#visited_room_list').find('[data-chathost="'+modelData.username+'"]');$('#visited_room_list').prepend($modelBox);}else{$modelBox=$.renderVCRModelBox(modelData.userId,modelData.username,modelData.displayName,modelData.profileAvatarUrl);$('#visited_room_list').prepend($modelBox);}
$('#visited_room_list').find('.empty').hide();if($('#visited_room_list .chatroom').length>=10){$('#visited_room_list').find('.chatroom:last').remove();}
var history=$.cookie('bcrc2');var historyData;var mData={userId:modelData.userId,username:modelData.username,displayName:modelData.displayName,profileAvatarUrl:modelData.profileAvatarUrl};if(history){var historyData=JSON.parse(history);for(var i=0;i<historyData.length;i++){if(historyData[i].username==modelData.username){historyData.splice(i,1);break;}}
historyData.push(mData);if(historyData.length>=10){historyData.shift();}}else{historyData=[mData];}
$.cookie('bcrc2',JSON.stringify(historyData),{path:'/',expires:7});});});})(jQuery);
$(document).ready(function(){var timeOut=null;$('#lang_button').hover(function(){if(!$('#header_login_popup').is(':visible')){$("#change_lang").parents('.change_lang_wrap').show();}},function(){if(!$('#header_login_popup').is(':visible')){timeOut=setTimeout(function(){$("#change_lang").parents('.change_lang_wrap').hide();},200);}}).click(function(){var $loginPopup=$('#header_login_popup');if($loginPopup.is(':visible')){$loginPopup.hide();$(this).mouseover();}});$('.change_lang_wrap').hover(function(){clearTimeout(timeOut);$(this).bind('click.lang',function(e){var $clicked=$(e.target);if($clicked.parents('.switch_language').length){$('.change_lang_wrap').hide();}});},function(){$(this).hide();$('body').unbind('click.lang');});});
$(document).ready(function(){var $switcher=$('#switch_night_theme');if($switcher.length){$switcher.click(function(e){e.preventDefault();$.toggleNightTheme(true);});$.toggleNightTheme=function(save){var nightTheme='off';if(!$('body').hasClass('night')){nightTheme='on';}
var ua=window.navigator.userAgent;if(ua.indexOf("MSIE ")>-1||ua.indexOf('Trident/')>-1){$.get($switcher.attr('href'),{value:nightTheme,save:save},function(){var ua=window.navigator.userAgent;if(ua.indexOf("MSIE ")>-1||ua.indexOf('Trident/')>-1){location.reload();}});}else{if(nightTheme=='on'){$('body').addClass('night');}else{$("body").removeClass('night');}
var $logoLangBg=$('#header').find('a.lang_bg');if($logoLangBg.length){$logoLangBg.css('background','');var logoUrl=encodeURI($logoLangBg.data('bg_url'));if(nightTheme=='on'){logoUrl=logoUrl.replace('default','night');}else{logoUrl=logoUrl.replace('night','default');}
var $clone=$('<a class="lang_bg" data-bg_url="'+$logoLangBg.data('bg_url')+'" style="background: url('+logoUrl+') no-repeat" href="'+$logoLangBg.attr('href')+'"></a>');$logoLangBg.replaceWith($clone)}
$.get($switcher.attr('href'),{value:nightTheme,save:save});if($('#mls_videoconsole').length){$('.jp-jplayer').resizeTubeChat();}
var listing=$('#mls_container').data('listing');if(listing){listing.resizer.resize();}}};}});
$(document).ready(function(){$('.resend_activation_email').find('form').submittedToRemote();$('.resend_activation_email').find('a.submit').bind('click',function(){$(this).closest('form').submit();});$('.main_login_form').closest('form').submittedToRemote(undefined,function(data,textStatus,XMLHttpRequest){if(data.email){$('#resend_activation_email_username').val($('.main_login_form').find('#log_in_username').val());$('#resend_activation_email_email').val(data.email);$('.resend_activation_email').show();}else{$('.resend_activation_email').hide();}});});
$(document).ready(function(){var $body=$('body'),$memberJoinPopup=$('#member_join_popup'),$memberJoinPopupTrigger=$('#member_join_popup_trigger');$.initSignupForm=function(){var $container=$('.f_join_form');$container.submittedToRemote(undefined,function(data,textStatus,XMLHttpRequest){if(undefined!=data.fields&&null!=data.fields){for(var fieldId in data.fields){var $field=$('#'+fieldId);var msg=data.fields[fieldId].replace(/<\/?[^>]+>/gi,'');if(fieldId.indexOf('_terms_of_use')!=-1){if(!$field.closest('form').hasClass('f_member_join_form')){$field.before('<div class="terms_of_use_errors">'+msg+'</div>');}}else{$field.parent().find('div.obelix').removeClass('valid').addClass('notvalid').attr('title',msg);$field.parent().removeClass('valid').addClass('notvalid');if($field.parents('.step_green').length||$field.parents('.step_yellow').length){$field.val('').attr('placeholder',$.trim(msg));}}}
var $imgCaptcha=$container.find('img.captcha');if($imgCaptcha.length>0){$imgCaptcha.click();$container.find('input.captcha').val('');}}},function(form){form.find('div.input_wrapper').removeClass('notvalid');form.find('div.obelix').removeClass('notvalid');form.find('.terms_of_use_errors').remove();if(form.parents('#member_join_popup').is('.step_green, .step_yellow, .gold_step_girl, .gold_step_yellow')){form.find('input').removeAttr('placeholder')}});$container.find('input:not(input.captcha, input[id$=_csrf_token], input.popup_signup_source_id, input.security_log_additional_info, input[id$=_terms_of_use], input[id$=_id])').after('<div class="obelix"></div>');$container.find('input[validate_url]').each(function(){if($(this).val()!=''){$(this).checkvalidateurl();}});$('.benefits-container').find('.benefit-item:even').addClass('odd');};$.allowedPopups=function(){return['step_green','girls_blue','cam_green','default','horizont_green2','gold_step_girl','gay_enter','shemale_reg'];};$.showSignupPopup=function(isClick,name,isTrack){var $fancy=$('.fancybox-opened');if($fancy.length&&($fancy.find('#member_join_popup').length||$fancy.find('.important_popup').length||$fancy.find('.march_promo_popup').length)){return false;}
var popup,popups=[],gayPopups=[],transPopups=[],noPromoCode=false;if($.isPromoCodeSignupPopupsOnly==true){popups=['step_green','girls_blue','cam_green','default'];gayPopups=['step_green','cam_green','default'];transPopups=['step_green','cam_green','default'];if($.liveTab=='male'){popups=gayPopups;}else if($.liveTab=='transsexual'){popups=transPopups;}
if(true==$.isFullMobile){popups=$.grep(popups,function(el){return el.indexOf('cam_green')===-1;});}
popup=popups[Math.floor(Math.random()*popups.length)];}else{var useTypesPopup=['ok:','np:','g:'];popups=['ok:|horizont_green2','np:|girls_blue','np:|step_green'];gayPopups=['ok:|horizont_green2','np:|gay_enter','np:|step_green'];transPopups=['ok:|horizont_green2','np:|shemale_reg','np:|step_green'];if($.liveTab=='male'){popups=gayPopups;}else if($.liveTab=='transsexual'){popups=transPopups;}
if(isClick&&$.inArray('nk:',useTypesPopup)!==-1){popups=$.grep(popups,function(el){return el.indexOf('nk:')===-1;});}else if(!isClick&&$.inArray('ok:',useTypesPopup)!==-1){popups=$.grep(popups,function(el){return el.indexOf('ok:')===-1;});}
if(!$memberJoinPopupTrigger.data('show_gold')||$.inArray('g:',useTypesPopup)===-1){popups=$.grep(popups,function(el){return el.indexOf('g:')===-1;});}
if(true==$.isFullMobile){popups=$.grep(popups,function(el){return el.indexOf('cam_greenmin')===-1;});}
var polluxnDomains=['tukif.club','porndig.club','boafoda.club','pornes.club','pornototale.club'];var regExp=new RegExp(polluxnDomains.join('|'));if(regExp.test(window.location.href)){popups=$.grep(popups,function(el){return el.indexOf('girls_blue')===-1&&el.indexOf('step_green')===-1&&el.indexOf('gay_enter')===-1&&el.indexOf('shemale_reg')===-1&&el.indexOf('gold_step_girl')===-1&&el.indexOf('gold_step_yellow')===-1;});if(!popups.length){return;}}
if(name){popup=name;}else{popup=popups[Math.floor(Math.random()*popups.length)];}
if(popup.indexOf('|')!==-1){var arr=popup.split('|');popup=arr[1];if(arr[0].indexOf('np:')!==-1){noPromoCode=true;}
if(arr[0].indexOf('w:')!==-1&&$.inArray('w:',useTypesPopup)!==-1){var newWindowUrl=$memberJoinPopupTrigger.attr('join_url')+'?pop='+popup;if(noPromoCode){newWindowUrl+='&no_promo_code=1';}
if(popup=='cam_green'||popup=='cam_yellow'){newWindowUrl+='&'+$.param(prepareSignupCamParams($memberJoinPopupTrigger.attr('livetab'),$memberJoinPopupTrigger.attr('profile')));}
window.open(newWindowUrl);return false;}}}
$.openSignupPopup(isClick,popup,isTrack,noPromoCode);return true;};$.initSignupFast=function(){var $memberJoinPopup=$('#member_join_popup');$memberJoinPopup.find('.form_row_email input').attr('placeholder',__('E-mail'));$memberJoinPopup.find('.form_row_email .form_row').append($memberJoinPopup.find('.email_hint'));$.get($memberJoinPopup.find('.popup.join').attr('gen-url'),{},function(data){data=JSON.parse(data);$memberJoinPopup.find('.form_row_username input').val(data.username).prop('generated',true);$memberJoinPopup.find('.form_row_password input').val(data.password).prop('generated',true);});};$.toggleSignupSteps=function(){var $memberJoinPopup=$('#member_join_popup');$memberJoinPopup.find('.join_step.active').removeClass('active');if(!$memberJoinPopup.find('.form_row_username .obelix').hasClass('valid')){$memberJoinPopup.find('.join_step1').addClass('active');$memberJoinPopup.find('button.next').show();$memberJoinPopup.find('.form_row_username').show();$memberJoinPopup.find('.form_row_email, .form_row_password, .terms_of_use, .promo_code').hide();$memberJoinPopup.find('.form_actions').hide();$memberJoinPopup.find('button.next').show();$memberJoinPopup.find('.join_step1').show();$memberJoinPopup.find('.join_step2').hide();$memberJoinPopup.find('.lazy_text_foot').removeClass('active');}else{$memberJoinPopup.find('.join_step2').addClass('active');$memberJoinPopup.find('.form_row_username').hide();$memberJoinPopup.find('.form_row_email, .form_row_password, .terms_of_use, .promo_code').show();$memberJoinPopup.find('.form_actions').show();$memberJoinPopup.find('button.next').hide();$memberJoinPopup.find('.join_step1').hide();$memberJoinPopup.find('.join_step2').show();$memberJoinPopup.find('.lazy_text_foot').addClass('active');}};$.initSignupHorizont=function(){var $memberJoinPopup=$('#member_join_popup');$memberJoinPopup.find('.form_row_username input').attr('placeholder',__('Username',[],false));$memberJoinPopup.find('.form_row_email input').attr('placeholder',__('Email',[],false));$memberJoinPopup.find('.form_row_password input').attr('placeholder',__('Password',[],false));};$.removePlaceholders=function(){var $memberJoinPopup=$('#member_join_popup');$memberJoinPopup.find('.form_row_username input').removeAttr('placeholder');$memberJoinPopup.find('.form_row_email input').removeAttr('placeholder');$memberJoinPopup.find('.form_row_password input').removeAttr('placeholder');};$.initSignupCam=function(livetab,performer){$.get($('#member_join_cam_preview').attr('preview_url'),prepareSignupCamParams(livetab,performer),function(data){$('#member_join_cam_preview').html(data);});};function prepareSignupCamParams(livetab,performer){var data={};if(undefined!=window.chat&&undefined!=window.chat.userData&&undefined!=window.chat.userData.chathost){data.performer=window.chat.userData.chathost;}else if(performer){data.performer=performer;}else{data.livetab=livetab;}
return data;}
$('[rel=pre_signup]').each(function(){$(this).open({width:950,height:700,left:(($(window).width()-950)/2),top:(($(window).height()-700)/2),windowName:$(this).attr('name')||'member_signup'});});$body.delegate('[rel=signup]','click',function(e){if(!$memberJoinPopupTrigger.length){$memberJoinPopupTrigger=$('#member_join_popup_trigger');}
if($memberJoinPopupTrigger.length){e.preventDefault();$.showSignupPopup(true);}else{if('_self'==$(this).attr(('target'))){window.location=this.href;}else{window.open(this.href);}}
return false;});$.openSignupPopup=function(isClick,name,isTrack,noPromoCode){if(!$memberJoinPopupTrigger.length){$memberJoinPopupTrigger=$('#member_join_popup_trigger');}
if(typeof isTrack=='undefined'){isTrack=true;}
$.fancybox.open($memberJoinPopupTrigger.attr('href'),{helpers:{overlay:{locked:false,closeClick:false}},type:'ajax',ajax:{data:{pop:name,is_click:isClick,is_track:isTrack,no_promo_code:noPromoCode||0}},scrolling:'no',padding:0,autoResize:false,wrapCSS:'fancybox-bonga-wrap',closeBtn:isClick,openSpeed:100,closeSpeed:100,fitToView:false,beforeShow:function(){$.initSignupForm();var params={name:name};if(!this.closeBtn){params.force_show=1;}
if($memberJoinPopup.hasClass('no_promo_code')){params.no_promo_code=1;}
if(typeof $.liveTab!='undefined'){params.live_tab=$.liveTab;}
if(isTrack){$.get($memberJoinPopupTrigger.attr('track_url'),params,function(data){$('input.popup_signup_source_id').val(data);});}}});};if(!$.isTranslateSkin&&$.showRegistrationPopups){if($memberJoinPopupTrigger.length){setInterval(function(){$.showSignupPopup(false);},1000*60*2);}}
$body.delegate('#member_join_popup button.next','click',function(){var $memberJoinPopup=$('#member_join_popup');$memberJoinPopup.find('.form_row_username input').checkvalidateurl(function(msg){$memberJoinPopup.find('.form_row_username input').val('').attr('placeholder',$.trim(msg).replace(/<\/?[^>]+>/gi,''));});$.toggleSignupSteps();});$body.delegate('.f_join_form .captcha_link_text','click',function(){$(this).closest('form').find('img[class="captcha"]').click();});$body.delegate('.f_join_form input[id$=_password]:not(input[id$=_retype_password])','blur',function(){$(this).checkPassword();});$body.delegate('.f_join_form input[id$=_retype_password]','blur',function(){$(this).checkRetypePassword();});$body.delegate('.f_join_form input[validate_url]','blur',function(){$(this).checkvalidateurl();});$body.delegate('#cam_preview_toggle_sound','click',function(){try{var swf=$('#cam_preview_object').get(0);if(!$(this).hasClass('on')){$(this).addClass('on');swf.muteAudio(false);}else{$(this).removeClass('on');swf.muteAudio(true);}}catch(e){if(console)
console.log(e);}});});function previewCloseStream(){$('#cam_preview_overlay').show();}
(function($){$.calculatePasswordStrength=function(password,username)
{var score=0;if(password.length<6){return 0}
if(password.toLowerCase()==username.toLowerCase()){return 0;}
score+=password.length*4
score+=(checkRepetition(1,password).length-password.length)*1
score+=(checkRepetition(2,password).length-password.length)*1
score+=(checkRepetition(3,password).length-password.length)*1
score+=(checkRepetition(4,password).length-password.length)*1
if(password.match(/(.*[0-9].*[0-9].*[0-9])/))score+=5
if(password.match(/(.*[!,@,#,$,%,^,&,*,?,_,~].*[!,@,#,$,%,^,&,*,?,_,~])/))score+=5
if(password.match(/([a-z].*[A-Z])|([A-Z].*[a-z])/))score+=10
if(password.match(/([a-zA-Z])/)&&password.match(/([0-9])/))score+=15
if(password.match(/([!,@,#,$,%,^,&,*,?,_,~])/)&&password.match(/([0-9])/))score+=15
if(password.match(/([!,@,#,$,%,^,&,*,?,_,~])/)&&password.match(/([a-zA-Z])/))score+=15
if(password.match(/^\w+$/)||password.match(/^\d+$/))score-=10
if(score<0)score=0;if(score>100)score=100;return score;}
function checkRepetition(pLen,str){var res="";var repeated;for(var i=0;i<str.length;i++){repeated=true;for(var j=0;j<pLen&&(j+i+pLen)<str.length;j++)
repeated=repeated&&(str.charAt(j+i)==str.charAt(j+i+pLen))
if(j<pLen)repeated=false;if(repeated){i+=pLen-1;repeated=false;}
else{res+=str.charAt(i);}}
return res;}
$.fn.passwordStrength=function(options){var defaults={usernameInput:$('<input/>'),usernameValue:null,onResult:function(){}};options=$.extend(defaults,options);return this.each(function(){$(this).keyup(function(){var username;if(null==options.usernameValue){username=options.usernameInput.val();}else{username=options.usernameValue;}
if(!username||!this.value)return;options.onResult($.calculatePasswordStrength(this.value,username));});});};})(jQuery);
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var f;"undefined"!=typeof window?f=window:"undefined"!=typeof global?f=global:"undefined"!=typeof self&&(f=self),f.React=e()}}(function(){var define,module,exports;return(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(_dereq_,module,exports){"use strict";var DOMPropertyOperations=_dereq_("./DOMPropertyOperations");var EventPluginUtils=_dereq_("./EventPluginUtils");var ReactChildren=_dereq_("./ReactChildren");var ReactComponent=_dereq_("./ReactComponent");var ReactCompositeComponent=_dereq_("./ReactCompositeComponent");var ReactContext=_dereq_("./ReactContext");var ReactCurrentOwner=_dereq_("./ReactCurrentOwner");var ReactElement=_dereq_("./ReactElement");var ReactElementValidator=_dereq_("./ReactElementValidator");var ReactDOM=_dereq_("./ReactDOM");var ReactDOMComponent=_dereq_("./ReactDOMComponent");var ReactDefaultInjection=_dereq_("./ReactDefaultInjection");var ReactInstanceHandles=_dereq_("./ReactInstanceHandles");var ReactLegacyElement=_dereq_("./ReactLegacyElement");var ReactMount=_dereq_("./ReactMount");var ReactMultiChild=_dereq_("./ReactMultiChild");var ReactPerf=_dereq_("./ReactPerf");var ReactPropTypes=_dereq_("./ReactPropTypes");var ReactServerRendering=_dereq_("./ReactServerRendering");var ReactTextComponent=_dereq_("./ReactTextComponent");var assign=_dereq_("./Object.assign");var deprecated=_dereq_("./deprecated");var onlyChild=_dereq_("./onlyChild");ReactDefaultInjection.inject();var createElement=ReactElement.createElement;var createFactory=ReactElement.createFactory;if("production"!=="development"){createElement=ReactElementValidator.createElement;createFactory=ReactElementValidator.createFactory;}
createElement=ReactLegacyElement.wrapCreateElement(createElement);createFactory=ReactLegacyElement.wrapCreateFactory(createFactory);var render=ReactPerf.measure('React','render',ReactMount.render);var React={Children:{map:ReactChildren.map,forEach:ReactChildren.forEach,count:ReactChildren.count,only:onlyChild},DOM:ReactDOM,PropTypes:ReactPropTypes,initializeTouchEvents:function(shouldUseTouch){EventPluginUtils.useTouchEvents=shouldUseTouch;},createClass:ReactCompositeComponent.createClass,createElement:createElement,createFactory:createFactory,constructAndRenderComponent:ReactMount.constructAndRenderComponent,constructAndRenderComponentByID:ReactMount.constructAndRenderComponentByID,render:render,renderToString:ReactServerRendering.renderToString,renderToStaticMarkup:ReactServerRendering.renderToStaticMarkup,unmountComponentAtNode:ReactMount.unmountComponentAtNode,isValidClass:ReactLegacyElement.isValidClass,isValidElement:ReactElement.isValidElement,withContext:ReactContext.withContext,__spread:assign,renderComponent:deprecated('React','renderComponent','render',this,render),renderComponentToString:deprecated('React','renderComponentToString','renderToString',this,ReactServerRendering.renderToString),renderComponentToStaticMarkup:deprecated('React','renderComponentToStaticMarkup','renderToStaticMarkup',this,ReactServerRendering.renderToStaticMarkup),isValidComponent:deprecated('React','isValidComponent','isValidElement',this,ReactElement.isValidElement)};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!=='undefined'&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject==='function'){__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({Component:ReactComponent,CurrentOwner:ReactCurrentOwner,DOMComponent:ReactDOMComponent,DOMPropertyOperations:DOMPropertyOperations,InstanceHandles:ReactInstanceHandles,Mount:ReactMount,MultiChild:ReactMultiChild,TextComponent:ReactTextComponent});}
if("production"!=="development"){var ExecutionEnvironment=_dereq_("./ExecutionEnvironment");if(ExecutionEnvironment.canUseDOM&&window.top===window.self){if(navigator.userAgent.indexOf('Chrome')>-1){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__==='undefined'){console.debug('Download the React DevTools for a better development experience: '+'http://fb.me/react-devtools');}}
var expectedFeatures=[Array.isArray,Array.prototype.every,Array.prototype.forEach,Array.prototype.indexOf,Array.prototype.map,Date.now,Function.prototype.bind,Object.keys,String.prototype.split,String.prototype.trim,Object.create,Object.freeze];for(var i=0;i<expectedFeatures.length;i++){if(!expectedFeatures[i]){console.error('One or more ES5 shim/shams expected by React are not available: '+'http://fb.me/react-warning-polyfills');break;}}}}
React.version='0.12.2';module.exports=React;},{"./DOMPropertyOperations":12,"./EventPluginUtils":20,"./ExecutionEnvironment":22,"./Object.assign":27,"./ReactChildren":31,"./ReactComponent":32,"./ReactCompositeComponent":34,"./ReactContext":35,"./ReactCurrentOwner":36,"./ReactDOM":37,"./ReactDOMComponent":39,"./ReactDefaultInjection":49,"./ReactElement":52,"./ReactElementValidator":53,"./ReactInstanceHandles":60,"./ReactLegacyElement":61,"./ReactMount":63,"./ReactMultiChild":64,"./ReactPerf":68,"./ReactPropTypes":72,"./ReactServerRendering":76,"./ReactTextComponent":78,"./deprecated":106,"./onlyChild":137}],2:[function(_dereq_,module,exports){"use strict";var focusNode=_dereq_("./focusNode");var AutoFocusMixin={componentDidMount:function(){if(this.props.autoFocus){focusNode(this.getDOMNode());}}};module.exports=AutoFocusMixin;},{"./focusNode":111}],3:[function(_dereq_,module,exports){"use strict";var EventConstants=_dereq_("./EventConstants");var EventPropagators=_dereq_("./EventPropagators");var ExecutionEnvironment=_dereq_("./ExecutionEnvironment");var SyntheticInputEvent=_dereq_("./SyntheticInputEvent");var keyOf=_dereq_("./keyOf");var canUseTextInputEvent=(ExecutionEnvironment.canUseDOM&&'TextEvent'in window&&!('documentMode'in document||isPresto()));function isPresto(){var opera=window.opera;return(typeof opera==='object'&&typeof opera.version==='function'&&parseInt(opera.version(),10)<=12);}
var SPACEBAR_CODE=32;var SPACEBAR_CHAR=String.fromCharCode(SPACEBAR_CODE);var topLevelTypes=EventConstants.topLevelTypes;var eventTypes={beforeInput:{phasedRegistrationNames:{bubbled:keyOf({onBeforeInput:null}),captured:keyOf({onBeforeInputCapture:null})},dependencies:[topLevelTypes.topCompositionEnd,topLevelTypes.topKeyPress,topLevelTypes.topTextInput,topLevelTypes.topPaste]}};var fallbackChars=null;var hasSpaceKeypress=false;function isKeypressCommand(nativeEvent){return((nativeEvent.ctrlKey||nativeEvent.altKey||nativeEvent.metaKey)&&!(nativeEvent.ctrlKey&&nativeEvent.altKey));}
var BeforeInputEventPlugin={eventTypes:eventTypes,extractEvents:function(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent){var chars;if(canUseTextInputEvent){switch(topLevelType){case topLevelTypes.topKeyPress:var which=nativeEvent.which;if(which!==SPACEBAR_CODE){return;}
hasSpaceKeypress=true;chars=SPACEBAR_CHAR;break;case topLevelTypes.topTextInput:chars=nativeEvent.data;if(chars===SPACEBAR_CHAR&&hasSpaceKeypress){return;}
break;default:return;}}else{switch(topLevelType){case topLevelTypes.topPaste:fallbackChars=null;break;case topLevelTypes.topKeyPress:if(nativeEvent.which&&!isKeypressCommand(nativeEvent)){fallbackChars=String.fromCharCode(nativeEvent.which);}
break;case topLevelTypes.topCompositionEnd:fallbackChars=nativeEvent.data;break;}
if(fallbackChars===null){return;}
chars=fallbackChars;}
if(!chars){return;}
var event=SyntheticInputEvent.getPooled(eventTypes.beforeInput,topLevelTargetID,nativeEvent);event.data=chars;fallbackChars=null;EventPropagators.accumulateTwoPhaseDispatches(event);return event;}};module.exports=BeforeInputEventPlugin;},{"./EventConstants":16,"./EventPropagators":21,"./ExecutionEnvironment":22,"./SyntheticInputEvent":89,"./keyOf":133}],4:[function(_dereq_,module,exports){"use strict";var isUnitlessNumber={columnCount:true,flex:true,flexGrow:true,flexShrink:true,fontWeight:true,lineClamp:true,lineHeight:true,opacity:true,order:true,orphans:true,widows:true,zIndex:true,zoom:true,fillOpacity:true,strokeOpacity:true};function prefixKey(prefix,key){return prefix+key.charAt(0).toUpperCase()+key.substring(1);}
var prefixes=['Webkit','ms','Moz','O'];Object.keys(isUnitlessNumber).forEach(function(prop){prefixes.forEach(function(prefix){isUnitlessNumber[prefixKey(prefix,prop)]=isUnitlessNumber[prop];});});var shorthandPropertyExpansions={background:{backgroundImage:true,backgroundPosition:true,backgroundRepeat:true,backgroundColor:true},border:{borderWidth:true,borderStyle:true,borderColor:true},borderBottom:{borderBottomWidth:true,borderBottomStyle:true,borderBottomColor:true},borderLeft:{borderLeftWidth:true,borderLeftStyle:true,borderLeftColor:true},borderRight:{borderRightWidth:true,borderRightStyle:true,borderRightColor:true},borderTop:{borderTopWidth:true,borderTopStyle:true,borderTopColor:true},font:{fontStyle:true,fontVariant:true,fontWeight:true,fontSize:true,lineHeight:true,fontFamily:true}};var CSSProperty={isUnitlessNumber:isUnitlessNumber,shorthandPropertyExpansions:shorthandPropertyExpansions};module.exports=CSSProperty;},{}],5:[function(_dereq_,module,exports){"use strict";var CSSProperty=_dereq_("./CSSProperty");var ExecutionEnvironment=_dereq_("./ExecutionEnvironment");var camelizeStyleName=_dereq_("./camelizeStyleName");var dangerousStyleValue=_dereq_("./dangerousStyleValue");var hyphenateStyleName=_dereq_("./hyphenateStyleName");var memoizeStringOnly=_dereq_("./memoizeStringOnly");var warning=_dereq_("./warning");var processStyleName=memoizeStringOnly(function(styleName){return hyphenateStyleName(styleName);});var styleFloatAccessor='cssFloat';if(ExecutionEnvironment.canUseDOM){if(document.documentElement.style.cssFloat===undefined){styleFloatAccessor='styleFloat';}}
if("production"!=="development"){var warnedStyleNames={};var warnHyphenatedStyleName=function(name){if(warnedStyleNames.hasOwnProperty(name)&&warnedStyleNames[name]){return;}
warnedStyleNames[name]=true;("production"!=="development"?warning(false,'Unsupported style property '+name+'. Did you mean '+
camelizeStyleName(name)+'?'):null);};}
var CSSPropertyOperations={createMarkupForStyles:function(styles){var serialized='';for(var styleName in styles){if(!styles.hasOwnProperty(styleName)){continue;}
if("production"!=="development"){if(styleName.indexOf('-')>-1){warnHyphenatedStyleName(styleName);}}
var styleValue=styles[styleName];if(styleValue!=null){serialized+=processStyleName(styleName)+':';serialized+=dangerousStyleValue(styleName,styleValue)+';';}}
return serialized||null;},setValueForStyles:function(node,styles){var style=node.style;for(var styleName in styles){if(!styles.hasOwnProperty(styleName)){continue;}
if("production"!=="development"){if(styleName.indexOf('-')>-1){warnHyphenatedStyleName(styleName);}}
var styleValue=dangerousStyleValue(styleName,styles[styleName]);if(styleName==='float'){styleName=styleFloatAccessor;}
if(styleValue){style[styleName]=styleValue;}else{var expansion=CSSProperty.shorthandPropertyExpansions[styleName];if(expansion){for(var individualStyleName in expansion){style[individualStyleName]='';}}else{style[styleName]='';}}}}};module.exports=CSSPropertyOperations;},{"./CSSProperty":4,"./ExecutionEnvironment":22,"./camelizeStyleName":100,"./dangerousStyleValue":105,"./hyphenateStyleName":124,"./memoizeStringOnly":135,"./warning":145}],6:[function(_dereq_,module,exports){"use strict";var PooledClass=_dereq_("./PooledClass");var assign=_dereq_("./Object.assign");var invariant=_dereq_("./invariant");function CallbackQueue(){this._callbacks=null;this._contexts=null;}
assign(CallbackQueue.prototype,{enqueue:function(callback,context){this._callbacks=this._callbacks||[];this._contexts=this._contexts||[];this._callbacks.push(callback);this._contexts.push(context);},notifyAll:function(){var callbacks=this._callbacks;var contexts=this._contexts;if(callbacks){("production"!=="development"?invariant(callbacks.length===contexts.length,"Mismatched list of contexts in callback queue"):invariant(callbacks.length===contexts.length));this._callbacks=null;this._contexts=null;for(var i=0,l=callbacks.length;i<l;i++){callbacks[i].call(contexts[i]);}
callbacks.length=0;contexts.length=0;}},reset:function(){this._callbacks=null;this._contexts=null;},destructor:function(){this.reset();}});PooledClass.addPoolingTo(CallbackQueue);module.exports=CallbackQueue;},{"./Object.assign":27,"./PooledClass":28,"./invariant":126}],7:[function(_dereq_,module,exports){"use strict";var EventConstants=_dereq_("./EventConstants");var EventPluginHub=_dereq_("./EventPluginHub");var EventPropagators=_dereq_("./EventPropagators");var ExecutionEnvironment=_dereq_("./ExecutionEnvironment");var ReactUpdates=_dereq_("./ReactUpdates");var SyntheticEvent=_dereq_("./SyntheticEvent");var isEventSupported=_dereq_("./isEventSupported");var isTextInputElement=_dereq_("./isTextInputElement");var keyOf=_dereq_("./keyOf");var topLevelTypes=EventConstants.topLevelTypes;var eventTypes={change:{phasedRegistrationNames:{bubbled:keyOf({onChange:null}),captured:keyOf({onChangeCapture:null})},dependencies:[topLevelTypes.topBlur,topLevelTypes.topChange,topLevelTypes.topClick,topLevelTypes.topFocus,topLevelTypes.topInput,topLevelTypes.topKeyDown,topLevelTypes.topKeyUp,topLevelTypes.topSelectionChange]}};var activeElement=null;var activeElementID=null;var activeElementValue=null;var activeElementValueProp=null;function shouldUseChangeEvent(elem){return(elem.nodeName==='SELECT'||(elem.nodeName==='INPUT'&&elem.type==='file'));}
var doesChangeEventBubble=false;if(ExecutionEnvironment.canUseDOM){doesChangeEventBubble=isEventSupported('change')&&(!('documentMode'in document)||document.documentMode>8);}
function manualDispatchChangeEvent(nativeEvent){var event=SyntheticEvent.getPooled(eventTypes.change,activeElementID,nativeEvent);EventPropagators.accumulateTwoPhaseDispatches(event);ReactUpdates.batchedUpdates(runEventInBatch,event);}
function runEventInBatch(event){EventPluginHub.enqueueEvents(event);EventPluginHub.processEventQueue();}
function startWatchingForChangeEventIE8(target,targetID){activeElement=target;activeElementID=targetID;activeElement.attachEvent('onchange',manualDispatchChangeEvent);}
function stopWatchingForChangeEventIE8(){if(!activeElement){return;}
activeElement.detachEvent('onchange',manualDispatchChangeEvent);activeElement=null;activeElementID=null;}
function getTargetIDForChangeEvent(topLevelType,topLevelTarget,topLevelTargetID){if(topLevelType===topLevelTypes.topChange){return topLevelTargetID;}}
function handleEventsForChangeEventIE8(topLevelType,topLevelTarget,topLevelTargetID){if(topLevelType===topLevelTypes.topFocus){stopWatchingForChangeEventIE8();startWatchingForChangeEventIE8(topLevelTarget,topLevelTargetID);}else if(topLevelType===topLevelTypes.topBlur){stopWatchingForChangeEventIE8();}}
var isInputEventSupported=false;if(ExecutionEnvironment.canUseDOM){isInputEventSupported=isEventSupported('input')&&(!('documentMode'in document)||document.documentMode>9);}
var newValueProp={get:function(){return activeElementValueProp.get.call(this);},set:function(val){activeElementValue=''+val;activeElementValueProp.set.call(this,val);}};function startWatchingForValueChange(target,targetID){activeElement=target;activeElementID=targetID;activeElementValue=target.value;activeElementValueProp=Object.getOwnPropertyDescriptor(target.constructor.prototype,'value');Object.defineProperty(activeElement,'value',newValueProp);activeElement.attachEvent('onpropertychange',handlePropertyChange);}
function stopWatchingForValueChange(){if(!activeElement){return;}
delete activeElement.value;activeElement.detachEvent('onpropertychange',handlePropertyChange);activeElement=null;activeElementID=null;activeElementValue=null;activeElementValueProp=null;}
function handlePropertyChange(nativeEvent){if(nativeEvent.propertyName!=='value'){return;}
var value=nativeEvent.srcElement.value;if(value===activeElementValue){return;}
activeElementValue=value;manualDispatchChangeEvent(nativeEvent);}
function getTargetIDForInputEvent(topLevelType,topLevelTarget,topLevelTargetID){if(topLevelType===topLevelTypes.topInput){return topLevelTargetID;}}
function handleEventsForInputEventIE(topLevelType,topLevelTarget,topLevelTargetID){if(topLevelType===topLevelTypes.topFocus){stopWatchingForValueChange();startWatchingForValueChange(topLevelTarget,topLevelTargetID);}else if(topLevelType===topLevelTypes.topBlur){stopWatchingForValueChange();}}
function getTargetIDForInputEventIE(topLevelType,topLevelTarget,topLevelTargetID){if(topLevelType===topLevelTypes.topSelectionChange||topLevelType===topLevelTypes.topKeyUp||topLevelType===topLevelTypes.topKeyDown){if(activeElement&&activeElement.value!==activeElementValue){activeElementValue=activeElement.value;return activeElementID;}}}
function shouldUseClickEvent(elem){return(elem.nodeName==='INPUT'&&(elem.type==='checkbox'||elem.type==='radio'));}
function getTargetIDForClickEvent(topLevelType,topLevelTarget,topLevelTargetID){if(topLevelType===topLevelTypes.topClick){return topLevelTargetID;}}
var ChangeEventPlugin={eventTypes:eventTypes,extractEvents:function(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent){var getTargetIDFunc,handleEventFunc;if(shouldUseChangeEvent(topLevelTarget)){if(doesChangeEventBubble){getTargetIDFunc=getTargetIDForChangeEvent;}else{handleEventFunc=handleEventsForChangeEventIE8;}}else if(isTextInputElement(topLevelTarget)){if(isInputEventSupported){getTargetIDFunc=getTargetIDForInputEvent;}else{getTargetIDFunc=getTargetIDForInputEventIE;handleEventFunc=handleEventsForInputEventIE;}}else if(shouldUseClickEvent(topLevelTarget)){getTargetIDFunc=getTargetIDForClickEvent;}
if(getTargetIDFunc){var targetID=getTargetIDFunc(topLevelType,topLevelTarget,topLevelTargetID);if(targetID){var event=SyntheticEvent.getPooled(eventTypes.change,targetID,nativeEvent);EventPropagators.accumulateTwoPhaseDispatches(event);return event;}}
if(handleEventFunc){handleEventFunc(topLevelType,topLevelTarget,topLevelTargetID);}}};module.exports=ChangeEventPlugin;},{"./EventConstants":16,"./EventPluginHub":18,"./EventPropagators":21,"./ExecutionEnvironment":22,"./ReactUpdates":79,"./SyntheticEvent":87,"./isEventSupported":127,"./isTextInputElement":129,"./keyOf":133}],8:[function(_dereq_,module,exports){"use strict";var nextReactRootIndex=0;var ClientReactRootIndex={createReactRootIndex:function(){return nextReactRootIndex++;}};module.exports=ClientReactRootIndex;},{}],9:[function(_dereq_,module,exports){"use strict";var EventConstants=_dereq_("./EventConstants");var EventPropagators=_dereq_("./EventPropagators");var ExecutionEnvironment=_dereq_("./ExecutionEnvironment");var ReactInputSelection=_dereq_("./ReactInputSelection");var SyntheticCompositionEvent=_dereq_("./SyntheticCompositionEvent");var getTextContentAccessor=_dereq_("./getTextContentAccessor");var keyOf=_dereq_("./keyOf");var END_KEYCODES=[9,13,27,32];var START_KEYCODE=229;var useCompositionEvent=(ExecutionEnvironment.canUseDOM&&'CompositionEvent'in window);var useFallbackData=(!useCompositionEvent||('documentMode'in document&&document.documentMode>8&&document.documentMode<=11));var topLevelTypes=EventConstants.topLevelTypes;var currentComposition=null;var eventTypes={compositionEnd:{phasedRegistrationNames:{bubbled:keyOf({onCompositionEnd:null}),captured:keyOf({onCompositionEndCapture:null})},dependencies:[topLevelTypes.topBlur,topLevelTypes.topCompositionEnd,topLevelTypes.topKeyDown,topLevelTypes.topKeyPress,topLevelTypes.topKeyUp,topLevelTypes.topMouseDown]},compositionStart:{phasedRegistrationNames:{bubbled:keyOf({onCompositionStart:null}),captured:keyOf({onCompositionStartCapture:null})},dependencies:[topLevelTypes.topBlur,topLevelTypes.topCompositionStart,topLevelTypes.topKeyDown,topLevelTypes.topKeyPress,topLevelTypes.topKeyUp,topLevelTypes.topMouseDown]},compositionUpdate:{phasedRegistrationNames:{bubbled:keyOf({onCompositionUpdate:null}),captured:keyOf({onCompositionUpdateCapture:null})},dependencies:[topLevelTypes.topBlur,topLevelTypes.topCompositionUpdate,topLevelTypes.topKeyDown,topLevelTypes.topKeyPress,topLevelTypes.topKeyUp,topLevelTypes.topMouseDown]}};function getCompositionEventType(topLevelType){switch(topLevelType){case topLevelTypes.topCompositionStart:return eventTypes.compositionStart;case topLevelTypes.topCompositionEnd:return eventTypes.compositionEnd;case topLevelTypes.topCompositionUpdate:return eventTypes.compositionUpdate;}}
function isFallbackStart(topLevelType,nativeEvent){return(topLevelType===topLevelTypes.topKeyDown&&nativeEvent.keyCode===START_KEYCODE);}
function isFallbackEnd(topLevelType,nativeEvent){switch(topLevelType){case topLevelTypes.topKeyUp:return(END_KEYCODES.indexOf(nativeEvent.keyCode)!==-1);case topLevelTypes.topKeyDown:return(nativeEvent.keyCode!==START_KEYCODE);case topLevelTypes.topKeyPress:case topLevelTypes.topMouseDown:case topLevelTypes.topBlur:return true;default:return false;}}
function FallbackCompositionState(root){this.root=root;this.startSelection=ReactInputSelection.getSelection(root);this.startValue=this.getText();}
FallbackCompositionState.prototype.getText=function(){return this.root.value||this.root[getTextContentAccessor()];};FallbackCompositionState.prototype.getData=function(){var endValue=this.getText();var prefixLength=this.startSelection.start;var suffixLength=this.startValue.length-this.startSelection.end;return endValue.substr(prefixLength,endValue.length-suffixLength-prefixLength);};var CompositionEventPlugin={eventTypes:eventTypes,extractEvents:function(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent){var eventType;var data;if(useCompositionEvent){eventType=getCompositionEventType(topLevelType);}else if(!currentComposition){if(isFallbackStart(topLevelType,nativeEvent)){eventType=eventTypes.compositionStart;}}else if(isFallbackEnd(topLevelType,nativeEvent)){eventType=eventTypes.compositionEnd;}
if(useFallbackData){if(!currentComposition&&eventType===eventTypes.compositionStart){currentComposition=new FallbackCompositionState(topLevelTarget);}else if(eventType===eventTypes.compositionEnd){if(currentComposition){data=currentComposition.getData();currentComposition=null;}}}
if(eventType){var event=SyntheticCompositionEvent.getPooled(eventType,topLevelTargetID,nativeEvent);if(data){event.data=data;}
EventPropagators.accumulateTwoPhaseDispatches(event);return event;}}};module.exports=CompositionEventPlugin;},{"./EventConstants":16,"./EventPropagators":21,"./ExecutionEnvironment":22,"./ReactInputSelection":59,"./SyntheticCompositionEvent":85,"./getTextContentAccessor":121,"./keyOf":133}],10:[function(_dereq_,module,exports){"use strict";var Danger=_dereq_("./Danger");var ReactMultiChildUpdateTypes=_dereq_("./ReactMultiChildUpdateTypes");var getTextContentAccessor=_dereq_("./getTextContentAccessor");var invariant=_dereq_("./invariant");var textContentAccessor=getTextContentAccessor();function insertChildAt(parentNode,childNode,index){parentNode.insertBefore(childNode,parentNode.childNodes[index]||null);}
var updateTextContent;if(textContentAccessor==='textContent'){updateTextContent=function(node,text){node.textContent=text;};}else{updateTextContent=function(node,text){while(node.firstChild){node.removeChild(node.firstChild);}
if(text){var doc=node.ownerDocument||document;node.appendChild(doc.createTextNode(text));}};}
var DOMChildrenOperations={dangerouslyReplaceNodeWithMarkup:Danger.dangerouslyReplaceNodeWithMarkup,updateTextContent:updateTextContent,processUpdates:function(updates,markupList){var update;var initialChildren=null;var updatedChildren=null;for(var i=0;update=updates[i];i++){if(update.type===ReactMultiChildUpdateTypes.MOVE_EXISTING||update.type===ReactMultiChildUpdateTypes.REMOVE_NODE){var updatedIndex=update.fromIndex;var updatedChild=update.parentNode.childNodes[updatedIndex];var parentID=update.parentID;("production"!=="development"?invariant(updatedChild,'processUpdates(): Unable to find child %s of element. This '+'probably means the DOM was unexpectedly mutated (e.g., by the '+'browser), usually due to forgetting a <tbody> when using tables, '+'nesting tags like <form>, <p>, or <a>, or using non-SVG elements '+'in an <svg> parent. Try inspecting the child nodes of the element '+'with React ID `%s`.',updatedIndex,parentID):invariant(updatedChild));initialChildren=initialChildren||{};initialChildren[parentID]=initialChildren[parentID]||[];initialChildren[parentID][updatedIndex]=updatedChild;updatedChildren=updatedChildren||[];updatedChildren.push(updatedChild);}}
var renderedMarkup=Danger.dangerouslyRenderMarkup(markupList);if(updatedChildren){for(var j=0;j<updatedChildren.length;j++){updatedChildren[j].parentNode.removeChild(updatedChildren[j]);}}
for(var k=0;update=updates[k];k++){switch(update.type){case ReactMultiChildUpdateTypes.INSERT_MARKUP:insertChildAt(update.parentNode,renderedMarkup[update.markupIndex],update.toIndex);break;case ReactMultiChildUpdateTypes.MOVE_EXISTING:insertChildAt(update.parentNode,initialChildren[update.parentID][update.fromIndex],update.toIndex);break;case ReactMultiChildUpdateTypes.TEXT_CONTENT:updateTextContent(update.parentNode,update.textContent);break;case ReactMultiChildUpdateTypes.REMOVE_NODE:break;}}}};module.exports=DOMChildrenOperations;},{"./Danger":13,"./ReactMultiChildUpdateTypes":65,"./getTextContentAccessor":121,"./invariant":126}],11:[function(_dereq_,module,exports){"use strict";var invariant=_dereq_("./invariant");function checkMask(value,bitmask){return(value&bitmask)===bitmask;}
var DOMPropertyInjection={MUST_USE_ATTRIBUTE:0x1,MUST_USE_PROPERTY:0x2,HAS_SIDE_EFFECTS:0x4,HAS_BOOLEAN_VALUE:0x8,HAS_NUMERIC_VALUE:0x10,HAS_POSITIVE_NUMERIC_VALUE:0x20|0x10,HAS_OVERLOADED_BOOLEAN_VALUE:0x40,injectDOMPropertyConfig:function(domPropertyConfig){var Properties=domPropertyConfig.Properties||{};var DOMAttributeNames=domPropertyConfig.DOMAttributeNames||{};var DOMPropertyNames=domPropertyConfig.DOMPropertyNames||{};var DOMMutationMethods=domPropertyConfig.DOMMutationMethods||{};if(domPropertyConfig.isCustomAttribute){DOMProperty._isCustomAttributeFunctions.push(domPropertyConfig.isCustomAttribute);}
for(var propName in Properties){("production"!=="development"?invariant(!DOMProperty.isStandardName.hasOwnProperty(propName),'injectDOMPropertyConfig(...): You\'re trying to inject DOM property '+'\'%s\' which has already been injected. You may be accidentally '+'injecting the same DOM property config twice, or you may be '+'injecting two configs that have conflicting property names.',propName):invariant(!DOMProperty.isStandardName.hasOwnProperty(propName)));DOMProperty.isStandardName[propName]=true;var lowerCased=propName.toLowerCase();DOMProperty.getPossibleStandardName[lowerCased]=propName;if(DOMAttributeNames.hasOwnProperty(propName)){var attributeName=DOMAttributeNames[propName];DOMProperty.getPossibleStandardName[attributeName]=propName;DOMProperty.getAttributeName[propName]=attributeName;}else{DOMProperty.getAttributeName[propName]=lowerCased;}
DOMProperty.getPropertyName[propName]=DOMPropertyNames.hasOwnProperty(propName)?DOMPropertyNames[propName]:propName;if(DOMMutationMethods.hasOwnProperty(propName)){DOMProperty.getMutationMethod[propName]=DOMMutationMethods[propName];}else{DOMProperty.getMutationMethod[propName]=null;}
var propConfig=Properties[propName];DOMProperty.mustUseAttribute[propName]=checkMask(propConfig,DOMPropertyInjection.MUST_USE_ATTRIBUTE);DOMProperty.mustUseProperty[propName]=checkMask(propConfig,DOMPropertyInjection.MUST_USE_PROPERTY);DOMProperty.hasSideEffects[propName]=checkMask(propConfig,DOMPropertyInjection.HAS_SIDE_EFFECTS);DOMProperty.hasBooleanValue[propName]=checkMask(propConfig,DOMPropertyInjection.HAS_BOOLEAN_VALUE);DOMProperty.hasNumericValue[propName]=checkMask(propConfig,DOMPropertyInjection.HAS_NUMERIC_VALUE);DOMProperty.hasPositiveNumericValue[propName]=checkMask(propConfig,DOMPropertyInjection.HAS_POSITIVE_NUMERIC_VALUE);DOMProperty.hasOverloadedBooleanValue[propName]=checkMask(propConfig,DOMPropertyInjection.HAS_OVERLOADED_BOOLEAN_VALUE);("production"!=="development"?invariant(!DOMProperty.mustUseAttribute[propName]||!DOMProperty.mustUseProperty[propName],'DOMProperty: Cannot require using both attribute and property: %s',propName):invariant(!DOMProperty.mustUseAttribute[propName]||!DOMProperty.mustUseProperty[propName]));("production"!=="development"?invariant(DOMProperty.mustUseProperty[propName]||!DOMProperty.hasSideEffects[propName],'DOMProperty: Properties that have side effects must use property: %s',propName):invariant(DOMProperty.mustUseProperty[propName]||!DOMProperty.hasSideEffects[propName]));("production"!=="development"?invariant(!!DOMProperty.hasBooleanValue[propName]+!!DOMProperty.hasNumericValue[propName]+!!DOMProperty.hasOverloadedBooleanValue[propName]<=1,'DOMProperty: Value can be one of boolean, overloaded boolean, or '+'numeric value, but not a combination: %s',propName):invariant(!!DOMProperty.hasBooleanValue[propName]+!!DOMProperty.hasNumericValue[propName]+!!DOMProperty.hasOverloadedBooleanValue[propName]<=1));}}};var defaultValueCache={};var DOMProperty={ID_ATTRIBUTE_NAME:'data-reactid',isStandardName:{},getPossibleStandardName:{},getAttributeName:{},getPropertyName:{},getMutationMethod:{},mustUseAttribute:{},mustUseProperty:{},hasSideEffects:{},hasBooleanValue:{},hasNumericValue:{},hasPositiveNumericValue:{},hasOverloadedBooleanValue:{},_isCustomAttributeFunctions:[],isCustomAttribute:function(attributeName){for(var i=0;i<DOMProperty._isCustomAttributeFunctions.length;i++){var isCustomAttributeFn=DOMProperty._isCustomAttributeFunctions[i];if(isCustomAttributeFn(attributeName)){return true;}}
return false;},getDefaultValueForProperty:function(nodeName,prop){var nodeDefaults=defaultValueCache[nodeName];var testElement;if(!nodeDefaults){defaultValueCache[nodeName]=nodeDefaults={};}
if(!(prop in nodeDefaults)){testElement=document.createElement(nodeName);nodeDefaults[prop]=testElement[prop];}
return nodeDefaults[prop];},injection:DOMPropertyInjection};module.exports=DOMProperty;},{"./invariant":126}],12:[function(_dereq_,module,exports){"use strict";var DOMProperty=_dereq_("./DOMProperty");var escapeTextForBrowser=_dereq_("./escapeTextForBrowser");var memoizeStringOnly=_dereq_("./memoizeStringOnly");var warning=_dereq_("./warning");function shouldIgnoreValue(name,value){return value==null||(DOMProperty.hasBooleanValue[name]&&!value)||(DOMProperty.hasNumericValue[name]&&isNaN(value))||(DOMProperty.hasPositiveNumericValue[name]&&(value<1))||(DOMProperty.hasOverloadedBooleanValue[name]&&value===false);}
var processAttributeNameAndPrefix=memoizeStringOnly(function(name){return escapeTextForBrowser(name)+'="';});if("production"!=="development"){var reactProps={children:true,dangerouslySetInnerHTML:true,key:true,ref:true};var warnedProperties={};var warnUnknownProperty=function(name){if(reactProps.hasOwnProperty(name)&&reactProps[name]||warnedProperties.hasOwnProperty(name)&&warnedProperties[name]){return;}
warnedProperties[name]=true;var lowerCasedName=name.toLowerCase();var standardName=(DOMProperty.isCustomAttribute(lowerCasedName)?lowerCasedName:DOMProperty.getPossibleStandardName.hasOwnProperty(lowerCasedName)?DOMProperty.getPossibleStandardName[lowerCasedName]:null);("production"!=="development"?warning(standardName==null,'Unknown DOM property '+name+'. Did you mean '+standardName+'?'):null);};}
var DOMPropertyOperations={createMarkupForID:function(id){return processAttributeNameAndPrefix(DOMProperty.ID_ATTRIBUTE_NAME)+
escapeTextForBrowser(id)+'"';},createMarkupForProperty:function(name,value){if(DOMProperty.isStandardName.hasOwnProperty(name)&&DOMProperty.isStandardName[name]){if(shouldIgnoreValue(name,value)){return'';}
var attributeName=DOMProperty.getAttributeName[name];if(DOMProperty.hasBooleanValue[name]||(DOMProperty.hasOverloadedBooleanValue[name]&&value===true)){return escapeTextForBrowser(attributeName);}
return processAttributeNameAndPrefix(attributeName)+
escapeTextForBrowser(value)+'"';}else if(DOMProperty.isCustomAttribute(name)){if(value==null){return'';}
return processAttributeNameAndPrefix(name)+
escapeTextForBrowser(value)+'"';}else if("production"!=="development"){warnUnknownProperty(name);}
return null;},setValueForProperty:function(node,name,value){if(DOMProperty.isStandardName.hasOwnProperty(name)&&DOMProperty.isStandardName[name]){var mutationMethod=DOMProperty.getMutationMethod[name];if(mutationMethod){mutationMethod(node,value);}else if(shouldIgnoreValue(name,value)){this.deleteValueForProperty(node,name);}else if(DOMProperty.mustUseAttribute[name]){node.setAttribute(DOMProperty.getAttributeName[name],''+value);}else{var propName=DOMProperty.getPropertyName[name];if(!DOMProperty.hasSideEffects[name]||(''+node[propName])!==(''+value)){node[propName]=value;}}}else if(DOMProperty.isCustomAttribute(name)){if(value==null){node.removeAttribute(name);}else{node.setAttribute(name,''+value);}}else if("production"!=="development"){warnUnknownProperty(name);}},deleteValueForProperty:function(node,name){if(DOMProperty.isStandardName.hasOwnProperty(name)&&DOMProperty.isStandardName[name]){var mutationMethod=DOMProperty.getMutationMethod[name];if(mutationMethod){mutationMethod(node,undefined);}else if(DOMProperty.mustUseAttribute[name]){node.removeAttribute(DOMProperty.getAttributeName[name]);}else{var propName=DOMProperty.getPropertyName[name];var defaultValue=DOMProperty.getDefaultValueForProperty(node.nodeName,propName);if(!DOMProperty.hasSideEffects[name]||(''+node[propName])!==defaultValue){node[propName]=defaultValue;}}}else if(DOMProperty.isCustomAttribute(name)){node.removeAttribute(name);}else if("production"!=="development"){warnUnknownProperty(name);}}};module.exports=DOMPropertyOperations;},{"./DOMProperty":11,"./escapeTextForBrowser":109,"./memoizeStringOnly":135,"./warning":145}],13:[function(_dereq_,module,exports){"use strict";var ExecutionEnvironment=_dereq_("./ExecutionEnvironment");var createNodesFromMarkup=_dereq_("./createNodesFromMarkup");var emptyFunction=_dereq_("./emptyFunction");var getMarkupWrap=_dereq_("./getMarkupWrap");var invariant=_dereq_("./invariant");var OPEN_TAG_NAME_EXP=/^(<[^ \/>]+)/;var RESULT_INDEX_ATTR='data-danger-index';function getNodeName(markup){return markup.substring(1,markup.indexOf(' '));}
var Danger={dangerouslyRenderMarkup:function(markupList){("production"!=="development"?invariant(ExecutionEnvironment.canUseDOM,'dangerouslyRenderMarkup(...): Cannot render markup in a worker '+'thread. Make sure `window` and `document` are available globally '+'before requiring React when unit testing or use '+'React.renderToString for server rendering.'):invariant(ExecutionEnvironment.canUseDOM));var nodeName;var markupByNodeName={};for(var i=0;i<markupList.length;i++){("production"!=="development"?invariant(markupList[i],'dangerouslyRenderMarkup(...): Missing markup.'):invariant(markupList[i]));nodeName=getNodeName(markupList[i]);nodeName=getMarkupWrap(nodeName)?nodeName:'*';markupByNodeName[nodeName]=markupByNodeName[nodeName]||[];markupByNodeName[nodeName][i]=markupList[i];}
var resultList=[];var resultListAssignmentCount=0;for(nodeName in markupByNodeName){if(!markupByNodeName.hasOwnProperty(nodeName)){continue;}
var markupListByNodeName=markupByNodeName[nodeName];for(var resultIndex in markupListByNodeName){if(markupListByNodeName.hasOwnProperty(resultIndex)){var markup=markupListByNodeName[resultIndex];markupListByNodeName[resultIndex]=markup.replace(OPEN_TAG_NAME_EXP,'$1 '+RESULT_INDEX_ATTR+'="'+resultIndex+'" ');}}
var renderNodes=createNodesFromMarkup(markupListByNodeName.join(''),emptyFunction);for(i=0;i<renderNodes.length;++i){var renderNode=renderNodes[i];if(renderNode.hasAttribute&&renderNode.hasAttribute(RESULT_INDEX_ATTR)){resultIndex=+renderNode.getAttribute(RESULT_INDEX_ATTR);renderNode.removeAttribute(RESULT_INDEX_ATTR);("production"!=="development"?invariant(!resultList.hasOwnProperty(resultIndex),'Danger: Assigning to an already-occupied result index.'):invariant(!resultList.hasOwnProperty(resultIndex)));resultList[resultIndex]=renderNode;resultListAssignmentCount+=1;}else if("production"!=="development"){console.error("Danger: Discarding unexpected node:",renderNode);}}}
("production"!=="development"?invariant(resultListAssignmentCount===resultList.length,'Danger: Did not assign to every index of resultList.'):invariant(resultListAssignmentCount===resultList.length));("production"!=="development"?invariant(resultList.length===markupList.length,'Danger: Expected markup to render %s nodes, but rendered %s.',markupList.length,resultList.length):invariant(resultList.length===markupList.length));return resultList;},dangerouslyReplaceNodeWithMarkup:function(oldChild,markup){("production"!=="development"?invariant(ExecutionEnvironment.canUseDOM,'dangerouslyReplaceNodeWithMarkup(...): Cannot render markup in a '+'worker thread. Make sure `window` and `document` are available '+'globally before requiring React when unit testing or use '+'React.renderToString for server rendering.'):invariant(ExecutionEnvironment.canUseDOM));("production"!=="development"?invariant(markup,'dangerouslyReplaceNodeWithMarkup(...): Missing markup.'):invariant(markup));("production"!=="development"?invariant(oldChild.tagName.toLowerCase()!=='html','dangerouslyReplaceNodeWithMarkup(...): Cannot replace markup of the '+'<html> node. This is because browser quirks make this unreliable '+'and/or slow. If you want to render to the root you must use '+'server rendering. See renderComponentToString().'):invariant(oldChild.tagName.toLowerCase()!=='html'));var newChild=createNodesFromMarkup(markup,emptyFunction)[0];oldChild.parentNode.replaceChild(newChild,oldChild);}};module.exports=Danger;},{"./ExecutionEnvironment":22,"./createNodesFromMarkup":104,"./emptyFunction":107,"./getMarkupWrap":118,"./invariant":126}],14:[function(_dereq_,module,exports){"use strict";var keyOf=_dereq_("./keyOf");var DefaultEventPluginOrder=[keyOf({ResponderEventPlugin:null}),keyOf({SimpleEventPlugin:null}),keyOf({TapEventPlugin:null}),keyOf({EnterLeaveEventPlugin:null}),keyOf({ChangeEventPlugin:null}),keyOf({SelectEventPlugin:null}),keyOf({CompositionEventPlugin:null}),keyOf({BeforeInputEventPlugin:null}),keyOf({AnalyticsEventPlugin:null}),keyOf({MobileSafariClickEventPlugin:null})];module.exports=DefaultEventPluginOrder;},{"./keyOf":133}],15:[function(_dereq_,module,exports){"use strict";var EventConstants=_dereq_("./EventConstants");var EventPropagators=_dereq_("./EventPropagators");var SyntheticMouseEvent=_dereq_("./SyntheticMouseEvent");var ReactMount=_dereq_("./ReactMount");var keyOf=_dereq_("./keyOf");var topLevelTypes=EventConstants.topLevelTypes;var getFirstReactDOM=ReactMount.getFirstReactDOM;var eventTypes={mouseEnter:{registrationName:keyOf({onMouseEnter:null}),dependencies:[topLevelTypes.topMouseOut,topLevelTypes.topMouseOver]},mouseLeave:{registrationName:keyOf({onMouseLeave:null}),dependencies:[topLevelTypes.topMouseOut,topLevelTypes.topMouseOver]}};var extractedEvents=[null,null];var EnterLeaveEventPlugin={eventTypes:eventTypes,extractEvents:function(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent){if(topLevelType===topLevelTypes.topMouseOver&&(nativeEvent.relatedTarget||nativeEvent.fromElement)){return null;}
if(topLevelType!==topLevelTypes.topMouseOut&&topLevelType!==topLevelTypes.topMouseOver){return null;}
var win;if(topLevelTarget.window===topLevelTarget){win=topLevelTarget;}else{var doc=topLevelTarget.ownerDocument;if(doc){win=doc.defaultView||doc.parentWindow;}else{win=window;}}
var from,to;if(topLevelType===topLevelTypes.topMouseOut){from=topLevelTarget;to=getFirstReactDOM(nativeEvent.relatedTarget||nativeEvent.toElement)||win;}else{from=win;to=topLevelTarget;}
if(from===to){return null;}
var fromID=from?ReactMount.getID(from):'';var toID=to?ReactMount.getID(to):'';var leave=SyntheticMouseEvent.getPooled(eventTypes.mouseLeave,fromID,nativeEvent);leave.type='mouseleave';leave.target=from;leave.relatedTarget=to;var enter=SyntheticMouseEvent.getPooled(eventTypes.mouseEnter,toID,nativeEvent);enter.type='mouseenter';enter.target=to;enter.relatedTarget=from;EventPropagators.accumulateEnterLeaveDispatches(leave,enter,fromID,toID);extractedEvents[0]=leave;extractedEvents[1]=enter;return extractedEvents;}};module.exports=EnterLeaveEventPlugin;},{"./EventConstants":16,"./EventPropagators":21,"./ReactMount":63,"./SyntheticMouseEvent":91,"./keyOf":133}],16:[function(_dereq_,module,exports){"use strict";var keyMirror=_dereq_("./keyMirror");var PropagationPhases=keyMirror({bubbled:null,captured:null});var topLevelTypes=keyMirror({topBlur:null,topChange:null,topClick:null,topCompositionEnd:null,topCompositionStart:null,topCompositionUpdate:null,topContextMenu:null,topCopy:null,topCut:null,topDoubleClick:null,topDrag:null,topDragEnd:null,topDragEnter:null,topDragExit:null,topDragLeave:null,topDragOver:null,topDragStart:null,topDrop:null,topError:null,topFocus:null,topInput:null,topKeyDown:null,topKeyPress:null,topKeyUp:null,topLoad:null,topMouseDown:null,topMouseMove:null,topMouseOut:null,topMouseOver:null,topMouseUp:null,topPaste:null,topReset:null,topScroll:null,topSelectionChange:null,topSubmit:null,topTextInput:null,topTouchCancel:null,topTouchEnd:null,topTouchMove:null,topTouchStart:null,topWheel:null});var EventConstants={topLevelTypes:topLevelTypes,PropagationPhases:PropagationPhases};module.exports=EventConstants;},{"./keyMirror":132}],17:[function(_dereq_,module,exports){var emptyFunction=_dereq_("./emptyFunction");var EventListener={listen:function(target,eventType,callback){if(target.addEventListener){target.addEventListener(eventType,callback,false);return{remove:function(){target.removeEventListener(eventType,callback,false);}};}else if(target.attachEvent){target.attachEvent('on'+eventType,callback);return{remove:function(){target.detachEvent('on'+eventType,callback);}};}},capture:function(target,eventType,callback){if(!target.addEventListener){if("production"!=="development"){console.error('Attempted to listen to events during the capture phase on a '+'browser that does not support the capture phase. Your application '+'will not receive some events.');}
return{remove:emptyFunction};}else{target.addEventListener(eventType,callback,true);return{remove:function(){target.removeEventListener(eventType,callback,true);}};}},registerDefault:function(){}};module.exports=EventListener;},{"./emptyFunction":107}],18:[function(_dereq_,module,exports){"use strict";var EventPluginRegistry=_dereq_("./EventPluginRegistry");var EventPluginUtils=_dereq_("./EventPluginUtils");var accumulateInto=_dereq_("./accumulateInto");var forEachAccumulated=_dereq_("./forEachAccumulated");var invariant=_dereq_("./invariant");var listenerBank={};var eventQueue=null;var executeDispatchesAndRelease=function(event){if(event){var executeDispatch=EventPluginUtils.executeDispatch;var PluginModule=EventPluginRegistry.getPluginModuleForEvent(event);if(PluginModule&&PluginModule.executeDispatch){executeDispatch=PluginModule.executeDispatch;}
EventPluginUtils.executeDispatchesInOrder(event,executeDispatch);if(!event.isPersistent()){event.constructor.release(event);}}};var InstanceHandle=null;function validateInstanceHandle(){var invalid=!InstanceHandle||!InstanceHandle.traverseTwoPhase||!InstanceHandle.traverseEnterLeave;if(invalid){throw new Error('InstanceHandle not injected before use!');}}
var EventPluginHub={injection:{injectMount:EventPluginUtils.injection.injectMount,injectInstanceHandle:function(InjectedInstanceHandle){InstanceHandle=InjectedInstanceHandle;if("production"!=="development"){validateInstanceHandle();}},getInstanceHandle:function(){if("production"!=="development"){validateInstanceHandle();}
return InstanceHandle;},injectEventPluginOrder:EventPluginRegistry.injectEventPluginOrder,injectEventPluginsByName:EventPluginRegistry.injectEventPluginsByName},eventNameDispatchConfigs:EventPluginRegistry.eventNameDispatchConfigs,registrationNameModules:EventPluginRegistry.registrationNameModules,putListener:function(id,registrationName,listener){("production"!=="development"?invariant(!listener||typeof listener==='function','Expected %s listener to be a function, instead got type %s',registrationName,typeof listener):invariant(!listener||typeof listener==='function'));var bankForRegistrationName=listenerBank[registrationName]||(listenerBank[registrationName]={});bankForRegistrationName[id]=listener;},getListener:function(id,registrationName){var bankForRegistrationName=listenerBank[registrationName];return bankForRegistrationName&&bankForRegistrationName[id];},deleteListener:function(id,registrationName){var bankForRegistrationName=listenerBank[registrationName];if(bankForRegistrationName){delete bankForRegistrationName[id];}},deleteAllListeners:function(id){for(var registrationName in listenerBank){delete listenerBank[registrationName][id];}},extractEvents:function(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent){var events;var plugins=EventPluginRegistry.plugins;for(var i=0,l=plugins.length;i<l;i++){var possiblePlugin=plugins[i];if(possiblePlugin){var extractedEvents=possiblePlugin.extractEvents(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent);if(extractedEvents){events=accumulateInto(events,extractedEvents);}}}
return events;},enqueueEvents:function(events){if(events){eventQueue=accumulateInto(eventQueue,events);}},processEventQueue:function(){var processingEventQueue=eventQueue;eventQueue=null;forEachAccumulated(processingEventQueue,executeDispatchesAndRelease);("production"!=="development"?invariant(!eventQueue,'processEventQueue(): Additional events were enqueued while processing '+'an event queue. Support for this has not yet been implemented.'):invariant(!eventQueue));},__purge:function(){listenerBank={};},__getListenerBank:function(){return listenerBank;}};module.exports=EventPluginHub;},{"./EventPluginRegistry":19,"./EventPluginUtils":20,"./accumulateInto":97,"./forEachAccumulated":112,"./invariant":126}],19:[function(_dereq_,module,exports){"use strict";var invariant=_dereq_("./invariant");var EventPluginOrder=null;var namesToPlugins={};function recomputePluginOrdering(){if(!EventPluginOrder){return;}
for(var pluginName in namesToPlugins){var PluginModule=namesToPlugins[pluginName];var pluginIndex=EventPluginOrder.indexOf(pluginName);("production"!=="development"?invariant(pluginIndex>-1,'EventPluginRegistry: Cannot inject event plugins that do not exist in '+'the plugin ordering, `%s`.',pluginName):invariant(pluginIndex>-1));if(EventPluginRegistry.plugins[pluginIndex]){continue;}
("production"!=="development"?invariant(PluginModule.extractEvents,'EventPluginRegistry: Event plugins must implement an `extractEvents` '+'method, but `%s` does not.',pluginName):invariant(PluginModule.extractEvents));EventPluginRegistry.plugins[pluginIndex]=PluginModule;var publishedEvents=PluginModule.eventTypes;for(var eventName in publishedEvents){("production"!=="development"?invariant(publishEventForPlugin(publishedEvents[eventName],PluginModule,eventName),'EventPluginRegistry: Failed to publish event `%s` for plugin `%s`.',eventName,pluginName):invariant(publishEventForPlugin(publishedEvents[eventName],PluginModule,eventName)));}}}
function publishEventForPlugin(dispatchConfig,PluginModule,eventName){("production"!=="development"?invariant(!EventPluginRegistry.eventNameDispatchConfigs.hasOwnProperty(eventName),'EventPluginHub: More than one plugin attempted to publish the same '+'event name, `%s`.',eventName):invariant(!EventPluginRegistry.eventNameDispatchConfigs.hasOwnProperty(eventName)));EventPluginRegistry.eventNameDispatchConfigs[eventName]=dispatchConfig;var phasedRegistrationNames=dispatchConfig.phasedRegistrationNames;if(phasedRegistrationNames){for(var phaseName in phasedRegistrationNames){if(phasedRegistrationNames.hasOwnProperty(phaseName)){var phasedRegistrationName=phasedRegistrationNames[phaseName];publishRegistrationName(phasedRegistrationName,PluginModule,eventName);}}
return true;}else if(dispatchConfig.registrationName){publishRegistrationName(dispatchConfig.registrationName,PluginModule,eventName);return true;}
return false;}
function publishRegistrationName(registrationName,PluginModule,eventName){("production"!=="development"?invariant(!EventPluginRegistry.registrationNameModules[registrationName],'EventPluginHub: More than one plugin attempted to publish the same '+'registration name, `%s`.',registrationName):invariant(!EventPluginRegistry.registrationNameModules[registrationName]));EventPluginRegistry.registrationNameModules[registrationName]=PluginModule;EventPluginRegistry.registrationNameDependencies[registrationName]=PluginModule.eventTypes[eventName].dependencies;}
var EventPluginRegistry={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},injectEventPluginOrder:function(InjectedEventPluginOrder){("production"!=="development"?invariant(!EventPluginOrder,'EventPluginRegistry: Cannot inject event plugin ordering more than '+'once. You are likely trying to load more than one copy of React.'):invariant(!EventPluginOrder));EventPluginOrder=Array.prototype.slice.call(InjectedEventPluginOrder);recomputePluginOrdering();},injectEventPluginsByName:function(injectedNamesToPlugins){var isOrderingDirty=false;for(var pluginName in injectedNamesToPlugins){if(!injectedNamesToPlugins.hasOwnProperty(pluginName)){continue;}
var PluginModule=injectedNamesToPlugins[pluginName];if(!namesToPlugins.hasOwnProperty(pluginName)||namesToPlugins[pluginName]!==PluginModule){("production"!=="development"?invariant(!namesToPlugins[pluginName],'EventPluginRegistry: Cannot inject two different event plugins '+'using the same name, `%s`.',pluginName):invariant(!namesToPlugins[pluginName]));namesToPlugins[pluginName]=PluginModule;isOrderingDirty=true;}}
if(isOrderingDirty){recomputePluginOrdering();}},getPluginModuleForEvent:function(event){var dispatchConfig=event.dispatchConfig;if(dispatchConfig.registrationName){return EventPluginRegistry.registrationNameModules[dispatchConfig.registrationName]||null;}
for(var phase in dispatchConfig.phasedRegistrationNames){if(!dispatchConfig.phasedRegistrationNames.hasOwnProperty(phase)){continue;}
var PluginModule=EventPluginRegistry.registrationNameModules[dispatchConfig.phasedRegistrationNames[phase]];if(PluginModule){return PluginModule;}}
return null;},_resetEventPlugins:function(){EventPluginOrder=null;for(var pluginName in namesToPlugins){if(namesToPlugins.hasOwnProperty(pluginName)){delete namesToPlugins[pluginName];}}
EventPluginRegistry.plugins.length=0;var eventNameDispatchConfigs=EventPluginRegistry.eventNameDispatchConfigs;for(var eventName in eventNameDispatchConfigs){if(eventNameDispatchConfigs.hasOwnProperty(eventName)){delete eventNameDispatchConfigs[eventName];}}
var registrationNameModules=EventPluginRegistry.registrationNameModules;for(var registrationName in registrationNameModules){if(registrationNameModules.hasOwnProperty(registrationName)){delete registrationNameModules[registrationName];}}}};module.exports=EventPluginRegistry;},{"./invariant":126}],20:[function(_dereq_,module,exports){"use strict";var EventConstants=_dereq_("./EventConstants");var invariant=_dereq_("./invariant");var injection={Mount:null,injectMount:function(InjectedMount){injection.Mount=InjectedMount;if("production"!=="development"){("production"!=="development"?invariant(InjectedMount&&InjectedMount.getNode,'EventPluginUtils.injection.injectMount(...): Injected Mount module '+'is missing getNode.'):invariant(InjectedMount&&InjectedMount.getNode));}}};var topLevelTypes=EventConstants.topLevelTypes;function isEndish(topLevelType){return topLevelType===topLevelTypes.topMouseUp||topLevelType===topLevelTypes.topTouchEnd||topLevelType===topLevelTypes.topTouchCancel;}
function isMoveish(topLevelType){return topLevelType===topLevelTypes.topMouseMove||topLevelType===topLevelTypes.topTouchMove;}
function isStartish(topLevelType){return topLevelType===topLevelTypes.topMouseDown||topLevelType===topLevelTypes.topTouchStart;}
var validateEventDispatches;if("production"!=="development"){validateEventDispatches=function(event){var dispatchListeners=event._dispatchListeners;var dispatchIDs=event._dispatchIDs;var listenersIsArr=Array.isArray(dispatchListeners);var idsIsArr=Array.isArray(dispatchIDs);var IDsLen=idsIsArr?dispatchIDs.length:dispatchIDs?1:0;var listenersLen=listenersIsArr?dispatchListeners.length:dispatchListeners?1:0;("production"!=="development"?invariant(idsIsArr===listenersIsArr&&IDsLen===listenersLen,'EventPluginUtils: Invalid `event`.'):invariant(idsIsArr===listenersIsArr&&IDsLen===listenersLen));};}
function forEachEventDispatch(event,cb){var dispatchListeners=event._dispatchListeners;var dispatchIDs=event._dispatchIDs;if("production"!=="development"){validateEventDispatches(event);}
if(Array.isArray(dispatchListeners)){for(var i=0;i<dispatchListeners.length;i++){if(event.isPropagationStopped()){break;}
cb(event,dispatchListeners[i],dispatchIDs[i]);}}else if(dispatchListeners){cb(event,dispatchListeners,dispatchIDs);}}
function executeDispatch(event,listener,domID){event.currentTarget=injection.Mount.getNode(domID);var returnValue=listener(event,domID);event.currentTarget=null;return returnValue;}
function executeDispatchesInOrder(event,executeDispatch){forEachEventDispatch(event,executeDispatch);event._dispatchListeners=null;event._dispatchIDs=null;}
function executeDispatchesInOrderStopAtTrueImpl(event){var dispatchListeners=event._dispatchListeners;var dispatchIDs=event._dispatchIDs;if("production"!=="development"){validateEventDispatches(event);}
if(Array.isArray(dispatchListeners)){for(var i=0;i<dispatchListeners.length;i++){if(event.isPropagationStopped()){break;}
if(dispatchListeners[i](event,dispatchIDs[i])){return dispatchIDs[i];}}}else if(dispatchListeners){if(dispatchListeners(event,dispatchIDs)){return dispatchIDs;}}
return null;}
function executeDispatchesInOrderStopAtTrue(event){var ret=executeDispatchesInOrderStopAtTrueImpl(event);event._dispatchIDs=null;event._dispatchListeners=null;return ret;}
function executeDirectDispatch(event){if("production"!=="development"){validateEventDispatches(event);}
var dispatchListener=event._dispatchListeners;var dispatchID=event._dispatchIDs;("production"!=="development"?invariant(!Array.isArray(dispatchListener),'executeDirectDispatch(...): Invalid `event`.'):invariant(!Array.isArray(dispatchListener)));var res=dispatchListener?dispatchListener(event,dispatchID):null;event._dispatchListeners=null;event._dispatchIDs=null;return res;}
function hasDispatches(event){return!!event._dispatchListeners;}
var EventPluginUtils={isEndish:isEndish,isMoveish:isMoveish,isStartish:isStartish,executeDirectDispatch:executeDirectDispatch,executeDispatch:executeDispatch,executeDispatchesInOrder:executeDispatchesInOrder,executeDispatchesInOrderStopAtTrue:executeDispatchesInOrderStopAtTrue,hasDispatches:hasDispatches,injection:injection,useTouchEvents:false};module.exports=EventPluginUtils;},{"./EventConstants":16,"./invariant":126}],21:[function(_dereq_,module,exports){"use strict";var EventConstants=_dereq_("./EventConstants");var EventPluginHub=_dereq_("./EventPluginHub");var accumulateInto=_dereq_("./accumulateInto");var forEachAccumulated=_dereq_("./forEachAccumulated");var PropagationPhases=EventConstants.PropagationPhases;var getListener=EventPluginHub.getListener;function listenerAtPhase(id,event,propagationPhase){var registrationName=event.dispatchConfig.phasedRegistrationNames[propagationPhase];return getListener(id,registrationName);}
function accumulateDirectionalDispatches(domID,upwards,event){if("production"!=="development"){if(!domID){throw new Error('Dispatching id must not be null');}}
var phase=upwards?PropagationPhases.bubbled:PropagationPhases.captured;var listener=listenerAtPhase(domID,event,phase);if(listener){event._dispatchListeners=accumulateInto(event._dispatchListeners,listener);event._dispatchIDs=accumulateInto(event._dispatchIDs,domID);}}
function accumulateTwoPhaseDispatchesSingle(event){if(event&&event.dispatchConfig.phasedRegistrationNames){EventPluginHub.injection.getInstanceHandle().traverseTwoPhase(event.dispatchMarker,accumulateDirectionalDispatches,event);}}
function accumulateDispatches(id,ignoredDirection,event){if(event&&event.dispatchConfig.registrationName){var registrationName=event.dispatchConfig.registrationName;var listener=getListener(id,registrationName);if(listener){event._dispatchListeners=accumulateInto(event._dispatchListeners,listener);event._dispatchIDs=accumulateInto(event._dispatchIDs,id);}}}
function accumulateDirectDispatchesSingle(event){if(event&&event.dispatchConfig.registrationName){accumulateDispatches(event.dispatchMarker,null,event);}}
function accumulateTwoPhaseDispatches(events){forEachAccumulated(events,accumulateTwoPhaseDispatchesSingle);}
function accumulateEnterLeaveDispatches(leave,enter,fromID,toID){EventPluginHub.injection.getInstanceHandle().traverseEnterLeave(fromID,toID,accumulateDispatches,leave,enter);}
function accumulateDirectDispatches(events){forEachAccumulated(events,accumulateDirectDispatchesSingle);}
var EventPropagators={accumulateTwoPhaseDispatches:accumulateTwoPhaseDispatches,accumulateDirectDispatches:accumulateDirectDispatches,accumulateEnterLeaveDispatches:accumulateEnterLeaveDispatches};module.exports=EventPropagators;},{"./EventConstants":16,"./EventPluginHub":18,"./accumulateInto":97,"./forEachAccumulated":112}],22:[function(_dereq_,module,exports){"use strict";var canUseDOM=!!(typeof window!=='undefined'&&window.document&&window.document.createElement);var ExecutionEnvironment={canUseDOM:canUseDOM,canUseWorkers:typeof Worker!=='undefined',canUseEventListeners:canUseDOM&&!!(window.addEventListener||window.attachEvent),canUseViewport:canUseDOM&&!!window.screen,isInWorker:!canUseDOM};module.exports=ExecutionEnvironment;},{}],23:[function(_dereq_,module,exports){"use strict";var DOMProperty=_dereq_("./DOMProperty");var ExecutionEnvironment=_dereq_("./ExecutionEnvironment");var MUST_USE_ATTRIBUTE=DOMProperty.injection.MUST_USE_ATTRIBUTE;var MUST_USE_PROPERTY=DOMProperty.injection.MUST_USE_PROPERTY;var HAS_BOOLEAN_VALUE=DOMProperty.injection.HAS_BOOLEAN_VALUE;var HAS_SIDE_EFFECTS=DOMProperty.injection.HAS_SIDE_EFFECTS;var HAS_NUMERIC_VALUE=DOMProperty.injection.HAS_NUMERIC_VALUE;var HAS_POSITIVE_NUMERIC_VALUE=DOMProperty.injection.HAS_POSITIVE_NUMERIC_VALUE;var HAS_OVERLOADED_BOOLEAN_VALUE=DOMProperty.injection.HAS_OVERLOADED_BOOLEAN_VALUE;var hasSVG;if(ExecutionEnvironment.canUseDOM){var implementation=document.implementation;hasSVG=(implementation&&implementation.hasFeature&&implementation.hasFeature('http://www.w3.org/TR/SVG11/feature#BasicStructure','1.1'));}
var HTMLDOMPropertyConfig={isCustomAttribute:RegExp.prototype.test.bind(/^(data|aria)-[a-z_][a-z\d_.\-]*$/),Properties:{accept:null,acceptCharset:null,accessKey:null,action:null,allowFullScreen:MUST_USE_ATTRIBUTE|HAS_BOOLEAN_VALUE,allowTransparency:MUST_USE_ATTRIBUTE,alt:null,async:HAS_BOOLEAN_VALUE,autoComplete:null,autoPlay:HAS_BOOLEAN_VALUE,cellPadding:null,cellSpacing:null,charSet:MUST_USE_ATTRIBUTE,checked:MUST_USE_PROPERTY|HAS_BOOLEAN_VALUE,classID:MUST_USE_ATTRIBUTE,className:hasSVG?MUST_USE_ATTRIBUTE:MUST_USE_PROPERTY,cols:MUST_USE_ATTRIBUTE|HAS_POSITIVE_NUMERIC_VALUE,colSpan:null,content:null,contentEditable:null,contextMenu:MUST_USE_ATTRIBUTE,controls:MUST_USE_PROPERTY|HAS_BOOLEAN_VALUE,coords:null,crossOrigin:null,data:null,dateTime:MUST_USE_ATTRIBUTE,defer:HAS_BOOLEAN_VALUE,dir:null,disabled:MUST_USE_ATTRIBUTE|HAS_BOOLEAN_VALUE,download:HAS_OVERLOADED_BOOLEAN_VALUE,draggable:null,encType:null,form:MUST_USE_ATTRIBUTE,formAction:MUST_USE_ATTRIBUTE,formEncType:MUST_USE_ATTRIBUTE,formMethod:MUST_USE_ATTRIBUTE,formNoValidate:HAS_BOOLEAN_VALUE,formTarget:MUST_USE_ATTRIBUTE,frameBorder:MUST_USE_ATTRIBUTE,height:MUST_USE_ATTRIBUTE,hidden:MUST_USE_ATTRIBUTE|HAS_BOOLEAN_VALUE,href:null,hrefLang:null,htmlFor:null,httpEquiv:null,icon:null,id:MUST_USE_PROPERTY,label:null,lang:null,list:MUST_USE_ATTRIBUTE,loop:MUST_USE_PROPERTY|HAS_BOOLEAN_VALUE,manifest:MUST_USE_ATTRIBUTE,marginHeight:null,marginWidth:null,max:null,maxLength:MUST_USE_ATTRIBUTE,media:MUST_USE_ATTRIBUTE,mediaGroup:null,method:null,min:null,multiple:MUST_USE_PROPERTY|HAS_BOOLEAN_VALUE,muted:MUST_USE_PROPERTY|HAS_BOOLEAN_VALUE,name:null,noValidate:HAS_BOOLEAN_VALUE,open:null,pattern:null,placeholder:null,poster:null,preload:null,radioGroup:null,readOnly:MUST_USE_PROPERTY|HAS_BOOLEAN_VALUE,rel:null,required:HAS_BOOLEAN_VALUE,role:MUST_USE_ATTRIBUTE,rows:MUST_USE_ATTRIBUTE|HAS_POSITIVE_NUMERIC_VALUE,rowSpan:null,sandbox:null,scope:null,scrolling:null,seamless:MUST_USE_ATTRIBUTE|HAS_BOOLEAN_VALUE,selected:MUST_USE_PROPERTY|HAS_BOOLEAN_VALUE,shape:null,size:MUST_USE_ATTRIBUTE|HAS_POSITIVE_NUMERIC_VALUE,sizes:MUST_USE_ATTRIBUTE,span:HAS_POSITIVE_NUMERIC_VALUE,spellCheck:null,src:null,srcDoc:MUST_USE_PROPERTY,srcSet:MUST_USE_ATTRIBUTE,start:HAS_NUMERIC_VALUE,step:null,style:null,tabIndex:null,target:null,title:null,type:null,useMap:null,value:MUST_USE_PROPERTY|HAS_SIDE_EFFECTS,width:MUST_USE_ATTRIBUTE,wmode:MUST_USE_ATTRIBUTE,autoCapitalize:null,autoCorrect:null,itemProp:MUST_USE_ATTRIBUTE,itemScope:MUST_USE_ATTRIBUTE|HAS_BOOLEAN_VALUE,itemType:MUST_USE_ATTRIBUTE,property:null},DOMAttributeNames:{acceptCharset:'accept-charset',className:'class',htmlFor:'for',httpEquiv:'http-equiv'},DOMPropertyNames:{autoCapitalize:'autocapitalize',autoComplete:'autocomplete',autoCorrect:'autocorrect',autoFocus:'autofocus',autoPlay:'autoplay',encType:'enctype',hrefLang:'hreflang',radioGroup:'radiogroup',spellCheck:'spellcheck',srcDoc:'srcdoc',srcSet:'srcset'}};module.exports=HTMLDOMPropertyConfig;},{"./DOMProperty":11,"./ExecutionEnvironment":22}],24:[function(_dereq_,module,exports){"use strict";var ReactPropTypes=_dereq_("./ReactPropTypes");var invariant=_dereq_("./invariant");var hasReadOnlyValue={'button':true,'checkbox':true,'image':true,'hidden':true,'radio':true,'reset':true,'submit':true};function _assertSingleLink(input){("production"!=="development"?invariant(input.props.checkedLink==null||input.props.valueLink==null,'Cannot provide a checkedLink and a valueLink. If you want to use '+'checkedLink, you probably don\'t want to use valueLink and vice versa.'):invariant(input.props.checkedLink==null||input.props.valueLink==null));}
function _assertValueLink(input){_assertSingleLink(input);("production"!=="development"?invariant(input.props.value==null&&input.props.onChange==null,'Cannot provide a valueLink and a value or onChange event. If you want '+'to use value or onChange, you probably don\'t want to use valueLink.'):invariant(input.props.value==null&&input.props.onChange==null));}
function _assertCheckedLink(input){_assertSingleLink(input);("production"!=="development"?invariant(input.props.checked==null&&input.props.onChange==null,'Cannot provide a checkedLink and a checked property or onChange event. '+'If you want to use checked or onChange, you probably don\'t want to '+'use checkedLink'):invariant(input.props.checked==null&&input.props.onChange==null));}
function _handleLinkedValueChange(e){this.props.valueLink.requestChange(e.target.value);}
function _handleLinkedCheckChange(e){this.props.checkedLink.requestChange(e.target.checked);}
var LinkedValueUtils={Mixin:{propTypes:{value:function(props,propName,componentName){if(!props[propName]||hasReadOnlyValue[props.type]||props.onChange||props.readOnly||props.disabled){return;}
return new Error('You provided a `value` prop to a form field without an '+'`onChange` handler. This will render a read-only field. If '+'the field should be mutable use `defaultValue`. Otherwise, '+'set either `onChange` or `readOnly`.');},checked:function(props,propName,componentName){if(!props[propName]||props.onChange||props.readOnly||props.disabled){return;}
return new Error('You provided a `checked` prop to a form field without an '+'`onChange` handler. This will render a read-only field. If '+'the field should be mutable use `defaultChecked`. Otherwise, '+'set either `onChange` or `readOnly`.');},onChange:ReactPropTypes.func}},getValue:function(input){if(input.props.valueLink){_assertValueLink(input);return input.props.valueLink.value;}
return input.props.value;},getChecked:function(input){if(input.props.checkedLink){_assertCheckedLink(input);return input.props.checkedLink.value;}
return input.props.checked;},getOnChange:function(input){if(input.props.valueLink){_assertValueLink(input);return _handleLinkedValueChange;}else if(input.props.checkedLink){_assertCheckedLink(input);return _handleLinkedCheckChange;}
return input.props.onChange;}};module.exports=LinkedValueUtils;},{"./ReactPropTypes":72,"./invariant":126}],25:[function(_dereq_,module,exports){"use strict";var ReactBrowserEventEmitter=_dereq_("./ReactBrowserEventEmitter");var accumulateInto=_dereq_("./accumulateInto");var forEachAccumulated=_dereq_("./forEachAccumulated");var invariant=_dereq_("./invariant");function remove(event){event.remove();}
var LocalEventTrapMixin={trapBubbledEvent:function(topLevelType,handlerBaseName){("production"!=="development"?invariant(this.isMounted(),'Must be mounted to trap events'):invariant(this.isMounted()));var listener=ReactBrowserEventEmitter.trapBubbledEvent(topLevelType,handlerBaseName,this.getDOMNode());this._localEventListeners=accumulateInto(this._localEventListeners,listener);},componentWillUnmount:function(){if(this._localEventListeners){forEachAccumulated(this._localEventListeners,remove);}}};module.exports=LocalEventTrapMixin;},{"./ReactBrowserEventEmitter":30,"./accumulateInto":97,"./forEachAccumulated":112,"./invariant":126}],26:[function(_dereq_,module,exports){"use strict";var EventConstants=_dereq_("./EventConstants");var emptyFunction=_dereq_("./emptyFunction");var topLevelTypes=EventConstants.topLevelTypes;var MobileSafariClickEventPlugin={eventTypes:null,extractEvents:function(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent){if(topLevelType===topLevelTypes.topTouchStart){var target=nativeEvent.target;if(target&&!target.onclick){target.onclick=emptyFunction;}}}};module.exports=MobileSafariClickEventPlugin;},{"./EventConstants":16,"./emptyFunction":107}],27:[function(_dereq_,module,exports){function assign(target,sources){if(target==null){throw new TypeError('Object.assign target cannot be null or undefined');}
var to=Object(target);var hasOwnProperty=Object.prototype.hasOwnProperty;for(var nextIndex=1;nextIndex<arguments.length;nextIndex++){var nextSource=arguments[nextIndex];if(nextSource==null){continue;}
var from=Object(nextSource);for(var key in from){if(hasOwnProperty.call(from,key)){to[key]=from[key];}}}
return to;};module.exports=assign;},{}],28:[function(_dereq_,module,exports){"use strict";var invariant=_dereq_("./invariant");var oneArgumentPooler=function(copyFieldsFrom){var Klass=this;if(Klass.instancePool.length){var instance=Klass.instancePool.pop();Klass.call(instance,copyFieldsFrom);return instance;}else{return new Klass(copyFieldsFrom);}};var twoArgumentPooler=function(a1,a2){var Klass=this;if(Klass.instancePool.length){var instance=Klass.instancePool.pop();Klass.call(instance,a1,a2);return instance;}else{return new Klass(a1,a2);}};var threeArgumentPooler=function(a1,a2,a3){var Klass=this;if(Klass.instancePool.length){var instance=Klass.instancePool.pop();Klass.call(instance,a1,a2,a3);return instance;}else{return new Klass(a1,a2,a3);}};var fiveArgumentPooler=function(a1,a2,a3,a4,a5){var Klass=this;if(Klass.instancePool.length){var instance=Klass.instancePool.pop();Klass.call(instance,a1,a2,a3,a4,a5);return instance;}else{return new Klass(a1,a2,a3,a4,a5);}};var standardReleaser=function(instance){var Klass=this;("production"!=="development"?invariant(instance instanceof Klass,'Trying to release an instance into a pool of a different type.'):invariant(instance instanceof Klass));if(instance.destructor){instance.destructor();}
if(Klass.instancePool.length<Klass.poolSize){Klass.instancePool.push(instance);}};var DEFAULT_POOL_SIZE=10;var DEFAULT_POOLER=oneArgumentPooler;var addPoolingTo=function(CopyConstructor,pooler){var NewKlass=CopyConstructor;NewKlass.instancePool=[];NewKlass.getPooled=pooler||DEFAULT_POOLER;if(!NewKlass.poolSize){NewKlass.poolSize=DEFAULT_POOL_SIZE;}
NewKlass.release=standardReleaser;return NewKlass;};var PooledClass={addPoolingTo:addPoolingTo,oneArgumentPooler:oneArgumentPooler,twoArgumentPooler:twoArgumentPooler,threeArgumentPooler:threeArgumentPooler,fiveArgumentPooler:fiveArgumentPooler};module.exports=PooledClass;},{"./invariant":126}],29:[function(_dereq_,module,exports){"use strict";var ReactEmptyComponent=_dereq_("./ReactEmptyComponent");var ReactMount=_dereq_("./ReactMount");var invariant=_dereq_("./invariant");var ReactBrowserComponentMixin={getDOMNode:function(){("production"!=="development"?invariant(this.isMounted(),'getDOMNode(): A component must be mounted to have a DOM node.'):invariant(this.isMounted()));if(ReactEmptyComponent.isNullComponentID(this._rootNodeID)){return null;}
return ReactMount.getNode(this._rootNodeID);}};module.exports=ReactBrowserComponentMixin;},{"./ReactEmptyComponent":54,"./ReactMount":63,"./invariant":126}],30:[function(_dereq_,module,exports){"use strict";var EventConstants=_dereq_("./EventConstants");var EventPluginHub=_dereq_("./EventPluginHub");var EventPluginRegistry=_dereq_("./EventPluginRegistry");var ReactEventEmitterMixin=_dereq_("./ReactEventEmitterMixin");var ViewportMetrics=_dereq_("./ViewportMetrics");var assign=_dereq_("./Object.assign");var isEventSupported=_dereq_("./isEventSupported");var alreadyListeningTo={};var isMonitoringScrollValue=false;var reactTopListenersCounter=0;var topEventMapping={topBlur:'blur',topChange:'change',topClick:'click',topCompositionEnd:'compositionend',topCompositionStart:'compositionstart',topCompositionUpdate:'compositionupdate',topContextMenu:'contextmenu',topCopy:'copy',topCut:'cut',topDoubleClick:'dblclick',topDrag:'drag',topDragEnd:'dragend',topDragEnter:'dragenter',topDragExit:'dragexit',topDragLeave:'dragleave',topDragOver:'dragover',topDragStart:'dragstart',topDrop:'drop',topFocus:'focus',topInput:'input',topKeyDown:'keydown',topKeyPress:'keypress',topKeyUp:'keyup',topMouseDown:'mousedown',topMouseMove:'mousemove',topMouseOut:'mouseout',topMouseOver:'mouseover',topMouseUp:'mouseup',topPaste:'paste',topScroll:'scroll',topSelectionChange:'selectionchange',topTextInput:'textInput',topTouchCancel:'touchcancel',topTouchEnd:'touchend',topTouchMove:'touchmove',topTouchStart:'touchstart',topWheel:'wheel'};var topListenersIDKey="_reactListenersID"+String(Math.random()).slice(2);function getListeningForDocument(mountAt){if(!Object.prototype.hasOwnProperty.call(mountAt,topListenersIDKey)){mountAt[topListenersIDKey]=reactTopListenersCounter++;alreadyListeningTo[mountAt[topListenersIDKey]]={};}
return alreadyListeningTo[mountAt[topListenersIDKey]];}
var ReactBrowserEventEmitter=assign({},ReactEventEmitterMixin,{ReactEventListener:null,injection:{injectReactEventListener:function(ReactEventListener){ReactEventListener.setHandleTopLevel(ReactBrowserEventEmitter.handleTopLevel);ReactBrowserEventEmitter.ReactEventListener=ReactEventListener;}},setEnabled:function(enabled){if(ReactBrowserEventEmitter.ReactEventListener){ReactBrowserEventEmitter.ReactEventListener.setEnabled(enabled);}},isEnabled:function(){return!!(ReactBrowserEventEmitter.ReactEventListener&&ReactBrowserEventEmitter.ReactEventListener.isEnabled());},listenTo:function(registrationName,contentDocumentHandle){var mountAt=contentDocumentHandle;var isListening=getListeningForDocument(mountAt);var dependencies=EventPluginRegistry.registrationNameDependencies[registrationName];var topLevelTypes=EventConstants.topLevelTypes;for(var i=0,l=dependencies.length;i<l;i++){var dependency=dependencies[i];if(!(isListening.hasOwnProperty(dependency)&&isListening[dependency])){if(dependency===topLevelTypes.topWheel){if(isEventSupported('wheel')){ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(topLevelTypes.topWheel,'wheel',mountAt);}else if(isEventSupported('mousewheel')){ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(topLevelTypes.topWheel,'mousewheel',mountAt);}else{ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(topLevelTypes.topWheel,'DOMMouseScroll',mountAt);}}else if(dependency===topLevelTypes.topScroll){if(isEventSupported('scroll',true)){ReactBrowserEventEmitter.ReactEventListener.trapCapturedEvent(topLevelTypes.topScroll,'scroll',mountAt);}else{ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(topLevelTypes.topScroll,'scroll',ReactBrowserEventEmitter.ReactEventListener.WINDOW_HANDLE);}}else if(dependency===topLevelTypes.topFocus||dependency===topLevelTypes.topBlur){if(isEventSupported('focus',true)){ReactBrowserEventEmitter.ReactEventListener.trapCapturedEvent(topLevelTypes.topFocus,'focus',mountAt);ReactBrowserEventEmitter.ReactEventListener.trapCapturedEvent(topLevelTypes.topBlur,'blur',mountAt);}else if(isEventSupported('focusin')){ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(topLevelTypes.topFocus,'focusin',mountAt);ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(topLevelTypes.topBlur,'focusout',mountAt);}
isListening[topLevelTypes.topBlur]=true;isListening[topLevelTypes.topFocus]=true;}else if(topEventMapping.hasOwnProperty(dependency)){ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(dependency,topEventMapping[dependency],mountAt);}
isListening[dependency]=true;}}},trapBubbledEvent:function(topLevelType,handlerBaseName,handle){return ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(topLevelType,handlerBaseName,handle);},trapCapturedEvent:function(topLevelType,handlerBaseName,handle){return ReactBrowserEventEmitter.ReactEventListener.trapCapturedEvent(topLevelType,handlerBaseName,handle);},ensureScrollValueMonitoring:function(){if(!isMonitoringScrollValue){var refresh=ViewportMetrics.refreshScrollValues;ReactBrowserEventEmitter.ReactEventListener.monitorScrollValue(refresh);isMonitoringScrollValue=true;}},eventNameDispatchConfigs:EventPluginHub.eventNameDispatchConfigs,registrationNameModules:EventPluginHub.registrationNameModules,putListener:EventPluginHub.putListener,getListener:EventPluginHub.getListener,deleteListener:EventPluginHub.deleteListener,deleteAllListeners:EventPluginHub.deleteAllListeners});module.exports=ReactBrowserEventEmitter;},{"./EventConstants":16,"./EventPluginHub":18,"./EventPluginRegistry":19,"./Object.assign":27,"./ReactEventEmitterMixin":56,"./ViewportMetrics":96,"./isEventSupported":127}],31:[function(_dereq_,module,exports){"use strict";var PooledClass=_dereq_("./PooledClass");var traverseAllChildren=_dereq_("./traverseAllChildren");var warning=_dereq_("./warning");var twoArgumentPooler=PooledClass.twoArgumentPooler;var threeArgumentPooler=PooledClass.threeArgumentPooler;function ForEachBookKeeping(forEachFunction,forEachContext){this.forEachFunction=forEachFunction;this.forEachContext=forEachContext;}
PooledClass.addPoolingTo(ForEachBookKeeping,twoArgumentPooler);function forEachSingleChild(traverseContext,child,name,i){var forEachBookKeeping=traverseContext;forEachBookKeeping.forEachFunction.call(forEachBookKeeping.forEachContext,child,i);}
function forEachChildren(children,forEachFunc,forEachContext){if(children==null){return children;}
var traverseContext=ForEachBookKeeping.getPooled(forEachFunc,forEachContext);traverseAllChildren(children,forEachSingleChild,traverseContext);ForEachBookKeeping.release(traverseContext);}
function MapBookKeeping(mapResult,mapFunction,mapContext){this.mapResult=mapResult;this.mapFunction=mapFunction;this.mapContext=mapContext;}
PooledClass.addPoolingTo(MapBookKeeping,threeArgumentPooler);function mapSingleChildIntoContext(traverseContext,child,name,i){var mapBookKeeping=traverseContext;var mapResult=mapBookKeeping.mapResult;var keyUnique=!mapResult.hasOwnProperty(name);("production"!=="development"?warning(keyUnique,'ReactChildren.map(...): Encountered two children with the same key, '+'`%s`. Child keys must be unique; when two children share a key, only '+'the first child will be used.',name):null);if(keyUnique){var mappedChild=mapBookKeeping.mapFunction.call(mapBookKeeping.mapContext,child,i);mapResult[name]=mappedChild;}}
function mapChildren(children,func,context){if(children==null){return children;}
var mapResult={};var traverseContext=MapBookKeeping.getPooled(mapResult,func,context);traverseAllChildren(children,mapSingleChildIntoContext,traverseContext);MapBookKeeping.release(traverseContext);return mapResult;}
function forEachSingleChildDummy(traverseContext,child,name,i){return null;}
function countChildren(children,context){return traverseAllChildren(children,forEachSingleChildDummy,null);}
var ReactChildren={forEach:forEachChildren,map:mapChildren,count:countChildren};module.exports=ReactChildren;},{"./PooledClass":28,"./traverseAllChildren":144,"./warning":145}],32:[function(_dereq_,module,exports){"use strict";var ReactElement=_dereq_("./ReactElement");var ReactOwner=_dereq_("./ReactOwner");var ReactUpdates=_dereq_("./ReactUpdates");var assign=_dereq_("./Object.assign");var invariant=_dereq_("./invariant");var keyMirror=_dereq_("./keyMirror");var ComponentLifeCycle=keyMirror({MOUNTED:null,UNMOUNTED:null});var injected=false;var unmountIDFromEnvironment=null;var mountImageIntoNode=null;var ReactComponent={injection:{injectEnvironment:function(ReactComponentEnvironment){("production"!=="development"?invariant(!injected,'ReactComponent: injectEnvironment() can only be called once.'):invariant(!injected));mountImageIntoNode=ReactComponentEnvironment.mountImageIntoNode;unmountIDFromEnvironment=ReactComponentEnvironment.unmountIDFromEnvironment;ReactComponent.BackendIDOperations=ReactComponentEnvironment.BackendIDOperations;injected=true;}},LifeCycle:ComponentLifeCycle,BackendIDOperations:null,Mixin:{isMounted:function(){return this._lifeCycleState===ComponentLifeCycle.MOUNTED;},setProps:function(partialProps,callback){var element=this._pendingElement||this._currentElement;this.replaceProps(assign({},element.props,partialProps),callback);},replaceProps:function(props,callback){("production"!=="development"?invariant(this.isMounted(),'replaceProps(...): Can only update a mounted component.'):invariant(this.isMounted()));("production"!=="development"?invariant(this._mountDepth===0,'replaceProps(...): You called `setProps` or `replaceProps` on a '+'component with a parent. This is an anti-pattern since props will '+'get reactively updated when rendered. Instead, change the owner\'s '+'`render` method to pass the correct value as props to the component '+'where it is created.'):invariant(this._mountDepth===0));this._pendingElement=ReactElement.cloneAndReplaceProps(this._pendingElement||this._currentElement,props);ReactUpdates.enqueueUpdate(this,callback);},_setPropsInternal:function(partialProps,callback){var element=this._pendingElement||this._currentElement;this._pendingElement=ReactElement.cloneAndReplaceProps(element,assign({},element.props,partialProps));ReactUpdates.enqueueUpdate(this,callback);},construct:function(element){this.props=element.props;this._owner=element._owner;this._lifeCycleState=ComponentLifeCycle.UNMOUNTED;this._pendingCallbacks=null;this._currentElement=element;this._pendingElement=null;},mountComponent:function(rootID,transaction,mountDepth){("production"!=="development"?invariant(!this.isMounted(),'mountComponent(%s, ...): Can only mount an unmounted component. '+'Make sure to avoid storing components between renders or reusing a '+'single component instance in multiple places.',rootID):invariant(!this.isMounted()));var ref=this._currentElement.ref;if(ref!=null){var owner=this._currentElement._owner;ReactOwner.addComponentAsRefTo(this,ref,owner);}
this._rootNodeID=rootID;this._lifeCycleState=ComponentLifeCycle.MOUNTED;this._mountDepth=mountDepth;},unmountComponent:function(){("production"!=="development"?invariant(this.isMounted(),'unmountComponent(): Can only unmount a mounted component.'):invariant(this.isMounted()));var ref=this._currentElement.ref;if(ref!=null){ReactOwner.removeComponentAsRefFrom(this,ref,this._owner);}
unmountIDFromEnvironment(this._rootNodeID);this._rootNodeID=null;this._lifeCycleState=ComponentLifeCycle.UNMOUNTED;},receiveComponent:function(nextElement,transaction){("production"!=="development"?invariant(this.isMounted(),'receiveComponent(...): Can only update a mounted component.'):invariant(this.isMounted()));this._pendingElement=nextElement;this.performUpdateIfNecessary(transaction);},performUpdateIfNecessary:function(transaction){if(this._pendingElement==null){return;}
var prevElement=this._currentElement;var nextElement=this._pendingElement;this._currentElement=nextElement;this.props=nextElement.props;this._owner=nextElement._owner;this._pendingElement=null;this.updateComponent(transaction,prevElement);},updateComponent:function(transaction,prevElement){var nextElement=this._currentElement;if(nextElement._owner!==prevElement._owner||nextElement.ref!==prevElement.ref){if(prevElement.ref!=null){ReactOwner.removeComponentAsRefFrom(this,prevElement.ref,prevElement._owner);}
if(nextElement.ref!=null){ReactOwner.addComponentAsRefTo(this,nextElement.ref,nextElement._owner);}}},mountComponentIntoNode:function(rootID,container,shouldReuseMarkup){var transaction=ReactUpdates.ReactReconcileTransaction.getPooled();transaction.perform(this._mountComponentIntoNode,this,rootID,container,transaction,shouldReuseMarkup);ReactUpdates.ReactReconcileTransaction.release(transaction);},_mountComponentIntoNode:function(rootID,container,transaction,shouldReuseMarkup){var markup=this.mountComponent(rootID,transaction,0);mountImageIntoNode(markup,container,shouldReuseMarkup);},isOwnedBy:function(owner){return this._owner===owner;},getSiblingByRef:function(ref){var owner=this._owner;if(!owner||!owner.refs){return null;}
return owner.refs[ref];}}};module.exports=ReactComponent;},{"./Object.assign":27,"./ReactElement":52,"./ReactOwner":67,"./ReactUpdates":79,"./invariant":126,"./keyMirror":132}],33:[function(_dereq_,module,exports){"use strict";var ReactDOMIDOperations=_dereq_("./ReactDOMIDOperations");var ReactMarkupChecksum=_dereq_("./ReactMarkupChecksum");var ReactMount=_dereq_("./ReactMount");var ReactPerf=_dereq_("./ReactPerf");var ReactReconcileTransaction=_dereq_("./ReactReconcileTransaction");var getReactRootElementInContainer=_dereq_("./getReactRootElementInContainer");var invariant=_dereq_("./invariant");var setInnerHTML=_dereq_("./setInnerHTML");var ELEMENT_NODE_TYPE=1;var DOC_NODE_TYPE=9;var ReactComponentBrowserEnvironment={ReactReconcileTransaction:ReactReconcileTransaction,BackendIDOperations:ReactDOMIDOperations,unmountIDFromEnvironment:function(rootNodeID){ReactMount.purgeID(rootNodeID);},mountImageIntoNode:ReactPerf.measure('ReactComponentBrowserEnvironment','mountImageIntoNode',function(markup,container,shouldReuseMarkup){("production"!=="development"?invariant(container&&(container.nodeType===ELEMENT_NODE_TYPE||container.nodeType===DOC_NODE_TYPE),'mountComponentIntoNode(...): Target container is not valid.'):invariant(container&&(container.nodeType===ELEMENT_NODE_TYPE||container.nodeType===DOC_NODE_TYPE)));if(shouldReuseMarkup){if(ReactMarkupChecksum.canReuseMarkup(markup,getReactRootElementInContainer(container))){return;}else{("production"!=="development"?invariant(container.nodeType!==DOC_NODE_TYPE,'You\'re trying to render a component to the document using '+'server rendering but the checksum was invalid. This usually '+'means you rendered a different component type or props on '+'the client from the one on the server, or your render() '+'methods are impure. React cannot handle this case due to '+'cross-browser quirks by rendering at the document root. You '+'should look for environment dependent code in your components '+'and ensure the props are the same client and server side.'):invariant(container.nodeType!==DOC_NODE_TYPE));if("production"!=="development"){console.warn('React attempted to use reuse markup in a container but the '+'checksum was invalid. This generally means that you are '+'using server rendering and the markup generated on the '+'server was not what the client was expecting. React injected '+'new markup to compensate which works but you have lost many '+'of the benefits of server rendering. Instead, figure out '+'why the markup being generated is different on the client '+'or server.');}}}
("production"!=="development"?invariant(container.nodeType!==DOC_NODE_TYPE,'You\'re trying to render a component to the document but '+'you didn\'t use server rendering. We can\'t do this '+'without using server rendering due to cross-browser quirks. '+'See renderComponentToString() for server rendering.'):invariant(container.nodeType!==DOC_NODE_TYPE));setInnerHTML(container,markup);})};module.exports=ReactComponentBrowserEnvironment;},{"./ReactDOMIDOperations":41,"./ReactMarkupChecksum":62,"./ReactMount":63,"./ReactPerf":68,"./ReactReconcileTransaction":74,"./getReactRootElementInContainer":120,"./invariant":126,"./setInnerHTML":140}],34:[function(_dereq_,module,exports){"use strict";var ReactComponent=_dereq_("./ReactComponent");var ReactContext=_dereq_("./ReactContext");var ReactCurrentOwner=_dereq_("./ReactCurrentOwner");var ReactElement=_dereq_("./ReactElement");var ReactElementValidator=_dereq_("./ReactElementValidator");var ReactEmptyComponent=_dereq_("./ReactEmptyComponent");var ReactErrorUtils=_dereq_("./ReactErrorUtils");var ReactLegacyElement=_dereq_("./ReactLegacyElement");var ReactOwner=_dereq_("./ReactOwner");var ReactPerf=_dereq_("./ReactPerf");var ReactPropTransferer=_dereq_("./ReactPropTransferer");var ReactPropTypeLocations=_dereq_("./ReactPropTypeLocations");var ReactPropTypeLocationNames=_dereq_("./ReactPropTypeLocationNames");var ReactUpdates=_dereq_("./ReactUpdates");var assign=_dereq_("./Object.assign");var instantiateReactComponent=_dereq_("./instantiateReactComponent");var invariant=_dereq_("./invariant");var keyMirror=_dereq_("./keyMirror");var keyOf=_dereq_("./keyOf");var monitorCodeUse=_dereq_("./monitorCodeUse");var mapObject=_dereq_("./mapObject");var shouldUpdateReactComponent=_dereq_("./shouldUpdateReactComponent");var warning=_dereq_("./warning");var MIXINS_KEY=keyOf({mixins:null});var SpecPolicy=keyMirror({DEFINE_ONCE:null,DEFINE_MANY:null,OVERRIDE_BASE:null,DEFINE_MANY_MERGED:null});var injectedMixins=[];var ReactCompositeComponentInterface={mixins:SpecPolicy.DEFINE_MANY,statics:SpecPolicy.DEFINE_MANY,propTypes:SpecPolicy.DEFINE_MANY,contextTypes:SpecPolicy.DEFINE_MANY,childContextTypes:SpecPolicy.DEFINE_MANY,getDefaultProps:SpecPolicy.DEFINE_MANY_MERGED,getInitialState:SpecPolicy.DEFINE_MANY_MERGED,getChildContext:SpecPolicy.DEFINE_MANY_MERGED,render:SpecPolicy.DEFINE_ONCE,componentWillMount:SpecPolicy.DEFINE_MANY,componentDidMount:SpecPolicy.DEFINE_MANY,componentWillReceiveProps:SpecPolicy.DEFINE_MANY,shouldComponentUpdate:SpecPolicy.DEFINE_ONCE,componentWillUpdate:SpecPolicy.DEFINE_MANY,componentDidUpdate:SpecPolicy.DEFINE_MANY,componentWillUnmount:SpecPolicy.DEFINE_MANY,updateComponent:SpecPolicy.OVERRIDE_BASE};var RESERVED_SPEC_KEYS={displayName:function(Constructor,displayName){Constructor.displayName=displayName;},mixins:function(Constructor,mixins){if(mixins){for(var i=0;i<mixins.length;i++){mixSpecIntoComponent(Constructor,mixins[i]);}}},childContextTypes:function(Constructor,childContextTypes){validateTypeDef(Constructor,childContextTypes,ReactPropTypeLocations.childContext);Constructor.childContextTypes=assign({},Constructor.childContextTypes,childContextTypes);},contextTypes:function(Constructor,contextTypes){validateTypeDef(Constructor,contextTypes,ReactPropTypeLocations.context);Constructor.contextTypes=assign({},Constructor.contextTypes,contextTypes);},getDefaultProps:function(Constructor,getDefaultProps){if(Constructor.getDefaultProps){Constructor.getDefaultProps=createMergedResultFunction(Constructor.getDefaultProps,getDefaultProps);}else{Constructor.getDefaultProps=getDefaultProps;}},propTypes:function(Constructor,propTypes){validateTypeDef(Constructor,propTypes,ReactPropTypeLocations.prop);Constructor.propTypes=assign({},Constructor.propTypes,propTypes);},statics:function(Constructor,statics){mixStaticSpecIntoComponent(Constructor,statics);}};function getDeclarationErrorAddendum(component){var owner=component._owner||null;if(owner&&owner.constructor&&owner.constructor.displayName){return' Check the render method of `'+owner.constructor.displayName+'`.';}
return'';}
function validateTypeDef(Constructor,typeDef,location){for(var propName in typeDef){if(typeDef.hasOwnProperty(propName)){("production"!=="development"?invariant(typeof typeDef[propName]=='function','%s: %s type `%s` is invalid; it must be a function, usually from '+'React.PropTypes.',Constructor.displayName||'ReactCompositeComponent',ReactPropTypeLocationNames[location],propName):invariant(typeof typeDef[propName]=='function'));}}}
function validateMethodOverride(proto,name){var specPolicy=ReactCompositeComponentInterface.hasOwnProperty(name)?ReactCompositeComponentInterface[name]:null;if(ReactCompositeComponentMixin.hasOwnProperty(name)){("production"!=="development"?invariant(specPolicy===SpecPolicy.OVERRIDE_BASE,'ReactCompositeComponentInterface: You are attempting to override '+'`%s` from your class specification. Ensure that your method names '+'do not overlap with React methods.',name):invariant(specPolicy===SpecPolicy.OVERRIDE_BASE));}
if(proto.hasOwnProperty(name)){("production"!=="development"?invariant(specPolicy===SpecPolicy.DEFINE_MANY||specPolicy===SpecPolicy.DEFINE_MANY_MERGED,'ReactCompositeComponentInterface: You are attempting to define '+'`%s` on your component more than once. This conflict may be due '+'to a mixin.',name):invariant(specPolicy===SpecPolicy.DEFINE_MANY||specPolicy===SpecPolicy.DEFINE_MANY_MERGED));}}
function validateLifeCycleOnReplaceState(instance){var compositeLifeCycleState=instance._compositeLifeCycleState;("production"!=="development"?invariant(instance.isMounted()||compositeLifeCycleState===CompositeLifeCycle.MOUNTING,'replaceState(...): Can only update a mounted or mounting component.'):invariant(instance.isMounted()||compositeLifeCycleState===CompositeLifeCycle.MOUNTING));("production"!=="development"?invariant(ReactCurrentOwner.current==null,'replaceState(...): Cannot update during an existing state transition '+'(such as within `render`). Render methods should be a pure function '+'of props and state.'):invariant(ReactCurrentOwner.current==null));("production"!=="development"?invariant(compositeLifeCycleState!==CompositeLifeCycle.UNMOUNTING,'replaceState(...): Cannot update while unmounting component. This '+'usually means you called setState() on an unmounted component.'):invariant(compositeLifeCycleState!==CompositeLifeCycle.UNMOUNTING));}
function mixSpecIntoComponent(Constructor,spec){if(!spec){return;}
("production"!=="development"?invariant(!ReactLegacyElement.isValidFactory(spec),'ReactCompositeComponent: You\'re attempting to '+'use a component class as a mixin. Instead, just use a regular object.'):invariant(!ReactLegacyElement.isValidFactory(spec)));("production"!=="development"?invariant(!ReactElement.isValidElement(spec),'ReactCompositeComponent: You\'re attempting to '+'use a component as a mixin. Instead, just use a regular object.'):invariant(!ReactElement.isValidElement(spec)));var proto=Constructor.prototype;if(spec.hasOwnProperty(MIXINS_KEY)){RESERVED_SPEC_KEYS.mixins(Constructor,spec.mixins);}
for(var name in spec){if(!spec.hasOwnProperty(name)){continue;}
if(name===MIXINS_KEY){continue;}
var property=spec[name];validateMethodOverride(proto,name);if(RESERVED_SPEC_KEYS.hasOwnProperty(name)){RESERVED_SPEC_KEYS[name](Constructor,property);}else{var isCompositeComponentMethod=ReactCompositeComponentInterface.hasOwnProperty(name);var isAlreadyDefined=proto.hasOwnProperty(name);var markedDontBind=property&&property.__reactDontBind;var isFunction=typeof property==='function';var shouldAutoBind=isFunction&&!isCompositeComponentMethod&&!isAlreadyDefined&&!markedDontBind;if(shouldAutoBind){if(!proto.__reactAutoBindMap){proto.__reactAutoBindMap={};}
proto.__reactAutoBindMap[name]=property;proto[name]=property;}else{if(isAlreadyDefined){var specPolicy=ReactCompositeComponentInterface[name];("production"!=="development"?invariant(isCompositeComponentMethod&&(specPolicy===SpecPolicy.DEFINE_MANY_MERGED||specPolicy===SpecPolicy.DEFINE_MANY),'ReactCompositeComponent: Unexpected spec policy %s for key %s '+'when mixing in component specs.',specPolicy,name):invariant(isCompositeComponentMethod&&(specPolicy===SpecPolicy.DEFINE_MANY_MERGED||specPolicy===SpecPolicy.DEFINE_MANY)));if(specPolicy===SpecPolicy.DEFINE_MANY_MERGED){proto[name]=createMergedResultFunction(proto[name],property);}else if(specPolicy===SpecPolicy.DEFINE_MANY){proto[name]=createChainedFunction(proto[name],property);}}else{proto[name]=property;if("production"!=="development"){if(typeof property==='function'&&spec.displayName){proto[name].displayName=spec.displayName+'_'+name;}}}}}}}
function mixStaticSpecIntoComponent(Constructor,statics){if(!statics){return;}
for(var name in statics){var property=statics[name];if(!statics.hasOwnProperty(name)){continue;}
var isReserved=name in RESERVED_SPEC_KEYS;("production"!=="development"?invariant(!isReserved,'ReactCompositeComponent: You are attempting to define a reserved '+'property, `%s`, that shouldn\'t be on the "statics" key. Define it '+'as an instance property instead; it will still be accessible on the '+'constructor.',name):invariant(!isReserved));var isInherited=name in Constructor;("production"!=="development"?invariant(!isInherited,'ReactCompositeComponent: You are attempting to define '+'`%s` on your component more than once. This conflict may be '+'due to a mixin.',name):invariant(!isInherited));Constructor[name]=property;}}
function mergeObjectsWithNoDuplicateKeys(one,two){("production"!=="development"?invariant(one&&two&&typeof one==='object'&&typeof two==='object','mergeObjectsWithNoDuplicateKeys(): Cannot merge non-objects'):invariant(one&&two&&typeof one==='object'&&typeof two==='object'));mapObject(two,function(value,key){("production"!=="development"?invariant(one[key]===undefined,'mergeObjectsWithNoDuplicateKeys(): '+'Tried to merge two objects with the same key: `%s`. This conflict '+'may be due to a mixin; in particular, this may be caused by two '+'getInitialState() or getDefaultProps() methods returning objects '+'with clashing keys.',key):invariant(one[key]===undefined));one[key]=value;});return one;}
function createMergedResultFunction(one,two){return function mergedResult(){var a=one.apply(this,arguments);var b=two.apply(this,arguments);if(a==null){return b;}else if(b==null){return a;}
return mergeObjectsWithNoDuplicateKeys(a,b);};}
function createChainedFunction(one,two){return function chainedFunction(){one.apply(this,arguments);two.apply(this,arguments);};}
var CompositeLifeCycle=keyMirror({MOUNTING:null,UNMOUNTING:null,RECEIVING_PROPS:null});var ReactCompositeComponentMixin={construct:function(element){ReactComponent.Mixin.construct.apply(this,arguments);ReactOwner.Mixin.construct.apply(this,arguments);this.state=null;this._pendingState=null;this.context=null;this._compositeLifeCycleState=null;},isMounted:function(){return ReactComponent.Mixin.isMounted.call(this)&&this._compositeLifeCycleState!==CompositeLifeCycle.MOUNTING;},mountComponent:ReactPerf.measure('ReactCompositeComponent','mountComponent',function(rootID,transaction,mountDepth){ReactComponent.Mixin.mountComponent.call(this,rootID,transaction,mountDepth);this._compositeLifeCycleState=CompositeLifeCycle.MOUNTING;if(this.__reactAutoBindMap){this._bindAutoBindMethods();}
this.context=this._processContext(this._currentElement._context);this.props=this._processProps(this.props);this.state=this.getInitialState?this.getInitialState():null;("production"!=="development"?invariant(typeof this.state==='object'&&!Array.isArray(this.state),'%s.getInitialState(): must return an object or null',this.constructor.displayName||'ReactCompositeComponent'):invariant(typeof this.state==='object'&&!Array.isArray(this.state)));this._pendingState=null;this._pendingForceUpdate=false;if(this.componentWillMount){this.componentWillMount();if(this._pendingState){this.state=this._pendingState;this._pendingState=null;}}
this._renderedComponent=instantiateReactComponent(this._renderValidatedComponent(),this._currentElement.type);this._compositeLifeCycleState=null;var markup=this._renderedComponent.mountComponent(rootID,transaction,mountDepth+1);if(this.componentDidMount){transaction.getReactMountReady().enqueue(this.componentDidMount,this);}
return markup;}),unmountComponent:function(){this._compositeLifeCycleState=CompositeLifeCycle.UNMOUNTING;if(this.componentWillUnmount){this.componentWillUnmount();}
this._compositeLifeCycleState=null;this._renderedComponent.unmountComponent();this._renderedComponent=null;ReactComponent.Mixin.unmountComponent.call(this);},setState:function(partialState,callback){("production"!=="development"?invariant(typeof partialState==='object'||partialState==null,'setState(...): takes an object of state variables to update.'):invariant(typeof partialState==='object'||partialState==null));if("production"!=="development"){("production"!=="development"?warning(partialState!=null,'setState(...): You passed an undefined or null state object; '+'instead, use forceUpdate().'):null);}
this.replaceState(assign({},this._pendingState||this.state,partialState),callback);},replaceState:function(completeState,callback){validateLifeCycleOnReplaceState(this);this._pendingState=completeState;if(this._compositeLifeCycleState!==CompositeLifeCycle.MOUNTING){ReactUpdates.enqueueUpdate(this,callback);}},_processContext:function(context){var maskedContext=null;var contextTypes=this.constructor.contextTypes;if(contextTypes){maskedContext={};for(var contextName in contextTypes){maskedContext[contextName]=context[contextName];}
if("production"!=="development"){this._checkPropTypes(contextTypes,maskedContext,ReactPropTypeLocations.context);}}
return maskedContext;},_processChildContext:function(currentContext){var childContext=this.getChildContext&&this.getChildContext();var displayName=this.constructor.displayName||'ReactCompositeComponent';if(childContext){("production"!=="development"?invariant(typeof this.constructor.childContextTypes==='object','%s.getChildContext(): childContextTypes must be defined in order to '+'use getChildContext().',displayName):invariant(typeof this.constructor.childContextTypes==='object'));if("production"!=="development"){this._checkPropTypes(this.constructor.childContextTypes,childContext,ReactPropTypeLocations.childContext);}
for(var name in childContext){("production"!=="development"?invariant(name in this.constructor.childContextTypes,'%s.getChildContext(): key "%s" is not defined in childContextTypes.',displayName,name):invariant(name in this.constructor.childContextTypes));}
return assign({},currentContext,childContext);}
return currentContext;},_processProps:function(newProps){if("production"!=="development"){var propTypes=this.constructor.propTypes;if(propTypes){this._checkPropTypes(propTypes,newProps,ReactPropTypeLocations.prop);}}
return newProps;},_checkPropTypes:function(propTypes,props,location){var componentName=this.constructor.displayName;for(var propName in propTypes){if(propTypes.hasOwnProperty(propName)){var error=propTypes[propName](props,propName,componentName,location);if(error instanceof Error){var addendum=getDeclarationErrorAddendum(this);("production"!=="development"?warning(false,error.message+addendum):null);}}}},performUpdateIfNecessary:function(transaction){var compositeLifeCycleState=this._compositeLifeCycleState;if(compositeLifeCycleState===CompositeLifeCycle.MOUNTING||compositeLifeCycleState===CompositeLifeCycle.RECEIVING_PROPS){return;}
if(this._pendingElement==null&&this._pendingState==null&&!this._pendingForceUpdate){return;}
var nextContext=this.context;var nextProps=this.props;var nextElement=this._currentElement;if(this._pendingElement!=null){nextElement=this._pendingElement;nextContext=this._processContext(nextElement._context);nextProps=this._processProps(nextElement.props);this._pendingElement=null;this._compositeLifeCycleState=CompositeLifeCycle.RECEIVING_PROPS;if(this.componentWillReceiveProps){this.componentWillReceiveProps(nextProps,nextContext);}}
this._compositeLifeCycleState=null;var nextState=this._pendingState||this.state;this._pendingState=null;var shouldUpdate=this._pendingForceUpdate||!this.shouldComponentUpdate||this.shouldComponentUpdate(nextProps,nextState,nextContext);if("production"!=="development"){if(typeof shouldUpdate==="undefined"){console.warn((this.constructor.displayName||'ReactCompositeComponent')+'.shouldComponentUpdate(): Returned undefined instead of a '+'boolean value. Make sure to return true or false.');}}
if(shouldUpdate){this._pendingForceUpdate=false;this._performComponentUpdate(nextElement,nextProps,nextState,nextContext,transaction);}else{this._currentElement=nextElement;this.props=nextProps;this.state=nextState;this.context=nextContext;this._owner=nextElement._owner;}},_performComponentUpdate:function(nextElement,nextProps,nextState,nextContext,transaction){var prevElement=this._currentElement;var prevProps=this.props;var prevState=this.state;var prevContext=this.context;if(this.componentWillUpdate){this.componentWillUpdate(nextProps,nextState,nextContext);}
this._currentElement=nextElement;this.props=nextProps;this.state=nextState;this.context=nextContext;this._owner=nextElement._owner;this.updateComponent(transaction,prevElement);if(this.componentDidUpdate){transaction.getReactMountReady().enqueue(this.componentDidUpdate.bind(this,prevProps,prevState,prevContext),this);}},receiveComponent:function(nextElement,transaction){if(nextElement===this._currentElement&&nextElement._owner!=null){return;}
ReactComponent.Mixin.receiveComponent.call(this,nextElement,transaction);},updateComponent:ReactPerf.measure('ReactCompositeComponent','updateComponent',function(transaction,prevParentElement){ReactComponent.Mixin.updateComponent.call(this,transaction,prevParentElement);var prevComponentInstance=this._renderedComponent;var prevElement=prevComponentInstance._currentElement;var nextElement=this._renderValidatedComponent();if(shouldUpdateReactComponent(prevElement,nextElement)){prevComponentInstance.receiveComponent(nextElement,transaction);}else{var thisID=this._rootNodeID;var prevComponentID=prevComponentInstance._rootNodeID;prevComponentInstance.unmountComponent();this._renderedComponent=instantiateReactComponent(nextElement,this._currentElement.type);var nextMarkup=this._renderedComponent.mountComponent(thisID,transaction,this._mountDepth+1);ReactComponent.BackendIDOperations.dangerouslyReplaceNodeWithMarkupByID(prevComponentID,nextMarkup);}}),forceUpdate:function(callback){var compositeLifeCycleState=this._compositeLifeCycleState;("production"!=="development"?invariant(this.isMounted()||compositeLifeCycleState===CompositeLifeCycle.MOUNTING,'forceUpdate(...): Can only force an update on mounted or mounting '+'components.'):invariant(this.isMounted()||compositeLifeCycleState===CompositeLifeCycle.MOUNTING));("production"!=="development"?invariant(compositeLifeCycleState!==CompositeLifeCycle.UNMOUNTING&&ReactCurrentOwner.current==null,'forceUpdate(...): Cannot force an update while unmounting component '+'or within a `render` function.'):invariant(compositeLifeCycleState!==CompositeLifeCycle.UNMOUNTING&&ReactCurrentOwner.current==null));this._pendingForceUpdate=true;ReactUpdates.enqueueUpdate(this,callback);},_renderValidatedComponent:ReactPerf.measure('ReactCompositeComponent','_renderValidatedComponent',function(){var renderedComponent;var previousContext=ReactContext.current;ReactContext.current=this._processChildContext(this._currentElement._context);ReactCurrentOwner.current=this;try{renderedComponent=this.render();if(renderedComponent===null||renderedComponent===false){renderedComponent=ReactEmptyComponent.getEmptyComponent();ReactEmptyComponent.registerNullComponentID(this._rootNodeID);}else{ReactEmptyComponent.deregisterNullComponentID(this._rootNodeID);}}finally{ReactContext.current=previousContext;ReactCurrentOwner.current=null;}
("production"!=="development"?invariant(ReactElement.isValidElement(renderedComponent),'%s.render(): A valid ReactComponent must be returned. You may have '+'returned undefined, an array or some other invalid object.',this.constructor.displayName||'ReactCompositeComponent'):invariant(ReactElement.isValidElement(renderedComponent)));return renderedComponent;}),_bindAutoBindMethods:function(){for(var autoBindKey in this.__reactAutoBindMap){if(!this.__reactAutoBindMap.hasOwnProperty(autoBindKey)){continue;}
var method=this.__reactAutoBindMap[autoBindKey];this[autoBindKey]=this._bindAutoBindMethod(ReactErrorUtils.guard(method,this.constructor.displayName+'.'+autoBindKey));}},_bindAutoBindMethod:function(method){var component=this;var boundMethod=method.bind(component);if("production"!=="development"){boundMethod.__reactBoundContext=component;boundMethod.__reactBoundMethod=method;boundMethod.__reactBoundArguments=null;var componentName=component.constructor.displayName;var _bind=boundMethod.bind;boundMethod.bind=function(newThis){for(var args=[],$__0=1,$__1=arguments.length;$__0<$__1;$__0++)args.push(arguments[$__0]);if(newThis!==component&&newThis!==null){monitorCodeUse('react_bind_warning',{component:componentName});console.warn('bind(): React component methods may only be bound to the '+'component instance. See '+componentName);}else if(!args.length){monitorCodeUse('react_bind_warning',{component:componentName});console.warn('bind(): You are binding a component method to the component. '+'React does this for you automatically in a high-performance '+'way, so you can safely remove this call. See '+componentName);return boundMethod;}
var reboundMethod=_bind.apply(boundMethod,arguments);reboundMethod.__reactBoundContext=component;reboundMethod.__reactBoundMethod=method;reboundMethod.__reactBoundArguments=args;return reboundMethod;};}
return boundMethod;}};var ReactCompositeComponentBase=function(){};assign(ReactCompositeComponentBase.prototype,ReactComponent.Mixin,ReactOwner.Mixin,ReactPropTransferer.Mixin,ReactCompositeComponentMixin);var ReactCompositeComponent={LifeCycle:CompositeLifeCycle,Base:ReactCompositeComponentBase,createClass:function(spec){var Constructor=function(props){};Constructor.prototype=new ReactCompositeComponentBase();Constructor.prototype.constructor=Constructor;injectedMixins.forEach(mixSpecIntoComponent.bind(null,Constructor));mixSpecIntoComponent(Constructor,spec);if(Constructor.getDefaultProps){Constructor.defaultProps=Constructor.getDefaultProps();}
("production"!=="development"?invariant(Constructor.prototype.render,'createClass(...): Class specification must implement a `render` method.'):invariant(Constructor.prototype.render));if("production"!=="development"){if(Constructor.prototype.componentShouldUpdate){monitorCodeUse('react_component_should_update_warning',{component:spec.displayName});console.warn((spec.displayName||'A component')+' has a method called '+'componentShouldUpdate(). Did you mean shouldComponentUpdate()? '+'The name is phrased as a question because the function is '+'expected to return a value.');}}
for(var methodName in ReactCompositeComponentInterface){if(!Constructor.prototype[methodName]){Constructor.prototype[methodName]=null;}}
if("production"!=="development"){return ReactLegacyElement.wrapFactory(ReactElementValidator.createFactory(Constructor));}
return ReactLegacyElement.wrapFactory(ReactElement.createFactory(Constructor));},injection:{injectMixin:function(mixin){injectedMixins.push(mixin);}}};module.exports=ReactCompositeComponent;},{"./Object.assign":27,"./ReactComponent":32,"./ReactContext":35,"./ReactCurrentOwner":36,"./ReactElement":52,"./ReactElementValidator":53,"./ReactEmptyComponent":54,"./ReactErrorUtils":55,"./ReactLegacyElement":61,"./ReactOwner":67,"./ReactPerf":68,"./ReactPropTransferer":69,"./ReactPropTypeLocationNames":70,"./ReactPropTypeLocations":71,"./ReactUpdates":79,"./instantiateReactComponent":125,"./invariant":126,"./keyMirror":132,"./keyOf":133,"./mapObject":134,"./monitorCodeUse":136,"./shouldUpdateReactComponent":142,"./warning":145}],35:[function(_dereq_,module,exports){"use strict";var assign=_dereq_("./Object.assign");var ReactContext={current:{},withContext:function(newContext,scopedCallback){var result;var previousContext=ReactContext.current;ReactContext.current=assign({},previousContext,newContext);try{result=scopedCallback();}finally{ReactContext.current=previousContext;}
return result;}};module.exports=ReactContext;},{"./Object.assign":27}],36:[function(_dereq_,module,exports){"use strict";var ReactCurrentOwner={current:null};module.exports=ReactCurrentOwner;},{}],37:[function(_dereq_,module,exports){"use strict";var ReactElement=_dereq_("./ReactElement");var ReactElementValidator=_dereq_("./ReactElementValidator");var ReactLegacyElement=_dereq_("./ReactLegacyElement");var mapObject=_dereq_("./mapObject");function createDOMFactory(tag){if("production"!=="development"){return ReactLegacyElement.markNonLegacyFactory(ReactElementValidator.createFactory(tag));}
return ReactLegacyElement.markNonLegacyFactory(ReactElement.createFactory(tag));}
var ReactDOM=mapObject({a:'a',abbr:'abbr',address:'address',area:'area',article:'article',aside:'aside',audio:'audio',b:'b',base:'base',bdi:'bdi',bdo:'bdo',big:'big',blockquote:'blockquote',body:'body',br:'br',button:'button',canvas:'canvas',caption:'caption',cite:'cite',code:'code',col:'col',colgroup:'colgroup',data:'data',datalist:'datalist',dd:'dd',del:'del',details:'details',dfn:'dfn',dialog:'dialog',div:'div',dl:'dl',dt:'dt',em:'em',embed:'embed',fieldset:'fieldset',figcaption:'figcaption',figure:'figure',footer:'footer',form:'form',h1:'h1',h2:'h2',h3:'h3',h4:'h4',h5:'h5',h6:'h6',head:'head',header:'header',hr:'hr',html:'html',i:'i',iframe:'iframe',img:'img',input:'input',ins:'ins',kbd:'kbd',keygen:'keygen',label:'label',legend:'legend',li:'li',link:'link',main:'main',map:'map',mark:'mark',menu:'menu',menuitem:'menuitem',meta:'meta',meter:'meter',nav:'nav',noscript:'noscript',object:'object',ol:'ol',optgroup:'optgroup',option:'option',output:'output',p:'p',param:'param',picture:'picture',pre:'pre',progress:'progress',q:'q',rp:'rp',rt:'rt',ruby:'ruby',s:'s',samp:'samp',script:'script',section:'section',select:'select',small:'small',source:'source',span:'span',strong:'strong',style:'style',sub:'sub',summary:'summary',sup:'sup',table:'table',tbody:'tbody',td:'td',textarea:'textarea',tfoot:'tfoot',th:'th',thead:'thead',time:'time',title:'title',tr:'tr',track:'track',u:'u',ul:'ul','var':'var',video:'video',wbr:'wbr',circle:'circle',defs:'defs',ellipse:'ellipse',g:'g',line:'line',linearGradient:'linearGradient',mask:'mask',path:'path',pattern:'pattern',polygon:'polygon',polyline:'polyline',radialGradient:'radialGradient',rect:'rect',stop:'stop',svg:'svg',text:'text',tspan:'tspan'},createDOMFactory);module.exports=ReactDOM;},{"./ReactElement":52,"./ReactElementValidator":53,"./ReactLegacyElement":61,"./mapObject":134}],38:[function(_dereq_,module,exports){"use strict";var AutoFocusMixin=_dereq_("./AutoFocusMixin");var ReactBrowserComponentMixin=_dereq_("./ReactBrowserComponentMixin");var ReactCompositeComponent=_dereq_("./ReactCompositeComponent");var ReactElement=_dereq_("./ReactElement");var ReactDOM=_dereq_("./ReactDOM");var keyMirror=_dereq_("./keyMirror");var button=ReactElement.createFactory(ReactDOM.button.type);var mouseListenerNames=keyMirror({onClick:true,onDoubleClick:true,onMouseDown:true,onMouseMove:true,onMouseUp:true,onClickCapture:true,onDoubleClickCapture:true,onMouseDownCapture:true,onMouseMoveCapture:true,onMouseUpCapture:true});var ReactDOMButton=ReactCompositeComponent.createClass({displayName:'ReactDOMButton',mixins:[AutoFocusMixin,ReactBrowserComponentMixin],render:function(){var props={};for(var key in this.props){if(this.props.hasOwnProperty(key)&&(!this.props.disabled||!mouseListenerNames[key])){props[key]=this.props[key];}}
return button(props,this.props.children);}});module.exports=ReactDOMButton;},{"./AutoFocusMixin":2,"./ReactBrowserComponentMixin":29,"./ReactCompositeComponent":34,"./ReactDOM":37,"./ReactElement":52,"./keyMirror":132}],39:[function(_dereq_,module,exports){"use strict";var CSSPropertyOperations=_dereq_("./CSSPropertyOperations");var DOMProperty=_dereq_("./DOMProperty");var DOMPropertyOperations=_dereq_("./DOMPropertyOperations");var ReactBrowserComponentMixin=_dereq_("./ReactBrowserComponentMixin");var ReactComponent=_dereq_("./ReactComponent");var ReactBrowserEventEmitter=_dereq_("./ReactBrowserEventEmitter");var ReactMount=_dereq_("./ReactMount");var ReactMultiChild=_dereq_("./ReactMultiChild");var ReactPerf=_dereq_("./ReactPerf");var assign=_dereq_("./Object.assign");var escapeTextForBrowser=_dereq_("./escapeTextForBrowser");var invariant=_dereq_("./invariant");var isEventSupported=_dereq_("./isEventSupported");var keyOf=_dereq_("./keyOf");var monitorCodeUse=_dereq_("./monitorCodeUse");var deleteListener=ReactBrowserEventEmitter.deleteListener;var listenTo=ReactBrowserEventEmitter.listenTo;var registrationNameModules=ReactBrowserEventEmitter.registrationNameModules;var CONTENT_TYPES={'string':true,'number':true};var STYLE=keyOf({style:null});var ELEMENT_NODE_TYPE=1;function assertValidProps(props){if(!props){return;}
("production"!=="development"?invariant(props.children==null||props.dangerouslySetInnerHTML==null,'Can only set one of `children` or `props.dangerouslySetInnerHTML`.'):invariant(props.children==null||props.dangerouslySetInnerHTML==null));if("production"!=="development"){if(props.contentEditable&&props.children!=null){console.warn('A component is `contentEditable` and contains `children` managed by '+'React. It is now your responsibility to guarantee that none of those '+'nodes are unexpectedly modified or duplicated. This is probably not '+'intentional.');}}
("production"!=="development"?invariant(props.style==null||typeof props.style==='object','The `style` prop expects a mapping from style properties to values, '+'not a string.'):invariant(props.style==null||typeof props.style==='object'));}
function putListener(id,registrationName,listener,transaction){if("production"!=="development"){if(registrationName==='onScroll'&&!isEventSupported('scroll',true)){monitorCodeUse('react_no_scroll_event');console.warn('This browser doesn\'t support the `onScroll` event');}}
var container=ReactMount.findReactContainerForID(id);if(container){var doc=container.nodeType===ELEMENT_NODE_TYPE?container.ownerDocument:container;listenTo(registrationName,doc);}
transaction.getPutListenerQueue().enqueuePutListener(id,registrationName,listener);}
var omittedCloseTags={'area':true,'base':true,'br':true,'col':true,'embed':true,'hr':true,'img':true,'input':true,'keygen':true,'link':true,'meta':true,'param':true,'source':true,'track':true,'wbr':true};var VALID_TAG_REGEX=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/;var validatedTagCache={};var hasOwnProperty={}.hasOwnProperty;function validateDangerousTag(tag){if(!hasOwnProperty.call(validatedTagCache,tag)){("production"!=="development"?invariant(VALID_TAG_REGEX.test(tag),'Invalid tag: %s',tag):invariant(VALID_TAG_REGEX.test(tag)));validatedTagCache[tag]=true;}}
function ReactDOMComponent(tag){validateDangerousTag(tag);this._tag=tag;this.tagName=tag.toUpperCase();}
ReactDOMComponent.displayName='ReactDOMComponent';ReactDOMComponent.Mixin={mountComponent:ReactPerf.measure('ReactDOMComponent','mountComponent',function(rootID,transaction,mountDepth){ReactComponent.Mixin.mountComponent.call(this,rootID,transaction,mountDepth);assertValidProps(this.props);var closeTag=omittedCloseTags[this._tag]?'':'</'+this._tag+'>';return(this._createOpenTagMarkupAndPutListeners(transaction)+
this._createContentMarkup(transaction)+
closeTag);}),_createOpenTagMarkupAndPutListeners:function(transaction){var props=this.props;var ret='<'+this._tag;for(var propKey in props){if(!props.hasOwnProperty(propKey)){continue;}
var propValue=props[propKey];if(propValue==null){continue;}
if(registrationNameModules.hasOwnProperty(propKey)){putListener(this._rootNodeID,propKey,propValue,transaction);}else{if(propKey===STYLE){if(propValue){propValue=props.style=assign({},props.style);}
propValue=CSSPropertyOperations.createMarkupForStyles(propValue);}
var markup=DOMPropertyOperations.createMarkupForProperty(propKey,propValue);if(markup){ret+=' '+markup;}}}
if(transaction.renderToStaticMarkup){return ret+'>';}
var markupForID=DOMPropertyOperations.createMarkupForID(this._rootNodeID);return ret+' '+markupForID+'>';},_createContentMarkup:function(transaction){var innerHTML=this.props.dangerouslySetInnerHTML;if(innerHTML!=null){if(innerHTML.__html!=null){return innerHTML.__html;}}else{var contentToUse=CONTENT_TYPES[typeof this.props.children]?this.props.children:null;var childrenToUse=contentToUse!=null?null:this.props.children;if(contentToUse!=null){return escapeTextForBrowser(contentToUse);}else if(childrenToUse!=null){var mountImages=this.mountChildren(childrenToUse,transaction);return mountImages.join('');}}
return'';},receiveComponent:function(nextElement,transaction){if(nextElement===this._currentElement&&nextElement._owner!=null){return;}
ReactComponent.Mixin.receiveComponent.call(this,nextElement,transaction);},updateComponent:ReactPerf.measure('ReactDOMComponent','updateComponent',function(transaction,prevElement){assertValidProps(this._currentElement.props);ReactComponent.Mixin.updateComponent.call(this,transaction,prevElement);this._updateDOMProperties(prevElement.props,transaction);this._updateDOMChildren(prevElement.props,transaction);}),_updateDOMProperties:function(lastProps,transaction){var nextProps=this.props;var propKey;var styleName;var styleUpdates;for(propKey in lastProps){if(nextProps.hasOwnProperty(propKey)||!lastProps.hasOwnProperty(propKey)){continue;}
if(propKey===STYLE){var lastStyle=lastProps[propKey];for(styleName in lastStyle){if(lastStyle.hasOwnProperty(styleName)){styleUpdates=styleUpdates||{};styleUpdates[styleName]='';}}}else if(registrationNameModules.hasOwnProperty(propKey)){deleteListener(this._rootNodeID,propKey);}else if(DOMProperty.isStandardName[propKey]||DOMProperty.isCustomAttribute(propKey)){ReactComponent.BackendIDOperations.deletePropertyByID(this._rootNodeID,propKey);}}
for(propKey in nextProps){var nextProp=nextProps[propKey];var lastProp=lastProps[propKey];if(!nextProps.hasOwnProperty(propKey)||nextProp===lastProp){continue;}
if(propKey===STYLE){if(nextProp){nextProp=nextProps.style=assign({},nextProp);}
if(lastProp){for(styleName in lastProp){if(lastProp.hasOwnProperty(styleName)&&(!nextProp||!nextProp.hasOwnProperty(styleName))){styleUpdates=styleUpdates||{};styleUpdates[styleName]='';}}
for(styleName in nextProp){if(nextProp.hasOwnProperty(styleName)&&lastProp[styleName]!==nextProp[styleName]){styleUpdates=styleUpdates||{};styleUpdates[styleName]=nextProp[styleName];}}}else{styleUpdates=nextProp;}}else if(registrationNameModules.hasOwnProperty(propKey)){putListener(this._rootNodeID,propKey,nextProp,transaction);}else if(DOMProperty.isStandardName[propKey]||DOMProperty.isCustomAttribute(propKey)){ReactComponent.BackendIDOperations.updatePropertyByID(this._rootNodeID,propKey,nextProp);}}
if(styleUpdates){ReactComponent.BackendIDOperations.updateStylesByID(this._rootNodeID,styleUpdates);}},_updateDOMChildren:function(lastProps,transaction){var nextProps=this.props;var lastContent=CONTENT_TYPES[typeof lastProps.children]?lastProps.children:null;var nextContent=CONTENT_TYPES[typeof nextProps.children]?nextProps.children:null;var lastHtml=lastProps.dangerouslySetInnerHTML&&lastProps.dangerouslySetInnerHTML.__html;var nextHtml=nextProps.dangerouslySetInnerHTML&&nextProps.dangerouslySetInnerHTML.__html;var lastChildren=lastContent!=null?null:lastProps.children;var nextChildren=nextContent!=null?null:nextProps.children;var lastHasContentOrHtml=lastContent!=null||lastHtml!=null;var nextHasContentOrHtml=nextContent!=null||nextHtml!=null;if(lastChildren!=null&&nextChildren==null){this.updateChildren(null,transaction);}else if(lastHasContentOrHtml&&!nextHasContentOrHtml){this.updateTextContent('');}
if(nextContent!=null){if(lastContent!==nextContent){this.updateTextContent(''+nextContent);}}else if(nextHtml!=null){if(lastHtml!==nextHtml){ReactComponent.BackendIDOperations.updateInnerHTMLByID(this._rootNodeID,nextHtml);}}else if(nextChildren!=null){this.updateChildren(nextChildren,transaction);}},unmountComponent:function(){this.unmountChildren();ReactBrowserEventEmitter.deleteAllListeners(this._rootNodeID);ReactComponent.Mixin.unmountComponent.call(this);}};assign(ReactDOMComponent.prototype,ReactComponent.Mixin,ReactDOMComponent.Mixin,ReactMultiChild.Mixin,ReactBrowserComponentMixin);module.exports=ReactDOMComponent;},{"./CSSPropertyOperations":5,"./DOMProperty":11,"./DOMPropertyOperations":12,"./Object.assign":27,"./ReactBrowserComponentMixin":29,"./ReactBrowserEventEmitter":30,"./ReactComponent":32,"./ReactMount":63,"./ReactMultiChild":64,"./ReactPerf":68,"./escapeTextForBrowser":109,"./invariant":126,"./isEventSupported":127,"./keyOf":133,"./monitorCodeUse":136}],40:[function(_dereq_,module,exports){"use strict";var EventConstants=_dereq_("./EventConstants");var LocalEventTrapMixin=_dereq_("./LocalEventTrapMixin");var ReactBrowserComponentMixin=_dereq_("./ReactBrowserComponentMixin");var ReactCompositeComponent=_dereq_("./ReactCompositeComponent");var ReactElement=_dereq_("./ReactElement");var ReactDOM=_dereq_("./ReactDOM");var form=ReactElement.createFactory(ReactDOM.form.type);var ReactDOMForm=ReactCompositeComponent.createClass({displayName:'ReactDOMForm',mixins:[ReactBrowserComponentMixin,LocalEventTrapMixin],render:function(){return form(this.props);},componentDidMount:function(){this.trapBubbledEvent(EventConstants.topLevelTypes.topReset,'reset');this.trapBubbledEvent(EventConstants.topLevelTypes.topSubmit,'submit');}});module.exports=ReactDOMForm;},{"./EventConstants":16,"./LocalEventTrapMixin":25,"./ReactBrowserComponentMixin":29,"./ReactCompositeComponent":34,"./ReactDOM":37,"./ReactElement":52}],41:[function(_dereq_,module,exports){"use strict";var CSSPropertyOperations=_dereq_("./CSSPropertyOperations");var DOMChildrenOperations=_dereq_("./DOMChildrenOperations");var DOMPropertyOperations=_dereq_("./DOMPropertyOperations");var ReactMount=_dereq_("./ReactMount");var ReactPerf=_dereq_("./ReactPerf");var invariant=_dereq_("./invariant");var setInnerHTML=_dereq_("./setInnerHTML");var INVALID_PROPERTY_ERRORS={dangerouslySetInnerHTML:'`dangerouslySetInnerHTML` must be set using `updateInnerHTMLByID()`.',style:'`style` must be set using `updateStylesByID()`.'};var ReactDOMIDOperations={updatePropertyByID:ReactPerf.measure('ReactDOMIDOperations','updatePropertyByID',function(id,name,value){var node=ReactMount.getNode(id);("production"!=="development"?invariant(!INVALID_PROPERTY_ERRORS.hasOwnProperty(name),'updatePropertyByID(...): %s',INVALID_PROPERTY_ERRORS[name]):invariant(!INVALID_PROPERTY_ERRORS.hasOwnProperty(name)));if(value!=null){DOMPropertyOperations.setValueForProperty(node,name,value);}else{DOMPropertyOperations.deleteValueForProperty(node,name);}}),deletePropertyByID:ReactPerf.measure('ReactDOMIDOperations','deletePropertyByID',function(id,name,value){var node=ReactMount.getNode(id);("production"!=="development"?invariant(!INVALID_PROPERTY_ERRORS.hasOwnProperty(name),'updatePropertyByID(...): %s',INVALID_PROPERTY_ERRORS[name]):invariant(!INVALID_PROPERTY_ERRORS.hasOwnProperty(name)));DOMPropertyOperations.deleteValueForProperty(node,name,value);}),updateStylesByID:ReactPerf.measure('ReactDOMIDOperations','updateStylesByID',function(id,styles){var node=ReactMount.getNode(id);CSSPropertyOperations.setValueForStyles(node,styles);}),updateInnerHTMLByID:ReactPerf.measure('ReactDOMIDOperations','updateInnerHTMLByID',function(id,html){var node=ReactMount.getNode(id);setInnerHTML(node,html);}),updateTextContentByID:ReactPerf.measure('ReactDOMIDOperations','updateTextContentByID',function(id,content){var node=ReactMount.getNode(id);DOMChildrenOperations.updateTextContent(node,content);}),dangerouslyReplaceNodeWithMarkupByID:ReactPerf.measure('ReactDOMIDOperations','dangerouslyReplaceNodeWithMarkupByID',function(id,markup){var node=ReactMount.getNode(id);DOMChildrenOperations.dangerouslyReplaceNodeWithMarkup(node,markup);}),dangerouslyProcessChildrenUpdates:ReactPerf.measure('ReactDOMIDOperations','dangerouslyProcessChildrenUpdates',function(updates,markup){for(var i=0;i<updates.length;i++){updates[i].parentNode=ReactMount.getNode(updates[i].parentID);}
DOMChildrenOperations.processUpdates(updates,markup);})};module.exports=ReactDOMIDOperations;},{"./CSSPropertyOperations":5,"./DOMChildrenOperations":10,"./DOMPropertyOperations":12,"./ReactMount":63,"./ReactPerf":68,"./invariant":126,"./setInnerHTML":140}],42:[function(_dereq_,module,exports){"use strict";var EventConstants=_dereq_("./EventConstants");var LocalEventTrapMixin=_dereq_("./LocalEventTrapMixin");var ReactBrowserComponentMixin=_dereq_("./ReactBrowserComponentMixin");var ReactCompositeComponent=_dereq_("./ReactCompositeComponent");var ReactElement=_dereq_("./ReactElement");var ReactDOM=_dereq_("./ReactDOM");var img=ReactElement.createFactory(ReactDOM.img.type);var ReactDOMImg=ReactCompositeComponent.createClass({displayName:'ReactDOMImg',tagName:'IMG',mixins:[ReactBrowserComponentMixin,LocalEventTrapMixin],render:function(){return img(this.props);},componentDidMount:function(){this.trapBubbledEvent(EventConstants.topLevelTypes.topLoad,'load');this.trapBubbledEvent(EventConstants.topLevelTypes.topError,'error');}});module.exports=ReactDOMImg;},{"./EventConstants":16,"./LocalEventTrapMixin":25,"./ReactBrowserComponentMixin":29,"./ReactCompositeComponent":34,"./ReactDOM":37,"./ReactElement":52}],43:[function(_dereq_,module,exports){"use strict";var AutoFocusMixin=_dereq_("./AutoFocusMixin");var DOMPropertyOperations=_dereq_("./DOMPropertyOperations");var LinkedValueUtils=_dereq_("./LinkedValueUtils");var ReactBrowserComponentMixin=_dereq_("./ReactBrowserComponentMixin");var ReactCompositeComponent=_dereq_("./ReactCompositeComponent");var ReactElement=_dereq_("./ReactElement");var ReactDOM=_dereq_("./ReactDOM");var ReactMount=_dereq_("./ReactMount");var ReactUpdates=_dereq_("./ReactUpdates");var assign=_dereq_("./Object.assign");var invariant=_dereq_("./invariant");var input=ReactElement.createFactory(ReactDOM.input.type);var instancesByReactID={};function forceUpdateIfMounted(){if(this.isMounted()){this.forceUpdate();}}
var ReactDOMInput=ReactCompositeComponent.createClass({displayName:'ReactDOMInput',mixins:[AutoFocusMixin,LinkedValueUtils.Mixin,ReactBrowserComponentMixin],getInitialState:function(){var defaultValue=this.props.defaultValue;return{initialChecked:this.props.defaultChecked||false,initialValue:defaultValue!=null?defaultValue:null};},render:function(){var props=assign({},this.props);props.defaultChecked=null;props.defaultValue=null;var value=LinkedValueUtils.getValue(this);props.value=value!=null?value:this.state.initialValue;var checked=LinkedValueUtils.getChecked(this);props.checked=checked!=null?checked:this.state.initialChecked;props.onChange=this._handleChange;return input(props,this.props.children);},componentDidMount:function(){var id=ReactMount.getID(this.getDOMNode());instancesByReactID[id]=this;},componentWillUnmount:function(){var rootNode=this.getDOMNode();var id=ReactMount.getID(rootNode);delete instancesByReactID[id];},componentDidUpdate:function(prevProps,prevState,prevContext){var rootNode=this.getDOMNode();if(this.props.checked!=null){DOMPropertyOperations.setValueForProperty(rootNode,'checked',this.props.checked||false);}
var value=LinkedValueUtils.getValue(this);if(value!=null){DOMPropertyOperations.setValueForProperty(rootNode,'value',''+value);}},_handleChange:function(event){var returnValue;var onChange=LinkedValueUtils.getOnChange(this);if(onChange){returnValue=onChange.call(this,event);}
ReactUpdates.asap(forceUpdateIfMounted,this);var name=this.props.name;if(this.props.type==='radio'&&name!=null){var rootNode=this.getDOMNode();var queryRoot=rootNode;while(queryRoot.parentNode){queryRoot=queryRoot.parentNode;}
var group=queryRoot.querySelectorAll('input[name='+JSON.stringify(''+name)+'][type="radio"]');for(var i=0,groupLen=group.length;i<groupLen;i++){var otherNode=group[i];if(otherNode===rootNode||otherNode.form!==rootNode.form){continue;}
var otherID=ReactMount.getID(otherNode);("production"!=="development"?invariant(otherID,'ReactDOMInput: Mixing React and non-React radio inputs with the '+'same `name` is not supported.'):invariant(otherID));var otherInstance=instancesByReactID[otherID];("production"!=="development"?invariant(otherInstance,'ReactDOMInput: Unknown radio button ID %s.',otherID):invariant(otherInstance));ReactUpdates.asap(forceUpdateIfMounted,otherInstance);}}
return returnValue;}});module.exports=ReactDOMInput;},{"./AutoFocusMixin":2,"./DOMPropertyOperations":12,"./LinkedValueUtils":24,"./Object.assign":27,"./ReactBrowserComponentMixin":29,"./ReactCompositeComponent":34,"./ReactDOM":37,"./ReactElement":52,"./ReactMount":63,"./ReactUpdates":79,"./invariant":126}],44:[function(_dereq_,module,exports){"use strict";var ReactBrowserComponentMixin=_dereq_("./ReactBrowserComponentMixin");var ReactCompositeComponent=_dereq_("./ReactCompositeComponent");var ReactElement=_dereq_("./ReactElement");var ReactDOM=_dereq_("./ReactDOM");var warning=_dereq_("./warning");var option=ReactElement.createFactory(ReactDOM.option.type);var ReactDOMOption=ReactCompositeComponent.createClass({displayName:'ReactDOMOption',mixins:[ReactBrowserComponentMixin],componentWillMount:function(){if("production"!=="development"){("production"!=="development"?warning(this.props.selected==null,'Use the `defaultValue` or `value` props on <select> instead of '+'setting `selected` on <option>.'):null);}},render:function(){return option(this.props,this.props.children);}});module.exports=ReactDOMOption;},{"./ReactBrowserComponentMixin":29,"./ReactCompositeComponent":34,"./ReactDOM":37,"./ReactElement":52,"./warning":145}],45:[function(_dereq_,module,exports){"use strict";var AutoFocusMixin=_dereq_("./AutoFocusMixin");var LinkedValueUtils=_dereq_("./LinkedValueUtils");var ReactBrowserComponentMixin=_dereq_("./ReactBrowserComponentMixin");var ReactCompositeComponent=_dereq_("./ReactCompositeComponent");var ReactElement=_dereq_("./ReactElement");var ReactDOM=_dereq_("./ReactDOM");var ReactUpdates=_dereq_("./ReactUpdates");var assign=_dereq_("./Object.assign");var select=ReactElement.createFactory(ReactDOM.select.type);function updateWithPendingValueIfMounted(){if(this.isMounted()){this.setState({value:this._pendingValue});this._pendingValue=0;}}
function selectValueType(props,propName,componentName){if(props[propName]==null){return;}
if(props.multiple){if(!Array.isArray(props[propName])){return new Error(("The `"+propName+"` prop supplied to <select> must be an array if ")+
("`multiple` is true."));}}else{if(Array.isArray(props[propName])){return new Error(("The `"+propName+"` prop supplied to <select> must be a scalar ")+
("value if `multiple` is false."));}}}
function updateOptions(component,propValue){var multiple=component.props.multiple;var value=propValue!=null?propValue:component.state.value;var options=component.getDOMNode().options;var selectedValue,i,l;if(multiple){selectedValue={};for(i=0,l=value.length;i<l;++i){selectedValue[''+value[i]]=true;}}else{selectedValue=''+value;}
for(i=0,l=options.length;i<l;i++){var selected=multiple?selectedValue.hasOwnProperty(options[i].value):options[i].value===selectedValue;if(selected!==options[i].selected){options[i].selected=selected;}}}
var ReactDOMSelect=ReactCompositeComponent.createClass({displayName:'ReactDOMSelect',mixins:[AutoFocusMixin,LinkedValueUtils.Mixin,ReactBrowserComponentMixin],propTypes:{defaultValue:selectValueType,value:selectValueType},getInitialState:function(){return{value:this.props.defaultValue||(this.props.multiple?[]:'')};},componentWillMount:function(){this._pendingValue=null;},componentWillReceiveProps:function(nextProps){if(!this.props.multiple&&nextProps.multiple){this.setState({value:[this.state.value]});}else if(this.props.multiple&&!nextProps.multiple){this.setState({value:this.state.value[0]});}},render:function(){var props=assign({},this.props);props.onChange=this._handleChange;props.value=null;return select(props,this.props.children);},componentDidMount:function(){updateOptions(this,LinkedValueUtils.getValue(this));},componentDidUpdate:function(prevProps){var value=LinkedValueUtils.getValue(this);var prevMultiple=!!prevProps.multiple;var multiple=!!this.props.multiple;if(value!=null||prevMultiple!==multiple){updateOptions(this,value);}},_handleChange:function(event){var returnValue;var onChange=LinkedValueUtils.getOnChange(this);if(onChange){returnValue=onChange.call(this,event);}
var selectedValue;if(this.props.multiple){selectedValue=[];var options=event.target.options;for(var i=0,l=options.length;i<l;i++){if(options[i].selected){selectedValue.push(options[i].value);}}}else{selectedValue=event.target.value;}
this._pendingValue=selectedValue;ReactUpdates.asap(updateWithPendingValueIfMounted,this);return returnValue;}});module.exports=ReactDOMSelect;},{"./AutoFocusMixin":2,"./LinkedValueUtils":24,"./Object.assign":27,"./ReactBrowserComponentMixin":29,"./ReactCompositeComponent":34,"./ReactDOM":37,"./ReactElement":52,"./ReactUpdates":79}],46:[function(_dereq_,module,exports){"use strict";var ExecutionEnvironment=_dereq_("./ExecutionEnvironment");var getNodeForCharacterOffset=_dereq_("./getNodeForCharacterOffset");var getTextContentAccessor=_dereq_("./getTextContentAccessor");function isCollapsed(anchorNode,anchorOffset,focusNode,focusOffset){return anchorNode===focusNode&&anchorOffset===focusOffset;}
function getIEOffsets(node){var selection=document.selection;var selectedRange=selection.createRange();var selectedLength=selectedRange.text.length;var fromStart=selectedRange.duplicate();fromStart.moveToElementText(node);fromStart.setEndPoint('EndToStart',selectedRange);var startOffset=fromStart.text.length;var endOffset=startOffset+selectedLength;return{start:startOffset,end:endOffset};}
function getModernOffsets(node){var selection=window.getSelection&&window.getSelection();if(!selection||selection.rangeCount===0){return null;}
var anchorNode=selection.anchorNode;var anchorOffset=selection.anchorOffset;var focusNode=selection.focusNode;var focusOffset=selection.focusOffset;var currentRange=selection.getRangeAt(0);var isSelectionCollapsed=isCollapsed(selection.anchorNode,selection.anchorOffset,selection.focusNode,selection.focusOffset);var rangeLength=isSelectionCollapsed?0:currentRange.toString().length;var tempRange=currentRange.cloneRange();tempRange.selectNodeContents(node);tempRange.setEnd(currentRange.startContainer,currentRange.startOffset);var isTempRangeCollapsed=isCollapsed(tempRange.startContainer,tempRange.startOffset,tempRange.endContainer,tempRange.endOffset);var start=isTempRangeCollapsed?0:tempRange.toString().length;var end=start+rangeLength;var detectionRange=document.createRange();detectionRange.setStart(anchorNode,anchorOffset);detectionRange.setEnd(focusNode,focusOffset);var isBackward=detectionRange.collapsed;return{start:isBackward?end:start,end:isBackward?start:end};}
function setIEOffsets(node,offsets){var range=document.selection.createRange().duplicate();var start,end;if(typeof offsets.end==='undefined'){start=offsets.start;end=start;}else if(offsets.start>offsets.end){start=offsets.end;end=offsets.start;}else{start=offsets.start;end=offsets.end;}
range.moveToElementText(node);range.moveStart('character',start);range.setEndPoint('EndToStart',range);range.moveEnd('character',end-start);range.select();}
function setModernOffsets(node,offsets){if(!window.getSelection){return;}
var selection=window.getSelection();var length=node[getTextContentAccessor()].length;var start=Math.min(offsets.start,length);var end=typeof offsets.end==='undefined'?start:Math.min(offsets.end,length);if(!selection.extend&&start>end){var temp=end;end=start;start=temp;}
var startMarker=getNodeForCharacterOffset(node,start);var endMarker=getNodeForCharacterOffset(node,end);if(startMarker&&endMarker){var range=document.createRange();range.setStart(startMarker.node,startMarker.offset);selection.removeAllRanges();if(start>end){selection.addRange(range);selection.extend(endMarker.node,endMarker.offset);}else{range.setEnd(endMarker.node,endMarker.offset);selection.addRange(range);}}}
var useIEOffsets=ExecutionEnvironment.canUseDOM&&document.selection;var ReactDOMSelection={getOffsets:useIEOffsets?getIEOffsets:getModernOffsets,setOffsets:useIEOffsets?setIEOffsets:setModernOffsets};module.exports=ReactDOMSelection;},{"./ExecutionEnvironment":22,"./getNodeForCharacterOffset":119,"./getTextContentAccessor":121}],47:[function(_dereq_,module,exports){"use strict";var AutoFocusMixin=_dereq_("./AutoFocusMixin");var DOMPropertyOperations=_dereq_("./DOMPropertyOperations");var LinkedValueUtils=_dereq_("./LinkedValueUtils");var ReactBrowserComponentMixin=_dereq_("./ReactBrowserComponentMixin");var ReactCompositeComponent=_dereq_("./ReactCompositeComponent");var ReactElement=_dereq_("./ReactElement");var ReactDOM=_dereq_("./ReactDOM");var ReactUpdates=_dereq_("./ReactUpdates");var assign=_dereq_("./Object.assign");var invariant=_dereq_("./invariant");var warning=_dereq_("./warning");var textarea=ReactElement.createFactory(ReactDOM.textarea.type);function forceUpdateIfMounted(){if(this.isMounted()){this.forceUpdate();}}
var ReactDOMTextarea=ReactCompositeComponent.createClass({displayName:'ReactDOMTextarea',mixins:[AutoFocusMixin,LinkedValueUtils.Mixin,ReactBrowserComponentMixin],getInitialState:function(){var defaultValue=this.props.defaultValue;var children=this.props.children;if(children!=null){if("production"!=="development"){("production"!=="development"?warning(false,'Use the `defaultValue` or `value` props instead of setting '+'children on <textarea>.'):null);}
("production"!=="development"?invariant(defaultValue==null,'If you supply `defaultValue` on a <textarea>, do not pass children.'):invariant(defaultValue==null));if(Array.isArray(children)){("production"!=="development"?invariant(children.length<=1,'<textarea> can only have at most one child.'):invariant(children.length<=1));children=children[0];}
defaultValue=''+children;}
if(defaultValue==null){defaultValue='';}
var value=LinkedValueUtils.getValue(this);return{initialValue:''+(value!=null?value:defaultValue)};},render:function(){var props=assign({},this.props);("production"!=="development"?invariant(props.dangerouslySetInnerHTML==null,'`dangerouslySetInnerHTML` does not make sense on <textarea>.'):invariant(props.dangerouslySetInnerHTML==null));props.defaultValue=null;props.value=null;props.onChange=this._handleChange;return textarea(props,this.state.initialValue);},componentDidUpdate:function(prevProps,prevState,prevContext){var value=LinkedValueUtils.getValue(this);if(value!=null){var rootNode=this.getDOMNode();DOMPropertyOperations.setValueForProperty(rootNode,'value',''+value);}},_handleChange:function(event){var returnValue;var onChange=LinkedValueUtils.getOnChange(this);if(onChange){returnValue=onChange.call(this,event);}
ReactUpdates.asap(forceUpdateIfMounted,this);return returnValue;}});module.exports=ReactDOMTextarea;},{"./AutoFocusMixin":2,"./DOMPropertyOperations":12,"./LinkedValueUtils":24,"./Object.assign":27,"./ReactBrowserComponentMixin":29,"./ReactCompositeComponent":34,"./ReactDOM":37,"./ReactElement":52,"./ReactUpdates":79,"./invariant":126,"./warning":145}],48:[function(_dereq_,module,exports){"use strict";var ReactUpdates=_dereq_("./ReactUpdates");var Transaction=_dereq_("./Transaction");var assign=_dereq_("./Object.assign");var emptyFunction=_dereq_("./emptyFunction");var RESET_BATCHED_UPDATES={initialize:emptyFunction,close:function(){ReactDefaultBatchingStrategy.isBatchingUpdates=false;}};var FLUSH_BATCHED_UPDATES={initialize:emptyFunction,close:ReactUpdates.flushBatchedUpdates.bind(ReactUpdates)};var TRANSACTION_WRAPPERS=[FLUSH_BATCHED_UPDATES,RESET_BATCHED_UPDATES];function ReactDefaultBatchingStrategyTransaction(){this.reinitializeTransaction();}
assign(ReactDefaultBatchingStrategyTransaction.prototype,Transaction.Mixin,{getTransactionWrappers:function(){return TRANSACTION_WRAPPERS;}});var transaction=new ReactDefaultBatchingStrategyTransaction();var ReactDefaultBatchingStrategy={isBatchingUpdates:false,batchedUpdates:function(callback,a,b){var alreadyBatchingUpdates=ReactDefaultBatchingStrategy.isBatchingUpdates;ReactDefaultBatchingStrategy.isBatchingUpdates=true;if(alreadyBatchingUpdates){callback(a,b);}else{transaction.perform(callback,null,a,b);}}};module.exports=ReactDefaultBatchingStrategy;},{"./Object.assign":27,"./ReactUpdates":79,"./Transaction":95,"./emptyFunction":107}],49:[function(_dereq_,module,exports){"use strict";var BeforeInputEventPlugin=_dereq_("./BeforeInputEventPlugin");var ChangeEventPlugin=_dereq_("./ChangeEventPlugin");var ClientReactRootIndex=_dereq_("./ClientReactRootIndex");var CompositionEventPlugin=_dereq_("./CompositionEventPlugin");var DefaultEventPluginOrder=_dereq_("./DefaultEventPluginOrder");var EnterLeaveEventPlugin=_dereq_("./EnterLeaveEventPlugin");var ExecutionEnvironment=_dereq_("./ExecutionEnvironment");var HTMLDOMPropertyConfig=_dereq_("./HTMLDOMPropertyConfig");var MobileSafariClickEventPlugin=_dereq_("./MobileSafariClickEventPlugin");var ReactBrowserComponentMixin=_dereq_("./ReactBrowserComponentMixin");var ReactComponentBrowserEnvironment=_dereq_("./ReactComponentBrowserEnvironment");var ReactDefaultBatchingStrategy=_dereq_("./ReactDefaultBatchingStrategy");var ReactDOMComponent=_dereq_("./ReactDOMComponent");var ReactDOMButton=_dereq_("./ReactDOMButton");var ReactDOMForm=_dereq_("./ReactDOMForm");var ReactDOMImg=_dereq_("./ReactDOMImg");var ReactDOMInput=_dereq_("./ReactDOMInput");var ReactDOMOption=_dereq_("./ReactDOMOption");var ReactDOMSelect=_dereq_("./ReactDOMSelect");var ReactDOMTextarea=_dereq_("./ReactDOMTextarea");var ReactEventListener=_dereq_("./ReactEventListener");var ReactInjection=_dereq_("./ReactInjection");var ReactInstanceHandles=_dereq_("./ReactInstanceHandles");var ReactMount=_dereq_("./ReactMount");var SelectEventPlugin=_dereq_("./SelectEventPlugin");var ServerReactRootIndex=_dereq_("./ServerReactRootIndex");var SimpleEventPlugin=_dereq_("./SimpleEventPlugin");var SVGDOMPropertyConfig=_dereq_("./SVGDOMPropertyConfig");var createFullPageComponent=_dereq_("./createFullPageComponent");function inject(){ReactInjection.EventEmitter.injectReactEventListener(ReactEventListener);ReactInjection.EventPluginHub.injectEventPluginOrder(DefaultEventPluginOrder);ReactInjection.EventPluginHub.injectInstanceHandle(ReactInstanceHandles);ReactInjection.EventPluginHub.injectMount(ReactMount);ReactInjection.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:SimpleEventPlugin,EnterLeaveEventPlugin:EnterLeaveEventPlugin,ChangeEventPlugin:ChangeEventPlugin,CompositionEventPlugin:CompositionEventPlugin,MobileSafariClickEventPlugin:MobileSafariClickEventPlugin,SelectEventPlugin:SelectEventPlugin,BeforeInputEventPlugin:BeforeInputEventPlugin});ReactInjection.NativeComponent.injectGenericComponentClass(ReactDOMComponent);ReactInjection.NativeComponent.injectComponentClasses({'button':ReactDOMButton,'form':ReactDOMForm,'img':ReactDOMImg,'input':ReactDOMInput,'option':ReactDOMOption,'select':ReactDOMSelect,'textarea':ReactDOMTextarea,'html':createFullPageComponent('html'),'head':createFullPageComponent('head'),'body':createFullPageComponent('body')});ReactInjection.CompositeComponent.injectMixin(ReactBrowserComponentMixin);ReactInjection.DOMProperty.injectDOMPropertyConfig(HTMLDOMPropertyConfig);ReactInjection.DOMProperty.injectDOMPropertyConfig(SVGDOMPropertyConfig);ReactInjection.EmptyComponent.injectEmptyComponent('noscript');ReactInjection.Updates.injectReconcileTransaction(ReactComponentBrowserEnvironment.ReactReconcileTransaction);ReactInjection.Updates.injectBatchingStrategy(ReactDefaultBatchingStrategy);ReactInjection.RootIndex.injectCreateReactRootIndex(ExecutionEnvironment.canUseDOM?ClientReactRootIndex.createReactRootIndex:ServerReactRootIndex.createReactRootIndex);ReactInjection.Component.injectEnvironment(ReactComponentBrowserEnvironment);if("production"!=="development"){var url=(ExecutionEnvironment.canUseDOM&&window.location.href)||'';if((/[?&]react_perf\b/).test(url)){var ReactDefaultPerf=_dereq_("./ReactDefaultPerf");ReactDefaultPerf.start();}}}
module.exports={inject:inject};},{"./BeforeInputEventPlugin":3,"./ChangeEventPlugin":7,"./ClientReactRootIndex":8,"./CompositionEventPlugin":9,"./DefaultEventPluginOrder":14,"./EnterLeaveEventPlugin":15,"./ExecutionEnvironment":22,"./HTMLDOMPropertyConfig":23,"./MobileSafariClickEventPlugin":26,"./ReactBrowserComponentMixin":29,"./ReactComponentBrowserEnvironment":33,"./ReactDOMButton":38,"./ReactDOMComponent":39,"./ReactDOMForm":40,"./ReactDOMImg":42,"./ReactDOMInput":43,"./ReactDOMOption":44,"./ReactDOMSelect":45,"./ReactDOMTextarea":47,"./ReactDefaultBatchingStrategy":48,"./ReactDefaultPerf":50,"./ReactEventListener":57,"./ReactInjection":58,"./ReactInstanceHandles":60,"./ReactMount":63,"./SVGDOMPropertyConfig":80,"./SelectEventPlugin":81,"./ServerReactRootIndex":82,"./SimpleEventPlugin":83,"./createFullPageComponent":103}],50:[function(_dereq_,module,exports){"use strict";var DOMProperty=_dereq_("./DOMProperty");var ReactDefaultPerfAnalysis=_dereq_("./ReactDefaultPerfAnalysis");var ReactMount=_dereq_("./ReactMount");var ReactPerf=_dereq_("./ReactPerf");var performanceNow=_dereq_("./performanceNow");function roundFloat(val){return Math.floor(val*100)/100;}
function addValue(obj,key,val){obj[key]=(obj[key]||0)+val;}
var ReactDefaultPerf={_allMeasurements:[],_mountStack:[0],_injected:false,start:function(){if(!ReactDefaultPerf._injected){ReactPerf.injection.injectMeasure(ReactDefaultPerf.measure);}
ReactDefaultPerf._allMeasurements.length=0;ReactPerf.enableMeasure=true;},stop:function(){ReactPerf.enableMeasure=false;},getLastMeasurements:function(){return ReactDefaultPerf._allMeasurements;},printExclusive:function(measurements){measurements=measurements||ReactDefaultPerf._allMeasurements;var summary=ReactDefaultPerfAnalysis.getExclusiveSummary(measurements);console.table(summary.map(function(item){return{'Component class name':item.componentName,'Total inclusive time (ms)':roundFloat(item.inclusive),'Exclusive mount time (ms)':roundFloat(item.exclusive),'Exclusive render time (ms)':roundFloat(item.render),'Mount time per instance (ms)':roundFloat(item.exclusive/item.count),'Render time per instance (ms)':roundFloat(item.render/item.count),'Instances':item.count};}));},printInclusive:function(measurements){measurements=measurements||ReactDefaultPerf._allMeasurements;var summary=ReactDefaultPerfAnalysis.getInclusiveSummary(measurements);console.table(summary.map(function(item){return{'Owner > component':item.componentName,'Inclusive time (ms)':roundFloat(item.time),'Instances':item.count};}));console.log('Total time:',ReactDefaultPerfAnalysis.getTotalTime(measurements).toFixed(2)+' ms');},getMeasurementsSummaryMap:function(measurements){var summary=ReactDefaultPerfAnalysis.getInclusiveSummary(measurements,true);return summary.map(function(item){return{'Owner > component':item.componentName,'Wasted time (ms)':item.time,'Instances':item.count};});},printWasted:function(measurements){measurements=measurements||ReactDefaultPerf._allMeasurements;console.table(ReactDefaultPerf.getMeasurementsSummaryMap(measurements));console.log('Total time:',ReactDefaultPerfAnalysis.getTotalTime(measurements).toFixed(2)+' ms');},printDOM:function(measurements){measurements=measurements||ReactDefaultPerf._allMeasurements;var summary=ReactDefaultPerfAnalysis.getDOMSummary(measurements);console.table(summary.map(function(item){var result={};result[DOMProperty.ID_ATTRIBUTE_NAME]=item.id;result['type']=item.type;result['args']=JSON.stringify(item.args);return result;}));console.log('Total time:',ReactDefaultPerfAnalysis.getTotalTime(measurements).toFixed(2)+' ms');},_recordWrite:function(id,fnName,totalTime,args){var writes=ReactDefaultPerf._allMeasurements[ReactDefaultPerf._allMeasurements.length-1].writes;writes[id]=writes[id]||[];writes[id].push({type:fnName,time:totalTime,args:args});},measure:function(moduleName,fnName,func){return function(){for(var args=[],$__0=0,$__1=arguments.length;$__0<$__1;$__0++)args.push(arguments[$__0]);var totalTime;var rv;var start;if(fnName==='_renderNewRootComponent'||fnName==='flushBatchedUpdates'){ReactDefaultPerf._allMeasurements.push({exclusive:{},inclusive:{},render:{},counts:{},writes:{},displayNames:{},totalTime:0});start=performanceNow();rv=func.apply(this,args);ReactDefaultPerf._allMeasurements[ReactDefaultPerf._allMeasurements.length-1].totalTime=performanceNow()-start;return rv;}else if(moduleName==='ReactDOMIDOperations'||moduleName==='ReactComponentBrowserEnvironment'){start=performanceNow();rv=func.apply(this,args);totalTime=performanceNow()-start;if(fnName==='mountImageIntoNode'){var mountID=ReactMount.getID(args[1]);ReactDefaultPerf._recordWrite(mountID,fnName,totalTime,args[0]);}else if(fnName==='dangerouslyProcessChildrenUpdates'){args[0].forEach(function(update){var writeArgs={};if(update.fromIndex!==null){writeArgs.fromIndex=update.fromIndex;}
if(update.toIndex!==null){writeArgs.toIndex=update.toIndex;}
if(update.textContent!==null){writeArgs.textContent=update.textContent;}
if(update.markupIndex!==null){writeArgs.markup=args[1][update.markupIndex];}
ReactDefaultPerf._recordWrite(update.parentID,update.type,totalTime,writeArgs);});}else{ReactDefaultPerf._recordWrite(args[0],fnName,totalTime,Array.prototype.slice.call(args,1));}
return rv;}else if(moduleName==='ReactCompositeComponent'&&(fnName==='mountComponent'||fnName==='updateComponent'||fnName==='_renderValidatedComponent')){var rootNodeID=fnName==='mountComponent'?args[0]:this._rootNodeID;var isRender=fnName==='_renderValidatedComponent';var isMount=fnName==='mountComponent';var mountStack=ReactDefaultPerf._mountStack;var entry=ReactDefaultPerf._allMeasurements[ReactDefaultPerf._allMeasurements.length-1];if(isRender){addValue(entry.counts,rootNodeID,1);}else if(isMount){mountStack.push(0);}
start=performanceNow();rv=func.apply(this,args);totalTime=performanceNow()-start;if(isRender){addValue(entry.render,rootNodeID,totalTime);}else if(isMount){var subMountTime=mountStack.pop();mountStack[mountStack.length-1]+=totalTime;addValue(entry.exclusive,rootNodeID,totalTime-subMountTime);addValue(entry.inclusive,rootNodeID,totalTime);}else{addValue(entry.inclusive,rootNodeID,totalTime);}
entry.displayNames[rootNodeID]={current:this.constructor.displayName,owner:this._owner?this._owner.constructor.displayName:'<root>'};return rv;}else{return func.apply(this,args);}};}};module.exports=ReactDefaultPerf;},{"./DOMProperty":11,"./ReactDefaultPerfAnalysis":51,"./ReactMount":63,"./ReactPerf":68,"./performanceNow":139}],51:[function(_dereq_,module,exports){var assign=_dereq_("./Object.assign");var DONT_CARE_THRESHOLD=1.2;var DOM_OPERATION_TYPES={'mountImageIntoNode':'set innerHTML',INSERT_MARKUP:'set innerHTML',MOVE_EXISTING:'move',REMOVE_NODE:'remove',TEXT_CONTENT:'set textContent','updatePropertyByID':'update attribute','deletePropertyByID':'delete attribute','updateStylesByID':'update styles','updateInnerHTMLByID':'set innerHTML','dangerouslyReplaceNodeWithMarkupByID':'replace'};function getTotalTime(measurements){var totalTime=0;for(var i=0;i<measurements.length;i++){var measurement=measurements[i];totalTime+=measurement.totalTime;}
return totalTime;}
function getDOMSummary(measurements){var items=[];for(var i=0;i<measurements.length;i++){var measurement=measurements[i];var id;for(id in measurement.writes){measurement.writes[id].forEach(function(write){items.push({id:id,type:DOM_OPERATION_TYPES[write.type]||write.type,args:write.args});});}}
return items;}
function getExclusiveSummary(measurements){var candidates={};var displayName;for(var i=0;i<measurements.length;i++){var measurement=measurements[i];var allIDs=assign({},measurement.exclusive,measurement.inclusive);for(var id in allIDs){displayName=measurement.displayNames[id].current;candidates[displayName]=candidates[displayName]||{componentName:displayName,inclusive:0,exclusive:0,render:0,count:0};if(measurement.render[id]){candidates[displayName].render+=measurement.render[id];}
if(measurement.exclusive[id]){candidates[displayName].exclusive+=measurement.exclusive[id];}
if(measurement.inclusive[id]){candidates[displayName].inclusive+=measurement.inclusive[id];}
if(measurement.counts[id]){candidates[displayName].count+=measurement.counts[id];}}}
var arr=[];for(displayName in candidates){if(candidates[displayName].exclusive>=DONT_CARE_THRESHOLD){arr.push(candidates[displayName]);}}
arr.sort(function(a,b){return b.exclusive-a.exclusive;});return arr;}
function getInclusiveSummary(measurements,onlyClean){var candidates={};var inclusiveKey;for(var i=0;i<measurements.length;i++){var measurement=measurements[i];var allIDs=assign({},measurement.exclusive,measurement.inclusive);var cleanComponents;if(onlyClean){cleanComponents=getUnchangedComponents(measurement);}
for(var id in allIDs){if(onlyClean&&!cleanComponents[id]){continue;}
var displayName=measurement.displayNames[id];inclusiveKey=displayName.owner+' > '+displayName.current;candidates[inclusiveKey]=candidates[inclusiveKey]||{componentName:inclusiveKey,time:0,count:0};if(measurement.inclusive[id]){candidates[inclusiveKey].time+=measurement.inclusive[id];}
if(measurement.counts[id]){candidates[inclusiveKey].count+=measurement.counts[id];}}}
var arr=[];for(inclusiveKey in candidates){if(candidates[inclusiveKey].time>=DONT_CARE_THRESHOLD){arr.push(candidates[inclusiveKey]);}}
arr.sort(function(a,b){return b.time-a.time;});return arr;}
function getUnchangedComponents(measurement){var cleanComponents={};var dirtyLeafIDs=Object.keys(measurement.writes);var allIDs=assign({},measurement.exclusive,measurement.inclusive);for(var id in allIDs){var isDirty=false;for(var i=0;i<dirtyLeafIDs.length;i++){if(dirtyLeafIDs[i].indexOf(id)===0){isDirty=true;break;}}
if(!isDirty&&measurement.counts[id]>0){cleanComponents[id]=true;}}
return cleanComponents;}
var ReactDefaultPerfAnalysis={getExclusiveSummary:getExclusiveSummary,getInclusiveSummary:getInclusiveSummary,getDOMSummary:getDOMSummary,getTotalTime:getTotalTime};module.exports=ReactDefaultPerfAnalysis;},{"./Object.assign":27}],52:[function(_dereq_,module,exports){"use strict";var ReactContext=_dereq_("./ReactContext");var ReactCurrentOwner=_dereq_("./ReactCurrentOwner");var warning=_dereq_("./warning");var RESERVED_PROPS={key:true,ref:true};function defineWarningProperty(object,key){Object.defineProperty(object,key,{configurable:false,enumerable:true,get:function(){if(!this._store){return null;}
return this._store[key];},set:function(value){("production"!=="development"?warning(false,'Don\'t set the '+key+' property of the component. '+'Mutate the existing props object instead.'):null);this._store[key]=value;}});}
var useMutationMembrane=false;function defineMutationMembrane(prototype){try{var pseudoFrozenProperties={props:true};for(var key in pseudoFrozenProperties){defineWarningProperty(prototype,key);}
useMutationMembrane=true;}catch(x){}}
var ReactElement=function(type,key,ref,owner,context,props){this.type=type;this.key=key;this.ref=ref;this._owner=owner;this._context=context;if("production"!=="development"){this._store={validated:false,props:props};if(useMutationMembrane){Object.freeze(this);return;}}
this.props=props;};ReactElement.prototype={_isReactElement:true};if("production"!=="development"){defineMutationMembrane(ReactElement.prototype);}
ReactElement.createElement=function(type,config,children){var propName;var props={};var key=null;var ref=null;if(config!=null){ref=config.ref===undefined?null:config.ref;if("production"!=="development"){("production"!=="development"?warning(config.key!==null,'createElement(...): Encountered component with a `key` of null. In '+'a future version, this will be treated as equivalent to the string '+'\'null\'; instead, provide an explicit key or use undefined.'):null);}
key=config.key==null?null:''+config.key;for(propName in config){if(config.hasOwnProperty(propName)&&!RESERVED_PROPS.hasOwnProperty(propName)){props[propName]=config[propName];}}}
var childrenLength=arguments.length-2;if(childrenLength===1){props.children=children;}else if(childrenLength>1){var childArray=Array(childrenLength);for(var i=0;i<childrenLength;i++){childArray[i]=arguments[i+2];}
props.children=childArray;}
if(type&&type.defaultProps){var defaultProps=type.defaultProps;for(propName in defaultProps){if(typeof props[propName]==='undefined'){props[propName]=defaultProps[propName];}}}
return new ReactElement(type,key,ref,ReactCurrentOwner.current,ReactContext.current,props);};ReactElement.createFactory=function(type){var factory=ReactElement.createElement.bind(null,type);factory.type=type;return factory;};ReactElement.cloneAndReplaceProps=function(oldElement,newProps){var newElement=new ReactElement(oldElement.type,oldElement.key,oldElement.ref,oldElement._owner,oldElement._context,newProps);if("production"!=="development"){newElement._store.validated=oldElement._store.validated;}
return newElement;};ReactElement.isValidElement=function(object){var isElement=!!(object&&object._isReactElement);return isElement;};module.exports=ReactElement;},{"./ReactContext":35,"./ReactCurrentOwner":36,"./warning":145}],53:[function(_dereq_,module,exports){"use strict";var ReactElement=_dereq_("./ReactElement");var ReactPropTypeLocations=_dereq_("./ReactPropTypeLocations");var ReactCurrentOwner=_dereq_("./ReactCurrentOwner");var monitorCodeUse=_dereq_("./monitorCodeUse");var warning=_dereq_("./warning");var ownerHasKeyUseWarning={'react_key_warning':{},'react_numeric_key_warning':{}};var ownerHasMonitoredObjectMap={};var loggedTypeFailures={};var NUMERIC_PROPERTY_REGEX=/^\d+$/;function getCurrentOwnerDisplayName(){var current=ReactCurrentOwner.current;return current&&current.constructor.displayName||undefined;}
function validateExplicitKey(component,parentType){if(component._store.validated||component.key!=null){return;}
component._store.validated=true;warnAndMonitorForKeyUse('react_key_warning','Each child in an array should have a unique "key" prop.',component,parentType);}
function validatePropertyKey(name,component,parentType){if(!NUMERIC_PROPERTY_REGEX.test(name)){return;}
warnAndMonitorForKeyUse('react_numeric_key_warning','Child objects should have non-numeric keys so ordering is preserved.',component,parentType);}
function warnAndMonitorForKeyUse(warningID,message,component,parentType){var ownerName=getCurrentOwnerDisplayName();var parentName=parentType.displayName;var useName=ownerName||parentName;var memoizer=ownerHasKeyUseWarning[warningID];if(memoizer.hasOwnProperty(useName)){return;}
memoizer[useName]=true;message+=ownerName?(" Check the render method of "+ownerName+"."):(" Check the renderComponent call using <"+parentName+">.");var childOwnerName=null;if(component._owner&&component._owner!==ReactCurrentOwner.current){childOwnerName=component._owner.constructor.displayName;message+=(" It was passed a child from "+childOwnerName+".");}
message+=' See http://fb.me/react-warning-keys for more information.';monitorCodeUse(warningID,{component:useName,componentOwner:childOwnerName});console.warn(message);}
function monitorUseOfObjectMap(){var currentName=getCurrentOwnerDisplayName()||'';if(ownerHasMonitoredObjectMap.hasOwnProperty(currentName)){return;}
ownerHasMonitoredObjectMap[currentName]=true;monitorCodeUse('react_object_map_children');}
function validateChildKeys(component,parentType){if(Array.isArray(component)){for(var i=0;i<component.length;i++){var child=component[i];if(ReactElement.isValidElement(child)){validateExplicitKey(child,parentType);}}}else if(ReactElement.isValidElement(component)){component._store.validated=true;}else if(component&&typeof component==='object'){monitorUseOfObjectMap();for(var name in component){validatePropertyKey(name,component[name],parentType);}}}
function checkPropTypes(componentName,propTypes,props,location){for(var propName in propTypes){if(propTypes.hasOwnProperty(propName)){var error;try{error=propTypes[propName](props,propName,componentName,location);}catch(ex){error=ex;}
if(error instanceof Error&&!(error.message in loggedTypeFailures)){loggedTypeFailures[error.message]=true;monitorCodeUse('react_failed_descriptor_type_check',{message:error.message});}}}}
var ReactElementValidator={createElement:function(type,props,children){("production"!=="development"?warning(type!=null,'React.createElement: type should not be null or undefined. It should '+'be a string (for DOM elements) or a ReactClass (for composite '+'components).'):null);var element=ReactElement.createElement.apply(this,arguments);if(element==null){return element;}
for(var i=2;i<arguments.length;i++){validateChildKeys(arguments[i],type);}
if(type){var name=type.displayName;if(type.propTypes){checkPropTypes(name,type.propTypes,element.props,ReactPropTypeLocations.prop);}
if(type.contextTypes){checkPropTypes(name,type.contextTypes,element._context,ReactPropTypeLocations.context);}}
return element;},createFactory:function(type){var validatedFactory=ReactElementValidator.createElement.bind(null,type);validatedFactory.type=type;return validatedFactory;}};module.exports=ReactElementValidator;},{"./ReactCurrentOwner":36,"./ReactElement":52,"./ReactPropTypeLocations":71,"./monitorCodeUse":136,"./warning":145}],54:[function(_dereq_,module,exports){"use strict";var ReactElement=_dereq_("./ReactElement");var invariant=_dereq_("./invariant");var component;var nullComponentIdsRegistry={};var ReactEmptyComponentInjection={injectEmptyComponent:function(emptyComponent){component=ReactElement.createFactory(emptyComponent);}};function getEmptyComponent(){("production"!=="development"?invariant(component,'Trying to return null from a render, but no null placeholder component '+'was injected.'):invariant(component));return component();}
function registerNullComponentID(id){nullComponentIdsRegistry[id]=true;}
function deregisterNullComponentID(id){delete nullComponentIdsRegistry[id];}
function isNullComponentID(id){return nullComponentIdsRegistry[id];}
var ReactEmptyComponent={deregisterNullComponentID:deregisterNullComponentID,getEmptyComponent:getEmptyComponent,injection:ReactEmptyComponentInjection,isNullComponentID:isNullComponentID,registerNullComponentID:registerNullComponentID};module.exports=ReactEmptyComponent;},{"./ReactElement":52,"./invariant":126}],55:[function(_dereq_,module,exports){"use strict";var ReactErrorUtils={guard:function(func,name){return func;}};module.exports=ReactErrorUtils;},{}],56:[function(_dereq_,module,exports){"use strict";var EventPluginHub=_dereq_("./EventPluginHub");function runEventQueueInBatch(events){EventPluginHub.enqueueEvents(events);EventPluginHub.processEventQueue();}
var ReactEventEmitterMixin={handleTopLevel:function(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent){var events=EventPluginHub.extractEvents(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent);runEventQueueInBatch(events);}};module.exports=ReactEventEmitterMixin;},{"./EventPluginHub":18}],57:[function(_dereq_,module,exports){"use strict";var EventListener=_dereq_("./EventListener");var ExecutionEnvironment=_dereq_("./ExecutionEnvironment");var PooledClass=_dereq_("./PooledClass");var ReactInstanceHandles=_dereq_("./ReactInstanceHandles");var ReactMount=_dereq_("./ReactMount");var ReactUpdates=_dereq_("./ReactUpdates");var assign=_dereq_("./Object.assign");var getEventTarget=_dereq_("./getEventTarget");var getUnboundedScrollPosition=_dereq_("./getUnboundedScrollPosition");function findParent(node){var nodeID=ReactMount.getID(node);var rootID=ReactInstanceHandles.getReactRootIDFromNodeID(nodeID);var container=ReactMount.findReactContainerForID(rootID);var parent=ReactMount.getFirstReactDOM(container);return parent;}
function TopLevelCallbackBookKeeping(topLevelType,nativeEvent){this.topLevelType=topLevelType;this.nativeEvent=nativeEvent;this.ancestors=[];}
assign(TopLevelCallbackBookKeeping.prototype,{destructor:function(){this.topLevelType=null;this.nativeEvent=null;this.ancestors.length=0;}});PooledClass.addPoolingTo(TopLevelCallbackBookKeeping,PooledClass.twoArgumentPooler);function handleTopLevelImpl(bookKeeping){var topLevelTarget=ReactMount.getFirstReactDOM(getEventTarget(bookKeeping.nativeEvent))||window;var ancestor=topLevelTarget;while(ancestor){bookKeeping.ancestors.push(ancestor);ancestor=findParent(ancestor);}
for(var i=0,l=bookKeeping.ancestors.length;i<l;i++){topLevelTarget=bookKeeping.ancestors[i];var topLevelTargetID=ReactMount.getID(topLevelTarget)||'';ReactEventListener._handleTopLevel(bookKeeping.topLevelType,topLevelTarget,topLevelTargetID,bookKeeping.nativeEvent);}}
function scrollValueMonitor(cb){var scrollPosition=getUnboundedScrollPosition(window);cb(scrollPosition);}
var ReactEventListener={_enabled:true,_handleTopLevel:null,WINDOW_HANDLE:ExecutionEnvironment.canUseDOM?window:null,setHandleTopLevel:function(handleTopLevel){ReactEventListener._handleTopLevel=handleTopLevel;},setEnabled:function(enabled){ReactEventListener._enabled=!!enabled;},isEnabled:function(){return ReactEventListener._enabled;},trapBubbledEvent:function(topLevelType,handlerBaseName,handle){var element=handle;if(!element){return;}
return EventListener.listen(element,handlerBaseName,ReactEventListener.dispatchEvent.bind(null,topLevelType));},trapCapturedEvent:function(topLevelType,handlerBaseName,handle){var element=handle;if(!element){return;}
return EventListener.capture(element,handlerBaseName,ReactEventListener.dispatchEvent.bind(null,topLevelType));},monitorScrollValue:function(refresh){var callback=scrollValueMonitor.bind(null,refresh);EventListener.listen(window,'scroll',callback);EventListener.listen(window,'resize',callback);},dispatchEvent:function(topLevelType,nativeEvent){if(!ReactEventListener._enabled){return;}
var bookKeeping=TopLevelCallbackBookKeeping.getPooled(topLevelType,nativeEvent);try{ReactUpdates.batchedUpdates(handleTopLevelImpl,bookKeeping);}finally{TopLevelCallbackBookKeeping.release(bookKeeping);}}};module.exports=ReactEventListener;},{"./EventListener":17,"./ExecutionEnvironment":22,"./Object.assign":27,"./PooledClass":28,"./ReactInstanceHandles":60,"./ReactMount":63,"./ReactUpdates":79,"./getEventTarget":117,"./getUnboundedScrollPosition":122}],58:[function(_dereq_,module,exports){"use strict";var DOMProperty=_dereq_("./DOMProperty");var EventPluginHub=_dereq_("./EventPluginHub");var ReactComponent=_dereq_("./ReactComponent");var ReactCompositeComponent=_dereq_("./ReactCompositeComponent");var ReactEmptyComponent=_dereq_("./ReactEmptyComponent");var ReactBrowserEventEmitter=_dereq_("./ReactBrowserEventEmitter");var ReactNativeComponent=_dereq_("./ReactNativeComponent");var ReactPerf=_dereq_("./ReactPerf");var ReactRootIndex=_dereq_("./ReactRootIndex");var ReactUpdates=_dereq_("./ReactUpdates");var ReactInjection={Component:ReactComponent.injection,CompositeComponent:ReactCompositeComponent.injection,DOMProperty:DOMProperty.injection,EmptyComponent:ReactEmptyComponent.injection,EventPluginHub:EventPluginHub.injection,EventEmitter:ReactBrowserEventEmitter.injection,NativeComponent:ReactNativeComponent.injection,Perf:ReactPerf.injection,RootIndex:ReactRootIndex.injection,Updates:ReactUpdates.injection};module.exports=ReactInjection;},{"./DOMProperty":11,"./EventPluginHub":18,"./ReactBrowserEventEmitter":30,"./ReactComponent":32,"./ReactCompositeComponent":34,"./ReactEmptyComponent":54,"./ReactNativeComponent":66,"./ReactPerf":68,"./ReactRootIndex":75,"./ReactUpdates":79}],59:[function(_dereq_,module,exports){"use strict";var ReactDOMSelection=_dereq_("./ReactDOMSelection");var containsNode=_dereq_("./containsNode");var focusNode=_dereq_("./focusNode");var getActiveElement=_dereq_("./getActiveElement");function isInDocument(node){return containsNode(document.documentElement,node);}
var ReactInputSelection={hasSelectionCapabilities:function(elem){return elem&&((elem.nodeName==='INPUT'&&elem.type==='text')||elem.nodeName==='TEXTAREA'||elem.contentEditable==='true');},getSelectionInformation:function(){var focusedElem=getActiveElement();return{focusedElem:focusedElem,selectionRange:ReactInputSelection.hasSelectionCapabilities(focusedElem)?ReactInputSelection.getSelection(focusedElem):null};},restoreSelection:function(priorSelectionInformation){var curFocusedElem=getActiveElement();var priorFocusedElem=priorSelectionInformation.focusedElem;var priorSelectionRange=priorSelectionInformation.selectionRange;if(curFocusedElem!==priorFocusedElem&&isInDocument(priorFocusedElem)){if(ReactInputSelection.hasSelectionCapabilities(priorFocusedElem)){ReactInputSelection.setSelection(priorFocusedElem,priorSelectionRange);}
focusNode(priorFocusedElem);}},getSelection:function(input){var selection;if('selectionStart'in input){selection={start:input.selectionStart,end:input.selectionEnd};}else if(document.selection&&input.nodeName==='INPUT'){var range=document.selection.createRange();if(range.parentElement()===input){selection={start:-range.moveStart('character',-input.value.length),end:-range.moveEnd('character',-input.value.length)};}}else{selection=ReactDOMSelection.getOffsets(input);}
return selection||{start:0,end:0};},setSelection:function(input,offsets){var start=offsets.start;var end=offsets.end;if(typeof end==='undefined'){end=start;}
if('selectionStart'in input){input.selectionStart=start;input.selectionEnd=Math.min(end,input.value.length);}else if(document.selection&&input.nodeName==='INPUT'){var range=input.createTextRange();range.collapse(true);range.moveStart('character',start);range.moveEnd('character',end-start);range.select();}else{ReactDOMSelection.setOffsets(input,offsets);}}};module.exports=ReactInputSelection;},{"./ReactDOMSelection":46,"./containsNode":101,"./focusNode":111,"./getActiveElement":113}],60:[function(_dereq_,module,exports){"use strict";var ReactRootIndex=_dereq_("./ReactRootIndex");var invariant=_dereq_("./invariant");var SEPARATOR='.';var SEPARATOR_LENGTH=SEPARATOR.length;var MAX_TREE_DEPTH=100;function getReactRootIDString(index){return SEPARATOR+index.toString(36);}
function isBoundary(id,index){return id.charAt(index)===SEPARATOR||index===id.length;}
function isValidID(id){return id===''||(id.charAt(0)===SEPARATOR&&id.charAt(id.length-1)!==SEPARATOR);}
function isAncestorIDOf(ancestorID,descendantID){return(descendantID.indexOf(ancestorID)===0&&isBoundary(descendantID,ancestorID.length));}
function getParentID(id){return id?id.substr(0,id.lastIndexOf(SEPARATOR)):'';}
function getNextDescendantID(ancestorID,destinationID){("production"!=="development"?invariant(isValidID(ancestorID)&&isValidID(destinationID),'getNextDescendantID(%s, %s): Received an invalid React DOM ID.',ancestorID,destinationID):invariant(isValidID(ancestorID)&&isValidID(destinationID)));("production"!=="development"?invariant(isAncestorIDOf(ancestorID,destinationID),'getNextDescendantID(...): React has made an invalid assumption about '+'the DOM hierarchy. Expected `%s` to be an ancestor of `%s`.',ancestorID,destinationID):invariant(isAncestorIDOf(ancestorID,destinationID)));if(ancestorID===destinationID){return ancestorID;}
var start=ancestorID.length+SEPARATOR_LENGTH;for(var i=start;i<destinationID.length;i++){if(isBoundary(destinationID,i)){break;}}
return destinationID.substr(0,i);}
function getFirstCommonAncestorID(oneID,twoID){var minLength=Math.min(oneID.length,twoID.length);if(minLength===0){return'';}
var lastCommonMarkerIndex=0;for(var i=0;i<=minLength;i++){if(isBoundary(oneID,i)&&isBoundary(twoID,i)){lastCommonMarkerIndex=i;}else if(oneID.charAt(i)!==twoID.charAt(i)){break;}}
var longestCommonID=oneID.substr(0,lastCommonMarkerIndex);("production"!=="development"?invariant(isValidID(longestCommonID),'getFirstCommonAncestorID(%s, %s): Expected a valid React DOM ID: %s',oneID,twoID,longestCommonID):invariant(isValidID(longestCommonID)));return longestCommonID;}
function traverseParentPath(start,stop,cb,arg,skipFirst,skipLast){start=start||'';stop=stop||'';("production"!=="development"?invariant(start!==stop,'traverseParentPath(...): Cannot traverse from and to the same ID, `%s`.',start):invariant(start!==stop));var traverseUp=isAncestorIDOf(stop,start);("production"!=="development"?invariant(traverseUp||isAncestorIDOf(start,stop),'traverseParentPath(%s, %s, ...): Cannot traverse from two IDs that do '+'not have a parent path.',start,stop):invariant(traverseUp||isAncestorIDOf(start,stop)));var depth=0;var traverse=traverseUp?getParentID:getNextDescendantID;for(var id=start;;id=traverse(id,stop)){var ret;if((!skipFirst||id!==start)&&(!skipLast||id!==stop)){ret=cb(id,traverseUp,arg);}
if(ret===false||id===stop){break;}
("production"!=="development"?invariant(depth++<MAX_TREE_DEPTH,'traverseParentPath(%s, %s, ...): Detected an infinite loop while '+'traversing the React DOM ID tree. This may be due to malformed IDs: %s',start,stop):invariant(depth++<MAX_TREE_DEPTH));}}
var ReactInstanceHandles={createReactRootID:function(){return getReactRootIDString(ReactRootIndex.createReactRootIndex());},createReactID:function(rootID,name){return rootID+name;},getReactRootIDFromNodeID:function(id){if(id&&id.charAt(0)===SEPARATOR&&id.length>1){var index=id.indexOf(SEPARATOR,1);return index>-1?id.substr(0,index):id;}
return null;},traverseEnterLeave:function(leaveID,enterID,cb,upArg,downArg){var ancestorID=getFirstCommonAncestorID(leaveID,enterID);if(ancestorID!==leaveID){traverseParentPath(leaveID,ancestorID,cb,upArg,false,true);}
if(ancestorID!==enterID){traverseParentPath(ancestorID,enterID,cb,downArg,true,false);}},traverseTwoPhase:function(targetID,cb,arg){if(targetID){traverseParentPath('',targetID,cb,arg,true,false);traverseParentPath(targetID,'',cb,arg,false,true);}},traverseAncestors:function(targetID,cb,arg){traverseParentPath('',targetID,cb,arg,true,false);},_getFirstCommonAncestorID:getFirstCommonAncestorID,_getNextDescendantID:getNextDescendantID,isAncestorIDOf:isAncestorIDOf,SEPARATOR:SEPARATOR};module.exports=ReactInstanceHandles;},{"./ReactRootIndex":75,"./invariant":126}],61:[function(_dereq_,module,exports){"use strict";var ReactCurrentOwner=_dereq_("./ReactCurrentOwner");var invariant=_dereq_("./invariant");var monitorCodeUse=_dereq_("./monitorCodeUse");var warning=_dereq_("./warning");var legacyFactoryLogs={};function warnForLegacyFactoryCall(){if(!ReactLegacyElementFactory._isLegacyCallWarningEnabled){return;}
var owner=ReactCurrentOwner.current;var name=owner&&owner.constructor?owner.constructor.displayName:'';if(!name){name='Something';}
if(legacyFactoryLogs.hasOwnProperty(name)){return;}
legacyFactoryLogs[name]=true;("production"!=="development"?warning(false,name+' is calling a React component directly. '+'Use a factory or JSX instead. See: http://fb.me/react-legacyfactory'):null);monitorCodeUse('react_legacy_factory_call',{version:3,name:name});}
function warnForPlainFunctionType(type){var isReactClass=type.prototype&&typeof type.prototype.mountComponent==='function'&&typeof type.prototype.receiveComponent==='function';if(isReactClass){("production"!=="development"?warning(false,'Did not expect to get a React class here. Use `Component` instead '+'of `Component.type` or `this.constructor`.'):null);}else{if(!type._reactWarnedForThisType){try{type._reactWarnedForThisType=true;}catch(x){}
monitorCodeUse('react_non_component_in_jsx',{version:3,name:type.name});}
("production"!=="development"?warning(false,'This JSX uses a plain function. Only React components are '+'valid in React\'s JSX transform.'):null);}}
function warnForNonLegacyFactory(type){("production"!=="development"?warning(false,'Do not pass React.DOM.'+type.type+' to JSX or createFactory. '+'Use the string "'+type.type+'" instead.'):null);}
function proxyStaticMethods(target,source){if(typeof source!=='function'){return;}
for(var key in source){if(source.hasOwnProperty(key)){var value=source[key];if(typeof value==='function'){var bound=value.bind(source);for(var k in value){if(value.hasOwnProperty(k)){bound[k]=value[k];}}
target[key]=bound;}else{target[key]=value;}}}}
var LEGACY_MARKER={};var NON_LEGACY_MARKER={};var ReactLegacyElementFactory={};ReactLegacyElementFactory.wrapCreateFactory=function(createFactory){var legacyCreateFactory=function(type){if(typeof type!=='function'){return createFactory(type);}
if(type.isReactNonLegacyFactory){if("production"!=="development"){warnForNonLegacyFactory(type);}
return createFactory(type.type);}
if(type.isReactLegacyFactory){return createFactory(type.type);}
if("production"!=="development"){warnForPlainFunctionType(type);}
return type;};return legacyCreateFactory;};ReactLegacyElementFactory.wrapCreateElement=function(createElement){var legacyCreateElement=function(type,props,children){if(typeof type!=='function'){return createElement.apply(this,arguments);}
var args;if(type.isReactNonLegacyFactory){if("production"!=="development"){warnForNonLegacyFactory(type);}
args=Array.prototype.slice.call(arguments,0);args[0]=type.type;return createElement.apply(this,args);}
if(type.isReactLegacyFactory){if(type._isMockFunction){type.type._mockedReactClassConstructor=type;}
args=Array.prototype.slice.call(arguments,0);args[0]=type.type;return createElement.apply(this,args);}
if("production"!=="development"){warnForPlainFunctionType(type);}
return type.apply(null,Array.prototype.slice.call(arguments,1));};return legacyCreateElement;};ReactLegacyElementFactory.wrapFactory=function(factory){("production"!=="development"?invariant(typeof factory==='function','This is suppose to accept a element factory'):invariant(typeof factory==='function'));var legacyElementFactory=function(config,children){if("production"!=="development"){warnForLegacyFactoryCall();}
return factory.apply(this,arguments);};proxyStaticMethods(legacyElementFactory,factory.type);legacyElementFactory.isReactLegacyFactory=LEGACY_MARKER;legacyElementFactory.type=factory.type;return legacyElementFactory;};ReactLegacyElementFactory.markNonLegacyFactory=function(factory){factory.isReactNonLegacyFactory=NON_LEGACY_MARKER;return factory;};ReactLegacyElementFactory.isValidFactory=function(factory){return typeof factory==='function'&&factory.isReactLegacyFactory===LEGACY_MARKER;};ReactLegacyElementFactory.isValidClass=function(factory){if("production"!=="development"){("production"!=="development"?warning(false,'isValidClass is deprecated and will be removed in a future release. '+'Use a more specific validator instead.'):null);}
return ReactLegacyElementFactory.isValidFactory(factory);};ReactLegacyElementFactory._isLegacyCallWarningEnabled=true;module.exports=ReactLegacyElementFactory;},{"./ReactCurrentOwner":36,"./invariant":126,"./monitorCodeUse":136,"./warning":145}],62:[function(_dereq_,module,exports){"use strict";var adler32=_dereq_("./adler32");var ReactMarkupChecksum={CHECKSUM_ATTR_NAME:'data-react-checksum',addChecksumToMarkup:function(markup){var checksum=adler32(markup);return markup.replace('>',' '+ReactMarkupChecksum.CHECKSUM_ATTR_NAME+'="'+checksum+'">');},canReuseMarkup:function(markup,element){var existingChecksum=element.getAttribute(ReactMarkupChecksum.CHECKSUM_ATTR_NAME);existingChecksum=existingChecksum&&parseInt(existingChecksum,10);var markupChecksum=adler32(markup);return markupChecksum===existingChecksum;}};module.exports=ReactMarkupChecksum;},{"./adler32":98}],63:[function(_dereq_,module,exports){"use strict";var DOMProperty=_dereq_("./DOMProperty");var ReactBrowserEventEmitter=_dereq_("./ReactBrowserEventEmitter");var ReactCurrentOwner=_dereq_("./ReactCurrentOwner");var ReactElement=_dereq_("./ReactElement");var ReactLegacyElement=_dereq_("./ReactLegacyElement");var ReactInstanceHandles=_dereq_("./ReactInstanceHandles");var ReactPerf=_dereq_("./ReactPerf");var containsNode=_dereq_("./containsNode");var deprecated=_dereq_("./deprecated");var getReactRootElementInContainer=_dereq_("./getReactRootElementInContainer");var instantiateReactComponent=_dereq_("./instantiateReactComponent");var invariant=_dereq_("./invariant");var shouldUpdateReactComponent=_dereq_("./shouldUpdateReactComponent");var warning=_dereq_("./warning");var createElement=ReactLegacyElement.wrapCreateElement(ReactElement.createElement);var SEPARATOR=ReactInstanceHandles.SEPARATOR;var ATTR_NAME=DOMProperty.ID_ATTRIBUTE_NAME;var nodeCache={};var ELEMENT_NODE_TYPE=1;var DOC_NODE_TYPE=9;var instancesByReactRootID={};var containersByReactRootID={};if("production"!=="development"){var rootElementsByReactRootID={};}
var findComponentRootReusableArray=[];function getReactRootID(container){var rootElement=getReactRootElementInContainer(container);return rootElement&&ReactMount.getID(rootElement);}
function getID(node){var id=internalGetID(node);if(id){if(nodeCache.hasOwnProperty(id)){var cached=nodeCache[id];if(cached!==node){("production"!=="development"?invariant(!isValid(cached,id),'ReactMount: Two valid but unequal nodes with the same `%s`: %s',ATTR_NAME,id):invariant(!isValid(cached,id)));nodeCache[id]=node;}}else{nodeCache[id]=node;}}
return id;}
function internalGetID(node){return node&&node.getAttribute&&node.getAttribute(ATTR_NAME)||'';}
function setID(node,id){var oldID=internalGetID(node);if(oldID!==id){delete nodeCache[oldID];}
node.setAttribute(ATTR_NAME,id);nodeCache[id]=node;}
function getNode(id){if(!nodeCache.hasOwnProperty(id)||!isValid(nodeCache[id],id)){nodeCache[id]=ReactMount.findReactNodeByID(id);}
return nodeCache[id];}
function isValid(node,id){if(node){("production"!=="development"?invariant(internalGetID(node)===id,'ReactMount: Unexpected modification of `%s`',ATTR_NAME):invariant(internalGetID(node)===id));var container=ReactMount.findReactContainerForID(id);if(container&&containsNode(container,node)){return true;}}
return false;}
function purgeID(id){delete nodeCache[id];}
var deepestNodeSoFar=null;function findDeepestCachedAncestorImpl(ancestorID){var ancestor=nodeCache[ancestorID];if(ancestor&&isValid(ancestor,ancestorID)){deepestNodeSoFar=ancestor;}else{return false;}}
function findDeepestCachedAncestor(targetID){deepestNodeSoFar=null;ReactInstanceHandles.traverseAncestors(targetID,findDeepestCachedAncestorImpl);var foundNode=deepestNodeSoFar;deepestNodeSoFar=null;return foundNode;}
var ReactMount={_instancesByReactRootID:instancesByReactRootID,scrollMonitor:function(container,renderCallback){renderCallback();},_updateRootComponent:function(prevComponent,nextComponent,container,callback){var nextProps=nextComponent.props;ReactMount.scrollMonitor(container,function(){prevComponent.replaceProps(nextProps,callback);});if("production"!=="development"){rootElementsByReactRootID[getReactRootID(container)]=getReactRootElementInContainer(container);}
return prevComponent;},_registerComponent:function(nextComponent,container){("production"!=="development"?invariant(container&&(container.nodeType===ELEMENT_NODE_TYPE||container.nodeType===DOC_NODE_TYPE),'_registerComponent(...): Target container is not a DOM element.'):invariant(container&&(container.nodeType===ELEMENT_NODE_TYPE||container.nodeType===DOC_NODE_TYPE)));ReactBrowserEventEmitter.ensureScrollValueMonitoring();var reactRootID=ReactMount.registerContainer(container);instancesByReactRootID[reactRootID]=nextComponent;return reactRootID;},_renderNewRootComponent:ReactPerf.measure('ReactMount','_renderNewRootComponent',function(nextComponent,container,shouldReuseMarkup){("production"!=="development"?warning(ReactCurrentOwner.current==null,'_renderNewRootComponent(): Render methods should be a pure function '+'of props and state; triggering nested component updates from '+'render is not allowed. If necessary, trigger nested updates in '+'componentDidUpdate.'):null);var componentInstance=instantiateReactComponent(nextComponent,null);var reactRootID=ReactMount._registerComponent(componentInstance,container);componentInstance.mountComponentIntoNode(reactRootID,container,shouldReuseMarkup);if("production"!=="development"){rootElementsByReactRootID[reactRootID]=getReactRootElementInContainer(container);}
return componentInstance;}),render:function(nextElement,container,callback){("production"!=="development"?invariant(ReactElement.isValidElement(nextElement),'renderComponent(): Invalid component element.%s',(typeof nextElement==='string'?' Instead of passing an element string, make sure to instantiate '+'it by passing it to React.createElement.':ReactLegacyElement.isValidFactory(nextElement)?' Instead of passing a component class, make sure to instantiate '+'it by passing it to React.createElement.':typeof nextElement.props!=="undefined"?' This may be caused by unintentionally loading two independent '+'copies of React.':'')):invariant(ReactElement.isValidElement(nextElement)));var prevComponent=instancesByReactRootID[getReactRootID(container)];if(prevComponent){var prevElement=prevComponent._currentElement;if(shouldUpdateReactComponent(prevElement,nextElement)){return ReactMount._updateRootComponent(prevComponent,nextElement,container,callback);}else{ReactMount.unmountComponentAtNode(container);}}
var reactRootElement=getReactRootElementInContainer(container);var containerHasReactMarkup=reactRootElement&&ReactMount.isRenderedByReact(reactRootElement);var shouldReuseMarkup=containerHasReactMarkup&&!prevComponent;var component=ReactMount._renderNewRootComponent(nextElement,container,shouldReuseMarkup);callback&&callback.call(component);return component;},constructAndRenderComponent:function(constructor,props,container){var element=createElement(constructor,props);return ReactMount.render(element,container);},constructAndRenderComponentByID:function(constructor,props,id){var domNode=document.getElementById(id);("production"!=="development"?invariant(domNode,'Tried to get element with id of "%s" but it is not present on the page.',id):invariant(domNode));return ReactMount.constructAndRenderComponent(constructor,props,domNode);},registerContainer:function(container){var reactRootID=getReactRootID(container);if(reactRootID){reactRootID=ReactInstanceHandles.getReactRootIDFromNodeID(reactRootID);}
if(!reactRootID){reactRootID=ReactInstanceHandles.createReactRootID();}
containersByReactRootID[reactRootID]=container;return reactRootID;},unmountComponentAtNode:function(container){("production"!=="development"?warning(ReactCurrentOwner.current==null,'unmountComponentAtNode(): Render methods should be a pure function of '+'props and state; triggering nested component updates from render is '+'not allowed. If necessary, trigger nested updates in '+'componentDidUpdate.'):null);var reactRootID=getReactRootID(container);var component=instancesByReactRootID[reactRootID];if(!component){return false;}
ReactMount.unmountComponentFromNode(component,container);delete instancesByReactRootID[reactRootID];delete containersByReactRootID[reactRootID];if("production"!=="development"){delete rootElementsByReactRootID[reactRootID];}
return true;},unmountComponentFromNode:function(instance,container){instance.unmountComponent();if(container.nodeType===DOC_NODE_TYPE){container=container.documentElement;}
while(container.lastChild){container.removeChild(container.lastChild);}},findReactContainerForID:function(id){var reactRootID=ReactInstanceHandles.getReactRootIDFromNodeID(id);var container=containersByReactRootID[reactRootID];if("production"!=="development"){var rootElement=rootElementsByReactRootID[reactRootID];if(rootElement&&rootElement.parentNode!==container){("production"!=="development"?invariant(internalGetID(rootElement)===reactRootID,'ReactMount: Root element ID differed from reactRootID.'):invariant(internalGetID(rootElement)===reactRootID));var containerChild=container.firstChild;if(containerChild&&reactRootID===internalGetID(containerChild)){rootElementsByReactRootID[reactRootID]=containerChild;}else{console.warn('ReactMount: Root element has been removed from its original '+'container. New container:',rootElement.parentNode);}}}
return container;},findReactNodeByID:function(id){var reactRoot=ReactMount.findReactContainerForID(id);return ReactMount.findComponentRoot(reactRoot,id);},isRenderedByReact:function(node){if(node.nodeType!==1){return false;}
var id=ReactMount.getID(node);return id?id.charAt(0)===SEPARATOR:false;},getFirstReactDOM:function(node){var current=node;while(current&&current.parentNode!==current){if(ReactMount.isRenderedByReact(current)){return current;}
current=current.parentNode;}
return null;},findComponentRoot:function(ancestorNode,targetID){var firstChildren=findComponentRootReusableArray;var childIndex=0;var deepestAncestor=findDeepestCachedAncestor(targetID)||ancestorNode;firstChildren[0]=deepestAncestor.firstChild;firstChildren.length=1;while(childIndex<firstChildren.length){var child=firstChildren[childIndex++];var targetChild;while(child){var childID=ReactMount.getID(child);if(childID){if(targetID===childID){targetChild=child;}else if(ReactInstanceHandles.isAncestorIDOf(childID,targetID)){firstChildren.length=childIndex=0;firstChildren.push(child.firstChild);}}else{firstChildren.push(child.firstChild);}
child=child.nextSibling;}
if(targetChild){firstChildren.length=0;return targetChild;}}
firstChildren.length=0;("production"!=="development"?invariant(false,'findComponentRoot(..., %s): Unable to find element. This probably '+'means the DOM was unexpectedly mutated (e.g., by the browser), '+'usually due to forgetting a <tbody> when using tables, nesting tags '+'like <form>, <p>, or <a>, or using non-SVG elements in an <svg> '+'parent. '+'Try inspecting the child nodes of the element with React ID `%s`.',targetID,ReactMount.getID(ancestorNode)):invariant(false));},getReactRootID:getReactRootID,getID:getID,setID:setID,getNode:getNode,purgeID:purgeID};ReactMount.renderComponent=deprecated('ReactMount','renderComponent','render',this,ReactMount.render);module.exports=ReactMount;},{"./DOMProperty":11,"./ReactBrowserEventEmitter":30,"./ReactCurrentOwner":36,"./ReactElement":52,"./ReactInstanceHandles":60,"./ReactLegacyElement":61,"./ReactPerf":68,"./containsNode":101,"./deprecated":106,"./getReactRootElementInContainer":120,"./instantiateReactComponent":125,"./invariant":126,"./shouldUpdateReactComponent":142,"./warning":145}],64:[function(_dereq_,module,exports){"use strict";var ReactComponent=_dereq_("./ReactComponent");var ReactMultiChildUpdateTypes=_dereq_("./ReactMultiChildUpdateTypes");var flattenChildren=_dereq_("./flattenChildren");var instantiateReactComponent=_dereq_("./instantiateReactComponent");var shouldUpdateReactComponent=_dereq_("./shouldUpdateReactComponent");var updateDepth=0;var updateQueue=[];var markupQueue=[];function enqueueMarkup(parentID,markup,toIndex){updateQueue.push({parentID:parentID,parentNode:null,type:ReactMultiChildUpdateTypes.INSERT_MARKUP,markupIndex:markupQueue.push(markup)-1,textContent:null,fromIndex:null,toIndex:toIndex});}
function enqueueMove(parentID,fromIndex,toIndex){updateQueue.push({parentID:parentID,parentNode:null,type:ReactMultiChildUpdateTypes.MOVE_EXISTING,markupIndex:null,textContent:null,fromIndex:fromIndex,toIndex:toIndex});}
function enqueueRemove(parentID,fromIndex){updateQueue.push({parentID:parentID,parentNode:null,type:ReactMultiChildUpdateTypes.REMOVE_NODE,markupIndex:null,textContent:null,fromIndex:fromIndex,toIndex:null});}
function enqueueTextContent(parentID,textContent){updateQueue.push({parentID:parentID,parentNode:null,type:ReactMultiChildUpdateTypes.TEXT_CONTENT,markupIndex:null,textContent:textContent,fromIndex:null,toIndex:null});}
function processQueue(){if(updateQueue.length){ReactComponent.BackendIDOperations.dangerouslyProcessChildrenUpdates(updateQueue,markupQueue);clearQueue();}}
function clearQueue(){updateQueue.length=0;markupQueue.length=0;}
var ReactMultiChild={Mixin:{mountChildren:function(nestedChildren,transaction){var children=flattenChildren(nestedChildren);var mountImages=[];var index=0;this._renderedChildren=children;for(var name in children){var child=children[name];if(children.hasOwnProperty(name)){var childInstance=instantiateReactComponent(child,null);children[name]=childInstance;var rootID=this._rootNodeID+name;var mountImage=childInstance.mountComponent(rootID,transaction,this._mountDepth+1);childInstance._mountIndex=index;mountImages.push(mountImage);index++;}}
return mountImages;},updateTextContent:function(nextContent){updateDepth++;var errorThrown=true;try{var prevChildren=this._renderedChildren;for(var name in prevChildren){if(prevChildren.hasOwnProperty(name)){this._unmountChildByName(prevChildren[name],name);}}
this.setTextContent(nextContent);errorThrown=false;}finally{updateDepth--;if(!updateDepth){errorThrown?clearQueue():processQueue();}}},updateChildren:function(nextNestedChildren,transaction){updateDepth++;var errorThrown=true;try{this._updateChildren(nextNestedChildren,transaction);errorThrown=false;}finally{updateDepth--;if(!updateDepth){errorThrown?clearQueue():processQueue();}}},_updateChildren:function(nextNestedChildren,transaction){var nextChildren=flattenChildren(nextNestedChildren);var prevChildren=this._renderedChildren;if(!nextChildren&&!prevChildren){return;}
var name;var lastIndex=0;var nextIndex=0;for(name in nextChildren){if(!nextChildren.hasOwnProperty(name)){continue;}
var prevChild=prevChildren&&prevChildren[name];var prevElement=prevChild&&prevChild._currentElement;var nextElement=nextChildren[name];if(shouldUpdateReactComponent(prevElement,nextElement)){this.moveChild(prevChild,nextIndex,lastIndex);lastIndex=Math.max(prevChild._mountIndex,lastIndex);prevChild.receiveComponent(nextElement,transaction);prevChild._mountIndex=nextIndex;}else{if(prevChild){lastIndex=Math.max(prevChild._mountIndex,lastIndex);this._unmountChildByName(prevChild,name);}
var nextChildInstance=instantiateReactComponent(nextElement,null);this._mountChildByNameAtIndex(nextChildInstance,name,nextIndex,transaction);}
nextIndex++;}
for(name in prevChildren){if(prevChildren.hasOwnProperty(name)&&!(nextChildren&&nextChildren[name])){this._unmountChildByName(prevChildren[name],name);}}},unmountChildren:function(){var renderedChildren=this._renderedChildren;for(var name in renderedChildren){var renderedChild=renderedChildren[name];if(renderedChild.unmountComponent){renderedChild.unmountComponent();}}
this._renderedChildren=null;},moveChild:function(child,toIndex,lastIndex){if(child._mountIndex<lastIndex){enqueueMove(this._rootNodeID,child._mountIndex,toIndex);}},createChild:function(child,mountImage){enqueueMarkup(this._rootNodeID,mountImage,child._mountIndex);},removeChild:function(child){enqueueRemove(this._rootNodeID,child._mountIndex);},setTextContent:function(textContent){enqueueTextContent(this._rootNodeID,textContent);},_mountChildByNameAtIndex:function(child,name,index,transaction){var rootID=this._rootNodeID+name;var mountImage=child.mountComponent(rootID,transaction,this._mountDepth+1);child._mountIndex=index;this.createChild(child,mountImage);this._renderedChildren=this._renderedChildren||{};this._renderedChildren[name]=child;},_unmountChildByName:function(child,name){this.removeChild(child);child._mountIndex=null;child.unmountComponent();delete this._renderedChildren[name];}}};module.exports=ReactMultiChild;},{"./ReactComponent":32,"./ReactMultiChildUpdateTypes":65,"./flattenChildren":110,"./instantiateReactComponent":125,"./shouldUpdateReactComponent":142}],65:[function(_dereq_,module,exports){"use strict";var keyMirror=_dereq_("./keyMirror");var ReactMultiChildUpdateTypes=keyMirror({INSERT_MARKUP:null,MOVE_EXISTING:null,REMOVE_NODE:null,TEXT_CONTENT:null});module.exports=ReactMultiChildUpdateTypes;},{"./keyMirror":132}],66:[function(_dereq_,module,exports){"use strict";var assign=_dereq_("./Object.assign");var invariant=_dereq_("./invariant");var genericComponentClass=null;var tagToComponentClass={};var ReactNativeComponentInjection={injectGenericComponentClass:function(componentClass){genericComponentClass=componentClass;},injectComponentClasses:function(componentClasses){assign(tagToComponentClass,componentClasses);}};function createInstanceForTag(tag,props,parentType){var componentClass=tagToComponentClass[tag];if(componentClass==null){("production"!=="development"?invariant(genericComponentClass,'There is no registered component for the tag %s',tag):invariant(genericComponentClass));return new genericComponentClass(tag,props);}
if(parentType===tag){("production"!=="development"?invariant(genericComponentClass,'There is no registered component for the tag %s',tag):invariant(genericComponentClass));return new genericComponentClass(tag,props);}
return new componentClass.type(props);}
var ReactNativeComponent={createInstanceForTag:createInstanceForTag,injection:ReactNativeComponentInjection};module.exports=ReactNativeComponent;},{"./Object.assign":27,"./invariant":126}],67:[function(_dereq_,module,exports){"use strict";var emptyObject=_dereq_("./emptyObject");var invariant=_dereq_("./invariant");var ReactOwner={isValidOwner:function(object){return!!(object&&typeof object.attachRef==='function'&&typeof object.detachRef==='function');},addComponentAsRefTo:function(component,ref,owner){("production"!=="development"?invariant(ReactOwner.isValidOwner(owner),'addComponentAsRefTo(...): Only a ReactOwner can have refs. This '+'usually means that you\'re trying to add a ref to a component that '+'doesn\'t have an owner (that is, was not created inside of another '+'component\'s `render` method). Try rendering this component inside of '+'a new top-level component which will hold the ref.'):invariant(ReactOwner.isValidOwner(owner)));owner.attachRef(ref,component);},removeComponentAsRefFrom:function(component,ref,owner){("production"!=="development"?invariant(ReactOwner.isValidOwner(owner),'removeComponentAsRefFrom(...): Only a ReactOwner can have refs. This '+'usually means that you\'re trying to remove a ref to a component that '+'doesn\'t have an owner (that is, was not created inside of another '+'component\'s `render` method). Try rendering this component inside of '+'a new top-level component which will hold the ref.'):invariant(ReactOwner.isValidOwner(owner)));if(owner.refs[ref]===component){owner.detachRef(ref);}},Mixin:{construct:function(){this.refs=emptyObject;},attachRef:function(ref,component){("production"!=="development"?invariant(component.isOwnedBy(this),'attachRef(%s, ...): Only a component\'s owner can store a ref to it.',ref):invariant(component.isOwnedBy(this)));var refs=this.refs===emptyObject?(this.refs={}):this.refs;refs[ref]=component;},detachRef:function(ref){delete this.refs[ref];}}};module.exports=ReactOwner;},{"./emptyObject":108,"./invariant":126}],68:[function(_dereq_,module,exports){"use strict";var ReactPerf={enableMeasure:false,storedMeasure:_noMeasure,measure:function(objName,fnName,func){if("production"!=="development"){var measuredFunc=null;var wrapper=function(){if(ReactPerf.enableMeasure){if(!measuredFunc){measuredFunc=ReactPerf.storedMeasure(objName,fnName,func);}
return measuredFunc.apply(this,arguments);}
return func.apply(this,arguments);};wrapper.displayName=objName+'_'+fnName;return wrapper;}
return func;},injection:{injectMeasure:function(measure){ReactPerf.storedMeasure=measure;}}};function _noMeasure(objName,fnName,func){return func;}
module.exports=ReactPerf;},{}],69:[function(_dereq_,module,exports){"use strict";var assign=_dereq_("./Object.assign");var emptyFunction=_dereq_("./emptyFunction");var invariant=_dereq_("./invariant");var joinClasses=_dereq_("./joinClasses");var warning=_dereq_("./warning");var didWarn=false;function createTransferStrategy(mergeStrategy){return function(props,key,value){if(!props.hasOwnProperty(key)){props[key]=value;}else{props[key]=mergeStrategy(props[key],value);}};}
var transferStrategyMerge=createTransferStrategy(function(a,b){return assign({},b,a);});var TransferStrategies={children:emptyFunction,className:createTransferStrategy(joinClasses),style:transferStrategyMerge};function transferInto(props,newProps){for(var thisKey in newProps){if(!newProps.hasOwnProperty(thisKey)){continue;}
var transferStrategy=TransferStrategies[thisKey];if(transferStrategy&&TransferStrategies.hasOwnProperty(thisKey)){transferStrategy(props,thisKey,newProps[thisKey]);}else if(!props.hasOwnProperty(thisKey)){props[thisKey]=newProps[thisKey];}}
return props;}
var ReactPropTransferer={TransferStrategies:TransferStrategies,mergeProps:function(oldProps,newProps){return transferInto(assign({},oldProps),newProps);},Mixin:{transferPropsTo:function(element){("production"!=="development"?invariant(element._owner===this,'%s: You can\'t call transferPropsTo() on a component that you '+'don\'t own, %s. This usually means you are calling '+'transferPropsTo() on a component passed in as props or children.',this.constructor.displayName,typeof element.type==='string'?element.type:element.type.displayName):invariant(element._owner===this));if("production"!=="development"){if(!didWarn){didWarn=true;("production"!=="development"?warning(false,'transferPropsTo is deprecated. '+'See http://fb.me/react-transferpropsto for more information.'):null);}}
transferInto(element.props,this.props);return element;}}};module.exports=ReactPropTransferer;},{"./Object.assign":27,"./emptyFunction":107,"./invariant":126,"./joinClasses":131,"./warning":145}],70:[function(_dereq_,module,exports){"use strict";var ReactPropTypeLocationNames={};if("production"!=="development"){ReactPropTypeLocationNames={prop:'prop',context:'context',childContext:'child context'};}
module.exports=ReactPropTypeLocationNames;},{}],71:[function(_dereq_,module,exports){"use strict";var keyMirror=_dereq_("./keyMirror");var ReactPropTypeLocations=keyMirror({prop:null,context:null,childContext:null});module.exports=ReactPropTypeLocations;},{"./keyMirror":132}],72:[function(_dereq_,module,exports){"use strict";var ReactElement=_dereq_("./ReactElement");var ReactPropTypeLocationNames=_dereq_("./ReactPropTypeLocationNames");var deprecated=_dereq_("./deprecated");var emptyFunction=_dereq_("./emptyFunction");var ANONYMOUS='<<anonymous>>';var elementTypeChecker=createElementTypeChecker();var nodeTypeChecker=createNodeChecker();var ReactPropTypes={array:createPrimitiveTypeChecker('array'),bool:createPrimitiveTypeChecker('boolean'),func:createPrimitiveTypeChecker('function'),number:createPrimitiveTypeChecker('number'),object:createPrimitiveTypeChecker('object'),string:createPrimitiveTypeChecker('string'),any:createAnyTypeChecker(),arrayOf:createArrayOfTypeChecker,element:elementTypeChecker,instanceOf:createInstanceTypeChecker,node:nodeTypeChecker,objectOf:createObjectOfTypeChecker,oneOf:createEnumTypeChecker,oneOfType:createUnionTypeChecker,shape:createShapeTypeChecker,component:deprecated('React.PropTypes','component','element',this,elementTypeChecker),renderable:deprecated('React.PropTypes','renderable','node',this,nodeTypeChecker)};function createChainableTypeChecker(validate){function checkType(isRequired,props,propName,componentName,location){componentName=componentName||ANONYMOUS;if(props[propName]==null){var locationName=ReactPropTypeLocationNames[location];if(isRequired){return new Error(("Required "+locationName+" `"+propName+"` was not specified in ")+
("`"+componentName+"`."));}}else{return validate(props,propName,componentName,location);}}
var chainedCheckType=checkType.bind(null,false);chainedCheckType.isRequired=checkType.bind(null,true);return chainedCheckType;}
function createPrimitiveTypeChecker(expectedType){function validate(props,propName,componentName,location){var propValue=props[propName];var propType=getPropType(propValue);if(propType!==expectedType){var locationName=ReactPropTypeLocationNames[location];var preciseType=getPreciseType(propValue);return new Error(("Invalid "+locationName+" `"+propName+"` of type `"+preciseType+"` ")+
("supplied to `"+componentName+"`, expected `"+expectedType+"`."));}}
return createChainableTypeChecker(validate);}
function createAnyTypeChecker(){return createChainableTypeChecker(emptyFunction.thatReturns());}
function createArrayOfTypeChecker(typeChecker){function validate(props,propName,componentName,location){var propValue=props[propName];if(!Array.isArray(propValue)){var locationName=ReactPropTypeLocationNames[location];var propType=getPropType(propValue);return new Error(("Invalid "+locationName+" `"+propName+"` of type ")+
("`"+propType+"` supplied to `"+componentName+"`, expected an array."));}
for(var i=0;i<propValue.length;i++){var error=typeChecker(propValue,i,componentName,location);if(error instanceof Error){return error;}}}
return createChainableTypeChecker(validate);}
function createElementTypeChecker(){function validate(props,propName,componentName,location){if(!ReactElement.isValidElement(props[propName])){var locationName=ReactPropTypeLocationNames[location];return new Error(("Invalid "+locationName+" `"+propName+"` supplied to ")+
("`"+componentName+"`, expected a ReactElement."));}}
return createChainableTypeChecker(validate);}
function createInstanceTypeChecker(expectedClass){function validate(props,propName,componentName,location){if(!(props[propName]instanceof expectedClass)){var locationName=ReactPropTypeLocationNames[location];var expectedClassName=expectedClass.name||ANONYMOUS;return new Error(("Invalid "+locationName+" `"+propName+"` supplied to ")+
("`"+componentName+"`, expected instance of `"+expectedClassName+"`."));}}
return createChainableTypeChecker(validate);}
function createEnumTypeChecker(expectedValues){function validate(props,propName,componentName,location){var propValue=props[propName];for(var i=0;i<expectedValues.length;i++){if(propValue===expectedValues[i]){return;}}
var locationName=ReactPropTypeLocationNames[location];var valuesString=JSON.stringify(expectedValues);return new Error(("Invalid "+locationName+" `"+propName+"` of value `"+propValue+"` ")+
("supplied to `"+componentName+"`, expected one of "+valuesString+"."));}
return createChainableTypeChecker(validate);}
function createObjectOfTypeChecker(typeChecker){function validate(props,propName,componentName,location){var propValue=props[propName];var propType=getPropType(propValue);if(propType!=='object'){var locationName=ReactPropTypeLocationNames[location];return new Error(("Invalid "+locationName+" `"+propName+"` of type ")+
("`"+propType+"` supplied to `"+componentName+"`, expected an object."));}
for(var key in propValue){if(propValue.hasOwnProperty(key)){var error=typeChecker(propValue,key,componentName,location);if(error instanceof Error){return error;}}}}
return createChainableTypeChecker(validate);}
function createUnionTypeChecker(arrayOfTypeCheckers){function validate(props,propName,componentName,location){for(var i=0;i<arrayOfTypeCheckers.length;i++){var checker=arrayOfTypeCheckers[i];if(checker(props,propName,componentName,location)==null){return;}}
var locationName=ReactPropTypeLocationNames[location];return new Error(("Invalid "+locationName+" `"+propName+"` supplied to ")+
("`"+componentName+"`."));}
return createChainableTypeChecker(validate);}
function createNodeChecker(){function validate(props,propName,componentName,location){if(!isNode(props[propName])){var locationName=ReactPropTypeLocationNames[location];return new Error(("Invalid "+locationName+" `"+propName+"` supplied to ")+
("`"+componentName+"`, expected a ReactNode."));}}
return createChainableTypeChecker(validate);}
function createShapeTypeChecker(shapeTypes){function validate(props,propName,componentName,location){var propValue=props[propName];var propType=getPropType(propValue);if(propType!=='object'){var locationName=ReactPropTypeLocationNames[location];return new Error(("Invalid "+locationName+" `"+propName+"` of type `"+propType+"` ")+
("supplied to `"+componentName+"`, expected `object`."));}
for(var key in shapeTypes){var checker=shapeTypes[key];if(!checker){continue;}
var error=checker(propValue,key,componentName,location);if(error){return error;}}}
return createChainableTypeChecker(validate,'expected `object`');}
function isNode(propValue){switch(typeof propValue){case'number':case'string':return true;case'boolean':return!propValue;case'object':if(Array.isArray(propValue)){return propValue.every(isNode);}
if(ReactElement.isValidElement(propValue)){return true;}
for(var k in propValue){if(!isNode(propValue[k])){return false;}}
return true;default:return false;}}
function getPropType(propValue){var propType=typeof propValue;if(Array.isArray(propValue)){return'array';}
if(propValue instanceof RegExp){return'object';}
return propType;}
function getPreciseType(propValue){var propType=getPropType(propValue);if(propType==='object'){if(propValue instanceof Date){return'date';}else if(propValue instanceof RegExp){return'regexp';}}
return propType;}
module.exports=ReactPropTypes;},{"./ReactElement":52,"./ReactPropTypeLocationNames":70,"./deprecated":106,"./emptyFunction":107}],73:[function(_dereq_,module,exports){"use strict";var PooledClass=_dereq_("./PooledClass");var ReactBrowserEventEmitter=_dereq_("./ReactBrowserEventEmitter");var assign=_dereq_("./Object.assign");function ReactPutListenerQueue(){this.listenersToPut=[];}
assign(ReactPutListenerQueue.prototype,{enqueuePutListener:function(rootNodeID,propKey,propValue){this.listenersToPut.push({rootNodeID:rootNodeID,propKey:propKey,propValue:propValue});},putListeners:function(){for(var i=0;i<this.listenersToPut.length;i++){var listenerToPut=this.listenersToPut[i];ReactBrowserEventEmitter.putListener(listenerToPut.rootNodeID,listenerToPut.propKey,listenerToPut.propValue);}},reset:function(){this.listenersToPut.length=0;},destructor:function(){this.reset();}});PooledClass.addPoolingTo(ReactPutListenerQueue);module.exports=ReactPutListenerQueue;},{"./Object.assign":27,"./PooledClass":28,"./ReactBrowserEventEmitter":30}],74:[function(_dereq_,module,exports){"use strict";var CallbackQueue=_dereq_("./CallbackQueue");var PooledClass=_dereq_("./PooledClass");var ReactBrowserEventEmitter=_dereq_("./ReactBrowserEventEmitter");var ReactInputSelection=_dereq_("./ReactInputSelection");var ReactPutListenerQueue=_dereq_("./ReactPutListenerQueue");var Transaction=_dereq_("./Transaction");var assign=_dereq_("./Object.assign");var SELECTION_RESTORATION={initialize:ReactInputSelection.getSelectionInformation,close:ReactInputSelection.restoreSelection};var EVENT_SUPPRESSION={initialize:function(){var currentlyEnabled=ReactBrowserEventEmitter.isEnabled();ReactBrowserEventEmitter.setEnabled(false);return currentlyEnabled;},close:function(previouslyEnabled){ReactBrowserEventEmitter.setEnabled(previouslyEnabled);}};var ON_DOM_READY_QUEUEING={initialize:function(){this.reactMountReady.reset();},close:function(){this.reactMountReady.notifyAll();}};var PUT_LISTENER_QUEUEING={initialize:function(){this.putListenerQueue.reset();},close:function(){this.putListenerQueue.putListeners();}};var TRANSACTION_WRAPPERS=[PUT_LISTENER_QUEUEING,SELECTION_RESTORATION,EVENT_SUPPRESSION,ON_DOM_READY_QUEUEING];function ReactReconcileTransaction(){this.reinitializeTransaction();this.renderToStaticMarkup=false;this.reactMountReady=CallbackQueue.getPooled(null);this.putListenerQueue=ReactPutListenerQueue.getPooled();}
var Mixin={getTransactionWrappers:function(){return TRANSACTION_WRAPPERS;},getReactMountReady:function(){return this.reactMountReady;},getPutListenerQueue:function(){return this.putListenerQueue;},destructor:function(){CallbackQueue.release(this.reactMountReady);this.reactMountReady=null;ReactPutListenerQueue.release(this.putListenerQueue);this.putListenerQueue=null;}};assign(ReactReconcileTransaction.prototype,Transaction.Mixin,Mixin);PooledClass.addPoolingTo(ReactReconcileTransaction);module.exports=ReactReconcileTransaction;},{"./CallbackQueue":6,"./Object.assign":27,"./PooledClass":28,"./ReactBrowserEventEmitter":30,"./ReactInputSelection":59,"./ReactPutListenerQueue":73,"./Transaction":95}],75:[function(_dereq_,module,exports){"use strict";var ReactRootIndexInjection={injectCreateReactRootIndex:function(_createReactRootIndex){ReactRootIndex.createReactRootIndex=_createReactRootIndex;}};var ReactRootIndex={createReactRootIndex:null,injection:ReactRootIndexInjection};module.exports=ReactRootIndex;},{}],76:[function(_dereq_,module,exports){"use strict";var ReactElement=_dereq_("./ReactElement");var ReactInstanceHandles=_dereq_("./ReactInstanceHandles");var ReactMarkupChecksum=_dereq_("./ReactMarkupChecksum");var ReactServerRenderingTransaction=_dereq_("./ReactServerRenderingTransaction");var instantiateReactComponent=_dereq_("./instantiateReactComponent");var invariant=_dereq_("./invariant");function renderToString(element){("production"!=="development"?invariant(ReactElement.isValidElement(element),'renderToString(): You must pass a valid ReactElement.'):invariant(ReactElement.isValidElement(element)));var transaction;try{var id=ReactInstanceHandles.createReactRootID();transaction=ReactServerRenderingTransaction.getPooled(false);return transaction.perform(function(){var componentInstance=instantiateReactComponent(element,null);var markup=componentInstance.mountComponent(id,transaction,0);return ReactMarkupChecksum.addChecksumToMarkup(markup);},null);}finally{ReactServerRenderingTransaction.release(transaction);}}
function renderToStaticMarkup(element){("production"!=="development"?invariant(ReactElement.isValidElement(element),'renderToStaticMarkup(): You must pass a valid ReactElement.'):invariant(ReactElement.isValidElement(element)));var transaction;try{var id=ReactInstanceHandles.createReactRootID();transaction=ReactServerRenderingTransaction.getPooled(true);return transaction.perform(function(){var componentInstance=instantiateReactComponent(element,null);return componentInstance.mountComponent(id,transaction,0);},null);}finally{ReactServerRenderingTransaction.release(transaction);}}
module.exports={renderToString:renderToString,renderToStaticMarkup:renderToStaticMarkup};},{"./ReactElement":52,"./ReactInstanceHandles":60,"./ReactMarkupChecksum":62,"./ReactServerRenderingTransaction":77,"./instantiateReactComponent":125,"./invariant":126}],77:[function(_dereq_,module,exports){"use strict";var PooledClass=_dereq_("./PooledClass");var CallbackQueue=_dereq_("./CallbackQueue");var ReactPutListenerQueue=_dereq_("./ReactPutListenerQueue");var Transaction=_dereq_("./Transaction");var assign=_dereq_("./Object.assign");var emptyFunction=_dereq_("./emptyFunction");var ON_DOM_READY_QUEUEING={initialize:function(){this.reactMountReady.reset();},close:emptyFunction};var PUT_LISTENER_QUEUEING={initialize:function(){this.putListenerQueue.reset();},close:emptyFunction};var TRANSACTION_WRAPPERS=[PUT_LISTENER_QUEUEING,ON_DOM_READY_QUEUEING];function ReactServerRenderingTransaction(renderToStaticMarkup){this.reinitializeTransaction();this.renderToStaticMarkup=renderToStaticMarkup;this.reactMountReady=CallbackQueue.getPooled(null);this.putListenerQueue=ReactPutListenerQueue.getPooled();}
var Mixin={getTransactionWrappers:function(){return TRANSACTION_WRAPPERS;},getReactMountReady:function(){return this.reactMountReady;},getPutListenerQueue:function(){return this.putListenerQueue;},destructor:function(){CallbackQueue.release(this.reactMountReady);this.reactMountReady=null;ReactPutListenerQueue.release(this.putListenerQueue);this.putListenerQueue=null;}};assign(ReactServerRenderingTransaction.prototype,Transaction.Mixin,Mixin);PooledClass.addPoolingTo(ReactServerRenderingTransaction);module.exports=ReactServerRenderingTransaction;},{"./CallbackQueue":6,"./Object.assign":27,"./PooledClass":28,"./ReactPutListenerQueue":73,"./Transaction":95,"./emptyFunction":107}],78:[function(_dereq_,module,exports){"use strict";var DOMPropertyOperations=_dereq_("./DOMPropertyOperations");var ReactComponent=_dereq_("./ReactComponent");var ReactElement=_dereq_("./ReactElement");var assign=_dereq_("./Object.assign");var escapeTextForBrowser=_dereq_("./escapeTextForBrowser");var ReactTextComponent=function(props){};assign(ReactTextComponent.prototype,ReactComponent.Mixin,{mountComponent:function(rootID,transaction,mountDepth){ReactComponent.Mixin.mountComponent.call(this,rootID,transaction,mountDepth);var escapedText=escapeTextForBrowser(this.props);if(transaction.renderToStaticMarkup){return escapedText;}
return('<span '+DOMPropertyOperations.createMarkupForID(rootID)+'>'+
escapedText+'</span>');},receiveComponent:function(nextComponent,transaction){var nextProps=nextComponent.props;if(nextProps!==this.props){this.props=nextProps;ReactComponent.BackendIDOperations.updateTextContentByID(this._rootNodeID,nextProps);}}});var ReactTextComponentFactory=function(text){return new ReactElement(ReactTextComponent,null,null,null,null,text);};ReactTextComponentFactory.type=ReactTextComponent;module.exports=ReactTextComponentFactory;},{"./DOMPropertyOperations":12,"./Object.assign":27,"./ReactComponent":32,"./ReactElement":52,"./escapeTextForBrowser":109}],79:[function(_dereq_,module,exports){"use strict";var CallbackQueue=_dereq_("./CallbackQueue");var PooledClass=_dereq_("./PooledClass");var ReactCurrentOwner=_dereq_("./ReactCurrentOwner");var ReactPerf=_dereq_("./ReactPerf");var Transaction=_dereq_("./Transaction");var assign=_dereq_("./Object.assign");var invariant=_dereq_("./invariant");var warning=_dereq_("./warning");var dirtyComponents=[];var asapCallbackQueue=CallbackQueue.getPooled();var asapEnqueued=false;var batchingStrategy=null;function ensureInjected(){("production"!=="development"?invariant(ReactUpdates.ReactReconcileTransaction&&batchingStrategy,'ReactUpdates: must inject a reconcile transaction class and batching '+'strategy'):invariant(ReactUpdates.ReactReconcileTransaction&&batchingStrategy));}
var NESTED_UPDATES={initialize:function(){this.dirtyComponentsLength=dirtyComponents.length;},close:function(){if(this.dirtyComponentsLength!==dirtyComponents.length){dirtyComponents.splice(0,this.dirtyComponentsLength);flushBatchedUpdates();}else{dirtyComponents.length=0;}}};var UPDATE_QUEUEING={initialize:function(){this.callbackQueue.reset();},close:function(){this.callbackQueue.notifyAll();}};var TRANSACTION_WRAPPERS=[NESTED_UPDATES,UPDATE_QUEUEING];function ReactUpdatesFlushTransaction(){this.reinitializeTransaction();this.dirtyComponentsLength=null;this.callbackQueue=CallbackQueue.getPooled();this.reconcileTransaction=ReactUpdates.ReactReconcileTransaction.getPooled();}
assign(ReactUpdatesFlushTransaction.prototype,Transaction.Mixin,{getTransactionWrappers:function(){return TRANSACTION_WRAPPERS;},destructor:function(){this.dirtyComponentsLength=null;CallbackQueue.release(this.callbackQueue);this.callbackQueue=null;ReactUpdates.ReactReconcileTransaction.release(this.reconcileTransaction);this.reconcileTransaction=null;},perform:function(method,scope,a){return Transaction.Mixin.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,method,scope,a);}});PooledClass.addPoolingTo(ReactUpdatesFlushTransaction);function batchedUpdates(callback,a,b){ensureInjected();batchingStrategy.batchedUpdates(callback,a,b);}
function mountDepthComparator(c1,c2){return c1._mountDepth-c2._mountDepth;}
function runBatchedUpdates(transaction){var len=transaction.dirtyComponentsLength;("production"!=="development"?invariant(len===dirtyComponents.length,'Expected flush transaction\'s stored dirty-components length (%s) to '+'match dirty-components array length (%s).',len,dirtyComponents.length):invariant(len===dirtyComponents.length));dirtyComponents.sort(mountDepthComparator);for(var i=0;i<len;i++){var component=dirtyComponents[i];if(component.isMounted()){var callbacks=component._pendingCallbacks;component._pendingCallbacks=null;component.performUpdateIfNecessary(transaction.reconcileTransaction);if(callbacks){for(var j=0;j<callbacks.length;j++){transaction.callbackQueue.enqueue(callbacks[j],component);}}}}}
var flushBatchedUpdates=ReactPerf.measure('ReactUpdates','flushBatchedUpdates',function(){while(dirtyComponents.length||asapEnqueued){if(dirtyComponents.length){var transaction=ReactUpdatesFlushTransaction.getPooled();transaction.perform(runBatchedUpdates,null,transaction);ReactUpdatesFlushTransaction.release(transaction);}
if(asapEnqueued){asapEnqueued=false;var queue=asapCallbackQueue;asapCallbackQueue=CallbackQueue.getPooled();queue.notifyAll();CallbackQueue.release(queue);}}});function enqueueUpdate(component,callback){("production"!=="development"?invariant(!callback||typeof callback==="function",'enqueueUpdate(...): You called `setProps`, `replaceProps`, '+'`setState`, `replaceState`, or `forceUpdate` with a callback that '+'isn\'t callable.'):invariant(!callback||typeof callback==="function"));ensureInjected();("production"!=="development"?warning(ReactCurrentOwner.current==null,'enqueueUpdate(): Render methods should be a pure function of props '+'and state; triggering nested component updates from render is not '+'allowed. If necessary, trigger nested updates in '+'componentDidUpdate.'):null);if(!batchingStrategy.isBatchingUpdates){batchingStrategy.batchedUpdates(enqueueUpdate,component,callback);return;}
dirtyComponents.push(component);if(callback){if(component._pendingCallbacks){component._pendingCallbacks.push(callback);}else{component._pendingCallbacks=[callback];}}}
function asap(callback,context){("production"!=="development"?invariant(batchingStrategy.isBatchingUpdates,'ReactUpdates.asap: Can\'t enqueue an asap callback in a context where'+'updates are not being batched.'):invariant(batchingStrategy.isBatchingUpdates));asapCallbackQueue.enqueue(callback,context);asapEnqueued=true;}
var ReactUpdatesInjection={injectReconcileTransaction:function(ReconcileTransaction){("production"!=="development"?invariant(ReconcileTransaction,'ReactUpdates: must provide a reconcile transaction class'):invariant(ReconcileTransaction));ReactUpdates.ReactReconcileTransaction=ReconcileTransaction;},injectBatchingStrategy:function(_batchingStrategy){("production"!=="development"?invariant(_batchingStrategy,'ReactUpdates: must provide a batching strategy'):invariant(_batchingStrategy));("production"!=="development"?invariant(typeof _batchingStrategy.batchedUpdates==='function','ReactUpdates: must provide a batchedUpdates() function'):invariant(typeof _batchingStrategy.batchedUpdates==='function'));("production"!=="development"?invariant(typeof _batchingStrategy.isBatchingUpdates==='boolean','ReactUpdates: must provide an isBatchingUpdates boolean attribute'):invariant(typeof _batchingStrategy.isBatchingUpdates==='boolean'));batchingStrategy=_batchingStrategy;}};var ReactUpdates={ReactReconcileTransaction:null,batchedUpdates:batchedUpdates,enqueueUpdate:enqueueUpdate,flushBatchedUpdates:flushBatchedUpdates,injection:ReactUpdatesInjection,asap:asap};module.exports=ReactUpdates;},{"./CallbackQueue":6,"./Object.assign":27,"./PooledClass":28,"./ReactCurrentOwner":36,"./ReactPerf":68,"./Transaction":95,"./invariant":126,"./warning":145}],80:[function(_dereq_,module,exports){"use strict";var DOMProperty=_dereq_("./DOMProperty");var MUST_USE_ATTRIBUTE=DOMProperty.injection.MUST_USE_ATTRIBUTE;var SVGDOMPropertyConfig={Properties:{cx:MUST_USE_ATTRIBUTE,cy:MUST_USE_ATTRIBUTE,d:MUST_USE_ATTRIBUTE,dx:MUST_USE_ATTRIBUTE,dy:MUST_USE_ATTRIBUTE,fill:MUST_USE_ATTRIBUTE,fillOpacity:MUST_USE_ATTRIBUTE,fontFamily:MUST_USE_ATTRIBUTE,fontSize:MUST_USE_ATTRIBUTE,fx:MUST_USE_ATTRIBUTE,fy:MUST_USE_ATTRIBUTE,gradientTransform:MUST_USE_ATTRIBUTE,gradientUnits:MUST_USE_ATTRIBUTE,markerEnd:MUST_USE_ATTRIBUTE,markerMid:MUST_USE_ATTRIBUTE,markerStart:MUST_USE_ATTRIBUTE,offset:MUST_USE_ATTRIBUTE,opacity:MUST_USE_ATTRIBUTE,patternContentUnits:MUST_USE_ATTRIBUTE,patternUnits:MUST_USE_ATTRIBUTE,points:MUST_USE_ATTRIBUTE,preserveAspectRatio:MUST_USE_ATTRIBUTE,r:MUST_USE_ATTRIBUTE,rx:MUST_USE_ATTRIBUTE,ry:MUST_USE_ATTRIBUTE,spreadMethod:MUST_USE_ATTRIBUTE,stopColor:MUST_USE_ATTRIBUTE,stopOpacity:MUST_USE_ATTRIBUTE,stroke:MUST_USE_ATTRIBUTE,strokeDasharray:MUST_USE_ATTRIBUTE,strokeLinecap:MUST_USE_ATTRIBUTE,strokeOpacity:MUST_USE_ATTRIBUTE,strokeWidth:MUST_USE_ATTRIBUTE,textAnchor:MUST_USE_ATTRIBUTE,transform:MUST_USE_ATTRIBUTE,version:MUST_USE_ATTRIBUTE,viewBox:MUST_USE_ATTRIBUTE,x1:MUST_USE_ATTRIBUTE,x2:MUST_USE_ATTRIBUTE,x:MUST_USE_ATTRIBUTE,y1:MUST_USE_ATTRIBUTE,y2:MUST_USE_ATTRIBUTE,y:MUST_USE_ATTRIBUTE},DOMAttributeNames:{fillOpacity:'fill-opacity',fontFamily:'font-family',fontSize:'font-size',gradientTransform:'gradientTransform',gradientUnits:'gradientUnits',markerEnd:'marker-end',markerMid:'marker-mid',markerStart:'marker-start',patternContentUnits:'patternContentUnits',patternUnits:'patternUnits',preserveAspectRatio:'preserveAspectRatio',spreadMethod:'spreadMethod',stopColor:'stop-color',stopOpacity:'stop-opacity',strokeDasharray:'stroke-dasharray',strokeLinecap:'stroke-linecap',strokeOpacity:'stroke-opacity',strokeWidth:'stroke-width',textAnchor:'text-anchor',viewBox:'viewBox'}};module.exports=SVGDOMPropertyConfig;},{"./DOMProperty":11}],81:[function(_dereq_,module,exports){"use strict";var EventConstants=_dereq_("./EventConstants");var EventPropagators=_dereq_("./EventPropagators");var ReactInputSelection=_dereq_("./ReactInputSelection");var SyntheticEvent=_dereq_("./SyntheticEvent");var getActiveElement=_dereq_("./getActiveElement");var isTextInputElement=_dereq_("./isTextInputElement");var keyOf=_dereq_("./keyOf");var shallowEqual=_dereq_("./shallowEqual");var topLevelTypes=EventConstants.topLevelTypes;var eventTypes={select:{phasedRegistrationNames:{bubbled:keyOf({onSelect:null}),captured:keyOf({onSelectCapture:null})},dependencies:[topLevelTypes.topBlur,topLevelTypes.topContextMenu,topLevelTypes.topFocus,topLevelTypes.topKeyDown,topLevelTypes.topMouseDown,topLevelTypes.topMouseUp,topLevelTypes.topSelectionChange]}};var activeElement=null;var activeElementID=null;var lastSelection=null;var mouseDown=false;function getSelection(node){if('selectionStart'in node&&ReactInputSelection.hasSelectionCapabilities(node)){return{start:node.selectionStart,end:node.selectionEnd};}else if(window.getSelection){var selection=window.getSelection();return{anchorNode:selection.anchorNode,anchorOffset:selection.anchorOffset,focusNode:selection.focusNode,focusOffset:selection.focusOffset};}else if(document.selection){var range=document.selection.createRange();return{parentElement:range.parentElement(),text:range.text,top:range.boundingTop,left:range.boundingLeft};}}
function constructSelectEvent(nativeEvent){if(mouseDown||activeElement==null||activeElement!=getActiveElement()){return;}
var currentSelection=getSelection(activeElement);if(!lastSelection||!shallowEqual(lastSelection,currentSelection)){lastSelection=currentSelection;var syntheticEvent=SyntheticEvent.getPooled(eventTypes.select,activeElementID,nativeEvent);syntheticEvent.type='select';syntheticEvent.target=activeElement;EventPropagators.accumulateTwoPhaseDispatches(syntheticEvent);return syntheticEvent;}}
var SelectEventPlugin={eventTypes:eventTypes,extractEvents:function(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent){switch(topLevelType){case topLevelTypes.topFocus:if(isTextInputElement(topLevelTarget)||topLevelTarget.contentEditable==='true'){activeElement=topLevelTarget;activeElementID=topLevelTargetID;lastSelection=null;}
break;case topLevelTypes.topBlur:activeElement=null;activeElementID=null;lastSelection=null;break;case topLevelTypes.topMouseDown:mouseDown=true;break;case topLevelTypes.topContextMenu:case topLevelTypes.topMouseUp:mouseDown=false;return constructSelectEvent(nativeEvent);case topLevelTypes.topSelectionChange:case topLevelTypes.topKeyDown:case topLevelTypes.topKeyUp:return constructSelectEvent(nativeEvent);}}};module.exports=SelectEventPlugin;},{"./EventConstants":16,"./EventPropagators":21,"./ReactInputSelection":59,"./SyntheticEvent":87,"./getActiveElement":113,"./isTextInputElement":129,"./keyOf":133,"./shallowEqual":141}],82:[function(_dereq_,module,exports){"use strict";var GLOBAL_MOUNT_POINT_MAX=Math.pow(2,53);var ServerReactRootIndex={createReactRootIndex:function(){return Math.ceil(Math.random()*GLOBAL_MOUNT_POINT_MAX);}};module.exports=ServerReactRootIndex;},{}],83:[function(_dereq_,module,exports){"use strict";var EventConstants=_dereq_("./EventConstants");var EventPluginUtils=_dereq_("./EventPluginUtils");var EventPropagators=_dereq_("./EventPropagators");var SyntheticClipboardEvent=_dereq_("./SyntheticClipboardEvent");var SyntheticEvent=_dereq_("./SyntheticEvent");var SyntheticFocusEvent=_dereq_("./SyntheticFocusEvent");var SyntheticKeyboardEvent=_dereq_("./SyntheticKeyboardEvent");var SyntheticMouseEvent=_dereq_("./SyntheticMouseEvent");var SyntheticDragEvent=_dereq_("./SyntheticDragEvent");var SyntheticTouchEvent=_dereq_("./SyntheticTouchEvent");var SyntheticUIEvent=_dereq_("./SyntheticUIEvent");var SyntheticWheelEvent=_dereq_("./SyntheticWheelEvent");var getEventCharCode=_dereq_("./getEventCharCode");var invariant=_dereq_("./invariant");var keyOf=_dereq_("./keyOf");var warning=_dereq_("./warning");var topLevelTypes=EventConstants.topLevelTypes;var eventTypes={blur:{phasedRegistrationNames:{bubbled:keyOf({onBlur:true}),captured:keyOf({onBlurCapture:true})}},click:{phasedRegistrationNames:{bubbled:keyOf({onClick:true}),captured:keyOf({onClickCapture:true})}},contextMenu:{phasedRegistrationNames:{bubbled:keyOf({onContextMenu:true}),captured:keyOf({onContextMenuCapture:true})}},copy:{phasedRegistrationNames:{bubbled:keyOf({onCopy:true}),captured:keyOf({onCopyCapture:true})}},cut:{phasedRegistrationNames:{bubbled:keyOf({onCut:true}),captured:keyOf({onCutCapture:true})}},doubleClick:{phasedRegistrationNames:{bubbled:keyOf({onDoubleClick:true}),captured:keyOf({onDoubleClickCapture:true})}},drag:{phasedRegistrationNames:{bubbled:keyOf({onDrag:true}),captured:keyOf({onDragCapture:true})}},dragEnd:{phasedRegistrationNames:{bubbled:keyOf({onDragEnd:true}),captured:keyOf({onDragEndCapture:true})}},dragEnter:{phasedRegistrationNames:{bubbled:keyOf({onDragEnter:true}),captured:keyOf({onDragEnterCapture:true})}},dragExit:{phasedRegistrationNames:{bubbled:keyOf({onDragExit:true}),captured:keyOf({onDragExitCapture:true})}},dragLeave:{phasedRegistrationNames:{bubbled:keyOf({onDragLeave:true}),captured:keyOf({onDragLeaveCapture:true})}},dragOver:{phasedRegistrationNames:{bubbled:keyOf({onDragOver:true}),captured:keyOf({onDragOverCapture:true})}},dragStart:{phasedRegistrationNames:{bubbled:keyOf({onDragStart:true}),captured:keyOf({onDragStartCapture:true})}},drop:{phasedRegistrationNames:{bubbled:keyOf({onDrop:true}),captured:keyOf({onDropCapture:true})}},focus:{phasedRegistrationNames:{bubbled:keyOf({onFocus:true}),captured:keyOf({onFocusCapture:true})}},input:{phasedRegistrationNames:{bubbled:keyOf({onInput:true}),captured:keyOf({onInputCapture:true})}},keyDown:{phasedRegistrationNames:{bubbled:keyOf({onKeyDown:true}),captured:keyOf({onKeyDownCapture:true})}},keyPress:{phasedRegistrationNames:{bubbled:keyOf({onKeyPress:true}),captured:keyOf({onKeyPressCapture:true})}},keyUp:{phasedRegistrationNames:{bubbled:keyOf({onKeyUp:true}),captured:keyOf({onKeyUpCapture:true})}},load:{phasedRegistrationNames:{bubbled:keyOf({onLoad:true}),captured:keyOf({onLoadCapture:true})}},error:{phasedRegistrationNames:{bubbled:keyOf({onError:true}),captured:keyOf({onErrorCapture:true})}},mouseDown:{phasedRegistrationNames:{bubbled:keyOf({onMouseDown:true}),captured:keyOf({onMouseDownCapture:true})}},mouseMove:{phasedRegistrationNames:{bubbled:keyOf({onMouseMove:true}),captured:keyOf({onMouseMoveCapture:true})}},mouseOut:{phasedRegistrationNames:{bubbled:keyOf({onMouseOut:true}),captured:keyOf({onMouseOutCapture:true})}},mouseOver:{phasedRegistrationNames:{bubbled:keyOf({onMouseOver:true}),captured:keyOf({onMouseOverCapture:true})}},mouseUp:{phasedRegistrationNames:{bubbled:keyOf({onMouseUp:true}),captured:keyOf({onMouseUpCapture:true})}},paste:{phasedRegistrationNames:{bubbled:keyOf({onPaste:true}),captured:keyOf({onPasteCapture:true})}},reset:{phasedRegistrationNames:{bubbled:keyOf({onReset:true}),captured:keyOf({onResetCapture:true})}},scroll:{phasedRegistrationNames:{bubbled:keyOf({onScroll:true}),captured:keyOf({onScrollCapture:true})}},submit:{phasedRegistrationNames:{bubbled:keyOf({onSubmit:true}),captured:keyOf({onSubmitCapture:true})}},touchCancel:{phasedRegistrationNames:{bubbled:keyOf({onTouchCancel:true}),captured:keyOf({onTouchCancelCapture:true})}},touchEnd:{phasedRegistrationNames:{bubbled:keyOf({onTouchEnd:true}),captured:keyOf({onTouchEndCapture:true})}},touchMove:{phasedRegistrationNames:{bubbled:keyOf({onTouchMove:true}),captured:keyOf({onTouchMoveCapture:true})}},touchStart:{phasedRegistrationNames:{bubbled:keyOf({onTouchStart:true}),captured:keyOf({onTouchStartCapture:true})}},wheel:{phasedRegistrationNames:{bubbled:keyOf({onWheel:true}),captured:keyOf({onWheelCapture:true})}}};var topLevelEventsToDispatchConfig={topBlur:eventTypes.blur,topClick:eventTypes.click,topContextMenu:eventTypes.contextMenu,topCopy:eventTypes.copy,topCut:eventTypes.cut,topDoubleClick:eventTypes.doubleClick,topDrag:eventTypes.drag,topDragEnd:eventTypes.dragEnd,topDragEnter:eventTypes.dragEnter,topDragExit:eventTypes.dragExit,topDragLeave:eventTypes.dragLeave,topDragOver:eventTypes.dragOver,topDragStart:eventTypes.dragStart,topDrop:eventTypes.drop,topError:eventTypes.error,topFocus:eventTypes.focus,topInput:eventTypes.input,topKeyDown:eventTypes.keyDown,topKeyPress:eventTypes.keyPress,topKeyUp:eventTypes.keyUp,topLoad:eventTypes.load,topMouseDown:eventTypes.mouseDown,topMouseMove:eventTypes.mouseMove,topMouseOut:eventTypes.mouseOut,topMouseOver:eventTypes.mouseOver,topMouseUp:eventTypes.mouseUp,topPaste:eventTypes.paste,topReset:eventTypes.reset,topScroll:eventTypes.scroll,topSubmit:eventTypes.submit,topTouchCancel:eventTypes.touchCancel,topTouchEnd:eventTypes.touchEnd,topTouchMove:eventTypes.touchMove,topTouchStart:eventTypes.touchStart,topWheel:eventTypes.wheel};for(var topLevelType in topLevelEventsToDispatchConfig){topLevelEventsToDispatchConfig[topLevelType].dependencies=[topLevelType];}
var SimpleEventPlugin={eventTypes:eventTypes,executeDispatch:function(event,listener,domID){var returnValue=EventPluginUtils.executeDispatch(event,listener,domID);("production"!=="development"?warning(typeof returnValue!=='boolean','Returning `false` from an event handler is deprecated and will be '+'ignored in a future release. Instead, manually call '+'e.stopPropagation() or e.preventDefault(), as appropriate.'):null);if(returnValue===false){event.stopPropagation();event.preventDefault();}},extractEvents:function(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent){var dispatchConfig=topLevelEventsToDispatchConfig[topLevelType];if(!dispatchConfig){return null;}
var EventConstructor;switch(topLevelType){case topLevelTypes.topInput:case topLevelTypes.topLoad:case topLevelTypes.topError:case topLevelTypes.topReset:case topLevelTypes.topSubmit:EventConstructor=SyntheticEvent;break;case topLevelTypes.topKeyPress:if(getEventCharCode(nativeEvent)===0){return null;}
case topLevelTypes.topKeyDown:case topLevelTypes.topKeyUp:EventConstructor=SyntheticKeyboardEvent;break;case topLevelTypes.topBlur:case topLevelTypes.topFocus:EventConstructor=SyntheticFocusEvent;break;case topLevelTypes.topClick:if(nativeEvent.button===2){return null;}
case topLevelTypes.topContextMenu:case topLevelTypes.topDoubleClick:case topLevelTypes.topMouseDown:case topLevelTypes.topMouseMove:case topLevelTypes.topMouseOut:case topLevelTypes.topMouseOver:case topLevelTypes.topMouseUp:EventConstructor=SyntheticMouseEvent;break;case topLevelTypes.topDrag:case topLevelTypes.topDragEnd:case topLevelTypes.topDragEnter:case topLevelTypes.topDragExit:case topLevelTypes.topDragLeave:case topLevelTypes.topDragOver:case topLevelTypes.topDragStart:case topLevelTypes.topDrop:EventConstructor=SyntheticDragEvent;break;case topLevelTypes.topTouchCancel:case topLevelTypes.topTouchEnd:case topLevelTypes.topTouchMove:case topLevelTypes.topTouchStart:EventConstructor=SyntheticTouchEvent;break;case topLevelTypes.topScroll:EventConstructor=SyntheticUIEvent;break;case topLevelTypes.topWheel:EventConstructor=SyntheticWheelEvent;break;case topLevelTypes.topCopy:case topLevelTypes.topCut:case topLevelTypes.topPaste:EventConstructor=SyntheticClipboardEvent;break;}
("production"!=="development"?invariant(EventConstructor,'SimpleEventPlugin: Unhandled event type, `%s`.',topLevelType):invariant(EventConstructor));var event=EventConstructor.getPooled(dispatchConfig,topLevelTargetID,nativeEvent);EventPropagators.accumulateTwoPhaseDispatches(event);return event;}};module.exports=SimpleEventPlugin;},{"./EventConstants":16,"./EventPluginUtils":20,"./EventPropagators":21,"./SyntheticClipboardEvent":84,"./SyntheticDragEvent":86,"./SyntheticEvent":87,"./SyntheticFocusEvent":88,"./SyntheticKeyboardEvent":90,"./SyntheticMouseEvent":91,"./SyntheticTouchEvent":92,"./SyntheticUIEvent":93,"./SyntheticWheelEvent":94,"./getEventCharCode":114,"./invariant":126,"./keyOf":133,"./warning":145}],84:[function(_dereq_,module,exports){"use strict";var SyntheticEvent=_dereq_("./SyntheticEvent");var ClipboardEventInterface={clipboardData:function(event){return('clipboardData'in event?event.clipboardData:window.clipboardData);}};function SyntheticClipboardEvent(dispatchConfig,dispatchMarker,nativeEvent){SyntheticEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent);}
SyntheticEvent.augmentClass(SyntheticClipboardEvent,ClipboardEventInterface);module.exports=SyntheticClipboardEvent;},{"./SyntheticEvent":87}],85:[function(_dereq_,module,exports){"use strict";var SyntheticEvent=_dereq_("./SyntheticEvent");var CompositionEventInterface={data:null};function SyntheticCompositionEvent(dispatchConfig,dispatchMarker,nativeEvent){SyntheticEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent);}
SyntheticEvent.augmentClass(SyntheticCompositionEvent,CompositionEventInterface);module.exports=SyntheticCompositionEvent;},{"./SyntheticEvent":87}],86:[function(_dereq_,module,exports){"use strict";var SyntheticMouseEvent=_dereq_("./SyntheticMouseEvent");var DragEventInterface={dataTransfer:null};function SyntheticDragEvent(dispatchConfig,dispatchMarker,nativeEvent){SyntheticMouseEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent);}
SyntheticMouseEvent.augmentClass(SyntheticDragEvent,DragEventInterface);module.exports=SyntheticDragEvent;},{"./SyntheticMouseEvent":91}],87:[function(_dereq_,module,exports){"use strict";var PooledClass=_dereq_("./PooledClass");var assign=_dereq_("./Object.assign");var emptyFunction=_dereq_("./emptyFunction");var getEventTarget=_dereq_("./getEventTarget");var EventInterface={type:null,target:getEventTarget,currentTarget:emptyFunction.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(event){return event.timeStamp||Date.now();},defaultPrevented:null,isTrusted:null};function SyntheticEvent(dispatchConfig,dispatchMarker,nativeEvent){this.dispatchConfig=dispatchConfig;this.dispatchMarker=dispatchMarker;this.nativeEvent=nativeEvent;var Interface=this.constructor.Interface;for(var propName in Interface){if(!Interface.hasOwnProperty(propName)){continue;}
var normalize=Interface[propName];if(normalize){this[propName]=normalize(nativeEvent);}else{this[propName]=nativeEvent[propName];}}
var defaultPrevented=nativeEvent.defaultPrevented!=null?nativeEvent.defaultPrevented:nativeEvent.returnValue===false;if(defaultPrevented){this.isDefaultPrevented=emptyFunction.thatReturnsTrue;}else{this.isDefaultPrevented=emptyFunction.thatReturnsFalse;}
this.isPropagationStopped=emptyFunction.thatReturnsFalse;}
assign(SyntheticEvent.prototype,{preventDefault:function(){this.defaultPrevented=true;var event=this.nativeEvent;event.preventDefault?event.preventDefault():event.returnValue=false;this.isDefaultPrevented=emptyFunction.thatReturnsTrue;},stopPropagation:function(){var event=this.nativeEvent;event.stopPropagation?event.stopPropagation():event.cancelBubble=true;this.isPropagationStopped=emptyFunction.thatReturnsTrue;},persist:function(){this.isPersistent=emptyFunction.thatReturnsTrue;},isPersistent:emptyFunction.thatReturnsFalse,destructor:function(){var Interface=this.constructor.Interface;for(var propName in Interface){this[propName]=null;}
this.dispatchConfig=null;this.dispatchMarker=null;this.nativeEvent=null;}});SyntheticEvent.Interface=EventInterface;SyntheticEvent.augmentClass=function(Class,Interface){var Super=this;var prototype=Object.create(Super.prototype);assign(prototype,Class.prototype);Class.prototype=prototype;Class.prototype.constructor=Class;Class.Interface=assign({},Super.Interface,Interface);Class.augmentClass=Super.augmentClass;PooledClass.addPoolingTo(Class,PooledClass.threeArgumentPooler);};PooledClass.addPoolingTo(SyntheticEvent,PooledClass.threeArgumentPooler);module.exports=SyntheticEvent;},{"./Object.assign":27,"./PooledClass":28,"./emptyFunction":107,"./getEventTarget":117}],88:[function(_dereq_,module,exports){"use strict";var SyntheticUIEvent=_dereq_("./SyntheticUIEvent");var FocusEventInterface={relatedTarget:null};function SyntheticFocusEvent(dispatchConfig,dispatchMarker,nativeEvent){SyntheticUIEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent);}
SyntheticUIEvent.augmentClass(SyntheticFocusEvent,FocusEventInterface);module.exports=SyntheticFocusEvent;},{"./SyntheticUIEvent":93}],89:[function(_dereq_,module,exports){"use strict";var SyntheticEvent=_dereq_("./SyntheticEvent");var InputEventInterface={data:null};function SyntheticInputEvent(dispatchConfig,dispatchMarker,nativeEvent){SyntheticEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent);}
SyntheticEvent.augmentClass(SyntheticInputEvent,InputEventInterface);module.exports=SyntheticInputEvent;},{"./SyntheticEvent":87}],90:[function(_dereq_,module,exports){"use strict";var SyntheticUIEvent=_dereq_("./SyntheticUIEvent");var getEventCharCode=_dereq_("./getEventCharCode");var getEventKey=_dereq_("./getEventKey");var getEventModifierState=_dereq_("./getEventModifierState");var KeyboardEventInterface={key:getEventKey,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:getEventModifierState,charCode:function(event){if(event.type==='keypress'){return getEventCharCode(event);}
return 0;},keyCode:function(event){if(event.type==='keydown'||event.type==='keyup'){return event.keyCode;}
return 0;},which:function(event){if(event.type==='keypress'){return getEventCharCode(event);}
if(event.type==='keydown'||event.type==='keyup'){return event.keyCode;}
return 0;}};function SyntheticKeyboardEvent(dispatchConfig,dispatchMarker,nativeEvent){SyntheticUIEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent);}
SyntheticUIEvent.augmentClass(SyntheticKeyboardEvent,KeyboardEventInterface);module.exports=SyntheticKeyboardEvent;},{"./SyntheticUIEvent":93,"./getEventCharCode":114,"./getEventKey":115,"./getEventModifierState":116}],91:[function(_dereq_,module,exports){"use strict";var SyntheticUIEvent=_dereq_("./SyntheticUIEvent");var ViewportMetrics=_dereq_("./ViewportMetrics");var getEventModifierState=_dereq_("./getEventModifierState");var MouseEventInterface={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:getEventModifierState,button:function(event){var button=event.button;if('which'in event){return button;}
return button===2?2:button===4?1:0;},buttons:null,relatedTarget:function(event){return event.relatedTarget||(event.fromElement===event.srcElement?event.toElement:event.fromElement);},pageX:function(event){return'pageX'in event?event.pageX:event.clientX+ViewportMetrics.currentScrollLeft;},pageY:function(event){return'pageY'in event?event.pageY:event.clientY+ViewportMetrics.currentScrollTop;}};function SyntheticMouseEvent(dispatchConfig,dispatchMarker,nativeEvent){SyntheticUIEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent);}
SyntheticUIEvent.augmentClass(SyntheticMouseEvent,MouseEventInterface);module.exports=SyntheticMouseEvent;},{"./SyntheticUIEvent":93,"./ViewportMetrics":96,"./getEventModifierState":116}],92:[function(_dereq_,module,exports){"use strict";var SyntheticUIEvent=_dereq_("./SyntheticUIEvent");var getEventModifierState=_dereq_("./getEventModifierState");var TouchEventInterface={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:getEventModifierState};function SyntheticTouchEvent(dispatchConfig,dispatchMarker,nativeEvent){SyntheticUIEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent);}
SyntheticUIEvent.augmentClass(SyntheticTouchEvent,TouchEventInterface);module.exports=SyntheticTouchEvent;},{"./SyntheticUIEvent":93,"./getEventModifierState":116}],93:[function(_dereq_,module,exports){"use strict";var SyntheticEvent=_dereq_("./SyntheticEvent");var getEventTarget=_dereq_("./getEventTarget");var UIEventInterface={view:function(event){if(event.view){return event.view;}
var target=getEventTarget(event);if(target!=null&&target.window===target){return target;}
var doc=target.ownerDocument;if(doc){return doc.defaultView||doc.parentWindow;}else{return window;}},detail:function(event){return event.detail||0;}};function SyntheticUIEvent(dispatchConfig,dispatchMarker,nativeEvent){SyntheticEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent);}
SyntheticEvent.augmentClass(SyntheticUIEvent,UIEventInterface);module.exports=SyntheticUIEvent;},{"./SyntheticEvent":87,"./getEventTarget":117}],94:[function(_dereq_,module,exports){"use strict";var SyntheticMouseEvent=_dereq_("./SyntheticMouseEvent");var WheelEventInterface={deltaX:function(event){return('deltaX'in event?event.deltaX:'wheelDeltaX'in event?-event.wheelDeltaX:0);},deltaY:function(event){return('deltaY'in event?event.deltaY:'wheelDeltaY'in event?-event.wheelDeltaY:'wheelDelta'in event?-event.wheelDelta:0);},deltaZ:null,deltaMode:null};function SyntheticWheelEvent(dispatchConfig,dispatchMarker,nativeEvent){SyntheticMouseEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent);}
SyntheticMouseEvent.augmentClass(SyntheticWheelEvent,WheelEventInterface);module.exports=SyntheticWheelEvent;},{"./SyntheticMouseEvent":91}],95:[function(_dereq_,module,exports){"use strict";var invariant=_dereq_("./invariant");var Mixin={reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers();if(!this.wrapperInitData){this.wrapperInitData=[];}else{this.wrapperInitData.length=0;}
this._isInTransaction=false;},_isInTransaction:false,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction;},perform:function(method,scope,a,b,c,d,e,f){("production"!=="development"?invariant(!this.isInTransaction(),'Transaction.perform(...): Cannot initialize a transaction when there '+'is already an outstanding transaction.'):invariant(!this.isInTransaction()));var errorThrown;var ret;try{this._isInTransaction=true;errorThrown=true;this.initializeAll(0);ret=method.call(scope,a,b,c,d,e,f);errorThrown=false;}finally{try{if(errorThrown){try{this.closeAll(0);}catch(err){}}else{this.closeAll(0);}}finally{this._isInTransaction=false;}}
return ret;},initializeAll:function(startIndex){var transactionWrappers=this.transactionWrappers;for(var i=startIndex;i<transactionWrappers.length;i++){var wrapper=transactionWrappers[i];try{this.wrapperInitData[i]=Transaction.OBSERVED_ERROR;this.wrapperInitData[i]=wrapper.initialize?wrapper.initialize.call(this):null;}finally{if(this.wrapperInitData[i]===Transaction.OBSERVED_ERROR){try{this.initializeAll(i+1);}catch(err){}}}}},closeAll:function(startIndex){("production"!=="development"?invariant(this.isInTransaction(),'Transaction.closeAll(): Cannot close transaction when none are open.'):invariant(this.isInTransaction()));var transactionWrappers=this.transactionWrappers;for(var i=startIndex;i<transactionWrappers.length;i++){var wrapper=transactionWrappers[i];var initData=this.wrapperInitData[i];var errorThrown;try{errorThrown=true;if(initData!==Transaction.OBSERVED_ERROR){wrapper.close&&wrapper.close.call(this,initData);}
errorThrown=false;}finally{if(errorThrown){try{this.closeAll(i+1);}catch(e){}}}}
this.wrapperInitData.length=0;}};var Transaction={Mixin:Mixin,OBSERVED_ERROR:{}};module.exports=Transaction;},{"./invariant":126}],96:[function(_dereq_,module,exports){"use strict";var getUnboundedScrollPosition=_dereq_("./getUnboundedScrollPosition");var ViewportMetrics={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(){var scrollPosition=getUnboundedScrollPosition(window);ViewportMetrics.currentScrollLeft=scrollPosition.x;ViewportMetrics.currentScrollTop=scrollPosition.y;}};module.exports=ViewportMetrics;},{"./getUnboundedScrollPosition":122}],97:[function(_dereq_,module,exports){"use strict";var invariant=_dereq_("./invariant");function accumulateInto(current,next){("production"!=="development"?invariant(next!=null,'accumulateInto(...): Accumulated items must not be null or undefined.'):invariant(next!=null));if(current==null){return next;}
var currentIsArray=Array.isArray(current);var nextIsArray=Array.isArray(next);if(currentIsArray&&nextIsArray){current.push.apply(current,next);return current;}
if(currentIsArray){current.push(next);return current;}
if(nextIsArray){return[current].concat(next);}
return[current,next];}
module.exports=accumulateInto;},{"./invariant":126}],98:[function(_dereq_,module,exports){"use strict";var MOD=65521;function adler32(data){var a=1;var b=0;for(var i=0;i<data.length;i++){a=(a+data.charCodeAt(i))%MOD;b=(b+a)%MOD;}
return a|(b<<16);}
module.exports=adler32;},{}],99:[function(_dereq_,module,exports){var _hyphenPattern=/-(.)/g;function camelize(string){return string.replace(_hyphenPattern,function(_,character){return character.toUpperCase();});}
module.exports=camelize;},{}],100:[function(_dereq_,module,exports){"use strict";var camelize=_dereq_("./camelize");var msPattern=/^-ms-/;function camelizeStyleName(string){return camelize(string.replace(msPattern,'ms-'));}
module.exports=camelizeStyleName;},{"./camelize":99}],101:[function(_dereq_,module,exports){var isTextNode=_dereq_("./isTextNode");function containsNode(outerNode,innerNode){if(!outerNode||!innerNode){return false;}else if(outerNode===innerNode){return true;}else if(isTextNode(outerNode)){return false;}else if(isTextNode(innerNode)){return containsNode(outerNode,innerNode.parentNode);}else if(outerNode.contains){return outerNode.contains(innerNode);}else if(outerNode.compareDocumentPosition){return!!(outerNode.compareDocumentPosition(innerNode)&16);}else{return false;}}
module.exports=containsNode;},{"./isTextNode":130}],102:[function(_dereq_,module,exports){var toArray=_dereq_("./toArray");function hasArrayNature(obj){return(!!obj&&(typeof obj=='object'||typeof obj=='function')&&('length'in obj)&&!('setInterval'in obj)&&(typeof obj.nodeType!='number')&&(((Array.isArray(obj)||('callee'in obj)||'item'in obj))));}
function createArrayFrom(obj){if(!hasArrayNature(obj)){return[obj];}else if(Array.isArray(obj)){return obj.slice();}else{return toArray(obj);}}
module.exports=createArrayFrom;},{"./toArray":143}],103:[function(_dereq_,module,exports){"use strict";var ReactCompositeComponent=_dereq_("./ReactCompositeComponent");var ReactElement=_dereq_("./ReactElement");var invariant=_dereq_("./invariant");function createFullPageComponent(tag){var elementFactory=ReactElement.createFactory(tag);var FullPageComponent=ReactCompositeComponent.createClass({displayName:'ReactFullPageComponent'+tag,componentWillUnmount:function(){("production"!=="development"?invariant(false,'%s tried to unmount. Because of cross-browser quirks it is '+'impossible to unmount some top-level components (eg <html>, <head>, '+'and <body>) reliably and efficiently. To fix this, have a single '+'top-level component that never unmounts render these elements.',this.constructor.displayName):invariant(false));},render:function(){return elementFactory(this.props);}});return FullPageComponent;}
module.exports=createFullPageComponent;},{"./ReactCompositeComponent":34,"./ReactElement":52,"./invariant":126}],104:[function(_dereq_,module,exports){var ExecutionEnvironment=_dereq_("./ExecutionEnvironment");var createArrayFrom=_dereq_("./createArrayFrom");var getMarkupWrap=_dereq_("./getMarkupWrap");var invariant=_dereq_("./invariant");var dummyNode=ExecutionEnvironment.canUseDOM?document.createElement('div'):null;var nodeNamePattern=/^\s*<(\w+)/;function getNodeName(markup){var nodeNameMatch=markup.match(nodeNamePattern);return nodeNameMatch&&nodeNameMatch[1].toLowerCase();}
function createNodesFromMarkup(markup,handleScript){var node=dummyNode;("production"!=="development"?invariant(!!dummyNode,'createNodesFromMarkup dummy not initialized'):invariant(!!dummyNode));var nodeName=getNodeName(markup);var wrap=nodeName&&getMarkupWrap(nodeName);if(wrap){node.innerHTML=wrap[1]+markup+wrap[2];var wrapDepth=wrap[0];while(wrapDepth--){node=node.lastChild;}}else{node.innerHTML=markup;}
var scripts=node.getElementsByTagName('script');if(scripts.length){("production"!=="development"?invariant(handleScript,'createNodesFromMarkup(...): Unexpected <script> element rendered.'):invariant(handleScript));createArrayFrom(scripts).forEach(handleScript);}
var nodes=createArrayFrom(node.childNodes);while(node.lastChild){node.removeChild(node.lastChild);}
return nodes;}
module.exports=createNodesFromMarkup;},{"./ExecutionEnvironment":22,"./createArrayFrom":102,"./getMarkupWrap":118,"./invariant":126}],105:[function(_dereq_,module,exports){"use strict";var CSSProperty=_dereq_("./CSSProperty");var isUnitlessNumber=CSSProperty.isUnitlessNumber;function dangerousStyleValue(name,value){var isEmpty=value==null||typeof value==='boolean'||value==='';if(isEmpty){return'';}
var isNonNumeric=isNaN(value);if(isNonNumeric||value===0||isUnitlessNumber.hasOwnProperty(name)&&isUnitlessNumber[name]){return''+value;}
if(typeof value==='string'){value=value.trim();}
return value+'px';}
module.exports=dangerousStyleValue;},{"./CSSProperty":4}],106:[function(_dereq_,module,exports){var assign=_dereq_("./Object.assign");var warning=_dereq_("./warning");function deprecated(namespace,oldName,newName,ctx,fn){var warned=false;if("production"!=="development"){var newFn=function(){("production"!=="development"?warning(warned,(namespace+"."+oldName+" will be deprecated in a future version. ")+
("Use "+namespace+"."+newName+" instead.")):null);warned=true;return fn.apply(ctx,arguments);};newFn.displayName=(namespace+"_"+oldName);return assign(newFn,fn);}
return fn;}
module.exports=deprecated;},{"./Object.assign":27,"./warning":145}],107:[function(_dereq_,module,exports){function makeEmptyFunction(arg){return function(){return arg;};}
function emptyFunction(){}
emptyFunction.thatReturns=makeEmptyFunction;emptyFunction.thatReturnsFalse=makeEmptyFunction(false);emptyFunction.thatReturnsTrue=makeEmptyFunction(true);emptyFunction.thatReturnsNull=makeEmptyFunction(null);emptyFunction.thatReturnsThis=function(){return this;};emptyFunction.thatReturnsArgument=function(arg){return arg;};module.exports=emptyFunction;},{}],108:[function(_dereq_,module,exports){"use strict";var emptyObject={};if("production"!=="development"){Object.freeze(emptyObject);}
module.exports=emptyObject;},{}],109:[function(_dereq_,module,exports){"use strict";var ESCAPE_LOOKUP={"&":"&amp;",">":"&gt;","<":"&lt;","\"":"&quot;","'":"&#x27;"};var ESCAPE_REGEX=/[&><"']/g;function escaper(match){return ESCAPE_LOOKUP[match];}
function escapeTextForBrowser(text){return(''+text).replace(ESCAPE_REGEX,escaper);}
module.exports=escapeTextForBrowser;},{}],110:[function(_dereq_,module,exports){"use strict";var ReactTextComponent=_dereq_("./ReactTextComponent");var traverseAllChildren=_dereq_("./traverseAllChildren");var warning=_dereq_("./warning");function flattenSingleChildIntoContext(traverseContext,child,name){var result=traverseContext;var keyUnique=!result.hasOwnProperty(name);("production"!=="development"?warning(keyUnique,'flattenChildren(...): Encountered two children with the same key, '+'`%s`. Child keys must be unique; when two children share a key, only '+'the first child will be used.',name):null);if(keyUnique&&child!=null){var type=typeof child;var normalizedValue;if(type==='string'){normalizedValue=ReactTextComponent(child);}else if(type==='number'){normalizedValue=ReactTextComponent(''+child);}else{normalizedValue=child;}
result[name]=normalizedValue;}}
function flattenChildren(children){if(children==null){return children;}
var result={};traverseAllChildren(children,flattenSingleChildIntoContext,result);return result;}
module.exports=flattenChildren;},{"./ReactTextComponent":78,"./traverseAllChildren":144,"./warning":145}],111:[function(_dereq_,module,exports){"use strict";function focusNode(node){try{node.focus();}catch(e){}}
module.exports=focusNode;},{}],112:[function(_dereq_,module,exports){"use strict";var forEachAccumulated=function(arr,cb,scope){if(Array.isArray(arr)){arr.forEach(cb,scope);}else if(arr){cb.call(scope,arr);}};module.exports=forEachAccumulated;},{}],113:[function(_dereq_,module,exports){function getActiveElement(){try{return document.activeElement||document.body;}catch(e){return document.body;}}
module.exports=getActiveElement;},{}],114:[function(_dereq_,module,exports){"use strict";function getEventCharCode(nativeEvent){var charCode;var keyCode=nativeEvent.keyCode;if('charCode'in nativeEvent){charCode=nativeEvent.charCode;if(charCode===0&&keyCode===13){charCode=13;}}else{charCode=keyCode;}
if(charCode>=32||charCode===13){return charCode;}
return 0;}
module.exports=getEventCharCode;},{}],115:[function(_dereq_,module,exports){"use strict";var getEventCharCode=_dereq_("./getEventCharCode");var normalizeKey={'Esc':'Escape','Spacebar':' ','Left':'ArrowLeft','Up':'ArrowUp','Right':'ArrowRight','Down':'ArrowDown','Del':'Delete','Win':'OS','Menu':'ContextMenu','Apps':'ContextMenu','Scroll':'ScrollLock','MozPrintableKey':'Unidentified'};var translateToKey={8:'Backspace',9:'Tab',12:'Clear',13:'Enter',16:'Shift',17:'Control',18:'Alt',19:'Pause',20:'CapsLock',27:'Escape',32:' ',33:'PageUp',34:'PageDown',35:'End',36:'Home',37:'ArrowLeft',38:'ArrowUp',39:'ArrowRight',40:'ArrowDown',45:'Insert',46:'Delete',112:'F1',113:'F2',114:'F3',115:'F4',116:'F5',117:'F6',118:'F7',119:'F8',120:'F9',121:'F10',122:'F11',123:'F12',144:'NumLock',145:'ScrollLock',224:'Meta'};function getEventKey(nativeEvent){if(nativeEvent.key){var key=normalizeKey[nativeEvent.key]||nativeEvent.key;if(key!=='Unidentified'){return key;}}
if(nativeEvent.type==='keypress'){var charCode=getEventCharCode(nativeEvent);return charCode===13?'Enter':String.fromCharCode(charCode);}
if(nativeEvent.type==='keydown'||nativeEvent.type==='keyup'){return translateToKey[nativeEvent.keyCode]||'Unidentified';}
return'';}
module.exports=getEventKey;},{"./getEventCharCode":114}],116:[function(_dereq_,module,exports){"use strict";var modifierKeyToProp={'Alt':'altKey','Control':'ctrlKey','Meta':'metaKey','Shift':'shiftKey'};function modifierStateGetter(keyArg){var syntheticEvent=this;var nativeEvent=syntheticEvent.nativeEvent;if(nativeEvent.getModifierState){return nativeEvent.getModifierState(keyArg);}
var keyProp=modifierKeyToProp[keyArg];return keyProp?!!nativeEvent[keyProp]:false;}
function getEventModifierState(nativeEvent){return modifierStateGetter;}
module.exports=getEventModifierState;},{}],117:[function(_dereq_,module,exports){"use strict";function getEventTarget(nativeEvent){var target=nativeEvent.target||nativeEvent.srcElement||window;return target.nodeType===3?target.parentNode:target;}
module.exports=getEventTarget;},{}],118:[function(_dereq_,module,exports){var ExecutionEnvironment=_dereq_("./ExecutionEnvironment");var invariant=_dereq_("./invariant");var dummyNode=ExecutionEnvironment.canUseDOM?document.createElement('div'):null;var shouldWrap={'circle':true,'defs':true,'ellipse':true,'g':true,'line':true,'linearGradient':true,'path':true,'polygon':true,'polyline':true,'radialGradient':true,'rect':true,'stop':true,'text':true};var selectWrap=[1,'<select multiple="true">','</select>'];var tableWrap=[1,'<table>','</table>'];var trWrap=[3,'<table><tbody><tr>','</tr></tbody></table>'];var svgWrap=[1,'<svg>','</svg>'];var markupWrap={'*':[1,'?<div>','</div>'],'area':[1,'<map>','</map>'],'col':[2,'<table><tbody></tbody><colgroup>','</colgroup></table>'],'legend':[1,'<fieldset>','</fieldset>'],'param':[1,'<object>','</object>'],'tr':[2,'<table><tbody>','</tbody></table>'],'optgroup':selectWrap,'option':selectWrap,'caption':tableWrap,'colgroup':tableWrap,'tbody':tableWrap,'tfoot':tableWrap,'thead':tableWrap,'td':trWrap,'th':trWrap,'circle':svgWrap,'defs':svgWrap,'ellipse':svgWrap,'g':svgWrap,'line':svgWrap,'linearGradient':svgWrap,'path':svgWrap,'polygon':svgWrap,'polyline':svgWrap,'radialGradient':svgWrap,'rect':svgWrap,'stop':svgWrap,'text':svgWrap};function getMarkupWrap(nodeName){("production"!=="development"?invariant(!!dummyNode,'Markup wrapping node not initialized'):invariant(!!dummyNode));if(!markupWrap.hasOwnProperty(nodeName)){nodeName='*';}
if(!shouldWrap.hasOwnProperty(nodeName)){if(nodeName==='*'){dummyNode.innerHTML='<link />';}else{dummyNode.innerHTML='<'+nodeName+'></'+nodeName+'>';}
shouldWrap[nodeName]=!dummyNode.firstChild;}
return shouldWrap[nodeName]?markupWrap[nodeName]:null;}
module.exports=getMarkupWrap;},{"./ExecutionEnvironment":22,"./invariant":126}],119:[function(_dereq_,module,exports){"use strict";function getLeafNode(node){while(node&&node.firstChild){node=node.firstChild;}
return node;}
function getSiblingNode(node){while(node){if(node.nextSibling){return node.nextSibling;}
node=node.parentNode;}}
function getNodeForCharacterOffset(root,offset){var node=getLeafNode(root);var nodeStart=0;var nodeEnd=0;while(node){if(node.nodeType==3){nodeEnd=nodeStart+node.textContent.length;if(nodeStart<=offset&&nodeEnd>=offset){return{node:node,offset:offset-nodeStart};}
nodeStart=nodeEnd;}
node=getLeafNode(getSiblingNode(node));}}
module.exports=getNodeForCharacterOffset;},{}],120:[function(_dereq_,module,exports){"use strict";var DOC_NODE_TYPE=9;function getReactRootElementInContainer(container){if(!container){return null;}
if(container.nodeType===DOC_NODE_TYPE){return container.documentElement;}else{return container.firstChild;}}
module.exports=getReactRootElementInContainer;},{}],121:[function(_dereq_,module,exports){"use strict";var ExecutionEnvironment=_dereq_("./ExecutionEnvironment");var contentKey=null;function getTextContentAccessor(){if(!contentKey&&ExecutionEnvironment.canUseDOM){contentKey='textContent'in document.documentElement?'textContent':'innerText';}
return contentKey;}
module.exports=getTextContentAccessor;},{"./ExecutionEnvironment":22}],122:[function(_dereq_,module,exports){"use strict";function getUnboundedScrollPosition(scrollable){if(scrollable===window){return{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop};}
return{x:scrollable.scrollLeft,y:scrollable.scrollTop};}
module.exports=getUnboundedScrollPosition;},{}],123:[function(_dereq_,module,exports){var _uppercasePattern=/([A-Z])/g;function hyphenate(string){return string.replace(_uppercasePattern,'-$1').toLowerCase();}
module.exports=hyphenate;},{}],124:[function(_dereq_,module,exports){"use strict";var hyphenate=_dereq_("./hyphenate");var msPattern=/^ms-/;function hyphenateStyleName(string){return hyphenate(string).replace(msPattern,'-ms-');}
module.exports=hyphenateStyleName;},{"./hyphenate":123}],125:[function(_dereq_,module,exports){"use strict";var warning=_dereq_("./warning");var ReactElement=_dereq_("./ReactElement");var ReactLegacyElement=_dereq_("./ReactLegacyElement");var ReactNativeComponent=_dereq_("./ReactNativeComponent");var ReactEmptyComponent=_dereq_("./ReactEmptyComponent");function instantiateReactComponent(element,parentCompositeType){var instance;if("production"!=="development"){("production"!=="development"?warning(element&&(typeof element.type==='function'||typeof element.type==='string'),'Only functions or strings can be mounted as React components.'):null);if(element.type._mockedReactClassConstructor){ReactLegacyElement._isLegacyCallWarningEnabled=false;try{instance=new element.type._mockedReactClassConstructor(element.props);}finally{ReactLegacyElement._isLegacyCallWarningEnabled=true;}
if(ReactElement.isValidElement(instance)){instance=new instance.type(instance.props);}
var render=instance.render;if(!render){element=ReactEmptyComponent.getEmptyComponent();}else{if(render._isMockFunction&&!render._getMockImplementation()){render.mockImplementation(ReactEmptyComponent.getEmptyComponent);}
instance.construct(element);return instance;}}}
if(typeof element.type==='string'){instance=ReactNativeComponent.createInstanceForTag(element.type,element.props,parentCompositeType);}else{instance=new element.type(element.props);}
if("production"!=="development"){("production"!=="development"?warning(typeof instance.construct==='function'&&typeof instance.mountComponent==='function'&&typeof instance.receiveComponent==='function','Only React Components can be mounted.'):null);}
instance.construct(element);return instance;}
module.exports=instantiateReactComponent;},{"./ReactElement":52,"./ReactEmptyComponent":54,"./ReactLegacyElement":61,"./ReactNativeComponent":66,"./warning":145}],126:[function(_dereq_,module,exports){"use strict";var invariant=function(condition,format,a,b,c,d,e,f){if("production"!=="development"){if(format===undefined){throw new Error('invariant requires an error message argument');}}
if(!condition){var error;if(format===undefined){error=new Error('Minified exception occurred; use the non-minified dev environment '+'for the full error message and additional helpful warnings.');}else{var args=[a,b,c,d,e,f];var argIndex=0;error=new Error('Invariant Violation: '+
format.replace(/%s/g,function(){return args[argIndex++];}));}
error.framesToPop=1;throw error;}};module.exports=invariant;},{}],127:[function(_dereq_,module,exports){"use strict";var ExecutionEnvironment=_dereq_("./ExecutionEnvironment");var useHasFeature;if(ExecutionEnvironment.canUseDOM){useHasFeature=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature('','')!==true;}
function isEventSupported(eventNameSuffix,capture){if(!ExecutionEnvironment.canUseDOM||capture&&!('addEventListener'in document)){return false;}
var eventName='on'+eventNameSuffix;var isSupported=eventName in document;if(!isSupported){var element=document.createElement('div');element.setAttribute(eventName,'return;');isSupported=typeof element[eventName]==='function';}
if(!isSupported&&useHasFeature&&eventNameSuffix==='wheel'){isSupported=document.implementation.hasFeature('Events.wheel','3.0');}
return isSupported;}
module.exports=isEventSupported;},{"./ExecutionEnvironment":22}],128:[function(_dereq_,module,exports){function isNode(object){return!!(object&&(typeof Node==='function'?object instanceof Node:typeof object==='object'&&typeof object.nodeType==='number'&&typeof object.nodeName==='string'));}
module.exports=isNode;},{}],129:[function(_dereq_,module,exports){"use strict";var supportedInputTypes={'color':true,'date':true,'datetime':true,'datetime-local':true,'email':true,'month':true,'number':true,'password':true,'range':true,'search':true,'tel':true,'text':true,'time':true,'url':true,'week':true};function isTextInputElement(elem){return elem&&((elem.nodeName==='INPUT'&&supportedInputTypes[elem.type])||elem.nodeName==='TEXTAREA');}
module.exports=isTextInputElement;},{}],130:[function(_dereq_,module,exports){var isNode=_dereq_("./isNode");function isTextNode(object){return isNode(object)&&object.nodeType==3;}
module.exports=isTextNode;},{"./isNode":128}],131:[function(_dereq_,module,exports){"use strict";function joinClasses(className){if(!className){className='';}
var nextClass;var argLength=arguments.length;if(argLength>1){for(var ii=1;ii<argLength;ii++){nextClass=arguments[ii];if(nextClass){className=(className?className+' ':'')+nextClass;}}}
return className;}
module.exports=joinClasses;},{}],132:[function(_dereq_,module,exports){"use strict";var invariant=_dereq_("./invariant");var keyMirror=function(obj){var ret={};var key;("production"!=="development"?invariant(obj instanceof Object&&!Array.isArray(obj),'keyMirror(...): Argument must be an object.'):invariant(obj instanceof Object&&!Array.isArray(obj)));for(key in obj){if(!obj.hasOwnProperty(key)){continue;}
ret[key]=key;}
return ret;};module.exports=keyMirror;},{"./invariant":126}],133:[function(_dereq_,module,exports){var keyOf=function(oneKeyObj){var key;for(key in oneKeyObj){if(!oneKeyObj.hasOwnProperty(key)){continue;}
return key;}
return null;};module.exports=keyOf;},{}],134:[function(_dereq_,module,exports){'use strict';var hasOwnProperty=Object.prototype.hasOwnProperty;function mapObject(object,callback,context){if(!object){return null;}
var result={};for(var name in object){if(hasOwnProperty.call(object,name)){result[name]=callback.call(context,object[name],name,object);}}
return result;}
module.exports=mapObject;},{}],135:[function(_dereq_,module,exports){"use strict";function memoizeStringOnly(callback){var cache={};return function(string){if(cache.hasOwnProperty(string)){return cache[string];}else{return cache[string]=callback.call(this,string);}};}
module.exports=memoizeStringOnly;},{}],136:[function(_dereq_,module,exports){"use strict";var invariant=_dereq_("./invariant");function monitorCodeUse(eventName,data){("production"!=="development"?invariant(eventName&&!/[^a-z0-9_]/.test(eventName),'You must provide an eventName using only the characters [a-z0-9_]'):invariant(eventName&&!/[^a-z0-9_]/.test(eventName)));}
module.exports=monitorCodeUse;},{"./invariant":126}],137:[function(_dereq_,module,exports){"use strict";var ReactElement=_dereq_("./ReactElement");var invariant=_dereq_("./invariant");function onlyChild(children){("production"!=="development"?invariant(ReactElement.isValidElement(children),'onlyChild must be passed a children with exactly one child.'):invariant(ReactElement.isValidElement(children)));return children;}
module.exports=onlyChild;},{"./ReactElement":52,"./invariant":126}],138:[function(_dereq_,module,exports){"use strict";var ExecutionEnvironment=_dereq_("./ExecutionEnvironment");var performance;if(ExecutionEnvironment.canUseDOM){performance=window.performance||window.msPerformance||window.webkitPerformance;}
module.exports=performance||{};},{"./ExecutionEnvironment":22}],139:[function(_dereq_,module,exports){var performance=_dereq_("./performance");if(!performance||!performance.now){performance=Date;}
var performanceNow=performance.now.bind(performance);module.exports=performanceNow;},{"./performance":138}],140:[function(_dereq_,module,exports){"use strict";var ExecutionEnvironment=_dereq_("./ExecutionEnvironment");var WHITESPACE_TEST=/^[ \r\n\t\f]/;var NONVISIBLE_TEST=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/;var setInnerHTML=function(node,html){node.innerHTML=html;};if(ExecutionEnvironment.canUseDOM){var testElement=document.createElement('div');testElement.innerHTML=' ';if(testElement.innerHTML===''){setInnerHTML=function(node,html){if(node.parentNode){node.parentNode.replaceChild(node,node);}
if(WHITESPACE_TEST.test(html)||html[0]==='<'&&NONVISIBLE_TEST.test(html)){node.innerHTML='\uFEFF'+html;var textNode=node.firstChild;if(textNode.data.length===1){node.removeChild(textNode);}else{textNode.deleteData(0,1);}}else{node.innerHTML=html;}};}}
module.exports=setInnerHTML;},{"./ExecutionEnvironment":22}],141:[function(_dereq_,module,exports){"use strict";function shallowEqual(objA,objB){if(objA===objB){return true;}
var key;for(key in objA){if(objA.hasOwnProperty(key)&&(!objB.hasOwnProperty(key)||objA[key]!==objB[key])){return false;}}
for(key in objB){if(objB.hasOwnProperty(key)&&!objA.hasOwnProperty(key)){return false;}}
return true;}
module.exports=shallowEqual;},{}],142:[function(_dereq_,module,exports){"use strict";function shouldUpdateReactComponent(prevElement,nextElement){if(prevElement&&nextElement&&prevElement.type===nextElement.type&&prevElement.key===nextElement.key&&prevElement._owner===nextElement._owner){return true;}
return false;}
module.exports=shouldUpdateReactComponent;},{}],143:[function(_dereq_,module,exports){var invariant=_dereq_("./invariant");function toArray(obj){var length=obj.length;("production"!=="development"?invariant(!Array.isArray(obj)&&(typeof obj==='object'||typeof obj==='function'),'toArray: Array-like object expected'):invariant(!Array.isArray(obj)&&(typeof obj==='object'||typeof obj==='function')));("production"!=="development"?invariant(typeof length==='number','toArray: Object needs a length property'):invariant(typeof length==='number'));("production"!=="development"?invariant(length===0||(length-1)in obj,'toArray: Object should have keys for indices'):invariant(length===0||(length-1)in obj));if(obj.hasOwnProperty){try{return Array.prototype.slice.call(obj);}catch(e){}}
var ret=Array(length);for(var ii=0;ii<length;ii++){ret[ii]=obj[ii];}
return ret;}
module.exports=toArray;},{"./invariant":126}],144:[function(_dereq_,module,exports){"use strict";var ReactElement=_dereq_("./ReactElement");var ReactInstanceHandles=_dereq_("./ReactInstanceHandles");var invariant=_dereq_("./invariant");var SEPARATOR=ReactInstanceHandles.SEPARATOR;var SUBSEPARATOR=':';var userProvidedKeyEscaperLookup={'=':'=0','.':'=1',':':'=2'};var userProvidedKeyEscapeRegex=/[=.:]/g;function userProvidedKeyEscaper(match){return userProvidedKeyEscaperLookup[match];}
function getComponentKey(component,index){if(component&&component.key!=null){return wrapUserProvidedKey(component.key);}
return index.toString(36);}
function escapeUserProvidedKey(text){return(''+text).replace(userProvidedKeyEscapeRegex,userProvidedKeyEscaper);}
function wrapUserProvidedKey(key){return'$'+escapeUserProvidedKey(key);}
var traverseAllChildrenImpl=function(children,nameSoFar,indexSoFar,callback,traverseContext){var nextName,nextIndex;var subtreeCount=0;if(Array.isArray(children)){for(var i=0;i<children.length;i++){var child=children[i];nextName=(nameSoFar+
(nameSoFar?SUBSEPARATOR:SEPARATOR)+
getComponentKey(child,i));nextIndex=indexSoFar+subtreeCount;subtreeCount+=traverseAllChildrenImpl(child,nextName,nextIndex,callback,traverseContext);}}else{var type=typeof children;var isOnlyChild=nameSoFar==='';var storageName=isOnlyChild?SEPARATOR+getComponentKey(children,0):nameSoFar;if(children==null||type==='boolean'){callback(traverseContext,null,storageName,indexSoFar);subtreeCount=1;}else if(type==='string'||type==='number'||ReactElement.isValidElement(children)){callback(traverseContext,children,storageName,indexSoFar);subtreeCount=1;}else if(type==='object'){("production"!=="development"?invariant(!children||children.nodeType!==1,'traverseAllChildren(...): Encountered an invalid child; DOM '+'elements are not valid children of React components.'):invariant(!children||children.nodeType!==1));for(var key in children){if(children.hasOwnProperty(key)){nextName=(nameSoFar+(nameSoFar?SUBSEPARATOR:SEPARATOR)+
wrapUserProvidedKey(key)+SUBSEPARATOR+
getComponentKey(children[key],0));nextIndex=indexSoFar+subtreeCount;subtreeCount+=traverseAllChildrenImpl(children[key],nextName,nextIndex,callback,traverseContext);}}}}
return subtreeCount;};function traverseAllChildren(children,callback,traverseContext){if(children==null){return 0;}
return traverseAllChildrenImpl(children,'',0,callback,traverseContext);}
module.exports=traverseAllChildren;},{"./ReactElement":52,"./ReactInstanceHandles":60,"./invariant":126}],145:[function(_dereq_,module,exports){"use strict";var emptyFunction=_dereq_("./emptyFunction");var warning=emptyFunction;if("production"!=="development"){warning=function(condition,format){for(var args=[],$__0=2,$__1=arguments.length;$__0<$__1;$__0++)args.push(arguments[$__0]);if(format===undefined){throw new Error('`warning(condition, format, ...args)` requires a warning '+'message argument');}
if(!condition){var argIndex=0;console.warn('Warning: '+format.replace(/%s/g,function(){return args[argIndex++];}));}};}
module.exports=warning;},{"./emptyFunction":107}]},{},[1])(1)});
var ListingContainer=React.createClass({displayName:"ListingContainer",render:function(){var data=this.props.stateData;var initData=this.props.initData;var ListingItems=data.models.map(function(model,key){return React.createElement(ListingItem,{key:key,model:model,th_size:data.th_size,th_type:data.th_type,initData:initData});});return(React.createElement("div",null,React.createElement("div",{className:"mls_models"},ListingItems),React.createElement(ListingPager,{key:this.props.page,currentPage:this.props.page,pagesCount:this.props.pageCount})));}});var ListingItem=React.createClass({displayName:"ListingItem",renderLinks:function(model){if(!model.online){return(React.createElement("div",{className:"actions"},React.createElement("span",{className:"no_chat",dangerouslySetInnerHTML:{__html:__('Model is offline')}})));}
var title=__('Chat with',{},false)+' '+model.display_name;return(React.createElement("div",{className:"actions"},React.createElement("a",{href:model.chat_url,className:"chat",title:title,dangerouslySetInnerHTML:{__html:model.is_vip_zone?__('Visit VIP Chat'):__('Visit FREE Chat')}})));return React.createElement("div",null);},getItemClassName:function(model){var className='mls_item';if(model.online){className+=' mls_item_online';}
if(true===model.is_per_hour&&'moderator'==this.props.initData.userRole){className+=' mls_item_per_hour';}
if('vip'===model.room){className+=' mls_item_vip';}
return className;},renderAboutMe:function(model){var etcClassName='etc';return(React.createElement("div",{className:'etc etc_'+this.props.th_size},React.createElement("div",{className:'about_me'+(!model.about_me?' about_me_blank':'')},this.getAboutMeText(model))));},getAboutMeText:function(model){if('vip'==model.room){return(React.createElement("span",{dangerouslySetInnerHTML:{__html:__('Enter %s1%Vip Show%s2%',{s1:'<strong>',s2:'</strong>'})}}));}
if(!model.about_me){return(React.createElement("span",{dangerouslySetInnerHTML:{__html:__('%name% has not written anything about herself yet',{name:model.display_name})}}));}else{return model.about_me;}},renderIcons:function(model){var icons=[];if(model.online){icons.push('live');}
if(model.is_new){icons.push('new');}
if(!model.is_vip_zone&&model.hd_cam){icons.push('hd_cam');}
if(model.is_vip_zone){icons.push('vip_zone');}
var iconItems=icons.map(function(icon,key){return React.createElement("span",{key:key,className:'bage bage_'+icon})});return(React.createElement("div",null,iconItems));},renderTextBages:function(model){var bage;if(model.is_away){bage=React.createElement("div",{className:"bage bage_away",dangerouslySetInnerHTML:{__html:__("I'm away")}});}else if(model.room){switch(model.room){case'private':case'fullprivate':bage=React.createElement("div",{className:"bage bage_private",dangerouslySetInnerHTML:{__html:__("In private")}});break;case'group':bage=React.createElement("div",{className:"bage bage_group",dangerouslySetInnerHTML:{__html:__("In group")}});break;case'vip':var style={backgroundImage:'url(/images/frontend/vip/'+this.props.th_size+'/'+this.props.initData.lang+'.png?v2)'};bage=React.createElement("div",{className:"bage bage_vip",style:style});break;}}
return(React.createElement("div",{className:"bages"},bage));},getThumbSrc:function(model){if(this.props.th_type=='live'){return model.live_image;}
return model.profile_image;},render:function(){var model=this.props.model;return(React.createElement("div",{id:'mls_item_'+model.user_id,className:this.getItemClassName(model)},React.createElement("div",{className:'thumbnail'+(!model.is_vip_zone?'':' thumbnail_vip_zone')+' thumbnail_'+this.props.th_size,"data-chathost":model.username,"data-name":model.display_name,"data-vsid":('public'==model.room&&!model.is_away&&model.is_vip_zone)?model.vsid:null},React.createElement("a",{href:!model.online?model.profile_url:model.chat_url,className:!model.online?'profile no_chat':'chat',title:!model.online?model.display_name+' '+__('profile',{},false):__('Chat with',{},false)+' '+model.display_name,onClick:this.handleClick},React.createElement("img",{className:"profile_image",src:this.getThumbSrc(model),alt:model.display_name}),this.renderIcons(model)),this.renderTextBages(model)),React.createElement("div",{className:"mls_layer"},React.createElement("a",{href:model.profile_url,className:"profile mls_diplayname",title:model.display_name+' '+__('profile',{},false)},model.display_name),React.createElement("span",{className:"mls_langs"},React.createElement("em",{className:'mls_lang mls_primary_lang'+(model.primary_language?' mls_lang_'+model.primary_language:'')}),React.createElement("em",{className:'mls_lang mls_secondary_lang'+(model.secondary_language?' mls_lang_'+model.secondary_language:'')}))),this.renderLinks(model),this.renderAboutMe(model)));}});var ListingPager=React.createClass({displayName:"ListingPager",componentWillMount:function(){this.updatePages();},componentWillUpdate:function(nextProps,nextState){this.updatePages(nextProps);},updatePages:function(props){props=props||this.props;this.startWith=Math.max(props.currentPage-3,1);this.endWith=Math.min(props.currentPage+3,props.pagesCount);this.relPrefix=$('#mls_chatconsole').is(':visible')?'#':decodeURI(window.location.pathname)+'?';},renderPrevPages:function(){var pages=[];for(var i=this.startWith;i<this.props.currentPage;++i){pages.push(React.createElement("a",{key:'prev'+i,rel:i,className:"mls_pager_page",href:this.relPrefix+'page='+i,title:__('Page',{},false)+' '+i},i));}
return(React.createElement("span",{className:"mls_pager_previous_pages"},pages));},renderNextPages:function(){var pages=[];for(var i=this.props.currentPage+1;i<=this.endWith;++i){pages.push(React.createElement("a",{key:'next'+i,rel:i,className:"mls_pager_page",href:this.relPrefix+'page='+i,title:__('Page',{},false)+i},i));}
return(React.createElement("span",{className:"mls_pager_next_pages"},pages));},render:function(){if(this.props.pagesCount<=1){return null;};return(React.createElement("div",{className:"mls_pager"},React.createElement("div",{className:"mls_pager_content"},React.createElement("span",{className:'mls_pager_prev_page'+(this.props.currentPage>1?'':' disabled')},React.createElement("a",{rel:"1",href:this.relPrefix.replace('?',''),className:"first",title:__('First Page',{},false)},"1"),React.createElement("a",{rel:this.props.currentPage-1,href:this.relPrefix+"page="+(this.props.currentPage-1),className:"prev",title:__('Previous Page',{},false)},"Â«")),React.createElement("span",{className:'mls_separator mls_prev_separator'+(1==this.startWith?' disabled':'')},"..."),this.renderPrevPages(),React.createElement("span",{className:"mls_pager_current_page"},this.props.currentPage),this.renderNextPages(),React.createElement("span",{className:'mls_separator mls_next_separator'+(this.props.pagesCount==this.endWith?' disabled':'')},"..."),React.createElement("span",{className:'mls_pager_next_page'+(this.props.currentPage<this.props.pagesCount?'':' disabled')},React.createElement("a",{rel:this.props.currentPage+1,href:this.relPrefix+"page="+(this.props.currentPage+1),className:"next",title:__('Next Page',{},false)},"Â»"),React.createElement("a",{rel:this.props.pagesCount,href:this.relPrefix+"page="+this.props.pagesCount,className:"last",title:__('Last Page',{},false)},this.props.pagesCount)))));}});
(function($){Listing=function(){return{xhr:null,page:1,pageCount:null,totalCount:0,searchData:{},initData:{},remoteUrl:'',stateData:null,timer:null,timerInt:30*1000,container:null,containerWidth:0,thumbWidthValues:null,currentThumbType:null,currentThumbSize:'small',currentHash:null,listingH1:null,vipThumbClass:null,vipThumbType:null,lastThumbSize:0,resizer:null,mobileVideoServers:null,init:function(container,params){this.container=container;this.remoteUrl=params.remoteUrl;this.initData=params.initData||{};this.containerWidth=$(container).width();this.currentThumbSize=params.localData.thumbSize;this.thumbWidthValues=params.thumbWidthValues||null;this.vipThumbClass=params.localData.vipThumbClass;this.vipThumbType=params.localData.vipThumbType;this.mobileVideoServers=params.localData.mobileVideoServers;if(this.initData.page){var p=parseInt(this.initData.page);if(p>0)
this.page=p;}
var $searchDisplay=$('#filter_popover').find('.ms_display input:checked');if($searchDisplay.val()){this.currentThumbSize=$searchDisplay.val();}
if('auto'==this.currentThumbSize){this.currentThumbSize=getAutoThumbSize();}
$('.mls_search_quick li input').change(function(e,cancelSubmit){if(cancelSubmit)return;var saveDisplaySettings=true;var $c=$('#bChat');if($c.length>0&&$c.prop('connected')){saveDisplaySettings=false;calculateModelsPerPage($('#filter_popover').find('.ms_display input:checked').val());}
forceFilterSubmit(saveDisplaySettings);});if(location.href.indexOf('#')>0){this.currentHash=window.location.hash.slice(1)}
var self=this;$('#mls_container, #visited_room_list').delegate('a.chat','click',function(){var $link=$(this);if(!window.chat||$('.all_models_page_mls').length){location.href=$link.attr('href');}else{var $item=$(this).parents('.mls_item').first();if($item.length){var $dataItem=$item.find('[data-chathost]');$.loadChatRoom($item.find('[data-chathost]').attr('data-chathost'),$link.parents('[data-chathost]').attr('data-name'),$link.parents('.mls_models_vip').length>0);}else{$.loadChatRoom($link.parents('[data-chathost]').attr('data-chathost'),$link.parents('[data-chathost]').attr('data-name'));}}
return false;});$('#mls_container').delegate('.mls_item .bages, .mls_item .etc','click',function(){$(this).closest('.mls_item').find('.thumbnail a:first').trigger('click');return false;});$('#mls_container').delegate('.mls_pager a','click',function(){self.load(parseInt($(this).attr('rel')));History.pushState({'listing-page':$(this).attr('rel')},document.title,$(this).attr('href'));return false;});var $filterForm=$('.mls_search').find('form');var $searchFilters=$('#mls_search_filters');var $rpf=$('#right_panel_mls_filters');if($rpf.length){$rpf.find('a[category]').bind('click',function(){$(this).parent().find('a.selected').removeClass('selected');self.initData.category=$(this).attr('category');self.load(self.page,false);$(this).addClass('selected');});$rpf.find('a[bsort]').bind('click',function(){$(this).parent().find('a.selected').removeClass('selected');self.searchData['model_search[base_sort]']=$(this).attr('bsort');self.load(self.page,false);$(this).addClass('selected');});}
var calculateModelsPerPage=function(thumbSizeType){if(!thumbSizeType){thumbSizeType=self.currentThumbSize;}
var $mlsContainer=$(self.container);if(!$mlsContainer.length)return;var containerWidth=$('.mls_models_container').width();var modelsPerRow=Math.floor(containerWidth/self.thumbWidthValues[thumbSizeType]);var modelsPerRage=('small'==thumbSizeType?3:2)*modelsPerRow;self.initData['model_search[per_page]']=modelsPerRage;self.searchData['model_search[per_page]']=modelsPerRage;self.containerWidth=containerWidth;return modelsPerRage;};var forceFilterSubmit=function(saveDisplaySettings,hideConsole){$filterForm.append($searchFilters.hide());if(hideConsole){var isVisible=$('#chatContainer:visible').hasClass('vipZone');if(undefined!=chat){chat.closeChat(true);}
$('.chat_right_banner').hide();if(isVisible){$('.banner_top_index, .banner_top_chat').show();$.ajaxLoadBanners();}}
self.searchData=self.serializeSearchForm($filterForm);if(self.isAnyFilterSelected()){self.searchData['_online_filter']=0;}
self.load(self.page,saveDisplaySettings);};var clearFindByName=function(){$('#model_search_display_name').val('');};var clearFindByParams=function(){$searchFilters.find('input:checkbox:checked').trigger('click').closest('li').removeClass('checked');};var clearSorting=function(){$('#model_search_base_sort').val('');};$filterForm.attr('onsubmit','return false').find('.search_btn').click(function(){clearFindByName();clearFindByParams();forceFilterSubmit(false);return false;});$('.saf_search_btn').click(function(){clearFindByParams();clearSorting();forceFilterSubmit(false,true);return false;});$("#model_search_display_name").keypress(function(e){if(e.which==13){$(this).change();$('.saf_search_btn').trigger('click');return false;}});$('.saf_params_btn').click(function(){clearFindByName();clearSorting();forceFilterSubmit(false,true);return false;});$('#model_search_display, #model_search_th_type, #model_search_per_page').change(function(){var saveDisplaySettings=true;var $c=$('#bChat');if($c.length>0&&$c.prop('connected')){saveDisplaySettings=false;calculateModelsPerPage($('#model_search_display').val());}
forceFilterSubmit(saveDisplaySettings);});$('#model_search_base_sort').change(function(){$('#vip_sort_hidden').val($(this).val());});$(document).on('change','.mls_sort select',function(){$('#model_search_base_sort').val($(this).val());forceFilterSubmit(false);});$("#bChat").bind("onUserData",function(e){if(!this.connected){var modelsPerRage=calculateModelsPerPage();var correctingNumberForVipRoom=(($(self.container).find('.mls_item_vip').length)&&(self.currentThumbSize=='small'))?3:0;if(self.stateData){self.stateData.models=self.stateData.online_models.slice(0,modelsPerRage-correctingNumberForVipRoom);self.pageCount=Math.ceil((self.stateData.online_count+correctingNumberForVipRoom)/modelsPerRage);}
if(!self.stateData){self.load(self.page);}else{self.stateData.limit=modelsPerRage;self.render();}
this.connected=true;}});var isTouchDevice=function(){try{document.createEvent('TouchEvent');return true;}catch(e){return false;}};if(!$.isTranslateSkin&&!isTouchDevice()&&'profile'==this.vipThumbType){var thumbPreviewInt;$('#mls_models').delegate('.thumbnail','mouseenter mouseleave',function(e){if(!$(this).attr('data-vsid')||!self.mobileVideoServers[$(this).attr('data-vsid')])return;var th=this;clearTimeout(thumbPreviewInt);if('mouseenter'==e.type){$(th).addClass('thumbnail_spinner');thumbPreviewInt=setTimeout(function(){var url=self.mobileVideoServers[$(th).attr('data-vsid')]+'/stream_'+$(th).attr('data-chathost')+'.jpg';$(th).find('a.chat').imagePlayer(url);$(th).removeClass('thumbnail_spinner');},1000)}else if('mouseleave'==e.type){$(th).find('a.chat').imagePlayer('destroy');$(th).removeClass('thumbnail_spinner');}});}
this.initSortingBox();this.resizer=new ListingZoneResize({thumbWidth:this.thumbWidthValues[this.currentThumbSize],vipZoneClass:this.vipThumbClass,changeStyle:true});this.resizer.resize();$(this.container).data('listing',this);this.timer=setTimeout(function(){self.load(self.page);},(this.initData.userId>0?this.timerInt:this.timerInt*2));if(!$.isListingV2Enabled){this.load(self.page||1);}},load:function(page,saveDisplaySettings){if(null!==this.xhr){this.xhr.abort();this.xhr=null;}
clearTimeout(this.timer);var updateData=$.extend({},this.initData);updateData['page']=page;if(this.containerWidth>0){this.containerWidth=$(this.container).width();updateData['mls_width']=this.containerWidth;}
if(true==saveDisplaySettings){updateData['_save']=1;}
var searchFormData=this.serializeSearchForm($('.mls_search').find('form'));if(!updateData['model_search[per_page]']){updateData['model_search[per_page]']=searchFormData['model_search[per_page]'];}
updateData['model_search[display]']=searchFormData['model_search[display]'];updateData['model_search[th_type]']=searchFormData['model_search[th_type]'];updateData['mls_th_per_row']=this.resizer.getThumbsPerRow();if('auto'==searchFormData['model_search[display]']){$('#mls_models').addClass('mls_models_resizable');}else{$('#mls_models').removeClass('mls_models_resizable');}
if(searchFormData['model_search[base_sort]']){updateData['model_search[base_sort]']=searchFormData['model_search[base_sort]'];}
if(searchFormData['model_search[vip_sort]']){updateData['model_search[vip_sort]']=searchFormData['model_search[vip_sort]'];}
if(searchFormData['model_search[display_name][text]']!=''){if(searchFormData['model_search[display_name][text]']!=__('Search by nickname')+'...'){updateData['model_search[display_name][text]']=searchFormData['model_search[display_name][text]'];updateData['_online_filter']=0;}}
if(searchFormData['model_search[gender][]']){updateData['model_search[gender][]']=searchFormData['model_search[gender][]'];updateData['_online_filter']=0;}
if(searchFormData['model_search[preference][]']){updateData['model_search[preference][]']=searchFormData['model_search[preference][]'];updateData['_online_filter']=0;}
if(searchFormData['model_search[age][]']){updateData['model_search[age][]']=searchFormData['model_search[age][]'];updateData['_online_filter']=0;}
if(searchFormData['model_search[hair_color][]']){updateData['model_search[hair_color][]']=searchFormData['model_search[hair_color][]'];updateData['_online_filter']=0;}
if(searchFormData['model_search[eyes_color][]']){updateData['model_search[eyes_color][]']=searchFormData['model_search[eyes_color][]'];updateData['_online_filter']=0;}
if(searchFormData['model_search[ethnicity][]']){updateData['model_search[ethnicity][]']=searchFormData['model_search[ethnicity][]'];updateData['_online_filter']=0;}
if(searchFormData['model_search[height][]']){updateData['model_search[height][]']=searchFormData['model_search[height][]'];updateData['_online_filter']=0;}
if(searchFormData['model_search[body][]']){updateData['model_search[body][]']=searchFormData['model_search[body][]'];updateData['_online_filter']=0;}
if(searchFormData['model_search[bust_size][]']){updateData['model_search[bust_size][]']=searchFormData['model_search[bust_size][]'];updateData['_online_filter']=0;}
if(searchFormData['model_search[penis_size][]']){updateData['model_search[penis_size][]']=searchFormData['model_search[penis_size][]'];updateData['_online_filter']=0;}
if(searchFormData['model_search[butt_size][]']){updateData['model_search[butt_size][]']=searchFormData['model_search[butt_size][]'];updateData['_online_filter']=0;}
if(searchFormData['model_search[visibility][]']){updateData['model_search[visibility][]']=searchFormData['model_search[visibility][]'];updateData['_online_filter']=0;}
if(searchFormData['model_search[audio][]']){updateData['model_search[audio][]']=searchFormData['model_search[audio][]'];updateData['_online_filter']=0;}
if(searchFormData['model_search[cams][]']){updateData['model_search[cams][]']=searchFormData['model_search[cams][]'];updateData['_online_filter']=0;}
if(searchFormData['model_search[lang][]']){updateData['model_search[lang][]']=searchFormData['model_search[lang][]'];updateData['_online_filter']=0;}
var self=this;this.xhr=$.ajax({url:self.remoteUrl,context:this,data:updateData,dataType:'json',type:'get',headers:{'x-country':self.initData.countryId,'x-sorter':self.initData.geoKey},complete:function(){self.xhr=null;$('.mls_spinner',self.container).removeClass('mls_spinner');},success:function(data){self.xhr=null;if('success'!=data.status){if(undefined!=window.console){console.log('unsuccess',data);}
return;}
if(0==data.models.length&&page>1){this.load(page-1);return;}
if(undefined!=window.chat){window.chat.mlsUpdate(data.online_models);}
var $mlsContainer=$(self.container);var count=0;if(self.isAnyFilterSelected()){if(data.models.length){count+=data.total_count;}
$mlsContainer.find('.mls_online_count').html(data.total_count);$mlsContainer.find('.mls_heading').hide();$mlsContainer.find('.mls_heading_found').show();}else{if(data.models.length){count+=data.online_count;}
$mlsContainer.find('.mls_online_count').html(count);$mlsContainer.find('.mls_heading_found').hide();$mlsContainer.find('.mls_heading').show();}
if(self.page!=page&&false==($('#mls_chatconsole').length&&$('#mls_chatconsole').is(':visible'))){window.scroll(0,0);}
self.page=page;self.pageCount=data.page_count?data.page_count:null;self.totalCount=data.total_count;self.currentThumbType=data.th_type;self.lastThumbSize=self.currentThumbSize;self.currentThumbSize=data.th_size;self.stateData=data;self.render();if(self.currentThumbSize!=self.lastThumbSize){self.resizer.updateThumbWidth(self.thumbWidthValues[self.currentThumbSize]);}
self.resizer.resize();self.timer=setTimeout(function(){self.load(self.page);$.updateVisitedRooms();},(self.initData.userId>0?self.timerInt:self.timerInt*2));if($('#mls_search_filters').find('input:checkbox:checked').length||$('#model_search_display_name').val()!=''){$('ul.mls_tabs').find('.selected').addClass('default_selected').removeClass('selected');$('.model_categories_panel').find('span.active').hide().parent().find('a').show();}else{$('ul.mls_tabs').find('.default_selected').addClass('selected');$('.model_categories_panel').find('span.active').show().parent().find('a').hide();}}});},serializeSearchForm:function($form){var searchData={};$.each($form.serializeArray(),function(){if(undefined!==searchData[this.name]){if(!searchData[this.name].push){searchData[this.name]=[searchData[this.name],this.value];}else{searchData[this.name].push(this.value||'');}}else{searchData[this.name]=this.value||'';}});return searchData;},isAnyFilterSelected:function(){var searchData=this.searchData;return((searchData['model_search[display_name][text]']&&searchData['model_search[display_name][text]']!='')||(searchData['model_search[gender][]'])||(searchData['model_search[preference][]'])||(searchData['model_search[age][]'])||(searchData['model_search[hair_color][]'])||(searchData['model_search[eyes_color][]'])||(searchData['model_search[ethnicity][]'])||(searchData['model_search[height][]'])||(searchData['model_search[body][]'])||(searchData['model_search[breasts_size][]'])||(searchData['model_search[penis_size][]'])||(searchData['model_search[butt_size][]'])||(searchData['model_search[visibility][]'])||(searchData['model_search[audio][]'])||(searchData['model_search[cams][]'])||(searchData['model_search[lang][]']))},initSortingBox:function(){var $selectBox=$('#sort_base').clone().removeAttr('style').appendTo($(this.container).find('.mls_sort'));var $select=$selectBox.find('select').removeAttr('id').removeAttr('name');$select.selectize({readOnly:true,onDelete:function(){return false},render:{item:function(item,escape){return"<div><div class='icon_set7 sort_item item_"+escape(item.value)+"'></div><span>"+escape(item.text)+"</span></div>";},option:function(item,escape){return"<div><div class='icon_set7 sort_item item_"+escape(item.value)+"'></div><span>"+escape(item.text)+"</span></div>";}}});},render:function(){React.render(React.createElement(ListingContainer,this),$('#mls_models').get(0));}};};$.loadChatRoom=function(chathost,displayName,isVipZone){$('.banner_top_index').hide().css({height:'auto',width:'auto'});if(undefined!=window.chat){if(true==(!chat.userData||!chat.userData.chathost)){var $vc=$('#mls_videoconsole');if($vc.length){$vc.remove();}
if(isVipZone){$.switchVipZoneChat();}
init_chat_inline(chathost,{title:displayName},isVipZone);$('#mls_chatconsole').show();$.showBottomBanner();$('.mls_search .ms_per_page').remove();$('h1').not('.online').remove();$('.seo_box').remove();$.hideModelsCategoriesList();$.moveTopBannerAboveChat();$.moveAlertsAboveChat();$.showToolbarControl();$.ajaxLoadBanners();if(chat.videoObject&&!chat.currentChathost){chat.videoObject.play();}}else{if(chat.userData&&chat.userData.isVipZone!=isVipZone){var urlPrefix='';if(chat.options.scriptName&&chat.options.scriptName!='/index.php'){urlPrefix=chat.options.scriptName;}
location.href=urlPrefix+'/'+chathost;}else{chat.getRoom(chathost,{title:displayName});}}}}
$.loadPopularChatRoom=function(){$('.mls_models_container').find('.mls_item_online:not(.mls_item_vip):first').find('a.chat:first')[0].click();}
$.updateVisitedRooms=function(){if(!$("#get_visited_rooms").length)return;$.get($("#get_visited_rooms").attr('href'),function(data){$('#visited_room_list').html($(data).find('#visited_room_list').html());$('#spy_room_list_size').html($(data).find('#spy_room_list_size').html());$('#spy_room_list').html($(data).find('#spy_room_list').html());$('#new_room_list_size').html($(data).find('#new_room_list_size').html());$('#new_room_list').html($(data).find('#new_room_list').html());})};$.showBottomBanner=function(){var $bottomBannerContainer=$('.adfooter');var $bongaBanners=$bottomBannerContainer.find('.bonga_banner');if($bongaBanners.length!=0){$bongaBanners.show();$bottomBannerContainer.show();$(window).resize();}};$.moveTopBannerAboveChat=function(){var $topBannerPos=$('#top_banner_above_chat');if($topBannerPos.length){$topBannerPos.append($('.content_container .banner_top_chat'));$.adjustTopBannerIframe();}};$.moveAlertsAboveChat=function(){var $alertsPos=$('#alerts_above_chat');if($alertsPos.length){$alertsPos.append($('.content_container .jl_alert_outer'));}};$.showToolbarControl=function(){var $toolbar=$('.toolbar_control');if($toolbar.length){$toolbar.show();$toolbar.filter('.mini').each(function(){var $navbar=$(this).parents('.navbar_panel_header');$navbar.show();var $menu=$(this).parents('.navbar_panel_header').next();$menu.hide();});}};$(document).ready(function(){$.removeURLParameter('ntpop');if($('#mls_chatconsole').is(':visible')||$('#mls_videoconsole').is(':visible')){$.showBottomBanner();$.hideModelsCategoriesList();$.moveTopBannerAboveChat();$.moveAlertsAboveChat();$.showToolbarControl();}
var resizeTimer;$(window).unbind('.mls_tabs').bind('resize.mls_tabs',function(){if(resizeTimer)clearTimeout(resizeTimer);resizeTimer=setTimeout(function(){fixTabs();},100);});function fixTabs(){var $mlsTabsContainer=$('#mls_tabs_container');if(!$mlsTabsContainer.length||!$mlsTabsContainer.find('.mls_tabs').is(':visible'))return;var $lastTab=$('.mls_tabs li:last');var $filter=$mlsTabsContainer.find('#filter_control');var distance=getDistance();if(distance<10){if(!$filter.hasClass('filter_control_min')){$filter.addClass('filter_control_min');}
distance=getDistance();if(!$mlsTabsContainer.find('.mls_tabs').hasClass('mls_tabs_min')&&distance<10){$mlsTabsContainer.find('.mls_tabs').addClass('mls_tabs_min');}}else if(distance>=$filter.find('.word').width()+10){if($filter.hasClass('filter_control_min')){$filter.removeClass('filter_control_min');}
distance=getDistance();if(distance>=200){if($mlsTabsContainer.find('.mls_tabs').hasClass('mls_tabs_min')&&distance>=200){$mlsTabsContainer.find('.mls_tabs').removeClass('mls_tabs_min');}}}
function getDistance(){var distance=0;if(window.isRTL){distance=$lastTab.offset().left-($filter.offset().left+$filter.width()+15);}else{distance=$filter.offset().left-($lastTab.offset().left+$lastTab.width());}
return distance;}}
fixTabs();$('#visited_room_list').delegate('a.chat','click',function(){var $link=$(this);if(!window.chat){location.href=$link.attr('href');}else{$.loadChatRoom($link.parents('.chatroom:first').attr('chathost'),$link.attr('title'));}
return false;});$('.quickjoin').find('form').attr('onsubmit','return false').submit(function(){var email=$(this).find('input:visible:first').val();$.open.newWindow($(this).attr('action')+(email?'?email='+email:''),{windowName:'quickjoin'+(email?'_'+email:''),width:1180,height:550,left:(($(window).width()-1180)/2),top:(($(window).height()-550)/2),scrollbars:false},{});return false;});$("#bChat").bind("onBeforeGetRoom",function(e){if(!$("#chatContainer").hasClass('vipZone')){$.ajaxLoadBanners();}
if('function'==typeof _gaTrackerSend){_gaTrackerSend();}});$('a.remove_ads').click(function(){$.ajax({url:$(this).attr('href'),dataType:'json',context:$(this),type:'delete',success:function(data,textStatus,XMLHttpRequest){},error:function(request,textStatus,errorThrown){}});$('div.right_banners').remove();$('div.mls_models_container').removeClass('screen_large screen_medium screen_small');$('div.chat_right_banner').remove();$('#mls_chatconsole').removeClass('screen_large screen_medium screen_small');if($('#mls_container').length){var mls=$('#mls_container').data('listing');if(mls){mls.resizer.resize();}}
return false;});var $videoConsole=$('#mls_videoconsole');if($videoConsole.length){var scrn,$banners=$('.vc_banners').hide(),videoHeight=592,w=document.body.clientWidth,bannerUrl=$banners.data('url')+'&id=';if(w>=1900){scrn='large';videoHeight=477;$('.mls_models_hd_title').show();createTubeChatBanner(bannerUrl+'14',scrn);createTubeChatBanner(bannerUrl+'15',scrn);}else if(w>=1300){scrn='medium';$('.mls_models_hd_title').hide();createTubeChatBanner(bannerUrl+'16',scrn);}else{scrn='small';$('.mls_models_hd_title').hide();createTubeChatBanner(bannerUrl+'17',scrn);}
var blockHeight=$banners.outerHeight(true)+$('.mls_video_title').outerHeight(true);if(blockHeight!=$videoConsole.height()){$('.video_player').find('.jp-video').attr('video_height',videoHeight);$videoConsole.height(blockHeight);}}
function createTubeChatBanner(url,scrn){$('<div class="vc_banner '+scrn+'">').appendTo('.vc_banners');if(!$.ajaxLoadBannersUrl){$('.vc_banner:last').width(0);return false;}
var $frame=$('<iframe>',{src:url,frameborder:0,scrolling:'no'}).appendTo('.vc_banner:last');$frame.load(function(){$('.video_player').resizeTubeChat();$('.vc_banners').show();});}
$('.mls_models_hd .chat').click(function(){$.loadChatRoom($(this).data('username'),$(this).data('display_name'))});var $filterForm=$('.mls_search').find('form');var $searchFilters=$('#mls_search_filters');$('.open_search_filter').click(function(){if($filterForm.find($searchFilters)){$('#search_above_top_banner').append($searchFilters);}
$('#dmca_security').hide();$searchFilters.slideToggle(400,function(){if(chat){chat.adjustDMCASecurityIcon();}
$('#dmca_security').show();});return false;});$searchFilters.find('input:checkbox').kalypto({hideInputs:true,toggleClass:"toggleSF icon_set7"}).change(function(){var $parent=$(this).closest('li');if($(this).attr('checked')){$parent.addClass('checked');}else{$parent.removeClass('checked');}});$('.saf_reset').click(function(){$searchFilters.find('input:checkbox:checked').trigger('click').closest('li').removeClass('checked');});$('.saf_input_reset').click(function(){$('#mls_search_filters').slideToggle();});});})(jQuery);$(document).ready(function(){var $qFilter=$('#filter_popover');$('#filter_control').click('click',function(){if($qFilter.hasClass('opened')){$qFilter.removeClass('opened');}else{$qFilter.addClass('opened').focus();$(document).bind('click.filter',function(event){if(!$(event.target).parents().addBack().is('#filter_control')){$qFilter.removeClass('opened');$(document).unbind('.filter')}});}});$qFilter.bind('click',function(event){event.stopPropagation();});$qFilter.find('input:radio').kalypto({hideInputs:true,toggleClass:"toggleQF icon_set7"});});function getAutoThumbSize(){if(window.innerWidth<1300){return'small';}else if(window.innerWidth<=1900){return'medium';}else{return'big';}}
function ListingZoneResize(params){this.$container=$('#mls_container');this._params=params;this._thumb=new ListingZoneResize.Thumb(this.$container,params);this.styleSheetId='running_style';this.changeStyle=params.changeStyle;if(this.changeStyle){this._stylesheet=new ListingZoneResize.Stylesheet(this.styleSheetId);this._attachHandlers();}else{$('#'+this.styleSheetId).remove();}}
ListingZoneResize.prototype={constructor:ListingZoneResize,_attachHandlers:function(){var self=this;var resizeTimer;$(window).unbind('.mls_container').bind('resize.mls_container',function(){if(resizeTimer)clearTimeout(resizeTimer);resizeTimer=setTimeout(function(){if($('#mls_models').hasClass('mls_models_resizable')){var listing=self.$container.data('listing');var thumbSize=getAutoThumbSize();if(listing.currentThumbSize!=thumbSize){listing.lastThumbSize=listing.currentThumbSize;listing.currentThumbSize=thumbSize;if(!listing.stateData){listing.load(listing.page);}else{if(listing.thumbWidthValues[thumbSize]>listing.thumbWidthValues[listing.lastThumbSize]){var models=listing.stateData.models.map(function(item){if('small'==listing.lastThumbSize){item.profile_image=item.profile_image.replace('thumb.jpg','thumb_big.jpg');item.live_image=item.live_image.replace('small','big');}else if('medium'==listing.lastThumbSize){item.profile_image=item.profile_image.replace('medium','big');item.live_image=item.live_image.replace('medium','big');}
return item;});listing.stateData.models=models;}
listing.stateData.th_size=thumbSize;listing.render();}
self.updateThumbWidth(listing.thumbWidthValues[thumbSize]);}}
self.resize();},100);});},resize:function(){if(!this.changeStyle)return false;var self=this;self._stylesheet.clearStylesheet();var dist=self._thumb.getDistance();self._stylesheet.addRule('#mls_container .mls .mls_models .mls_item',this._thumb.cssRuleName+': '+dist+'px');if(this._thumb.vipZoneClass=='vip_white'){self._stylesheet.addRule('#mls_container .mls .mls_models_vip .mls_item.first_item',this._thumb.cssRuleNameCross+': 0');var diff=this._thumb.vipWhiteIndent;diff=diff>0?diff:0;self._stylesheet.addRule('#mls_container .mls .mls_models_vip.vip_white .mls_models',{'padding-right':diff+'px','padding-left':diff+'px'});}
self._stylesheet.addRule('#mls_container .mls .mls_models .mls_item.last_item',this._thumb.cssRuleName+': 0');self._stylesheet.addRule('#mls_container .mls .mls_models .mls_item.first_item',this._thumb.cssRuleNameCross+': 0');if(self._thumb.$vipShowThumb.length&&self._thumb.vipShowThumbIsBig){self._stylesheet.addRule('.mls .mls_models .mls_item.mls_item_vip .thumbnail_small',{'width':self._thumb.getVipShowWidth()+'px'});self._stylesheet.addRule('.mls .mls_models .mls_item.mls_item_vip .thumbnail_small img',this._thumb.cssRuleNameWs+': '+this._thumb.getVipShowImgIndent()+'px;');self._stylesheet.addRule('.mls .mls_item.mls_item_vip .thumbnail_small .bage_vip',this._thumb.cssRuleNameWs+': '+this._thumb.getVipShowBageIndent()+'px');}},getThumbsPerRow:function(){this._thumb.recalculateCountInLine();return this._thumb.countInLine;},updateThumbWidth:function(width){this._stylesheet.clearStylesheet();this._params.thumbWidth=width;this._thumb=new ListingZoneResize.Thumb(this.$container,this._params);}};ListingZoneResize.Thumb=function($container,params){this.$container=$container;this._params=params;this.thumbWidth=this._params.thumbWidth;this.initThumbDistance=12;this.thumbDistance=this.initThumbDistance;this.thumbDistanceCross=4;this.newThumbWidth=this._params.thumbWidth-this.thumbDistance;this.containerIndent=parseInt($('.mls_models_container').css(window.isRTL?'padding-left':'padding-right'));this.containerWidth=this.$container.width()-this.containerIndent;this.countInLine=Math.floor(this.containerWidth/this.thumbWidth);this.$mls=this.$container.find('.mls_models');this.isVipZone=$('#mls_models').hasClass('mls_models_vip');this.vipZoneClass=params.vipZoneClass;this.initVipWhiteIndent=(this.vipZoneClass=='vip_white')?5:0;this.vipWhiteIndent=this.initVipWhiteIndent;this.cssRuleName=window.isRTL?'margin-left':'margin-right';this.cssRuleNameCross=window.isRTL?'margin-right':'margin-left';this.cssRuleNameWs=window.isRTL?'margin-right':'margin-left';this.$vipShowThumb=this.$container.find('.mls_item_vip');this.vipShowThumbWidth=this.$vipShowThumb.first().width();this.newVipShowThumbWidth=this.vipShowThumbWidth-this.thumbDistance;this.vipShowThumbIsBig=this.$vipShowThumb.find('.thumbnail_small').length;this.vipShowImgIndent=parseInt(this.$vipShowThumb.find('.chat').find('img').css(this.cssRuleNameWs));this.vipShowBageIndent=parseInt(this.$vipShowThumb.find('.bage_vip').css(this.cssRuleNameWs));};ListingZoneResize.Thumb.prototype={constructor:ListingZoneResize.Thumb,_refreshParams:function(){this.thumbDistance=this.initThumbDistance;this.newThumbWidth=this._params.thumbWidth-this.thumbDistance;this.containerIndent=parseInt($('.mls_models_container').css(window.isRTL?'padding-left':'padding-right'));if(this.containerWidth!=this.$container.width()-this.containerIndent){this.containerWidth=this.$container.width()-this.containerIndent;}
this.countInLine=Math.floor(this.containerWidth/this.thumbWidth);this.$mls=this.$container.find('.mls_models');this.vipWhiteIndent=this.initVipWhiteIndent;if(!this.$vipShowThumb.length){this.$vipShowThumb=this.$container.find('.mls_item_vip');this.vipShowThumbWidth=this.$vipShowThumb.first().width();}
this.newVipShowThumbWidth=this.vipShowThumbWidth-this.thumbDistance;this.vipShowThumbIsBig=this.$vipShowThumb.find('.thumbnail_small').length;},recalculateCountInLine:function(){this._refreshParams();var newDistance=this.thumbDistance;var thumbWidth=this.thumbWidth;var countInLine=this.countInLine;var thumbWidthV=thumbWidth;var countInLineV=countInLine;for(var i=0;i<=this.thumbDistance;i++){thumbWidthV=thumbWidth-i;countInLineV=Math.floor(this.containerWidth/thumbWidthV);if(countInLineV>countInLine){thumbWidth=thumbWidthV;countInLine=countInLineV;newDistance-=i;break;}}
var diff=newDistance+(this.containerWidth%(this.newThumbWidth+newDistance));if(this.vipZoneClass=='vip_white'&&this.isVipZone){var newDistanceV=newDistance+Math.floor((diff-(this.vipWhiteIndent*2+2-this.thumbDistanceCross))/(countInLine-1));if(newDistanceV<=3){if(newDistanceV<1){newDistanceV=Math.abs(newDistanceV);var decrease;if(newDistanceV==0){decrease=2;}else if(newDistanceV==1){decrease=4;}else if(newDistanceV==2){decrease=3;}else{decrease=newDistanceV;}}else{if(newDistanceV==3){decrease=2;}else{decrease=newDistanceV;}}
this.vipWhiteIndent-=decrease;}
diff-=(this.vipWhiteIndent*2+2-this.thumbDistanceCross);}else{diff+=this.thumbDistanceCross;}
newDistance+=Math.floor(diff/(countInLine-1));var containerWidth=(this.vipZoneClass=='vip_white'&&this.isVipZone)?(this.containerWidth-this.vipWhiteIndent*2):this.containerWidth;var newContainerWidth=countInLine*(this.newThumbWidth+newDistance)-newDistance;if(containerWidth!=newContainerWidth){newDistance-=(newContainerWidth-containerWidth)/(countInLine-1);}
this.thumbDistance=newDistance;this.countInLine=countInLine;},getDistance:function(){this.recalculateCountInLine();var count=this.countInLine;this._clearSideDistance(this.$mls,count);return this.thumbDistance;},_clearSideDistance:function($zone,countInLine){var self=this;var $items=$zone.find('.mls_item');var deletedLastMarginIndex;var hasVipShowBig=$zone.find('.mls_item_vip').length&&$zone.find('.thumbnail_small').length;self.refreshSideDistance();$items.eq(0).addClass('first_item');$items.eq($items.length-1).addClass('last_item');if($items.length<=2){return false;}
$items.each(function(){var clearMargin=$(this).index()%countInLine==countInLine-1;if(hasVipShowBig){if(self.countInLine==countInLine){clearMargin=$(this).index()==countInLine-2||(deletedLastMarginIndex&&$(this).index()%countInLine==countInLine-4);}else{clearMargin=$(this).index()==countInLine-2||($(this).index()==countInLine-1&&$(this).index()==2)||$(this).index()==deletedLastMarginIndex+countInLine;}
if(clearMargin){deletedLastMarginIndex=$(this).index();}}
if(clearMargin){$(this).addClass('last_item');if($(this).index()>0&&$(this).hasClass('first_item')){$(this).removeClass('first_item');}
if(!(self.vipShowThumbIsBig&&$(this).index()==self.countInLine-2)){$(this).next().addClass('first_item');}}});},refreshSideDistance:function(){this.$container.find('.last_item').removeClass('last_item');this.$container.find('.first_item').removeClass('first_item');},getVipShowWidth:function(){return this.newVipShowThumbWidth+this.thumbDistance;},getVipShowImgIndent:function(){return this.vipShowImgIndent+(this.getVipShowWidth()-this.vipShowThumbWidth)/2;},getVipShowBageIndent:function(){return this.vipShowBageIndent+(this.getVipShowWidth()-this.vipShowThumbWidth)/2;}};ListingZoneResize.Stylesheet=function(sheetId){this.sheetId=sheetId;this.sheet=$('#'+this.sheetId);this._initStyleSheet();};ListingZoneResize.Stylesheet.prototype={constructor:ListingZoneResize.Stylesheet,_initStyleSheet:function(){$('#'+this.sheetId).remove();$('head').append('<style id="'+this.sheetId+'" type="text/css"/>');this.sheet=$('#'+this.sheetId);},getSheet:function(){return this.sheet.get(0).sheet;},clearStylesheet:function(){var sheet=this.getSheet();$.grep(sheet.cssRules,function(el,i){if(el){sheet.deleteRule(i);}});},addRule:function(selector,styles){var sheet=this.getSheet();if(typeof styles!=="string"){var clone="";for(var style in styles){var val=styles[style];style=style.replace(/([A-Z])/g,"-$1").toLowerCase();clone+=style+":"+(style==="content"?'"'+val+'"':val)+"; ";}
styles=clone;$.grep(sheet.cssRules,function(el,i){if(el&&el.selectorText==selector){sheet.deleteRule(i);}});}
if(sheet.insertRule){sheet.insertRule(selector+" {"+styles+"}",sheet.cssRules.length);}else if(sheet.addRule){sheet.addRule(selector,styles);}}};
(function(jQuery){$.formatNumber=function(num,params){var sDefaults={numberOfDecimals:0,decimalSeparator:'.',thousandSeparator:'',symbol:''};var options=jQuery.extend(sDefaults,params);var number=num;var decimals=options.numberOfDecimals;var dec_point=options.decimalSeparator;var thousands_sep=options.thousandSeparator;var currencySymbol=options.symbol;var exponent="";var numberstr=number.toString();var eindex=numberstr.indexOf("e");if(eindex>-1)
{exponent=numberstr.substring(eindex);number=parseFloat(numberstr.substring(0,eindex));}
if(decimals!=null)
{var temp=Math.pow(10,decimals);number=Math.round(number*temp)/temp;}
var sign=number<0?"-":"";var integer=(number>0?Math.floor(number):Math.abs(Math.ceil(number))).toString();var fractional=number.toString().substring(integer.length+sign.length);dec_point=dec_point!=null?dec_point:".";fractional=decimals!=null&&decimals>0||fractional.length>1?(dec_point+fractional.substring(1)):"";if(decimals!=null&&decimals>0)
{for(i=fractional.length-1,z=decimals;i<z;++i)
fractional+="0";}
thousands_sep=(thousands_sep!=dec_point||fractional.length==0)?thousands_sep:null;if(thousands_sep!=null&&thousands_sep!="")
{for(i=integer.length-3;i>0;i-=3)
integer=integer.substring(0,i)+thousands_sep+integer.substring(i);}
if(options.symbol=='')
{return sign+integer+fractional+exponent;}
else
{return currencySymbol+' '+sign+integer+fractional+exponent;}};})(jQuery);
(function($){var selectorOwner,activePalette,cItterate=0,templates={control:$('<div class="colorPicker-picker">&nbsp;</div>'),palette:$('<div id="colorPicker_palette" class="colorPicker-palette" />'),swatch:$('<div class="colorPicker-swatch">&nbsp;</div>'),hexLabel:$('<label for="colorPicker_hex">Hex</label>'),hexField:$('<input type="text" id="colorPicker_hex" />')},transparent="transparent",lastColor;$.fn.colorPicker=function(options){return this.each(function(){var element=$(this),opts=$.extend({},$.fn.colorPicker.defaults,options),defaultColor=$.fn.colorPicker.toHex((element.val().length>0)?element.val():opts.pickerDefault),newControl=templates.control.clone(),newPalette=templates.palette.clone().attr('id','colorPicker_palette-'+cItterate),newHexLabel=templates.hexLabel.clone(),newHexField=templates.hexField.clone(),paletteId=newPalette[0].id,swatch;$.each(opts.colors,function(i){swatch=templates.swatch.clone();if(opts.colors[i]===transparent){swatch.addClass(transparent).text('X');$.fn.colorPicker.bindPalette(newHexField,swatch,transparent);}else{swatch.css("background-color","#"+this);$.fn.colorPicker.bindPalette(newHexField,swatch);}
swatch.appendTo(newPalette);});newHexLabel.attr('for','colorPicker_hex-'+cItterate);newHexField.attr({'id':'colorPicker_hex-'+cItterate,'value':defaultColor});newHexField.bind("keydown",function(event){if(event.keyCode===13){$.fn.colorPicker.changeColor($.fn.colorPicker.toHex($(this).val()));}
if(event.keyCode===27){$.fn.colorPicker.hidePalette(paletteId);}});$('<div class="colorPicker_hexWrap" />').append(newHexLabel).appendTo(newPalette);newPalette.find('.colorPicker_hexWrap').append(newHexField);$("body").append(newPalette);newPalette.hide();newControl.css("background-color",defaultColor);newControl.bind("click",function(){$.fn.colorPicker.togglePalette($('#'+paletteId),$(this));});element.after(newControl);element.bind("change",function(){element.next(".colorPicker-picker").css("background-color",$.fn.colorPicker.toHex($(this).val()));});element.val(defaultColor).hide();cItterate++;});};$.extend(true,$.fn.colorPicker,{toHex:function(color){if(color.match(/[0-9A-F]{6}|[0-9A-F]{3}$/i)){return(color.charAt(0)==="#")?color:("#"+color);}else if(color.match(/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/)){var c=([parseInt(RegExp.$1,10),parseInt(RegExp.$2,10),parseInt(RegExp.$3,10)]),pad=function(str){if(str.length<2){for(var i=0,len=2-str.length;i<len;i++){str='0'+str;}}
return str;};if(c.length===3){var r=pad(c[0].toString(16)),g=pad(c[1].toString(16)),b=pad(c[2].toString(16));return'#'+r+g+b;}}else{return false;}},checkMouse:function(event,paletteId){var selector=activePalette,selectorParent=$(event.target).parents("#"+selector.attr('id')).length;if(event.target===$(selector)[0]||event.target===selectorOwner||selectorParent>0){return;}
$.fn.colorPicker.hidePalette();},hidePalette:function(paletteId){$(document).unbind("mousedown",$.fn.colorPicker.checkMouse);$('.colorPicker-palette').hide();},showPalette:function(palette){var hexColor=selectorOwner.prev("input").val();palette.css({top:selectorOwner.offset().top+(selectorOwner.outerHeight()),left:selectorOwner.offset().left});$("#color_value").val(hexColor);palette.show();$(document).bind("mousedown",$.fn.colorPicker.checkMouse);},togglePalette:function(palette,origin){if(origin){selectorOwner=origin;}
activePalette=palette;if(activePalette.is(':visible')){$.fn.colorPicker.hidePalette();}else{$.fn.colorPicker.showPalette(palette);}},changeColor:function(value){selectorOwner.css("background-color",value);selectorOwner.prev("input").val(value).change();$.fn.colorPicker.hidePalette();},bindPalette:function(paletteInput,element,color){color=color?color:$.fn.colorPicker.toHex(element.css("background-color"));element.bind({click:function(ev){lastColor=color;$.fn.colorPicker.changeColor(color);},mouseover:function(ev){lastColor=paletteInput.val();$(this).css("border-color","#598FEF");paletteInput.val(color);},mouseout:function(ev){$(this).css("border-color","#000");paletteInput.val(selectorOwner.css("background-color"));paletteInput.val(lastColor);}});}});$.fn.colorPicker.defaults={pickerDefault:"FFFFFF",colors:['000000','993300','333300','000080','333399','333333','800000','FF6600','808000','008000','008080','0000FF','666699','808080','FF0000','FF9900','99CC00','339966','33CCCC','3366FF','800080','999999','FF00FF','FFCC00','FFFF00','00FF00','00FFFF','00CCFF','993366','C0C0C0','FF99CC','FFCC99','FFFF99','CCFFFF','99CCFF','FFFFFF'],addColors:[]};})(jQuery);
$.extend({URLEncode:function(c){var o='';var x=0;c=c.toString();var r=/(^[a-zA-Z0-9_.]*)/;while(x<c.length){var m=r.exec(c.substr(x));if(m!=null&&m.length>1&&m[1]!=''){o+=m[1];x+=m[1].length;}else{if(c[x]==' ')o+='+';else{var d=c.charCodeAt(x);var h=d.toString(16);o+='%'+(h.length<2?'0':'')+h.toUpperCase();}x++;}}return o;},URLDecode:function(s){var o=s;var binVal,t;var r=/(%[^%]{2})/;while((m=r.exec(o))!=null&&m.length>1&&m[1]!=''){b=parseInt(m[1].substr(1),16);t=String.fromCharCode(b);o=o.replace(m[1],t);}return o;}});
/* SWFObject v2.2 <http://code.google.com/p/swfobject/> 
 is released under the MIT License <http://www.opensource.org/licenses/mit-license.php> 
*/
var swfobject=function(){var UNDEF="undefined",OBJECT="object",SHOCKWAVE_FLASH="Shockwave Flash",SHOCKWAVE_FLASH_AX="ShockwaveFlash.ShockwaveFlash",FLASH_MIME_TYPE="application/x-shockwave-flash",EXPRESS_INSTALL_ID="SWFObjectExprInst",ON_READY_STATE_CHANGE="onreadystatechange",win=window,doc=document,nav=navigator,plugin=false,domLoadFnArr=[main],regObjArr=[],objIdArr=[],listenersArr=[],storedAltContent,storedAltContentId,storedCallbackFn,storedCallbackObj,isDomLoaded=false,isExpressInstallActive=false,dynamicStylesheet,dynamicStylesheetMedia,autoHideShow=true,ua=function(){var w3cdom=typeof doc.getElementById!=UNDEF&&typeof doc.getElementsByTagName!=UNDEF&&typeof doc.createElement!=UNDEF,u=nav.userAgent.toLowerCase(),p=nav.platform.toLowerCase(),windows=p?/win/.test(p):/win/.test(u),mac=p?/mac/.test(p):/mac/.test(u),webkit=/webkit/.test(u)?parseFloat(u.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):false,ie=!+"\v1",playerVersion=[0,0,0],d=null;if(typeof nav.plugins!=UNDEF&&typeof nav.plugins[SHOCKWAVE_FLASH]==OBJECT){d=nav.plugins[SHOCKWAVE_FLASH].description;if(d&&!(typeof nav.mimeTypes!=UNDEF&&nav.mimeTypes[FLASH_MIME_TYPE]&&!nav.mimeTypes[FLASH_MIME_TYPE].enabledPlugin)){plugin=true;ie=false;d=d.replace(/^.*\s+(\S+\s+\S+$)/,"$1");playerVersion[0]=parseInt(d.replace(/^(.*)\..*$/,"$1"),10);playerVersion[1]=parseInt(d.replace(/^.*\.(.*)\s.*$/,"$1"),10);playerVersion[2]=/[a-zA-Z]/.test(d)?parseInt(d.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0;}}
else if(typeof win.ActiveXObject!=UNDEF){try{var a=new ActiveXObject(SHOCKWAVE_FLASH_AX);if(a){d=a.GetVariable("$version");if(d){ie=true;d=d.split(" ")[1].split(",");playerVersion=[parseInt(d[0],10),parseInt(d[1],10),parseInt(d[2],10)];}}}
catch(e){}}
return{w3:w3cdom,pv:playerVersion,wk:webkit,ie:ie,win:windows,mac:mac};}(),onDomLoad=function(){if(!ua.w3){return;}
if((typeof doc.readyState!=UNDEF&&doc.readyState=="complete")||(typeof doc.readyState==UNDEF&&(doc.getElementsByTagName("body")[0]||doc.body))){callDomLoadFunctions();}
if(!isDomLoaded){if(typeof doc.addEventListener!=UNDEF){doc.addEventListener("DOMContentLoaded",callDomLoadFunctions,false);}
if(ua.ie&&ua.win){doc.attachEvent(ON_READY_STATE_CHANGE,function(){if(doc.readyState=="complete"){doc.detachEvent(ON_READY_STATE_CHANGE,arguments.callee);callDomLoadFunctions();}});if(win==top){(function(){if(isDomLoaded){return;}
try{doc.documentElement.doScroll("left");}
catch(e){setTimeout(arguments.callee,0);return;}
callDomLoadFunctions();})();}}
if(ua.wk){(function(){if(isDomLoaded){return;}
if(!/loaded|complete/.test(doc.readyState)){setTimeout(arguments.callee,0);return;}
callDomLoadFunctions();})();}
addLoadEvent(callDomLoadFunctions);}}();function callDomLoadFunctions(){if(isDomLoaded){return;}
try{var t=doc.getElementsByTagName("body")[0].appendChild(createElement("span"));t.parentNode.removeChild(t);}
catch(e){return;}
isDomLoaded=true;var dl=domLoadFnArr.length;for(var i=0;i<dl;i++){domLoadFnArr[i]();}}
function addDomLoadEvent(fn){if(isDomLoaded){fn();}
else{domLoadFnArr[domLoadFnArr.length]=fn;}}
function addLoadEvent(fn){if(typeof win.addEventListener!=UNDEF){win.addEventListener("load",fn,false);}
else if(typeof doc.addEventListener!=UNDEF){doc.addEventListener("load",fn,false);}
else if(typeof win.attachEvent!=UNDEF){addListener(win,"onload",fn);}
else if(typeof win.onload=="function"){var fnOld=win.onload;win.onload=function(){fnOld();fn();};}
else{win.onload=fn;}}
function main(){if(plugin){testPlayerVersion();}
else{matchVersions();}}
function testPlayerVersion(){var b=doc.getElementsByTagName("body")[0];var o=createElement(OBJECT);o.setAttribute("type",FLASH_MIME_TYPE);var t=b.appendChild(o);if(t){var counter=0;(function(){if(typeof t.GetVariable!=UNDEF){var d=t.GetVariable("$version");if(d){d=d.split(" ")[1].split(",");ua.pv=[parseInt(d[0],10),parseInt(d[1],10),parseInt(d[2],10)];}}
else if(counter<10){counter++;setTimeout(arguments.callee,10);return;}
b.removeChild(o);t=null;matchVersions();})();}
else{matchVersions();}}
function matchVersions(){var rl=regObjArr.length;if(rl>0){for(var i=0;i<rl;i++){var id=regObjArr[i].id;var cb=regObjArr[i].callbackFn;var cbObj={success:false,id:id};if(ua.pv[0]>0){var obj=getElementById(id);if(obj){if(hasPlayerVersion(regObjArr[i].swfVersion)&&!(ua.wk&&ua.wk<312)){setVisibility(id,true);if(cb){cbObj.success=true;cbObj.ref=getObjectById(id);cb(cbObj);}}
else if(regObjArr[i].expressInstall&&canExpressInstall()){var att={};att.data=regObjArr[i].expressInstall;att.width=obj.getAttribute("width")||"0";att.height=obj.getAttribute("height")||"0";if(obj.getAttribute("class")){att.styleclass=obj.getAttribute("class");}
if(obj.getAttribute("align")){att.align=obj.getAttribute("align");}
var par={};var p=obj.getElementsByTagName("param");var pl=p.length;for(var j=0;j<pl;j++){if(p[j].getAttribute("name").toLowerCase()!="movie"){par[p[j].getAttribute("name")]=p[j].getAttribute("value");}}
showExpressInstall(att,par,id,cb);}
else{displayAltContent(obj);if(cb){cb(cbObj);}}}}
else{setVisibility(id,true);if(cb){var o=getObjectById(id);if(o&&typeof o.SetVariable!=UNDEF){cbObj.success=true;cbObj.ref=o;}
cb(cbObj);}}}}}
function getObjectById(objectIdStr){var r=null;var o=getElementById(objectIdStr);if(o&&o.nodeName=="OBJECT"){if(typeof o.SetVariable!=UNDEF){r=o;}
else{var n=o.getElementsByTagName(OBJECT)[0];if(n){r=n;}}}
return r;}
function canExpressInstall(){return!isExpressInstallActive&&hasPlayerVersion("6.0.65")&&(ua.win||ua.mac)&&!(ua.wk&&ua.wk<312);}
function showExpressInstall(att,par,replaceElemIdStr,callbackFn){isExpressInstallActive=true;storedCallbackFn=callbackFn||null;storedCallbackObj={success:false,id:replaceElemIdStr};var obj=getElementById(replaceElemIdStr);if(obj){if(obj.nodeName=="OBJECT"){storedAltContent=abstractAltContent(obj);storedAltContentId=null;}
else{storedAltContent=obj;storedAltContentId=replaceElemIdStr;}
att.id=EXPRESS_INSTALL_ID;if(typeof att.width==UNDEF||(!/%$/.test(att.width)&&parseInt(att.width,10)<310)){att.width="310";}
if(typeof att.height==UNDEF||(!/%$/.test(att.height)&&parseInt(att.height,10)<137)){att.height="137";}
doc.title=doc.title.slice(0,47)+" - Flash Player Installation";var pt=ua.ie&&ua.win?"ActiveX":"PlugIn",fv="MMredirectURL="+encodeURI(window.location).toString().replace(/&/g,"%26")+"&MMplayerType="+pt+"&MMdoctitle="+doc.title;if(typeof par.flashvars!=UNDEF){par.flashvars+="&"+fv;}
else{par.flashvars=fv;}
if(ua.ie&&ua.win&&obj.readyState!=4){var newObj=createElement("div");replaceElemIdStr+="SWFObjectNew";newObj.setAttribute("id",replaceElemIdStr);obj.parentNode.insertBefore(newObj,obj);obj.style.display="none";(function(){if(obj.readyState==4){obj.parentNode.removeChild(obj);}
else{setTimeout(arguments.callee,10);}})();}
createSWF(att,par,replaceElemIdStr);}}
function displayAltContent(obj){if(ua.ie&&ua.win&&obj.readyState!=4){var el=createElement("div");obj.parentNode.insertBefore(el,obj);el.parentNode.replaceChild(abstractAltContent(obj),el);obj.style.display="none";(function(){if(obj.readyState==4){obj.parentNode.removeChild(obj);}
else{setTimeout(arguments.callee,10);}})();}
else{obj.parentNode.replaceChild(abstractAltContent(obj),obj);}}
function abstractAltContent(obj){var ac=createElement("div");if(ua.win&&ua.ie){ac.innerHTML=obj.innerHTML;}
else{var nestedObj=obj.getElementsByTagName(OBJECT)[0];if(nestedObj){var c=nestedObj.childNodes;if(c){var cl=c.length;for(var i=0;i<cl;i++){if(!(c[i].nodeType==1&&c[i].nodeName=="PARAM")&&!(c[i].nodeType==8)){ac.appendChild(c[i].cloneNode(true));}}}}}
return ac;}
function createSWF(attObj,parObj,id){var r,el=getElementById(id);if(ua.wk&&ua.wk<312){return r;}
if(el){if(typeof attObj.id==UNDEF){attObj.id=id;}
if(ua.ie&&ua.win){var att="";for(var i in attObj){if(attObj[i]!=Object.prototype[i]){if(i.toLowerCase()=="data"){parObj.movie=attObj[i];}
else if(i.toLowerCase()=="styleclass"){att+=' class="'+attObj[i]+'"';}
else if(i.toLowerCase()!="classid"){att+=' '+i+'="'+attObj[i]+'"';}}}
var par="";for(var j in parObj){if(parObj[j]!=Object.prototype[j]){par+='<param name="'+j+'" value="'+parObj[j]+'" />';}}
el.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+att+'>'+par+'</object>';objIdArr[objIdArr.length]=attObj.id;r=getElementById(attObj.id);}
else{var o=createElement(OBJECT);o.setAttribute("type",FLASH_MIME_TYPE);for(var m in attObj){if(attObj[m]!=Object.prototype[m]){if(m.toLowerCase()=="styleclass"){o.setAttribute("class",attObj[m]);}
else if(m.toLowerCase()!="classid"){o.setAttribute(m,attObj[m]);}}}
for(var n in parObj){if(parObj[n]!=Object.prototype[n]&&n.toLowerCase()!="movie"){createObjParam(o,n,parObj[n]);}}
el.parentNode.replaceChild(o,el);r=o;}}
return r;}
function createObjParam(el,pName,pValue){var p=createElement("param");p.setAttribute("name",pName);p.setAttribute("value",pValue);el.appendChild(p);}
function removeSWF(id){var obj=getElementById(id);if(obj&&obj.nodeName=="OBJECT"){if(ua.ie&&ua.win){obj.style.display="none";(function(){if(obj.readyState==4){removeObjectInIE(id);}
else{setTimeout(arguments.callee,10);}})();}
else{obj.parentNode.removeChild(obj);}}}
function removeObjectInIE(id){var obj=getElementById(id);if(obj){for(var i in obj){if(typeof obj[i]=="function"){obj[i]=null;}}
obj.parentNode.removeChild(obj);}}
function getElementById(id){var el=null;try{el=doc.getElementById(id);}
catch(e){}
return el;}
function createElement(el){return doc.createElement(el);}
function addListener(target,eventType,fn){target.attachEvent(eventType,fn);listenersArr[listenersArr.length]=[target,eventType,fn];}
function hasPlayerVersion(rv){var pv=ua.pv,v=rv.split(".");v[0]=parseInt(v[0],10);v[1]=parseInt(v[1],10)||0;v[2]=parseInt(v[2],10)||0;return(pv[0]>v[0]||(pv[0]==v[0]&&pv[1]>v[1])||(pv[0]==v[0]&&pv[1]==v[1]&&pv[2]>=v[2]))?true:false;}
function createCSS(sel,decl,media,newStyle){if(ua.ie&&ua.mac){return;}
var h=doc.getElementsByTagName("head")[0];if(!h){return;}
var m=(media&&typeof media=="string")?media:"screen";if(newStyle){dynamicStylesheet=null;dynamicStylesheetMedia=null;}
if(!dynamicStylesheet||dynamicStylesheetMedia!=m){var s=createElement("style");s.setAttribute("type","text/css");s.setAttribute("media",m);dynamicStylesheet=h.appendChild(s);if(ua.ie&&ua.win&&typeof doc.styleSheets!=UNDEF&&doc.styleSheets.length>0){dynamicStylesheet=doc.styleSheets[doc.styleSheets.length-1];}
dynamicStylesheetMedia=m;}
if(ua.ie&&ua.win){if(dynamicStylesheet&&typeof dynamicStylesheet.addRule==OBJECT){dynamicStylesheet.addRule(sel,decl);}}
else{if(dynamicStylesheet&&typeof doc.createTextNode!=UNDEF){dynamicStylesheet.appendChild(doc.createTextNode(sel+" {"+decl+"}"));}}}
function setVisibility(id,isVisible){if(!autoHideShow){return;}
var v=isVisible?"visible":"hidden";if(isDomLoaded&&getElementById(id)){getElementById(id).style.visibility=v;}
else{createCSS("#"+id,"visibility:"+v);}}
function urlEncodeIfNecessary(s){var regex=/[\\\"<>\.;]/;var hasBadChars=regex.exec(s)!=null;return hasBadChars&&typeof encodeURIComponent!=UNDEF?encodeURIComponent(s):s;}
var cleanup=function(){if(ua.ie&&ua.win){window.attachEvent("onunload",function(){var ll=listenersArr.length;for(var i=0;i<ll;i++){listenersArr[i][0].detachEvent(listenersArr[i][1],listenersArr[i][2]);}
var il=objIdArr.length;for(var j=0;j<il;j++){removeSWF(objIdArr[j]);}
for(var k in ua){ua[k]=null;}
ua=null;for(var l in swfobject){swfobject[l]=null;}
swfobject=null;});}}();return{registerObject:function(objectIdStr,swfVersionStr,xiSwfUrlStr,callbackFn){if(ua.w3&&objectIdStr&&swfVersionStr){var regObj={};regObj.id=objectIdStr;regObj.swfVersion=swfVersionStr;regObj.expressInstall=xiSwfUrlStr;regObj.callbackFn=callbackFn;regObjArr[regObjArr.length]=regObj;setVisibility(objectIdStr,false);}
else if(callbackFn){callbackFn({success:false,id:objectIdStr});}},getObjectById:function(objectIdStr){if(ua.w3){return getObjectById(objectIdStr);}},embedSWF:function(swfUrlStr,replaceElemIdStr,widthStr,heightStr,swfVersionStr,xiSwfUrlStr,flashvarsObj,parObj,attObj,callbackFn){var callbackObj={success:false,id:replaceElemIdStr};if(ua.w3&&!(ua.wk&&ua.wk<312)&&swfUrlStr&&replaceElemIdStr&&widthStr&&heightStr&&swfVersionStr){setVisibility(replaceElemIdStr,false);addDomLoadEvent(function(){widthStr+="";heightStr+="";var att={};if(attObj&&typeof attObj===OBJECT){for(var i in attObj){att[i]=attObj[i];}}
att.data=swfUrlStr;att.width=widthStr;att.height=heightStr;var par={};if(parObj&&typeof parObj===OBJECT){for(var j in parObj){par[j]=parObj[j];}}
if(flashvarsObj&&typeof flashvarsObj===OBJECT){for(var k in flashvarsObj){if(typeof par.flashvars!=UNDEF){par.flashvars+="&"+k+"="+flashvarsObj[k];}
else{par.flashvars=k+"="+flashvarsObj[k];}}}
if(hasPlayerVersion(swfVersionStr)){var obj=createSWF(att,par,replaceElemIdStr);if(att.id==replaceElemIdStr){setVisibility(replaceElemIdStr,true);}
callbackObj.success=true;callbackObj.ref=obj;}
else if(xiSwfUrlStr&&canExpressInstall()){att.data=xiSwfUrlStr;showExpressInstall(att,par,replaceElemIdStr,callbackFn);return;}
else{setVisibility(replaceElemIdStr,true);}
if(callbackFn){callbackFn(callbackObj);}});}
else if(callbackFn){callbackFn(callbackObj);}},switchOffAutoHideShow:function(){autoHideShow=false;},ua:ua,getFlashPlayerVersion:function(){return{major:ua.pv[0],minor:ua.pv[1],release:ua.pv[2]};},hasFlashPlayerVersion:hasPlayerVersion,createSWF:function(attObj,parObj,replaceElemIdStr){if(ua.w3){return createSWF(attObj,parObj,replaceElemIdStr);}
else{return undefined;}},showExpressInstall:function(att,par,replaceElemIdStr,callbackFn){if(ua.w3&&canExpressInstall()){showExpressInstall(att,par,replaceElemIdStr,callbackFn);}},removeSWF:function(objElemIdStr){if(ua.w3){removeSWF(objElemIdStr);}},createCSS:function(selStr,declStr,mediaStr,newStyleBoolean){if(ua.w3){createCSS(selStr,declStr,mediaStr,newStyleBoolean);}},addDomLoadEvent:addDomLoadEvent,addLoadEvent:addLoadEvent,getQueryParamValue:function(param){var q=doc.location.search||doc.location.hash;if(q){if(/\?/.test(q)){q=q.split("?")[1];}
if(param==null){return urlEncodeIfNecessary(q);}
var pairs=q.split("&");for(var i=0;i<pairs.length;i++){if(pairs[i].substring(0,pairs[i].indexOf("="))==param){return urlEncodeIfNecessary(pairs[i].substring((pairs[i].indexOf("=")+1)));}}}
return"";},expressInstallCallback:function(){if(isExpressInstallActive){var obj=getElementById(EXPRESS_INSTALL_ID);if(obj&&storedAltContent){obj.parentNode.replaceChild(storedAltContent,obj);if(storedAltContentId){setVisibility(storedAltContentId,true);if(ua.ie&&ua.win){storedAltContent.style.display="block";}}
if(storedCallbackFn){storedCallbackFn(storedCallbackObj);}}
isExpressInstallActive=false;}}};}();
(function($){var chat=window.chat={service:{},userData:{},localData:{},performerData:null,chatHistoryLength:66,ignoredUsers:{},waitFriendConfirmUsers:{},isFreeUsersMuted:false,isVolumeSlidesShown:false,volumeSlidesInt:0,currentChatType:'public-chat',currentChatUsers:[],currentShowType:'public',performerStatus:'offline',isGroupChatInitialized:false,isGroupChatMembersReady:false,isGroupChatInvited:false,groupChatInvitationData:null,performerDesires:{},chatSettings:{},currentChathost:null,nextChathost:null,prevChathost:null,startNavigation:false,waitRoomConnect:false,onlineModels:[],onlineModelsData:[],options:{},_defaults:{debug:false,baseUrl:'',scriptName:''},init:function(options){this.debug('init...');$.extend(this.options,this._defaults,options);$('#bChat .sendInput, #bChatInputContainer .sendInput').keypress(function(e){if(e.keyCode==13&&this.value!=''){chat.sendMessage(this.value);return false;}});$('#bChat .sendButton, #bChatInputContainer .sendButton').click(function(e){var message=$(this).parents('.inputContainer').find('.sendInput').attr('value');if(message!=''){chat.sendMessage(message);}
return false;});this.initLayout();if('MobileChatService'==this.service.name){this.initMediator();this.createVideo();this.createAudio();}
var self=this;var resizeTimer=null;$(window).bind('resize',function(){if(resizeTimer)clearTimeout(resizeTimer);resizeTimer=setTimeout(function(){self.setChatHeight();},!$.mobile?200:0);});this.setChatHeight();this.debug('init done!');},resizeWindow:function(){if(window.opener){if($.browser.msie){window.resizeTo(document.documentElement.clientWidth+20,$('body').outerHeight(true)+100);}else{window.resizeTo(window.outerWidth,$('body').outerHeight(true)+(window.outerHeight-window.innerHeight));}}},ignoreUser:function(username){this.debug('isIgnored',this.isIgnored(username));if(this.isIgnored(username)){delete this.ignoredUsers[username];$('#context_menu_'+username).find('#ignoreCmd').html(__('Ignore User'));}else{this.ignoredUsers[username]=true;$('#context_menu_'+username).find('#ignoreCmd').html(__('Remove Ignore'));}},isIgnored:function(username){return this.ignoredUsers[username]!=undefined;},addServiceMessage:function(value,styleClass,chatType,tip){var $history;if(chatType!=undefined){$history=$("#"+chatType+" .history");}else{$history=$("#bChat .history");}
var tipAttrs='';if(tip){tipAttrs=' from="'+tip.from+'" amount="'+tip.amount+'"';}
var message='<p class="'+styleClass+'"'+tipAttrs+'>'+value+'</p>';this.addMessage(message,$history);this.service.addServiceMessage(message);},showPromt:function($promt){var top=$('#bChat .history:visible').offset().top;var left=$('#bChat .history:visible').offset().left;var width=$('#bChat .history:visible').width();$promtContainer=$('#bChatPromt');if(!$promtContainer.length){$promtContainer=$('<div id="bChatPromt"></div>');$promtContainer.appendTo(!$.mobile?'body':$.mobile.activePage);}
$promtContainer.css({top:top+'px',left:(left+(!window.isRTL?0:20))+'px',width:(width-12)+'px'});if(!$promtContainer.has($promt).length){$promtContainer.append($promt);}
$promt.animate({backgroundColor:"#ff99cc"},1000,function(){$promt.animate({backgroundColor:"#ffff00"},1000);});},hidePromt:function(e){var $promt=$(e).parent();$promt.remove();},buildAvatarUrl:function(from){if(!from.profileAvatarData){return from.profileAvatarUrl;}
return this.options.baseUrl+from.profileAvatarData.rel;},formatMessage:function(message,from,id){var k=$('#bChat').hasClass('bChatModel')?18:14;message=message.wordWrap('<br/>',Math.floor($('#bChat .historyContainer').width()/k));var canUsePremiumSmiles=((from.accessLevel=='gold'||from.accessLevel=='platinum'||from.accessLevel=='unlimited')||from.role=='model'||from.role=='moderator');message=$.Smileys.replace(message,canUsePremiumSmiles);var $message=$('<p class="message '+from.role+'"><dfn>'+from.displayName+': </dfn><span class="msg">'+message+'</span></p>');$message.attr('id','m'+id);if(from.userId){$message.attr('user_id',from.userId);}
if(from.fontStyle){$message.css(from.fontStyle);}
if((from.profileAvatarUrl||from.profileAvatarData)&&!$.mobile){$message.prepend('<span class="icon_avatar"><img class="profile" src="'+this.buildAvatarUrl(from)+'"/></span>');}
if(from.accessLevel){$message.addClass('member_'+from.accessLevel);}
$message.find('img.smiley_text').filter(function(index){return parseInt($(this).attr('w'))>$('#bChat .history:visible').width();}).addClass('smiley_fit');$message.find('dfn').data('userData',from);return $message;},isFriend:function(user){if($.activeFriendIds&&$.activeFriendIds[user.userId]){return true;}
return false;},canAddFriend:function(user){if(!this.userData.friendRequestSettings||!user.friendRequestSettings||user.friendRequestSettings=='none'){return false;}
if(user.isPerformer&&!this.userData.isPayable){return false;}
if(undefined!=this.waitFriendConfirmUsers[user.username]){return false;}
return!this.isFriend(user);},canSendPM:function(user){if(this.userData.isLogged&&(this.userData.role=='moderator'||(user.role&&user.role=='moderator'))){return true;}
if(!this.userData.isPerformer){if(!this.userData.isPayable){return false;}
else if(this.userData.accessLevel=='platinum'||this.userData.accessLevel=='unlimited'){return true;}}
if(user.isPerformer){if(this.chatSettings.privateMessageSettings){if(this.chatSettings.privateMessageSettings=='all'){return this.userData.balance>=this.chatSettings.privateMessageMinTokens;}
else if(this.chatSettings.privateMessageSettings=='friends'&&this.isFriend(user)){return this.userData.balance>=this.chatSettings.privateMessageMinTokens;}
else{return false;}}}else if(user.messageSenderSettings){return(user.messageSenderSettings=='all'||(user.messageSenderSettings=='friends'&&this.isFriend(user)));}
return true;},addToMyFriendIds:function(user){if($.activeFriendIds&&!$.activeFriendIds[user.userId]){$.activeFriendIds[user.userId]=true;delete this.waitFriendConfirmUsers[user.username];}},closeChat:function(forceHide){this.isGroupChatInitialized=false;this.isGroupChatInvited=false;$('#bPerformerDesires').html('');$('#bSocialButtons').html('');$('#bChat .users').html('').removeClass('users_full');$('.bChatUsersCount').html(0);this.disableChatInput();if(forceHide){$('#bChat .history').html('');$('#mls_chatconsole').hide();chat.currentChathost=null;chat.userData.chathost=null;}},nextRoom:function(){if(!this.userData||!this.performerData||!this.nextChathost)return false;if(this.onlineModelsData[this.nextChathost]){this.getRoom(this.nextChathost,{title:this.onlineModelsData[this.nextChathost].display_name});this.startNavigation=true;}},prevRoom:function(){if(!this.userData||!this.performerData||!this.prevChathost)return false;if(this.onlineModelsData[this.prevChathost]){this.getRoom(this.prevChathost,{title:this.onlineModelsData[this.prevChathost].display_name});this.startNavigation=true;}},getRoom:function(chathost,data){this.debug('getRoom',chathost,data,'currentChathost='+this.currentChathost,'waitRoomConnect='+this.waitRoomConnect);if(!chathost||this.currentChathost==chathost||this.waitRoomConnect)return;this.userData.chathost=chathost;this.waitRoomConnect=true;$("#bChatRoomTitle").html(data.title);if('MobileChatService'==this.service.name){if(undefined!=data.isVipZone&&data.isVipZone!=this.userData.isVipZone){this.userData.isVipZone=data.isVipZone;if(this.service.getSocket()){this.service.disconnect();this.performerData={};}}
if($.mobile){if(this.userData.isVipZone){$('.chat-header, .chat-content').addClass('vip-zone');$('#mls_caursel').data('zone','vip');$('.bottom_banner_container_chat').hide();$('#bChatStatus').html(__('Vip chat with'));$('#popupPrivate .goto-group').hide();}else{$('.chat-header, .chat-content').removeClass('vip-zone');$('#mls_caursel').data('zone','free');$('.bottom_banner_container_chat').show();$('#bChatStatus').html(__('Free chat with'));$('#popupPrivate .goto-group').show();}}
if(!this.service.connected()){this.debug('!!! ws is not connected, try to connect');this.service.connect(this.userData.isVipZone?this.localData.vipZoneChatServerUrl:this.localData.chatServerUrl);return;}}
if(this.currentChathost){this.closeRoom(true);}
this.setCurrentChathost(chathost);if(!$.mobile&&this.userData.isPayable){$.bongacamsPopupClose();}
$('#bChat').attr('chathost',chathost).find('.history').html('');$('#bChat').triggerHandler('onBeforeGetRoom',[chathost,data]);this.service.getRoom(chathost);},closeRoom:function(changeRoom,forceHide){this.debug('closeRoom',changeRoom);if(this.options.debug){this.addServiceMessage('[debug] changeRoom:'+changeRoom);}
this.service.closeRoom(changeRoom);if(changeRoom){this.waitRoomConnect=true;}else{this.waitRoomConnect=false;}
this.closeChat(forceHide);},setCurrentChathost:function(chathost){this.nextChathost=null;this.prevChathost=null;if(chathost){this.currentChathost=chathost;}
if(!this.currentChathost)return;if(this.onlineModels&&this.onlineModels.length>1){var nextId=0,prevId=0;var curIdx=$.inArray(this.currentChathost,this.onlineModels);if(-1!==curIdx){nextId=(curIdx+1==this.onlineModels.length)?0:curIdx+1;prevId=(0==curIdx)?this.onlineModels.length-1:curIdx-1;}
this.prevChathost=this.onlineModels[prevId];this.nextChathost=this.onlineModels[nextId];$('#bModelNavigator').show();}else{$('#bModelNavigator').hide();}
$("#bChat").triggerHandler('onCurrentChathost');$('.mls_item_selected').removeClass('mls_item_selected');if(this.onlineModelsData&&this.onlineModelsData[this.currentChathost]){if($('#mls_item_'+this.onlineModelsData[this.currentChathost].user_id).length){$('#mls_item_'+this.onlineModelsData[this.currentChathost].user_id).addClass('mls_item_selected');}}
this.debug('setCurrentChathost',this.userData.isVipZone,this.nextChathost,this.prevChathost);},mlsUpdate:function(models){var onlineModels=new Array();this.onlineModelsData=new Array();this.debug('--- MLS UPDATE ---');var modelsInSpy=new Array();var modelsIsNew=new Array();if($.isArray(models)){for(var i=0;i<models.length;i++){onlineModels.push(models[i].username);if(this.startNavigation&&this.onlineModels.length>0&&-1===$.inArray(onlineModels[i],this.onlineModels)){this.onlineModels.push(onlineModels[i]);}
this.onlineModelsData[models[i].username]=models[i];if(models[i].is_new){modelsIsNew.push(models[i]);}
if(models[i].room!='public'){modelsInSpy.push(models[i]);}}
$("#bChat").triggerHandler('onMLSUpdate',[modelsInSpy,modelsIsNew]);if(this.startNavigation){for(var j=0;j<this.onlineModels.length;j++){if(-1===$.inArray(this.onlineModels[j],onlineModels)){this.onlineModels.splice(j,1);}}}else{this.onlineModels=onlineModels;}}
this.debug('--- MLS UPDATE --- onlineModels=',this.onlineModels);this.setCurrentChathost();},showVolumeSlider:function(flag){clearTimeout(this.volumeSlidesInt);try{if(!flag){var self=this;this.volumeSlidesInt=setTimeout(function(){self.service.showVolumeSlider(false);},1500);}else{this.service.showVolumeSlider(true);}}catch(e){}},soundOff:function(e){var value=$(e).is('.on');this.service.muteAudio(value);this.onMuteSound(value);},videoOff:function(e){var value=$(e).is('.on');if(value){$(e).removeClass('on').addClass('off');}else{$(e).removeClass('off').addClass('on');}
this.service.muteVideo(value);},showPaidShowLinks:function(){if(this.userData.isPayable&&this.userData.balance>0){if(this.chatSettings.allowGroupChat&&!this.isGroupChatInvited){$("#TopMenuGotoGroup").show();}
if(this.chatSettings.allowPrivateChat){$("#TopMenuGotoPrivate,  #bCamStatusGotoPrivate").show();}}},hidePaidShowLinks:function(){$('#TopMenuGotoGroup, #TopMenuGotoPrivate, #bCamStatusGotoPrivate').hide();},disableChatInput:function(){$('#bChat .sendInput, #bChatInputContainer .sendInput').css('visibility','hidden');$('#bChat .sendInput, #bChat .sendButton, #bChat .pmButton, #bChatInputContainer .sendInput, #bChatInputContainer .sendButton, #bChatInputContainer .pmButton').attr('disabled','disabled');$('#bChat .inputContainer, #bChatInputContainer').addClass('inputDisabled');},enableChatInput:function(){$('#bChat .sendInput, #bChat .sendButton, #bChat .pmButton, #bChatInputContainer .sendInput, #bChatInputContainer .sendButton, #bChatInputContainer .pmButton').removeAttr('disabled');$('#bChat .sendInput, #bChatInputContainer .sendInput').css('visibility','visible');$('#bChat .inputContainer, #bChatInputContainer').removeClass('inputDisabled');if(!$.mobile){$('html, body').scrollTop(0).scrollLeft(0);}},onChatSettings:function(settings){this.debug('--- ChatSettings',settings);this.chatSettings=settings;},incomingServiceMessage:function(chatType,message){this.debug('incomingServiceMessage',message);this.addServiceMessage(message,'service',chatType);},userConnected:function(user,chatType){this.debug('userConnected',user.username);if(user.username!=this.userData.username&&(user.isPerformer||(chatType=='private-chat'&&user.role!='moderator'))){var showType=user.showType;if('fullprivate'==showType){showType='full private';}
if(user.isPerformer&&chatType=='private-chat'){switch(this.performerStatus){case'group':showType='group'
case'fullprivate':showType='full private'
default:showType='private'}}
this.addServiceMessage('<span class="dt">'+new Date().format('H:i:s')+'</span> '+__('%username% has joined the '+showType+' chat',{username:'<strong>'+user.displayName+'</strong>'})+'.','service',chatType);}},userDisconnected:function(user,chatType,sitSeconds){this.debug('userDisconnected',user.username);if(user.userId&&user.hasStream&&!user.isPerformer){this.closeMemberCam(user.userId);}
if(user.username!=this.userData.username&&(user.isPerformer||(chatType=='private-chat'&&user.role!='moderator'))){var showType=user.showType;if('fullprivate'==showType){showType='full private';}
if(user.isPerformer&&chatType=='private-chat'){switch(this.performerStatus){case'group':showType='group';case'fullprivate':showType='full private';default:showType='private';}}
this.addServiceMessage('<span class="dt">'+new Date().format('H:i:s')+'</span> '+__('%username% has left the '+showType+' chat after %time%',{username:'<strong>'+user.displayName+'</strong>',time:elapsedTime(sitSeconds*1000)})+'.','service',chatType);}},incomingMessage:function(chatType,message,from,id,suspicious){if(!$.isTranslateSkin){this.debug('incomingMessage',from.username,chatType,'!='+suspicious);if(this.isIgnored(from.username)||(this.isFreeUsersMuted&&!from.isPayable&&!from.isPerformer&&from.role!='moderator'))return;if(!this.userData.isPerformer&&this.userData.role!='moderator'&&!from.isPerformer&&from.role!='moderator'){if(this.performerData&&!this.performerData.isRu){if(from.isRu&&!this.userData.isRu){return;}}else{if(from.isRu!=this.userData.isRu){return;}}}
this.addMessage(this.formatMessage(message,from,id),$("#"+chatType+" .history"));if(suspicious&&this.userData.isPerformer){var $hotWordNotifyContainer=$('#receive_message_with_hot_words');if($hotWordNotifyContainer.length){$("#"+chatType+" .hot_word_remindable").showTermsReminderTooltip($hotWordNotifyContainer.html());}}}},onTopicChange:function(value,isRu){if(value){this.debug('onTopicChange','isRu='+isRu,value);if(this.userData.isPerformer&&$('.bChatTopicRu').length){if(isRu){this.addServiceMessage('<strong class="online">'+__('Topic')+' (Ð´Ð»Ñ Ð Ð¾ÑÑÐ¸Ð¸):</strong> '+value,'topicChange');$('.bChatTopicRu').html(value);}else{this.addServiceMessage('<strong class="online">'+__('Topic')+' (Ð´Ð»Ñ Ð¾ÑÑÐ°Ð»ÑÐ½ÑÑ):</strong> '+value,'topicChange');$('.bChatTopic').not('.bChatTopicRu').html(value);}}else{if((this.userData.isPerformer&&isRu)||(this.userData.isRu!=undefined&&!this.userData.isPerformer&&this.performerData.isRu&&isRu!=this.userData.isRu)){return;}
this.addServiceMessage('<strong class="online">'+__('Topic')+':</strong> '+value,'topicChange');$(".bChatTopic").html(value);}}},performerStatusChange:function(status){this.debug('performerStatusChange',status);this.performerStatus=status;$('#bChat').triggerHandler('onPerformerStatusChange');},groupChatInvitation:function(data){this.groupChatInvitationData=data;this.isGroupChatInvited=false;this.debug('--- GroupChatInvitation',data);if(!data||(data.users&&data.users.length==0)){if(this.isGroupChatInitialized){this.addServiceMessage(__('Group chat (%numready% of %numrequired% is ready)',{numready:0,numrequired:this.chatSettings.groupChatMinMembers}),'groupChatInvitation','public-chat');}
this.isGroupChatInitialized=false;if(this.chatSettings.allowGroupChat){$('#groupChatMinMembers').removeAttr('disabled');}
$('.startGroupChatNow').remove();return;}else{this.isGroupChatInitialized=true;$('#groupChatMinMembers').val(this.chatSettings.groupChatMinMembers);$('#groupChatMinMembers').attr('disabled','disabled');}
for(var i=0;i<data.users.length;i++){if(data.users[i]==this.userData.username){this.isGroupChatInvited=true;break;}}
this.isGroupChatMembersReady=(data.users.length>=this.chatSettings.groupChatMinMembers);var message='';var acceptLink='';var chathostDisplayName=(!this.userData.isPerformer)?this.performerData.displayName:this.userData.displayName;message+=__('Group chat (%numready% of %numrequired% is ready)',{numready:data.users.length,numrequired:this.chatSettings.groupChatMinMembers});if(!this.userData.isPerformer){if(this.isGroupChatMembersReady){message+='<br/>'+__('Now that there are enough members, we are waiting for %modelname% to accept or decline the group chat invitation',{modelname:chathostDisplayName})+'!';}else{message+='<br/>'+__('Once %numrequired% members have agreed to participate %modelname% will be able to start the group chat',{numrequired:this.chatSettings.groupChatMinMembers,modelname:chathostDisplayName})+'!';}
message+='<br/>'+__('Group show costs each participating member %price% tokens per minute',{price:this.localData.groupChatTokensPerMinute})+'!';if(this.userData.isLogged){if(!this.isGroupChatInvited&&this.userData.isPayable){message+=' <a class="acceptGroupChat" href="javascript:void(0)" onclick="return chat.gotoGroupChat()">'+__('Click here')+'</a> '+__('to add yourself to the group chat list')+'!';}else if(this.userData.isPayable){message+=' <a class="removeAcceptGroupChat" href="javascript:void(0)" onclick="return chat.removeAcceptGroupChat()">'+__('Click here')+'</a> '+__('to remove yourself from group chat list')+'!';}}}
else if(data.users.length>0){message+=' <a class="startGroupChatNow" href="javascript:void(0)" onclick="return chat.sendGroupShowResponse(this, \'accept\')">'+__('Start group chat right now')+'</a>';}
this.addServiceMessage(message,'groupChatInvitation','public-chat');},onFriendRequest:function(user){if(user.isPerformer){$("#TopMenuAddFriend").hide();}
$('#context_menu_'+user.username).find('li.friend').remove();var message='<span class="friend_request_'+user.username+'">'+__('%username% would like to add you as friend',{username:'<strong>'+user.displayName+'</strong>'})+', '+__('you can')+' <a href="javascript:void(0)" class="agree">'+__('agree')+'</a> '+__('or')+' <a href="javascript:void(0)" class="refuse">'+__('refuse')+'</a>.</span>';this.addServiceMessage(message,'friendRequest');var self=this;$('.friend_request_'+user.username+' a.agree').unbind('click').bind('click',function(){return self.confirmFriend(user);});$('.friend_request_'+user.username+' a.refuse').unbind('click').bind('click',function(){return self.removeFriend(user);});},onFriendConfirm:function(user){var message=__('%username% has added you as friend',{username:'<strong>'+user.displayName+'</strong>'})+'.';this.addServiceMessage(message,'friendConfirm');this.addToMyFriendIds(user);},onUserData:function(userData,performerData,localData,status){this.debug('--- UserData',userData);this.debug('--- PerformerData',performerData);this.debug('--- LocalData',localData);this.userData=userData;this.performerData=performerData;this.localData=localData;if(status){this.performerStatusChange(status);}
this.waitRoomConnect=false;$('#bChat').triggerHandler('onUserData');},onConnect:function(){this.debug('onConnect');$('#bChat').triggerHandler('onRoomConnect',this.userData);},onDisconnect:function(reason){this.debug('onDisconnect',reason);$("#bChat").triggerHandler('onRoomClose',reason);this.closeChat();if(this.userData&&this.userData.isPerformer){this.performerStatusChange('offline');$('#bCamStatus a').hide();}
if(reason){switch(reason){case'ERROR':case'AUTH_MISS':this.addServiceMessage(__('Chat closed'),'alert');if($('#mls_chatconsole').length){location.href='/';}
break;case'CONNECT_MISS':break;case'ROOM_RELEASE':this.performerStatusChange('offline');break;case'USER_KICK':if(this.userData.isPerformer)
this.addServiceMessage(__('Your chat session has been closed by administrator'),'alert');else
this.addServiceMessage(__("You have been blocked from %modelname%'s chat room (most likely for inappropriate behavior)",{modelname:this.performerData.displayName}),'alert');break;case'USER_BAN':this.addServiceMessage(__("You have been banned from %modelname%'s chat room (most likely for inappropriate behavior)",{modelname:this.performerData.displayName}),'alert');break;case'GHOST_DETECT':this.addServiceMessage("Duplicated user detected, chat session has been closed",'alert');if(window.opener){window.close();}else{if(this.performerData){$('#mls_chatconsole').hide();}}
break;default:this.addServiceMessage(reason,'alert');}}},setHistory:function(history){this.debug('setHistory',history);for(var i=0;i<history.length;i++){var messageObj=history[i];if(messageObj.author){this.incomingMessage('public-chat',messageObj.message,messageObj.author,messageObj.id,false);}
else if(messageObj.tip){if(!this.userData.isPerformer){this.onTip(messageObj.from,messageObj.tip.amount);}}}
if(!$.mobile){setTimeout(function(){var $history=$('#bChat .history');$history.scrollTop($history.get(0).scrollHeight);},500);}},onHistoryClear:function(chatType){$("#"+chatType+" .history").html('');},onDeleteMessage:function(messageId){$('#m'+messageId).remove();},onDeleteMessages:function(userId){$('#bChat .message[user_id="'+userId+'"]').remove();},onPerformerDesires:function(data){this.debug('--- PerformerDesires',data);var desires=new Array();for(var i in data){desires.push(data[i]);}
$('#bPerformerDesires').html('');for(var i=0;i<desires.length;i++){var desire=desires[i];var $item=$('<div class="desire" id="'+desire.hash+'"><h5>'+desire.title+'</h5><p class="desc">'+desire.description+'</p><p class="price"><strong>'+desire.tips+'</strong> / <em>'+desire.price+'</em></p></div>');if(this.userData.isPerformer){$item.append('<span class="reset" title="'+__('Reset desire')+'"></span>');$item.append('<span class="delete" title="'+__('Delete desire')+'"></span>');}
if(desire.price<=20){$item.addClass("desire20");}else if(desire.price<=100){$item.addClass("desire100");}else if(desire.price<=200){$item.addClass("desire200");}else{$item.addClass("desire1000");}
$item.appendTo($('#bPerformerDesires'));if(this.performerDesires&&this.performerDesires[desire.hash]&&this.performerDesires[desire.hash].tips<desire.tips){$item.animate({backgroundColor:"#ffff00"},1000,function(){$(this).animate({backgroundColor:"#f3f0cd"},1000,function(){$(this).removeAttr('style');});});}
if(desire.tips>=desire.price){$item.addClass('fullfill');}}
this.performerDesires=data;},setSize:function(){this.debug('setSize');var $camPane=$("#camSplitPane");var minWidth=$camPane.resizable("option","minWidth");var maxWidth=$camPane.resizable("option","maxWidth");var minHeight=$camPane.resizable("option","minHeight");var maxHeight=$camPane.resizable("option","maxHeight");var curWidth=$camPane.width();var curHeight=$camPane.height();var newWidth,newHeight;if(curWidth>=maxWidth){newWidth=minWidth;newHeight=minHeight;}else{newWidth=maxWidth;newHeight=maxHeight;}
$camPane.css('width',newWidth+'px');$camPane.css('height',newHeight+'px');var h=newHeight-$('#bChat .inputContainer').height()-$('#bChatTopic').height();$('#bChat .users').css('height',h+'px');$('#bChat .history').css('height',h+'px');this.resizeWindow();},updateUsers:function(chatType,userList){this.debug('updateUsers',chatType,userList);var users=userList.users;if(userList.guestListLimit){users.push({username:'guest_count',displayName:userList.totalGuests+' Guests',isLogged:false});}
$("#"+chatType+" .users").html('');for(var i=0;i<users.length;i++){$("#"+chatType+" .users").append(this.createUserListItem(users[i]));}
if(userList.userListLimit>0&&((userList.userListLimit<userList.totalUsers)||(!userList.guestListLimit&&userList.userListLimit<userList.totalUsers+userList.totalGuests))){$("#"+chatType+" .users").append('<button class="btn_silver more_users" title="Show all users" type="button">...</button>');}
$("#"+chatType+" .bChatUsersCount").html(userList.totalUsers+userList.totalGuests);},sendMessage:function(message){if(message.length>255){return alert('Message is too long');}
if(this.userData.isLogged){if(this.userData.role=='member'&&!this.userData.isPayable&&!this.chatSettings.allowFreeMemberChat){this.addServiceMessage(__('We are sorry but FREE members are temporarily muted by model')+'. <a href="javascript:void(0)" onclick="return chat.buyTokensPopup(this)">'+__('Buy some tokens')+'</a> '+__('and begin chatting with your favorite models')+'!','alert');}
else if(this.userData.role=='member'&&this.userData.isVipZone&&!this.userData.isVip&&'free'==this.userData.accessLevel){this.vipZoneMessageLimit();}
else{this.service.sendMessage(message,this.currentChatType);}}else if($('.history .guest_chat_alert').length==0){this.addServiceMessage(__('We are sorry but guests are not allowed to chat')+'. <a href="javascript:void(0)" onclick="return chat.signupPopup(true)">'+__('Click here to create a 100% FREE account')+'</a> '+__('and begin chatting with your favorite models')+'!','alert guest_chat_alert');}
$('#'+this.currentChatType+' .sendInput').val('');$('#'+this.currentChatType+' .sendInput').focus();$('#bChat').triggerHandler('onSendMessage');},sendPrivateMessage:function(message,to){this.debug('sendPrivateMessage to: '+to.username);this.service.sendPrivateMessage(message,to.username);},getUserBalance:function(user){return!user.blackCloak?(user.balance>0?$.formatNumber(user.balance):0):"*******";},addFriend:function(user){if(user.isPerformer&&!this.userData.isPayable){this.addServiceMessage(__('Only premium members can add models to friends')+'. '+__('To become a premium (GOLD) member for life and unlock this feature, all you have to do is buy any amount of tokens one time!'),'alert');this.buyTokensPopup();return;}
$('#context_menu_'+user.username).find('li.friend').remove();this.waitFriendConfirmUsers[user.username]=true;this.service.addFriend(user);return false;},confirmFriend:function(user){$('.friend_request_'+user.username).remove();$('#context_menu_'+user.username).find('li.friend').remove();this.addToMyFriendIds(user);this.service.confirmFriend(user);return false;},removeFriend:function(user){$('.friend_request_'+user.username).remove();this.service.removeFriend(user);return false;},onUserMuted:function(flag){this.debug('onUserMuted',flag);this.userData.isMuted=flag;},onMuteSound:function(flag){if(flag){$('#bCamControlsVolume').removeClass('on').addClass('off');}else{$('#bCamControlsVolume').removeClass('off').addClass('on');}},onRebootSecondsLeft:function(secondsLeft){this.addServiceMessage(__('WARNING: Chat service is going for maintenance after %time%',{time:elapsedTime(secondsLeft*1000)}),'alert');},adjustDMCASecurityIcon:function()
{if(!this.performerData||!this.performerData.dmcaSecurity){return;}
var dmcaSettings=this.performerData.dmcaSecurity;var ct=$('#chatContainer');var ctPaddingsTopBottom=parseInt(ct.css('padding-top').replace('px',''))+parseInt(ct.css('padding-bottom').replace('px',''));if(dmcaSettings.marginTop+dmcaSettings.height+ct[0].offsetTop>ct[0].offsetTop+ct.height()+ctPaddingsTopBottom){$('#dmca_security').css({top:(ct[0].offsetTop+ct.height()-dmcaSettings.height)+ctPaddingsTopBottom+'px'});}else{$('#dmca_security').css({top:(ct[0].offsetTop+dmcaSettings.marginTop)+'px'});}
var ctPaddingsLeftRight=parseInt(ct.css('padding-left').replace('px',''))+parseInt(ct.css('padding-right').replace('px',''));if(dmcaSettings.marginLeft+dmcaSettings.width+ct[0].offsetLeft>ct[0].offsetLeft+ct.width()+ctPaddingsLeftRight){$('#dmca_security').css({left:(ct[0].offsetLeft+ct.width()-dmcaSettings.width)+ctPaddingsLeftRight+'px'});}else{$('#dmca_security').css({left:(ct[0].offsetLeft+dmcaSettings.marginLeft)+'px'});}},debug:function(){if(this.options.debug){try{var args=Array.prototype.slice.call(arguments);args.splice(0,0,'[Chat]');console.log.apply(console,args);}catch(e){console.log(typeof arguments);}}},error:function(){try{var args=Array.prototype.slice.call(arguments);args.splice(0,0,'[Chat]');console.error.apply(console,args);}catch(e){console.error(typeof arguments);}}};$.localStorageAvailable=null;$.isLocalStorageAvailable=function(){if($.localStorageAvailable===null){if(typeof localStorage=='undefined'){$.localStorageAvailable=false;}
try{localStorage['test']=1;$.localStorageAvailable=true;}catch(e){$.localStorageAvailable=false;}}
return $.localStorageAvailable;};})(jQuery);String.prototype.htmlspecialchars=function(){var res=this;res=res.replace(/\\/g,"");res=res.replace(/&/g,"&amp;");res=res.replace(/"/g,"&quot;");res=res.replace(/'/g,"&#039;");res=res.replace(/</g,"&lt;");res=res.replace(/>/g,"&gt;");return res;}
String.prototype.wordWrap=function(brk,width){brk=brk||'<br/>';width=width||50;var wordsArr=this.split(' ');if(wordsArr.length==0)return this;var regex='.{1,'+width+'}(\\s|$)|.{'+width+'}|.+$';for(var i=0;i<wordsArr.length;i++){if(wordsArr[i].length>width){wordsArr[i]=wordsArr[i].match(new RegExp(regex,'g')).join(brk);}}
return wordsArr.join(' ');};
(function($){$.extend(chat,{initLayout:function(){$('#bChat').bind('onPaidShowStart',function(e,type){$('#bGotoPrivate, #bGotoVoyeur, #bGotoVoyeur2, #bGotoGroup, #bGotoGroup2').hide();switch(type){case'private':case'fullprivate':$('#bStopShow strong').html(__('Exit Private Chat'));break;case'group':$('#bStopShow strong').html(__('Exit Group Chat'));break;case'voyeur':$('#bStopShow strong').html(__('Exit Spy Mode'));break;}
if('vip'!=type){$('#bStopShow').show();}});$('#bChat').bind('onPaidShowStop',function(e,reason,changeRoom){$('#bStopShow').hide();if(!changeRoom){if(chat.performerStatus=='private'){$('#bGotoVoyeur, #bGotoVoyeur2').show();}
else if(chat.performerStatus=='group'){$('#bGotoGroup, #bGotoGroup2').show();}}});$('#bChat').bind('onUserData',function(e){chat.setChatHeight();var chathostDisplayName=(!chat.userData.isPerformer)?chat.performerData.displayName:chat.userData.displayName;if(!chat.userData.isPerformer){var $chatConsole=$('#mls_chatconsole');if($chatConsole.length){if(undefined!=History&&History.enabled){var urlPrefix='';if(chat.options.scriptName&&chat.options.scriptName!='/index.php'){urlPrefix=chat.options.scriptName;}
if($chatConsole.hasClass('no_change_page_url')){$chatConsole.removeClass('no_change_page_url');}else{History.pushState({chathost:chat.performerData.username},$('title').html(),urlPrefix+"/"+chat.performerData.username);}}}
$('.bChatTopic').html(__("%modelname%'s chat",{modelname:chathostDisplayName}));$("#bChatRoomTitle").html(chathostDisplayName);var $profileLink=$('#bUnderChatViewProfile');var profileUrlPrefix='';if($profileLink.attr('url_prefix')!=undefined){profileUrlPrefix=$profileLink.attr('url_prefix')+'http://'+window.location.host;}
$profileLink.attr('href',profileUrlPrefix+chat.performerData.profileUrl);if($('#bLovers').length){$('#bLovers').attr('action',$('#bLovers').attr('url')+'/'+chat.performerData.username);var pattern=$('#sLovers').attr('pattern'),currentNode;if($('#sLovers').find('.i18n_link').length>0){currentNode=$('#sLovers').find('.i18n_link');}
else{currentNode=$('#sLovers');}
currentNode.html(pattern.replace('%count%',$.formatNumber(chat.performerData.loversCount)));}
if(chat.userData.isLogged){$('#bTipModel').bongacamsPopup($('#tip_model_popup_container'),function(){$('#bTipModel').removeAttr('desireid');},__('Tip')+' '+chathostDisplayName,function(){if($('#bongacams_popup').offset().left+$('#bongacams_popup').outerWidth()>window.innerWidth){$('#bongacams_popup').css('left',window.innerWidth-$('#bongacams_popup').outerWidth()-49+'px');}});}
if(chat.performerData){if(chat.performerData.bwData&&$.isFunction(chat.updatePerformerBandwidth)){chat.updatePerformerBandwidth(chat.performerData.bwData);}
$('#pi_mode').html(('all'==chat.performerData.perHourType||(chat.userData.isVipZone&&'vip'==chat.performerData.perHourType))?__('per hour'):__('default'));$('#fms_origin').html(chat.performerData.originInfo);if(chat.performerData.userAgentInfo){$('#ua_browser').html(chat.performerData.userAgentInfo.browser);$('#ua_os').html(chat.performerData.userAgentInfo.os);}}
if($('.underChatSocButton').length){$('.underChatSocButton').remove();var chathostProfileUrl='http://'+window.location.host+chat.performerData.profileUrl;try{twttr.widgets.load();gapi.plusone.go();}catch(e){}}
$('#dmca_security').remove();if(chat.performerData.dmcaSecurity){var ct=$('#chatContainer').get(0);var dmcaStyle='background-image: url('+chat.options.baseUrl+'/'+chat.performerData.dmcaSecurity.image+');'+'width: '+chat.performerData.dmcaSecurity.width+'px;'+'height: '+chat.performerData.dmcaSecurity.height+'px;'+'left: '+(ct.offsetLeft+parseInt(chat.performerData.dmcaSecurity.marginLeft))+'px;'+'top: '+(ct.offsetTop+parseInt(chat.performerData.dmcaSecurity.marginTop))+'px;';$('#chatContainer').prepend('<div id="dmca_security" style="'+dmcaStyle+'"></div>');chat.adjustDMCASecurityIcon();}}
else{try{$.sockJS.send(JSON.stringify({type:'performer_status',status:'online',performer:chat.userData}));}catch(e){}}
$('#bChatStatus').html(__('You are currently in the public chat'));chat.enableChatInput();if($('#bChatOptions').length){$('#bChatOptions').show();}
var canUsePremiumSmiles=((chat.userData.accessLevel=='gold'||chat.userData.accessLevel=='platinum'||chat.userData.accessLevel=='unlimited')||chat.userData.role=='model'||chat.userData.role=='moderator');$('#bChat .inputContainer').initSmilePanel({styleClass:'rounded',premium:true,canUsePremium:canUsePremiumSmiles});});$('.tooltip').appendTo('body');$(document).click(function(e){var el=$(e.target);if($(".tooltip:visible").length&&!el.is(".tooltip")&&!el.parents(".tooltip").length&&!el.is(".tt")&&!el.is("option")){$(".tt").each(function(){var tt=$(this).data("tooltip");if(tt)tt.hide();});}});$('#bChat').delegate('.message dfn','click',function(){var $tab=$(this).parents('.chat-tab');$tab.find('.sendInput').val($(this).html());});$('#bChat').delegate('.message dfn','contextmenu',function(e){e.preventDefault();if('undefined'==typeof $.activeFriendIds&&$.isFunction($.getActiveFriendIds)){var self=this;$.getActiveFriendIds(function(){chat.createContextMenu($(self))});}else{chat.createContextMenu($(this));}});$("#bCamControlsResize").tooltip({tip:'#ResizeTooltip',onBeforeShow:function(){if(chat.userData&&!chat.userData.isLogged){return false;}},onShow:function(){$('#ResizablePane .ui-icon-gripsmall-diagonal-se').addClass('ui-icon-gripsmall-diagonal-se-highlight');},onHide:function(){$('#ResizablePane .ui-icon-gripsmall-diagonal-se').removeClass('ui-icon-gripsmall-diagonal-se-highlight');}});$("#bCamControlsResize").click(function(){if(chat.userData&&!chat.userData.isLogged){chat.addServiceMessage(__('Resize video and fullscreen only for premium members'),'alert');}});$('#bChat .historyContainer').mouseenter(function(){$('#bFontSizeTip').appendTo(this);});$('#bChat .historyContainer').mouseleave(function(){$('#bFontSizeTip').appendTo($('#bFontSizeTipHolder'));});$('#bChat').delegate('#bFontSizeTip em','mousedown',function(e){e.preventDefault();var sizes=['90%','100%','110%','120%','130%','140%','150%'];var currentSizeId=sizes.indexOf($('#bChat').data('fontSize'));if(currentSizeId===-1){currentSizeId=1;}
if($(this).is('.inc')&&undefined!=sizes[currentSizeId+1]){currentSizeId+=1;}
if($(this).is('.dec')&&undefined!=sizes[currentSizeId-1]){currentSizeId-=1;}
$('#bChat').data('fontSize',sizes[currentSizeId]);$('#bChat .history').css({fontSize:sizes[currentSizeId]});});$('#bChat').delegate('button.more_users','click',function(){$(this).remove();chat.service.showAllUsers();});$('#bMuteFreeUsers').click(function(){$('#bMuteFreeUsers').hide();chat.isFreeUsersMuted=true;$('#bUnMuteFreeUsers').show();});$('#bUnMuteFreeUsers').click(function(){$('#bUnMuteFreeUsers').hide();chat.isFreeUsersMuted=false;$('#bMuteFreeUsers').show();});if(undefined!=History&&History.enabled){History.Adapter.bind(window,'statechange',function(){var state=History.getState();var chathost=state.data.chathost;if(!chathost&&$.isEmptyObject(state.data)){location.href=state.url;}else if(chathost){if(!chat.userData||!chat.performerData||!chat.currentChathost||chat.currentChathost===chathost||!chat.onlineModelsData||!chat.onlineModelsData[chathost])return;chat.getRoom(chathost,{title:chat.onlineModelsData[chathost].display_name});}});}
$('#bLovers').click(function(){$.ajax({url:$(this).attr('action'),dataType:'json',context:this,method:'get',success:function(data){if(data.message&&data.lovers){chat.addServiceMessage(data.message,'service');$('#sLovers').html(data.lovers);}else{chat.addServiceMessage(data.message,'alert');}}})});},getVideoSizeRange:function(isHD){var maxWidth,minWidth;if($('#chatContainer').hasClass('vipZone')){if($('#chatContainer').hasClass('cc_small')){maxWidth=720;minWidth=560;}else if($('#chatContainer').hasClass('cc_medium')){maxWidth=960;minWidth=640;}else{maxWidth=1200;minWidth=640;}}else{if($('#chatContainer').hasClass('cc_small')){maxWidth=640;}else if($('#chatContainer').hasClass('cc_medium')){maxWidth=960;}else{maxWidth=1200;}
minWidth=448;}
if($('.chat_right_banner').length){maxWidth-=$('.chat_right_banner').width();}
return{maxWidth:maxWidth+188,minWidth:minWidth};},setVideoSize:function(){if($('#bChat').hasClass('bChatModel')||!$('#ResizablePane').is(':visible')||$('#ResizablePane').hasClass('ui-resizable-resizing')||!this.performerData)return;var isHD=('hd'==this.performerData.videoQuality);var isHDChange=false;var range=this.getVideoSizeRange(isHD);if(isHD&&!$('#ResizablePane').hasClass('hd')){$('#ResizablePane').addClass('hd');isHDChange=true;}else if(!isHD&&$('#ResizablePane').hasClass('hd')){$('#ResizablePane').removeClass('hd');isHDChange=true;}
var w,h;if($('#ResizablePane').hasClass('ui-resizable-resized')){w=$('#ResizablePane').width();h=$('#ResizablePane').height();}
var k=isHD?0.5625:0.75;if(true==this.localData.canErlageVideo){$('#ResizablePane').resizable('option','aspectRatio',isHD?1.77777777777:1.333333333333);$('#ResizablePane').resizable('option','maxWidth',range.maxWidth);}
var possibleHeight=window.innerHeight-$('.bCamStatus').outerHeight()-$('bModelNavigator').outerHeight()-$('.memberBalance').height()-$('#EmbedSWFHolder').offset().top;if($('#chatContainer').hasClass('vipZone')){possibleHeight-=40;}else{possibleHeight-=100;}
h=h||Math.max(possibleHeight,range.minWidth*k);w=h/k;if(w>range.maxWidth){console.log('v > maxWidth');w=range.maxWidth;h=w*k;}
if(!$('#ResizablePane').hasClass('ui-resizable-resized')){var posibleWidth=window.innerWidth-$('.chat_right_banner').width()-400;if(w>posibleWidth){console.log('v > posibleWidth');w=Math.max(posibleWidth,range.minWidth);h=w*k;}}
$('#ResizablePane').css({width:w+'px',height:h+'px'});if(!$('#chatContainer').hasClass('vipZone')){h+=34;}
$('#EmbedSWFHolder').css({width:w+'px',height:h+'px'});if(isHDChange&&$('#chatContainer').hasClass('vipZone')&&($('#chatContainer').hasClass('cc_small')||$('#chatContainer').hasClass('cc_medium'))){this.checkSendInputPostion();}},setChatHeight:function(height){this.setVideoSize();if('MobileChatService'==this.service.name){$('#display, #displayHLS, #stream-container').width($('#EmbedSWFHolder').width());$('#display, #displayHLS, #stream-container').height($('#EmbedSWFHolder').height()-($('#chatContainer').hasClass('vipZone')?0:$('#bVideoControlPanel').height()));}
if($('#bChatPromt').length){var left=$('#bChat .history:visible').offset().left;var width=$('#bChat .history:visible').width();$('#bChatPromt').css({left:(left+(!window.isRTL?0:40))+'px',width:(width-12)+'px'});}
$('#bChat .history:visible').find('img.smiley_fit').each(function(){if(parseInt($(this).attr('w'))<$('#bChat .history:visible').width()){$(this).removeClass('smiley_fit');}});var h=height||this.calculateChatHeight();var usersH=h;if($('#bChat').hasClass('bChatModel')){usersH+=50;}
$('#bChat .users').css('height',usersH+'px');$('#bChat .history').css('height',h+'px');chat.adjustDMCASecurityIcon();},getChatHeight:function(){return $('.history:visible').height()+$('.inputContainer:visible').height();},calculateChatHeight:function(){var h;if($('#bChat').hasClass('bChatModel')){h=($(window).height()-$('.chatTopic').height()-$('.inputContainer:visible').height()-$('#bChatStatus').height()-$('#bChatRoomTitle').height()-96);}else{h=$('#EmbedSWFHolder').height()+$('#bPaidButtonTopRow').height()-40;if($('#chatContainer').hasClass('vipZone')){h-=116;}}
return h;},addMessage:function(message,$history){if($history.find('p').length>this.chatHistoryLength){$history.find('p:first').remove();}
$history.append(message);$history.scrollTop($history[0].scrollHeight);if(!this.isPerformer&&this.isPaidShow==true){this.service.updateHistory($history.html());}},createUserListItem:function(pUserData){var $item=$('<div class="user_item '+pUserData.role+'" username="'+pUserData.username+'"></div>');var userElements='';if(pUserData.profileAvatarUrl||pUserData.profileAvatarData){userElements+='<span class="icon_avatar"><img class="profile" src="'+this.buildAvatarUrl(pUserData)+'"/></span>';}
if(pUserData.isMobile){userElements+='<span class="icon_mobile"></span>';}
userElements+='<dfn>'+pUserData.displayName+'</dfn>';if(pUserData.hasStream){if(pUserData.isPerformer){userElements+='<span class="icon_webcam"></span>';}else if(pUserData.username==this.userData.username||(this.userData.isPerformer||this.userData.role=='moderator')){userElements+='<span class="icon_webcam"></span>';}}
else if(pUserData.userId&&!pUserData.isPerformer){this.closeMemberCam(pUserData.userId);}
if(this.userData.isPerformer){var balance=this.getUserBalance(pUserData);if(balance){userElements+='<br/><span class="balance">'+balance+'</span>';}
var tippedIcon='';if(pUserData.isTipped){userElements+='<img class="tipper" src="'+this.options.baseUrl+'/images/chat/icon_coin.png" title="'+__('%username% has already tipped you',{username:pUserData.displayName},false)+'!" />';}}
userElements+='<br clear="all"/>';var addIcons='';if(pUserData.accessLevel&&true===pUserData.isPayable){addIcons='<img class="ms" src="'+this.options.baseUrl+'/images/chat/ms_'+pUserData.accessLevel+'.png" title="'+__('%username% has %type% membership',{username:pUserData.displayName,type:pUserData.accessLevel},false)+'!" />';if(pUserData.isVip){$item.addClass('member_vip');addIcons+='<img class="vip" src="'+this.options.baseUrl+'/images/chat/vip.png" title="'+__('%username% has VIP status',{username:pUserData.displayName},false)+'!" />';}}
$item.append('<span class="td td_user">'+userElements+'</span><span class="td td_last"> '+addIcons+'</span><br clear="all"/>');if((this.userData.isPerformer||this.userData.role=='moderator')&&pUserData.isMuted){$item.find('dfn').css('text-decoration','line-through');}
if(pUserData.accessLevel){$item.addClass('member_'+pUserData.accessLevel);}
if(pUserData.fontStyle){$item.find('dfn').css(pUserData.fontStyle);}
$item.data('userData',pUserData);if(pUserData.isLogged){$item.click(function(){if('undefined'==typeof $.activeFriendIds&&$.isFunction($.getActiveFriendIds)){var self=this;$.getActiveFriendIds(function(){chat.createContextMenu($(self))});}else{chat.createContextMenu($(this));}});}
return $item;},createUserListHeader:function(total){var $item;if(this.userData.isPerformer){$item=$('<div class="head"></div>').append('<span class="td td_user">'+__('Chat Users')+' ('+total+')</span><span class="td td_tokens">'+__('Tokens')+'</span><span class="td td_last">*</span><br clear="all"/>');}else{$item=$('<div class="head">'+__('Chat Users')+' ('+total+')</div>');}
return $item;},createContextMenu:function($target){$('.contextMenu').remove();var self=this;var _userData=$target.data('userData');var $contextMenu=$('<ul class="contextMenu rounded"></ul>').attr('id','context_menu_'+_userData.username).append('<li class="title">'+_userData.displayName+'</li>');var addPrivateDisabledClass='';if(self.userData.isLogged&&self.userData.username!=_userData.username){if(!self.canSendPM(_userData)){addPrivateDisabledClass=' disabled';}
$contextMenu.append('<li class="private'+addPrivateDisabledClass+'"><a href="javascript:void(0)">'+__('Private Message')+'</a></li>');$contextMenu.find('.private:not(.disabled) a').bind('click',function(){self.debug('Private Message: '+_userData.username);$.openDialogWithUser(_userData.userId);});}
if(_userData.profileUrl){$contextMenu.append('<li class="profile"><a href="'+_userData.profileUrl+'" target="_blank">'+__('View Profile')+'</a></li>');}
if(self.userData.isLogged){if(self.userData.username!=_userData.username){if((self.userData.isPerformer||self.userData.role=='moderator')&&_userData.role!='moderator'&&!_userData.isPerformer){$contextMenu.append('<li class="kick"><a href="javascript:void(0)">'+__('Kick User')+'</a></li>');$contextMenu.append('<li class="ban"><a href="javascript:void(0)">'+__('Ban User')+'</a></li>');$contextMenu.append('<li class="mute"><a href="javascript:void(0)">'+(_userData.isMuted?__('Un-Mute User'):__('Mute User'))+'</a></li>');$contextMenu.find('.kick a').bind('click',function(){self.debug('Kick: '+_userData.username);self.service.blockUser(_userData.username,_userData.userId);$('#context_menu_'+_userData.username).remove();if($target.is('.user_item')){$target.remove();}});$contextMenu.find('.ban a').bind('click',function(){self.debug('Ban: '+_userData.username);try{$.banUser(_userData.userId,!self.userData.isPerformer?self.userData.chathostData.userId:self.userData.userId);self.service.blockUser(_userData.username,_userData.userId,true);if(self.userData.performerData){if(!$.isArray(self.userData.performerData.bannedIds)){self.userData.performerData.bannedIds=new Array();}
self.userData.performerData.bannedIds.push(_userData.userId.toString());}}catch(e){}
$('#context_menu_'+_userData.username).remove();if($target.is('.user_item')){$target.remove();}});$contextMenu.find('.mute a').bind('click',function(){self.debug('Mute: '+_userData.username);self.service.muteUser(_userData.clientId,_userData.username,_userData.isMuted?false:true);});$target.find('dfn').dblclick(function(){$.openDialogWithUser(_userData.userId);});}
if(_userData.role!='moderator'){$contextMenu.append('<li class="ignore"><a href="javascript:void(0)">'+(self.isIgnored(_userData.username)?__('Remove Ignore'):__('Ignore User'))+'</a></li>');$contextMenu.find('.ignore a').bind('click',function(){self.debug('Ignore: '+_userData.username);self.ignoreUser(_userData.username);});}
if(self.canAddFriend(_userData)){$contextMenu.append('<li class="friend"><a href="javascript:void(0)">'+__('Add to Friends')+'</a></li>');$contextMenu.find('.friend a').bind('click',function(){self.debug('Add friend: '+_userData.username);self.addFriend(_userData);$contextMenu.find('li.friend').remove();});}}
if($target.is('dfn')){if((self.userData.username==_userData.username||(self.userData.isPerformer||self.userData.role=='moderator')&&_userData.role!='moderator')){$contextMenu.append('<li class="delete_message separator"><a href="javascript:void(0)">'+__('Delete Message')+'</a></li>');$contextMenu.find('.delete_message a').bind('click',function(){if(confirm(__("Are you sure to delete this message")+'?')){var messageId=$target.closest('.message').attr('id').substring(1);self.debug('Delete message: '+_userData.username+', id='+messageId);try{self.service.deleteMessage(_userData.username,messageId);}catch(e){}}});}
if(self.userData.role=='moderator'&&!_userData.isPerformer&&_userData.role!='moderator'&&_userData.userId){$contextMenu.append('<li class="delete_and_ban"><a href="javascript:void(0)">'+__('Delete & Ban')+'</a></li>');$contextMenu.find('.delete_and_ban a').bind('click',function(){if(confirm("Are you sure to delete?\n"+_userData.username+" has been kicked and disabled")){var messageId=$target.closest('.message').attr('id').substring(1);self.debug('Delete & Ban: '+_userData.username);self.service.blockUser(_userData.username,_userData.userId,false,true,$target.parent().find('.msg').text());}});}}}
if(self.userData.role=='moderator'&&_userData.isPerformer){$contextMenu.append('<li class="kick separator"><a href="javascript:void(0)" style="color:red">'+__('Close session')+'</a></li>');$contextMenu.find('.kick a').bind('click',function(){self.debug('Kick: '+_userData.username);try{self.service.blockUser(_userData.username,_userData.userId);}catch(e){}
$('#context_menu_'+_userData.username).remove();if($target.is('.user_item')){$target.remove();}});}
$contextMenu.append('<li class="separator"><p class="details">'+__('User Details')+'</p></li>');if(_userData.accessLevel){$contextMenu.append('<li><p>'+__('Membership')+': '+_userData.accessLevel+'</p></li>');}
if(_userData.isLogged){$contextMenu.append('<li><p>'+__('Member since')+': '+_userData.signupDate+'</p></li>');}
if((self.userData.isPerformer||self.userData.role=='moderator')){if(!_userData.isPerformer){$contextMenu.append('<li><p>'+__('Balance')+': '+self.getUserBalance(_userData)+'</p></li>');}
var location=_userData.location||'N/A';$contextMenu.append('<li><p>'+__('Location')+': '+location+'</p></li>');}
if(self.userData.isLogged&&self.userData.username!=_userData.username){if(_userData.hasStream&&!_userData.isPerformer&&(self.userData.isPerformer||self.userData.role=='moderator')){$contextMenu.append('<li class="cam2cam separator"><a  href="javascript:void(0)">'+__('View cam')+'</a></li>');$contextMenu.find('.cam2cam a').bind('click',function(){self.debug('Cam2cam: '+_userData.username);self.memberCamPopup(_userData);});}}
$contextMenu.appendTo('body').data('userData',_userData);var pos;if($('#bChat').hasClass('bChatModel')){pos={left:$target.offset().left-6+'px',top:$target.offset().top+$target.height()+14+'px'}}else{var lPos;if(window.isRTL){lPos=$target.offset().left+$target.outerWidth(true)-$contextMenu.outerWidth(true)-40;}else{lPos=$target.offset().left+40;}
pos={left:lPos+'px',top:$target.offset().top-5+'px'}}
$contextMenu.css(pos).show();$target.addClass('user_item_selected');setTimeout(function(){$('body').bind('click.contextMenu',function(e){$target.removeClass('user_item_selected');$contextMenu.remove();$('body').unbind('.contextMenu');});},0);},memberCamPopup:function(memberData){$.open.newWindow(memberData.myCamUrl,{windowName:'cam'+memberData.userId,width:320,height:240,left:(($(window).width()-320)/2),top:(($(window).height()-240)/2),scrollbars:false},{});},closeMemberCam:function(memberId){if(!memberId)return;if($.open.windowMap['cam'+memberId]){$.open.windowMap['cam'+memberId].close();}},checkSendInputPostion:function(){if($('#bChat .tdSendInput').width()<300&&$('#bChat .tdSendInput').find('#bSendInputHolder').length){$('#bChat .inputContainer').first().prepend($('#bSendInputHolder'));$('#bChat .users, #bChat .history').css('height',$('#bChat .history').height()-30+'px');}else if(!$('#bChat .tdSendInput').find('#bSendInputHolder').length){$('#bSendInputHolder').appendTo($('#bChat .tdSendInput'));$('#bChat .users, #bChat .history').css('height',$('#bChat .history').height()+30+'px');}}});})(jQuery);
var SwfChatService=function(id){var id=id;var swf=function(){if(navigator.appName.indexOf("Microsoft")!=-1){return window[id];}
else{return document[id];}}
return{name:"SwfChatService",getSwf:function(){return swf();},getRoom:function(chathost){try{swf().getRoom(chathost);}catch(e){}},closeRoom:function(){},sendMessage:function(message,chatType){try{swf().sendMessage(message,chatType);}catch(e){}},sendPrivateMessage:function(message,username){try{swf().sendMessage(message,username);}catch(e){}},updateHistory:function(history){try{swf().updateHistory(history);}catch(e){}},addServiceMessage:function(message){try{swf().addServiceMessage(message);}catch(e){}},blockUser:function(username,userId,isBan,deleteHistory,ourReason){try{swf().blockUser(username,userId,isBan,deleteHistory,ourReason);}catch(e){}},muteUser:function(username,userId,isMute){try{swf().muteUser(username,userId,isMute);}catch(e){}},deleteMessage:function(username,messageId){try{swf().deleteMessage(username,messageId);}catch(e){}},muteVideo:function(val){try{swf().muteVideo(val);}catch(e){}},muteAudio:function(val){try{swf().muteAudio(val);}catch(e){}},showVolumeSlider:function(val){try{swf().showVolumeSlider(val);}catch(e){}},addFriend:function(userData){try{swf().addFriend(userData);}catch(e){}},confirmFriend:function(userData){try{swf().confirmFriend(userData);}catch(e){}},applyFriend:function(clientId){try{swf().applyFriend(clientId);}catch(e){}},removeFriend:function(userData){try{swf().removeFriend(userData);}catch(e){}},showAllUsers:function(){try{swf().showAllUsers();}catch(e){}},sendShowRequest:function(data){try{swf().sendShowRequest(data);}catch(e){}},tipModel:function(value,desireId){try{swf().tipModel(value,desireId);}catch(e){}},setFontStyle:function(style){try{swf().setFontStyle(style);}catch(e){}},shareMyCam:function(val){try{swf().shareMyCam(val);}catch(e){}},gotoPrivateChat:function(isFull){try{swf().gotoPrivateChat(isFull);}catch(e){}},gotoGroupChat:function(){try{swf().gotoGroupChat();}catch(e){}},gotoVoyeur:function(){try{swf().gotoVoyeur();}catch(e){}},stopPaidShow:function(){try{swf().stopPaidShow();}catch(e){}},removeAcceptGroupChat:function(){try{swf().removeAcceptGroupChat();}catch(e){}}}};
(function($){$.extend(chat,{isPaidShow:false,paidShowId:null,acceptedPaidShow:false,initiatedPaidShow:false,buyTokensPopup:function(){if(!this.userData.isLogged){this.signupPopup();return false;}else if(this.userData.role!='member'){this.addServiceMessage(__('Only members can buy tokens'),'alert');return false;}
if(!$.mobile){$('#bBuyTokens').click();}else{if($('#buy_tokens').length){$.mobile.changePage('#buy_tokens',{transition:'none'});}else{location.href=$('#bBuyTokens').attr('href');}}
return false;},buyVipPopup:function(vipPopupAttrName){if(!this.userData.isLogged){this.signupPopup();return false;}else if(this.userData.role!='member'){this.addServiceMessage(__('Only members can become a vip'),'alert');return false;}
var $bBuyVipTrigger;if(!$.mobile){$bBuyVipTrigger=$('#bBuyVip');}else{$bBuyVipTrigger=$('.rel_buy_vip:first a');}
if(vipPopupAttrName&&$bBuyVipTrigger.attr(vipPopupAttrName)){$bBuyVipTrigger.attr('href',$.updateQueryStringParameter($bBuyVipTrigger.attr('href'),'vpop',$bBuyVipTrigger.attr(vipPopupAttrName)));}else{$bBuyVipTrigger.attr('href',$.updateQueryStringParameter($bBuyVipTrigger.attr('href'),'vpop',null));}
if(!$.mobile){$bBuyVipTrigger.click();}else{location.href=$bBuyVipTrigger.attr('href');}
return false;},signupPopup:function(showCloseButton){if($('#bSignup').attr('rel')!='signup'){window.open($('#bSignup').attr('href'));return false;}
if($('#member_join_popup').length){$.showSignupPopup(showCloseButton||false);}else{$('#bSignup').click();}
return false;},tipPopup:function(desireId){if(!this.userData.isLogged){this.signupPopup();this.addServiceMessage(__('Tip feature only for premium members'),'alert');return false;}
else if(this.userData.role!='member'){this.addServiceMessage(__('Tip feature only for premium members'),'alert');return false;}
else if(!this.userData.isPayable){this.addServiceMessage(__('Tip feature only for premium members')+'. '+__('To become a premium (GOLD) member for life and unlock this feature, all you have to do is buy any amount of tokens one time!'),'alert');this.buyTokensPopup();return false;}
$('#bTipModel').click();if(desireId){$('#bTipModel').attr('desireid',desireId)}
return false;},paidShowPopup:function(isGroup){var popId=$('#chatContainer').hasClass('vipZone')?'bPaidPop':(!isGroup?'bPaidPopPrivate':'bPaidPopGroup');$('#'+popId).show();$('body').unbind('.'+popId);setTimeout(function(){$('body').bind('click.'+popId,function(e){var $clicked=$(e.target);if(!($clicked.is('#'+popId)||$clicked.is('.fancybox-close')||$('.fancybox-opened').length||$clicked.parents('#'+popId).length||$clicked.parents(!isGroup?'#bGotoPrivate':'#bGotoGroup').length)){$('#'+popId).hide();$('body').unbind('.'+popId);}});},0);return false;},paidShowDecline:function(reason){this.isGroupChatInvited=false;this.isGroupChatInitialized=false;this.isGroupChatMembersReady=false;this.initiatedPaidShow=false;this.addServiceMessage(reason,'alert');if($(reason).is('.payment_disabled')){this.buyTokensPopup();}},setBalance:function(balance){this.userData.balance=balance;$('#bTokens').html($.formatNumber(balance));var $globalTokens=$('span.notify.tokens_amount');if($globalTokens.length){$globalTokens.find('span').html($.formatNumber(balance));}},upgradeFreeMember:function(level){this.userData.accessLevel=level;this.userData.isPayable=true;},onPaidShowStart:function(type){this.debug('*** onPaidShowStart','type='+type,'performerStatus='+this.performerStatus);this.isPaidShow=true;this.currentShowType=type;this.currentChatType='private-chat';$("#bChat").triggerHandler('onPaidShowStart',type);$('#public-chat').data('history',$('#public-chat .history').html());$('#public-chat').attr('id',this.currentChatType).find('.history').html('');switch(type){case'fullprivate':this.addServiceMessage(__('Welcome %username% you have entered to full private chat',{username:this.userData.displayName})+'!','fullprivateChatWelcome');break;case'private':this.addServiceMessage(__('Welcome %username% you have entered to private chat',{username:this.userData.displayName})+'!','privateChatWelcome');break;case'vip':this.addServiceMessage(__('Welcome %username% you have entered to VIP Show',{username:this.userData.displayName})+'!','vipChatWelcome');break;case'group':this.addServiceMessage(__('Welcome %username% you have entered to group chat',{username:this.userData.displayName})+'!','groupChatWelcome');break;case'voyeur':this.disableChatInput();this.addServiceMessage(__('Welcome %username% you have entered to spy mode',{username:this.userData.displayName})+'!','voyeurWelcome');break;}},onPaidShowStop:function(reason,changeRoom){if(!this.isPaidShow)return;this.debug('*** onPaidShowStop','reason='+reason,'changeRoom='+changeRoom,'performerStatus='+this.performerStatus);$('#private-chat').attr('id','public-chat');this.currentChatType='public-chat';this.currentShowType='public';this.paidShowId=null;this.isPaidShow=false;this.acceptedPaidShow=false;this.initiatedPaidShow=false;this.isGroupChatInvited=false;this.isGroupChatInitialized=false;this.isGroupChatMembersReady=false;$("#bChat").triggerHandler('onPaidShowStop',[reason,changeRoom]);this.enableChatInput();if(reason){this.addServiceMessage(__(reason,{modelname:this.performerData.displayName}),'alert');}},cancelShowRequest:function(e){var $promt=$(e).parent();var data=$promt.data('showRequest');data.status='cancel';this.service.sendShowRequest(data);$promt.remove();return false;},onGroupShowResponse:function(status){if(status=='decline'){this.isGroupChatInvited=false;this.isGroupChatInitialized=false;this.isGroupChatMembersReady=false;}
else if(status=='accept'&&this.isGroupChatInvited){this.acceptedPaidShow='group';$("#bChat").triggerHandler('onPaidShowAccepted',this.acceptedPaidShow);}},onShowRequest:function(data){this.debug('--- ShowRequest',data);if(data.status=='cancel'){return;}
var message='';var $promt=$('#bChatPromt .'+data.type);if(!$promt.length){$promt=$('<p/>').addClass(data.type);$promt.data('showRequest',data);}else{$promt.find('p:first');}
var showType=data.type;if('fullprivate'==showType){showType='full private';}
if(data.status=='accept'){$promt.remove();this.acceptedPaidShow=data.type;$("#bChat").triggerHandler('onPaidShowAccepted',this.acceptedPaidShow);return;}
else if(data.status=='request'){message=__('%modelname% has been notified about your '+showType+' chat request',{modelname:this.performerData.displayName})+'!';message+=' '+__('You will be placed into a '+showType+' chat as soon as %modelname% accepts your request',{modelname:this.performerData.displayName})+'.';message+=' '+__('If your request is denied, we will let you know here')+'! <a href="javascript:void(0)" onclick="return chat.cancelShowRequest(this)">['+__('Cancel request')+'.]</a>';}
else if(data.status=='decline'){message=__('%modelname% has declined your '+showType+' chat request',{modelname:this.performerData.displayName})+'. <a href="javascript:void(0)" onclick="return chat.hidePromt(this)">['+__('Hide this prompt')+'.]</a>';}
$promt.html(message);this.showPromt($promt);},onTip:function(user,amount,desireId){if(this.performerData){var message=__('%username% has tipped %modelname% %amount% tokens',{username:user.displayName,modelname:this.performerData.displayName,amount:amount})+'!';this.addServiceMessage(message,'tip_success',this.currentChatType,{from:user.displayName,amount:amount});}},onTipResult:function(result){var self=this;if('success'==result.status){if(result.amount>=500){setTimeout(function(){var history=$('#bChat div.history').clone();history.find('p').each(function(){if(!($(this).hasClass('message')||$(this).hasClass('tip_success'))){$(this).remove();}});var data={history:history.html(),users:$('#bChat div.users').clone().html()};$.post($('#chatContainer').attr('xnr-screen-url'),{performer:self.performerData.userId,data:data});},3*1000);}}else{this.addServiceMessage(result.description,'tip_'+result.status);if($(result.description).is('.payment_disabled')){this.buyTokensPopup();}}},onVideoStreamLimit:function(isPremiumlimit){var self=this;setTimeout(function(){var message=__('You have been reached daily video stream limit');if(!self.userData.isLogged){if(!isPremiumlimit)
message=__('You have reached the daily video stream limit allowed to guests')+'. <a href="javascript:void(0)"  onclick="return chat.signupPopup(true)">'+__('Sign up for a 100% FREE account')+'</a> '+__('to continue watching')+'!';else
message=self.performerData.displayName+' '+__('shows your cam for premium members only')+'. <a href="javascript:void(0)"  onclick="return chat.signupPopup(true)">'+__('Sign up for a 100% FREE account')+'</a> '+__('to continue watching')+'!';}else{if(!isPremiumlimit)
message=__('You have reached the daily video stream limit allowed to free members')+'. <a href="javascript:void(0)" onclick="return chat.buyTokensPopup(this)">'+__('Buy some tokens')+'</a> '+__('and your account will be upgraded to GOLD status for life. GOLD members can enjoy unlimited video chat with all of our models')+'.';else
message=self.performerData.displayName+' '+__('shows your cam for premium members only')+'. <a href="javascript:void(0)" onclick="return chat.buyTokensPopup(this)">'+__('Buy some tokens')+'</a> '+__('and your account will be upgraded to GOLD status for life. GOLD members can enjoy unlimited video chat with all of our models')+'.';}
self.addServiceMessage(message,'alert video_limit_alert');},1000);$("#bChat").triggerHandler('onVideoStreamLimit',isPremiumlimit);},onFreeChatMessageLimit:function(chatboxId){var msg=__('You have reached the chat limit allowed to free members')+'. <a href="javascript:void(0)" onclick="return chat.buyTokensPopup(this)">'+__('Buy some tokens')+'</a> '+__('and begin chatting with your favorite models')+'!';if(chatboxId){this.addMessage('<p class="alert">'+msg+'</p>',$("#chatbox_"+chatboxId+" .history"));}else{this.addServiceMessage(msg,'alert guest_chat_alert');}},vipZoneMessageLimit:function(){this.addServiceMessage(__('Only VIP members have access to Vip Zone Chat')+'. '+__('To chat with a model you need to invite her into a %l1%Private Chat%l2% or %a1%buy yourself a VIP status%a2%',{l1:'<a href="javascript:void(0)" onclick="return chat.paidShowPopup()">',l2:'</a>',a1:'<a href="javascript:void(0)" onclick="return chat.buyVipPopup()">',a2:'</a>'})+'.','alert');},onVideoLayoverClick:function(type){if(type=='limit'){this.buyTokensPopup();}
else if(type=='vip'){this.buyVipPopup();}
else if(type=='group'){this.gotoGroupChat();}},shareMyCam:function(value){if(!this.userData.isLogged){this.addServiceMessage(__('Webcam feature only for premium members'),'alert');this.signupPopup();return false;}else if(this.userData.role!='member'){this.addServiceMessage(__('Webcam feature only for premium members'),'alert');return false;}
else if(!this.userData.isPayable){this.addServiceMessage(__('Webcam feature only for premium members')+'. '+__('To become a premium (GOLD) member for life and unlock this feature, all you have to do is buy any amount of tokens one time!'),'alert');this.buyTokensPopup();return false;}
if(value){$('#bShareCamControls .on').hide();$('#bShareCamControls .off').show();}else{$('#bShareCamControls .on').show();$('#bShareCamControls .off').hide();}
if(value){$.open.newWindow($('#bShareCamControls .on').attr('url'),{windowName:'mywebcamera',width:320,height:240,left:(($(window).width()-320)/2),top:(($(window).height()-240)/2),scrollbars:false},{});}
this.service.shareMyCam(value);return false;},gotoPrivateChat:function(isFull){if(!this.userData.isLogged){this.addServiceMessage(__('Private chat only for premium members'),'alert');this.signupPopup();return false;}else if(this.userData.role!='member'){this.addServiceMessage(__('Private chat only for premium members'),'alert');return false;}else if(!this.chatSettings.allowPrivateChat){this.addServiceMessage(__('Private chat is disabled by model'),'alert');return false;}else if(!this.userData.isPayable){this.addServiceMessage(__('Private chat only for premium members')+'. '+__('To become a premium (GOLD) member for life and unlock this feature, all you have to do is buy any amount of tokens one time!'),'alert');this.buyTokensPopup();return false;}
if(!this.userData.isLogged||this.isPaidShow||!this.chatSettings.allowPrivateChat||this.performerStatus=='private'||this.performerStatus=='fullprivate'||this.performerStatus=='group')return false;if(this.checkMemberJoinPaidChat(true==isFull?'fullprivate':'private')){this.service.gotoPrivateChat(isFull);}
return false;},gotoGroupChat:function(){if(!this.userData.isLogged){this.addServiceMessage(__('Group chat only for premium members'),'alert');this.signupPopup();return false;}else if(this.userData.role!='member'){this.addServiceMessage(__('Group chat only for premium members'),'alert');return false;}else if(!this.chatSettings.allowGroupChat){this.addServiceMessage(__('Group chat is disabled by model'),'alert');return false;}else if(!this.userData.isPayable){this.addServiceMessage(__('Group chat only for premium members')+'. '+__('To become a premium (GOLD) member for life and unlock this feature, all you have to do is buy any amount of tokens one time!'),'alert');this.buyTokensPopup();return false;}
if(!this.userData.isLogged||this.isPaidShow||this.isGroupChatInvited||!this.chatSettings.allowGroupChat||this.performerStatus=='private')return false;$('.acceptGroupChat').remove();if(this.checkMemberJoinPaidChat('group')){this.service.gotoGroupChat();}
return false;},gotoVoyeur:function(){if(!this.userData.isLogged){this.addServiceMessage(__('Spy show feature only for premium members'),'alert');this.signupPopup();return false;}else if(this.userData.role!='member'){this.addServiceMessage(__('Spy show feature only for premium members'),'alert');return false;}else if(!this.userData.isPayable){this.addServiceMessage(__('Spy show feature only for premium members')+'. '+__('To become a premium (GOLD) member for life and unlock this feature, all you have to do is buy any amount of tokens one time!'),'alert');this.buyTokensPopup();return false;}
if(!this.userData.isLogged||this.isPaidShow||false==(this.performerStatus=='private'))return false;if(this.checkMemberJoinPaidChat('voyeur')){this.service.gotoVoyeur();}
return false;},stopPaidShow:function(reason){this.debug('*** stopPaidShow',reason);this.service.stopPaidShow(reason);},removeAcceptGroupChat:function(){this.debug('removeAcceptGroupChat');this.service.removeAcceptGroupChat();},checkMemberJoinPaidChat:function(type){if(true==this.userData.isPaymentsDisabled){this.addServiceMessage(__('We are sorry, but your spendings has been temporarily suspended')+'. <a href="javascript:void(0)" onclick="return chat.buyTokensPopup(this)" class="payment_disabled">'+__('Click to more details')+'.</a>','alert');return false;}
var chatType=type.charAt(0).toUpperCase()+type.slice(1);var canJoin=false;var price=0;var sMessage1='';var sMessage2='';var sMessage3='';if(type=='group'){canJoin=((this.userData.balance/(this.localData.groupChatTokensPerMinute))>0.5);price=this.localData.groupChatTokensPerMinute;sMessage1=__('We are sorry, but you do not have enough tokens for a group chat');sMessage2=__('You need enough tokens for at least 30 seconds of chat');sMessage3=__('Group chat costs %price% tokens per minute',{price:price});}else if(type=='private'){canJoin=((this.userData.balance/(this.localData.privateChatTokensPerMinute))>0.5);price=this.localData.privateChatTokensPerMinute;sMessage1=__('We are sorry, but you do not have enough tokens for a private chat');sMessage2=__('You need enough tokens for at least 30 seconds of chat');sMessage3=__('Private chat costs %price% tokens per minute',{price:price});}else if(type=='fullprivate'){canJoin=((this.userData.balance/(this.localData.fullPrivateChatTokensPerMinute))>0.5);price=this.localData.fullPrivateChatTokensPerMinute;sMessage1=__('We are sorry, but you do not have enough tokens for a full private chat');sMessage2=__('You need enough tokens for at least 30 seconds of chat');sMessage3=__('Full Private chat costs %price% tokens per minute',{price:price});}else if(type=='voyeur'){canJoin=((this.userData.balance/(this.localData.voyeurShowTokensPerMinute))>0.5);price=this.localData.voyeurShowTokensPerMinute;sMessage1=__('We are sorry, but you do not have enough tokens for a spy this show');sMessage2=__('You need enough tokens for at least 30 seconds of show');sMessage3=__('Spy show costs %price% tokens per minute',{price:price});}
if(!canJoin){this.addServiceMessage(sMessage1+'.<br/>'+sMessage2+'.<br/>'+sMessage3+" <a href='javascript:void(0)' onclick='return chat.buyTokensPopup(this)'>"+__('Click here to buy more')+'!</a>','alert');}
return canJoin;},sendPM:function(){var __sendPM=function(){var message=$('#bChat .sendInput').attr('value');if(message!=''){$.openDialogWithUser(chat.performerData.userId,message);$('#bChat .sendInput').val('');}else{$.openDialogWithUser(chat.performerData.userId);}
return false;};if(this.userData.isLogged&&(this.userData.role=='moderator'||(this.userData.accessLevel=='platinum'||this.userData.accessLevel=='unlimited'))){return __sendPM();}
if(!this.userData.isLogged){this.addServiceMessage(__('Private messaging only for premium members'),'alert');this.signupPopup();return false;}
else if(this.userData.role=='member'&&!this.userData.isPayable){this.addServiceMessage(__('Private messaging only for premium members')+'. '+__('To become a premium (GOLD) member for life and unlock this feature, all you have to do is buy any amount of tokens one time!'),'alert');this.buyTokensPopup();return false;}
else if(this.userData.role!='member'){this.addServiceMessage(__('Only members can private messaging'),'alert');return false;}
if(this.chatSettings.privateMessageSettings){if(this.chatSettings.privateMessageSettings=='all'){if(this.userData.balance<this.chatSettings.privateMessageMinTokens){this.addServiceMessage(__('Private messaging required more tokens on your account'),'alert');return false;}}
else if(this.chatSettings.privateMessageSettings=='disabled'){this.addServiceMessage(__('Private messaging is disabled by model'),'alert');return false;}
else if(this.chatSettings.privateMessageSettings=='friends'){var __isFriendCheck=function(){if(chat.isFriend(chat.performerData)){if(chat.userData.balance<chat.chatSettings.privateMessageMinTokens){chat.addServiceMessage(__('Private messaging required more tokens on your account'),'alert');return false;}
return __sendPM();}else{chat.addServiceMessage(__('Only friends can private messaging'),'alert');return false;}};if('undefined'==typeof $.activeFriendIds&&$.isFunction($.getActiveFriendIds)){$.getActiveFriendIds(__isFriendCheck);return false;}else{return __isFriendCheck();}}}
return __sendPM();},addPerformerFriend:function(){if(!this.userData.userId){this.signupPopup();return false;}
$("#TopMenuAddFriend").hide();$('#context_menu_'+this.performerData.username).find('li.friend').remove();this.addFriend(this.performerData);return false;},tipModel:function(value,desireId){this.debug('tipModel',value,'desireId='+desireId);this.service.tipModel(value,desireId);return false;},setFontStyle:function(style){if(this.userData.accessLevel=='platinum'||this.userData.accessLevel=='unlimited'){this.userData.fontStyle=style;this.service.setFontStyle(style);}else{this.addServiceMessage(__('Become a PLATINUM member for change your font style'),'alert');}
return false;}});$(document).ready(function(){$("#bChat").bind("onPerformerStatusChange",function(e){var status=chat.performerStatus;$('#bPaidButtonGroup').removeClass('sv-grid-50');switch(status){case'online':case'public':case'away':if(chat.userData.isVipZone){$('#bCamStatus p:first').html(__('%modelname% is in a %s1%VIP PREMIUM CHAT%s2%',{modelname:'<strong class="online">'+chat.performerData.displayName+'</strong>',s1:'<i>',s2:'</i>'}));$('#bGotoGroup').hide();}else{$('#bCamStatus p:first').html(__('%modelname% is in a public chat',{modelname:'<strong class="online">'+chat.performerData.displayName+'</strong>'}));$('#bGotoGroup').show();$('#bPaidButtonGroup').addClass('sv-grid-50');}
$('#bGotoPrivate').show();$('#bGotoVoyeur, #bGotoVoyeur2, #bGotoGroup2').hide();break;case'fullprivate':case'private':var currentChatType=status;if(!chat.acceptedPaidShow){if('fullprivate'==status){currentChatType='full private';}else{$('#bGotoVoyeur, #bGotoVoyeur2').show();}
var msg=new Date().format('H:i:s')+' '+__('%username% has joined the '+currentChatType+' chat',{username:'<strong>'+chat.performerData.displayName+'</strong>'})+'.';if('private'==status&&chat.userData.role!='moderator'){msg+='<br/>'+__('You can spy for this show')+', <a href="javascript:void(0)" onclick="return chat.gotoVoyeur()">'+__('click here')+'!</a>';}
chat.addServiceMessage(msg,'service')}
$('#bCamStatus p:first').html(__('%modelname% is in a '+currentChatType+' chat',{modelname:'<strong class="online">'+chat.performerData.displayName+'</strong>'}));$('#bPaidPop, #bGotoPrivate, #bGotoGroup, #bGotoGroup2').hide();break;case'vip':if(!chat.acceptedPaidShow){var msg=new Date().format('H:i:s')+' '+__('%username% has joined the '+status+' chat',{username:'<strong>'+chat.performerData.displayName+'</strong>'})+'.';chat.addServiceMessage(msg,'service')}
$('#bCamStatus p:first').html(__('%modelname% is in a '+status+' chat',{modelname:'<strong class="online">'+chat.performerData.displayName+'</strong>'}));$('#bPaidPop, #bGotoPrivate, #bGotoGroup, #bGotoGroup2, #bGotoVoyeur, #bGotoVoyeur2').hide();break;case'group':if(!chat.isGroupChatInvited){var msg=new Date().format('H:i:s')+' '+__('%username% has joined the group chat',{username:'<strong>'+chat.performerData.displayName+'</strong>'})+'.';if(chat.userData.role!='moderator'){msg+='<br/>'+__('To join group chat now')+', <a href="javascript:void(0)" onclick="return chat.gotoGroupChat()">'+__('click here')+'!</a>';$('#bGotoGroup, #bGotoGroup2').show();}
chat.addServiceMessage(msg,'service');}
var camsStatusMsg=__('%modelname% is in a group chat',{modelname:'<strong class="online">'+chat.performerData.displayName+'</strong>'});$('#bCamStatus p:first').html(camsStatusMsg);$('#bPaidPop, #bGotoPrivate, #bGotoVoyeur, #bGotoVoyeur2').hide();break;case'offline':$('#bPaidPop, #bGotoPrivate, #bGotoGroup, #bGotoGroup2, #bGotoVoyeur, #bGotoVoyeur2').hide();var camsStatusMsg=__('%modelname% is in offline',{modelname:'<strong class="online">'+chat.performerData.displayName+'</strong>'});$('#bCamStatus p:first').html(camsStatusMsg);break;}});if(true==$.isFullMobile){$('#bShareCamControls').hide();}
$.updateQueryStringParameter=function(uri,key,value){var re=new RegExp("([?|&])"+key+"=.*?(&|#|$)","i");if(uri.match(re)){if(value){return uri.replace(re,'$1'+key+"="+value+'$2');}else{var pos=uri.indexOf(key+'=')-1;re=new RegExp("()"+('\\'+uri.charAt(pos)+key)+"=.*?(&|#|$)","i");return uri.replace(re,'$1'+'$2');}}else if(value){var hash='';var separator=uri.indexOf('?')!==-1?"&":"?";if(uri.indexOf('#')!==-1){hash=uri.replace(/.*#/,'#');uri=uri.replace(/#.*/,'');}
return uri+separator+key+"="+value+hash;}};if(!$.mobile){$.switchVipZoneChat=function(){$('#chatContainer').addClass('vipZone');$('.underChatHDSwitchButton').prependTo('.chat-column .column-header');$('.underChatProfileButton').prependTo('.chat-column .column-header');$('#bChatRoomTitle').prependTo('.chat-column .column-header');$('#bCamStatus').appendTo('#bVipChatHeader');$('#bTopicCell').appendTo('#bVipChatHeader');$('#bGotoPrivate, #bGotoVoyeur, #bStopShow').appendTo($('#bPaidButtonsCell'));$('#bMemberBalance').appendTo('#bChat');}
function windowResizeHandler(){if(window.innerWidth<=1440){$('#chatContainer').removeClass('cc_medium').addClass('cc_small');}else if(window.innerWidth<=1680){$('#chatContainer').removeClass('cc_small').addClass('cc_medium');}else{$('#chatContainer').removeClass('cc_small cc_medium');}
if($('#chatContainer').hasClass('vipZone')||$('#layout_9').length){return;}
if($(window).width()<=1550){hideUserList();}else{showUserList();}}
function hideUserList($container){$container=$container||$('#bChat');$('.users',$container).hide();$('.usersCount',$container).hide();$('#bUserListShow').show();if($.isFunction($.adjustHeaderAndFooterWidth)){$.adjustHeaderAndFooterWidth();}}
function showUserList($container){$container=$container||$('#bChat');$('#bUserListShow').hide();$('.users',$container).show();$('.usersCount',$container).show();if($.isFunction($.adjustHeaderAndFooterWidth)){$.adjustHeaderAndFooterWidth();}}
var resizeTimer;$(window).bind('resize',function(){if(resizeTimer)clearTimeout(resizeTimer);resizeTimer=setTimeout(function(){windowResizeHandler();},200);});windowResizeHandler();$('.fontButton').tooltip({position:'top left',offset:[0,20],tip:'#ChangeFontFormTooltip',events:{widget:"click, false",tooltip:'mouseenter'}});$(window).bind('keyup',function(e){if($(e.target).is('input, textarea'))return;if(39==e.keyCode){chat.nextRoom();}
else if(37==e.keyCode){chat.prevRoom();}});$('#my_font_color').colorPicker();$('#ChangeFontFormTooltip form').submit(function(e){e.preventDefault();chat.setFontStyle({fontFamily:$('#my_font_family').val(),fontSize:$('#my_font_size').val(),color:$('#my_font_color').val()});$('#ChangeFontFormTooltip .close').click();});$('#ChangeFontFormTooltip .close').click(function(){$('.fontButton').each(function(){if($(this).data('tooltip')){$(this).data('tooltip').hide();}});});$('#bCamControlsHide').click(function(){$('.cam-column').attr('id','bCamHidden');$('#bCamControlsShow').show();});$('#bCamControlsShow').click(function(){$(this).hide();if($('#bCamHidden').length){$('.cam-column').removeAttr('id');}});$('#bUserListHide').click(function(){hideUserList();});$('#bUserListShow').click(function(){showUserList();});$('#bPerformerDesires').delegate('.desire','click',function(){chat.tipPopup($(this).attr('id'));});$("#bGotoPrivate").bind('click',function(){chat.paidShowPopup();});$("#bPaidButtonTopRow #bGotoGroup").bind('click',function(){chat.paidShowPopup(true);});$(".paidPopForm label").click(function(){$('.selected',$(this).parents('.paidPopForm')).removeClass('selected');$(this).addClass('selected');});$(".paidPopForm .paid-pop-what").click(function(e){$.fancybox.open($(this),{padding:0,autoSize:false,type:'ajax',wrapCSS:'fancybox-bonga-wrap',openSpeed:100,closeSpeed:100,helpers:{overlay:{locked:false}}});e.stopPropagation();return false;});$("#bPaidPopContainer .close").click(function(){var $pop=$(this).parent();$pop.hide();$('body').unbind('.'+$pop.attr('id'));});$("#bPaidPopContainer button").click(function(){var $pop=$(this).parents('.paid-pop:first');switch($('.selected',$pop).attr('value')){case'private':chat.gotoPrivateChat();break;case'group':chat.gotoGroupChat();break;case'fullprivate':chat.gotoPrivateChat(true);break;}
$pop.hide();$('body').unbind('.'+$pop.attr('id'));});$('.chat_tabs_container .mls_tabs a').bind('click',function(){var $tab=$(this).parent();var $chatTab=$tab.closest('.chat-tab');if($tab.is('.tab_history')){hideUserList($chatTab);$('.historyContainerCell',$chatTab).removeClass('hidden');$('.chat_tabs_container li',$chatTab).removeClass('selected');$tab.addClass('selected');}
if($tab.is('.tab_users')){showUserList($chatTab);$('.historyContainerCell',$chatTab).addClass('hidden');$('.chat_tabs_container li',$chatTab).removeClass('selected');$tab.addClass('selected');}});}});})(jQuery);
(function($){$.extend(chat,{initMediator:function(){if(chat.userData.localData){chat.localData=chat.userData.localData;delete chat.userData.i18n;delete chat.userData.localData;}
var $bChat=$('#bChat');$bChat.bind('onPaidShowStart',function(e,type){chat.playStream();});$bChat.bind('onRoomClose',function(e,reason){chat.debug('[mediator] onRoomClose',reason);clearInterval(chat.freeTimeInt);if(reason){chat.closeStream();}});$bChat.bind('onPaidShowStop',function(e,reason,changeRoom){chat.closeStream(chat.performerStatus=='vip'&&chat.userData.isVip);if(!changeRoom){chat.service.handlePaidShowStop();$bChat.triggerHandler('onPerformerStatusChange');}});$bChat.bind('onPerformerStatusChange',function(e){var status=chat.performerStatus;chat.debug('[mediator] onPerformerStatusChange',status);if(chat.freeTimeReached)return;if(chat.isPaidShow){var msg='';if('offline'==status||'public'==status||'vip'==status){switch(chat.currentShowType){case'fullprivate':msg='Full private chat has been stopped by %modelname%';break;case'private':msg='Private chat has been stopped by %modelname%';break;case'group':msg='Group chat has been stopped by %modelname%';break;case'voyeur':msg='Spy mode has been stopped by %modelname%';break;case'vip':msg='VIP Show has been stopped by %modelname%';break;}
msg=__(msg,{modelname:'<strong>'+chat.performerData.displayName+'</strong>'});chat.stopPaidShow(msg);}}
$('.layover').attr('src',chat.getLayoverSrc('away'));switch(status){case'away':chat.closeStream();$('.layoverText').removeClass('layoverCenter').find('strong').html(__("I'm Away")).end().show();break;case'public':chat.playStream();break;case'fullprivate':case'private':if(!chat.acceptedPaidShow){chat.closeStream();if('fullprivate'!=status){$('#bPrivateLink').attr('href','#popupVoyeur').show();}
if('private'==status){$('.layoverText').addClass('layoverCenter').find('strong').html(__("I'm Private")).end().find('a.layoverButtonVoyeur').show().end().show();}else{$('.layoverText').removeClass('layoverCenter').find('strong').html(__("I'm Full Private")).end().show();}}
break;case'vip':if(!chat.userData.isVip){$('.layover').attr('src',chat.getLayoverSrc('vip'));$('.layoverText').hide();chat.closeStream();}else if(!chat.acceptedPaidShow){chat.closeStream(true);chat.service.gotoVipShow();}
break;case'group':var msg=__('%username% has joined the group chat',{username:'<strong>'+chat.performerData.displayName+'</strong>'})+'.';if(!chat.isGroupChatInvited){chat.closeStream();$('.layoverText').addClass('layoverCenter').find('strong').html(__("I'm Group")).end().find('a.layoverButtonGroup').show().end().show();}
break;case'offline':chat.closeStream();$('.layoverText').removeClass('layoverCenter').find('strong').html(__("I'm Offline")).end().show().find('.layoverButton').hide();break;}});$bChat.bind('onBeforeGetRoom',function(e){if(chat.freeTimeReached)return;$('.layover, .layoverText, .layoverText a').hide();});$bChat.bind('onUserData',function(e){chat.initLimits();});$bChat.bind('onVideoStreamLimit',function(e){$('.layover').attr('src',chat.getLayoverSrc('limit'));$('.layoverText').remove();$('.layoverLimitText').show();chat.closeStream();});},getLayoverSrc:function(type){var $layover=$('.layover');if('vip'==type){return $layover.attr('hd'==chat.performerData.videoQuality&&$layover.attr('vip-hd')?'vip-hd':'vip')}
return $layover.attr('base-path')+type+chat.performerData.sexType+'.png';},initLimits:function(){if(!$.isLocalStorageAvailable()){this.debug('[mediator] initLimits: localStorage is not suppoted');}
var d=new Date();d.hours=0;d.minutes=0;d.seconds=0;if(!localStorage['limits.stamp']||parseInt(localStorage['limits.stamp'])+86400000<=d.getTime()){this.debug('[mediator] init limits for '+this.performerData.username);if($.isLocalStorageAvailable()){localStorage['limits.stamp']=d.getTime();localStorage['limits.todayFreeTime']=0;localStorage['limits.todayMessages']=0;}}
var isFreeTimeIsOver=function(){var freeTime=chat.localData.dailyMinutesLimit*60;return localStorage['limits.todayFreeTime']>=freeTime+3;}
var checkFreeTime=function(){if(isFreeTimeIsOver()){clearInterval(chat.freeTimeInt);if(!chat.freeTimeReached)
chat.onVideoStreamLimit(false);chat.freeTimeReached=true;}else{if($.isLocalStorageAvailable()){localStorage['limits.todayFreeTime']++;}}}
if(this.localData.dailyMinutesLimit){checkFreeTime();this.freeTimeInt=setInterval(checkFreeTime,1000);}},checkFreeMessageLimit:function(){if(this.userData.isLogged){if(this.userData.role=='member'&&!this.userData.isPayable&&!this.chatSettings.allowFreeMemberChat){this.addServiceMessage(__('We are sorry but FREE members are temporarily muted by model')+'. <a href="javascript:void(0)" onclick="return chat.buyTokensPopup(this)">'+__('Buy some tokens')+'</a> '+__('and begin chatting with your favorite models')+'!','alert');return true;}}
if(this.userData.dailyMessagesLimit){if(!$.isLocalStorageAvailable()&&!localStorage['limits.todayMessages']){this.freeMessagesCount=0;}else{this.freeMessagesCount=localStorage['limits.todayMessages'];}
if(this.freeMessagesCount>=this.userData.dailyMessagesLimit){this.onFreeChatMessageLimit();return true;}else{this.freeMessagesCount++;if($.isLocalStorageAvailable()){localStorage['limits.todayMessages']=this.freeMessagesCount;}}}
return false;}});})(jQuery);
var MobileChatService=function(directServiceUrl,amfServiceUrl){var directServiceUrl=directServiceUrl;var amfServiceUrl=amfServiceUrl;var socket=null;var connected=false;var funcId=0;var callbacks={};var dataKey=null;var pingInt=null;var roomDataXhr=null;var joinRoom=function(){if(chat.userData.chathost===null){return;}
chat.debug('joinRoom');call('joinRoom',function(result){chat.setChatHeight();if(!chat.currentChathost){chat.setCurrentChathost(chat.performerData.username);}
if(!result.status){chat.onDisconnect('ROOM_RELEASE');return;}
if(result.clientId){chat.userData.clientId=result.clientId;}
if(result.performerClId){chat.performerData.clientId=result.performerClId;}
if(result.settings){chat.onChatSettings(result.settings);}
if(result.topic){chat.onTopicChange(result.topic,false);}
if(result.topicRu){chat.onTopicChange(result.topicRu,true);}
if(result.status){chat.performerStatusChange(result.status);}
if(undefined!=result.isAudioAvailable){chat.performerAudioState(result.isAudioAvailable);}
pingInt=setInterval(function(){call('ping',null);var pingArgs=new Array();if(chat.userData.userId){pingArgs.push(chat.userData.userId);if(chat.isPaidShow){pingArgs.push(chat.performerData.userId);pingArgs.push(true);}}else{pingArgs.push(null);}
$.ajax({data:{method:'ping',args:pingArgs},url:directServiceUrl,type:'post',success:function(data,status,jqXHR){chat.debug('ping',data);if(!data.userData){return;}
try{balance=data.userData.balance;}catch(e){chat.error('ping error: wrong balance');return;}
if(balance!=chat.userData.balance){chat.setBalance(balance);}
if(!chat.isPaidShow||(chat.isPaidShow&&'vip'==chat.initiatedPaidShow)){call("updateMemberBalance",null,[{balance:balance,accessLevel:data.userData.accessLevel},data.dataKey]);}
call("ChatModule.updateUserData",null,[chat.currentChatType]);}});},1000*(!chat.userData.isLogged?120:30));call('ChatModule.connect',function(result){if(result.history){chat.setHistory(result.history);}
if(result.userList){chat.updateUsers(chat.currentChatType,result.userList);}},['public-chat']);chat.enableChatInput();},[chat.performerData.username,chat.userData,dataKey]);};var updateUserList=function(){call('ChatModule.syncUserList',function(userList){chat.updateUsers(chat.currentChatType,userList);},[chat.currentChatType]);}
var acceptGroupChat=function(){var invitationData;if(!chat.groupChatInvitationData){invitationData=new Object();invitationData.users=new Array();}else{invitationData=chat.groupChatInvitationData;if(invitationData.users.indexOf(chat.userData.username)>=0){return;}}
invitationData.users.push(chat.userData.username);call('ChatModule.setGroupChatInvitation',function(e){},[invitationData]);};var initPaidShow=function(type){if(chat.userData.isPayable&&!chat.initiatedPaidShow){chat.debug('*** initPaidShow',type);chat.initiatedPaidShow=type;$.ajax({data:{method:'initPaidShow',args:[chat.performerData.username,type]},url:amfServiceUrl,type:'post',dataType:'json',success:function(data,status,jqXHR){chat.debug('*** initPaidShow RESULT',data);if('decline'==data.status){chat.paidShowDecline(data.description);return;}
chat.closeStream(true);call('initPaidShow',function(result){chat.currentShowType=type;chat.paidShowId=result;startPaidShow(type);},[{showType:type},data.dataKey,data.actionKey]);}});};var startPaidShow=function(type){chat.debug('*** startPaidShow',type);var onResult=function(){call('ChatModule.disconnect',null,['public-chat']);call('ChatModule.connect',null,['private-chat']);call("startPaidShow",null,[type]);chat.onPaidShowStart(type);}
if(chat.userData.isVip&&'vip'==chat.performerStatus){onResult();}else{$.ajax({data:{method:'startPaidShow',args:[chat.performerData.username,chat.currentShowType,'getOrientation'in window?window.getOrientation():null]},url:amfServiceUrl,type:'post',dataType:'json',success:function(data,status,jqXHR){if('success'==data.status){onResult();}}});}};};var call=function(cmd,callback,params){funcId++;var func=new Object();func.name=cmd;func.id=funcId;func.params=params;callbacks[func.id]=callback;socket.send(JSON.stringify(func));};return{name:"MobileChatService",getSocket:function(){return socket;},connect:function(url){var self=this;socket=new SockJS(url,null,{debug:false,rtt:1000});socket.onopen=function(){chat.debug('[sjs] open '+this.protocol);if(chat.performerData&&chat.performerData.username&&dataKey){joinRoom();}else{self.getRoom(chat.userData.chathost);}
connected=true;};socket.onclose=function(){chat.debug('[sjs] close');connected=false;};socket.onerror=function(){chat.debug('[sjs] error');connected=false;};socket.onmessage=function(e){var data=JSON.parse(e.data);if(data.type&&undefined!==data.body){switch(data.type){case'ServerMessageEvent:PERFORMER_STATUS_CHANGE':chat.performerStatusChange(data.body);break;case'ServerMessageEvent:PERFORMER_AUDIO_STATE':chat.performerAudioState(data.body);break;case'ServerMessageEvent:PERFORMER_SETTINGS_CHANGE':chat.onChatSettings(data.body);break;case'ServerMessageEvent:TOPIC_CHANGE':chat.onTopicChange(data.body.topic,data.body.isRu);break;case'ServerMessageEvent:CHAT_CLEAR_HISTORY':chat.onHistoryClear(data.body.type);break;case'ServerMessageEvent:DELETE_MESSAGE':if(data.body.id){chat.onDeleteMessage(data.body.id);}else if(data.body.userId){chat.onDeleteMessages(data.body.userId);}
break;case'ServerMessageEvent:CHAT_INCOMING_MESSAGE':if(chat.currentChatType==data.body.type){chat.incomingMessage(data.body.type,data.body.message,data.body.author,data.body.id);}
break;case'ServerMessageEvent:INCOMING_PRIVATE_MESSAGE':chat.incomingPrivateMessage(data.body.message,data.body.author);break;case'ServerMessageEvent:CHAT_FRIEND_REQUEST':if(chat.currentChatType==data.body.type){chat.onFriendRequest(data.body.from);}
break;case'ServerMessageEvent:CHAT_FRIEND_RESPONSE':if(chat.currentChatType==data.body.type){chat.onFriendConfirm(data.body.from);}
break;case'ServerMessageEvent:SHOW_REQUEST':if(!data.body.user||(data.body.user.username!=chat.userData.username))return;chat.onShowRequest(data.body);if(chat.acceptedPaidShow){initPaidShow(chat.acceptedPaidShow);}
break;case'ServerMessageEvent:GROUP_CHAT_INVITATION_CHANGE':chat.groupChatInvitation(data.body);if(chat.isGroupChatInvited&&chat.isGroupChatMembersReady){initPaidShow('group');}
break;case'ServerMessageEvent:GROUP_SHOW_RESPONSE':chat.onGroupShowResponse(data.body);if(chat.acceptedPaidShow){initPaidShow(chat.acceptedPaidShow);}
break;case'ServerMessageEvent:INCOMING_TIP':chat.onTip(data.body.from,data.body.tip.amount,data.body.tip.desireId);break;case'ServerMessageEvent:PAID_SHOW_UPDATE':chat.debug('[sjs] PAID_SHOW_UPDATE');chat.debug(data.body);chat.setBalance(data.body);break;case'ServerMessageEvent:PAID_SHOW_STOPPED':chat.debug('[sjs] PAID_SHOW_STOPPED');chat.debug(data.body);chat.onPaidShowStop(data.body);break;case'ServerMessageEvent:ROOM_CLOSE':chat.debug('[sjs] ROOM_CLOSE');chat.debug(data.body);clearInterval(pingInt);chat.onDisconnect(data.body.reason);break;}}
if(data.id>0){var callback=callbacks[data.id];if(undefined!=callback){delete callbacks[data.id];if(data.error){chat.error(data);}else if(data.result){callback.call(null,data.result);}}}}},connected:function(){return connected;},disconnect:function(){if(socket){socket.close();}
connected=false;},getRoomData:function(chathost){var changeRoom=!!chat.performerData;chat.debug('getRoomData',chathost);return $.ajax({data:{method:'getRoomData',args:[chathost,changeRoom]},url:directServiceUrl,type:'post'});},getRoom:function(chathost){if(!chathost){return;}
roomDataXhr=this.getRoomData(chathost);roomDataXhr.done(function(data){roomDataXhr=null;dataKey=data.localData.dataKey;$.extend(chat.userData,data.userData);$.extend(chat.localData,data.localData);chat.performerData=data.performerData;chat.videoServerUrl=data.localData.videoServerUrl;chat.audioServerUrl=data.localData.audioServerUrl;chat.onUserData(chat.userData,chat.performerData,chat.localData);joinRoom();});},closeRoom:function(changeRoom){if(roomDataXhr){roomDataXhr.abort();}
if(chat.isPaidShow){chat.onPaidShowStop(null,true);}
if(this.connected()){call('ChatModule.disconnect',null,[chat.currentChatType]);call('closeRoom',null);}
chat.performerAudioState(false);chat.closeStream(true);},sendMessage:function(message,chatType){call('ChatModule.sendMessage',null,[chatType,message]);},updateHistory:function(history){call('updateChatLog',null,[history]);},addFriend:function(userData){var addFriend=function(userId){$.ajax({data:{method:'addFriend',args:[userId]},url:amfServiceUrl,type:'post',dataType:'json'});};if(userData.friendRequestSettings=='select'){addFriend(userData.userId);call('ChatModule.sendFriendRequest',null,[chat.currentChatType,userData.clientId]);}else if(userData.friendRequestSettings=='all'){addFriend(userData.userId);this.applyFriend(userData.clientId);}},confirmFriend:function(userData){$.ajax({data:{method:'confirmFriend',args:[userData.userId]},url:amfServiceUrl,type:'post',dataType:'json'});this.applyFriend(userData.clientId);},applyFriend:function(clientId){call('ChatModule.sendFriendResponse',function(e){},[chat.currentChatType,clientId]);},removeFriend:function(userData){$.ajax({data:{method:'removeFriend',args:[userData.userId]},url:amfServiceUrl,type:'post',dataType:'json'});},sendShowRequest:function(data){call('ChatModule.sendShowRequest',function(e){},[data]);},tipModel:function(value,desireId){if(undefined==desireId)desireId=null;$.ajax({data:{method:'tipModel',args:[chat.performerData.username,value,desireId,'getOrientation'in window?window.getOrientation():null]},url:amfServiceUrl,type:'post',dataType:'json',success:function(data,status,jqXHR){if(data.status=='success'){call('ChatModule.sendTip',null,[{amount:parseInt(data.amount),desireId:data.desireId},data.dataKey,data.actionKey]);}else{chat.addServiceMessage(data.description,'tip_'+data.status);}}});},gotoPrivateChat:function(isFull){this.sendShowRequest({type:isFull?'fullprivate':'private',user:chat.userData,status:'request'});},gotoGroupChat:function(){if('group'==chat.performerStatus){initPaidShow('group');}else{acceptGroupChat();}},gotoVoyeur:function(){initPaidShow('voyeur');},gotoVipShow:function(){initPaidShow('vip');},stopPaidShow:function(reason){if(undefined==reason)reason=null;call("stopPaidShow",null,[reason]);chat.onPaidShowStop(reason);},handlePaidShowStop:function(reason){call('ChatModule.disconnect',null,['private-chat']);call('ChatModule.connect',null,['public-chat']);},removeAcceptGroupChat:function(){if(chat.groupChatInvitationData&&chat.groupChatInvitationData.users){var invitationData=chat.groupChatInvitationData;for(var i=0;i<invitationData.users.length;i++){if(chat.userData.username==invitationData.users[i]){invitationData.users.splice(i,1);call('ChatModule.setGroupChatInvitation',function(e){},[invitationData]);return;}}}},sendPrivateMessage:function(message,username){},addServiceMessage:function(message){},blockUser:function(username,userId,isBan,deleteHistory){},muteUser:function(username,userId,isMute){},deleteMessage:function(username,messageId){},muteVideo:function(val){},muteAudio:function(val){},showVolumeSlider:function(val){},setFontStyle:function(style){chat.debug('*** setFontStyle',style);call("setFontStyle",null,[style]);$.ajax({data:{method:'setFontStyle',args:[style]},url:amfServiceUrl,type:'post',dataType:'json'});call("ChatModule.updateUserData",null,[chat.currentChatType]);updateUserList();},shareMyCam:function(val){}}};
(function($){$.extend(chat,{isPlaying:false,isHLS:false,HLS_PlayButtonTapped:false,isDASH:false,DASH_Player:null,videoServerUrl:null,videoObject:null,videoObjectPlayInt:null,audioServerUrl:null,audioObject:null,audioAvailable:false,createVideo:function(){var v=document.createElement('video');var canPlayHLS=function(){if(v.canPlayType){var a=v.canPlayType("application/x-mpegURL");var b=v.canPlayType("vnd.apple.mpegURL");return((a=="probably"||a=="maybe")||(b=="probably"||b=="maybe"));}
return false;};var canPlayDash=function(){var a="MediaSource"in window&&"undefined"!=typeof Dash;return a&&MediaSource.isTypeSupported('video/mp4; codecs="avc1.4000d"')&&MediaSource.isTypeSupported('video/mp4; codecs="avc1.4240d"');};if(canPlayHLS()&&((!$.mobile&&!navigator.userAgent.match(/iPhone/i))||($('body').hasClass('ipad')||($('body').hasClass('iphone')&&$('body').hasClass('d-browser'))||($('body').hasClass('android')||$('body').hasClass('blackberry')&&!$('body').hasClass('opera-browser'))))){this.insertVideoObject(v);$('<a href="#" id="playHLS"></a>').insertAfter($('#display'));var self=this;$(this.videoObject).on("loadstart",function(){if(self.options.debug){self.addServiceMessage('[debug] loadstart');}}).on("progress",function(e){if(self.options.debug){self.addServiceMessage('[debug] progress');}
this.loading=true;}).on("waiting",function(){if(self.options.debug){self.addServiceMessage('[debug] waiting');}}).on("play",function(){if(self.options.debug){self.addServiceMessage('[debug] play');}
$('#playHLS').hide();$('#display').hide();$('#sound-btn').removeClass('sound-off').addClass('sound-on');$('#stream-container .spinner').show();self.isHLS=true;}).on("playing",function(){if(self.options.debug){self.addServiceMessage('[debug] playing');}
this.playing=true;this.loading=false;$('#displayHLS').removeClass('hidden');}).on("ended",function(){this.playing=false;if(self.options.debug){self.addServiceMessage('[debug] ENDED?');}}).on("emptied",function(){this.playing=false;if(self.options.debug){self.addServiceMessage('[debug] EMPTIED?');}}).on("error",function(){this.playing=false;if(self.options.debug){self.addServiceMessage('[debug] ERROR?');}
if(!self.isHLS){}else{}}).on("abort",function(){this.playing=false;if(self.options.debug){self.addServiceMessage('[debug] ABORT?');}}).on("timeupdate",function(){if(self.options.debug){self.addServiceMessage('[debug] timeupdate:'+this.currentTime+'/'+this.lastTime+' '+this.src);}
if(this.currentTime>0){this.lastTime=this.currentTime;$('#display, #playHLS').hide();}else if(this.lastTime>0){if(self.options.debug){self.addServiceMessage('[debug] END?');}}
$.im_sound_disabled=true;}).on("loadeddata",function(){if(self.options.debug){self.addServiceMessage('[debug] DATA-LOADED?');}}).on("onloadedmetadata",function(){if(self.options.debug){self.addServiceMessage('[debug] META-DATA-LOADED?');}});$('#playHLS, #displayHLS, #stream-container').bind('click',function(){self.HLS_PlayButtonTapped=true;self.playHLS();});}
else if(canPlayDash()){this.isDASH=true;this.insertVideoObject(v);var self=this;$(this.videoObject).on("loadstart",function(){if(self.options.debug){self.addServiceMessage('[debug] loadstart');}}).on("progress",function(e){if(self.options.debug){self.addServiceMessage('[debug] progress');}
this.loading=true;}).on("waiting",function(){if(self.options.debug){self.addServiceMessage('[debug] waiting');}}).on("play",function(){if(self.options.debug){self.addServiceMessage('[debug] play');}
$('#playHLS').hide();$('#display').hide();$('#sound-btn').removeClass('sound-off').addClass('sound-on');$('#stream-container .spinner').show();}).on("playing",function(){if(self.options.debug){self.addServiceMessage('[debug] playing');}
this.playing=true;this.loading=false;$('#displayHLS').removeClass('hidden');}).on("ended",function(){this.playing=false;if(self.options.debug){self.addServiceMessage('[debug] ENDED?');}}).on("emptied",function(){this.playing=false;if(self.options.debug){self.addServiceMessage('[debug] EMPTIED?');}}).on("error",function(){this.playing=false;if(self.options.debug){self.addServiceMessage('[debug] ERROR?');}}).on("abort",function(){this.playing=false;if(self.options.debug){self.addServiceMessage('[debug] ABORT?');}}).on("timeupdate",function(){if(self.options.debug){self.addServiceMessage('[debug] timeupdate:'+this.currentTime+'/'+this.lastTime+' '+this.src);}
if(this.currentTime>0){this.lastTime=this.currentTime;}else if(this.lastTime>0){if(self.options.debug){self.addServiceMessage('[debug] END?');}}
$.im_sound_disabled=true;}).on("loadeddata",function(){if(self.options.debug){self.addServiceMessage('[debug] DATA-LOADED?');}}).on("onloadedmetadata",function(){if(self.options.debug){self.addServiceMessage('[debug] META-DATA-LOADED?');}});var context=new Dash.di.DashContext();this.DASH_Player=new MediaPlayer(context);this.DASH_Player.startup();this.DASH_Player.attachView(this.videoObject);this.DASH_Player.setAutoPlay(true);}
else{$('#sound-link').click(function(){chat.toggleSound();$(this).remove();});}
if(!$.mobile){$('#bChat').bind('onBeforeGetRoom',function(e){$('#stream-container').css('background-image','none');$('#stream-container .spinner').show();});$('#bChat').bind('onUserData',function(e){$('#stream-container').css('background-image','url('+chat.getStreamUrl()+'?t='+new Date().getTime()+')');});}},insertVideoObject:function(v){this.videoObject=v;this.videoObject.preload='none';this.videoObject.autoplay=true;if($('body').hasClass('opr-browser')){this.videoObject.autoplay=false;}
this.videoObject.id='displayHLS';this.videoObject.lastTime=0;this.videoObject.errorCount=0;this.videoObject.className='hidden';$(this.videoObject).attr('webkit-playsinline',1).attr('wmode','opaque').insertAfter($('#display'));},createAudio:function(){var $audio=$("<audio/>").appendTo("body");this.audioObject=$audio.get(0);},playStream:function(rollback){if(this.freeTimeReached)return;if(this.options.debug){this.addServiceMessage('[debug] playStream');}
$('.layover, .layoverText, .layoverText a').hide();$('#display').show();this.isPlaying=true;if(this.videoObject&&!rollback){if(this.isDASH){this.playDASH();}else{this.playHLS();}}else{this.loadFrame();}},playHLS:function(){var url=this.getStreamUrl('hls');if(this.options.debug){this.addServiceMessage('[debug] playHLS:'+url);}
if(!this.isPlaying)return;if($('#display').is(':visible')){$('#playHLS').css('display','block');$('#stream-container .spinner').hide();}
this.videoObject.src=url;this.videoObject.load();if(false==($('body').hasClass('opr-browser')&&!this.HLS_PlayButtonTapped)){if(this.options.debug){this.addServiceMessage('[debug] videoObject.play: '+this.videoObject.src);}
this.videoObject.play();clearInterval(this.videoObjectPlayInt);this.videoObjectPlayInt=setInterval(function(){if(chat.options.debug){chat.addServiceMessage('[debug] playHLS'+'<br>'+'currentTime:'+chat.videoObject.currentTime+'<br>'+'isPlaying:'+chat.isPlaying+'<br>'+'HLS_Playing:'+chat.videoObject.playing+'<br>'+'HLS_Paused:'+chat.videoObject.paused+'<br>'+'HLS_NetworkState:'+chat.videoObject.networkState+'<br>'+'HLS_PlayButtonTapped:'+chat.HLS_PlayButtonTapped);}
if(!chat.videoObject.currentTime&&chat.isPlaying&&!chat.videoObject.playing){chat.playHLS();}},6000);}},playDASH:function(){var url=location.protocol+this.getStreamUrl('dash');if(this.options.debug){this.addServiceMessage('[debug] playDASH:'+url);}
this.DASH_Player.attachSource(url);clearInterval(this.videoObjectPlayInt);this.videoObjectPlayInt=setInterval(function(){if(chat.options.debug){chat.addServiceMessage('[debug] playDASH'+'<br>'+'currentTime:'+chat.videoObject.currentTime+'<br>'+'isPlaying:'+chat.isPlaying+'<br>'+'DASH_Playing:'+chat.videoObject.playing+'<br>'+'DASH_Paused:'+chat.videoObject.paused+'<br>'+'DASH_NetworkState:'+chat.videoObject.networkState);}
if(!chat.videoObject.currentTime&&chat.isPlaying&&!chat.videoObject.playing){chat.playDASH();}},10000);},getStreamUrl:function(type){var stream,url;if(this.paidShowId){stream=this.paidShowId;}else{stream='stream_'+this.performerData.username;}
url=this.videoServerUrl;if('hls'==type){url+='/hls/'+stream+'.m3u8';}else if('dash'==type){url+='/dash/'+stream+'.mpd';}else{url+='/'+stream+'.jpg';}
return url;},loadFrame:function(){if(!this.isPlaying)return;if(!this.videoServerUrl){console.log("ERROR: stream video server url is not specified");return;}
var stream;if(this.paidShowId){stream=this.paidShowId;}else{stream='stream_'+this.performerData.username;}
var self=this;var img=new Image();img.onload=imageOnLoad;img.onerror=imageOnError;img.timestamp=new Date().getTime();img.src=this.getStreamUrl()+'?t='+(img.timestamp);function imageOnLoad(){if(!self.isPlaying)return;var loadTime=new Date().getTime()-this.timestamp;self.drawFrame(this);setTimeout(function(){self.loadFrame();},100-loadTime);}
function imageOnError(){if(!self.isPlaying)return;var loadTime=new Date().getTime()-this.timestamp;setTimeout(function(){self.loadFrame();},100-loadTime);}},drawFrame:function(image){var display=$('#display').get(0);var displayContext=display.getContext("2d");display.width=$('#stream-container').width();display.height=$('#stream-container').height();if(displayContext!=null){try{displayContext.drawImage(image,0,0,image.width,image.height,0,0,$('#stream-container').width(),$('#stream-container').height());}catch(e){}}},closeStream:function(overlay){if(this.options.debug){this.addServiceMessage('[debug] closeStream, overlay='+overlay);}
this.isPlaying=false;if(!overlay){$('.layover').css('display','block');}
$('#display').hide();var display=$('#display').get(0);display.width=display.width;if(this.videoObject){this.videoObject.pause();$('#displayHLS').addClass('hidden');this.videoObject.errorCount=0;clearInterval(this.videoObjectPlayInt);}
if(this.isSoundOn()){this.audioObject.pause();}},toggleSound:function(flag){if(!this.audioAvailable)return;if($('#sound-btn').hasClass('sound-on')||false===flag){$('#sound-btn').removeClass('sound-on').addClass('sound-off');if(!this.videoObject){this.audioObject.pause();}else{this.videoObject.volume=0;}}else{$('#sound-btn').removeClass('sound-off').addClass('sound-on').show();if(!this.videoObject){if('away'!=this.performerStatus){this.playSound();}
$('#sound-link').css('display','none');}else{this.videoObject.volume=1;}}},playSound:function(){if(this.freeTimeReached||!this.audioAvailable)return;var url=this.audioServerUrl+(location.protocol=='https:'?':8444':':8081');if(this.paidShowId){url+='/'+this.paidShowId;}else{url+='/stream_'+this.performerData.username;}
url+='/'+new Date().getTime();this.debug("audioUrl = "+url);try{this.audioObject.src=url;this.audioObject.load();this.audioObject.play();}catch(e){this.debug('audio error: '+e);}},isSoundOn:function(){return $('#sound-btn').hasClass('sound-on');},performerAudioState:function(status){this.debug('[video] performerAudioState',status);this.audioAvailable=status;if(this.freeTimeReached)return;if(!status){if(this.isSoundOn()){this.audioObject.pause()}
$('#sound-btn, #sound-link').css('display','none');}else{if(this.isSoundOn()&&!this.videoObject){this.playSound();}
if($('#sound-link').length&&!this.videoObject){$('#sound-link').css('display','block');}else{$('#sound-btn').css('display','block');}}}});})(jQuery);
(function(c,m){"function"===typeof define&&define.amd?define("sifter",m):"object"===typeof exports?module.exports=m():c.Sifter=m()})(this,function(){var c=function(c,s){this.items=c;this.settings=s||{diacritics:!0}};c.prototype.tokenize=function(c){c=(String(c||"").toLowerCase()+"").replace(/^\s+|\s+$|/g,"");if(!c||!c.length)return[];var s,l,e,x=[],h=c.split(/ +/);c=0;for(s=h.length;c<s;c++){l=(h[c]+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1");if(this.settings.diacritics)for(e in u)u.hasOwnProperty(e)&& (l=l.replace(new RegExp(e,"g"),u[e]));x.push({string:h[c],regex:new RegExp(l,"i")})}return x};c.prototype.iterator=function(c,s){(p(c)?Array.prototype.forEach||function(c){for(var e=0,r=this.length;e<r;e++)c(this[e],e,this)}:function(c){for(var e in this)this.hasOwnProperty(e)&&c(this[e],e,this)}).apply(c,[s])};c.prototype.getScoreFunction=function(c,s){var l,e,h;c=this.prepareSearch(c,s);e=c.tokens;l=c.options.fields;h=e.length;var p=function(c,e){var h,l;if(!c)return 0;c=String(c||"");l=c.search(e.regex); if(-1===l)return 0;h=e.string.length/c.length;0===l&&(h+=.5);return h},m=function(){var c=l.length;return c?1===c?function(c,e){return p(e[l[0]],c)}:function(e,h){for(var r=0,s=0;r<c;r++)s+=p(h[l[r]],e);return s/c}:function(){return 0}}();return h?1===h?function(c){return m(e[0],c)}:"and"===c.options.conjunction?function(c){for(var l,r=0,s=0;r<h;r++){l=m(e[r],c);if(0>=l)return 0;s+=l}return s/h}:function(c){for(var l=0,r=0;l<h;l++)r+=m(e[l],c);return r/h}:function(){return 0}};c.prototype.getSortFunction= function(c,h){var l,e,p,z,t,u,C,A,y,w;p=this;c=p.prepareSearch(c,h);w=!c.query&&h.sort_empty||h.sort;y=function(c,e){return"$score"===c?e.score:p.items[e.id][c]};t=[];if(w)for(l=0,e=w.length;l<e;l++)(c.query||"$score"!==w[l].field)&&t.push(w[l]);if(c.query){w=!0;l=0;for(e=t.length;l<e;l++)if("$score"===t[l].field){w=!1;break}w&&t.unshift({field:"$score",direction:"desc"})}else for(l=0,e=t.length;l<e;l++)if("$score"===t[l].field){t.splice(l,1);break}A=[];l=0;for(e=t.length;l<e;l++)A.push("desc"=== t[l].direction?-1:1);return(u=t.length)?1===u?(z=t[0].field,C=A[0],function(c,e){return C*m(y(z,c),y(z,e))}):function(c,e){var l,a;for(l=0;l<u;l++)if(a=t[l].field,a=A[l]*m(y(a,c),y(a,e)))return a;return 0}:null};c.prototype.prepareSearch=function(c,s){if("object"===typeof c)return c;s=h({},s);var l=s.fields,e=s.sort,m=s.sort_empty;l&&!p(l)&&(s.fields=[l]);e&&!p(e)&&(s.sort=[e]);m&&!p(m)&&(s.sort_empty=[m]);return{options:s,query:String(c||"").toLowerCase(),tokens:this.tokenize(c),total:0,items:[]}}; c.prototype.search=function(c,h){var l,e,p,m;e=this.prepareSearch(c,h);h=e.options;c=e.query;m=h.score||this.getScoreFunction(e);c.length?this.iterator(this.items,function(c,p){l=m(c);(!1===h.filter||0<l)&&e.items.push({score:l,id:p})}):this.iterator(this.items,function(c,h){e.items.push({score:1,id:h})});(p=this.getSortFunction(e,h))&&e.items.sort(p);e.total=e.items.length;"number"===typeof h.limit&&(e.items=e.items.slice(0,h.limit));return e};var m=function(c,h){if("number"===typeof c&&"number"=== typeof h)return c>h?1:c<h?-1:0;c=String(c||"").toLowerCase();h=String(h||"").toLowerCase();return c>h?1:h>c?-1:0},h=function(c,h){var l,e,p,m;l=1;for(e=arguments.length;l<e;l++)if(m=arguments[l])for(p in m)m.hasOwnProperty(p)&&(c[p]=m[p]);return c},p=Array.isArray||$&&$.isArray||function(c){return"[object Array]"===Object.prototype.toString.call(c)},u={a:"[a\u00c0\u00c1\u00c2\u00c3\u00c4\u00c5\u00e0\u00e1\u00e2\u00e3\u00e4\u00e5]",c:"[c\u00c7\u00e7\u0107\u0106\u010d\u010c]",d:"[d\u0111\u0110\u010f\u010e]", e:"[e\u00c8\u00c9\u00ca\u00cb\u00e8\u00e9\u00ea\u00eb\u011b\u011a]",i:"[i\u00cc\u00cd\u00ce\u00cf\u00ec\u00ed\u00ee\u00ef]",n:"[n\u00d1\u00f1\u0148\u0147]",o:"[o\u00d2\u00d3\u00d4\u00d5\u00d5\u00d6\u00d8\u00f2\u00f3\u00f4\u00f5\u00f6\u00f8]",r:"[r\u0159\u0158]",s:"[s\u0160\u0161]",t:"[t\u0165\u0164]",u:"[u\u00d9\u00da\u00db\u00dc\u00f9\u00fa\u00fb\u00fc\u016f\u016e]",y:"[y\u0178\u00ff\u00fd\u00dd]",z:"[z\u017d\u017e]"};return c}); (function(c,m){"function"===typeof define&&define.amd?define("microplugin",m):"object"===typeof exports?module.exports=m():c.MicroPlugin=m()})(this,function(){var c={isArray:Array.isArray||function(c){return"[object Array]"===Object.prototype.toString.call(c)}};return{mixin:function(m){m.plugins={};m.prototype.initializePlugins=function(h){var p,m,r=[];this.plugins={names:[],settings:{},requested:{},loaded:{}};if(c.isArray(h))for(p=0,m=h.length;p<m;p++)"string"===typeof h[p]?r.push(h[p]):(this.plugins.settings[h[p].name]= h[p].options,r.push(h[p].name));else if(h)for(p in h)h.hasOwnProperty(p)&&(this.plugins.settings[p]=h[p],r.push(p));for(;r.length;)this.require(r.shift())};m.prototype.loadPlugin=function(c){var p=this.plugins,u=m.plugins[c];if(!m.plugins.hasOwnProperty(c))throw Error('Unable to find "'+c+'" plugin');p.requested[c]=!0;p.loaded[c]=u.fn.apply(this,[this.plugins.settings[c]||{}]);p.names.push(c)};m.prototype.require=function(c){var p=this.plugins;if(!this.plugins.loaded.hasOwnProperty(c)){if(p.requested[c])throw Error('Plugin has circular dependency ("'+ c+'")');this.loadPlugin(c)}return p.loaded[c]};m.define=function(c,p){m.plugins[c]={name:c,fn:p}}}}}); (function(c,m){"function"===typeof define&&define.amd?define("selectize",["jquery","sifter","microplugin"],m):"object"===typeof exports?module.exports=m(require("jquery"),require("sifter"),require("microplugin")):c.Selectize=m(c.jQuery,c.Sifter,c.MicroPlugin)})(this,function(c,m,h){var p=function(a,b){if("string"!==typeof b||b.length){var d="string"===typeof b?new RegExp(b,"i"):b,c=function(a){var b=0;if(3===a.nodeType){var n=a.data.search(d);if(0<=n&&0<a.data.length){var q=a.data.match(d),b=document.createElement("span"); b.className="highlight";a=a.splitText(n);a.splitText(q[0].length);n=a.cloneNode(!0);b.appendChild(n);a.parentNode.replaceChild(b,a);b=1}}else if(1===a.nodeType&&a.childNodes&&!/(script|style)/i.test(a.tagName))for(n=0;n<a.childNodes.length;++n)n+=c(a.childNodes[n]);return b};return a.each(function(){c(this)})}},u=function(){};u.prototype={on:function(a,b){this._events=this._events||{};this._events[a]=this._events[a]||[];this._events[a].push(b)},off:function(a,b){var d=arguments.length;if(0===d)return delete this._events; if(1===d)return delete this._events[a];this._events=this._events||{};!1!==a in this._events&&this._events[a].splice(this._events[a].indexOf(b),1)},trigger:function(a){this._events=this._events||{};if(!1!==a in this._events)for(var b=0;b<this._events[a].length;b++)this._events[a][b].apply(this,Array.prototype.slice.call(arguments,1))}};u.mixin=function(a){for(var b=["on","off","trigger"],d=0;d<b.length;d++)a.prototype[b[d]]=u.prototype[b[d]]};var r=/Mac/.test(navigator.userAgent),s=r?91:17,l=r?18: 17,e=function(a){return"undefined"===typeof a||null===a?"":"boolean"===typeof a?a?"1":"0":a+""},x=function(a){return(a+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},z=function(a){return(a+"").replace(/\$/g,"$$$$")},t={before:function(a,b,d){var c=a[b];a[b]=function(){d.apply(a,arguments);return c.apply(a,arguments)}},after:function(a,b,d){var c=a[b];a[b]=function(){var b=c.apply(a,arguments);d.apply(a,arguments);return b}}},E=function(a,b){if(!c.isArray(b))return b; var d,g,f={};d=0;for(g=b.length;d<g;d++)b[d].hasOwnProperty(a)&&(f[b[d][a]]=b[d]);return f},C=function(a){var b=!1;return function(){b||(b=!0,a.apply(this,arguments))}},A=function(a,b){var d;return function(){var c=this,f=arguments;window.clearTimeout(d);d=window.setTimeout(function(){a.apply(c,f)},b)}},y=function(a,b,d){var c,f=a.trigger,k={};a.trigger=function(){var d=arguments[0];if(-1!==b.indexOf(d))k[d]=arguments;else return f.apply(a,arguments)};d.apply(a,[]);a.trigger=f;for(c in k)k.hasOwnProperty(c)&& f.apply(a,k[c])},w=function(a,b,d,c){a.on(b,d,function(b){for(var d=b.target;d&&d.parentNode!==a[0];)d=d.parentNode;b.currentTarget=d;return c.apply(this,[b])})},D=function(a){var b={};if("selectionStart"in a)b.start=a.selectionStart,b.length=a.selectionEnd-b.start;else if(document.selection){a.focus();var d=document.selection.createRange(),c=document.selection.createRange().text.length;d.moveStart("character",-a.value.length);b.start=d.text.length-c;b.length=c}return b},F=function(a){var b=null, d=function(d,f){var k,n,q;d=d||window.event||{};f=f||{};if(!d.metaKey&&!d.altKey&&(f.force||!1!==a.data("grow"))){k=a.val();d.type&&"keydown"===d.type.toLowerCase()&&(n=d.keyCode,q=97<=n&&122>=n||65<=n&&90>=n||48<=n&&57>=n||32===n,46===n||8===n?(q=D(a[0]),q.length?k=k.substring(0,q.start)+k.substring(q.start+q.length):8===n&&q.start?k=k.substring(0,q.start-1)+k.substring(q.start+1):46===n&&"undefined"!==typeof q.start&&(k=k.substring(0,q.start)+k.substring(q.start+1))):q&&(n=d.shiftKey,q=String.fromCharCode(d.keyCode), q=n?q.toUpperCase():q.toLowerCase(),k+=q));n=a.attr("placeholder");!k&&n&&(k=n);if(k){k=c("<test>").css({position:"absolute",top:-99999,left:-99999,width:"auto",padding:0,whiteSpace:"pre"}).text(k).appendTo("body");n=["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"];var e,l={};if(n)for(q=0,e=n.length;q<e;q++)l[n[q]]=a.css(n[q]);else l=a.css();k.css(l);n=k.width();k.remove();k=n}else k=0;k+=4;k!==b&&(b=k,a.width(k),a.triggerHandler("resize"))}};a.on("keydown keyup update blur", d);d()},v=function(a,b){var d,g,f=this;g=a[0];g.selectize=f;d=(d=window.getComputedStyle?window.getComputedStyle(g,null).getPropertyValue("direction"):g.currentStyle&&g.currentStyle.direction)||a.parents("[dir]:first").attr("dir")||"";c.extend(f,{settings:b,$input:a,tagType:"select"===g.tagName.toLowerCase()?1:2,rtl:/rtl/i.test(d),eventNS:".selectize"+ ++v.count,highlightedValue:null,isOpen:!1,isDisabled:!1,isRequired:a.is("[required]"),isInvalid:!1,isLocked:!1,isFocused:!1,isInputHidden:!1,isSetup:!1, isShiftDown:!1,isCmdDown:!1,isCtrlDown:!1,ignoreFocus:!1,ignoreBlur:!1,ignoreHover:!1,hasOptions:!1,currentResults:null,lastValue:"",caretPos:0,loading:0,loadedSearches:{},$activeOption:null,$activeItems:[],optgroups:{},options:{},userOptions:{},items:[],renderCache:{},onSearchChange:null===b.loadThrottle?f.onSearchChange:A(f.onSearchChange,b.loadThrottle)});f.sifter=new m(this.options,{diacritics:b.diacritics});c.extend(f.options,E(b.valueField,b.options));delete f.settings.options;c.extend(f.optgroups, E(b.optgroupValueField,b.optgroups));delete f.settings.optgroups;f.settings.mode=f.settings.mode||(1===f.settings.maxItems?"single":"multi");"boolean"!==typeof f.settings.hideSelected&&(f.settings.hideSelected="multi"===f.settings.mode);f.settings.create&&(f.canCreate=function(a){var b=f.settings.createFilter;return a.length&&("function"!==typeof b||b.apply(f,[a]))&&("string"!==typeof b||(new RegExp(b)).test(a))&&(!(b instanceof RegExp)||b.test(a))});f.initializePlugins(f.settings.plugins);f.setupCallbacks(); f.setupTemplates();f.setup()};u.mixin(v);h.mixin(v);c.extend(v.prototype,{setup:function(){var a=this,b=a.settings,d=a.eventNS,g=c(window),f=c(document),k=a.$input,n,q,e,h,p,m;h=a.settings.mode;e=k.attr("tabindex")||"";p=k.attr("class")||"";n=c("<div>").addClass(b.wrapperClass).addClass(p).addClass(h);q=c("<div>").addClass(b.inputClass).addClass("items").appendTo(n);e=c('<input type="text" autocomplete="off" />').appendTo(q).attr("tabindex",e);m=c(b.dropdownParent||n);h=c("<div>").addClass(b.dropdownClass).addClass(p).addClass(h).hide().appendTo(m); p=c("<div>").addClass(b.dropdownContentClass).appendTo(h);n.css({width:k[0].style.width});a.plugins.names.length&&(m="plugin-"+a.plugins.names.join(" plugin-"),n.addClass(m),h.addClass(m));(null===b.maxItems||1<b.maxItems)&&1===a.tagType&&k.attr("multiple","multiple");a.settings.placeholder&&e.attr("placeholder",b.placeholder);k.attr("autocorrect")&&e.attr("autocorrect",k.attr("autocorrect"));k.attr("autocapitalize")&&e.attr("autocapitalize",k.attr("autocapitalize"));a.$wrapper=n;a.$control=q;a.$control_input= e;a.$dropdown=h;a.$dropdown_content=p;h.on("mouseenter","[data-selectable]",function(){return a.onOptionHover.apply(a,arguments)});h.on("mousedown","[data-selectable]",function(){return a.onOptionSelect.apply(a,arguments)});w(q,"mousedown","*:not(input)",function(){return a.onItemSelect.apply(a,arguments)});F(e);q.on({mousedown:function(){return a.onMouseDown.apply(a,arguments)},click:function(){return a.onClick.apply(a,arguments)}});e.on({mousedown:function(a){a.stopPropagation()},keydown:function(){return a.onKeyDown.apply(a, arguments)},keyup:function(){return a.onKeyUp.apply(a,arguments)},keypress:function(){return a.onKeyPress.apply(a,arguments)},resize:function(){a.positionDropdown.apply(a,[])},blur:function(){return a.onBlur.apply(a,arguments)},focus:function(){a.ignoreBlur=!1;return a.onFocus.apply(a,arguments)},paste:function(){return a.onPaste.apply(a,arguments)}});f.on("keydown"+d,function(b){a.isCmdDown=b[r?"metaKey":"ctrlKey"];a.isCtrlDown=b[r?"altKey":"ctrlKey"];a.isShiftDown=b.shiftKey});f.on("keyup"+d,function(b){b.keyCode=== l&&(a.isCtrlDown=!1);16===b.keyCode&&(a.isShiftDown=!1);b.keyCode===s&&(a.isCmdDown=!1)});f.on("mousedown"+d,function(b){if(a.isFocused){if(b.target===a.$dropdown[0]||b.target.parentNode===a.$dropdown[0])return!1;a.$control.has(b.target).length||b.target===a.$control[0]||a.blur()}});g.on(["scroll"+d,"resize"+d].join(" "),function(){a.isOpen&&a.positionDropdown.apply(a,arguments)});g.on("mousemove"+d,function(){a.ignoreHover=!1});this.revertSettings={$children:k.children().detach(),tabindex:k.attr("tabindex")}; k.attr("tabindex",-1).hide().after(a.$wrapper);c.isArray(b.items)&&(a.setValue(b.items),delete b.items);if(k[0].validity)k.on("invalid"+d,function(b){b.preventDefault();a.isInvalid=!0;a.refreshState()});a.updateOriginalInput();a.refreshItems();a.refreshState();a.updatePlaceholder();a.isSetup=!0;k.is(":disabled")&&a.disable();a.on("change",this.onChange);k.data("selectize",a);k.addClass("selectized");a.trigger("initialize");if(!0===b.preload)a.onSearchChange("")},setupTemplates:function(){var a=this.settings.labelField, b=this.settings.optgroupLabelField;this.settings.render=c.extend({},{optgroup:function(a){return'<div class="optgroup">'+a.html+"</div>"},optgroup_header:function(a,c){return'<div class="optgroup-header">'+c(a[b])+"</div>"},option:function(b,c){return'<div class="option">'+c(b[a])+"</div>"},item:function(b,c){return'<div class="item">'+c(b[a])+"</div>"},option_create:function(a,b){return'<div class="create">Add <strong>'+b(a.input)+"</strong>&hellip;</div>"}},this.settings.render)},setupCallbacks:function(){var a, b,d={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType"};for(a in d)if(d.hasOwnProperty(a)&&(b=this.settings[d[a]]))this.on(a,b)},onClick:function(a){this.isFocused||(this.focus(),a.preventDefault())},onMouseDown:function(a){var b=this,d=a.isDefaultPrevented();c(a.target);if(b.isFocused){if(a.target!== b.$control_input[0])return"single"===b.settings.mode?b.isOpen?b.close():b.open():d||b.setActiveItem(null),!1}else d||window.setTimeout(function(){b.focus()},0)},onChange:function(){this.$input.trigger("change")},onPaste:function(a){(this.isFull()||this.isInputHidden||this.isLocked)&&a.preventDefault()},onKeyPress:function(a){if(this.isLocked)return a&&a.preventDefault();var b=String.fromCharCode(a.keyCode||a.which);if(this.settings.create&&b===this.settings.delimiter)return this.createItem(),a.preventDefault(), !1},onKeyDown:function(a){if(this.isLocked)9!==a.keyCode&&a.preventDefault();else{switch(a.keyCode){case 65:if(this.isCmdDown){this.selectAll();return}break;case 27:this.close();return;case 78:if(!a.ctrlKey||a.altKey)break;case 40:if(!this.isOpen&&this.hasOptions)this.open();else if(this.$activeOption){this.ignoreHover=!0;var b=this.getAdjacentOption(this.$activeOption,1);b.length&&this.setActiveOption(b,!0,!0)}a.preventDefault();return;case 80:if(!a.ctrlKey||a.altKey)break;case 38:this.$activeOption&& (this.ignoreHover=!0,b=this.getAdjacentOption(this.$activeOption,-1),b.length&&this.setActiveOption(b,!0,!0));a.preventDefault();return;case 13:if(this.isOpen&&this.$activeOption)this.onOptionSelect({currentTarget:this.$activeOption});a.preventDefault();return;case 37:this.advanceSelection(-1,a);return;case 39:this.advanceSelection(1,a);return;case 9:this.settings.selectOnTab&&this.isOpen&&this.$activeOption&&(this.onOptionSelect({currentTarget:this.$activeOption}),a.preventDefault());this.settings.create&& this.createItem()&&a.preventDefault();return;case 8:case 46:this.deleteSelection(a);return}!this.isFull()&&!this.isInputHidden||(r?a.metaKey:a.ctrlKey)||a.preventDefault()}},onKeyUp:function(a){if(this.isLocked)return a&&a.preventDefault();a=this.$control_input.val()||"";this.lastValue!==a&&(this.lastValue=a,this.onSearchChange(a),this.refreshOptions(),this.trigger("type",a))},onSearchChange:function(a){var b=this,d=b.settings.load;d&&!b.loadedSearches.hasOwnProperty(a)&&(b.loadedSearches[a]=!0,b.load(function(c){d.apply(b, [a,c])}))},onFocus:function(a){this.isFocused=!0;if(this.isDisabled)return this.blur(),a&&a.preventDefault(),!1;if(!this.ignoreFocus){if("focus"===this.settings.preload)this.onSearchChange("");this.$activeItems.length||(this.showInput(),this.setActiveItem(null),this.refreshOptions(!!this.settings.openOnFocus));this.refreshState()}},onBlur:function(a){this.isFocused=!1;this.ignoreFocus||(this.ignoreBlur||document.activeElement!==this.$dropdown_content[0]?(this.settings.create&&this.settings.createOnBlur&& this.createItem(!1),this.close(),this.setTextboxValue(""),this.setActiveItem(null),this.setActiveOption(null),this.setCaret(this.items.length),this.refreshState()):(this.ignoreBlur=!0,this.onFocus(a)))},onOptionHover:function(a){this.ignoreHover||this.setActiveOption(a.currentTarget,!1)},onOptionSelect:function(a){var b;a.preventDefault&&(a.preventDefault(),a.stopPropagation());b=c(a.currentTarget);if(b.hasClass("create"))this.createItem();else if(b=b.attr("data-value"))this.lastQuery=null,this.setTextboxValue(""), this.addItem(b),!this.settings.hideSelected&&a.type&&/mouse/.test(a.type)&&this.setActiveOption(this.getOption(b))},onItemSelect:function(a){this.isLocked||"multi"!==this.settings.mode||(a.preventDefault(),this.setActiveItem(a.currentTarget,a))},load:function(a){var b=this,d=b.$wrapper.addClass("loading");b.loading++;a.apply(b,[function(a){b.loading=Math.max(b.loading-1,0);a&&a.length&&(b.addOption(a),b.refreshOptions(b.isFocused&&!b.isInputHidden));b.loading||d.removeClass("loading");b.trigger("load", a)}])},setTextboxValue:function(a){var b=this.$control_input;b.val()!==a&&(b.val(a).triggerHandler("update"),this.lastValue=a)},getValue:function(){return 1===this.tagType&&this.$input.attr("multiple")?this.items:this.items.join(this.settings.delimiter)},setValue:function(a){y(this,["change"],function(){this.clear();this.addItems(a)})},setActiveItem:function(a,b){var d,g,f;if("single"!==this.settings.mode)if(a=c(a),a.length){d=b&&b.type.toLowerCase();if("mousedown"===d&&this.isShiftDown&&this.$activeItems.length){d= this.$control.children(".active:last");g=Array.prototype.indexOf.apply(this.$control[0].childNodes,[d[0]]);d=Array.prototype.indexOf.apply(this.$control[0].childNodes,[a[0]]);g>d&&(f=g,g=d,d=f);for(;g<=d;g++)f=this.$control[0].childNodes[g],-1===this.$activeItems.indexOf(f)&&(c(f).addClass("active"),this.$activeItems.push(f));b.preventDefault()}else"mousedown"===d&&this.isCtrlDown||"keydown"===d&&this.isShiftDown?a.hasClass("active")?(d=this.$activeItems.indexOf(a[0]),this.$activeItems.splice(d,1), a.removeClass("active")):this.$activeItems.push(a.addClass("active")[0]):(c(this.$activeItems).removeClass("active"),this.$activeItems=[a.addClass("active")[0]]);this.hideInput();this.isFocused||this.focus()}else c(this.$activeItems).removeClass("active"),this.$activeItems=[],this.isFocused&&this.showInput()},setActiveOption:function(a,b,d){var g,f,k;this.$activeOption&&this.$activeOption.removeClass("active");this.$activeOption=null;a=c(a);a.length&&(this.$activeOption=a.addClass("active"),b||"undefined"=== typeof b)&&(a=this.$dropdown_content.height(),g=this.$activeOption.outerHeight(!0),b=this.$dropdown_content.scrollTop()||0,f=this.$activeOption.offset().top-this.$dropdown_content.offset().top+b,k=f-a+g,f+g>a+b?this.$dropdown_content.stop().animate({scrollTop:k},d?this.settings.scrollDuration:0):f<b&&this.$dropdown_content.stop().animate({scrollTop:f},d?this.settings.scrollDuration:0))},selectAll:function(){"single"!==this.settings.mode&&(this.$activeItems=Array.prototype.slice.apply(this.$control.children(":not(input)").addClass("active")), this.$activeItems.length&&(this.hideInput(),this.close()),this.focus())},hideInput:function(){this.setTextboxValue("");this.$control_input.css({opacity:0,position:"absolute",left:this.rtl?1E4:-1E4});this.isInputHidden=!0},showInput:function(){this.$control_input.css({opacity:1,position:"relative",left:0});this.isInputHidden=!1},focus:function(){var a=this;a.isDisabled||(a.ignoreFocus=!0,a.$control_input[0].focus(),window.setTimeout(function(){a.ignoreFocus=!1;a.onFocus()},0))},blur:function(){this.$control_input.trigger("blur")}, getScoreFunction:function(a){return this.sifter.getScoreFunction(a,this.getSearchOptions())},getSearchOptions:function(){var a=this.settings,b=a.sortField;"string"===typeof b&&(b={field:b});return{fields:a.searchField,conjunction:a.searchConjunction,sort:b}},search:function(a){var b,d;b=this.settings;var g=this.getSearchOptions();if(b.score&&(d=this.settings.score.apply(this,[a]),"function"!==typeof d))throw Error('Selectize "score" setting must be a function that returns a function');a!==this.lastQuery? (this.lastQuery=a,this.currentResults=a=this.sifter.search(a,c.extend(g,{score:d}))):a=c.extend(!0,{},this.currentResults);if(b.hideSelected)for(b=a.items.length-1;0<=b;b--)-1!==this.items.indexOf(e(a.items[b].id))&&a.items.splice(b,1);return a},refreshOptions:function(a){var b,d,g,f,k,n,q,h,l,m,s,r;"undefined"===typeof a&&(a=!0);s=this.$control_input.val();var t=this.search(s),B=this.$dropdown_content,u=this.$activeOption&&e(this.$activeOption.attr("data-value"));f=t.items.length;"number"===typeof this.settings.maxOptions&& (f=Math.min(f,this.settings.maxOptions));k={};if(this.settings.optgroupOrder)for(n=this.settings.optgroupOrder,b=0;b<n.length;b++)k[n[b]]=[];else n=[];for(b=0;b<f;b++)for(q=this.options[t.items[b].id],h=this.render("option",q),q=q[this.settings.optgroupField]||"",l=c.isArray(q)?q:[q],d=0,g=l&&l.length;d<g;d++)q=l[d],this.optgroups.hasOwnProperty(q)||(q=""),k.hasOwnProperty(q)||(k[q]=[],n.push(q)),k[q].push(h);h=[];b=0;for(f=n.length;b<f;b++)q=n[b],this.optgroups.hasOwnProperty(q)&&k[q].length?(d= this.render("optgroup_header",this.optgroups[q])||"",d+=k[q].join(""),h.push(this.render("optgroup",c.extend({},this.optgroups[q],{html:d})))):h.push(k[q].join(""));B.html(h.join(""));if(this.settings.highlight&&t.query.length&&t.tokens.length)for(b=0,f=t.tokens.length;b<f;b++)p(B,t.tokens[b].regex);if(!this.settings.hideSelected)for(b=0,f=this.items.length;b<f;b++)this.getOption(this.items[b]).addClass("selected");if(b=this.settings.create&&this.canCreate(t.query))B.prepend(this.render("option_create", {input:s})),r=c(B[0].childNodes[0]);(this.hasOptions=0<t.items.length||b)?(0<t.items.length?((s=u&&this.getOption(u))&&s.length?m=s:"single"===this.settings.mode&&this.items.length&&(m=this.getOption(this.items[0])),m&&m.length||(m=r&&!this.settings.addPrecedence?this.getAdjacentOption(r,1):B.find("[data-selectable]:first"))):m=r,this.setActiveOption(m),a&&!this.isOpen&&this.open()):(this.setActiveOption(null),a&&this.isOpen&&this.close())},addOption:function(a){var b,d;if(c.isArray(a))for(b=0,d= a.length;b<d;b++)this.addOption(a[b]);else(b=e(a[this.settings.valueField]))&&!this.options.hasOwnProperty(b)&&(this.userOptions[b]=!0,this.options[b]=a,this.lastQuery=null,this.trigger("option_add",b,a))},addOptionGroup:function(a,b){this.optgroups[a]=b;this.trigger("optgroup_add",a,b)},updateOption:function(a,b){var d,g,f;a=e(a);d=e(b[this.settings.valueField]);if(this.options.hasOwnProperty(a)){if(!d)throw Error("Value must be set in option data");d!==a&&(delete this.options[a],g=this.items.indexOf(a), -1!==g&&this.items.splice(g,1,d));this.options[d]=b;g=this.renderCache.item;f=this.renderCache.option;g&&(delete g[a],delete g[d]);f&&(delete f[a],delete f[d]);-1!==this.items.indexOf(d)&&(d=this.getItem(a),g=c(this.render("item",b)),d.hasClass("active")&&g.addClass("active"),d.replaceWith(g));this.isOpen&&this.refreshOptions(!1)}},removeOption:function(a){a=e(a);var b=this.renderCache.item,d=this.renderCache.option;b&&delete b[a];d&&delete d[a];delete this.userOptions[a];delete this.options[a];this.lastQuery= null;this.trigger("option_remove",a);this.removeItem(a)},clearOptions:function(){this.loadedSearches={};this.userOptions={};this.renderCache={};this.options=this.sifter.items={};this.lastQuery=null;this.trigger("option_clear");this.clear()},getOption:function(a){return this.getElementWithValue(a,this.$dropdown_content.find("[data-selectable]"))},getAdjacentOption:function(a,b){var d=this.$dropdown.find("[data-selectable]"),g=d.index(a)+b;return 0<=g&&g<d.length?d.eq(g):c()},getElementWithValue:function(a, b){if(a=e(a))for(var d=0,g=b.length;d<g;d++)if(b[d].getAttribute("data-value")===a)return c(b[d]);return c()},getItem:function(a){return this.getElementWithValue(a,this.$control.children())},addItems:function(a){a=c.isArray(a)?a:[a];for(var b=0,d=a.length;b<d;b++)this.isPending=b<d-1,this.addItem(a[b])},addItem:function(a){y(this,["change"],function(){var b,d,g,f=this.settings.mode;a=e(a);-1!==this.items.indexOf(a)?"single"===f&&this.close():this.options.hasOwnProperty(a)&&("single"===f&&this.clear(), "multi"===f&&this.isFull()||(b=c(this.render("item",this.options[a])),g=this.isFull(),this.items.splice(this.caretPos,0,a),this.insertAtCaret(b),(!this.isPending||!g&&this.isFull())&&this.refreshState(),this.isSetup&&(g=this.$dropdown_content.find("[data-selectable]"),this.isPending||(d=this.getOption(a),d=this.getAdjacentOption(d,1).attr("data-value"),this.refreshOptions(this.isFocused&&"single"!==f),d&&this.setActiveOption(this.getOption(d))),!g.length||this.isFull()?this.close():this.positionDropdown(), this.updatePlaceholder(),this.trigger("item_add",a,b),this.updateOriginalInput())))})},removeItem:function(a){var b,d;b="object"===typeof a?a:this.getItem(a);a=e(b.attr("data-value"));d=this.items.indexOf(a);-1!==d&&(b.remove(),b.hasClass("active")&&(b=this.$activeItems.indexOf(b[0]),this.$activeItems.splice(b,1)),this.items.splice(d,1),this.lastQuery=null,!this.settings.persist&&this.userOptions.hasOwnProperty(a)&&this.removeOption(a),d<this.caretPos&&this.setCaret(this.caretPos-1),this.refreshState(), this.updatePlaceholder(),this.updateOriginalInput(),this.positionDropdown(),this.trigger("item_remove",a))},createItem:function(a){var b=this,d=c.trim(b.$control_input.val()||""),g=b.caretPos;if(!b.canCreate(d))return!1;b.lock();"undefined"===typeof a&&(a=!0);var f="function"===typeof b.settings.create?this.settings.create:function(a){var d={};d[b.settings.labelField]=a;d[b.settings.valueField]=a;return d},k=C(function(d){b.unlock();if(d&&"object"===typeof d){var c=e(d[b.settings.valueField]);c&& (b.setTextboxValue(""),b.addOption(d),b.setCaret(g),b.addItem(c),b.refreshOptions(a&&"single"!==b.settings.mode))}}),d=f.apply(this,[d,k]);"undefined"!==typeof d&&k(d);return!0},refreshItems:function(){this.lastQuery=null;if(this.isSetup)for(var a=0;a<this.items.length;a++)this.addItem(this.items);this.refreshState();this.updateOriginalInput()},refreshState:function(){this.isRequired&&(this.items.length&&(this.isInvalid=!1),this.$control_input.prop("required",void 0));this.refreshClasses()},refreshClasses:function(){var a= this.isFull(),b=this.isLocked;this.$wrapper.toggleClass("rtl",this.rtl);this.$control.toggleClass("focus",this.isFocused).toggleClass("disabled",this.isDisabled).toggleClass("required",this.isRequired).toggleClass("invalid",this.isInvalid).toggleClass("locked",b).toggleClass("full",a).toggleClass("not-full",!a).toggleClass("input-active",this.isFocused&&!this.isInputHidden).toggleClass("dropdown-active",this.isOpen).toggleClass("has-options",!c.isEmptyObject(this.options)).toggleClass("has-items", 0<this.items.length);this.$control_input.data("grow",!a&&!b)},isFull:function(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems},updateOriginalInput:function(){var a,b,d;if(1===this.tagType){d=[];a=0;for(b=this.items.length;a<b;a++)d.push('<option value="'+x(this.items[a])+'" selected="selected"></option>');d.length||this.$input.attr("multiple")||d.push('<option value="" selected="selected"></option>');this.$input.html(d.join(""))}else this.$input.val(this.getValue()), this.$input.attr("value",this.$input.val());this.isSetup&&this.trigger("change",this.$input.val())},updatePlaceholder:function(){if(this.settings.placeholder){var a=this.$control_input;this.items.length?a.removeAttr("placeholder"):a.attr("placeholder",this.settings.placeholder);a.triggerHandler("update",{force:!0})}},open:function(){this.isLocked||this.isOpen||"multi"===this.settings.mode&&this.isFull()||(this.focus(),this.isOpen=!0,this.refreshState(),this.$dropdown.css({visibility:"hidden",display:"block"}), this.positionDropdown(),this.$dropdown.css({visibility:"visible"}),this.trigger("dropdown_open",this.$dropdown))},close:function(){var a=this.isOpen;"single"===this.settings.mode&&this.items.length&&this.hideInput();this.isOpen=!1;this.$dropdown.hide();this.setActiveOption(null);this.refreshState();a&&this.trigger("dropdown_close",this.$dropdown)},positionDropdown:function(){var a=this.$control,b="body"===this.settings.dropdownParent?a.offset():a.position();b.top+=a.outerHeight(!0);this.$dropdown.css({width:a.outerWidth(), top:b.top,left:b.left})},clear:function(){this.items.length&&(this.$control.children(":not(input)").remove(),this.items=[],this.lastQuery=null,this.setCaret(0),this.setActiveItem(null),this.updatePlaceholder(),this.updateOriginalInput(),this.refreshState(),this.showInput(),this.trigger("clear"))},insertAtCaret:function(a){var b=Math.min(this.caretPos,this.items.length);0===b?this.$control.prepend(a):c(this.$control[0].childNodes[b]).before(a);this.setCaret(b+1)},deleteSelection:function(a){var b, d,g,f,k;b=a&&8===a.keyCode?-1:1;d=D(this.$control_input[0]);this.$activeOption&&!this.settings.hideSelected&&(k=this.getAdjacentOption(this.$activeOption,-1).attr("data-value"));g=[];if(this.$activeItems.length){f=this.$control.children(".active:"+(0<b?"last":"first"));f=this.$control.children(":not(input)").index(f);0<b&&f++;b=0;for(d=this.$activeItems.length;b<d;b++)g.push(c(this.$activeItems[b]).attr("data-value"));a&&(a.preventDefault(),a.stopPropagation())}else(this.isFocused||"single"===this.settings.mode)&& this.items.length&&(0>b&&0===d.start&&0===d.length?g.push(this.items[this.caretPos-1]):0<b&&d.start===this.$control_input.val().length&&g.push(this.items[this.caretPos]));if(!g.length||"function"===typeof this.settings.onDelete&&!1===this.settings.onDelete.apply(this,[g]))return!1;for("undefined"!==typeof f&&this.setCaret(f);g.length;)this.removeItem(g.pop());this.showInput();this.positionDropdown();this.refreshOptions(!0);k&&(a=this.getOption(k),a.length&&this.setActiveOption(a));return!0},advanceSelection:function(a, b){var d,c;0!==a&&(this.rtl&&(a*=-1),d=0<a?"last":"first",c=D(this.$control_input[0]),this.isFocused&&!this.isInputHidden?(d=this.$control_input.val().length,(c=0>a?0===c.start&&0===c.length:c.start===d)&&!d&&this.advanceCaret(a,b)):(c=this.$control.children(".active:"+d),c.length&&(c=this.$control.children(":not(input)").index(c),this.setActiveItem(null),this.setCaret(0<a?c+1:c))))},advanceCaret:function(a,b){var d;0!==a&&(d=0<a?"next":"prev",this.isShiftDown?(d=this.$control_input[d](),d.length&& (this.hideInput(),this.setActiveItem(d),b&&b.preventDefault())):this.setCaret(this.caretPos+a))},setCaret:function(a){a="single"===this.settings.mode?this.items.length:Math.max(0,Math.min(this.items.length,a));if(!this.isPending){var b,d,g,f;g=this.$control.children(":not(input)");b=0;for(d=g.length;b<d;b++)f=c(g[b]).detach(),b<a?this.$control_input.before(f):this.$control.append(f)}this.caretPos=a},lock:function(){this.close();this.isLocked=!0;this.refreshState()},unlock:function(){this.isLocked= !1;this.refreshState()},disable:function(){this.$input.prop("disabled",!0);this.isDisabled=!0;this.lock()},enable:function(){this.$input.prop("disabled",!1);this.isDisabled=!1;this.unlock()},destroy:function(){var a=this.eventNS,b=this.revertSettings;this.trigger("destroy");this.off();this.$wrapper.remove();this.$dropdown.remove();this.$input.html("").append(b.$children).removeAttr("tabindex").removeClass("selectized").attr({tabindex:b.tabindex}).show();this.$control_input.removeData("grow");this.$input.removeData("selectize"); c(window).off(a);c(document).off(a);c(document.body).off(a);delete this.$input[0].selectize},render:function(a,b){var d,c,f="",k=!1,n=/^[\t ]*<([a-z][a-z0-9\-_]*(?:\:[a-z][a-z0-9\-_]*)?)/i;if("option"===a||"item"===a)d=e(b[this.settings.valueField]),k=!!d;if(k&&("undefined"===typeof this.renderCache[a]&&(this.renderCache[a]={}),this.renderCache[a].hasOwnProperty(d)))return this.renderCache[a][d];f=this.settings.render[a].apply(this,[b,x]);if("option"===a||"option_create"===a)f=f.replace(n,"<$1 data-selectable"); "optgroup"===a&&(c=b[this.settings.optgroupValueField]||"",f=f.replace(n,'<$1 data-group="'+z(x(c))+'"'));if("option"===a||"item"===a)f=f.replace(n,'<$1 data-value="'+z(x(d||""))+'"');k&&(this.renderCache[a][d]=f);return f},clearCache:function(a){"undefined"===typeof a?this.renderCache={}:delete this.renderCache[a]}});v.count=0;v.defaults={plugins:[],delimiter:",",persist:!0,diacritics:!0,create:!1,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,maxOptions:1E3,maxItems:null,hideSelected:null, addPrecedence:!1,selectOnTab:!1,preload:!1,scrollDuration:60,loadThrottle:300,dataAttr:"data-data",optgroupField:"optgroup",valueField:"value",labelField:"text",optgroupLabelField:"label",optgroupValueField:"value",optgroupOrder:null,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"selectize-control",inputClass:"selectize-input",dropdownClass:"selectize-dropdown",dropdownContentClass:"selectize-dropdown-content",dropdownParent:null,render:{}};c.fn.selectize= function(a){var b=c.fn.selectize.defaults,d=c.extend({},b,a),e=d.dataAttr,f=d.labelField,k=d.valueField,n=d.optgroupField,q=d.optgroupLabelField,h=d.optgroupValueField,l=function(a,b){var d,l,m,p,s=0,r=b.options,t=function(a){a=e&&a.attr(e);return"string"===typeof a&&a.length?JSON.parse(a):null},u=function(a,d){var e,g;a=c(a);e=a.attr("value")||"";e.length&&(r.hasOwnProperty(e)?d&&(r[e].optgroup?c.isArray(r[e].optgroup)?r[e].optgroup.push(d):r[e].optgroup=[r[e].optgroup,d]:r[e].optgroup=d):(g=t(a)|| {},g[f]=g[f]||a.text(),g[k]=g[k]||e,g[n]=g[n]||d,g.$order=++s,r[e]=g,a.is(":selected")&&b.items.push(e)))},v=function(a){var d,f,k;a=c(a);if(f=a.attr("label"))d=t(a)||{},d[q]=f,d[h]=f,b.optgroups[f]=d;k=c("option",a);a=0;for(d=k.length;a<d;a++)u(k[a],f)};b.maxItems=a.attr("multiple")?null:1;p=a.children();d=0;for(l=p.length;d<l;d++)m=p[d].tagName.toLowerCase(),"optgroup"===m?v(p[d]):"option"===m&&u(p[d])};return this.each(function(){if(!this.selectize){var e=c(this),g=this.tagName.toLowerCase(),n= {placeholder:e.children('option[value=""]').text()||e.attr("placeholder"),options:{},optgroups:{},items:[]};if("select"===g)l(e,n);else{var q,h,m,g=c.trim(e.val()||"");if(g.length){h=g.split(d.delimiter);g=0;for(q=h.length;g<q;g++)m={},m[f]=h[g],m[k]=h[g],n.options[h[g]]=m;n.items=h}}new v(e,c.extend(!0,{},b,n,a))}})};c.fn.selectize.defaults=v.defaults;v.define("drag_drop",function(a){if(!c.fn.sortable)throw Error('The "drag_drop" plugin requires jQuery UI "sortable".');if("multi"===this.settings.mode){var b= this;b.lock=function(){var a=b.lock;return function(){var c=b.$control.data("sortable");c&&c.disable();return a.apply(b,arguments)}}();b.unlock=function(){var a=b.unlock;return function(){var c=b.$control.data("sortable");c&&c.enable();return a.apply(b,arguments)}}();b.setup=function(){var a=b.setup;return function(){a.apply(this,arguments);var e=b.$control.sortable({items:"[data-value]",forcePlaceholderSize:!0,disabled:b.isLocked,start:function(a,b){b.placeholder.css("width",b.helper.css("width")); e.css({overflow:"visible"})},stop:function(){e.css({overflow:"hidden"});var a=b.$activeItems?b.$activeItems.slice():null,d=[];e.children("[data-value]").each(function(){d.push(c(this).attr("data-value"))});b.setValue(d);b.setActiveItem(a)}})}}()}});v.define("dropdown_header",function(a){var b=this;a=c.extend({title:"Untitled",headerClass:"selectize-dropdown-header",titleRowClass:"selectize-dropdown-header-title",labelClass:"selectize-dropdown-header-label",closeClass:"selectize-dropdown-header-close", html:function(a){return'<div class="'+a.headerClass+'"><div class="'+a.titleRowClass+'"><span class="'+a.labelClass+'">'+a.title+'</span><a href="javascript:void(0)" class="'+a.closeClass+'">&times;</a></div></div>'}},a);b.setup=function(){var d=b.setup;return function(){d.apply(b,arguments);b.$dropdown_header=c(a.html(a));b.$dropdown.prepend(b.$dropdown_header)}}()});v.define("optgroup_columns",function(a){var b=this;a=c.extend({equalizeWidth:!0,equalizeHeight:!0},a);this.getAdjacentOption=function(a, b){var d=a.closest("[data-group]").find("[data-selectable]"),e=d.index(a)+b;return 0<=e&&e<d.length?d.eq(e):c()};this.onKeyDown=function(){var a=b.onKeyDown;return function(d){var c,e;if(!this.isOpen||37!==d.keyCode&&39!==d.keyCode)return a.apply(this,arguments);b.ignoreHover=!0;e=this.$activeOption.closest("[data-group]");c=e.find("[data-selectable]").index(this.$activeOption);e=37===d.keyCode?e.prev("[data-group]"):e.next("[data-group]");e=e.find("[data-selectable]");c=e.eq(Math.min(e.length-1, c));c.length&&this.setActiveOption(c)}}();var d=function(){var a,b=d.width,c=document;"undefined"===typeof b&&(a=c.createElement("div"),a.innerHTML='<div style="width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;"><div style="width:1px;height:100px;"></div></div>',a=a.firstChild,c.body.appendChild(a),b=d.width=a.offsetWidth-a.clientWidth,c.body.removeChild(a));return b},e=function(){var e,k,g,h;h=c("[data-group]",b.$dropdown_content);if((k=h.length)&&b.$dropdown_content.width()){if(a.equalizeHeight){for(e= g=0;e<k;e++)g=Math.max(g,h.eq(e).height());h.css({height:g})}a.equalizeWidth&&(g=b.$dropdown_content.innerWidth()-d(),e=Math.round(g/k),h.css({width:e}),1<k&&(e=g-e*(k-1),h.eq(k-1).css({width:e})))}};if(a.equalizeHeight||a.equalizeWidth)t.after(this,"positionDropdown",e),t.after(this,"refreshOptions",e)});v.define("remove_button",function(a){if("single"!==this.settings.mode){a=c.extend({label:"&times;",title:"Remove",className:"remove",append:!0},a);var b=this,d='<a href="javascript:void(0)" class="'+ a.className+'" tabindex="-1" title="'+x(a.title)+'">'+a.label+"</a>";this.setup=function(){var e=b.setup;return function(){if(a.append){var f=b.settings.render.item;b.settings.render.item=function(a){var b=f.apply(this,arguments),c=b.search(/(<\/[^>]+>\s*)$/);return b.substring(0,c)+d+b.substring(c)}}e.apply(this,arguments);this.$control.on("click","."+a.className,function(a){a.preventDefault();b.isLocked||(a=c(a.currentTarget).parent(),b.setActiveItem(a),b.deleteSelection()&&b.setCaret(b.items.length))})}}()}}); v.define("restore_on_backspace",function(a){var b=this;a.text=a.text||function(a){return a[this.settings.labelField]};this.onKeyDown=function(c){var e=b.onKeyDown;return function(b){var c;if(8===b.keyCode&&""===this.$control_input.val()&&!this.$activeItems.length&&(c=this.caretPos-1,0<=c&&c<this.items.length)){c=this.options[this.items[c]];this.deleteSelection(b)&&(this.setTextboxValue(a.text.apply(this,[c])),this.refreshOptions(!0));b.preventDefault();return}return e.apply(this,arguments)}}()}); return v});
/*
 * jPlayer Plugin for jQuery JavaScript Library
 * http://www.jplayer.org
 *
 * Copyright (c) 2009 - 2014 Happyworm Ltd
 * Licensed under the MIT license.
 * http://opensource.org/licenses/MIT
 *
 * Author: Mark J Panaghiston
 * Version: 2.9.2
 * Date: 14th December 2014
 */

/* Support for Zepto 1.0 compiled with optional data module.
 * For AMD or NODE/CommonJS support, you will need to manually switch the related 2 lines in the code below.
 * Search terms: "jQuery Switch" and "Zepto Switch"
 */
!function(t,e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):t.jQuery?t.jQuery:t.Zepto)}(this,function(t,e){t.fn.jPlayer=function(s){var i="jPlayer",a="string"==typeof s,o=Array.prototype.slice.call(arguments,1),r=this;return s=!a&&o.length?t.extend.apply(null,[!0,s].concat(o)):s,a&&"_"===s.charAt(0)?r:(this.each(a?function(){var a=t(this).data(i),n=a&&t.isFunction(a[s])?a[s].apply(a,o):a;return n!==a&&n!==e?(r=n,!1):void 0}:function(){var e=t(this).data(i);e?e.option(s||{}):t(this).data(i,new t.jPlayer(s,this))}),r)},t.jPlayer=function(e,s){if(arguments.length){this.element=t(s),this.options=t.extend(!0,{},this.options,e);var i=this;this.element.bind("remove.jPlayer",function(){i.destroy()}),this._init()}},"function"!=typeof t.fn.stop&&(t.fn.stop=function(){}),t.jPlayer.emulateMethods="load play pause",t.jPlayer.emulateStatus="src readyState networkState currentTime duration paused ended playbackRate",t.jPlayer.emulateOptions="muted volume",t.jPlayer.reservedEvent="ready flashreset resize repeat error warning",t.jPlayer.event={},t.each(["ready","setmedia","flashreset","resize","repeat","click","error","warning","loadstart","progress","suspend","abort","emptied","stalled","play","pause","loadedmetadata","loadeddata","waiting","playing","canplay","canplaythrough","seeking","seeked","timeupdate","ended","ratechange","durationchange","volumechange"],function(){t.jPlayer.event[this]="jPlayer_"+this}),t.jPlayer.htmlEvent=["loadstart","abort","emptied","stalled","loadedmetadata","canplay","canplaythrough"],t.jPlayer.pause=function(){t.jPlayer.prototype.destroyRemoved(),t.each(t.jPlayer.prototype.instances,function(t,e){e.data("jPlayer").status.srcSet&&e.jPlayer("pause")})},t.jPlayer.timeFormat={showHour:!1,showMin:!0,showSec:!0,padHour:!1,padMin:!0,padSec:!0,sepHour:":",sepMin:":",sepSec:""};var s=function(){this.init()};s.prototype={init:function(){this.options={timeFormat:t.jPlayer.timeFormat}},time:function(t){t=t&&"number"==typeof t?t:0;var e=new Date(1e3*t),s=e.getUTCHours(),i=this.options.timeFormat.showHour?e.getUTCMinutes():e.getUTCMinutes()+60*s,a=this.options.timeFormat.showMin?e.getUTCSeconds():e.getUTCSeconds()+60*i,o=this.options.timeFormat.padHour&&10>s?"0"+s:s,r=this.options.timeFormat.padMin&&10>i?"0"+i:i,n=this.options.timeFormat.padSec&&10>a?"0"+a:a,l="";return l+=this.options.timeFormat.showHour?o+this.options.timeFormat.sepHour:"",l+=this.options.timeFormat.showMin?r+this.options.timeFormat.sepMin:"",l+=this.options.timeFormat.showSec?n+this.options.timeFormat.sepSec:""}};var i=new s;t.jPlayer.convertTime=function(t){return i.time(t)},t.jPlayer.uaBrowser=function(t){var e=t.toLowerCase(),s=/(webkit)[ \/]([\w.]+)/,i=/(opera)(?:.*version)?[ \/]([\w.]+)/,a=/(msie) ([\w.]+)/,o=/(mozilla)(?:.*? rv:([\w.]+))?/,r=s.exec(e)||i.exec(e)||a.exec(e)||e.indexOf("compatible")<0&&o.exec(e)||[];return{browser:r[1]||"",version:r[2]||"0"}},t.jPlayer.uaPlatform=function(t){var e=t.toLowerCase(),s=/(ipad|iphone|ipod|android|blackberry|playbook|windows ce|webos)/,i=/(ipad|playbook)/,a=/(android)/,o=/(mobile)/,r=s.exec(e)||[],n=i.exec(e)||!o.exec(e)&&a.exec(e)||[];return r[1]&&(r[1]=r[1].replace(/\s/g,"_")),{platform:r[1]||"",tablet:n[1]||""}},t.jPlayer.browser={},t.jPlayer.platform={};var a=t.jPlayer.uaBrowser(navigator.userAgent);a.browser&&(t.jPlayer.browser[a.browser]=!0,t.jPlayer.browser.version=a.version);var o=t.jPlayer.uaPlatform(navigator.userAgent);o.platform&&(t.jPlayer.platform[o.platform]=!0,t.jPlayer.platform.mobile=!o.tablet,t.jPlayer.platform.tablet=!!o.tablet),t.jPlayer.getDocMode=function(){var e;return t.jPlayer.browser.msie&&(document.documentMode?e=document.documentMode:(e=5,document.compatMode&&"CSS1Compat"===document.compatMode&&(e=7))),e},t.jPlayer.browser.documentMode=t.jPlayer.getDocMode(),t.jPlayer.nativeFeatures={init:function(){var t,e,s,i=document,a=i.createElement("video"),o={w3c:["fullscreenEnabled","fullscreenElement","requestFullscreen","exitFullscreen","fullscreenchange","fullscreenerror"],moz:["mozFullScreenEnabled","mozFullScreenElement","mozRequestFullScreen","mozCancelFullScreen","mozfullscreenchange","mozfullscreenerror"],webkit:["","webkitCurrentFullScreenElement","webkitRequestFullScreen","webkitCancelFullScreen","webkitfullscreenchange",""],webkitVideo:["webkitSupportsFullscreen","webkitDisplayingFullscreen","webkitEnterFullscreen","webkitExitFullscreen","",""],ms:["","msFullscreenElement","msRequestFullscreen","msExitFullscreen","MSFullscreenChange","MSFullscreenError"]},r=["w3c","moz","webkit","webkitVideo","ms"];for(this.fullscreen=t={support:{w3c:!!i[o.w3c[0]],moz:!!i[o.moz[0]],webkit:"function"==typeof i[o.webkit[3]],webkitVideo:"function"==typeof a[o.webkitVideo[2]],ms:"function"==typeof a[o.ms[2]]},used:{}},e=0,s=r.length;s>e;e++){var n=r[e];if(t.support[n]){t.spec=n,t.used[n]=!0;break}}if(t.spec){var l=o[t.spec];t.api={fullscreenEnabled:!0,fullscreenElement:function(t){return t=t?t:i,t[l[1]]},requestFullscreen:function(t){return t[l[2]]()},exitFullscreen:function(t){return t=t?t:i,t[l[3]]()}},t.event={fullscreenchange:l[4],fullscreenerror:l[5]}}else t.api={fullscreenEnabled:!1,fullscreenElement:function(){return null},requestFullscreen:function(){},exitFullscreen:function(){}},t.event={}}},t.jPlayer.nativeFeatures.init(),t.jPlayer.focus=null,t.jPlayer.keyIgnoreElementNames="A INPUT TEXTAREA SELECT BUTTON";var r=function(e){var s,i=t.jPlayer.focus;i&&(t.each(t.jPlayer.keyIgnoreElementNames.split(/\s+/g),function(t,i){return e.target.nodeName.toUpperCase()===i.toUpperCase()?(s=!0,!1):void 0}),s||t.each(i.options.keyBindings,function(s,a){return a&&t.isFunction(a.fn)&&("number"==typeof a.key&&e.which===a.key||"string"==typeof a.key&&e.key===a.key)?(e.preventDefault(),a.fn(i),!1):void 0}))};t.jPlayer.keys=function(e){var s="keydown.jPlayer";t(document.documentElement).unbind(s),e&&t(document.documentElement).bind(s,r)},t.jPlayer.keys(!0),t.jPlayer.prototype={count:0,version:{script:"2.9.2",needFlash:"2.9.0",flash:"unknown"},options:{swfPath:"js",solution:"html, flash",supplied:"mp3",auroraFormats:"wav",preload:"metadata",volume:.8,muted:!1,rtl:!1,remainingDuration:!1,toggleDuration:!1,captureDuration:!0,playbackRate:1,defaultPlaybackRate:1,minPlaybackRate:.5,maxPlaybackRate:4,wmode:"opaque",backgroundColor:"#000000",cssSelectorAncestor:"#jp_container_1",cssSelector:{videoPlay:".jp-video-play",play:".jp-play",pause:".jp-pause",stop:".jp-stop",seekBar:".jp-seek-bar",playBar:".jp-play-bar",mute:".jp-mute",unmute:".jp-unmute",volumeBar:".jp-volume-bar",volumeBarValue:".jp-volume-bar-value",volumeMax:".jp-volume-max",playbackRateBar:".jp-playback-rate-bar",playbackRateBarValue:".jp-playback-rate-bar-value",currentTime:".jp-current-time",duration:".jp-duration",title:".jp-title",fullScreen:".jp-full-screen",restoreScreen:".jp-restore-screen",repeat:".jp-repeat",repeatOff:".jp-repeat-off",gui:".jp-gui",noSolution:".jp-no-solution"},stateClass:{playing:"jp-state-playing",seeking:"jp-state-seeking",muted:"jp-state-muted",looped:"jp-state-looped",fullScreen:"jp-state-full-screen",noVolume:"jp-state-no-volume"},useStateClassSkin:!1,autoBlur:!0,smoothPlayBar:!1,fullScreen:!1,fullWindow:!1,autohide:{restored:!1,full:!0,fadeIn:200,fadeOut:600,hold:1e3},loop:!1,repeat:function(e){e.jPlayer.options.loop?t(this).unbind(".jPlayerRepeat").bind(t.jPlayer.event.ended+".jPlayer.jPlayerRepeat",function(){t(this).jPlayer("play")}):t(this).unbind(".jPlayerRepeat")},nativeVideoControls:{},noFullWindow:{msie:/msie [0-6]\./,ipad:/ipad.*?os [0-4]\./,iphone:/iphone/,ipod:/ipod/,android_pad:/android [0-3]\.(?!.*?mobile)/,android_phone:/(?=.*android)(?!.*chrome)(?=.*mobile)/,blackberry:/blackberry/,windows_ce:/windows ce/,iemobile:/iemobile/,webos:/webos/},noVolume:{ipad:/ipad/,iphone:/iphone/,ipod:/ipod/,android_pad:/android(?!.*?mobile)/,android_phone:/android.*?mobile/,blackberry:/blackberry/,windows_ce:/windows ce/,iemobile:/iemobile/,webos:/webos/,playbook:/playbook/},timeFormat:{},keyEnabled:!1,audioFullScreen:!1,keyBindings:{play:{key:80,fn:function(t){t.status.paused?t.play():t.pause()}},fullScreen:{key:70,fn:function(t){(t.status.video||t.options.audioFullScreen)&&t._setOption("fullScreen",!t.options.fullScreen)}},muted:{key:77,fn:function(t){t._muted(!t.options.muted)}},volumeUp:{key:190,fn:function(t){t.volume(t.options.volume+.1)}},volumeDown:{key:188,fn:function(t){t.volume(t.options.volume-.1)}},loop:{key:76,fn:function(t){t._loop(!t.options.loop)}}},verticalVolume:!1,verticalPlaybackRate:!1,globalVolume:!1,idPrefix:"jp",noConflict:"jQuery",emulateHtml:!1,consoleAlerts:!0,errorAlerts:!1,warningAlerts:!1},optionsAudio:{size:{width:"0px",height:"0px",cssClass:""},sizeFull:{width:"0px",height:"0px",cssClass:""}},optionsVideo:{size:{width:"480px",height:"270px",cssClass:"jp-video-270p"},sizeFull:{width:"100%",height:"100%",cssClass:"jp-video-full"}},instances:{},status:{src:"",media:{},paused:!0,format:{},formatType:"",waitForPlay:!0,waitForLoad:!0,srcSet:!1,video:!1,seekPercent:0,currentPercentRelative:0,currentPercentAbsolute:0,currentTime:0,duration:0,remaining:0,videoWidth:0,videoHeight:0,readyState:0,networkState:0,playbackRate:1,ended:0},internal:{ready:!1},solution:{html:!0,aurora:!0,flash:!0},format:{mp3:{codec:"audio/mpeg",flashCanPlay:!0,media:"audio"},m4a:{codec:'audio/mp4; codecs="mp4a.40.2"',flashCanPlay:!0,media:"audio"},m3u8a:{codec:'application/vnd.apple.mpegurl; codecs="mp4a.40.2"',flashCanPlay:!1,media:"audio"},m3ua:{codec:"audio/mpegurl",flashCanPlay:!1,media:"audio"},oga:{codec:'audio/ogg; codecs="vorbis, opus"',flashCanPlay:!1,media:"audio"},flac:{codec:"audio/x-flac",flashCanPlay:!1,media:"audio"},wav:{codec:'audio/wav; codecs="1"',flashCanPlay:!1,media:"audio"},webma:{codec:'audio/webm; codecs="vorbis"',flashCanPlay:!1,media:"audio"},fla:{codec:"audio/x-flv",flashCanPlay:!0,media:"audio"},rtmpa:{codec:'audio/rtmp; codecs="rtmp"',flashCanPlay:!0,media:"audio"},m4v:{codec:'video/mp4; codecs="avc1.42E01E, mp4a.40.2"',flashCanPlay:!0,media:"video"},m3u8v:{codec:'application/vnd.apple.mpegurl; codecs="avc1.42E01E, mp4a.40.2"',flashCanPlay:!1,media:"video"},m3uv:{codec:"audio/mpegurl",flashCanPlay:!1,media:"video"},ogv:{codec:'video/ogg; codecs="theora, vorbis"',flashCanPlay:!1,media:"video"},webmv:{codec:'video/webm; codecs="vorbis, vp8"',flashCanPlay:!1,media:"video"},flv:{codec:"video/x-flv",flashCanPlay:!0,media:"video"},rtmpv:{codec:'video/rtmp; codecs="rtmp"',flashCanPlay:!0,media:"video"}},_init:function(){var s=this;if(this.element.empty(),this.status=t.extend({},this.status),this.internal=t.extend({},this.internal),this.options.timeFormat=t.extend({},t.jPlayer.timeFormat,this.options.timeFormat),this.internal.cmdsIgnored=t.jPlayer.platform.ipad||t.jPlayer.platform.iphone||t.jPlayer.platform.ipod,this.internal.domNode=this.element.get(0),this.options.keyEnabled&&!t.jPlayer.focus&&(t.jPlayer.focus=this),this.androidFix={setMedia:!1,play:!1,pause:!1,time:0/0},t.jPlayer.platform.android&&(this.options.preload="auto"!==this.options.preload?"metadata":"auto"),this.formats=[],this.solutions=[],this.require={},this.htmlElement={},this.html={},this.html.audio={},this.html.video={},this.aurora={},this.aurora.formats=[],this.aurora.properties=[],this.flash={},this.css={},this.css.cs={},this.css.jq={},this.ancestorJq=[],this.options.volume=this._limitValue(this.options.volume,0,1),t.each(this.options.supplied.toLowerCase().split(","),function(e,i){var a=i.replace(/^\s+|\s+$/g,"");if(s.format[a]){var o=!1;t.each(s.formats,function(t,e){return a===e?(o=!0,!1):void 0}),o||s.formats.push(a)}}),t.each(this.options.solution.toLowerCase().split(","),function(e,i){var a=i.replace(/^\s+|\s+$/g,"");if(s.solution[a]){var o=!1;t.each(s.solutions,function(t,e){return a===e?(o=!0,!1):void 0}),o||s.solutions.push(a)}}),t.each(this.options.auroraFormats.toLowerCase().split(","),function(e,i){var a=i.replace(/^\s+|\s+$/g,"");if(s.format[a]){var o=!1;t.each(s.aurora.formats,function(t,e){return a===e?(o=!0,!1):void 0}),o||s.aurora.formats.push(a)}}),this.internal.instance="jp_"+this.count,this.instances[this.internal.instance]=this.element,this.element.attr("id")||this.element.attr("id",this.options.idPrefix+"_jplayer_"+this.count),this.internal.self=t.extend({},{id:this.element.attr("id"),jq:this.element}),this.internal.audio=t.extend({},{id:this.options.idPrefix+"_audio_"+this.count,jq:e}),this.internal.video=t.extend({},{id:this.options.idPrefix+"_video_"+this.count,jq:e}),this.internal.flash=t.extend({},{id:this.options.idPrefix+"_flash_"+this.count,jq:e,swf:this.options.swfPath+(".swf"!==this.options.swfPath.toLowerCase().slice(-4)?(this.options.swfPath&&"/"!==this.options.swfPath.slice(-1)?"/":"")+"jquery.jplayer.swf":"")}),this.internal.poster=t.extend({},{id:this.options.idPrefix+"_poster_"+this.count,jq:e}),t.each(t.jPlayer.event,function(t,i){s.options[t]!==e&&(s.element.bind(i+".jPlayer",s.options[t]),s.options[t]=e)}),this.require.audio=!1,this.require.video=!1,t.each(this.formats,function(t,e){s.require[s.format[e].media]=!0}),this.options=this.require.video?t.extend(!0,{},this.optionsVideo,this.options):t.extend(!0,{},this.optionsAudio,this.options),this._setSize(),this.status.nativeVideoControls=this._uaBlocklist(this.options.nativeVideoControls),this.status.noFullWindow=this._uaBlocklist(this.options.noFullWindow),this.status.noVolume=this._uaBlocklist(this.options.noVolume),t.jPlayer.nativeFeatures.fullscreen.api.fullscreenEnabled&&this._fullscreenAddEventListeners(),this._restrictNativeVideoControls(),this.htmlElement.poster=document.createElement("img"),this.htmlElement.poster.id=this.internal.poster.id,this.htmlElement.poster.onload=function(){(!s.status.video||s.status.waitForPlay)&&s.internal.poster.jq.show()},this.element.append(this.htmlElement.poster),this.internal.poster.jq=t("#"+this.internal.poster.id),this.internal.poster.jq.css({width:this.status.width,height:this.status.height}),this.internal.poster.jq.hide(),this.internal.poster.jq.bind("click.jPlayer",function(){s._trigger(t.jPlayer.event.click)}),this.html.audio.available=!1,this.require.audio&&(this.htmlElement.audio=document.createElement("audio"),this.htmlElement.audio.id=this.internal.audio.id,this.html.audio.available=!!this.htmlElement.audio.canPlayType&&this._testCanPlayType(this.htmlElement.audio)),this.html.video.available=!1,this.require.video&&(this.htmlElement.video=document.createElement("video"),this.htmlElement.video.id=this.internal.video.id,this.html.video.available=!!this.htmlElement.video.canPlayType&&this._testCanPlayType(this.htmlElement.video)),this.flash.available=this._checkForFlash(10.1),this.html.canPlay={},this.aurora.canPlay={},this.flash.canPlay={},t.each(this.formats,function(e,i){s.html.canPlay[i]=s.html[s.format[i].media].available&&""!==s.htmlElement[s.format[i].media].canPlayType(s.format[i].codec),s.aurora.canPlay[i]=t.inArray(i,s.aurora.formats)>-1,s.flash.canPlay[i]=s.format[i].flashCanPlay&&s.flash.available}),this.html.desired=!1,this.aurora.desired=!1,this.flash.desired=!1,t.each(this.solutions,function(e,i){if(0===e)s[i].desired=!0;else{var a=!1,o=!1;t.each(s.formats,function(t,e){s[s.solutions[0]].canPlay[e]&&("video"===s.format[e].media?o=!0:a=!0)}),s[i].desired=s.require.audio&&!a||s.require.video&&!o}}),this.html.support={},this.aurora.support={},this.flash.support={},t.each(this.formats,function(t,e){s.html.support[e]=s.html.canPlay[e]&&s.html.desired,s.aurora.support[e]=s.aurora.canPlay[e]&&s.aurora.desired,s.flash.support[e]=s.flash.canPlay[e]&&s.flash.desired}),this.html.used=!1,this.aurora.used=!1,this.flash.used=!1,t.each(this.solutions,function(e,i){t.each(s.formats,function(t,e){return s[i].support[e]?(s[i].used=!0,!1):void 0})}),this._resetActive(),this._resetGate(),this._cssSelectorAncestor(this.options.cssSelectorAncestor),this.html.used||this.aurora.used||this.flash.used?this.css.jq.noSolution.length&&this.css.jq.noSolution.hide():(this._error({type:t.jPlayer.error.NO_SOLUTION,context:"{solution:'"+this.options.solution+"', supplied:'"+this.options.supplied+"'}",message:t.jPlayer.errorMsg.NO_SOLUTION,hint:t.jPlayer.errorHint.NO_SOLUTION}),this.css.jq.noSolution.length&&this.css.jq.noSolution.show()),this.flash.used){var i,a="jQuery="+encodeURI(this.options.noConflict)+"&id="+encodeURI(this.internal.self.id)+"&vol="+this.options.volume+"&muted="+this.options.muted;if(t.jPlayer.browser.msie&&(Number(t.jPlayer.browser.version)<9||t.jPlayer.browser.documentMode<9)){var o='<object id="'+this.internal.flash.id+'" classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" width="0" height="0" tabindex="-1"></object>',r=['<param name="movie" value="'+this.internal.flash.swf+'" />','<param name="FlashVars" value="'+a+'" />','<param name="allowScriptAccess" value="always" />','<param name="bgcolor" value="'+this.options.backgroundColor+'" />','<param name="wmode" value="'+this.options.wmode+'" />'];i=document.createElement(o);for(var n=0;n<r.length;n++)i.appendChild(document.createElement(r[n]))}else{var l=function(t,e,s){var i=document.createElement("param");i.setAttribute("name",e),i.setAttribute("value",s),t.appendChild(i)};i=document.createElement("object"),i.setAttribute("id",this.internal.flash.id),i.setAttribute("name",this.internal.flash.id),i.setAttribute("data",this.internal.flash.swf),i.setAttribute("type","application/x-shockwave-flash"),i.setAttribute("width","1"),i.setAttribute("height","1"),i.setAttribute("tabindex","-1"),l(i,"flashvars",a),l(i,"allowscriptaccess","always"),l(i,"bgcolor",this.options.backgroundColor),l(i,"wmode",this.options.wmode)}this.element.append(i),this.internal.flash.jq=t(i)}this.status.playbackRateEnabled=this.html.used&&!this.flash.used?this._testPlaybackRate("audio"):!1,this._updatePlaybackRate(),this.html.used&&(this.html.audio.available&&(this._addHtmlEventListeners(this.htmlElement.audio,this.html.audio),this.element.append(this.htmlElement.audio),this.internal.audio.jq=t("#"+this.internal.audio.id)),this.html.video.available&&(this._addHtmlEventListeners(this.htmlElement.video,this.html.video),this.element.append(this.htmlElement.video),this.internal.video.jq=t("#"+this.internal.video.id),this.internal.video.jq.css(this.status.nativeVideoControls?{width:this.status.width,height:this.status.height}:{width:"0px",height:"0px"}),this.internal.video.jq.bind("click.jPlayer",function(){s._trigger(t.jPlayer.event.click)}))),this.aurora.used,this.options.emulateHtml&&this._emulateHtmlBridge(),!this.html.used&&!this.aurora.used||this.flash.used||setTimeout(function(){s.internal.ready=!0,s.version.flash="n/a",s._trigger(t.jPlayer.event.repeat),s._trigger(t.jPlayer.event.ready)},100),this._updateNativeVideoControls(),this.css.jq.videoPlay.length&&this.css.jq.videoPlay.hide(),t.jPlayer.prototype.count++},destroy:function(){this.clearMedia(),this._removeUiClass(),this.css.jq.currentTime.length&&this.css.jq.currentTime.text(""),this.css.jq.duration.length&&this.css.jq.duration.text(""),t.each(this.css.jq,function(t,e){e.length&&e.unbind(".jPlayer")}),this.internal.poster.jq.unbind(".jPlayer"),this.internal.video.jq&&this.internal.video.jq.unbind(".jPlayer"),this._fullscreenRemoveEventListeners(),this===t.jPlayer.focus&&(t.jPlayer.focus=null),this.options.emulateHtml&&this._destroyHtmlBridge(),this.element.removeData("jPlayer"),this.element.unbind(".jPlayer"),this.element.empty(),delete this.instances[this.internal.instance]},destroyRemoved:function(){var e=this;t.each(this.instances,function(t,s){e.element!==s&&(s.data("jPlayer")||(s.jPlayer("destroy"),delete e.instances[t]))})},enable:function(){},disable:function(){},_testCanPlayType:function(t){try{return t.canPlayType(this.format.mp3.codec),!0}catch(e){return!1}},_testPlaybackRate:function(t){var e,s=.5;t="string"==typeof t?t:"audio",e=document.createElement(t);try{return"playbackRate"in e?(e.playbackRate=s,e.playbackRate===s):!1}catch(i){return!1}},_uaBlocklist:function(e){var s=navigator.userAgent.toLowerCase(),i=!1;return t.each(e,function(t,e){return e&&e.test(s)?(i=!0,!1):void 0}),i},_restrictNativeVideoControls:function(){this.require.audio&&this.status.nativeVideoControls&&(this.status.nativeVideoControls=!1,this.status.noFullWindow=!0)},_updateNativeVideoControls:function(){this.html.video.available&&this.html.used&&(this.htmlElement.video.controls=this.status.nativeVideoControls,this._updateAutohide(),this.status.nativeVideoControls&&this.require.video?(this.internal.poster.jq.hide(),this.internal.video.jq.css({width:this.status.width,height:this.status.height})):this.status.waitForPlay&&this.status.video&&(this.internal.poster.jq.show(),this.internal.video.jq.css({width:"0px",height:"0px"})))},_addHtmlEventListeners:function(e,s){var i=this;e.preload=this.options.preload,e.muted=this.options.muted,e.volume=this.options.volume,this.status.playbackRateEnabled&&(e.defaultPlaybackRate=this.options.defaultPlaybackRate,e.playbackRate=this.options.playbackRate),e.addEventListener("progress",function(){s.gate&&(i.internal.cmdsIgnored&&this.readyState>0&&(i.internal.cmdsIgnored=!1),i._getHtmlStatus(e),i._updateInterface(),i._trigger(t.jPlayer.event.progress))},!1),e.addEventListener("loadeddata",function(){s.gate&&(i.androidFix.setMedia=!1,i.androidFix.play&&(i.androidFix.play=!1,i.play(i.androidFix.time)),i.androidFix.pause&&(i.androidFix.pause=!1,i.pause(i.androidFix.time)),i._trigger(t.jPlayer.event.loadeddata))},!1),e.addEventListener("timeupdate",function(){s.gate&&(i._getHtmlStatus(e),i._updateInterface(),i._trigger(t.jPlayer.event.timeupdate))},!1),e.addEventListener("durationchange",function(){s.gate&&(i._getHtmlStatus(e),i._updateInterface(),i._trigger(t.jPlayer.event.durationchange))},!1),e.addEventListener("play",function(){s.gate&&(i._updateButtons(!0),i._html_checkWaitForPlay(),i._trigger(t.jPlayer.event.play))},!1),e.addEventListener("playing",function(){s.gate&&(i._updateButtons(!0),i._seeked(),i._trigger(t.jPlayer.event.playing))},!1),e.addEventListener("pause",function(){s.gate&&(i._updateButtons(!1),i._trigger(t.jPlayer.event.pause))},!1),e.addEventListener("waiting",function(){s.gate&&(i._seeking(),i._trigger(t.jPlayer.event.waiting))},!1),e.addEventListener("seeking",function(){s.gate&&(i._seeking(),i._trigger(t.jPlayer.event.seeking))},!1),e.addEventListener("seeked",function(){s.gate&&(i._seeked(),i._trigger(t.jPlayer.event.seeked))},!1),e.addEventListener("volumechange",function(){s.gate&&(i.options.volume=e.volume,i.options.muted=e.muted,i._updateMute(),i._updateVolume(),i._trigger(t.jPlayer.event.volumechange))},!1),e.addEventListener("ratechange",function(){s.gate&&(i.options.defaultPlaybackRate=e.defaultPlaybackRate,i.options.playbackRate=e.playbackRate,i._updatePlaybackRate(),i._trigger(t.jPlayer.event.ratechange))},!1),e.addEventListener("suspend",function(){s.gate&&(i._seeked(),i._trigger(t.jPlayer.event.suspend))},!1),e.addEventListener("ended",function(){s.gate&&(t.jPlayer.browser.webkit||(i.htmlElement.media.currentTime=0),i.htmlElement.media.pause(),i._updateButtons(!1),i._getHtmlStatus(e,!0),i._updateInterface(),i._trigger(t.jPlayer.event.ended))},!1),e.addEventListener("error",function(){s.gate&&(i._updateButtons(!1),i._seeked(),i.status.srcSet&&(clearTimeout(i.internal.htmlDlyCmdId),i.status.waitForLoad=!0,i.status.waitForPlay=!0,i.status.video&&!i.status.nativeVideoControls&&i.internal.video.jq.css({width:"0px",height:"0px"}),i._validString(i.status.media.poster)&&!i.status.nativeVideoControls&&i.internal.poster.jq.show(),i.css.jq.videoPlay.length&&i.css.jq.videoPlay.show(),i._error({type:t.jPlayer.error.URL,context:i.status.src,message:t.jPlayer.errorMsg.URL,hint:t.jPlayer.errorHint.URL})))},!1),t.each(t.jPlayer.htmlEvent,function(a,o){e.addEventListener(this,function(){s.gate&&i._trigger(t.jPlayer.event[o])},!1)})},_addAuroraEventListeners:function(e,s){var i=this;e.volume=100*this.options.volume,e.on("progress",function(){s.gate&&(i.internal.cmdsIgnored&&this.readyState>0&&(i.internal.cmdsIgnored=!1),i._getAuroraStatus(e),i._updateInterface(),i._trigger(t.jPlayer.event.progress),e.duration>0&&i._trigger(t.jPlayer.event.timeupdate))},!1),e.on("ready",function(){s.gate&&i._trigger(t.jPlayer.event.loadeddata)},!1),e.on("duration",function(){s.gate&&(i._getAuroraStatus(e),i._updateInterface(),i._trigger(t.jPlayer.event.durationchange))},!1),e.on("end",function(){s.gate&&(i._updateButtons(!1),i._getAuroraStatus(e,!0),i._updateInterface(),i._trigger(t.jPlayer.event.ended))},!1),e.on("error",function(){s.gate&&(i._updateButtons(!1),i._seeked(),i.status.srcSet&&(i.status.waitForLoad=!0,i.status.waitForPlay=!0,i.status.video&&!i.status.nativeVideoControls&&i.internal.video.jq.css({width:"0px",height:"0px"}),i._validString(i.status.media.poster)&&!i.status.nativeVideoControls&&i.internal.poster.jq.show(),i.css.jq.videoPlay.length&&i.css.jq.videoPlay.show(),i._error({type:t.jPlayer.error.URL,context:i.status.src,message:t.jPlayer.errorMsg.URL,hint:t.jPlayer.errorHint.URL})))},!1)},_getHtmlStatus:function(t,e){var s=0,i=0,a=0,o=0;isFinite(t.duration)&&(this.status.duration=t.duration),s=t.currentTime,i=this.status.duration>0?100*s/this.status.duration:0,"object"==typeof t.seekable&&t.seekable.length>0?(a=this.status.duration>0?100*t.seekable.end(t.seekable.length-1)/this.status.duration:100,o=this.status.duration>0?100*t.currentTime/t.seekable.end(t.seekable.length-1):0):(a=100,o=i),e&&(s=0,o=0,i=0),this.status.seekPercent=a,this.status.currentPercentRelative=o,this.status.currentPercentAbsolute=i,this.status.currentTime=s,this.status.remaining=this.status.duration-this.status.currentTime,this.status.videoWidth=t.videoWidth,this.status.videoHeight=t.videoHeight,this.status.readyState=t.readyState,this.status.networkState=t.networkState,this.status.playbackRate=t.playbackRate,this.status.ended=t.ended},_getAuroraStatus:function(t,e){var s=0,i=0,a=0,o=0;this.status.duration=t.duration/1e3,s=t.currentTime/1e3,i=this.status.duration>0?100*s/this.status.duration:0,t.buffered>0?(a=this.status.duration>0?t.buffered*this.status.duration/this.status.duration:100,o=this.status.duration>0?s/(t.buffered*this.status.duration):0):(a=100,o=i),e&&(s=0,o=0,i=0),this.status.seekPercent=a,this.status.currentPercentRelative=o,this.status.currentPercentAbsolute=i,this.status.currentTime=s,this.status.remaining=this.status.duration-this.status.currentTime,this.status.readyState=4,this.status.networkState=0,this.status.playbackRate=1,this.status.ended=!1},_resetStatus:function(){this.status=t.extend({},this.status,t.jPlayer.prototype.status)},_trigger:function(e,s,i){var a=t.Event(e);a.jPlayer={},a.jPlayer.version=t.extend({},this.version),a.jPlayer.options=t.extend(!0,{},this.options),a.jPlayer.status=t.extend(!0,{},this.status),a.jPlayer.html=t.extend(!0,{},this.html),a.jPlayer.aurora=t.extend(!0,{},this.aurora),a.jPlayer.flash=t.extend(!0,{},this.flash),s&&(a.jPlayer.error=t.extend({},s)),i&&(a.jPlayer.warning=t.extend({},i)),this.element.trigger(a)},jPlayerFlashEvent:function(e,s){if(e===t.jPlayer.event.ready)if(this.internal.ready){if(this.flash.gate){if(this.status.srcSet){var i=this.status.currentTime,a=this.status.paused;this.setMedia(this.status.media),this.volumeWorker(this.options.volume),i>0&&(a?this.pause(i):this.play(i))}this._trigger(t.jPlayer.event.flashreset)}}else this.internal.ready=!0,this.internal.flash.jq.css({width:"0px",height:"0px"}),this.version.flash=s.version,this.version.needFlash!==this.version.flash&&this._error({type:t.jPlayer.error.VERSION,context:this.version.flash,message:t.jPlayer.errorMsg.VERSION+this.version.flash,hint:t.jPlayer.errorHint.VERSION}),this._trigger(t.jPlayer.event.repeat),this._trigger(e);if(this.flash.gate)switch(e){case t.jPlayer.event.progress:this._getFlashStatus(s),this._updateInterface(),this._trigger(e);break;case t.jPlayer.event.timeupdate:this._getFlashStatus(s),this._updateInterface(),this._trigger(e);break;case t.jPlayer.event.play:this._seeked(),this._updateButtons(!0),this._trigger(e);break;case t.jPlayer.event.pause:this._updateButtons(!1),this._trigger(e);break;case t.jPlayer.event.ended:this._updateButtons(!1),this._trigger(e);break;case t.jPlayer.event.click:this._trigger(e);break;case t.jPlayer.event.error:this.status.waitForLoad=!0,this.status.waitForPlay=!0,this.status.video&&this.internal.flash.jq.css({width:"0px",height:"0px"}),this._validString(this.status.media.poster)&&this.internal.poster.jq.show(),this.css.jq.videoPlay.length&&this.status.video&&this.css.jq.videoPlay.show(),this.status.video?this._flash_setVideo(this.status.media):this._flash_setAudio(this.status.media),this._updateButtons(!1),this._error({type:t.jPlayer.error.URL,context:s.src,message:t.jPlayer.errorMsg.URL,hint:t.jPlayer.errorHint.URL});break;case t.jPlayer.event.seeking:this._seeking(),this._trigger(e);break;case t.jPlayer.event.seeked:this._seeked(),this._trigger(e);break;case t.jPlayer.event.ready:break;default:this._trigger(e)}return!1},_getFlashStatus:function(t){this.status.seekPercent=t.seekPercent,this.status.currentPercentRelative=t.currentPercentRelative,this.status.currentPercentAbsolute=t.currentPercentAbsolute,this.status.currentTime=t.currentTime,this.status.duration=t.duration,this.status.remaining=t.duration-t.currentTime,this.status.videoWidth=t.videoWidth,this.status.videoHeight=t.videoHeight,this.status.readyState=4,this.status.networkState=0,this.status.playbackRate=1,this.status.ended=!1},_updateButtons:function(t){t===e?t=!this.status.paused:this.status.paused=!t,t?this.addStateClass("playing"):this.removeStateClass("playing"),!this.status.noFullWindow&&this.options.fullWindow?this.addStateClass("fullScreen"):this.removeStateClass("fullScreen"),this.options.loop?this.addStateClass("looped"):this.removeStateClass("looped"),this.css.jq.play.length&&this.css.jq.pause.length&&(t?(this.css.jq.play.hide(),this.css.jq.pause.show()):(this.css.jq.play.show(),this.css.jq.pause.hide())),this.css.jq.restoreScreen.length&&this.css.jq.fullScreen.length&&(this.status.noFullWindow?(this.css.jq.fullScreen.hide(),this.css.jq.restoreScreen.hide()):this.options.fullWindow?(this.css.jq.fullScreen.hide(),this.css.jq.restoreScreen.show()):(this.css.jq.fullScreen.show(),this.css.jq.restoreScreen.hide())),this.css.jq.repeat.length&&this.css.jq.repeatOff.length&&(this.options.loop?(this.css.jq.repeat.hide(),this.css.jq.repeatOff.show()):(this.css.jq.repeat.show(),this.css.jq.repeatOff.hide()))},_updateInterface:function(){this.css.jq.seekBar.length&&this.css.jq.seekBar.width(this.status.seekPercent+"%"),this.css.jq.playBar.length&&(this.options.smoothPlayBar?this.css.jq.playBar.stop().animate({width:this.status.currentPercentAbsolute+"%"},250,"linear"):this.css.jq.playBar.width(this.status.currentPercentRelative+"%"));var t="";this.css.jq.currentTime.length&&(t=this._convertTime(this.status.currentTime),t!==this.css.jq.currentTime.text()&&this.css.jq.currentTime.text(this._convertTime(this.status.currentTime)));var e="",s=this.status.duration,i=this.status.remaining;this.css.jq.duration.length&&("string"==typeof this.status.media.duration?e=this.status.media.duration:("number"==typeof this.status.media.duration&&(s=this.status.media.duration,i=s-this.status.currentTime),e=this.options.remainingDuration?(i>0?"-":"")+this._convertTime(i):this._convertTime(s)),e!==this.css.jq.duration.text()&&this.css.jq.duration.text(e))},_convertTime:s.prototype.time,_seeking:function(){this.css.jq.seekBar.length&&this.css.jq.seekBar.addClass("jp-seeking-bg"),this.addStateClass("seeking")},_seeked:function(){this.css.jq.seekBar.length&&this.css.jq.seekBar.removeClass("jp-seeking-bg"),this.removeStateClass("seeking")},_resetGate:function(){this.html.audio.gate=!1,this.html.video.gate=!1,this.aurora.gate=!1,this.flash.gate=!1},_resetActive:function(){this.html.active=!1,this.aurora.active=!1,this.flash.active=!1},_escapeHtml:function(t){return t.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;").split('"').join("&quot;")},_qualifyURL:function(t){var e=document.createElement("div");
  return e.innerHTML='<a href="'+this._escapeHtml(t)+'">x</a>',e.firstChild.href},_absoluteMediaUrls:function(e){var s=this;return t.each(e,function(t,i){i&&s.format[t]&&"data:"!==i.substr(0,5)&&(e[t]=s._qualifyURL(i))}),e},addStateClass:function(t){this.ancestorJq.length&&this.ancestorJq.addClass(this.options.stateClass[t])},removeStateClass:function(t){this.ancestorJq.length&&this.ancestorJq.removeClass(this.options.stateClass[t])},setMedia:function(e){var s=this,i=!1,a=this.status.media.poster!==e.poster;this._resetMedia(),this._resetGate(),this._resetActive(),this.androidFix.setMedia=!1,this.androidFix.play=!1,this.androidFix.pause=!1,e=this._absoluteMediaUrls(e),t.each(this.formats,function(a,o){var r="video"===s.format[o].media;return t.each(s.solutions,function(a,n){if(s[n].support[o]&&s._validString(e[o])){var l="html"===n,h="aurora"===n;return r?(l?(s.html.video.gate=!0,s._html_setVideo(e),s.html.active=!0):(s.flash.gate=!0,s._flash_setVideo(e),s.flash.active=!0),s.css.jq.videoPlay.length&&s.css.jq.videoPlay.show(),s.status.video=!0):(l?(s.html.audio.gate=!0,s._html_setAudio(e),s.html.active=!0,t.jPlayer.platform.android&&(s.androidFix.setMedia=!0)):h?(s.aurora.gate=!0,s._aurora_setAudio(e),s.aurora.active=!0):(s.flash.gate=!0,s._flash_setAudio(e),s.flash.active=!0),s.css.jq.videoPlay.length&&s.css.jq.videoPlay.hide(),s.status.video=!1),i=!0,!1}}),i?!1:void 0}),i?(this.status.nativeVideoControls&&this.html.video.gate||this._validString(e.poster)&&(a?this.htmlElement.poster.src=e.poster:this.internal.poster.jq.show()),"string"==typeof e.title&&(this.css.jq.title.length&&this.css.jq.title.html(e.title),this.htmlElement.audio&&this.htmlElement.audio.setAttribute("title",e.title),this.htmlElement.video&&this.htmlElement.video.setAttribute("title",e.title)),this.status.srcSet=!0,this.status.media=t.extend({},e),this._updateButtons(!1),this._updateInterface(),this._trigger(t.jPlayer.event.setmedia)):this._error({type:t.jPlayer.error.NO_SUPPORT,context:"{supplied:'"+this.options.supplied+"'}",message:t.jPlayer.errorMsg.NO_SUPPORT,hint:t.jPlayer.errorHint.NO_SUPPORT})},_resetMedia:function(){this._resetStatus(),this._updateButtons(!1),this._updateInterface(),this._seeked(),this.internal.poster.jq.hide(),clearTimeout(this.internal.htmlDlyCmdId),this.html.active?this._html_resetMedia():this.aurora.active?this._aurora_resetMedia():this.flash.active&&this._flash_resetMedia()},clearMedia:function(){this._resetMedia(),this.html.active?this._html_clearMedia():this.aurora.active?this._aurora_clearMedia():this.flash.active&&this._flash_clearMedia(),this._resetGate(),this._resetActive()},load:function(){this.status.srcSet?this.html.active?this._html_load():this.aurora.active?this._aurora_load():this.flash.active&&this._flash_load():this._urlNotSetError("load")},focus:function(){this.options.keyEnabled&&(t.jPlayer.focus=this)},play:function(t){var e="object"==typeof t;e&&this.options.useStateClassSkin&&!this.status.paused?this.pause(t):(t="number"==typeof t?t:0/0,this.status.srcSet?(this.focus(),this.html.active?this._html_play(t):this.aurora.active?this._aurora_play(t):this.flash.active&&this._flash_play(t)):this._urlNotSetError("play"))},videoPlay:function(){this.play()},pause:function(t){t="number"==typeof t?t:0/0,this.status.srcSet?this.html.active?this._html_pause(t):this.aurora.active?this._aurora_pause(t):this.flash.active&&this._flash_pause(t):this._urlNotSetError("pause")},tellOthers:function(e,s){var i=this,a="function"==typeof s,o=Array.prototype.slice.call(arguments);"string"==typeof e&&(a&&o.splice(1,1),t.jPlayer.prototype.destroyRemoved(),t.each(this.instances,function(){i.element!==this&&(!a||s.call(this.data("jPlayer"),i))&&this.jPlayer.apply(this,o)}))},pauseOthers:function(t){this.tellOthers("pause",function(){return this.status.srcSet},t)},stop:function(){this.status.srcSet?this.html.active?this._html_pause(0):this.aurora.active?this._aurora_pause(0):this.flash.active&&this._flash_pause(0):this._urlNotSetError("stop")},playHead:function(t){t=this._limitValue(t,0,100),this.status.srcSet?this.html.active?this._html_playHead(t):this.aurora.active?this._aurora_playHead(t):this.flash.active&&this._flash_playHead(t):this._urlNotSetError("playHead")},_muted:function(t){this.mutedWorker(t),this.options.globalVolume&&this.tellOthers("mutedWorker",function(){return this.options.globalVolume},t)},mutedWorker:function(e){this.options.muted=e,this.html.used&&this._html_setProperty("muted",e),this.aurora.used&&this._aurora_mute(e),this.flash.used&&this._flash_mute(e),this.html.video.gate||this.html.audio.gate||(this._updateMute(e),this._updateVolume(this.options.volume),this._trigger(t.jPlayer.event.volumechange))},mute:function(t){var s="object"==typeof t;s&&this.options.useStateClassSkin&&this.options.muted?this._muted(!1):(t=t===e?!0:!!t,this._muted(t))},unmute:function(t){t=t===e?!0:!!t,this._muted(!t)},_updateMute:function(t){t===e&&(t=this.options.muted),t?this.addStateClass("muted"):this.removeStateClass("muted"),this.css.jq.mute.length&&this.css.jq.unmute.length&&(this.status.noVolume?(this.css.jq.mute.hide(),this.css.jq.unmute.hide()):t?(this.css.jq.mute.hide(),this.css.jq.unmute.show()):(this.css.jq.mute.show(),this.css.jq.unmute.hide()))},volume:function(t){this.volumeWorker(t),this.options.globalVolume&&this.tellOthers("volumeWorker",function(){return this.options.globalVolume},t)},volumeWorker:function(e){e=this._limitValue(e,0,1),this.options.volume=e,this.html.used&&this._html_setProperty("volume",e),this.aurora.used&&this._aurora_volume(e),this.flash.used&&this._flash_volume(e),this.html.video.gate||this.html.audio.gate||(this._updateVolume(e),this._trigger(t.jPlayer.event.volumechange))},volumeBar:function(e){if(this.css.jq.volumeBar.length){var s=t(e.currentTarget),i=s.offset(),a=e.pageX-i.left,o=s.width(),r=s.height()-e.pageY+i.top,n=s.height();this.volume(this.options.verticalVolume?r/n:a/o)}this.options.muted&&this._muted(!1)},_updateVolume:function(t){t===e&&(t=this.options.volume),t=this.options.muted?0:t,this.status.noVolume?(this.addStateClass("noVolume"),this.css.jq.volumeBar.length&&this.css.jq.volumeBar.hide(),this.css.jq.volumeBarValue.length&&this.css.jq.volumeBarValue.hide(),this.css.jq.volumeMax.length&&this.css.jq.volumeMax.hide()):(this.removeStateClass("noVolume"),this.css.jq.volumeBar.length&&this.css.jq.volumeBar.show(),this.css.jq.volumeBarValue.length&&(this.css.jq.volumeBarValue.show(),this.css.jq.volumeBarValue[this.options.verticalVolume?"height":"width"](this.options.rtl?100-100*t+"%":100*t+"%")),this.css.jq.volumeMax.length&&this.css.jq.volumeMax.show())},volumeMax:function(){this.volume(1),this.options.muted&&this._muted(!1)},_cssSelectorAncestor:function(e){var s=this;this.options.cssSelectorAncestor=e,this._removeUiClass(),this.ancestorJq=e?t(e):[],e&&1!==this.ancestorJq.length&&this._warning({type:t.jPlayer.warning.CSS_SELECTOR_COUNT,context:e,message:t.jPlayer.warningMsg.CSS_SELECTOR_COUNT+this.ancestorJq.length+" found for cssSelectorAncestor.",hint:t.jPlayer.warningHint.CSS_SELECTOR_COUNT}),this._addUiClass(),t.each(this.options.cssSelector,function(t,e){s._cssSelector(t,e)}),this._updateInterface(),this._updateButtons(),this._updateAutohide(),this._updateVolume(),this._updateMute()},_cssSelector:function(e,s){var i=this;if("string"==typeof s)if(t.jPlayer.prototype.options.cssSelector[e]){if(this.css.jq[e]&&this.css.jq[e].length&&this.css.jq[e].unbind(".jPlayer"),this.options.cssSelector[e]=s,this.css.cs[e]=this.options.cssSelectorAncestor+" "+s,this.css.jq[e]=s?t(this.css.cs[e]):[],this.css.jq[e].length&&this[e]){var a=function(s){s.preventDefault(),i[e](s),i.options.autoBlur?t(this).blur():t(this).focus()};this.css.jq[e].bind("click.jPlayer",a)}s&&1!==this.css.jq[e].length&&this._warning({type:t.jPlayer.warning.CSS_SELECTOR_COUNT,context:this.css.cs[e],message:t.jPlayer.warningMsg.CSS_SELECTOR_COUNT+this.css.jq[e].length+" found for "+e+" method.",hint:t.jPlayer.warningHint.CSS_SELECTOR_COUNT})}else this._warning({type:t.jPlayer.warning.CSS_SELECTOR_METHOD,context:e,message:t.jPlayer.warningMsg.CSS_SELECTOR_METHOD,hint:t.jPlayer.warningHint.CSS_SELECTOR_METHOD});else this._warning({type:t.jPlayer.warning.CSS_SELECTOR_STRING,context:s,message:t.jPlayer.warningMsg.CSS_SELECTOR_STRING,hint:t.jPlayer.warningHint.CSS_SELECTOR_STRING})},duration:function(t){this.options.toggleDuration&&(this.options.captureDuration&&t.stopPropagation(),this._setOption("remainingDuration",!this.options.remainingDuration))},seekBar:function(e){if(this.css.jq.seekBar.length){var s,i=t(e.currentTarget),a=i.offset(),o=i.width();s=this.options.rtl?i.offset().left+i.outerWidth()-e.pageX:e.pageX-a.left;var r=100*s/o;this.playHead(r)}},playbackRate:function(t){this._setOption("playbackRate",t)},playbackRateBar:function(e){if(this.css.jq.playbackRateBar.length){var s,i,a=t(e.currentTarget),o=a.offset(),r=e.pageX-o.left,n=a.width(),l=a.height()-e.pageY+o.top,h=a.height();s=this.options.verticalPlaybackRate?l/h:r/n,i=s*(this.options.maxPlaybackRate-this.options.minPlaybackRate)+this.options.minPlaybackRate,this.playbackRate(i)}},_updatePlaybackRate:function(){var t=this.options.playbackRate,e=(t-this.options.minPlaybackRate)/(this.options.maxPlaybackRate-this.options.minPlaybackRate);this.status.playbackRateEnabled?(this.css.jq.playbackRateBar.length&&this.css.jq.playbackRateBar.show(),this.css.jq.playbackRateBarValue.length&&(this.css.jq.playbackRateBarValue.show(),this.css.jq.playbackRateBarValue[this.options.verticalPlaybackRate?"height":"width"](100*e+"%"))):(this.css.jq.playbackRateBar.length&&this.css.jq.playbackRateBar.hide(),this.css.jq.playbackRateBarValue.length&&this.css.jq.playbackRateBarValue.hide())},repeat:function(t){var e="object"==typeof t;this._loop(e&&this.options.useStateClassSkin&&this.options.loop?!1:!0)},repeatOff:function(){this._loop(!1)},_loop:function(e){this.options.loop!==e&&(this.options.loop=e,this._updateButtons(),this._trigger(t.jPlayer.event.repeat))},option:function(s,i){var a=s;if(0===arguments.length)return t.extend(!0,{},this.options);if("string"==typeof s){var o=s.split(".");if(i===e){for(var r=t.extend(!0,{},this.options),n=0;n<o.length;n++){if(r[o[n]]===e)return this._warning({type:t.jPlayer.warning.OPTION_KEY,context:s,message:t.jPlayer.warningMsg.OPTION_KEY,hint:t.jPlayer.warningHint.OPTION_KEY}),e;r=r[o[n]]}return r}a={};for(var l=a,h=0;h<o.length;h++)h<o.length-1?(l[o[h]]={},l=l[o[h]]):l[o[h]]=i}return this._setOptions(a),this},_setOptions:function(e){var s=this;return t.each(e,function(t,e){s._setOption(t,e)}),this},_setOption:function(e,s){var i=this;switch(e){case"volume":this.volume(s);break;case"muted":this._muted(s);break;case"globalVolume":this.options[e]=s;break;case"cssSelectorAncestor":this._cssSelectorAncestor(s);break;case"cssSelector":t.each(s,function(t,e){i._cssSelector(t,e)});break;case"playbackRate":this.options[e]=s=this._limitValue(s,this.options.minPlaybackRate,this.options.maxPlaybackRate),this.html.used&&this._html_setProperty("playbackRate",s),this._updatePlaybackRate();break;case"defaultPlaybackRate":this.options[e]=s=this._limitValue(s,this.options.minPlaybackRate,this.options.maxPlaybackRate),this.html.used&&this._html_setProperty("defaultPlaybackRate",s),this._updatePlaybackRate();break;case"minPlaybackRate":this.options[e]=s=this._limitValue(s,.1,this.options.maxPlaybackRate-.1),this._updatePlaybackRate();break;case"maxPlaybackRate":this.options[e]=s=this._limitValue(s,this.options.minPlaybackRate+.1,16),this._updatePlaybackRate();break;case"fullScreen":if(this.options[e]!==s){var a=t.jPlayer.nativeFeatures.fullscreen.used.webkitVideo;(!a||a&&!this.status.waitForPlay)&&(a||(this.options[e]=s),s?this._requestFullscreen():this._exitFullscreen(),a||this._setOption("fullWindow",s))}break;case"fullWindow":this.options[e]!==s&&(this._removeUiClass(),this.options[e]=s,this._refreshSize());break;case"size":this.options.fullWindow||this.options[e].cssClass===s.cssClass||this._removeUiClass(),this.options[e]=t.extend({},this.options[e],s),this._refreshSize();break;case"sizeFull":this.options.fullWindow&&this.options[e].cssClass!==s.cssClass&&this._removeUiClass(),this.options[e]=t.extend({},this.options[e],s),this._refreshSize();break;case"autohide":this.options[e]=t.extend({},this.options[e],s),this._updateAutohide();break;case"loop":this._loop(s);break;case"remainingDuration":this.options[e]=s,this._updateInterface();break;case"toggleDuration":this.options[e]=s;break;case"nativeVideoControls":this.options[e]=t.extend({},this.options[e],s),this.status.nativeVideoControls=this._uaBlocklist(this.options.nativeVideoControls),this._restrictNativeVideoControls(),this._updateNativeVideoControls();break;case"noFullWindow":this.options[e]=t.extend({},this.options[e],s),this.status.nativeVideoControls=this._uaBlocklist(this.options.nativeVideoControls),this.status.noFullWindow=this._uaBlocklist(this.options.noFullWindow),this._restrictNativeVideoControls(),this._updateButtons();break;case"noVolume":this.options[e]=t.extend({},this.options[e],s),this.status.noVolume=this._uaBlocklist(this.options.noVolume),this._updateVolume(),this._updateMute();break;case"emulateHtml":this.options[e]!==s&&(this.options[e]=s,s?this._emulateHtmlBridge():this._destroyHtmlBridge());break;case"timeFormat":this.options[e]=t.extend({},this.options[e],s);break;case"keyEnabled":this.options[e]=s,s||this!==t.jPlayer.focus||(t.jPlayer.focus=null);break;case"keyBindings":this.options[e]=t.extend(!0,{},this.options[e],s);break;case"audioFullScreen":this.options[e]=s;break;case"autoBlur":this.options[e]=s}return this},_refreshSize:function(){this._setSize(),this._addUiClass(),this._updateSize(),this._updateButtons(),this._updateAutohide(),this._trigger(t.jPlayer.event.resize)},_setSize:function(){this.options.fullWindow?(this.status.width=this.options.sizeFull.width,this.status.height=this.options.sizeFull.height,this.status.cssClass=this.options.sizeFull.cssClass):(this.status.width=this.options.size.width,this.status.height=this.options.size.height,this.status.cssClass=this.options.size.cssClass),this.element.css({width:this.status.width,height:this.status.height})},_addUiClass:function(){this.ancestorJq.length&&this.ancestorJq.addClass(this.status.cssClass)},_removeUiClass:function(){this.ancestorJq.length&&this.ancestorJq.removeClass(this.status.cssClass)},_updateSize:function(){this.internal.poster.jq.css({width:this.status.width,height:this.status.height}),!this.status.waitForPlay&&this.html.active&&this.status.video||this.html.video.available&&this.html.used&&this.status.nativeVideoControls?this.internal.video.jq.css({width:this.status.width,height:this.status.height}):!this.status.waitForPlay&&this.flash.active&&this.status.video&&this.internal.flash.jq.css({width:this.status.width,height:this.status.height})},_updateAutohide:function(){var t=this,e="mousemove.jPlayer",s=".jPlayerAutohide",i=e+s,a=function(e){var s,i,a=!1;"undefined"!=typeof t.internal.mouse?(s=t.internal.mouse.x-e.pageX,i=t.internal.mouse.y-e.pageY,a=Math.floor(s)>0||Math.floor(i)>0):a=!0,t.internal.mouse={x:e.pageX,y:e.pageY},a&&t.css.jq.gui.fadeIn(t.options.autohide.fadeIn,function(){clearTimeout(t.internal.autohideId),t.internal.autohideId=setTimeout(function(){t.css.jq.gui.fadeOut(t.options.autohide.fadeOut)},t.options.autohide.hold)})};this.css.jq.gui.length&&(this.css.jq.gui.stop(!0,!0),clearTimeout(this.internal.autohideId),delete this.internal.mouse,this.element.unbind(s),this.css.jq.gui.unbind(s),this.status.nativeVideoControls?this.css.jq.gui.hide():this.options.fullWindow&&this.options.autohide.full||!this.options.fullWindow&&this.options.autohide.restored?(this.element.bind(i,a),this.css.jq.gui.bind(i,a),this.css.jq.gui.hide()):this.css.jq.gui.show())},fullScreen:function(t){var e="object"==typeof t;e&&this.options.useStateClassSkin&&this.options.fullScreen?this._setOption("fullScreen",!1):this._setOption("fullScreen",!0)},restoreScreen:function(){this._setOption("fullScreen",!1)},_fullscreenAddEventListeners:function(){var e=this,s=t.jPlayer.nativeFeatures.fullscreen;s.api.fullscreenEnabled&&s.event.fullscreenchange&&("function"!=typeof this.internal.fullscreenchangeHandler&&(this.internal.fullscreenchangeHandler=function(){e._fullscreenchange()}),document.addEventListener(s.event.fullscreenchange,this.internal.fullscreenchangeHandler,!1))},_fullscreenRemoveEventListeners:function(){var e=t.jPlayer.nativeFeatures.fullscreen;this.internal.fullscreenchangeHandler&&document.removeEventListener(e.event.fullscreenchange,this.internal.fullscreenchangeHandler,!1)},_fullscreenchange:function(){this.options.fullScreen&&!t.jPlayer.nativeFeatures.fullscreen.api.fullscreenElement()&&this._setOption("fullScreen",!1)},_requestFullscreen:function(){var e=this.ancestorJq.length?this.ancestorJq[0]:this.element[0],s=t.jPlayer.nativeFeatures.fullscreen;s.used.webkitVideo&&(e=this.htmlElement.video),s.api.fullscreenEnabled&&s.api.requestFullscreen(e)},_exitFullscreen:function(){var e,s=t.jPlayer.nativeFeatures.fullscreen;s.used.webkitVideo&&(e=this.htmlElement.video),s.api.fullscreenEnabled&&s.api.exitFullscreen(e)},_html_initMedia:function(e){var s=t(this.htmlElement.media).empty();t.each(e.track||[],function(t,e){var i=document.createElement("track");i.setAttribute("kind",e.kind?e.kind:""),i.setAttribute("src",e.src?e.src:""),i.setAttribute("srclang",e.srclang?e.srclang:""),i.setAttribute("label",e.label?e.label:""),e.def&&i.setAttribute("default",e.def),s.append(i)}),this.htmlElement.media.src=this.status.src,"none"!==this.options.preload&&this._html_load(),this._trigger(t.jPlayer.event.timeupdate)},_html_setFormat:function(e){var s=this;t.each(this.formats,function(t,i){return s.html.support[i]&&e[i]?(s.status.src=e[i],s.status.format[i]=!0,s.status.formatType=i,!1):void 0})},_html_setAudio:function(t){this._html_setFormat(t),this.htmlElement.media=this.htmlElement.audio,this._html_initMedia(t)},_html_setVideo:function(t){this._html_setFormat(t),this.status.nativeVideoControls&&(this.htmlElement.video.poster=this._validString(t.poster)?t.poster:""),this.htmlElement.media=this.htmlElement.video,this._html_initMedia(t)},_html_resetMedia:function(){this.htmlElement.media&&(this.htmlElement.media.id!==this.internal.video.id||this.status.nativeVideoControls||this.internal.video.jq.css({width:"0px",height:"0px"}),this.htmlElement.media.pause())},_html_clearMedia:function(){this.htmlElement.media&&(this.htmlElement.media.src="about:blank",this.htmlElement.media.load())},_html_load:function(){this.status.waitForLoad&&(this.status.waitForLoad=!1,this.htmlElement.media.load()),clearTimeout(this.internal.htmlDlyCmdId)},_html_play:function(t){var e=this,s=this.htmlElement.media;if(this.androidFix.pause=!1,this._html_load(),this.androidFix.setMedia)this.androidFix.play=!0,this.androidFix.time=t;else if(isNaN(t))s.play();else{this.internal.cmdsIgnored&&s.play();try{if(s.seekable&&!("object"==typeof s.seekable&&s.seekable.length>0))throw 1;s.currentTime=t,s.play()}catch(i){return void(this.internal.htmlDlyCmdId=setTimeout(function(){e.play(t)},250))}}this._html_checkWaitForPlay()},_html_pause:function(t){var e=this,s=this.htmlElement.media;if(this.androidFix.play=!1,t>0?this._html_load():clearTimeout(this.internal.htmlDlyCmdId),s.pause(),this.androidFix.setMedia)this.androidFix.pause=!0,this.androidFix.time=t;else if(!isNaN(t))try{if(s.seekable&&!("object"==typeof s.seekable&&s.seekable.length>0))throw 1;s.currentTime=t}catch(i){return void(this.internal.htmlDlyCmdId=setTimeout(function(){e.pause(t)},250))}t>0&&this._html_checkWaitForPlay()},_html_playHead:function(t){var e=this,s=this.htmlElement.media;this._html_load();try{if("object"==typeof s.seekable&&s.seekable.length>0)s.currentTime=t*s.seekable.end(s.seekable.length-1)/100;else{if(!(s.duration>0)||isNaN(s.duration))throw"e";s.currentTime=t*s.duration/100}}catch(i){return void(this.internal.htmlDlyCmdId=setTimeout(function(){e.playHead(t)},250))}this.status.waitForLoad||this._html_checkWaitForPlay()},_html_checkWaitForPlay:function(){this.status.waitForPlay&&(this.status.waitForPlay=!1,this.css.jq.videoPlay.length&&this.css.jq.videoPlay.hide(),this.status.video&&(this.internal.poster.jq.hide(),this.internal.video.jq.css({width:this.status.width,height:this.status.height})))},_html_setProperty:function(t,e){this.html.audio.available&&(this.htmlElement.audio[t]=e),this.html.video.available&&(this.htmlElement.video[t]=e)},_aurora_setAudio:function(e){var s=this;t.each(this.formats,function(t,i){return s.aurora.support[i]&&e[i]?(s.status.src=e[i],s.status.format[i]=!0,s.status.formatType=i,!1):void 0}),this.aurora.player=new AV.Player.fromURL(this.status.src),this._addAuroraEventListeners(this.aurora.player,this.aurora),"auto"===this.options.preload&&(this._aurora_load(),this.status.waitForLoad=!1)},_aurora_resetMedia:function(){this.aurora.player&&this.aurora.player.stop()},_aurora_clearMedia:function(){},_aurora_load:function(){this.status.waitForLoad&&(this.status.waitForLoad=!1,this.aurora.player.preload())},_aurora_play:function(e){this.status.waitForLoad||isNaN(e)||this.aurora.player.seek(e),this.aurora.player.playing||this.aurora.player.play(),this.status.waitForLoad=!1,this._aurora_checkWaitForPlay(),this._updateButtons(!0),this._trigger(t.jPlayer.event.play)},_aurora_pause:function(e){isNaN(e)||this.aurora.player.seek(1e3*e),this.aurora.player.pause(),e>0&&this._aurora_checkWaitForPlay(),this._updateButtons(!1),this._trigger(t.jPlayer.event.pause)},_aurora_playHead:function(t){this.aurora.player.duration>0&&this.aurora.player.seek(t*this.aurora.player.duration/100),this.status.waitForLoad||this._aurora_checkWaitForPlay()},_aurora_checkWaitForPlay:function(){this.status.waitForPlay&&(this.status.waitForPlay=!1)},_aurora_volume:function(t){this.aurora.player.volume=100*t},_aurora_mute:function(t){t?(this.aurora.properties.lastvolume=this.aurora.player.volume,this.aurora.player.volume=0):this.aurora.player.volume=this.aurora.properties.lastvolume,this.aurora.properties.muted=t},_flash_setAudio:function(e){var s=this;try{t.each(this.formats,function(t,i){if(s.flash.support[i]&&e[i]){switch(i){case"m4a":case"fla":s._getMovie().fl_setAudio_m4a(e[i]);break;case"mp3":s._getMovie().fl_setAudio_mp3(e[i]);break;case"rtmpa":s._getMovie().fl_setAudio_rtmp(e[i])}return s.status.src=e[i],s.status.format[i]=!0,s.status.formatType=i,!1}}),"auto"===this.options.preload&&(this._flash_load(),this.status.waitForLoad=!1)}catch(i){this._flashError(i)}},_flash_setVideo:function(e){var s=this;try{t.each(this.formats,function(t,i){if(s.flash.support[i]&&e[i]){switch(i){case"m4v":case"flv":s._getMovie().fl_setVideo_m4v(e[i]);break;case"rtmpv":s._getMovie().fl_setVideo_rtmp(e[i])}return s.status.src=e[i],s.status.format[i]=!0,s.status.formatType=i,!1}}),"auto"===this.options.preload&&(this._flash_load(),this.status.waitForLoad=!1)}catch(i){this._flashError(i)}},_flash_resetMedia:function(){this.internal.flash.jq.css({width:"0px",height:"0px"}),this._flash_pause(0/0)},_flash_clearMedia:function(){try{this._getMovie().fl_clearMedia()}catch(t){this._flashError(t)}},_flash_load:function(){try{this._getMovie().fl_load()}catch(t){this._flashError(t)}this.status.waitForLoad=!1},_flash_play:function(t){try{this._getMovie().fl_play(t)}catch(e){this._flashError(e)}this.status.waitForLoad=!1,this._flash_checkWaitForPlay()},_flash_pause:function(t){try{this._getMovie().fl_pause(t)}catch(e){this._flashError(e)}t>0&&(this.status.waitForLoad=!1,this._flash_checkWaitForPlay())},_flash_playHead:function(t){try{this._getMovie().fl_play_head(t)}catch(e){this._flashError(e)}this.status.waitForLoad||this._flash_checkWaitForPlay()},_flash_checkWaitForPlay:function(){this.status.waitForPlay&&(this.status.waitForPlay=!1,this.css.jq.videoPlay.length&&this.css.jq.videoPlay.hide(),this.status.video&&(this.internal.poster.jq.hide(),this.internal.flash.jq.css({width:this.status.width,height:this.status.height})))},_flash_volume:function(t){try{this._getMovie().fl_volume(t)}catch(e){this._flashError(e)}},_flash_mute:function(t){try{this._getMovie().fl_mute(t)}catch(e){this._flashError(e)}},_getMovie:function(){return document[this.internal.flash.id]},_getFlashPluginVersion:function(){var t,e=0;if(window.ActiveXObject)try{if(t=new ActiveXObject("ShockwaveFlash.ShockwaveFlash")){var s=t.GetVariable("$version");s&&(s=s.split(" ")[1].split(","),e=parseInt(s[0],10)+"."+parseInt(s[1],10))}}catch(i){}else navigator.plugins&&navigator.mimeTypes.length>0&&(t=navigator.plugins["Shockwave Flash"],t&&(e=navigator.plugins["Shockwave Flash"].description.replace(/.*\s(\d+\.\d+).*/,"$1")));return 1*e},_checkForFlash:function(t){var e=!1;return this._getFlashPluginVersion()>=t&&(e=!0),e},_validString:function(t){return t&&"string"==typeof t},_limitValue:function(t,e,s){return e>t?e:t>s?s:t},_urlNotSetError:function(e){this._error({type:t.jPlayer.error.URL_NOT_SET,context:e,message:t.jPlayer.errorMsg.URL_NOT_SET,hint:t.jPlayer.errorHint.URL_NOT_SET})},_flashError:function(e){var s;s=this.internal.ready?"FLASH_DISABLED":"FLASH",this._error({type:t.jPlayer.error[s],context:this.internal.flash.swf,message:t.jPlayer.errorMsg[s]+e.message,hint:t.jPlayer.errorHint[s]}),this.internal.flash.jq.css({width:"1px",height:"1px"})},_error:function(e){this._trigger(t.jPlayer.event.error,e),this.options.errorAlerts&&this._alert("Error!"+(e.message?"\n"+e.message:"")+(e.hint?"\n"+e.hint:"")+"\nContext: "+e.context)},_warning:function(s){this._trigger(t.jPlayer.event.warning,e,s),this.options.warningAlerts&&this._alert("Warning!"+(s.message?"\n"+s.message:"")+(s.hint?"\n"+s.hint:"")+"\nContext: "+s.context)},_alert:function(t){var e="jPlayer "+this.version.script+" : id='"+this.internal.self.id+"' : "+t;this.options.consoleAlerts?window.console&&window.console.log&&window.console.log(e):alert(e)},_emulateHtmlBridge:function(){var e=this;t.each(t.jPlayer.emulateMethods.split(/\s+/g),function(t,s){e.internal.domNode[s]=function(t){e[s](t)}}),t.each(t.jPlayer.event,function(s,i){var a=!0;t.each(t.jPlayer.reservedEvent.split(/\s+/g),function(t,e){return e===s?(a=!1,!1):void 0}),a&&e.element.bind(i+".jPlayer.jPlayerHtml",function(){e._emulateHtmlUpdate();var t=document.createEvent("Event");t.initEvent(s,!1,!0),e.internal.domNode.dispatchEvent(t)})})},_emulateHtmlUpdate:function(){var e=this;t.each(t.jPlayer.emulateStatus.split(/\s+/g),function(t,s){e.internal.domNode[s]=e.status[s]}),t.each(t.jPlayer.emulateOptions.split(/\s+/g),function(t,s){e.internal.domNode[s]=e.options[s]})},_destroyHtmlBridge:function(){var e=this;this.element.unbind(".jPlayerHtml");var s=t.jPlayer.emulateMethods+" "+t.jPlayer.emulateStatus+" "+t.jPlayer.emulateOptions;t.each(s.split(/\s+/g),function(t,s){delete e.internal.domNode[s]})}},t.jPlayer.error={FLASH:"e_flash",FLASH_DISABLED:"e_flash_disabled",NO_SOLUTION:"e_no_solution",NO_SUPPORT:"e_no_support",URL:"e_url",URL_NOT_SET:"e_url_not_set",VERSION:"e_version"},t.jPlayer.errorMsg={FLASH:"jPlayer's Flash fallback is not configured correctly, or a command was issued before the jPlayer Ready event. Details: ",FLASH_DISABLED:"jPlayer's Flash fallback has been disabled by the browser due to the CSS rules you have used. Details: ",NO_SOLUTION:"No solution can be found by jPlayer in this browser. Neither HTML nor Flash can be used.",NO_SUPPORT:"It is not possible to play any media format provided in setMedia() on this browser using your current options.",URL:"Media URL could not be loaded.",URL_NOT_SET:"Attempt to issue media playback commands, while no media url is set.",VERSION:"jPlayer "+t.jPlayer.prototype.version.script+" needs Jplayer.swf version "+t.jPlayer.prototype.version.needFlash+" but found "},t.jPlayer.errorHint={FLASH:"Check your swfPath option and that Jplayer.swf is there.",FLASH_DISABLED:"Check that you have not display:none; the jPlayer entity or any ancestor.",NO_SOLUTION:"Review the jPlayer options: support and supplied.",NO_SUPPORT:"Video or audio formats defined in the supplied option are missing.",URL:"Check media URL is valid.",URL_NOT_SET:"Use setMedia() to set the media URL.",VERSION:"Update jPlayer files."},t.jPlayer.warning={CSS_SELECTOR_COUNT:"e_css_selector_count",CSS_SELECTOR_METHOD:"e_css_selector_method",CSS_SELECTOR_STRING:"e_css_selector_string",OPTION_KEY:"e_option_key"},t.jPlayer.warningMsg={CSS_SELECTOR_COUNT:"The number of css selectors found did not equal one: ",CSS_SELECTOR_METHOD:"The methodName given in jPlayer('cssSelector') is not a valid jPlayer method.",CSS_SELECTOR_STRING:"The methodCssSelector given in jPlayer('cssSelector') is not a String or is empty.",OPTION_KEY:"The option requested in jPlayer('option') is undefined."},t.jPlayer.warningHint={CSS_SELECTOR_COUNT:"Check your css selector and the ancestor.",CSS_SELECTOR_METHOD:"Check your method name.",CSS_SELECTOR_STRING:"Check your css selector is a string.",OPTION_KEY:"Check your option name."}});
(function($){function ImagePlayer($self,url){var display=document.createElement('canvas');var loadFrame=function(){var $d=$self.find(display);if(!url||-1==url.indexOf('//')){$d.remove();return;}else if(!$d.length){$self.append(display);}
var img=new Image();img.onload=imageOnLoad;img.onerror=imageOnError;img.timestamp=new Date().getTime();img.url=url;img.src=url+'?t='+(img.timestamp);function imageOnLoad(){var loadTime=new Date().getTime()-this.timestamp;drawFrame(this);setTimeout(function(){loadFrame();},200-loadTime);}
function imageOnError(){var loadTime=new Date().getTime()-this.timestamp;setTimeout(function(){loadFrame();},200-loadTime);}};var drawFrame=function(image){var displayContext=display.getContext("2d");display.width=$self.width();display.height=$self.height();if(displayContext!=null){try{displayContext.drawImage(image,0,0,image.width,image.height,0,0,$self.width(),$self.height());}catch(e){}}};loadFrame();return{play:function(u){url=u;loadFrame();}}}
$.fn.imagePlayer=function(url){var player=$(this).data("ImagePlayer");if(player){player.play(url);return player;}else if(url=='destroy'){return;}
this.each(function(){player=new ImagePlayer($(this),url);$(this).data("ImagePlayer",player);});return this;};})(jQuery);
$(document).ready(function(){$.videoInit=function videoInit($videoContainer){if(!$videoContainer.hasClass('initialized')){var height=$videoContainer.attr('video_height').length?$videoContainer.attr('video_height'):360;var isRtl=false;if($('.wrapper').hasClass('wrapper_rtl')){isRtl=true;}
$.jPlayer.pause();$('#jquery_jplayer_'+$videoContainer.attr('video_class')).jPlayer({ready:function(){$(this).jPlayer("setMedia",{m4v:$videoContainer.attr('mp4'),webmv:$videoContainer.attr('webm'),poster:$videoContainer.attr('poster')});$(this).bind($.jPlayer.event.play,function(event){var url=$videoContainer.attr('play_url')+($videoContainer.attr('is_original')?'?is_original=1':'');$.ajax(url);});if($videoContainer.hasClass('disabled')){$videoContainer.find('.jp-jplayer > img').prop('src',$videoContainer.attr('poster'));$videoContainer.find('.jp-duration').html($videoContainer.closest('.video_player').find('.video_duration').val());}
if($videoContainer.attr('auto_play')&&!$.isFullMobile){$(this).jPlayer("play");}
if($('#mls_videoconsole').length){$videoContainer.resizeTubeChat();$(window).resize(function(){$videoContainer.resizeTubeChat();});}},play:function(event){resizeVideo();$('.jp-video-play').hide();},resize:function(event){if(event.jPlayer.options.fullScreen){$('body').addClass("hide-scroll-bar");}else{$('body').removeClass("hide-scroll-bar");}},pause:function(event){$('.jp-video-play').show();},seeked:function(event){if(event.jPlayer.status.paused){$('.jp-video-play').show();}},click:function(event){if(event.jPlayer.status.paused){$(this).jPlayer('play');}else{$(this).jPlayer('pause');}},ended:function(){if($videoContainer.attr('open_chat_on_end')){$.loadPopularChatRoom();}},swfPath:"/swf",rtl:isRtl,supplied:"webmv, m4v",size:{width:parseInt(height)*4/3,height:parseInt(height),cssClass:"jp-video-"+($videoContainer.attr('video_height').length?$videoContainer.attr('video_height'):360)+"p"},smoothPlayBar:true,cssSelectorAncestor:'#view_video-'+$videoContainer.attr('video_class'),keyEnabled:true});$videoContainer.addClass('initialized');}};$('.jp-video').each(function(){if($(this).is(':visible')){$.videoInit($(this));}});$('.cs_tab_item').click(function(){var videoContainer=$('.tab_content').find('.content_item').eq($(this).index()).find('.jp-video');if(videoContainer.length){$.videoInit(videoContainer);}});$(window).resize(function(){setTimeout(function(){resizeVideo();},500);});});function resizeVideo(){var jPlayer=$('.jp-jplayer:visible');var isHD=$(".jp-video").attr('is_hd').length?$(".jp-video").attr('is_hd'):0;var widthProportion=(isHD==1)?16:4;var heightProportion=(isHD==1)?9:3;var w=Math.min(jPlayer.width(),jPlayer.height()*(widthProportion/heightProportion));var h=Math.min(jPlayer.width()*(heightProportion/widthProportion),jPlayer.height());var t=jPlayer.height()<=h?0:(jPlayer.height()-h)/2;jPlayer.find('video').css({width:w,height:h,top:t});var $img=jPlayer.find('img');$img.one('load',function(){var marginLeft=(parseInt($img.parent(0).width())-parseInt($img.width()))/2;if(marginLeft<0){$img.css({marginLeft:marginLeft});}else{$img.css({marginLeft:0})}}).each(function(){if(this.complete){$(this).load();}});}
$.fn.resizeTubeChat=function(){var $parent=$('#mls_videoconsole');var width=$parent.width()-$('.mls_models_hd').outerWidth(true)-$('.vc_banners').outerWidth(true);$parent.find('.video_player').width(width);$(this).jPlayer("option","size",{width:width});};
ï»¿
/* "Kalypto - Replace Radio/Checkbox Inputs" MIT license, LocalPCGuy, http://localpcguy.github.com/Kalypto */
;(function($,undefined){$.kalypto=function(element,options){var plugin=this,$element=$(element),defaults={toggleClass:"toggle",checkedClass:"checked",hideInputs:true,copyInputClasses:true,dataLabel:$element.data("label")||"",checkedEvent:"k_checked",uncheckedEvent:"k_unchecked",elBuiltEvent:"k_elbuilt",customClasses:""},$customEl,buildCustomElement=function(){if($element.next().hasClass(plugin.settings.toggleClass)){return;}
$element.after(function(){var classes=plugin.settings.toggleClass;if(plugin.settings.copyInputClasses){var elClass=$element.attr("class");if(elClass){classes+=" "+elClass;}}
if(plugin.settings.customClasses.length){classes+=" "+plugin.settings.customClasses;}
if($element.is(":checked")){return"<a href='#' class='"+classes+" "+plugin.settings.checkedClass+"'>"+plugin.settings.dataLabel+"</a>";}else{return"<a href='#' class='"+classes+"'>"+plugin.settings.dataLabel+"</a>";}});if(plugin.settings.hideInputs){$element.hide();}
$customEl=$element.next();$element.trigger(plugin.settings.elBuiltEvent);},lastClickedEl,handleChange=function(e){var $elementCollection=$element.attr("type")==="radio"?$('input[name="'+$element.attr("name")+'"]'):$element,doTriggerAndChangeClasses=function(){if($element.attr("type")==="radio"){$elementCollection.each(function(k,el){var $el=$(el);$el.next().removeClass(plugin.settings.checkedClass);if(!$el.is(":checked")&&plugin.lastClickedEl!==$el.next().get(0)){$el.trigger(plugin.settings.uncheckedEvent);}});}
if($element.is(":checked")){$element.trigger(plugin.settings.checkedEvent);}
else{$element.trigger(plugin.settings.uncheckedEvent);}
$element.next().toggleClass(plugin.settings.checkedClass);};if(this.tagName!=="INPUT"){e.preventDefault();plugin.lastClickedEl=this;$element.trigger('click');}else{setTimeout(doTriggerAndChangeClasses,0);}},initEvents=function(){$element.next().bind("click",handleChange);$element.bind("change",handleChange);};plugin.settings={};plugin.init=function(){plugin.settings=$.extend({},defaults,options);buildCustomElement();initEvents();};plugin.init();};$.fn.kalypto=function(options){return this.each(function(){if(undefined===$(this).data('kalypto')){var plugin=new $.kalypto(this,options);$(this).data('kalypto',plugin);}});};})(jQuery);
(function($){$.Smileys={smileyCollection:[{src:'smile.gif',tokens:[':)',':-)'],h:24},{src:'wink.gif',tokens:[';)',';-)'],h:24},{src:'sad.gif',tokens:[':(',':-('],h:24},{src:'shok.gif',tokens:['O_o',':O',':0'],h:20},{src:'wacko.gif',tokens:['%)','%-)'],h:25},{src:'biggrin.gif',tokens:[':D',':-D'],h:25},{src:'acute.gif',tokens:[';D',';-D'],h:24},{src:'dirol.gif',tokens:['8)',':-8'],h:21},{src:'secret.gif',tokens:[':#',':-#'],h:26},{src:'blum3.gif',tokens:[':P',':-P'],h:24},{src:'angel.gif',tokens:['0-)','O-)'],h:23},{src:'blush.gif',tokens:[':[',':-['],h:25},{src:'cry.gif',tokens:[":&#039;(",":&#039;-(",':~('],h:22},{src:'aggressive.gif',tokens:[':@',':-@'],h:27},{src:'fool.gif',tokens:[':|',':-|'],h:23},{src:'beee.gif',tokens:["=P"],h:28},{src:'mosking.gif',tokens:["=)"],h:25},{src:'air_kiss.gif',tokens:['=X'],h:26},{src:'bad.gif',tokens:[':!',':-!',':-~',';-~',':(~'],h:21},{src:'kiss3.gif',tokens:["(}{)"],h:24},{src:'give_rose.gif',tokens:["@}-"],h:26},{src:'give_heart2.gif',tokens:["3&gt;-"],h:25},{src:'boredom.gif',tokens:[':tired'],h:22},{src:'good.gif',tokens:[':good'],h:23},{src:'drinks.gif',tokens:[':drink'],h:28},{src:'man_in_love.gif',tokens:[':love'],h:26},{src:'vampire.gif',tokens:[':vampire'],h:36},{src:'clapping.gif',tokens:[':bravo'],h:27},{src:'rofl.gif',tokens:[':rofl'],h:25},{src:'pardon.gif',tokens:[':pardon'],h:26},{src:'ok.gif',tokens:[':ok'],h:26},{src:'yess.gif',tokens:[':yess'],h:30},{src:'yes3.gif',tokens:[':yes'],h:24},{src:'nea.gif',tokens:[':no'],h:26},{src:'crazy.gif',tokens:[':crazy'],h:27},{src:'unknw.gif',tokens:[':unknw'],h:20},{src:'sorry.gif',tokens:[':sorry'],h:22},{src:'dance4.gif',tokens:[':dance'],h:26},{src:'help.gif',tokens:[':help',':sos'],h:33},{src:'new_russian.gif',tokens:['|m|'],h:26},{src:'hi.gif',tokens:[':hi'],h:28},{src:'preved.gif',tokens:[':hello'],h:27},{src:'bye.gif',tokens:[':bye'],h:24},{src:'bb.gif',tokens:[':bb'],h:25},{src:'mail1.gif',tokens:[':mail'],h:26},{src:'dash1.gif',tokens:[':wall'],h:26},{src:'i-m_so_happy.gif',tokens:[':happy'],h:24},{src:'pleasantry.gif',tokens:[':db'],h:26},{src:'hang2.gif',tokens:[':hang'],h:35},{src:'hunter.gif',tokens:[':hunter'],h:38},{src:'ireful1.gif',tokens:[':ireful'],h:24},{src:'king.gif',tokens:[':king'],h:28},{src:'lazy.gif',tokens:[':lazy'],h:29},{src:'prankster2.gif',tokens:[':hoho'],h:24},{src:'mega_shok.gif',tokens:[':megashok'],h:28},{src:'moil.gif',tokens:[':moil'],h:37},{src:'paint2.gif',tokens:[':paint'],h:28},{src:'party2.gif',tokens:[':party'],h:26},{src:'popcorm1.gif',tokens:[':popcorn'],h:28},{src:'punish.gif',tokens:[':punish'],h:30},{src:'sarcastic.gif',tokens:[':sarcastic'],h:23},{src:'scare.gif',tokens:[':scare'],h:34},{src:'scratch_one-s_head.gif',tokens:[':scratch'],h:24},{src:'search.gif',tokens:[':search'],h:25},{src:'secret.gif',tokens:[':secret'],h:26},{src:'shout.gif',tokens:[':shout'],h:20},{src:'smoke.gif',tokens:[':smoke'],h:30},{src:'spiteful.gif',tokens:[':spiteful'],h:20},{src:'spruce_up.gif',tokens:[':spruce_up'],h:25},{src:'stop.gif',tokens:[':stop'],h:23},{src:'tease.gif',tokens:[':tease'],h:40},{src:'tender.gif',tokens:[':tender'],h:23},{src:'thank_you2.gif',tokens:[':thank'],h:19},{src:'this.gif',tokens:[':this'],h:25},{src:'training1.gif',tokens:[':training'],h:21},{src:'vava.gif',tokens:[':vava'],h:20},{src:'victory.gif',tokens:[':victory'],h:23},{src:'wizard.gif',tokens:[':wizard'],h:31},{src:'ohyeah.gif',tokens:[':ohyeah'],h:27},{src:'beach.gif',tokens:[':beach'],h:33},{src:'big_boss.gif',tokens:[':boss'],h:30},{src:'boast.gif',tokens:[':boast'],h:25},{src:'curtsey.gif',tokens:[':curtsey'],h:24},{src:'flirt.gif',tokens:[':flirt'],h:24},{src:'fool.gif',tokens:[':fool'],h:23},{src:'friends.gif',tokens:[':friends'],h:28},{src:'gamer4.gif',tokens:[':gamer'],h:33},{src:'diablo.gif',tokens:[':diablo'],h:34},{src:'girl_kiss.gif',tokens:[':girl_kiss'],h:23},{src:'girl_cray2.gif',tokens:[':girl_cry'],h:24},{src:'girl_crazy.gif',tokens:[':girl_crazy'],h:25},{src:'girl_hysteric.gif',tokens:[':girl_hysteric'],h:25},{src:'girl_drink1.gif',tokens:[':girl_drink'],h:26},{src:'girl_haha.gif',tokens:[':girl_haha'],h:22},{src:'girl_hospital.gif',tokens:[':girl_doctor'],h:25},{src:'girl_in_love.gif',tokens:[':girl_in_love'],h:27},{src:'girl_pinkglassesf.gif',tokens:[':girl_pinkglasses'],h:37},{src:'girl_sigh.gif',tokens:[':girl_sigh'],h:24}],smileyBigCollection:[{src:'big/f6caa6b0.gif',tokens:[':big01']},{src:'big/ef3b5f83.gif',tokens:[':big02']},{src:'big/eeb3be2a.gif',tokens:[':big03']},{src:'big/e046353b.gif',tokens:[':big04']},{src:'big/e94de355.gif',tokens:[':big05']},{src:'big/de4f412c.gif',tokens:[':big06']},{src:'big/dddceead.gif',tokens:[':big07']},{src:'big/dd20ffb9.gif',tokens:[':big08']},{src:'big/d147daff.gif',tokens:[':big09']},{src:'big/d2d6f6e0.gif',tokens:[':big10']},{src:'big/ca03f624.gif',tokens:[':big11']},{src:'big/c420fb68.gif',tokens:[':big12']},{src:'big/c0e66790.gif',tokens:[':big13']},{src:'big/bd04046c.gif',tokens:[':big14']},{src:'big/bb655dd2.gif',tokens:[':big15']},{src:'big/b4b95c16.gif',tokens:[':big16']},{src:'big/a3b16f17.gif',tokens:[':big17']},{src:'big/76311567.gif',tokens:[':big18']},{src:'big/40814fb3.gif',tokens:[':big19']},{src:'big/25613c93.gif',tokens:[':big20']},{src:'big/7267e299.gif',tokens:[':big21']},{src:'big/2416cf5a.gif',tokens:[':big22']},{src:'big/887ca0f4.gif',tokens:[':big23']},{src:'big/687d4e74.gif',tokens:[':big24']},{src:'big/17eca1b1.gif',tokens:[':big25']},{src:'big/345sxcww.gif',tokens:[':big26']},{src:'big/2yb9a8a2.gif',tokens:[':big27']},{src:'big/620f24ae.gif',tokens:[':big28']},{src:'big/533a1ddb.gif',tokens:[':big29']},{src:'big/197f9ff1.gif',tokens:[':big30']},{src:'big/60e6f22e.gif',tokens:[':big31']},{src:'big/24f8835d.gif',tokens:[':big32']},{src:'big/24dd51b5.gif',tokens:[':big33']},{src:'big/9c78fd70.gif',tokens:[':big34']},{src:'big/8ca92a4a.gif',tokens:[':big35']},{src:'big/8c67eb0e.gif',tokens:[':big36']},{src:'big/7dcdd6a7.gif',tokens:[':big37']},{src:'big/7d3e9002.gif',tokens:[':big38']},{src:'big/5c0f6a8e.gif',tokens:[':big39']},{src:'big/5bab2aed.gif',tokens:[':big40']},{src:'big/4cd8fb92.gif',tokens:[':big41']},{src:'big/3ebe996a.gif',tokens:[':big42']},{src:'big/3e9696aa.gif',tokens:[':big43']},{src:'big/1fab9fc9.gif',tokens:[':big44']},{src:'big/1de1837a.gif',tokens:[':big45']},{src:'big/1de7adee.gif',tokens:[':big46']},{src:'big/1d1bca51.gif',tokens:[':big47']},{src:'big/LNwBPBsrueru6nF.gif',tokens:[':big50']},{src:'big/01lqBI7fr52fE8kgH.gif',tokens:[':big51']},{src:'big/1cUNWJ5lIXFcVE7RtV.gif',tokens:[':big52']},{src:'big/emp56wHqqpWk.gif',tokens:[':big53']},{src:'big/6E98inxuW1ukHqeP.gif',tokens:[':big54']},{src:'big/8XJLedxcf8vMUd.gif',tokens:[':big55']},{src:'big/32PynRTOa1IdTQ.gif',tokens:[':big56']},{src:'big/JpoY1skrdCGdx.gif',tokens:[':big57']},{src:'big/yZeBKfSIkk9NEiPiE.gif',tokens:[':big58']},{src:'big/yyHLoHtdu2f8.gif',tokens:[':bi59']},{src:'big/McSCcezbwaib.gif',tokens:[':big60']},{src:'big/YKHPbvZ3PUw4XpCrHn.gif',tokens:[':big61']},{src:'big/CGK2EnLKH86zC.gif',tokens:[':big62']},{src:'big/cqgrqxBVbf2O.gif',tokens:[':big63']},{src:'big/asvbqpYtNoVXaF8E.gif',tokens:[':big64']},{src:'big/w4elxbCpB60Loort.gif',tokens:[':big65']},{src:'big/EJdxbdDZoywR5oz.gif',tokens:[':big66']},{src:'big/m7h1ZLu4lDvl1.gif',tokens:[':big67']},{src:'big/VJVqzGfYHiSK8wE.gif',tokens:[':big68']},{src:'big/fFOIxfDtz5ZV2.gif',tokens:[':big69']},{src:'big/IBg3SM128S8K0.gif',tokens:[':big70']},{src:'big/QJc2OdQuL0Rw.gif',tokens:[':big71']},{src:'big/Uk5rUoR1i3au0ZgHo.gif',tokens:[':big72']},{src:'big/72gkGNYwQpMP8.gif',tokens:[':big73']},{src:'big/iTGXUqCflDak.gif',tokens:[':big74']},{src:'big/S9DIgkiVhA99Z.gif',tokens:[':big75']},{src:'big/4bj3EU5NaXSZMpzrT.gif',tokens:[':big76']},{src:'big/oHTXAtJFSwKHuIj6.gif',tokens:[':big77']},{src:'big/hdf7kjSWdFJn4kgg.gif',tokens:[':big78']},{src:'big/OsBTiFK92Izi.gif',tokens:[':big79']},{src:'big/kw4EMtqRNvEFSI.gif',tokens:[':big80']},{src:'big/N82FQYVRBtFQ.gif',tokens:[':big81']},{src:'big/20150122_1.gif',tokens:[':big82']},{src:'big/20150122_2.gif',tokens:[':big83']},{src:'big/20150122_3.gif',tokens:[':big84']},{src:'big/20150122_4.gif',tokens:[':big85']},{src:'big/20150122_5.gif',tokens:[':big86']},{src:'big/20150122_6.gif',tokens:[':big87']},{src:'big/20150122_7.gif',tokens:[':big88']},{src:'big/20150122_9.gif',tokens:[':big90']},{src:'big/20150122_10.gif',tokens:[':big91']},{src:'big/20150122_12.gif',tokens:[':big93']},{src:'big/20150122_13.gif',tokens:[':big94']},{src:'big/20150122_14.gif',tokens:[':big95']},{src:'big/20150122_15.gif',tokens:[':big96']},{src:'big/20150122_16.gif',tokens:[':big97']},{src:'big/20150122_18.gif',tokens:[':big99']},{src:'big/20150122_20.gif',tokens:[':big_101']},{src:'big/20150122_21.gif',tokens:[':big_102']},{src:'big/20150122_22.gif',tokens:[':big_103']},{src:'big/20150122_23.gif',tokens:[':big_104']},{src:'big/20150122_24.gif',tokens:[':big_105']},{src:'big/20150122_25.gif',tokens:[':big_106']},{src:'big/20150122_26.gif',tokens:[':big_107']},{src:'big/20150122_27.gif',tokens:[':big_108']},{src:'big/20150122_28.gif',tokens:[':big_109']},{src:'big/20150122_29.gif',tokens:[':big_110']},{src:'big/20150122_30.gif',tokens:[':big_111']},{src:'big/20150122_31.gif',tokens:[':big_112']},{src:'big/20150122_32.gif',tokens:[':big_113']},{src:'big/20150122_33.gif',tokens:[':big_114']},{src:'big/20150122_34.gif',tokens:[':big_115']},{src:'big/20150122_35.gif',tokens:[':big_116']},{src:'big/20150122_36.gif',tokens:[':big_117']},{src:'big/20150122_38.gif',tokens:[':big_119']},{src:'big/20150122_39.gif',tokens:[':big_120']},{src:'big/20150122_40.gif',tokens:[':big_121']},{src:'big/20150122_41.gif',tokens:[':big_122']},{src:'big/20150122_42.gif',tokens:[':big_123']},{src:'big/20150122_43.gif',tokens:[':big_124']},{src:'big/20150122_44.gif',tokens:[':big_125']},{src:'big/20150122_45.gif',tokens:[':big_126']},{src:'big/20150122_46.gif',tokens:[':big_127']},{src:'big/20150122_47.gif',tokens:[':big_128']},{src:'big/20150122_48.gif',tokens:[':big_129']},{src:'big/20150122_49.gif',tokens:[':big_130']},{src:'big/20150122_50.gif',tokens:[':big_131']},{src:'big/20150122_51.gif',tokens:[':big_132']},{src:'big/20150122_52.gif',tokens:[':big_133']},{src:'big/20150122_53.gif',tokens:[':big_134']},{src:'big/20150122_54.gif',tokens:[':big_135']},{src:'big/20150122_55.gif',tokens:[':big_136']},{src:'big/20150122_56.gif',tokens:[':big_137']},{src:'big/20150122_57.gif',tokens:[':big_138']},{src:'big/20150122_58.gif',tokens:[':big_139']},{src:'big/20150122_59.gif',tokens:[':big_140']},{src:'big/20150122_60.gif',tokens:[':big_141']},{src:'big/20150122_61.gif',tokens:[':big_142']},{src:'big/20150122_62.gif',tokens:[':big_143']},{src:'big/20150122_63.gif',tokens:[':big_144']},{src:'big/20150122_64.gif',tokens:[':big_145']},{src:'big/20150122_65.gif',tokens:[':big_146']},{src:'big/20150122_66.gif',tokens:[':big_147']},{src:'big/20150122_68.gif',tokens:[':big_149']},{src:'big/20150122_69.gif',tokens:[':big_150']},{src:'big/20150122_70.gif',tokens:[':big_151']},{src:'big/20150122_71.gif',tokens:[':big_152']},{src:'big/20150122_72.gif',tokens:[':big_153']},{src:'big/20150122_73.gif',tokens:[':big_154']},{src:'big/20150122_74.gif',tokens:[':big_155']},{src:'big/20150122_75.gif',tokens:[':big_156']}],smileyTextCollection:[{src:'text/ff1b0901.gif',tokens:[':text01'],w:476},{src:'text/fbaecdbe.gif',tokens:[':text02'],w:396},{src:'text/e895b57c.png',tokens:[':text03']},{src:'text/e3dead2b.gif',tokens:[':text04']},{src:'text/d217f3d1.jpg',tokens:[':text05']},{src:'text/d19c20d5.jpg',tokens:[':text06']},{src:'text/d11b51d6.jpg',tokens:[':text07']},{src:'text/bc6831ac.gif',tokens:[':text08']},{src:'text/b959bf11.gif',tokens:[':text09']},{src:'text/b6b83221.png',tokens:[':text10']},{src:'text/a98fd272.gif',tokens:[':text11'],w:694},{src:'text/31240cd6.gif',tokens:[':text12'],w:728},{src:'text/6436ca7f.gif',tokens:[':text13'],w:388},{src:'text/3844d773.gif',tokens:[':text14']},{src:'text/2640dd4d.jpg',tokens:[':text15'],w:728},{src:'text/582d5f97.gif',tokens:[':text16']},{src:'text/419fec20.gif',tokens:[':text17']},{src:'text/0106d031.gif',tokens:[':text18'],w:420},{src:'text/67d119a1.png',tokens:[':text19'],w:400},{src:'text/49bc795f.png',tokens:[':text20']},{src:'text/042de6cd.gif',tokens:[':text21']},{src:'text/27a11486.gif',tokens:[':text22']},{src:'text/11df7ac4.gif',tokens:[':text23']},{src:'text/8f2bbd68.gif',tokens:[':text24'],w:728},{src:'text/8ea9a80f.gif',tokens:[':text25']},{src:'text/8bfd58b5.gif',tokens:[':text26'],w:468},{src:'text/7ff39218.gif',tokens:[':text27']},{src:'text/7f2bdb08.gif',tokens:[':text28']},{src:'text/07d8d1dc.gif',tokens:[':text29']},{src:'text/06fcab55.gif',tokens:[':text30'],w:400},{src:'text/6efcf2f4.gif',tokens:[':text31']},{src:'text/6d32215c.gif',tokens:[':text32']},{src:'text/06adc5d5.jpg',tokens:[':text33']},{src:'text/3c1605a9.gif',tokens:[':text34']},{src:'text/2e2d5ffe.jpg',tokens:[':text35'],w:372},{src:'text/0a555655.gif',tokens:[':text36'],w:400},{src:'text/20150122_8.gif',tokens:[':text37']},{src:'text/20150122_17.gif',tokens:[':text39']},{src:'text/20150122_11.gif',tokens:[':text38']},{src:'text/20150122_19.gif',tokens:[':text40']},{src:'text/20150122_37.gif',tokens:[':text41']}],smileyPatterns:[],smileyBigPatterns:[],smileyTextPatterns:[],baseUrl:''}
$.extend($.Smileys,{init:function(){for(var i=0;i<this.smileyCollection.length;i++){for(var j=0;j<this.smileyCollection[i].tokens.length;j++){this.smileyPatterns.push([new RegExp(this.smileyCollection[i].tokens[j].replace(/([\(\)\[\]\{\}\.\?\^\$\|\-])/g,"\\$1"),"g"),'<img class="smiley" src="'+this.baseUrl+'/images/chat/smiles/'+this.smileyCollection[i].src+'" '+(this.smileyCollection[i].h?'height="'+this.smileyCollection[i].h+'"':'')+' />']);}}
for(i=0;i<this.smileyBigCollection.length;i++){for(var j=0;j<this.smileyBigCollection[i].tokens.length;j++){this.smileyBigPatterns.push([new RegExp(this.smileyBigCollection[i].tokens[j].replace(/([\(\)\[\]\{\}\.\?\^\$\|\-])/g,"\\$1"),"g"),'<img class="smiley smiley_big" src="'+this.baseUrl+'/images/chat/smiles/'+this.smileyBigCollection[i].src+'" />']);}}
for(i=0;i<this.smileyTextCollection.length;i++){for(var j=0;j<this.smileyTextCollection[i].tokens.length;j++){this.smileyTextPatterns.push([new RegExp(this.smileyTextCollection[i].tokens[j].replace(/([\(\)\[\]\{\}\.\?\^\$\|\-])/g,"\\$1"),"g"),'<img class="smiley smiley_text" src="'+this.baseUrl+'/images/chat/smiles/'+this.smileyTextCollection[i].src+'" '+(this.smileyTextCollection[i].w?'w="'+this.smileyTextCollection[i].w+'"':'')+' />']);}}},replace:function(message,replacePremium){for(var i=0;i<this.smileyPatterns.length;i++){message=message.replace(this.smileyPatterns[i][0],this.smileyPatterns[i][1]);}
if(true==replacePremium){for(var i=0;i<this.smileyBigPatterns.length;i++){message=message.replace(this.smileyBigPatterns[i][0],this.smileyBigPatterns[i][1]);}
for(var i=0;i<this.smileyTextPatterns.length;i++){message=message.replace(this.smileyTextPatterns[i][0],this.smileyTextPatterns[i][1]);}}
return message;}});$.fn.initSmilePanel=function(options){return this.each(function(){var $div=$('<div />').addClass('smilePanel');var $button=$(this).find('.smileButton');var $target=$(this).find('.sendInput');var chatWidth=$('#bChat').width();if(options.styleClass){$div.addClass(options.styleClass);}
var smileys=$.Smileys;var loadSmiles=function(){var smileyTabs='';var smileyFrame;var smileyBigFrame='';var smileyTextFrame='';var smileyVipMessage='';chatWidth=$('#bChat').width();if(true==options.premium){smileyTabs='<div class="smilePanelTabs"><a class="smilePanelTab smilePanelTabActive dashed" href="javascript:void(0)">'+__('Little smiles')+'</a> | <a class="smilePanelTab dashed" href="javascript:void(0)">'+__('Big smiles')+'</a> | <a class="smilePanelTab dashed" href="javascript:void(0)">'+__('Text smiles')+'</a></div>';}
if(!options.canUsePremium){smileyVipMessage='<div class="smilePanelVipMessage">'+__('%b1%Large smiles are only %s1%available for vip users.%s2%%b2%Get access to cool emoticons and smiles, %a1%become a VIP user!%a2%',{b1:'<strong>',b2:'</strong>',s1:'<span>',s2:'</span>',a1:'<a href="#" onclick="return chat.buyVipPopup(\'vipSmileBoldTextPopupId\')">',a2:'</a>'})+'</div>';}
smileyFrame=getSmileFrameLittle();if(true==options.premium){smileyBigFrame='<div class="smilePanelFrame smilePanelFrameBig">'+smileyVipMessage;for(var i=0;i<smileys.smileyBigCollection.length;i++){smileyBigFrame+='<img token="'+smileys.smileyBigCollection[i].tokens[0]+'" src="'+smileys.baseUrl+'/images/chat/smiles/'+smileys.smileyBigCollection[i].src+'" />';}
smileyBigFrame+='</div>';smileyTextFrame='<div class="smilePanelFrame smilePanelFrameText">'+smileyVipMessage;for(var i=0;i<smileys.smileyTextCollection.length;i++){smileyTextFrame+='<img token="'+smileys.smileyTextCollection[i].tokens[0]+'" src="'+smileys.baseUrl+'/images/chat/smiles/'+smileys.smileyTextCollection[i].src+'"';if(smileys.smileyTextCollection[i].width){smileyTextFrame+=' width="100%"';}
smileyTextFrame+='/>'}
smileyTextFrame+='</div>';}
$div.append(smileyTabs).append(smileyFrame).append(smileyBigFrame).append(smileyTextFrame).find('img').click(function(){if(true==options.premium){if($(this).parents('.smilePanelFrameBig').length||$(this).parents('.smilePanelFrameText').length){if(undefined!=window.chat&&chat.userData&&chat.userData.username){if(chat.userData.role&&chat.userData.role=='member'){if(!chat.userData.isPayable){chat.buyTokensPopup();chat.addServiceMessage(__('To become a premium (GOLD) member for life and unlock this feature, all you have to do is buy any amount of tokens one time!'),'alert');return false;}else
if(false==(chat.userData.accessLevel=='gold'||chat.userData.accessLevel=='platinum'||chat.userData.accessLevel=='unlimited')){$.openMemberPopup($('.smile_popup'));return false;}}}}}
var value=$target.val();var token=' '+$(this).attr('token')+' ';$target.focus().val('');$target.focus().val(value+token);});if(true==options.premium){$div.find('.smilePanelTab').bind('click',function(){$(this).addClass('smilePanelTabActive').siblings().removeClass('smilePanelTabActive').parents('.smilePanel').find('.smilePanelFrame').hide().removeClass('smilePanelFrameActive').eq($(this).index()).fadeIn(150,function(){$(this).addClass('smilePanelFrameActive')});});}
$('body').append($div).bind('click',function(e){var $clicked=$(e.target);if(false==($clicked.hasClass("smilePanel")||$clicked.hasClass("smileButton")||$clicked.parents(".smileButton").length||$clicked.hasClass("smilePanelTab"))){$div.hide();}});};var getSmileFrameLittle=function(){var smileyFrame,countColumns=7,frameClass='smilePanelFrame smilePanelFrameLittle',$activeFrame=$('.smilePanelFrameActive');if(chatWidth<356){countColumns=6;}else if(chatWidth<320){countColumns=5;}
if(!$activeFrame.length||($activeFrame.length&&$activeFrame.hasClass('smilePanelFrameLittle'))){frameClass+=' smilePanelFrameActive';}
smileyFrame='<div class="'+frameClass+'"><table><tr>';for(var i=0;i<smileys.smileyCollection.length;i++){if(i>0&&i%countColumns==0){smileyFrame+='</tr><tr>';}
smileyFrame+='<td><img token="'+smileys.smileyCollection[i].tokens[0]+'" src="'+smileys.baseUrl+'/images/chat/smiles/'+smileys.smileyCollection[i].src+'" /></td>';}
return smileyFrame+'</tr></table></div>';};$button.click(function(){if(!$('#bSignup').length&&!$('#member_join_popup_trigger').length){if(!$div.find('.smilePanelFrame').length){loadSmiles();}
var t,l;if(true==options.isMobile){$(".smilePanel, .smilePanelFrame").css('width',$('.chat-panel').width());var h=$('#bChat .historyContainer').height()+10;$(".smilePanel").css('height',h);$(".smilePanelFrame").css('height',h-$(".smilePanelTabs").height()-10);t=$('#bChat .historyContainer').offset().top;l=$('#bChat').offset().left;}else{var buttonOffset=$(this).offset();t=buttonOffset.top-$div.height()+12;l=buttonOffset.left-$div.width()+12;if($div.hasClass('smilePanelFixed')){t-=$(window).scrollTop();l-=$(window).scrollLeft();if(l<=0){l=0;}}
if($(this).hasClass('smileButtonModel')){t-=56;l+=30;}
if($('#chat_bar_v2').length){t-=36;l+=78;}
if(window.isRTL){l+=$(".smilePanel").width();}}
$div.css('top',t+'px');$div.css('left',l+'px');$div.toggle();}else{if($('#member_join_popup').length){$.showSignupPopup(false);}else{$('#bSignup').click();}}});});}
$.fn.renderSmileys=function(replacePremium){return this.each(function(){$(this).html($.Smileys.replace($(this).html().replace(/&amp;/g,"&"),replacePremium));});}
$(document).ready(function(){if($.cdnRootUrl){$.Smileys.baseUrl=$.cdnRootUrl;}
$.Smileys.init();});})(jQuery);
(function($){$.extend(chat,{chatBoxes:{},chatBoxFocus:{},chatBoxNewMessages:{},createChatBox:function(pUserData,needFocus){var chatBoxId=pUserData.username;this.debug('createChatBox:'+chatBoxId);if(this.hasChatBox(chatBoxId)){if(this.isChatBoxClosed(chatBoxId)){$("#chatbox_"+chatBoxId).css('display','block');this.redrawChatBoxes();}
else if(this.isChatBoxMinimized(chatBoxId)){this.minimizeChatBox(chatBoxId);}
$("#chatbox_"+chatBoxId+" .sendInput").focus();return;}
$(" <div />").attr("id","chatbox_"+chatBoxId).addClass("chatbox chatbox_green").html('<div class="head"><div class="title">'+pUserData.displayName+'</div><div class="options"><a href="javascript:void(0)" onclick="return chat.minimizeChatBox(\''+chatBoxId+'\')" class="minimize"></a> <a href="javascript:void(0)" onclick="return chat.closeChatBox(\''+chatBoxId+'\')" class="close"></a></div><br clear="all"/></div><div class="history"></div><div class="inputContainer"><input class="sendInput" type="text" onkeydown="return chat.checkChatBoxInputKey(event,\''+chatBoxId+'\');"/><input value="'+__('Send')+'" type="submit" class="sendButton" onclick="return chat.sendChatBoxMessage(\''+chatBoxId+'\');"/></div>').appendTo($("body"));$("#chatbox_"+chatBoxId).css('bottom','0px');var chatBoxeslength=0;for(var i in this.chatBoxes){if($("#chatbox_"+i).css('display')!='none'){chatBoxeslength++;}}
if(chatBoxeslength==0){$("#chatbox_"+chatBoxId).css('right','20px');}else{var width=(chatBoxeslength)*(225+7)+20;$("#chatbox_"+chatBoxId).css('right',width+'px');}
this.chatBoxes[chatBoxId]=pUserData;this.chatBoxFocus[chatBoxId]=false;var self=this;$("#chatbox_"+chatBoxId+" .sendInput").blur(function(){self.chatBoxFocus[chatBoxId]=false;$("#chatbox_"+chatBoxId+" .sendInput").removeClass('sendInputSelected');}).focus(function(){self.chatBoxFocus[chatBoxId]=true;self.chatBoxNewMessages[chatBoxId]=false;clearInterval($('#chatbox_'+chatBoxId)[0].blinkInt);$('#chatbox_'+chatBoxId)[0].blinkInt=undefined;$('#chatbox_'+chatBoxId+' .head').removeClass('blink');$("#chatbox_"+chatBoxId+" .sendInput").addClass('sendInputSelected');});$("#chatbox_"+chatBoxId).click(function(){if($('#chatbox_'+chatBoxId+' .sendInput').css('display')!='none'){$("#chatbox_"+chatBoxId+" .sendInput").focus();}});$("#chatbox_"+chatBoxId).show();if(needFocus){$("#chatbox_"+chatBoxId+" .sendInput").focus();}},redrawChatBoxes:function(){var align=0;for(var i in this.chatBoxes){if($("#chatbox_"+i).css('display')!='none'){if(align==0){$("#chatbox_"+i).css('right','20px');}else{var width=(align)*(225+7)+20;$("#chatbox_"+i).css('right',width+'px');}
align++;}}},minimizeChatBox:function(chatBoxId){if(this.isChatBoxMinimized(chatBoxId)){$('#chatbox_'+chatBoxId+' .history').css('display','block');$('#chatbox_'+chatBoxId+' .inputContainer').css('display','block');$("#chatbox_"+chatBoxId+" .history").scrollTop($("#chatbox_"+chatBoxId+" .history")[0].scrollHeight);}else{$('#chatbox_'+chatBoxId+' .history').css('display','none');$('#chatbox_'+chatBoxId+' .inputContainer').css('display','none');}
return false;},closeChatBox:function(chatBoxId){$('#chatbox_'+chatBoxId).css('display','none');this.redrawChatBoxes();return false;},hasChatBox:function(chatBoxId){return $("#chatbox_"+chatBoxId).length>0;},isChatBoxClosed:function(chatBoxId){return $('#chatbox_'+chatBoxId).css('display')=='none';},isChatBoxMinimized:function(chatBoxId){return $('#chatbox_'+chatBoxId+' .history').css('display')=='none';},checkChatBoxInputKey:function(event,chatBoxId){if(event.keyCode==13){this.sendChatBoxMessage(chatBoxId);return false;}},sendChatBoxMessage:function(chatBoxId){var $input=$('#chatbox_'+chatBoxId+' .sendInput');var msg=__('We are sorry but guests are not allowed to chat')+'. <a href="javascript:void(0)" onclick="return chat.signupPopup(true)">'+__('Click here to create a 100% FREE account')+'</a> '+__('and begin chatting with your favorite models')+'!';this.addMessage('<p class="alert guest_chat_alert">'+msg+'</p>',$('#chatbox_'+chatBoxId+' .history'));$input.val('');$input.focus();return false;},incomingChatBoxMessage:function(message,from,to){var targetChatBoxId=(from.username==this.userData.username)?to:from.username;this.debug('incomingPrivateMessage from: '+from.username);if(!this.hasChatBox(targetChatBoxId)){this.createChatBox(from,false);}
else if(this.isChatBoxClosed(targetChatBoxId)){$("#chatbox_"+targetChatBoxId).css('display','block');this.redrawChatBoxes();}
else if(this.isChatBoxMinimized(targetChatBoxId)){if($("#chatbox_"+targetChatBoxId)[0].blinkInt==undefined){$("#chatbox_"+targetChatBoxId)[0].blinkInt=setInterval(function(){$("#chatbox_"+targetChatBoxId+" .head").toggleClass('blink');},1000*1);}}
this.addMessage(this.formatMessage(message,from),$("#chatbox_"+targetChatBoxId+" .history"));}});$(document).ready(function(){var firstMessages=[__('Hey hun, how u doing?'),__('Hey! How are you?'),__('Wanna have some fun bb? :)'),__('How are you? :girl_kiss'),__('Hello cutie ;)')];var nextMessages=[__("Where are you? Why u don't answer :("),__('Are you here hun?'),__('Where have you gone?')];var messageInt,userData,lastSpoofTime=null;function showMessage(isFirst){if(window.chat){if((lastSpoofTime&&lastSpoofTime+1000*60*3>new Date().getTime())||chat.performerStatus!='public'||$('#bChat .video_limit_alert').length)return;var performerData=chat.performerData;performerData.isPerformer=true;performerData.role='model';if(true===isFirst){chat.incomingChatBoxMessage(firstMessages[rand(0,firstMessages.length)],performerData,chat.userData);messageInt=setTimeout(function(){showMessage(false)},1000*rand(10,30));lastSpoofTime=new Date().getTime();}else{chat.incomingChatBoxMessage(nextMessages[rand(0,nextMessages.length)],performerData,chat.userData);}}}
if($.ajaxLoadBannersUrl){$("#bChat").bind("onUserData",function(e){messageInt=setTimeout(function(){showMessage(true)},1000*10);});}
$("#bChat").bind("onRoomClose",function(e){this.chatBoxes={};$('.chatbox').remove();clearTimeout(messageInt);});});function rand(min,max){return Math.floor(Math.random()*(max-1)+min);}})(jQuery);
