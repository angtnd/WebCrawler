var globalImgServer="http://style.alibaba.com";location.protocol==="https:"&&(globalImgServer="https://ipaystyle.alibaba.com");define("mobile/ae/common/hawe/1.0.4/hawe.js",[],function(require,exports,module){(function(e,t){function o(e){return e==null?e+"":typeof e=="object"||typeof e=="function"?r[i.call(e)]||"object":typeof e}function u(e){return typeof e=="function"}function a(e){return e!=null&&e==e.window}function f(e){return o(e)==="object"}function l(e){return o(e)!=="object"||e.nodeType||a(e)?!1:e.constructor&&!s.call(e.constructor.prototype,"isPrototypeOf")?!1:!0}function c(e){var t=[];if(e==null)return"";if(typeof e=="string")return e;if(f(e)){for(var n in e){var r=e[n],i=r;f(r)&&(i=JSON.stringify(r)),t.push(n+"="+i)}return t.join("&")}return JSON.stringify(e)}var n=t||(e.Hawe={}),r={},i=r.toString,s=r.hasOwnProperty;n.util={serialize:c,isFunction:u,isObject:f,isPlainObject:l}})(window,window.Hawe),function(win,hawe){function onSuccess(e,t){clearTimeout(e);var n=unregisterCall(e),r=n.success;r&&r.call(window,t),onComplete(e)}function onFailure(e,t){clearTimeout(e);var n=unregisterCall(e),r=n.failure;r&&r.call(window,t),onComplete(e)}function getSid(){return Math.floor(Math.random()*(1<<50))+""+inc++}function schemeUrl(e,t,n){var r="",i={_tag:n};if(/\?/.test(e)){var s=e.split("?"),o=s[1],u=o.split("&");r=s[0];for(var a=0;a<u.length;a++){var f=u[a].split("=");i[f[0]]=f[1]}}else r=e;if(t)for(var l in t)i[l]=t[l];return r+"?"+Hawe.util.serialize(i)}function registerCall(e,t,n){t&&(callbackMap[SUCCESS_PREFIX+e]=t),n&&(callbackMap[FAILURE_PREFIX+e]=n)}function unregisterCall(e){var t=SUCCESS_PREFIX+e,n=FAILURE_PREFIX+e,r={success:callbackMap[t],failure:callbackMap[n]};return delete callbackMap[t],delete callbackMap[n],r}function callMethodByPrompt(e){var t=e,n="hw_aecmd:";window.prompt(t,n)}function callMethodByIframe(e,t){useIframe(t,e)}function parseParam(str){if(str&&typeof str=="string")try{obj=JSON.parse(str)}catch(e){obj=eval("("+str+")")}else obj=str||{};return obj}function onComplete(e){isIOS&&retrieveIframe(e)}function useIframe(e,t){var n=IFRAME_PREFIX+e,r=null;r||(r=doc.createElement("iframe"),r.setAttribute("frameborder","0"),r.style.cssText="width:0;height:0;border:0;display:none;"),r.setAttribute("id",n),r.setAttribute("src",t),r.parentNode||setTimeout(function(){doc.body.appendChild(r)},5)}function retrieveIframe(e){var t=IFRAME_PREFIX+e,n=doc.getElementById(t);iframePool.length>=iframeLimit?doc.body.removeChild(n):iframePool.push(n)}var doc=win.document,ua=win.navigator.userAgent,isIOS=/iPhone|iPad|iPod/i.test(ua),isAndroid=/Android/i.test(ua),Hawe=hawe||(win.Hawe={}),match=ua.match(/AliApp\((.+)?\/[\d\.]+\)/igm),platform="h5";match&&(platform=isIOS?"ios":"android");var inc=1,callbackMap={},iframePool=[],iframeLimit=3,IFRAME_PREFIX="iframe_",SUCCESS_PREFIX="suc_",FAILURE_PREFIX="err_";Hawe.platform=platform,Hawe.call=function(){if(platform=="h5")return;var e,t=arguments.length,n="",r=null,i=0,s=null,o=null,u=null;if(t==2)n=arguments[0],r=arguments[1];else if(t==1){var a=arguments[0];typeof a=="string"?n=a:typeof a=="object"&&(r=a,n=r.url)}r!==null&&(i=r.timeout,u=r.data,s=r.success,o=r.failure),i>0?e=setTimeout(function(){onFailure(e)},i):e=getSid(),registerCall(e,s,o);var f=schemeUrl(n,u,e);isAndroid?callMethodByPrompt(f):isIOS&&callMethodByIframe(f,e+"")},Hawe.nativecb=function(e,t){var n=parseParam(t);n&&n.head&&(n.head.code=="200"&&onSuccess(e,n.body),n.head.code=="500"&&onFailure(e,n.head))},Hawe.nativeTrigger=function(e,t){var n=doc.createEvent("HTMLEvents");n.initEvent(e,!1,!0),n.param=parseParam(t),doc.dispatchEvent(n)}}(window,window.Hawe),function(e,t){var n=t||(e.Hawe={});n.appinfo=function(e){n.call({url:"aecmd://webapp/system/appinfo",success:function(t){e(t)}})}}(window,window.Hawe),function(e,t){var n=t||(e.Hawe={}),r=null;document.addEventListener("EVENT_TAKE_PHOTO",function(t){r||r.call(e,t)},!1),n.camera=function(e){var t=e.preview,i=e.isUpload,s=e.complete,o=e.success,u=e.error,a={};t&&(a.preview=!0),i&&(a.isUpload=!0),r=s,n.call({url:"aecmd://webapp/system/camera",data:a,success:o,failure:u})}}(window,window.Hawe),function(e,t){var n=t||(e.Hawe={});n.battery=function(e){n.call({url:"aecmd://webapp/system/battery",success:e})}}(window,window.Hawe),function(e,t){var n=t||(e.Hawe={});n.dismiss=function(){n.call("aecmd://webapp/window/dismiss")}}(window,window.Hawe),function(e,t){var n=t||(e.Hawe={});n.geolocation=function(e){var t=e.success,r=e.error,i=e.timeout,s=e.enableHighAcuracy,o={};s&&(o.enableHighAcuracy=!0),n.call({url:"aecmd://webapp/system/geolocation",timeout:i,data:o,success:t,failure:r})}}(window,window.Hawe),function(e,t){var n=t||(e.Hawe={}),r=null;document.addEventListener("EVENT_LOGIN",function(e){var t=e.param;t.head&&t.head.code&&t.head.code=="200"&&r(t.body)},!1),n.login=function(e){n.call("aecmd://webapp/system/islogin",{success:function(t){t.isLoggedIn=="true"?e(t):(r=e,n.call("aecmd://webapp/system/login"))}})}}(window,window.Hawe),function(e,t){var n=t||(e.Hawe={});n.net=function(e){n.call({url:"aecmd://webapp/system/network",success:function(t){var n={},r=t.isOnline,i=t.netType;r?n.online=i:n.online=!1,e.call(window,n)},failure:function(){}})}}(window,window.Hawe),function(e,t){var n=t||(e.Hawe={});n.redirect=function(e,t){var r={};if(!e)return;r._usePullRefresh=!0,t&&(t.title&&(r._title=encodeURIComponent(t.title)),t.fullScreen&&(r._fullscreenMode=t.fullScreen),t.landscape&&(r._landscape=t.landscape),t.login&&(r._login=t.login),t.ssoLogin&&(r._ssoLogin=t.ssoLogin),t.scrollHiden&&(r._scrollHiden=t.scrollHiden),t.usePullRefresh&&(r._usePullRefresh=t.usePullRefresh)),r.url=encodeURIComponent(e),n.call({url:"aecmd://webapp/redirect/url",data:r})},document.addEventListener("click",function(e){var t=e.srcElement||e.target,r=t;while(r){if(n.platform!="h5"&&r.nodeName.toLowerCase()==="a"&&r.getAttribute("data-target")==="_blank"){e.preventDefault();var i=r.href;return n.redirect(i,{title:r.title,usePullRefresh:r.getAttribute("data-usepullrefresh"),fullScreen:r.getAttribute("data-fullscreen"),landscape:r.getAttribute("data-landscape"),login:r.getAttribute("data-login"),ssoLogin:r.getAttribute("data-ssologin"),scrollHiden:r.getAttribute("data-scrollhiden")}),!1}r=r.parentNode}},!1)}(window,window.Hawe),function(e,t){var n=t||(e.Hawe={});n.saveimg=function(e){n.call("aecmd://webapp/system/saveimg?imgurl="+encodeURIComponent(e))}}(window,window.Hawe),function(e,t){var n=t||(e.Hawe={});n.send=function(e){var t=e.apiName,r=e.data,i=e.islogin||!1,s=e.success,o=e.error,u="aecmd://webapp/system/send",a={};if(!t)return;i&&(u="aecmd://webapp/system/sendwithlogin"),a.apiName=encodeURIComponent(t),r&&(a.data=encodeURIComponent(n.util.serialize(r))),n.call({url:u,data:a,success:s,failure:o})}}(window,window.Hawe),function(e,t){function o(e,t){t?s=function(t){c("off"),e(t)}:i.push(e)}function u(){}function a(){n.toast("error")}function f(e,t){var i=e||u,s=t||a;n.call({url:"aecmd://webapp/window/shake?on=true",success:i,failure:s}),r=!0}function l(e,t){var i=e||u,s=t||a;n.call({url:"aecmd://webapp/window/shake?on=false",success:i,failure:s}),r=!1}function c(e,t,n){e==="on"?f(t,n):e==="off"&&l(t,n)}var n=t||(e.Hawe={}),r=!1,i=[],s=null;document.addEventListener("EVENT_SHAKE",function(e){r&&(i.forEach(function(t){t(e.param)}),s&&s(e.param))},!1),n.shake=function(e){var t=arguments.length;if(t===0){c("on");return}if(typeof e=="string")c(e);else if(n.util.isFunction(e))o(e,!0),c("on");else if(n.util.isPlainObject(e)){var r=e.switchs,i=e.complete,s=e.success,u=e.error;o(i),c(r,s,u)}}}(window,window.Hawe),function(e,t){var n=t||(e.Hawe={});n.share=function(e){var t=e.title,r=e.content;n.call("aecmd://webapp/share?title="+t+"&content="+r)}}(window,window.Hawe),function(e,t){var n=t||(e.Hawe={});n.stat=function(e){var t=e.type,r=e.id,i=e.page,s=e.arg||"",o="",u="";t=="pageStat"?(o="page",u="pageId"):t=="eventStat"&&(o="event",u="eventId");var a="aecmd://webapp/datatrack/"+o+"?"+u+"="+r+"&page="+i;if(s){var f="";f=n.util.serialize(s),a=a+"&"+f}n.call(a)}}(window,window.Hawe),function(e,t){var n=t||(e.Hawe={});n.toast=function(e){n.call("aecmd://webapp/window/toast?content="+encodeURIComponent(e))}}(window,window.Hawe),module.exports=window.Hawe});