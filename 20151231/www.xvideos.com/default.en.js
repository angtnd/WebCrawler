/* Built on 2015-12-30 23:24:38 */
(function(t,n){typeof exports=="object"&&exports&&typeof exports.nodeName!="string"?n(exports):typeof define=="function"&&define.amd?define("mustache",["exports"],n):(t.Mustache={},n(Mustache))})(this,function(t){function i(e){return typeof e=="function"}function s(e){return r(e)?"array":typeof e}function o(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function u(e,t){return e!=null&&typeof e=="object"&&t in e}function f(e,t){return a.call(e,t)}function c(e){return!f(l,e)}function p(e){return String(e).replace(/[&<>"'\/]/g,function(t){return h[t]})}function b(e,n){function l(){if(a&&!f)while(u.length)delete s[u.pop()];else u=[];a=!1,f=!1}function x(e){typeof e=="string"&&(e=e.split(v,2));if(!r(e)||e.length!==2)throw new Error("Invalid tags: "+e);h=new RegExp(o(e[0])+"\\s*"),p=new RegExp("\\s*"+o(e[1])),b=new RegExp("\\s*"+o("}"+e[1]))}if(!e)return[];var i=[],s=[],u=[],a=!1,f=!1,h,p,b;x(n||t.tags);var T=new S(e),N,C,k,L,A,O;while(!T.eos()){N=T.pos,k=T.scanUntil(h);if(k)for(var M=0,_=k.length;M<_;++M)L=k.charAt(M),c(L)?u.push(s.length):f=!0,s.push(["text",L,N,N+1]),N+=1,L==="\n"&&l();if(!T.scan(h))break;a=!0,C=T.scan(y)||"name",T.scan(d),C==="="?(k=T.scanUntil(m),T.scan(m),T.scanUntil(p)):C==="{"?(k=T.scanUntil(b),T.scan(g),T.scanUntil(p),C="&"):k=T.scanUntil(p);if(!T.scan(p))throw new Error("Unclosed tag at "+T.pos);A=[C,k,N,T.pos],s.push(A);if(C==="#"||C==="^")i.push(A);else if(C==="/"){O=i.pop();if(!O)throw new Error('Unopened section "'+k+'" at '+N);if(O[1]!==k)throw new Error('Unclosed section "'+O[1]+'" at '+N)}else C==="name"||C==="{"||C==="&"?f=!0:C==="="&&x(k)}O=i.pop();if(O)throw new Error('Unclosed section "'+O[1]+'" at '+T.pos);return E(w(s))}function w(e){var t=[],n,r;for(var i=0,s=e.length;i<s;++i)n=e[i],n&&(n[0]==="text"&&r&&r[0]==="text"?(r[1]+=n[1],r[3]=n[3]):(t.push(n),r=n));return t}function E(e){var t=[],n=t,r=[],i,s;for(var o=0,u=e.length;o<u;++o){i=e[o];switch(i[0]){case"#":case"^":n.push(i),r.push(i),n=i[4]=[];break;case"/":s=r.pop(),s[5]=i[2],n=r.length>0?r[r.length-1][4]:t;break;default:n.push(i)}}return t}function S(e){this.string=e,this.tail=e,this.pos=0}function x(e,t){this.view=e,this.cache={".":this.view},this.parent=t}function T(){this.cache={}}var n=Object.prototype.toString,r=Array.isArray||function(t){return n.call(t)==="[object Array]"},a=RegExp.prototype.test,l=/\S/,h={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},d=/\s*/,v=/\s+/,m=/\s*=/,g=/\s*\}/,y=/#|\^|\/|>|\{|&|=|!/;S.prototype.eos=function(){return this.tail===""},S.prototype.scan=function(t){var n=this.tail.match(t);if(!n||n.index!==0)return"";var r=n[0];return this.tail=this.tail.substring(r.length),this.pos+=r.length,r},S.prototype.scanUntil=function(t){var n=this.tail.search(t),r;switch(n){case-1:r=this.tail,this.tail="";break;case 0:r="";break;default:r=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=r.length,r},x.prototype.push=function(t){return new x(t,this)},x.prototype.lookup=function(t){var n=this.cache,r;if(n.hasOwnProperty(t))r=n[t];else{var s=this,o,a,f=!1;while(s){if(t.indexOf(".")>0){r=s.view,o=t.split("."),a=0;while(r!=null&&a<o.length)a===o.length-1&&(f=u(r,o[a])),r=r[o[a++]]}else r=s.view[t],f=u(s.view,t);if(f)break;s=s.parent}n[t]=r}return i(r)&&(r=r.call(this.view)),r},T.prototype.clearCache=function(){this.cache={}},T.prototype.parse=function(t,n){var r=this.cache,i=r[t];return i==null&&(i=r[t]=b(t,n)),i},T.prototype.render=function(t,n,r){var i=this.parse(t),s=n instanceof x?n:new x(n);return this.renderTokens(i,s,r,t)},T.prototype.renderTokens=function(t,n,r,i){var s="",o,u,a;for(var f=0,l=t.length;f<l;++f)a=undefined,o=t[f],u=o[0],u==="#"?a=this.renderSection(o,n,r,i):u==="^"?a=this.renderInverted(o,n,r,i):u===">"?a=this.renderPartial(o,n,r,i):u==="&"?a=this.unescapedValue(o,n):u==="name"?a=this.escapedValue(o,n):u==="text"&&(a=this.rawValue(o)),a!==undefined&&(s+=a);return s},T.prototype.renderSection=function(t,n,s,o){function l(e){return u.render(e,n,s)}var u=this,a="",f=n.lookup(t[1]);if(!f)return;if(r(f))for(var c=0,h=f.length;c<h;++c)a+=this.renderTokens(t[4],n.push(f[c]),s,o);else if(typeof f=="object"||typeof f=="string"||typeof f=="number")a+=this.renderTokens(t[4],n.push(f),s,o);else if(i(f)){if(typeof o!="string")throw new Error("Cannot use higher-order sections without the original template");f=f.call(n.view,o.slice(t[3],t[5]),l),f!=null&&(a+=f)}else a+=this.renderTokens(t[4],n,s,o);return a},T.prototype.renderInverted=function(t,n,i,s){var o=n.lookup(t[1]);if(!o||r(o)&&o.length===0)return this.renderTokens(t[4],n,i,s)},T.prototype.renderPartial=function(t,n,r){if(!r)return;var s=i(r)?r(t[1]):r[t[1]];if(s!=null)return this.renderTokens(this.parse(s),n,r,s)},T.prototype.unescapedValue=function(t,n){var r=n.lookup(t[1]);if(r!=null)return r},T.prototype.escapedValue=function(n,r){var i=r.lookup(n[1]);if(i!=null)return t.escape(i)},T.prototype.rawValue=function(t){return t[1]},t.name="mustache.js",t.version="2.1.3",t.tags=["{{","}}"];var N=new T;t.clearCache=function(){return N.clearCache()},t.parse=function(t,n){return N.parse(t,n)},t.render=function(t,n,r){if(typeof t!="string")throw new TypeError('Invalid template! Template should be a "string" but "'+s(t)+'" was given as the first '+"argument for mustache#render(template, view, partials)");return N.render(t,n,r)},t.to_html=function(n,r,s,o){var u=t.render(n,r,s);if(!i(o))return u;o(u)},t.escape=p,t.Scanner=S,t.Context=x,t.Writer=T}),define("includes/tools",[],function(){var e={};e.encloseTextWithTag=function(e,t){return typeof e!="string"||e.length!==0&&e[0]==="<"?e:"<"+t+">"+e+"</"+t+">"},e.parseUrl=function(e,t,n){var r={body:null,query:null,hash:null},i=e.split("#");if(i.length===2){if(t==="hash")return i[1];r.hash=i[1]}if(t==="hash")return null;e=i[0],i=e.split("?"),i.length===2&&(r.query=i[1]),r.body=i[0];if(typeof n!="undefined"&&n){var s=r.query;r.query={};if(s){var o=s.split("&");for(var u=0;u<o.length;u++){var a=o[u];if(a.length){var f=a.split("=");r.query[f.shift()]=f.join("=")}}}}return typeof t=="undefined"||!t||typeof r[t]=="undefined"?r:r[t]},e.getUrlHash=function(){return window.location.hash.substr(1)},e.setUrlHash=function(e){e.substr(0,1)!=="#"&&(e="#"+e),e!==window.location.hash&&(window.location.hash=e)},e.pad=function(e,t,n,r){if(typeof r=="undefined"||r!=="left")r="right";var i=""+e;while(i.length<t)r==="left"?i=n+i:i+=n;return i},e.ucfirst=function(e){return e[0].toUpperCase()+e.substr(1).toLowerCase()},e.cleanStr=function(t,n){return t=t.replace(new RegExp("[[\\]{}()*+?.,\\^$|#\\s]"),"\\$&"),n?e.translit(t):t},e.translit=function(e){return e.toLowerCase().replace(/[Ã Ã¡Ã¢Ã£Ã¤Ã¥]/g,"a").replace(/Ã¦/g,"ae").replace(/Ã§/g,"c").replace(/[Ã¨Ã©ÃªÃ«]/g,"e").replace(/[Ã¬Ã­Ã®Ã¯]/g,"i").replace(/Ã±/g,"n").replace(/[Ã²Ã³Ã´ÃµÃ¶]/g,"o").replace(/Å/g,"oe").replace(/[Ã¹ÃºÃ»Ã¼]/g,"u").replace(/[Ã½Ã¿]/g,"y")};var t={};return e.preloadPicture=function(e,n){var r=e;n&&(r+=n+".jpg");if(typeof t[r]!="undefined")return;var i=new Image;i.src=r,t[r]=!0},e.scrollTo=function(e,t){typeof t=="undefined"&&(t=0),$("html,body").animate({scrollTop:$(e).offset().top-10})},e}),define("includes/converter",[],function(){var e={},t={in2cm:2.54,lbs2kg:.45359237};return e.convert=function(e,n,r,i){var s=n+"2"+r,o;if(typeof t[s]=="undefined"){s=r+"2"+n;if(typeof t[s]=="undefined")return!1;o=1/t[s]}else o=t[s];var u=e*o;if(typeof i=="undefined"){if(i===0)return Math.round(u);var a=Math.pow(10,i);u=Math.round(u*a)/a}return u},e.trimPx=function(e){return parseInt(e.replace(/[^\d]/g,""))},e}),define("text",["module"],function(e){"use strict";var t,n,r,i,s,o=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],u=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,a=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,f=typeof location!="undefined"&&location.href,l=f&&location.protocol&&location.protocol.replace(/\:/,""),c=f&&location.hostname,h=f&&(location.port||undefined),p={},d=e.config&&e.config()||{};t={version:"2.0.14",strip:function(e){if(e){e=e.replace(u,"");var t=e.match(a);t&&(e=t[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:d.createXhr||function(){var e,t,n;if(typeof XMLHttpRequest!="undefined")return new XMLHttpRequest;if(typeof ActiveXObject!="undefined")for(t=0;t<3;t+=1){n=o[t];try{e=new ActiveXObject(n)}catch(r){}if(e){o=[n];break}}return e},parseName:function(e){var t,n,r,i=!1,s=e.lastIndexOf("."),o=e.indexOf("./")===0||e.indexOf("../")===0;return s!==-1&&(!o||s>1)?(t=e.substring(0,s),n=e.substring(s+1)):t=e,r=n||t,s=r.indexOf("!"),s!==-1&&(i=r.substring(s+1)==="strip",r=r.substring(0,s),n?n=r:t=r),{moduleName:t,ext:n,strip:i}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,n,r,i){var s,o,u,a=t.xdRegExp.exec(e);return a?(s=a[2],o=a[3],o=o.split(":"),u=o[1],o=o[0],(!s||s===n)&&(!o||o.toLowerCase()===r.toLowerCase())&&(!u&&!o||u===i)):!0},finishLoad:function(e,n,r,i){r=n?t.strip(r):r,d.isBuild&&(p[e]=r),i(r)},load:function(e,n,r,i){if(i&&i.isBuild&&!i.inlineText){r();return}d.isBuild=i&&i.isBuild;var s=t.parseName(e),o=s.moduleName+(s.ext?"."+s.ext:""),u=n.toUrl(o),a=d.useXhr||t.useXhr;if(u.indexOf("empty:")===0){r();return}!f||a(u,l,c,h)?t.get(u,function(n){t.finishLoad(e,s.strip,n,r)},function(e){r.error&&r.error(e)}):n([o],function(e){t.finishLoad(s.moduleName+"."+s.ext,s.strip,e,r)})},write:function(e,n,r,i){if(p.hasOwnProperty(n)){var s=t.jsEscape(p[n]);r.asModule(e+"!"+n,"define(function () { return '"+s+"';});\n")}},writeFile:function(e,n,r,i,s){var o=t.parseName(n),u=o.ext?"."+o.ext:"",a=o.moduleName+u,f=r.toUrl(o.moduleName+u)+".js";t.load(a,r,function(n){var r=function(e){return i(f,e)};r.asModule=function(e,t){return i.asModule(e,f,t)},t.write(e,a,r,s)},s)}};if(d.env==="node"||!d.env&&typeof process!="undefined"&&process.versions&&!!process.versions.node&&!process.versions["node-webkit"]&&!process.versions["atom-shell"])n=require.nodeRequire("fs"),t.get=function(e,t,r){try{var i=n.readFileSync(e,"utf8");i[0]==="ï»¿"&&(i=i.substring(1)),t(i)}catch(s){r&&r(s)}};else if(d.env==="xhr"||!d.env&&t.createXhr())t.get=function(e,n,r,i){var s=t.createXhr(),o;s.open("GET",e,!0);if(i)for(o in i)i.hasOwnProperty(o)&&s.setRequestHeader(o.toLowerCase(),i[o]);d.onXhr&&d.onXhr(s,e),s.onreadystatechange=function(t){var i,o;s.readyState===4&&(i=s.status||0,i>399&&i<600?(o=new Error(e+" HTTP status: "+i),o.xhr=s,r&&r(o)):n(s.responseText),d.onXhrComplete&&d.onXhrComplete(s,e))},s.send(null)};else if(d.env==="rhino"||!d.env&&typeof Packages!="undefined"&&typeof java!="undefined")t.get=function(e,t){var n,r,i="utf-8",s=new java.io.File(e),o=java.lang.System.getProperty("line.separator"),u=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(s),i)),a="";try{n=new java.lang.StringBuffer,r=u.readLine(),r&&r.length()&&r.charAt(0)===65279&&(r=r.substring(1)),r!==null&&n.append(r);while((r=u.readLine())!==null)n.append(o),n.append(r);a=String(n.toString())}finally{u.close()}t(a)};else if(d.env==="xpconnect"||!d.env&&typeof Components!="undefined"&&Components.classes&&Components.interfaces)r=Components.classes,i=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),s="@mozilla.org/windows-registry-key;1"in r,t.get=function(e,t){var n,o,u,a={};s&&(e=e.replace(/\//g,"\\")),u=new FileUtils.File(e);try{n=r["@mozilla.org/network/file-input-stream;1"].createInstance(i.nsIFileInputStream),n.init(u,1,0,!1),o=r["@mozilla.org/intl/converter-input-stream;1"].createInstance(i.nsIConverterInputStream),o.init(n,"utf-8",n.available(),i.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),o.readString(n.available(),a),o.close(),n.close(),t(a.value)}catch(f){throw new Error((u&&u.path||"")+": "+f)}};return t}),define("text!skins/default/search/autocomplete.html",[],function(){return'{{#results}}\n<li style="padding-left:{{padding.left}}; padding-right: {{padding.right}}">{{before}}<span>{{.}}</span>{{after}}</li>\n{{/results}}\n'}),define("includes/jquery/cursor",[],function(){$.fn.getCursorPosition=function(){return this.lengh===0?-1:$(this).getSelectionStart()},$.fn.setCursorPosition=function(e){return this.lengh===0?-1:$(this).setSelection(e,e)},$.fn.getSelection=function(){if(this.lengh===0)return-1;var e=$(this).getSelectionStart(),t=$(this).getSelectionEnd();return this[0].value.substring(e,t)},$.fn.getSelectionStart=function(){if(this.lengh===0)return-1;var e=this[0],t=e.value.length;if(e.createTextRange){var n=document.selection.createRange().duplicate();n.moveEnd("character",e.value.length),n.text===""&&(t=e.value.length),t=e.value.lastIndexOf(n.text)}else typeof e.selectionStart!="undefined"&&(t=e.selectionStart);return t},$.fn.getSelectionEnd=function(){if(this.lengh===0)return-1;var e=this[0],t=e.value.length;if(e.createTextRange){var n=document.selection.createRange().duplicate();n.moveStart("character",-e.value.length),n.text===""&&(t=e.value.length),t=e.value.lastIndexOf(n.text)}else typeof e.selectionEnd!="undefined"&&(t=e.selectionEnd);return t},$.fn.setSelection=function(e,t){if(this.lengh===0)return-1;var n=this[0];if(n.createTextRange){var r=n.createTextRange();r.collapse(!0),r.moveEnd("character",t),r.moveStart("character",e),r.select()}else n.setSelectionRange&&(n.focus(),n.setSelectionRange(e,t));return this}}),define("skins/default/search/autocomplete",["mustache","includes/tools","includes/converter","text!./autocomplete.html","includes/jquery/cursor"],function(e,t,n,r){var i=$("#page"),s={},o=function(e,t){this.input=e.prop("autocomplete","off"),this.list_padding={left:e.css("padding-left"),right:e.css("padding-right")},this.autocomplete=$("<ul>").addClass("search-autocomplete").css({minWidth:e.width()+n.trimPx(e.css("padding-right"))+n.trimPx(e.css("padding-left"))+"px"}).appendTo(i.css("position","relative")),this.update_position(),this.source_url=t,this.source=null,this.source_loading=!1,this.results=[],this.has_results=!1,this.res_selected=0,this.cursor_pos=-1;var r=this;this.input.on("keydown",function(e){r.on_tab_input(e)}).on("keyup",function(e){r.on_char_input(e)}).on("blur",function(){setTimeout(function(){r.autocomplete.hide()},300)}).on("focus",function(){r.has_results&&r.autocomplete.show()})};return o.prototype={update_position:function(){var e=i.offset(),t=this.input.offset(),r=this.input.outerHeight(),s=t.top-e.top+r+1,o=t.left-e.left+n.trimPx(this.input.css("border-left-width"));this.autocomplete.css({top:s+"px",left:o+"px"})},use_selected:function(e){var t=typeof e=="undefined"?this.autocomplete.children(".selected"):$(e.target);this.res_selected=t.index();var n=this.results[this.res_selected],r=this.cursor_pos;r>=0&&(r=n.indexOf(" ",r)+1),r===-1&&(r=n.length),this.input.val(n).focus().setCursorPosition(r).keyup()},on_tab_input:function(e){e.which===9&&this.has_results&&(e.preventDefault(),this.use_selected())},on_char_input:function(n){if(!this.source){if(!this.source_loading){this.source_loading=!0;if(typeof s[this.source_url]!="undefined"){this.source=s[this.source_url],this.source_loading=!1,this.input.trigger("keyup");return}var i=this;$.getJSON(this.source_url,function(e){typeof e.tags=="undefined"&&(e.tags=[]),s[this.source_url]=e.tags,i.source=e.tags,i.source_loading=!1,i.input.trigger("keyup")})}return}if(n.which===38||n.which===40){var o=this.autocomplete.children();if(o.length>1){var u=o.filter(".selected"),a;n.which===38?a=u.prev():a=u.next();if(a.length===0)return;u.removeClass("selected"),a.addClass("selected")}return}var f="",l="",c=this.input.val();this.results=[],this.cursor_pos=this.input.getCursorPosition(),this.cursor_pos===-1&&(this.cursor_pos=c.length);if(this.cursor_pos>0&&c[this.cursor_pos-1]!==" "){var h=c.substr(0,this.cursor_pos).lastIndexOf(" ")+1,p=c.indexOf(" ",h);p===-1&&(p=c.length);var d=t.cleanStr(c.substring(h,p),!0),v=d.length,m=10;l=c.substr(p),h>0&&(f=c.substring(0,h));if(v>=1)for(var g=0;g<this.source.length;g++){var y=this.source[g];y.substr(0,v)===d&&(this.results.push(y),m--);if(m===0)return!1}}this.has_results=this.results.length>0,this.autocomplete.toggle(this.has_results);if(this.has_results){var i=this;$(e.render(r,{before:f,after:l,results:this.results,padding:this.list_padding})).on("click",function(e){i.use_selected(e)}).appendTo(this.autocomplete.empty()).first().addClass("selected");for(var g=0;g<this.results.length;g++)this.results[g]=f+this.results[g]+" "+l;this.res_selected=0}}},$("header input.search-input").filter("[name='k']").each(function(){var e=$(this);e.on("keyup keydown focus",function(t){e.off("keyup keydown focus"),new o(e,"/best-tags"),e.trigger(t)})}),o}),define("skins/default/http_status",["./search/autocomplete"],function(){}),define("skins/default/login",[],function(){}),define("text!includes/helpers/messages/template.html",[],function(){return'<div id="x-home-messages"></div>'}),define("text!includes/helpers/messages/message.html",[],function(){return'<div class="x-home-message">{{#closable}}{{> close_btn_tpl}}{{/closable}}</div>'}),define("text!includes/helpers/messages/close_btn.html",[],function(){return'<div class="x-close" title="Click to close this message">&times;</div>'}),define("includes/helpers/messages",["mustache","static/cookies","text!./messages/template.html","text!./messages/message.html","text!./messages/close_btn.html"],function(e,t,n,r,i){var s,o,u,a=function(){s.css("padding-bottom",u+o.outerHeight(!0)+"px")},f=function(){if(o)return;s=$("body"),u=parseInt(s.css("padding-bottom").replace(/[^\d]+/,"")),o=$("#x-home-messages"),o.length>0?(o.children().each(function(){var n=$(this),r=n.data("hash");n.prepend($(e.render(i)).on("click",function(){t.set("hide_msg_"+r,"1",6048e5,"/"),n.trigger("closed"),n.remove(),a()}))}),a()):o=$(n).appendTo(s),$(window).on("resize",a)},l={};return l.send=function(t,n){f(),typeof n=="undefined"&&(n=null);var s=$(e.render(r,{closable:n!==!1},{close_btn_tpl:i}));return n!==!1&&s.find(".x-close").on("click",function(){n&&n(s),s.trigger("closed"),s.remove(),a()}),o.prepend(s.append(t)),a(),s},f(),l}),function(e){function d(){var e=o();e!==u&&(u=e,i.trigger("orientationchange"))}function E(t,n,r,i){var s=r.type;r.type=n,e.event.dispatch.call(t,r,i),r.type=s}e.attrFn=e.attrFn||{};var t=navigator.userAgent.toLowerCase(),n=t.indexOf("chrome")>-1&&(t.indexOf("windows")>-1||t.indexOf("macintosh")>-1||t.indexOf("linux")>-1)&&t.indexOf("mobile")<0&&t.indexOf("android")<0,r={tap_pixel_range:5,swipe_h_threshold:50,swipe_v_threshold:50,taphold_threshold:750,doubletap_int:500,touch_capable:"ontouchstart"in window&&!n,orientation_support:"orientation"in window&&"onorientationchange"in window,startevent:"ontouchstart"in window&&!n?"touchstart":"mousedown",endevent:"ontouchstart"in window&&!n?"touchend":"mouseup",moveevent:"ontouchstart"in window&&!n?"touchmove":"mousemove",tapevent:"ontouchstart"in window&&!n?"tap":"click",scrollevent:"ontouchstart"in window&&!n?"touchmove":"scroll",hold_timer:null,tap_timer:null};e.isTouchCapable=function(){return r.touch_capable},e.getStartEvent=function(){return r.startevent},e.getEndEvent=function(){return r.endevent},e.getMoveEvent=function(){return r.moveevent},e.getTapEvent=function(){return r.tapevent},e.getScrollEvent=function(){return r.scrollevent},e.each(["tapstart","tapend","tapmove","tap","tap2","tap3","tap4","singletap","doubletap","taphold","swipe","swipeup","swiperight","swipedown","swipeleft","swipeend","scrollstart","scrollend","orientationchange"],function(t,n){e.fn[n]=function(e){return e?this.on(n,e):this.trigger(n)},e.attrFn[n]=!0}),e.event.special.tapstart={setup:function(){var t=this,n=e(t);n.on(r.startevent,function i(e){n.data("callee",i);if(e.which&&e.which!==1)return!1;var s=e.originalEvent,o={position:{x:r.touch_capable?s.touches[0].screenX:e.screenX,y:r.touch_capable?s.touches[0].screenY:e.screenY},offset:{x:r.touch_capable?Math.round(s.changedTouches[0].pageX-n.offset().left):Math.round(e.pageX-n.offset().left),y:r.touch_capable?Math.round(s.changedTouches[0].pageY-n.offset().top):Math.round(e.pageY-n.offset().top)},time:Date.now(),target:e.target};return E(t,"tapstart",e,o),!0})},remove:function(){e(this).off(r.startevent,e(this).data.callee)}},e.event.special.tapmove={setup:function(){var t=this,n=e(t);n.on(r.moveevent,function i(e){n.data("callee",i);var s=e.originalEvent,o={position:{x:r.touch_capable?s.touches[0].screenX:e.screenX,y:r.touch_capable?s.touches[0].screenY:e.screenY},offset:{x:r.touch_capable?Math.round(s.changedTouches[0].pageX-n.offset().left):Math.round(e.pageX-n.offset().left),y:r.touch_capable?Math.round(s.changedTouches[0].pageY-n.offset().top):Math.round(e.pageY-n.offset().top)},time:Date.now(),target:e.target};return E(t,"tapmove",e,o),!0})},remove:function(){e(this).off(r.moveevent,e(this).data.callee)}},e.event.special.tapend={setup:function(){var t=this,n=e(t);n.on(r.endevent,function i(e){n.data("callee",i);var s=e.originalEvent,o={position:{x:r.touch_capable?s.changedTouches[0].screenX:e.screenX,y:r.touch_capable?s.changedTouches[0].screenY:e.screenY},offset:{x:r.touch_capable?Math.round(s.changedTouches[0].pageX-n.offset().left):Math.round(e.pageX-n.offset().left),y:r.touch_capable?Math.round(s.changedTouches[0].pageY-n.offset().top):Math.round(e.pageY-n.offset().top)},time:Date.now(),target:e.target};return E(t,"tapend",e,o),!0})},remove:function(){e(this).off(r.endevent,e(this).data.callee)}},e.event.special.taphold={setup:function(){var t=this,n=e(t),i,s={x:0,y:0},o=0,u=0;n.on(r.startevent,function a(e){if(e.which&&e.which!==1)return!1;n.data("tapheld",!1),i=e.target;var f=e.originalEvent,l=Date.now(),c={x:r.touch_capable?f.touches[0].screenX:e.screenX,y:r.touch_capable?f.touches[0].screenY:e.screenY},h={x:r.touch_capable?f.touches[0].pageX-f.touches[0].target.offsetLeft:e.offsetX,y:r.touch_capable?f.touches[0].pageY-f.touches[0].target.offsetTop:e.offsetY};return s.x=e.originalEvent.targetTouches?e.originalEvent.targetTouches[0].pageX:e.pageX,s.y=e.originalEvent.targetTouches?e.originalEvent.targetTouches[0].pageY:e.pageY,o=s.x,u=s.y,r.hold_timer=window.setTimeout(function(){var p=s.x-o,d=s.y-u;if(e.target==i&&(s.x==o&&s.y==u||p>=-r.tap_pixel_range&&p<=r.tap_pixel_range&&d>=-r.tap_pixel_range&&d<=r.tap_pixel_range)){n.data("tapheld",!0);var v=Date.now(),m={x:r.touch_capable?f.touches[0].screenX:e.screenX,y:r.touch_capable?f.touches[0].screenY:e.screenY},g={x:r.touch_capable?Math.round(f.changedTouches[0].pageX-n.offset().left):Math.round(e.pageX-n.offset().left),y:r.touch_capable?Math.round(f.changedTouches[0].pageY-n.offset().top):Math.round(e.pageY-n.offset().top)},y=v-l,b={startTime:l,endTime:v,startPosition:c,startOffset:h,endPosition:m,endOffset:g,duration:y,target:e.target};n.data("callee1",a),E(t,"taphold",e,b)}},r.taphold_threshold),!0}).on(r.endevent,function f(){n.data("callee2",f),n.data("tapheld",!1),window.clearTimeout(r.hold_timer)}).on(r.moveevent,function l(e){n.data("callee3",l),o=e.originalEvent.targetTouches?e.originalEvent.targetTouches[0].pageX:e.pageX,u=e.originalEvent.targetTouches?e.originalEvent.targetTouches[0].pageY:e.pageY})},remove:function(){e(this).off(r.startevent,e(this).data.callee1).off(r.endevent,e(this).data.callee2).off(r.moveevent,e(this).data.callee3)}},e.event.special.doubletap={setup:function(){var t=this,n=e(t),i,s,o=null,u,a,f=!1;n.on(r.startevent,function l(e){return e.which&&e.which!==1?!1:(n.data("doubletapped",!1),i=e.target,n.data("callee1",l),u=e.originalEvent,o||(o={position:{x:r.touch_capable?u.touches[0].screenX:e.screenX,y:r.touch_capable?u.touches[0].screenY:e.screenY},offset:{x:r.touch_capable?Math.round(u.changedTouches[0].pageX-n.offset().left):Math.round(e.pageX-n.offset().left),y:r.touch_capable?Math.round(u.changedTouches[0].pageY-n.offset().top):Math.round(e.pageY-n.offset().top)},time:Date.now(),target:e.target}),!0)}).on(r.endevent,function c(e){var l=Date.now(),h=n.data("lastTouch")||l+1,p=l-h;window.clearTimeout(s),n.data("callee2",c);if(p<r.doubletap_int&&e.target==i&&p>100){n.data("doubletapped",!0),window.clearTimeout(r.tap_timer);var d={position:{x:r.touch_capable?e.originalEvent.changedTouches[0].screenX:e.screenX,y:r.touch_capable?e.originalEvent.changedTouches[0].screenY:e.screenY},offset:{x:r.touch_capable?Math.round(u.changedTouches[0].pageX-n.offset().left):Math.round(e.pageX-n.offset().left),y:r.touch_capable?Math.round(u.changedTouches[0].pageY-n.offset().top):Math.round(e.pageY-n.offset().top)},time:Date.now(),target:e.target},v={firstTap:o,secondTap:d,interval:d.time-o.time};f||(E(t,"doubletap",e,v),o=null),f=!0,a=window.setTimeout(function(){f=!1},r.doubletap_int)}else n.data("lastTouch",l),s=window.setTimeout(function(){o=null,window.clearTimeout(s)},r.doubletap_int,[e]);n.data("lastTouch",l)})},remove:function(){e(this).off(r.startevent,e(this).data.callee1).off(r.endevent,e(this).data.callee2)}},e.event.special.singletap={setup:function(){var t=this,n=e(t),i=null,s=null,o={x:0,y:0};n.on(r.startevent,function u(e){return e.which&&e.which!==1?!1:(s=Date.now(),i=e.target,n.data("callee1",u),o.x=e.originalEvent.targetTouches?e.originalEvent.targetTouches[0].pageX:e.pageX,o.y=e.originalEvent.targetTouches?e.originalEvent.targetTouches[0].pageY:e.pageY,!0)}).on(r.endevent,function a(e){n.data("callee2",a);if(e.target==i){var u=e.originalEvent.changedTouches?e.originalEvent.changedTouches[0].pageX:e.pageX,f=e.originalEvent.changedTouches?e.originalEvent.changedTouches[0].pageY:e.pageY;r.tap_timer=window.setTimeout(function(){if(!n.data("doubletapped")&&!n.data("tapheld")&&o.x==u&&o.y==f){var i=e.originalEvent,a={position:{x:r.touch_capable?i.changedTouches[0].screenX:e.screenX,y:r.touch_capable?i.changedTouches[0].screenY:e.screenY},offset:{x:r.touch_capable?Math.round(i.changedTouches[0].pageX-n.offset().left):Math.round(e.pageX-n.offset().left),y:r.touch_capable?Math.round(i.changedTouches[0].pageY-n.offset().top):Math.round(e.pageY-n.offset().top)},time:Date.now(),target:e.target};a.time-s<r.taphold_threshold&&E(t,"singletap",e,a)}},r.doubletap_int)}})},remove:function(){e(this).off(r.startevent,e(this).data.callee1).off(r.endevent,e(this).data.callee2)}},e.event.special.tap={setup:function(){var t=this,n=e(t),i=!1,s=null,o,u={x:0,y:0},a;n.on(r.startevent,function f(e){return n.data("callee1",f),e.which&&e.which!==1?!1:(i=!0,u.x=e.originalEvent.targetTouches?e.originalEvent.targetTouches[0].pageX:e.pageX,u.y=e.originalEvent.targetTouches?e.originalEvent.targetTouches[0].pageY:e.pageY,o=Date.now(),s=e.target,a=e.originalEvent.targetTouches?e.originalEvent.targetTouches:[e],!0)}).on(r.endevent,function l(e){n.data("callee2",l);var f=e.originalEvent.targetTouches?e.originalEvent.changedTouches[0].pageX:e.pageX,c=e.originalEvent.targetTouches?e.originalEvent.changedTouches[0].pageY:e.pageY,h=u.x-f,p=u.y-c,d;if(s==e.target&&i&&Date.now()-o<r.taphold_threshold&&(u.x==f&&u.y==c||h>=-r.tap_pixel_range&&h<=r.tap_pixel_range&&p>=-r.tap_pixel_range&&p<=r.tap_pixel_range)){var v=e.originalEvent,m=[];for(var g=0;g<a.length;g++){var y={position:{x:r.touch_capable?v.changedTouches[g].screenX:e.screenX,y:r.touch_capable?v.changedTouches[g].screenY:e.screenY},offset:{x:r.touch_capable?Math.round(v.changedTouches[g].pageX-n.offset().left):Math.round(e.pageX-n.offset().left),y:r.touch_capable?Math.round(v.changedTouches[g].pageY-n.offset().top):Math.round(e.pageY-n.offset().top)},time:Date.now(),target:e.target};m.push(y)}E(t,"tap",e,m)}})},remove:function(){e(this).off(r.startevent,e(this).data.callee1).off(r.endevent,e(this).data.callee2)}},e.event.special.swipe={setup:function(){function f(t){n=e(t.currentTarget),n.data("callee1",f),o.x=t.originalEvent.targetTouches?t.originalEvent.targetTouches[0].pageX:t.pageX,o.y=t.originalEvent.targetTouches?t.originalEvent.targetTouches[0].pageY:t.pageY,u.x=o.x,u.y=o.y,i=!0;var s=t.originalEvent;a={position:{x:r.touch_capable?s.touches[0].screenX:t.screenX,y:r.touch_capable?s.touches[0].screenY:t.screenY},offset:{x:r.touch_capable?Math.round(s.changedTouches[0].pageX-n.offset().left):Math.round(t.pageX-n.offset().left),y:r.touch_capable?Math.round(s.changedTouches[0].pageY-n.offset().top):Math.round(t.pageY-n.offset().top)},time:Date.now(),target:t.target}}function l(t){n=e(t.currentTarget),n.data("callee2",l),u.x=t.originalEvent.targetTouches?t.originalEvent.targetTouches[0].pageX:t.pageX,u.y=t.originalEvent.targetTouches?t.originalEvent.targetTouches[0].pageY:t.pageY;var f,c=n.parent().data("xthreshold")?n.parent().data("xthreshold"):n.data("xthreshold"),h=n.parent().data("ythreshold")?n.parent().data("ythreshold"):n.data("ythreshold"),p=typeof c!="undefined"&&c!==!1&&parseInt(c)?parseInt(c):r.swipe_h_threshold,d=typeof h!="undefined"&&h!==!1&&parseInt(h)?parseInt(h):r.swipe_v_threshold;o.y>u.y&&o.y-u.y>d&&(f="swipeup"),o.x<u.x&&u.x-o.x>p&&(f="swiperight"),o.y<u.y&&u.y-o.y>d&&(f="swipedown"),o.x>u.x&&o.x-u.x>p&&(f="swipeleft");if(f!=undefined&&i){o.x=0,o.y=0,u.x=0,u.y=0,i=!1;var v=t.originalEvent,m={position:{x:r.touch_capable?v.touches[0].screenX:t.screenX,y:r.touch_capable?v.touches[0].screenY:t.screenY},offset:{x:r.touch_capable?Math.round(v.changedTouches[0].pageX-n.offset().left):Math.round(t.pageX-n.offset().left),y:r.touch_capable?Math.round(v.changedTouches[0].pageY-n.offset().top):Math.round(t.pageY-n.offset().top)},time:Date.now(),target:t.target},g=Math.abs(a.position.x-m.position.x),y=Math.abs(a.position.y-m.position.y),b={startEvnt:a,endEvnt:m,direction:f.replace("swipe",""),xAmount:g,yAmount:y,duration:m.time-a.time};s=!0,n.trigger("swipe",b).trigger(f,b)}}function c(t){n=e(t.currentTarget);var o="";n.data("callee3",c);if(s){var u=n.data("xthreshold"),f=n.data("ythreshold"),l=typeof u!="undefined"&&u!==!1&&parseInt(u)?parseInt(u):r.swipe_h_threshold,h=typeof f!="undefined"&&f!==!1&&parseInt(f)?parseInt(f):r.swipe_v_threshold,p=t.originalEvent,d={position:{x:r.touch_capable?p.changedTouches[0].screenX:t.screenX,y:r.touch_capable?p.changedTouches[0].screenY:t.screenY},offset:{x:r.touch_capable?Math.round(p.changedTouches[0].pageX-n.offset().left):Math.round(t.pageX-n.offset().left),y:r.touch_capable?Math.round(p.changedTouches[0].pageY-n.offset().top):Math.round(t.pageY-n.offset().top)},time:Date.now(),target:t.target};a.position.y>d.position.y&&a.position.y-d.position.y>h&&(o="swipeup"),a.position.x<d.position.x&&d.position.x-a.position.x>l&&(o="swiperight"),a.position.y<d.position.y&&d.position.y-a.position.y>h&&(o="swipedown"),a.position.x>d.position.x&&a.position.x-d.position.x>l&&(o="swipeleft");var v=Math.abs(a.position.x-d.position.x),m=Math.abs(a.position.y-d.position.y),g={startEvnt:a,endEvnt:d,direction:o.replace("swipe",""),xAmount:v,yAmount:m,duration:d.time-a.time};n.trigger("swipeend",g)}i=!1,s=!1}var t=this,n=e(t),i=!1,s=!1,o={x:0,y:0},u={x:0,y:0},a;n.on(r.startevent,f),n.on(r.moveevent,l),n.on(r.endevent,c)},remove:function(){e(this).off(r.startevent,e(this).data.callee1).off(r.moveevent,e(this).data.callee2).off(r.endevent,e(this).data.callee3)}},e.event.special.scrollstart={setup:function(){function o(e,n){i=n,E(t,i?"scrollstart":"scrollend",e)}var t=this,n=e(t),i,s;n.on(r.scrollevent,function u(e){n.data("callee",u),i||o(e,!0),clearTimeout(s),s=setTimeout(function(){o(e,!1)},50)})},remove:function(){e(this).off(r.scrollevent,e(this).data.callee)}};var i=e(window),s,o,u,a,f,l={0:!0,180:!0};if(r.orientation_support){var c=window.innerWidth||i.width(),h=window.innerHeight||i.height(),p=50;a=c>h&&c-h>p,f=l[window.orientation];if(a&&f||!a&&!f)l={"-90":!0,90:!0}}e.event.special.orientationchange=s={setup:function(){return r.orientation_support?!1:(u=o(),i.on("throttledresize",d),!0)},teardown:function(){return r.orientation_support?!1:(i.off("throttledresize",d),!0)},add:function(e){var t=e.handler;e.handler=function(e){return e.orientation=o(),t.apply(this,arguments)}}},e.event.special.orientationchange.orientation=o=function(){var e=!0,t=document.documentElement;return r.orientation_support?e=l[window.orientation]:e=t&&t.clientWidth/t.clientHeight<1.1,e?"portrait":"landscape"},e.event.special.throttledresize={setup:function(){e(this).on("resize",m)},teardown:function(){e(this).off("resize",m)}};var v=250,m=function(){b=Date.now(),w=b-g,w>=v?(g=b,e(this).trigger("throttledresize")):(y&&window.clearTimeout(y),y=window.setTimeout(d,v-w))},g=0,y,b,w;e.each({scrollend:"scrollstart",swipeup:"swipe",swiperight:"swipe",swipedown:"swipe",swipeleft:"swipe",swipeend:"swipe",tap2:"tap"},function(t,n){e.event.special[t]={setup:function(){e(this).on(n,e.noop)}}})}(jQuery),define("jquery-mobile-events",function(){}),define("skins/default/thumbs/rotator",["includes/tools","jquery-mobile-events"],function(e){var t=$(),n=[2,5,8,11,14,17,20,23,26,29],r=0,i=0,s="",o,u,a,f,l,c=function(e){for(var t=0;t<n.length;t++)if(n[t]>e)return n[t];return n[0]},h=function(e){return e++,e>a.length&&(e=-1),e},p=function(){if(!o)return;if(u)o.attr("src",s+i+".jpg"),i=c(i),e.preloadPicture(s,i);else{i=h(i),o.attr("src",i===-1?s:a[i].img);var t=h(i);e.preloadPicture(t===-1?s:a[t].img)}f=setTimeout(p,1e3)},d=function(t){l=t.type,t.preventDefault();if(o&&o.prop("id")===$(this).prop("id"))return!1;v(!0),o=$(this),a=o.data("videos"),u=typeof a!="object";if(u){var n=o.attr("src");n=n.substring(0,n.lastIndexOf("."));var h=n.lastIndexOf(".");r=parseInt(n.substring(h+1)),s=n.substring(0,h+1),i=c(r),e.preloadPicture(s,i)}else{s=o.attr("src");if(!a||a.length===0)return;i=-1,e.preloadPicture(a[0].img)}return f=setTimeout(p,30),!1},v=function(e){if(e!==!0){e.preventDefault();if(l==="swipe")return}f&&(clearTimeout(f),f=null);if(!o)return;return o.attr("src",u?s+r+".jpg":s),o=null,!1},m=function(){t.off("swipe mouseover mouseout click"),v(!0)},g=function(e){t.add($(".thumb-block .thumb img",e).on("swipe mouseover",d).on("mouseout",v).on("click",m))};return g(),g}),define("skins/default/main",["config/main","static/cookies","includes/helpers/messages","./thumbs/rotator","./search/autocomplete"],function(e,t,n){if(e.data.home_message){var r=t.get("hide_home_message");if(!r||r!==e.data.home_message.hash)on_close=function(){t.set("hide_home_message",e.data.home_message.hash,2592e5,"/")},n.send(e.data.home_message.content,on_close)}}),define("skins/default/mozaique",["./thumbs/rotator","./search/autocomplete"],function(){}),define("skins/default/profiles",["./search/autocomplete"],function(){}),define("skins/default/search",["./thumbs/rotator","./search/autocomplete"],function(){var e=$("#search-page-filters-block");e.children(".btn").on("click",function(){e.toggleClass("expanded")});var t=$("#search-associates");t.find(".show-more a").on("click",function(){t.toggleClass("mobile-expanded")})}),define("skins/default/tag",["./search"],function(){}),define("skins/default/tags",["./search/autocomplete"],function(){}),function(e){typeof define=="function"&&define.amd?define("includes/pathchange",["jquery"],e):e(jQuery)}(function(e){e.fn.pathchange=function(e){return e?this.bind("pathchange",e):this.trigger("pathchange")};var t=e.pathchange={options:{useHistory:!0,useHashchange:!0,pollingInterval:250,interceptLinks:!0,disableHashLinks:!0},init:function(n){var r;e.extend(t.options,n),t.options.useHistory&&t.detectHistorySupport()&&e(window).bind("popstate",function(t){e(window).trigger("pathchange")}),t.options.useHashchange&&(e(window).bind("hashchange",function(t){e(window).trigger("pathchange")}),t.detectHashchangeSupport()||(r=window.location.hash,setInterval(function(){r!==window.location.hash&&(e(window).trigger("hashchange"),r=window.location.hash)},t.options.pollingInterval))),t.options.interceptLinks&&e("body").delegate("a[href^=/]","click",function(n){t.changeTo(e(this).attr("href")),n.preventDefault()}),t.options.disableHashLinks&&e("body").delegate("a[href=#]","click",function(e){e.preventDefault()})},changeTo:function(n){t.options.useHistory&&t.detectHistorySupport()?(window.history.pushState(null,null,n),e(window).trigger("pathchange")):(n.indexOf("#")<0&&(n+="#"),window.location.href=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")+n)},detectHistorySupport:function(){return!!window.history&&!!history.pushState},detectHashchangeSupport:function(){var e="onhashchange"in window;return!e&&window.setAttribute&&(window.setAttribute("onhashchange","return;"),e=typeof window.onhashchange=="function"),e}};return t}),define("includes/history",["./tools","./pathchange"],function(e){var t="##NOHASH##",n={},r="",i={};return i.getNoHashValue=function(){return t},i.registerHash=function(e,r){return typeof r!="function"?!1:(e||(e=t),n[e]=r,!0)},i.setUrlHash=function(t){if(r===t)return;r=t,e.setUrlHash(t)},$.pathchange&&($.pathchange.init({interceptLinks:!1}),$(window).on("pathchange",function(){var i=e.getUrlHash();i||(i=t),i!==r&&n[i]&&n[i](i),r=i})),i}),define("includes/tab",["includes/tools","./history"],function(e,t){var n=function(n,r,i){this.node=$(n),this.closable=!!i;var s=this.node.find(".tab-buttons a"),o=this.node.find(".tabs .tab"),u=this,a;if(o.length===0||s.length<o.length){console.error("Invalid tabs number");return}r=r||{},this.active=!1,this.tabs={},o.each(function(e){var n=$(this),i=n.prop("id"),o={};a||(a=i),o.id=i,o.tab=n,o.btn=s.eq(e),o.active=!1;if(!u.active){var f=o.btn.hasClass("active");f?(o.active=!0,u.active=i,n.show()):n.hide()}else n.hide(),o.btn.removeClass("active");o.action=!1,typeof r[i]=="function"&&(o.action=r[i]),t.registerHash("_"+i,function(e){u._onhashchange(e)}),o.btn.on("click",function(e){return e.preventDefault(),u.closable&&u.active===i?u.close():u.open(i),!1}),u.tabs[i]=o});var f=e.getUrlHash();if(f){f=f.substr(1);var l=f.indexOf(",");l!==-1&&(f=f.substring(0,l)),typeof this.tabs[f]!="undefined"&&(this.active=f)}!i&&!this.active&&(this.active=a),i&&t.registerHash(!1,function(e){u._onhashchange(e)}),this.active&&this.open(this.active,!0)};return n.prototype={open:function(e,n){if(!n&&this.active===e||typeof this.tabs[e]=="undefined")return;(!n||this.active!==e)&&this._close();var r=this.tabs[e];r.active=!0,r.tab.show(),r.btn.addClass("active"),r.action&&r.action(),t.setUrlHash("_"+e),this.active=e},close:function(){if(!this.closable)return;this._close()},_close:function(){if(!this.active)return;var e=this.tabs[this.active];e.active=!1,e.tab.hide(),e.btn.removeClass("active"),this.active=!1},_onhashchange:function(e){if(e!==t.getNoHashValue()){var n;if(e.indexOf(",")!==-1){var r=e.split(",");e=r[0],n=r[1]}this.open(e.substr(1)),n&&$("#"+n).click()}else this.close()}},n}),define("text!includes/helpers/pager/template.html",[],function(){return'<div class="pagination">\n<ul>\n{{# has_first }}<li><a href="{{ first.url }}" class="no-page">First</a></li>{{/ has_first }}\n{{# has_prev }}<li><a href="{{ prev.url }}" class="no-page">Previous</a></li>{{/ has_prev }}\n{{# pages }}<li>\n{{# current }}<a class="active" href="">{{ display }}</a>{{/ current }}\n{{^ current }}\n{{# no_page }}<a class="no-page" href="">{{ display }}</a>{{/ no_page }}\n{{^ no_page }}<a href="{{ url }}">{{ display }}</a>{{/ no_page }}\n{{/ current }}\n</li>{{/ pages }}\n{{# has_next }}<li><a href="{{ next.url }}" class="no-page">Next</a></li>{{/ has_next }}\n{{# has_last }}<li><a href="{{ first.url }}" class="no-page">Last</a></li>{{/ has_last }}\n</ul>\n</div>'}),define("includes/helpers/pager",["mustache","text!./pager/template.html"],function(e,t){var n={};return n.get=function(n){return n.has_first=n.first!==!1,n.has_prev=n.prev!==!1,n.has_next=n.next!==!1,n.has_last=n.last!==!1,$(e.render(t,n))},n}),define("text!includes/helpers/overlay/template.html",[],function(){return'<div class="x-overlay">\n	<div class="x-body">\n		<div class="x-close{{^closable}} hidden{{/closable}}" title="Click to close this message">&times;</div>\n		<div class="x-content"></div>\n	</div>\n</div>'}),define("includes/helpers/overlay",["mustache","text!./overlay/template.html"],function(e,t){var n=function(n,r){this.open=!1,this.closable=!!r,this.parent=$(n).css("position","relative"),this.node=$(e.render(t,{closable:r})),this.body=this.node.children(".x-body");var i=this;this.close_node=this.body.children(".x-close").on("click",function(){i.close()}),this.container=this.body.children(".x-content")};return n.get=function(e,t){return new n(e,t)},n.prototype={getNode:function(){return this.node},setClosable:function(e){return this.closable=!!e,this.closable?this.close_node.removeClass("hidden"):this.close_node.addClass("hidden"),this},setText:function(e){return this.container.text(e),this},setContent:function(e){return this.container.html(e),this},append:function(e){return this.container.append(e),this},prepend:function(e){return this.container.prepend(e),this},show:function(){if(this.open)return;return this.node.appendTo(this.parent),this.open=!0,this},hide:function(){if(!this.open)return;return this.node.detach(),this.open=!1,this},close:function(){if(!this.open)return;this.node.remove(),this.open=!1},autoclose:function(e){if(!this.open)return;var t=this;window.setTimeout(function(){t.close()},e)}},n}),define("includes/helpers/overlay/box",["includes/tools","../overlay"],function(e,t){var n=function(e,n){t.apply(this,arguments),this.ori_padding=!1,this.node.addClass("x-overlay-box")};return n.prototype=new t,n.get=function(e,t){return new n(e,t)},n.prototype.show=function(t){if(this.open)return;this.node.appendTo(this.parent);var n=this.node.height(),r=this.body.outerHeight()+parseInt(this.body.css("margin-top"));n<r+10&&(this.ori_padding=this.parent.css("padding-bottom"),this.parent.css("padding-bottom",r+10-n+"px")),typeof t!="undefined"?t=$(t):t=!1;if(t&&t.length>0){var i=t.position().top,s=Math.max(10,Math.min(i,n-r-10));this.body.css("margin-top",s+"px")}else this.body.css("margin-top",Math.max(10,Math.round(Math.min(150,(n-r)/2)))+"px"),this.closable&&e.scrollTo(this.node,10);return this.open=!0,this},n.prototype.hide=function(){return this.ori_padding!==!1&&this.parent.css("padding-bottom",this.ori_padding),t.prototype.hide.apply(this)},n.prototype.close=function(){return this.ori_padding!==!1&&this.parent.css("padding-bottom",this.ori_padding),t.prototype.close.apply(this)},n}),define("text!includes/helpers/loader/before.html",[],function(){return'<span class="x-loader-inline before{{#is_button}} btn btn-default{{/is_button}}"{{#id}} id="{{id}}"{{/id}}>{{{ loader }}}{{#text}}{{ text }} {{/text}}</span>'}),define("text!includes/helpers/loader/after.html",[],function(){return'<span class="x-loader-inline after{{#is_button}} btn btn-default{{/is_button}}"{{#id}} id="{{id}}"{{/id}}>{{#text}}{{ text }} {{/text}}{{{ loader }}}</span>'}),define("includes/helpers/inline_loader",["includes/tools","mustache","text!./loader/before.html","text!./loader/after.html"],function(e,t,n,r){var i="",s=-1,o=function(e){return e==="before"||e==="button_before"?n:r},u=function(e){return typeof e!="undefined"?e:(s++,"_x_loader_"+s)},a=function(e,n,r){this.html=t.render(o(e),{id:u(r),text:n,is_button:e.indexOf("button_")===0,loader:a.getImg()}),this.node=!1};return a.setup=function(t){e.preloadPicture(t),i='<img class="x-loader-inline-img" src="'+t+'" />'},a.get=function(e,t,n){return new a(e,t,n)},a.getImg=function(){return i.length===0&&console.error("Loader image not setup"),i},a.prototype={getHtml:function(){return this.html},getNode:function(){return this.node||(this.node=$(this.html)),this.node},appendTo:function(e){return this.getNode().appendTo(e),this},prependTo:function(e){return this.getNode().prependTo(e),this},insertAfter:function(e){return this.getNode().insertAfter(e),this},insertBefore:function(e){return this.getNode().insertBefore(e),this},detach:function(){return this.getNode().detach(),this},remove:function(){this.node&&this.node.remove()}},a}),define("text!skins/default/video/comments/page.html",[],function(){return"<div>{{#comments}}{{> tpl}}{{/comments}}</div>\n"}),define("text!skins/default/video/comments/comment.html",[],function(){return'<div class="comment">\n	<div class="profile-pic">\n		<a href="{{{ pu }}}"><img src="{{{ iu }}}" onerror="this.src=\'{{{ static_domain }}}/img/profile_default_small.jpg\'" /></a>\n		{{# is_form }}<button type="button" class="btn btn-default">Comment</button>{{/ is_form }}\n	</div>\n	<div class="bg-title grey no-border"><a href="{{{ pu }}}">{{ n }}</a>{{# d }} - <span class="date">{{ d }}</span>{{/ d }}</div>\n	<div class="comment-text">{{# is_form }}<textarea name="comment" rows="4" class="form-control" required></textarea>{{/ is_form }}{{^ is_form }}{{{ c }}}{{/ is_form }}</div>\n</div>'}),define("text!skins/default/video/comments/form.html",[],function(){return'<div class="tab-form">\n	{{# has_profile }}\n	<form id="video-comment-form">\n		<input type="hidden" name="user" value="{{ profile }}" />\n		{{> comment}}\n	</form>\n	{{/ has_profile }}\n	{{^ has_profile }}\n	To comment videos, <a href="{{ upload_domain }}/account/create_profile"><b>please setup your profile</b></a>.\n	{{/ has_profile }}\n</div>'}),define("skins/default/video/comments/form",["config/main","mustache","includes/tools","includes/helpers/inline_loader","includes/helpers/overlay/box","text!./form.html","text!./comment.html"],function(e,t,n,r,i,s,o){var u=function(){var u={upload_domain:e.domains.master,static_domain:e.domains.static,has_profile:typeof e.data.login_info.profile!="undefined"&&e.data.login_info.profile!==!1&&e.data.login_info.profile.length!==0};u.has_profile&&(u.is_form=!0,u.profile=e.data.login_info.profile,u.pu=e.data.login_info.profile_url,u.iu=e.data.login_info.profile_img,u.n=n.ucfirst(e.data.login_info.profile)),this.node=$(t.render(s,u,{comment:o}));var a=!1,f=this,l,c=this.node.children("form"),h=function(e){if(e.message){var t=e.result?"text-success":"text-danger";i.get(f.getNode(),!0).setContent('<strong class="'+t+'">'+e.message+"</strong>").show()}e.result&&typeof f.posted=="function"&&f.posted(),c[0].reset()},p=function(){if(a)return;l||(l=i.get(f.getNode(),!1).setContent(r.get("after","Posting comment...").getHtml())),l.show();var t=c.serializeArray();t.push({name:"test",value:"ok"}),$.post("/video-post-comment/"+e.data.id_video+"/",t,h,"json").fail(function(){i.get(f.getNode(),!0).setContent('<strong class="text-danger">Posting the comment failed... Please close this message and try again.</strong>').show()}).always(function(){l.hide()})};this.node.find("button").on("click",p)};return u.prototype={posted:null,getNode:function(){return this.node}},new u}),define("text!skins/default/form/login.html",[],function(){return'<div class="tab-form">\n	<div class="row">\n		<div class="col-sm-5 col-md-6 col-lg-5">\n			<p class="title"></p>\n			<form action="{{ upload_domain }}/account/?redirect={{{ redirect }}}" method="POST" class="form-horizontal">\n				<div class="form-group">\n					 <label for="{{ base_id }}-tab-login-form-login" class="col-sm-5 col-md-4 control-label">Your login (email):</label>\n					 <div class="col-sm-7 col-md-8"><input type="email" name="login" id="{{ base_id }}-tab-login-form-login" class="form-control" required /></div>\n				</div>\n				<div class="form-group">\n					 <label for="{{ base_id }}-tab-login-form-password" class="col-sm-5 col-md-4 control-label">Your password:</label>\n					 <div class="col-sm-7 col-md-8"><input type="password" name="password" id="{{ base_id }}-tab-login-form-password" class="form-control" required /></div>\n				</div>\n				<div class="form-group">\n					<div class="col-xs-12 text-right">\n						<a href="{{ upload_domain }}/account/lostpassword" target="_blank" class="forgot-password">Forgot username or password ?</a>\n						<button type="submit" class="btn btn-default" name="log">Login</button>\n					</div>\n				</div>\n			</form>\n		</div>\n		<div class="col-sm-7 col-md-6 col-lg-7 create-account">\n			<div class="form-group">\n				<p>Not yet a xvideos member? Here is what you can do with a FREE account:</p>\n				<ul>\n					<li><strong>- Upload videos.</strong></li>\n					<li><strong>- Commenting.</strong></li>\n					<li><strong>- Add videos to your favorites.</strong></li>\n					<li><strong>- Create your profile page and make some new friends.</strong></li>\n				</ul>\n			</div>\n			<div class="text-center">\n				<a class="btn btn-default" href="{{ upload_domain }}/account/create" target="_blank">Sign Up Now For Free</a>\n			</div>\n		</div>\n	</div>\n</div>'}),define("skins/default/form/login",["config/main","mustache","text!./login.html"],function(e,t,n){var r=function(r,i){this.node=$(t.render(n,{base_id:(new Date).getTime(),upload_domain:e.domains.master,redirect:encodeURIComponent(i)})),this.title=this.node.find(".title").text(r)};return r.prototype={getNode:function(){return this.node},setTitle:function(e){this.title.text(e)}},r}),define("skins/default/video/comments",["config/main","mustache","static/utils","includes/helpers/pager","includes/helpers/overlay/box","includes/helpers/inline_loader","text!./comments/page.html","text!./comments/comment.html"],function(e,t,n,r,i,s,o,u){var a=!1,f=[],l=e.data.nb_comments,c=!1,h,p,d,v,m,g,y,b=function(){for(var e in f)f[e].node.remove(),f[e].pager&&f[e].pager.remove();f=[],c=!1},w=function(e){if(c===!1)return;f[c].node.toggle(e),f[c].pager&&f[c].pager.toggle(e)},E=function(){return g||(g=i.get(p,!1).setContent(s.get("after","Loading comments...").getNode())),g},S=function(){y&&E().show()},x=function(e){e.preventDefault(),N(parseInt($(this).attr("href").substr(1)))},T=function(i){e.data.nb_comments===0&&f.length===0&&d.empty(),l!==i.nb_comments?b():w(!1);var s=$(t.render(o,i,{tpl:u})).appendTo(d);f[i.page]={node:s},i.pagination&&(f[i.page].pager=r.get(i.pagination).appendTo(d).on("click","a",x)),n.scrollToTop(h.position().top-10),v.text(i.nb_comments),i.nb_comments>2&&m.show(),c=i.page,l=i.nb_comments,y=!1},N=function(t){typeof t=="undefined"&&(t=0);if(y||t===c)return;typeof f[t]!="undefined"?(w(!1),c=t,w(!0),n.scrollToTop(h.position().top-10)):(y=!0,window.setTimeout(S,500),$.post("/video-get-comments/"+e.data.id_video+"/"+t+"/",T,!1).fail(function(){i.get(p,!0).setContent('<strong class="text-danger">Failed loading comments! Please try again...</strong>').show()}).complete(function(){y=!1,E().hide()}))};return function(){if(a)return;a=!0,h=$("#tabComments"),p=$("#comments-container"),d=$("#comments"),v=$("#video-tabs .nb-video-comments"),m=$("#video-post-comment"),m.length===0&&(m=$('<a class="btn btn-default btn-xs" id="video-post-comment">Post a comment</a>').insertBefore(p)),m.on("click",function(){n.scrollToTop(h.children(".tab-form").position().top-10)}),e.data.nb_comments<=2&&m.hide(),e.data.nb_comments>0&&N(),e.data.login_info.is_logged?require(["skins/default/video/comments/form"],function(e){e.posted=function(){b(),N(0)},h.append(e.getNode())}):require(["skins/default/form/login","includes/tools"],function(e,t){var n=new e("You must be logged in to comment a video.",t.parseUrl(window.location.href,"body")+"#_tabComments");h.append(n.getNode())})}}),define("skins/default/video/download",["config/main","includes/helpers/inline_loader"],function(e,t){var n=!1,r=$("#tabDownload"),i=function(e){if(!e.LOGGED){require(["skins/default/form/login","includes/tools"],function(e,t){var n=new e("You must be logged in to download a video.",t.parseUrl(window.location.href,"body")+"#_tabDownload");r.empty().append(n.getNode())});return}var t=$("<p>").addClass("text-center");if(typeof e.ERROR=="string")t.addClass("text-danger").html(e.ERROR);else if(typeof e.URL!="string")t.addClass("text-danger").html('Sorry but an error occured while checking your download. Click <a href="#"><strong>HERE</strong></a> to retry.').find("a").on("click",s);else{var n="Your video is ready for download.";e.URL_LOW?(n+=' Click to get <a href="'+e.URL+'" target="_blank"><strong>HIGH QUALITY</strong></a>.',n+=' Click to get <a href="'+e.URL_LOW+'" target="_blank"><strong>LOW QUALITY</strong></a>.'):n+=' Click <a href="'+e.URL+'" target="_blank"><strong>HERE</strong></a> to get it.',t.html(n)}r.empty().append(t)},s=function(n){typeof n!="undefined"&&n.preventDefault(),r.append($("<p>").addClass("text-danger text-center").append(t.get("after","Checking your download. Please wait...").getNode())),$.post("/video-download/"+e.data.id_video+"/",i,!0,"json").fail(function(){r.empty().append($("<p>").addClass("text-danger text-center").html('Sorry but an error occured while checking your download. Click <a href="#">HERE</a> to retry.')).find("a").on("click",s)})};return function(){if(n)return;n=!0,s()}}),define("text!skins/default/video/favorites/list.html",[],function(){return'<li href="#" class="list-group-item">\n	<span class="badge">{{ nb_video }} vids</span>\n	<strong>{{ name }}</strong>\n	<button type="button" class="btn btn-default btn-xs add"{{^add_btn}} style="display:none;"{{/add_btn}}>Add video</button>\n	{{#in_list}} {{>remove}}{{/in_list}}\n	{{#max_videos_reached}} {{>maxreached}}{{/max_videos_reached}}\n</li>'}),define("text!skins/default/video/favorites/list_remove.html",[],function(){return'<span class="small remove">/ The video is in this list <button type="button" class="btn btn-default btn-xs">Remove</button></span>'}),define("text!skins/default/video/favorites/list_maxreached.html",[],function(){return'<span class="small text-danger maxreached">/ Max number of videos allowed reached.</span>'}),define("skins/default/video/favorites/list",["mustache","includes/helpers/inline_loader","text!./list.html","text!./list_remove.html","text!./list_maxreached.html"],function(e,t,n,r,i){var s,o=function(e,n,r){e.on("click",function(e){e.preventDefault();var i=r==="add"?"Adding the video to your favorites":"Removing the video from your favorites";s.setContent(t.get("after",i+' "'+n.name+'"...').getHtml()).setClosable(!1).show(),$.post("/favorites/"+r+"/"+n.id_video+"/"+n.id+"/",function(e){if(!e.LOGGED){n.display_login();return}if(e.BAD_REQUEST||e.ERROR||r==="remove"&&!e.REMOVED||r==="add"&&!e.ADDED){s.setContent('<span class="text-danger">An error occured while '+i.toLowerCase()+" ! Please retry...</span>").setClosable(!0);return}n.setInList(r==="add"),s.hide()},"json").fail(function(){s.setContent('<span class="text-danger">An error occured while '+i.toLowerCase()+" ! Please retry...</span>").setClosable(!0)})})},u=function(t,s,u){this.id_video=t,this.display_login=u,$.extend(this,s),s.add_btn=!s.in_list&&!s.max_videos_reached,this.node=$(e.render(n,s,{remove:r,maxreached:i})),s.in_list&&this.node.addClass("video-in-list"),this.addbtn=this.node.find(".btn.add"),o(this.addbtn,this,"add"),this.removebtn=this.node.find(".remove .btn"),this.removebtn.length>0&&o(this.removebtn,this,"remove"),this.maxreached=this.node.find(".maxreached")};return u.prototype={getNode:function(){return this.node},setInList:function(e){if(e&&this.removebtn.length===0){var t=$(r);this.removebtn=t.find(".btn"),o(this.removebtn,this,"remove"),this.maxreached.length>0?t.insertBefore(this.maxreached):this.node.append(t)}this.in_list=e,e?(this.nb_video++,this.node.addClass("video-in-list")):(this.nb_video--,this.max_videos_reached=!1,this.maxreached.hide(),this.node.removeClass("video-in-list")),this.addbtn.toggle(!e&&!this.max_videos_reached),this.removebtn.parent().toggle(e),this.node.find(".badge").text(this.nb_video+" vids")}},u.setOverlay=function(e){s=e},u}),define("text!skins/default/video/favorites/form.html",[],function(){return'<div class="list-group">\n	<div class="list-group-item">\n		<form class="form-inline">\n			{{^max_reached}}\n			<div class="form-group">\n				<p class="form-control-static"><strong>OR create a new list:</strong></p>\n			</div>\n			<div class="form-group">\n				<label class="sr-only" for="new-fav-list-name">Name</label>\n				<input type="text" name="name" class="form-control" id="new-fav-list-name" placeholder="Name" required />\n			</div>\n			<div class="form-group">\n				<label>Visibility:</label>\n				<select class="form-control" name="status">\n					<option value="ANYONE">Public</option>\n					<option value="REGISTER">Registered users</option>\n					<option value="FRIEND">Only friends</option>\n					<option value="NOBODY">Nobody</option>\n				</select>\n			</div>\n			<button type="submit" class="btn btn-default">Create list and add the video in it</button>\n			{{/max_reached}}\n			{{#max_reached}}\n			<div class="form-group">\n				<p class="form-control-static text-danger"><strong>You have reached the maximum number of favorites list allowed. Delete some of them to create new ones.</strong></p>\n			</div>\n			{{/max_reached}}\n			<a href="{{ upload_domain }}/account/managefavorites" class="btn btn-default" target="blank">Manage all your favorites</a>\n		</form>\n	</div>\n</div>'}),define("skins/default/video/favorites/form",["config/main","mustache","includes/helpers/inline_loader","text!./form.html"],function(e,t,n,r){var i,s=function(s,o,u){this.id_video=s,this.display_login=u,this.node=$(t.render(r,{max_reached:o,upload_domain:e.domains.master})),this.input_name=this.node.find("input"),this.select_vis=this.node.find("select");var a=this;this.form=this.node.find("form").on("submit",function(e){e.preventDefault();var t=$.trim(a.input_name.val());if(t.length<3){alert("Please enter a list name with at least 3 characters.");return}i.setContent(n.get("after","Creating the new list and adding the video in it...").getHtml()).setClosable(!1).show(),$.post("/favorites/createlist/"+a.id_video+"/",a.form.serializeArray(),function(e){if(!e.LOGGED){a.display_login();return}if(e.BAD_REQUEST||e.ERROR||!e.ADDED||!e.LIST_CREATED){var n="An error occured while adding the video to your favorites ! Please retry...";typeof e.ERROR=="string"&&(n="Error: "+e.ERROR+" ! Please retry..."),i.setContent('<span class="text-danger">'+n+"</span>").setClosable(!0);return}a.input_name.val(""),a.select_vis.val("ANYONE");var r={id:e.LIST_CREATED,name:t,in_list:!0,nb_video:1,max_videos_reached:!1};a.onListCreated(r),i.hide()},"json").fail(function(){i.setContent('<span class="text-danger">An error occured while '+action_desc.toLowerCase()+" ! Please retry...</span>").setClosable(!0)})})};return s.prototype={onListCreated:null,getNode:function(){return this.node}},s.setOverlay=function(e){i=e},s}),define("text!skins/default/video/favorites/page.html",[],function(){return'<div class="row">\n	<div class="col-sm-6"><ul class="list-group"></ul></div>\n	{{#two_cols}}<div class="col-sm-6"><ul class="list-group"></ul></div>{{/two_cols}}\n</div>'}),define("skins/default/video/favorites",["config/main","mustache","static/utils","includes/helpers/pager","includes/helpers/overlay/box","includes/helpers/inline_loader","./favorites/list","./favorites/form","text!./favorites/page.html"],function(e,t,n,r,i,s,o,u,a){var f=!1,l=!1,c=[],h=!1,p,d,v,m,g,y=function(){for(var e in c)c[e].node.remove(),c[e].pager&&c[e].pager.remove();c=[],h=!1,l=!1},b=function(){y(),require(["skins/default/form/login","includes/tools"],function(e,t){var n=new e("You must be logged in to add this video to your favorites.",t.parseUrl(window.location.href,"body")+"#_tabFavs");v.empty().append(n.getNode())})},w=function(e){if(h===!1)return;c[h].node.toggle(e),c[h].pager&&c[h].pager.toggle(e)},E=function(){return m||(m=i.get(v,!1).setContent(s.get("after","Loading favorites...").getNode())),m},S=function(){g&&E().show()},x=function(e){e.preventDefault(),N(parseInt($(this).attr("href").substr(1)))},T=function(s){if(!s.LOGGED){b();return}if(s.BAD_REQUEST){var f=$('<span class="text-danger">Failed loading favorites! Click <a>Here</a> to retry.</span>').find("a").on("click",function(){N(h)});i.get(v,!0).setContent(f).show();return}if(!l){l=!0;var m=new u(e.data.id_video,s.MAX_LISTS_REACHED,b);v.append(m.getNode()),m.onListCreated=function(t){var n=new o(e.data.id_video,t,b);c[h].node.find("ul").eq(0).append(n.getNode())}}w(!1);var g=s.LISTS.length,y=$(t.render(a,{two_cols:g>3})),E=y.find("ul");for(var S in s.LISTS){var T=new o(e.data.id_video,s.LISTS[S],b),C=0;g>3&&S>=Math.floor(g/2)&&(C=1),E.eq(C).append(T.getNode())}y.prependTo(v),c[p]={node:y};if(s.PAGINATION){var k=r.get(s.PAGINATION).on("click","a",x);c[p].pager=k,k.prependTo(v)}n.scrollToTop(d.position().top-10),h=p},N=function(t){typeof t=="undefined"&&(t=0);if(g||t===h)return;if(typeof c[t]!="undefined"){w(!1),h=t,w(!0),n.scrollToTop(d.position().top-10);return}g=!0,p=t,window.setTimeout(S,500),$.post("/favorites/view/"+e.data.id_video+"/"+t+"/",T,!1).fail(function(){i.get(v,!0).setContent('<strong class="text-danger">Failed loading comments! Please try again...</strong>').show()}).complete(function(){g=!1,E().hide()})};return function(){if(f)return;f=!0,d=$("#tabFavs"),v=$("#favs-container"),o.setOverlay(i.get(v,!1)),u.setOverlay(i.get(v,!1)),N()}}),define("text!skins/default/video/sponsor_link.html",[],function(){return'<div id="video-sponsor-links"><a class="mobile-show" id="show-channel-desc">+</a>More videos like this one at <a href="{{{u}}}" target="_blank"><strong>{{{n}}}</strong></a> <span class="channel-desc">- {{{d}}}</span></div>'}),define("text!skins/default/video/share.html",[],function(){return'<div class="addthis_toolbox addthis_default_style addthis_32x32_style">\n	<a class="addthis_button_preferred_1"></a>\n	<a class="addthis_button_preferred_2"></a>\n	<a class="addthis_button_preferred_3"></a>\n	<a class="addthis_button_preferred_4"></a>\n	<a class="addthis_button_preferred_5"></a>\n	<a class="addthis_button_preferred_6"></a>\n	<a class="addthis_button_preferred_7"></a>\n	<a class="addthis_button_preferred_8"></a>\n	<a class="addthis_button_preferred_9"></a>\n	<a class="addthis_button_preferred_10"></a>\n	<a class="addthis_button_preferred_11"></a>\n	<a class="addthis_button_compact"></a>\n	<a class="addthis_counter addthis_bubble_style"></a>\n</div>'}),define("skins/default/video/related",[],function(){var e=$("#related-videos"),t=e.children(".embed-responsive-item"),n=t.children(".mozaique"),r=n.children(":first"),i=0,s=0,o,u=!1,a;e.removeClass("embed-responsive");var f=function(){if(!u)return;u=!1,a=null,o=r.outerHeight(!0)*2,e.height(o),i>0&&t.css("margin-top",-1*i*o+"px")},l=function(){u=!0,a||(a=setTimeout(f,500))};u=!0,f(),$(window).on("resize",l),$(document).ready(function(){u=!0,f()}),$("#related-videos-show-more").on("click",function(){s+=o,s+o>n.innerHeight()?(s=0,i=0):i++,t.animate({marginTop:-1*s+"px"},"slow")})}),define("skins/default/video/vote",["config/main","includes/helpers/inline_loader","includes/helpers/overlay"],function(e,t,n){var r=$("#video-views-votes"),i=r.find(".vote-actions a"),s=!1;i.on("click",function(o){o.preventDefault();if(s)return;s=!0;var u=$(this),a=u.html(),f=u.hasClass("vote-action-good")?e.data.vote_urls.good:e.data.vote_urls.bad;i.addClass("disabled"),u.html(t.getImg()),$.post(f,function(e){var t;e.result?(r.find(".rating-bar .total").text(e.total),r.find(".rating-bar .pgs-bar div").css("width",e.rating+"%"),r.find(".rating-box").text(e.rating+"%"),t='<strong class="text-success">Thanks for your vote!</strong>'):t='<strong class="text-danger">'+e.message+"</strong>",(new n(r)).setContent(t).show().autoclose(5e3)},"json").fail(function(){n.get(r).setContent('<strong class="text-danger">Error! Please reload the page.</strong>').show().autoclose(5e3)}).always(function(){u.html(a)})})}),define("skins/default/video/subscribe",["config/main","includes/helpers/inline_loader"],function(e,t){var n=$("#video-subscribe");if(!n)return;if(!e.data.login_info.is_logged){n.show().prop("href",e.domains.master+"/account/?redirect="+encodeURIComponent(window.location.href));return}if(!e.data.login_info.profile)return;var r=function(r){if(!r.result)return;var i,s,o,u=n.children(".label");switch(r.result){case"NOT-LOGGUED":n.show().off("click").prop("href",e.domains.master+"/account/?redirect="+encodeURIComponent(window.location.href));return;case"NOT-SUBSCRIBED":i="/profiles/"+e.data.uploader+"/subscribe/",o='Subscribed! <a href="'+e.domains.master+'/account/activities/video">View activities</a>';break;case"SUBSCRIBED":u.text("Unsubscribe"),i="/profiles/"+e.data.uploader+"/unsubscribe/",s="Are you sure to unsubscribe?",o="Unsubscribed!";break;default:return}n.show().off("click").on("click",function(){if(s&&!window.confirm(s))return;u.html(t.get("after","Loading...").getHtml()),$.post(i,function(e){e==="OK"?(u.html(o),n.off("click")):u.text("ERROR")}).fail(function(){u.text("ERROR")})})};$.post("/profiles/"+e.data.uploader+"/subscribe-button/",r,"json")}),define("skins/default/video",["config/main"],function(e){if(e.data.id_video===null)return;require(["mustache","static/utils","includes/tab","skins/default/video/comments","skins/default/video/download","skins/default/video/favorites","text!skins/default/video/sponsor_link.html","text!skins/default/video/share.html","skins/default/video/related","skins/default/video/vote","skins/default/video/subscribe","skins/default/search/autocomplete","skins/default/thumbs/rotator"],function(t,n,r,i,s,o,u,a){if(e.data.sponsors&&e.data.sponsors.length>0){var f=Math.random()*e.data.sponsors.length,l=e.data.sponsors[Math.floor(f)];$(t.render(u,l)).insertBefore($("#main > h2").first()),$("#show-channel-desc").on("click",function(e){e.preventDefault(),$(this).parent().addClass("expanded")})}$("#show-all-tags").on("click",function(e){e.preventDefault(),$(this).parent().addClass("expanded")});var c={};c.tabComments=i,c.tabDownload=s,c.tabFavs=o,c.tabShare=function(){$("#tabShare").append(a),n.loadScript("//s7.addthis.com/js/250/addthis_widget.js#pubid=xa-501f7bd44d12cd79")},new r("#video-tabs",c,!0)})}),function(){function s(e,n){function w(e){if(w[e]!==g)return w[e];var t;if(e=="bug-string-char-index")t="a"[0]!="a";else if(e=="json")t=w("json-stringify")&&w("json-parse");else{var r,s='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if(e=="json-stringify"){var u=n.stringify,f=typeof u=="function"&&y;if(f){(r=function(){return 1}).toJSON=r;try{f=u(0)==="0"&&u(new i)==="0"&&u(new o)=='""'&&u(d)===g&&u(g)===g&&u()===g&&u(r)==="1"&&u([r])=="[1]"&&u([g])=="[null]"&&u(null)=="null"&&u([g,d,null])=="[null,null,null]"&&u({a:[r,true,false,null,"\0\b\n\f\r	"]})==s&&u(null,r)==="1"&&u([1,2],null,1)=="[\n 1,\n 2\n]"&&u(new a(-864e13))=='"-271821-04-20T00:00:00.000Z"'&&u(new a(864e13))=='"+275760-09-13T00:00:00.000Z"'&&u(new a(-621987552e5))=='"-000001-01-01T00:00:00.000Z"'&&u(new a(-1))=='"1969-12-31T23:59:59.999Z"'}catch(l){f=!1}}t=f}if(e=="json-parse"){var c=n.parse;if(typeof c=="function")try{if(c("0")===0&&!c(!1)){r=c(s);var h=r["a"].length==5&&r.a[0]===1;if(h){try{h=!c('"	"')}catch(l){}if(h)try{h=c("01")!==1}catch(l){}if(h)try{h=c("1.")!==1}catch(l){}}}}catch(l){h=!1}t=h}}return w[e]=!!t}e||(e=r.Object()),n||(n=r.Object());var i=e.Number||r.Number,o=e.String||r.String,u=e.Object||r.Object,a=e.Date||r.Date,f=e.SyntaxError||r.SyntaxError,l=e.TypeError||r.TypeError,c=e.Math||r.Math,h=e.JSON||r.JSON;typeof h=="object"&&h&&(n.stringify=h.stringify,n.parse=h.parse);var p=u.prototype,d=p.toString,v,m,g,y=new a(-0xc782b5b800cec);try{y=y.getUTCFullYear()==-109252&&y.getUTCMonth()===0&&y.getUTCDate()===1&&y.getUTCHours()==10&&y.getUTCMinutes()==37&&y.getUTCSeconds()==6&&y.getUTCMilliseconds()==708}catch(b){}if(!w("json")){var E="[object Function]",S="[object Date]",x="[object Number]",T="[object String]",N="[object Array]",C="[object Boolean]",k=w("bug-string-char-index");if(!y)var L=c.floor,A=[0,31,59,90,120,151,181,212,243,273,304,334],O=function(e,t){return A[t]+365*(e-1970)+L((e-1969+(t=+(t>1)))/4)-L((e-1901+t)/100)+L((e-1601+t)/400)};(v=p.hasOwnProperty)||(v=function(e){var t={},n;return(t.__proto__=null,t.__proto__={toString:1},t).toString!=d?v=function(e){var t=this.__proto__,n=e in(this.__proto__=null,this);return this.__proto__=t,n}:(n=t.constructor,v=function(e){var t=(this.constructor||n).prototype;return e in this&&!(e in t&&this[e]===t[e])}),t=null,v.call(this,e)}),m=function(e,n){var r=0,i,s,o;(i=function(){this.valueOf=0}).prototype.valueOf=0,s=new i;for(o in s)v.call(s,o)&&r++;return i=s=null,r?r==2?m=function(e,t){var n={},r=d.call(e)==E,i;for(i in e)(!r||i!="prototype")&&!v.call(n,i)&&(n[i]=1)&&v.call(e,i)&&t(i)}:m=function(e,t){var n=d.call(e)==E,r,i;for(r in e)(!n||r!="prototype")&&v.call(e,r)&&!(i=r==="constructor")&&t(r);(i||v.call(e,r="constructor"))&&t(r)}:(s=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],m=function(e,n){var r=d.call(e)==E,i,o,u=!r&&typeof e.constructor!="function"&&t[typeof e.hasOwnProperty]&&e.hasOwnProperty||v;for(i in e)(!r||i!="prototype")&&u.call(e,i)&&n(i);for(o=s.length;i=s[--o];u.call(e,i)&&n(i));}),m(e,n)};if(!w("json-stringify")){var M={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},_="000000",D=function(e,t){return(_+(t||0)).slice(-e)},P="\\u00",H=function(e){var t='"',n=0,r=e.length,i=!k||r>10,s=i&&(k?e.split(""):e);for(;n<r;n++){var o=e.charCodeAt(n);switch(o){case 8:case 9:case 10:case 12:case 13:case 34:case 92:t+=M[o];break;default:if(o<32){t+=P+D(2,o.toString(16));break}t+=i?s[n]:e.charAt(n)}}return t+'"'},B=function(e,t,n,r,i,s,o){var u,a,f,c,h,p,y,b,w,E,k,A,M,_,P,j;try{u=t[e]}catch(F){}if(typeof u=="object"&&u){a=d.call(u);if(a==S&&!v.call(u,"toJSON"))if(u>-1/0&&u<1/0){if(O){h=L(u/864e5);for(f=L(h/365.2425)+1970-1;O(f+1,0)<=h;f++);for(c=L((h-O(f,0))/30.42);O(f,c+1)<=h;c++);h=1+h-O(f,c),p=(u%864e5+864e5)%864e5,y=L(p/36e5)%24,b=L(p/6e4)%60,w=L(p/1e3)%60,E=p%1e3}else f=u.getUTCFullYear(),c=u.getUTCMonth(),h=u.getUTCDate(),y=u.getUTCHours(),b=u.getUTCMinutes(),w=u.getUTCSeconds(),E=u.getUTCMilliseconds();u=(f<=0||f>=1e4?(f<0?"-":"+")+D(6,f<0?-f:f):D(4,f))+"-"+D(2,c+1)+"-"+D(2,h)+"T"+D(2,y)+":"+D(2,b)+":"+D(2,w)+"."+D(3,E)+"Z"}else u=null;else typeof u.toJSON=="function"&&(a!=x&&a!=T&&a!=N||v.call(u,"toJSON"))&&(u=u.toJSON(e))}n&&(u=n.call(t,e,u));if(u===null)return"null";a=d.call(u);if(a==C)return""+u;if(a==x)return u>-1/0&&u<1/0?""+u:"null";if(a==T)return H(""+u);if(typeof u=="object"){for(_=o.length;_--;)if(o[_]===u)throw l();o.push(u),k=[],P=s,s+=i;if(a==N){for(M=0,_=u.length;M<_;M++)A=B(M,u,n,r,i,s,o),k.push(A===g?"null":A);j=k.length?i?"[\n"+s+k.join(",\n"+s)+"\n"+P+"]":"["+k.join(",")+"]":"[]"}else m(r||u,function(e){var t=B(e,u,n,r,i,s,o);t!==g&&k.push(H(e)+":"+(i?" ":"")+t)}),j=k.length?i?"{\n"+s+k.join(",\n"+s)+"\n"+P+"}":"{"+k.join(",")+"}":"{}";return o.pop(),j}};n.stringify=function(e,n,r){var i,s,o,u;if(t[typeof n]&&n)if((u=d.call(n))==E)s=n;else if(u==N){o={};for(var a=0,f=n.length,l;a<f;l=n[a++],(u=d.call(l),u==T||u==x)&&(o[l]=1));}if(r)if((u=d.call(r))==x){if((r-=r%1)>0)for(i="",r>10&&(r=10);i.length<r;i+=" ");}else u==T&&(i=r.length<=10?r:r.slice(0,10));return B("",(l={},l[""]=e,l),s,o,i,"",[])}}if(!w("json-parse")){var j=o.fromCharCode,F={92:"\\",34:'"',47:"/",98:"\b",116:"	",110:"\n",102:"\f",114:"\r"},I,q,R=function(){throw I=q=null,f()},U=function(){var e=q,t=e.length,n,r,i,s,o;while(I<t){o=e.charCodeAt(I);switch(o){case 9:case 10:case 13:case 32:I++;break;case 123:case 125:case 91:case 93:case 58:case 44:return n=k?e.charAt(I):e[I],I++,n;case 34:for(n="@",I++;I<t;){o=e.charCodeAt(I);if(o<32)R();else if(o==92){o=e.charCodeAt(++I);switch(o){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:n+=F[o],I++;break;case 117:r=++I;for(i=I+4;I<i;I++)o=e.charCodeAt(I),o>=48&&o<=57||o>=97&&o<=102||o>=65&&o<=70||R();n+=j("0x"+e.slice(r,I));break;default:R()}}else{if(o==34)break;o=e.charCodeAt(I),r=I;while(o>=32&&o!=92&&o!=34)o=e.charCodeAt(++I);n+=e.slice(r,I)}}if(e.charCodeAt(I)==34)return I++,n;R();default:r=I,o==45&&(s=!0,o=e.charCodeAt(++I));if(o>=48&&o<=57){o==48&&(o=e.charCodeAt(I+1),o>=48&&o<=57)&&R(),s=!1;for(;I<t&&(o=e.charCodeAt(I),o>=48&&o<=57);I++);if(e.charCodeAt(I)==46){i=++I;for(;i<t&&(o=e.charCodeAt(i),o>=48&&o<=57);i++);i==I&&R(),I=i}o=e.charCodeAt(I);if(o==101||o==69){o=e.charCodeAt(++I),(o==43||o==45)&&I++;for(i=I;i<t&&(o=e.charCodeAt(i),o>=48&&o<=57);i++);i==I&&R(),I=i}return+e.slice(r,I)}s&&R();if(e.slice(I,I+4)=="true")return I+=4,!0;if(e.slice(I,I+5)=="false")return I+=5,!1;if(e.slice(I,I+4)=="null")return I+=4,null;R()}}return"$"},z=function(e){var t,n;e=="$"&&R();if(typeof e=="string"){if((k?e.charAt(0):e[0])=="@")return e.slice(1);if(e=="["){t=[];for(;;n||(n=!0)){e=U();if(e=="]")break;n&&(e==","?(e=U(),e=="]"&&R()):R()),e==","&&R(),t.push(z(e))}return t}if(e=="{"){t={};for(;;n||(n=!0)){e=U();if(e=="}")break;n&&(e==","?(e=U(),e=="}"&&R()):R()),(e==","||typeof e!="string"||(k?e.charAt(0):e[0])!="@"||U()!=":")&&R(),t[e.slice(1)]=z(U())}return t}R()}return e},W=function(e,t,n){var r=X(e,t,n);r===g?delete e[t]:e[t]=r},X=function(e,t,n){var r=e[t],i;if(typeof r=="object"&&r)if(d.call(r)==N)for(i=r.length;i--;)W(r,i,n);else m(r,function(e){W(r,e,n)});return n.call(e,t,r)};n.parse=function(e,t){var n,r;return I=0,q=""+e,n=z(U()),U()!="$"&&R(),I=q=null,t&&d.call(t)==E?X((r={},r[""]=n,r),"",t):n}}}return n.runInContext=s,n}var e=typeof define=="function"&&define.amd,t={"function":!0,object:!0},n=t[typeof exports]&&exports&&!exports.nodeType&&exports,r=t[typeof window]&&window||this,i=n&&t[typeof module]&&module&&!module.nodeType&&typeof global=="object"&&global;i&&(i.global===i||i.window===i||i.self===i)&&(r=i);if(n&&!e)s(r,n);else{var o=r.JSON,u=r.JSON3,a=!1,f=s(r,r.JSON3={noConflict:function(){return a||(a=!0,r.JSON=o,r.JSON3=u,o=u=null),f}});r.JSON={parse:f.parse,stringify:f.stringify}}e&&define("json3",[],function(){return f})}.call(this),define("includes/json",[],function(){(typeof JSON=="undefined"||typeof JSON.parse=="undefined")&&require(["json3"])}),define("includes/ads",["config/main","static/cookies","static/utils","includes/json"],function(e,t,n){if(typeof e.ads=="undefined"||typeof e.ads.banners=="undefined"||e.ads.banners.length===0)return;var r=function(e){if(!e.div_id)return console.error("error: invalid banner: ",e),!1;var t=document.getElementById(e.div_id);return t?(t.innerHTML="",!0):(console.error("error: div "+e.div_id+" is missing"),!1)},i=[],s=!1,o=!1;for(var u=0;u<e.ads.banners.length;u++){var a=e.ads.banners[u];if(!r(a))continue;a.is_mobile=!0,a.is_desktop=!0;if(typeof a.mobile!="undefined"||typeof a.desktop!="undefined")a.is_mobile=typeof a.mobile!="undefined"&&a.mobile,a.is_desktop=typeof a.desktop!="undefined"&&a.desktop;a.is_loaded=!1,i.push(a)}if(i.length===0)return;var f=t.get("wpn_ad_cookie"),l=e.ads.site,c="",h="";f||(f=""),typeof e.ads.categories=="string"&&e.ads.categories.length>0&&(c=e.ads.categories),typeof e.ads.tracker=="string"&&e.ads.tracker.length>0&&(h=e.ads.tracker);var p=function(e){var r=[];r.push("http://rpc-php.trafficfactory.biz/json");var i=[];for(var s=0;s<e.length;s++){var o=e[s];typeof o["area_tag"]=="undefined"?i.push(o.type+"-"+o.nb_ban):i.push(o.type+"-"+o.area_tag+"-"+o.nb_ban),e[s].is_loaded=!0}r.push(i.join("x")),r.push(f),r.push(c),r.push(l),r.push(h),r.push(""),r.push("content.json?v="+Math.random());try{var u=n.createRequestObject();u.open("GET",r.join("/"),!0),u.onreadystatechange=function(n){if(u.readyState==4&&u.status==200){var r=u.responseText;typeof r=="string"&&(r=JSON.parse(r));if(!r||!r.tracker_id||!r.banners)return;t.set("wpn_ad_cookie",r.tracker_id,864e5,"/");for(var i=0;i<r.banners.length;i++){var s=r.banners[i],o="";for(var a=0;a<s.length;a++)o+='<a href="'+s[a].url+'" target="_blank"><img src="'+s[a].banner+'" /></a>';o===""&&e[i].type==="inplayersquare"&&(o="NOAD"),document.getElementById(e[i].div_id).innerHTML=o}}},u.send(null)}catch(a){window.wpn_ad_configuration=e;var p=[];p.push("http://rpc-php.trafficfactory.biz"),p.push(i.join("x")),p.push(f),p.push("0"),p.push(c),p.push(l),p.push(h),p.push("display.js?v="+Math.random());var d=document.createElement("script");d.src=p.join("/"),d.type="text/javascript",document.getElementsByTagName("head")[0].appendChild(d)}},d=function(){var e=0;if(typeof window.innerWidth!="undefined")e=window.innerWidth;else if(typeof document.documentElement!="undefined"&&typeof document.documentElement.clientWidth!="undefined"&&document.documentElement.clientWidth>0)e=document.documentElement.clientWidth;else if(typeof document.getElementsByTagName!="undefined"){var t=document.getElementsByTagName("body");t.length>0&&typeof t[0].clientWidth!="undefined"&&t[0].clientWidth>0&&(e=t[0].clientWidth)}return e>0?e:1024},v=function(){var e=d()<=768;if(e&&s||!e&&o)return;e?s=!0:o=!0;var t=[];for(var n=0;n<i.length;n++){var r=i[n];if(r.is_loaded)continue;if(e&&!r.is_mobile||!e&&!r.is_desktop)continue;t.push(r)}if(t.length===0)return;p(t,l,c,h)};if(typeof window.addEventListener!="undefined")window.addEventListener("resize",v);else if(typeof window.onresize=="function"){var m=window.onresize;window.onresize=function(){m(),v()}}else window.onresize=v;v();var g="",y=!0;window.toggle_wpn_ads=function(e){e=!!e;if(e===y)return;if(t.get("disclaimer_display")==="OK")return;for(var n in i){var r=document.getElementById(i[n].div_id);r&&(r.style.display=e?"":"none")}document.documentElement?(e||(g=document.documentElement.style.overflow),document.documentElement.style.overflow=e?g:"hidden"):document.body&&(e||(g=document.body.style.overflow),document.body.style.overflow=e?g:"hidden"),y=e},e.data.show_disclaimer&&window.toggle_wpn_ads(!1)}),function(e){"use strict";function x(){b(!0)}var t={};e.respond=t,t.update=function(){};var n=[],r=function(){var t=!1;try{t=new e.XMLHttpRequest}catch(n){t=new e.ActiveXObject("Microsoft.XMLHTTP")}return function(){return t}}(),i=function(e,t){var n=r();if(!n)return;n.open("GET",e,!0),n.onreadystatechange=function(){if(n.readyState!==4||n.status!==200&&n.status!==304)return;t(n.responseText)};if(n.readyState===4)return;n.send(null)};t.ajax=i,t.queue=n,t.regex={media:/@media[^\{]+\{([^\{\}]*\{[^\}\{]*\})+/gi,keyframes:/@(?:\-(?:o|moz|webkit)\-)?keyframes[^\{]+\{(?:[^\{\}]*\{[^\}\{]*\})+[^\}]*\}/gi,urls:/(url\()['"]?([^\/\)'"][^:\)'"]+)['"]?(\))/g,findStyles:/@media *([^\{]+)\{([\S\s]+?)$/,only:/(only\s+)?([a-zA-Z]+)\s?/,minw:/\([\s]*min\-width\s*:[\s]*([\s]*[0-9\.]+)(px|em)[\s]*\)/,maxw:/\([\s]*max\-width\s*:[\s]*([\s]*[0-9\.]+)(px|em)[\s]*\)/},t.mediaQueriesSupported=e.matchMedia&&e.matchMedia("only all")!==null&&e.matchMedia("only all").matches;if(t.mediaQueriesSupported)return;var s=e.document,o=s.documentElement,u=[],a=[],f=[],l={},c=30,h=s.getElementsByTagName("head")[0]||o,p=s.getElementsByTagName("base")[0],d=h.getElementsByTagName("link"),v,m,g,y=function(){var e,t=s.createElement("div"),n=s.body,r=o.style.fontSize,i=n&&n.style.fontSize,u=!1;return t.style.cssText="position:absolute;font-size:1em;width:1em",n||(n=u=s.createElement("body"),n.style.background="none"),o.style.fontSize="100%",n.style.fontSize="100%",n.appendChild(t),u&&o.insertBefore(n,o.firstChild),e=t.offsetWidth,u?o.removeChild(n):n.removeChild(t),o.style.fontSize=r,i&&(n.style.fontSize=i),e=g=parseFloat(e),e},b=function(t){var n="clientWidth",r=o[n],i=s.compatMode==="CSS1Compat"&&r||s.body[n]||r,l={},p=d[d.length-1],w=(new Date).getTime();if(t&&v&&w-v<c){e.clearTimeout(m),m=e.setTimeout(b,c);return}v=w;for(var E in u)if(u.hasOwnProperty(E)){var S=u[E],x=S.minw,T=S.maxw,N=x===null,C=T===null,k="em";!x||(x=parseFloat(x)*(x.indexOf(k)>-1?g||y():1)),!T||(T=parseFloat(T)*(T.indexOf(k)>-1?g||y():1));if(!S.hasquery||(!N||!C)&&(N||i>=x)&&(C||i<=T))l[S.media]||(l[S.media]=[]),l[S.media].push(a[S.rules])}for(var L in f)f.hasOwnProperty(L)&&f[L]&&f[L].parentNode===h&&h.removeChild(f[L]);f.length=0;for(var A in l)if(l.hasOwnProperty(A)){var O=s.createElement("style"),M=l[A].join("\n");O.type="text/css",O.media=A,h.insertBefore(O,p.nextSibling),O.styleSheet?O.styleSheet.cssText=M:O.appendChild(s.createTextNode(M)),f.push(O)}},w=function(e,n,r){var i=e.replace(t.regex.keyframes,"").match(t.regex.media),s=i&&i.length||0;n=n.substring(0,n.lastIndexOf("/"));var o=function(e){return e.replace(t.regex.urls,"$1"+n+"$2$3")},f=!s&&r;n.length&&(n+="/"),f&&(s=1);for(var l=0;l<s;l++){var c,h,p,d;f?(c=r,a.push(o(e))):(c=i[l].match(t.regex.findStyles)&&RegExp.$1,a.push(RegExp.$2&&o(RegExp.$2))),p=c.split(","),d=p.length;for(var v=0;v<d;v++)h=p[v],u.push({media:h.split("(")[0].match(t.regex.only)&&RegExp.$2||"all",rules:a.length-1,hasquery:h.indexOf("(")>-1,minw:h.match(t.regex.minw)&&parseFloat(RegExp.$1)+(RegExp.$2||""),maxw:h.match(t.regex.maxw)&&parseFloat(RegExp.$1)+(RegExp.$2||"")})}b()},E=function(){if(n.length){var t=n.shift();i(t.href,function(n){w(n,t.href,t.media),l[t.href]=!0,e.setTimeout(function(){E()},0)})}},S=function(){for(var t=0;t<d.length;t++){var r=d[t],i=r.href,s=r.media,o=r.rel&&r.rel.toLowerCase()==="stylesheet";if(!!i&&o&&!l[i])if(r.styleSheet&&r.styleSheet.rawCssText)w(r.styleSheet.rawCssText,i,s),l[i]=!0;else if(!/^([a-zA-Z:]*\/\/)/.test(i)&&!p||i.replace(RegExp.$1,"").split("/")[0]===e.location.host)i.substring(0,2)==="//"&&(i=e.location.protocol+i),n.push({href:i,media:s})}E()};S(),t.update=S,t.getEmValue=y,e.addEventListener?e.addEventListener("resize",x,!1):e.attachEvent&&e.attachEvent("onresize",x)}(this),define("respond",function(){}),define("text!includes/helpers/popup/template.html",[],function(){return'<div class="x-popup {{ position }} {{ cls }}">\n	<div class="x-popup-arrow"></div>\n	<div class="x-popup-content"></div>\n</div>\n'}),define("includes/helpers/popup",["mustache","text!./popup/template.html"],function(e,t){var n={relative_to:$(document.body),position:{v:"below",h:"right"},max_height:0,trigger:"click",template:t,popup_class:null},r=function(e,t,r){this.options=$.extend({},n,r||{}),this.setPosition(this.options.position,!0),this.button=e,this.content=t,this.opened=!1;var i=this;this.button.on(this.options.trigger,function(){i.open()})};return r.prototype={setPosition:function(e,t){return typeof e=="object"?!e.v||!e.h||e.v!=="below"&&e.h!=="above"||e.v!=="right"&&e.h!=="left"?(t&&(this.options.position=n.position),!1):(this.position=e,!0):(e=e.split(" "),e.length!==2||e[0]!=="below"&&e[0]!=="above"||e[1]!=="right"&&e[1]!=="left"?(t&&(this.options.position=n.position),!1):(this.position={v:e[0],h:e[1]},!0))},position:function(){if(!this.popup)return!1;var e=this.options.relative_to.offset(),t=this.button.offset(),n=t.top-e.top,r=t.left-e.left,i=!1,s=!1;switch(this.options.position.v){case"below":n+=this.button.outerHeight();break;case"above":i=this.options.relative_to.innerHeight()-n}switch(this.options.position.h){case"right":s=this.options.relative_to.innerWidth()-r-this.button.outerWidth();break;case"left":}return s!==!1?this.popup.css("right",s+"px"):this.popup.css("left",r+"px"),i!==!1?this.popup.css("bottom",i+"px"):this.popup.css("top",n+"px"),!0},_getPopup:function(){if(this.popup)return this.popup;this.opened=!0,this.popup=$(e.render(this.options.template,{position:this.options.position.v+" "+this.options.position.h,cls:this.options.popup_class}));var t;typeof this.content=="function"?t=$(this.content()):t=$(this.content);var n=this.popup.find(".x-popup-content").append(t);this.position(),this.options.max_height>0&&n.css("max-height",this.options.max_height+"px"),this.options.relative_to.css("position","relative").append(this.popup),this.popup.on("click",function(e){e.stopPropagation()});var r=this;return $("body").on("click",function(e){r.opened&&!$(e.target).closest(r.button).length>0&&r.close()}),this.popup},open:function(e){e&&(e.preventDefault(),e.stopPropagation()),this._getPopup();if(this.opened)return;this.opened=!0,this.popup.fadeIn()},close:function(){if(!this.opened)return;this.opened=!1,this.popup.fadeOut()},isOpened:function(){return this.opened}},r}),define("text!includes/helpers/popup/language_switcher.html",[],function(){return'<ul>\n	{{#languages}}\n	<li><a href="{{{ url }}}"><span class="flag-small flag-{{{ country }}}"></span> {{ name }}</a></li>\n	{{/languages}}\n</ul>'}),define("includes/helpers/popup/language_switcher",["mustache","../popup","text!./language_switcher.html"],function(e,t,n){var r=function(r,i,s){var o=[];for(var u in s)o.push({url:i+u,country:s[u].country.toLowerCase(),name:s[u].name});var a=function(){var t=[];for(var r in s)t.push({url:i+r,country:s[r].country.toLowerCase(),name:s[r].name});return e.render(n,{languages:t})};new t(r,a,{trigger:"click mouseenter",popup_class:"language-switcher-popup"})};return r}),require.config({paths:{"bootstrap/dropdown-hover":"bootstrap-hover-dropdown/bootstrap-hover-dropdown",jquery:"jquery",text:"text"},shim:{"bootstrap/affix":{exports:"$.fn.affix"},"bootstrap/alert":{exports:"$.fn.alert"},"bootstrap/button":{exports:"$.fn.button"},"bootstrap/carousel":{exports:"$.fn.carousel"},"bootstrap/collapse":{deps:["bootstrap/transition"],exports:"$.fn.collapse"},"bootstrap/dropdown":{deps:["bootstrap/collapse"],exports:"$.fn.dropdown"},"bootstrap/dropdown-hover":{deps:["bootstrap/dropdown"],exports:"$.fn.dropdownHover"},"bootstrap/modal":{exports:"$.fn.modal"},"bootstrap/popover":{deps:["bootstrap/tooltip"],exports:"$.fn.popover"},"bootstrap/scrollspy":{exports:"$.fn.scrollspy"},"bootstrap/tab":{exports:"$.fn.tab"},"bootstrap/tooltip":{deps:["bootstrap/transition"],exports:"$.fn.tooltip"},"bootstrap/transition":{exports:"$.fn.transition"},"bootstrap/jansy/fileinput":{exports:"$.fn.fileinput"},json3:{exports:"JSON"}},config:{text:{useXhr:function(e,t,n,r){if(e.substr(0,1)==="/")return!0;if(e.substr(0,26)==="http://static.xvideos.com/")return!0;var i=t+"://"+n;return e.substr(0,i.length)===i?!0:!1}}}}),define("static/utils",window.xv.utils),define("static/cookies",window.xv.cookies),define("static/thumbs",window.xv.thumbs),require(["includes/ads"]),require(["respond"]);var init_modules=require(["config/main","includes/helpers/inline_loader","includes/helpers/popup/language_switcher","includes/helpers/messages"],function(e,t,n){console.info(e),t.setup("http://static.xvideos.com/v3/img/skins/default/xv-inline-loader.gif"),e.data.action&&require(["skins/"+e.sitename+"/"+e.data.action]);var r=$("#mobile-login-btn a").first();if(r.length>0){var i=!1,s=r.offset(),o=$("#mobile-login-menu,#mobile-login-menu2").css("top",s.top+r.outerHeight()+"px");r.on("click",function(){o.toggleClass("hidden"),i=!i}),$("body").on("click",function(e){if(!i)return;if($(e.target).closest("#mobile-login-menu,#mobile-login-menu2,#mobile-login-btn").length>0)return;o.addClass("hidden"),i=!1})}var u=$("#language-switcher");u.length>0&&n(u,"/change-language/",e.data.other_locales)});define("skins/default",function(){});