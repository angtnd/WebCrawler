/* jdf-1.0.0/ dropdown.js Date:2014-12-09 13:57:23 */
!function(a){a.ui.define("dropdown",{options:{hasCssLink:!1,baseVersion:"1.0.0",cssLinkVersion:"1.0.0",item:"ui-dropdown-item",trigger:!1,current:"ui-dropdown-hover",bodyClass:"ui-dropdown-bd",subBodyClass:"ui-dropdown-sub",topspeed:!1,boundary:10,enterDelay:0,leaveDelay:0,zIndex:1e3,align:"bottom",left:null,top:null,submenuLeft:0,submenuTop:0,onchange:null,onmouseleave:null},init:function(){this.mouseLocs=[],this.lastDelayLoc=null,this.create(),this.bind()},create:function(){var a=this.options;this.item=a.trigger?this.el:this.el.find("."+a.item),this.body=this.el.find("."+a.bodyClass);var b=a.top,c=a.left;"bottom"==a.align&&null==a.top&&(a.top=this.item.outerHeight()),"right"==a.align&&(a.top=0,null==a.left&&(a.left=this.item.outerWidth())),(null!=b||null!=c)&&this.body.css({position:"absolute",top:a.top,left:a.left,zIndex:a.zIndex}),this.el.find("."+a.subBodyClass).css({zIndex:a.zIndex+1}),this.bodyOuterWidth=this.body.outerWidth(),this.bodyBorderWidth=2*this.getStyle(this.body[0],"borderWidth")},bind:function(){var e,f,b=this,c=this.options,d=!1,g=3,h=null,i=null;this.el.bind("mouseenter",function(){clearTimeout(e)}),this.el.bind("mouseleave",function(){d&&(e=setTimeout(function(){b.removeClass()},c.leaveDelay)),c.onmouseleave&&c.onmouseleave(a(this)),h=null}),this.item.bind("mouseenter",function(){var e=a(this),j=function(){h=e.index(),b.removeClass(),e.addClass(c.current),d=!0,c.onchange&&c.onchange(e)};f=setTimeout(function(){0==b.topspeed(e)&&(j(),clearTimeout(i))},c.enterDelay),c.topspeed&&(i=setTimeout(function(){h!=e.index()&&j()},700))}),this.item.bind("mouseleave",function(){clearTimeout(f),clearTimeout(i)}),this.el.find("."+c.subBodyClass).bind("mouseenter",function(){var d=b.bodyOuterWidth-b.bodyBorderWidth+c.submenuLeft,e=b.getStyle(a(this)[0],"paddingLeft");d=a.browser.isIE6()?d-e:d;var f=0+c.submenuTop;a(this).find("."+c.bodyClass).show().css({left:d,top:f})}).bind("mouseleave",function(){a(this).find("."+c.bodyClass).hide()}),c.topspeed&&a(document).mousemove(function(a){b.mouseLocs.push({x:a.pageX,y:a.pageY}),b.mouseLocs.length>g&&b.mouseLocs.shift()})},removeClass:function(){this.item.removeClass(this.options.current)},getStyle:function(a,b){if(a){var c=window.getComputedStyle?window.getComputedStyle(a,null)[b]:a.currentStyle[b];return c=parseInt(c),c||(c=0),c}},topspeed:function(){var a=this.options;if(!a.topspeed)return 0;var b=this.el,c=b.offset(),d={x:c.left,y:c.top},e={x:c.left+b.outerWidth(),y:d.y},f={x:c.left,y:c.top+b.outerHeight()},g={x:c.left+b.outerWidth(),y:f.y};if(loc=this.mouseLocs[this.mouseLocs.length-1],prevLoc=this.mouseLocs[0],!loc)return 0;if(prevLoc||(prevLoc=loc),prevLoc.x<c.left||prevLoc.x>g.x||prevLoc.y<c.top||prevLoc.y>g.y)return 0;if(this.lastDelayLoc&&loc.x==this.lastDelayLoc.x&&loc.y==this.lastDelayLoc.y)return 0;function h(a,b){return(b.y-a.y)/(b.x-a.x)}var i=e,j=g,k=h(loc,i),l=h(prevLoc,i),m=h(loc,j),n=h(prevLoc,j);return l>k&&m>n?prevLoc.x-d.x<a.boundary?0:(this.lastDelayLoc=loc,300):(this.lastDelayLoc=null,0)}})}(jQuery);
/* jdf-1.0.0/ dialog.js Date:2015-06-23 14:37:52 */
!function(a){a.ui.define("dialog",{options:{hasCssLink:!0,baseVersion:"1.0.0",cssLinkVersion:"1.0.0",maskHas:!0,maskClass:"ui-mask",maskIframe:!1,maskClose:!1,opacity:.15,zIndex:9998,type:"text",source:null,extendMainClass:null,autoIframe:!0,autoOpen:!0,autoCloseTime:0,title:!0,hasButton:!1,submitButton:"\u786e\u8ba4",cancelButton:"\u53d6\u6d88",onSubmit:null,onCancel:null,closeButton:!0,onReady:null,width:480,height:null,fixed:!1,autoUpdate:!1,maskId:null,mainId:null,contentId:null,titleId:null,iframeName:"dialogIframe",iframeTimestamp:!0},init:function(){var b=this.options;a.browser.isIE6()&&(b.fixed=!1),this.createMain(),this.createMask(),this.mainStyle(),b.autoOpen?this.open():this.hide(),this.bind()},show:function(){this.mask.show(),this.el.show()},hide:function(){this.mask.hide(),this.el.hide()},tpl:{mask:'<div class="ui-mask"></div>',close:'<a class="ui-dialog-close" title="\u5173\u95ed"><span class="ui-icon ui-icon-delete"></span></a>',title:'<div class="ui-dialog-title">						<span><%=title%></span>					</div>				',wrap:'<div class="ui-dialog"></div>',conten:'<div class="ui-dialog-content"></div>',button:'<div class="ui-dialog-btn">						<%if($.trim(submit)){%><a class="ui-dialog-btn-submit"><%=submit%></a><%}%>						<%if($.trim(cancel)){%><a class="ui-dialog-btn-cancel"><%=cancel%></a><%}%>					</div>				'},createMain:function(){var c=this.options;var d="";c.title&&(d=a.tpl(this.tpl.title,{title:c.title}));var e=a.tpl(this.tpl.button,{submit:this.options.submitButton,cancel:this.options.cancelButton});var f=d+this.tpl.conten+(c.hasButton?e:"");this.el=a(this.tpl.wrap),c.extendMainClass&&this.el.addClass(c.extendMainClass),a(f).appendTo(this.el),this.el.appendTo("body"),this.content=this.el.find(".ui-dialog-content"),this.title=this.el.find(".ui-dialog-title"),c.mainId&&this.el.attr("id",c.mainId),c.contentId&&this.content.attr("id",c.contentId),c.titleId&&this.title.attr("id",c.titleId),c.closeButton&&this.el.append(this.tpl.close)},createMask:function(){var b=this;var c=this.options;if(c.maskHas){{this.mask=a(document.createElement("div"))}this.mask.addClass(c.maskClass).css({position:"absolute",left:0,top:0,opacity:c.opacity,zIndex:c.zIndex,backgroundColor:"#000",width:a.page.docWidth(),height:a.page.docHeight()}),c.maskId&&this.mask.attr("id",c.maskId),a("."+c.maskClass)[0]||this.mask.appendTo("body"),(a.browser.isIE6()||c.maskIframe)&&this.mask.append('<iframe src="about:blank" class="jdMaskIframe" frameBorder="0" style="width:100%;height:100%;position:absolute;z-index:'+(c.zIndex+1)+';opacity:0;filter:alpha(opacity=0);top:0;left:0;">'),a(window).resize(function(){b.mask.css({width:a.page.docWidth(),height:a.page.docHeight()})})}},getPadding:function(a){return{width:parseInt(a.css("paddingLeft"),10)+parseInt(a.css("paddingRight"),10),height:parseInt(a.css("paddingTop"),10)+parseInt(a.css("paddingBottom"),10)}},mainStyle:function(){var b=this.options;b.title&&(b.height=b.height?b.height+28:b.height,this.title.css({width:b.width-this.getPadding(this.content).width})),this.content.css({height:b.height?b.height:"",width:b.width?b.width-this.getPadding(this.content).width:"",overflow:"hidden"}),b.width&&this.el.css({width:b.width});var c=b.fixed&&!a.browser.isIE6()?"fixed":"absolute";this.el.css({position:c,zIndex:b.zIndex+2,display:"block",overflow:"hidden"}),this.updateMain()},updateMain:function(){var b=this.options;var c=a.page.docWidth()!=a.page.clientWidth()?16:0;var d=b.fixed?0:a(document).scrollTop();var e=b.fixed?0:a(document).scrollLeft();var f=(a.page.clientHeight()-this.el.outerHeight())/2+d;var g=a.browser.msie&&a.browser.version<10?0:8;var h=(a.page.clientWidth()-c-(b.width?b.width+g:0))/2+e;0>f&&(f=0),0>h&&(h=0),this.el.css({top:f,left:h})},bind:function(){var b=this;var c=this.options;this.options.closeButton&&this.el.find(".ui-dialog-close").bind("click",function(){b.close()}),this.options.autoUpdate&&a(window).resize(function(){b.updateMain()}),c.hasButton&&(this.el.find(".ui-dialog-btn-submit").bind("click",function(){c.onSubmit&&c.onSubmit.call(this)}),this.el.find(".ui-dialog-btn-cancel").bind("click",function(){b.close()})),this.options.maskHas&&this.options.maskClose&&a(this.mask).bind("click",function(){b.close()})},open:function(){this.openType(),this.autoClose(),this.show(),this.iframeSet(),this.options.onReady&&this.options.onReady.call(this)},openType:function(){var b=this.options;var c=this;switch(b.type){case"text":this.content.html(b.source);break;case"html":a(b.source).clone().appendTo(this.content);break;case"iframe":var d={width:"100%",height:"100%"};b.iframeTimestamp&&(b.source+=(b.source.indexOf("?")>-1?"&":"?")+"t="+(new Date).getTime()),this.iframe=a('<iframe src="'+b.source+'" id="'+b.iframeName+'" name="'+b.iframeName+'" marginwidth="0" marginheight="0" frameborder="0" scrolling="no" style="border:0"></iframe>').css(d).appendTo(this.content);break;case"image":var e=b.width?'width="'+b.width+'"':"";var f=b.height?'height="'+b.height+'"':"";var g=a("<img src="+b.source+" "+e+f+"/>");g.appendTo(this.content),g.bind("load",function(){c.updateMain()});break;case"json":}c.updateMain()},close:function(){var a=this.options;this.options.autoCloseTime;this.el.remove(),this.mask.remove(),a.onCancel&&a.onCancel.call(this)},autoClose:function(){var b=this;var c=this.options.autoCloseTime;if(c){var d=c;a("<div class='ui-dialog-autoclose'><span id='ui-autoclose'>"+d+"</span>\u79d2\u540e\u81ea\u52a8\u5173\u95ed</div>").appendTo(this.el),clearInterval(window.autoCloseTimerDialog),window.autoCloseTimerDialog=setInterval(function(){d--,a("#ui-autoclose").html(d),0==d&&(d=c,b.close(),clearInterval(window.autoCloseTimerDialog))},1e3),this.updateMain()}},getIframeHeight:function(a){var b=a[0].contentWindow.document;return b.body.scrollHeight&&b.documentElement.scrollHeight?Math.min(b.body.scrollHeight,b.documentElement.scrollHeight):b.documentElement.scrollHeight?b.documentElement.scrollHeight:b.body.scrollHeight?b.body.scrollHeight:void 0},syncHeight:function(){this.options;var b;try{b=this.getIframeHeight(this.iframe)}catch(c){b=100}this.iframe.css({height:b}),this.updateMain()},iframeSet:function(){var a=this;var b=this.options;"iframe"==b.type&&b.autoIframe&&this.iframe.one("load",function(){a.syncHeight()})}}),a.closeDialog=function(){a(".ui-dialog,.ui-mask").remove(),clearInterval(window.autoCloseTimerDialog)}}(jQuery);
/* jdf-1.0.0/ areamini.js Date:2015-02-05 17:41:36 */
!function(a){var c=window,e=[1,72,0,0],f=e.join("-"),g=-1,h={province:{"\u5317\u4eac":1,"\u4e0a\u6d77":2,"\u5929\u6d25":3,"\u91cd\u5e86":4,"\u6cb3\u5317":5,"\u5c71\u897f":6,"\u6cb3\u5357":7,"\u8fbd\u5b81":8,"\u5409\u6797":9,"\u9ed1\u9f99\u6c5f":10,"\u5185\u8499\u53e4":11,"\u6c5f\u82cf":12,"\u5c71\u4e1c":13,"\u5b89\u5fbd":14,"\u6d59\u6c5f":15,"\u798f\u5efa":16,"\u6e56\u5317":17,"\u6e56\u5357":18,"\u5e7f\u4e1c":19,"\u5e7f\u897f":20,"\u6c5f\u897f":21,"\u56db\u5ddd":22,"\u6d77\u5357":23,"\u8d35\u5dde":24,"\u4e91\u5357":25,"\u897f\u85cf":26,"\u9655\u897f":27,"\u7518\u8083":28,"\u9752\u6d77":29,"\u5b81\u590f":30,"\u65b0\u7586":31,"\u53f0\u6e7e":32,"\u9999\u6e2f":42,"\u6fb3\u95e8":43,"\u9493\u9c7c\u5c9b":84},city:{},area:{},serverLocal:null,provinceList:null};h.province=function(){var b={};return a.each(h.province,function(a,c){b[c]=a}),b}();var i={getUrl:"http://uprofile.jd.com/u/getadds?callback=?",setUrl:"http://uprofile.jd.com/u/setadds",sync:function(b,c){var d="jd.com"==document.domain;if(a.isFunction(b)){if(h.serverLocal)return h.serverLocal;d?b({addr:j("ipLoc-djd")}):a.getJSON(this.getUrl,function(a){h.serverLocal=a,b(a)})}else if(d){var e={domain:".jd.com",path:"/",expires:10};j("areaId",c,e),j("ipLoc-djd",b,e)}else h.serverLocal={adds:b},a.ajax({url:this.setUrl,type:"get",dataType:"jsonp",data:h.serverLocal})}},j=function(a,b,c){if("undefined"==typeof b){var i=null;if(document.cookie&&""!=document.cookie)for(var j=document.cookie.split(";"),k=0;k<j.length;k++){var l=jQuery.trim(j[k]).split("=");if(l[0]==a&&l.length>1){try{i=decodeURIComponent(l[1])}catch(m){i=l[1]}break}}return i}c=c||{},null===b&&(b="",c.expires=-1);var d="";if(c.expires&&("number"==typeof c.expires||c.expires.toUTCString)){var e;"number"==typeof c.expires?(e=new Date,e.setTime(e.getTime()+24*c.expires*60*60*1e3)):e=c.expires,d="; expires="+e.toUTCString()}var f=c.path?"; path="+c.path:"",g=c.domain?"; domain="+c.domain:"",h=c.secure?"; secure":"";document.cookie=[a,"=",encodeURIComponent(b),d,f,g,h].join("")};function k(a){return(a||"").replace(/(^\s*)|(\s*$)/g,"")}function l(a){var b=arguments;if(b.length>1){for(var c=0,d=b.length;d>c;c++)if(l(b[c]))return!0;return!1}return"undefined"===String(a)||"null"===String(a)||("string"==typeof a?""===k(a):!1)}function m(a,b){var c={provinceId:0,provinceName:"",cityId:0,cityName:"",districtId:0,districtName:"",townId:0,townName:""},d=a.split("-");0==d[0]&&(d=e);var f=o(d[0]).value;c.provinceId=f.id,c.provinceName=f.name,b(c)}function n(){var a=[];if(h.provinceList&&h.provinceList.length>0)a=h.provinceList;else{for(var b in h.province)a.push({id:b,name:h.province[b]});h.provinceList=a}return a}function o(a){var b={id:a,name:""},c=null,d=0;return c=h.province[a],c||(c=h.province[e[0]],d=1,b.id=e[0]),b.name=c,{value:b,isDefault:d}}function p(a,b){var c=a.initArea||j(a.cookieMapping.allLocal)||a.defaultArea||f;l(a.initArea)&&a.syncServer?i.sync(function(a){var d=a&&a.adds||c;m(d||c,b)}):m(c,b)}function q(a){return a&&[{id:a.provinceId,name:a.provinceName},{id:a.cityId,name:a.cityName},{id:a.districtId,name:a.districtName},{id:a.townId,name:a.townName}]||[]}function r(b,c,d){a.each(q(b),function(a,b){l(b.id)||0==b.id||(c.push(b.id),d.push(b.name))})}function s(b,c,d,e){var f="";if(c.name.length>=d.longerAreaSize?f="longer-area":c.name.length>=d.longAreaSize&&(f="long-area"),e&&d.className.selected||f){var g=a(b);e&&d.className.selected&&g.find("a:first").addClass(d.className.selected),f&&g.addClass(f),b=a("<div/>").html(g).html(),b=b.replace(/&lt;/g,"<").replace(/&gt;/g,">")}return c.tpl?a.tpl(c.tpl,c):a.tpl(b,c)}function t(b,c,d,e){var f=this,g=f.options.provinceList,h=[],i=[];return i=g?g:n(),a.each(i,function(a,b){h.push(s(c,b,f.options,b.id==e.provinceId))}),a.tpl(b,{list:h.join(""),index:d})}function u(){var b=this,c=b.el,d=b.options,e=d.className;a("."+e.content_content,c).undelegate("a[data-id]","click").delegate("a[data-id]","click",function(f){f.preventDefault();var g=a(this),h={id:g.data("id"),name:g.html()},i=A(c,h.id,0);d.className.selected&&a("."+e.content_content+" a."+d.className.selected,c).removeClass(d.className.selected),m(i,function(c){d.className.selected&&g.addClass(d.className.selected),d.selectedClose&&x.call(b,!1),C.call(b,c),a.isFunction(d.onChange)&&d.onChange.call(b,g,h,c),d.writeCookie&&v(d,c.provinceId,i),d.syncServer&&d.writeServer&&w(i,c.provinceId)})}),a("."+e.content_content,c).undelegate("a[data-onchange=1]","click").delegate("a[data-onchange=1]","click",function(){var f=a(this);d.className.selected&&(a("."+e.content_content+" a."+d.className.selected,c).removeClass(d.className.selected),f.addClass(d.className.selected)),d.selectedClose&&x.call(b,!1),a.isFunction(d.onChange)&&d.onChange.call(b,f)})}function v(a,b,c){j(a.cookieMapping.areaId,b,a.cookieOpts),j(a.cookieMapping.allLocal,c,a.cookieOpts)}function w(a,b){i.sync(a,b)}function x(a){var b=this,c=b.options.className.hover;a?(g>-1&&(clearTimeout(g),g=-1),y.call(b),b.el.addClass(c),g=setTimeout(function(){b.el.addClass(c)},1)):(g>-1&&(clearTimeout(g),g=-1),b.el.removeClass(c))}function y(){var b=this,d=b.el,e=a(b.css.content),f=a(b.css.text).width(),g=e.width(),h=a(c).width(),i=d.offset().left,j=a(b.css.text).offset().left;if(e.data("left")?e.css("left",e.data("left")):e.data("left",e.css("left")),i+g>h){var k=g-f-10;k>j&&(k-=k-j+f-20),e.css({left:"-"+k+"px"})}else i<-1*parseInt(e.css("left"))&&e.css({left:"0px"})}function z(a){return a?[a.provinceId,a.cityId,a.districtId,a.townId]:[0,0,0,0]}function A(a,b,c){var d=a.data("select-local");d=d&&d.split("-")||[0,0,0,0],"object"==typeof b&&(d=z(b));for(var e=0;e<d.length;e++)e==c?d[e]=b:e>c&&(d[e]=0);return d=d.join("-"),a.data("select-local",d),d}function B(b,c){var d=this,e=d.el,f=d.options,g=f.tplContentWrap,h=f.tplContentItem;a(d.css.content_content).html(t.call(d,g,h,0,b)),-1==c&&A(e,b),u.call(d,f)}function C(b){var c=this,d=[],e=[];r(b,e,d),e=e.join("-"),d=d.join(""),a(c.css.text_text).html(d).attr("data-id",e).attr("title",d)}function D(b,c){var d={};return a.each(c,function(e,f){var g=e.split("_"),h=[],i=g.length;a.each(g,function(a,b){return h.push("."+c[b]),i>1&&2+a==i?(h.push("."+f),!1):void 0}),d[e]=b+" "+h.join(" ")}),d}a.ui.define("areamini",{options:{hasCssLink:!0,baseVersion:"1.0.0",cssLinkVersion:"1.0.0",syncServer:!1,initArea:null,defaultArea:null,provinceList:null,provinceExtend:!0,longAreaSize:4,longerAreaSize:12,cookieMapping:{areaId:"areaId",allLocal:"ipLoc-djd"},writeCookie:!0,cookieOpts:{expires:null,path:null,domain:null,secure:null},writeServer:!0,className:{hover:"ui-areamini-hover",text:"ui-areamini-text-wrap",text_text:"ui-areamini-text",content:"ui-areamini-content-wrap",close:"ui-areamini-close",content_tab:"ui-areamini-tab",content_content:"ui-areamini-content",content_content_list:"ui-areamini-content-list",selected:""},tplContentWrap:'<ul class="ui-areamini-content-list"><%=list%></ul>',tplContentItem:'<li><a data-id="<%=id%>" href="javascript:void(0)"><%=name%></a></li>',event:"hover",onReady:null,onChange:null,selectedClose:!0},css:{},init:function(){var b=this,c=b.options,d=b.el;c.scopeLevel=1,b.css=D("#"+d[0].id,c.className),c.provinceList&&c.provinceExtend&&(c.provinceList=a.extend(!0,[],n().concat(c.provinceList))),p(c,function(e){C.call(b,e),B.call(b,e,-1);var f="hover"==c.event?"mouseenter":"click";a(b.css.text).bind(f,function(){return x.call(b,!0),!1}),a(d).bind("mouseleave",function(){x.call(b,!1)}),a(b.css.close).bind("click",function(){x.call(b,!1)}),a.isFunction(c.onReady)&&c.onReady.call(b,e)})},hide:function(){var a=this,b=a.options.className.hover;a.el.removeClass(b)},show:function(){var a=this,b=a.options.className.hover;a.el.addClass(b)}})}(jQuery);
/* jdf-1.0.0/ getjsonp.js Date:2014-03-20 18:11:26 */
!function($){$.extend({"_jsonp":{"scripts":{},"counter":1,"charset":"gb2312","head":document.getElementsByTagName("head")[0],"name":function(callback){var name="_jsonp_"+(new Date).getTime()+"_"+this.counter;this.counter++;var cb=function(json){eval("delete "+name),callback(json),$._jsonp.head.removeChild($._jsonp.scripts[name]),delete $._jsonp.scripts[name]};return eval(name+" = cb"),name},"load":function(a,b,c,d){var e=document.createElement("script");e.type=c||"text/javascript",e.charset=d||this.charset,e.src=a,this.head.appendChild(e),this.scripts[b]=e}},"getJSONP":function(a,b,c,d){var e=$._jsonp.name(b),a=a.replace(/{callback};/,e);return $._jsonp.load(a,e,c,d),this}})}(jQuery);
/* jdf-1.0.0/ event.js Date:2014-10-28 16:27:45 */
define("jdf/1.0.0/unit/event/1.0.0/event.js",[],function(){var c={on:function(a,b){var c=this;this.list=this.list||(this.list=[]),this.list[a]=this.list[a]||[];if("undefined"==typeof b)var b=function(){c[a]&&c[a]()};"function"==typeof b&&this.list[a].push(b)},off:function(a,b){if("function"==typeof b){if("undefined"!=typeof this.list){var c=this.list[a];if(c)for(var d=c.length;d--;)c[d]===b&&c.splice(d,1)}}else this.list[a]=[]},trigger:function(a,b){if("undefined"!=typeof this.list){var c=this.list[a];if(c)for(var d in c)"function"==typeof c[d]&&c[d](b)}},removeAll:function(){this.list=[]}};return c});
/* jdf-1.0.0/ hotkey.js Date:2014-03-20 18:11:27 */
define("jdf/1.0.0/unit/hotkey/1.0.0/hotkey.js",[],function(){function c(){document.onkeyup=function(a){var b=document.activeElement.tagName.toLowerCase();if("input"!=b&&"textarea"!=b){var a=a?a:window.event,c=a.keyCode||a.which;switch(c){case 68:window.pageConfig.clientViewTop||(window.pageConfig.clientViewTop=0),window.pageConfig.clientViewTop+=document.documentElement.clientHeight,window.scrollTo(0,pageConfig.clientViewTop);break;case 83:window.scrollTo(0,0),window.pageConfig.clientViewTop=0,document.getElementById("key").focus();break;case 84:window.scrollTo(0,0),window.pageConfig.clientViewTop=0}}}}return c});
/* jdf-1.0.0/ globalReco.js Date:2014-11-27 18:47:56 */
define("jdf/1.0.0/unit/globalReco/1.0.0/globalReco.js",[],function(){var c=function(a){if(this.param=$.extend({lid:readCookie("ipLoc-djd")||"",lim:6,ec:"utf-8",uuid:-1,pin:readCookie("pin")||""},a.param),this.$el=a.$el,this.template=a.template,this.reBuildJSON=a.reBuildJSON,this.skuHooks=a.skuHooks||"SKUS_recommend",this.ext=a.ext||{},this.callback=a.callback||function(){},this.debug=a.debug,!this.param.p)throw new Error("The param [p] is not Specificed");this.init()};return c.prototype={init:function(){var a=readCookie("__jda");this.param.lid=this.param.lid.indexOf("-")>0?this.param.lid.split("-")[0]:"1",this.param.uuid=a?"-"==a.split(".")[1]?-1:a.split(".")[1]:-1,this.get(this.rid)},get:function(){var d,c=this,e=pageConfig.queryParam,f=[];if(pageConfig.product)for(d=0;d<pageConfig.product.cat.length;d++)this.param["c"+(d+1)]=pageConfig.product.cat[d];if(e){for(var g in e)e.hasOwnProperty(g)&&("c1"==g||"c2"==g||"c3"==g?c.param[g]=e[g]:f.push(g+":"+e[g]));c.param.hi=f.join(",")}this.debug&&console.info("http://diviner.jd.com/diviner?"+decodeURIComponent($.param(this.param))),$.ajax({url:"http://diviner.jd.com/diviner?"+decodeURIComponent($.param(this.param)),dataType:"jsonp",scriptCharset:this.param.ec,cache:!0,jsonpCallback:"call"+parseInt(1e5*Math.random(),10),success:function(a){var b=!!(a.success&&a&&a.data&&a.data.length);b?c.set(a):c.$el.html('<div class="ac">\u300c\u6682\u65e0\u6570\u636e\u300d</div>'),this.debug&&console.log(a),c.callback.apply(c,[b,a])}})},set:function(a){pageConfig[this.skuHooks]=[],a.skuHooks=this.skuHooks,a.ext=this.ext,this.reBuildJSON&&this.reBuildJSON>0&&(a.data=tools.reBuildJSON(a.data,this.reBuildJSON)),this.debug&&alert(this.template.process(a));try{this.$el.show().html(this.template.process(a))}catch(b){/isdebug/.test(location.href)&&"undefined"!=typeof console&&console.error("[pid="+this.param.p+"] "+b)}this.setTrackCode(a.impr)},setTrackCode:function(a){var b=this.$el.find("li"),c=this,d="&m=UA-J2011-1&ref="+encodeURIComponent(document.referrer);b.each(function(){var a=$(this).attr("data-clk");$(this).bind("click",function(b){var e=$(b.target);(e.is("a")||e.is("img")||e.is("span"))&&c.newImage(a+d,!0),e.is("input")&&1==e.attr("checked")&&c.newImage(a+d,!0)})}),this.newImage(a+d,!0)},newImage:function(a,b,c){var d=new Image;a=b?a+"&random="+Math.random()+new Date:a,d.onload=function(){"undefined"!=typeof c&&c(a)},d.setAttribute("src",a)}},c});
/* jdf-1.0.0/ search.js Date:2015-06-25 17:52:16 */
var searchlog=function(){var a="http://sstat."+pageConfig.FN_getDomain()+"/scslog?args=";var b="{keyword}^#psort#^#page#^#cid#^"+encodeURIComponent(document.referrer);var c="2";var d="";var e="";var f=function(){var f="";var g="";var h="";var i="0";if(arguments.length>0)if(0==arguments[0])f=a+c+"^"+b+"^^^58^^"+e+"^"+d;else if(1==arguments[0]){f=10!=c?a+"1^"+b+"^":a+"11^"+b+"^";for(var j=1;j<arguments.length;j++)f+=encodeURI(arguments[j])+"^";arguments.length>3&&"51"==arguments[3]&&(g=arguments[1]),arguments.length>3&&"55"==arguments[3]&&(h=arguments[1]),arguments.length>3&&"56"==arguments[3]&&(i=arguments[1]);for(var j=0,k=5-arguments.length;k>j;j++)f+="^";f+=e+"^"+d}f=f.replace("#cid#",g),f=f.replace("#psort#",h),f=f.replace("#page#",i),$.getScript(f)};return f}();function search(a){var b="http://search.jd.com/Search?keyword={keyword}&enc={enc}{additional}";var c=search.additinal||"";var d=document.getElementById(a);var e=d.value;if(e=e.replace(/^\s*(.*?)\s*$/,"$1"),e.length>100&&(e=e.substring(0,100)),""==e)return void(window.location.href=window.location.href);var f=0;"undefined"!=typeof window.pageConfig&&"undefined"!=typeof window.pageConfig.searchType&&(f=window.pageConfig.searchType);var g="&cid{level}={cid}";var h="string"==typeof search.cid?search.cid:"";var i="string"==typeof search.cLevel?search.cLevel:"";var j="string"==typeof search.ev_val?search.ev_val:"";switch(f){case 0:break;case 1:i="-1",c+="&book=y";break;case 2:i="-1",c+="&mvd=music";break;case 3:i="-1",c+="&mvd=movie";break;case 4:i="-1",c+="&mvd=education";break;case 5:var k="&other_filters=%3Bcid1%2CL{cid1}M{cid1}[cid2]";switch(i){case"51":g=k.replace(/\[cid2]/,""),g=g.replace(/\{cid1}/g,"5272");break;case"52":g=k.replace(/\{cid1}/g,"5272"),g=g.replace(/\[cid2]/,"%3Bcid2%2CL{cid}M{cid}");break;case"61":g=k.replace(/\[cid2]/,""),g=g.replace(/\{cid1}/g,"5273");break;case"62":g=k.replace(/\{cid1}/g,"5273"),g=g.replace(/\[cid2]/,"%3Bcid2%2CL{cid}M{cid}");break;case"71":g=k.replace(/\[cid2]/,""),g=g.replace(/\{cid1}/g,"5274");break;case"72":g=k.replace(/\{cid1}/g,"5274"),g=g.replace(/\[cid2]/,"%3Bcid2%2CL{cid}M{cid}");break;case"81":g=k.replace(/\[cid2]/,""),g=g.replace(/\{cid1}/g,"5275");break;case"82":g=k.replace(/\{cid1}/g,"5275"),g=g.replace(/\[cid2]/,"%3Bcid2%2CL{cid}M{cid}")}b="http://search.e.jd.com/searchDigitalBook?ajaxSearch=0&enc=utf-8&key={keyword}&page=1{additional}";break;case 6:i="-1",b="http://music.jd.com/8_0_desc_0_0_1_15.html?key={keyword}";break;case 7:b="http://s.e.jd.com/Search?key={keyword}&enc=utf-8"}if("string"==typeof h&&""!=h&&"string"==typeof i){var l=/^(?:[1-8])?([1-3])$/;i="-1"==i?"":l.test(i)?RegExp.$1:"";var m=g.replace(/\{level}/,i);m=m.replace(/\{cid}/g,h),c+=m}"string"==typeof j&&""!=j&&(c+="&ev="+j),e=encodeURIComponent(e),sUrl=b.replace(/\{keyword}/,e),sUrl=sUrl.replace(/\{enc}/,"utf-8"),sUrl=sUrl.replace(/\{additional}/,c),"undefined"!=typeof $o&&"undefined"!=typeof $o.lastKeyword&&!1!==$o.lastKeyword&&"undefined"!=typeof $o.pvid&&(sUrl+="&wq="+encodeURIComponent($o.lastKeyword)+"&pvid="+$o.pvid),("undefined"==typeof search.isSubmitted||0==search.isSubmitted)&&(setTimeout(function(){window.location.href=sUrl},10),search.isSubmitted=!0)}var $o=function(){var a={};a.replace=function(a,b){return a.replace(/#{(.*?)}/g,function(){var a=arguments[1];return"undefined"!=typeof b[a]?b[a]:arguments[0]})},a.genPvid=function(){var a=parseInt(readCookie("__jdu")||"");return a||(a=Math.round(1e12*Math.random())),(a.toString(36)+"."+(new Date).getTime().toString(36)).split("").reverse().join("")},String.prototype.isEmpty=function(){return 0==this.length};var b='<a style="color:#005AA0" onclick="$o.del(event)">\u5220\u9664</a>';var c="\u641c\u7d22\u5386\u53f2",d="\u7ea6#{amount}\u4e2a\u5546\u54c1",e='history="1"',f='style="color:#005AA0"';var g='<li id="d_#{id}" suggest-pos="#{suggest_pos}" title="#{title}" onclick="$o.clickItem(this)" #{history_mark}><div class="search-item" #{history_style}>#{keyword}</div><div class="search-count">#{search_count}</div></li>';var h='<div id="d_#{id}" suggest-pos="#{suggest_pos}" class="#{className}" title="#{title}" cid="#{cid}" cLevel="#{cLevel}" onclick="$o.clickItem(this)"><div class="search-item">\u5728<strong>#{cname}</strong>\u5206\u7c7b\u4e2d\u641c\u7d22</div><div class="search-count">\u7ea6#{amount}\u4e2a\u5546\u54c1</div></div>';var j='<li class="fore1"><div id="d_#{id}" suggest-pos="#{suggest_pos}" class="fore1" title="#{title}" onclick="$o.clickItem(this)" #{history_mark}><div class="search-item" #{history_style}>#{keyword}</div><div class="search-count">#{search_count}</div></div>#{categorys}</li>';var k=a.genPvid();var l="http://dd.search.jd.com/?ver=2&zip=1&key=#{keyword}&pvid="+k+"&t=#{time}";var m="#FFDFC6";var n="#FFF";var o=$("#key");var p=$("#shelper");function q(){this.length=0,this.index=-1,this.iLastModified=0,this.lastKeyword=!1,this.pvid=k}q.prototype.init=function(){this.length=0,this.index=-1},q.prototype.hideTip=function(){this.init(),this.lastKeyword=!1,p.html("").hide()},q.prototype.clickItem=function(a){var b=a.getAttribute("cid"),c="&suggest="+a.getAttribute("suggest-pos");search.cid=null!=b&&""!=b?b:null;var d=a.getAttribute("cLevel");search.cLevel=null!=d&&""!=d?d:null;var e=a.getAttribute("title");null==e||$.trim(e).isEmpty()||o.val(e),null!==a.getAttribute("pm_type")&&(c+="&prom_type=0"),search.additinal=c,search("key")},q.prototype.mouseenter=function(a){var a=$(a);a.attr("history")&&a.find(".search-count").html(b),a.css("background",m);var d=a.attr("id").split("_"),e=parseInt(d[1],10);if(e!=this.index){if(this.index>-1){var f=$("#d_"+this.index);f.css("background",n),f.attr("history")&&f.find(".search-count").html(c)}this.index=e}},q.prototype.mouseleave=function(a){a.css("background",n),a.attr("history")&&a.find(".search-count").html(c)},q.prototype.selectItemNode=function(a){var d=this;var e=$("#d_"+d.index+":visible");e.css("background-color",n),e.attr("history")&&e.find(".search-count").html(c),-1==d.index&&-1==a&&(a=0),d.index=(d.length+d.index+a)%d.length;var f=$("#d_"+d.index),g="&suggest="+f.attr("suggest-pos");if(f.length>0){f.attr("history")&&f.find(".search-count").html(b),f.css("background-color",m);var h=f.attr("title");null==h||$.trim(h).isEmpty()||o.val(h);var i=f.attr("cid");search.cid=null!=i&&""!=i?i:null;var j=f.attr("cLevel");search.cLevel=null!=j&&""!=j?j:null,"undefined"!=typeof f.attr("pm_type")&&(g+="&prom_type=0"),search.additinal=g}},q.prototype.input=function(){var b=this;b.timeoutId&&clearTimeout(b.timeoutId),b.timeoutId=setTimeout(function(){var c=$.trim(o.val());if(c===b.lastKeyword||!(c||readCookie("_pst")||readCookie("_tp")))return!1;b.lastKeyword=c;var d=a.replace(l,{keyword:encodeURIComponent(c),time:(new Date).getTime()});$.ajax({url:d,dataType:"jsonp",scriptCharset:"utf-8",jsonp:"callback",cache:!0,success:function(a){return function(c){b.iLastModified>a||(b.iLastModified=a,c&&b.onloadItems(c))}}((new Date).getTime())})},150)},q.prototype.keydown_up=function(a){var b=this;var c=a||window.event;0==o.length&&(o=$("#key")),0==p.length&&(p=$("tie"));var d=c.keyCode;switch(d){case 38:b.selectItemNode(-1);break;case 40:b.selectItemNode(1);break;case 27:b.hideTip();break;case 37:break;case 39:break;default:$.browser.mozilla||b.input()}},q.prototype.onloadItems=function(b){if(0==b.length)return void this.hideTip();var k=this;k.init();var l="";var m=0;window.pageConfig&&window.pageConfig.searchType&&(m=window.pageConfig.searchType);var n=1,l="";var q=0,r=$.trim(o.val());for(var s=0,t=b.length;t>s;s++){var u=b[s];if(u){var v=$.trim(u.key),w=u.his?c:a.replace(d,{amount:u.qre}),x=u.his?e:"",y=u.his?f:"";var z=v.toLowerCase().indexOf(r.toLowerCase());var A=v;if(r.length&&0==z&&!u.his&&(A=r+"<strong>"+v.substring(z+r.length)+"</strong>"),u.ci&&u.ci.length>0){var B="",C=q++;for(var D=0,E=u.ci.length;E>D;D++){var F=u.ci[D].cid;if(0==m){if("string"==typeof F&&/^[1-8]4$/.test(F))continue}else if(5==m){if("string"==typeof F&&!/^[5-8]2$/.test(F))continue}else if(1==m||2==m||3==m||4==m)continue;B+=a.replace(h,{id:q,title:v,cid:F,cLevel:u.ci[D].cle,className:"item1",cname:u.ci[D].cna,amount:u.ci[D].cre,suggest_pos:n+".cid."+(D+1)}),q++}l+=a.replace(j,{id:C,title:v,keyword:A,suggest_pos:n+(u.his?".his.0":".def.0"),categorys:B,search_count:w,history_mark:x,history_style:y}),n++}else l+=a.replace(g,{id:q,title:v,keyword:A,suggest_pos:n+(u.his?".his.0":".def.0"),search_count:w,history_mark:x,history_style:y}),q++,n++}}k.length=q,""!=l?(l+='<li class="close" onclick="$o.hideTip()">\u5173\u95ed</li>',p.html(l).show(),p.find('[id^="d_"]').bind("mouseleave",function(){k.mouseleave($(this))}).bind("mouseenter",function(){k.mouseenter($(this))})):p.html("").hide()},q.prototype.bind_input=function(){$.browser.mozilla?(o.bind("keydown",function(a){r.keydown_up(a)}),o.bind("input",function(a){r.input(a)})):o.bind("keyup",function(a){r.keydown_up(a)}),o.focus(function(){setTimeout(function(){r.input()},10)}),p.parent().bind("mouseenter",function(){r.e_position=!0,r.timeoutId&&clearTimeout(r.timeoutId)}).bind("mouseleave",function(){r.e_position=!1,r.timeoutId=setTimeout(function(){r.hideTip()},500)}),$(document).click(function(){r.e_position||r.hideTip()})},q.prototype.del=function(a){var b=this;a=a?a:window.event,window.event?(a.cancelBubble=!0,a.returnValue=!1):(a.stopPropagation(),a.preventDefault());var c=$(a.srcElement?a.srcElement:a.target),d=c.parent().parent().attr("title");$.ajax({url:"http://search.jd.com/suggest.php?op=del&callback=?&key="+encodeURIComponent(d),dataType:"jsonp",scriptCharset:"utf-8",beforeSend:function(){c.parents("li").hide()},success:function(){b.lastKeyword=!1,o.focus()}})};var r=new q;return r.bind_input(),r}();
/* jdf-1.0.0/ setUserInfo.js Date:2014-12-25 16:52:11 */
define("jdf/1.0.0/unit/setUserInfo/1.0.0/setUserInfo.js",[],function(){var c=function(a){a=$.extend({el:$("#loginbar"),callback:null},a||{});var b=function(){return"https:"==document.location.protocol?"https://":"http://"};$.ajax({url:b()+"passport.jd.com/new/helloService.ashx",dataType:"jsonp",scriptCharset:"GBK",success:function(b){b&&b.info&&(a.el.html(b.info),a.callback&&a.callback(b)),b&&b.sso&&$.each(b.sso,function(){$.getJSON(this)})}})};return c});
/* jdf-1.0.0/ myjd.js Date:2015-05-20 17:56:10 */
define("jdf/1.0.0/unit/myjd/2.0.0/myjd.js",["jdf/1.0.0/unit/login/1.0.0/login.js","jdf/1.0.0/ui/dropdown/1.0.0/dropdown.js","jdf/1.0.0/unit/globalReco/1.0.0/globalReco.js","jdf/1.0.0/unit/cookie/1.0.0/cookie.js"],function(require){var c=require("jdf/1.0.0/unit/login/1.0.0/login.js");require("jdf/1.0.0/ui/dropdown/1.0.0/dropdown.js");var e=require("jdf/1.0.0/unit/globalReco/1.0.0/globalReco.js");var f=require("jdf/1.0.0/unit/cookie/1.0.0/cookie.js");var g={init:function(){var a=$("#ttbar-myjd");a.find(".dd").html('<div class="dd-spacer"></div><div class="dd-inner"><span class="loading"></span></div>'),this.el=a,this.bind()},bind:function(){var b=this;this.el.dropdown({enterDelay:100,trigger:!0,current:"hover",onchange:function(a){a.attr("data-load")||(a.attr("data-load",1),b.checkLoginInit())}})},checkLoginInit:function(){var a=this;c({automatic:!0,complete:function(b){if(b){var c="";b.Identity.IsAuthenticated?(c=a.tpl(1,b.Identity.Unick),a.hasLoginInit()):c=a.tpl(0,""),a.el.find(".dd").html(c),a.viewlist(),a.baitiaoInit()}}})},tpl:function(a,b){var c="http://misc.360buyimg.com/lib/img/e/blank.gif";var d='<div class="u-name"><a href="http://home.jd.com/">'+b+"</a></div>";0==a&&(c="http://i.jd.com/commons/img/no-img_mid_.jpg",d='<div class="u-name u-login"><a href="javascript:login();" class="link-login">\u4f60\u597d\uff0c\u8bf7\u767b\u5f55</a></div>');var e='					<div class="u-pic"><a href="http://home.jd.com/"><img src="'+c+'" width="60" height="60" /></a></div>'+d+'					<div class="u-extra">						<a href="http://quan.jd.com/user_quan.action" target="_blank">\u4f18\u60e0\u5238<span id="num-ticket"></span></a>&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;						<a href="http://joycenter.jd.com/msgCenter/queryHistoryMessage.action" target="_blank">\u6d88\u606f<span id="num-tip"></span></a>					</div>			';var f='<div class="dd-spacer"></div>				<div class="userinfo">'+e+'</div>				<div class="otherlist">					<div class="fore1">						<div class="item">							<a href="http://order.jd.com/center/list.action" clstag="" target="_blank">\u5f85\u5904\u7406\u8ba2\u5355<span id="num-unfinishedorder"></span></a>						</div>						<div class="item">							<a href="http://club.jd.com/myjd/userConsultationList_1.html" clstag="" target="_blank">\u54a8\u8be2\u56de\u590d<span id="num-consultation"></span></a>						</div>						<div class="item">							<a href="http://t.jd.com/product/followProductList.action?isReduce=true" clstag="" target="_blank">\u964d\u4ef7\u5546\u54c1<span id="num-reduction"></span></a>						</div>						<div class="item">							<a href="http://myjd.jd.com/repair/orderlist.action" clstag="" target="_blank">\u8fd4\u4fee\u9000\u6362\u8d27</a>						</div>					</div>					<div class="fore2">						<div class="item">							<a href="http://t.jd.com/home/follow" clstag="" target="_blank">\u6211\u7684\u5173\u6ce8</a>						</div>						<div class="item">							<a href="http://bean.jd.com/myJingBean/list" clstag="" target="_blank">\u6211\u7684\u4eac\u8c46</a>						</div>						<div class="item">							<a href="http://trade.jr.jd.com/centre/browse.action" clstag="" target="_blank">\u6211\u7684\u7406\u8d22</a>						</div>						<div class="item baitiao hide">							<a href="http://baitiao.jd.com/creditUser/list" clstag="njdhome|wdbaitiao" target="_blank">\u6211\u7684\u767d\u6761</a>						</div>						<div class="item jincai hide">							<a href="http://baitiao.jd.com/jinCai/record" clstag="" target="_blank">\u4eac\u4e1c\u91d1\u91c7</a>						</div>					</div>				</div>				<div class="viewlist" style="display:none;">					<div class="smt">						<h4>\u6700\u8fd1\u6d4f\u89c8</h4>						<span class="extra">							<a target="_blank" href="http://my.jd.com/history/list.html">\u66f4\u591a&nbsp;&gt;</a>						</span>					</div>					<div class="smc"></div>				</div>			';return f},hasLoginInit:function(){var a=this;$.ajax({url:"http://minijd.jd.com/getHomeCount",dataType:"jsonp",success:function(b){b&&0==b.error&&a.el.find("#num-unfinishedorder").html(a.numStyleSet(b.orderCount))}}),$.ajax({url:"http://comm.360buy.com/index.php?mod=Consultation&action=havingReplyCount",dataType:"jsonp",success:function(b){b&&a.el.find("#num-consultation").html(a.numStyleSet(b.cnt))}}),$.ajax({url:"http://follow.soa.jd.com/product/queryForReduceProductCount.action?",dataType:"jsonp",success:function(b){b&&b.data>0&&a.el.find("#num-reduction").html(a.numStyleSet(b.data))}}),$.ajax({url:"http://quan.jd.com/getcouponcount.action",dataType:"jsonp",success:function(b){b&&a.el.find("#num-ticket").html(a.numStyleSet(b.CouponCount))}}),$.ajax({url:"http://joycenter.jd.com/msgCenter/init.action",dataType:"jsonp",success:function(b){b&&"G001001"==b.result&&a.el.find("#num-tip").html(a.numStyleSet(b.msgUnreadCount))}}),$.ajax({url:"http://i.jd.com/user/petName/getUserInfoForMiniJd.action",dataType:"jsonp",success:function(b){b&&b.imgUrl&&a.el.find(".u-pic img").attr("src",b.imgUrl)}})},numStyleSet:function(a){return 0==a?"":'<span class="num" style="color:#c00">&nbsp;'+a+"</span>"},viewlist:function(){var a=this;new e({$el:$("#jduc-viewlist"),skuHooks:"SKUS_recent_view",template:"",param:{p:202001,sku:"",ck:"pin,ipLocation,atw,aview",lim:5},callback:function(b,c){if(b&&c){var d="";c=c.data,$.each(c,function(a){4>a&&(d+='<div class="item"><a href="http://item.jd.com/'+c[a].sku+'.html" target="_blank" title="'+c[a].t+'"><img src="'+pageConfig.FN_GetImageDomain(c[a].sku)+"n5/"+c[a].img+'" width="50" height="50" alt="'+c[a].t+'" /></a></div>')});var e=a.el.find(".viewlist");e.find(".smc").html(d),e.show()}}})},baitiaoInit:function(){var b=this;f("pin")?this.baitiaoLinkSet(function(a){"3"==a?b.el.find(".jincai").show():b.el.find(".baitiao").show()}):b.el.find(".baitiao").show()},baitiaoLinkSet:function(a){$.ajax({url:"http://api.credit.wangyin.com/veyron/query/queryCreditJsonp",type:"get",dataType:"jsonp",data:{platform:1,userId:f("pin"),productId:-1},success:function(b){b&&b[0]&&a(b[0].productId)}})}};function h(){g.init()}return h});
/* jdf-1.0.0/ shortcut.js Date:2015-06-23 14:37:51 */
define("jdf/1.0.0/unit/shortcut/2.0.0/shortcut.js",["jdf/1.0.0/ui/dropdown/1.0.0/dropdown.js","jdf/1.0.0/ui/areamini/1.0.0/areamini.js","jdf/1.0.0/unit/setUserInfo/1.0.0/setUserInfo.js","jdf/1.0.0/unit/myjd/2.0.0/myjd.js","jdf/1.0.0/unit/localStorage/1.0.0/localStorage.js","jdf/1.0.0/unit/cookie/1.0.0/cookie.js"],function(require){require("jdf/1.0.0/ui/dropdown/1.0.0/dropdown.js");require("jdf/1.0.0/ui/areamini/1.0.0/areamini.js");var e=require("jdf/1.0.0/unit/setUserInfo/1.0.0/setUserInfo.js");var f=require("jdf/1.0.0/unit/myjd/2.0.0/myjd.js");var g=require("jdf/1.0.0/unit/localStorage/1.0.0/localStorage.js");var h=require("jdf/1.0.0/unit/cookie/1.0.0/cookie.js");function i(){var a=$("#shortcut-2014");var b='<div class="dd-spacer"></div><div class="dd-inner"><span class="loading"></span></div>';e({el:$("#ttbar-login")});var c='			<div class="dt cw-icon ui-areamini-text-wrap" style="display:none;">				<i class="ci-right"><s>\u25c7</s></i>				\u9001\u81f3\uff1a<span class="ui-areamini-text"></span> 			</div>			<div class="dd dorpdown-layer">				<div class="dd-spacer"></div>				<div class="ui-areamini-content-wrap"> 					<div class="ui-areamini-content"></div> 				</div> 			</div>		';$("#ttbar-mycity").html(c).areamini({hasCssLink:!1,className:{hover:"hover",selected:"selected"},provinceList:[{name:"\u6d77\u5916",tpl:'<div class="item"><a href="http://en.jd.com/" target="_blank" data-onchange="1"><%=name%></a></div>'}],tplContentWrap:'<div class="ui-areamini-content-list"><%=list%></div>',tplContentItem:'<div class="item"><a data-id="<%=id%>" href="javascript:void(0)"><%=name%></a></div>',syncServer:!0,writeCookie:!1,threeWordDeal:function(a){var b=a.find(".ui-areamini-text").html();var c=a.find(".dd-spacer");3==b.length?c.addClass("dd-spacer-extend"):c.removeClass("dd-spacer-extend")},onReady:function(){this.el.find(".ui-areamini-text-wrap").show();var b=h("areaId");if(g.check()&&b){var c="areaId";g.get(c)?g.get(c)!=b&&(g.set(c,b),g.clearByReg("^jd_home_2015_")):g.set(c,b)}this.options.threeWordDeal(this.el)},onChange:function(a,b){this.options.threeWordDeal(this.el),"undefined"!=typeof b&&window.location.reload()}}),f();var d='			<div class="dd dorpdown-layer">				<div class="dd-spacer"></div>				<div class="dd-inner" id="ttbar-apps-main">'+b+"				</div>			</div>		";$("#ttbar-apps").append(d).attr("aid","2_955_6342").dropdown({enterDelay:50,trigger:!0,current:"hover",onchange:function(a){a.attr("data-load")||(a.attr("data-load",1),$.ajax({url:"http://nfa.jd.com/loadFa.js?aid=2_955_6342",dataType:"script",success:function(){}}))}});var i='			<div class="dd dorpdown-layer">				<div class="dd-spacer"></div>				<div class="dd-inner" id="ttbar-atte-main">'+b+"				</div>			</div>		";$("#ttbar-atte").append(i).attr("aid","2_955_6494").dropdown({enterDelay:50,trigger:!0,current:"hover",onchange:function(a){a.attr("data-load")||(a.attr("data-load",1),$.ajax({url:"http://nfa.jd.com/loadFa.js?aid=2_955_6494",dataType:"script",success:function(){}}))}}),a.find("#ttbar-serv .dd").html(b),a.find("#ttbar-serv").dropdown({enterDelay:50,trigger:!0,current:"hover",onchange:function(b){b.attr("data-load")||(b.attr("data-load",1),$.ajax({url:"http://dc.3.cn/client/get",dataType:"jsonp",scriptCharset:"gb2312",cache:!0,jsonpCallback:"ui_getClientCallback",success:function(b){if(b&&"object"==typeof b){b=b.data;var c='<div class="dd-spacer"></div>';$.each(b,function(a){var d=b[a];var e=d.type?'class="'+d.c+'"':"";c+='<div class="item"><a href="'+d.u+'" target="_blank" '+e+">"+d.n+"</a></div>"}),a.find("#ttbar-serv .dd").html(c)}}}))}}),a.find("#ttbar-navs .dd").html(b),a.find("#ttbar-navs").dropdown({enterDelay:50,trigger:!0,current:"hover",leaveDelay:100,onchange:function(b){b.attr("data-load")||(b.attr("data-load",1),$.ajax({url:"http://dc.3.cn/navigation/get",dataType:"jsonp",scriptCharset:"gb2312",cache:!0,jsonpCallback:"ui_getNavigationCallback",success:function(b){if(b&&"object"==typeof b){b=b.data;var c='<div class="dd-spacer"></div>';$.each(b,function(a){var d=b[a];var e=d.s;var f="";$.each(e,function(a){var b=e[a];var c=b.c?'class="'+b.c+'"':"";f+='<div class="item"><a href="'+b.u+'" target="_blank" '+c+">"+b.n+"</a></div>"});var g=d.n;var h=d.c?'class="'+d.c+'"':"";d.u&&(g='<a href="'+d.u+'" target="_blank" '+h+">"+d.n+"</a>"),c+='<dl class="fore'+(a+1)+'">									<dt>'+g+"</dt>									<dd>										"+f+"									</dd>								</dl>"}),a.find("#ttbar-navs .dd").html(c)}}}))}})}return i});
/* jdf-1.0.0/ shoppingcart.js Date:2015-02-03 17:44:37 */
define("jdf/1.0.0/unit/shoppingcart/2.0.0/shoppingcart.js",["jdf/1.0.0/ui/dropdown/1.0.0/dropdown.js","jdf/1.0.0/unit/trimPath/1.0.0/trimPath.js"],function(require){var e=(require("jdf/1.0.0/ui/dropdown/1.0.0/dropdown.js",["jdf/1.0.0/ui/dropdown/1.0.0/dropdown.js","jdf/1.0.0/unit/trimPath/1.0.0/trimPath.js"]),require("jdf/1.0.0/unit/trimPath/1.0.0/trimPath.js"),{el:null,init:function(){var a=this,b=function(){null!=a.DATA_Amount&&$("#shopping-amount").html(a.DATA_Amount)};document.getElementById("settleup")?(null!=a.DATA_Amount&&$("#settleup s").eq(0).addClass("shopping"),this.el=$("#settleup dl")):document.getElementById("settleup-2013")?this.el=$("#settleup-2013 dl"):document.getElementById("settleup-2014")&&(this.el=$("#settleup-2014"),this.el.find(".ci-right").html("&gt;"),this.el.find(".dorpdown-layer").html('<div class="spacer"></div><div id="settleup-content"><span class="loading"></span></div>'),this.el.find(".cw-icon .ci-right").after('<i class="ci-count" id="shopping-amount"></i>')),b(),null!=this.el&&this.el.dropdown({enterDelay:200,trigger:!0,current:"hover",onchange:function(){a.FN_Refresh(),$("#settleup-url").attr("href","http://cart.jd.com/cart/cart.html?r="+ +new Date)}})},DATA_Cookie:"cn",DATA_Amount:readCookie("cn")||"0",URL_Serv:"http://cart.jd.com/cart/miniCartServiceNew.action",TPL_Iframe:'<iframe scrolling="no" frameborder="0" marginheight="0" marginwidth="0" id="settleup-iframe"></iframe>',TPL_NoGoods:'<div class="spacer"></div><div class="prompt"><div class="nogoods"><b></b>\u8d2d\u7269\u8f66\u4e2d\u8fd8\u6ca1\u6709\u5546\u54c1\uff0c\u8d76\u7d27\u9009\u8d2d\u5427\uff01</div></div>',TPL_List:{wrap:'<div class="spacer"></div><div id="settleup-content"><div class="smt"><h4 class="fl">\u6700\u65b0\u52a0\u5165\u7684\u5546\u54c1</h4></div><div class="smc"></div><div class="smb ar"><div class="p-total">\u5171<b>${Num}</b>\u4ef6\u5546\u54c1\u3000\u5171\u8ba1<strong>\uffe5 ${TotalPromotionPrice.toFixed(2)}</strong></div><a href="http://cart.jd.com/cart/cart.html?r=${+new Date}" title="\u53bb\u8d2d\u7269\u8f66" id="btn-payforgoods">\u53bb\u8d2d\u7269\u8f66</a></div></div>',sigle:'<ul id="mcart-sigle">{for list in TheSkus}  <li>      <div class="p-img fl"><a href="http://item.jd.com/${list.Id}.html" target="_blank"><img src="${pageConfig.FN_GetImageDomain(list.Id)}n5/${list.ImgUrl}" width="50" height="50" alt=""></a></div>      <div class="p-name fl"><a href="http://item.jd.com/${list.Id}.html" title="${list.Name}" target="_blank">${list.Name}</a></div>      <div class="p-detail fr ar">          <span class="p-price"><strong>\uffe5${list.PromotionPrice.toFixed(2)}</strong>\xd7${list.Num}</span>          <br>          {if parseInt(list.FanPrice)>0}          <span class="hl-green">\u8fd4\u73b0\uff1a\uffe5<em>${list.FanPrice}</em></span>          <br>          {/if}          {if parseInt(list.Score)>0}          <span class="hl-orange">\u9001\u4eac\u8c46\uff1a<em>${list.Score}</em></span>          <br>          {/if}          <a class="delete" data-id="${list.Id}" data-type="RemoveProduct" href="javascript:void(0)">\u5220\u9664</a>      </div>      {for jq in list.CouponAD}      <div class="gift-jq">[\u8d60\u5238] \u8d60\u9001${jq.Jing}\u4eac\u5238 ${jq.LimitAd}</a></div>      {/for}  </li>{/for}</ul>',gift:'<ul id="mcart-gift">{for list in TheGifts}  <li>      <div class="p-img fl"><a href="http://item.jd.com/${list.MainSKU.Id}.html" target="_blank"><img src="${pageConfig.FN_GetImageDomain(list.MainSKU.Id)}n5/${list.MainSKU.ImgUrl}" width="50" height="50" alt=""></a></div>      <div class="p-name fl"><a href="http://item.jd.com/${list.MainSKU.Id}.html" title="${list.MainSKU.Name}" target="_blank">${list.MainSKU.Name}</a></div>      <div class="p-detail fr ar">          <span class="p-price"><strong>\uffe5${list.PromotionPrice.toFixed(2)}</strong>\xd7${list.Num}</span>          <br>          {if parseInt(list.FanPrice)>0}          <span class="hl-green">\u8fd4\u73b0\uff1a\uffe5<em>${list.FanPrice}</em></span>          <br>          {/if}          {if parseInt(list.Score)>0}          <span class="hl-orange">\u9001\u4eac\u8c46\uff1a<em>${list.Score}</em></span>          <br>          {/if}          <a class="delete" data-id="${list.MainSKU.Id}" data-type="RemoveProduct" href="#delete">\u5220\u9664</a>      </div>      {for gift in list.Skus}      <div class="gift"><a href="http://item.jd.com/${gift.Id}.html" target="_blank">[{if gift.Type==2}\u8d60\u54c1{/if}{if gift.Type==1}\u9644\u4ef6{/if}] ${gift.Name}</a></div>      {/for}      {for jq in list.CouponAD}      <div class="gift-jq">[\u8d60\u5238] \u8d60\u9001${jq.Jing}\u5143\u4eac\u5238 ${jq.LimitAd}</a></div>      {/for}  </li>  {/for}</ul>',suit:'{for suit in TheSuit}<ul id="mcart-suit">  <li class="dt">      <div class="fl"><span>[\u5957\u88c5]</span> ${suit.Name}</div>      <div class="fr"><em>\u5c0f\u8ba1\uff1a\uffe5${(suit.PromotionPrice*suit.Num).toFixed(2)}</em></div>      <div class="clr"></div>  </li>  {for list in suit.Skus}  <li>      <div class="p-img fl"><a href="http://item.jd.com/${list.Id}.html" target="_blank"><img src="${pageConfig.FN_GetImageDomain(list.Id)}n5/${list.ImgUrl}" width="50" height="50" alt=""></a></div>      <div class="p-name fl"><span></span><a href="http://item.jd.com/${list.Id}.html" title="${list.Name}" target="_blank">${list.Name}</a></div>      <div class="p-detail fr ar">          <span class="p-price"><strong>\uffe5${list.PromotionPrice.toFixed(2)}</strong>\xd7${list.Num}</span>          <br>          {if parseInt(list.FanPrice)>0}          <span class="hl-green">\u8fd4\u73b0\uff1a\uffe5<em>${list.FanPrice}</em></span>          <br>          {/if}          {if parseInt(list.Score)>0}          <span class="hl-orange">\u9001\u4eac\u8c46\uff1a<em>${list.Score}</em></span>          <br>          {/if}          <a class="delete" data-id="${list.Id}|${suit.Id}" data-type="RemoveSuit" href="javascript:void(0)">\u5220\u9664</a>      </div>      {for gift in list.Gifts}      <div class="gift"><a href="http://item.jd.com/${gift.Id}.html" target="_blank">[{if gift.Type==2}\u8d60\u54c1{/if}{if gift.Type==1}\u9644\u4ef6{/if}] ${gift.Name}</a></div>      {/for}      {for jq in list.CouponAD}      <div class="gift-jq">[\u8d60\u5238] \u8d60\u9001${jq.Jing}\u5143\u4eac\u5238 ${jq.LimitAd}</a></div>      {/for}  </li>  {/for}</ul>{/for}',mj:'{for mj in ManJian}<ul id="mcart-mj">  <li class="dt">      <div class="fl"><span class="hl-green">\u6ee1\u51cf</span>{if mj.ManFlag} \u5df2\u8d2d\u6ee1{if mj.ManNum>0}${mj.ManNum}\u4ef6{else}${mj.ManPrice}\u5143{/if}\uff0c\u5df2\u51cf${mj.JianPrice}\u5143{else}\u8d2d\u6ee1{if mj.ManNum>0}${mj.ManNum}\u4ef6{else}${mj.ManPrice}\u5143{/if}\uff0c\u5373\u53ef\u4eab\u53d7\u6ee1\u51cf\u4f18\u60e0{/if}</div>      <div class="fr"><em>\u5c0f\u8ba1\uff1a\uffe5${(mj.PromotionPrice*mj.Num).toFixed(2)}</em></div>      <div class="clr"></div>  </li>  {for list in mj.Skus}  <li>      <div class="p-img fl"><a href="http://item.jd.com/${list.Id}.html" target="_blank"><img src="${pageConfig.FN_GetImageDomain(list.Id)}n5/${list.ImgUrl}" width="50" height="50" alt=""></a></div>      <div class="p-name fl"><span></span><a href="http://item.jd.com/${list.Id}.html" title="${list.Name}" target="_blank">${list.Name}</a></div>      <div class="p-detail fr ar">          <span class="p-price"><strong>\uffe5${list.PromotionPrice.toFixed(2)}</strong>\xd7${list.Num}</span>          <br>          {if parseInt(list.FanPrice)>0}          <span class="hl-green">\u8fd4\u73b0\uff1a\uffe5<em>${list.FanPrice}</em></span>          <br>          {/if}          {if parseInt(list.Score)>0}          <span class="hl-orange">\u9001\u4eac\u8c46\uff1a<em>${list.Score}</em></span>          <br>          {/if}          <a class="delete" data-id="${list.Id}|${mj.Id}" data-type="RemoveSuit" href="#delete">\u5220\u9664</a>      </div>      {for gift in list.Gifts}      <div class="gift"><a href="http://item.jd.com/${gift.Id}.html" target="_blank">[{if gift.Type==2}\u8d60\u54c1{/if}{if gift.Type==1}\u9644\u4ef6{/if}] ${gift.Name}</a></div>      {/for}      {for jq in list.CouponAD}      <div class="gift-jq">[\u8d60\u5238] \u8d60\u9001${jq.Jing}\u5143\u4eac\u5238 ${jq.LimitAd}</a></div>      {/for}  </li>  {/for}</ul>{/for}',mz:'{for mz in ManZeng}<ul id="mcart-mz">  <li class="dt">      <div class="fl"><span class="hl-orange">\u6ee1\u8d60</span>          {if mz.ManFlag}              \u5df2\u8d2d\u6ee1${mz.ManPrice}\u5143\uff0c\u60a8{if mz.ManGifts.length>0}\u5df2{else}\u53ef{/if}\u9886\u8d60\u54c1          {else}              \u8d2d\u6ee1${mz.ManPrice}\u5143\uff0c\u5373\u53ef\u9886\u53d6\u8d60\u54c1          {/if}      </div>      <div class="fr"><em>\u5c0f\u8ba1\uff1a\uffe5${(mz.PromotionPrice*mz.Num).toFixed(2)}</em></div>      <div class="clr"></div>  </li>  {for gift in mz.ManGifts}<li class="dt-mz"><a href="${gift.Id}" target="_blank">[\u8d60\u54c1]${gift.Name}</a>\xd7${gift.Num}</li>{/for}  {for list in mz.Skus}  <li>      <div class="p-img fl"><a href="http://item.jd.com/${list.Id}.html" target="_blank"><img src="${pageConfig.FN_GetImageDomain(list.Id)}n5/${list.ImgUrl}" width="50" height="50" alt=""></a></div>      <div class="p-name fl"><span></span><a href="http://item.jd.com/${list.Id}.html" title="${list.Name}" target="_blank">${list.Name}</a></div>      <div class="p-detail fr ar">          <span class="p-price"><strong>\uffe5${list.PromotionPrice.toFixed(2)}</strong>\xd7${list.Num}</span>          <br>          {if parseInt(list.FanPrice)>0}          <span class="hl-green">\u8fd4\u73b0\uff1a\uffe5<em>${list.FanPrice}</em></span>          <br>          {/if}          {if parseInt(list.Score)>0}          <span class="hl-orange">\u9001\u4eac\u8c46\uff1a<em>${list.Score}</em></span>          <br>          {/if}          <a class="delete" data-id="${list.Id}|${mz.Id}" data-type="RemoveSuit" href="#delete">\u5220\u9664</a>      </div>      {for gift in list.Gifts}      <div class="gift"><a href="http://item.jd.com/${gift.Id}.html" target="_blank">[{if gift.Type==2}\u8d60\u54c1{/if}{if gift.Type==1}\u9644\u4ef6{/if}] ${gift.Name}</a></div>      {/for}      {for jq in list.CouponAD}      <div class="gift-jq">[\u8d60\u5238] \u8d60\u9001${jq.Jing}\u5143\u4eac\u5238 ${jq.LimitAd}</a></div>      {/for}  </li>  {/for}</ul>{/for}'},FN_BindEvents:function(){var a=this;$("#settleup-content .delete").bind("click",function(){var b=$(this).attr("data-id").split("|"),c=$(this).attr("data-type"),d={method:c,cartId:b[0]};b&&(b.length>1&&b[1]&&(d.targetId=b[1]),$.ajax({url:a.URL_Serv,data:d,dataType:"jsonp",success:function(b){b.Result&&a.FN_Refresh()}}))})},FN_Refresh:function(){var c,a=this,b=this.el;c=/dl/.test(b.selector)?b.find("dd").eq(0):b.find(".dorpdown-layer").eq(0);var e=function(b){var d=b.Cart,e=d.TheSkus.length+d.TheSuit.length+d.TheGifts.length+d.ManJian.length+d.ManZeng.length,f=a.TPL_List.sigle.process(b.Cart),g=a.TPL_List.gift.process(b.Cart),h=a.TPL_List.suit.process(b.Cart),i=a.TPL_List.mz.process(b.Cart),j=a.TPL_List.mj.process(b.Cart);if(e>0?(c.html(a.TPL_List.wrap.process(b.Cart)),c.find("#settleup-content .smc").html(f+g+h+j+i),$("#settleup-url").attr("href","http://cart.jd.com/cart/cart.html?r="+ +new Date)):c.html(a.TPL_NoGoods),$.browser.msie&&6==$.browser.version){var k=$("#settleup-content");k.before(a.TPL_Iframe);var l=$("#settleup-iframe");l.height(k.height())}a.FN_BindEvents()};$.ajax({url:a.URL_Serv,data:{method:"GetCart"},dataType:"jsonp",success:function(a){e(a)}}),a.DATA_Amount=readCookie(a.DATA_Cookie),null!=a.DATA_Amount&&$("#shopping-amount").html(a.DATA_Amount).parent().show()}});function f(){e.init()}return f});
/* jdf-1.0.0/ category.js Date:2015-06-23 14:37:52 */
define("jdf/1.0.0/unit/category/2.0.0/category.js",["jdf/1.0.0/ui/lazyload/1.0.0/lazyload.js","jdf/1.0.0/ui/dropdown/1.0.0/dropdown.js","jdf/1.0.0/unit/abtest/1.0.0/abtest.js"],function(require){require("jdf/1.0.0/ui/lazyload/1.0.0/lazyload.js"),require("jdf/1.0.0/ui/dropdown/1.0.0/dropdown.js");var c=require("jdf/1.0.0/unit/abtest/1.0.0/abtest.js");var d={config:{el:$("#categorys-2014 .dd"),mainId:$("#categorys-2014"),dataUrl:"http://dc.3.cn/category/get"},init:function(a){var b=this;var c=$.extend({type:null,mainId:null,el:null},a);c.mainId&&(b.config.mainId=$(c.mainId)),c.el&&(b.config.el=$(c.el)),b.config.mainId.attr("data-type")&&(c.type=b.config.mainId.attr("data-type")),b.isHome()||"home"==c.type?(b.config.mainId.bind("mouseenter",function(){$(this).attr("data-load")||(b.getDataInit(),$(this).attr("data-load",1)),b.config.el.show()}).one("mouseleave",function(){b.config.mainId.find(".dd-inner .item").removeClass("hover")}),b.config.mainId.find(".dd-inner .item").one("mouseenter",function(){if(!b.config.mainId.attr("data-load")){var a=$(this).attr("data-index");b.getDataInit(a),b.config.el.show(),b.config.mainId.attr("data-load",1)}})):"mini"==c.type?b.config.mainId.bind("mouseenter",function(){$(this).attr("data-load")||b.getDataInit(void 0,"mini"),$(this).attr("data-load",1),b.config.mainId.addClass("hover"),b.config.el.addClass("hover").show()}).bind("mouseleave",function(){b.config.mainId.removeClass("hover"),b.config.el.hide()}):"default"==c.type&&(b.config.mainId.find(".dd").size()||(b.config.mainId.append('<div class="dd" style="display:none;"></div>'),b.config.el=function(){return $("#categorys-2014 .dd")}()),$("#navitems-2014").css({"padding-left":210}),$("#categorys-2014 .dd").css({"margin-top":0,"padding-top":2}),b.config.mainId.css({height:"auto",left:0,position:"absolute"}),b.config.mainId.bind("mouseenter",function(){$(this).attr("data-load")||(b.getDataInit(),$(this).attr("data-load",1)),b.config.el.show()}).bind("mouseleave",function(){b.config.el.hide()}))},getDataInit:function(a,b,c){var d=this;$.ajax({url:d.config.dataUrl,dataType:"jsonp",scriptCharset:"gb2312",cache:!0,jsonpCallback:"getCategoryCallback",success:function(e){"mini"==b?(d.render2(e),d.bigiframe(d.config.el.find(".dd-inner"))):(d.render(e),d.bigiframe(d.config.el.find(".dorpdown-layer")),d.bind(a)),c&&c()}})},imgIndex:0,getLinkHtml:function(a,b,c,d,e,f){var g=a.split("|");var h=[];g[0]=g[0].replace(/ /g,"");var j=/^\d.*\d$/.test(g[0])?g[0]:"http://"+g[0].replace(/^http\:\/\//g,"");if("undefined"!=typeof d){var k="";2==d?(k="channel.jd.com",g[0]&&(j=/^\d.*\d$/.test(g[0])?"http://"+k+"/"+g[0]+".html":(/^http/.test(g[0])?"":"http://")+g[0])):3==d&&(/^\d.*\d$/.test(g[0])?2==g[0].split("-").length?j="http://channel.jd.com/"+g[0]+".html":3==g[0].split("-").length&&(j="http://list.jd.com/list.html?cat="+g[0].replace(/\-/g,",")):j=(/^http/.test(g[0])?"":"http://")+g[0])}1==g[3]&&h.push("style-red"),g[2]&&h.push("img-link"),h.length>0&&(h='class="'+h.join(" ")+'"');var l="";return l=g[0]?'<a href="'+j+'" '+h+' target="_blank">':"<span>",g[2]?(this.imgIndex>4&&(this.imgIndex=0),b=b?' width="'+b+'"':"",c=c?' height="'+c+'"':"",l+='<img src="http://misc.360buyimg.com/lib/img/e/blank.gif" data-lazy-img="http://img1'+this.imgIndex+".360buyimg.com/"+g[2]+'"  '+b+c+" />",this.imgIndex+=1):l+=(e?e:"")+g[1]+(f?f:""),l+=g[0]?"</a>":"</span>"},render:function(a){var b=this;var d=a.data;var e="",f="";$.each(d,function(a,g){var h="";var i="";$.each(d[a].s,function(e){var f=d[a].s[e];var j=!1;i+=b.getLinkHtml(f.n)+(e<d[a].s.length-1?"\u3001":""),"n"==g.id&&0==e&&(j=!0,h+='<div class="subitems-main1">');try{c([{percent:20,fn:function(){if("o"==g.id){for(var a=0;a<g.t.length;a++)-1!=g.t[a].indexOf("\u91d1\u878d\u7cbe\u9009")&&(g.t[a]="sale.jd.com/act/w2kQpxmqCS.html|\u5c16\u513f\u8d27||0");g.s[0].s[0].s=g.s[0].s[0].s.concat([{n:"licai.bx.jd.com|\u4fdd\u9669\u7406\u8d22||0",s:[]},{n:"jdd.jr.jd.com/index.html|\u91d1\u70b9\u70b9||0",s:[]}]),g.s[0].s[1].s.pop(),g.s[0].s[1].s=g.s[0].s[1].s.concat([{n:"dj.jd.com|\u80a1\u6743\u4f17\u7b79||0",s:[]},{n:"z.jd.com/search.html?parentIdHidden=14&sort=zhtj|\u5176\u4ed6\u6743\u76ca\u4f17\u7b79||0",s:[]}]),g.s[0].s[2].s=g.s[0].s[2].s.concat([{n:"fang.jd.com|\u79df\u623f\u767d\u6761||0",s:[]}])}}},{percent:80}])}catch(k){}$.each(f.s,function(a){var c=f.s[a].s;var d=b.getLinkHtml(f.s[a].n,null,null,2,null,"<i>&gt;</i>");var e="<dt>"+d+"</dt>";var g="";0!=c&&$.each(c,function(a){g+=b.getLinkHtml(c[a].n,null,16,3)}),g="<dd>"+g+"</dd>",h+='<dl class="fore'+(a+1)+'">'+e+g+"</dl>",j&&6==a&&(h+='</div><div class="subitems-main2">')}),j&&(h+="</div>")});var j=function(b){var c=10>a+1?"0"+(a+1):a+1;return' clstag="h|keycount|2015|05'+c+b+'"'};e+='<div class="item fore'+(a+1)+'" data-index="'+(a+1)+'" '+j("a")+">						<h3>"+i+"</h3>						<i>&gt;</i>					</div>				",h='<div class="subitems"'+j("c")+">"+h+"</div>";var k="";$.each(d[a].c,function(c){var e=d[a].c[c];k+=b.getLinkHtml(e,null,24)}),k&&(k='<span class="line"></span><div class="sale">'+k+"</div>");var l="";$.each(d[a].t,function(c){var e=d[a].t[c];l+=b.getLinkHtml(e,null,24,null,null,"<i>&gt;</i>")}),l='<div class="channels">'+l+"</div>"+k,l='<div class="item-channels"'+j("b")+">"+l+"</div>";var m="";var n=0;$.each(d[a].b,function(c){if(8>c){var e=d[a].b[c];m+=b.getLinkHtml(e,83,35),n+=1}}),n>0&&n%2==1&&(m+='<a><img src="http://img10.360buyimg.com/da/jfs/t757/162/604852976/158/9ed36f8/54c8699bNc2cfc6a1.png"></a>'),m='<div class="item-brands"'+j("d")+'><div class="brands-inner">'+m+"</div></div>";var o="";$.each(d[a].p,function(c){if(2>c){var e=d[a].p[c];o+=b.getLinkHtml(e,168,134)}}),o='<div class="item-promotions"'+j("e")+">"+o+"</div>",f+='<div class="item-sub" id="category-item-'+(a+1)+'" data-id="'+d[a].id+'">'+m+l+h+o+"</div>"}),f='<div class="dorpdown-layer" style="display: none;">				'+f+"				</div>			",e='<div class="dd-inner">'+e+"</div>",b.config.el.append(b.isHome()?f:e+f)},render2:function(a){var b=this;var c=a.data;var d="";$.each(c,function(a){var f="";$.each(c[a].s,function(d){var e=c[a].s[d];f+=b.getLinkHtml(e.n)+(d<c[a].s.length-1?"\u3001":"")});var g=function(b){var c=10>a+1?"0"+(a+1):a+1;return' clstag="h|keycount|2015|05'+c+b+'"'};d+='<div class="item fore'+(a+1)+'" data-index="'+(a+1)+'" '+g("a")+">						<h3>"+f+"</h3>					</div>				"}),d='<div class="dd-inner">'+d+"</div>",b.config.el.html(d)},bind:function(a){var b=this;var c=function(a){b.config.el.find(".dorpdown-layer").show(),b.config.el.find(".item-sub").removeClass("hover");var c=b.config.el.find(".item-sub").eq(a-1);c.addClass("hover"),c.lazyload(),b.topRest()};b.config.el.dropdown({item:"item",current:"hover",topspeed:!0,bodyClass:"item-sub",onchange:function(a){c(a.attr("data-index")),$.browser.msie&&6==$.browser.version&&b.iframeName&&$("#"+b.iframeName).height(b.iframeContext.outerHeight())},onmouseleave:function(){b.config.mainId.find(".dd-inner .item.hover").removeClass("hover"),b.config.el.find(".dorpdown-layer").hide(),b.config.el.find(".item-sub").removeClass("hover"),$.browser.msie&&6==$.browser.version&&b.iframeName&&$("#"+b.iframeName).height(0)}}),"undefined"!=typeof a&&(c(a),b.config.el.find(".item").removeClass("hover"),b.config.el.find(".item").eq(a-1).addClass("hover"))},topRest:function(){var a=this;var b=a.config.el.offset().top;var c=$(window).scrollTop();b=c>b?c-b+44:"",a.config.el.find(".dorpdown-layer").css({top:b})},isHome:function(){return"undefined"!=typeof pageConfig?pageConfig.navId&&"jdhome2015"==pageConfig.navId:!1},bigiframe:function(a,b,c){var d=this;if(a&&$.browser.msie&&6==$.browser.version){"undefined"==typeof b&&(b=a.outerWidth()),"undefined"==typeof c&&(c=a.outerHeight()),100>c&&(c=$(window).height()),d.iframeName="categoryIe6BgIframe",d.iframeContext=a;var e='<iframe src="javascript:false;" frameBorder="0" style="width:'+b+"px;height:"+c+'px;position:absolute;z-index:-1;opacity:0;filter:alpha(opacity=0);top:0;left:0;" id="'+d.iframeName+'">';a.append(e)}}};function e(a){d.init(a)}return e});
/* jdf-1.0.0/ log.js Date:2015-06-26 10:50:13 */
!function(){var a={addHandler:function(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent?a.attachEvent("on"+b,c):a["on"+b]=c},removeHandler:function(a,b,c){a.addEventListener?a.removeEventListener(b,c,!1):a.attachEvent?a.detachEvent("on"+b,c):a["on"+b]=null},getEvent:function(a){return a?a:window.event},getTarget:function(a){return a.target||a.srcElement},preventDefault:function(a){a.preventDefault?a.preventDefault():a.returnValue=!1},stopPropagation:function(a){a.stopPropagaiton?a.stopPropagaiton:a.cancelBubble=!0}};var b=function(a,b){var c=function(a){for(var b=0,c=0;c<a.length;c++)b=(b<<5)-b+a.charCodeAt(c),b&=b;return b};return Math.abs(c(a))%b};var c=function(a){var b=a+"=";var c=document.cookie.split(";");for(var d=0;d<c.length;d++){var e=c[d];for(;" "==e.charAt(0);)e=e.substring(1,e.length);if(0==e.indexOf(b))return e.substring(b.length,e.length)}return null};function d(){var a=0;return document.documentElement&&document.documentElement.scrollTop?a=document.documentElement.scrollTop:document.body&&(a=document.body.scrollTop),a}var e=function(a){var b="uas_log_"+(new Date).getTime();var c=window[b]=new Image;c.onload=c.onerror=function(){window[b]=null},c.src=a,c=null};var f=c("pin")?c("pin"):"";var g=c("__jda")?c("__jda").split(".")[1]:"";var h=function(a){var b=a.clientX-window.screen.width/2;var c=a.clientY+d();var h=window.screen.width;var i="cw="+b+"$ch="+c+"$sw="+h;var j="http://mercury.jd.com/log.gif?t=uas.000000&pin="+f+"&uid="+g+"&v="+i+"&random="+Math.random();e(j)};/http\:\/\/channel\.jd\.com\/fashion\.html/.test(location.href)&&g&&b(g,1e4)<2e3&&a.addHandler(document,"click",function(b){var c=a.getEvent(b);h(c)})}();
