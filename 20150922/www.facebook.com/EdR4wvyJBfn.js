/*!CK:808494499!*//*1439304145,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["rp328"]); }

__d('BanzaiReliability',['AsyncSignal','Banzai','URI','WebStorage','invariant','isInIframe','setTimeoutAcrossTransitions'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){if(c.__markCompiled)c.__markCompiled();var o='msys:reliability',p='/bz/reliability',q='start',r='ok',s=k.getLocalStorage(),t=null,u=null,v={delay:i.BASIC.delay,retry:true},w='banzai_reliability_test',x={banzaiSendOnLoad:function(da){da(q);ba('banzaiSendOnLoad','OK');},banzaiSendOnUnload:function(da){da(q);ba('banzaiSendOnUnload','OK');},module:function(da){da(r);},inframe:function(da){da(r);},load:function(da){da(r);},unload:function(da){da(r);},store:function(da){if(!s){da('skip');return;}da(q);try{s.setItem(o,'id_'+t);}catch(ea){da('setItem',ea);return;}n(x._stored.bind(null,da),0);},_stored:function(da){var ea;try{ea=s.getItem(o);}catch(fa){da('getItem',fa);}if(!(!ea))if(ea.substr(0,3)=='id_'){da(r,null,ea.substr(3));}else da('unexpected');},restore:function(da){if(!s){da('skip');return;}da(q);x._stored(da);try{s.removeItem(o);}catch(ea){da('removeItem',ea);}}};function y(da){!(da in x)?l(0):undefined;function ea(ga,ha,ia){var ja={lid:ia||t,test:da,status:ga};if(document.activityState)ja.activity_state=document.activityState;if(ha){ja.status='error:'+ga;ja.error=ha.message;}if(u){ja.iframe=true;var ka=document.createElement('iframe'),la={src:new j(p).addQueryData(ja),width:0,height:0,frameborder:0,scrolling:'no',className:'bzHiddenFrame'};Object.keys(la).forEach(function(ma){ka.setAttribute(ma,la[ma]);});ka.setAttribute('aria-hidden','true');document.body.appendChild(ka);}else new h(p,ja).send();}try{x[da](ea);}catch(fa){ea('error',fa);}}function z(){y('load');y('store');y('banzaiSendOnLoad');}function aa(){y('unload');}function ba(da,ea){i.post(w,{lid:t,test:da,status:ea},v);}function ca(da,ea){t=da;u=ea;if(m()){y('inframe');return;}y('module');y('restore');if(b.addEventListener){b.addEventListener('load',z);b.addEventListener('unload',aa);}else if(b.attachEvent){b.attachEvent('onload',z);b.attachEvent('onunload',aa);}i.subscribe(i.SHUTDOWN,function(){y('banzaiSendOnUnload');});}g.main=ca;},null);