/* From: production-mt-wfe-58-70-use1 : 26570 */
huff.unit("common_paginator",function(b){var a=this;a.init=function(c,d){d=d||{};c.moduleName=d.moduleName||"";c.update_max_page=d.update_max_page||false;c.url=d.url||"";c.request_method=d.request_method||"GET";c.maxPage=d.maxPage||0;if(c.update_max_page&&c.maxPage){Dom.get("hp_"+c.moduleName+"_total_pages").innerHTML=c.maxPage}c.callback=d.callback||function(){};c.render_content_after_requested=d.render_content_after_requested||null;c.dataType=d.dataType||"html";c.recognize_cmd=d.recognize_cmd||function(){return""};c.is_loaded_callback=d.is_loaded_callback||function(){return 1};c.cPages=d.cPages||function(e){return e.match(/c_pages:(.*?)\s/)[1]};c.create_page_ajax_url=d.create_page_ajax_url||function(f,e){if(e){return e+"&page="+f}};c.custom_data=d.custom_data||[];c.is_circle=d.is_circle||false;c.is_custom_data=d.is_custom_data||false;c.is_ajax_update=d.is_ajax_update||false;c.is_update_current_page=(false===d.is_update_current_page)?false:true;c.is_whole_circle=d.is_whole_circle||false;c.is_ajax_eval=d.is_ajax_eval||false;c.update_images=d.update_images||false;c.custom_img_width=d.custom_img_width||74;c.custom_img_height=d.custom_img_height||54;c.custom_play_button=d.custom_play_button||false;c.currentPage=1;c.currentCustomPage=0;c.startPage=1;c.to_hide=0;c.lock=false;c.no_animation=(d.no_animation_for_ie&&HPBrowser.isIEOld())||false;c.main_block_to_hide=d.main_block_to_hide||null;if(""==c.moduleName){HPError.e("You should set name of module");return false}if(0==c.maxPage){HPError.e("You should set maximum of pages");return false}E.on($("hp_"+c.moduleName+"_previous_arrow"),"click",c.Previous,c,true);E.on($("hp_"+c.moduleName+"_next_arrow"),"click",c.Next,c,true)};a.Previous=function(c){if(c.currentPage<=c.startPage&&!c.is_circle){return false}else{if(c.currentPage<=c.startPage&&!c.is_whole_circle){return false}}if(c.lock){return false}c.lock=true;c.to_hide=c.currentPage;if(c.is_circle&&c.currentPage<=c.startPage){c.currentPage=c.maxPage}else{c.currentPage--}if(c.is_update_current_page){$("hp_"+c.moduleName+"_current_page").innerHTML=c.currentPage}c.update_images&&huff.emit("content/update","#hp_"+c.moduleName+"_page_"+c.currentPage);HuffPoUtil.hide("hp_"+c.moduleName+"_page_"+c.to_hide);HuffPoUtil.show("hp_"+c.moduleName+"_page_"+c.currentPage);c.callback(c.currentPage);c.lock=false};a.Goto=function(h,f){var d=h;var e=h.create_page_ajax_url(f,h.url);if($("hp_"+h.moduleName+"_page_"+f)){HuffPoUtil.hide("hp_"+h.moduleName+"_page_"+h.currentPage);HuffPoUtil.show("hp_"+h.moduleName+"_page_"+f);h.update_images&&huff.emit("content/update","#hp_"+h.moduleName+"_page_"+f);if(h.is_update_current_page){$("hp_"+h.moduleName+"_current_page").innerHTML=f}d.callback(d.currentPage);h.currentPage=f}else{if(h.no_animation){$("hp_"+h.moduleName+"_all_pages").style.visibility="hidden"}else{SNPModule.animatePage(0,"hp_"+h.moduleName+"_all_pages")}$("hp_"+h.moduleName+"_main").style.background="transparent url('http://s.huffpost.com/images/loader.gif') no-repeat center top";var c=6;var g=0;var i=function(){C.asyncRequest(d.request_method,e+"&forced="+Math.random(),{success:function(m){var n=m.responseText;if("json"===d.dataType){n=jQuery.parseJSON(m.responseText)}if(!d.is_loaded_callback(n)&&g<c){setTimeout(function(){i()},3000);++g;return}var l=d.recognize_cmd(n);if("hide_block"===l&&d.main_block_to_hide){$(d.main_block_to_hide).style.display="none"}var j="";if("function"===typeof d.render_content_after_requested){j=d.render_content_after_requested(n)}else{j=m.responseText}var k=d.currentPage;d.currentPage="update_page_to_first"===l?1:f;if(Dom.get("hp_"+d.moduleName+"_page_"+d.currentPage)){HuffPoUtil.hide("hp_"+d.moduleName+"_page_"+k);d.maxPage=d.cPages(n);Dom.get("hp_"+d.moduleName+"_total_pages").innerHTML=d.maxPage;Dom.get("hp_"+d.moduleName+"_page_"+d.currentPage).innerHTML=j}else{HuffPoUtil.hide("hp_"+d.moduleName+"_page_"+k);$("hp_"+d.moduleName+"_all_pages").innerHTML+=j}if(d.is_ajax_eval){HPUtil.EvalScript(j)}HuffPoUtil.show("hp_"+d.moduleName+"_page_"+d.currentPage);d.update_images&&huff.emit("content/update","#hp_"+d.moduleName+"_page_"+d.currentPage);$("hp_"+d.moduleName+"_main").style.background="";if(d.no_animation){$("hp_"+d.moduleName+"_all_pages").style.visibility="visible"}else{SNPModule.animatePage(1,"hp_"+d.moduleName+"_all_pages")}if(d.is_update_current_page){$("hp_"+d.moduleName+"_current_page").innerHTML=d.currentPage}d.callback(d.currentPage)},failure:function(){$("hp_"+d.moduleName+"_main").style.background="";if(d.no_animation){$("hp_"+d.moduleName+"_all_pages").style.visibility="visible"}else{SNPModule.animatePage(1,"hp_"+d.moduleName+"_all_pages")}HPError.e("we have problems with ajax request")}})};i()}};a.Next=function(n){if(n.currentPage>=n.maxPage&&!n.is_circle){return false}if(n.lock){return false}n.lock=true;n.to_hide=n.currentPage;if(n.is_circle&&n.currentPage>=n.maxPage){n.currentPage=n.startPage}else{n.currentPage++}if(n.is_ajax_update){var r=n;var c=n.create_page_ajax_url(n.currentPage,n.url);if($("hp_"+n.moduleName+"_page_"+n.currentPage)){HuffPoUtil.hide("hp_"+n.moduleName+"_page_"+n.to_hide);HuffPoUtil.show("hp_"+n.moduleName+"_page_"+n.currentPage);n.update_images&&huff.emit("content/update","#hp_"+n.moduleName+"_page_"+n.currentPage);if(n.is_update_current_page){$("hp_"+n.moduleName+"_current_page").innerHTML=n.currentPage}r.callback(r.currentPage);n.lock=false}else{if(n.no_animation){$("hp_"+n.moduleName+"_all_pages").style.visibility="hidden"}else{SNPModule.animatePage(0,"hp_"+n.moduleName+"_all_pages")}$("hp_"+n.moduleName+"_main").style.background="transparent url('http://s.huffpost.com/images/loader.gif') no-repeat center top";var p=6;var h=0;var r=n;var k=function(){C.asyncRequest(r.request_method,c,{success:function(t){var u=t.responseText;if("json"===r.dataType){u=jQuery.parseJSON(t.responseText)}if(!r.is_loaded_callback(u)&&h<p){setTimeout(function(){k()},3000);++h;return}var s=r.recognize_cmd(u);if("hide_block"===s&&r.main_block_to_hide){$(r.main_block_to_hide).style.display="none"}var i="";if("function"===typeof r.render_content_after_requested){i=r.render_content_after_requested(u)}else{i=t.responseText}r.currentPage="update_page_to_first"===s?1:r.currentPage;if(Dom.get("hp_"+r.moduleName+"_page_"+r.currentPage)){HuffPoUtil.hide("hp_"+r.moduleName+"_page_"+r.to_hide);r.maxPage=r.cPages(u);Dom.get("hp_"+r.moduleName+"_total_pages").innerHTML=r.maxPage;Dom.get("hp_"+r.moduleName+"_page_"+r.currentPage).innerHTML=i}else{HuffPoUtil.hide("hp_"+r.moduleName+"_page_"+r.to_hide);$("hp_"+r.moduleName+"_all_pages").innerHTML+=i}if(r.is_ajax_eval){HPUtil.EvalScript(i)}HuffPoUtil.show("hp_"+r.moduleName+"_page_"+r.currentPage);r.update_images&&huff.emit("content/update","#hp_"+r.moduleName+"_page_"+r.currentPage);$("hp_"+r.moduleName+"_main").style.background="";if(r.no_animation){$("hp_"+r.moduleName+"_all_pages").style.visibility="visible"}else{SNPModule.animatePage(1,"hp_"+r.moduleName+"_all_pages")}if(r.is_update_current_page){$("hp_"+r.moduleName+"_current_page").innerHTML=r.currentPage}r.callback(r.currentPage);r.lock=false},failure:function(){$("hp_"+r.moduleName+"_main").style.background="";if(r.no_animation){$("hp_"+r.moduleName+"_all_pages").style.visibility="visible"}else{SNPModule.animatePage(1,"hp_"+r.moduleName+"_all_pages")}HPError.e("we have problems with ajax request");r.lock=false}})};k()}}else{if(n.is_custom_data){if($("hp_"+n.moduleName+"_page_"+n.currentPage)){HuffPoUtil.hide("hp_"+n.moduleName+"_page_"+n.to_hide);HuffPoUtil.show("hp_"+n.moduleName+"_page_"+n.currentPage);n.update_images&&huff.emit("content/update","#hp_"+n.moduleName+"_page_"+n.currentPage);if(n.is_update_current_page){$("hp_"+n.moduleName+"_current_page").innerHTML=n.currentPage}}else{n.currentCustomPage+=1;HuffPoUtil.hide("hp_"+n.moduleName+"_page_"+n.to_hide);var m=document.createElement("div");m.id="hp_"+n.moduleName+"_page_"+n.currentPage;var f=n.custom_data[n.currentCustomPage].length;for(var j=0;j<f;j++){var q=document.createElement("div");q.className="snp_most_popular_entry";var o=document.createElement("div");o.className="arial_14 bold widget_entry_title";var e=document.createElement("a");e.href=n.custom_data[n.currentCustomPage][j].entry_url;e.className="color_222222";e.target="partners";e.innerHTML=n.custom_data[n.currentCustomPage][j].title;if(n.custom_data[n.currentCustomPage][j].entry_click!=null){E.on(e,"click",n.custom_data[n.currentCustomPage][j].entry_click,n,true)}var g=document.createElement("div");g.className="widget_entry_img";var l=document.createElement("a");l.target="partners";l.href=n.custom_data[n.currentCustomPage][j].entry_url;if(n.custom_data[n.currentCustomPage][j].entry_click!=null){E.on(l,"click",n.custom_data[n.currentCustomPage][j].entry_click,n,true)}var d=document.createElement("img");d.src=n.custom_data[n.currentCustomPage][j].img_url;d.width=n.custom_img_width;d.height=n.custom_img_height;d.className="img_border";if(n.custom_play_button){img_read_more=document.createElement("img");img_read_more.src="http://s.huffpost.com/images/widgets/play_round.png";img_read_more.className="widget_play";img_read_more.setAttribute("alt","Play");img_read_more.width=16;img_read_more.height=16;l.appendChild(img_read_more);img_read_more_large=document.createElement("img");img_read_more_large.src="http://s.huffpost.com/images/widgets/play_round_large.png";img_read_more_large.className="widget_play_large";img_read_more_large.setAttribute("alt","Play");img_read_more_large.width=50;img_read_more_large.height=50;l.appendChild(img_read_more_large)}o.appendChild(e);q.appendChild(o);l.appendChild(d);g.appendChild(l);q.appendChild(g);m.appendChild(q)}$("all_"+n.moduleName+"_pages").appendChild(m);HuffPoUtil.show("hp_"+n.moduleName+"_page_"+n.currentPage);if(n.is_update_current_page){$("hp_"+n.moduleName+"_current_page").innerHTML=n.currentPage}}}else{HuffPoUtil.hide("hp_"+n.moduleName+"_page_"+n.to_hide);HuffPoUtil.show("hp_"+n.moduleName+"_page_"+n.currentPage);if(n.is_update_current_page){$("hp_"+n.moduleName+"_current_page").innerHTML=n.currentPage}}}if(!n.is_ajax_update){n.lock=false}};b(a)});

/* From: production-mt-wfe-58-70-use1 : 26570 *//* 0965391cdab1d772a0e3bd6ead9dc00d8c435604 */