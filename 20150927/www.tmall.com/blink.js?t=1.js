KISSY.add("mui/lift",function(e,n,a,t,i,o,s,l,f,r,d){var c="";var u=n.all;var p={node:"",effect:"fade",easing:"ease",duration:300,frequency:100,locationDif:0,when:{type:1,top:300,node:"",delay:1e3},changeType:{type:1,offset:0},beginNormal:{isUsed:true,offset:n(window).height()*.6},clickOffset:80,top:{node:"",easing:"ease",duration:300},map:{enable:false,easing:"ease",duration:300,curPannelCls:"mui-lift-cur-pannel",curNavCls:"mui-lift-cur-nav",rule:{"":""}}};function m(n){var a=this;if(!(this instanceof m)){return new m(n)}a.cfg=e.mix(p,n,true,null,true);a.init();m.superclass.constructor.call(a,n)}e.extend(m,t,{_checkParam:function(){var n=this,a=n.cfg,t=true,i=["normal","fade","zoom","rotate","blur","blink"],o=["linear","ease","ease-in","ease-out","ease-in-out"];if(!u(a.node).length){t=false;e.log("can't find node.")}if(!e.inArray(a.effect,i)){a.effect="zoom"}if(!e.inArray(a.easing,o)){a.easing="ease"}if(!e.isNumber(a.frequency)){a.frequency=100}if((a.when.type==2||a.when.type==4)&&!u(a.when.node).length){t=false;e.log("can't find when node.")}if(!e.isNumber(a.when.top)){a.when.top=300}if(!e.isNumber(a.when.delay)){a.when.delay=3e3}if(!e.inArray(a.top.easing,o)){a.top.easing="ease"}if(!u(a.top.node).length){e.log("can't find top node.")}if(!e.isNumber(a.top.duration)){a.top.duration=300}if(!e.inArray(a.map.easing,o)){a.map.easing="ease"}if(!e.isNumber(a.map.duration)){a.map.duration=300}if(!a.map.curNavCls){a.map.curNavCls="sn-cur-nav"}if(!a.map.curPannelCls){a.map.curPannelCls="sn-cur-pannel"}return t},_initCxt:function(){var n=this,a=n.cfg;n.rootNode=u(a.node);n.navHeight=n.rootNode.height();n.navWidth=n.rootNode.width();var t='<div class="sn-nav-wrapper"></div>';n.rootNode.wrapInner(t);n.navNode=n.rootNode.one(".sn-nav-wrapper");n.navNode.css({position:"absolute",left:"0",right:"0",top:"0",bottom:"0",margin:"auto",display:"none",width:n.navWidth,height:n.navHeight});n.rootNode.css({display:"block",overflow:"visible",width:n.navWidth,height:n.navHeight});n.whenNode=u(a.when.node);n.topNode=u(a.top.node);if(a.map.enable){n.navNodes=new e.NodeList;n.pannelNodes=new e.NodeList;e.each(a.map.rule,function(e,a){var t=u(a),i=u(e);if(t.length&&i.length){n.navNodes=n.navNodes.add(t);n.pannelNodes=n.pannelNodes.add(i)}})}n.anim=n._getAnimObj()},_scrollCallBack:function(){var n=this,a=n.cfg,t=0,i=document.body.scrollTop||document.documentElement&&document.documentElement.scrollTop;if(a.when.type!=3){if(a.when.type==1){t=a.when.top}if(a.when.type==2){t=n.whenNode.offset().top-u(window).height()}if(a.when.type==4){t=n.whenNode.offset().top}if(i>=t){n.show()}else{n.hide()}}if(a.map.enable){var o=999999,s=0,l=0,f=0,r=999999,d=0;e.each(n.pannelNodes,function(e,t){var c=u(e),p=c.offset().top,m;if(a.changeType.type===1){m=i-p+150+u(n.pannelNodes[t>0?t-1:0]).height()/2}else{m=i-p+a.changeType.offset}if(m>=0&&Math.abs(m)<=o){o=Math.abs(m);s=t}if(l<=p){l=p;f=t}if(r>=p){r=p;d=t}});var c=n.pannelNodes.item(f),p=n.pannelNodes.item(d);pannelBottom=c.height()+c.offset().top,pannelTop=p.offset().top-u(window).height();u("."+a.map.curNavCls).removeClass(a.map.curNavCls);u("."+a.map.curPannelCls).removeClass(a.map.curPannelCls);if(i<pannelBottom&&i>pannelTop+a.beginNormal.offset){n.navNodes.item(s).addClass(a.map.curNavCls);n.pannelNodes.item(s).addClass(a.map.curPannelCls)}}return true},_addEvent:function(){var n=this,a=n.cfg;var t=e.buffer(n._scrollCallBack,a.frequency,this);t();u(window).on("scroll resize",function(e){t()});if(n.topNode.length){n.topNode.on("click",function(e){e.preventDefault();d.scrollWindow(0,0,a.top.duration,a.top.easing)})}if(a.map.enable){n.navNodes.on("click",function(e){e.preventDefault();var t=u(this),i=n.navNodes.index(t),o=n.pannelNodes.item(i),s=o.offset().top+a.clickOffset;d.scrollWindow(0,s-a.locationDif,a.map.duration,a.map.easing);u("."+a.map.curNavCls).removeClass(a.map.curNavCls);u("."+a.map.curPannelCls).removeClass(a.map.curPannelCls);t.addClass(a.map.curNavCls);o.addClass(a.map.curPannelCls)})}},_when:function(){var n=this,a=n.cfg;if(a.when.type==3){e.later(n.show,a.when.delay,false,n)}},stopAnim:function(e){a.stop(e,true)},_getAnimObj:function(){var e=this,n=e.cfg,a=o;if(n.effect=="normal"){a=i}else if(n.effect=="fade"){a=o}else if(n.effect=="zoom"){a=s}else if(n.effect=="rotate"){a=l}else if(n.effect=="blur"){a=f}else if(n.effect=="blink"){a=r}else{a=o}return a},_resetStyle:function(){var e=this,n=e.cfg;e.anim.reset(e)},show:function(){var e=this,n=e.cfg;e.stopAnim(e.navNode);e.anim.show(e)},hide:function(){var e=this,n=e.cfg;e.stopAnim(e.navNode);e.anim.hide(e)},init:function(){var e=this;if(d.isIE6)return;if(!e._checkParam()){return false}e._initCxt();e._when();e._resetStyle();e._addEvent()}},{ATTRS:{}});return m},{requires:["node","anim","base","mui/lift/mods/normal","mui/lift/mods/fade","mui/lift/mods/zoom","mui/lift/mods/rotate","mui/lift/mods/blur","mui/lift/mods/blink","mui/lift/mods/tool","mui/lift/css/mui-lift.css"]});KISSY.add("mui/lift/mods/normal",function(e,n,i,o,a){var t="";var s=n.all;var r={display:"none"};var l={display:"block"};var f={display:"none"};var d={reset:function(e){var n=e.cfg;e.navNode.css(r)},show:function(e){var n=e.cfg;e.navNode.css(l)},hide:function(e){var n=e.cfg;e.navNode.css(f)}};return d},{requires:["node","anim","base","mui/lift/mods/tool"]});KISSY.add("mui/lift/mods/tool",function(e){var n=e.Node.all;function i(e){var n=document.createElement("div"),i="Khtml Ms O Moz Webkit".split(" "),o=i.length;if(e in n.style)return true;e=e.replace(/^[a-z]/,function(e){return e.toUpperCase()});while(o--){if(i[o]+e in n.style){return true}}return false}function o(){return n("html").hasClass(".ks-ie6")}var t={isIE6:o(),isSupportTransition:i("transition"),isSupportTransform:i("transform"),isSupportFilter:i("filter"),transition:function(e,n,i){var o=e+" "+n/1e3+"s "+i;return{"-webkit-transition":o,"-moz-transition":o,"-o-transition":o,transition:o}},transform:function(e){return{"-webkit-transform":e,"-moz-transform":e,"-o-transform":e,transform:e}},filter:function(e){return{"-webkit-filter":e,"-moz-filter":e,"-o-filter":e,filter:e}},scrollWindow:function(e,i,o,t){if(!o){window.scrollTo(e+1,i+1)}else{n(window).animate({scrollLeft:e+1,scrollTop:i+1},o/1e3,t)}}};return t});KISSY.add("mui/lift/mods/fade",function(e,n,i,o,a){var t="";var s=n.all;var r=false;var l={opacity:"0",display:"block"};var f={display:"none"};var d={opacity:"1"};var u={opacity:"0"};var c={reset:function(n){var i=n.cfg;if(a.isSupportTransition){n.navNode.css(l);e.later(function(){var e=a.transition("all",i.duration,i.easing);n.navNode.css(e)},10)}else{n.navNode.css(f)}},show:function(n){var i=n.cfg;if(a.isSupportTransition){n.rootNode.show();e.later(function(){r=true;n.navNode.css(d)},10);e.later(function(){r=false},10+i.duration)}else{n.navNode.fadeIn(i.duration/1e3,null,i.easing)}},hide:function(n){var i=n.cfg;if(a.isSupportTransition){n.navNode.css(u);e.later(function(){if(!r){n.rootNode.hide()}},i.duration)}else{n.navNode.fadeOut(i.duration/1e3,null,i.easing)}}};return c},{requires:["node","anim","base","mui/lift/mods/tool"]});KISSY.add("mui/lift/mods/zoom",function(e,n,i,o,a){var t="";var s=n.all;var r=false;var l=e.merge(a.transform("scale(0)"),{display:"block"});var f={width:"0",height:"0",overflow:"hidden",display:"block"};var d=a.transform("scale(1)");var u=a.transform("scale(0)");var c={reset:function(n){var i=n.cfg;if(a.isSupportTransform&&a.isSupportTransition){n.navNode.css(l);e.later(function(){var e=a.transition("all",i.duration,i.easing);n.navNode.css(e)},10)}else{n.navNode.css(f)}},show:function(n){var i=n.cfg;if(a.isSupportTransform&&a.isSupportTransition){n.rootNode.show();e.later(function(){r=true;n.navNode.css(d)},10);e.later(function(){r=false},10+i.duration)}else{n.navNode.animate({width:n.navWidth,height:n.navHeight},i.duration/1e3,i.easing)}},hide:function(n){var i=n.cfg;if(a.isSupportTransform&&a.isSupportTransition){n.navNode.css(u);e.later(function(){if(!r){n.rootNode.hide()}},i.duration)}else{n.navNode.animate({width:0,height:0},i.duration/1e3,i.easing)}}};return c},{requires:["node","anim","base","mui/lift/mods/tool"]});KISSY.add("mui/lift/mods/rotate",function(e,n,i,a,o){var t="";var s=n.all;var r=false;var l=e.merge(o.transform("scale(0) rotate(-270deg)"),{display:"block"});var f={width:"0",height:"0",overflow:"hidden",display:"block"};var d=o.transform("scale(1) rotate(0)");var u=o.transform("scale(0) rotate(-270deg)");var c={reset:function(n){var i=n.cfg;if(o.isSupportTransform&&o.isSupportTransition){n.navNode.css(l);e.later(function(){var e=o.transition("all",i.duration,i.easing);n.navNode.css(e)},10)}else{n.navNode.css(f)}},show:function(n){var i=n.cfg;if(o.isSupportTransform&&o.isSupportTransition){n.rootNode.show();e.later(function(){r=true;n.navNode.css(d)},10);e.later(function(){r=false},10+i.duration)}else{n.navNode.animate({width:n.navWidth,height:n.navHeight},i.duration/1e3,i.easing)}},hide:function(n){var i=n.cfg;if(o.isSupportTransform&&o.isSupportTransition){n.navNode.css(u);e.later(function(){if(!r){n.rootNode.hide()}},i.duration)}else{n.navNode.animate({width:0,height:0},i.duration/1e3,i.easing)}}};return c},{requires:["node","anim","base","mui/lift/mods/tool"]});KISSY.add("mui/lift/mods/blur",function(e,n,i,o,a){var t="";var s=n.all;var r=false;var l=e.merge(a.filter("blur(5px)"),{opacity:"0",display:"block"});var f={display:"none"};var d=e.merge(a.filter("blur(0)"),{opacity:"1"});var u=e.merge(a.filter("blur(5px)"),{opacity:"0"});var m={reset:function(n){var i=n.cfg;if(a.isSupportFilter&&a.isSupportTransition){n.rootNode.css({overflow:"hidden",width:n.navWidth+10,height:n.navHeight+10});n.navNode.css(l);e.later(function(){var e=a.transition("all",i.duration,i.easing);n.navNode.css(e)},10)}else{n.navNode.css(f)}},show:function(n){var i=n.cfg;if(a.isSupportFilter&&a.isSupportTransition){n.rootNode.show();e.later(function(){r=true;n.navNode.css(d)},10);e.later(function(){r=false},10+i.duration)}else{n.navNode.fadeIn(i.duration/1e3,null,i.easing)}},hide:function(n){var i=n.cfg;if(a.isSupportFilter&&a.isSupportTransition){n.navNode.css(u);e.later(function(){if(!r){n.rootNode.hide()}},i.duration)}else{n.navNode.fadeOut(i.duration/1e3,null,i.easing)}}};return m},{requires:["node","anim","base","mui/lift/mods/tool"]});KISSY.add("mui/lift/mods/blink",function(e,n,i,o,a){var t="";var s=n.all;var l=false;var r=e.merge(a.transform("scale(1.2)"),{opacity:"0",display:"block"});var f={display:"none"};var d=e.merge(a.transform("scale(1)"),{opacity:"1"});var u=e.merge(a.transform("scale(1.2)"),{opacity:"0"});var m={reset:function(n){var i=n.cfg;if(a.isSupportTransform&&a.isSupportTransition){n.navNode.css(r);e.later(function(){var e=a.transition("all",i.duration,i.easing);n.navNode.css(e)},10)}else{n.navNode.css(f)}},show:function(n){var i=n.cfg;if(a.isSupportTransform&&a.isSupportTransition){n.rootNode.show();e.later(function(){l=true;n.navNode.css(d)},10);e.later(function(){l=false},10+i.duration)}else{n.navNode.fadeIn(i.duration/1e3,null,i.easing)}},hide:function(n){var i=n.cfg;if(a.isSupportTransform&&a.isSupportTransition){n.navNode.css(u);e.later(function(){if(!l){n.rootNode.hide()}},i.duration)}else{n.navNode.fadeOut(i.duration/1e3,null,i.easing)}}};return m},{requires:["node","anim","base","mui/lift/mods/tool"]});