/*! sjs - v0.1.0 - 2015-01-07
* http://github.adrd.sohuno.com/?p=js/sjs.git
* Copyright (c) 2015 ; Licensed MIT */
define("sjs/base/core",["sjs/util/url","sjs/flash/swfobject"],function(url,swfobject){return{each:function(a,b,c){if(null!=a)if(a.length===+a.length)for(var d=0,e=a.length;e>d;d++)b.call(c,d,a[d],a);else for(var f in a)_.has(a,f)&&b.call(c,f,a[f],a)},extend:function(a){return this.each(Array.prototype.slice.call(arguments,1),function(b,c){if(c)for(var d in c)a[d]=c[d]}),a},get_el:function(a){return document.getElementById(a)},jsonp:function(a){var b="sjs_"+(Math.random()+"").substr(2,16),c=document.createElement("script"),d=document.getElementsByTagName("head")[0];c.unload=function(){c.onload=c.onreadystatechange=null,d.removeChild(c)},c.onload=c.onreadystatechange=function(){(!c.readyState||/loaded|complete/.test(c.readyState))&&(c.unload(),c=void 0)};var e=a.success||function(){},f=a.error||function(){},g=function(a,b,d){c&&c.unload(),b(a),window.clearTimeout(d.timepoint),d.complete&&d.complete(a)};window[b]=function(b){g(b,e,a)},a.timeout&&(a.timepoint=window.setTimeout(function(){g({code:"timeout"},f,a)},a.timeout)),c.src=a.url+(a.url.indexOf("?")>=0?"&":"?")+(a.jsonp||"callback")+"="+b+"&"+url.param(a.data),d.appendChild(c)},using:function(a,b,c){"string"==typeof a&&(c=b,b=a,a=window);var d=b.split(".");return this.each(d,function(b){a[d[b]]=a[d[b]]||(b===d.length-1?c||{}:{}),a=a[d[b]]}),a},tmpl:function(_html,obj){for(var arr=_html.match(/{{\w+}}/g),i=0,j=arr.length;j>i;i++){var pro=arr[i].replace("{{","").replace("}}","");_html=_html.replace(eval("/"+arr[i]+"/g"),obj[pro]||0)}return _html},sflash:function(){var a=swfobject.getFlashPlayerVersion();return a.major+a.minor+a.release?"1":"0"},bind:function(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent?a.attachEvent("on"+b,c):this.using(a,"events."+b,[]).push(c)},unbind:function(a,b,c){a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent?a.detachEvent("on"+b,c):this.using(a,"events")[b]=void 0},fire:function(a,b,c){var d=this.using(a,"events");d[b]&&this.each(d[b],function(){"function"==typeof this&&this.call(a,c)})},is_array:function(a){return"[object Array]"===Object.prototype.toString.call(a)},is_object:function(a){return"[object Object]"===Object.prototype.toString.call(a)},get_Pos:function(a){return a.pageX||a.pageY?{x:a.pageX,y:a.pageY}:{x:a.clientX+document.body.scrollLeft-document.body.clientLeft,y:a.clientY+document.body.scrollTop-document.body.clientTop}},domready:function(a){"complete"===document.readyState?a():document.addEventListener?document.addEventListener("DOMContentLoaded",function(){document.removeEventListener("DOMContentLoaded",arguments.callee,!1),a()},!1):document.attachEvent&&document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&(document.detachEvent("onreadystatechange",arguments.callee),a())})}}});