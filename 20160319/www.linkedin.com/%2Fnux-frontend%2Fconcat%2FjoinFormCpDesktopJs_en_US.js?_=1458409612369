/* Auto generated, hash = 3268xv9o1txwvd3pxa9gy1hwi */
(function(){function a(a,b){return a}dust.register("common/templates/desktop/checkpoint_strings",a);return a})();
(function(){dust.i18n=dust.i18n||{};dust.i18n.cache=dust.i18n.cache||{};dust.i18n.cache["common/templates/desktop/checkpoint_strings"]={i18n_cp_dialog_title:"Security verification",i18n_cp_header:"Just a quick security check",i18n_cp_header_phoneverify:"Let's verify your phone number",i18n_cp_phone_step1:'As an extra security step, we\'ll need to give you a verification code to register. \x3ca href\x3d"https://help.linkedin.com/app/answers/detail/a_id/47206" target\x3d"_blank"\x3eLearn more\x3c/a\x3e',i18n_cp_phoneverify_step1:"We'll send you a verification code via SMS to the mobile number listed below.",
i18n_cp_phone_label_method:"How do you want to get the code?",i18n_cp_phone_sms:"Text my phone",i18n_cp_phone_call:"Call my phone",i18n_cp_phone_label_ccode:"Country code",i18n_cp_phone_label_number:"Enter your phone number below",i18n_cp_phone_label_number_locked:"Your phone number",i18n_cp_phone_placeholder_phone:"Phone number",i18n_cp_phone_disclaimer:"This number will only be used to finish registration and won't be added to your account.",i18n_cp_phone_step2:"To finish registering, please enter the verification code we gave you.\x3cbr /\x3eIt might take a few minutes to receive your code.",
i18n_cp_phone_placeholder_code:"Verification code",i18n_cp_phone_didntreceive:"Didn't receive the code?",i18n_cp_phone_resend:"Send again",i18n_cp_phone_send:"Send code",i18n_cp_phone_verify:"Verify code",i18n_cp_phoneverify_goback:"Go back",i18n_cp_phone_msg_code_sent:"Verification code sent"}})();
(function(){LIModules.exports("NocaptchaRenderer",function(){document.domain=document.domain.split(".").slice(-2).join(".");$('input[name\x3d"on-mobile"]').val();var c=$(".nocaptcha-container"),d=$("#nocaptcha-response"),e,f=f||window.Espany||{},b=new f({remote:location.protocol+"//"+location.hostname+"/scds/common/u/html/checkpoint/nocaptcha.html?"+Date.now(),container:{style:"margin: 0 auto; width: 100%;"},methods:{retryLogin:function(a,b){b&&$("#challengeContent").addClass("fallback-processing");
d.val(a);d.trigger("user-response-ready")},notifyRendered:function(){c.trigger("rendered-nocaptcha")},setIframeSize:function(a,b){e.height(b)},activateFallbackCaptcha:function(){$("#btn-fallback-submit").show().on("click",function(a){a.preventDefault();b.retryLoginFallback()})}},ready:function(){var a=LIModules.requires("i18n"),d=$('input[name\x3d"nocaptcha-sitekey"]').val(),a=a.getLocale().value;switch(a){case "zh_CN":a="zh-CN";break;case "zh_TW":a="zh-TW";break;case "in_ID":a="id";break;default:a=
a.substring(0,2)}-1==="en fr de es zh-CN zh-TW ja ko pt ru nl it ar sr hr cs da fi el iw hi hu id lv lt no pl ro sk sv th tr uk vi sq hy bs my is jv kn ms ml tl ta te".split(" ").indexOf(a)&&(a="en");c.on("reset-nocaptcha",function(){b.resetCaptcha()});c.on("rendered-nocaptcha",function(){e=c.children("iframe").attr("id","noCaptchaIframe");e.contents();b.captchaOnRender();window.setInterval(function(){b.updateIframeSize()},200)});b.renderWhenReady(d,a)}});c.append(b.$container());window.espanyContainer=
b.$container()})})();
(function(a){var d,b;function r(){return c.when(s(),t())}function s(){if(!dust.cache[g])return h||(h=c.ajax({url:play.templateUrl(g),dataType:"script"})),h}function t(){k||(k=u.loadCss(play.scssUrl(v)));return k}function w(){f=new LI.ModalDialogBox(void 0,{title:p,decorators:["scripts/shared/Dialog/AjaxDustTemplateLoading"],dustContentTemplate:g,dustContentTemplateData:l,closeOnMaskClick:!1,width:600,top:75,callbacks:{afterClose:x}});return f.open().then(y)}function y(){var a=c.Deferred();z();d=c(q.responseField);
b=c(q.nocaptchaContainer);d.on("user-response-ready",function(){m.runXhr({url:A,data:{userResponseToken:d.val()}}).then(a.resolve).fail(a.reject);n=!0;f.close()});b.on("rendered-nocaptcha",function(){b.find("iframe")[0].contentWindow.addEventListener("resize",function(){f._fitToWindow()})});return a}function x(){n||e.reject()}var B=a.requires("UnoCheckpoint");a.requires("ModalDialogBox");var u=a.requires("NuxUtil"),z=a.requires("NocaptchaRenderer"),c=window.$||a.requires("jQuery");a={};b=d=void 0;
var k=!1,h=!1,n=!1,e,l,m,p,f,g="scmp/tl/shared/checkpoint/partial/challenge_captcha",v="desktop/challenges/captcha_challenge",A="/checkpoint/challenges/captchaChallenge/CHALLENGEID",q={nocaptchaContainer:".nocaptcha-container",responseField:"#nocaptcha-response"},C={captcha_heading:"i18n_cp_header",cp_dialog_title:"i18n_cp_dialog_title"};a.id="Captcha";a.viewName="CaptchaView";a.runChallenge=function(a,d){m=d;e=c.Deferred();n=!1;var b;a&&a.siteKey?(l=m.extendWithI18n({challenge_form_action:"#",nocaptcha_sitekey:a.siteKey},
C),p=l.cp_dialog_title,b=c.Deferred().resolve()):b=c.Deferred().reject();b.then(r).then(w).then(e.resolve).fail(e.reject);return e};B.registerChallengeType(a)})(LIModules);
(function(e){var u,v,f,w,x,k,y,n,z,A,l;function J(){return b.when(K(),L())}function K(){if(!dust.cache[B])return C||(C=b.ajax({url:play.localizedAssetUrl(B,".js"),dataType:"script"})),C}function L(){D||(D=M.loadCss(play.scssUrl(N)));return D}function O(){g=new LI.ModalDialogBox(void 0,{title:G,decorators:["scripts/shared/Dialog/AjaxDustTemplateLoading"],dustContentTemplate:B,dustContentTemplateData:m,closeOnMaskClick:!1,customClassName:c.customDialogClass,callbacks:{afterClose:P}});return g.open().then(Q)}
function Q(){u=b(d.btnResend);v=b(d.btnSubmit);f=b(d.challengeForm);w=b(d.countryCodeField);x=b(d.countryFlagDisplay);k=b(d.countrySelect);y=b(d.dialogBody);n=b(d.dialogShell);z=b(d.phoneNumberField);A=b(d.phoneTokenField);l=b(d.toast);H();k.on("change",H);f.on("submit",R);u.on("click",S);l.on("click",T)}function H(){var a=k.val();for(key in h)if(h[key].countryCode===a){w.text(h[key].prefix||"");x.removeClass().addClass(c.countryFlagDisplay+" flag-"+h[key].countryCode);break}}function R(a){var e=
f.hasClass(c.verifyPage);a.preventDefault();e?U():(p=b(d.selectedDeliveryMethod).val(),"SMS"===p||"CALL"===p?I():E())}function S(a){var b=f.hasClass(c.verifyPage);a.preventDefault();b&&I()}function I(){q(!0);r.runXhr({url:V,data:{phoneCountryCode:k.val(),phoneNumber:{number:z.val()},pinDeliveryChannel:p}}).then(function(a){q(!1);"SUCCESS"===a.status?(f.addClass(c.verifyPage),v.attr("value",m.btn_verify),F({type:c.success,msg:m.msg_code_sent})):F({type:c.error,msg:a.globalError||a.error})}).fail(E)}
function U(){q(!0);r.runXhr({url:W,data:{pin:A.val()}}).then(function(a){q(!1);"SUCCESS"===a.status?(s=!0,g.close(),t.resolve()):F({type:c.error,msg:a.globalError||a.error})}).fail(E)}function F(a){var b=a.type;a=a.msg;l.removeClass().addClass(c.toast+" "+b).text(a).focus();g._resizeHandler()}function T(){l.addClass(c.off);g._resizeHandler()}function q(a){a?(y.scrollTop(0),n.addClass(c.loading)):n.removeClass(c.loading)}function E(){s=!1;g.close()}function P(){s||t.reject()}var X=e.requires("UnoCheckpoint");
e.requires("ModalDialogBox");var M=e.requires("NuxUtil"),b=window.$||e.requires("jQuery");e={};l=A=z=n=y=k=x=w=f=v=u=void 0;var D=!1,C=!1,s=!1,h,t,m,p,r,G,g,B="common/templates/desktop/checkpoint_phone_challenge",N="desktop/challenges/phone_challenge",V="/checkpoint/challenges/registerPhoneNumberChallenge/CHALLENGEID/updatePhoneNumber",W="/checkpoint/challenges/registerPhoneNumberChallenge/CHALLENGEID",c={countryFlagDisplay:"country-flags",customDialogClass:"cp-challenge-phone",error:"error",loading:"loading",
off:"off",success:"success",toast:"toast",verifyPage:"verify"},d={btnResend:".btn-resend",btnSubmit:"#submitChallenge",challengeForm:".cp-challenge-form",countryCodeField:".country-code",countryFlagDisplay:"."+c.countryFlagDisplay,countrySelect:"#country-select",dialogBody:"."+c.customDialogClass+" .dialog-body",dialogShell:"."+c.customDialogClass,phoneNumberField:"#phoneNumber",phoneTokenField:"#challenge-input",selectedDeliveryMethod:'[name\x3d"challenge-option"]:checked',toast:"."+c.customDialogClass+
" .dialog-body ."+c.toast},Y={heading:"i18n_cp_header",desc_extra:"i18n_cp_phone_step1",label_method:"i18n_cp_phone_label_method",option_sms:"i18n_cp_phone_sms",option_call:"i18n_cp_phone_call",label_number:"i18n_cp_phone_label_number",label_country_code:"i18n_cp_phone_label_ccode",placeholder_phone:"i18n_cp_phone_placeholder_phone",disclaimer:"i18n_cp_phone_disclaimer",desc_finish:"i18n_cp_phone_step2",placeholder_code:"i18n_cp_phone_placeholder_code",didntreceive:"i18n_cp_phone_didntreceive",btn_resend:"i18n_cp_phone_resend",
btn_send:"i18n_cp_phone_send",btn_verify:"i18n_cp_phone_verify",msg_code_sent:"i18n_cp_phone_msg_code_sent",cp_dialog_title:"i18n_cp_dialog_title"};e.id="Phone";e.viewName="RegisterPhoneNumberView";e.runChallenge=function(a,c){r=c;t=b.Deferred();s=!1;h=a.countryCodeMap;var d;a?(m=r.extendWithI18n({challenge_form_action:"#",countryCodeMap:h},Y),G=m.cp_dialog_title,d=b.Deferred().resolve()):d=b.Deferred().reject();d.then(J).then(O);return t};X.registerChallengeType(e)})(LIModules);
