function chinasoSearchboxInit(){function t(){var t;t='<div class="China_search_24_new"><a class="logo" href="http://www.chinaso.com" target="_blank" title="ä¸­å½æç´¢">ä¸­å½æç´¢</a><div class="search_right"><form action="http://www.chinaso.com/search/pagesearch.htm" id="chinaso_form" accept-charset="utf-8" target="_blank"><input type="text" class="search_input2" id="chinaso_text" name="q"><input type="submit" class="search_btn2"  value="å½æä¸ä¸" /><div id="searchHotWord"></div></form></div><div class="keywords-box" style="display:none;"><h3>å¤§å®¶æ­£å¨æï¼</h3><ul></ul><p><a href="http://www.chinaso.com/">è¿å¥æç´¢é¦é¡µ>></a></p></div></div>',document.getElementById("chinaso_search").innerHTML=t}function e(t){var e=document.createElement("script");e.setAttribute("src",t),e.setAttribute("type","text/javascript"),e.setAttribute("charset","utf-8"),setTimeout(function(){document.getElementsByTagName("head")[0].appendChild(e)},0)}function n(){var t="http://news.chinaso.com/static/json/keyword.json";e(t)}function o(){var t="http://news.chinaso.com/static/json/hotword.json";e(t)}function a(){var t=document.getElementById("chinaso_form"),e=Tools.getElesByCls(t,"search_input2","input")[0],n=document.getElementById("searchHotWord");""!==Tools.trim(Tools.val(e))&&(n.style.display="none"),n.onclick=function(t){Tools.stopPropagation(t),e.focus()},e.onkeydown=function(){n.style.display="none"},e.onblur=function(){""===Tools.trim(Tools.val(e))&&(n.style.display="block")},e.onclick=function(t){Tools.stopPropagation(t)},t.onsubmit=function(){""===Tools.trim(Tools.val(e))&&(n.style.display="none",e.value=Tools.trim(n.innerHTML)),document.charset="utf-8"}}t(),o(),n(),window.keyWordCallback=function(t){var e="",n=t.list,o=document.getElementById("searchHotWord");n&&n.length>0?(e+=n[0].title,o.innerHTML=e,a()):o.innerHTML="ç½ç»åºéï¼è¯·ç¨åéè¯"},window.hotWordsCallback=function(t){var e="",n=t.list,o=Tools.getElesByCls(document,"keywords-box","div")[0],a=o.getElementsByTagName("ul")[0];if(n&&n.length>0){var s=n.length,c=8>=s?s:8;for(i=0;c>i;i++)e+='<li><a href="'+n[i].url+'" target="_blank">'+n[i].title+"</a></li>";a.innerHTML=e,document.getElementById("chinaso_text").onfocus=function(t){Tools.stopPropagation(t),o.style.display="block"};for(var l=a.getElementsByTagName("a"),r=l.length,d=0;r>d;d++){var u=l[d];u.onclick=function(){o.style.display="none"}}document.onclick=function(t){Tools.stopPropagation(t),o.style.display="none"}}else o.innerHTML="ç½ç»åºéï¼è¯·ç¨åéè¯"}}var Tools={trim:function(t){return"string"==typeof t?t.replace(/^\s+/g,"").replace(/\s+$/g,""):""},val:function(t){return 1===t.nodeType?t.value:""},getElesByCls:function(t,e,n){if(t=t||document,document.getElementsByClassName)return document.getElementsByClassName(e);for(var o=[],a=t.getElementsByTagName(n),i=0,s=a.length;s>i;i++){var c=a[i];1===c.nodeType&&c.className==e&&o.push(c)}return o},addHandler:function(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent?t.attachEvent("on"+e,n):t["on"+e]=n},ieVersion:function(){var t=navigator.userAgent.toLowerCase(),e=/msie [\d.]+;/gi,n=0;return t.indexOf("msie")>0&&(n=t.match(e)),n?parseInt((n+"").replace(/[^0-9.]/gi,"")):0},stopPropagation:function(t){t=t||window.event,t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}},ieVersion=Tools.ieVersion();0!==ieVersion&&8>=ieVersion?Tools.addHandler(window,"load",function(){chinasoSearchboxInit()}):Tools.addHandler(document,"DOMContentLoaded",function(){chinasoSearchboxInit()});