_adfq.define("Adform",["$boot"],function(a){a=a.window.Adform;a.ET=a.ET||{};a.RMB=a.RMB||{};return a});
_adfq.define("adqa/FCTest",["Adform"],function(c){function e(){return{create:e,register:function(b){for(var a in b)b[a]&&"function"==typeof b[a].content&&f(b[a]);b.on("draw",function(a){f(a)})}}}function f(b){var a=b.content(),c=b.content(null,"click");a&&!c&&(a=a.data.link||a.flashvars&&a.flashvars.clickTAG)&&(0>a.indexOf("://")&&(a=decodeURIComponent(a)),a=~a.indexOf(";CREFURL")?a.split(";CREFURL").join(";fc=1;CREFURL"):a.replace(/bn=\d+/,"$&;fc=1"),b.content(new d({},{link:a}),!1,"click"))}function d(b,a){d.super_.call(this,
b,a)}c.lib.inherit(d,c.RMB.AdContent);d.prototype.show=function(){var b=this._element;!this.created&&b&&(this.created=new Date,this.element('<a href="'+this.data.link+'" style="width:100%;height:100%;display:block;"></a>',b),this.style({top:0,left:0,position:"absolute",zIndex:-1}))};return e()});
_adfq.define("engagement/Timer",["Adform"],function(f){function g(a){this._delay=a||0;this._diff=this._start=this._count=this._partial=0;this.active=!1;this.count=this.time=0;this._list=[]}var h=Date.now||function(){return(new Date).getTime()};f.ET.Timer=g;g.calculateEngagement=function(){var a,b,e,d;d=arguments;var c=[],f=h(),g=0;for(a=0;a<d.length;a++)for(e=d[a]._list,b=0;b<e.length;b+=2)c.push([e[b],e[b+1]||f]);c.sort(function(a,b){return a[0]-b[0]});if(c.length){d=[[c[0][0],c[0][1]]];a=1;b=0;for(e=c.length;a<e;a++)d[b][1]<
c[a][0]?d[++b]=[c[a][0],c[a][1]]:d[b][1]<c[a][1]&&(d[b][1]=c[a][1]);a=0;for(e=d.length;a<e;a++)g+=d[a][1]-d[a][0]}return g};f=g.prototype;f.update=function(){this.active=!1;this._diff=0;var a=this._list,b=this._start,e=this._paused,d=a.length%2;if(b){var c=(e||h())-b;c>=this._delay&&(this.active=!e,this.count=this._count+1,this.time=this._partial+c,this._diff=c,d||e||a.push(b))}!d||b&&!e||a.push(h());return this};f.start=function(){this._start||(this._start=h(),this.update());return this};f.stop=
function(){this._start&&(this.update(),this._count=this.count,this._partial=this.time,this._start=0,this.update());return this};f.paused=function(a){a&&!this._paused?(this._paused=h(),this.update()):!a&&this._paused&&(this.update(),this._paused=0,this._partial=this.time,this._start&&(this._start=h()),this.update());return this};return g});
_adfq.define("engagement/ActiveTab",["$boot","$env","Adform"],function(f,x,g){var r=g.ET;f=f.window;var h=g.RMB,y=h&&h.lib||g.lib,k=Date.now||function(){return(new Date).getTime()},d=new h.EventEmitter;r.ActiveTab=d;d.init=function(l){function f(){var m,a=y.removeEvent;t=!0;c.clear();b&&(m=l.top.document,a(l.top,"scroll",b),a(m,"mousemove",b),a(m,"keydown",b),a(m,"mousedown",b),a(m,"mouseup",b),b=null)}function g(){var b=n&&u,a;a=k();var e=a-v;w?n=!r[w]:z?(v=a,e>A&&c.emit(c.IDLE,e)):p&&(n=e<B);q&&
(u=a-q<C);a=n&&u;b!=a&&c.emit(c.VISIBLE,a);c.wasActive||(c.wasActive=a);return a}function h(){t||(v=k(),p(h))}var c=d;c.isActive=g;c.update=g;c.destroy=f;var t;f();t=!1;var p=l[x.reqAni],r=l.document,w=x.hidden,z=!1,n=!0,u=!0,v=k(),q,b,A=1E3,B=250,C=3E4;w||z||!p||p(h);(function(c){q=k();b=function(a){a=a||c.event;var b=!(a&&"mousemove"==a.type),e=d,g=f;b||(d=a.screenX,f=a.screenY,b=d!=e||f!=g);b&&(q=k())};var a=c.document,e=y.addEvent,d,f;setTimeout(function(){e(c.top,"scroll",b);e(a,"mousemove",
b);e(a,"keydown",b);e(a,"mousedown",b);e(a,"mouseup",b)},100)})(l.top)};d.IDLE="idle";d.VISIBLE="visible";d.init(f);return d});
_adfq.define("engagement/ExposureTimer",["Adform","engagement/Timer"],function(c,d){function b(){this.exposure=this._exp=this._exposure=this._mod=0;b.super_.apply(this,arguments)}var e=c.ET;c.RMB.lib.inherit(b,d);var a=b.prototype;a._update=a.update;a.update=function(){this._update();this._exp=this._exposure+this._mod*this._diff;this.exposure=Math.round(this._exp);return this};a._stop=a.stop;a.stop=function(){this._start&&(this.update(),this._exposure=this._exp);return this._stop()};a.modifier=function(a){a!=this._mod&&this.active&&(this.stop(),
this._mod=a,this.start());this._mod=a};return e.ExposureTimer=b});
_adfq.define("engagement/Counter",["Adform","engagement/Timer","engagement/ActiveTab","engagement/ExposureTimer"],function(f,e,h,l){function g(a,b){this.minPercent=a;this.minTime=b;var d=this.visibility=new e;this.mouse=(new e(1E3)).paused(!0);this.delaylessMouse=new e;this.video=new e;this.expand=new e;var c=this.exposure=new l;h.on(h.IDLE,function(a){0<d._start&&(d._start+=a);0<c._start&&(c._start+=a)})}function k(a){var b=this.exposure,d=this.mouse,c=this.visibility,e=c.active,f=c.update().time;!a&&f<this.minTime&&(c._start=null,c.time=0);this.impression=
c.time>this.minTime;a&&!e?(b.start(),c.start(),d.paused(!1)):!a&&e&&(b.stop(),c.stop(),d.paused(!0))}f.ET.Counter=g;f=g.prototype;f.update=function(a,b,d){a=this.visiblePercent=Math.round(100*b/a)||0;this.exposure.modifier(b/d||0);k.call(this,a>=this.minPercent)};f.action=function(a){var b=this,d={start:function(){b.mouse.start();b.delaylessMouse.start()},stop:function(){b.mouse.stop();b.delaylessMouse.stop()}};if("stop"===a)return k.call(b,!1);if((a={over:1,out:2,expand:3,collapse:4,videoPlay:5,
videoStop:6}[a])&&a--)[d,b.expand,b.video][a>>1][a%2?"stop":"start"]()};return g});
_adfq.define("common/DOMEvents",["Adform"],function(t){function e(a){k.push(this);this._doc=a;this._events={};this.dispatchHover=l.bind(this,q)}function q(){for(var a=e._hoverTarget,b=[],c=e._hoverChain,d;a&&"undefined"!=(d=typeof a.className);)"string"==d&&0<=a.className.indexOf("adform-domevents-hover-")&&b.unshift(a),a=a.parentNode;var g=Math.max(b.length,c.length),a=RegExp("adform-domevents-hover-\\S+","g");d=[];for(var h,f=g-1;0<=f&&c[f]!=b[f];f--){if(c[f])for(g=p(c[f].className,"adform-domevents-hover-",
a),h=0;h<g.length;h++)g[h].call(c[f],"hoverout",c[f]);if(b[f])for(g=p(b[f].className,"adform-domevents-hover-",a),h=0;h<g.length;h++)d.push([g[h],b[f]])}if(d.length)for(f=0;f<d.length;f++)d[f][0].call(d[f][1],"hoverin",d[f][1]);e._hoverChain=b}function p(a,b,c){a=a.match(c);c=[];if(a)for(a=("x|"+a.join("|")).split("|"+b).slice(1),b=0;b<a.length;b++)m[a[b]]&&c.push(m[a[b]]);return c}function r(a){for(var b=0;b<k.length;b++)if(k[b]._doc==a)return k[b]}var l=t.RMB.lib,k=[],m={};e.destroy=function(a){var b;
if(a)(b=r(a))&&b.destroy();else for(;k.length;)k[0].destroy()};e.on=function(a,b,c){var d=a.ownerDocument;(e.find(d)||new e(d)).on(a,b,c);return this};e.off=function(a,b,c){var d=e.find(a.ownerDocument);d&&d.off(a,b,c);return this};e.find=r;e.dispatchHover=q;e.dispatchClick=function(a,b){for(var c=[],d;a&&"undefined"!=(d=typeof a.className);)"string"==d&&0<=a.className.indexOf("adform-domevents-click-")&&c.unshift(a),a=a.parentNode;d=RegExp("adform-domevents-click-\\S+","g");for(var e=c.length-1;0<=
e;e--)for(var h=p(c[e].className,"adform-domevents-click-",d),f=0;f<h.length;f++)h[f].call(c[e],"click",c[e],b)};e._hoverChain=[];e._hoverTarget=null;var n=e.prototype;n.on=function(a,b,c){var d=c._adform_dom_key;d||(d=c._adform_dom_key=l.gid());d in m||(m[d]=c);c="adform-domevents-"+b+"-"+d;0>a.className.indexOf(c)&&(a.className+=" "+c,this.setup(b))};n.off=function(a,b,c){if(c=c._adform_dom_key)a.className=a.className.replace("adform-domevents-"+b+"-"+c,"")};n.destroy=function(){var a=this._events,
b,c,d,g=this._doc;for(b in a)for(c in d=a[b],d)l.removeEvent(g,c,d[c]);for(a=k.length;0<a--;)if(k[a]==this){k.splice(a,1);break}a=e._hoverChain;a[0]&&a[0].ownerDocument==g&&(e._hoverChain=[],e._hoverTarget=null);this._doc=this._events=null};n.setup=function(a){if(!this._events[a]){this._events[a]={};var b=this._doc,c=b.defaultView||b.parentWindow,d,g;"hover"==a?(d=function(a){e._hoverTarget!=a.target&&(e._hoverTarget=a.target,e.dispatchHover())},g=function(a){e._hoverTarget!=a.relatedTarget&&(e._hoverTarget=
a.relatedTarget,e.dispatchHover())},l.addEvent(b,"mouseover",this._events[a].mouseover=d),l.addEvent(b,"mouseout",this._events[a].mouseout=g),l.addEvent(b,"mousemove",this._events[a].mousemove=d),e._hoverChain=[]):"click"==a&&(d=b.addEventListener?function(a){e.dispatchClick(a.target,a)}:function(a){c=b.defaultView||b.parentWindow;a=c.event||a;e.dispatchClick(a.srcElement,a)},l.addEvent(b,"mousedown",this._events[a].mousedown=d))}};return e});
_adfq.define("engagement/ViewUtil",["$boot","$env","Adform","engagement/ActiveTab"],function(n,F,u,G){function v(b){for(var d=b.length,c=b[d-1],e=0,a=0,h=c.width,g=c.height,f=0,k=0;0<d--;)c=b[d],e=Math.max(0,e),a=Math.max(0,a),h=Math.min(c.width,h),g=Math.min(c.height,g),e+=c.x,a+=c.y,h+=c.x,g+=c.y,f+=c.x,k+=c.y;return e<h&&a<g&&{elemx:f,elemy:k,x:e,y:a,width:h-e,height:g-a}||{x:0,y:0,width:0,height:0}}function D(){var b,d,c,e,a,h,g,f;if((b=x.$sf)&&(b=b.ext)&&(b=b.geom()))return d=
b.self,c=b.par||b.win,b=+d.t,e=+d.r,a=+d.b,d=+d.l,h=+c.t,g=+c.r,f=+c.b,c=+c.l,c=Math.max(d,c),h=Math.max(b,h),e=Math.min(e,g),a=Math.min(a,f),{x:c-d,y:h-b,width:e-c,height:a-h}}function E(b){var d=b.document,c=d.documentElement,e,a=b.screen,h=a.availLeft||a.left||0,g=a.availTop||a.top||0,f=a.availWidth,a=a.availHeight,c=h+f,d=g+a;l=Math.min(l,h);q=Math.max(q,c);m=Math.min(m,g);r=Math.max(r,d);e=[b.mozInnerScreenX,b.mozInnerScreenY];d=b.screenX;h=b.screenY;g=d+b.outerWidth;c=h+b.outerHeight;l>=g-8&&
(l=Math.floor(d/f)*f);q<=d+8&&(q=Math.ceil(g/f)*f);m>=c-8&&(m=Math.floor(h/a)*a);r<=h+8&&(r=Math.ceil(c/a)*a);return e}var l,q,m,r,x=n.window;n=x.screen;var w,y=[],z=u.RMB.lib;l=0;q=n.availWidth;m=0;r=n.availHeight;return u.ET.ViewUtil={inView:function(b){var d,c,e,a;a=[];var h;h=b;var g=F.access,f;b=g.length;var k=x,n=h.ownerDocument,A=[];if(!w)for(w=[],y=[],f=0;f<b;f++){w[f]=g[f]?k:null;if(g[f+1]){var u=y,H=f+1,t;if(g[f])t=k.frameElement;else a:{t=k;for(var B=k.parent.document.getElementsByTagName("iframe"),
C=B.length;C--;)if(B[C].contentWindow==t){t=B[C];break a}t=void 0}u[H]=t}k=k.parent}k=n.defaultView||n.parentWindow;for(f=0;f<b;f++)if(w[f]==k){A=y.slice(f);break}A[0]=h;h=A;g=0;for(f=h.length;g<f;g++)if(b=h[g]){c=z.client(b);d=z.offset(b);d={x:d.left,y:d.top,width:b.offsetWidth,height:b.offsetHeight};e||(e=d,e.area=e.width*e.height,e.visible=!0);if(!d.height||"hidden"==z.curCSS(b,"visibility"))return e.visible=!1,e;a.unshift({x:d.x-c.left,y:d.y-c.top,width:d.width,height:d.height});a.unshift({x:0,
y:0,width:c.width,height:c.height});d=b.ownerDocument;d=d.defaultView||d.parentWindow}var p;h={x:0,y:0,width:0,height:0};f=E(d);g={x:0,y:0,width:q-l,height:r-m};b={x:d.screenX-l,y:d.screenY-m,width:d.outerWidth,height:d.outerHeight};f?(e.optimize=!0,a.unshift(c={x:f[0]-l,y:f[1]-m,width:c.width,height:c.height}),d===d.top?c=v([g,c]):b?(a[0].x-=b.x,a[0].y-=b.y,a.unshift(b),c=v([g,b])):c=g,a.unshift(g)):((g=D())?p=g:G.isActive(),p?(e.voidSend=!1,e.optimize=!0,a[0].x=-p.x,a[0].y=-p.y,h={x:0,y:0,width:p.width,
height:p.height}):(!1===p&&(e.optimize=!0),e.voidSend=!0),a.unshift(h),b&&(c=b));e.visible&&(a=v(a),a.area=a.width*a.height,e.overlap=a,e.client=c);return e},getOverlap:v,safeFrame:D,getScreenXY:E}});
_adfq.define("engagement/EngagementItem","$boot Adform engagement/Counter engagement/Timer engagement/ActiveTab common/DOMEvents engagement/ViewUtil".split(" "),function(k,x,C,t,y,q,E){function u(a){var b,c;this.settings=a;a.ufcEnabled&&(this.ufc={visibility:[2E3,3E3,5E3,1E4,15E3,3E4],exposure:[200,400,600,1E3,2E3,4E3]});var e=a.visibilityArea||50,f=a.visibilityTime||1,d=a.publisherVisibilityTime,g=a.publisherVisibilityArea||50;"object"!=typeof e&&(e=[e]);"object"!=typeof f&&(f=[f]);var h=this.counters=[];for(b=0;b<e.length;b++)h.push(new C(e[b],1E3*f[b]));a.publisherUnloadData&&
(null==d&&(d=1),this.viewImpr=new C(g,1E3*d));b=h[0];this.visibility=b.visibility;this.mouse=b.mouse;this.delaylessMouse=b.delaylessMouse;this.video=b.video;this.expand=b.expand;this.exposure=b.exposure;this.clicks={length:0};this.flashClicksCount=this.jsClicksCount=0;this.hmClicks=[];this.jsClicks=[];this.flashClicks=[];this.children=[];this.dimensions=[{width:a.width,height:a.height}];this.bannerProperties={};this.status="NOT VISIBLE";for(b=0;b<z.length;b++)(c=a[z[b]])&&"undefined"!=c&&(this[z[b]]=
c);this.objectId||(this.objectId="FlashID"+this.id);this.data={visibilityT:0,mouseO:0,activeT:0,exposure:0,visibilityArea:e[0],visibilityTime:f[0],maxVisibility:0,currentVisibleArea:0};this.hoverDelay=l.singleCall(0);this.hover=l.bind(this,F);this.click=l.bind(this,G);this.hmClick=l.bind(this,H);this._attributes={};1<(a.compoundSeqNo||0)&&(this.unloadID=0)}function G(){this.jsClicksCount++;this.updateData()}function H(a,b,c){(a="object"==b.nodeName.toLowerCase()&&l.byTag(b,"embed")[0])&&20<a.offsetHeight&&
(b=a);b=l.offset(b);c=l.getMousePos(c);this.hmClicks.push({x:Math.floor(c.pageX-b.left),y:Math.floor(c.pageY-b.top)})}function F(a){this.hoverDelay(this,I,"hoverin"==a)}function I(a){v(this,a?"over":"out");this.updateData()}function v(a,b,c,e,f){var d=a.counters,g=d.length;a.viewImpr&&(d=[a.viewImpr].concat(d),g+=1);for(;g--;)c&&d[g].update(c,e,f),b&&d[g].action(b)}function D(a){for(var b=w.EngagementTracker().windows,c=0,e=b.length,f,d;c<e;c++)if((d=b[c].document)&&(f=l.byId(a,d)))return f}function J(){try{if(n===
A)return!1;var a;if(!(a=n.frameElement))a:{try{var b=A.document.getElementsByTagName("iframe");n._iframe_test_var=Math.random();for(var c=0;c<b.length;c++)try{if(b[c].contentWindow._iframe_test_var===n._iframe_test_var){delete n._iframe_test_var;a=b[c];break a}}catch(e){}}catch(f){}a=void 0}return a}catch(d){}}var n=k.window,K=n,B=n.document,A=n.parent,w=x.ET,l=(k=x.RMB)&&k.lib;l.inherit(u,k.EventEmitter);var z="bn unloadID cookieID id width height sendUnloadData".split(" ");w.EngagementItem=u;k=
u.prototype;k.attr=function(a,b){var c=this._attributes,e=arguments.length;return 1<e?c[a]=b:e?c[a]:c};k.update=function(){var a,b,c,e=(this._elements||this.elements()).slice(),f=this.fullyLoaded=this.attr("loaded"),d,g=[];c=this.children;if(c.length)for(a=0;a<c.length;a++)e.push.apply(e,c[a]._elements||c[a].elements(this));if(!this.optimizeLoop||y.isActive())for(a=0;a<e.length;a++)if(c=e[a]){var h="object"==c.nodeName.toLowerCase()&&l.byTag(c,"embed")[0];h&&20<h.offsetHeight&&(c=h);try{b=E.inView(c)}catch(k){setTimeout(function(){throw k;
},0);return}"voidSend"in b&&(this.doNotSendData=b.voidSend);b.optimize&&(this.optimizeLoop=!0);d||(d=b);b.visible&&g.push(b)}if(f&&y.isActive()&&g.length){d=g[0];var h=c=f=e=0,r=d.client.width*d.client.height;a=0;for(b=g.length;a<b;a++){e+=g[a].overlap.area;c+=g[a].area;for(var p=a+1,m;p<b;p++)m=l.overlap(g[a].overlap,g[p].overlap),f+=m.width*m.height,m=l.overlap(g[a],g[p]),h+=m.width*m.height}v(this,null,c-h,e-f,r||0);a=this.data.currentVisibleArea=this.counters[0].visiblePercent;this.data.maxVisibility=
Math.max(this.data.maxVisibility,a)}else v(this,"stop");d&&(this.data.x=Math.floor(d.x),this.data.y=Math.floor(d.y));this.updateData()};k.elements=function(a){var b,c,e=this,f=a||e,d=e.settings;a=[];var g,h=d.trackElements,k=l.singleCall(500);if(h){var r=!0;for(c=0;c<h.length;c++)(b=D(h[c]))?a.push(b):r=!1;if(d=d.trackHeatMap)if(b=D(d))q.on(b,"click",e.hmClick);else r=!1;r&&(e._elements=a)}else{var p="undefined"!==typeof inDapMgrIf||"undefined"!==typeof inDapIF,r=(p?A:K).document;c=d.flashID||d.objectId||
"FlashID"+e.id;d=d.object?d.object:l.byId(d.holderID||c,r);d||!p||x.RMB.DataParser||(g=l.byId(c,B),B.body.id?c=B.body.id:(d=J())&&d.id&&(c=d.id),d=l.byId(c,r));d&&d.nodeType&&a.push(d);d&&d.id==c||(d=l.byId(c,r),a.push(d));a[0]&&(e._oldCompatibility=!0)}e.object=e.object||a[0];e.onclick=e.onclick||function(){e.emit.apply(e,arguments);f.click.apply(this,arguments)};e.ontouch=e.ontouch||function(){k(f,f.hover)};c=0;for(b;c<a.length;c++)if(b=a[c])if(q.on(b,"hover",f.hover),q.on(b,"click",e.onclick),
l.addEvent(b,"touchstart",e.ontouch),!h)q.on(g||b,"click",e.hmClick);return a};k.flashClick=function(a,b){this.flashClicksCount++;this.flashClicks.push({x:parseInt(a,10),y:parseInt(b,10)});this.updateData()};k.engage=function(a){v(this,a)};k.updateData=function(){var a=this.data,b=this.visibility.update();this.status=b.active?"VISIBLE":"NOT VISIBLE";a.visibilityT=b.time;b=this.mouse.update();a.activeT=b.time;a.mouseO=b.count;a.exposure=this.exposure.update().exposure;this.clicks.length=Math.max(this.jsClicksCount,
this.flashClicksCount)};k.checkUFC=function(){var a=this.ufc;if(a){for(var b=this.visibility.update().time,c=a.visibility,e=c.length;c.length&&b>=c[0];)c.shift();for(var b=this.exposure.update().exposure,a=a.exposure,f=a.length;a.length&&b>=a[0];)a.shift();e||f||(this.ufc=null);return c.length<e||a.length<f}};k.toUnloadString=function(a){var b,c;if(!this.doNotSendData&&this.unloadID&&this.bn&&this.object&&this.sendUnloadData){var e=this.data,f=this.visibility.update(),d=this.mouse.update(),g=this.delaylessMouse.update(),
h=this.video.update(),k=this.expand.update(),l=this.exposure.update(),p=this.settings,m=this.hmClicks.length?this.hmClicks:this.flashClicks,n=[];b=0;for(c=m.length;b<c;b++)n.push((0<m[b].x?m[b].x:0)+":"+(0<m[b].y?m[b].y:0));c=t.calculateEngagement;h=[h];k=[k];m=this.children;for(b=0;b<m.length;b++)h.push(m[b].video.update()),k.push(m[b].expand.update());b=c.apply(t,h);m=c.apply(t,k);c=c.apply(t,[d].concat(h,k));h=this.counters;e=[e.maxVisibility,f.time,d.count,e.x,e.y,d.time,b,c,m,n.join(";"),l.exposure,
w.EngagementTracker().friendly?0:1,p.rtbInventorySourceId||"",p.rtbReqId||"",h[1]?h[1].visibility.update().time:"",h[2]?h[2].visibility.update().time:"",y.wasActive?1:0,g.count,g.time];f=this.bn+","+this.unloadID+",";d=f+e.join("|");a=w.EngagementTracker().queryLimit-(a||100);if(d.length>a){for(var d=0,g=n.length,q;d<g;)e[9]=n.slice(0,q=d+g>>1).join(";"),(f+e.join("|")).length>a?g=q:d=q+1;e[9]=n.slice(0,q).join(";");d=f+e.join("|")}return d}};k.addChild=function(a){this.dimensions.push({width:a.width,
height:a.height});this.children.push(a);a._attributes=this._attributes;a.unloadID&&(this.unloadID=a.unloadID)};k.destroy=function(){this._elements=this.object=null};return u});
_adfq.define("engagement/EngagementTracker","$boot Adform engagement/EngagementItem common/DOMEvents engagement/ActiveTab $env".split(" "),function(f,g,C,q,r,t){function h(){var a=this;if(h._instance)return h._instance;if(!(a instanceof h))return new h;h._instance=g.ADFEventsInstance=a;a.maxTime=6E5;a.items=a.events={};a.version=15;a.windows=[];a.byBN={};a._items={};a.startTime=n();a.friendly=!1;try{D.document.getElementById,a.friendly=!0}catch(b){}a.queryLimit=2E3;a.update=l.bind(a,E);a.optimized=
l.bind(a,F);l.addEvent(k,"beforeunload",t.nop);l.addEvent(k,"unload",function(){a.send();a.destroy()});setTimeout(l.bind(a,u),54E4);a.setupWindow(k);try{m!=G&&m.document.getElementById&&a.setupWindow(m)}catch(c){}try{k.MESSENGER_POPUP&&a.setupWindow(H)}catch(e){}try{g.ADF_STUB&&a.setupWindow(m.parent)}catch(d){}a.registerAll();a.registerInEvents()}function I(a){this.on("update",a)}function J(a){this.off("update",a)}function K(a){var b=this._items;if(b&&(b=b[a]))return this.byBN[b.bn]||b}function v(){var a=
w();if(a)for(var b in a)this.register(a[b])}function L(a){if(a&&!this._items[a.id]&&1==a.registered){var b=this._items[a.id]=new C(a);this.byBN[a.bn]?this.byBN[a.bn].addChild(b):(this.byBN[a.bn]=this.items[a.id]=b,b.update());this.cookieID||(this.cookieID=b.cookieID)}return this._items[a.id]}function x(a){var b=w();b&&(a=this.register(b[a]))&&a.update()}function M(a){a&&a.update&&a.update()}function N(){}function O(a,b,c){(a=this.items[a])&&a.flashClick&&a.flashClick(b,c)}function P(){var a=g.Events;
if(a&&a.registerCallback){var b=y,c;for(c in b)b[c].join&&(b[c]=","+b[c].join(",")+",");a.registerCallback(Q,this)}}function R(a,b,c){b=["version="+this.version+(b||"")+"&unload="+this.cookieID];var e,d,f;a=a||this.items;for(var g in a)(e=a[g])&&e.toUnloadString&&(f=e.sendUnloadData,c&&(e.sendUnloadData=1),(d=e.toUnloadString())&&b.push(d),e.sendUnloadData=f);if(1<b.length)return b.join("@@")}function u(){n()-this.startTime<=this.maxTime&&this.sendQuery(this.query())}function S(a){if(a){a=g.host+
"/serving/unload/?"+a;var b=this.queryLimit;if(a.length>b){a=a.split("@@");for(var c=a.shift(),e=c+"@@"+a[0],d=1;d<a.length;d++)(e+"@@"+a[d]).length>b&&(p(e),e=c),e+="@@"+a[d];p(e)}else p(a)}}function p(a){(new k.Image).src=a;k!=z&&((new z.Image).src=a)}function T(a,b,c){if(a=this._items[a]){c&&this.setupWindow(c);c=a.settings.trackElements;var e=c.length;c.push.apply(c,b);a._elements=null;a.elements();c.length=e;a._elements=null}}function U(a,b,c){this._items&&(a=this._items[a])&&c&&(this.removeWindow(c),
a._elements=null)}function V(a){for(var b=this.windows,c=0;c<b.length;c++)if(b[c]==a)return;try{var e=a.document;b.push(a);var d=this.update,f=this.optimized,g=l.addEvent;g(a,"resize",d);g(a,"load",d);g(a,"scroll",f);g(e,"mousemove",f);g(e,"mousedown",f);g(e,"mouseup",f);this._winInterval||(this._winInterval=setInterval(f,100))}catch(h){}}function W(a){try{var b=a.document,c=this.update,e=this.optimized,d=l.removeEvent;d(a,"resize",c);d(a,"load",c);d(a,"scroll",e);d(b,"mousemove",e);d(b,"mousedown",
e);d(b,"mouseup",e);q.destroy(b)}catch(f){}b=this.windows;for(c=b.length;c--;)if(b[c]==a){b.splice(c,1);break}}function X(){this.emit("destroy");for(var a=this.windows,b=a.length;b--;)this.removeWindow(a[b]);this.windows=[];clearInterval(this._winInterval);a=k;do try{a.__flash_visibility&&a.__flash_visibility.destroy()}catch(c){break}while(a!=a.top&&(a=a.parent));a=this._items;for(b in a)a[b]&&a[b].destroy&&a[b].destroy();r.destroy();q.destroy();this._items=this.items=this.events=this.byBN=null}function w(){var a=
g.ADFUtilInstance;return a&&a.banners}function E(){r.update();var a=[],b=[],c=this.items,e;for(e in c){var d=c[e];d.update&&(d.update(),d.checkUFC()&&a.push(d),d.counters&&A(d.counters)&&b.push(d),d.viewImpr&&A([d.viewImpr])&&(this.sendQuery(this.query([d],"&pud="+d.settings.publisherUnloadData,!0)),d.viewImpr=null))}a.length&&this.sendQuery(this.query(a,"&ufc=1"));b.length&&this.sendQuery(this.query(b));this.emit("update")}function A(a){for(var b=!1,c=a.length;c--;)b=!a[c].imprest&&(a[c].imprest=
a[c].impression)||b;return b}function Q(a,b){var c=this._items[a];if(c){b=","+b+",";var e=y,d;for(d in e)e[d]&&~e[d].indexOf(b)&&c.engage(d)}}function F(){var a=n();100<a-B&&(B=a,this.update())}function Y(){for(var a=k,b=m,c=t.access,e=1,d=c.length;e<d;e++)c[e]&&(a=b),b=b.parent;return a}if(!g.ADFEvents){var k=f.window,G=k,H=k.MESSENGER_POPUP,D=k.top,m=k.parent,z=Y(),l=(f=g.RMB)&&f.lib||g.lib,Z=g.ET,n=Date.now||function(){return+new Date};l.inherit(h,f.EventEmitter);Z.EngagementTracker=h.getInstance=
g.ADFEvents=h;var B=0,y={expand:[21,22],collapse:[143],videoPlay:[30],videoStop:[31,32,29,21,22,23,143]};f=h.prototype;f.subscribe=I;f.unsubscribe=J;f.getItem=K;f.registerAll=v;f.registerAllBanners=v;f.register=L;f.addObjectEvents=x;f.addStandardEvent=x;f.checkVisibility=M;f.registerBannerProperties=N;f.addClick=O;f.registerInEvents=P;f.query=R;f.send=u;f.sendQuery=S;f.addElement=T;f.removeElement=U;f.setupWindow=V;f.removeWindow=W;f.destroy=X;g._etCallback?g._etCallback(h()):h();return h}});
_adfq.define("$ignore",function(){return"8z7A"});