/**
 * @modified $Author: mushaofeng $
 * @version $Rev: 809f55455709faa25069d18a072b6d32d1ce7153 $
 */
!function($){require.config({enable_ozma:true});define("tui/chuda",[],function(){var e={Cookie:{set:function(e,t,n,i,a){var r="";if(n&&"number"==typeof n){var s=new Date;s.setTime(s.getTime()+1e3*60*60*24*n);r="; expires="+s.toGMTString()}var i=i||"/";var a=a||".youku.com";document.cookie=[e,"=",t,r,";domain=",a,";path=",i].join("")},get:function(e){var t=e+"=",n=document.cookie?document.cookie.split("; "):[];for(var i=0;i<n.length;i++){var a=n[i];while(" "==a.charAt(0))a=a.substring(1,a.length);if(0==a.indexOf(t))return a.substring(t.length,a.length)}return null},remove:function(e){this.set(e,"",-1)}},Common:{decodeBase64:function(e){if(!e)return"";var t="ABCDEFGHIJKLMNOP"+"QRSTUVWXYZabcdef"+"ghijklmnopqrstuv"+"wxyz0123456789+/"+"=";var n="",i,a,r,s,o,l,u=0,c;e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");do{s=t.indexOf(e.charAt(u++));o=t.indexOf(e.charAt(u++));l=t.indexOf(e.charAt(u++));c=t.indexOf(e.charAt(u++));i=s<<2|o>>4;a=(15&o)<<4|l>>2;r=(3&l)<<6|c;n+=String.fromCharCode(i);if(64!=l)n+=String.fromCharCode(a);if(64!=c)n+=String.fromCharCode(r)}while(u<e.length);return this.utf8To16(n)},encode64:function(e){if(!e)return"";e=e.toString();var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var n=new Array(-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1);var i,a,r;var s,o,l;r=e.length;a=0;i="";while(a<r){s=255&e.charCodeAt(a++);if(a===r){i+=t.charAt(s>>2);i+=t.charAt((3&s)<<4);i+="==";break}o=e.charCodeAt(a++);if(a===r){i+=t.charAt(s>>2);i+=t.charAt((3&s)<<4|(240&o)>>4);i+=t.charAt((15&o)<<2);i+="=";break}l=e.charCodeAt(a++);i+=t.charAt(s>>2);i+=t.charAt((3&s)<<4|(240&o)>>4);i+=t.charAt((15&o)<<2|(192&l)>>6);i+=t.charAt(63&l)}return i},utf8To16:function(e){var t,n,i;var a,r;var s=[];n=e.length;t=0;while(t<n){i=e.charCodeAt(t++);switch(i>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:s.push(e.charAt(t-1));break;case 12:case 13:a=e.charCodeAt(t++);s.push(String.fromCharCode((31&i)<<6|63&a));break;case 14:a=e.charCodeAt(t++);r=e.charCodeAt(t++);s.push(String.fromCharCode((15&i)<<12|(63&a)<<6|(63&r)<<0))}}return s.join("")},cutStr:function(e,t,n){var e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;");var i=this._strLen(e);if(i<=t)return e;else{var r=0;var s=0;str_cut=new String;s=e.length;for(var o=0;o<s;o++){r++;a=e.charAt(o);if(escape(a).length>4)r++;if(r>t){if(n)str_cut=str_cut.concat(n);return str_cut}str_cut=str_cut.concat(a)}}},_strLen:function(e){if(!e)return 0;var t=0;var n=0;n=e.length;for(var i=0;i<n;i++){t++;a=e.charAt(i);if(escape(a).length>4)t++}return t},serialize:function(e){return JSON.stringify(e)},deserialize:function(e){if("string"!=typeof e)return void 0;try{return JSON.parse(e)}catch(t){return e||void 0}},getBrowser:function(){var e={};var t=navigator.userAgent.toLowerCase();var n;(n=t.match(/rv:([\d.]+)\) like gecko/))?e.ie=n[1]:(n=t.match(/msie ([\d.]+)/))?e.ie=n[1]:(n=t.match(/firefox\/([\d.]+)/))?e.firefox=n[1]:(n=t.match(/chrome\/([\d.]+)/))?e.chrome=n[1]:(n=t.match(/opera.([\d.]+)/))?e.opera=n[1]:(n=t.match(/version\/([\d.]+).*safari/))?e.safari=n[1]:0;return e},bind:function(e,t,n){if(e.attachEvent)e.attachEvent("on"+t,function(){return function(t){window.event.cancelBubble=true;e.attachEvent=[n.apply(e)]}}(e),false);else if(e.addEventListener)e.addEventListener(t,function(e){e.stopPropagation();n.apply(this)},false)},Md5:function(e){var t=function(e,t){return e<<t|e>>>32-t};var n=function(e,t){var n,i,a,r,s;a=2147483648&e;r=2147483648&t;n=1073741824&e;i=1073741824&t;s=(1073741823&e)+(1073741823&t);if(n&i)return 2147483648^s^a^r;if(n|i)if(1073741824&s)return 3221225472^s^a^r;else return 1073741824^s^a^r;else return s^a^r};var i=function(e,t,n){return e&t|~e&n};var a=function(e,t,n){return e&n|t&~n};var r=function(e,t,n){return e^t^n};var s=function(e,t,n){return t^(e|~n)};var o=function(e,a,r,s,o,l,u){e=n(e,n(n(i(a,r,s),o),u));return n(t(e,l),a)};var l=function(e,i,r,s,o,l,u){e=n(e,n(n(a(i,r,s),o),u));return n(t(e,l),i)};var u=function(e,i,a,s,o,l,u){e=n(e,n(n(r(i,a,s),o),u));return n(t(e,l),i)};var c=function(e,i,a,r,o,l,u){e=n(e,n(n(s(i,a,r),o),u));return n(t(e,l),i)};var d=function(e){var t;var n=e.length;var i=n+8;var a=(i-i%64)/64;var r=16*(a+1);var s=Array(r-1);var o=0;var l=0;while(l<n){t=(l-l%4)/4;o=8*(l%4);s[t]=s[t]|e.charCodeAt(l)<<o;l++}t=(l-l%4)/4;o=8*(l%4);s[t]=s[t]|128<<o;s[r-2]=n<<3;s[r-1]=n>>>29;return s};var f=function(e){var t="",n="",i,a;for(a=0;a<=3;a++){i=255&e>>>8*a;n="0"+i.toString(16);t+=n.substr(n.length-2,2)}return t};var h=function(e){e=e.replace(/\x0d\x0a/g,"\n");var t="";for(var n=0;n<e.length;n++){var i=e.charCodeAt(n);if(i<128)t+=String.fromCharCode(i);else if(i>127&&i<2048){t+=String.fromCharCode(192|i>>6);t+=String.fromCharCode(128|63&i)}else{t+=String.fromCharCode(224|i>>12);t+=String.fromCharCode(128|63&i>>6);t+=String.fromCharCode(128|63&i)}}return t};var p=Array();var m,g,v,b,y,w,k,x,_;var C=7,S=12,T=17,$=22;var A=5,N=9,I=14,D=20;var j=4,E=11,L=16,M=23;var O=6,U=10,z=15,q=21;e=h(e);p=d(e);w=1732584193;k=4023233417;x=2562383102;_=271733878;for(m=0;m<p.length;m+=16){g=w;v=k;b=x;y=_;w=o(w,k,x,_,p[m+0],C,3614090360);_=o(_,w,k,x,p[m+1],S,3905402710);x=o(x,_,w,k,p[m+2],T,606105819);k=o(k,x,_,w,p[m+3],$,3250441966);w=o(w,k,x,_,p[m+4],C,4118548399);_=o(_,w,k,x,p[m+5],S,1200080426);x=o(x,_,w,k,p[m+6],T,2821735955);k=o(k,x,_,w,p[m+7],$,4249261313);w=o(w,k,x,_,p[m+8],C,1770035416);_=o(_,w,k,x,p[m+9],S,2336552879);x=o(x,_,w,k,p[m+10],T,4294925233);k=o(k,x,_,w,p[m+11],$,2304563134);w=o(w,k,x,_,p[m+12],C,1804603682);_=o(_,w,k,x,p[m+13],S,4254626195);x=o(x,_,w,k,p[m+14],T,2792965006);k=o(k,x,_,w,p[m+15],$,1236535329);w=l(w,k,x,_,p[m+1],A,4129170786);_=l(_,w,k,x,p[m+6],N,3225465664);x=l(x,_,w,k,p[m+11],I,643717713);k=l(k,x,_,w,p[m+0],D,3921069994);w=l(w,k,x,_,p[m+5],A,3593408605);_=l(_,w,k,x,p[m+10],N,38016083);x=l(x,_,w,k,p[m+15],I,3634488961);k=l(k,x,_,w,p[m+4],D,3889429448);w=l(w,k,x,_,p[m+9],A,568446438);_=l(_,w,k,x,p[m+14],N,3275163606);x=l(x,_,w,k,p[m+3],I,4107603335);k=l(k,x,_,w,p[m+8],D,1163531501);w=l(w,k,x,_,p[m+13],A,2850285829);_=l(_,w,k,x,p[m+2],N,4243563512);x=l(x,_,w,k,p[m+7],I,1735328473);k=l(k,x,_,w,p[m+12],D,2368359562);w=u(w,k,x,_,p[m+5],j,4294588738);_=u(_,w,k,x,p[m+8],E,2272392833);x=u(x,_,w,k,p[m+11],L,1839030562);k=u(k,x,_,w,p[m+14],M,4259657740);w=u(w,k,x,_,p[m+1],j,2763975236);_=u(_,w,k,x,p[m+4],E,1272893353);x=u(x,_,w,k,p[m+7],L,4139469664);k=u(k,x,_,w,p[m+10],M,3200236656);w=u(w,k,x,_,p[m+13],j,681279174);_=u(_,w,k,x,p[m+0],E,3936430074);x=u(x,_,w,k,p[m+3],L,3572445317);k=u(k,x,_,w,p[m+6],M,76029189);w=u(w,k,x,_,p[m+9],j,3654602809);_=u(_,w,k,x,p[m+12],E,3873151461);x=u(x,_,w,k,p[m+15],L,530742520);k=u(k,x,_,w,p[m+2],M,3299628645);w=c(w,k,x,_,p[m+0],O,4096336452);_=c(_,w,k,x,p[m+7],U,1126891415);x=c(x,_,w,k,p[m+14],z,2878612391);k=c(k,x,_,w,p[m+5],q,4237533241);w=c(w,k,x,_,p[m+12],O,1700485571);_=c(_,w,k,x,p[m+3],U,2399980690);x=c(x,_,w,k,p[m+10],z,4293915773);k=c(k,x,_,w,p[m+1],q,2240044497);w=c(w,k,x,_,p[m+8],O,1873313359);_=c(_,w,k,x,p[m+15],U,4264355552);x=c(x,_,w,k,p[m+6],z,2734768916);k=c(k,x,_,w,p[m+13],q,1309151649);w=c(w,k,x,_,p[m+4],O,4149444226);_=c(_,w,k,x,p[m+11],U,3174756917);x=c(x,_,w,k,p[m+2],z,718787259);k=c(k,x,_,w,p[m+9],q,3951481745);w=n(w,g);k=n(k,v);x=n(x,b);_=n(_,y)}var H=f(w)+f(k)+f(x)+f(_);return H.toLowerCase()},encodeUid:function(e){if(!e)return"";if(e<<2>0)var t="U"+this.encode64(e<<2);else var t="U"+this.encode64(4*e);return t}},User:{getYKToken:function(){return e.Cookie.get("yktk")},getUserName:function(){var t=this.getYKToken();if(t){var n=e.Common.decodeBase64(decodeURIComponent(t).split("|")[3]);if(n.indexOf(",")>-1&&n.indexOf("nn:")>-1&&n.indexOf("id:")>-1)return n.split(",")[1].split(":")[1]}return 0},getUID:function(){var t=this.getYKToken();if(t){var n=e.Common.decodeBase64(decodeURIComponent(t).split("|")[3]);if(n.indexOf(",")>-1&&n.indexOf("nn:")>-1&&n.indexOf("id:")>-1)return parseInt(n.split(",")[0].split(":")[1])}return 0},getYTID:function(){var t=this.getYKToken();if(t){var n=e.Common.decodeBase64(decodeURIComponent(t).split("|")[3]);if(n.indexOf(",")>-1&&n.indexOf("ytid:")>-1)return parseInt(n.split(",")[3].split(":")[1])}return 0},getisVIP:function(){var t=this.getYKToken();if(t){var n=e.Common.decodeBase64(decodeURIComponent(t).split("|")[3]);if(n.indexOf(",")>-1&&n.indexOf("vip:")>-1)return!!n.split(",")[2].split(":")[1]}return false},getLoginStatus:function(){return 0!==this.getUID()}},Ajax:{getScript:function(e,t,n){if("string"!=typeof arguments[0])return;var t="function"==typeof arguments[1]?t:function(){};var n="boolean"==typeof arguments[2]?n:false;var i=document.getElementsByTagName("HEAD")[0];var a=document.createElement("SCRIPT");a.type="text/javascript";a.src=e;a.onload=a.onreadystatechange=function(){if(!this.readyState||"loaded"==this.readyState||"complete"==this.readyState){t();a.onload=a.onreadystatechange=null;if(n)this.parentNode.removeChild(this)}};i.appendChild(a)}}};window["CHUDA"]=e;CHUDA.API={getApiSignature:function(){var e=Math.round((new Date).getTime()/1e3),t=CHUDA.User.getYKToken(),n=CHUDA.User.getUID(),i="1001";return"appid="+i+"&ts="+e+"&uid="+n+"&access_token="+t+"&sig="+CHUDA.Common.Md5([i,e,n,decodeURIComponent(t)].join(""))}};return{}});if("object"!==typeof JSON)JSON={};!function(){"use strict";function f(e){return e<10?"0"+e:e}if("function"!==typeof Date.prototype.toJSON){Date.prototype.toJSON=function(e){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(e){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(e){escapable.lastIndex=0;return escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return"string"===typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,i,a,r,s=gap,o,l=t[e];if(l&&"object"===typeof l&&"function"===typeof l.toJSON)l=l.toJSON(e);if("function"===typeof rep)l=rep.call(t,e,l);switch(typeof l){case"string":return quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";gap+=indent;o=[];if("[object Array]"===Object.prototype.toString.apply(l)){r=l.length;for(n=0;n<r;n+=1)o[n]=str(n,l)||"null";a=0===o.length?"[]":gap?"[\n"+gap+o.join(",\n"+gap)+"\n"+s+"]":"["+o.join(",")+"]";gap=s;return a}if(rep&&"object"===typeof rep){r=rep.length;for(n=0;n<r;n+=1)if("string"===typeof rep[n]){i=rep[n];a=str(i,l);if(a)o.push(quote(i)+(gap?": ":":")+a)}}else for(i in l)if(Object.prototype.hasOwnProperty.call(l,i)){a=str(i,l);if(a)o.push(quote(i)+(gap?": ":":")+a)}a=0===o.length?"{}":gap?"{\n"+gap+o.join(",\n"+gap)+"\n"+s+"}":"{"+o.join(",")+"}";gap=s;return a}}if("function"!==typeof JSON.stringify)JSON.stringify=function(e,t,n){var i;gap="";indent="";if("number"===typeof n)for(i=0;i<n;i+=1)indent+=" ";else if("string"===typeof n)indent=n;rep=t;if(t&&"function"!==typeof t&&("object"!==typeof t||"number"!==typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})};if("function"!==typeof JSON.parse)JSON.parse=function(text,reviver){var j;function walk(e,t){var n,i,a=e[t];if(a&&"object"===typeof a)for(n in a)if(Object.prototype.hasOwnProperty.call(a,n)){i=walk(a,n);if(void 0!==i)a[n]=i;else delete a[n]}return reviver.call(e,t,a)}text=String(text);cx.lastIndex=0;if(cx.test(text))text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return"function"===typeof reviver?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}();define("lib/json2",JSON);define("tui/cookie",[],function(){return function(e,t,n,i){if("string"==typeof e){i=n;n=t;t=e;e=window}if(void 0!==n){i=i||{};var a,r="";if(i.expires){if(i.expires.constructor==Date)a=i.expires;else{a=new Date;a.setTime(a.getTime()+1e3*60*60*24*i.expires)}r="; expires="+a.toGMTString()}var s=i.path?"; path="+i.path:"";var o=i.domain?"; domain="+i.domain:"";var l=i.secure?"; secure":"";e.document.cookie=[t,"=",encodeURIComponent(n),r,s,o,l].join("")}else{n=e.document.cookie.match(new RegExp("(?:\\s|^)"+t+"\\=([^;]*)"));return n?decodeURIComponent(n[1]):null}}});define("module/stat/combo-stat",["tui/cookie"],function(e,t,n){if(window.ComboStat)return window.ComboStat;var i={cookie:function(t,n,i){if("undefined"==typeof n)return e(t);var a={domain:"youku.com",path:"/"};if(!i)a.expires=36500;e(t,n,a)},uuid:function(e){e=e||6;var t="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");var n="";var i=t.length;for(var a=0;a<e;a++){var r=parseInt(Math.random()*Math.pow(10,6))%i;n+=t[r]}return(new Date).getTime()+n},init:function(){var e=this;if(e.pvid)return;var t=e.cookie("ypvid")||"";var n=e.uuid();e.cookie("ypvid",n,true);var i=e.cookie("yseid");var a=1;var r=1;if(!i||(new Date).getTime()>(parseInt(e.cookie("yseidtimeout"))||0)){i=e.uuid();e.cookie("yseid",i,true);e.cookie("ysestep",1);r=parseInt(e.cookie("yseidcount")||0)+1;e.cookie("yseidcount",r)}else{a=parseInt(e.cookie("ysestep")||0)+1;e.cookie("ysestep",a)}var s=(new Date).getTime()+120*6e4;e.cookie("yseidtimeout",s,true);var o=e.cookie("ycid")||"";var l=window.cid||window.config&&window.config.item&&window.config.item.cid||0;e.cookie("ycid",l,true);var u=parseInt(e.cookie("ystep")||0)+1;e.cookie("ystep",u);e.juid=e.cookie("yjuid")||"";e.seid=i;e.pvid=n;e.cid=l;e.referPvid=t;e.referCid=o;e.step=u;e.seStep=a;e.seidTimeout=s;e.seidCount=r;e.isFrame=top.location!=window.location?1:0;e.noCookie=!navigator.cookieEnabled?1:0}};i.init();return i});define("tui/random",[],function(e,t){function n(){var e=4022871197;var t=function(t){t=t.toString();for(var n=0;n<t.length;n++){e+=t.charCodeAt(n);var i=.02519603282416938*e;e=i>>>0;i-=e;i*=e;e=i>>>0;i-=e;e+=4294967296*i}return 2.3283064365386963e-10*(e>>>0)};t.version="Mash 0.9";return t}function i(){return function(e){var t=4294967087;var i=4294944443;var a=12345,r=12345,s=123,o=12345,l=12345,u=123;if(0===e.length)e=[+new Date];var c=n();for(var d=0;d<e.length;d++){a+=4294967296*c(e[d]);r+=4294967296*c(e[d]);s+=4294967296*c(e[d]);o+=4294967296*c(e[d]);l+=4294967296*c(e[d]);u+=4294967296*c(e[d])}a%=t;r%=t;s%=t;o%=i;l%=i;u%=i;c=null;var f=function(){var e=4294967087;var t=4294944443;var n=1403580;var i=810728;var c=527612;var d=1370589;var f,h,p;h=n*r-i*a;f=0|h/e;h-=f*e;if(h<0)h+=e;a=r;r=s;s=h;p=c*u-d*o;f=0|p/t;p-=f*t;if(p<0)p+=t;o=l;l=u;u=p;if(h<=p)return h-p+e;else return h-p};var h=function(){return 2.3283064365386963e-10*f()};h.uint32=f;h.fract53=function(){return h()+1.1102230246251565e-16*(2097151&f())};h.version="MRG32k3a 0.9";h.args=e;return h}(Array.prototype.slice.call(arguments))}function a(e,t){t="undefined"==typeof t?"":t;var n=new i(e||0,location.href,Date.now());return t+(+new Date).toString(32)+parseInt(1e5*n()).toString(32)}t.rand=a});define("tui/class",[],function(){function e(){return function(){if(this.initialize)this.initialize.apply(this,arguments)}}function t(t,n){var i=this;var a=e();$.extend(a,i,n);var r=Object.create(i.prototype);r.constructor=a;a.prototype=r;$.extend(a.prototype,t);a.superClass=i.prototype;return a}var n=function(n){var i=e();$.extend(i.prototype,n);i.extend=t;return i};n.extend=t;return n});define("tui/event",["tui/class"],function(e){var t=e({initialize:function(){this.__event=window.Zepto?new window.Zepto.Events:$({})}});var n=t.prototype;["bind","one"].forEach(function(e){n[e]=function(t,n,i){if($.isPlainObject(t))for(var a in t)this[e](a,t[a]);else{var r=this.__event;var s=function(){return n.apply(i||r,arguments.length>0?window.Zepto?arguments:Array.prototype.slice.call(arguments,1):[])};r[e].call(r,t,s);n.guid=s.guid}return this}});["unbind","trigger","triggerHandler"].forEach(function(e){n[e]=function(){var t=this.__event;if(require.debug)console.log("[event] "+this.constructor.__mid+" : "+arguments[0],arguments[1]);var n=t[e].apply(t,arguments);if(require.debug&&n!=t&&void 0!=n)console.log(n);return n}});n.fire=n.trigger;n.firing=n.triggerHandler;t.mix=function(e){return $.extend(e,new t)};return t});define("module/stat/common",["tui/cookie","tui/event","tui/random"],function(e,t,n,i,a){var r={UL:1,OL:2,LI:3,INPUT:4,DIV:5,BODY:6,STRONG:7,SPAN:8,FORM:9,BUTTON:10,CAPTION:11,FIELDSET:12,COLGROUP:13,TFOOT:14,LABEL:15,LEGEND:16,THEAD:17,OPTGROUP:18,OPTION:19,SELECT:20,TABLE:21,TBODY:22,IFRAME:0,SCRIPT:0,OBJECT:0,EMBED:0,IMG:0};function s(){return n.rand(e("u_id"))}function o(){var t=e("juid");if(!t){t=n.rand(e("u_id"),"0");e("juid",t,{expires:365*100,domain:"youku.com",path:"/"});t=e("juid")||1}window.juidStr=t;return t}function l(){var t=e("seid");if(!t||+new Date>(parseInt(e("seidtimeout"))||0)){t=n.rand(e("u_id"),"0");e("seid",t,{domain:"youku.com",path:"/"});t=e("seid")||1}var i=e("referhost");if(!i||+new Date>(parseInt(e("seidtimeout"))||0)){var a=/^https?:\/\/[^\/]+/.exec(document.referrer||"");i=a?a[0]:"";e("referhost",i,{domain:"youku.com",path:"/"})}e("seidtimeout",Date.now()+30*6e4,{domain:"youku.com",path:"/"});return t}function u(e){e=$(e)[0];var t=[];if(e.id)return"#"+e.id;for(;e;e=e.parentNode){var n=e.nodeName.toUpperCase();if("BODY"==n)break;if(e.id&&"i"!=e.getAttribute("cs")){t.splice(0,0,"#"+e.id);return t.join("~")}var i=0;for(var a=e.previousSibling;a;a=a.previousSibling){var s=a.nodeName.toUpperCase();if(0===r[s])continue;if(s==n)++i}n=r[n]||n;var o=i?"!"+(i+1):"";t.splice(0,0,n+o)}return t.length?t.join("~"):null}function c(e){var t=$(e).attr("href")||$(e).attr("data-stat-href");if(!t)return"";if(/^(javascript:|#)/i.test(t))return"";t=$.trim(t);var n=location.href;var i=n.replace(/(https?:\/\/[^\/]+).*/,"$1");var a=i===n?i+"/":n.replace(/[#?].*/,"").replace(/[^\/]*$/,"");return t.replace(/^\.[\.\/]+/g,function(e){var t=(e.match(/\.\.\//g)||[]).length;for(var n=0;n<t;n++)a=a.replace(/[^\/]+\/$/,"");return a}).replace(/&amp;/g,"&").replace(/^\//,i+"/").replace(/^[^\h\/]/,a+"$&")}function d(e){var t={A:1,INPUT:1,BUTTON:1};if("LABEL"==e.nodeName){var n;var i=$(e);var a=i.attr("for");if(a)n=$("input#"+a).get(0);if(!n){var r=i.find("input:first");if(r.length>0)n=r.get(0)}if(n)e=n}if(e.getAttribute&&"ck"==e.getAttribute("data-stat-role"))return e;else{var s=e.parentNode;try{if(s&&s.getAttribute&&"ck"==s.getAttribute("data-stat-role"))return s}catch(o){}}if(!t[e.nodeName]){e=e.parentNode||{};if(!t[e.nodeName])return false}return e}function f(e){if(!e)return e;if(0==e.indexOf("#"))e=e.replace(/\#([^~\s]+)~/,function(e,t){return'//*[@id="'+t+'"]~'});else e="~html~body~"+e;e=e.replace(/\!(\d+)/g,function(e,t){return"["+t+"]"});e=e.replace(/(~?)(\d+)(~|\[)/g,function(e,t,n,i){for(var a in r)if(r[a]==parseInt(n))return t+a+i;return e});e=e.replace(/~/g,"/");return e}function h(e){var t=document.evaluate(e,document,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null);if(t.snapshotLength>0)return t.snapshotItem(0);return null}function p(e){var t=[];$.each(e,function(e,n){if(""!==n)t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))});return t.join("&")}function m(e,n){if(!n)t.mix(e);return $.extend(e,{__callbacks:[],addData:function(e){this.__callbacks.push(e)},getData:function(){var e=this;var t={};var n=arguments;e.__callbacks.forEach(function(i){var a=i.apply(e,n)||{};$.extend(t,a)});return t}})}a.referrer=document.referrer||"";a.updateRefer=function(e){a.referrer=e||location.href};a.getPositionCode=u;a.getTrueLink=c;a.getStatTarget=d;a.getXpathFromPositionCode=f;a.getElementByXPath=h;a.param=p;a.mix=m;a.juid=o;a.seid=l;a.pvid=s});define("tui/storage",["tui/class"],function(e){var t=e({initialize:function(e){var t=this;if(e){t.iframe1=$('<iframe src="'+e+'" style="position:absolute;left:-9999px;bottom:0;width:0;height:0;visibility:hidden;">');var i=/https?:\/\/[^\/]+/.exec(e);t.origin=i?i[0]:""}else{t.storage=n(window);t.loaded1=true;return}t.gcbs1=[];t.scbs1=[];t.rcbs1=[];t.loaded1=!!t.storage;if(t.iframe1.on)t.iframe1.on("load",a);else t.iframe1.bind("load",a);function a(){t.storage=n(this.contentWindow,t.origin);t.loaded1=true;t.gcbs1.forEach(function(e){t.getItem(e.k,e.cb)});t.scbs1.forEach(function(e){t.setItem(e.k,e.v,e.cb)});t.rcbs1.forEach(function(e){t.removeItem(e.k,e.cb)});t.gcbs1=[];t.scbs1=[];t.rcbs1=[]}$(document.body).append(this.iframe1)},getItem:function(e,t){if(this.loaded1)this.storage.getItem(e,t);else this.gcbs1.push({k:e,cb:t});return this},setItem:function(e,t,n){if($.isPlainObject(t)||$.isArray(t))t=JSON.stringify(t);if(this.loaded1)this.storage.setItem(e,t,n);else this.scbs1.push({k:e,v:t,cb:n});return this},removeItem:function(e,t){if(this.loaded1)this.storage.removeItem(e,t);else this.rcbs1.push({k:e,cb:t});return this}});function n(e,t){var n=parseInt($.browser.version);if(e!==window&&$.browser.mozilla&&(n>=13&&n<=14||n>=30))return i(e,t);else if(e.localStorage)return a(e);else if(e.ActiveXObject)return r(e);else throw new Error("Local storage not exist.")}function i(e,t){window.addEventListener("message",function(e){var t=JSON.parse(e.data);n[t.id](t.val);delete n[t.id]},false);var n={},i=0,a={};a.setItem=function(a,r,s){n[i]=s||function(){};e.postMessage(JSON.stringify({id:i++,key:a,val:r}),t)};a.getItem=function(a,r){n[i]=r||function(){};e.postMessage(JSON.stringify({id:i++,key:a}),t)};a.removeItem=function(a,r){n[i]=r||function(){};e.postMessage(JSON.stringify({id:i++,key:a,val:null}),t)};return a}function a(e){var t={};t.setItem=function(t,n,i){e.localStorage.setItem(t,n);if(i)i()};t.getItem=function(t,n){if(n)n(e.localStorage.getItem(t))};t.removeItem=function(t,n){e.localStorage.removeItem(t);if(n)n()};return t}function r(e){var t={},n=e.document.documentElement;n.addBehavior("#default#userdata");t.setItem=function(e,t,i){try{n.setAttribute("tui",t);n.save(e)}catch(a){throw new Error("[V3] userData behavior error")}if(i)i()};t.getItem=function(e,t){try{n.load(e);if(t)t(n.getAttribute("tui"))}catch(i){return null}};t.removeItem=function(e,t){try{n.load(e);n.expires=new Date(315532799e3).toUTCString();n.save(e);if(t)t()}catch(i){}};return t}return t});define("module/global",["tui/event","tui/cookie","tui/storage","module/stat/common"],function(e,t,n,i,a,r){try{document.domain="youku.com"}catch(s){}var o={};o.juid=i.juid();o.seid=i.seid();o.pvid=i.pvid();return o});define("tui/browser",[],function(){var e=navigator.userAgent.toLowerCase();var t={webkit:/webkit/.test(e),opera:/opera/.test(e),msie:/msie/.test(e)&&!/opera/.test(e),mozilla:/mozilla/.test(e)&&!/(compatible|webkit)/.test(e),iku:/iku/.test(e),html5:function(){var e=document.createElement("input");var t=document.createElement("video");return{h264:!!(t.canPlayType&&t.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"').replace(/no/,"")),history:!!(window.history&&window.history.pushState&&window.history.popState),placeholder:"placeholder"in e}},lang:(navigator.language||navigator.systemLanguage).toLowerCase(),iOS:(e.match(/(ipad|iphone|ipod)/)||[])[0],iOSVersion:(e.match(/os\s+([\d_]+)\s+like\s+mac\s+os/)||[0,"0_0_0"])[1].split("_"),wphone:parseFloat((e.match(/windows\sphone\s(?:os\s)?([\d.]+)/)||["","0"])[1]),android:parseFloat((e.match(/android[\s|\/]([\d.]+)/)||["","0"])[1])};t.isMobile=!!t.iOS||!!t.wphone||!!t.android||void 0!==window.orientation||false;t.isPad=t.isMobile&&("ipad"==t.iOS||e.indexOf("mobile")==-1||e.indexOf("windows nt")!=-1&&e.indexOf("touch")!=-1)||false;return t});define("tui/drag",["tui/event"],function(e){var t=$(window);function n(){if(window.getSelection)window.getSelection().removeAllRanges();else if(document.selection)document.selection.empty();return this}function i(e){e.preventDefault()}var a=e.extend({initialize:function(e,r){var s=this;r=r||{};var o=r.handler||e;a.superClass.initialize.call(s);s.limit=r.limit;s.bubble=r.bubble;s.isCustom=r.isCustom;s.enable2=true;s.state2=false;s.hasMove2=false;s.fx=s.fy=-1;s.x2=s.y2=s.mx2=s.my2=s.px2=s.py2=s.cx2=s.cy2=0;s.node2="string"==$.type(e)?$(e):e;s.container2=r.container||s.node2.parent();s.fixed2="fixed"==s.node2.css("position").toLowerCase();s.handler2="string"==$.type(o)?$(o):o;var l=s.handler2||s.node2;function u(e){e.preventDefault();if(!s.bubble||e.target==l[0]){s.start(e);if(l[0].setCapture)l[0].setCapture()}}l.bind("mousedown",u);function c(e){if(s.state2){s.state2=false;var n=e.pageX-s.mx2+s.x2-s.px2,a=e.pageY-s.my2+s.y2-s.py2;if(s.fixed2){n-=t.scrollLeft();a-=t.scrollTop()}if(s.limit){n=Math.max(n,s.cx2-s.px2);a=Math.max(a,s.cy2-s.py2);n=Math.min(n,s.cWidth-(s.px2-s.cx2)-s.dWidth);a=Math.min(a,s.cHeight-(s.py2-s.cy2)-s.dHeight)}s.x2=s.node2.offset().left;s.y2=s.node2.offset().top;s.trigger("drag:end",[n,a,e.pageX,e.pageY,s.node2,s.container2])}$(document).unbind("selectstart",i);if(l[0].releaseCapture)l[0].releaseCapture()}$(document).bind("mouseup",c);function d(e){if(s.state2&&s.enable2){if(!s.hasMove()&&e.pageX==s.fx&&e.pageY==s.fy);else s.hasMove2=true;var i=e.pageX-s.mx2+s.x2-s.px2,a=e.pageY-s.my2+s.y2-s.py2;if(s.fixed2){i-=t.scrollLeft();a-=t.scrollTop()}if(s.limit){i=Math.max(i,s.cx2-s.px2);a=Math.max(a,s.cy2-s.py2);i=Math.min(i,s.cWidth-(s.px2-s.cx2)-s.dWidth);a=Math.min(a,s.cHeight-(s.py2-s.cy2)-s.dHeight)}if(!s.isCustom)s.node2.css({left:i,top:a});n();s.trigger("drag:move",[i,a,e.pageX,e.pageY,s.node2,s.container2])}}$(document).bind("mousemove",d);s.cancel=function(){l.unbind("mousedown",u);$(document).unbind("mouseup",c);$(document).unbind("mousemove",d)}},start:function(e){var t=this;$(document).bind("selectstart",i);t.offsetParent2=t.node2.offsetParent();if(t.limit){t.cWidth=t.container2.outerWidth();t.cHeight=t.container2.outerHeight();t.pWidth=t.offsetParent2.outerWidth();t.pHeight=t.offsetParent2.outerHeight();t.dWidth=t.node2.outerWidth();t.dHeight=t.node2.outerHeight()}t.fx=e.pageX;t.fy=e.pageY;t.cx2=t.container2.offset().left;t.cy2=t.container2.offset().top;t.px2=t.offsetParent2.offset().left;t.py2=t.offsetParent2.offset().top;t.x2=t.node2.offset().left;t.y2=t.node2.offset().top;t.mx2=e.pageX;t.my2=e.pageY;t.state2=true;t.trigger("drag:start",[t.x2,t.y2,e.pageX,e.pageY,t.node2,t.container2]);return this},enable:function(){this.enable2=true;return this},disable:function(){this.enable2=false;return this},state:function(){return this.state2},hasMove:function(){return this.hasMove2}});return a});define("tui/art",[],function(){var e=window;var t=function(e,n){return t["string"===typeof n?"compile":"render"].apply(t,arguments)};t.version="2.0.2";t.openTag="<%";t.closeTag="%>";t.isEscape=true;t.isCompress=false;t.parser=null;t.render=function(e,n){var i=t.get(e)||a({id:e,name:"Render Error",message:"No Template"});return i(n)};t.compile=function(e,i){var s=arguments;var o=s[2];var l="anonymous";if("string"!==typeof i){o=s[1];i=s[0];e=l}try{var u=r(e,i,o)}catch(c){c.id=e||i;c.name="Syntax Error";return a(c)}function d(n){try{return new u(n,e)+""}catch(r){if(!o)return t.compile(e,i,true)(n);return a(r)()}}d.prototype=u.prototype;d.toString=function(){return u.toString()};if(e!==l)n[e]=d;return d};var n=t.cache={};var i=t.helpers=function(){var e=function(t,n){if("string"!==typeof t){n=typeof t;if("number"===n)t+="";else if("function"===n)t=e(t.call(t));else t=""}return t};var n={"<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","&":"&#38;"};var i=function(t){return e(t).replace(/&(?![\w#]+;|#\d+)|[<>"']/g,function(e){return n[e]})};var a=Array.isArray||function(e){return"[object Array]"==={}.toString.call(e)};var r=function(e,t){if(a(e))for(var n=0,i=e.length;n<i;n++)t.call(e,e[n],n,e);else for(n in e)t.call(e,e[n],n)};return{$include:t.render,$string:e,$escape:i,$each:r}}();t.helper=function(e,t){i[e]=t};t.onerror=function(t){var n="Template Error\n\n";for(var i in t)n+="<"+i+">\n"+t[i]+"\n\n";if(e.console)console.error(n)};t.get=function(i){var a;if(n.hasOwnProperty(i))a=n[i];else if("document"in e){var r=document.getElementById(i);if(r){var s=r.value||r.innerHTML;a=t.compile(i,s.replace(/^\s*|\s*$/g,""))}}return a};var a=function(e){t.onerror(e);return function(){return"{Template Error}"}};var r=function(){var e=i.$each;var n="break,case,catch,continue,debugger,default,delete,do,else,false"+",finally,for,function,if,in,instanceof,new,null,return,switch,this"+",throw,true,try,typeof,var,void,while,with"+",abstract,boolean,byte,char,class,const,double,enum,export,extends"+",final,float,goto,implements,import,int,interface,long,native"+",package,private,protected,public,short,static,super,synchronized"+",throws,transient,volatile"+",arguments,let,yield"+",undefined";var a=/\/\*[\w\W]*?\*\/|\/\/[^\n]*\n|\/\/[^\n]*$|"(?:[^"\\]|\\[\w\W])*"|'(?:[^'\\]|\\[\w\W])*'|[\s\t\n]*\.[\s\t\n]*[$\w\.]+/g;var r=/[^\w$]+/g;var s=new RegExp(["\\b"+n.replace(/,/g,"\\b|\\b")+"\\b"].join("|"),"g");var o=/^\d[^,]*|,\d[^,]*/g;var l=/^,+|,+$/g;var u=function(e){return e.replace(a,"").replace(r,",").replace(s,"").replace(o,"").replace(l,"").split(/^$|,+/)};return function(n,a,r){var s=t.openTag;var o=t.closeTag;var l=t.parser;var c=a;var d="";var f=1;var h={$data:1,$id:1,$helpers:1,$out:1,$line:1};var p={};var m="var $helpers=this,"+(r?"$line=0,":"");var g="".trim;var v=g?["$out='';","$out+=",";","$out"]:["$out=[];","$out.push(",");","$out.join('')"];var b=g?"if(content!==undefined){$out+=content;return content;}":"$out.push(content);";var y="function(content){"+b+"}";var w="function(id,data){"+"data=data||$data;"+"var content=$helpers.$include(id,data,$id);"+b+"}";e(c.split(s),function(e,t){e=e.split(o);var n=e[0];var i=e[1];if(1===e.length)d+=_(n);else{d+=C(n);if(i)d+=_(i)}});c=d;if(r)c="try{"+c+"}catch(e){"+"throw {"+"id:$id,"+"name:'Render Error',"+"message:e.message,"+"line:$line,"+"source:"+$(a)+".split(/\\n/)[$line-1].replace(/^[\\s\\t]+/,'')"+"};"+"}";c=m+v[0]+c+"return new String("+v[3]+");";try{var k=new Function("$data","$id",c);k.prototype=p;return k}catch(x){x.temp="function anonymous($data,$id) {"+c+"}";throw x}function _(e){f+=e.split(/\n/).length-1;if(t.isCompress)e=e.replace(/[\n\r\t\s]+/g," ").replace(/<!--.*?-->/g,"");if(e)e=v[1]+$(e)+v[2]+"\n";return e}function C(e){var n=f;if(l)e=l(e);else if(r)e=e.replace(/\n/g,function(){f++;return"$line="+f+";"});if(0===e.indexOf("=")){var a=0!==e.indexOf("==");e=e.replace(/^=*|[\s;]*$/g,"");if(a&&t.isEscape){var s=e.replace(/\s*\([^\)]+\)/,"");if(!i.hasOwnProperty(s)&&!/^(include|print)$/.test(s))e="$escape("+e+")"}else e="$string("+e+")";e=v[1]+e+v[2]}if(r)e="$line="+n+";"+e;S(e);return e+"\n"}function S(t){t=u(t);e(t,function(e){if(!h.hasOwnProperty(e)){T(e);h[e]=true}})}function T(e){var t;if("print"===e)t=y;else if("include"===e){p["$include"]=i["$include"];t=w}else{t="$data."+e;if(i.hasOwnProperty(e)){p[e]=i[e];if(0===e.indexOf("$"))t="$helpers."+e;else t=t+"===undefined?$helpers."+e+":"+t}}m+=e+"="+t+","}function $(e){return"'"+e.replace(/('|\\)/g,"\\$1").replace(/\r/g,"\\r").replace(/\n/g,"\\n")+"'"}}}();return t});define("tui/widget",["tui/event","tui/art"],function(e,t){function n(e,t){var n;var i;var a=e.split(" ");if(1==a.length){n=t;i=e}else{n=a.shift();i=a.join(" ")}return[n,i]}var i=e.extend({element:null,template:"<div></div>",eventType:"click",model:{},events:{},targetNode:$(document.body),renderMethod:"append",initialize:function(e){var t=this;e=e||{};i.superClass.initialize.call(t);t.model=$.extend(true,{},t.model);
t.events=$.extend(true,{},t.events);$.each(["element","targetNode"],function(){"undefined"!==typeof e[this]&&(t[this]=$(e[this]))});$.each(["template","eventType","renderMethod"],function(){"undefined"!==typeof e[this]&&(t[this]=e[this])});$.each(["model","events"],function(){"undefined"!==typeof e[this]&&$.extend(t[this],e[this])})},find:function(e){return this.element.find(e)},delegate:function(e,t){var i=this;if("string"==$.type(e)&&$.isFunction(t)){var a={};a[e]=t;e=a}$.each(e,function(e,t){var a=function(e){if($.isFunction(t))return t.call(i,e);else return i[t](e)};var r=n(e,i.eventType);i.element.on(r[0],r[1],a)});return i},undelegate:function(e){var t=this;var i=n(e,t.eventType);t.element.off(i[0],i[1]);return t},render:function(e){var n=this;if(!n.element||!n.element[0])n.element=$(t.compile(n.template)($.extend({getUrl:this.getUrl||a},e||n.model)));n.delegate(n.events);if(n.renderMethod)n.targetNode[n.renderMethod](n.element);return n},update:function(e){if(this.renderMethod)this.targetNode[this.renderMethod](t.compile(this.template)($.extend({getUrl:this.getUrl||a},e)))}});function a(e){return e}return i});define("tui/mask",[],function(){var e=$('<div class="tui-mask">');var t;var n=$(window);var i=$(document);var a=$(document.body);var r=4096;function s(){var t=Math.max(n.width(),i.width());var a=Math.max(n.height(),i.height());var s="absolute";var o=0;if(/msie/.test(navigator.userAgent.toLowerCase())&&a>r){o=n.scrollTop();if(o+r>a)o=a-r;a=r}e.css({position:s,top:o,width:t,height:a})}return{node:function(){return e},resize:function(){s()},show:function(i){n.bind("resize",s);e.css("z-index",i||2e4);this.resize();if(!t){a.append(e);t=true}else e.show();return this},hide:function(i){n.unbind("resize",s);if(i){e.remove();t=false}else e.hide();return this},update:function(){s()},state:function(){return e.is(":visible")}}});define("tui/dialog",["tui/art","tui/mask","tui/widget","tui/drag"],function(e,t,n,i){var a=$(window);var r=1e4;var s='		<div class="tui-dialog <%=className%>">			<div class="tui-dialog-content" <%if(width){%>style="width:<%=width%>px"<%}%> data-role="content">				<div class="tui-dialog-header" data-role="header">					<a class="tui-dialog-close" href="#" data-role="close" title="å³é­"><i>&times;</i><span>å³é­</span></a>					<div class="tui-dialog-title" data-role="title"><%=title%></div>				</div>				<div class="tui-dialog-body" data-role="body">				</div>				<div class="tui-dialog-footer" data-role="footer">					<% for (var i = 0; i < buttons.length; i++) { %>					<a data-role="button_<%=i%>" href="#" class="btn btn-default <%if(buttons[i].className){%><%=buttons[i].className%><%}%>"><%=buttons[i].name%></a>					<% } %>				</div>			</div>		</div>';var o=n.extend({events:{"click [data-role=close]":function(e){e.preventDefault();this.close()}},initialize:function(t){var n=this;var i={template:s,buttons:[],zIndex:r,hasDrag:true,hasMask:true,isFixed:true,iframeMask:false,className:"",title:"",width:null};t=$.extend(i,t||{});r=t.zIndex;t.element=$(e.compile(t.template)(t));o.superClass.initialize.call(this,t);n.dom={content:n.element.find("[data-role=content]"),header:n.element.find("[data-role=header]"),title:n.element.find("[data-role=title]"),body:n.element.find("[data-role=body]"),footer:n.element.find("[data-role=footer]"),close:n.element.find("[data-role=close]")};n.config=t;n.open();var a=function(e){if(27==e.keyCode){n.close();$(document).unbind("keydown",a)}};$(document).keydown(a)},title:function(e){this.dom.title.html(e);return this},content:function(e){this.dom.body.html(e);return this},open:function(){var e=this;var n=e.config;var s=e.element;var o=e.dom;s.css("z-index",r);r+=2;if(n.hasMask)t.show(s.css("z-index")-1);s.css("position",n.isFixed?"fixed":"absolute");if(n.iframeMask)e.iframeMask=$("<iframe>",{src:"about:blank",frameborder:0,css:{border:"none","z-index":-1,position:"absolute",top:0,left:0,width:"100%",height:"100%"}}).prependTo(o.content);e.content(n.content||"");$.each(n.buttons,function(t){e.events["[data-role=button_"+t+"]"]=this.callback});if(!e.element.parent()[0])e.render();e.element.show();e.locate();e.resizeLocate=function(t){e.locate()};a.bind("resize",e.resizeLocate);if(e.config.hasDrag)new i(s,{handler:o.header,limit:true});return e},close:function(e){var n=this;if(n.config.hasMask)t.hide(true);n.trigger("close",[n]);if(!e&&n.iframeMask)n.element.find("iframe").remove();n.element[e?"hide":"remove"]();if(n.resizeLocate)a.unbind("resize",n.resizeLocate);if(n.iefixScroll){a.unbind("scroll",n.iefixScroll);n.iefixScroll=null}return n},locate:function(){var e=this;var t=Math.max(0,a.width()-e.element.width()>>1);if(!e.config.isFixed)var n=a.scrollTop()+(a.height()-e.element.height())/2;else var n=Math.max(0,a.height()-e.element.height()>>1);e.element.css({left:t,top:n});return e}});o.confirm=function(e,t){var n="";if($.isPlainObject(e))n=e.content||"";else n=e;t=t||e.callback;return new o($.extend({className:"tui-dialog tui-dialog-alert",title:"ä¼é·æç¤º",content:'<div class="alert-text">'+n+"</div>",hasMask:true,buttons:[{name:"ç¡®å®",callback:function(e){e.preventDefault();t&&t.call(this);this.close()}},{name:"åæ¶",callback:function(e){e.preventDefault();this.close()}}]},e))};o.alert=function(e,t){var n="";if($.isPlainObject(e))n=e.content||"";else n=e;t=t||e.callback;return new o($.extend({className:"tui-dialog tui-dialog-alert",title:"ä¼é·æç¤º",content:'<div class="alert-text">'+n+"</div>",hasMask:true,buttons:[{name:"ç¡®å®",callback:function(e){e.preventDefault();t&&t.call(this);this.close()}}]},e))};return o});define("tui/util/codec",[],function(e,t){function n(e,t){var n=[],i=0,a,r="";for(var s=0;s<256;s++)n[s]=s;for(s=0;s<256;s++){i=(i+n[s]+e.charCodeAt(s%e.length))%256;a=n[s];n[s]=n[i];n[i]=a}s=0;i=0;for(var o=0;o<t.length;o++){s=(s+1)%256;i=(i+n[s])%256;a=n[s];n[s]=n[i];n[i]=a;r+=String.fromCharCode(t.charCodeAt(o)^n[(n[s]+n[i])%256])}return r}function i(e){if(!e)return"";e=e.toString();var t,n,i,a;var r,s,o;var l=new Array(-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1);s=e.length;r=0;o="";while(r<s){do t=l[255&e.charCodeAt(r++)];while(r<s&&t==-1);if(t==-1)break;do n=l[255&e.charCodeAt(r++)];while(r<s&&n==-1);if(n==-1)break;o+=String.fromCharCode(t<<2|(48&n)>>4);do{i=255&e.charCodeAt(r++);if(61==i)return o;i=l[i]}while(r<s&&i==-1);if(i==-1)break;o+=String.fromCharCode((15&n)<<4|(60&i)>>2);do{a=255&e.charCodeAt(r++);if(61==a)return o;a=l[a]}while(r<s&&a==-1);if(a==-1)break;o+=String.fromCharCode((3&i)<<6|a)}return o}function a(e){if(!e)return"";e=e.toString();var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var n,i,a;var r,s,o;a=e.length;i=0;n="";while(i<a){r=255&e.charCodeAt(i++);if(i==a){n+=t.charAt(r>>2);n+=t.charAt((3&r)<<4);n+="==";break}s=e.charCodeAt(i++);if(i==a){n+=t.charAt(r>>2);n+=t.charAt((3&r)<<4|(240&s)>>4);n+=t.charAt((15&s)<<2);n+="=";break}o=e.charCodeAt(i++);n+=t.charAt(r>>2);n+=t.charAt((3&r)<<4|(240&s)>>4);n+=t.charAt((15&s)<<2|(192&o)>>6);n+=t.charAt(63&o)}return n}function r(e){var t,n,i,a;t="";i=e.length;for(n=0;n<i;n++){a=e.charCodeAt(n);if(a>=1&&a<=127)t+=e.charAt(n);else if(a>2047){t+=String.fromCharCode(224|15&a>>12);t+=String.fromCharCode(128|63&a>>6);t+=String.fromCharCode(128|63&a>>0)}else{t+=String.fromCharCode(192|31&a>>6);t+=String.fromCharCode(128|63&a>>0)}}return t}function s(e){var t,n,i,a;var r,s;t="";i=e.length;n=0;while(n<i){a=e.charCodeAt(n++);switch(a>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:t+=e.charAt(n-1);break;case 12:case 13:r=e.charCodeAt(n++);t+=String.fromCharCode((31&a)<<6|63&r);break;case 14:r=e.charCodeAt(n++);s=e.charCodeAt(n++);t+=String.fromCharCode((15&a)<<12|(63&r)<<6|(63&s)<<0)}}return t}t.rc4=n;t.decode64=i;t.encode64=a;t.utf16to8=r;t.utf8to16=s});define("tui/util/url",[],function(e,t){var n=/msie/.test(navigator.userAgent.toLowerCase());function i(e,t){if(!n)if(t)window.open(e,t);else location.href=e;else{var i=$('<a href="'+e+'" target="'+(t||"_self")+'" data-openurl="true"> </a>')[0];document.body.appendChild(i);i.click()}}function a(e){e=e||location.search||location.href;var t={},n=e.match(/[^\s&?#=\/]+=[^\s&?#=]+/g);if(n)for(var i=0,a=n.length;i<a;i++){var r=n[i].split("=");t[r[0]]=decodeURIComponent(r[1])}return t}t.openURL=i;t.params=a});define("tui/util/str",[],function(e,t){function n(e){return e.replace(/([^\x00-\xff])/g,"$1 ").length}function i(e,t,n){e=e||"";n=n||"..";if(this.byteLen(e)<=t)return e;var i=e.substr(0,t).replace(/([^\x00-\xff])/g,"$1 ").substr(0,t).replace(/([^\x00-\xff])\s/g,"$1");return i+n}function a(e,t){t=t||400;e=e.replace(/(\r\n|\n)+/g,"<br>");e=e.replace(/\s{2,}/g," ");e=e.replace(/(<(?:img|embed).*?>)([\s\S]*)$/gi,function(e,t,n){return t+n.replace(/<(?:img|embed).*?>/gi,"")});e=e.replace(/<\/(p|div|ol|ul|li)>/gi,"<br>");e=e.replace(/<(?!img|embed|br).*?>/gi,"");e=e.replace(/(<br[^>]*>\s*){2,}/gi,"$1");var n=e.length;e=e.substr(0,t);e=e.replace(/<[^>]*$/,"");if(e.length<n)e+=" ...";return e}var r=[];for(var s=0;s<256;s++)r[s]=(s<16?"0":"")+s.toString(16);function o(){var e=0|4294967295*Math.random();var t=0|4294967295*Math.random();var n=0|4294967295*Math.random();var i=0|4294967295*Math.random();return r[255&e]+r[255&e>>8]+r[255&e>>16]+r[255&e>>24]+"-"+r[255&t]+r[255&t>>8]+"-"+r[64|15&t>>16]+r[255&t>>24]+"-"+r[128|63&n]+r[255&n>>8]+"-"+r[255&n>>16]+r[255&n>>24]+r[255&i]+r[255&i>>8]+r[255&i>>16]+r[255&i>>24]}function l(e){var t={"&#60;":"<","&#62;":">","&#34;":'"',"&#39;":"'","&#38;":"&"};return e.replace(/(&#\d{2};)/g,function(e){return t[e]})}t.unescapeHTML=l;t.byteLen=n;t.substr=i;t.subHtml=a;t.uuid=o});define("tui/util/num",[],function(e,t){function n(e,t){var n="",i=e<0,a=String(Math.abs(e));if(a.length<t)n=new Array(t-a.length+1).join("0");return(i?"-":"")+n+a}function i(e,t){t=t.length;e=e||0;return 1==t?e:(e=String(Math.pow(10,t)+e)).substr(e.length-t)}function a(e,t){t=t||",";return String(e).replace(/(\d)(?=(\d{3})+($|\.))/g,"$1"+t)}function r(e){e=parseInt(e);var t;if(e>=1e8)t=(e/1e8).toFixed(2)+"äº¿";else if(e>=1e4){var n=e/1e4;var i=parseInt(n).toString();var r=i.length;if(r<4&&n!=i)i=n.toFixed(1==r?2:4-r);t=a(i)+"ä¸"}else t=a(e);return t}function s(e){e=parseInt(e);var t=-1;do{e/=1024;t++}while(e>1024);return Math.max(e,.1).toFixed(1)+["KB","MB","GB","TB"][t]}t.pad=n;t.format=i;t.split=a;t.field=r;t.bytes=s});define("tui/util/date",["tui/util/num"],function(e,t,n){var i=e.format;function a(e,t){if(void 0===t)t=new Date;else if($.isNumeric(t))t=new Date(parseInt(t,10));return e.replace(/([YMDhsm])\1*/g,function(e){switch(e.charAt()){case"Y":return i(t.getFullYear(),e);case"M":return i(t.getMonth()+1,e);case"D":return i(t.getDate(),e);case"w":return t.getDay()+1;case"h":return i(t.getHours(),e);case"m":return i(t.getMinutes(),e);case"s":return i(t.getSeconds(),e)}})}var r=60*24*60;function s(e,t,n){if($.isNumeric(e))e=new Date(parseInt(e,10));if($.isNumeric(t))t=new Date(parseInt(t,10));if(void 0===e)e=new Date;if(void 0===t)t=new Date;if(!n)n="YYYYå¹´MMæDDæ¥";var i=new Date(t.toDateString());var s=(+t-+e)/1e3;var o=(+t-+i)/1e3;if(s<=60)return"åå";else if(s<=60*60)return Math.floor(s/60)+"åéå";else if(s<=o)return Math.floor(s/3600)+"å°æ¶å";else if(s<=o+r)return"æ¨å¤©";else if(s<=o+2*r)return"åå¤©";else if(s<=o+25*r)return Math.floor(s/r)+"å¤©å";else return a(n,e)}function o(e,t){var n=0;e=String(e).split(":");for(var i=0,a=e.length;i<a;i++)n+=parseInt(e[i],10)*Math.pow(60,a-i-1);return t?1e3*n:n}function l(e,t){var n=[],i,a,e;e=Math.ceil(e);if(void 0==t||t){i=parseInt(e/3600);a=parseInt(e%3600/60)}else a=parseInt(e/60);e%=60;if(a<10)a="0"+a;if(e<10)e="0"+e;n=[a,e];if(i>0)n.unshift(i);return n.join(":")}function u(e,t,n){if("date"==$.type(t))t=t.getTime();else t=parseInt(t);var a=new Date(t),r=a.getHours();if(a>432e5)r+=Math.floor(a/432e5);if(n)e=e.replace(/(\w)\1+/g,"$1");return e.replace(/([hms])\1*/g,function(t){switch(t.charAt()){case"h":return i(r-8,t);case"m":var n=60*(/h+/.test(e)?0:r-8)+a.getMinutes();return i(n,t);case"s":return i(a.getSeconds(),t)}})}function c(e,t){if(e<36e5)return this.formatTime("mm:ss",e,t);else return this.formatTime("hh:mm:ss",e,t)}n.release=s;n.formatDate=a;n.formatTime=u;n.formatTimeE=c;n.beautyTime=l;n.parseTime=o});define("tui/util",["tui/util/date","tui/util/num","tui/util/str","tui/util/url","tui/util/codec"],function(e,t,n,i,a){return $.extend({},e,t,n,i,a)});define("tui/template",[],function(e,t){t.ns=function(e,t,n){var i,a=n||window,r=e.split(".").reverse();while((i=r.pop())&&r.length>0){if("undefined"===typeof a[i])a[i]={};else if("object"!==typeof a[i])return false;a=a[i]}if("undefined"!==typeof t)a[i]=t;return a[i]};t.format=function(e,t){return e.replace(/<%\=(\w+)%>/g,function(e,n){return null!=t[n]?t[n]:""})};t.escapeHTML=function(e){e=e||"";var t={"<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;","{":"&#123;","}":"&#125;","@":"&#64;"};return e.replace(/[<>'"\{\}@]/g,function(e){return t[e]})};t.substr=function(e,t,n){if(!e||"string"!==typeof e)return"";var i=e.substr(0,t).replace(/([^\x00-\xff])/g,"$1 ").substr(0,t).replace(/([^\x00-\xff])\s/g,"$1");return n?n.call(i,i):e.length>i.length?i+"...":i};t.strsize=function(e){return e.replace(/([^\x00-\xff]|[A-Z])/g,"$1 ").length};var n=this.document;t.tplSettings={_cache:{},evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g};t.tplHelpers={mix:$.extend,escapeHTML:t.escapeHTML,substr:t.substr,include:i,_has:function(e){return function(n){return t.ns(n,void 0,e)}}};function i(e,a,r){var s,o=t.tplSettings,l=r?"#"+r:"";if(!/[\t\r\n% ]/.test(e)){s=o._cache[e+l];if(!s){var u=n.getElementById(e);if(u)s=o._cache[e+l]=i(u.innerHTML,false,r)}}else{var c="var __p=[];"+(r?"":"with(obj){")+"var mix=api.mix,escapeHTML=api.escapeHTML,substr=api.substr,include=api.include,has=api._has("+(r||"obj")+");"+"__p.push('"+e.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(o.interpolate,function(e,t){return"',"+t.replace(/\\'/g,"'")+",'"}).replace(o.evaluate||null,function(e,t){return"');"+t.replace(/\\'/g,"'").replace(/[\r\n\t]/g," ")+"__p.push('"}).replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+"');"+(r?"":"}")+"return __p.join('');";try{s=new Function(r||"obj","api",c)}catch(d){console.log("Could not create a template function: \n"+c)}}return!s?"":a?s(a,t.tplHelpers):s}t.convertTpl=i;t.reloadTpl=function(e){delete t.tplSettings._cache[e]}});define("tui/flash",["tui/class","tui/event","tui/template","tui/util","tui/dialog","tui/browser"],function(e,t,n,i,a,r,s,o){function l(e,t,n,i){var a,r=n||window,s=e.split(".").reverse();while((a=s.pop())&&s.length>0){if("undefined"===typeof r[a])r[a]={};else if("object"!==typeof r[a])return false;r=r[a]}if("undefined"!=typeof t)if("object"!=typeof r[a])r[a]=t;else $.extend(r[a],t);return r[a]}o.getFlashMC=function(e){return document.getElementById(e)||window[e]};o.swfobject=function(){var s=0;var u=!(navigator.plugins&&navigator.mimeTypes&&navigator.mimeTypes.length);var c=r.webkit;var d=o.getFlashMC;var f={object:'<object id="<%=id%>" <%=classid%> width="<%=width%>" height="<%=height%>" name="<%=name%>" <%=data%> style="<%=style%>" <%=mimetype%> >',embed:'<embed id="<%=id%>" width="<%=width%>" height="<%=height%>" flashvars="<%=flashvars%>" quality="high" name="<%=name%>" src="<%=src%>" style="<%=style%>" <%=mimetype%> ',pluginspage:'<a id=<%=id%> class="tui_noflash" href="#" style="width:<%=width%>;height:<%=height%>;display:block;overflow:hidden;cursor:pointer;<%=style%>" onclick="<%=fn%>()">éè¦flashplayeræä»¶ï¼ç¹å»å®è£</a>'};var h="application/x-shockwave-flash";var p=o.swfClass=e({initialize:function(e){var n=this;s++;$.extend(this,e);var i=e.attrs;var a=i.id;if(!a)a=i.id="TUI_flashObj_"+s;this.flashId=a;if(!i.name)i.name=i.id;this.pluginspage=e.pluginspage||v;this.pluginspageTpl=e.pluginspageTpl||b;var r=g();this.isSupport=r&&r[0]>0;var o=this.jsapiName=e.flashvars.jsapi="_TUI_flashObj_"+s;var u=this.jsapi=window[o]={};var c=e.params.allowscriptaccess||e.params.allowScriptAccess;if(c&&"never"!=c){this.event=new t;$.extend(u,{flashReady:function(e){n.event.fire("load",e)},getValue:function(e){return l(e)},callFunc:function(e,t){try{return l(e).apply(l(e.replace(/\.[^\.]+$/,"")),t)}catch(n){return false}},notify:function(e,t){n.event.fire(e,t)}})}},load:function(e){var t=e?$("#"+e)[0]:false;if(t)if(t.outerHTML&&!r.opera)t.outerHTML=this.getHTML();else{var n=this,i=$(this.getHTML())[0];t.parentNode.replaceChild(i,t)}else document.write(this.getHTML())},getHTML:function(){var e,t,i=this,a=[],r=[],s=this.attrs,o=this.flashvars,l=this.params;if(this.isSupport)if(c&&c<312||!u&&"embed"===this.type){for(e in o)r.push(e+"="+o[e]);s.flashvars=r.join("&");s.mimetype='type="'+h+'"';a.push(n.format(f["embed"],s));for(t in l)a.push(t+'="'+l[t]+'" ');a.push(" ></embed>")}else{if(u)s.classid='classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"';else{s.data='data="'+s.src+'"';s.mimetype='type="'+h+'"'}a.push(n.format(f["object"],s));if(u)l["movie"]=s.src;l["quality"]="high";for(t in l)a.push('<param name="',t,'" value="',l[t],'" />');for(e in o)r.push(e+"="+o[e]);if(r.length>0)a.push('<param name="flashvars" value="',r.join("&"),'" />');a.push("</object>")}else{var d=s.width,p=s.height;a.push(n.format(this.pluginspageTpl(),$.extend(s,{width:!d&&"auto"||/%$/.test(d)&&d||d+"px",height:!p&&"auto"||/%$/.test(p)&&p||p+"px",fn:this.jsapiName+".pluginspage"})));this.jsapi.pluginspage=function(){return i.pluginspage.call(i)}}return a.join("")},ready:function(e){this.event.bind("load",e)},bind:function(e,t){this.event.bind(e,t);d(this.flashId)._addEventListener(e,this.jsapiName+".notify")},callMethod:function(e,t){return d(this.flashId)._call(e,t)}});function m(e,t,n,i,a,r){r=$.extend(r||{},{src:e,width:t,height:n});var s=r.tagType;delete r.tagType;return new p({type:s,attrs:r,params:a,flashvars:i,pluginspage:v,pluginspageTpl:b})}$.extend(m,{getVersion:g,setPluginspage:function(e){var t=v;v=function(){return e.call(this,t)}},setPluginspageTpl:function(e){var t=b;b=function(){return e.call(this,t)}}});return m;function g(){var e=[0,0,0];if(navigator.plugins&&navigator.mimeTypes.length){var t=navigator.plugins["Shockwave Flash"];if(t&&t.description)e=t.description.replace(/^\D+/,"").replace(/\s*r/,".").replace(/\s*[a-z]+\d*/,".0").split(".")}else if(navigator.userAgent&&navigator.userAgent.indexOf("Windows CE")>=0){var n=1;var i=3;while(n)try{i++;n=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+i);e=[i,0,0]}catch(a){n=null}}else{try{var n=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7")}catch(a){try{var n=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");e=[6,0,21];n.AllowScriptAccess="always"}catch(a){if(6==e.major)return e}try{n=new ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(a){}}if(null!=n)e=n.GetVariable("$version").split(" ")[1].split(",")}return e}function v(){a.alert("å®è£å®flashplayerä¹åï¼è¦è®°å¾åéæ°å¯å¨æµè§å¨ï¼åè®¿é®åè±å",function(){i.openURL("http://get.adobe.com/flashplayer/","_blank")});return false}function b(){return f["pluginspage"]}}()});define("tui/net",[],function(e,t){t.getScript=function(e,t){var n=document.createElement("script");n.type="text/javascript";n.async=true;if(!t)t={};else if($.isFunction(t))t={callback:t};if(t.charset)n.charset=t.charset;n.src=e;var i=document.getElementsByTagName("head")[0];var a=false;n.onload=n.onreadystatechange=function(){if(!a&&(!this.readyState||"loaded"==this.readyState||"complete"==this.readyState)){a=true;n.onload=n.onreadystatechange=null;i.removeChild(n);if(t.callback)t.callback()}};i.appendChild(n)};var n=0;t.getJSON=function(e,i,a,r){var s=e.match(/https?\:\/\/(.+?)\//);if(a)if((!r||!r.isScript)&&(!s||s[1]===window.location.host)){$.ajax({url:e,data:i,success:a,dataType:"json"});return true}r=$.extend({charset:"gbk",callback:"tuijsonp"+ ++n},r||{});if(r.random)i[r.random]=+new Date;var o=r.callbackName||"jsoncallback";i[o]=r.callback;e=[e,/\?/.test(e)?"&":"?",$.param(i)].join("");if(a)window[r.callback]=a;delete r.callback;t.getScript(e,r)};t.getRequest=function(e,t){var n=new Image;n.onload=function(){};n.src=!t?e:[e,e.match(/\?/)?"&":"?","string"==typeof t?t:$.param(t)].join("")}});define("module/ad/youku",["tui/browser","tui/event","tui/net","tui/flash","module/global","module/stat/combo-stat"],function(e,t,n,i,a,r,s,o){window.TUI=window.TUI||{};TUI.event=new t;TUI.swfobject=i.swfobject;window.uid=a.uid;window.juidStr=a.juid;$.fn.forEach=Array.prototype.forEach;TUI.event.bind("ad:loaded",function(){var e=$("#gTop .ad_banner");if(e&&$.trim(e.html()).length>0)$("#gTop .logo").addClass("mini_logo")});var l={1:"play",2:"play",3:"play",4:"play",5:"play",6:"play",11:"albumcover",300:"index",10001:"so",10002:"so",10003:"so",10004:"so"};var u={index:"101012,101385,101014,101015,101016,101027,101028,101029,101030,101031,101032,101196,101215,101312,101313,101392,101299,101626,101678",so:"101041,101042,101043,101044",play:"101192,101193,101194,101195",top:"101185,101395",rank:"279,1419840364",albumtop:"101184,101393",albumcover:"101386,101387,101388,101389,101487,101488",playlist:"101183,101394",imake:"101045,101046,101049,101050,101051,101052,101221,101459,101489,101490,101491,101641",tv:"101172,101173,101176,101177,101205,101399,101400,101426,101432,101495,101496,101497,101638",movie:"101166,101167,101170,101171,101206,101401,101402,101450,101492,101493,101494,101636",zy:"101053,101054,101057,101058,101059,101060,101203,101448,101498,101499,101500,101639",cartoon:"101082,101083,101086,101087,101088,101222,101397,101460,101501,101502,101503,101640",news:"101124,101125,101128,101129,101130,101207,101415,101451,101507,101508,101509,101623",fortune:"101110,101111,101114,101115,101116,101201,101418,101446",auto:"101034,101035,101038,101039,101040,101209,101413,101453,101510,101511,101512,101644",it:"101103,101104,101107,101108,101109,101204,101416,101449,101513,101514,101515,101629",sports:"101096,101097,101100,101101,101102,101224,101404,101462,101516,101517,101518,101631",ent:"101061,101062,101065,101066,101067,101212,101398,101456,101519,101520,101521,101635",music:"101089,101090,101093,101094,101095,101200,101445,101504,101505,101506,101547,101625",game:"101159,101160,101163,101164,101165,101208,101414,101452,101522,101523,101524,101642",fun:"101075,101076,101079,101080,101081,101211,101411,101455,101525,101526,101527,101632",fashion:"101131,101132,101135,101136,101137,101199,101419,101444,101528,101529,101530,101624",beauty:"101145,101146,101149,101150,101151,101202,101417,101447,101531,101532,101533",lady:"101152,101153,101156,101157,101158,101213,101410,101457",life:"101068,101069,101072,101073,101074,101220,101403,101458,101534,101535,101536,101646",health:"101138,101139,101142,101143,101144,101223,101405,101461,101537,101538,101539,101645",edu:"101117,101118,101121,101122,101123,101210,101412,101454,101540,101541,101542,101633",jilupian:"101647,101648,101643,101650,101649",korea:"101652,101653,101651,101655,101654"};o.getAd=function(e){e=e||{};var t=window.SUBDOMAIN||l[window.pageId]||"";var i=u[t];if(e.page)i=u[e.page];if(i||e.id){var a={p:e.id||i,site:"youku",sid:r.pvid,s:e.s||"",ct:e.ct||"",cs:e.cs||"",k:e.k||""};n.getScript("http://html.atm.youku.com/html?"+$.param(a),{charset:"gbk"})}};o.init=function(t){if(e.iOS){var n=$(".seed, .s .seedplayerbox");var i="http://zone.tudou.com/tudougroovin/";var a="http://i1.tdimg.com/b/20130422/c449.jpg";n.css({width:"auto",height:"auto",padding:"12px 14px"});n.html('<a href="'+i+'" target="_blank"><img width="285" height="260" style="display:block;margin:0 auto" src="'+a+'" /></a>').slideDown()}o.getAd(t)}});define("module/stat/iwt",[],function(e,t){_iwt_no_flash=window._iwt_no_flash||0;var n="UA-tudou-000001";!function(e,t,i){var a=false,r=!-[1],s="http://irs01.com/irt?_iwt_id=",o="http://irs01.net/MTFlashStore.swf#",l="http://irs01.com/_iwt.gif",u="_iwt_id",c="_iwt_cid",d="",f="",h="",p=t.getElementsByTagName("head")[0],m={available:false,guid:function(){return["MT",(+new Date+g++).toString(36),(1e18*Math.random()).toString(36)].join("").slice(0,16).toUpperCase()},get:function(e,t){return m._sendFlashMsg(t,"jGetItem",e)},set:function(e,t,n){return m._sendFlashMsg(n,"jSetItem",e,t)},clear:function(e,t){return m._sendFlashMsg(t,"jClearItem",e)},clearAll:function(e){return m._sendFlashMsg(e,"jClearAllItems")},_sendFlashMsg:function(t,n,i,a){t=t||S;var r=m.guid();e[r]=t;if(k&&k[n])switch(arguments.length){case 2:k[n](r);break;case 3:k[n](i,r);break;case 4:k[n](i,a,r)}},initSWF:function(e,t){if(!m.available)return t&&t();if(m.inited)return e&&setTimeout(e,0);e&&v.push(e);t&&b.push(t)}},g=1,v=[],b=[],y="",w,k,x,_=t.createElement("DIV"),C=m.guid();function S(){}function T(t){if(a)if(e.console&&e.console.log)e.console.log("MTFlashStore:"+t)}if(!e._iwt_no_flash){try{w=e.navigator.plugins["Shockwave Flash"]||e.ActiveXObject;y=w.description||function(){return new w("ShockwaveFlash.ShockwaveFlash").GetVariable("$version")}()}catch($){}y=(y.match(/\d+/g)||[0])[0];if(y<9)m.available=false;else{m.available=true;e[C]=function(t,n){switch(t){case"onecall":if(!e[n])return;e[n].apply(e,[].slice.call(arguments,2));delete e[n];break;case"error":m.available=false;while(x=b.shift())x();T(n);break;case"load":T("Flash load success!");m.inited=true;m.available=true;while(x=v.shift())setTimeout(x,0)}};function A(){_.setAttribute("style","display:block;clear:both;float:none;position:absolute;right:0;bottom:0;border:none;");if(t.body.firstChild)t.body.insertBefore(_,t.body.firstChild);else t.body.appendChild(_);_.innerHTML='<object id="'+m.guid()+(r?' classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" ':"")+'" data="'+o+'" type="application/x-shockwave-flash" '+' width="10" height="10" style="position:absolute;right:0;bottom:0;border:none;" >'+'<param name="movie" value="'+o+'" />'+'<param name="wmode" value="transparent" />'+'<param name="version" value="10" />'+'<param name="allowScriptAccess" value="always" />'+'<param name="flashvars" value="jsproxyfunction='+C+'" />'+"</object>";k=_.firstChild;m.swf=k}var N=setInterval(function(){if(t.body){A();clearInterval(N)}},100)}}var I={track:function(){if(!m.available){if(""!=this._getQueryStrByName(c))h=s+"&_iwt_cid="+this._getQueryStrByName(c)+"&_iwt_UA="+this._getUAId();else h=s+"&_iwt_UA="+this._getUAId();M(h,function(e){var t=e;d=e})}else{m.initSWF(L);setTimeout(function(){if(!m.inited){m.available=false;e[C]=S;I.track()}},3e3)}},record_video_api:function(e,t,n,i){if("0"==i+""){f=this._getHashId();this._feedBack_video(e,t,n,i);return}this._feedBack_video(e,t,n,i)},_feedBack_video:function(e,t,n,i){var a=["ta="+i,"eid="+f,"pt="+encodeURIComponent(document.title),"vid="+e,"du="+t,"la="+n,"_iwt_id="+d,"_iwt_UA="+this._getUAId(),"r="+(new Date).getTime()].join("&");var r=l+"?"+a;this._img=new Image;this._img.src=r},_getHashId:function(){var e=location.href,t=(new Date).valueOf(),n=navigator.userAgent,i="";i=this._md5([location.host,e,n,t,Math.random()].join(""));return i},_getUAId:function(){if("undefined"==typeof n)return"";return n},_getQueryStrByName:function(e){var t=location.search.match(new RegExp("[?&]"+e+"=([^&]+)","i"));if(null==t||t.length<1)return"";return t[1]},_getCookie:function(e){var t,n,i,a=document.cookie.split(";");for(t=0;t<a.length;t++){n=a[t].substr(0,a[t].indexOf("="));i=a[t].substr(a[t].indexOf("=")+1);n=n.replace(/^\s+|\s+$/g,"");if(n==e)return unescape(i)}},getReferrer:function(){var e="";try{e=window.top.document.referrer}catch(t){if(window.parent)try{e=window.parent.document.referrer}catch(n){e=""}}if(""==e)e=document.referrer;return e},_md5:function(e){function t(e,t){return e<<t|e>>>32-t}function n(e,t){var n,i,a,r,s;a=2147483648&e;r=2147483648&t;n=1073741824&e;i=1073741824&t;s=(1073741823&e)+(1073741823&t);if(n&i)return 2147483648^s^a^r;if(n|i)if(1073741824&s)return 3221225472^s^a^r;else return 1073741824^s^a^r;else return s^a^r}function i(e,t,n){return e&t|~e&n}function a(e,t,n){return e&n|t&~n}function r(e,t,n){return e^t^n}function s(e,t,n){return t^(e|~n)}function o(e,a,r,s,o,l,u){e=n(e,n(n(i(a,r,s),o),u));return n(t(e,l),a)}function l(e,i,r,s,o,l,u){e=n(e,n(n(a(i,r,s),o),u));return n(t(e,l),i)}function u(e,i,a,s,o,l,u){e=n(e,n(n(r(i,a,s),o),u));return n(t(e,l),i)}function c(e,i,a,r,o,l,u){e=n(e,n(n(s(i,a,r),o),u));return n(t(e,l),i)}function d(e){var t;var n=e.length;var i=n+8;var a=(i-i%64)/64;var r=16*(a+1);var s=Array(r-1);var o=0;var l=0;while(l<n){t=(l-l%4)/4;o=8*(l%4);s[t]=s[t]|e.charCodeAt(l)<<o;l++}t=(l-l%4)/4;o=8*(l%4);s[t]=s[t]|128<<o;s[r-2]=n<<3;s[r-1]=n>>>29;return s}function f(e){var t="",n="",i,a;for(a=0;a<=3;a++){i=255&e>>>8*a;n="0"+i.toString(16);t+=n.substr(n.length-2,2)}return t}function h(e){e=e.replace(/\r\n/g,"\n");var t="";for(var n=0;n<e.length;n++){var i=e.charCodeAt(n);if(i<128)t+=String.fromCharCode(i);else if(i>127&&i<2048){t+=String.fromCharCode(192|i>>6);t+=String.fromCharCode(128|63&i)}else{t+=String.fromCharCode(224|i>>12);t+=String.fromCharCode(128|63&i>>6);t+=String.fromCharCode(128|63&i)}}return t}var p=Array();var m,g,v,b,y,w,k,x,_;var C=7,S=12,T=17,$=22;var A=5,N=9,I=14,D=20;var j=4,E=11,L=16,M=23;var O=6,U=10,z=15,q=21;e=h(e);p=d(e);w=1732584193;k=4023233417;x=2562383102;_=271733878;for(m=0;m<p.length;m+=16){g=w;v=k;b=x;y=_;w=o(w,k,x,_,p[m+0],C,3614090360);_=o(_,w,k,x,p[m+1],S,3905402710);x=o(x,_,w,k,p[m+2],T,606105819);k=o(k,x,_,w,p[m+3],$,3250441966);w=o(w,k,x,_,p[m+4],C,4118548399);_=o(_,w,k,x,p[m+5],S,1200080426);x=o(x,_,w,k,p[m+6],T,2821735955);k=o(k,x,_,w,p[m+7],$,4249261313);w=o(w,k,x,_,p[m+8],C,1770035416);_=o(_,w,k,x,p[m+9],S,2336552879);x=o(x,_,w,k,p[m+10],T,4294925233);k=o(k,x,_,w,p[m+11],$,2304563134);w=o(w,k,x,_,p[m+12],C,1804603682);_=o(_,w,k,x,p[m+13],S,4254626195);x=o(x,_,w,k,p[m+14],T,2792965006);k=o(k,x,_,w,p[m+15],$,1236535329);w=l(w,k,x,_,p[m+1],A,4129170786);_=l(_,w,k,x,p[m+6],N,3225465664);x=l(x,_,w,k,p[m+11],I,643717713);k=l(k,x,_,w,p[m+0],D,3921069994);w=l(w,k,x,_,p[m+5],A,3593408605);_=l(_,w,k,x,p[m+10],N,38016083);x=l(x,_,w,k,p[m+15],I,3634488961);k=l(k,x,_,w,p[m+4],D,3889429448);w=l(w,k,x,_,p[m+9],A,568446438);_=l(_,w,k,x,p[m+14],N,3275163606);x=l(x,_,w,k,p[m+3],I,4107603335);k=l(k,x,_,w,p[m+8],D,1163531501);w=l(w,k,x,_,p[m+13],A,2850285829);_=l(_,w,k,x,p[m+2],N,4243563512);x=l(x,_,w,k,p[m+7],I,1735328473);k=l(k,x,_,w,p[m+12],D,2368359562);w=u(w,k,x,_,p[m+5],j,4294588738);_=u(_,w,k,x,p[m+8],E,2272392833);x=u(x,_,w,k,p[m+11],L,1839030562);k=u(k,x,_,w,p[m+14],M,4259657740);w=u(w,k,x,_,p[m+1],j,2763975236);_=u(_,w,k,x,p[m+4],E,1272893353);x=u(x,_,w,k,p[m+7],L,4139469664);k=u(k,x,_,w,p[m+10],M,3200236656);w=u(w,k,x,_,p[m+13],j,681279174);_=u(_,w,k,x,p[m+0],E,3936430074);x=u(x,_,w,k,p[m+3],L,3572445317);k=u(k,x,_,w,p[m+6],M,76029189);w=u(w,k,x,_,p[m+9],j,3654602809);_=u(_,w,k,x,p[m+12],E,3873151461);x=u(x,_,w,k,p[m+15],L,530742520);k=u(k,x,_,w,p[m+2],M,3299628645);w=c(w,k,x,_,p[m+0],O,4096336452);_=c(_,w,k,x,p[m+7],U,1126891415);x=c(x,_,w,k,p[m+14],z,2878612391);k=c(k,x,_,w,p[m+5],q,4237533241);w=c(w,k,x,_,p[m+12],O,1700485571);_=c(_,w,k,x,p[m+3],U,2399980690);x=c(x,_,w,k,p[m+10],z,4293915773);k=c(k,x,_,w,p[m+1],q,2240044497);w=c(w,k,x,_,p[m+8],O,1873313359);_=c(_,w,k,x,p[m+15],U,4264355552);x=c(x,_,w,k,p[m+6],z,2734768916);k=c(k,x,_,w,p[m+13],q,1309151649);w=c(w,k,x,_,p[m+4],O,4149444226);_=c(_,w,k,x,p[m+11],U,3174756917);x=c(x,_,w,k,p[m+2],z,718787259);k=c(k,x,_,w,p[m+9],q,3951481745);w=n(w,g);k=n(k,v);x=n(x,b);_=n(_,y)}var H=f(w)+f(k)+f(x)+f(_);return H.toLowerCase()}},D,j=false,E=false;function L(){m.get(u,function(e){if(!e){if(""!=I._getQueryStrByName(c))h=s+"&_iwt_cid="+I._getQueryStrByName(c)+"&_iwt_UA="+I._getUAId();else h=s+"&_iwt_UA="+I._getUAId();M(h,function(e){m.set(u,e);d=e})}else{if(""!=I._getQueryStrByName(c))h=s+e+"&_iwt_cid="+I._getQueryStrByName(c)+"&_iwt_UA="+I._getUAId();else h=s+e+"&_iwt_UA="+I._getUAId();M(h,function(e){m.set(u,e);d=e})}})}function M(n,a){var r=t.createElement("script"),s=m.guid();
e[s]=function(){try{a.apply(e,arguments);p.removeChild(r)}catch(t){}e[s]=i};r.setAttribute("type","text/javascript");r.setAttribute("charset","utf-8");var o=n+"&jsonp="+s+"&";if("undefined"==typeof _iwt_p1)o+="_iwt_p1=&";else o=o+"_iwt_p1="+_iwt_p1+"&";if("undefined"==typeof _iwt_p2)o+="_iwt_p2=&";else o=o+"_iwt_p2="+_iwt_p2+"&";if("undefined"==typeof _iwt_p3)o+="_iwt_p3=&";else o=o+"_iwt_p3="+_iwt_p3+"&";if("undefined"!=typeof _iwt_no_referrer&&!_iwt_no_referrer){var l=I.getReferrer();if(""!=l)o=o+"ref="+encodeURIComponent(l)+"&"}r.setAttribute("src",o);if(p.firstChild)p.insertBefore(r,p.firstChild);else p.appendChild(r)}e._iwt=I;I.FC=m}(window,document);return _iwt});define("module/stat/comscore",["module/global"],function(e,t,n){var i={beacon:function(e){var t=1.7,n=document,i=n.location,a=512,r=function(e,t){if(null==e)return"";e=(encodeURIComponent||escape)(e);if(t)e=e.substr(0,t);return e},s=["https:"==i.protocol?"https://sb":"http://b",".scorecardresearch.com/b?","c1=",r(e.c1),"&c2=",r(e.c2),"&rn=",Math.random(),"&c7=",r(i.href,a),"&c3=",r(e.c3),"&c4=",r(e.c4,a),"&c5=",r(e.c5),"&c6=",r(e.c6),"&c10=",r(e.c10),"&c15=",r(e.c15),"&c16=",r(e.c16),"&c8=",r(n.title),"&c9=",r(n.referrer,a),"&cv=",t,e.r?"&r="+r(e.r,a):""].join("");s=s.length>2080?s.substr(0,2075)+"&ct=1":s;var o=new Image;o.onload=function(){};o.src=s;return s},send:function(){i.beacon({c1:2,c2:6035715,c3:window.config&&config.item&&config.item.cid?config.item.cid:"",c4:window.location.href,c5:"",c6:window.comscore_c6||"",c10:e.juid||0,c11:e.uid||0,c15:""})}};return i});define("module/stat/ck",["tui/cookie","tui/net","module/stat/common","module/global"],function(e,t,n,i,a,r){var s=screen.width;var o=screen.height;function l(e,t){return e.replace(/\/?#.*|\/$/,"")===t.replace(/\/?#.*|\/$/,"")}window.tudouClickStat=n.mix({pvid:i.pvid,getRequest:function(a){var r=$(window).width();var s=$(window).height();var o=$(document).width();var l=a.eventId;var u=a.pvid;var c=a.channelId;var d=i.uid;var f=a.screenW;var h=a.screenH;var p=r;var m=s;var g=a.pageX-a.scrollLeft-Math.round(r/2);var v=a.pageY-a.scrollTop;var b=a.pageX-Math.round(o/2);var y=a.pageY;var w=i.juid;var k=i.seid;var x=encodeURIComponent(a.positionCode||"");var _=encodeURIComponent(n.referrer||"");var C=encodeURIComponent(a.targetUrl||"");var S="";var T=a.appData;T.referhost=e("referhost")||"";if(i.uid){var A=$.trim(e("u_data")).split("_");if(A.length)A.forEach(function(e){e=e.split("|");T[e[0]]=e[1]})}$.extend(T,this.getData(l,x,a.event));var N={eid:l,pvid:u,chid:c,uid:d,juid:w,seid:k,sw:f,sh:h,bw:p,bh:m,bpx:g,bpy:v,ppx:b,ppy:y,pcode:a.positionCode||"",url:location.href,rurl:n.referrer||"",turl:a.targetUrl||"",ext:n.param(T)};t.getRequest("http://p.l.youku.com/tclick?"+n.param(N)+"&r="+ +new Date);var I=[];$.each(T,function(e,t){I.push(encodeURIComponent(e)+"="+encodeURIComponent(t))});S=I.join("|");var D=[l,u,c,d,f,h,p,m,g,v,b,y,w,k,x,_,C,S].join("|");t.getRequest("http://stats.tudou.com/ck2/?s="+D+"&r="+ +new Date)},send:function(e,t,i,a){var r=this;if(!e.target)e.target=e.srcElement||document;if(null==e.pageX&&null!=e.clientX){var u=document.documentElement;var c=document.body;e.pageX=r.clientX+(u&&u.scrollLeft||c&&c.scrollLeft||0)-(u&&u.clientLeft||c&&c.clientLeft||0);e.pageY=r.clientY+(u&&u.scrollTop||c&&c.scrollTop||0)-(u&&u.clientTop||c&&c.clientTop||0)}if("undefined"==typeof e.pageX)return;var d=e.target;if(!a){d=n.getStatTarget(e.target);if(!d)return}if("A"==d.nodeName&&$(d).attr("data-openurl"))return;var f=false;var h=n.getTrueLink(d);if("A"!==d.nodeName||""===h||l(h,location.href))f=true;if("ck"==$(d).attr("data-stat-role")&&""!==h)f=false;var p=$(d).attr("data-ck");if(p)$.each(p.split("&"),function(e,n){var i=n.split("=");if(2!==i.length)return;t[i[0]]=i[1]});r.getRequest({event:e,eventId:f?2:1,pvid:r.pvid,channelId:window.cid||0,positionCode:n.getPositionCode(d),targetUrl:f?"":h,pageX:e.pageX,pageY:e.pageY,scrollLeft:$(window).scrollLeft(),scrollTop:$(window).scrollTop(),screenW:s,screenH:o,appData:t||{}});if(i)i.call(r,{isButton:f,targetUrl:h})},init:function(){var e=this;$(document.body).mousedown(function(t){e.send(t,{})})},getXpathFromPositionCode:n.getXpathFromPositionCode,getElementByXPath:n.getElementByXPath,getTrueLink:n.getTrueLink,getStatTarget:n.getStatTarget});r.tudouClickStat=tudouClickStat;r.init=function(){tudouClickStat.init()}});define("module/stat/pv",["tui/browser","tui/util","tui/cookie","tui/net","module/global","module/stat/common","module/stat/combo-stat"],function(e,t,n,i,a,r,s,o,l){var u=Date.now();var c=window.config||{};if(!c.item)c.item={};var d=window.pageId||c.pageId;var f=r.mix({param:function(e){var t=[];$.each(e,function(e,n){if(""!==n)t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))});return t.join("&")},getExt:function(){var t=this;var i={};if(s.isFrame)i.frame=s.isFrame;if(s.noCookie)i.noCookie=s.noCookie;i.referhost=n("referhost")||"";if(screen.availWidth-$(window).width()<20)i.winheight=$(window).height();if(d)if(d>=1&&d<=7){var o=(r.referrer||"").replace(/\?.*$/,"");if(/tudou\.com\/(listplay|programs\/view|albumplay|wlplay\/view)\//.test(o))i.preferurl=n("preferurl")||"";else i.preferurl=o;n("preferurl",o,{domain:"youku.com",path:"/"})}if(e.isMobile)i.mtype=e.iOS||(0!==e.android?e.isPad?"androidpad":"androidphone":0!==e.wphone?"wphone":"other");i.tjuid=a.juid||"";$.extend(i,t.getData());if(a.uid){var l=$.trim(n("u_data")).split("_");if(l.length)l.forEach(function(e){e=e.split("|");i[e[0]]=e[1]})}return t.param(i)},send:function(){var e={};e.did=1;e.juid=s.juid;e.sid=s.seid;e.uid=a.uid||0;e.pid=s.pvid;e.cid=s.cid;e.rurl=r.referrer;e.rpid=s.referPvid;e.rct=s.referCid;e.ext=this.getExt();e.stp=s.step;e.sstp=s.seStep;e.scnt=s.seidCount;i.getRequest("http://p.l.youku.com/compvlog?"+this.param(e));this.trigger("send")}});var h=r.mix({send:function(){var e=1;var s=window.SUBDOMAIN;var o=0;var l=a.uid;var u=a.juid;var d=a.seid;var f=+new Date,h=0,p="",m=f,g=n("pageStep"),v=g?Math.max(1,g):1,b=encodeURIComponent(r.referrer);var y=this.getData(e,p);o=y.pageFlag||0;h="1"+(window.abtest||c.abtest||0)+0+t.pad(window.cid||c.item.cid||0,3)+t.pad(0,3)+(window.top==window?"00":"01")+(y.timeOfRef||"");i.getRequest("http://stats.tudou.com/pv3/?s="+[e,l,v,"",h,u,d,o,p,b||""].join("*_*")+"&r="+ +new Date);this.trigger("send")},getPCode:r.getPositionCode,getXByPC:r.getXpathFromPositionCode,getElByX:r.getElementByXPath,getTrueLink:r.getTrueLink,getStatTarget:r.getStatTarget});l.ComboPvStat=f;l.tudouStat=h;l.init=l.send=function(){l.pvCount=l.pvCount||0;l.pvCount++;if(l.pvCount>1){s.pvid="";s.init();a.pvid=r.pvid()}f.send();h.send()}});define("module/domain",[],function(e,t){var n={main:"http://www.tudou.com",css:"http://css.tudouui.com",js:"http://js.tudouui.com",img:"http://u"+~~(4*Math.random()+1)+".tdimg.com",youku:"http://www.youku.com",passport:"http://passport.youku.com",login:"http://login.youku.com",kudouapi:"http://kudouapi.youku.com",message:"ws://live.message.youku.com:8080/tc/",lilychat:"http://live.message.youku.com/lilychat/message",danmu:"http://live.comments.tudou.com/dispatcher2/"};t.url=t.domain=n});define("module/login/login",["tui/event","tui/cookie","tui/dialog","tui/random","module/domain"],function(e,t,n,i,a){window.ENV_YOUKUAPI=true;document.domain="youku.com";var r=function(e){var t,n,i;var a,r;var s=[];n=e.length;t=0;while(t<n){i=e.charCodeAt(t++);switch(i>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:s.push(e.charAt(t-1));break;case 12:case 13:a=e.charCodeAt(t++);s.push(String.fromCharCode((31&i)<<6|63&a));break;case 14:a=e.charCodeAt(t++);r=e.charCodeAt(t++);s.push(String.fromCharCode((15&i)<<12|(63&a)<<6|(63&r)<<0))}}return s.join("")};var s=function(e){if(!e)return"";var t="ABCDEFGHIJKLMNOP"+"QRSTUVWXYZabcdef"+"ghijklmnopqrstuv"+"wxyz0123456789+/"+"=";var n="";var i,a,s;var o,l,u,c;var d=0;e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");do{o=t.indexOf(e.charAt(d++));l=t.indexOf(e.charAt(d++));u=t.indexOf(e.charAt(d++));c=t.indexOf(e.charAt(d++));i=o<<2|l>>4;a=(15&l)<<4|u>>2;s=(3&u)<<6|c;n+=String.fromCharCode(i);if(64!==u)n+=String.fromCharCode(a);if(64!==c)n+=String.fromCharCode(s)}while(d<e.length);return r(n)};var o=function(e){if(!e)return"";e=e.toString();var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var n=new Array(-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1);var i,a,r;var s,o,l;r=e.length;a=0;i="";while(a<r){s=255&e.charCodeAt(a++);if(a===r){i+=t.charAt(s>>2);i+=t.charAt((3&s)<<4);i+="==";break}o=e.charCodeAt(a++);if(a===r){i+=t.charAt(s>>2);i+=t.charAt((3&s)<<4|(240&o)>>4);i+=t.charAt((15&o)<<2);i+="=";break}l=e.charCodeAt(a++);i+=t.charAt(s>>2);i+=t.charAt((3&s)<<4|(240&o)>>4);i+=t.charAt((15&o)<<2|(192&l)>>6);i+=t.charAt(63&l)}return i};var l=function(e){if(!e)return"";var t="U"+o(e<<2);return t};var u={youku:a.domain.youku,passport:a.domain.login};var c=$.extend(new e,{isLogin:function(){var e=this.getUserInfo();if(e&&e.username)return true;return false},uid:function(){var e=this.getUserInfo()||{};return e.uid||0},getUserInfo:function(){var e=t("yktk");var n=null;if(e){var i=s(e.split("|")[3]),a={};i=i.split(",");for(var r=0;r<i.length;r++){var o=i[r].split(":"),l=o[0],u=o[1]?o[1]:null;if("id"===l)l="uid";else if("nn"===l)l="username";if("true"===u)u=true;else if("false"===u)u=false;a[l]=u}if("__LOGOUT__"!==a["username"]){if(a["uid"])a["encodeUid"]=CHUDA.Common.encodeUid(a["uid"]);n=a}}return n},yktk:function(){return this.isLogin()?t("yktk")||"":""},guid:function(){return t("__ysuid")},logout:function(e){if(!this.isLogin())return this;var t="logout"+i.rand();var n=u.passport+"/user/logout?callback="+t;var a=$('<iframe src="'+n+'" style="position:absolute;width:0;height:0;overflow:hidden;visibility:hidden;">').appendTo(document.body);window[t]=function(n){if(n&&1===n.errno){a.remove();window[t]=null;var i=new Image;i.src=u.youku+"/user/~ajax/tdLogout?act=ajax";setTimeout(function(){$(document).trigger("logout").trigger("logchange");if("function"===typeof e)e(n);else window.top.location.reload()},200)}};return this},login:function(e,t){var i=this;e=e||{};if("function"==$.type(e)){t=e;e={}}if(this.isLogin()){t&&t();return}var a=u.passport+"/user/login_win";if(e.from)a+="?from="+e.from;var r=new n({className:"g-login-dialog",content:'<iframe scrolling="no" frameborder="0" width="100%" height="100%" src="'+a+'"></iframe>',hasDrag:false});r.setSize=function(e,t){e&&r.element.find(".tui-dialog-content").width(e);t&&r.element.find(".tui-dialog-body").height(t);r.locate()};r.setContent=function(e,t){this.element.find(".tui-dialog-body").html('<iframe frameborder="0" scrolling="no" width="100%" height="100%" src="'+t+'"></iframe>');return this};r.setHideCallback=function(){};window.loginwin=r;window.loginCallback=function(){t&&t();r.close();window.loginDialog=null;window.loginCallback=null;i.trigger("login:success");$(document).trigger("login").trigger("logchange")};return this}});return c});try{if(!/^http:\/\/(js|css|static)\.(tudouui|youku)\.com\//.test(require.rootUrl))document.write("<scri"+'pt charset="utf-8" src="'+require.rootUrl+"/dist/js/autodomain.js?t="+Date.now()+'.js"></s'+"cript>")}catch(e){}define("g",["module/global","module/login/login","module/stat/common","module/stat/pv","module/stat/ck","module/stat/comscore","module/stat/iwt","module/ad/youku","lib/json2","tui/chuda"],function(e,t,n,i,a,r,s,o,l,u,c,d){e.uid=t.getUserInfo()&&t.getUserInfo().uid||0;$(document).trigger("login",function(){e.uid=t.getUserInfo().uid||0});d.sendPv=function(){s.track();r.send();i.init()};d.init=function(e){if(!e)e={};d.sendPv();a.init();o.init(e.ad)}});require(["g"],function(){})}(window.jQuery);;