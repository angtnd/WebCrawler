(function(a,b){function cy(a){return f.isWindow(a)?a:a.nodeType===9?a.defaultView||a.parentWindow:!1}function cv(a){if(!ck[a]){var b=c.body,d=f("<"+a+">").appendTo(b),e=d.css("display");d.remove();if(e==="none"||e===""){cl||(cl=c.createElement("iframe"),cl.frameBorder=cl.width=cl.height=0),b.appendChild(cl);if(!cm||!cl.createElement)cm=(cl.contentWindow||cl.contentDocument).document,cm.write((c.compatMode==="CSS1Compat"?"<!doctype html>":"")+"<html><body>"),cm.close();d=cm.createElement(a),cm.body.appendChild(d),e=f.css(d,"display"),b.removeChild(cl)}ck[a]=e}return ck[a]}function cu(a,b){var c={};f.each(cq.concat.apply([],cq.slice(0,b)),function(){c[this]=a});return c}function ct(){cr=b}function cs(){setTimeout(ct,0);return cr=f.now()}function cj(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}function ci(){try{return new a.XMLHttpRequest}catch(b){}}function cc(a,c){a.dataFilter&&(c=a.dataFilter(c,a.dataType));var d=a.dataTypes,e={},g,h,i=d.length,j,k=d[0],l,m,n,o,p;for(g=1;g<i;g++){if(g===1)for(h in a.converters)typeof h=="string"&&(e[h.toLowerCase()]=a.converters[h]);l=k,k=d[g];if(k==="*")k=l;else if(l!=="*"&&l!==k){m=l+" "+k,n=e[m]||e["* "+k];if(!n){p=b;for(o in e){j=o.split(" ");if(j[0]===l||j[0]==="*"){p=e[j[1]+" "+k];if(p){o=e[o],o===!0?n=p:p===!0&&(n=o);break}}}}!n&&!p&&f.error("No conversion from "+m.replace(" "," to ")),n!==!0&&(c=n?n(c):p(o(c)))}}return c}function cb(a,c,d){var e=a.contents,f=a.dataTypes,g=a.responseFields,h,i,j,k;for(i in g)i in d&&(c[g[i]]=d[i]);while(f[0]==="*")f.shift(),h===b&&(h=a.mimeType||c.getResponseHeader("content-type"));if(h)for(i in e)if(e[i]&&e[i].test(h)){f.unshift(i);break}if(f[0]in d)j=f[0];else{for(i in d){if(!f[0]||a.converters[i+" "+f[0]]){j=i;break}k||(k=i)}j=j||k}if(j){j!==f[0]&&f.unshift(j);return d[j]}}function ca(a,b,c,d){if(f.isArray(b))f.each(b,function(b,e){c||bE.test(a)?d(a,e):ca(a+"["+(typeof e=="object"||f.isArray(e)?b:"")+"]",e,c,d)});else if(!c&&b!=null&&typeof b=="object")for(var e in b)ca(a+"["+e+"]",b[e],c,d);else d(a,b)}function b_(a,c){var d,e,g=f.ajaxSettings.flatOptions||{};for(d in c)c[d]!==b&&((g[d]?a:e||(e={}))[d]=c[d]);e&&f.extend(!0,a,e)}function b$(a,c,d,e,f,g){f=f||c.dataTypes[0],g=g||{},g[f]=!0;var h=a[f],i=0,j=h?h.length:0,k=a===bT,l;for(;i<j&&(k||!l);i++)l=h[i](c,d,e),typeof l=="string"&&(!k||g[l]?l=b:(c.dataTypes.unshift(l),l=b$(a,c,d,e,l,g)));(k||!l)&&!g["*"]&&(l=b$(a,c,d,e,"*",g));return l}function bZ(a){return function(b,c){typeof b!="string"&&(c=b,b="*");if(f.isFunction(c)){var d=b.toLowerCase().split(bP),e=0,g=d.length,h,i,j;for(;e<g;e++)h=d[e],j=/^\+/.test(h),j&&(h=h.substr(1)||"*"),i=a[h]=a[h]||[],i[j?"unshift":"push"](c)}}}function bC(a,b,c){var d=b==="width"?a.offsetWidth:a.offsetHeight,e=b==="width"?bx:by,g=0,h=e.length;if(d>0){if(c!=="border")for(;g<h;g++)c||(d-=parseFloat(f.css(a,"padding"+e[g]))||0),c==="margin"?d+=parseFloat(f.css(a,c+e[g]))||0:d-=parseFloat(f.css(a,"border"+e[g]+"Width"))||0;return d+"px"}d=bz(a,b,b);if(d<0||d==null)d=a.style[b]||0;d=parseFloat(d)||0;if(c)for(;g<h;g++)d+=parseFloat(f.css(a,"padding"+e[g]))||0,c!=="padding"&&(d+=parseFloat(f.css(a,"border"+e[g]+"Width"))||0),c==="margin"&&(d+=parseFloat(f.css(a,c+e[g]))||0);return d+"px"}function bp(a,b){b.src?f.ajax({url:b.src,async:!1,dataType:"script"}):f.globalEval((b.text||b.textContent||b.innerHTML||"").replace(bf,"/*$0*/")),b.parentNode&&b.parentNode.removeChild(b)}function bo(a){var b=c.createElement("div");bh.appendChild(b),b.innerHTML=a.outerHTML;return b.firstChild}function bn(a){var b=(a.nodeName||"").toLowerCase();b==="input"?bm(a):b!=="script"&&typeof a.getElementsByTagName!="undefined"&&f.grep(a.getElementsByTagName("input"),bm)}function bm(a){if(a.type==="checkbox"||a.type==="radio")a.defaultChecked=a.checked}function bl(a){return typeof a.getElementsByTagName!="undefined"?a.getElementsByTagName("*"):typeof a.querySelectorAll!="undefined"?a.querySelectorAll("*"):[]}function bk(a,b){var c;if(b.nodeType===1){b.clearAttributes&&b.clearAttributes(),b.mergeAttributes&&b.mergeAttributes(a),c=b.nodeName.toLowerCase();if(c==="object")b.outerHTML=a.outerHTML;else if(c!=="input"||a.type!=="checkbox"&&a.type!=="radio"){if(c==="option")b.selected=a.defaultSelected;else if(c==="input"||c==="textarea")b.defaultValue=a.defaultValue}else a.checked&&(b.defaultChecked=b.checked=a.checked),b.value!==a.value&&(b.value=a.value);b.removeAttribute(f.expando)}}function bj(a,b){if(b.nodeType===1&&!!f.hasData(a)){var c,d,e,g=f._data(a),h=f._data(b,g),i=g.events;if(i){delete h.handle,h.events={};for(c in i)for(d=0,e=i[c].length;d<e;d++)f.event.add(b,c+(i[c][d].namespace?".":"")+i[c][d].namespace,i[c][d],i[c][d].data)}h.data&&(h.data=f.extend({},h.data))}}function bi(a,b){return f.nodeName(a,"table")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function U(a){var b=V.split("|"),c=a.createDocumentFragment();if(c.createElement)while(b.length)c.createElement(b.pop());return c}function T(a,b,c){b=b||0;if(f.isFunction(b))return f.grep(a,function(a,d){var e=!!b.call(a,d,a);return e===c});if(b.nodeType)return f.grep(a,function(a,d){return a===b===c});if(typeof b=="string"){var d=f.grep(a,function(a){return a.nodeType===1});if(O.test(b))return f.filter(b,d,!c);b=f.filter(b,d)}return f.grep(a,function(a,d){return f.inArray(a,b)>=0===c})}function S(a){return!a||!a.parentNode||a.parentNode.nodeType===11}function K(){return!0}function J(){return!1}function n(a,b,c){var d=b+"defer",e=b+"queue",g=b+"mark",h=f._data(a,d);h&&(c==="queue"||!f._data(a,e))&&(c==="mark"||!f._data(a,g))&&setTimeout(function(){!f._data(a,e)&&!f._data(a,g)&&(f.removeData(a,d,!0),h.fire())},0)}function m(a){for(var b in a){if(b==="data"&&f.isEmptyObject(a[b]))continue;if(b!=="toJSON")return!1}return!0}function l(a,c,d){if(d===b&&a.nodeType===1){var e="data-"+c.replace(k,"-$1").toLowerCase();d=a.getAttribute(e);if(typeof d=="string"){try{d=d==="true"?!0:d==="false"?!1:d==="null"?null:f.isNumeric(d)?parseFloat(d):j.test(d)?f.parseJSON(d):d}catch(g){}f.data(a,c,d)}else d=b}return d}function h(a){var b=g[a]={},c,d;a=a.split(/\s+/);for(c=0,d=a.length;c<d;c++)b[a[c]]=!0;return b}var c=a.document,d=a.navigator,e=a.location,f=function(){function J(){if(!e.isReady){try{c.documentElement.doScroll("left")}catch(a){setTimeout(J,1);return}e.ready()}}var e=function(a,b){return new e.fn.init(a,b,h)},f=a.jQuery,g=a.$,h,i=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,j=/\S/,k=/^\s+/,l=/\s+$/,m=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,n=/^[\],:{}\s]*$/,o=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,p=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,q=/(?:^|:|,)(?:\s*\[)+/g,r=/(webkit)[ \/]([\w.]+)/,s=/(opera)(?:.*version)?[ \/]([\w.]+)/,t=/(msie) ([\w.]+)/,u=/(mozilla)(?:.*? rv:([\w.]+))?/,v=/-([a-z]|[0-9])/ig,w=/^-ms-/,x=function(a,b){return(b+"").toUpperCase()},y=d.userAgent,z,A,B,C=Object.prototype.toString,D=Object.prototype.hasOwnProperty,E=Array.prototype.push,F=Array.prototype.slice,G=String.prototype.trim,H=Array.prototype.indexOf,I={};e.fn=e.prototype={constructor:e,init:function(a,d,f){var g,h,j,k;if(!a)return this;if(a.nodeType){this.context=this[0]=a,this.length=1;return this}if(a==="body"&&!d&&c.body){this.context=c,this[0]=c.body,this.selector=a,this.length=1;return this}if(typeof a=="string"){a.charAt(0)!=="<"||a.charAt(a.length-1)!==">"||a.length<3?g=i.exec(a):g=[null,a,null];if(g&&(g[1]||!d)){if(g[1]){d=d instanceof e?d[0]:d,k=d?d.ownerDocument||d:c,j=m.exec(a),j?e.isPlainObject(d)?(a=[c.createElement(j[1])],e.fn.attr.call(a,d,!0)):a=[k.createElement(j[1])]:(j=e.buildFragment([g[1]],[k]),a=(j.cacheable?e.clone(j.fragment):j.fragment).childNodes);return e.merge(this,a)}h=c.getElementById(g[2]);if(h&&h.parentNode){if(h.id!==g[2])return f.find(a);this.length=1,this[0]=h}this.context=c,this.selector=a;return this}return!d||d.jquery?(d||f).find(a):this.constructor(d).find(a)}if(e.isFunction(a))return f.ready(a);a.selector!==b&&(this.selector=a.selector,this.context=a.context);return e.makeArray(a,this)},selector:"",jquery:"1.7.1",length:0,size:function(){return this.length},toArray:function(){return F.call(this,0)},get:function(a){return a==null?this.toArray():a<0?this[this.length+a]:this[a]},pushStack:function(a,b,c){var d=this.constructor();e.isArray(a)?E.apply(d,a):e.merge(d,a),d.prevObject=this,d.context=this.context,b==="find"?d.selector=this.selector+(this.selector?" ":"")+c:b&&(d.selector=this.selector+"."+b+"("+c+")");return d},each:function(a,b){return e.each(this,a,b)},ready:function(a){e.bindReady(),A.add(a);return this},eq:function(a){a=+a;return a===-1?this.slice(a):this.slice(a,a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(F.apply(this,arguments),"slice",F.call(arguments).join(","))},map:function(a){return this.pushStack(e.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:E,sort:[].sort,splice:[].splice},e.fn.init.prototype=e.fn,e.extend=e.fn.extend=function(){var a,c,d,f,g,h,i=arguments[0]||{},j=1,k=arguments.length,l=!1;typeof i=="boolean"&&(l=i,i=arguments[1]||{},j=2),typeof i!="object"&&!e.isFunction(i)&&(i={}),k===j&&(i=this,--j);for(;j<k;j++)if((a=arguments[j])!=null)for(c in a){d=i[c],f=a[c];if(i===f)continue;l&&f&&(e.isPlainObject(f)||(g=e.isArray(f)))?(g?(g=!1,h=d&&e.isArray(d)?d:[]):h=d&&e.isPlainObject(d)?d:{},i[c]=e.extend(l,h,f)):f!==b&&(i[c]=f)}return i},e.extend({noConflict:function(b){a.$===e&&(a.$=g),b&&a.jQuery===e&&(a.jQuery=f);return e},isReady:!1,readyWait:1,holdReady:function(a){a?e.readyWait++:e.ready(!0)},ready:function(a){if(a===!0&&!--e.readyWait||a!==!0&&!e.isReady){if(!c.body)return setTimeout(e.ready,1);e.isReady=!0;if(a!==!0&&--e.readyWait>0)return;A.fireWith(c,[e]),e.fn.trigger&&e(c).trigger("ready").off("ready")}},bindReady:function(){if(!A){A=e.Callbacks("once memory");if(c.readyState==="complete")return setTimeout(e.ready,1);if(c.addEventListener)c.addEventListener("DOMContentLoaded",B,!1),a.addEventListener("load",e.ready,!1);else if(c.attachEvent){c.attachEvent("onreadystatechange",B),a.attachEvent("onload",e.ready);var b=!1;try{b=a.frameElement==null}catch(d){}c.documentElement.doScroll&&b&&J()}}},isFunction:function(a){return e.type(a)==="function"},isArray:Array.isArray||function(a){return e.type(a)==="array"},isWindow:function(a){return a&&typeof a=="object"&&"setInterval"in a},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return a==null?String(a):I[C.call(a)]||"object"},isPlainObject:function(a){if(!a||e.type(a)!=="object"||a.nodeType||e.isWindow(a))return!1;try{if(a.constructor&&!D.call(a,"constructor")&&!D.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}var d;for(d in a);return d===b||D.call(a,d)},isEmptyObject:function(a){for(var b in a)return!1;return!0},error:function(a){throw new Error(a)},parseJSON:function(b){if(typeof b!="string"||!b)return null;b=e.trim(b);if(a.JSON&&a.JSON.parse)return a.JSON.parse(b);if(n.test(b.replace(o,"@").replace(p,"]").replace(q,"")))return(new Function("return "+b))();e.error("Invalid JSON: "+b)},parseXML:function(c){var d,f;try{a.DOMParser?(f=new DOMParser,d=f.parseFromString(c,"text/xml")):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(c))}catch(g){d=b}(!d||!d.documentElement||d.getElementsByTagName("parsererror").length)&&e.error("Invalid XML: "+c);return d},noop:function(){},globalEval:function(b){b&&j.test(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(w,"ms-").replace(v,x)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toUpperCase()===b.toUpperCase()},each:function(a,c,d){var f,g=0,h=a.length,i=h===b||e.isFunction(a);if(d){if(i){for(f in a)if(c.apply(a[f],d)===!1)break}else for(;g<h;)if(c.apply(a[g++],d)===!1)break}else if(i){for(f in a)if(c.call(a[f],f,a[f])===!1)break}else for(;g<h;)if(c.call(a[g],g,a[g++])===!1)break;return a},trim:G?function(a){return a==null?"":G.call(a)}:function(a){return a==null?"":(a+"").replace(k,"").replace(l,"")},makeArray:function(a,b){var c=b||[];if(a!=null){var d=e.type(a);a.length==null||d==="string"||d==="function"||d==="regexp"||e.isWindow(a)?E.call(c,a):e.merge(c,a)}return c},inArray:function(a,b,c){var d;if(b){if(H)return H.call(b,a,c);d=b.length,c=c?c<0?Math.max(0,d+c):c:0;for(;c<d;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,c){var d=a.length,e=0;if(typeof c.length=="number")for(var f=c.length;e<f;e++)a[d++]=c[e];else while(c[e]!==b)a[d++]=c[e++];a.length=d;return a},grep:function(a,b,c){var d=[],e;c=!!c;for(var f=0,g=a.length;f<g;f++)e=!!b(a[f],f),c!==e&&d.push(a[f]);return d},map:function(a,c,d){var f,g,h=[],i=0,j=a.length,k=a instanceof e||j!==b&&typeof j=="number"&&(j>0&&a[0]&&a[j-1]||j===0||e.isArray(a));if(k)for(;i<j;i++)f=c(a[i],i,d),f!=null&&(h[h.length]=f);else for(g in a)f=c(a[g],g,d),f!=null&&(h[h.length]=f);return h.concat.apply([],h)},guid:1,proxy:function(a,c){if(typeof c=="string"){var d=a[c];c=a,a=d}if(!e.isFunction(a))return b;var f=F.call(arguments,2),g=function(){return a.apply(c,f.concat(F.call(arguments)))};g.guid=a.guid=a.guid||g.guid||e.guid++;return g},access:function(a,c,d,f,g,h){var i=a.length;if(typeof c=="object"){for(var j in c)e.access(a,j,c[j],f,g,d);return a}if(d!==b){f=!h&&f&&e.isFunction(d);for(var k=0;k<i;k++)g(a[k],c,f?d.call(a[k],k,g(a[k],c)):d,h);return a}return i?g(a[0],c):b},now:function(){return(new Date).getTime()},uaMatch:function(a){a=a.toLowerCase();var b=r.exec(a)||s.exec(a)||t.exec(a)||a.indexOf("compatible")<0&&u.exec(a)||[];return{browser:b[1]||"",version:b[2]||"0"}},sub:function(){function a(b,c){return new a.fn.init(b,c)}e.extend(!0,a,this),a.superclass=this,a.fn=a.prototype=this(),a.fn.constructor=a,a.sub=this.sub,a.fn.init=function(d,f){f&&f instanceof e&&!(f instanceof a)&&(f=a(f));return e.fn.init.call(this,d,f,b)},a.fn.init.prototype=a.fn;var b=a(c);return a},browser:{}}),e.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(a,b){I["[object "+b+"]"]=b.toLowerCase()}),z=e.uaMatch(y),z.browser&&(e.browser[z.browser]=!0,e.browser.version=z.version),e.browser.webkit&&(e.browser.safari=!0),j.test("Ã ")&&(k=/^[\s\xA0]+/,l=/[\s\xA0]+$/),h=e(c),c.addEventListener?B=function(){c.removeEventListener("DOMContentLoaded",B,!1),e.ready()}:c.attachEvent&&(B=function(){c.readyState==="complete"&&(c.detachEvent("onreadystatechange",B),e.ready())});return e}(),g={};f.Callbacks=function(a){a=a?g[a]||h(a):{};var c=[],d=[],e,i,j,k,l,m=function(b){var d,e,g,h,i;for(d=0,e=b.length;d<e;d++)g=b[d],h=f.type(g),h==="array"?m(g):h==="function"&&(!a.unique||!o.has(g))&&c.push(g)},n=function(b,f){f=f||[],e=!a.memory||[b,f],i=!0,l=j||0,j=0,k=c.length;for(;c&&l<k;l++)if(c[l].apply(b,f)===!1&&a.stopOnFalse){e=!0;break}i=!1,c&&(a.once?e===!0?o.disable():c=[]:d&&d.length&&(e=d.shift(),o.fireWith(e[0],e[1])))},o={add:function(){if(c){var a=c.length;m(arguments),i?k=c.length:e&&e!==!0&&(j=a,n(e[0],e[1]))}return this},remove:function(){if(c){var b=arguments,d=0,e=b.length;for(;d<e;d++)for(var f=0;f<c.length;f++)if(b[d]===c[f]){i&&f<=k&&(k--,f<=l&&l--),c.splice(f--,1);if(a.unique)break}}return this},has:function(a){if(c){var b=0,d=c.length;for(;b<d;b++)if(a===c[b])return!0}return!1},empty:function(){c=[];return this},disable:function(){c=d=e=b;return this},disabled:function(){return!c},lock:function(){d=b,(!e||e===!0)&&o.disable();return this},locked:function(){return!d},fireWith:function(b,c){d&&(i?a.once||d.push([b,c]):(!a.once||!e)&&n(b,c));return this},fire:function(){o.fireWith(this,arguments);return this},fired:function(){return!!e}};return o};var i=[].slice;f.extend({Deferred:function(a){var b=f.Callbacks("once memory"),c=f.Callbacks("once memory"),d=f.Callbacks("memory"),e="pending",g={resolve:b,reject:c,notify:d},h={done:b.add,fail:c.add,progress:d.add,state:function(){return e},isResolved:b.fired,isRejected:c.fired,then:function(a,b,c){i.done(a).fail(b).progress(c);return this},always:function(){i.done.apply(i,arguments).fail.apply(i,arguments);return this},pipe:function(a,b,c){return f.Deferred(function(d){f.each({done:[a,"resolve"],fail:[b,"reject"],progress:[c,"notify"]},function(a,b){var c=b[0],e=b[1],g;f.isFunction(c)?i[a](function(){g=c.apply(this,arguments),g&&f.isFunction(g.promise)?g.promise().then(d.resolve,d.reject,d.notify):d[e+"With"](this===i?d:this,[g])}):i[a](d[e])})}).promise()},promise:function(a){if(a==null)a=h;else for(var b in h)a[b]=h[b];return a}},i=h.promise({}),j;for(j in g)i[j]=g[j].fire,i[j+"With"]=g[j].fireWith;i.done(function(){e="resolved"},c.disable,d.lock).fail(function(){e="rejected"},b.disable,d.lock),a&&a.call(i,i);return i},when:function(a){function m(a){return function(b){e[a]=arguments.length>1?i.call(arguments,0):b,j.notifyWith(k,e)}}function l(a){return function(c){b[a]=arguments.length>1?i.call(arguments,0):c,--g||j.resolveWith(j,b)}}var b=i.call(arguments,0),c=0,d=b.length,e=Array(d),g=d,h=d,j=d<=1&&a&&f.isFunction(a.promise)?a:f.Deferred(),k=j.promise();if(d>1){for(;c<d;c++)b[c]&&b[c].promise&&f.isFunction(b[c].promise)?b[c].promise().then(l(c),j.reject,m(c)):--g;g||j.resolveWith(j,b)}else j!==a&&j.resolveWith(j,d?[a]:[]);return k}}),f.support=function(){var b,d,e,g,h,i,j,k,l,m,n,o,p,q=c.createElement("div"),r=c.documentElement;q.setAttribute("className","t"),q.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>",d=q.getElementsByTagName("*"),e=q.getElementsByTagName("a")[0];if(!d||!d.length||!e)return{};g=c.createElement("select"),h=g.appendChild(c.createElement("option")),i=q.getElementsByTagName("input")[0],b={leadingWhitespace:q.firstChild.nodeType===3,tbody:!q.getElementsByTagName("tbody").length,htmlSerialize:!!q.getElementsByTagName("link").length,style:/top/.test(e.getAttribute("style")),hrefNormalized:e.getAttribute("href")==="/a",opacity:/^0.55/.test(e.style.opacity),cssFloat:!!e.style.cssFloat,checkOn:i.value==="on",optSelected:h.selected,getSetAttribute:q.className!=="t",enctype:!!c.createElement("form").enctype,html5Clone:c.createElement("nav").cloneNode(!0).outerHTML!=="<:nav></:nav>",submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0},i.checked=!0,b.noCloneChecked=i.cloneNode(!0).checked,g.disabled=!0,b.optDisabled=!h.disabled;try{delete q.test}catch(s){b.deleteExpando=!1}!q.addEventListener&&q.attachEvent&&q.fireEvent&&(q.attachEvent("onclick",function(){b.noCloneEvent=!1}),q.cloneNode(!0).fireEvent("onclick")),i=c.createElement("input"),i.value="t",i.setAttribute("type","radio"),b.radioValue=i.value==="t",i.setAttribute("checked","checked"),q.appendChild(i),k=c.createDocumentFragment(),k.appendChild(q.lastChild),b.checkClone=k.cloneNode(!0).cloneNode(!0).lastChild.checked,b.appendChecked=i.checked,k.removeChild(i),k.appendChild(q),q.innerHTML="",a.getComputedStyle&&(j=c.createElement("div"),j.style.width="0",j.style.marginRight="0",q.style.width="2px",q.appendChild(j),b.reliableMarginRight=(parseInt((a.getComputedStyle(j,null)||{marginRight:0}).marginRight,10)||0)===0);if(q.attachEvent)for(o in{submit:1,change:1,focusin:1})n="on"+o,p=n in q,p||(q.setAttribute(n,"return;"),p=typeof q[n]=="function"),b[o+"Bubbles"]=p;k.removeChild(q),k=g=h=j=q=i=null,f(function(){var a,d,e,g,h,i,j,k,m,n,o,r=c.getElementsByTagName("body")[0];!r||(j=1,k="position:absolute;top:0;left:0;width:1px;height:1px;margin:0;",m="visibility:hidden;border:0;",n="style='"+k+"border:5px solid #000;padding:0;'",o="<div "+n+"><div></div></div>"+"<table "+n+" cellpadding='0' cellspacing='0'>"+"<tr><td></td></tr></table>",a=c.createElement("div"),a.style.cssText=m+"width:0;height:0;position:static;top:0;margin-top:"+j+"px",r.insertBefore(a,r.firstChild),q=c.createElement("div"),a.appendChild(q),q.innerHTML="<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>",l=q.getElementsByTagName("td"),p=l[0].offsetHeight===0,l[0].style.display="",l[1].style.display="none",b.reliableHiddenOffsets=p&&l[0].offsetHeight===0,q.innerHTML="",q.style.width=q.style.paddingLeft="1px",f.boxModel=b.boxModel=q.offsetWidth===2,typeof q.style.zoom!="undefined"&&(q.style.display="inline",q.style.zoom=1,b.inlineBlockNeedsLayout=q.offsetWidth===2,q.style.display="",q.innerHTML="<div style='width:4px;'></div>",b.shrinkWrapBlocks=q.offsetWidth!==2),q.style.cssText=k+m,q.innerHTML=o,d=q.firstChild,e=d.firstChild,h=d.nextSibling.firstChild.firstChild,i={doesNotAddBorder:e.offsetTop!==5,doesAddBorderForTableAndCells:h.offsetTop===5},e.style.position="fixed",e.style.top="20px",i.fixedPosition=e.offsetTop===20||e.offsetTop===15,e.style.position=e.style.top="",d.style.overflow="hidden",d.style.position="relative",i.subtractsBorderForOverflowNotVisible=e.offsetTop===-5,i.doesNotIncludeMarginInBodyOffset=r.offsetTop!==j,r.removeChild(a),q=a=null,f.extend(b,i))});return b}();var j=/^(?:\{.*\}|\[.*\])$/,k=/([A-Z])/g;f.extend({cache:{},uuid:0,expando:"jQuery"+(f.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(a){a=a.nodeType?f.cache[a[f.expando]]:a[f.expando];return!!a&&!m(a)},data:function(a,c,d,e){if(!!f.acceptData(a)){var g,h,i,j=f.expando,k=typeof c=="string",l=a.nodeType,m=l?f.cache:a,n=l?a[j]:a[j]&&j,o=c==="events";if((!n||!m[n]||!o&&!e&&!m[n].data)&&k&&d===b)return;n||(l?a[j]=n=++f.uuid:n=j),m[n]||(m[n]={},l||(m[n].toJSON=f.noop));if(typeof c=="object"||typeof c=="function")e?m[n]=f.extend(m[n],c):m[n].data=f.extend(m[n].data,c);g=h=m[n],e||(h.data||(h.data={}),h=h.data),d!==b&&(h[f.camelCase(c)]=d);if(o&&!h[c])return g.events;k?(i=h[c],i==null&&(i=h[f.camelCase(c)])):i=h;return i}},removeData:function(a,b,c){if(!!f.acceptData(a)){var d,e,g,h=f.expando,i=a.nodeType,j=i?f.cache:a,k=i?a[h]:h;if(!j[k])return;if(b){d=c?j[k]:j[k].data;if(d){f.isArray(b)||(b in d?b=[b]:(b=f.camelCase(b),b in d?b=[b]:b=b.split(" ")));for(e=0,g=b.length;e<g;e++)delete d[b[e]];if(!(c?m:f.isEmptyObject)(d))return}}if(!c){delete j[k].data;if(!m(j[k]))return}f.support.deleteExpando||!j.setInterval?delete j[k]:j[k]=null,i&&(f.support.deleteExpando?delete a[h]:a.removeAttribute?a.removeAttribute(h):a[h]=null)}},_data:function(a,b,c){return f.data(a,b,c,!0)},acceptData:function(a){if(a.nodeName){var b=f.noData[a.nodeName.toLowerCase()];if(b)return b!==!0&&a.getAttribute("classid")===b}return!0}}),f.fn.extend({data:function(a,c){var d,e,g,h=null;if(typeof a=="undefined"){if(this.length){h=f.data(this[0]);if(this[0].nodeType===1&&!f._data(this[0],"parsedAttrs")){e=this[0].attributes;for(var i=0,j=e.length;i<j;i++)g=e[i].name,g.indexOf("data-")===0&&(g=f.camelCase(g.substring(5)),l(this[0],g,h[g]));f._data(this[0],"parsedAttrs",!0)}}return h}if(typeof a=="object")return this.each(function(){f.data(this,a)});d=a.split("."),d[1]=d[1]?"."+d[1]:"";if(c===b){h=this.triggerHandler("getData"+d[1]+"!",[d[0]]),h===b&&this.length&&(h=f.data(this[0],a),h=l(this[0],a,h));return h===b&&d[1]?this.data(d[0]):h}return this.each(function(){var b=f(this),e=[d[0],c];b.triggerHandler("setData"+d[1]+"!",e),f.data(this,a,c),b.triggerHandler("changeData"+d[1]+"!",e)})},removeData:function(a){return this.each(function(){f.removeData(this,a)})}}),f.extend({_mark:function(a,b){a&&(b=(b||"fx")+"mark",f._data(a,b,(f._data(a,b)||0)+1))},_unmark:function(a,b,c){a!==!0&&(c=b,b=a,a=!1);if(b){c=c||"fx";var d=c+"mark",e=a?0:(f._data(b,d)||1)-1;e?f._data(b,d,e):(f.removeData(b,d,!0),n(b,c,"mark"))}},queue:function(a,b,c){var d;if(a){b=(b||"fx")+"queue",d=f._data(a,b),c&&(!d||f.isArray(c)?d=f._data(a,b,f.makeArray(c)):d.push(c));return d||[]}},dequeue:function(a,b){b=b||"fx";var c=f.queue(a,b),d=c.shift(),e={};d==="inprogress"&&(d=c.shift()),d&&(b==="fx"&&c.unshift("inprogress"),f._data(a,b+".run",e),d.call(a,function(){f.dequeue(a,b)},e)),c.length||(f.removeData(a,b+"queue "+b+".run",!0),n(a,b,"queue"))}}),f.fn.extend({queue:function(a,c){typeof a!="string"&&(c=a,a="fx");if(c===b)return f.queue(this[0],a);return this.each(function(){var b=f.queue(this,a,c);a==="fx"&&b[0]!=="inprogress"&&f.dequeue(this,a)})},dequeue:function(a){return this.each(function(){f.dequeue(this,a)})},delay:function(a,b){a=f.fx?f.fx.speeds[a]||a:a,b=b||"fx";return this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,c){function m(){--h||d.resolveWith(e,[e])}typeof a!="string"&&(c=a,a=b),a=a||"fx";var d=f.Deferred(),e=this,g=e.length,h=1,i=a+"defer",j=a+"queue",k=a+"mark",l;while(g--)if(l=f.data(e[g],i,b,!0)||(f.data(e[g],j,b,!0)||f.data(e[g],k,b,!0))&&f.data(e[g],i,f.Callbacks("once memory"),!0))h++,l.add(m);m();return d.promise()}});var o=/[\n\t\r]/g,p=/\s+/,q=/\r/g,r=/^(?:button|input)$/i,s=/^(?:button|input|object|select|textarea)$/i,t=/^a(?:rea)?$/i,u=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,v=f.support.getSetAttribute,w,x,y;f.fn.extend({attr:function(a,b){return f.access(this,a,b,!0,f.attr)},removeAttr:function(a){return this.each(function(){f.removeAttr(this,a)})},prop:function(a,b){return f.access(this,a,b,!0,f.prop)},removeProp:function(a){a=f.propFix[a]||a;return this.each(function(){try{this[a]=b,delete this[a]}catch(c){}})},addClass:function(a){var b,c,d,e,g,h,i;if(f.isFunction(a))return this.each(function(b){f(this).addClass(a.call(this,b,this.className))});if(a&&typeof a=="string"){b=a.split(p);for(c=0,d=this.length;c<d;c++){e=this[c];if(e.nodeType===1)if(!e.className&&b.length===1)e.className=a;else{g=" "+e.className+" ";for(h=0,i=b.length;h<i;h++)~g.indexOf(" "+b[h]+" ")||(g+=b[h]+" ");e.className=f.trim(g)}}}return this},removeClass:function(a){var c,d,e,g,h,i,j;if(f.isFunction(a))return this.each(function(b){f(this).removeClass(a.call(this,b,this.className))});if(a&&typeof a=="string"||a===b){c=(a||"").split(p);for(d=0,e=this.length;d<e;d++){g=this[d];if(g.nodeType===1&&g.className)if(a){h=(" "+g.className+" ").replace(o," ");for(i=0,j=c.length;i<j;i++)h=h.replace(" "+c[i]+" "," ");g.className=f.trim(h)}else g.className=""}}return this},toggleClass:function(a,b){var c=typeof a,d=typeof b=="boolean";if(f.isFunction(a))return this.each(function(c){f(this).toggleClass(a.call(this,c,this.className,b),b)});return this.each(function(){if(c==="string"){var e,g=0,h=f(this),i=b,j=a.split(p);while(e=j[g++])i=d?i:!h.hasClass(e),h[i?"addClass":"removeClass"](e)}else if(c==="undefined"||c==="boolean")this.className&&f._data(this,"__className__",this.className),this.className=this.className||a===!1?"":f._data(this,"__className__")||""})},hasClass:function(a){var b=" "+a+" ",c=0,d=this.length;for(;c<d;c++)if(this[c].nodeType===1&&(" "+this[c].className+" ").replace(o," ").indexOf(b)>-1)return!0;return!1},val:function(a){var c,d,e,g=this[0];{if(!!arguments.length){e=f.isFunction(a);return this.each(function(d){var g=f(this),h;if(this.nodeType===1){e?h=a.call(this,d,g.val()):h=a,h==null?h="":typeof h=="number"?h+="":f.isArray(h)&&(h=f.map(h,function(a){return a==null?"":a+""})),c=f.valHooks[this.nodeName.toLowerCase()]||f.valHooks[this.type];if(!c||!("set"in c)||c.set(this,h,"value")===b)this.value=h}})}if(g){c=f.valHooks[g.nodeName.toLowerCase()]||f.valHooks[g.type];if(c&&"get"in c&&(d=c.get(g,"value"))!==b)return d;d=g.value;return typeof d=="string"?d.replace(q,""):d==null?"":d}}}}),f.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{get:function(a){var b,c,d,e,g=a.selectedIndex,h=[],i=a.options,j=a.type==="select-one";if(g<0)return null;c=j?g:0,d=j?g+1:i.length;for(;c<d;c++){e=i[c];if(e.selected&&(f.support.optDisabled?!e.disabled:e.getAttribute("disabled")===null)&&(!e.parentNode.disabled||!f.nodeName(e.parentNode,"optgroup"))){b=f(e).val();if(j)return b;h.push(b)}}if(j&&!h.length&&i.length)return f(i[g]).val();return h},set:function(a,b){var c=f.makeArray(b);f(a).find("option").each(function(){this.selected=f.inArray(f(this).val(),c)>=0}),c.length||(a.selectedIndex=-1);return c}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(a,c,d,e){var g,h,i,j=a.nodeType;if(!!a&&j!==3&&j!==8&&j!==2){if(e&&c in f.attrFn)return f(a)[c](d);if(typeof a.getAttribute=="undefined")return f.prop(a,c,d);i=j!==1||!f.isXMLDoc(a),i&&(c=c.toLowerCase(),h=f.attrHooks[c]||(u.test(c)?x:w));if(d!==b){if(d===null){f.removeAttr(a,c);return}if(h&&"set"in h&&i&&(g=h.set(a,d,c))!==b)return g;a.setAttribute(c,""+d);return d}if(h&&"get"in h&&i&&(g=h.get(a,c))!==null)return g;g=a.getAttribute(c);return g===null?b:g}},removeAttr:function(a,b){var c,d,e,g,h=0;if(b&&a.nodeType===1){d=b.toLowerCase().split(p),g=d.length;for(;h<g;h++)e=d[h],e&&(c=f.propFix[e]||e,f.attr(a,e,""),a.removeAttribute(v?e:c),u.test(e)&&c in a&&(a[c]=!1))}},attrHooks:{type:{set:function(a,b){if(r.test(a.nodeName)&&a.parentNode)f.error("type property can't be changed");else if(!f.support.radioValue&&b==="radio"&&f.nodeName(a,"input")){var c=a.value;a.setAttribute("type",b),c&&(a.value=c);return b}}},value:{get:function(a,b){if(w&&f.nodeName(a,"button"))return w.get(a,b);return b in a?a.value:null},set:function(a,b,c){if(w&&f.nodeName(a,"button"))return w.set(a,b,c);a.value=b}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(a,c,d){var e,g,h,i=a.nodeType;if(!!a&&i!==3&&i!==8&&i!==2){h=i!==1||!f.isXMLDoc(a),h&&(c=f.propFix[c]||c,g=f.propHooks[c]);return d!==b?g&&"set"in g&&(e=g.set(a,d,c))!==b?e:a[c]=d:g&&"get"in g&&(e=g.get(a,c))!==null?e:a[c]}},propHooks:{tabIndex:{get:function(a){var c=a.getAttributeNode("tabindex");return c&&c.specified?parseInt(c.value,10):s.test(a.nodeName)||t.test(a.nodeName)&&a.href?0:b}}}}),f.attrHooks.tabindex=f.propHooks.tabIndex,x={get:function(a,c){var d,e=f.prop(a,c);return e===!0||typeof e!="boolean"&&(d=a.getAttributeNode(c))&&d.nodeValue!==!1?c.toLowerCase():b},set:function(a,b,c){var d;b===!1?f.removeAttr(a,c):(d=f.propFix[c]||c,d in a&&(a[d]=!0),a.setAttribute(c,c.toLowerCase()));return c}},v||(y={name:!0,id:!0},w=f.valHooks.button={get:function(a,c){var d;d=a.getAttributeNode(c);return d&&(y[c]?d.nodeValue!=="":d.specified)?d.nodeValue:b},set:function(a,b,d){var e=a.getAttributeNode(d);e||(e=c.createAttribute(d),a.setAttributeNode(e));return e.nodeValue=b+""}},f.attrHooks.tabindex.set=w.set,f.each(["width","height"],function(a,b){f.attrHooks[b]=f.extend(f.attrHooks[b],{set:function(a,c){if(c===""){a.setAttribute(b,"auto");return c}}})}),f.attrHooks.contenteditable={get:w.get,set:function(a,b,c){b===""&&(b="false"),w.set(a,b,c)}}),f.support.hrefNormalized||f.each(["href","src","width","height"],function(a,c){f.attrHooks[c]=f.extend(f.attrHooks[c],{get:function(a){var d=a.getAttribute(c,2);return d===null?b:d}})}),f.support.style||(f.attrHooks.style={get:function(a){return a.style.cssText.toLowerCase()||b},set:function(a,b){return a.style.cssText=""+b}}),f.support.optSelected||(f.propHooks.selected=f.extend(f.propHooks.selected,{get:function(a){var b=a.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex);return null}})),f.support.enctype||(f.propFix.enctype="encoding"),f.support.checkOn||f.each(["radio","checkbox"],function(){f.valHooks[this]={get:function(a){return a.getAttribute("value")===null?"on":a.value}}}),f.each(["radio","checkbox"],function(){f.valHooks[this]=f.extend(f.valHooks[this],{set:function(a,b){if(f.isArray(b))return a.checked=f.inArray(f(a).val(),b)>=0}})});var z=/^(?:textarea|input|select)$/i,A=/^([^\.]*)?(?:\.(.+))?$/,B=/\bhover(\.\S+)?\b/,C=/^key/,D=/^(?:mouse|contextmenu)|click/,E=/^(?:focusinfocus|focusoutblur)$/,F=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,G=function(a){var b=F.exec(a);b&&(b[1]=(b[1]||"").toLowerCase(),b[3]=b[3]&&new RegExp("(?:^|\\s)"+b[3]+"(?:\\s|$)"));return b},H=function(a,b){var c=a.attributes||{};return(!b[1]||a.nodeName.toLowerCase()===b[1])&&(!b[2]||(c.id||{}).value===b[2])&&(!b[3]||b[3].test((c["class"]||{}).value))},I=function(a){return f.event.special.hover?a:a.replace(B,"mouseenter$1 mouseleave$1")};f.event={add:function(a,c,d,e,g){var h,i,j,k,l,m,n,o,p,q,r,s;if(!(a.nodeType===3||a.nodeType===8||!c||!d||!(h=f._data(a)))){d.handler&&(p=d,d=p.handler),d.guid||(d.guid=f.guid++),j=h.events,j||(h.events=j={}),i=h.handle,i||(h.handle=i=function(a){return typeof f!="undefined"&&(!a||f.event.triggered!==a.type)?f.event.dispatch.apply(i.elem,arguments):b},i.elem=a),c=f.trim(I(c)).split(" ");for(k=0;k<c.length;k++){l=A.exec(c[k])||[],m=l[1],n=(l[2]||"").split(".").sort(),s=f.event.special[m]||{},m=(g?s.delegateType:s.bindType)||m,s=f.event.special[m]||{},o=f.extend({type:m,origType:l[1],data:e,handler:d,guid:d.guid,selector:g,quick:G(g),namespace:n.join(".")},p),r=j[m];if(!r){r=j[m]=[],r.delegateCount=0;if(!s.setup||s.setup.call(a,e,n,i)===!1)a.addEventListener?a.addEventListener(m,i,!1):a.attachEvent&&a.attachEvent("on"+m,i)}s.add&&(s.add.call(a,o),o.handler.guid||(o.handler.guid=d.guid)),g?r.splice(r.delegateCount++,0,o):r.push(o),f.event.global[m]=!0}a=null}},global:{},remove:function(a,b,c,d,e){var g=f.hasData(a)&&f._data(a),h,i,j,k,l,m,n,o,p,q,r,s;if(!!g&&!!(o=g.events)){b=f.trim(I(b||"")).split(" ");for(h=0;h<b.length;h++){i=A.exec(b[h])||[],j=k=i[1],l=i[2];if(!j){for(j in o)f.event.remove(a,j+b[h],c,d,!0);continue}p=f.event.special[j]||{},j=(d?p.delegateType:p.bindType)||j,r=o[j]||[],m=r.length,l=l?new RegExp("(^|\\.)"+l.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):null;for(n=0;n<r.length;n++)s=r[n],(e||k===s.origType)&&(!c||c.guid===s.guid)&&(!l||l.test(s.namespace))&&(!d||d===s.selector||d==="**"&&s.selector)&&(r.splice(n--,1),s.selector&&r.delegateCount--,p.remove&&p.remove.call(a,s));r.length===0&&m!==r.length&&((!p.teardown||p.teardown.call(a,l)===!1)&&f.removeEvent(a,j,g.handle),delete o[j])}f.isEmptyObject(o)&&(q=g.handle,q&&(q.elem=null),f.removeData(a,["events","handle"],!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(c,d,e,g){if(!e||e.nodeType!==3&&e.nodeType!==8){var h=c.type||c,i=[],j,k,l,m,n,o,p,q,r,s;if(E.test(h+f.event.triggered))return;h.indexOf("!")>=0&&(h=h.slice(0,-1),k=!0),h.indexOf(".")>=0&&(i=h.split("."),h=i.shift(),i.sort());if((!e||f.event.customEvent[h])&&!f.event.global[h])return;c=typeof c=="object"?c[f.expando]?c:new f.Event(h,c):new f.Event(h),c.type=h,c.isTrigger=!0,c.exclusive=k,c.namespace=i.join("."),c.namespace_re=c.namespace?new RegExp("(^|\\.)"+i.join("\\.(?:.*\\.)?")+"(\\.|$)"):null,o=h.indexOf(":")<0?"on"+h:"";if(!e){j=f.cache;for(l in j)j[l].events&&j[l].events[h]&&f.event.trigger(c,d,j[l].handle.elem,!0);return}c.result=b,c.target||(c.target=e),d=d!=null?f.makeArray(d):[],d.unshift(c),p=f.event.special[h]||{};if(p.trigger&&p.trigger.apply(e,d)===!1)return;r=[[e,p.bindType||h]];if(!g&&!p.noBubble&&!f.isWindow(e)){s=p.delegateType||h,m=E.test(s+h)?e:e.parentNode,n=null;for(;m;m=m.parentNode)r.push([m,s]),n=m;n&&n===e.ownerDocument&&r.push([n.defaultView||n.parentWindow||a,s])}for(l=0;l<r.length&&!c.isPropagationStopped();l++)m=r[l][0],c.type=r[l][1],q=(f._data(m,"events")||{})[c.type]&&f._data(m,"handle"),q&&q.apply(m,d),q=o&&m[o],q&&f.acceptData(m)&&q.apply(m,d)===!1&&c.preventDefault();c.type=h,!g&&!c.isDefaultPrevented()&&(!p._default||p._default.apply(e.ownerDocument,d)===!1)&&(h!=="click"||!f.nodeName(e,"a"))&&f.acceptData(e)&&o&&e[h]&&(h!=="focus"&&h!=="blur"||c.target.offsetWidth!==0)&&!f.isWindow(e)&&(n=e[o],n&&(e[o]=null),f.event.triggered=h,e[h](),f.event.triggered=b,n&&(e[o]=n));return c.result}},dispatch:function(c){c=f.event.fix(c||a.event);var d=(f._data(this,"events")||{})[c.type]||[],e=d.delegateCount,g=[].slice.call(arguments,0),h=!c.exclusive&&!c.namespace,i=[],j,k,l,m,n,o,p,q,r,s,t;g[0]=c,c.delegateTarget=this;if(e&&!c.target.disabled&&(!c.button||c.type!=="click")){m=f(this),m.context=this.ownerDocument||this;for(l=c.target;l!=this;l=l.parentNode||this){o={},q=[],m[0]=l;for(j=0;j<e;j++)r=d[j],s=r.selector,o[s]===b&&(o[s]=r.quick?H(l,r.quick):m.is(s)),o[s]&&q.push(r);q.length&&i.push({elem:l,matches:q})}}d.length>e&&i.push({elem:this,matches:d.slice(e)});for(j=0;j<i.length&&!c.isPropagationStopped();j++){p=i[j],c.currentTarget=p.elem;for(k=0;k<p.matches.length&&!c.isImmediatePropagationStopped();k++){r=p.matches[k];if(h||!c.namespace&&!r.namespace||c.namespace_re&&c.namespace_re.test(r.namespace))c.data=r.data,c.handleObj=r,n=((f.event.special[r.origType]||{}).handle||r.handler).apply(p.elem,g),n!==b&&(c.result=n,n===!1&&(c.preventDefault(),c.stopPropagation()))}}return c.result},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){a.which==null&&(a.which=b.charCode!=null?b.charCode:b.keyCode);return a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,d){var e,f,g,h=d.button,i=d.fromElement;a.pageX==null&&d.clientX!=null&&(e=a.target.ownerDocument||c,f=e.documentElement,g=e.body,a.pageX=d.clientX+(f&&f.scrollLeft||g&&g.scrollLeft||0)-(f&&f.clientLeft||g&&g.clientLeft||0),a.pageY=d.clientY+(f&&f.scrollTop||g&&g.scrollTop||0)-(f&&f.clientTop||g&&g.clientTop||0)),!a.relatedTarget&&i&&(a.relatedTarget=i===a.target?d.toElement:i),!a.which&&h!==b&&(a.which=h&1?1:h&2?3:h&4?2:0);return a}},fix:function(a){if(a[f.expando])return a;var d,e,g=a,h=f.event.fixHooks[a.type]||{},i=h.props?this.props.concat(h.props):this.props;a=f.Event(g);for(d=i.length;d;)e=i[--d],a[e]=g[e];a.target||(a.target=g.srcElement||c),a.target.nodeType===3&&(a.target=a.target.parentNode),a.metaKey===b&&(a.metaKey=a.ctrlKey);return h.filter?h.filter(a,g):a},special:{ready:{setup:f.bindReady},load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(a,b,c){f.isWindow(this)&&(this.onbeforeunload=c)},teardown:function(a,b){this.onbeforeunload===b&&(this.onbeforeunload=null)}}},simulate:function(a,b,c,d){var e=f.extend(new f.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?f.event.trigger(e,null,b):f.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},f.event.handle=f.event.dispatch,f.removeEvent=c.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){a.detachEvent&&a.detachEvent("on"+b,c)},f.Event=function(a,b){if(!(this instanceof f.Event))return new f.Event(a,b);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||a.returnValue===!1||a.getPreventDefault&&a.getPreventDefault()?K:J):this.type=a,b&&f.extend(this,b),this.timeStamp=a&&a.timeStamp||f.now(),this[f.expando]=!0},f.Event.prototype={preventDefault:function(){this.isDefaultPrevented=K;var a=this.originalEvent;!a||(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=K;var a=this.originalEvent;!a||(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=K,this.stopPropagation()},isDefaultPrevented:J,isPropagationStopped:J,isImmediatePropagationStopped:J},f.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){f.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c=this,d=a.relatedTarget,e=a.handleObj,g=e.selector,h;if(!d||d!==c&&!f.contains(c,d))a.type=e.origType,h=e.handler.apply(this,arguments),a.type=b;return h}}}),f.support.submitBubbles||(f.event.special.submit={setup:function(){if(f.nodeName(this,"form"))return!1;f.event.add(this,"click._submit keypress._submit",function(a){var c=a.target,d=f.nodeName(c,"input")||f.nodeName(c,"button")?c.form:b;d&&!d._submit_attached&&(f.event.add(d,"submit._submit",function(a){this.parentNode&&!a.isTrigger&&f.event.simulate("submit",this.parentNode,a,!0)}),d._submit_attached=!0)})},teardown:function(){if(f.nodeName(this,"form"))return!1;f.event.remove(this,"._submit")}}),f.support.changeBubbles||(f.event.special.change={setup:function(){if(z.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio")f.event.add(this,"propertychange._change",function(a){a.originalEvent.propertyName==="checked"&&(this._just_changed=!0)}),f.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1,f.event.simulate("change",this,a,!0))});return!1}f.event.add(this,"beforeactivate._change",function(a){var b=a.target;z.test(b.nodeName)&&!b._change_attached&&(f.event.add(b,"change._change",function(a){this.parentNode&&!a.isSimulated&&!a.isTrigger&&f.event.simulate("change",this.parentNode,a,!0)}),b._change_attached=!0)})},handle:function(a){var b=a.target;if(this!==b||a.isSimulated||a.isTrigger||b.type!=="radio"&&b.type!=="checkbox")return a.handleObj.handler.apply(this,arguments)},teardown:function(){f.event.remove(this,"._change");return z.test(this.nodeName)}}),f.support.focusinBubbles||f.each({focus:"focusin",blur:"focusout"},function(a,b){var d=0,e=function(a){f.event.simulate(b,a.target,f.event.fix(a),!0)};f.event.special[b]={setup:function(){d++===0&&c.addEventListener(a,e,!0)},teardown:function(){--d===0&&c.removeEventListener(a,e,!0)}}}),f.fn.extend({on:function(a,c,d,e,g){var h,i;if(typeof a=="object"){typeof c!="string"&&(d=c,c=b);for(i in a)this.on(i,c,d,a[i],g);return this}d==null&&e==null?(e=c,d=c=b):e==null&&(typeof c=="string"?(e=d,d=b):(e=d,d=c,c=b));if(e===!1)e=J;else if(!e)return this;g===1&&(h=e,e=function(a){f().off(a);return h.apply(this,arguments)},e.guid=h.guid||(h.guid=f.guid++));return this.each(function(){f.event.add(this,a,e,d,c)})},one:function(a,b,c,d){return this.on.call(this,a,b,c,d,1)},off:function(a,c,d){if(a&&a.preventDefault&&a.handleObj){var e=a.handleObj;f(a.delegateTarget).off(e.namespace?e.type+"."+e.namespace:e.type,e.selector,e.handler);return this}if(typeof a=="object"){for(var g in a)this.off(g,c,a[g]);return this}if(c===!1||typeof c=="function")d=c,c=b;d===!1&&(d=J);return this.each(function(){f.event.remove(this,a,d,c)})},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},live:function(a,b,c){f(this.context).on(a,this.selector,b,c);return this},die:function(a,b){f(this.context).off(a,this.selector||"**",b);return this},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return arguments.length==1?this.off(a,"**"):this.off(b,a,c)},trigger:function(a,b){return this.each(function(){f.event.trigger(a,b,this)})},triggerHandler:function(a,b){if(this[0])return f.event.trigger(a,b,this[0],!0)},toggle:function(a){var b=arguments,c=a.guid||f.guid++,d=0,e=function(c){var e=(f._data(this,"lastToggle"+a.guid)||0)%d;f._data(this,"lastToggle"+a.guid,e+1),c.preventDefault();return b[e].apply(this,arguments)||!1};e.guid=c;while(d<b.length)b[d++].guid=c;return this.click(e)},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),f.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){f.fn[b]=function(a,c){c==null&&(c=a,a=null);return arguments.length>0?this.on(b,null,a,c):this.trigger(b)},f.attrFn&&(f.attrFn[b]=!0),C.test(b)&&(f.event.fixHooks[b]=f.event.keyHooks),D.test(b)&&(f.event.fixHooks[b]=f.event.mouseHooks)}),function(){function x(a,b,c,e,f,g){for(var h=0,i=e.length;h<i;h++){var j=e[h];if(j){var k=!1;j=j[a];while(j){if(j[d]===c){k=e[j.sizset];break}if(j.nodeType===1){g||(j[d]=c,j.sizset=h);if(typeof b!="string"){if(j===b){k=!0;break}}else if(m.filter(b,[j]).length>0){k=j;break}}j=j[a]}e[h]=k}}}function w(a,b,c,e,f,g){for(var h=0,i=e.length;h<i;h++){var j=e[h];if(j){var k=!1;j=j[a];while(j){if(j[d]===c){k=e[j.sizset];break}j.nodeType===1&&!g&&(j[d]=c,j.sizset=h);if(j.nodeName.toLowerCase()===b){k=j;break}j=j[a]}e[h]=k}}}var a=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,d="sizcache"+(Math.random()+"").replace(".",""),e=0,g=Object.prototype.toString,h=!1,i=!0,j=/\\/g,k=/\r\n/g,l=/\W/;[0,0].sort(function(){i=!1;return 0});var m=function(b,d,e,f){e=e||[],d=d||c;var h=d;if(d.nodeType!==1&&d.nodeType!==9)return[];if(!b||typeof b!="string")return e;var i,j,k,l,n,q,r,t,u=!0,v=m.isXML(d),w=[],x=b;do{a.exec(""),i=a.exec(x);if(i){x=i[3],w.push(i[1]);if(i[2]){l=i[3];break}}}while(i);if(w.length>1&&p.exec(b))if(w.length===2&&o.relative[w[0]])j=y(w[0]+w[1],d,f);else{j=o.relative[w[0]]?[d]:m(w.shift(),d);while(w.length)b=w.shift(),o.relative[b]&&(b+=w.shift()),j=y(b,j,f)}else{!f&&w.length>1&&d.nodeType===9&&!v&&o.match.ID.test(w[0])&&!o.match.ID.test(w[w.length-1])&&(n=m.find(w.shift(),d,v),d=n.expr?m.filter(n.expr,n.set)[0]:n.set[0]);if(d){n=f?{expr:w.pop(),set:s(f)}:m.find(w.pop(),w.length===1&&(w[0]==="~"||w[0]==="+")&&d.parentNode?d.parentNode:d,v),j=n.expr?m.filter(n.expr,n.set):n.set,w.length>0?k=s(j):u=!1;while(w.length)q=w.pop(),r=q,o.relative[q]?r=w.pop():q="",r==null&&(r=d),o.relative[q](k,r,v)}else k=w=[]}k||(k=j),k||m.error(q||b);if(g.call(k)==="[object Array]")if(!u)e.push.apply(e,k);else if(d&&d.nodeType===1)for(t=0;k[t]!=null;t++)k[t]&&(k[t]===!0||k[t].nodeType===1&&m.contains(d,k[t]))&&e.push(j[t]);else for(t=0;k[t]!=null;t++)k[t]&&k[t].nodeType===1&&e.push(j[t]);else s(k,e);l&&(m(l,h,e,f),m.uniqueSort(e));return e};m.uniqueSort=function(a){if(u){h=i,a.sort(u);if(h)for(var b=1;b<a.length;b++)a[b]===a[b-1]&&a.splice(b--,1)}return a},m.matches=function(a,b){return m(a,null,null,b)},m.matchesSelector=function(a,b){return m(b,null,null,[a]).length>0},m.find=function(a,b,c){var d,e,f,g,h,i;if(!a)return[];for(e=0,f=o.order.length;e<f;e++){h=o.order[e];if(g=o.leftMatch[h].exec(a)){i=g[1],g.splice(1,1);if(i.substr(i.length-1)!=="\\"){g[1]=(g[1]||"").replace(j,""),d=o.find[h](g,b,c);if(d!=null){a=a.replace(o.match[h],"");break}}}}d||(d=typeof b.getElementsByTagName!="undefined"?b.getElementsByTagName("*"):[]);return{set:d,expr:a}},m.filter=function(a,c,d,e){var f,g,h,i,j,k,l,n,p,q=a,r=[],s=c,t=c&&c[0]&&m.isXML(c[0]);while(a&&c.length){for(h in o.filter)if((f=o.leftMatch[h].exec(a))!=null&&f[2]){k=o.filter[h],l=f[1],g=!1,f.splice(1,1);if(l.substr(l.length-1)==="\\")continue;s===r&&(r=[]);if(o.preFilter[h]){f=o.preFilter[h](f,s,d,r,e,t);if(!f)g=i=!0;else if(f===!0)continue}if(f)for(n=0;(j=s[n])!=null;n++)j&&(i=k(j,f,n,s),p=e^i,d&&i!=null?p?g=!0:s[n]=!1:p&&(r.push(j),g=!0));if(i!==b){d||(s=r),a=a.replace(o.match[h],"");if(!g)return[];break}}if(a===q)if(g==null)m.error(a);else break;q=a}return s},m.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)};var n=m.getText=function(a){var b,c,d=a.nodeType,e="";if(d){if(d===1||d===9){if(typeof a.textContent=="string")return a.textContent;if(typeof a.innerText=="string")return a.innerText.replace(k,"");for(a=a.firstChild;a;a=a.nextSibling)e+=n(a)}else if(d===3||d===4)return a.nodeValue}else for(b=0;c=a[b];b++)c.nodeType!==8&&(e+=n(c));return e},o=m.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute("href")},type:function(a){return a.getAttribute("type")}},relative:{"+":function(a,b){var c=typeof b=="string",d=c&&!l.test(b),e=c&&!d;d&&(b=b.toLowerCase());for(var f=0,g=a.length,h;f<g;f++)if(h=a[f]){while((h=h.previousSibling)&&h.nodeType!==1);a[f]=e||h&&h.nodeName.toLowerCase()===b?h||!1:h===b}e&&m.filter(b,a,!0)},">":function(a,b){var c,d=typeof b=="string",e=0,f=a.length;if(d&&!l.test(b)){b=b.toLowerCase();for(;e<f;e++){c=a[e];if(c){var g=c.parentNode;a[e]=g.nodeName.toLowerCase()===b?g:!1}}}else{for(;e<f;e++)c=a[e],c&&(a[e]=d?c.parentNode:c.parentNode===b);d&&m.filter(b,a,!0)}},"":function(a,b,c){var d,f=e++,g=x;typeof b=="string"&&!l.test(b)&&(b=b.toLowerCase(),d=b,g=w),g("parentNode",b,f,a,d,c)},"~":function(a,b,c){var d,f=e++,g=x;typeof b=="string"&&!l.test(b)&&(b=b.toLowerCase(),d=b,g=w),g("previousSibling",b,f,a,d,c)}},find:{ID:function(a,b,c){if(typeof b.getElementById!="undefined"&&!c){var d=b.getElementById(a[1]);return d&&d.parentNode?[d]:[]}},NAME:function(a,b){if(typeof b.getElementsByName!="undefined"){var c=[],d=b.getElementsByName(a[1]);for(var e=0,f=d.length;e<f;e++)d[e].getAttribute("name")===a[1]&&c.push(d[e]);return c.length===0?null:c}},TAG:function(a,b){if(typeof b.getElementsByTagName!="undefined")return b.getElementsByTagName(a[1])}},preFilter:{CLASS:function(a,b,c,d,e,f){a=" "+a[1].replace(j,"")+" ";if(f)return a;for(var g=0,h;(h=b[g])!=null;g++)h&&(e^(h.className&&(" "+h.className+" ").replace(/[\t\n\r]/g," ").indexOf(a)>=0)?c||d.push(h):c&&(b[g]=!1));return!1},ID:function(a){return a[1].replace(j,"")},TAG:function(a,b){return a[1].replace(j,"").toLowerCase()},CHILD:function(a){if(a[1]==="nth"){a[2]||m.error(a[0]),a[2]=a[2].replace(/^\+|\s*/g,"");var b=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(a[2]==="even"&&"2n"||a[2]==="odd"&&"2n+1"||!/\D/.test(a[2])&&"0n+"+a[2]||a[2]);a[2]=b[1]+(b[2]||1)-0,a[3]=b[3]-0}else a[2]&&m.error(a[0]);a[0]=e++;return a},ATTR:function(a,b,c,d,e,f){var g=a[1]=a[1].replace(j,"");!f&&o.attrMap[g]&&(a[1]=o.attrMap[g]),a[4]=(a[4]||a[5]||"").replace(j,""),a[2]==="~="&&(a[4]=" "+a[4]+" ");return a},PSEUDO:function(b,c,d,e,f){if(b[1]==="not")if((a.exec(b[3])||"").length>1||/^\w/.test(b[3]))b[3]=m(b[3],null,null,c);else{var g=m.filter(b[3],c,d,!0^f);d||e.push.apply(e,g);return!1}else if(o.match.POS.test(b[0])||o.match.CHILD.test(b[0]))return!0;return b},POS:function(a){a.unshift(!0);return a}},filters:{enabled:function(a){return a.disabled===!1&&a.type!=="hidden"},disabled:function(a){return a.disabled===!0},checked:function(a){return a.checked===!0},selected:function(a){a.parentNode&&a.parentNode.selectedIndex;return a.selected===!0},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},has:function(a,b,c){return!!m(c[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},text:function(a){var b=a.getAttribute("type"),c=a.type;return a.nodeName.toLowerCase()==="input"&&"text"===c&&(b===c||b===null)},radio:function(a){return a.nodeName.toLowerCase()==="input"&&"radio"===a.type},checkbox:function(a){return a.nodeName.toLowerCase()==="input"&&"checkbox"===a.type},file:function(a){return a.nodeName.toLowerCase()==="input"&&"file"===a.type},password:function(a){return a.nodeName.toLowerCase()==="input"&&"password"===a.type},submit:function(a){var b=a.nodeName.toLowerCase();return(b==="input"||b==="button")&&"submit"===a.type},image:function(a){return a.nodeName.toLowerCase()==="input"&&"image"===a.type},reset:function(a){var b=a.nodeName.toLowerCase();return(b==="input"||b==="button")&&"reset"===a.type},button:function(a){var b=a.nodeName.toLowerCase();return b==="input"&&"button"===a.type||b==="button"},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)},focus:function(a){return a===a.ownerDocument.activeElement}},setFilters:{first:function(a,b){return b===0},last:function(a,b,c,d){return b===d.length-1},even:function(a,b){return b%2===0},odd:function(a,b){return b%2===1},lt:function(a,b,c){return b<c[3]-0},gt:function(a,b,c){return b>c[3]-0},nth:function(a,b,c){return c[3]-0===b},eq:function(a,b,c){return c[3]-0===b}},filter:{PSEUDO:function(a,b,c,d){var e=b[1],f=o.filters[e];if(f)return f(a,c,b,d);if(e==="contains")return(a.textContent||a.innerText||n([a])||"").indexOf(b[3])>=0;if(e==="not"){var g=b[3];for(var h=0,i=g.length;h<i;h++)if(g[h]===a)return!1;return!0}m.error(e)},CHILD:function(a,b){var c,e,f,g,h,i,j,k=b[1],l=a;switch(k){case"only":case"first":while(l=l.previousSibling)if(l.nodeType===1)return!1;if(k==="first")return!0;l=a;case"last":while(l=l.nextSibling)if(l.nodeType===1)return!1;return!0;case"nth":c=b[2],e=b[3];if(c===1&&e===0)return!0;f=b[0],g=a.parentNode;if(g&&(g[d]!==f||!a.nodeIndex)){i=0;for(l=g.firstChild;l;l=l.nextSibling)l.nodeType===1&&(l.nodeIndex=++i);g[d]=f}j=a.nodeIndex-e;return c===0?j===0:j%c===0&&j/c>=0}},ID:function(a,b){return a.nodeType===1&&a.getAttribute("id")===b},TAG:function(a,b){return b==="*"&&a.nodeType===1||!!a.nodeName&&a.nodeName.toLowerCase()===b},CLASS:function(a,b){return(" "+(a.className||a.getAttribute("class"))+" ").indexOf(b)>-1},ATTR:function(a,b){var c=b[1],d=m.attr?m.attr(a,c):o.attrHandle[c]?o.attrHandle[c](a):a[c]!=null?a[c]:a.getAttribute(c),e=d+"",f=b[2],g=b[4];return d==null?f==="!=":!f&&m.attr?d!=null:f==="="?e===g:f==="*="?e.indexOf(g)>=0:f==="~="?(" "+e+" ").indexOf(g)>=0:g?f==="!="?e!==g:f==="^="?e.indexOf(g)===0:f==="$="?e.substr(e.length-g.length)===g:f==="|="?e===g||e.substr(0,g.length+1)===g+"-":!1:e&&d!==!1},POS:function(a,b,c,d){var e=b[2],f=o.setFilters[e];if(f)return f(a,c,b,d)}}},p=o.match.POS,q=function(a,b){return"\\"+(b-0+1)};for(var r in o.match)o.match[r]=new RegExp(o.match[r].source+/(?![^\[]*\])(?![^\(]*\))/.source),o.leftMatch[r]=new RegExp(/(^(?:.|\r|\n)*?)/.source+o.match[r].source.replace(/\\(\d+)/g,q));var s=function(a,b){a=Array.prototype.slice.call(a,0);if(b){b.push.apply(b,a);return b}return a};try{Array.prototype.slice.call(c.documentElement.childNodes,0)[0].nodeType}catch(t){s=function(a,b){var c=0,d=b||[];if(g.call(a)==="[object Array]")Array.prototype.push.apply(d,a);else if(typeof a.length=="number")for(var e=a.length;c<e;c++)d.push(a[c]);else for(;a[c];c++)d.push(a[c]);return d}}var u,v;c.documentElement.compareDocumentPosition?u=function(a,b){if(a===b){h=!0;return 0}if(!a.compareDocumentPosition||!b.compareDocumentPosition)return a.compareDocumentPosition?-1:1;return a.compareDocumentPosition(b)&4?-1:1}:(u=function(a,b){if(a===b){h=!0;return 0}if(a.sourceIndex&&b.sourceIndex)return a.sourceIndex-b.sourceIndex;var c,d,e=[],f=[],g=a.parentNode,i=b.parentNode,j=g;if(g===i)return v(a,b);if(!g)return-1;if(!i)return 1;while(j)e.unshift(j),j=j.parentNode;j=i;while(j)f.unshift(j),j=j.parentNode;c=e.length,d=f.length;for(var k=0;k<c&&k<d;k++)if(e[k]!==f[k])return v(e[k],f[k]);return k===c?v(a,f[k],-1):v(e[k],b,1)},v=function(a,b,c){if(a===b)return c;var d=a.nextSibling;while(d){if(d===b)return-1;d=d.nextSibling}return 1}),function(){var a=c.createElement("div"),d="script"+(new Date).getTime(),e=c.documentElement;a.innerHTML="<a name='"+d+"'/>",e.insertBefore(a,e.firstChild),c.getElementById(d)&&(o.find.ID=function(a,c,d){if(typeof c.getElementById!="undefined"&&!d){var e=c.getElementById(a[1]);return e?e.id===a[1]||typeof e.getAttributeNode!="undefined"&&e.getAttributeNode("id").nodeValue===a[1]?[e]:b:[]}},o.filter.ID=function(a,b){var c=typeof a.getAttributeNode!="undefined"&&a.getAttributeNode("id");return a.nodeType===1&&c&&c.nodeValue===b}),e.removeChild(a),e=a=null}(),function(){var a=c.createElement("div");a.appendChild(c.createComment("")),a.getElementsByTagName("*").length>0&&(o.find.TAG=function(a,b){var c=b.getElementsByTagName(a[1]);if(a[1]==="*"){var d=[];for(var e=0;c[e];e++)c[e].nodeType===1&&d.push(c[e]);c=d}return c}),a.innerHTML="<a href='#'></a>",a.firstChild&&typeof a.firstChild.getAttribute!="undefined"&&a.firstChild.getAttribute("href")!=="#"&&(o.attrHandle.href=function(a){return a.getAttribute("href",2)}),a=null}(),c.querySelectorAll&&function(){var a=m,b=c.createElement("div"),d="__sizzle__";b.innerHTML="<p class='TEST'></p>";if(!b.querySelectorAll||b.querySelectorAll(".TEST").length!==0){m=function(b,e,f,g){e=e||c;if(!g&&!m.isXML(e)){var h=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(b);if(h&&(e.nodeType===1||e.nodeType===9)){if(h[1])return s(e.getElementsByTagName(b),f);if(h[2]&&o.find.CLASS&&e.getElementsByClassName)return s(e.getElementsByClassName(h[2]),f)}if(e.nodeType===9){if(b==="body"&&e.body)return s([e.body],f);if(h&&h[3]){var i=e.getElementById(h[3]);if(!i||!i.parentNode)return s([],f);if(i.id===h[3])return s([i],f)}try{return s(e.querySelectorAll(b),f)}catch(j){}}else if(e.nodeType===1&&e.nodeName.toLowerCase()!=="object"){var k=e,l=e.getAttribute("id"),n=l||d,p=e.parentNode,q=/^\s*[+~]/.test(b);l?n=n.replace(/'/g,"\\$&"):e.setAttribute("id",n),q&&p&&(e=e.parentNode);try{if(!q||p)return s(e.querySelectorAll("[id='"+n+"'] "+b),f)}catch(r){}finally{l||k.removeAttribute("id")}}}return a(b,e,f,g)};for(var e in a)m[e]=a[e];b=null}}(),function(){var a=c.documentElement,b=a.matchesSelector||a.mozMatchesSelector||a.webkitMatchesSelector||a.msMatchesSelector;if(b){var d=!b.call(c.createElement("div"),"div"),e=!1;try{b.call(c.documentElement,"[test!='']:sizzle")}catch(f){e=!0}m.matchesSelector=function(a,c){c=c.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!m.isXML(a))try{if(e||!o.match.PSEUDO.test(c)&&!/!=/.test(c)){var f=b.call(a,c);if(f||!d||a.document&&a.document.nodeType!==11)return f}}catch(g){}return m(c,null,null,[a]).length>0}}}(),function(){var a=c.createElement("div");a.innerHTML="<div class='test e'></div><div class='test'></div>";if(!!a.getElementsByClassName&&a.getElementsByClassName("e").length!==0){a.lastChild.className="e";if(a.getElementsByClassName("e").length===1)return;o.order.splice(1,0,"CLASS"),o.find.CLASS=function(a,b,c){if(typeof b.getElementsByClassName!="undefined"&&!c)return b.getElementsByClassName(a[1])},a=null}}(),c.documentElement.contains?m.contains=function(a,b){return a!==b&&(a.contains?a.contains(b):!0)}:c.documentElement.compareDocumentPosition?m.contains=function(a,b){return!!(a.compareDocumentPosition(b)&16)}:m.contains=function(){return!1},m.isXML=function(a){var b=(a?a.ownerDocument||a:0).documentElement;return b?b.nodeName!=="HTML":!1};var y=function(a,b,c){var d,e=[],f="",g=b.nodeType?[b]:b;while(d=o.match.PSEUDO.exec(a))f+=d[0],a=a.replace(o.match.PSEUDO,"");a=o.relative[a]?a+"*":a;for(var h=0,i=g.length;h<i;h++)m(a,g[h],e,c);return m.filter(f,e)};m.attr=f.attr,m.selectors.attrMap={},f.find=m,f.expr=m.selectors,f.expr[":"]=f.expr.filters,f.unique=m.uniqueSort,f.text=m.getText,f.isXMLDoc=m.isXML,f.contains=m.contains}();var L=/Until$/,M=/^(?:parents|prevUntil|prevAll)/,N=/,/,O=/^.[^:#\[\.,]*$/,P=Array.prototype.slice,Q=f.expr.match.POS,R={children:!0,contents:!0,next:!0,prev:!0};f.fn.extend({find:function(a){var b=this,c,d;if(typeof a!="string")return f(a).filter(function(){for(c=0,d=b.length;c<d;c++)if(f.contains(b[c],this))return!0});var e=this.pushStack("","find",a),g,h,i;for(c=0,d=this.length;c<d;c++){g=e.length,f.find(a,this[c],e);if(c>0)for(h=g;h<e.length;h++)for(i=0;i<g;i++)if(e[i]===e[h]){e.splice(h--,1);break}}return e},has:function(a){var b=f(a);return this.filter(function(){for(var a=0,c=b.length;a<c;a++)if(f.contains(this,b[a]))return!0})},not:function(a){return this.pushStack(T(this,a,!1),"not",a)},filter:function(a){return this.pushStack(T(this,a,!0),"filter",a)},is:function(a){return!!a&&(typeof a=="string"?Q.test(a)?f(a,this.context).index(this[0])>=0:f.filter(a,this).length>0:this.filter(a).length>0)},closest:function(a,b){var c=[],d,e,g=this[0];if(f.isArray(a)){var h=1;while(g&&g.ownerDocument&&g!==b){for(d=0;d<a.length;d++)f(g).is(a[d])&&c.push({selector:a[d],elem:g,level:h});g=g.parentNode,h++}return c}var i=Q.test(a)||typeof a!="string"?f(a,b||this.context):0;for(d=0,e=this.length;d<e;d++){g=this[d];while(g){if(i?i.index(g)>-1:f.find.matchesSelector(g,a)){c.push(g);break}g=g.parentNode;if(!g||!g.ownerDocument||g===b||g.nodeType===11)break}}c=c.length>1?f.unique(c):c;return this.pushStack(c,"closest",a)},index:function(a){if(!a)return this[0]&&this[0].parentNode?this.prevAll().length:-1;if(typeof a=="string")return f.inArray(this[0],f(a));return f.inArray(a.jquery?a[0]:a,this)},add:function(a,b){var c=typeof a=="string"?f(a,b):f.makeArray(a&&a.nodeType?[a]:a),d=f.merge(this.get(),c);return this.pushStack(S(c[0])||S(d[0])?d:f.unique(d))},andSelf:function(){return this.add(this.prevObject)}}),f.each({parent:function(a){var b=a.parentNode;return b&&b.nodeType!==11?b:null},parents:function(a){return f.dir(a,"parentNode")},parentsUntil:function(a,b,c){return f.dir(a,"parentNode",c)},next:function(a){return f.nth(a,2,"nextSibling")},prev:function(a){return f.nth(a,2,"previousSibling")},nextAll:function(a){return f.dir(a,"nextSibling")},prevAll:function(a){return f.dir(a,"previousSibling")},nextUntil:function(a,b,c){return f.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return f.dir(a,"previousSibling",c)},siblings:function(a){return f.sibling(a.parentNode.firstChild,a)},children:function(a){return f.sibling(a.firstChild)},contents:function(a){return f.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:f.makeArray(a.childNodes)}},function(a,b){f.fn[a]=function(c,d){var e=f.map(this,b,c);L.test(a)||(d=c),d&&typeof d=="string"&&(e=f.filter(d,e)),e=this.length>1&&!R[a]?f.unique(e):e,(this.length>1||N.test(d))&&M.test(a)&&(e=e.reverse());return this.pushStack(e,a,P.call(arguments).join(","))}}),f.extend({filter:function(a,b,c){c&&(a=":not("+a+")");return b.length===1?f.find.matchesSelector(b[0],a)?[b[0]]:[]:f.find.matches(a,b)},dir:function(a,c,d){var e=[],g=a[c];while(g&&g.nodeType!==9&&(d===b||g.nodeType!==1||!f(g).is(d)))g.nodeType===1&&e.push(g),g=g[c];return e},nth:function(a,b,c,d){b=b||1;var e=0;for(;a;a=a[c])if(a.nodeType===1&&++e===b)break;return a},sibling:function(a,b){var c=[];for(;a;a=a.nextSibling)a.nodeType===1&&a!==b&&c.push(a);return c}});var V="abbr|article|aside|audio|canvas|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",W=/ jQuery\d+="(?:\d+|null)"/g,X=/^\s+/,Y=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,Z=/<([\w:]+)/,$=/<tbody/i,_=/<|&#?\w+;/,ba=/<(?:script|style)/i,bb=/<(?:script|object|embed|option|style)/i,bc=new RegExp("<(?:"+V+")","i"),bd=/checked\s*(?:[^=]|=\s*.checked.)/i,be=/\/(java|ecma)script/i,bf=/^\s*<!(?:\[CDATA\[|\-\-)/,bg={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},bh=U(c);bg.optgroup=bg.option,bg.tbody=bg.tfoot=bg.colgroup=bg.caption=bg.thead,bg.th=bg.td,f.support.htmlSerialize||(bg._default=[1,"div<div>","</div>"]),f.fn.extend({text:function(a){if(f.isFunction(a))return this.each(function(b){var c=f(this);c.text(a.call(this,b,c.text()))});if(typeof a!="object"&&a!==b)return this.empty().append((this[0]&&this[0].ownerDocument||c).createTextNode(a));return f.text(this)},wrapAll:function(a){if(f.isFunction(a))return this.each(function(b){f(this).wrapAll(a.call(this,b))});if(this[0]){var b=f(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstChild&&a.firstChild.nodeType===1)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){if(f.isFunction(a))return this.each(function(b){f(this).wrapInner(a.call(this,b))});return this.each(function(){var b=f(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=f.isFunction(a);return this.each(function(c){f(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){f.nodeName(this,"body")||f(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){this.nodeType===1&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,!0,function(a){this.nodeType===1&&this.insertBefore(a,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this)});if(arguments.length){var a=f.clean(arguments);a.push.apply(a,this.toArray());return this.pushStack(a,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this.nextSibling)});if(arguments.length){var a=this.pushStack(this,"after",arguments);a.push.apply(a,f.clean(arguments));return a}},remove:function(a,b){for(var c=0,d;(d=this[c])!=null;c++)if(!a||f.filter(a,[d]).length)!b&&d.nodeType===1&&(f.cleanData(d.getElementsByTagName("*")),f.cleanData([d])),d.parentNode&&d.parentNode.removeChild(d);return this},empty:function()
{for(var a=0,b;(b=this[a])!=null;a++){b.nodeType===1&&f.cleanData(b.getElementsByTagName("*"));while(b.firstChild)b.removeChild(b.firstChild)}return this},clone:function(a,b){a=a==null?!1:a,b=b==null?a:b;return this.map(function(){return f.clone(this,a,b)})},html:function(a){if(a===b)return this[0]&&this[0].nodeType===1?this[0].innerHTML.replace(W,""):null;if(typeof a=="string"&&!ba.test(a)&&(f.support.leadingWhitespace||!X.test(a))&&!bg[(Z.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(Y,"<$1></$2>");try{for(var c=0,d=this.length;c<d;c++)this[c].nodeType===1&&(f.cleanData(this[c].getElementsByTagName("*")),this[c].innerHTML=a)}catch(e){this.empty().append(a)}}else f.isFunction(a)?this.each(function(b){var c=f(this);c.html(a.call(this,b,c.html()))}):this.empty().append(a);return this},replaceWith:function(a){if(this[0]&&this[0].parentNode){if(f.isFunction(a))return this.each(function(b){var c=f(this),d=c.html();c.replaceWith(a.call(this,b,d))});typeof a!="string"&&(a=f(a).detach());return this.each(function(){var b=this.nextSibling,c=this.parentNode;f(this).remove(),b?f(b).before(a):f(c).append(a)})}return this.length?this.pushStack(f(f.isFunction(a)?a():a),"replaceWith",a):this},detach:function(a){return this.remove(a,!0)},domManip:function(a,c,d){var e,g,h,i,j=a[0],k=[];if(!f.support.checkClone&&arguments.length===3&&typeof j=="string"&&bd.test(j))return this.each(function(){f(this).domManip(a,c,d,!0)});if(f.isFunction(j))return this.each(function(e){var g=f(this);a[0]=j.call(this,e,c?g.html():b),g.domManip(a,c,d)});if(this[0]){i=j&&j.parentNode,f.support.parentNode&&i&&i.nodeType===11&&i.childNodes.length===this.length?e={fragment:i}:e=f.buildFragment(a,this,k),h=e.fragment,h.childNodes.length===1?g=h=h.firstChild:g=h.firstChild;if(g){c=c&&f.nodeName(g,"tr");for(var l=0,m=this.length,n=m-1;l<m;l++)d.call(c?bi(this[l],g):this[l],e.cacheable||m>1&&l<n?f.clone(h,!0,!0):h)}k.length&&f.each(k,bp)}return this}}),f.buildFragment=function(a,b,d){var e,g,h,i,j=a[0];b&&b[0]&&(i=b[0].ownerDocument||b[0]),i.createDocumentFragment||(i=c),a.length===1&&typeof j=="string"&&j.length<512&&i===c&&j.charAt(0)==="<"&&!bb.test(j)&&(f.support.checkClone||!bd.test(j))&&(f.support.html5Clone||!bc.test(j))&&(g=!0,h=f.fragments[j],h&&h!==1&&(e=h)),e||(e=i.createDocumentFragment(),f.clean(a,i,e,d)),g&&(f.fragments[j]=h?e:1);return{fragment:e,cacheable:g}},f.fragments={},f.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){f.fn[a]=function(c){var d=[],e=f(c),g=this.length===1&&this[0].parentNode;if(g&&g.nodeType===11&&g.childNodes.length===1&&e.length===1){e[b](this[0]);return this}for(var h=0,i=e.length;h<i;h++){var j=(h>0?this.clone(!0):this).get();f(e[h])[b](j),d=d.concat(j)}return this.pushStack(d,a,e.selector)}}),f.extend({clone:function(a,b,c){var d,e,g,h=f.support.html5Clone||!bc.test("<"+a.nodeName)?a.cloneNode(!0):bo(a);if((!f.support.noCloneEvent||!f.support.noCloneChecked)&&(a.nodeType===1||a.nodeType===11)&&!f.isXMLDoc(a)){bk(a,h),d=bl(a),e=bl(h);for(g=0;d[g];++g)e[g]&&bk(d[g],e[g])}if(b){bj(a,h);if(c){d=bl(a),e=bl(h);for(g=0;d[g];++g)bj(d[g],e[g])}}d=e=null;return h},clean:function(a,b,d,e){var g;b=b||c,typeof b.createElement=="undefined"&&(b=b.ownerDocument||b[0]&&b[0].ownerDocument||c);var h=[],i;for(var j=0,k;(k=a[j])!=null;j++){typeof k=="number"&&(k+="");if(!k)continue;if(typeof k=="string")if(!_.test(k))k=b.createTextNode(k);else{k=k.replace(Y,"<$1></$2>");var l=(Z.exec(k)||["",""])[1].toLowerCase(),m=bg[l]||bg._default,n=m[0],o=b.createElement("div");b===c?bh.appendChild(o):U(b).appendChild(o),o.innerHTML=m[1]+k+m[2];while(n--)o=o.lastChild;if(!f.support.tbody){var p=$.test(k),q=l==="table"&&!p?o.firstChild&&o.firstChild.childNodes:m[1]==="<table>"&&!p?o.childNodes:[];for(i=q.length-1;i>=0;--i)f.nodeName(q[i],"tbody")&&!q[i].childNodes.length&&q[i].parentNode.removeChild(q[i])}!f.support.leadingWhitespace&&X.test(k)&&o.insertBefore(b.createTextNode(X.exec(k)[0]),o.firstChild),k=o.childNodes}var r;if(!f.support.appendChecked)if(k[0]&&typeof(r=k.length)=="number")for(i=0;i<r;i++)bn(k[i]);else bn(k);k.nodeType?h.push(k):h=f.merge(h,k)}if(d){g=function(a){return!a.type||be.test(a.type)};for(j=0;h[j];j++)if(e&&f.nodeName(h[j],"script")&&(!h[j].type||h[j].type.toLowerCase()==="text/javascript"))e.push(h[j].parentNode?h[j].parentNode.removeChild(h[j]):h[j]);else{if(h[j].nodeType===1){var s=f.grep(h[j].getElementsByTagName("script"),g);h.splice.apply(h,[j+1,0].concat(s))}d.appendChild(h[j])}}return h},cleanData:function(a){var b,c,d=f.cache,e=f.event.special,g=f.support.deleteExpando;for(var h=0,i;(i=a[h])!=null;h++){if(i.nodeName&&f.noData[i.nodeName.toLowerCase()])continue;c=i[f.expando];if(c){b=d[c];if(b&&b.events){for(var j in b.events)e[j]?f.event.remove(i,j):f.removeEvent(i,j,b.handle);b.handle&&(b.handle.elem=null)}g?delete i[f.expando]:i.removeAttribute&&i.removeAttribute(f.expando),delete d[c]}}}});var bq=/alpha\([^)]*\)/i,br=/opacity=([^)]*)/,bs=/([A-Z]|^ms)/g,bt=/^-?\d+(?:px)?$/i,bu=/^-?\d/,bv=/^([\-+])=([\-+.\de]+)/,bw={position:"absolute",visibility:"hidden",display:"block"},bx=["Left","Right"],by=["Top","Bottom"],bz,bA,bB;f.fn.css=function(a,c){if(arguments.length===2&&c===b)return this;return f.access(this,a,c,!0,function(a,c,d){return d!==b?f.style(a,c,d):f.css(a,c)})},f.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=bz(a,"opacity","opacity");return c===""?"1":c}return a.style.opacity}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":f.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,c,d,e){if(!!a&&a.nodeType!==3&&a.nodeType!==8&&!!a.style){var g,h,i=f.camelCase(c),j=a.style,k=f.cssHooks[i];c=f.cssProps[i]||i;if(d===b){if(k&&"get"in k&&(g=k.get(a,!1,e))!==b)return g;return j[c]}h=typeof d,h==="string"&&(g=bv.exec(d))&&(d=+(g[1]+1)*+g[2]+parseFloat(f.css(a,c)),h="number");if(d==null||h==="number"&&isNaN(d))return;h==="number"&&!f.cssNumber[i]&&(d+="px");if(!k||!("set"in k)||(d=k.set(a,d))!==b)try{j[c]=d}catch(l){}}},css:function(a,c,d){var e,g;c=f.camelCase(c),g=f.cssHooks[c],c=f.cssProps[c]||c,c==="cssFloat"&&(c="float");if(g&&"get"in g&&(e=g.get(a,!0,d))!==b)return e;if(bz)return bz(a,c)},swap:function(a,b,c){var d={};for(var e in b)d[e]=a.style[e],a.style[e]=b[e];c.call(a);for(e in b)a.style[e]=d[e]}}),f.curCSS=f.css,f.each(["height","width"],function(a,b){f.cssHooks[b]={get:function(a,c,d){var e;if(c){if(a.offsetWidth!==0)return bC(a,b,d);f.swap(a,bw,function(){e=bC(a,b,d)});return e}},set:function(a,b){if(!bt.test(b))return b;b=parseFloat(b);if(b>=0)return b+"px"}}}),f.support.opacity||(f.cssHooks.opacity={get:function(a,b){return br.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/100+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=f.isNumeric(b)?"alpha(opacity="+b*100+")":"",g=d&&d.filter||c.filter||"";c.zoom=1;if(b>=1&&f.trim(g.replace(bq,""))===""){c.removeAttribute("filter");if(d&&!d.filter)return}c.filter=bq.test(g)?g.replace(bq,e):g+" "+e}}),f(function(){f.support.reliableMarginRight||(f.cssHooks.marginRight={get:function(a,b){var c;f.swap(a,{display:"inline-block"},function(){b?c=bz(a,"margin-right","marginRight"):c=a.style.marginRight});return c}})}),c.defaultView&&c.defaultView.getComputedStyle&&(bA=function(a,b){var c,d,e;b=b.replace(bs,"-$1").toLowerCase(),(d=a.ownerDocument.defaultView)&&(e=d.getComputedStyle(a,null))&&(c=e.getPropertyValue(b),c===""&&!f.contains(a.ownerDocument.documentElement,a)&&(c=f.style(a,b)));return c}),c.documentElement.currentStyle&&(bB=function(a,b){var c,d,e,f=a.currentStyle&&a.currentStyle[b],g=a.style;f===null&&g&&(e=g[b])&&(f=e),!bt.test(f)&&bu.test(f)&&(c=g.left,d=a.runtimeStyle&&a.runtimeStyle.left,d&&(a.runtimeStyle.left=a.currentStyle.left),g.left=b==="fontSize"?"1em":f||0,f=g.pixelLeft+"px",g.left=c,d&&(a.runtimeStyle.left=d));return f===""?"auto":f}),bz=bA||bB,f.expr&&f.expr.filters&&(f.expr.filters.hidden=function(a){var b=a.offsetWidth,c=a.offsetHeight;return b===0&&c===0||!f.support.reliableHiddenOffsets&&(a.style&&a.style.display||f.css(a,"display"))==="none"},f.expr.filters.visible=function(a){return!f.expr.filters.hidden(a)});var bD=/%20/g,bE=/\[\]$/,bF=/\r?\n/g,bG=/#.*$/,bH=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,bI=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,bJ=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,bK=/^(?:GET|HEAD)$/,bL=/^\/\//,bM=/\?/,bN=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,bO=/^(?:select|textarea)/i,bP=/\s+/,bQ=/([?&])_=[^&]*/,bR=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,bS=f.fn.load,bT={},bU={},bV,bW,bX=["*/"]+["*"];try{bV=e.href}catch(bY){bV=c.createElement("a"),bV.href="",bV=bV.href}bW=bR.exec(bV.toLowerCase())||[],f.fn.extend({load:function(a,c,d){if(typeof a!="string"&&bS)return bS.apply(this,arguments);if(!this.length)return this;var e=a.indexOf(" ");if(e>=0){var g=a.slice(e,a.length);a=a.slice(0,e)}var h="GET";c&&(f.isFunction(c)?(d=c,c=b):typeof c=="object"&&(c=f.param(c,f.ajaxSettings.traditional),h="POST"));var i=this;f.ajax({url:a,type:h,dataType:"html",data:c,complete:function(a,b,c){c=a.responseText,a.isResolved()&&(a.done(function(a){c=a}),i.html(g?f("<div>").append(c.replace(bN,"")).find(g):c)),d&&i.each(d,[c,b,a])}});return this},serialize:function(){return f.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?f.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||bO.test(this.nodeName)||bI.test(this.type))}).map(function(a,b){var c=f(this).val();return c==null?null:f.isArray(c)?f.map(c,function(a,c){return{name:b.name,value:a.replace(bF,"\r\n")}}):{name:b.name,value:c.replace(bF,"\r\n")}}).get()}}),f.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){f.fn[b]=function(a){return this.on(b,a)}}),f.each(["get","post"],function(a,c){f[c]=function(a,d,e,g){f.isFunction(d)&&(g=g||e,e=d,d=b);return f.ajax({type:c,url:a,data:d,success:e,dataType:g})}}),f.extend({getScript:function(a,c){return f.get(a,b,c,"script")},getJSON:function(a,b,c){return f.get(a,b,c,"json")},ajaxSetup:function(a,b){b?b_(a,f.ajaxSettings):(b=a,a=f.ajaxSettings),b_(a,b);return a},ajaxSettings:{url:bV,isLocal:bJ.test(bW[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":bX},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a.String,"text html":!0,"text json":f.parseJSON,"text xml":f.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:bZ(bT),ajaxTransport:bZ(bU),ajax:function(a,c){function w(a,c,l,m){if(s!==2){s=2,q&&clearTimeout(q),p=b,n=m||"",v.readyState=a>0?4:0;var o,r,u,w=c,x=l?cb(d,v,l):b,y,z;if(a>=200&&a<300||a===304){if(d.ifModified){if(y=v.getResponseHeader("Last-Modified"))f.lastModified[k]=y;if(z=v.getResponseHeader("Etag"))f.etag[k]=z}if(a===304)w="notmodified",o=!0;else try{r=cc(d,x),w="success",o=!0}catch(A){w="parsererror",u=A}}else{u=w;if(!w||a)w="error",a<0&&(a=0)}v.status=a,v.statusText=""+(c||w),o?h.resolveWith(e,[r,w,v]):h.rejectWith(e,[v,w,u]),v.statusCode(j),j=b,t&&g.trigger("ajax"+(o?"Success":"Error"),[v,d,o?r:u]),i.fireWith(e,[v,w]),t&&(g.trigger("ajaxComplete",[v,d]),--f.active||f.event.trigger("ajaxStop"))}}typeof a=="object"&&(c=a,a=b),c=c||{};var d=f.ajaxSetup({},c),e=d.context||d,g=e!==d&&(e.nodeType||e instanceof f)?f(e):f.event,h=f.Deferred(),i=f.Callbacks("once memory"),j=d.statusCode||{},k,l={},m={},n,o,p,q,r,s=0,t,u,v={readyState:0,setRequestHeader:function(a,b){if(!s){var c=a.toLowerCase();a=m[c]=m[c]||a,l[a]=b}return this},getAllResponseHeaders:function(){return s===2?n:null},getResponseHeader:function(a){var c;if(s===2){if(!o){o={};while(c=bH.exec(n))o[c[1].toLowerCase()]=c[2]}c=o[a.toLowerCase()]}return c===b?null:c},overrideMimeType:function(a){s||(d.mimeType=a);return this},abort:function(a){a=a||"abort",p&&p.abort(a),w(0,a);return this}};h.promise(v),v.success=v.done,v.error=v.fail,v.complete=i.add,v.statusCode=function(a){if(a){var b;if(s<2)for(b in a)j[b]=[j[b],a[b]];else b=a[v.status],v.then(b,b)}return this},d.url=((a||d.url)+"").replace(bG,"").replace(bL,bW[1]+"//"),d.dataTypes=f.trim(d.dataType||"*").toLowerCase().split(bP),d.crossDomain==null&&(r=bR.exec(d.url.toLowerCase()),d.crossDomain=!(!r||r[1]==bW[1]&&r[2]==bW[2]&&(r[3]||(r[1]==="http:"?80:443))==(bW[3]||(bW[1]==="http:"?80:443)))),d.data&&d.processData&&typeof d.data!="string"&&(d.data=f.param(d.data,d.traditional)),b$(bT,d,c,v);if(s===2)return!1;t=d.global,d.type=d.type.toUpperCase(),d.hasContent=!bK.test(d.type),t&&f.active++===0&&f.event.trigger("ajaxStart");if(!d.hasContent){d.data&&(d.url+=(bM.test(d.url)?"&":"?")+d.data,delete d.data),k=d.url;if(d.cache===!1){var x=f.now(),y=d.url.replace(bQ,"$1_="+x);d.url=y+(y===d.url?(bM.test(d.url)?"&":"?")+"_="+x:"")}}(d.data&&d.hasContent&&d.contentType!==!1||c.contentType)&&v.setRequestHeader("Content-Type",d.contentType),d.ifModified&&(k=k||d.url,f.lastModified[k]&&v.setRequestHeader("If-Modified-Since",f.lastModified[k]),f.etag[k]&&v.setRequestHeader("If-None-Match",f.etag[k])),v.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+(d.dataTypes[0]!=="*"?", "+bX+"; q=0.01":""):d.accepts["*"]);for(u in d.headers)v.setRequestHeader(u,d.headers[u]);if(d.beforeSend&&(d.beforeSend.call(e,v,d)===!1||s===2)){v.abort();return!1}for(u in{success:1,error:1,complete:1})v[u](d[u]);p=b$(bU,d,c,v);if(!p)w(-1,"No Transport");else{v.readyState=1,t&&g.trigger("ajaxSend",[v,d]),d.async&&d.timeout>0&&(q=setTimeout(function(){v.abort("timeout")},d.timeout));try{s=1,p.send(l,w)}catch(z){if(s<2)w(-1,z);else throw z}}return v},param:function(a,c){var d=[],e=function(a,b){b=f.isFunction(b)?b():b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};c===b&&(c=f.ajaxSettings.traditional);if(f.isArray(a)||a.jquery&&!f.isPlainObject(a))f.each(a,function(){e(this.name,this.value)});else for(var g in a)ca(g,a[g],c,e);return d.join("&").replace(bD,"+")}}),f.extend({active:0,lastModified:{},etag:{}});var cd=f.now(),ce=/(\=)\?(&|$)|\?\?/i;f.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return f.expando+"_"+cd++}}),f.ajaxPrefilter("json jsonp",function(b,c,d){var e=b.contentType==="application/x-www-form-urlencoded"&&typeof b.data=="string";if(b.dataTypes[0]==="jsonp"||b.jsonp!==!1&&(ce.test(b.url)||e&&ce.test(b.data))){var g,h=b.jsonpCallback=f.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,i=a[h],j=b.url,k=b.data,l="$1"+h+"$2";b.jsonp!==!1&&(j=j.replace(ce,l),b.url===j&&(e&&(k=k.replace(ce,l)),b.data===k&&(j+=(/\?/.test(j)?"&":"?")+b.jsonp+"="+h))),b.url=j,b.data=k,a[h]=function(a){g=[a]},d.always(function(){a[h]=i,g&&f.isFunction(i)&&a[h](g[0])}),b.converters["script json"]=function(){g||f.error(h+" was not called");return g[0]},b.dataTypes[0]="json";return"script"}}),f.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){f.globalEval(a);return a}}}),f.ajaxPrefilter("script",function(a){a.cache===b&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),f.ajaxTransport("script",function(a){if(a.crossDomain){var d,e=c.head||c.getElementsByTagName("head")[0]||c.documentElement;return{send:function(f,g){d=c.createElement("script"),d.async="async",a.scriptCharset&&(d.charset=a.scriptCharset),d.src=a.url,d.onload=d.onreadystatechange=function(a,c){if(c||!d.readyState||/loaded|complete/.test(d.readyState))d.onload=d.onreadystatechange=null,e&&d.parentNode&&e.removeChild(d),d=b,c||g(200,"success")},e.insertBefore(d,e.firstChild)},abort:function(){d&&d.onload(0,1)}}}});var cf=a.ActiveXObject?function(){for(var a in ch)ch[a](0,1)}:!1,cg=0,ch;f.ajaxSettings.xhr=a.ActiveXObject?function(){return!this.isLocal&&ci()||cj()}:ci,function(a){f.extend(f.support,{ajax:!!a,cors:!!a&&"withCredentials"in a})}(f.ajaxSettings.xhr()),f.support.ajax&&f.ajaxTransport(function(c){if(!c.crossDomain||f.support.cors){var d;return{send:function(e,g){var h=c.xhr(),i,j;c.username?h.open(c.type,c.url,c.async,c.username,c.password):h.open(c.type,c.url,c.async);if(c.xhrFields)for(j in c.xhrFields)h[j]=c.xhrFields[j];c.mimeType&&h.overrideMimeType&&h.overrideMimeType(c.mimeType),!c.crossDomain&&!e["X-Requested-With"]&&(e["X-Requested-With"]="XMLHttpRequest");try{for(j in e)h.setRequestHeader(j,e[j])}catch(k){}h.send(c.hasContent&&c.data||null),d=function(a,e){var j,k,l,m,n;try{if(d&&(e||h.readyState===4)){d=b,i&&(h.onreadystatechange=f.noop,cf&&delete ch[i]);if(e)h.readyState!==4&&h.abort();else{j=h.status,l=h.getAllResponseHeaders(),m={},n=h.responseXML,n&&n.documentElement&&(m.xml=n),m.text=h.responseText;try{k=h.statusText}catch(o){k=""}!j&&c.isLocal&&!c.crossDomain?j=m.text?200:404:j===1223&&(j=204)}}}catch(p){e||g(-1,p)}m&&g(j,k,m,l)},!c.async||h.readyState===4?d():(i=++cg,cf&&(ch||(ch={},f(a).unload(cf)),ch[i]=d),h.onreadystatechange=d)},abort:function(){d&&d(0,1)}}}});var ck={},cl,cm,cn=/^(?:toggle|show|hide)$/,co=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,cp,cq=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]],cr;f.fn.extend({show:function(a,b,c){var d,e;if(a||a===0)return this.animate(cu("show",3),a,b,c);for(var g=0,h=this.length;g<h;g++)d=this[g],d.style&&(e=d.style.display,!f._data(d,"olddisplay")&&e==="none"&&(e=d.style.display=""),e===""&&f.css(d,"display")==="none"&&f._data(d,"olddisplay",cv(d.nodeName)));for(g=0;g<h;g++){d=this[g];if(d.style){e=d.style.display;if(e===""||e==="none")d.style.display=f._data(d,"olddisplay")||""}}return this},hide:function(a,b,c){if(a||a===0)return this.animate(cu("hide",3),a,b,c);var d,e,g=0,h=this.length;for(;g<h;g++)d=this[g],d.style&&(e=f.css(d,"display"),e!=="none"&&!f._data(d,"olddisplay")&&f._data(d,"olddisplay",e));for(g=0;g<h;g++)this[g].style&&(this[g].style.display="none");return this},_toggle:f.fn.toggle,toggle:function(a,b,c){var d=typeof a=="boolean";f.isFunction(a)&&f.isFunction(b)?this._toggle.apply(this,arguments):a==null||d?this.each(function(){var b=d?a:f(this).is(":hidden");f(this)[b?"show":"hide"]()}):this.animate(cu("toggle",3),a,b,c);return this},fadeTo:function(a,b,c,d){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){function g(){e.queue===!1&&f._mark(this);var b=f.extend({},e),c=this.nodeType===1,d=c&&f(this).is(":hidden"),g,h,i,j,k,l,m,n,o;b.animatedProperties={};for(i in a){g=f.camelCase(i),i!==g&&(a[g]=a[i],delete a[i]),h=a[g],f.isArray(h)?(b.animatedProperties[g]=h[1],h=a[g]=h[0]):b.animatedProperties[g]=b.specialEasing&&b.specialEasing[g]||b.easing||"swing";if(h==="hide"&&d||h==="show"&&!d)return b.complete.call(this);c&&(g==="height"||g==="width")&&(b.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],f.css(this,"display")==="inline"&&f.css(this,"float")==="none"&&(!f.support.inlineBlockNeedsLayout||cv(this.nodeName)==="inline"?this.style.display="inline-block":this.style.zoom=1))}b.overflow!=null&&(this.style.overflow="hidden");for(i in a)j=new f.fx(this,b,i),h=a[i],cn.test(h)?(o=f._data(this,"toggle"+i)||(h==="toggle"?d?"show":"hide":0),o?(f._data(this,"toggle"+i,o==="show"?"hide":"show"),j[o]()):j[h]()):(k=co.exec(h),l=j.cur(),k?(m=parseFloat(k[2]),n=k[3]||(f.cssNumber[i]?"":"px"),n!=="px"&&(f.style(this,i,(m||1)+n),l=(m||1)/j.cur()*l,f.style(this,i,l+n)),k[1]&&(m=(k[1]==="-="?-1:1)*m+l),j.custom(l,m,n)):j.custom(l,h,""));return!0}var e=f.speed(b,c,d);if(f.isEmptyObject(a))return this.each(e.complete,[!1]);a=f.extend({},a);return e.queue===!1?this.each(g):this.queue(e.queue,g)},stop:function(a,c,d){typeof a!="string"&&(d=c,c=a,a=b),c&&a!==!1&&this.queue(a||"fx",[]);return this.each(function(){function h(a,b,c){var e=b[c];f.removeData(a,c,!0),e.stop(d)}var b,c=!1,e=f.timers,g=f._data(this);d||f._unmark(!0,this);if(a==null)for(b in g)g[b]&&g[b].stop&&b.indexOf(".run")===b.length-4&&h(this,g,b);else g[b=a+".run"]&&g[b].stop&&h(this,g,b);for(b=e.length;b--;)e[b].elem===this&&(a==null||e[b].queue===a)&&(d?e[b](!0):e[b].saveState(),c=!0,e.splice(b,1));(!d||!c)&&f.dequeue(this,a)})}}),f.each({slideDown:cu("show",1),slideUp:cu("hide",1),slideToggle:cu("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){f.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),f.extend({speed:function(a,b,c){var d=a&&typeof a=="object"?f.extend({},a):{complete:c||!c&&b||f.isFunction(a)&&a,duration:a,easing:c&&b||b&&!f.isFunction(b)&&b};d.duration=f.fx.off?0:typeof d.duration=="number"?d.duration:d.duration in f.fx.speeds?f.fx.speeds[d.duration]:f.fx.speeds._default;if(d.queue==null||d.queue===!0)d.queue="fx";d.old=d.complete,d.complete=function(a){f.isFunction(d.old)&&d.old.call(this),d.queue?f.dequeue(this,d.queue):a!==!1&&f._unmark(this)};return d},easing:{linear:function(a,b,c,d){return c+d*a},swing:function(a,b,c,d){return(-Math.cos(a*Math.PI)/2+.5)*d+c}},timers:[],fx:function(a,b,c){this.options=b,this.elem=a,this.prop=c,b.orig=b.orig||{}}}),f.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this),(f.fx.step[this.prop]||f.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null))return this.elem[this.prop];var a,b=f.css(this.elem,this.prop);return isNaN(a=parseFloat(b))?!b||b==="auto"?0:b:a},custom:function(a,c,d){function h(a){return e.step(a)}var e=this,g=f.fx;this.startTime=cr||cs(),this.end=c,this.now=this.start=a,this.pos=this.state=0,this.unit=d||this.unit||(f.cssNumber[this.prop]?"":"px"),h.queue=this.options.queue,h.elem=this.elem,h.saveState=function(){e.options.hide&&f._data(e.elem,"fxshow"+e.prop)===b&&f._data(e.elem,"fxshow"+e.prop,e.start)},h()&&f.timers.push(h)&&!cp&&(cp=setInterval(g.tick,g.interval))},show:function(){var a=f._data(this.elem,"fxshow"+this.prop);this.options.orig[this.prop]=a||f.style(this.elem,this.prop),this.options.show=!0,a!==b?this.custom(this.cur(),a):this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur()),f(this.elem).show()},hide:function(){this.options.orig[this.prop]=f._data(this.elem,"fxshow"+this.prop)||f.style(this.elem,this.prop),this.options.hide=!0,this.custom(this.cur(),0)},step:function(a){var b,c,d,e=cr||cs(),g=!0,h=this.elem,i=this.options;if(a||e>=i.duration+this.startTime){this.now=this.end,this.pos=this.state=1,this.update(),i.animatedProperties[this.prop]=!0;for(b in i.animatedProperties)i.animatedProperties[b]!==!0&&(g=!1);if(g){i.overflow!=null&&!f.support.shrinkWrapBlocks&&f.each(["","X","Y"],function(a,b){h.style["overflow"+b]=i.overflow[a]}),i.hide&&f(h).hide();if(i.hide||i.show)for(b in i.animatedProperties)f.style(h,b,i.orig[b]),f.removeData(h,"fxshow"+b,!0),f.removeData(h,"toggle"+b,!0);d=i.complete,d&&(i.complete=!1,d.call(h))}return!1}i.duration==Infinity?this.now=e:(c=e-this.startTime,this.state=c/i.duration,this.pos=f.easing[i.animatedProperties[this.prop]](this.state,c,0,1,i.duration),this.now=this.start+(this.end-this.start)*this.pos),this.update();return!0}},f.extend(f.fx,{tick:function(){var a,b=f.timers,c=0;for(;c<b.length;c++)a=b[c],!a()&&b[c]===a&&b.splice(c--,1);b.length||f.fx.stop()},interval:13,stop:function(){clearInterval(cp),cp=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(a){f.style(a.elem,"opacity",a.now)},_default:function(a){a.elem.style&&a.elem.style[a.prop]!=null?a.elem.style[a.prop]=a.now+a.unit:a.elem[a.prop]=a.now}}}),f.each(["width","height"],function(a,b){f.fx.step[b]=function(a){f.style(a.elem,b,Math.max(0,a.now)+a.unit)}}),f.expr&&f.expr.filters&&(f.expr.filters.animated=function(a){return f.grep(f.timers,function(b){return a===b.elem}).length});var cw=/^t(?:able|d|h)$/i,cx=/^(?:body|html)$/i;"getBoundingClientRect"in c.documentElement?f.fn.offset=function(a){var b=this[0],c;if(a)return this.each(function(b){f.offset.setOffset(this,a,b)});if(!b||!b.ownerDocument)return null;if(b===b.ownerDocument.body)return f.offset.bodyOffset(b);try{c=b.getBoundingClientRect()}catch(d){}var e=b.ownerDocument,g=e.documentElement;if(!c||!f.contains(g,b))return c?{top:c.top,left:c.left}:{top:0,left:0};var h=e.body,i=cy(e),j=g.clientTop||h.clientTop||0,k=g.clientLeft||h.clientLeft||0,l=i.pageYOffset||f.support.boxModel&&g.scrollTop||h.scrollTop,m=i.pageXOffset||f.support.boxModel&&g.scrollLeft||h.scrollLeft,n=c.top+l-j,o=c.left+m-k;return{top:n,left:o}}:f.fn.offset=function(a){var b=this[0];if(a)return this.each(function(b){f.offset.setOffset(this,a,b)});if(!b||!b.ownerDocument)return null;if(b===b.ownerDocument.body)return f.offset.bodyOffset(b);var c,d=b.offsetParent,e=b,g=b.ownerDocument,h=g.documentElement,i=g.body,j=g.defaultView,k=j?j.getComputedStyle(b,null):b.currentStyle,l=b.offsetTop,m=b.offsetLeft;while((b=b.parentNode)&&b!==i&&b!==h){if(f.support.fixedPosition&&k.position==="fixed")break;c=j?j.getComputedStyle(b,null):b.currentStyle,l-=b.scrollTop,m-=b.scrollLeft,b===d&&(l+=b.offsetTop,m+=b.offsetLeft,f.support.doesNotAddBorder&&(!f.support.doesAddBorderForTableAndCells||!cw.test(b.nodeName))&&(l+=parseFloat(c.borderTopWidth)||0,m+=parseFloat(c.borderLeftWidth)||0),e=d,d=b.offsetParent),f.support.subtractsBorderForOverflowNotVisible&&c.overflow!=="visible"&&(l+=parseFloat(c.borderTopWidth)||0,m+=parseFloat(c.borderLeftWidth)||0),k=c}if(k.position==="relative"||k.position==="static")l+=i.offsetTop,m+=i.offsetLeft;f.support.fixedPosition&&k.position==="fixed"&&(l+=Math.max(h.scrollTop,i.scrollTop),m+=Math.max(h.scrollLeft,i.scrollLeft));return{top:l,left:m}},f.offset={bodyOffset:function(a){var b=a.offsetTop,c=a.offsetLeft;f.support.doesNotIncludeMarginInBodyOffset&&(b+=parseFloat(f.css(a,"marginTop"))||0,c+=parseFloat(f.css(a,"marginLeft"))||0);return{top:b,left:c}},setOffset:function(a,b,c){var d=f.css(a,"position");d==="static"&&(a.style.position="relative");var e=f(a),g=e.offset(),h=f.css(a,"top"),i=f.css(a,"left"),j=(d==="absolute"||d==="fixed")&&f.inArray("auto",[h,i])>-1,k={},l={},m,n;j?(l=e.position(),m=l.top,n=l.left):(m=parseFloat(h)||0,n=parseFloat(i)||0),f.isFunction(b)&&(b=b.call(a,c,g)),b.top!=null&&(k.top=b.top-g.top+m),b.left!=null&&(k.left=b.left-g.left+n),"using"in b?b.using.call(a,k):e.css(k)}},f.fn.extend({position:function(){if(!this[0])return null;var a=this[0],b=this.offsetParent(),c=this.offset(),d=cx.test(b[0].nodeName)?{top:0,left:0}:b.offset();c.top-=parseFloat(f.css(a,"marginTop"))||0,c.left-=parseFloat(f.css(a,"marginLeft"))||0,d.top+=parseFloat(f.css(b[0],"borderTopWidth"))||0,d.left+=parseFloat(f.css(b[0],"borderLeftWidth"))||0;return{top:c.top-d.top,left:c.left-d.left}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||c.body;while(a&&!cx.test(a.nodeName)&&f.css(a,"position")==="static")a=a.offsetParent;return a})}}),f.each(["Left","Top"],function(a,c){var d="scroll"+c;f.fn[d]=function(c){var e,g;if(c===b){e=this[0];if(!e)return null;g=cy(e);return g?"pageXOffset"in g?g[a?"pageYOffset":"pageXOffset"]:f.support.boxModel&&g.document.documentElement[d]||g.document.body[d]:e[d]}return this.each(function(){g=cy(this),g?g.scrollTo(a?f(g).scrollLeft():c,a?c:f(g).scrollTop()):this[d]=c})}}),f.each(["Height","Width"],function(a,c){var d=c.toLowerCase();f.fn["inner"+c]=function(){var a=this[0];return a?a.style?parseFloat(f.css(a,d,"padding")):this[d]():null},f.fn["outer"+c]=function(a){var b=this[0];return b?b.style?parseFloat(f.css(b,d,a?"margin":"border")):this[d]():null},f.fn[d]=function(a){var e=this[0];if(!e)return a==null?null:this;if(f.isFunction(a))return this.each(function(b){var c=f(this);c[d](a.call(this,b,c[d]()))});if(f.isWindow(e)){var g=e.document.documentElement["client"+c],h=e.document.body;return e.document.compatMode==="CSS1Compat"&&g||h&&h["client"+c]||g}if(e.nodeType===9)return Math.max(e.documentElement["client"+c],e.body["scroll"+c],e.documentElement["scroll"+c],e.body["offset"+c],e.documentElement["offset"+c]);if(a===b){var i=f.css(e,d),j=parseFloat(i);return f.isNumeric(j)?j:i}return this.css(d,typeof a=="string"?a:a+"px")}}),a.jQuery=a.$=f,typeof define=="function"&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return f})})(window);(function($)
{if($.fn.dotdotdot)
{return;}
$.fn.dotdotdot=function(o)
{if(this.length==0)
{debug(true,'No element found for "'+this.selector+'".');return this;}
if(this.length>1)
{return this.each(function()
{$(this).dotdotdot(o);});}
var $dot=this;if($dot.data('dotdotdot'))
{$dot.trigger('destroy.dot');}
$dot.bind_events=function()
{$dot.bind('update.dot',function(e,c)
{e.preventDefault();e.stopPropagation();opts.maxHeight=(typeof opts.height=='number')?opts.height:getTrueInnerHeight($dot);opts.maxHeight+=opts.tolerance;if(typeof c!='undefined')
{if(typeof c=='string'||c instanceof HTMLElement)
{c=$('<div />').append(c).contents();}
if(c instanceof $)
{orgContent=c;}}
$inr=$dot.wrapInner('<div class="dotdotdot" />').children();$inr.empty().append(orgContent.clone(true)).css({'height':'auto','width':'auto','border':'none','padding':0,'margin':0});var after=false,trunc=false;if(conf.afterElement)
{after=conf.afterElement.clone(true);conf.afterElement.remove();}
if(test($inr,opts))
{if(opts.wrap=='children')
{trunc=children($inr,opts,after);}
else
{trunc=ellipsis($inr,$dot,$inr,opts,after);}}
$inr.replaceWith($inr.contents());$inr=null;if($.isFunction(opts.callback))
{opts.callback.call($dot[0],trunc,orgContent);}
conf.isTruncated=trunc;return trunc;}).bind('isTruncated.dot',function(e,fn)
{e.preventDefault();e.stopPropagation();if(typeof fn=='function')
{fn.call($dot[0],conf.isTruncated);}
return conf.isTruncated;}).bind('originalContent.dot',function(e,fn)
{e.preventDefault();e.stopPropagation();if(typeof fn=='function')
{fn.call($dot[0],orgContent);}
return orgContent;}).bind('destroy.dot',function(e)
{e.preventDefault();e.stopPropagation();$dot.unwatch().unbind_events().empty().append(orgContent).data('dotdotdot',false);});return $dot;};$dot.unbind_events=function()
{$dot.unbind('.dot');return $dot;};$dot.watch=function()
{$dot.unwatch();if(opts.watch=='window')
{var $window=$(window),_wWidth=$window.width(),_wHeight=$window.height();$window.bind('resize.dot'+conf.dotId,function()
{if(_wWidth!=$window.width()||_wHeight!=$window.height()||!opts.windowResizeFix)
{_wWidth=$window.width();_wHeight=$window.height();if(watchInt)
{clearInterval(watchInt);}
watchInt=setTimeout(function()
{$dot.trigger('update.dot');},10);}});}
else
{watchOrg=getSizes($dot);watchInt=setInterval(function()
{var watchNew=getSizes($dot);if(watchOrg.width!=watchNew.width||watchOrg.height!=watchNew.height)
{$dot.trigger('update.dot');watchOrg=getSizes($dot);}},100);}
return $dot;};$dot.unwatch=function()
{$(window).unbind('resize.dot'+conf.dotId);if(watchInt)
{clearInterval(watchInt);}
return $dot;};var orgContent=$dot.contents(),opts=$.extend(true,{},$.fn.dotdotdot.defaults,o),conf={},watchOrg={},watchInt=null,$inr=null;conf.afterElement=getElement(opts.after,$dot);conf.isTruncated=false;conf.dotId=dotId++;$dot.data('dotdotdot',true).bind_events().trigger('update.dot');if(opts.watch)
{$dot.watch();}
return $dot;};$.fn.dotdotdot.defaults={'ellipsis':'... ','wrap':'word','lastCharacter':{'remove':[' ',',',';','.','!','?'],'noEllipsis':[]},'tolerance':0,'callback':null,'after':null,'height':null,'watch':false,'windowResizeFix':true,'debug':false};var dotId=1;function children($elem,o,after)
{var $elements=$elem.children(),isTruncated=false;$elem.empty();for(var a=0,l=$elements.length;a<l;a++)
{var $e=$elements.eq(a);$elem.append($e);if(after)
{$elem.append(after);}
if(test($elem,o))
{$e.remove();isTruncated=true;break;}
else
{if(after)
{after.remove();}}}
return isTruncated;}
function ellipsis($elem,$d,$i,o,after)
{var $elements=$elem.contents(),isTruncated=false;$elem.empty();var notx='table, thead, tbody, tfoot, tr, col, colgroup, object, embed, param, ol, ul, dl, select, optgroup, option, textarea, script, style';for(var a=0,l=$elements.length;a<l;a++)
{if(isTruncated)
{break;}
var e=$elements[a],$e=$(e);if(typeof e=='undefined')
{continue;}
$elem.append($e);if(after)
{var func=($elem.is(notx))?'after':'append';$elem[func](after);}
if(e.nodeType==3)
{if(test($i,o))
{isTruncated=ellipsisElement($e,$d,$i,o,after);}}
else
{isTruncated=ellipsis($e,$d,$i,o,after);}
if(!isTruncated)
{if(after)
{after.remove();}}}
return isTruncated;}
function ellipsisElement($e,$d,$i,o,after)
{var isTruncated=false,e=$e[0];if(typeof e=='undefined')
{return false;}
var seporator=(o.wrap=='letter')?'':' ',textArr=getTextContent(e).split(seporator),position=-1,midPos=-1,startPos=0,endPos=textArr.length-1;while(startPos<=endPos)
{var m=Math.floor((startPos+endPos)/2);if(m==midPos)
{break;}
midPos=m;setTextContent(e,textArr.slice(0,midPos+1).join(seporator)+o.ellipsis);if(!test($i,o))
{position=midPos;startPos=midPos;}
else
{endPos=midPos;}}
if(position!=-1)
{var txt=textArr.slice(0,position+1).join(seporator);isTruncated=true;while($.inArray(txt.slice(-1),o.lastCharacter.remove)>-1)
{txt=txt.slice(0,-1);}
if($.inArray(txt.slice(-1),o.lastCharacter.noEllipsis)<0)
{txt+=o.ellipsis;}
setTextContent(e,txt);}
else
{var $w=$e.parent();$e.remove();$n=$w.contents().eq(-1);isTruncated=ellipsisElement($n,$d,$i,o,after);}
return isTruncated;}
function test($i,o)
{return $i.innerHeight()>o.maxHeight;}
function getSizes($d)
{return{'width':$d.innerWidth(),'height':$d.innerHeight()};}
function setTextContent(e,content)
{if(e.innerText)
{e.innerText=content;}
else if(e.nodeValue)
{e.nodeValue=content;}
else if(e.textContent)
{e.textContent=content;}}
function getTextContent(e)
{if(e.innerText)
{return e.innerText;}
else if(e.nodeValue)
{return e.nodeValue;}
else if(e.textContent)
{return e.textContent;}
else
{return"";}}
function getElement(e,$i)
{if(typeof e=='undefined')
{return false;}
if(!e)
{return false;}
if(typeof e=='string')
{e=$(e,$i);return(e.length)?e:false;}
if(typeof e=='object')
{return(typeof e.jquery=='undefined')?false:e;}
return false;}
function getTrueInnerHeight($el)
{var h=$el.innerHeight(),a=['paddingTop','paddingBottom'];for(z=0,l=a.length;z<l;z++){var m=parseInt($el.css(a[z]),10);if(isNaN(m))
{m=0;}
h-=m;}
return h;}
function debug(d,m)
{if(!d)
{return false;}
if(typeof m=='string')
{m='dotdotdot: '+m;}
else
{m=['dotdotdot:',m];}
if(window.console&&window.console.log)
{window.console.log(m);}
return false;}
var _orgHtml=$.fn.html;$.fn.html=function(str){if(typeof str!='undefined')
{if(this.data('dotdotdot'))
{if(typeof str!='function')
{return this.trigger('update',[str]);}}
return _orgHtml.call(this,str);}
return _orgHtml.call(this);};var _orgText=$.fn.text;$.fn.text=function(str){if(typeof str!='undefined')
{if(this.data('dotdotdot'))
{var temp=$('<div />');temp.text(str);str=temp.html();temp.remove();return this.trigger('update',[str]);}
return _orgText.call(this,str);}
return _orgText.call(this);};})(jQuery);libby.Events=function(){};libby.Events.prototype={addEvent:function(eventId,fn,context,args){if(!this._evts)this._evts={};if(!this._evts[eventId])this._evts[eventId]=[];this._evts[eventId].push({fn:fn,context:context||this,args:args||[]});return this;},fireEvent:function(eventId,args){if(!this._evts)this._evts={};var evts=this._evts[eventId];if(!evts)return;if(!args)args=[];for(var i=0,len=evts.length;i<len;i++){evts[i].fn.apply(evts[i].context,args.concat(evts[i].args));}
return this;},hasEvent:function(eventId){return(this._evts&&this._evts[eventId]&&this._evts[eventId].length);}};libby.Events.prototype.constructor=libby.Events;(function(global){global.libby.EventsArray=function(eventsArray,events){this.events=events;for(var i=0;i<eventsArray.length;i++){this.fireEventData(eventsArray[i]);}};global.libby.EventsArray.prototype={constructor:global.libby.EventsArray,fireEventData:function(eventData){if(eventData.fn){eventData.fn();}else{this.events.trigger(eventData[0],eventData.slice(1,eventData.length));}},push:function(eventData){this.fireEventData(eventData);}};}(window));(function(a,b){function c(b,c){var e=b.nodeName.toLowerCase();if("area"===e){var f=b.parentNode,g=f.name,h;return!b.href||!g||f.nodeName.toLowerCase()!=="map"?!1:(h=a("img[usemap=#"+g+"]")[0],!!h&&d(h))}return(/input|select|textarea|button|object/.test(e)?!b.disabled:"a"==e?b.href||c:c)&&d(b)}function d(b){return!a(b).parents().andSelf().filter(function(){return a.curCSS(this,"visibility")==="hidden"||a.expr.filters.hidden(this)}).length}a.ui=a.ui||{};if(a.ui.version)return;a.extend(a.ui,{version:"1.8.20",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}}),a.fn.extend({propAttr:a.fn.prop||a.fn.attr,_focus:a.fn.focus,focus:function(b,c){return typeof b=="number"?this.each(function(){var d=this;setTimeout(function(){a(d).focus(),c&&c.call(d)},b)}):this._focus.apply(this,arguments)},scrollParent:function(){var b;return a.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?b=this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.curCSS(this,"position",1))&&/(auto|scroll)/.test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0):b=this.parents().filter(function(){return/(auto|scroll)/.test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0),/fixed/.test(this.css("position"))||!b.length?a(document):b},zIndex:function(c){if(c!==b)return this.css("zIndex",c);if(this.length){var d=a(this[0]),e,f;while(d.length&&d[0]!==document){e=d.css("position");if(e==="absolute"||e==="relative"||e==="fixed"){f=parseInt(d.css("zIndex"),10);if(!isNaN(f)&&f!==0)return f}d=d.parent()}}return 0},disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),a.each(["Width","Height"],function(c,d){function h(b,c,d,f){return a.each(e,function(){c-=parseFloat(a.curCSS(b,"padding"+this,!0))||0,d&&(c-=parseFloat(a.curCSS(b,"border"+this+"Width",!0))||0),f&&(c-=parseFloat(a.curCSS(b,"margin"+this,!0))||0)}),c}var e=d==="Width"?["Left","Right"]:["Top","Bottom"],f=d.toLowerCase(),g={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+d]=function(c){return c===b?g["inner"+d].call(this):this.each(function(){a(this).css(f,h(this,c)+"px")})},a.fn["outer"+d]=function(b,c){return typeof b!="number"?g["outer"+d].call(this,b):this.each(function(){a(this).css(f,h(this,b,!0,c)+"px")})}}),a.extend(a.expr[":"],{data:function(b,c,d){return!!a.data(b,d[3])},focusable:function(b){return c(b,!isNaN(a.attr(b,"tabindex")))},tabbable:function(b){var d=a.attr(b,"tabindex"),e=isNaN(d);return(e||d>=0)&&c(b,!e)}}),a(function(){var b=document.body,c=b.appendChild(c=document.createElement("div"));c.offsetHeight,a.extend(c.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),a.support.minHeight=c.offsetHeight===100,a.support.selectstart="onselectstart"in c,b.removeChild(c).style.display="none"}),a.extend(a.ui,{plugin:{add:function(b,c,d){var e=a.ui[b].prototype;for(var f in d)e.plugins[f]=e.plugins[f]||[],e.plugins[f].push([c,d[f]])},call:function(a,b,c){var d=a.plugins[b];if(!d||!a.element[0].parentNode)return;for(var e=0;e<d.length;e++)a.options[d[e][0]]&&d[e][1].apply(a.element,c)}},contains:function(a,b){return document.compareDocumentPosition?a.compareDocumentPosition(b)&16:a!==b&&a.contains(b)},hasScroll:function(b,c){if(a(b).css("overflow")==="hidden")return!1;var d=c&&c==="left"?"scrollLeft":"scrollTop",e=!1;return b[d]>0?!0:(b[d]=1,e=b[d]>0,b[d]=0,e)},isOverAxis:function(a,b,c){return a>b&&a<b+c},isOver:function(b,c,d,e,f,g){return a.ui.isOverAxis(b,d,f)&&a.ui.isOverAxis(c,e,g)}})})(jQuery);;(function(a,b){if(a.cleanData){var c=a.cleanData;a.cleanData=function(b){for(var d=0,e;(e=b[d])!=null;d++)try{a(e).triggerHandler("remove")}catch(f){}c(b)}}else{var d=a.fn.remove;a.fn.remove=function(b,c){return this.each(function(){return c||(!b||a.filter(b,[this]).length)&&a("*",this).add([this]).each(function(){try{a(this).triggerHandler("remove")}catch(b){}}),d.call(a(this),b,c)})}}a.widget=function(b,c,d){var e=b.split(".")[0],f;b=b.split(".")[1],f=e+"-"+b,d||(d=c,c=a.Widget),a.expr[":"][f]=function(c){return!!a.data(c,b)},a[e]=a[e]||{},a[e][b]=function(a,b){arguments.length&&this._createWidget(a,b)};var g=new c;g.options=a.extend(!0,{},g.options),a[e][b].prototype=a.extend(!0,g,{namespace:e,widgetName:b,widgetEventPrefix:a[e][b].prototype.widgetEventPrefix||b,widgetBaseClass:f},d),a.widget.bridge(b,a[e][b])},a.widget.bridge=function(c,d){a.fn[c]=function(e){var f=typeof e=="string",g=Array.prototype.slice.call(arguments,1),h=this;return e=!f&&g.length?a.extend.apply(null,[!0,e].concat(g)):e,f&&e.charAt(0)==="_"?h:(f?this.each(function(){var d=a.data(this,c),f=d&&a.isFunction(d[e])?d[e].apply(d,g):d;if(f!==d&&f!==b)return h=f,!1}):this.each(function(){var b=a.data(this,c);b?b.option(e||{})._init():a.data(this,c,new d(e,this))}),h)}},a.Widget=function(a,b){arguments.length&&this._createWidget(a,b)},a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:!1},_createWidget:function(b,c){a.data(c,this.widgetName,this),this.element=a(c),this.options=a.extend(!0,{},this.options,this._getCreateOptions(),b);var d=this;this.element.bind("remove."+this.widgetName,function(){d.destroy()}),this._create(),this._trigger("create"),this._init()},_getCreateOptions:function(){return a.metadata&&a.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName),this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled "+"ui-state-disabled")},widget:function(){return this.element},option:function(c,d){var e=c;if(arguments.length===0)return a.extend({},this.options);if(typeof c=="string"){if(d===b)return this.options[c];e={},e[c]=d}return this._setOptions(e),this},_setOptions:function(b){var c=this;return a.each(b,function(a,b){c._setOption(a,b)}),this},_setOption:function(a,b){return this.options[a]=b,a==="disabled"&&this.widget()[b?"addClass":"removeClass"](this.widgetBaseClass+"-disabled"+" "+"ui-state-disabled").attr("aria-disabled",b),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_trigger:function(b,c,d){var e,f,g=this.options[b];d=d||{},c=a.Event(c),c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase(),c.target=this.element[0],f=c.originalEvent;if(f)for(e in f)e in c||(c[e]=f[e]);return this.element.trigger(c,d),!(a.isFunction(g)&&g.call(this.element[0],c,d)===!1||c.isDefaultPrevented())}}})(jQuery);;(function(a,b){a.ui=a.ui||{};var c=/left|center|right/,d=/top|center|bottom/,e="center",f={},g=a.fn.position,h=a.fn.offset;a.fn.position=function(b){if(!b||!b.of)return g.apply(this,arguments);b=a.extend({},b);var h=a(b.of),i=h[0],j=(b.collision||"flip").split(" "),k=b.offset?b.offset.split(" "):[0,0],l,m,n;return i.nodeType===9?(l=h.width(),m=h.height(),n={top:0,left:0}):i.setTimeout?(l=h.width(),m=h.height(),n={top:h.scrollTop(),left:h.scrollLeft()}):i.preventDefault?(b.at="left top",l=m=0,n={top:b.of.pageY,left:b.of.pageX}):(l=h.outerWidth(),m=h.outerHeight(),n=h.offset()),a.each(["my","at"],function(){var a=(b[this]||"").split(" ");a.length===1&&(a=c.test(a[0])?a.concat([e]):d.test(a[0])?[e].concat(a):[e,e]),a[0]=c.test(a[0])?a[0]:e,a[1]=d.test(a[1])?a[1]:e,b[this]=a}),j.length===1&&(j[1]=j[0]),k[0]=parseInt(k[0],10)||0,k.length===1&&(k[1]=k[0]),k[1]=parseInt(k[1],10)||0,b.at[0]==="right"?n.left+=l:b.at[0]===e&&(n.left+=l/2),b.at[1]==="bottom"?n.top+=m:b.at[1]===e&&(n.top+=m/2),n.left+=k[0],n.top+=k[1],this.each(function(){var c=a(this),d=c.outerWidth(),g=c.outerHeight(),h=parseInt(a.curCSS(this,"marginLeft",!0))||0,i=parseInt(a.curCSS(this,"marginTop",!0))||0,o=d+h+(parseInt(a.curCSS(this,"marginRight",!0))||0),p=g+i+(parseInt(a.curCSS(this,"marginBottom",!0))||0),q=a.extend({},n),r;b.my[0]==="right"?q.left-=d:b.my[0]===e&&(q.left-=d/2),b.my[1]==="bottom"?q.top-=g:b.my[1]===e&&(q.top-=g/2),f.fractions||(q.left=Math.round(q.left),q.top=Math.round(q.top)),r={left:q.left-h,top:q.top-i},a.each(["left","top"],function(c,e){a.ui.position[j[c]]&&a.ui.position[j[c]][e](q,{targetWidth:l,targetHeight:m,elemWidth:d,elemHeight:g,collisionPosition:r,collisionWidth:o,collisionHeight:p,offset:k,my:b.my,at:b.at})}),a.fn.bgiframe&&c.bgiframe(),c.offset(a.extend(q,{using:b.using}))})},a.ui.position={fit:{left:function(b,c){var d=a(window),e=c.collisionPosition.left+c.collisionWidth-d.width()-d.scrollLeft();b.left=e>0?b.left-e:Math.max(b.left-c.collisionPosition.left,b.left)},top:function(b,c){var d=a(window),e=c.collisionPosition.top+c.collisionHeight-d.height()-d.scrollTop();b.top=e>0?b.top-e:Math.max(b.top-c.collisionPosition.top,b.top)}},flip:{left:function(b,c){if(c.at[0]===e)return;var d=a(window),f=c.collisionPosition.left+c.collisionWidth-d.width()-d.scrollLeft(),g=c.my[0]==="left"?-c.elemWidth:c.my[0]==="right"?c.elemWidth:0,h=c.at[0]==="left"?c.targetWidth:-c.targetWidth,i=-2*c.offset[0];b.left+=c.collisionPosition.left<0?g+h+i:f>0?g+h+i:0},top:function(b,c){if(c.at[1]===e)return;var d=a(window),f=c.collisionPosition.top+c.collisionHeight-d.height()-d.scrollTop(),g=c.my[1]==="top"?-c.elemHeight:c.my[1]==="bottom"?c.elemHeight:0,h=c.at[1]==="top"?c.targetHeight:-c.targetHeight,i=-2*c.offset[1];b.top+=c.collisionPosition.top<0?g+h+i:f>0?g+h+i:0}}},a.offset.setOffset||(a.offset.setOffset=function(b,c){/static/.test(a.curCSS(b,"position"))&&(b.style.position="relative");var d=a(b),e=d.offset(),f=parseInt(a.curCSS(b,"top",!0),10)||0,g=parseInt(a.curCSS(b,"left",!0),10)||0,h={top:c.top-e.top+f,left:c.left-e.left+g};"using"in c?c.using.call(b,h):d.css(h)},a.fn.offset=function(b){var c=this[0];return!c||!c.ownerDocument?null:b?this.each(function(){a.offset.setOffset(this,b)}):h.call(this)}),function(){var b=document.getElementsByTagName("body")[0],c=document.createElement("div"),d,e,g,h,i;d=document.createElement(b?"div":"body"),g={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},b&&a.extend(g,{position:"absolute",left:"-1000px",top:"-1000px"});for(var j in g)d.style[j]=g[j];d.appendChild(c),e=b||document.documentElement,e.insertBefore(d,e.firstChild),c.style.cssText="position: absolute; left: 10.7432222px; top: 10.432325px; height: 30px; width: 201px;",h=a(c).offset(function(a,b){return b}).offset(),d.innerHTML="",e.removeChild(d),i=h.top+h.left+(b?2e3:0),f.fractions=i>21&&i<22}()})(jQuery);;(function(a,b){var c=0;a.widget("ui.autocomplete",{options:{appendTo:"body",autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null},pending:0,_create:function(){var b=this,c=this.element[0].ownerDocument,d;this.isMultiLine=this.element.is("textarea"),this.element.addClass("ui-autocomplete-input").attr("autocomplete","off").attr({role:"textbox","aria-autocomplete":"list","aria-haspopup":"true"}).bind("keydown.autocomplete",function(c){if(b.options.disabled||b.element.propAttr("readOnly"))return;d=!1;var e=a.ui.keyCode;switch(c.keyCode){case e.PAGE_UP:b._move("previousPage",c);break;case e.PAGE_DOWN:b._move("nextPage",c);break;case e.UP:b._keyEvent("previous",c);break;case e.DOWN:b._keyEvent("next",c);break;case e.ENTER:case e.NUMPAD_ENTER:b.menu.active&&(d=!0,c.preventDefault());case e.TAB:if(!b.menu.active)return;b.menu.select(c);break;case e.ESCAPE:b.element.val(b.term),b.close(c);break;default:clearTimeout(b.searching),b.searching=setTimeout(function(){b.term!=b.element.val()&&(b.selectedItem=null,b.search(null,c))},b.options.delay)}}).bind("keypress.autocomplete",function(a){d&&(d=!1,a.preventDefault())}).bind("focus.autocomplete",function(){if(b.options.disabled)return;b.selectedItem=null,b.previous=b.element.val()}).bind("blur.autocomplete",function(a){if(b.options.disabled)return;clearTimeout(b.searching),b.closing=setTimeout(function(){b.close(a),b._change(a)},150)}),this._initSource(),this.menu=a("<ul></ul>").addClass("ui-autocomplete").appendTo(a(this.options.appendTo||"body",c)[0]).mousedown(function(c){var d=b.menu.element[0];a(c.target).closest(".ui-menu-item").length||setTimeout(function(){a(document).one("mousedown",function(c){c.target!==b.element[0]&&c.target!==d&&!a.ui.contains(d,c.target)&&b.close()})},1),setTimeout(function(){clearTimeout(b.closing)},13)}).menu({focus:function(a,c){var d=c.item.data("item.autocomplete");!1!==b._trigger("focus",a,{item:d})&&/^key/.test(a.originalEvent.type)&&b.element.val(d.value)},selected:function(a,d){var e=d.item.data("item.autocomplete"),f=b.previous;b.element[0]!==c.activeElement&&(b.element.focus(),b.previous=f,setTimeout(function(){b.previous=f,b.selectedItem=e},1)),!1!==b._trigger("select",a,{item:e})&&b.element.val(e.value),b.term=b.element.val(),b.close(a),b.selectedItem=e},blur:function(a,c){b.menu.element.is(":visible")&&b.element.val()!==b.term&&b.element.val(b.term)}}).zIndex(this.element.zIndex()+1).css({top:0,left:0}).hide().data("menu"),a.fn.bgiframe&&this.menu.element.bgiframe(),b.beforeunloadHandler=function(){b.element.removeAttr("autocomplete")},a(window).bind("beforeunload",b.beforeunloadHandler)},destroy:function(){this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete").removeAttr("role").removeAttr("aria-autocomplete").removeAttr("aria-haspopup"),this.menu.element.remove(),a(window).unbind("beforeunload",this.beforeunloadHandler),a.Widget.prototype.destroy.call(this)},_setOption:function(b,c){a.Widget.prototype._setOption.apply(this,arguments),b==="source"&&this._initSource(),b==="appendTo"&&this.menu.element.appendTo(a(c||"body",this.element[0].ownerDocument)[0]),b==="disabled"&&c&&this.xhr&&this.xhr.abort()},_initSource:function(){var b=this,c,d;a.isArray(this.options.source)?(c=this.options.source,this.source=function(b,d){d(a.ui.autocomplete.filter(c,b.term))}):typeof this.options.source=="string"?(d=this.options.source,this.source=function(c,e){b.xhr&&b.xhr.abort(),b.xhr=a.ajax({url:d,data:c,dataType:"json",success:function(a,b){e(a)},error:function(){e([])}})}):this.source=this.options.source},search:function(a,b){a=a!=null?a:this.element.val(),this.term=this.element.val();if(a.length<this.options.minLength)return this.close(b);clearTimeout(this.closing);if(this._trigger("search",b)===!1)return;return this._search(a)},_search:function(a){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.source({term:a},this._response())},_response:function(){var a=this,b=++c;return function(d){b===c&&a.__response(d),a.pending--,a.pending||a.element.removeClass("ui-autocomplete-loading")}},__response:function(a){!this.options.disabled&&a&&a.length?(a=this._normalize(a),this._suggest(a),this._trigger("open")):this.close()},close:function(a){clearTimeout(this.closing),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.deactivate(),this._trigger("close",a))},_change:function(a){this.previous!==this.element.val()&&this._trigger("change",a,{item:this.selectedItem})},_normalize:function(b){return b.length&&b[0].label&&b[0].value?b:a.map(b,function(b){return typeof b=="string"?{label:b,value:b}:a.extend({label:b.label||b.value,value:b.value||b.label},b)})},_suggest:function(b){var c=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(c,b),this.menu.deactivate(),this.menu.refresh(),c.show(),this._resizeMenu(),c.position(a.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(new a.Event("mouseover"))},_resizeMenu:function(){var a=this.menu.element;a.outerWidth(Math.max(a.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(b,c){var d=this;a.each(c,function(a,c){d._renderItem(b,c)})},_renderItem:function(b,c){return a("<li></li>").data("item.autocomplete",c).append(a("<a></a>").text(c.label)).appendTo(b)},_move:function(a,b){if(!this.menu.element.is(":visible")){this.search(null,b);return}if(this.menu.first()&&/^previous/.test(a)||this.menu.last()&&/^next/.test(a)){this.element.val(this.term),this.menu.deactivate();return}this.menu[a](b)},widget:function(){return this.menu.element},_keyEvent:function(a,b){if(!this.isMultiLine||this.menu.element.is(":visible"))this._move(a,b),b.preventDefault()}}),a.extend(a.ui.autocomplete,{escapeRegex:function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},filter:function(b,c){var d=new RegExp(a.ui.autocomplete.escapeRegex(c),"i");return a.grep(b,function(a){return d.test(a.label||a.value||a)})}})})(jQuery),function(a){a.widget("ui.menu",{_create:function(){var b=this;this.element.addClass("ui-menu ui-widget ui-widget-content ui-corner-all").attr({role:"listbox","aria-activedescendant":"ui-active-menuitem"}).click(function(c){if(!a(c.target).closest(".ui-menu-item a").length)return;c.preventDefault(),b.select(c)}),this.refresh()},refresh:function(){var b=this,c=this.element.children("li:not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","menuitem");c.children("a").addClass("ui-corner-all").attr("tabindex",-1).mouseenter(function(c){b.activate(c,a(this).parent())}).mouseleave(function(){b.deactivate()})},activate:function(a,b){this.deactivate();if(this.hasScroll()){var c=b.offset().top-this.element.offset().top,d=this.element.scrollTop(),e=this.element.height();c<0?this.element.scrollTop(d+c):c>=e&&this.element.scrollTop(d+c-e+b.height())}this.active=b.eq(0).children("a").addClass("ui-state-hover").attr("id","ui-active-menuitem").end(),this._trigger("focus",a,{item:b})},deactivate:function(){if(!this.active)return;this.active.children("a").removeClass("ui-state-hover").removeAttr("id"),this._trigger("blur"),this.active=null},next:function(a){this.move("next",".ui-menu-item:first",a)},previous:function(a){this.move("prev",".ui-menu-item:last",a)},first:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},last:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},move:function(a,b,c){if(!this.active){this.activate(c,this.element.children(b));return}var d=this.active[a+"All"](".ui-menu-item").eq(0);d.length?this.activate(c,d):this.activate(c,this.element.children(b))},nextPage:function(b){if(this.hasScroll()){if(!this.active||this.last()){this.activate(b,this.element.children(".ui-menu-item:first"));return}var c=this.active.offset().top,d=this.element.height(),e=this.element.children(".ui-menu-item").filter(function(){var b=a(this).offset().top-c-d+a(this).height();return b<10&&b>-10});e.length||(e=this.element.children(".ui-menu-item:last")),this.activate(b,e)}else this.activate(b,this.element.children(".ui-menu-item").filter(!this.active||this.last()?":first":":last"))},previousPage:function(b){if(this.hasScroll()){if(!this.active||this.first()){this.activate(b,this.element.children(".ui-menu-item:last"));return}var c=this.active.offset().top,d=this.element.height(),e=this.element.children(".ui-menu-item").filter(function(){var b=a(this).offset().top-c+d-a(this).height();return b<10&&b>-10});e.length||(e=this.element.children(".ui-menu-item:first")),this.activate(b,e)}else this.activate(b,this.element.children(".ui-menu-item").filter(!this.active||this.first()?":last":":first"))},hasScroll:function(){return this.element.height()<this.element[a.fn.prop?"prop":"attr"]("scrollHeight")},select:function(a){this._trigger("selected",a,{item:this.active})}})}(jQuery);;(function($,undefined){function Datepicker(){this.debug=!1,this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},$.extend(this._defaults,this.regional[""]),this.dpDiv=bindHover($('<div id="'+this._mainDivId+'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>'))}function bindHover(a){var b="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return a.bind("mouseout",function(a){var c=$(a.target).closest(b);if(!c.length)return;c.removeClass("ui-state-hover ui-datepicker-prev-hover ui-datepicker-next-hover")}).bind("mouseover",function(c){var d=$(c.target).closest(b);if($.datepicker._isDisabledDatepicker(instActive.inline?a.parent()[0]:instActive.input[0])||!d.length)return;d.parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),d.addClass("ui-state-hover"),d.hasClass("ui-datepicker-prev")&&d.addClass("ui-datepicker-prev-hover"),d.hasClass("ui-datepicker-next")&&d.addClass("ui-datepicker-next-hover")})}function extendRemove(a,b){$.extend(a,b);for(var c in b)if(b[c]==null||b[c]==undefined)a[c]=b[c];return a}function isArray(a){return a&&($.browser.safari&&typeof a=="object"&&a.length||a.constructor&&a.constructor.toString().match(/\Array\(\)/))}$.extend($.ui,{datepicker:{version:"1.8.20"}});var PROP_NAME="datepicker",dpuuid=(new Date).getTime(),instActive;$.extend(Datepicker.prototype,{markerClassName:"hasDatepicker",maxRows:4,log:function(){this.debug&&console.log.apply("",arguments)},_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(a){return extendRemove(this._defaults,a||{}),this},_attachDatepicker:function(target,settings){var inlineSettings=null;for(var attrName in this._defaults){var attrValue=target.getAttribute("date:"+attrName);if(attrValue){inlineSettings=inlineSettings||{};try{inlineSettings[attrName]=eval(attrValue)}catch(err){inlineSettings[attrName]=attrValue}}}var nodeName=target.nodeName.toLowerCase(),inline=nodeName=="div"||nodeName=="span";target.id||(this.uuid+=1,target.id="dp"+this.uuid);var inst=this._newInst($(target),inline);inst.settings=$.extend({},settings||{},inlineSettings||{}),nodeName=="input"?this._connectDatepicker(target,inst):inline&&this._inlineDatepicker(target,inst)},_newInst:function(a,b){var c=a[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1");return{id:c,input:a,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:b,dpDiv:b?bindHover($('<div class="'+this._inlineClass+' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>')):this.dpDiv}},_connectDatepicker:function(a,b){var c=$(a);b.append=$([]),b.trigger=$([]);if(c.hasClass(this.markerClassName))return;this._attachments(c,b),c.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp).bind("setData.datepicker",function(a,c,d){b.settings[c]=d}).bind("getData.datepicker",function(a,c){return this._get(b,c)}),this._autoSize(b),$.data(a,PROP_NAME,b),b.settings.disabled&&this._disableDatepicker(a)},_attachments:function(a,b){var c=this._get(b,"appendText"),d=this._get(b,"isRTL");b.append&&b.append.remove(),c&&(b.append=$('<span class="'+this._appendClass+'">'+c+"</span>"),a[d?"before":"after"](b.append)),a.unbind("focus",this._showDatepicker),b.trigger&&b.trigger.remove();var e=this._get(b,"showOn");(e=="focus"||e=="both")&&a.focus(this._showDatepicker);if(e=="button"||e=="both"){var f=this._get(b,"buttonText"),g=this._get(b,"buttonImage");b.trigger=$(this._get(b,"buttonImageOnly")?$("<img/>").addClass(this._triggerClass).attr({src:g,alt:f,title:f}):$('<button type="button"></button>').addClass(this._triggerClass).html(g==""?f:$("<img/>").attr({src:g,alt:f,title:f}))),a[d?"before":"after"](b.trigger),b.trigger.click(function(){return $.datepicker._datepickerShowing&&$.datepicker._lastInput==a[0]?$.datepicker._hideDatepicker():$.datepicker._datepickerShowing&&$.datepicker._lastInput!=a[0]?($.datepicker._hideDatepicker(),$.datepicker._showDatepicker(a[0])):$.datepicker._showDatepicker(a[0]),!1})}},_autoSize:function(a){if(this._get(a,"autoSize")&&!a.inline){var b=new Date(2009,11,20),c=this._get(a,"dateFormat");if(c.match(/[DM]/)){var d=function(a){var b=0,c=0;for(var d=0;d<a.length;d++)a[d].length>b&&(b=a[d].length,c=d);return c};b.setMonth(d(this._get(a,c.match(/MM/)?"monthNames":"monthNamesShort"))),b.setDate(d(this._get(a,c.match(/DD/)?"dayNames":"dayNamesShort"))+20-b.getDay())}a.input.attr("size",this._formatDate(a,b).length)}},_inlineDatepicker:function(a,b){var c=$(a);if(c.hasClass(this.markerClassName))return;c.addClass(this.markerClassName).append(b.dpDiv).bind("setData.datepicker",function(a,c,d){b.settings[c]=d}).bind("getData.datepicker",function(a,c){return this._get(b,c)}),$.data(a,PROP_NAME,b),this._setDate(b,this._getDefaultDate(b),!0),this._updateDatepicker(b),this._updateAlternate(b),b.settings.disabled&&this._disableDatepicker(a),b.dpDiv.css("display","block")},_dialogDatepicker:function(a,b,c,d,e){var f=this._dialogInst;if(!f){this.uuid+=1;var g="dp"+this.uuid;this._dialogInput=$('<input type="text" id="'+g+'" style="position: absolute; top: -100px; width: 0px; z-index: -10;"/>'),this._dialogInput.keydown(this._doKeyDown),$("body").append(this._dialogInput),f=this._dialogInst=this._newInst(this._dialogInput,!1),f.settings={},$.data(this._dialogInput[0],PROP_NAME,f)}extendRemove(f.settings,d||{}),b=b&&b.constructor==Date?this._formatDate(f,b):b,this._dialogInput.val(b),this._pos=e?e.length?e:[e.pageX,e.pageY]:null;if(!this._pos){var h=document.documentElement.clientWidth,i=document.documentElement.clientHeight,j=document.documentElement.scrollLeft||document.body.scrollLeft,k=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[h/2-100+j,i/2-150+k]}return this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),f.settings.onSelect=c,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),$.blockUI&&$.blockUI(this.dpDiv),$.data(this._dialogInput[0],PROP_NAME,f),this},_destroyDatepicker:function(a){var b=$(a),c=$.data(a,PROP_NAME);if(!b.hasClass(this.markerClassName))return;var d=a.nodeName.toLowerCase();$.removeData(a,PROP_NAME),d=="input"?(c.append.remove(),c.trigger.remove(),b.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):(d=="div"||d=="span")&&b.removeClass(this.markerClassName).empty()},_enableDatepicker:function(a){var b=$(a),c=$.data(a,PROP_NAME);if(!b.hasClass(this.markerClassName))return;var d=a.nodeName.toLowerCase();if(d=="input")a.disabled=!1,c.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""});else if(d=="div"||d=="span"){var e=b.children("."+this._inlineClass);e.children().removeClass("ui-state-disabled"),e.find("select.ui-datepicker-month, select.ui-datepicker-year").removeAttr("disabled")}this._disabledInputs=$.map(this._disabledInputs,function(b){return b==a?null:b})},_disableDatepicker:function(a){var b=$(a),c=$.data(a,PROP_NAME);if(!b.hasClass(this.markerClassName))return;var d=a.nodeName.toLowerCase();if(d=="input")a.disabled=!0,c.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"});else if(d=="div"||d=="span"){var e=b.children("."+this._inlineClass);e.children().addClass("ui-state-disabled"),e.find("select.ui-datepicker-month, select.ui-datepicker-year").attr("disabled","disabled")}this._disabledInputs=$.map(this._disabledInputs,function(b){return b==a?null:b}),this._disabledInputs[this._disabledInputs.length]=a},_isDisabledDatepicker:function(a){if(!a)return!1;for(var b=0;b<this._disabledInputs.length;b++)if(this._disabledInputs[b]==a)return!0;return!1},_getInst:function(a){try{return $.data(a,PROP_NAME)}catch(b){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(a,b,c){var d=this._getInst(a);if(arguments.length==2&&typeof b=="string")return b=="defaults"?$.extend({},$.datepicker._defaults):d?b=="all"?$.extend({},d.settings):this._get(d,b):null;var e=b||{};typeof b=="string"&&(e={},e[b]=c);if(d){this._curInst==d&&this._hideDatepicker();var f=this._getDateDatepicker(a,!0),g=this._getMinMaxDate(d,"min"),h=this._getMinMaxDate(d,"max");extendRemove(d.settings,e),g!==null&&e.dateFormat!==undefined&&e.minDate===undefined&&(d.settings.minDate=this._formatDate(d,g)),h!==null&&e.dateFormat!==undefined&&e.maxDate===undefined&&(d.settings.maxDate=this._formatDate(d,h)),this._attachments($(a),d),this._autoSize(d),this._setDate(d,f),this._updateAlternate(d),this._updateDatepicker(d)}},_changeDatepicker:function(a,b,c){this._optionDatepicker(a,b,c)},_refreshDatepicker:function(a){var b=this._getInst(a);b&&this._updateDatepicker(b)},_setDateDatepicker:function(a,b){var c=this._getInst(a);c&&(this._setDate(c,b),this._updateDatepicker(c),this._updateAlternate(c))},_getDateDatepicker:function(a,b){var c=this._getInst(a);return c&&!c.inline&&this._setDateFromField(c,b),c?this._getDate(c):null},_doKeyDown:function(a){var b=$.datepicker._getInst(a.target),c=!0,d=b.dpDiv.is(".ui-datepicker-rtl");b._keyEvent=!0;if($.datepicker._datepickerShowing)switch(a.keyCode){case 9:$.datepicker._hideDatepicker(),c=!1;break;case 13:var e=$("td."+$.datepicker._dayOverClass+":not(."+$.datepicker._currentClass+")",b.dpDiv);e[0]&&$.datepicker._selectDay(a.target,b.selectedMonth,b.selectedYear,e[0]);var f=$.datepicker._get(b,"onSelect");if(f){var g=$.datepicker._formatDate(b);f.apply(b.input?b.input[0]:null,[g,b])}else $.datepicker._hideDatepicker();return!1;case 27:$.datepicker._hideDatepicker();break;case 33:$.datepicker._adjustDate(a.target,a.ctrlKey?-$.datepicker._get(b,"stepBigMonths"):-$.datepicker._get(b,"stepMonths"),"M");break;case 34:$.datepicker._adjustDate(a.target,a.ctrlKey?+$.datepicker._get(b,"stepBigMonths"):+$.datepicker._get(b,"stepMonths"),"M");break;case 35:(a.ctrlKey||a.metaKey)&&$.datepicker._clearDate(a.target),c=a.ctrlKey||a.metaKey;break;case 36:(a.ctrlKey||a.metaKey)&&$.datepicker._gotoToday(a.target),c=a.ctrlKey||a.metaKey;break;case 37:(a.ctrlKey||a.metaKey)&&$.datepicker._adjustDate(a.target,d?1:-1,"D"),c=a.ctrlKey||a.metaKey,a.originalEvent.altKey&&$.datepicker._adjustDate(a.target,a.ctrlKey?-$.datepicker._get(b,"stepBigMonths"):-$.datepicker._get(b,"stepMonths"),"M");break;case 38:(a.ctrlKey||a.metaKey)&&$.datepicker._adjustDate(a.target,-7,"D"),c=a.ctrlKey||a.metaKey;break;case 39:(a.ctrlKey||a.metaKey)&&$.datepicker._adjustDate(a.target,d?-1:1,"D"),c=a.ctrlKey||a.metaKey,a.originalEvent.altKey&&$.datepicker._adjustDate(a.target,a.ctrlKey?+$.datepicker._get(b,"stepBigMonths"):+$.datepicker._get(b,"stepMonths"),"M");break;case 40:(a.ctrlKey||a.metaKey)&&$.datepicker._adjustDate(a.target,7,"D"),c=a.ctrlKey||a.metaKey;break;default:c=!1}else a.keyCode==36&&a.ctrlKey?$.datepicker._showDatepicker(this):c=!1;c&&(a.preventDefault(),a.stopPropagation())},_doKeyPress:function(a){var b=$.datepicker._getInst(a.target);if($.datepicker._get(b,"constrainInput")){var c=$.datepicker._possibleChars($.datepicker._get(b,"dateFormat")),d=String.fromCharCode(a.charCode==undefined?a.keyCode:a.charCode);return a.ctrlKey||a.metaKey||d<" "||!c||c.indexOf(d)>-1}},_doKeyUp:function(a){var b=$.datepicker._getInst(a.target);if(b.input.val()!=b.lastVal)try{var c=$.datepicker.parseDate($.datepicker._get(b,"dateFormat"),b.input?b.input.val():null,$.datepicker._getFormatConfig(b));c&&($.datepicker._setDateFromField(b),$.datepicker._updateAlternate(b),$.datepicker._updateDatepicker(b))}catch(d){$.datepicker.log(d)}return!0},_showDatepicker:function(a){a=a.target||a,a.nodeName.toLowerCase()!="input"&&(a=$("input",a.parentNode)[0]);if($.datepicker._isDisabledDatepicker(a)||$.datepicker._lastInput==a)return;var b=$.datepicker._getInst(a);$.datepicker._curInst&&$.datepicker._curInst!=b&&($.datepicker._curInst.dpDiv.stop(!0,!0),b&&$.datepicker._datepickerShowing&&$.datepicker._hideDatepicker($.datepicker._curInst.input[0]));var c=$.datepicker._get(b,"beforeShow"),d=c?c.apply(a,[a,b]):{};if(d===!1)return;extendRemove(b.settings,d),b.lastVal=null,$.datepicker._lastInput=a,$.datepicker._setDateFromField(b),$.datepicker._inDialog&&(a.value=""),$.datepicker._pos||($.datepicker._pos=$.datepicker._findPos(a),$.datepicker._pos[1]+=a.offsetHeight);var e=!1;$(a).parents().each(function(){return e|=$(this).css("position")=="fixed",!e}),e&&$.browser.opera&&($.datepicker._pos[0]-=document.documentElement.scrollLeft,$.datepicker._pos[1]-=document.documentElement.scrollTop);var f={left:$.datepicker._pos[0],top:$.datepicker._pos[1]};$.datepicker._pos=null,b.dpDiv.empty(),b.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),$.datepicker._updateDatepicker(b),f=$.datepicker._checkOffset(b,f,e),b.dpDiv.css({position:$.datepicker._inDialog&&$.blockUI?"static":e?"fixed":"absolute",display:"none",left:f.left+"px",top:f.top+"px"});if(!b.inline){var g=$.datepicker._get(b,"showAnim"),h=$.datepicker._get(b,"duration"),i=function(){var a=b.dpDiv.find("iframe.ui-datepicker-cover");if(!!a.length){var c=$.datepicker._getBorders(b.dpDiv);a.css({left:-c[0],top:-c[1],width:b.dpDiv.outerWidth(),height:b.dpDiv.outerHeight()})}};b.dpDiv.zIndex($(a).zIndex()+1),$.datepicker._datepickerShowing=!0,$.effects&&$.effects[g]?b.dpDiv.show(g,$.datepicker._get(b,"showOptions"),h,i):b.dpDiv[g||"show"](g?h:null,i),(!g||!h)&&i(),b.input.is(":visible")&&!b.input.is(":disabled")&&b.input.focus(),$.datepicker._curInst=b}},_updateDatepicker:function(a){var b=this;b.maxRows=4;var c=$.datepicker._getBorders(a.dpDiv);instActive=a,a.dpDiv.empty().append(this._generateHTML(a));var d=a.dpDiv.find("iframe.ui-datepicker-cover");!d.length||d.css({left:-c[0],top:-c[1],width:a.dpDiv.outerWidth(),height:a.dpDiv.outerHeight()}),a.dpDiv.find("."+this._dayOverClass+" a").mouseover();var e=this._getNumberOfMonths(a),f=e[1],g=17;a.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),f>1&&a.dpDiv.addClass("ui-datepicker-multi-"+f).css("width",g*f+"em"),a.dpDiv[(e[0]!=1||e[1]!=1?"add":"remove")+"Class"]("ui-datepicker-multi"),a.dpDiv[(this._get(a,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),a==$.datepicker._curInst&&$.datepicker._datepickerShowing&&a.input&&a.input.is(":visible")&&!a.input.is(":disabled")&&a.input[0]!=document.activeElement&&a.input.focus();if(a.yearshtml){var h=a.yearshtml;setTimeout(function(){h===a.yearshtml&&a.yearshtml&&a.dpDiv.find("select.ui-datepicker-year:first").replaceWith(a.yearshtml),h=a.yearshtml=null},0)}},_getBorders:function(a){var b=function(a){return{thin:1,medium:2,thick:3}[a]||a};return[parseFloat(b(a.css("border-left-width"))),parseFloat(b(a.css("border-top-width")))]},_checkOffset:function(a,b,c){var d=a.dpDiv.outerWidth(),e=a.dpDiv.outerHeight(),f=a.input?a.input.outerWidth():0,g=a.input?a.input.outerHeight():0,h=document.documentElement.clientWidth+$(document).scrollLeft(),i=document.documentElement.clientHeight+$(document).scrollTop();return b.left-=this._get(a,"isRTL")?d-f:0,b.left-=c&&b.left==a.input.offset().left?$(document).scrollLeft():0,b.top-=c&&b.top==a.input.offset().top+g?$(document).scrollTop():0,b.left-=Math.min(b.left,b.left+d>h&&h>d?Math.abs(b.left+d-h):0),b.top-=Math.min(b.top,b.top+e>i&&i>e?Math.abs(e+g):0),b},_findPos:function(a){var b=this._getInst(a),c=this._get(b,"isRTL");while(a&&(a.type=="hidden"||a.nodeType!=1||$.expr.filters.hidden(a)))a=a[c?"previousSibling":"nextSibling"];var d=$(a).offset();return[d.left,d.top]},_hideDatepicker:function(a){var b=this._curInst;if(!b||a&&b!=$.data(a,PROP_NAME))return;if(this._datepickerShowing){var c=this._get(b,"showAnim"),d=this._get(b,"duration"),e=function(){$.datepicker._tidyDialog(b)};$.effects&&$.effects[c]?b.dpDiv.hide(c,$.datepicker._get(b,"showOptions"),d,e):b.dpDiv[c=="slideDown"?"slideUp":c=="fadeIn"?"fadeOut":"hide"](c?d:null,e),c||e(),this._datepickerShowing=!1;var f=this._get(b,"onClose");f&&f.apply(b.input?b.input[0]:null,[b.input?b.input.val():"",b]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),$.blockUI&&($.unblockUI(),$("body").append(this.dpDiv))),this._inDialog=!1}},_tidyDialog:function(a){a.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(a){if(!$.datepicker._curInst)return;var b=$(a.target),c=$.datepicker._getInst(b[0]);(b[0].id!=$.datepicker._mainDivId&&b.parents("#"+$.datepicker._mainDivId).length==0&&!b.hasClass($.datepicker.markerClassName)&&!b.closest("."+$.datepicker._triggerClass).length&&$.datepicker._datepickerShowing&&(!$.datepicker._inDialog||!$.blockUI)||b.hasClass($.datepicker.markerClassName)&&$.datepicker._curInst!=c)&&$.datepicker._hideDatepicker()},_adjustDate:function(a,b,c){var d=$(a),e=this._getInst(d[0]);if(this._isDisabledDatepicker(d[0]))return;this._adjustInstDate(e,b+(c=="M"?this._get(e,"showCurrentAtPos"):0),c),this._updateDatepicker(e)},_gotoToday:function(a){var b=$(a),c=this._getInst(b[0]);if(this._get(c,"gotoCurrent")&&c.currentDay)c.selectedDay=c.currentDay,c.drawMonth=c.selectedMonth=c.currentMonth,c.drawYear=c.selectedYear=c.currentYear;else{var d=new Date;c.selectedDay=d.getDate(),c.drawMonth=c.selectedMonth=d.getMonth(),c.drawYear=c.selectedYear=d.getFullYear()}this._notifyChange(c),this._adjustDate(b)},_selectMonthYear:function(a,b,c){var d=$(a),e=this._getInst(d[0]);e["selected"+(c=="M"?"Month":"Year")]=e["draw"+(c=="M"?"Month":"Year")]=parseInt(b.options[b.selectedIndex].value,10),this._notifyChange(e),this._adjustDate(d)},_selectDay:function(a,b,c,d){var e=$(a);if($(d).hasClass(this._unselectableClass)||this._isDisabledDatepicker(e[0]))return;var f=this._getInst(e[0]);f.selectedDay=f.currentDay=$("a",d).html(),f.selectedMonth=f.currentMonth=b,f.selectedYear=f.currentYear=c,this._selectDate(a,this._formatDate(f,f.currentDay,f.currentMonth,f.currentYear))},_clearDate:function(a){var b=$(a),c=this._getInst(b[0]);this._selectDate(b,"")},_selectDate:function(a,b){var c=$(a),d=this._getInst(c[0]);b=b!=null?b:this._formatDate(d),d.input&&d.input.val(b),this._updateAlternate(d);var e=this._get(d,"onSelect");e?e.apply(d.input?d.input[0]:null,[b,d]):d.input&&d.input.trigger("change"),d.inline?this._updateDatepicker(d):(this._hideDatepicker(),this._lastInput=d.input[0],typeof d.input[0]!="object"&&d.input.focus(),this._lastInput=null)},_updateAlternate:function(a){var b=this._get(a,"altField");if(b){var c=this._get(a,"altFormat")||this._get(a,"dateFormat"),d=this._getDate(a),e=this.formatDate(c,d,this._getFormatConfig(a));$(b).each(function(){$(this).val(e)})}},noWeekends:function(a){var b=a.getDay();return[b>0&&b<6,""]},iso8601Week:function(a){var b=new Date(a.getTime());b.setDate(b.getDate()+4-(b.getDay()||7));var c=b.getTime();return b.setMonth(0),b.setDate(1),Math.floor(Math.round((c-b)/864e5)/7)+1},parseDate:function(a,b,c){if(a==null||b==null)throw"Invalid arguments";b=typeof b=="object"?b.toString():b+"";if(b=="")return null;var d=(c?c.shortYearCutoff:null)||this._defaults.shortYearCutoff;d=typeof d!="string"?d:(new Date).getFullYear()%100+parseInt(d,10);var e=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,f=(c?c.dayNames:null)||this._defaults.dayNames,g=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort,h=(c?c.monthNames:null)||this._defaults.monthNames,i=-1,j=-1,k=-1,l=-1,m=!1,n=function(b){var c=s+1<a.length&&a.charAt(s+1)==b;return c&&s++,c},o=function(a){var c=n(a),d=a=="@"?14:a=="!"?20:a=="y"&&c?4:a=="o"?3:2,e=new RegExp("^\\d{1,"+d+"}"),f=b.substring(r).match(e);if(!f)throw"Missing number at position "+r;return r+=f[0].length,parseInt(f[0],10)},p=function(a,c,d){var e=$.map(n(a)?d:c,function(a,b){return[[b,a]]}).sort(function(a,b){return-(a[1].length-b[1].length)}),f=-1;$.each(e,function(a,c){var d=c[1];if(b.substr(r,d.length).toLowerCase()==d.toLowerCase())return f=c[0],r+=d.length,!1});if(f!=-1)return f+1;throw"Unknown name at position "+r},q=function(){if(b.charAt(r)!=a.charAt(s))throw"Unexpected literal at position "+r;r++},r=0;for(var s=0;s<a.length;s++)if(m)a.charAt(s)=="'"&&!n("'")?m=!1:q();else switch(a.charAt(s)){case"d":k=o("d");break;case"D":p("D",e,f);break;case"o":l=o("o");break;case"m":j=o("m");break;case"M":j=p("M",g,h);break;case"y":i=o("y");break;case"@":var t=new Date(o("@"));i=t.getFullYear(),j=t.getMonth()+1,k=t.getDate();break;case"!":var t=new Date((o("!")-this._ticksTo1970)/1e4);i=t.getFullYear(),j=t.getMonth()+1,k=t.getDate();break;case"'":n("'")?q():m=!0;break;default:q()}if(r<b.length)throw"Extra/unparsed characters found in date: "+b.substring(r);i==-1?i=(new Date).getFullYear():i<100&&(i+=(new Date).getFullYear()-(new Date).getFullYear()%100+(i<=d?0:-100));if(l>-1){j=1,k=l;do{var u=this._getDaysInMonth(i,j-1);if(k<=u)break;j++,k-=u}while(!0)}var t=this._daylightSavingAdjust(new Date(i,j-1,k));if(t.getFullYear()!=i||t.getMonth()+1!=j||t.getDate()!=k)throw"Invalid date";return t},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*24*60*60*1e7,formatDate:function(a,b,c){if(!b)return"";var d=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,e=(c?c.dayNames:null)||this._defaults.dayNames,f=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort,g=(c?c.monthNames:null)||this._defaults.monthNames,h=function(b){var c=m+1<a.length&&a.charAt(m+1)==b;return c&&m++,c},i=function(a,b,c){var d=""+b;if(h(a))while(d.length<c)d="0"+d;return d},j=function(a,b,c,d){return h(a)?d[b]:c[b]},k="",l=!1;if(b)for(var m=0;m<a.length;m++)if(l)a.charAt(m)=="'"&&!h("'")?l=!1:k+=a.charAt(m);else switch(a.charAt(m)){case"d":k+=i("d",b.getDate(),2);break;case"D":k+=j("D",b.getDay(),d,e);break;case"o":k+=i("o",Math.round(((new Date(b.getFullYear(),b.getMonth(),b.getDate())).getTime()-(new Date(b.getFullYear(),0,0)).getTime())/864e5),3);break;case"m":k+=i("m",b.getMonth()+1,2);break;case"M":k+=j("M",b.getMonth(),f,g);break;case"y":k+=h("y")?b.getFullYear():(b.getYear()%100<10?"0":"")+b.getYear()%100;break;case"@":k+=b.getTime();break;case"!":k+=b.getTime()*1e4+this._ticksTo1970;break;case"'":h("'")?k+="'":l=!0;break;default:k+=a.charAt(m)}return k},_possibleChars:function(a){var b="",c=!1,d=function(b){var c=e+1<a.length&&a.charAt(e+1)==b;return c&&e++,c};for(var e=0;e<a.length;e++)if(c)a.charAt(e)=="'"&&!d("'")?c=!1:b+=a.charAt(e);else switch(a.charAt(e)){case"d":case"m":case"y":case"@":b+="0123456789";break;case"D":case"M":return null;case"'":d("'")?b+="'":c=!0;break;default:b+=a.charAt(e)}return b},_get:function(a,b){return a.settings[b]!==undefined?a.settings[b]:this._defaults[b]},_setDateFromField:function(a,b){if(a.input.val()==a.lastVal)return;var c=this._get(a,"dateFormat"),d=a.lastVal=a.input?a.input.val():null,e,f;e=f=this._getDefaultDate(a);var g=this._getFormatConfig(a);try{e=this.parseDate(c,d,g)||f}catch(h){this.log(h),d=b?"":d}a.selectedDay=e.getDate(),a.drawMonth=a.selectedMonth=e.getMonth(),a.drawYear=a.selectedYear=e.getFullYear(),a.currentDay=d?e.getDate():0,a.currentMonth=d?e.getMonth():0,a.currentYear=d?e.getFullYear():0,this._adjustInstDate(a)},_getDefaultDate:function(a){return this._restrictMinMax(a,this._determineDate(a,this._get(a,"defaultDate"),new Date))},_determineDate:function(a,b,c){var d=function(a){var b=new Date;return b.setDate(b.getDate()+a),b},e=function(b){try{return $.datepicker.parseDate($.datepicker._get(a,"dateFormat"),b,$.datepicker._getFormatConfig(a))}catch(c){}var d=(b.toLowerCase().match(/^c/)?$.datepicker._getDate(a):null)||new Date,e=d.getFullYear(),f=d.getMonth(),g=d.getDate(),h=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,i=h.exec(b);while(i){switch(i[2]||"d"){case"d":case"D":g+=parseInt(i[1],10);break;case"w":case"W":g+=parseInt(i[1],10)*7;break;case"m":case"M":f+=parseInt(i[1],10),g=Math.min(g,$.datepicker._getDaysInMonth(e,f));break;case"y":case"Y":e+=parseInt(i[1],10),g=Math.min(g,$.datepicker._getDaysInMonth(e,f))}i=h.exec(b)}return new Date(e,f,g)},f=b==null||b===""?c:typeof b=="string"?e(b):typeof b=="number"?isNaN(b)?c:d(b):new Date(b.getTime());return f=f&&f.toString()=="Invalid Date"?c:f,f&&(f.setHours(0),f.setMinutes(0),f.setSeconds(0),f.setMilliseconds(0)),this._daylightSavingAdjust(f)},_daylightSavingAdjust:function(a){return a?(a.setHours(a.getHours()>12?a.getHours()+2:0),a):null},_setDate:function(a,b,c){var d=!b,e=a.selectedMonth,f=a.selectedYear,g=this._restrictMinMax(a,this._determineDate(a,b,new Date));a.selectedDay=a.currentDay=g.getDate(),a.drawMonth=a.selectedMonth=a.currentMonth=g.getMonth(),a.drawYear=a.selectedYear=a.currentYear=g.getFullYear(),(e!=a.selectedMonth||f!=a.selectedYear)&&!c&&this._notifyChange(a),this._adjustInstDate(a),a.input&&a.input.val(d?"":this._formatDate(a))},_getDate:function(a){var b=!a.currentYear||a.input&&a.input.val()==""?null:this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return b},_generateHTML:function(a){var b=new Date;b=this._daylightSavingAdjust(new Date(b.getFullYear(),b.getMonth(),b.getDate()));var c=this._get(a,"isRTL"),d=this._get(a,"showButtonPanel"),e=this._get(a,"hideIfNoPrevNext"),f=this._get(a,"navigationAsDateFormat"),g=this._getNumberOfMonths(a),h=this._get(a,"showCurrentAtPos"),i=this._get(a,"stepMonths"),j=g[0]!=1||g[1]!=1,k=this._daylightSavingAdjust(a.currentDay?new Date(a.currentYear,a.currentMonth,a.currentDay):new Date(9999,9,9)),l=this._getMinMaxDate(a,"min"),m=this._getMinMaxDate(a,"max"),n=a.drawMonth-h,o=a.drawYear;n<0&&(n+=12,o--);if(m){var p=this._daylightSavingAdjust(new Date(m.getFullYear(),m.getMonth()-g[0]*g[1]+1,m.getDate()));p=l&&p<l?l:p;while(this._daylightSavingAdjust(new Date(o,n,1))>p)n--,n<0&&(n=11,o--)}a.drawMonth=n,a.drawYear=o;var q=this._get(a,"prevText");q=f?this.formatDate(q,this._daylightSavingAdjust(new Date(o,n-i,1)),this._getFormatConfig(a)):q;var r=this._canAdjustMonth(a,-1,o,n)?'<a class="ui-datepicker-prev ui-corner-all" onclick="DP_jQuery_'+dpuuid+".datepicker._adjustDate('#"+a.id+"', -"+i+", 'M');\""+' title="'+q+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"e":"w")+'">'+q+"</span></a>":e?"":'<a class="ui-datepicker-prev ui-corner-all ui-state-disabled" title="'+q+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"e":"w")+'">'+q+"</span></a>",s=this._get(a,"nextText");s=f?this.formatDate(s,this._daylightSavingAdjust(new Date(o,n+i,1)),this._getFormatConfig(a)):s;var t=this._canAdjustMonth(a,1,o,n)?'<a class="ui-datepicker-next ui-corner-all" onclick="DP_jQuery_'+dpuuid+".datepicker._adjustDate('#"+a.id+"', +"+i+", 'M');\""+' title="'+s+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"w":"e")+'">'+s+"</span></a>":e?"":'<a class="ui-datepicker-next ui-corner-all ui-state-disabled" title="'+s+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"w":"e")+'">'+s+"</span></a>",u=this._get(a,"currentText"),v=this._get(a,"gotoCurrent")&&a.currentDay?k:b;u=f?this.formatDate(u,v,this._getFormatConfig(a)):u;var w=a.inline?"":'<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" onclick="DP_jQuery_'+dpuuid+'.datepicker._hideDatepicker();">'+this._get(a,"closeText")+"</button>",x=d?'<div class="ui-datepicker-buttonpane ui-widget-content">'+(c?w:"")+(this._isInRange(a,v)?'<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" onclick="DP_jQuery_'+dpuuid+".datepicker._gotoToday('#"+a.id+"');\""+">"+u+"</button>":"")+(c?"":w)+"</div>":"",y=parseInt(this._get(a,"firstDay"),10);y=isNaN(y)?0:y;var z=this._get(a,"showWeek"),A=this._get(a,"dayNames"),B=this._get(a,"dayNamesShort"),C=this._get(a,"dayNamesMin"),D=this._get(a,"monthNames"),E=this._get(a,"monthNamesShort"),F=this._get(a,"beforeShowDay"),G=this._get(a,"showOtherMonths"),H=this._get(a,"selectOtherMonths"),I=this._get(a,"calculateWeek")||this.iso8601Week,J=this._getDefaultDate(a),K="";for(var L=0;L<g[0];L++){var M="";this.maxRows=4;for(var N=0;N<g[1];N++){var O=this._daylightSavingAdjust(new Date(o,n,a.selectedDay)),P=" ui-corner-all",Q="";if(j){Q+='<div class="ui-datepicker-group';if(g[1]>1)switch(N){case 0:Q+=" ui-datepicker-group-first",P=" ui-corner-"+(c?"right":"left");break;case g[1]-1:Q+=" ui-datepicker-group-last",P=" ui-corner-"+(c?"left":"right");break;default:Q+=" ui-datepicker-group-middle",P=""}Q+='">'}Q+='<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix'+P+'">'+(/all|left/.test(P)&&L==0?c?t:r:"")+(/all|right/.test(P)&&L==0?c?r:t:"")+this._generateMonthYearHeader(a,n,o,l,m,L>0||N>0,D,E)+'</div><table class="ui-datepicker-calendar"><thead>'+"<tr>";var R=z?'<th class="ui-datepicker-week-col">'+this._get(a,"weekHeader")+"</th>":"";for(var S=0;S<7;S++){var T=(S+y)%7;R+="<th"+((S+y+6)%7>=5?' class="ui-datepicker-week-end"':"")+">"+'<span title="'+A[T]+'">'+C[T]+"</span></th>"}Q+=R+"</tr></thead><tbody>";var U=this._getDaysInMonth(o,n);o==a.selectedYear&&n==a.selectedMonth&&(a.selectedDay=Math.min(a.selectedDay,U));var V=(this._getFirstDayOfMonth(o,n)-y+7)%7,W=Math.ceil((V+U)/7),X=j?this.maxRows>W?this.maxRows:W:W;this.maxRows=X;var Y=this._daylightSavingAdjust(new Date(o,n,1-V));for(var Z=0;Z<X;Z++){Q+="<tr>";var _=z?'<td class="ui-datepicker-week-col">'+this._get(a,"calculateWeek")(Y)+"</td>":"";for(var S=0;S<7;S++){var ba=F?F.apply(a.input?a.input[0]:null,[Y]):[!0,""],bb=Y.getMonth()!=n,bc=bb&&!H||!ba[0]||l&&Y<l||m&&Y>m;_+='<td class="'+((S+y+6)%7>=5?" ui-datepicker-week-end":"")+(bb?" ui-datepicker-other-month":"")+(Y.getTime()==O.getTime()&&n==a.selectedMonth&&a._keyEvent||J.getTime()==Y.getTime()&&J.getTime()==O.getTime()?" "+this._dayOverClass:"")+(bc?" "+this._unselectableClass+" ui-state-disabled":"")+(bb&&!G?"":" "+ba[1]+(Y.getTime()==k.getTime()?" "+this._currentClass:"")+(Y.getTime()==b.getTime()?" ui-datepicker-today":""))+'"'+((!bb||G)&&ba[2]?' title="'+ba[2]+'"':"")+(bc?"":' onclick="DP_jQuery_'+dpuuid+".datepicker._selectDay('#"+a.id+"',"+Y.getMonth()+","+Y.getFullYear()+', this);return false;"')+">"+(bb&&!G?"&#xa0;":bc?'<span class="ui-state-default">'+Y.getDate()+"</span>":'<a class="ui-state-default'+(Y.getTime()==b.getTime()?" ui-state-highlight":"")+(Y.getTime()==k.getTime()?" ui-state-active":"")+(bb?" ui-priority-secondary":"")+'" href="#">'+Y.getDate()+"</a>")+"</td>",Y.setDate(Y.getDate()+1),Y=this._daylightSavingAdjust(Y)}Q+=_+"</tr>"}n++,n>11&&(n=0,o++),Q+="</tbody></table>"+(j?"</div>"+(g[0]>0&&N==g[1]-1?'<div class="ui-datepicker-row-break"></div>':""):""),M+=Q}K+=M}return K+=x+($.browser.msie&&parseInt($.browser.version,10)<7&&!a.inline?'<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"></iframe>':""),a._keyEvent=!1,K},_generateMonthYearHeader:function(a,b,c,d,e,f,g,h){var i=this._get(a,"changeMonth"),j=this._get(a,"changeYear"),k=this._get(a,"showMonthAfterYear"),l='<div class="ui-datepicker-title">',m="";if(f||!i)m+='<span class="ui-datepicker-month">'+g[b]+"</span>";else{var n=d&&d.getFullYear()==c,o=e&&e.getFullYear()==c;m+='<select class="ui-datepicker-month" onchange="DP_jQuery_'+dpuuid+".datepicker._selectMonthYear('#"+a.id+"', this, 'M');\" "+">";for(var p=0;p<12;p++)(!n||p>=d.getMonth())&&(!o||p<=e.getMonth())&&(m+='<option value="'+p+'"'+(p==b?' selected="selected"':"")+">"+h[p]+"</option>");m+="</select>"}k||(l+=m+(f||!i||!j?"&#xa0;":""));if(!a.yearshtml){a.yearshtml="";if(f||!j)l+='<span class="ui-datepicker-year">'+c+"</span>";else{var q=this._get(a,"yearRange").split(":"),r=(new Date).getFullYear(),s=function(a){var b=a.match(/c[+-].*/)?c+parseInt(a.substring(1),10):a.match(/[+-].*/)?r+parseInt(a,10):parseInt(a,10);return isNaN(b)?r:b},t=s(q[0]),u=Math.max(t,s(q[1]||""));t=d?Math.max(t,d.getFullYear()):t,u=e?Math.min(u,e.getFullYear()):u,a.yearshtml+='<select class="ui-datepicker-year" onchange="DP_jQuery_'+dpuuid+".datepicker._selectMonthYear('#"+a.id+"', this, 'Y');\" "+">";for(;t<=u;t++)a.yearshtml+='<option value="'+t+'"'+(t==c?' selected="selected"':"")+">"+t+"</option>";a.yearshtml+="</select>",l+=a.yearshtml,a.yearshtml=null}}return l+=this._get(a,"yearSuffix"),k&&(l+=(f||!i||!j?"&#xa0;":"")+m),l+="</div>",l},_adjustInstDate:function(a,b,c){var d=a.drawYear+(c=="Y"?b:0),e=a.drawMonth+(c=="M"?b:0),f=Math.min(a.selectedDay,this._getDaysInMonth(d,e))+(c=="D"?b:0),g=this._restrictMinMax(a,this._daylightSavingAdjust(new Date(d,e,f)));a.selectedDay=g.getDate(),a.drawMonth=a.selectedMonth=g.getMonth(),a.drawYear=a.selectedYear=g.getFullYear(),(c=="M"||c=="Y")&&this._notifyChange(a)},_restrictMinMax:function(a,b){var c=this._getMinMaxDate(a,"min"),d=this._getMinMaxDate(a,"max"),e=c&&b<c?c:b;return e=d&&e>d?d:e,e},_notifyChange:function(a){var b=this._get(a,"onChangeMonthYear");b&&b.apply(a.input?a.input[0]:null,[a.selectedYear,a.selectedMonth+1,a])},_getNumberOfMonths:function(a){var b=this._get(a,"numberOfMonths");return b==null?[1,1]:typeof b=="number"?[1,b]:b},_getMinMaxDate:function(a,b){return this._determineDate(a,this._get(a,b+"Date"),null)},_getDaysInMonth:function(a,b){return 32-this._daylightSavingAdjust(new Date(a,b,32)).getDate()},_getFirstDayOfMonth:function(a,b){return(new Date(a,b,1)).getDay()},_canAdjustMonth:function(a,b,c,d){var e=this._getNumberOfMonths(a),f=this._daylightSavingAdjust(new Date(c,d+(b<0?b:e[0]*e[1]),1));return b<0&&f.setDate(this._getDaysInMonth(f.getFullYear(),f.getMonth())),this._isInRange(a,f)},_isInRange:function(a,b){var c=this._getMinMaxDate(a,"min"),d=this._getMinMaxDate(a,"max");return(!c||b.getTime()>=c.getTime())&&(!d||b.getTime()<=d.getTime())},_getFormatConfig:function(a){var b=this._get(a,"shortYearCutoff");return b=typeof b!="string"?b:(new Date).getFullYear()%100+parseInt(b,10),{shortYearCutoff:b,dayNamesShort:this._get(a,"dayNamesShort"),dayNames:this._get(a,"dayNames"),monthNamesShort:this._get(a,"monthNamesShort"),monthNames:this._get(a,"monthNames")}},_formatDate:function(a,b,c,d){b||(a.currentDay=a.selectedDay,a.currentMonth=a.selectedMonth,a.currentYear=a.selectedYear);var e=b?typeof b=="object"?b:this._daylightSavingAdjust(new Date(d,c,b)):this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return this.formatDate(this._get(a,"dateFormat"),e,this._getFormatConfig(a))}}),$.fn.datepicker=function(a){if(!this.length)return this;$.datepicker.initialized||($(document).mousedown($.datepicker._checkExternalClick).find("body").append($.datepicker.dpDiv),$.datepicker.initialized=!0);var b=Array.prototype.slice.call(arguments,1);return typeof a!="string"||a!="isDisabled"&&a!="getDate"&&a!="widget"?a=="option"&&arguments.length==2&&typeof arguments[1]=="string"?$.datepicker["_"+a+"Datepicker"].apply($.datepicker,[this[0]].concat(b)):this.each(function(){typeof a=="string"?$.datepicker["_"+a+"Datepicker"].apply($.datepicker,[this].concat(b)):$.datepicker._attachDatepicker(this,a)}):$.datepicker["_"+a+"Datepicker"].apply($.datepicker,[this[0]].concat(b))},$.datepicker=new Datepicker,$.datepicker.initialized=!1,$.datepicker.uuid=(new Date).getTime(),$.datepicker.version="1.8.20",window["DP_jQuery_"+dpuuid]=$})(jQuery);;jQuery.effects||function(a,b){function c(b){var c;return b&&b.constructor==Array&&b.length==3?b:(c=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(b))?[parseInt(c[1],10),parseInt(c[2],10),parseInt(c[3],10)]:(c=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(b))?[parseFloat(c[1])*2.55,parseFloat(c[2])*2.55,parseFloat(c[3])*2.55]:(c=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(b))?[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]:(c=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(b))?[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]:(c=/rgba\(0, 0, 0, 0\)/.exec(b))?e.transparent:e[a.trim(b).toLowerCase()]}function d(b,d){var e;do{e=a.curCSS(b,d);if(e!=""&&e!="transparent"||a.nodeName(b,"body"))break;d="backgroundColor"}while(b=b.parentNode);return c(e)}function h(){var a=document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle,b={},c,d;if(a&&a.length&&a[0]&&a[a[0]]){var e=a.length;while(e--)c=a[e],typeof a[c]=="string"&&(d=c.replace(/\-(\w)/g,function(a,b){return b.toUpperCase()}),b[d]=a[c])}else for(c in a)typeof a[c]=="string"&&(b[c]=a[c]);return b}function i(b){var c,d;for(c in b)d=b[c],(d==null||a.isFunction(d)||c in g||/scrollbar/.test(c)||!/color/i.test(c)&&isNaN(parseFloat(d)))&&delete b[c];return b}function j(a,b){var c={_:0},d;for(d in b)a[d]!=b[d]&&(c[d]=b[d]);return c}function k(b,c,d,e){typeof b=="object"&&(e=c,d=null,c=b,b=c.effect),a.isFunction(c)&&(e=c,d=null,c={});if(typeof c=="number"||a.fx.speeds[c])e=d,d=c,c={};return a.isFunction(d)&&(e=d,d=null),c=c||{},d=d||c.duration,d=a.fx.off?0:typeof d=="number"?d:d in a.fx.speeds?a.fx.speeds[d]:a.fx.speeds._default,e=e||c.complete,[b,c,d,e]}function l(b){return!b||typeof b=="number"||a.fx.speeds[b]?!0:typeof b=="string"&&!a.effects[b]?!0:!1}a.effects={},a.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","borderColor","color","outlineColor"],function(b,e){a.fx.step[e]=function(a){a.colorInit||(a.start=d(a.elem,e),a.end=c(a.end),a.colorInit=!0),a.elem.style[e]="rgb("+Math.max(Math.min(parseInt(a.pos*(a.end[0]-a.start[0])+a.start[0],10),255),0)+","+Math.max(Math.min(parseInt(a.pos*(a.end[1]-a.start[1])+a.start[1],10),255),0)+","+Math.max(Math.min(parseInt(a.pos*(a.end[2]-a.start[2])+a.start[2],10),255),0)+")"}});var e={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]},f=["add","remove","toggle"],g={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};a.effects.animateClass=function(b,c,d,e){return a.isFunction(d)&&(e=d,d=null),this.queue(function(){var g=a(this),k=g.attr("style")||" ",l=i(h.call(this)),m,n=g.attr("class")||"";a.each(f,function(a,c){b[c]&&g[c+"Class"](b[c])}),m=i(h.call(this)),g.attr("class",n),g.animate(j(l,m),{queue:!1,duration:c,easing:d,complete:function(){a.each(f,function(a,c){b[c]&&g[c+"Class"](b[c])}),typeof g.attr("style")=="object"?(g.attr("style").cssText="",g.attr("style").cssText=k):g.attr("style",k),e&&e.apply(this,arguments),a.dequeue(this)}})})},a.fn.extend({_addClass:a.fn.addClass,addClass:function(b,c,d,e){return c?a.effects.animateClass.apply(this,[{add:b},c,d,e]):this._addClass(b)},_removeClass:a.fn.removeClass,removeClass:function(b,c,d,e){return c?a.effects.animateClass.apply(this,[{remove:b},c,d,e]):this._removeClass(b)},_toggleClass:a.fn.toggleClass,toggleClass:function(c,d,e,f,g){return typeof d=="boolean"||d===b?e?a.effects.animateClass.apply(this,[d?{add:c}:{remove:c},e,f,g]):this._toggleClass(c,d):a.effects.animateClass.apply(this,[{toggle:c},d,e,f])},switchClass:function(b,c,d,e,f){return a.effects.animateClass.apply(this,[{add:c,remove:b},d,e,f])}}),a.extend(a.effects,{version:"1.8.20",save:function(a,b){for(var c=0;c<b.length;c++)b[c]!==null&&a.data("ec.storage."+b[c],a[0].style[b[c]])},restore:function(a,b){for(var c=0;c<b.length;c++)b[c]!==null&&a.css(b[c],a.data("ec.storage."+b[c]))},setMode:function(a,b){return b=="toggle"&&(b=a.is(":hidden")?"show":"hide"),b},getBaseline:function(a,b){var c,d;switch(a[0]){case"top":c=0;break;case"middle":c=.5;break;case"bottom":c=1;break;default:c=a[0]/b.height}switch(a[1]){case"left":d=0;break;case"center":d=.5;break;case"right":d=1;break;default:d=a[1]/b.width}return{x:d,y:c}},createWrapper:function(b){if(b.parent().is(".ui-effects-wrapper"))return b.parent();var c={width:b.outerWidth(!0),height:b.outerHeight(!0),"float":b.css("float")},d=a("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),e=document.activeElement;return b.wrap(d),(b[0]===e||a.contains(b[0],e))&&a(e).focus(),d=b.parent(),b.css("position")=="static"?(d.css({position:"relative"}),b.css({position:"relative"})):(a.extend(c,{position:b.css("position"),zIndex:b.css("z-index")}),a.each(["top","left","bottom","right"],function(a,d){c[d]=b.css(d),isNaN(parseInt(c[d],10))&&(c[d]="auto")}),b.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),d.css(c).show()},removeWrapper:function(b){var c,d=document.activeElement;return b.parent().is(".ui-effects-wrapper")?(c=b.parent().replaceWith(b),(b[0]===d||a.contains(b[0],d))&&a(d).focus(),c):b},setTransition:function(b,c,d,e){return e=e||{},a.each(c,function(a,c){var f=b.cssUnit(c);f[0]>0&&(e[c]=f[0]*d+f[1])}),e}}),a.fn.extend({effect:function(b,c,d,e){var f=k.apply(this,arguments),g={options:f[1],duration:f[2],callback:f[3]},h=g.options.mode,i=a.effects[b];return a.fx.off||!i?h?this[h](g.duration,g.callback):this.each(function(){g.callback&&g.callback.call(this)}):i.call(this,g)},_show:a.fn.show,show:function(a){if(l(a))return this._show.apply(this,arguments);var b=k.apply(this,arguments);return b[1].mode="show",this.effect.apply(this,b)},_hide:a.fn.hide,hide:function(a){if(l(a))return this._hide.apply(this,arguments);var b=k.apply(this,arguments);return b[1].mode="hide",this.effect.apply(this,b)},__toggle:a.fn.toggle,toggle:function(b){if(l(b)||typeof b=="boolean"||a.isFunction(b))return this.__toggle.apply(this,arguments);var c=k.apply(this,arguments);return c[1].mode="toggle",this.effect.apply(this,c)},cssUnit:function(b){var c=this.css(b),d=[];return a.each(["em","px","%","pt"],function(a,b){c.indexOf(b)>0&&(d=[parseFloat(c),b])}),d}}),a.easing.jswing=a.easing.swing,a.extend(a.easing,{def:"easeOutQuad",swing:function(b,c,d,e,f){return a.easing[a.easing.def](b,c,d,e,f)},easeInQuad:function(a,b,c,d,e){return d*(b/=e)*b+c},easeOutQuad:function(a,b,c,d,e){return-d*(b/=e)*(b-2)+c},easeInOutQuad:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b+c:-d/2*(--b*(b-2)-1)+c},easeInCubic:function(a,b,c,d,e){return d*(b/=e)*b*b+c},easeOutCubic:function(a,b,c,d,e){return d*((b=b/e-1)*b*b+1)+c},easeInOutCubic:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b+c:d/2*((b-=2)*b*b+2)+c},easeInQuart:function(a,b,c,d,e){return d*(b/=e)*b*b*b+c},easeOutQuart:function(a,b,c,d,e){return-d*((b=b/e-1)*b*b*b-1)+c},easeInOutQuart:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b*b+c:-d/2*((b-=2)*b*b*b-2)+c},easeInQuint:function(a,b,c,d,e){return d*(b/=e)*b*b*b*b+c},easeOutQuint:function(a,b,c,d,e){return d*((b=b/e-1)*b*b*b*b+1)+c},easeInOutQuint:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b*b*b+c:d/2*((b-=2)*b*b*b*b+2)+c},easeInSine:function(a,b,c,d,e){return-d*Math.cos(b/e*(Math.PI/2))+d+c},easeOutSine:function(a,b,c,d,e){return d*Math.sin(b/e*(Math.PI/2))+c},easeInOutSine:function(a,b,c,d,e){return-d/2*(Math.cos(Math.PI*b/e)-1)+c},easeInExpo:function(a,b,c,d,e){return b==0?c:d*Math.pow(2,10*(b/e-1))+c},easeOutExpo:function(a,b,c,d,e){return b==e?c+d:d*(-Math.pow(2,-10*b/e)+1)+c},easeInOutExpo:function(a,b,c,d,e){return b==0?c:b==e?c+d:(b/=e/2)<1?d/2*Math.pow(2,10*(b-1))+c:d/2*(-Math.pow(2,-10*--b)+2)+c},easeInCirc:function(a,b,c,d,e){return-d*(Math.sqrt(1-(b/=e)*b)-1)+c},easeOutCirc:function(a,b,c,d,e){return d*Math.sqrt(1-(b=b/e-1)*b)+c},easeInOutCirc:function(a,b,c,d,e){return(b/=e/2)<1?-d/2*(Math.sqrt(1-b*b)-1)+c:d/2*(Math.sqrt(1-(b-=2)*b)+1)+c},easeInElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(b==0)return c;if((b/=e)==1)return c+d;g||(g=e*.3);if(h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return-(h*Math.pow(2,10*(b-=1))*Math.sin((b*e-f)*2*Math.PI/g))+c},easeOutElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(b==0)return c;if((b/=e)==1)return c+d;g||(g=e*.3);if(h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return h*Math.pow(2,-10*b)*Math.sin((b*e-f)*2*Math.PI/g)+d+c},easeInOutElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(b==0)return c;if((b/=e/2)==2)return c+d;g||(g=e*.3*1.5);if(h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return b<1?-0.5*h*Math.pow(2,10*(b-=1))*Math.sin((b*e-f)*2*Math.PI/g)+c:h*Math.pow(2,-10*(b-=1))*Math.sin((b*e-f)*2*Math.PI/g)*.5+d+c},easeInBack:function(a,c,d,e,f,g){return g==b&&(g=1.70158),e*(c/=f)*c*((g+1)*c-g)+d},easeOutBack:function(a,c,d,e,f,g){return g==b&&(g=1.70158),e*((c=c/f-1)*c*((g+1)*c+g)+1)+d},easeInOutBack:function(a,c,d,e,f,g){return g==b&&(g=1.70158),(c/=f/2)<1?e/2*c*c*(((g*=1.525)+1)*c-g)+d:e/2*((c-=2)*c*(((g*=1.525)+1)*c+g)+2)+d},easeInBounce:function(b,c,d,e,f){return e-a.easing.easeOutBounce(b,f-c,0,e,f)+d},easeOutBounce:function(a,b,c,d,e){return(b/=e)<1/2.75?d*7.5625*b*b+c:b<2/2.75?d*(7.5625*(b-=1.5/2.75)*b+.75)+c:b<2.5/2.75?d*(7.5625*(b-=2.25/2.75)*b+.9375)+c:d*(7.5625*(b-=2.625/2.75)*b+.984375)+c},easeInOutBounce:function(b,c,d,e,f){return c<f/2?a.easing.easeInBounce(b,c*2,0,e,f)*.5+d:a.easing.easeOutBounce(b,c*2-f,0,e,f)*.5+e*.5+d}})}(jQuery);;(function(a,b){a.effects.bounce=function(b){return this.queue(function(){var c=a(this),d=["position","top","bottom","left","right"],e=a.effects.setMode(c,b.options.mode||"effect"),f=b.options.direction||"up",g=b.options.distance||20,h=b.options.times||5,i=b.duration||250;/show|hide/.test(e)&&d.push("opacity"),a.effects.save(c,d),c.show(),a.effects.createWrapper(c);var j=f=="up"||f=="down"?"top":"left",k=f=="up"||f=="left"?"pos":"neg",g=b.options.distance||(j=="top"?c.outerHeight({margin:!0})/3:c.outerWidth({margin:!0})/3);e=="show"&&c.css("opacity",0).css(j,k=="pos"?-g:g),e=="hide"&&(g=g/(h*2)),e!="hide"&&h--;if(e=="show"){var l={opacity:1};l[j]=(k=="pos"?"+=":"-=")+g,c.animate(l,i/2,b.options.easing),g=g/2,h--}for(var m=0;m<h;m++){var n={},p={};n[j]=(k=="pos"?"-=":"+=")+g,p[j]=(k=="pos"?"+=":"-=")+g,c.animate(n,i/2,b.options.easing).animate(p,i/2,b.options.easing),g=e=="hide"?g*2:g/2}if(e=="hide"){var l={opacity:0};l[j]=(k=="pos"?"-=":"+=")+g,c.animate(l,i/2,b.options.easing,function(){c.hide(),a.effects.restore(c,d),a.effects.removeWrapper(c),b.callback&&b.callback.apply(this,arguments)})}else{var n={},p={};n[j]=(k=="pos"?"-=":"+=")+g,p[j]=(k=="pos"?"+=":"-=")+g,c.animate(n,i/2,b.options.easing).animate(p,i/2,b.options.easing,function(){a.effects.restore(c,d),a.effects.removeWrapper(c),b.callback&&b.callback.apply(this,arguments)})}c.queue("fx",function(){c.dequeue()}),c.dequeue()})}})(jQuery);;var JSON;if(!JSON){JSON={};}
(function(){'use strict';function f(n){return n<10?'0'+n:n;}
if(typeof Date.prototype.toJSON!=='function'){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+'-'+
f(this.getUTCMonth()+1)+'-'+
f(this.getUTCDate())+'T'+
f(this.getUTCHours())+':'+
f(this.getUTCMinutes())+':'+
f(this.getUTCSeconds())+'Z':null;};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf();};}
var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={'\b':'\\b','\t':'\\t','\n':'\\n','\f':'\\f','\r':'\\r','"':'\\"','\\':'\\\\'},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==='string'?c:'\\u'+('0000'+a.charCodeAt(0).toString(16)).slice(-4);})+'"':'"'+string+'"';}
function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==='object'&&typeof value.toJSON==='function'){value=value.toJSON(key);}
if(typeof rep==='function'){value=rep.call(holder,key,value);}
switch(typeof value){case'string':return quote(value);case'number':return isFinite(value)?String(value):'null';case'boolean':case'null':return String(value);case'object':if(!value){return'null';}
gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==='[object Array]'){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||'null';}
v=partial.length===0?'[]':gap?'[\n'+gap+partial.join(',\n'+gap)+'\n'+mind+']':'['+partial.join(',')+']';gap=mind;return v;}
if(rep&&typeof rep==='object'){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==='string'){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?': ':':')+v);}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?': ':':')+v);}}}}
v=partial.length===0?'{}':gap?'{\n'+gap+partial.join(',\n'+gap)+'\n'+mind+'}':'{'+partial.join(',')+'}';gap=mind;return v;}}
if(typeof JSON.stringify!=='function'){JSON.stringify=function(value,replacer,space){var i;gap='';indent='';if(typeof space==='number'){for(i=0;i<space;i+=1){indent+=' ';}}else if(typeof space==='string'){indent=space;}
rep=replacer;if(replacer&&typeof replacer!=='function'&&(typeof replacer!=='object'||typeof replacer.length!=='number')){throw new Error('JSON.stringify');}
return str('',{'':value});};}
if(typeof JSON.parse!=='function'){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==='object'){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v;}else{delete value[k];}}}}
return reviver.call(holder,key,value);}
text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return'\\u'+
('0000'+a.charCodeAt(0).toString(16)).slice(-4);});}
if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,'@').replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,']').replace(/(?:^|:|,)(?:\s*\[)+/g,''))){j=eval('('+text+')');return typeof reviver==='function'?walk({'':j},''):j;}
throw new SyntaxError('JSON.parse');};}}());(function(a){a.libby=a.libby||{}})(this);(function(a){a.libby.jsonp={get:function(c){var b=document.getElementsByTagName("head")[0],d=document.createElement("script");d.type="text/javascript";d.async=!0;d.src=c;b.appendChild(d)}}})(this);(function(a){a.libby.event={_evts:{},on:function(c,b){this._evts[c]||(this._evts[c]=[]);this._evts[c].push(b)},fire:function(c,b){var d=this._evts[c];if(d)for(var a=0,f=d.length;a<f;a++)d[a].apply(null,b||[])}}})(this);(function(a){var c=Array.prototype.slice;a.libby.dataSource={_data:{},register:function(b,d){b in this._data||(this._data[b]={});this._data[b].source=d;return this},registerJsonp:function(b,d,c,f){return this.register(b,function(b){a[c]=b;f&&(d+=(d.indexOf("?")>-1?"&":"?")+"_="+(new Date).getTime());libby.jsonp.get(d)})},subscribe:function(b,d){if(this._data[b].data)d.apply(this,this._data[b].data);else libby.event.on(b,d);return this},update:function(b){var d=this;delete this._data[b].data;this._data[b].source.call(this,function(){d._notifier.apply(d,[b].concat(c.call(arguments)))});return this},_notifier:function(b){var d=c.call(arguments,1);this._data[b].data=d;libby.event.fire(b,d)}}})(this);(function(a){a.libby.defer=function(c){var b=!1,d=[],a=function(){for(var a=c.apply(this,arguments),i=d,e=0;e<i.length;e++){var g=i[e];g.fn.apply(g.bind,g.args)}b=!0;return a};a.reset=function(){d=[];b=!1};a.register=function(c,a,e){c={fn:c,bind:a||void 0,args:e||[]};if(b)c.fn.apply(c.bind,c.args);else{a:{a=c.fn;for(e=d.length;e--;)if(d[e].fn===a){a=!0;break a}a=!1}a||d.push(c)}};return a}})(this);(function(a){a.libby.cookie={create:function(c,b,a,h){b=encodeURIComponent(b);if(a){var f=new Date;f.setTime(f.getTime()+a*6E4);b+="; expires="+f.toGMTString()}document.cookie=c+"="+b+"; path=/"+(h?"; domain="+h:"");return this},_escapeRegExp:function(a){return a.replace(/[-[\]{}()*+?.\\^$|,#\s]/g,"\\$&")},read:function(a){return(a=document.cookie.match(RegExp("(?:;|^)\\s*"+this._escapeRegExp(a)+"=([^;]*)")))?decodeURIComponent(a[1]):null},erase:function(a,b){return this.create(a,"",-1,b)}}})(this);(function(a){a.libby.module=a.libby.module||{modules:{},pathForId:function(c,b){return a.libby.module.modules[c]||b},add:function(c){for(var b in c)c.hasOwnProperty(b)&&(a.libby.module.modules[b]=c[b])}}})(typeof exports!="undefined"?exports:this);(function(c){c.libby=c.libby||{};var f=c.libby.objectRemap=function(a,b){var g={};c.each(b,function(b,c){f.set(g,c,f.get(a,b))});return g};c.extend(c.libby.objectRemap,{get:function(a,b){for(var c=b.split("."),e=a[c.shift()],d=0;d<c.length;d++)e=e[c[d]];return e},set:function(a,b,f){for(var b=b.split("."),e=0;e<b.length-1;e++){var d=b[e];if(!(d in a)||!c.isPlainObject(a[d]))a[d]={};a=a[d]}a[b[b.length-1]]=f}})})(jQuery);(function(c){var f=Array.prototype.slice;c.widget("libby.widgetBase",{options:{pubsub:null},_super:function(a){return this._superApply(a,f.call(arguments,1))},_superApply:function(a,b){return c.libby.widgetBase.prototype[a].apply(this,b)},_create:function(){this.elements={}},_bind:function(a,b){(this.options.pubsub||this.element).bind(a+"."+this.widgetName,c.proxy(b,this))},_trigger:function(a,b){(this.options.pubsub||this.element).trigger(a,b)},_classFor:function(a){return this.widgetBaseClass+(a?"-"+a:"")},activate:function(){},deactivate:function(){}})})(jQuery);(function(a,c){var b={};a.globoapi=a.globoapi||{};a.globoapi.citySearch={minLength:3,cache:{},url:"http://api.globo.com/citysearch/",callProperCallbacks:function(a,d){for(var c=b[a],e=c.callbacks,g=0;g<e.length;g++)e[g](d,a);c.callbacks=[]},search:function(a,b){a.length<this.minLength||(this._isCallingApiForTerm(a)?this.registerCallbackForTerm(a,b):this._register(a,b))},registerCallbackForTerm:function(a,d){b[a]||(b[a]={callbacks:[]});b[a].callbacks.push(d)},_isCallingApiForTerm:function(a){return!(!b[a]||!b[a].scriptElement)},_register:function(a,d){this.registerCallbackForTerm(a,d);if(this.cache[a])this.callProperCallbacks(a,this.cache[a]);else{var h=c.getElementsByTagName("head")[0],e=c.createElement("script");e.type="text/javascript";e.src=this.url+a+"?_time="+(new Date).getTime();h.appendChild(e);b[a].scriptElement=e}}};a.globoapi_citySearch_callback=function(a,d){var h=b[a],e=h.scriptElement;globoapi.citySearch.cache[a]=d;delete h.scriptElement;c.getElementsByTagName("head")[0].removeChild(e);globoapi.citySearch.callProperCallbacks(a,d)}})(this,document);(function(a){a.globoapi=a.globoapi||{};a=a.globoapi.finance={eventName:"globoapi.finance",onSuccess:function(a){libby.dataSource.subscribe(this.eventName,a)},update:function(){libby.dataSource.update(this.eventName)}};libby.dataSource.registerJsonp(a.eventName,"http://api.globo.com/finance.jsonp","globoapi_finance_callback",!0)})(this);(function(a,c){a.globoapi=a.globoapi||{};a.globoapi.fipeSearch={minLength:3,cache:{},callbackName:null,url:"http://api.globo.com/fipe/",search:function(a,c,d){c.length<this.minLength||this._register(a,c,d)},_cacheKey:function(a,c){return a+"_"+c},_createCallback:function(a){return"jsonpFipe_"+(window.encodeURIComponent||window.escape)(a).replace(/[-_.!~*'()%]/g,"_")},_register:function(b,f,d){var h=this._cacheKey(b,f),e=this.cache[h],g=this.callbackName||this._createCallback(f),j=c.getElementsByTagName("head")[0],i=c.createElement("script"),k=this.cache;e?d(b,f,e):(a[g]=function(c){k[h]=c;d(b,f,c);try{delete a[g]}catch(e){}a[g]=null;j.removeChild(i)},i.type="text/javascript",i.src=this.url+b+"/"+f+".jsonp?callback="+g,j.appendChild(i))}}})(this,document);(function(a){var c,b=a.JSON&&JSON.stringify&&JSON.parse;a.globoapi=a.globoapi||{};a.globoapi.geo={url:"http://api.globo.com/geo",getScript:function(){libby.jsonp.get(this.url+"?_time="+(new Date).getTime())},onSuccess:function(a){if(this._success===!0)a.call(this,c);else libby.event.on("geoSuccess",a)},onNotFound:function(a){if(this._success===!1)a.call(this);else libby.event.on("geoNotFound",a)}};a.globoapi_geo_callback=function(a){a==null?(globoapi.geo._success=!1,libby.event.fire("geoNotFound")):(globoapi.geo._success=!0,c=a,libby.event.fire("geoSuccess",[a]),b&&libby.cookie.create("globoapi.geo.geolocation",JSON.stringify(a),null,"globo.com"))};var f=libby.cookie.read("globoapi.geo.geolocation");!b||f==null?a.globoapi.geo.getScript():a.globoapi_geo_callback(JSON.parse(f))})(this,document);(function(a){a.globoapi=a.globoapi||{};a.globoapi.horoscope={_processEventName:function(a){var b=/\.?complete/ig,a="globoapi.horoscope"+(a?"."+a:"");return b.test(a)?a.replace(b,""):a+".summary"},onSuccess:function(a,b){b==null&&(b=a,a="");libby.dataSource.subscribe(this._processEventName(a),b)},update:function(a){libby.dataSource.update(this._processEventName(a))}};libby.dataSource.registerJsonp("globoapi.horoscope","http://api.globo.com/horoscope.jsonp","globoapi_horoscope_callback",!0);libby.dataSource.registerJsonp("globoapi.horoscope.summary","http://api.globo.com/horoscope/summary.jsonp","globoapi_horoscope_callback",!0);for(var a=["cancer","touro","leao","aquario","sagitario","libra","peixes","virgem","aries","capricornio","escorpiao","gemeos"],c=a.length;c--;){var b=a[c];libby.dataSource.registerJsonp("globoapi.horoscope."+b+".summary","http://api.globo.com/horoscope/"+b+"/summary.jsonp","globoapi_horoscope_callback",!0);libby.dataSource.registerJsonp("globoapi.horoscope."+b,"http://api.globo.com/horoscope/"+b+".jsonp","globoapi_horoscope_callback",!0)}})(this);(function(a){a.globoapi=a.globoapi||{};var c=a.globoapi.novelaNews={eventName:"globoapi.novelaNews",url:"http://c.api.globo.com/novelas/",onSuccess:function(a){libby.event.on(this.eventName,a)},update:function(a){libby.jsonp.get(this.url+a+".jsonp")}};a.globoapi_novela_news_callback=function(a){libby.event.fire(c.eventName,[a])}})(this);(function(a){a.globoapi=a.globoapi||{};var c=a.globoapi.regionalNews={eventName:"globoapi.regionalNews",url:"http://c.api.globo.com/news/",onSuccess:function(a){libby.event.on(this.eventName,a)},update:function(a){libby.jsonp.get(this.url+a+".jsonp")}};a.globoapi_regional_news_callback=function(a){libby.event.fire(c.eventName,[a])}})(this);(function(a){a.globoapi=a.globoapi||{};a.globoapi.round={_processEventName:function(a){return"globoapi.round"+(a?"."+a:"")},onSuccess:function(a,b){libby.dataSource.subscribe(this._processEventName(a),b)},update:function(a){libby.dataSource.update(this._processEventName(a))}};libby.dataSource.registerJsonp("globoapi.round.brasileirao.current","http://api.globo.com/round/brasileirao/current.jsonp","globoapi_round_brasileirao_callback",!0);for(a=1;a<38;a++)libby.dataSource.registerJsonp("globoapi.round.brasileirao."+
a,"http://api.globo.com/round/brasileirao/"+a+".jsonp","globoapi_round_brasileirao_callback",!0)})(this);(function(a){a.globoapi=a.globoapi||{};var c=a.globoapi.soccerNews={eventName:"globoapi.soccerNews",url:"http://c.api.globo.com/soccer/",onSuccess:function(a){libby.event.on(this.eventName,a)},update:function(a){libby.jsonp.get(this.url+a+".jsonp")}};a.globoapi_soccer_news_callback=function(a){libby.event.fire(c.eventName,[a])}})(this);(function($){$.widget('responsive.touchDragger',{options:{scrollBar:null,offset:0},_resetScroll:function(){this.originalOffset=this._getTransformValues();this.maxScroll=this.element.height()+this.options.offset;this.offset=0;this.previousY=0;this.prePreviousY=0;},_getElementPageY:function(ev){if(ev.originalEvent.touches.length>0){return ev.originalEvent.touches[0].pageY;}else{return ev.originalEvent.pageY;}},_create:function(){this.element[0].style.webkitTransform='translate3d(0,0,0)';this._resetScroll();this._findElements();this._bindEvents();},_findElements:function(){this.elements={};this.elements.scrollBar=this.options.scrollBar;},_bindEvents:function(){this.elements.scrollBar.click(function(e){e.preventDefault();});this.elements.scrollBar.bind('touchstart.touchDragger',$.proxy(this._onTouchStart,this));this.elements.scrollBar.bind('touchmove.touchDragger',$.proxy(this._onTouchMove,this));this.elements.scrollBar.bind('touchend.touchDragger',$.proxy(this._onTouchEnd,this));},_onTouchStart:function(ev){ev.preventDefault();this.originalOffset=this._getTransformValues();this.offset=this._getElementPageY(ev);this.element.removeClass('animate');this.element.trigger("moving");},_onTouchMove:function(ev){ev.stopPropagation();ev.preventDefault();var pageY=this._getElementPageY(ev);var newMargin=this.originalOffset.y-(this.offset-pageY);this.prePreviousY=this.previousY;this.previousY=pageY;if(newMargin>0||newMargin<=-1*this.maxScroll){return;}
this._setTransformValues({x:this.originalOffset.x,y:newMargin,z:this.originalOffset.z});},open:function(){if(!this.element.hasClass("animate")){this.element.addClass('animate');}
var values=this._getTransformValues();values.y=0;this._setTransformValues(values);this.element.trigger("opened");},close:function(){if(!this.element.hasClass("animate")){this.element.addClass('animate');}
var values=this._getTransformValues();values.y=-1*this.maxScroll;this._setTransformValues(values);this.element.trigger("closed");},toggle:function(){var values=this._getTransformValues();if(values.y===0){this.close();}else{this.open();}},fastClose:function(){if(!this.element.hasClass("animate")){this.element.removeClass('animate');}
var values=this._getTransformValues();values.y=-1*this.maxScroll;this._setTransformValues(values);this.element.trigger("closed");},_onTouchEnd:function(ev){ev.preventDefault();this.element.addClass('animate');if(this.prePreviousY<=this.previousY){this._setTransformValues({x:this.originalOffset.x,y:0,z:this.originalOffset.z});this.element.trigger("opened");}else{this._setTransformValues({x:this.originalOffset.x,y:-1*this.maxScroll,z:this.originalOffset.z});this.element.trigger("closed");}
this._resetScroll();},_getTransformValues:function(){var match=/translate3d\((-?\d+)(?:px)?,\s*(-?\d+)(?:px)?,\s*(-?\d+)(?:px)?\)/.exec(this.element[0].style.webkitTransform);return{x:parseInt(match[1],10),y:parseInt(match[2],10),z:parseInt(match[3],10)};},_setTransformValues:function(values){this.element[0].style.webkitTransform="translate3d("+values.x.toString()+"px, "+values.y.toString()+"px, "+values.z.toString()+"px)";},_destroy:function(){this.elements.scrollBar.unbind('touchGragger');}});})(jQuery);(function(){var loadedStyles,loadedTeams;loadedStyles={};loadedTeams={};window.libby=window.libby||{};window.libby.SoccerTeams=(function(){function SoccerTeams(soccerApiUrl){this.head=$('head');this.path=soccerApiUrl||'http://api.globo.com/soccer_teams/';}
SoccerTeams.prototype.loadStyle=function(kind){if(loadedStyles[kind]){return;}
loadedStyles[kind]=true;return this.head.append($("<link rel=\"stylesheet\" href=\""+this.path+kind+".css\" type=\"text/css\" media=\"screen\" />"));};SoccerTeams.prototype.loadTeams=function(kind,callback){var _this=this;if(loadedTeams[kind]){return callback(loadedTeams[kind]);}
return $.ajax({url:""+this.path+kind+".jsonp",dataType:'jsonp',cache:true,jsonpCallback:'soccerTeams',success:function(data){return _this._onTeamsReady(data,callback,kind);}});};SoccerTeams.prototype._onTeamsReady=function(data,callback,kind){loadedTeams[kind]=data;return callback(data);};return SoccerTeams;})();}).call(this);(function($){$.easing=$.easing||{};$.easing.easeInOutCubic=function(x,t,b,c,d){if((t/=d/2)<1)return c/2*t*t*t+b;return c/2*((t-=2)*t*t+2)+b;};var easeIn=$.easing.easeIn=function(p){return Math.pow(p,2);};$.easing.easeOut=function(p){return 1-easeIn(1-p);};}(jQuery));;(function($)
{var defaults={duration:1000,clickHandler:null}
function startHandler(event)
{var $elem=jQuery(this);settings=jQuery.extend({},defaults,event.data);if(typeof $elem.data("events")!="undefined"&&typeof $elem.data("events").click!="undefined")
{for(var c in $elem.data("events").click)
{if($elem.data("events").click[c].namespace=="")
{var handler=$elem.data("events").click[c].handler
$elem.data("taphold_click_handler",handler);$elem.unbind("click",handler);break;}}}
else if(typeof settings.clickHandler=="function")
{$elem.data("taphold_click_handler",settings.clickHandler);}
$elem.data("taphold_triggered",false);$elem.data("taphold_clicked",false);$elem.data("taphold_cancelled",false);$elem.data("taphold_timer",setTimeout(function()
{if(!$elem.data("taphold_cancelled")&&!$elem.data("taphold_clicked"))
{$elem.trigger(jQuery.extend(event,jQuery.Event("taphold")));$elem.data("taphold_triggered",true);}},settings.duration));}
function stopHandler(event)
{var $elem=jQuery(this);if($elem.data("taphold_cancelled")){return;}
clearTimeout($elem.data("taphold_timer"));if(!$elem.data("taphold_triggered")&&!$elem.data("taphold_clicked"))
{if(typeof $elem.data("taphold_click_handler")=="function")
{$elem.data("taphold_click_handler")(jQuery.extend(event,jQuery.Event("click")));}
$elem.data("taphold_clicked",true);}}
function leaveHandler(event)
{$(this).data("taphold_cancelled",true);}
var touchSupported=("ontouchstart"in window)||("onmsgesturechange"in window);var taphold=$.event.special.taphold={setup:function(data)
{$(this).bind((touchSupported?"touchstart":"mousedown"),data,startHandler).bind((touchSupported?"touchend":"mouseup"),stopHandler).bind((touchSupported?"touchmove touchcancel":"mouseleave"),leaveHandler);},teardown:function(namespaces)
{$(this).unbind((touchSupported?"touchstart":"mousedown"),startHandler).unbind((touchSupported?"touchend":"mouseup"),stopHandler).unbind((touchSupported?"touchmove touchcancel":"mouseleave"),leaveHandler);}};})(jQuery);(function(window){var HomeMobileClicks=function(){this.fireClick=true;};HomeMobileClicks.prototype.init=function(){var that=this;window.libby.containerKindDefer.get(function(containerKind){that.isSmall=(containerKind==="smart"||containerKind==="smart_horizontal"||containerKind==="feature");if(that.isSmall){that.bind();}});};HomeMobileClicks.prototype.resetClick=function(e){e.preventDefault();e.stopImmediatePropagation();return false;};HomeMobileClicks.prototype.controlFireClick=function(e){var that=this;that.fireClick=false;setTimeout(function(){that.fireClick=true;},1000);};HomeMobileClicks.prototype.bind=function(){var that=this;$(document).on("taphold",{duration:300},function(e){that.controlFireClick(e);}).on("touchmove",function(e){that.controlFireClick(e);}).on('click','a',function(e){if(!that.fireClick){that.resetClick(e);}});};window.HomeMobileClicks=HomeMobileClicks;})(window);(function($,global){$.widget('glb.topglobocom3',{options:{animationTime:200,size:"desktop"},_create:function(){this.tabsContainer=this.element.find('div.tabs-container');this.tabContents=this.element.find('div.tab-content');this._setNumbers();if(window.libby&&libby.TopGloboHeightFix){new libby.TopGloboHeightFix();}
this._collectElements();try{this._bindTouchEvent();}catch(e){}},_setNumbers:function(){var ols=this.tabContents.find('ol');ols.each(function(){var numbers=$(this).find('.number'),i=1;numbers.each(function(){$(this).text(i);++i;});});},_bindTouchEvent:function(){if(this.options.size=='smart'||this.options.size=='smart_horizontal'||this.options.size=='feature'){this.iscroll=new IScroll(this.element.find('.mais-vistas')[0],{scrollX:true,scrollY:false,eventPassthrough:true,snap:'ol',momentum:false,bounce:false,click:true,bindToWrapper:true});this.iscroll.on('scrollEnd',$.proxy(this._onTouchEnd,this));}},_collectElements:function(){this.elements={};this.elements.stepMarkers=this.element.find('.step-marker li a');this.elements.pagerLiElements=this.element.find(".pages li");},setMarker:function(pos){this.elements.stepMarkers.find('.ball.active').removeClass('active');this.elements.stepMarkers.eq(pos).find('.ball').addClass('active');},_onTouchEnd:function(){var page=this.iscroll.currentPage.pageX;this.elements.pagerLiElements.removeClass('selected');this.elements.pagerLiElements.eq(page).addClass('selected');this.setMarker(page);}});}(jQuery,this));(function($,global){var mostSeen=$('#mais-vistas');var chamada=mostSeen.find('.border').first();var chamadaHeight=chamada.height();var isCorrectHeight=function(el){return el.innerHeight()<=chamadaHeight;};var updateHeight=function(){mostSeen.find('a').each(function(i,el){var newSz;el=$(el);el.css('font-size','');newSz=parseFloat(el.css('font-size'));while(!isCorrectHeight(el)){newSz-=1;if(newSz<10){break;}
el.css('font-size',newSz+'px');}});};global.libby=global.libby||{};global.libby.TopGloboHeightFix=function(){updateHeight();if(libby.pubsub){libby.pubsub.on('responsiveHub.onContainerChanged',updateHeight);}};})(jQuery,this);$.widget('libby.boxPrevisaoTempo',$.libby.widgetBase,{options:{weatherUrl:'http://g1.globo.com/previsao-do-tempo/',weatherApiUrl:'http://api.g1.globo.com/tempo/cidade-resumida/',trimCityNameAtIndex:22,defaultGeolocation:{country:{code:'BR'},city:{code:'sao-paulo',name:'SÃ£o Paulo'},state:{code:'SP',name:'SÃ£o Paulo'}}},_create:function(){window.glb=window.glb||{};window.glb.preferences=window.glb.preferences||[];this._super('_create');globoapi.geo.onSuccess($.proxy(this._withGeolocation,this));globoapi.geo.onNotFound($.proxy(this._onGeolocationNotFound,this));},_withGeolocation:function(geolocation){var self=this;window.glb.preferences.push(['get',{product:this._storageProductName(),key:this._storageKeyName(),callback:function(value){if(value){var city=JSON.parse(value);self.geolocation=city;}else{if(geolocation.city.code===null){self._onGeolocationNotFound();return;}
var majorLocation=(geolocation.country.code.toLowerCase()=='br')?geolocation.state.code:geolocation.country.ptSlug;geolocation.slug=self._createSlug(majorLocation,geolocation.city.code);self.geolocation=geolocation;}
self._callWeatherApi(self.geolocation.slug,self._withWeather);}}]);},_onGeolocationNotFound:function(){this._withGeolocation(this.options.defaultGeolocation);},_callWeatherApi:function(slug,callback){var url=this._createUrl(this.options.weatherApiUrl,slug,'jsonp');$.ajax({url:url,dataType:'jsonp',cache:true,jsonpCallback:'g1_previsao_cidade',success:$.proxy(callback,this)});this._weatherNotFoundFallback();},_weatherNotFoundFallback:function(){if(!this.triedFallback&&!this.element.hasClass('loaded')){var self=this;setTimeout(function(){if(!self.element.hasClass('loaded')){self.triedFallback=true;self._onGeolocationNotFound();}},1200);}},_withWeather:function(data){this._render();this._createWidgets();this._bindEvents();if(window.Modernizr&&Modernizr.touch){this._bindTouchEvents();}
this.update(data,true);},_createSlug:function(state,city){return state.toLowerCase().replace(/\s+/,'-')+'/'+city.toLowerCase().replace(/\s+/,'-');},_createUrl:function(domain,slug,type){return domain+slug+'.'+type;},_render:function(){this.element.addClass(this._classFor()).addClass('loaded');var tooltipClass=this._classFor('tooltip');var html=['<a class="link-complete-weather" href="#">','<div class="weather-icon"></div>','<div class="weather-info">','<div class="weather-location"></div>','<span class="min-temperature"></span><span class="label">MIN</span>','<span class="max-temperature"></span><span class="label">MAX</span>','</div>','</a>','<div class="',tooltipClass,'"></div>'];this.element.html(html.join(''));this.elements.linkCompleteWeather=this.element.find('.link-complete-weather');this.elements.maxTemperature=this.element.find('.max-temperature');this.elements.minTemperature=this.element.find('.min-temperature');this.elements.iconTemperature=this.element.find('.weather-icon');this.elements.weatherLocation=this.element.find('.weather-location');this.elements.tooltip=this.element.find('.'+tooltipClass);},_createWidgets:function(){this.element.boxPrevisaoTempoAnalytics({pubsub:this.element});this.elements.tooltip.boxPrevisaoTempoTooltip({pubsub:this.element,weatherUrl:this.options.weatherUrl});},_bindEvents:function(){this.element.bind('mouseenter',$.proxy(function(){this.elements.tooltip.boxPrevisaoTempoTooltip('activate');},this));this.element.bind('mouseleave',$.proxy(function(){this.elements.tooltip.boxPrevisaoTempoTooltip('deactivate');},this));this._bind('cityForecast',$.proxy(this._onForecast,this));this._bind('locationSelected',$.proxy(this._onLocationSelected,this));},_bindTouchEvents:function(){this.elements.linkCompleteWeather.bind('click',function(ev){ev.preventDefault();});this.element.unbind('mouseenter');this.element.unbind('mouseleave');var active=false;this.element.bind('touchstart',$.proxy(function(){active=!active;this.elements.tooltip.boxPrevisaoTempoTooltip(active?'activate':'deactivate');},this));},_getButtonLabel:function(city,state){return city;},_storageKeyName:function(){return'previsao-tempo';},_storageProductName:function(){return'jornalismo';},update:function(data,noCookie){if(!data)return;if(!noCookie){window.glb.preferences.push(['put',{product:this._storageProductName(),key:this._storageKeyName(),value:JSON.stringify(this.geolocation)}]);}
var weather=data.previsoes[0];this.elements.maxTemperature.html(weather.temperatura.maxima+'&deg;');this.elements.minTemperature.html(weather.temperatura.minima+'&deg;');this.elements.iconTemperature.attr('class','').attr('class','weather-icon weather-icon'+weather.icone);this.elements.weatherLocation.html(this._getButtonLabel(data.nome,data.prefixo));var url=this._createUrl(this.options.weatherUrl,this.geolocation.slug,'html');this._trigger('cityForecast',[this.geolocation,weather,url]);},_onForecast:function(ev,geolocation,weather,weatherDetailsUrl){this.elements.linkCompleteWeather.attr('href',weatherDetailsUrl);},_onLocationSelected:function(ev,geolocation){this.geolocation=geolocation;this._callWeatherApi(geolocation.slug,$.proxy(function(data){this.update(data,false);},this));}});(function(global){$.widget('libby.boxPrevisaoTempoAnalytics',$.libby.widgetBase,{_create:function(){this._super('_create');this.actualLocation={};this._bindEvents();},_bindEvents:function(){this._bind('cityForecast',this._onCityForecast);this._bind('locationSelected',this._onLocationSelected);this._bind('changeCity',this._onChangeCity);},_onCityForecast:function(ev,geolocation){this.actualLocation=geolocation;},_onChangeCity:function(ev){global._gaq.push(['_trackEvent','Clima','Intencao de troca',this.actualLocation.state.code+'/'+this.actualLocation.city.name]);},_onLocationSelected:function(ev,geolocation){global._gaq.push(['_trackEvent','Clima','Troca finalizada',geolocation.state.code+'/'+geolocation.city.name]);}});})(window);(function($,global){var ESC_KEYCODE=27;$.widget('libby.boxPrevisaoTempoTooltip',$.libby.widgetBase,{options:{weatherUrl:'http://g1.globo.com/previsao-do-tempo/',citySearchApiUrl:'http://api.globo.com/citysearch/'},_create:function(){this._super('_create');this.isBlocked=false;this.hasOpacitySupport=$.support.opacity;this._render();this._bindEvents();this._createWidgets();},_render:function(){var detailClass=this._classFor("detail");var citySearchClass=this._classFor("citySearch");var html=['<div class="submenu-n1">','<div class="menu-seta-balao"></div>','<div class="menu-canto-te"></div>','<div class="menu-canto-td"></div>','<div class="conteudo-subitens-bg clearfix">','<div class="conteudo-subitens-bg2 clearfix">','<div class="conteudo-subitens clearfix">','<div class="submenu-n1-content">','<div class="',detailClass,'">','</div>','<div class="',citySearchClass,'">','</div>','</div>','</div>','</div>','</div>','<div class="menu-canto-re"></div>','<div class="menu-canto-rd"></div>','</div>'];this.element.html(html.join(''));this.elements.submenu=this.element.find('.submenu-n1');this.elements.tooltipDetail=this.element.find('.'+detailClass);this.elements.tooltipCitySearch=this.element.find('.'+citySearchClass);},_createWidgets:function(){this.elements.tooltipDetail.boxPrevisaoTempoTooltipDetail({pubsub:this.options.pubsub,weatherUrl:this.options.weatherUrl});this.elements.tooltipCitySearch.boxPrevisaoTempoTooltipSearch({pubsub:this.options.pubsub,citySearchApiUrl:this.options.citySearchApiUrl});},_bindEvents:function(){this._bind("changeCity",$.proxy(this._onChangeCity,this));this._bind("locationSelected",$.proxy(this._onLocationSelected,this));this._bind("cancelCitySearch",$.proxy(this._onCancelCitySearch,this));$(document).bind('keydown',$.proxy(this._exitOnEsc,this)).bind('click',$.proxy(this._exitOnClickout,this));},_exitOnEsc:function(ev){if(ev.keyCode==ESC_KEYCODE&&this.isBlocked){this._onCancelCitySearch();}},_exitOnClickout:function(ev){if(this.isBlocked&&!$(ev.target).closest('.'+this.element.attr('class')).length){this._onCancelCitySearch();}},_onChangeCity:function(ev){this.elements.tooltipCitySearch.boxPrevisaoTempoTooltipSearch("activate");this.elements.tooltipDetail.boxPrevisaoTempoTooltipDetail("deactivate");this.isBlocked=true;},_onCancelCitySearch:function(ev){this.isBlocked=false;this.deactivate();},_onLocationSelected:function(ev){this._onCancelCitySearch();},_onComplete:function(visibility){return $.proxy(function(){this.elements.tooltipDetail.boxPrevisaoTempoTooltipDetail("activate");this.elements.tooltipCitySearch.boxPrevisaoTempoTooltipSearch("deactivate");this.elements.submenu.css("visibility",visibility);},this);},activate:function(){if(this.isBlocked)return;if(this.hasOpacitySupport){this.elements.submenu.stop(true).animate({opacity:1},{duration:200,queue:false});}
this._onComplete("visible")();},deactivate:function(){if(this.isBlocked)return;var onComplete=this._onComplete("hidden");if(this.hasOpacitySupport){this.elements.submenu.stop(true).animate({opacity:0},{duration:200,complete:onComplete,queue:false});}else{onComplete();}}});})(jQuery,this);$.widget('libby.boxPrevisaoTempoTooltipDetail',$.libby.widgetBase,{options:{weatherUrl:""},_create:function(){this._super('_create');this._render();this._bindEvents();},_render:function(){var html=['<span class="complete-weather-text"></span>','<a class="complete-weather-link" href="#">previsÃ£o completa âº</a>','<div class="tooltip-change-city">','<button class="btn-change-city" type="button">Trocar a cidade?</button>','</div>'];this.element.html(html.join(''));this.elements.changeCityButton=this.element.find('.btn-change-city');this.elements.completeWeatherLink=this.element.find('.complete-weather-link');this.elements.completeWeatherText=this.element.find('.complete-weather-text');},_bindEvents:function(){this.elements.changeCityButton.click($.proxy(this._changeCity,this));this._bind("cityForecast",$.proxy(this._onCityForecast,this));},_changeCity:function(){this._trigger("changeCity");},_onCityForecast:function(ev,geolocation,weather,completeWeatherUrl){this.elements.completeWeatherLink.attr('href',completeWeatherUrl);this.elements.completeWeatherText.text(weather.frase_completa);},activate:function(){this.element.show();this.element.parents('.glb-submenu-n1').css('width',this.element.outerWidth()+10);this.element.parents('.submenu-n1').css('width',this.element.outerWidth()+10);},deactivate:function(){this.element.hide();}});$.widget('libby.boxPrevisaoTempoTooltipSearch',$.libby.widgetBase,{_create:function(){this._super('_create');this._render();this._createWidgets();this._bindEvents();},_render:function(){var inputId=this._classFor("input-search");var html=['<input id="',inputId,'" value="" class="input-search" type="text" />','<div class="previsao-label">','<span>Cidade atual:</span>','<strong></strong>','</div>','<div class="search-suggestions libby-scrollbar"></div>','<button class="btn-close-tooltip" type="button">cancelar</button>'];this.element.html(html.join(''));this.elements.cancelButton=this.element.find('.btn-close-tooltip');this.elements.inputSearch=this.element.find('.input-search');this.elements.suggestions=this.element.find('.search-suggestions');this.elements.helpMessage=this.element.find('.previsao-label');this.elements.currentLocation=this.elements.helpMessage.find('strong');},_createWidgets:function(){var self=this;this.elements.inputSearch.boxPrevisaoTempoTooltipSearchInput();this.elements.inputSearch.autocomplete({minLength:3,autoFocus:true,appendTo:this.elements.suggestions,source:function(request,response){$.ajax({url:self.options.citySearchApiUrl+request.term+'.jsonp',dataType:'jsonp',jsonpCallback:'citySearch',success:function(result){response($.map(result.results,function(item){var cityCode=item.slug.split('/')[1];return{label:item.city+', '+item.state,value:item.city,city:{code:cityCode||item.city,name:item.city},state:{code:item.state},slug:item.slug};}));}});}});},_bindEvents:function(){this.elements.cancelButton.click($.proxy(this._cancelSearch,this));this.elements.inputSearch.bind('autocompleteselect',$.proxy(this._locationSelected,this));this.elements.inputSearch.bind('autocompleteopen',$.proxy(this._autocompleteOpen,this));this.elements.inputSearch.bind('autocompleteclose',$.proxy(this._autocompleteClose,this));this.elements.inputSearch.bind('boxPrevisaoTempoTooltipSearchInputClear',$.proxy(this._clearInput,this));this._bind('cityForecast',$.proxy(this._onCityForecast,this));},_locationSelected:function(ev,option){this._trigger('locationSelected',option.item);},_onCityForecast:function(ev,item){var label=item.label||(item.city.name+', '+(item.state.code||item.contry.name));this.elements.currentLocation.html(label);},_clearInput:function(){this.elements.inputSearch.autocomplete('search','');this.elements.inputSearch.autocomplete('close');},_cancelSearch:function(){this._trigger('cancelCitySearch');},_autocompleteOpen:function(){this.elements.suggestions.show();this.elements.helpMessage.hide();},_autocompleteClose:function(){this.elements.suggestions.hide();this.elements.helpMessage.show();},activate:function(){this.element.show();this.element.parents('.glb-submenu-n1').css('width',this.element.outerWidth()+10);this.element.parents('.submenu-n1').css('width',this.element.outerWidth()+10);this.elements.inputSearch.boxPrevisaoTempoTooltipSearchInput('activate');},deactivate:function(){this.elements.inputSearch.boxPrevisaoTempoTooltipSearchInput('deactivate');this.element.hide();}});$.widget('libby.boxPrevisaoTempoTooltipSearchInput',$.libby.widgetBase,{_create:function(){this._super('_create');this._render();this._bindEvents();},_render:function(){var elementId=this.element.attr('id');this.elements.container=$('<div class="tooltip-search"></div>');this.elements.placeholder=$('<label for="'+elementId+'">PrevisÃ£o do tempo para qual cidade?</label>');this.elements.clearButton=$('<button class="btn-clear-search" type="button">limpar busca</button>');this.element.replaceWith(this.elements.container);this.elements.container.append(this.element,this.elements.placeholder,this.elements.clearButton);},_bindEvents:function(){this._bind('keydown',$.proxy(this._delayedTogglePlaceholder,this));this._bind('focus',$.proxy(this._focusPlaceholder,this));this._bind('blur',$.proxy(this._blurPlaceholder,this));this.elements.clearButton.click($.proxy(this._clearInput,this));},_delayedTogglePlaceholder:function(){setTimeout($.proxy(this._togglePlaceholder,this),0);this.disablePlaceholder();},_togglePlaceholder:function(){if(this.element.val().length>0){this.elements.clearButton.removeClass('disabled');}else{this.elements.clearButton.addClass('disabled');}},_blurPlaceholder:function(){this.elements.placeholder.removeClass('soft');if(this.element.val().length==0){this.enablePlaceholder();}},_focusPlaceholder:function(){this.elements.placeholder.addClass('soft');},enablePlaceholder:function(){this.elements.placeholder.removeClass('disabled');},disablePlaceholder:function(){this.elements.placeholder.addClass('disabled');},_clearInput:function(){this._clearSearch();this._trigger('boxPrevisaoTempoTooltipSearchInputClear');},_clearSearch:function(){this.element.val('');this.element.focus();this._togglePlaceholder();},activate:function(){this._blurPlaceholder();this.element.focus();},deactivate:function(){this._clearInput();}});(function($){$.fn.WidgetGamesHome=function(options){var $this=$(this);$this.games=[];var settings={jsonPath:'/libby/aplicacoes/cadastro_jogos/games.json'};return this.each(function(){if(options){$.extend(settings,options);}
function buildStructure(){$this.elements={};var template=['<div class="widget-games-home">','<div class="content">','<h3>jogue <strong>online</strong></h3>','<div class="nav-button">','<a class="left" href="#"></a> ','<a class="right" href="#"></a>','</div>','<div class="body">','<nav class="games">','<div class="games-container">','<ul></ul>','</div>','<div class="info">','<a class="current-link" href="#"></a>','<span></span>','</div>','</nav>','</div>','</div>','</div>'].join('');$this.append(template);$this.elements.container=$this.find(".games-container");$this.elements.mainUl=$this.find(".games-container ul");$this.elements.title=$this.find(".info a");$this.elements.description=$this.find(".info span");}
function buildGames(games){$.each(games,function(i){var $li=$("<li />"),$img=$("<img />").attr({"alt":this.title,"src":this.cover,"data-idx":i}),$link=$("<a />").attr({href:this.url});$this.elements.mainUl.append($li.append($link.append($img)));});$this.elements.container.prepend($this.elements.mainUl.clone());$this.elements.container.append($this.elements.mainUl.clone());init_positions();}
function init_positions(){defineSizes();setCurrent(0,2);$this.elements.container.css("opacity",1);}
function resetSizes(){$this.elements.container.find("li img").attr("style","");}
function defineSizes(){resetSizes();var imgSmall=$this.elements.mainUl.find("li[class!='atual'] img");$this.sizes={liSmall:{width:imgSmall.width(),height:imgSmall.height(),marginTop:0},liLarge:{width:imgSmall.width()+(imgSmall.width()/100*32),height:imgSmall.height()+(imgSmall.height()/100*32),marginTop:-10}};$this.sizes.containerWidth=$this.find(".content").width();$this.sizes.liWidthDiff=$this.sizes.liLarge.width-$this.sizes.liSmall.width;if($this.find("li.atual")[0]){$this.sizes.ulWidth=$this.elements.container.find("ul").eq(0).width();}else{$this.sizes.ulWidth=$this.elements.mainUl.width();}}
function setCurrent(index,containerIndex,onComplete){var newMargin=((containerIndex-1)*$this.sizes.ulWidth*-1)-(index*$this.sizes.liSmall.width)+($this.sizes.containerWidth/2)-($this.sizes.liSmall.width/2)-($this.sizes.liWidthDiff/2),liElements=$this.elements.container.find('ul').eq(containerIndex-1).find('li'),currentLi=$this.elements.container.find('li.atual'),newLi=liElements.eq(index);if(currentLi.is(":animated")){return;}
if(currentLi[0]){currentLi.animate({marginLeft:0,marginRight:0}).find('img').animate($this.sizes.liSmall,"normal",function(){currentLi.removeClass('atual');});}
marginAnimation(newMargin,function(){handleUlRotation(containerIndex);});newLi.animate($this.marginLi).find('img').animate($this.sizes.liLarge,"normal",function(){newLi.addClass("atual");});$this.currentIndex=index;$this.currentContainerIndex=containerIndex;setCurrentData();}
function setCurrentData(){var gameData=$this.games[$this.currentIndex];$this.elements.title.text(gameData.title);$this.elements.title.attr('href',gameData.url);$this.elements.description.text(gameData.description);}
function marginAnimation(newMargin,onComplete){var marginInPixels=newMargin+"px";$this.elements.container.animate({marginLeft:marginInPixels},onComplete);}
function bindEvents(){$this.find("a.left").click(function(e){this.blur();e.preventDefault();move(-1);});$this.find("a.right").click(function(e){this.blur();e.preventDefault();move(1);});$this.elements.container.on("click",'li a',function(e){if(!$(this).parent().hasClass("atual")){e.preventDefault();goTo($(this));}});$this.elements.title.mouseenter(function(){$this.elements.container.find('li.atual a').addClass("hover");});$this.elements.title.mouseleave(function(){$this.elements.container.find('li.atual a').removeClass("hover");});libby.pubsub.on('responsiveHub.onContainerChanged',function(){defineSizes();setCurrent($this.currentIndex,$this.currentContainerIndex);})}
function move(amount,onComplete){var newPos=$this.currentIndex+amount,containerIndex=2;if(newPos<0){newPos+=$this.games.length;--containerIndex;}else if(newPos>=$this.games.length){newPos-=$this.games.length;++containerIndex;}
setCurrent(newPos,containerIndex);}
function goTo(target){var destinationUl=target.parents("ul"),ulElements=$this.elements.container.find('ul'),ulIdx=ulElements.index(destinationUl)-1,destinationIndex=target.find("img").data("idx")+(ulIdx*$this.games.length),increment=(destinationIndex>$this.currentIndex)?1:-1,amount=Math.abs(destinationIndex-$this.currentIndex);if(amount===0){return;}
move(amount*increment);}
function handleUlRotation(containerIndex,onComplete){var marginInc=0,ulToMove,insertPosition;if(containerIndex===1){ulToMove=$this.elements.container.find('ul').eq(2);insertPosition='prepend';marginInc=$this.sizes.ulWidth*-1;}else if(containerIndex===3){ulToMove=$this.elements.container.find('ul').eq(0);insertPosition='append';marginInc=$this.sizes.ulWidth;}
if(marginInc!==0){$this.elements.container[insertPosition](ulToMove);var currentMargin=parseInt($this.elements.container.css('margin-left'),10);$this.elements.container.css('margin-left',currentMargin+marginInc);}}
function _init_(){$.ajax({url:settings.jsonPath,success:function(data){$this.games=data;buildStructure();buildGames($this.games);bindEvents();},error:function(){return;}});}
_init_();});};})(jQuery);(function($){$.widget('libby.agrupadorDestaqueVideo',{options:{animationTime:600,interval:6000,overlayTime:100,size:"desktop"},_create:function(){this._bindEvents();this._createAnimationFunc();this._reorderItems();if(this.options.size=="smart"||this.options.size=="smart_horizontal"||this.options.size=="feature"){this.enableTouch();}
this.start();},enableTouch:function(){if(!this.touchEnabled){this._putPages();this._collectElements();this._bindTouchEvent();}
this.touchEnabled=true;},_bindTouchEvent:function(){this.iscroll=new libby.iScrollSwiper(this.elements.imageListContainer[0],{onScrollStart:$.proxy(this._onScrollStart,this),onScrollEnd:$.proxy(this._onScrollEnd,this),wheelAction:"none"});this.iscroll.scroller._wheel=function(){return};this.elements.goLeftButton.on("click",$.proxy(this._moveLeft,this));this.elements.goRightButton.on("click",$.proxy(this._moveRight,this));},_moveLeft:function(e){e.preventDefault();this._goTo(this.iscroll.scroller.currPageX-1);},_moveRight:function(e){e.preventDefault();this._goTo(this.iscroll.scroller.currPageX+1);},_goTo:function(index){if(index>=0&&index<=2){this.iscroll.scroller.scrollToPage(index,0,400);}},_selectPage:function(index){this.elements.pageLis.eq(index).addClass("selected");},_onScrollEnd:function(){this._selectPage(this.iscroll.scroller.currPageX);},_onScrollStart:function(){this.elements.pageLis.removeClass("selected");},_putPages:function(){var pagesHtml=['<div class="pages">','<a class="left" href="#">','<span></span>','</a>','<span>','<ul>','<li class="selected"><div></div></li>','<li><div></div></li>','<li><div></div></li>','</ul>','</span>','<a class="right" href="#">','<span></span>','</a>','</div>'].join(" ");this.element.append(pagesHtml);},_collectElements:function(){this.elements={};this.elements.imageListContainer=this.element.find(".image-list-container");this.elements.ulContainer=this.elements.imageListContainer.find("> ul");this.elements.pageLis=this.element.find(".pages li");this.elements.goLeftButton=this.element.find(".pages .left");this.elements.goRightButton=this.element.find(".pages .right");},_bindEvents:function(){var self=this;this.element.hover(function(){self.stop();},function(){self.start();});},_scrollList:function(ulElement,startStyle,endStyle){var first=ulElement.find('li').first(),height=first.outerHeight();first.animate($.extend({marginTop:-height},startStyle||{}),{duration:this.options.animationTime,easing:'swing',complete:function(){first.detach();ulElement.append(first);first.css($.extend({marginTop:0},endStyle||{}));}});},_createAnimationFunc:function(){var self=this,element=this.element,highlightListUl=element.find('.highlight-list ul'),imageListContainerUl=element.find('.image-list-container ul'),imageContainer=element.find('.image-container'),images=imageContainer.find('ul li'),outerLink=$('a.border-highlight');this.currentImageIdx=0;this.animationFunc=function(finishCallBack){var startStyle,endStyle;if($.support.opacity){startStyle={opacity:0};endStyle={opacity:1};}
self._scrollList(highlightListUl,startStyle,endStyle);self._scrollList(imageListContainerUl);var nextImgIdx=(self.currentImageIdx+1)%images.length;var first=images.eq(self.currentImageIdx);var second=images.eq(nextImgIdx);var height=first.height();self.currentImageIdx=nextImgIdx;first.css({zIndex:1});second.css({top:height,zIndex:2});outerLink.attr('href',second.find('a').attr('href'));imageContainer.removeClass(function(idx,classes){var m=classes.match(/(glb-hl.*?)( |$)/);return m?m[1]:"";});imageContainer.addClass(second.attr('class'));first.delay(self.options.overlayTime).animate({top:-height},self.options.animationTime,'swing');second.animate({top:0},self.options.animationTime,'swing',function(){first.stop(true,true);if(finishCallBack instanceof Function){finishCallBack();}});};},_reorderItems:function(){var imageThumbnails=this.element.find('.image-list-container li');imageThumbnails.first().parent().append(imageThumbnails.first().detach());},roll:function(){if(this.rolling){return;}
var self=this;this.rolling=true;this.animationFunc(function(){self.rolling=false;});},start:function(){if(this.timer){return;}
if(this.stopped){this._bindEvents();this.stopped=false;}
var self=this;this.timer=setInterval(function(){self.roll();},this.options.interval);},stop:function(forever){clearInterval(this.timer);this.timer=null;if(forever){this.stopped=true;this.element.unbind('mouseenter').unbind('mouseleave');}},reset:function(){var highlights=this.element.find('.highlight-list li');var imageThumbnails=this.element.find('.image-list-container li');var images=this.element.find('.image-container li');images.first().css({top:0,zIndex:1});images.each(function(i){if(i>0){$(this).css({zIndex:0});}});for(var i=0;i<(highlights.length-this.currentImageIdx);++i){var highlight=highlights.eq(i),imageThumb=imageThumbnails.eq(i);highlight.parent().append(highlight.detach());imageThumb.parent().append(imageThumb.detach());}
this.currentImageIdx=0;},destroy:function(){this.stop(true);this.reset();$.libby.widgetBase.prototype.destroy.apply(this,arguments);}});}(jQuery));(function($){$.widget('libby.agrupadorDestaqueGloboTV',{options:{progressAnimationTime:5000,fadeAnimationTime:600,channelsAnimationTime:300,size:"desktop"},_create:function(){this._collectElements();this._initVariables();this._bindEvents();if(this.options.size=='desktop'){this._runProgressAnimation();}else{this._stopAnimation();}
try{this._bindTouchEvent();}catch(e){}},_collectElements:function(){this.elements={};this.elements.menuArea=this.element.find(".menu-area");this.elements.menuItems=this.elements.menuArea.find("li a");this.elements.menuMarker=this.elements.menuArea.find(".marker");this.elements.menuProgress=this.elements.menuArea.find(".progress");this.elements.imageArea=this.element.find(".image-area");this.elements.imageItems=this.elements.imageArea.find("li");this.elements.titleArea=this.element.find(".title-area");this.elements.titleItems=this.elements.titleArea.find("li");this.elements.channelsLink=this.element.find(".footer-area .channels");this.elements.channelsArea=this.element.find(".channels-area");this.elements.goLeftButton=this.element.find(".pages .left");this.elements.goRightButton=this.element.find(".pages .right");this.elements.pagerLiElements=this.element.find(".pages li");},_initVariables:function(){this.numberOfItems=this.elements.menuItems.length;this.stepWidth=this.elements.menuItems.eq(0).width();this.markerWidth=this.elements.menuMarker.width();this.setCurrentPosition(0);this.ellapsedTime=0;this.elements.imageItems.not('.active').css({'opacity':0});},_bindEvents:function(){if(!(window.Modernizr&&Modernizr.touch)){this.element.bind('mouseenter',$.proxy(this._onMouseEnter,this));this.element.bind('mouseleave',$.proxy(this._onMouseLeave,this));}
this.elements.menuItems.bind('mouseenter',$.proxy(this._onItemMouseEnter,this));this.elements.menuItems.bind('mouseleave',$.proxy(this._onItemMouseLeave,this));this.elements.channelsLink.bind('click',$.proxy(this._toggleChannels,this));if(window.libby&&libby.pubsub){libby.pubsub.on('responsiveHub.onContainerChanged',$.proxy(this._handleContainerChanged,this));}},_bindTouchEvent:function(){this.iscroll=new libby.iScrollSwiper(this.elements.imageArea[0],{snap:'li a',onTouchEnd:$.proxy(this._onTouchEnd,this),scrollX:true,scrollY:false,eventPassthrough:true,momentum:false,bounce:false,click:true});this.elements.goLeftButton.on("click",$.proxy(this._moveLeft,this));this.elements.goRightButton.on("click",$.proxy(this._moveRight,this));},_onTouchEnd:function(){var page=this.iscroll.scroller.currPageX;this.elements.pagerLiElements.removeClass('selected');this.elements.pagerLiElements.eq(page).addClass('selected');},_moveLeft:function(ev){ev.preventDefault();this._goTo(this.iscroll.scroller.currPageX-1);},_moveRight:function(ev){ev.preventDefault();this._goTo(this.iscroll.scroller.currPageX+1);},_goTo:function(pos){if(pos<0||pos>2){return;}
this.iscroll.scroller.scrollToPage(pos,0,400);this._onTouchEnd();},_handleContainerChanged:function(ev,newSize,oldSize,format){if(format=='desktop'){this.iscroll.scroller.scrollToPage(0,0,0);this.animationStopped=false;this.elements.imageItems.not('.active').css({'opacity':0});this._onProgressComplete();}else{this._stopAnimation();}},_stopAnimation:function(){this.animationStopped=true;this.elements.menuProgress.stop();this.elements.imageItems.css({'opacity':1});},_onMouseEnter:function(){this.elements.menuProgress.stop();this.ellapsedTime+=(new Date()).getTime()-this.startAnimationTime;},_onMouseLeave:function(){if(this.animationStopped){return;}
this._runProgressAnimation();},_onItemMouseEnter:function(ev){var currentItem=$(ev.currentTarget);this.setCurrentPosition(currentItem.parent().index());this.elements.menuItems.addClass('hover-inactive');currentItem.removeClass('hover-inactive');this.elements.menuProgress.addClass('animated');this.elements.menuProgress.css('width',this.currentPosition*this.stepWidth);this.ellapsedTime=0;this.switchImages();},_onItemMouseLeave:function(ev){this.elements.menuItems.removeClass('hover-inactive');this.elements.menuProgress.removeClass('animated');},_toggleChannels:function(ev){ev.preventDefault();this.elements.channelsArea.fadeToggle(this.options.channelsAnimationTime,'linear');},_runProgressAnimation:function(continueAnimation){this.startAnimationTime=(new Date()).getTime();this.elements.menuProgress.animate({'width':(this.currentPosition+1)*this.stepWidth},{duration:this.options.progressAnimationTime-this.ellapsedTime,easing:'linear',complete:$.proxy(this._onProgressComplete,this)});},_onProgressComplete:function(){var newPos=this.currentPosition+1;if(newPos===this.numberOfItems){newPos=0;this.elements.menuProgress.css('width',0);}
this.setCurrentPosition(newPos);this.ellapsedTime=0;this.switchImages();this._runProgressAnimation();},setCurrentPosition:function(newPos){this.oldPosition=this.currentPosition||0;this.currentPosition=newPos;},switchImages:function(){this.elements.menuItems.removeClass('active');this.elements.menuItems.eq(this.currentPosition).addClass('active');this.elements.titleItems.removeClass('active');this.elements.titleItems.eq(this.currentPosition).addClass('active');var oldImage=this.elements.imageItems.eq(this.oldPosition),currentImage=this.elements.imageItems.eq(this.currentPosition),fadeAnimationOptions={duration:this.options.fadeAnimationTime,easing:'linear'};oldImage.removeClass('active').stop(true).animate({'opacity':0},fadeAnimationOptions);currentImage.addClass('active').stop(true).animate({'opacity':1},fadeAnimationOptions);var markerPosition=(this.stepWidth/2)-(this.markerWidth/2)+(this.stepWidth*this.currentPosition);this.elements.menuMarker.css('left',markerPosition);}});}(jQuery));(function($){$.widget('libby.agrupadorDestaqueGloboTVComCanais',{options:{automaticNextTime:5000,fadeAnimationTime:600,size:"desktop"},_create:function(){window._gaq=window._gaq||[];this._gaEventSent=false;this._gaEventTries=0;this._size=this.options.size;this._collectElements();this._bindEvents();this._resizeTitleArea();this._initVariables();if(!(this._size==='desktop')){this._stopAnimation();if(this.pages===4&&this._size==='tablet'){this._gaSendEvent();}}
try{this._bindTouchEvent();}catch(e){}},_gaSendEvent:function(){if(!this._gaEventSent){if($('script[src*="ga.js"]').length>0){window._gaq.push(['_trackPageview','/use/V/P/publicidade-quarto-video']);this._gaEventSent=true;}else{this._gaEventTries++;if(this._gaEventTries>5){return;}
setTimeout($.proxy(function(){this._gaSendEvent();},this),300);}}},_hasTouch:function(){return window.Modernizr&&Modernizr.touch;},_resizeTitleArea:function(){var titles=this.elements.titleItems.find('a .title');for(var i=titles.length-1;i>=0;i--){if(titles.eq(i).height()>=40){this.elements.titleArea.addClass('more-lines');break;}}},_collectElements:function(){this.elements={};this.elements.navigationButtons=this.element.find('.navigation-buttons');this.elements.navigationLeft=this.elements.navigationButtons.find('.left');this.elements.navigationRight=this.elements.navigationButtons.find('.right');this.elements.stepMarkers=this.element.find('.step-marker li a');this.elements.imageArea=this.element.find(".image-area");this.elements.imageElement=this.elements.imageArea.find('img');this.elements.imageItems=this.elements.imageArea.find("li");this.elements.titleArea=this.element.find(".title-area");this.elements.titleItems=this.elements.titleArea.find("li");this.elements.goLeftButton=this.element.find(".pages .left");this.elements.goRightButton=this.element.find(".pages .right");this.elements.pagerLiElements=this.element.find(".pages li");this.pages=this.elements.imageItems.length;},_initVariables:function(){this.setCurrentPosition(0);this.ellapsedTime=0;this.elements.imageItems.not('.active').css({'opacity':0});if(!this._hasTouch()){this._startAutomaticNextTimer();}},_repositionImages:function(){var areaHeight=this.elements.imageArea.height();this.elements.imageElement.each(function(i,el){var img=$(el),imgHeight=img.height();if(imgHeight>areaHeight){img.css('margin-top',-((imgHeight-areaHeight)/2));}});},_startAutomaticNextTimer:function(){this.startTimerTime=(new Date()).getTime();this.automaticNext=setTimeout($.proxy(function(){this._resetAnimationTimer();if(!this.animationStopped){this.setCurrentPosition(this.currentPosition+1);this.switchImages();this._startAutomaticNextTimer();}},this),this.options.automaticNextTime-this.ellapsedTime);},_resetAnimationTimer:function(){this.ellapsedTime=0;clearTimeout(this.automaticNext);},_bindEvents:function(){if(!this._hasTouch()){this.element.bind('mouseenter',$.proxy(this._onMouseEnter,this));this.element.bind('mouseleave',$.proxy(this._onMouseLeave,this));}
this.elements.navigationLeft.bind('click',$.proxy(this._onClickNext(-1),this));this.elements.navigationRight.bind('click',$.proxy(this._onClickNext(1),this));this.elements.stepMarkers.bind('click',$.proxy(this._onClickStep,this));if(window.libby&&libby.pubsub){libby.pubsub.on('responsiveHub.onContainerChanged',$.proxy(this._handleContainerChanged,this));}},_bindTouchEvent:function(){this.iscroll=new IScroll(this.elements.imageArea[0],{scrollX:true,scrollY:false,snap:'li a',momentum:false,bounce:false,eventPassthrough:true,useTransform:false,HWCompositing:false,bindToWrapper:true});this.iscroll.on('scrollEnd',$.proxy(this._onTouchEnd,this));this.elements.goLeftButton.on("click",$.proxy(this._moveLeft,this));this.elements.goRightButton.on("click",$.proxy(this._moveRight,this));},_onTouchEnd:function(){var page=this.iscroll.currentPage.pageX;this.elements.pagerLiElements.removeClass('selected');this.elements.pagerLiElements.eq(page).addClass('selected');this.setMarker(page);},_moveLeft:function(ev){ev.preventDefault();this._goTo(this.iscroll.currentPage.pageX-1);},_moveRight:function(ev){ev.preventDefault();this._goTo(this.iscroll.currentPage.pageX+1);},_goTo:function(pos){if(pos<0||pos>this.pages-1){return;}
this.iscroll.goToPage(pos,0,400);this._onTouchEnd();},_handleContainerChanged:function(ev,newSize,oldSize,format){this._size=format;if(this._size=='desktop'){this.iscroll.goToPage(0,0,0);this.animationStopped=false;this._initVariables();}else{this._stopAnimation();}},_stopAnimation:function(){this.animationStopped=true;this.elements.imageItems.css({'opacity':1});},_onMouseEnter:function(){this.ellapsedTime+=(new Date()).getTime()-this.startTimerTime;clearTimeout(this.automaticNext);},_onMouseLeave:function(){if(this.animationStopped){return;}
this._startAutomaticNextTimer();},_onClickNext:function(toNext){return $.proxy(function(ev){if(ev){ev.preventDefault();}
this._resetAnimationTimer();this.setCurrentPosition(this.currentPosition+toNext);this.switchImages();},this);},_onClickStep:function(ev){ev.preventDefault();if(this._size==='smart'||this._size==='smart_horizontal'||this._size==='feature'){return;}
var currentItem=$(ev.currentTarget);this.setCurrentPosition($(currentItem).parents('li').index());this.switchImages();},setCurrentPosition:function(newPos){if(newPos>this.pages-1){newPos=0;}else if(newPos<0){newPos=this.pages-1;}
this.oldPosition=this.currentPosition||0;this.currentPosition=newPos;},setMarker:function(pos){this.elements.stepMarkers.find('.ball.active').removeClass('active');this.elements.stepMarkers.eq(pos).find('.ball').addClass('active');if(pos===3){this._gaSendEvent();}},switchImages:function(){if(this.currentPosition===3){this._gaSendEvent();}
this.elements.titleItems.removeClass('active');this.elements.titleItems.eq(this.currentPosition).addClass('active');var oldImage=this.elements.imageItems.eq(this.oldPosition),currentImage=this.elements.imageItems.eq(this.currentPosition),fadeAnimationOptions={duration:this.options.fadeAnimationTime,easing:'linear'};oldImage.removeClass('active').stop(true).animate({'opacity':0},fadeAnimationOptions);currentImage.addClass('active').stop(true).animate({'opacity':1},fadeAnimationOptions);this.setMarker(this.currentPosition);}});}(jQuery));(function($){$.widget('libby.WidgetProgramacao',$.libby.widgetBase,{options:{programacaoURL:'http://local.globo.com:8989/schedule.jsonp'},_create:function(){this._getSchedule();},_buildDate:function(date){return this._pad(date.getHours())+'H'+this._pad(date.getMinutes());},_pad:function(number){return(''+number).length==1?'0'+number:number;},_createStructure:function(programs){var ul=["<ul>"];if(programs[0]){programs[0].title=programs[0].title||'';ul.push("<li class='now'>","<h3><span class='logo'></span><a href='http://redeglobo.globo.com'>REDE GLOBO","</a>","</h3>","<div class='hseparator'></div>","<span>AGORA</span>","<a class='show' title='",programs[0].title,"' href='",programs[0].url,"'>",programs[0].title,"</a>","</li>");}
if(programs[1]){programs[1].title=programs[1].title||'';ul.push("<li class='after'>","<span class='next'>","<span>A SEGUIR</span>","<a class='show' title='",programs[1].title,"' href='",programs[1].url,"'>",programs[1].title,"</a>","</span>");if(programs[2]){programs[2].title=programs[2].title||'';ul.push("<span class='hour'>","<span>",this._buildDate(this._parseDate(programs[2].date)),"</span>","<a class='show' title='",programs[2].title,"' href='",programs[2].url,"'>",programs[2].title,"</a>","</span>");}
ul.push("</li>");}
ul.push("<li class='full-schedule'>","<h3><a href='http://redeglobo.globo.com/programacao.html'>PROGRAMAÃÃO COMPLETA &rsaquo;","</a>","</h3>","</li>","</ul>");this.element.html(ul.join(''));},_parseDate:function(dateStr){var parts=dateStr.split('T'),dateParts=parts[0].split('-'),timeParts=parts[1].split(':'),date=new Date();date.setUTCFullYear(dateParts[0]);date.setUTCMonth(parseInt(dateParts[1],10)-1);date.setUTCDate(dateParts[2]);date.setUTCHours(timeParts[0]);date.setUTCMinutes(timeParts[1]);date.setUTCSeconds(0);return date;},_getSchedule:function(){var self=this;$.ajax({url:this.options.programacaoURL,dataType:'jsonp',jsonpCallback:'libbyJSONPCallback_libbyWidgetProgramacao',cache:true,success:function(data){var programsRightNow=[],rightNow=new Date(),lastProgram;if(!data){return;}
for(var i=0;i<data.length;i++){if(programsRightNow.length==3){break;}
var program=data[i],programTime=self._parseDate(program.date);if(programTime>rightNow){if(programsRightNow.length==0){programsRightNow.push(lastProgram);}
programsRightNow.push(program);}
lastProgram=program;}
self._createStructure(programsRightNow);}});}});})(jQuery);(function($){$.widget("libby.agrupadorTematicoCarrossel",{options:{animationDuration:800,elementsPerPage:3,easing:'swing',timeToMove:5000},_create:function(){this._collectElements();this._initVariables();this._createPager();this._bindEvents();this._updatePager();if(window.libby&&libby.responsive&&libby.responsive.scrollSpy){libby.responsive.scrollSpy.add(this.elements.carrosselArea[0],$.proxy(this.startMoving,this));}else{this.startMoving();}
if(window.Modernizr&&Modernizr.touch){this._bindTouchEvents();}},startMoving:function(){if(this.movingTimeout||this.stoppedForever){return;}
this.movingTimeout=setTimeout($.proxy(function(){this.movingTimeout=null;if(!this.roll(1)){this.roll(-1000);}
this.startMoving();},this),this.options.timeToMove);},stopMoving:function(){clearTimeout(this.movingTimeout);this.movingTimeout=null;},_collectElements:function(){this.elements={};this.elements.carrosselArea=this.element.find('.carrossel_area');this.elements.container=this.elements.carrosselArea.find('.ul-container');this.elements.mainUl=this.elements.container.find('ul');this.elements.pager=this.element.find('.pager');this.elements.liElements=this.elements.container.find('li');this.elements.pagerUl=this.element.find('.pager ul');},_initVariables:function(){var i,element,testRE=new RegExp(/[^\s]/),len;this.currentPosition=0;this.pageSize=this.options.elementsPerPage;this.columnWidth=this.elements.liElements.eq(0).width();this.ulWidth=this.elements.mainUl.width();this.animationChain=[];for(i=0,len=this.elements.liElements.length;i<len;++i){element=this.elements.liElements[i];if(!testRE.test(element.innerHTML)){break;}
$(element).addClass('valid');}
$(this.elements.liElements[i-1]).addClass('last-item');this.listLength=i;},_createPager:function(){var pages=Math.ceil(this.listLength/this.options.elementsPerPage),i,li,div;this.elements.pagerUl.empty();for(i=0;i<pages;++i){li=$('<li>');div=$('<div>');li.append(div);this.elements.pagerUl.append(li);this.applyPIE(div[0]);}
this.elements.pagerLiElements=this.elements.pagerUl.find('li');},applyPIE:function(el){if(window.PIE){PIE.attach(el);}},_bindEvents:function(){this.elements.pager.on('click','a.left',$.proxy(this.rollLeft,this));this.elements.pager.on('click','a.right',$.proxy(this.rollRight,this));this.element.on('mouseenter','.carrossel_area, .pager',$.proxy(this.stopMoving,this));this.element.on('mouseleave','.carrossel_area, .pager',$.proxy(this.startMoving,this));if(window.libby&&libby.pubsub){libby.pubsub.on('responsiveHub.onContainerChanged',$.proxy(this._resetRecalculateContainer,this));}},_bindTouchEvents:function(){this.iScrollSwiper=new libby.iScrollSwiper(this.elements.carrosselArea[0],{snap:'.destaque > li.valid',onTouchEnd:$.proxy(this._onTouchEnd,this)});},_onTouchEnd:function(){this.stoppedForever=true;this.stopMoving();this.currentPosition=this.iScrollSwiper.scroller.currPageX;this._updatePager();},_resetRecalculateContainer:function(ev,newSize,oldSize,format){if(format=='smart'||format=='smart_horizontal'||format=='feature'){this.options.elementsPerPage=2;}else{this.options.elementsPerPage=3;}
this._createPager();this.currentPosition=0;this.pageSize=this.options.elementsPerPage;this.columnWidth=this.elements.liElements.eq(0).width();this.ulWidth=this.elements.mainUl.width();this.animationChain=[];this._updatePager();this.animating=false;this.stopMoving();this.elements.container.stop(true,true).css('margin-left',0);if(this.iScrollSwiper){this.iScrollSwiper.scroller.refresh();this.iScrollSwiper.scroller.scrollToPage(0,0,0);}
this.startMoving();},_startAnimation:function(marginPos){this._updatePager();if(this.iScrollSwiper){this.iScrollSwiper.scroller.scrollToPage(this.currentPosition,0,this.options.animationDuration);return;}
this.animating=true;var self=this;this.elements.container.animate({'margin-left':marginPos},{duration:this.options.animationDuration,easing:this.options.easing,complete:function(){self.animating=false;var nextAnimation=self.animationChain.shift();if(nextAnimation){self.roll(nextAnimation);}}});},_updatePager:function(){var currentPage=Math.ceil(this.currentPosition/this.options.elementsPerPage);this.elements.pagerLiElements.removeClass('selected');this.elements.pagerLiElements.eq(currentPage).addClass('selected');},rollLeft:function(ev){this.stoppedForever=true;this.stopMoving();this.roll(-1,ev);},rollRight:function(ev){this.stoppedForever=true;this.stopMoving();this.roll(1,ev);},roll:function(amount,ev){ev&&ev.currentTarget&&ev.currentTarget.blur();ev&&ev.preventDefault();if(this.animating){this.animationChain.push(amount);return true;}
var nextPos=this.currentPosition+(amount*this.pageSize),nextAnimPos;if(nextPos+this.pageSize>this.listLength){nextPos=this.listLength-this.pageSize;}else if(nextPos<0){nextPos=0;}
if(nextPos===this.currentPosition){return false;}
this.currentPosition=nextPos;nextAnimPos=-(nextPos*this.columnWidth);this._startAnimation(nextAnimPos);return true;}});}(jQuery));(function($){$.widget("libby.agrupadorMusica",{options:{cursorSpeed:250,animateSpeed:30,clearSpeed:15,nextWordSpeed:3000,topUrl:'',topSongsUrl:'',rootUrl:'http://musica.com.br'},_create:function(){this.suggestions=[];this._collectElements();this._loadSuggestions();this._loadTopThreeSongs();this._bindEvents();},_bindEvents:function(){this.elements.input.focus($.proxy(function(){this.clearTimers();this.elements.input.val('');},this));this.elements.input.blur($.proxy(function(){if(!this.elements.input.val()){this.startLooping();}},this));this.elements.form.on('submit',$.proxy(function(ev){if(window._gaq){window._gaq.push(['_trackEvent','Franja Musica','Musica - Busca Letras',this.elements.input.val()]);}},this));if(window.libby&&libby.responsive&&libby.responsive.scrollSpy){libby.responsive.scrollSpy.add(this.elements.input[0],$.proxy(this.onInputVisible,this));}else{this.enabled=true;}},onInputVisible:function(){if(this.enabled){return;}
this.enabled=true;if(this.ready){this.startLooping();}},clearTimers:function(){if(this.nextWordTimer){clearInterval(this.nextWordTimer);}
if(this.animationTimer){clearInterval(this.animationTimer);}
if(this.timer){clearInterval(this.timer);}},_rand:function(lower,upper){return Math.floor((Math.random()*(upper-lower+1))+lower);},_nextWord:function(){if(!this.suggestions||this.suggestions.length==0){return'';}
var nextWord=this.suggestions[this._rand(0,this.suggestions.length-1)];while(this.lastWord&&nextWord==this.lastWord){nextWord=this.suggestions[this._rand(0,this.suggestions.length-1)];}
this.lastWord=nextWord;return nextWord;},_endsWith:function(original,str){return(original.match(str+"$")==str);},_collectElements:function(){this.elements={};this.elements.form=this.element.find('form');this.elements.input=this.element.find('.term');this.elements.songs=this.element.find('.top-letras .body li a');},_loadTopThreeSongs:function(){$.ajax({url:this.options.topSongsUrl,dataType:'jsonp',cache:true,jsonpCallback:'callbackMusicaTopMusicas',success:$.proxy(function(data){for(var i=0;i<data.length;i++){var obj=data[i],link=this.elements.songs.eq(i),url_parts=obj.url_ouvir.split('#');url_parts.splice(1,0,'?noAudience=true#');link.attr('href',this.options.rootUrl+url_parts.join(''));link.find('.photo img').attr('src',obj.artista.fotos['55x55']);link.find('.song h4').text(obj.artista.nome);link.find('.song p').text(obj.nome);}},this)});},_loadSuggestions:function(){$.ajax({url:this.options.topUrl,dataType:'jsonp',cache:true,jsonpCallback:'callbackMusicaTopArtistas',success:$.proxy(function(data){this.suggestions=[];for(var i=0;i<data.length;i++){this.suggestions.push(data[i].nome);}
if(this.enabled){this.startLooping();}
this.ready=true;},this)});},startLooping:function(){if(this.nextWordTimer){clearInterval(this.nextWordTimer);}
this.nextWordTimer=setInterval($.proxy(function(){this.animateNextWord();},this),this.options.nextWordSpeed);this.animateWord(this.elements.input,this._nextWord(),1,this.options.animateSpeed);},animateCursor:function(){var self=this;var text=self.elements.input.val();var removeCursor=self._endsWith(text,'_');self.animationTimer=setInterval(function(){self.elements.input.val(removeCursor?text:text+'_');removeCursor=!removeCursor;},self.options.cursorSpeed);},animateWord:function(element,word,offset,speed,callback){var self=this;var finish=word.length;var trail=this._endsWith(word,'_')?'':'_';var progress=offset==1?0:finish;self.timer=setInterval(function(){element.val(word.substring(0,progress)+trail);progress+=offset;var endCondition=offset==1?(progress>finish):(progress<0);if(endCondition){if(self.timer){clearInterval(self.timer);}
element.val(offset==1?word:'');if(callback){callback();}else{self.animateCursor();}}},speed);},animateNextWord:function(){var self=this;if(self.animationTimer){clearInterval(self.animationTimer);}
if(self.timer){clearInterval(self.timer);}
self.animateWord(self.elements.input,self.elements.input.val(),-1,self.options.clearSpeed,function(){self.animateWord(self.elements.input,self._nextWord(),1,self.options.animateSpeed);});}});}(jQuery));(function(global,$){var translateTable=[['a',/[Ã¡Ã£Ã Ã¤Ã¢]/g],['e',/[Ã©Ã¨ÃªÃ«]/g],['i',/[Ã­Ã¬Ã¯Ã®]/g],['o',/[Ã³Ã²ÃµÃ¶Ã´]/g],['u',/[ÃºÃ¹Ã¼Ã»]/g],['n',/Ã±/g],['c',/Ã§/g]];var translate=function(term){for(var i=0;i<translateTable.length;++i){term=term.replace(translateTable[i][1],translateTable[i][0]);}
return term;};var cityCmp=function(a,b){a=translate(a.label.toLowerCase());b=translate((b.label+' - '+b.sigla).toLowerCase());if(a<b){return-1;}else if(a>b){return 1;}
return 0;};var followUrl=function(url,referenceEl){var element=$('<a>').css('display','none').attr('href',url),evt;if(!referenceEl){referenceEl=document.body;}
if(document.createEvent){element.appendTo(referenceEl);evt=document.createEvent("MouseEvents");evt.initMouseEvent('click',true,true,window,0,0,0,0,0,false,false,false,false,0,null);element[0].dispatchEvent(evt);}else if(document.createEventObject){element.appendTo(referenceEl);evt=document.createEventObject();element[0].fireEvent('onclick',evt);element[0].click();}else{var newForm=$('<form method="GET"></form>').attr('action',url);newForm.appendTo(referenceEl);newForm.submit();}};var EleicoesCidadesInput=function(el,options){if(!el||el.length===0){return null;}
if(this.constructor!==EleicoesCidadesInput){return new EleicoesCidadesInput(el,options);}
this.element=$(el);this.options=$.extend({},this.options,options||{});this.citiesData={};this.collectElements();this.bindEvents();this.initAutocomplete();this.onInputFocus();return this;};EleicoesCidadesInput.prototype={constructor:EleicoesCidadesInput,options:{cityServicePath:'http://g1.globo.com/api/cidades-por-letra/'},collectElements:function(){this.elements={};this.elements.input=this.element.find('input');},bindEvents:function(){this.elements.input.bind('focusin',$.proxy(this.onInputFocus,this));this.elements.input.bind('focusout',$.proxy(this.onInputFocus,this));this.element.delegate('.close','click',$.proxy(this.onCloseClick,this));},initAutocomplete:function(){this.elements.input.autocomplete({minLength:2,position:{my:"left top",at:"left bottom",collision:"none",offset:'-1 0'},source:$.proxy(this.getAutoCompleteSource,this),select:$.proxy(this.optionSelected,this),appendTo:'.box-super-wide-eleicoes .suggestions-area',focus:$.proxy(this.optionFocused,this)}).data("autocomplete")._renderItem=$.proxy(this.renderItem,this);},renderItem:function(ul,item){return $("<li></li>").data("item.autocomplete",item).append("<a><strong>"+item.label+"</strong> - "+item.sigla+"</a>").appendTo(ul);},optionSelected:function(ev,ui){ev.preventDefault();var city=ui.item,fullUrl=this.generateFullUrl(city.url);followUrl(fullUrl,this.element);},optionFocused:function(ev,ui){ev.preventDefault();this.elements.input.val(ui.item.label+' - '+ui.item.sigla);},generateFullUrl:function(url){if(this.element.is(".glb-hl-style-eleicoes-apuracao")){url=url.replace(/\/cidade\//,'/apuracao/');}else{url+='#eleicoes';}
return"http://g1.globo.com"+url;},getAutoCompleteSource:function(search,addCallback){var firstLetter=search.term.substr(0,1),cachedCities=this.citiesData[firstLetter];if(!cachedCities){this.updateCitiesCache(firstLetter,search.term,addCallback);return;}
this.addCitiesForTerm(search.term,cachedCities,addCallback);},addCitiesForTerm:function(term,cachedCities,addCallback){var startPos=this.binarySearch(cachedCities,{label:term},cityCmp),endPos=this.binarySearch(cachedCities,{label:term+String.fromCharCode('z'.charCodeAt(0)+1)},cityCmp);addCallback(cachedCities.slice(startPos,endPos));},binarySearch:function(array,element,compareFn){var start=0,end=array.length,pivot,comparison;while(start<end){pivot=Math.floor((start+end)/2);comparison=compareFn(element,array[pivot]);if(comparison<0){end=pivot;}else if(comparison>0){start=pivot+1;}else{return pivot;}}
return start;},updateCitiesCache:function(letter,term,addCallback){$.ajax({url:this.options.cityServicePath+letter.toLowerCase()+'.jsonp',dataType:'jsonp',jsonp:false,jsonpCallback:'g1BuscaCidade',cache:true,success:$.proxy(function(data){if(data&&data.cidades){this.citiesData[letter]=data.cidades;this.addCitiesForTerm(term,data.cidades,addCallback);}},this)});},onInputFocus:function(ev){var hasFocus=(ev&&ev.type==='focusin')||this.elements.input.is(':focus')||this.elements.input.val()!=='';this.element.toggleClass('input-focus',hasFocus);},onCloseClick:function(ev){ev.preventDefault();this.elements.input.val('');this.elements.input.blur();}};global.libby=global.libby||{};global.libby.EleicoesCidadesInput=EleicoesCidadesInput;}(this,jQuery));(function($){$.widget("globocom2012.agrupadorTriploTecnologia",{options:{animationDuration:300},_create:function(){this._cacheElements();this._bindEvents();},_cacheElements:function(){this.elements={};this.elements.buttons=this.element.find('.games li > a');this.elements.arrows=this.element.find('.games li > a .seta');this.elements.playButtons=this.element.find('.games li > a .play');},_animateQueue:function(obj,queue,options){obj.stop(queue).animate(options,{duration:this.options.animationDuration,queue:queue}).dequeue(queue);},_animateRight:function(obj,right,duration,key,callback){obj.animate({right:right},{duration:duration,queue:key,complete:function(){if(callback){callback();}}});return this;},_bounce:function(obj,distance,start,offset,callback){var key='bounce_'+obj.key;var duration=this.options.animationDuration*2;obj.stop(key,true);this._animateRight(obj,start+(offset*distance),duration*0.4,key)._animateRight(obj,start-(offset*distance/2),duration*0.3,key)._animateRight(obj,start+(offset*distance/4),duration*0.3,key)._animateRight(obj,start,duration*0.3,key,callback);obj.dequeue(key);},_bindEvents:function(){if(Modernizr.touch){return;}
this.elements.buttons.bind('mouseenter',$.proxy(this._hover,this)).bind('mouseleave',$.proxy(this._leave,this));},_hover:function(ev){var button=$(ev.currentTarget);var buttonIndex=this.elements.buttons.index(button);button.addClass('no-bg').stop(true).animate({backgroundColor:'#fd7900',borderColor:'#fd7900'},this.options.animationDuration);var arrow=this.elements.arrows.eq(buttonIndex);arrow.key='arrow_'+buttonIndex;this._bounce(arrow,12,10,1);this._animateQueue(arrow,'arrow_color',{color:'#fff'});var content=button.find('.conteudo');content.animate({opacity:0,marginLeft:-50},{duration:this.options.animationDuration,queue:false});var play=this.elements.playButtons.eq(buttonIndex);play.key='play_'+buttonIndex;this._bounce(play,12,32,1);this._animateQueue(play,'play_color',{opacity:1});},_leave:function(ev){var button=$(ev.currentTarget);var buttonIndex=this.elements.buttons.index(button);button.animate({backgroundColor:'#fff',borderTopColor:'#ebebeb',borderRightColor:'#e5e5e5',borderBottomColor:'#d1d1d1',borderLeftColor:'#e5e5e5'},this.options.animationDuration,function(){$(this).removeClass('no-bg');});var arrow=this.elements.arrows.eq(buttonIndex);arrow.key='arrow_'+buttonIndex;this._bounce(arrow,8,10,-1);this._animateQueue(arrow,'arrow_color',{color:'#444'});var content=button.find('.conteudo');content.animate({opacity:1,marginLeft:0},{duration:this.options.animationDuration,queue:false});var play=this.elements.playButtons.eq(buttonIndex);play.key='play_'+buttonIndex;this._bounce(play,10,32,-1);this._animateQueue(play,'play_color',{opacity:0});}});}(jQuery));(function(global,$){var libby=global.libby||{},reHashHref=/^#/,reAbsoluteHref=/^https?:\/\//,reRelativeHref=/^\//,log=function(message){linksInstance.debug&&global.console&&console.log&&console.log(message);};var analyticsConfig={setDomainVar:function(){return window.glb&&glb.analyticsConfig&&glb.analyticsConfig.setDomainVar;},waitForAnalyticsTime:function(){return window.glb&&glb.analyticsConfig&&glb.analyticsConfig.waitForAnalyticsTime;},clicksAsEvents:function(){return window.glb&&glb.analyticsConfig&&glb.analyticsConfig.clicksAsEvents;}};window._gaq=window._gaq||[];libby.analytics=libby.analytics||{};var linksInstance=libby.analytics.links={debug:false,modules:[],debugMode:function(activate){if(activate&&!this.debug){global._gaq.originalPush=global._gaq.push;global._gaq.push=function(op){log(op);global._gaq.originalPush(op);};this.debug=true;}else if(!activate&&this.debug){global._gaq.push=global._gaq.originalPush;this.debug=false;}},register:function(module){this.modules.push(module);log('Debug analytic mode');},clear:function(){this.modules=[];linksInstance.hitData=null;},generateAnalytics:function(link,value){var url=(typeof link==='string')?link:link.attr('href');if(!url){return;}
var isHashUrl=reHashHref.test(url),context={link:link,url:url,trackingCode:[isHashUrl?'/use':'/out']};if(value){context.trackingCode.push(value);}
linksInstance._process(context);if(context.trackingCode[1]){var domain=null,isAbsoluteUrl=reAbsoluteHref.test(url),urlTracking=url.replace(reAbsoluteHref,'').replace(reRelativeHref,'').replace(reHashHref,'');if(isAbsoluteUrl){domain=urlTracking.split('/')[0];}else if(!isHashUrl){domain=window.location.hostname;urlTracking=domain+'/'+urlTracking;}
context.trackingCode.push(urlTracking);var key=context.trackingCode.join('/').replace(/\/{2}/,'/');this._recordOutboundLink(key,domain,context.trackingCode);}},tryWaitForClick:function(link){var url=link.attr('href');if(reHashHref.test(url)){return false;}
linksInstance.hitData={callbackCalled:false,timeoutHandler:null,url:url};linksInstance.hitData.timeoutHandler=setTimeout(linksInstance._createHitCallback('timeout'),analyticsConfig.waitForAnalyticsTime());_gaq.push(['_set','hitCallback',linksInstance._createHitCallback('completed')]);return true;},isHandlingClick:function(){return!!linksInstance.hitData;},_redirectWithReferrer:function(url){var anchor=$('<a>').attr('href',url),element=anchor[0];anchor.appendTo(document.body);if(document.createEvent){var evt=document.createEvent("MouseEvents");evt.initMouseEvent('click',true,true,window,0,0,0,0,0,false,false,false,false,0,null);return!element.dispatchEvent(evt);}
element.click();return true;},_createHitCallback:function(reason){var initialTime=null,hitData=linksInstance.hitData;try{initialTime=window.performance&&performance.now();}catch(e){}
return function(){if(hitData.callbackCalled){return;}
hitData.callbackCalled=true;if(hitData.timeoutHandler){clearTimeout(hitData.timeoutHandler);hitData.timeoutHandler=null;}
_gaq.push(['_set','hitCallback',null]);var currentTime=null,timeWaited=-1;try{currentTime=window.performance&&performance.now();}catch(e){}
if(currentTime&&initialTime){timeWaited=currentTime-initialTime;timeWaited=timeWaited-(timeWaited%25);}
linksInstance._redirectWithReferrer(hitData.url);try{localStorage.setItem('analytics-wait-time',reason+"|"+timeWaited);}catch(e){}};},_process:function(context){$.each(this.modules,function(i){this(context);});},_recordOutboundLink:function(key,domain,parts){log(key);if(analyticsConfig.setDomainVar()&&domain){_gaq.push(['_setCustomVar',15,'Domains',domain,3]);}
if(analyticsConfig.clicksAsEvents()){var mainPart=parts[1];_gaq.push(['_trackEvent',mainPart.category,mainPart.action,mainPart.label]);}else{_gaq.push(['_trackPageview',key]);}}};$(document).delegate('a','click',function(ev){var isMeta=ev.ctrlKey||ev.metaKey,linkElement=$(this);log('click');if(linksInstance.debug){ev.preventDefault();}
if(!isMeta&&analyticsConfig.waitForAnalyticsTime()){if(linksInstance.isHandlingClick()){return;}
var willWait=linksInstance.tryWaitForClick(linkElement);if(willWait){ev.preventDefault();}}
linksInstance.generateAnalytics(linkElement);});global.libby=libby;})(this,jQuery);(function(){window.LibbyWidgetAgenda=(function(){function LibbyWidgetAgenda(element,options){var defaults;this.element=element;this.months=['JAN','FEV','MAR','ABR','MAI','JUN','JUL','AGO','SET','OUT','NOV','DEZ'];defaults={globoApiUrl:'http://api.globoi.com/shows/',states_url:{'RJ':'rio-de-janeiro','SP':'sao-paulo'}};this.options=$.extend(defaults,options);globoapi.geo.onSuccess($.proxy(this.onGeolocate,this));globoapi.geo.onNotFound($.proxy(this.onGeolocate,this));}
LibbyWidgetAgenda.prototype.onGeolocate=function(location){var url,_ref,_this=this;this.scheduleUrl="http://g1.globo.com/";url=this.options.globoApiUrl;if(location&&((_ref=location.state.code)==='RJ'||_ref==='SP')){url+=""+this.options.states_url[location.state.code]+".jsonp";this.scheduleUrl+=this.options.states_url[location.state.code];}else{url+="todos.jsonp";}
this.fullScheduleUrl=""+this.scheduleUrl+"/musica/agenda.html";return $.ajax({url:url,dataType:'jsonp',jsonpCallback:'ApiShows',timeout:2000,success:function(response){return _this.createElement(response);}});};LibbyWidgetAgenda.prototype.createElement=function(shows){var date,html,last_day,partial_html,show,show_date,_i,_len,_ref;shows.sort(function(a,b){return a.date-b.date;});html="<a class=\"next\" href=\""+this.fullScheduleUrl+"\"><h3>PRÃXIMOS SHOWS</h3></a>\n<ul>";_ref=shows.slice(0,3);for(_i=0,_len=_ref.length;_i<_len;_i++){show=_ref[_i];date=new Date(show.date*1000);show_date=""+(date.getDate())+" "+this.months[date.getMonth()];partial_html="<li>\n  <a href='"+show.url+"'>";if(last_day!==show_date){last_day=show_date;partial_html+="<span class='date'>"+show_date+"</span>";}
partial_html+="    <span class=\"show\">"+show.artist+"</span>\n  </a>\n</li>";html+=partial_html;}
html+="</ul>\n<a class=\"go-to\" href=\""+this.fullScheduleUrl+"\">AGENDA COMPLETA &rsaquo;</a>";return this.element.append(html);};return LibbyWidgetAgenda;})();}).call(this);(function(global){var shouldIgnore=function(context){return typeof context.link=="string"||context.link.parents(".analytics-busca").length>0||context.link.parents(".opec").length>0;};var getArea=function(context){if(shouldIgnore(context)){return;}
var analyticsAreas=[],container=context.link.parents('.analytics-area'),patternClass=/analytics-id-(\w+)/g,patternId=/analytics-(\w+)/,classMatch;if(context.link.hasClass("analytics-play")){analyticsAreas.push("play");}
container.push(context.link);container.each(function(i){var current=$(this),classStr=current.attr("class"),maxIterations=10,tmpArray=[];while(maxIterations>0&&classStr&&(classMatch=patternClass.exec(classStr))){tmpArray.unshift(classMatch[1]);maxIterations--;}
analyticsAreas=analyticsAreas.concat(tmpArray);if(tmpArray.length===0){var idStr=current.attr("id");if(idStr){var valueArea=idStr.match(patternId);if(valueArea&&valueArea.length>1){analyticsAreas.push(valueArea[1]);}}}});if(!(context.link.parents(".game-area").length>0)&&!(context.link.parents(".lst-nav li").hasClass("on")&&!context.link.parents(".lst-nav li").hasClass("assistindo"))){context.trackingCode.push(analyticsAreas.reverse().join("/"));}};var getProduct=function(context){if(shouldIgnore(context)){return;}
var classesByProduct,container=context.link,productElement=container.parents(".glb-area-colunas"),franjaElement=container.parents(".franja-inferior, .agrupador-sextuplo"),destaqueElement,keysToPush=[],customPattern=/analytics-id-(\w+)/;if(productElement.length){destaqueElement=container.parents(".destaque");if(destaqueElement.hasClass("destaque-secundario")){classesByProduct="D";}else if(destaqueElement.hasClass("destaque-terciario")){classesByProduct=destaqueElement.parent().find('.destaque-terciario').index(destaqueElement)+1;}
var productCodes=['J','E','M'],idx=container.parents('section.area').index();if(idx>=0&&idx<productCodes.length){context.trackingCode.push(productCodes[idx]);}
context.trackingCode.push(classesByProduct);}else{classesByProduct={"noticias":"J","esportes":"E","entretenimento":"M","tecnologia":"T","videos":"V","agrupador-tematico-carrossel":"M","tvglobo":"G","tvg":"G","gshow":"G","famosos-style":"F","glb-hl-style-noticia":"J","glb-hl-style-esporte":"E","glb-hl-style-entretenimento":"M","glb-hl-style-rede-globo":"G","glb-menu-noticias":"J","glb-menu-esporte":"E","glb-menu-esportes":"E","glb-menu-entretenimento":"M","top-menu-home":"T"};productElement=container.parents('.chamada, .analytics-product, .destaque-topo').first();var allMyParents=container.parentsUntil(productElement),customTagItem='analytics-custom-product';if(productElement.length&&!(container.parents(".lst-nav li").hasClass("on")&&!container.parents(".lst-nav li").hasClass("assistindo"))){for(var key in classesByProduct){if(productElement.hasClass('analytics-multi-product')){if(productElement.hasClass(key)||allMyParents.filter('.'+key).length>0){keysToPush.push(classesByProduct[key]);}}else if(productElement.hasClass(key)||productElement.find('.'+key).length){keysToPush.push(classesByProduct[key]);break;}}
var customParents=allMyParents.filter('.analytics-custom-product'),iCustomParents=customParents.length-1,varValue;for(;iCustomParents>=0;--iCustomParents){varValue=customParents[iCustomParents].className&&customParents[iCustomParents].className.match(customPattern)[1];if(varValue){keysToPush.push(varValue);}}
if(keysToPush.length===0&&container.parents(".diretorio-indice").length>0){keysToPush.push("O");}
if(keysToPush.length>0){context.trackingCode=context.trackingCode.concat(keysToPush);}}
if(franjaElement.length){destaqueElement=container.parents(".destaques li, .destaque li, aside.links li, .widget-agenda li");if(destaqueElement.length){context.trackingCode.push(destaqueElement.index()+1);}}}};global.libby.analytics.links.register(getArea);global.libby.analytics.links.register(getProduct);})(this);(function(window){var refresher,lastCommand;window.preventRefresh={captureRefresher:function(){if(!refresher){if(glb.Refresher){refresher=glb.Refresher.getInstance();}else if(glb.SmartRefresher){refresher=glb.SmartRefresher.getInstance();}
if(lastCommand){lastCommand.call(this);}}},prevent:function(){if(refresher){refresher.stop();}else{lastCommand=this.prevent;}},allow:function(){if(refresher){refresher.start();}else{lastCommand=this.allow;}}};})(window);window.glb=window.glb||{};glb.Refresher=(function(){var instance;var simpleExtend=function(object,other){for(var key in other){if(other.hasOwnProperty(key)){object[key]=other[key];}}
return object;};function make(config){var __priv={timeout:null,timer:null};var __pub={timeout:null,onBeforeRefresh:function(){},onRemainDecrease:function(){},onBeforeStart:function(){},onBeforeStop:function(){},onStart:function(){},onStop:function(){}};var __private__={init:function(config){simpleExtend(__pub,config);__public__.start();return __public__;},decreaseRemain:function(){__priv.timeout--;__pub.onRemainDecrease(__priv.timeout,__pub.timeout);if(__priv.timeout===0){__public__.refresh();}}};var __public__={options:__pub,reconf:function(config){simpleExtend(__pub,config);},start:function(){__priv.timeout=this.options.timeout;if(this.options.onBeforeStart(this.options.timeout)!==false){clearInterval(__priv.timer);__priv.timer=setInterval(function(){__private__.decreaseRemain();},1000);this.options.onStart(this.options.timeout);}},refresh:function(){if(this.options.onBeforeRefresh(this.options.timeout)!==false){location.reload();}},stop:function(){if(this.options.onBeforeStop(__priv.timeout,this.options.timeout)!==false){clearInterval(__priv.timer);this.options.onStop(__priv.timeout,this.options.timeout);}},getInfo:function(){__pub.remain=__priv.timeout;return __pub;}};return __private__.init(config);}
return{getInstance:function(config){if(typeof instance==="undefined"){instance=make(config);}else{instance.reconf(config);}
return instance;}};})();(function(window,document,Math){var rAF=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(callback){window.setTimeout(callback,1000/60);};var utils=(function(){var me={};var _elementStyle=document.createElement('div').style;var _vendor=(function(){var vendors=['t','webkitT','MozT','msT','OT'],transform,i=0,l=vendors.length;for(;i<l;i++){transform=vendors[i]+'ransform';if(transform in _elementStyle)return vendors[i].substr(0,vendors[i].length-1);}
return false;})();function _prefixStyle(style){if(_vendor===false)return false;if(_vendor==='')return style;return _vendor+style.charAt(0).toUpperCase()+style.substr(1);}
me.getTime=Date.now||function getTime(){return new Date().getTime();};me.extend=function(target,obj){for(var i in obj){target[i]=obj[i];}};me.addEvent=function(el,type,fn,capture){el.addEventListener(type,fn,!!capture);};me.removeEvent=function(el,type,fn,capture){el.removeEventListener(type,fn,!!capture);};me.prefixPointerEvent=function(pointerEvent){return window.MSPointerEvent?'MSPointer'+pointerEvent.charAt(9).toUpperCase()+pointerEvent.substr(10):pointerEvent;};me.momentum=function(current,start,time,lowerMargin,wrapperSize,deceleration){var distance=current-start,speed=Math.abs(distance)/time,destination,duration;deceleration=deceleration===undefined?0.0006:deceleration;destination=current+(speed*speed)/(2*deceleration)*(distance<0?-1:1);duration=speed/deceleration;if(destination<lowerMargin){destination=wrapperSize?lowerMargin-(wrapperSize/2.5*(speed/8)):lowerMargin;distance=Math.abs(destination-current);duration=distance/speed;}else if(destination>0){destination=wrapperSize?wrapperSize/2.5*(speed/8):0;distance=Math.abs(current)+destination;duration=distance/speed;}
return{destination:Math.round(destination),duration:duration};};var _transform=_prefixStyle('transform');me.extend(me,{hasTransform:_transform!==false,hasPerspective:_prefixStyle('perspective')in _elementStyle,hasTouch:'ontouchstart'in window,hasPointer:window.PointerEvent||window.MSPointerEvent,hasTransition:_prefixStyle('transition')in _elementStyle});me.isBadAndroid=/Android /.test(window.navigator.appVersion)&&!(/Chrome\/\d/.test(window.navigator.appVersion));me.extend(me.style={},{transform:_transform,transitionTimingFunction:_prefixStyle('transitionTimingFunction'),transitionDuration:_prefixStyle('transitionDuration'),transitionDelay:_prefixStyle('transitionDelay'),transformOrigin:_prefixStyle('transformOrigin')});me.hasClass=function(e,c){var re=new RegExp("(^|\\s)"+c+"(\\s|$)");return re.test(e.className);};me.addClass=function(e,c){if(me.hasClass(e,c)){return;}
var newclass=e.className.split(' ');newclass.push(c);e.className=newclass.join(' ');};me.removeClass=function(e,c){if(!me.hasClass(e,c)){return;}
var re=new RegExp("(^|\\s)"+c+"(\\s|$)",'g');e.className=e.className.replace(re,' ');};me.offset=function(el){var left=-el.offsetLeft,top=-el.offsetTop;while(el=el.offsetParent){left-=el.offsetLeft;top-=el.offsetTop;}
return{left:left,top:top};};me.preventDefaultException=function(el,exceptions){for(var i in exceptions){if(exceptions[i].test(el[i])){return true;}}
return false;};me.extend(me.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,pointerdown:3,pointermove:3,pointerup:3,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3});me.extend(me.ease={},{quadratic:{style:'cubic-bezier(0.25, 0.46, 0.45, 0.94)',fn:function(k){return k*(2-k);}},circular:{style:'cubic-bezier(0.1, 0.57, 0.1, 1)',fn:function(k){return Math.sqrt(1-(--k*k));}},back:{style:'cubic-bezier(0.175, 0.885, 0.32, 1.275)',fn:function(k){var b=4;return(k=k-1)*k*((b+1)*k+b)+1;}},bounce:{style:'',fn:function(k){if((k/=1)<(1/2.75)){return 7.5625*k*k;}else if(k<(2/2.75)){return 7.5625*(k-=(1.5/2.75))*k+0.75;}else if(k<(2.5/2.75)){return 7.5625*(k-=(2.25/2.75))*k+0.9375;}else{return 7.5625*(k-=(2.625/2.75))*k+0.984375;}}},elastic:{style:'',fn:function(k){var f=0.22,e=0.4;if(k===0){return 0;}
if(k==1){return 1;}
return(e*Math.pow(2,-10*k)*Math.sin((k-f/4)*(2*Math.PI)/f)+1);}}});me.tap=function(e,eventName){var ev=document.createEvent('Event');ev.initEvent(eventName,true,true);ev.pageX=e.pageX;ev.pageY=e.pageY;e.target.dispatchEvent(ev);};me.click=function(e){var target=e.target,ev;if(!(/(SELECT|INPUT|TEXTAREA)/i).test(target.tagName)){ev=document.createEvent('MouseEvents');ev.initMouseEvent('click',true,true,e.view,1,target.screenX,target.screenY,target.clientX,target.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,0,null);ev._constructed=true;target.dispatchEvent(ev);}};return me;})();function IScroll(el,options){this.wrapper=typeof el=='string'?document.querySelector(el):el;this.scroller=this.wrapper.children[0];this.scrollerStyle=this.scroller.style;this.options={resizeScrollbars:true,mouseWheelSpeed:20,snapThreshold:0.334,startX:0,startY:0,scrollY:true,directionLockThreshold:5,momentum:true,bounce:true,bounceTime:600,bounceEasing:'',preventDefault:true,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:true,useTransition:true,useTransform:true};for(var i in options){this.options[i]=options[i];}
this.translateZ=this.options.HWCompositing&&utils.hasPerspective?' translateZ(0)':'';this.options.useTransition=utils.hasTransition&&this.options.useTransition;this.options.useTransform=utils.hasTransform&&this.options.useTransform;this.options.eventPassthrough=this.options.eventPassthrough===true?'vertical':this.options.eventPassthrough;this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault;this.options.scrollY=this.options.eventPassthrough=='vertical'?false:this.options.scrollY;this.options.scrollX=this.options.eventPassthrough=='horizontal'?false:this.options.scrollX;this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough;this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold;this.options.bounceEasing=typeof this.options.bounceEasing=='string'?utils.ease[this.options.bounceEasing]||utils.ease.circular:this.options.bounceEasing;this.options.resizePolling=this.options.resizePolling===undefined?60:this.options.resizePolling;if(this.options.tap===true){this.options.tap='tap';}
if(this.options.shrinkScrollbars=='scale'){this.options.useTransition=false;}
this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1;this.x=0;this.y=0;this.directionX=0;this.directionY=0;this._events={};this._init();this.refresh();this.scrollTo(this.options.startX,this.options.startY);this.enable();}
IScroll.prototype={version:'5.1.3',_init:function(){this._initEvents();if(this.options.scrollbars||this.options.indicators){this._initIndicators();}
if(this.options.mouseWheel){this._initWheel();}
if(this.options.snap){this._initSnap();}
if(this.options.keyBindings){this._initKeys();}},destroy:function(){this._initEvents(true);this._execEvent('destroy');},_transitionEnd:function(e){if(e.target!=this.scroller||!this.isInTransition){return;}
this._transitionTime();if(!this.resetPosition(this.options.bounceTime)){this.isInTransition=false;this._execEvent('scrollEnd');}},_start:function(e){if(utils.eventType[e.type]!=1){if(e.button!==0){return;}}
if(!this.enabled||(this.initiated&&utils.eventType[e.type]!==this.initiated)){return;}
if(this.options.preventDefault&&!utils.isBadAndroid&&!utils.preventDefaultException(e.target,this.options.preventDefaultException)){e.preventDefault();}
var point=e.touches?e.touches[0]:e,pos;this.initiated=utils.eventType[e.type];this.moved=false;this.distX=0;this.distY=0;this.directionX=0;this.directionY=0;this.directionLocked=0;this._transitionTime();this.startTime=utils.getTime();if(this.options.useTransition&&this.isInTransition){this.isInTransition=false;pos=this.getComputedPosition();this._translate(Math.round(pos.x),Math.round(pos.y));this._execEvent('scrollEnd');}else if(!this.options.useTransition&&this.isAnimating){this.isAnimating=false;this._execEvent('scrollEnd');}
this.startX=this.x;this.startY=this.y;this.absStartX=this.x;this.absStartY=this.y;this.pointX=point.pageX;this.pointY=point.pageY;this._execEvent('beforeScrollStart');},_move:function(e){if(!this.enabled||utils.eventType[e.type]!==this.initiated){return;}
if(this.options.preventDefault){e.preventDefault();}
var point=e.touches?e.touches[0]:e,deltaX=point.pageX-this.pointX,deltaY=point.pageY-this.pointY,timestamp=utils.getTime(),newX,newY,absDistX,absDistY;this.pointX=point.pageX;this.pointY=point.pageY;this.distX+=deltaX;this.distY+=deltaY;absDistX=Math.abs(this.distX);absDistY=Math.abs(this.distY);if(timestamp-this.endTime>300&&(absDistX<10&&absDistY<10)){return;}
if(!this.directionLocked&&!this.options.freeScroll){if(absDistX>absDistY+this.options.directionLockThreshold){this.directionLocked='h';}else if(absDistY>=absDistX+this.options.directionLockThreshold){this.directionLocked='v';}else{this.directionLocked='n';}}
if(this.directionLocked=='h'){if(this.options.eventPassthrough=='vertical'){e.preventDefault();}else if(this.options.eventPassthrough=='horizontal'){this.initiated=false;return;}
deltaY=0;}else if(this.directionLocked=='v'){if(this.options.eventPassthrough=='horizontal'){e.preventDefault();}else if(this.options.eventPassthrough=='vertical'){this.initiated=false;return;}
deltaX=0;}
deltaX=this.hasHorizontalScroll?deltaX:0;deltaY=this.hasVerticalScroll?deltaY:0;newX=this.x+deltaX;newY=this.y+deltaY;if(newX>0||newX<this.maxScrollX){newX=this.options.bounce?this.x+deltaX/3:newX>0?0:this.maxScrollX;}
if(newY>0||newY<this.maxScrollY){newY=this.options.bounce?this.y+deltaY/3:newY>0?0:this.maxScrollY;}
this.directionX=deltaX>0?-1:deltaX<0?1:0;this.directionY=deltaY>0?-1:deltaY<0?1:0;if(!this.moved){this._execEvent('scrollStart');}
this.moved=true;this._translate(newX,newY);if(timestamp-this.startTime>300){this.startTime=timestamp;this.startX=this.x;this.startY=this.y;}},_end:function(e){if(!this.enabled||utils.eventType[e.type]!==this.initiated){return;}
if(this.options.preventDefault&&!utils.preventDefaultException(e.target,this.options.preventDefaultException)){e.preventDefault();}
var point=e.changedTouches?e.changedTouches[0]:e,momentumX,momentumY,duration=utils.getTime()-this.startTime,newX=Math.round(this.x),newY=Math.round(this.y),distanceX=Math.abs(newX-this.startX),distanceY=Math.abs(newY-this.startY),time=0,easing='';this.isInTransition=0;this.initiated=0;this.endTime=utils.getTime();if(this.resetPosition(this.options.bounceTime)){return;}
this.scrollTo(newX,newY);if(!this.moved){if(this.options.tap){utils.tap(e,this.options.tap);}
if(this.options.click){utils.click(e);}
this._execEvent('scrollCancel');return;}
if(this._events.flick&&duration<200&&distanceX<100&&distanceY<100){this._execEvent('flick');return;}
if(this.options.momentum&&duration<300){momentumX=this.hasHorizontalScroll?utils.momentum(this.x,this.startX,duration,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:newX,duration:0};momentumY=this.hasVerticalScroll?utils.momentum(this.y,this.startY,duration,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{destination:newY,duration:0};newX=momentumX.destination;newY=momentumY.destination;time=Math.max(momentumX.duration,momentumY.duration);this.isInTransition=1;}
if(this.options.snap){var snap=this._nearestSnap(newX,newY);this.currentPage=snap;time=this.options.snapSpeed||Math.max(Math.max(Math.min(Math.abs(newX-snap.x),1000),Math.min(Math.abs(newY-snap.y),1000)),300);newX=snap.x;newY=snap.y;this.directionX=0;this.directionY=0;easing=this.options.bounceEasing;}
if(newX!=this.x||newY!=this.y){if(newX>0||newX<this.maxScrollX||newY>0||newY<this.maxScrollY){easing=utils.ease.quadratic;}
this.scrollTo(newX,newY,time,easing);return;}
this._execEvent('scrollEnd');},_resize:function(){var that=this;clearTimeout(this.resizeTimeout);this.resizeTimeout=setTimeout(function(){that.refresh();},this.options.resizePolling);},resetPosition:function(time){var x=this.x,y=this.y;time=time||0;if(!this.hasHorizontalScroll||this.x>0){x=0;}else if(this.x<this.maxScrollX){x=this.maxScrollX;}
if(!this.hasVerticalScroll||this.y>0){y=0;}else if(this.y<this.maxScrollY){y=this.maxScrollY;}
if(x==this.x&&y==this.y){return false;}
this.scrollTo(x,y,time,this.options.bounceEasing);return true;},disable:function(){this.enabled=false;},enable:function(){this.enabled=true;},refresh:function(){var rf=this.wrapper.offsetHeight;this.wrapperWidth=this.wrapper.clientWidth;this.wrapperHeight=this.wrapper.clientHeight;this.scrollerWidth=this.scroller.offsetWidth;this.scrollerHeight=this.scroller.offsetHeight;this.maxScrollX=this.wrapperWidth-this.scrollerWidth;this.maxScrollY=this.wrapperHeight-this.scrollerHeight;this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0;this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0;if(!this.hasHorizontalScroll){this.maxScrollX=0;this.scrollerWidth=this.wrapperWidth;}
if(!this.hasVerticalScroll){this.maxScrollY=0;this.scrollerHeight=this.wrapperHeight;}
this.endTime=0;this.directionX=0;this.directionY=0;this.wrapperOffset=utils.offset(this.wrapper);this._execEvent('refresh');this.resetPosition();},on:function(type,fn){if(!this._events[type]){this._events[type]=[];}
this._events[type].push(fn);},off:function(type,fn){if(!this._events[type]){return;}
var index=this._events[type].indexOf(fn);if(index>-1){this._events[type].splice(index,1);}},_execEvent:function(type){if(!this._events[type]){return;}
var i=0,l=this._events[type].length;if(!l){return;}
for(;i<l;i++){this._events[type][i].apply(this,[].slice.call(arguments,1));}},scrollBy:function(x,y,time,easing){x=this.x+x;y=this.y+y;time=time||0;this.scrollTo(x,y,time,easing);},scrollTo:function(x,y,time,easing){easing=easing||utils.ease.circular;this.isInTransition=this.options.useTransition&&time>0;if(!time||(this.options.useTransition&&easing.style)){this._transitionTimingFunction(easing.style);this._transitionTime(time);this._translate(x,y);}else{this._animate(x,y,time,easing.fn);}},scrollToElement:function(el,time,offsetX,offsetY,easing){el=el.nodeType?el:this.scroller.querySelector(el);if(!el){return;}
var pos=utils.offset(el);pos.left-=this.wrapperOffset.left;pos.top-=this.wrapperOffset.top;if(offsetX===true){offsetX=Math.round(el.offsetWidth/2-this.wrapper.offsetWidth/2);}
if(offsetY===true){offsetY=Math.round(el.offsetHeight/2-this.wrapper.offsetHeight/2);}
pos.left-=offsetX||0;pos.top-=offsetY||0;pos.left=pos.left>0?0:pos.left<this.maxScrollX?this.maxScrollX:pos.left;pos.top=pos.top>0?0:pos.top<this.maxScrollY?this.maxScrollY:pos.top;time=time===undefined||time===null||time==='auto'?Math.max(Math.abs(this.x-pos.left),Math.abs(this.y-pos.top)):time;this.scrollTo(pos.left,pos.top,time,easing);},_transitionTime:function(time){time=time||0;this.scrollerStyle[utils.style.transitionDuration]=time+'ms';if(!time&&utils.isBadAndroid){this.scrollerStyle[utils.style.transitionDuration]='0.001s';}
if(this.indicators){for(var i=this.indicators.length;i--;){this.indicators[i].transitionTime(time);}}},_transitionTimingFunction:function(easing){this.scrollerStyle[utils.style.transitionTimingFunction]=easing;if(this.indicators){for(var i=this.indicators.length;i--;){this.indicators[i].transitionTimingFunction(easing);}}},_translate:function(x,y){if(this.options.useTransform){this.scrollerStyle[utils.style.transform]='translate('+x+'px,'+y+'px)'+this.translateZ;}else{x=Math.round(x);y=Math.round(y);this.scrollerStyle.left=x+'px';this.scrollerStyle.top=y+'px';}
this.x=x;this.y=y;if(this.indicators){for(var i=this.indicators.length;i--;){this.indicators[i].updatePosition();}}},_initEvents:function(remove){var eventType=remove?utils.removeEvent:utils.addEvent,target=this.options.bindToWrapper?this.wrapper:window;eventType(window,'orientationchange',this);eventType(window,'resize',this);if(this.options.click){eventType(this.wrapper,'click',this,true);}
if(!this.options.disableMouse){eventType(this.wrapper,'mousedown',this);eventType(target,'mousemove',this);eventType(target,'mousecancel',this);eventType(target,'mouseup',this);}
if(utils.hasPointer&&!this.options.disablePointer){eventType(this.wrapper,utils.prefixPointerEvent('pointerdown'),this);eventType(target,utils.prefixPointerEvent('pointermove'),this);eventType(target,utils.prefixPointerEvent('pointercancel'),this);eventType(target,utils.prefixPointerEvent('pointerup'),this);}
if(utils.hasTouch&&!this.options.disableTouch){eventType(this.wrapper,'touchstart',this);eventType(target,'touchmove',this);eventType(target,'touchcancel',this);eventType(target,'touchend',this);}
eventType(this.scroller,'transitionend',this);eventType(this.scroller,'webkitTransitionEnd',this);eventType(this.scroller,'oTransitionEnd',this);eventType(this.scroller,'MSTransitionEnd',this);},getComputedPosition:function(){var matrix=window.getComputedStyle(this.scroller,null),x,y;if(this.options.useTransform){matrix=matrix[utils.style.transform].split(')')[0].split(', ');x=+(matrix[12]||matrix[4]);y=+(matrix[13]||matrix[5]);}else{x=+matrix.left.replace(/[^-\d.]/g,'');y=+matrix.top.replace(/[^-\d.]/g,'');}
return{x:x,y:y};},_initIndicators:function(){var interactive=this.options.interactiveScrollbars,customStyle=typeof this.options.scrollbars!='string',indicators=[],indicator;var that=this;this.indicators=[];if(this.options.scrollbars){if(this.options.scrollY){indicator={el:createDefaultScrollbar('v',interactive,this.options.scrollbars),interactive:interactive,defaultScrollbars:true,customStyle:customStyle,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenX:false};this.wrapper.appendChild(indicator.el);indicators.push(indicator);}
if(this.options.scrollX){indicator={el:createDefaultScrollbar('h',interactive,this.options.scrollbars),interactive:interactive,defaultScrollbars:true,customStyle:customStyle,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenY:false};this.wrapper.appendChild(indicator.el);indicators.push(indicator);}}
if(this.options.indicators){indicators=indicators.concat(this.options.indicators);}
for(var i=indicators.length;i--;){this.indicators.push(new Indicator(this,indicators[i]));}
function _indicatorsMap(fn){for(var i=that.indicators.length;i--;){fn.call(that.indicators[i]);}}
if(this.options.fadeScrollbars){this.on('scrollEnd',function(){_indicatorsMap(function(){this.fade();});});this.on('scrollCancel',function(){_indicatorsMap(function(){this.fade();});});this.on('scrollStart',function(){_indicatorsMap(function(){this.fade(1);});});this.on('beforeScrollStart',function(){_indicatorsMap(function(){this.fade(1,true);});});}
this.on('refresh',function(){_indicatorsMap(function(){this.refresh();});});this.on('destroy',function(){_indicatorsMap(function(){this.destroy();});delete this.indicators;});},_initWheel:function(){utils.addEvent(this.wrapper,'wheel',this);utils.addEvent(this.wrapper,'mousewheel',this);utils.addEvent(this.wrapper,'DOMMouseScroll',this);this.on('destroy',function(){utils.removeEvent(this.wrapper,'wheel',this);utils.removeEvent(this.wrapper,'mousewheel',this);utils.removeEvent(this.wrapper,'DOMMouseScroll',this);});},_wheel:function(e){if(!this.enabled){return;}
e.preventDefault();e.stopPropagation();var wheelDeltaX,wheelDeltaY,newX,newY,that=this;if(this.wheelTimeout===undefined){that._execEvent('scrollStart');}
clearTimeout(this.wheelTimeout);this.wheelTimeout=setTimeout(function(){that._execEvent('scrollEnd');that.wheelTimeout=undefined;},400);if('deltaX'in e){if(e.deltaMode===1){wheelDeltaX=-e.deltaX*this.options.mouseWheelSpeed;wheelDeltaY=-e.deltaY*this.options.mouseWheelSpeed;}else{wheelDeltaX=-e.deltaX;wheelDeltaY=-e.deltaY;}}else if('wheelDeltaX'in e){wheelDeltaX=e.wheelDeltaX/120*this.options.mouseWheelSpeed;wheelDeltaY=e.wheelDeltaY/120*this.options.mouseWheelSpeed;}else if('wheelDelta'in e){wheelDeltaX=wheelDeltaY=e.wheelDelta/120*this.options.mouseWheelSpeed;}else if('detail'in e){wheelDeltaX=wheelDeltaY=-e.detail/3*this.options.mouseWheelSpeed;}else{return;}
wheelDeltaX*=this.options.invertWheelDirection;wheelDeltaY*=this.options.invertWheelDirection;if(!this.hasVerticalScroll){wheelDeltaX=wheelDeltaY;wheelDeltaY=0;}
if(this.options.snap){newX=this.currentPage.pageX;newY=this.currentPage.pageY;if(wheelDeltaX>0){newX--;}else if(wheelDeltaX<0){newX++;}
if(wheelDeltaY>0){newY--;}else if(wheelDeltaY<0){newY++;}
this.goToPage(newX,newY);return;}
newX=this.x+Math.round(this.hasHorizontalScroll?wheelDeltaX:0);newY=this.y+Math.round(this.hasVerticalScroll?wheelDeltaY:0);if(newX>0){newX=0;}else if(newX<this.maxScrollX){newX=this.maxScrollX;}
if(newY>0){newY=0;}else if(newY<this.maxScrollY){newY=this.maxScrollY;}
this.scrollTo(newX,newY,0);},_initSnap:function(){this.currentPage={};if(typeof this.options.snap=='string'){this.options.snap=this.scroller.querySelectorAll(this.options.snap);}
this.on('refresh',function(){var i=0,l,m=0,n,cx,cy,x=0,y,stepX=this.options.snapStepX||this.wrapperWidth,stepY=this.options.snapStepY||this.wrapperHeight,el;this.pages=[];if(!this.wrapperWidth||!this.wrapperHeight||!this.scrollerWidth||!this.scrollerHeight){return;}
if(this.options.snap===true){cx=Math.round(stepX/2);cy=Math.round(stepY/2);while(x>-this.scrollerWidth){this.pages[i]=[];l=0;y=0;while(y>-this.scrollerHeight){this.pages[i][l]={x:Math.max(x,this.maxScrollX),y:Math.max(y,this.maxScrollY),width:stepX,height:stepY,cx:x-cx,cy:y-cy};y-=stepY;l++;}
x-=stepX;i++;}}else{el=this.options.snap;l=el.length;n=-1;for(;i<l;i++){if(i===0||el[i].offsetLeft<=el[i-1].offsetLeft){m=0;n++;}
if(!this.pages[m]){this.pages[m]=[];}
x=Math.max(-el[i].offsetLeft,this.maxScrollX);y=Math.max(-el[i].offsetTop,this.maxScrollY);cx=x-Math.round(el[i].offsetWidth/2);cy=y-Math.round(el[i].offsetHeight/2);this.pages[m][n]={x:x,y:y,width:el[i].offsetWidth,height:el[i].offsetHeight,cx:cx,cy:cy};if(x>this.maxScrollX){m++;}}}
this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0);if(this.options.snapThreshold%1===0){this.snapThresholdX=this.options.snapThreshold;this.snapThresholdY=this.options.snapThreshold;}else{this.snapThresholdX=Math.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width*this.options.snapThreshold);this.snapThresholdY=Math.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height*this.options.snapThreshold);}});this.on('flick',function(){var time=this.options.snapSpeed||Math.max(Math.max(Math.min(Math.abs(this.x-this.startX),1000),Math.min(Math.abs(this.y-this.startY),1000)),300);this.goToPage(this.currentPage.pageX+this.directionX,this.currentPage.pageY+this.directionY,time);});},_nearestSnap:function(x,y){if(!this.pages.length){return{x:0,y:0,pageX:0,pageY:0};}
var i=0,l=this.pages.length,m=0;if(Math.abs(x-this.absStartX)<this.snapThresholdX&&Math.abs(y-this.absStartY)<this.snapThresholdY){return this.currentPage;}
if(x>0){x=0;}else if(x<this.maxScrollX){x=this.maxScrollX;}
if(y>0){y=0;}else if(y<this.maxScrollY){y=this.maxScrollY;}
for(;i<l;i++){if(x>=this.pages[i][0].cx){x=this.pages[i][0].x;break;}}
l=this.pages[i].length;for(;m<l;m++){if(y>=this.pages[0][m].cy){y=this.pages[0][m].y;break;}}
if(i==this.currentPage.pageX){i+=this.directionX;if(i<0){i=0;}else if(i>=this.pages.length){i=this.pages.length-1;}
x=this.pages[i][0].x;}
if(m==this.currentPage.pageY){m+=this.directionY;if(m<0){m=0;}else if(m>=this.pages[0].length){m=this.pages[0].length-1;}
y=this.pages[0][m].y;}
return{x:x,y:y,pageX:i,pageY:m};},goToPage:function(x,y,time,easing){easing=easing||this.options.bounceEasing;if(x>=this.pages.length){x=this.pages.length-1;}else if(x<0){x=0;}
if(y>=this.pages[x].length){y=this.pages[x].length-1;}else if(y<0){y=0;}
var posX=this.pages[x][y].x,posY=this.pages[x][y].y;time=time===undefined?this.options.snapSpeed||Math.max(Math.max(Math.min(Math.abs(posX-this.x),1000),Math.min(Math.abs(posY-this.y),1000)),300):time;this.currentPage={x:posX,y:posY,pageX:x,pageY:y};this.scrollTo(posX,posY,time,easing);},next:function(time,easing){var x=this.currentPage.pageX,y=this.currentPage.pageY;x++;if(x>=this.pages.length&&this.hasVerticalScroll){x=0;y++;}
this.goToPage(x,y,time,easing);},prev:function(time,easing){var x=this.currentPage.pageX,y=this.currentPage.pageY;x--;if(x<0&&this.hasVerticalScroll){x=0;y--;}
this.goToPage(x,y,time,easing);},_initKeys:function(e){var keys={pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40};var i;if(typeof this.options.keyBindings=='object'){for(i in this.options.keyBindings){if(typeof this.options.keyBindings[i]=='string'){this.options.keyBindings[i]=this.options.keyBindings[i].toUpperCase().charCodeAt(0);}}}else{this.options.keyBindings={};}
for(i in keys){this.options.keyBindings[i]=this.options.keyBindings[i]||keys[i];}
utils.addEvent(window,'keydown',this);this.on('destroy',function(){utils.removeEvent(window,'keydown',this);});},_key:function(e){if(!this.enabled){return;}
var snap=this.options.snap,newX=snap?this.currentPage.pageX:this.x,newY=snap?this.currentPage.pageY:this.y,now=utils.getTime(),prevTime=this.keyTime||0,acceleration=0.250,pos;if(this.options.useTransition&&this.isInTransition){pos=this.getComputedPosition();this._translate(Math.round(pos.x),Math.round(pos.y));this.isInTransition=false;}
this.keyAcceleration=now-prevTime<200?Math.min(this.keyAcceleration+acceleration,50):0;switch(e.keyCode){case this.options.keyBindings.pageUp:if(this.hasHorizontalScroll&&!this.hasVerticalScroll){newX+=snap?1:this.wrapperWidth;}else{newY+=snap?1:this.wrapperHeight;}
break;case this.options.keyBindings.pageDown:if(this.hasHorizontalScroll&&!this.hasVerticalScroll){newX-=snap?1:this.wrapperWidth;}else{newY-=snap?1:this.wrapperHeight;}
break;case this.options.keyBindings.end:newX=snap?this.pages.length-1:this.maxScrollX;newY=snap?this.pages[0].length-1:this.maxScrollY;break;case this.options.keyBindings.home:newX=0;newY=0;break;case this.options.keyBindings.left:newX+=snap?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.up:newY+=snap?1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.right:newX-=snap?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.down:newY-=snap?1:5+this.keyAcceleration>>0;break;default:return;}
if(snap){this.goToPage(newX,newY);return;}
if(newX>0){newX=0;this.keyAcceleration=0;}else if(newX<this.maxScrollX){newX=this.maxScrollX;this.keyAcceleration=0;}
if(newY>0){newY=0;this.keyAcceleration=0;}else if(newY<this.maxScrollY){newY=this.maxScrollY;this.keyAcceleration=0;}
this.scrollTo(newX,newY,0);this.keyTime=now;},_animate:function(destX,destY,duration,easingFn){var that=this,startX=this.x,startY=this.y,startTime=utils.getTime(),destTime=startTime+duration;function step(){var now=utils.getTime(),newX,newY,easing;if(now>=destTime){that.isAnimating=false;that._translate(destX,destY);if(!that.resetPosition(that.options.bounceTime)){that._execEvent('scrollEnd');}
return;}
now=(now-startTime)/duration;easing=easingFn(now);newX=(destX-startX)*easing+startX;newY=(destY-startY)*easing+startY;that._translate(newX,newY);if(that.isAnimating){rAF(step);}}
this.isAnimating=true;step();},handleEvent:function(e){switch(e.type){case'touchstart':case'pointerdown':case'MSPointerDown':case'mousedown':this._start(e);break;case'touchmove':case'pointermove':case'MSPointerMove':case'mousemove':this._move(e);break;case'touchend':case'pointerup':case'MSPointerUp':case'mouseup':case'touchcancel':case'pointercancel':case'MSPointerCancel':case'mousecancel':this._end(e);break;case'orientationchange':case'resize':this._resize();break;case'transitionend':case'webkitTransitionEnd':case'oTransitionEnd':case'MSTransitionEnd':this._transitionEnd(e);break;case'wheel':case'DOMMouseScroll':case'mousewheel':this._wheel(e);break;case'keydown':this._key(e);break;case'click':if(!e._constructed){e.preventDefault();e.stopPropagation();}
break;}}};function createDefaultScrollbar(direction,interactive,type){var scrollbar=document.createElement('div'),indicator=document.createElement('div');if(type===true){scrollbar.style.cssText='position:absolute;z-index:9999';indicator.style.cssText='-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px';}
indicator.className='iScrollIndicator';if(direction=='h'){if(type===true){scrollbar.style.cssText+=';height:7px;left:2px;right:2px;bottom:0';indicator.style.height='100%';}
scrollbar.className='iScrollHorizontalScrollbar';}else{if(type===true){scrollbar.style.cssText+=';width:7px;bottom:2px;top:2px;right:1px';indicator.style.width='100%';}
scrollbar.className='iScrollVerticalScrollbar';}
scrollbar.style.cssText+=';overflow:hidden';if(!interactive){scrollbar.style.pointerEvents='none';}
scrollbar.appendChild(indicator);return scrollbar;}
function Indicator(scroller,options){this.wrapper=typeof options.el=='string'?document.querySelector(options.el):options.el;this.wrapperStyle=this.wrapper.style;this.indicator=this.wrapper.children[0];this.indicatorStyle=this.indicator.style;this.scroller=scroller;this.options={listenX:true,listenY:true,interactive:false,resize:true,defaultScrollbars:false,shrink:false,fade:false,speedRatioX:0,speedRatioY:0};for(var i in options){this.options[i]=options[i];}
this.sizeRatioX=1;this.sizeRatioY=1;this.maxPosX=0;this.maxPosY=0;if(this.options.interactive){if(!this.options.disableTouch){utils.addEvent(this.indicator,'touchstart',this);utils.addEvent(window,'touchend',this);}
if(!this.options.disablePointer){utils.addEvent(this.indicator,utils.prefixPointerEvent('pointerdown'),this);utils.addEvent(window,utils.prefixPointerEvent('pointerup'),this);}
if(!this.options.disableMouse){utils.addEvent(this.indicator,'mousedown',this);utils.addEvent(window,'mouseup',this);}}
if(this.options.fade){this.wrapperStyle[utils.style.transform]=this.scroller.translateZ;this.wrapperStyle[utils.style.transitionDuration]=utils.isBadAndroid?'0.001s':'0ms';this.wrapperStyle.opacity='0';}}
Indicator.prototype={handleEvent:function(e){switch(e.type){case'touchstart':case'pointerdown':case'MSPointerDown':case'mousedown':this._start(e);break;case'touchmove':case'pointermove':case'MSPointerMove':case'mousemove':this._move(e);break;case'touchend':case'pointerup':case'MSPointerUp':case'mouseup':case'touchcancel':case'pointercancel':case'MSPointerCancel':case'mousecancel':this._end(e);break;}},destroy:function(){if(this.options.interactive){utils.removeEvent(this.indicator,'touchstart',this);utils.removeEvent(this.indicator,utils.prefixPointerEvent('pointerdown'),this);utils.removeEvent(this.indicator,'mousedown',this);utils.removeEvent(window,'touchmove',this);utils.removeEvent(window,utils.prefixPointerEvent('pointermove'),this);utils.removeEvent(window,'mousemove',this);utils.removeEvent(window,'touchend',this);utils.removeEvent(window,utils.prefixPointerEvent('pointerup'),this);utils.removeEvent(window,'mouseup',this);}
if(this.options.defaultScrollbars){this.wrapper.parentNode.removeChild(this.wrapper);}},_start:function(e){var point=e.touches?e.touches[0]:e;e.preventDefault();e.stopPropagation();this.transitionTime();this.initiated=true;this.moved=false;this.lastPointX=point.pageX;this.lastPointY=point.pageY;this.startTime=utils.getTime();if(!this.options.disableTouch){utils.addEvent(window,'touchmove',this);}
if(!this.options.disablePointer){utils.addEvent(window,utils.prefixPointerEvent('pointermove'),this);}
if(!this.options.disableMouse){utils.addEvent(window,'mousemove',this);}
this.scroller._execEvent('beforeScrollStart');},_move:function(e){var point=e.touches?e.touches[0]:e,deltaX,deltaY,newX,newY,timestamp=utils.getTime();if(!this.moved){this.scroller._execEvent('scrollStart');}
this.moved=true;deltaX=point.pageX-this.lastPointX;this.lastPointX=point.pageX;deltaY=point.pageY-this.lastPointY;this.lastPointY=point.pageY;newX=this.x+deltaX;newY=this.y+deltaY;this._pos(newX,newY);e.preventDefault();e.stopPropagation();},_end:function(e){if(!this.initiated){return;}
this.initiated=false;e.preventDefault();e.stopPropagation();utils.removeEvent(window,'touchmove',this);utils.removeEvent(window,utils.prefixPointerEvent('pointermove'),this);utils.removeEvent(window,'mousemove',this);if(this.scroller.options.snap){var snap=this.scroller._nearestSnap(this.scroller.x,this.scroller.y);var time=this.options.snapSpeed||Math.max(Math.max(Math.min(Math.abs(this.scroller.x-snap.x),1000),Math.min(Math.abs(this.scroller.y-snap.y),1000)),300);if(this.scroller.x!=snap.x||this.scroller.y!=snap.y){this.scroller.directionX=0;this.scroller.directionY=0;this.scroller.currentPage=snap;this.scroller.scrollTo(snap.x,snap.y,time,this.scroller.options.bounceEasing);}}
if(this.moved){this.scroller._execEvent('scrollEnd');}},transitionTime:function(time){time=time||0;this.indicatorStyle[utils.style.transitionDuration]=time+'ms';if(!time&&utils.isBadAndroid){this.indicatorStyle[utils.style.transitionDuration]='0.001s';}},transitionTimingFunction:function(easing){this.indicatorStyle[utils.style.transitionTimingFunction]=easing;},refresh:function(){this.transitionTime();if(this.options.listenX&&!this.options.listenY){this.indicatorStyle.display=this.scroller.hasHorizontalScroll?'block':'none';}else if(this.options.listenY&&!this.options.listenX){this.indicatorStyle.display=this.scroller.hasVerticalScroll?'block':'none';}else{this.indicatorStyle.display=this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?'block':'none';}
if(this.scroller.hasHorizontalScroll&&this.scroller.hasVerticalScroll){utils.addClass(this.wrapper,'iScrollBothScrollbars');utils.removeClass(this.wrapper,'iScrollLoneScrollbar');if(this.options.defaultScrollbars&&this.options.customStyle){if(this.options.listenX){this.wrapper.style.right='8px';}else{this.wrapper.style.bottom='8px';}}}else{utils.removeClass(this.wrapper,'iScrollBothScrollbars');utils.addClass(this.wrapper,'iScrollLoneScrollbar');if(this.options.defaultScrollbars&&this.options.customStyle){if(this.options.listenX){this.wrapper.style.right='2px';}else{this.wrapper.style.bottom='2px';}}}
var r=this.wrapper.offsetHeight;if(this.options.listenX){this.wrapperWidth=this.wrapper.clientWidth;if(this.options.resize){this.indicatorWidth=Math.max(Math.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||1)),8);this.indicatorStyle.width=this.indicatorWidth+'px';}else{this.indicatorWidth=this.indicator.clientWidth;}
this.maxPosX=this.wrapperWidth-this.indicatorWidth;if(this.options.shrink=='clip'){this.minBoundaryX=-this.indicatorWidth+8;this.maxBoundaryX=this.wrapperWidth-8;}else{this.minBoundaryX=0;this.maxBoundaryX=this.maxPosX;}
this.sizeRatioX=this.options.speedRatioX||(this.scroller.maxScrollX&&(this.maxPosX/this.scroller.maxScrollX));}
if(this.options.listenY){this.wrapperHeight=this.wrapper.clientHeight;if(this.options.resize){this.indicatorHeight=Math.max(Math.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),8);this.indicatorStyle.height=this.indicatorHeight+'px';}else{this.indicatorHeight=this.indicator.clientHeight;}
this.maxPosY=this.wrapperHeight-this.indicatorHeight;if(this.options.shrink=='clip'){this.minBoundaryY=-this.indicatorHeight+8;this.maxBoundaryY=this.wrapperHeight-8;}else{this.minBoundaryY=0;this.maxBoundaryY=this.maxPosY;}
this.maxPosY=this.wrapperHeight-this.indicatorHeight;this.sizeRatioY=this.options.speedRatioY||(this.scroller.maxScrollY&&(this.maxPosY/this.scroller.maxScrollY));}
this.updatePosition();},updatePosition:function(){var x=this.options.listenX&&Math.round(this.sizeRatioX*this.scroller.x)||0,y=this.options.listenY&&Math.round(this.sizeRatioY*this.scroller.y)||0;if(!this.options.ignoreBoundaries){if(x<this.minBoundaryX){if(this.options.shrink=='scale'){this.width=Math.max(this.indicatorWidth+x,8);this.indicatorStyle.width=this.width+'px';}
x=this.minBoundaryX;}else if(x>this.maxBoundaryX){if(this.options.shrink=='scale'){this.width=Math.max(this.indicatorWidth-(x-this.maxPosX),8);this.indicatorStyle.width=this.width+'px';x=this.maxPosX+this.indicatorWidth-this.width;}else{x=this.maxBoundaryX;}}else if(this.options.shrink=='scale'&&this.width!=this.indicatorWidth){this.width=this.indicatorWidth;this.indicatorStyle.width=this.width+'px';}
if(y<this.minBoundaryY){if(this.options.shrink=='scale'){this.height=Math.max(this.indicatorHeight+y*3,8);this.indicatorStyle.height=this.height+'px';}
y=this.minBoundaryY;}else if(y>this.maxBoundaryY){if(this.options.shrink=='scale'){this.height=Math.max(this.indicatorHeight-(y-this.maxPosY)*3,8);this.indicatorStyle.height=this.height+'px';y=this.maxPosY+this.indicatorHeight-this.height;}else{y=this.maxBoundaryY;}}else if(this.options.shrink=='scale'&&this.height!=this.indicatorHeight){this.height=this.indicatorHeight;this.indicatorStyle.height=this.height+'px';}}
this.x=x;this.y=y;if(this.scroller.options.useTransform){this.indicatorStyle[utils.style.transform]='translate('+x+'px,'+y+'px)'+this.scroller.translateZ;}else{this.indicatorStyle.left=x+'px';this.indicatorStyle.top=y+'px';}},_pos:function(x,y){if(x<0){x=0;}else if(x>this.maxPosX){x=this.maxPosX;}
if(y<0){y=0;}else if(y>this.maxPosY){y=this.maxPosY;}
x=this.options.listenX?Math.round(x/this.sizeRatioX):this.scroller.x;y=this.options.listenY?Math.round(y/this.sizeRatioY):this.scroller.y;this.scroller.scrollTo(x,y);},fade:function(val,hold){if(hold&&!this.visible){return;}
clearTimeout(this.fadeTimeout);this.fadeTimeout=null;var time=val?250:500,delay=val?0:300;val=val?'1':'0';this.wrapperStyle[utils.style.transitionDuration]=time+'ms';this.fadeTimeout=setTimeout((function(val){this.wrapperStyle.opacity=val;this.visible=+val;}).bind(this,val),delay);}};IScroll.utils=utils;if(typeof module!='undefined'&&module.exports){module.exports=IScroll;}else{window.IScroll=IScroll;}})(window,document,Math);var glb=glb||{};glb.cookie={create:function(name,value,minutes,domain){var date,expires;if(minutes){date=new Date();date.setTime(date.getTime()+(minutes*60*1000));expires='; expires='+date.toGMTString();}else{expires='';}
domain=(domain)?'; domain='+domain:'';document.cookie=name+'='+value+expires+'; path=/'+domain;},read:function(name){var nameEQ=name+'=';var ca=document.cookie.split(';');for(var i=0;i<ca.length;i++){var c=ca[i];while(c.charAt(0)==' ')c=c.substring(1,c.length);if(c.indexOf(nameEQ)===0)return c.substring(nameEQ.length,c.length);}
return null;},erase:function(name){this.create(name,'',-1);}};(function(global){global.libby=global.libby||{};global.libby.iScrollSwiper=function(element,options){if(this.constructor!=global.libby.iScrollSwiper){return new global.libby.iScrollSwiper(element,options);}
this.initialize(element,options);return this;};global.libby.iScrollSwiper.prototype={constructor:global.libby.iScrollSwiper,options:{bounce:false,momentum:false,vScroll:false,hScroll:true,hScrollbar:false,vScrollbar:false,snap:true},initialize:function(element,options){var optKey,defaultOpts=global.libby.iScrollSwiper.prototype.options;options=options||{};this.options=options;for(optKey in defaultOpts){if(!(optKey in this.options)){this.options[optKey]=defaultOpts[optKey];}}
this.options.onBeforeScrollStartOriginal=this.options.onBeforeScrollStart;this.options.onBeforeScrollMoveOriginal=this.options.onBeforeScrollMove;this.options.onBeforeScrollStart=this._onBeforeScrollStart.bind(this);this.options.onBeforeScrollMove=this._onBeforeScrollMove.bind(this);this.element=element;this.scroller=new iScroll(element,this.options);$(this.scroller.scroller).on('click','a',this._handleLinkClick.bind(this));},_handleLinkClick:function(e){if(this.scroller.moved){e.preventDefault();}},_onBeforeScrollStart:function(e){if(this.options.onBeforeScrollStartOriginal){this.options.onBeforeScrollStartOriginal();}
var point=(e.touches&&e.touches[0])||e;this.startPointX=point.pageX;},_onBeforeScrollMove:function(e){if(this.options.onBeforeScrollMoveOriginal){this.options.onBeforeScrollMoveOriginal();}
var point=(e.touches&&e.touches[0])||e,deltaX=point.pageX-this.startPointX;if(Math.abs(deltaX)>20){e.preventDefault();}}};}(this));(function($,window){$.safeXDR=function(url,parameters,complete){if(complete){get(url,parameters,complete);}else{getByImage(url,parameters);}};function getByImage(url,parameters){parameters.nocache=new Date().getTime();var imageSrc=url+"?"+$.param(parameters);var image=new Image();image.src=imageSrc;}
function get(url,parameters,complete){function parseAndInvokeCallback(response){try{response=JSON.parse(response);}catch(err){}
complete(response);}
if(isIE()){getByXDomainRequest(url,parameters,parseAndInvokeCallback);}else{getByAjax(url,parameters,parseAndInvokeCallback);}}
function getByAjax(url,parameters,complete){$.ajax({url:url,type:'GET',data:parameters,cache:false,timeout:500,success:function(response){complete(response);},error:function(){complete();}});}
function getByXDomainRequest(url,parameters,complete){parameters.nocache=new Date().getTime();var xdr=new XDomainRequest();if(!xdr){return complete();}
xdr.onload=function(){complete(xdr.responseText);};xdr.onerror=function(){complete();};xdr.onprogress=function(){};xdr.ontimeout=function(){complete();};xdr.timeout=500;xdr.open('GET',url+"?"+$.param(parameters));xdr.send();}
function isIE(){return window.XDomainRequest;}}(jQuery,window));!function(a,b){typeof module!="undefined"?module.exports=b():typeof define=="function"&&typeof define.amd=="object"?define(b):this[a]=b()}("kizzy",function(){function a(){}function p(){return+(new Date)}function q(a,b){a._[b]&&a._[b].e&&a._[b].e<p()&&a.remove(b)}function r(a){return typeof a=="number"&&isFinite(a)}function s(a){return localStorage[a]}function t(a,b){return localStorage[a]=b,b}function u(a){delete localStorage[a]}function v(){localStorage.clear()}function w(a){var b=j.childNodes,c,d=null;for(var e=0,f=b.length;e<f;e++){c=b.item(e);if(c.getAttribute("key")==a){d=c;break}}return d}function x(a){var b=w(a),c=null;return b&&(c=b.getAttribute("value")),c}function y(a,b){var c=w(a);return c?c.setAttribute("value",b):(c=i.createNode(1,"item",""),c.setAttribute("key",a),c.setAttribute("value",b),j.appendChild(c)),h.save(d),b}function z(a){w(a)&&j.removeChild(node),h.save(d)}function A(){while(j.firstChild)j.removeChild(j.firstChild);h.save(d)}function B(){this._={}}function C(a){this.ns=a,this._=JSON.parse(m(a)||"{}")}function D(a){return new C(a)}var b,c=document,d=c.domain,e=0,f=function(){return 1};try{b=!!localStorage||!!globalStorage,localStorage||(localStorage=globalStorage[d]),e=1}catch(g){e=0;try{if(c.documentElement.addBehavior){e=0,b=1;var h=c.documentElement;h.addBehavior("#default#userData"),h.load(d);var i=h.xmlDocument,j=i.documentElement}}catch(k){b=!1}}var l=a,m=a,n=a,o=a;return b&&(l=e?t:y,m=e?s:x,n=e?u:z,o=e?v:A,f=function(a){try{var b=JSON.stringify(a._);return b=="{}"?n(a.ns):l(a.ns,b),1}catch(c){return 0}}),B.prototype={set:function(a,b,c){return this._[a]={value:b,e:r(c)?p()+c:0},f(this)||this.remove(a),b},get:function(a){return q(this,a),this._[a]?this._[a].value:undefined},remove:function(a){delete this._[a],f(this)},clear:function(){this._={},f(this)},clearExpireds:function(){for(var a in this._)q(this,a);f(this)}},C.prototype=B.prototype,D.remove=n,D.clear=o,D});(function(global){var ONE_DAY_EXPIRATION_TIME=86400000;var ab={server:'',get:function(parameters,callback){var experimentName=parameters.experiment;var defaultValue=parameters.defaultValue;var increment=typeof parameters.increment==="undefined"?true:parameters.increment;var path=increment?"ab/":"ab/version/";var key,userId;if(parameters.userId){userId=parameters.userId;key="user"+userId+":"+experimentName;}else{key="ab:"+experimentName;}
var url=ab.server+path+experimentName;var requestParameters={};if(userId){requestParameters.user_id=userId;}
if(parameters.version){requestParameters.alternative=parameters.version;}
$.safeXDR(url,requestParameters,function(response){if(response){setCache(key,response);if(callback){callback(response.result);}}else{returnCacheIfError(key,defaultValue,callback);}});},conversion:function(parameters){var url=ab.server+"convert/"+parameters.experiment+"/"+parameters.version;$.safeXDR(url,{});}};function returnCacheIfError(key,defaultValue,callback){var response=getCache(key)||{result:defaultValue};if(callback){callback(response.result);}}
function getCache(key){return cache().get(key);}
function setCache(key,value){cache().set(key,value,ONE_DAY_EXPIRATION_TIME);}
function cache(){return kizzy('globoAB');}
global.globoAB=ab;}(this));(function($){$.fn.delayClickOn=function(selector,callback){callback=callback||function(){};this.delegate(selector,'click',function(e){if(this.shouldGo){return true;}
callback();if(e.ctrlKey||e.metaKey){return true;}
e.preventDefault();var link=$(this);window.setTimeout(function(){link.performClick();},200);return true;});};$.fn.performClick=function(){var element=this[0],evt;element.shouldGo=true;if(document.createEvent){document.createEvent("MouseEvents");evt.initMouseEvent('click',true,true,window,0,0,0,0,0,false,false,false,false,0,null);element.dispatchEvent(evt);}else if(document.createEventObject){evt=document.createEventObject();element.fireEvent('onclick',evt);element.click();}else{var url=$(this).attr('href');var newForm=$('<form method="GET"></form>').attr('action',url);$('body').append(newForm);newForm.submit();}};}(jQuery));(function($,global){var CookieJar={create:function(name,value,minutes,domain){value=encodeURIComponent(value);if(minutes){var date=new Date;date.setTime(date.getTime()+(minutes*60*1000));value+='; expires='+date.toGMTString();}
domain=(domain)?'; domain='+domain:'';document.cookie=name+'='+value+'; path=/'+domain;return this;},_escapeRegExp:function(regexp){return regexp.replace(/[-[\]{}()*+?.\\^$|,#\s]/g,'\\$&');},read:function(name){var match=document.cookie.match(new RegExp('(?:;|^)\\s*'+this._escapeRegExp(name)+'=([^;]*)'));return(match)?decodeURIComponent(match[1]):null;},erase:function(name,domain){return this.create(name,'',-1,domain);}};global.AbTest={_countConversion:function(){globoAB.conversion({experiment:AbTestInfo.name,version:AbTestInfo.version});},_onVersionAcquired:function(version){var expirationTime=60*24*30;CookieJar.create('ab_id',AbTestInfo.id,expirationTime,document.location.host);CookieJar.create('ab_version',version,expirationTime,document.location.host);},start:function(serverPath){if(!global.AbTestInfo){CookieJar.erase('ab_version',document.location.host);CookieJar.erase('ab_id',document.location.host);return;}
var userId=CookieJar.read('__utma'),currentId=CookieJar.read('ab_id');globoAB.server=serverPath;if(currentId==AbTestInfo.id){globoAB.get({experiment:AbTestInfo.name,defaultValue:"a",userId:userId},$.proxy(this._onVersionAcquired,this));}else{globoAB.get({experiment:AbTestInfo.name,defaultValue:"a",userId:userId},$.proxy(this._onVersionAcquired,this));}
$(document).delayClickOn('.-ab-test-box a',$.proxy(this._countConversion,this));}};}(jQuery,window));var hipsterTooltip=function(element,options){this.options=$.extend({header:'',title:''},options);this.gatherElements(element);this.createElements();};hipsterTooltip.prototype={gatherElements:function(element){this.elements={};this.elements.container=element;this.elements.loggedLink=this.elements.container.find('a.barra-profile-header');this.elements.nonLoggedLink=this.elements.container.find('a#barra-item-login');},createElements:function(){var html='<div class="balao"> '+'<div class="balao-inner">'+'<a href="#" class="close"></a> '+'<h3>'+this.options.header+'</h3> '+'<h4>'+this.options.title+'</h4> '+'</div> '+'</div>';this.elements.box=$(html);this.elements.closeLink=this.elements.box.find('a.close');this.elements.box.appendTo(this.elements.container);setTimeout($.proxy(this.showTooltip,this),500);},showTooltip:function(){if(!libby.cookie.read('tip.logbar')){this.elements.box.fadeIn('normal');this.bindEvents();}},closeTooltip:function(ev){ev.preventDefault();libby.cookie.create('tip.logbar','1',6*30*24*60,'globo.com');this.elements.box.fadeOut('normal');},bindEvents:function(){this.elements.closeLink.on('click',$.proxy(this.closeTooltip,this));this.elements.loggedLink.on('click',$.proxy(this.closeTooltip,this));this.elements.nonLoggedLink.on('click',$.proxy(this.closeTooltip,this));}};(function(){var __bind=function(fn,me){return function(){return fn.apply(me,arguments);};};this.WidgetFamosos=(function(){function WidgetFamosos(element,options){this.element=element;this.onDataAvailable=__bind(this.onDataAvailable,this);this.options=$.extend({famososURL:''},options);if(!(element&&element.length>0)){return;}
this.makeRequest();}
WidgetFamosos.prototype.onDataAvailable=function(topFamous){var container,f,i,ulEl,_i,_len,_ref;if(!(topFamous&&topFamous.length>0)){return;}
container=$('<div class="top-famous-widget">');ulEl=$('<ul>');container.append('<div class="title">TOP FAMOSOS<span class="separator"></span></div>');container.append(ulEl);_ref=topFamous.slice(0,5);for(i=_i=0,_len=_ref.length;_i<_len;i=++_i){f=_ref[i];ulEl.append('<li><a href="'+f.url+'#na"><span class="number">0'+(i+1)+'</span><span class="name">'+f.nome+'</span></a></li>');}
return this.element.append(container);};WidgetFamosos.prototype.makeRequest=function(){return $.ajax({url:this.options.famososURL,dataType:'jsonp',jsonpCallback:'topFamousCallback',cache:true,success:this.onDataAvailable});};return WidgetFamosos;})();}).call(this);(function(global){global.libby=global.libby||{};global.libby.ScrollAnalyzer=function(options){if(this.constructor!=global.libby.ScrollAnalyzer){return new global.libby.ScrollAnalyzer(options);}
this.initialize(options);return this;};global.libby.ScrollAnalyzer.prototype={constructor:global.libby.ScrollAnalyzer,options:{marks:[25,50,75,100],elements:[],labelMapper:function(element){var label=element.label;if(!label&&element.getAttribute){label=element.getAttribute('data-scroll-label')||element.getAttribute('class');}
return label;},onElementShown:null},initialize:function(options){var optKey,defaultOpts=this.options;this.options={};options=options||{};for(optKey in defaultOpts){this.options[optKey]=options[optKey]||defaultOpts[optKey];}
this.marks=this.calculateMarks();this.spyScrolling();},getDocument:function(){return document.body;},calculateMarks:function(){var el=this.getDocument(),len=this.options.marks.length,resultMarks=[],mark,i;for(i=0;i<len;++i){mark={'label':this.options.marks[i]+'%','position':parseInt(el.clientHeight*(this.options.marks[i]/100),10)-1};resultMarks.push(mark);}
return resultMarks;},newElement:function(mark){var el=document.createElement('div');el.style.position="absolute";el.style.left=0;el.style.top=mark.position+"px";el.style.background="transparent";el.style.width="1px";el.style.height="1px";return el;},showMarks:function(){var len=this.marks.length,i,el;for(i=0;i<this.marks.length;++i){el=this.markElements[i];el.style.background="red";el.style.width="100%";el.style.height="20px";el.style.opacity=".4";el.appendChild(document.createTextNode(this.marks[i].label));}
for(i=0;i<this.options.elements.length;++i){el=this.options.elements[i];el.style.background="red";el.style.minHeight="20px";}},spyScrolling:function(){var scrollSpy=libby.responsive.scrollSpy,self=this,i,el;self.markElements=[];for(i=0;i<this.marks.length;++i){el=self.newElement(this.marks[i]);self.markElements.push(self.getDocument().appendChild(el));scrollSpy.add(el,this.elementShownCallback(this.marks[i]));}
for(i=0;i<this.options.elements.length;++i){el=this.options.elements[i];scrollSpy.add(el,this.elementShownCallback(el));}},elementShownCallback:function(element){var self=this;return function(){self.onElementShown(self.options.labelMapper(element),element);};},onElementShown:function(label,element){if(element.clientHeight===0){return;}
var shouldTrack=true;if(this.options.onElementShown){shouldTrack=(this.options.onElementShown(label,element)!==false);}
if(global._gaq&&shouldTrack){global._gaq.push(['_trackEvent',"Scroll Vertical",'Home',label,0,true]);}}};})(window);if(window.globoAB){globoAB.server='http://globo-ab.globo.com/';}
libby.soccerTeams=new libby.SoccerTeams('http://c.api.globo.com/soccer_teams/');libby.pubsub=$(document);libby.weatherDeferred=new libby.DeferredValue();if(typeof window.homeColumns==='undefined'&&!window.homeColumns){window.homeColumns=new HomeColumns({});}
window.homeColumns.init();$('#libby-box-previsao-tempo').boxPrevisaoTempo({weatherUrl:'http://g1.globo.com/previsao-do-tempo/',weatherApiUrl:'http://api.g1.globo.com/tempo/cidade-resumida/'}).on('cityForecast',function(ev,cityData,weatherData,url){libby.weatherDeferred.set({cityData:cityData,weatherData:weatherData,url:url});});libby.pubsub.on("loaded_widget-bbb_voz_da_galera",function(){window.fbAsyncInit=function(){FB.init({appId:'298505396917078',status:false,cookie:true,xfbml:true});var widgetBBBElement=$('.widget-bbb');if(window.WidgetBBB&&widgetBBBElement.length>0){new WidgetBBB(widgetBBBElement);}
if(window.WidgetBBBVozDaGalera){libby.containerKindDefer.get(function(containerKind){bbbVozDaGalera=new WidgetBBBVozDaGalera($('.agrupador-super-wide-quadruplo-com-widget.tvg .widget'),{containerSize:containerKind});libby.pubsub.on("responsiveHub.onContainerChanged",function(e,min,max,sizeName){bbbVozDaGalera.changeSize(sizeName);});});}};(function(d,debug){var js,id='facebook-jssdk',ref=d.getElementsByTagName('script')[0];if(d.getElementById(id)){return;}
js=d.createElement('script');js.id=id;js.async=true;js.src="//connect.facebook.net/en_US/all"+(debug?"/debug":"")+".js";ref.parentNode.insertBefore(js,ref);}(document,false));});$('.agrupador-musica').agrupadorMusica({rootUrl:'http://musica.com.br',topUrl:'http://musica.com.br/api/artistas/top_artistas/30',topSongsUrl:'http://musica.com.br/api/musicas/top_musicas/3'});libby.pubsub.on("loaded-agrupador-destaque-globotv",function(){libby.containerKindDefer.get(function(containerKind){$('div.libby-agrupador-destaque-globotv').agrupadorDestaqueGloboTV({size:containerKind});});});libby.pubsub.on("loaded-agrupador-destaque-globotv-com-canais",function(){libby.containerKindDefer.get(function(containerKind){$('div.libby-agrupador-destaque-globotv-com-canais').agrupadorDestaqueGloboTVComCanais({size:containerKind});});});libby.pubsub.on("loaded-agrupador-destaque-video",function(){var videoContainer;libby.containerKindDefer.get(function(containerKind){videoContainer=$('div.libby-agrupador-destaque-video').agrupadorDestaqueVideo({size:containerKind});if(containerKind!="desktop"){videoContainer.data("agrupadorDestaqueVideo").stop(true);}});libby.pubsub.on("responsiveHub.onContainerChanged",function(e,min,max,sizeName){if(sizeName!="desktop"){videoContainer.data("agrupadorDestaqueVideo").stop(true);videoContainer.data("agrupadorDestaqueVideo").enableTouch();}else{videoContainer.data("agrupadorDestaqueVideo").start();}});});libby.pubsub.on('loaded_agrupador-super-wide-triplo-com-widget-home_tecnologia',function(){$('.agrupador-triplo-com-widget.tecnologia .widget').WidgetGamesHome();});libby.pubsub.on('loaded_agrupador-super-wide-quadruplo-com-widget_gshow',function(){$('.agrupador-super-wide-quadruplo-com-widget.gshow .widget').WidgetProgramacao({programacaoURL:'http://api.globo.com/schedule.jsonp?callback=?'});});libby.pubsub.on('loaded_agrupador-super-wide-quadruplo-com-widget_famosos-style',function(){new WidgetFamosos($('.agrupador-super-wide-quadruplo-com-widget.famosos-style .widget'),{famososURL:'http://c.api.globo.com/ego/top_famosos.jsonp'});});libby.pubsub.on("responsiveHub.onContainerChanged",function(){$("br").after(" ");});libby.pubsub.on('loaded_agrupador-super-wide-triplo-tecnologia',function(){$('.agrupador-triplo-tecnologia').agrupadorTriploTecnologia({});});libby.containerKindDefer.get(function(containerKind){var elementsPerPage=(containerKind=='smart'||containerKind=='smart_horizontal'||containerKind=='feature')?2:3;$('.agrupador-tematico-carrossel').agrupadorTematicoCarrossel({easing:'easeInOutCubic',elementsPerPage:elementsPerPage});$('#topglobocom3').topglobocom3({size:containerKind});if(containerKind!="desktop"){$("br").after(" ");}});libby.pubsub.on('loaded_agrupador-super-wide-com-widget-musica-playlist-agenda',function(){new LibbyWidgetAgenda($('.agrupador-super-wide-com-widget-musica-playlist .widget-agenda'),{globoApiUrl:'http://api.globo.com/shows/'})});libby.pubsub.on('loaded_agrupador-musica-triplo',function(){new LibbyWidgetAgenda($('.agrupador-musica-triplo .widget'),{globoApiUrl:'http://api.globo.com/shows/'})});libby.pubsub.on('loaded_agrupador-super-wide-com-widget-musica-agenda',function(){new LibbyWidgetAgenda($('.agrupador-musica .widget-agenda'),{globoApiUrl:'http://api.globo.com/shows/'})});libby.eventsArray=new libby.EventsArray(libby.eventsArray,libby.pubsub);AbTest.start('http://globo-ab.globo.com/');(function(global,$){global.libby=global.libby||{};global.libby.personalizaveisManager={targets:{},newsUpdatedId:'widgetsPersonalizaveis.newsUpdated',updatePhotosId:'widgetsPersonalizaveis.updatePhotos',init:function(){libby.event.on(this.newsUpdatedId,$.proxy(this._onNewsUpdated,this));},_onNewsUpdated:function(evtData){var target=this.targets[evtData.name];target=this.targets[evtData.name]=target||[];target[evtData.photoIdx]=evtData.isAvailable;var shownPhotos=[];for(var widgetName in this.targets){var photos=this.targets[widgetName];for(var i=0,len=photos.length;i<len;++i){if(shownPhotos[i]===undefined){shownPhotos[i]=true;}
shownPhotos[i]=shownPhotos[i]&&(!!photos[i]);}}
libby.event.fire(this.updatePhotosId,[shownPhotos]);},listenUpdatePhotos:function(callback){libby.event.on(this.updatePhotosId,callback);},fireNewsUpdated:function(name,photoIdx,isAvailable){libby.event.fire(this.newsUpdatedId,[{name:name,photoIdx:photoIdx,isAvailable:isAvailable}]);}};})(window,jQuery);(function(){libby.personalizaveisManager.init();})();(function($){$.widget("home.widgetPersonalizaveis",$.libby.widgetBase,{options:{animationTime:150,coverAnimationTime:200,loadingDelay:500,lockTimeout:1500},_create:function(){var self=this;window.glb=window.glb||{};window.glb.preferences=window.glb.preferences||[];this._super('_create');this._createLoadingMarkup();libby.personalizaveisManager.listenUpdatePhotos($.proxy(this._onUpdatePhotos,this));this._initContainerWatcher();var newsService=this._getNewsService();newsService.onSuccess($.proxy(this._onNewsReady,this));this._getAvailableChoices($.proxy(function(){this._getCurrentChoice(function(value){this._trigger('initialChoice',value);this._getAvailableNews($.proxy(function(){self._createBasicMarkup();self._initChoices(function(){self._updateElements(value);});},self));});},this));this.element.widgetPersonalizavelAnalytics();},_getChoicesData:function(){throw'_getChoicesData should be overriden';},_getChoiceOptions:function(){throw'_getChoiceOptions should be overriden';},_getNewsService:function(){throw'_getNewsService should be overriden';},_renderChoices:function(choicesData){throw'_renderChoices should be overriden';},_bindChoiceEvents:function(element,choicesData){throw'_bindChoiceEvents should be overriden';},_getDefaultChoice:function(callback){throw'_getDefaultChoice should be overriden';},_getCssClass:function(){throw'_getCssClass should be overriden';},_getChangeText:function(){throw'_getChangeText should be overriden';},_getSelectText:function(){throw'_getSelectText should be overriden';},_storageKeyName:function(){throw'_storageKeyName should be overriden';},_storageProductName:function(){throw'_storageProductName should be overriden';},_getAnalyticsData:function(){throw'_getAnalyticsData should be overriden';},_initContainerWatcher:function(){this.responsiveType="desktop";if(window.responsiveHub){this.responsiveType=responsiveHub.chosenSize;}
if(libby.pubsub){libby.pubsub.on('responsiveHub.onContainerChanged',$.proxy(function(ev,lastContainerSize,actualContainerSize,type){this.responsiveType=type;if(this.elements.choices&&this.elements.choices.is(':visible')){this._closeChoices();this._showCoverWithMenuOpened();}},this));}},_initChoices:function(readyCallback){if(this.elements.choices){if(readyCallback){readyCallback();}
return;}
this._getAvailableChoices($.proxy(function(data){this._onChoicesReady(data);if(readyCallback){readyCallback();}},this));},loadingShow:function(callback){var self=this;this.elements.loading.fadeIn("normal",callback);},loadingHide:function(){this.elements.loading.fadeOut();},_isLoadingVisible:function(){return this.elements.loading.is(':visible');},_getAvailableChoices:function(callback){if(this.availableChoices){callback(this.availableChoices);return;}
this.loadingShow();this._getChoiceOptions($.proxy(function(data){this.loadingHide();this.availableChoices=data;callback(data);},this));},_onChoicesReady:function(choicesData){this._renderChoices(choicesData);this._applyPIE(this.elements.changeChoiceButton);},_getAvailableNews:function(callback){var self=this;this._getCurrentChoice(function(currentChoice){var newsService=self._getNewsService();self.currentNewsOnSuccessCallback=callback;self.loadingShow(function(){newsService.update(currentChoice.slug);});});},_onNewsReady:function(newsData){if(this.currentNewsOnSuccessCallback){this.currentNewsOnSuccessCallback();this.currentNewsOnSuccessCallback=null;}
var self=this;$.each(newsData,function(idx,el){el.idx=idx;});newsData.sort(function(a,b){var photoOrder=(a.foto?0:1)-(b.foto?0:1);if(photoOrder!==0){return photoOrder;}
return a.idx-b.idx;});var links=$("#bloco-principal a, .glb-area-colunas a"),len=newsData.length,highlightsLen=this.elements.highlightItems.length;for(var i=0,j=0;i<len&&j<highlightsLen;++i){var highlight=this.elements.highlightItems.eq(j);var news=newsData[i];if(this._canIUse(links,news)){var imgEl=highlight.find('img'),contentArea=highlight.find('span.conteudo p');highlight.find('a').attr('href',news.url);contentArea.text(news.titulo);this._handleImageLoading(imgEl,highlight,j,news.foto);++j;}}
this._getCurrentChoice(function(currentChoice){self.elements.highlightsTitle.text(currentChoice.name);self.elements.highlightsLink.attr('href',currentChoice.url);self.loadingHide();});},_canIUse:function(links,news){return!links.is('[href="'+news.url+'"]');},_handleImageLoading:function(imgEl,highlight,idx,src){var self=this;highlight.removeClass('com-foto');imgEl.hide();if(!src){imgEl.attr('src','');this._firePhotoUpdated(idx,false);return;}
imgEl.bind('load',function(){imgEl.unbind('load');imgEl.unbind('error');self._firePhotoUpdated(idx,true);});imgEl.bind('error',function(e){imgEl.unbind('load');imgEl.unbind('error');imgEl.attr('src','');self._firePhotoUpdated(idx,false);});imgEl.attr('src',src);},_firePhotoUpdated:function(idx,isVisible){libby.personalizaveisManager.fireNewsUpdated(this.widgetBaseClass,idx,isVisible);this._fitText();},_fitText:function(){if($.fn.dotdotdot){this.elements.highlights.find('span.conteudo p').dotdotdot();}},_onUpdatePhotos:function(shownPhotos){var images=this.elements.highlightImages;if(!images){return;}
for(var i=0,len=shownPhotos.length;i<len;++i){var toShow=shownPhotos[i],img=images.eq(i),isVisible=img.is(':visible');if(toShow==isVisible){continue;}
var highlight=img.parents('li').first();if(toShow){highlight.addClass('com-foto');}else{highlight.removeClass('com-foto');}
images.eq(i).toggle(toShow);}},_getStoredSlug:function(callback){window.glb.preferences.push(['get',{product:this._storageProductName(),key:this._storageKeyName(),callback:function(value){callback.apply(this,[(value)?value.toUpperCase():null]);}}]);},_getCurrentChoice:function(callback){var self=this;if(this.currentChoice){return callback.apply(this,[this.currentChoice]);}
var onChoiceResponse=function(choice){self.element.data("selectedChoice",choice);return callback.apply(self,[choice]);};this._getStoredChoice(function(choice){if(!choice){choice=self._getDefaultChoice(function(choice){onChoiceResponse(choice);});}
if(choice!=='wait'){onChoiceResponse(choice);}});},_getStoredChoice:function(callback){var self=this;this._getStoredSlug(function(value){if(!value){return callback.apply(this,[null]);}
if(self._getStoredSlugCustom){return callback.apply(this,[self._getStoredSlugCustom(value)]);}
for(var i=0,len=self.availableChoices.length;i<len;++i){var choice=self.availableChoices[i];if(choice.slug.toUpperCase()==value){return callback.apply(this,[choice]);}}
return callback.apply(this,[null]);});},lockSaveOptions:function(){var self=this;this.isSavingChoice=true;this.lockTimeoutHandler=setTimeout(function(){self.isSavingChoice=false;self.lockTimeoutHandler=null;},this.options.lockTimeout);},unlockSaveOptions:function(){if(this.lockTimeoutHandler){clearTimeout(this.lockTimeoutHandler);}
this.isSavingChoice=false;},_saveChoice:function(choiceObj){var self=this;this._getCurrentChoice(function(currentChoice){if(self.isSavingChoice){return;}
if((!currentChoice)&&(choiceObj===currentChoice)){return;}
if(!choiceObj){choiceObj=currentChoice;}
if(!choiceObj){return;}
self.currentChoice=choiceObj;window.glb.preferences.push(['put',{product:self._storageProductName(),key:self._storageKeyName(),value:choiceObj.slug}]);self._updateElements(choiceObj);if(choiceObj.slug!=currentChoice.slug){self.lockSaveOptions();self._getAvailableNews($.proxy(function(){self.unlockSaveOptions();},self));}});},_updateElements:function(choiceObj){this.elements.footerLink.attr("href",choiceObj.url);this.elements.footerLink.find("h4").text("mais "+choiceObj.name.toLowerCase());},_createBasicMarkup:function(){if(this.elements.highlights){return;}
var highlightsHtml=function(id){return['<li class="destaque destaque-terciario destaque-terciario-medio-foto-lado">','<div class="chamada chamada-principal  mobile-grid-full">','<a class="foto" href="#">','<span class="borda-foto">','<span></span>','<img title="" alt="" src="">','</span>','<span class="conteudo"><p></p></span>','</a>','</div>','</li>'].join('');};var html=['<div class="widget-highlights '+this._getCssClass()+'">','<div class="area-topo">','<a href="#" class="titulo">','<div>','<span class="choice-marker"><span></span></span>','<span class="area-selecionada"></span>','</div>','<span class="borda"></span>','</a>','</div>','<ul>',highlightsHtml(1),'<li class="separator"></li>',highlightsHtml(2),'<li class="separator"></li>','</ul>','<div class="bottom-area">','<div class="trocar-button-responsive">','<label></label>','</div>','<a class="mais" href="#"><h4></h4><span>&rsaquo;</span></a>','<div class="trocar-button"></div>','</div>','</div>'];this.element.append(html.join(''));this.elements.highlights=this.element.find('.widget-highlights');this.elements.highlightItems=this.elements.highlights.find('li.destaque');this.elements.highlightsTitle=this.elements.highlights.find('.area-topo .area-selecionada');this.elements.highlightsLink=this.elements.highlights.find('.area-topo a.titulo');this.elements.highlightsMarker=this.elements.highlights.find('.area-topo a.titulo .choice-marker span');this.elements.highlightImages=this.elements.highlightItems.find('img');this.elements.changeChoiceButton=this.element.find("div.trocar-button");this.elements.changeChoiceResponsiveButton=this.element.find("div.trocar-button-responsive label");this.elements.footerLink=this.elements.highlights.find(".mais");this._applyPIE(this.elements.highlights);},_applyPIE:function(element){if(!window.PIE){return;}
element.find('.css3pie').each(function(){PIE.attach(this);});},_createLoadingMarkup:function(){if(this.elements.loading){return;}
this.element.append('<div class="loading config-area"></div>');this.elements.loading=this.element.find('.loading');this._applyPIE(this.elements.loading);}});})(jQuery);(function(global){$.widget('libby.widgetPersonalizavelAnalytics',$.libby.widgetBase,{_create:function(){this._super("_create");this._bindEvents();},_bindEvents:function(){this._bind("onOptionSelected",this._onOptionSelected);this._bind("onChangeOption",this._onChangeOption);this._bind("onCloseChoicesArea",this._onCloseChoicesArea);},_optionValue:function(data){var optionValue=data.value;if(data.type=="estado"){if(optionValue=="Brasil"){optionValue='Todos';}}else if(data.type=="time"&&optionValue=="Todos os times"){optionValue='Todos';}
return optionValue;},_onCloseChoicesArea:function(e,data,cookieValue){if(!cookieValue){global._gaq.push(['_trackEvent',data.category,'Fechar '+data.type,'NÃ£o selecionado']);}},_onChangeOption:function(e,data){global._gaq.push(['_trackEvent',data.category,'IntenÃ§Ã£o troca '+data.type,this._optionValue(data)]);},_onOptionSelected:function(e,data){global._gaq.push(['_trackEvent',data.category,'Troca '+data.type,this._optionValue(data)]);}});})(window);(function($){$.widget('home.servicosSelect',$.libby.widgetBase,{options:{name:'servicosSelect',placeholder:'',values:[],select:null},_create:function(){this._super('_create');this._createElements();this._bindEvents();this.changeValues(this.options.values);},_createElements:function(){this.elements={};var html=['<input type="hidden" name="',this.options.name,'" />','<a href="#" class="selected-option"></a>','<span class="select-arrow"></span>','<div class="overlay">','<ul>','</ul>','</div>'];this.element.prepend(html.join(''));this.elements.input=this.element.find('input');this.elements.overlay=this.element.find('.overlay');this.elements.listArea=this.element.find('ul');this.elements.selectedOption=this.element.find('.selected-option');this.element.addClass('libby-servicos-select libby-scrollbar');},_bindEvents:function(){this.element.click($.proxy(this.toggle,this));this.element.delegate('li a','click',$.proxy(function(e){var el=$(e.currentTarget);this.selectElement(el.text(),el.data('value'),true);},this));this._bindSelectEvent();},_bindSelectEvent:function(){if(this.options.select instanceof Function){this.element.unbind('servicosSelectSelect');this._bind('servicosSelectSelect',this.options.select);}},_setOption:function(key,value){$.libby.widgetBase.prototype._setOption.apply(this,arguments);if(key==='values'){this.changeValues(value);}else if(key==='select'){this._bindSelectEvent();}},toggle:function(e){e.preventDefault();if(this.options.values.length===0){return;}
if(this.element.hasClass('visible')){this.close();}else{this.open();}},open:function(){this.element.addClass('visible');$(document).bind('click.servicos-select',$.proxy(function(e){if($(e.target).closest('.libby-servicos-select').length===0){this.close();}},this));},close:function(){this.element.removeClass('visible');$(document).unbind('click.servicos-select');},selectElement:function(name,value,fireEvent){this.elements.selectedOption.text(name);this.elements.input.val(value);if(fireEvent&&value&&this.options.select instanceof Function){this._trigger('servicosSelectSelect',[name,value]);}},changeValues:function(values){this.options.values=values;if(values.length===0){this.element.addClass('disabled');}else{this.element.removeClass('disabled');}
this.selectElement(this.options.placeholder,'');var html=[];for(var i=0,len=values.length;i<len;++i){var value=values[i];html.push('<li>','<a href="#" data-value="',value.value,'">',value.title,'</a>','</li>');}
this.elements.listArea.empty();this.elements.listArea.append(html.join(''));},reset:function(){this.selectElement(this.options.placeholder,'');}});})(jQuery);(function(global,$){$.widget('libby.customizationChooseMenu',{options:{pubsub:null,title:'',chooseComponentName:'customizationMenuNoticias'},_create:function(){this.elements={};this._createElements();this._bindEvents();this._createComponents();},_createElements:function(){var chooseMenuHTML=['<div class="button">',this.options.title,'</div>','<div style="display:none" class="floating-box css3pie">','<div class="header"><h3>',this.options.title,'</h3><div class="close-button"></div></div>','<div class="choose-area"></div>','<div class="tip-container"><span class="tip"></span></div>','</div>'].join('');this.element.addClass('customization-choose-menu');this.element.html(chooseMenuHTML);this.elements.floatingBox=this.element.find('.floating-box');this.elements.openButton=this.element.find('.button');this.elements.closeButton=this.element.find('.close-button');this.elements.chooseComponent=this.element.find('.choose-area');},_bindEvents:function(){this.elements.openButton.bind('click',$.proxy(this._onToggleFloatBoxOpened,this));this.elements.closeButton.bind('click',$.proxy(this._onToggleFloatBoxOpened,this));this.options.pubsub.bind('optionSelected',$.proxy(this._onOptionSelected,this));},_createComponents:function(){this.elements.chooseComponent[this.options.chooseComponentName]({pubsub:this.options.pubsub});},_onToggleFloatBoxOpened:function(ev){ev.preventDefault();if(this.elements.floatingBox.is(':visible')){this.options.pubsub.trigger('chooseMenuClose');}else{this.options.pubsub.trigger('chooseMenuOpen');}
this.elements.floatingBox.fadeToggle("normal");},_onOptionSelected:function(ev){this.elements.floatingBox.fadeOut("normal");}});})(window,jQuery);(function(global,$){$.widget('libby.customizationMenuNoticias',{options:{pubsub:null},_create:function(){this.elements={};this._createElements();this._createComponents();this._bindEvents();},_createElements:function(){var regionsMenuHTML=['<div class="states-flags">','<h4>Selecione primeiro seu estado:</h4>','<ul class="flags-board loading"></ul>','</div>','<div class="select-region" style="display:none">','<h4><span class="flag-icon"></span><span class="state-selected-name"></span></h4>','<div class="select"></div>','<div><a class="action-back" href="#">&lsaquo; VOLTAR</a></div>','</div>'].join('');this.element.addClass('customization-menu-noticias');this.element.html(regionsMenuHTML);this.elements.flagsView=this.element.find('.states-flags');this.elements.flagsBoard=this.element.find('.flags-board');this.elements.selectRegionView=this.element.find('.select-region');this.elements.stateIcon=this.elements.selectRegionView.find('.flag-icon');this.elements.stateLabel=this.elements.selectRegionView.find('.state-selected-name');this.elements.regionsSelect=this.elements.selectRegionView.find('.select');this.elements.backButton=this.elements.selectRegionView.find('.action-back');},_createComponents:function(){this.elements.regionsSelect.servicosSelect({name:'region',placeholder:'escolha uma opÃ§Ã£o'});},_bindEvents:function(){this.options.pubsub.bind('choicesReady',$.proxy(this._onChoicesReady,this));this.elements.backButton.bind('click',$.proxy(this._onBackButtonClicked,this));},_onBackButtonClicked:function(ev){ev.preventDefault();this.elements.flagsView.show();this.elements.selectRegionView.hide();},_onChoicesReady:function(ev,choicesData){this.elements.flagsBoard.removeClass('loading');this.states={};var choicesHTML=[];var len=Math.min(27,choicesData.length);for(var i=0;i<len;++i){var state=choicesData[i];choicesHTML=choicesHTML.concat(['<li>','<a class="css3pie" title="',state.name,'" href="#" data-slug="',state.slug.toLowerCase(),'">','<div class="state-flag ',state.slug.toLowerCase(),'"></div>','<div class="state-border"><div class="sigla-uf">',state.slug,'</div></div>','</a>','</li>']);this.states[state.slug.toLowerCase()]=state;}
this.elements.flagsBoard.html(choicesHTML.join(''));this._bindFlagsEvents();},_bindFlagsEvents:function(){this.elements.flagsBoard.find('li > a').bind('click',$.proxy(this._onSelectFlag,this));},_onSelectFlag:function(ev){ev.preventDefault();var selectedSlug=this._getEventTarget(ev).data('slug'),selectedState=this.states[selectedSlug];if(this._hasRegions(selectedState)){this._showRegions(selectedState);}else{this._triggerOptionSelected(selectedState);}},_getEventTarget:function(event){return $((event.currentTarget)?event.currentTarget:event.srcElement);},_hasRegions:function(state){if(state.regions){return JSON.stringify(state.regions).length>2;}
return false;},_showRegions:function(selectedState){this.elements.stateIcon.attr('class','state-flag '+selectedState.slug.toLowerCase());this.elements.stateLabel.text(selectedState.name);var selectOptionsValues=$.map(selectedState.regions,function(value,key){return{title:value.name,value:key};});this.elements.regionsSelect.servicosSelect({select:$.proxy(this._onRegionSelected(selectedState),this),values:selectOptionsValues});this.elements.flagsView.hide();this.elements.selectRegionView.show();},_onRegionSelected:function(selectedState){return function(element,title,regionSlug){this._triggerOptionSelected(selectedState.regions[regionSlug]);};},_triggerOptionSelected:function(selectedRegion){var selectedState=selectedRegion.state||selectedRegion.slug;this.elements.flagsBoard.find('li a').removeClass('selected');this.elements.flagsBoard.find("a[data-slug='"+selectedState.toLowerCase()+"']").addClass("selected");this.options.pubsub.trigger('optionSelected',selectedRegion);}});})(window,jQuery);(function(global,$){$.widget('libby.customizationResponsiveMenu',{options:{pubsub:null,title:''},_responsiveLabel:function(){throw'_responsiveLabel should be overriden';},_create:function(){this.elements={};this._bindEvents();},_bindEvents:function(){this.options.pubsub.bind('choicesReady',$.proxy(this._onChoicesReady,this));},_onChoicesReady:function(ev,choices){var parsedChoices=this._parseChoices(choices);this._createMenu(parsedChoices);},_createMenu:function(choices){this._createBasicSelectMarkup();for(var i=0;i<choices.length;i++){this.elements.select.append(this._createMarkupForChoice(choices[i]));}},_createBasicSelectMarkup:function(){this.element.html('<span>'+this._responsiveLabel()+'</span><select></select>');this.elements.select=this.element.find('select');this.elements.select.bind('change',$.proxy(this._onChoiceSelectedInMenu,this));},_onChoiceSelectedInMenu:function(ev){this.options.pubsub.trigger('optionSelected',this.objects[this.elements.select.val()]);},_createMarkupForChoice:function(choice){if(this._hasGroups(choice)){optgroup=this._createOptGroup(choice);for(var i=0;i<choice.optgroup.length;i++){optgroup.append(this._createOption(choice.optgroup[i]));}
return optgroup;}else{return this._createOption(choice);}},_hasGroups:function(choice){return choice.optgroup&&choice.optgroup.length>0;},_createOptGroup:function(data){return $('<optgroup label="'+data.text+'"></optgroup>');},_createOption:function(data){return $('<option value="'+data.value+'">'+data.text+'</option>');},_parseChoices:function(originalChoices){this.objects={};for(var i=0;i<originalChoices.length;i++){this.objects[originalChoices[i].value]=originalChoices[i];if(originalChoices[i].optgroup&&originalChoices[i].optgroup.length>0){for(var x=0;x<originalChoices[i].optgroup.length;x++){this.objects[originalChoices[i].optgroup[x].value]=originalChoices[i].optgroup[x];}}}
return originalChoices;}});})(window,jQuery);(function(global,$){$.widget('libby.customizationResponsiveMenuNoticias',$.libby.customizationResponsiveMenu,{_responsiveLabel:function(){return'MUDAR REGIÃO';},_parseChoices:function(originalChoices){var options=[],currentOption;this.objects={};for(var i=0;i<originalChoices.length;i++){currentOption={value:originalChoices[i].slug,text:originalChoices[i].name,optgroup:[]};if(this._hasRegions(originalChoices[i])){currentOption.optgroup=$.map(originalChoices[i].regions,function(value,key){return{value:originalChoices[i].slug+"/"+key,text:value.name};});}
options.push(currentOption);this.objects[originalChoices[i].slug]=originalChoices[i];}
return options;},_onChoiceSelectedInMenu:function(ev){var values=this.elements.select.val().split("/");if(values.length>1){this.options.pubsub.trigger('optionSelected',this.objects[values[0]].regions[values[1]]);}else{this.options.pubsub.trigger('optionSelected',this.objects[values[0]]);}},_hasRegions:function(state){if(state.regions){return JSON.stringify(state.regions).length>2;}
return false;}});})(window,jQuery);(function($){$.widget("home.personalizaveisNoticias",$.home.widgetPersonalizaveis,{_create:function(){var self=this;this._initStates();this.selectedState={};window.glb=window.glb||{};window.glb.preferences=window.glb.preferences||[];window.glb.preferences.push(['get',{product:this._storageProductName(),key:this._storageKeyName(),callback:function(value){if(value){$.home.widgetPersonalizaveis.prototype._create.call(self,arguments);}else{globoapi.geo.onSuccess($.proxy(self._geoLocate,self));globoapi.geo.onNotFound($.proxy(self._geoLocate,self));}}}]);},_geoLocate:function(geo){if(geo){this._defineGeoLocatedState(geo.state.code);}
$.home.widgetPersonalizaveis.prototype._create.call(this);},_defineGeoLocatedState:function(state){for(var i=0;i<this.availableStates.length;++i){if(this.availableStates[i].slug.toUpperCase()==state.toUpperCase()){this._getDefaultChoice=function(){return this.availableStates[i];};break;}}},_storageKeyName:function(){return'regiao';},_storageProductName:function(){return'jornalismo';},_getAnalyticsData:function(event){var self=this;this._getCurrentChoice(function(currentChoice){var value=currentChoice.name;if(currentChoice.state){value=currentChoice.state+"/"+value;}else{value=currentChoice.slug+"/"+value;}
self._trigger(event,{category:"Meu estado",type:"estado",value:value});});},_initStates:function(){var self=this;this.availableStates=[];var widgetStatesData=this.element.data('widgetData');for(var key in widgetStatesData){widgetStatesData[key].slug=key;for(var region in widgetStatesData[key].regions){widgetStatesData[key].regions[region].slug=widgetStatesData[key].slug+"/"+region;widgetStatesData[key].regions[region].state=key;}
this.availableStates.push(widgetStatesData[key]);}
this.availableStates=this.availableStates.sort(function(item,item2){return self._normalizeString(item.name)<self._normalizeString(item2.name)?-1:1;});},_getChoicesData:function(){return{title:'Meu estado'};},_getCssClass:function(){return'glb-hl-style-noticia';},_getChangeText:function(){return'ESCOLHA SUA REGIÃO';},_getSelectText:function(){return'selecione seu estado';},_getNewsService:function(){return globoapi.regionalNews;},_getChoiceOptions:function(callback){callback(this.availableStates);},_getDefaultChoice:function(){return{slug:'SP',name:'SÃ£o Paulo',url:'http://g1.globo.com/sao-paulo/'};},_getStoredSlugCustom:function(slug){var choice,i;slug=slug.split("/");for(i=0,len=this.availableChoices.length;i<len;++i){choice=this.availableChoices[i];if(choice.slug.toUpperCase()==slug[0]){if(slug[1]){return choice.regions[slug[1].toLowerCase()];}
return choice;}}
return null;},_optionSelected:function(ev,option){this._changeState(option);this._getAnalyticsData("onOptionSelected");},_renderChoices:function(choicesData){this.elements.changeChoiceButton.customizationChooseMenu({chooseComponentName:"customizationMenuNoticias",title:this._getChangeText(),pubsub:this.element});this.elements.changeChoiceResponsiveButton.customizationResponsiveMenuNoticias({title:this._getChangeText(),pubsub:this.element});this.element.trigger("choicesReady",[choicesData]);this.element.bind("optionSelected",$.proxy(this._optionSelected,this));this.element.bind('chooseMenuOpen',$.proxy(function(){this._getAnalyticsData('onChangeOption');},this));this.element.bind('chooseMenuClose',$.proxy(function(){this._getAnalyticsData('onCloseChoicesArea');},this));},_changeState:function(state){if(!state){state=this._getCurrentChoice();}
if(state.regionSlug){state.slug+="/"+regionSlug;}
this._saveChoice(state);},_updateElements:function(region){var slug=region.state||region.slug;$.home.widgetPersonalizaveis.prototype._updateElements.call(this,region);this.elements.highlightsMarker.attr("class",slug.toLowerCase());},_normalizeString:function(s){var r=s.toLowerCase();non_asciis={'a':'[Ã Ã¡Ã¢Ã£Ã¤Ã¥]','ae':'Ã¦','c':'Ã§','e':'[Ã¨Ã©ÃªÃ«]','i':'[Ã¬Ã­Ã®Ã¯]','n':'Ã±','o':'[Ã²Ã³Ã´ÃµÃ¶]','oe':'Å','u':'[Ã¹ÃºÃ»Å±Ã¼]','y':'[Ã½Ã¿]'};for(var i in non_asciis){r=r.replace(new RegExp(non_asciis[i],'g'),i);}
return r;}});})(jQuery);(function($){$('div.libby-widgets-personalizaveis-noticias').personalizaveisNoticias();})(jQuery);(function($){$.widget("libby.widgetEconomia",$.libby.widgetBase,{_create:function(){this._super("_create");this._bindEvents();},_createElements:function(){var html=['<div class="libby-home-widgetBase-container-top css3pie"></div>','<div class="libby-home-widgetBase-container css3pie">','<div class="header">','<span class="logo"></span>','</div>','<div class="content">','<div class="finance-index normal">','<a href="http://g1.globo.com/economia/mercados/">','<h4></h4>','<div class="percentage">','<div class="up-down-ico"></div>','<span class="pctchng"></span><sup>%</sup>','</div>','<div class="points">','<strong></strong> (<span class="cfNetchng"></span>)','</div>','</a>','</div>','<div class="currencies normal">','<table celspacing="0" celpadding="0">','<thead>','<tr>','<th>moedas</th>','<th>compra</th>','</tr>','</thead>','<tbody>','<tr>','<td>DÃ³lar com.</td>','<td class="value">R$ <span class="dolar"></span></td>','</tr>','<tr>','<td>Euro</td>','<td class="value">R$ <span class="euro"></span></td>','</tr>','<tr>','<td>Libra</td>','<td class="value">R$ <span class="libra"></span></td>','</tr>','</tbody>','</table>','</div>','<div class="resume">','<div class="ibvp">','<h4>ibovespa</h4>','<span class="right">','<span class="pct"></span><small></small>','</span>','</div>','<div>','<h4>dÃ³lar com.</h4>','<span class="right">','<span class="dlr"></span><small>(compra)</small>','</span>','</div>','</div>','</div>','<div class="footer">','<div class="status"></div>','<div class="label">atualizado: <span class="datetime"></span></div>','</div>','</div>'];this.element.html(html.join(''));this.elements.content=this.element.find('.content');this.elements.percentage=this.elements.content.find(".percentage");this.elements.displayName=this.elements.content.find('.normal h4');this.elements.pctchng=this.elements.content.find('.pctchng');this.elements.upDownIco=this.elements.content.find('.up-down-ico');this.elements.cfLast=this.elements.content.find('.points > strong');this.elements.cfNetchng=this.elements.content.find('.cfNetchng');this.elements.dolar=this.elements.content.find('.dolar');this.elements.euro=this.elements.content.find('.euro');this.elements.libra=this.elements.content.find('.libra');this.elements.resume=this.elements.content.find('.resume');this.elements.resumePercent=this.elements.resume.find('.ibvp .pct');this.elements.resumePoints=this.elements.resume.find('.ibvp small');this.elements.resumeDolar=this.elements.resume.find('.dlr');this.elements.footer=this.element.find('.footer');this.elements.statusPregao=this.elements.footer.find('.status');this.elements.timeNow=this.elements.footer.find('.datetime');},_bindEvents:function(){globoapi.finance.onSuccess($.proxy(this._updateInformation,this));globoapi.finance.update();},_updateInformation:function(currencyInfo){var pctchngResume;this._createElements();this.elements.displayName.text(currencyInfo.displayName);this.elements.pctchng.text(currencyInfo.pctchng);this.elements.cfLast.text(currencyInfo.cfLast+' pts');this.elements.cfNetchng.text(currencyInfo.cfNetchng);this.elements.dolar.text(currencyInfo.currency.dolar);this.elements.euro.text(currencyInfo.currency.euro);this.elements.libra.text(currencyInfo.currency.libra);if(currencyInfo.pctchngVariation=="up"){this.elements.upDownIco.text("+");pctchngResume='+';}else{this.elements.upDownIco.text("-");pctchngResume='-';}
this.elements.resumePoints.text(currencyInfo.cfLast+' pts');this.elements.resumePercent.text(pctchngResume+currencyInfo.pctchng+'%');this.elements.resumeDolar.text('R$ '+currencyInfo.currency.dolar);this.elements.resumePercent.addClass(currencyInfo.pctchngVariation);this.elements.percentage.addClass(currencyInfo.pctchngVariation);this.elements.timeNow.text(currencyInfo.timeNow.replace(/\/20\d{2}/,""));if(currencyInfo.isOpen){this.elements.statusPregao.text("pregÃ£o em andamento");}else{this.elements.statusPregao.text("pregÃ£o encerrado");}
this.element.addClass('loaded');this.elements.content.show();}});})(jQuery);(function($){$("#libby-home-widget-economia").widgetEconomia();}(jQuery));(function(global,$){$.widget('libby.customizationMenuNovelas',{options:{pubsub:null},_create:function(){this.elements={};this._createElements();this._bindEvents();},_createElements:function(){this.element.html('<ul class="loading"></ul>');this.elements.options=this.element.find('ul');},_bindEvents:function(){this.options.pubsub.bind('choicesReady',$.proxy(this._onChoicesReady,this));this.options.pubsub.bind('defaultChoice',$.proxy(this._onDefaultChoice,this));this.options.pubsub.bind('optionSelected',$.proxy(this._onOptionSelected,this));},_onChoicesReady:function(ev,choices){this._renderOptions(choices);this._bindChoicesEvents();this._stopLoading();},_stopLoading:function(){this.elements.options.removeClass('loading');},_renderOptions:function(choices){var novela;for(var i=0;i<choices.length;i++){novela=choices[i];var option=$(['<li>','<a href="#',novela.slug,'" class="css3pie ',novela.slug,'">','<span>',novela.name,'</span>','</a>','</li>'].join(''));option.data('novela',novela);this.elements[novela.slug]=option;this.elements.options.append(option);}},_onDefaultChoice:function(ev,novelaSlug){var novela=this.elements[novelaSlug].data('novela');this._chooseNovela(novela);},_bindChoicesEvents:function(){this.elements.options.find('a').bind('click',$.proxy(this._onClickToChooseNovela,this));},_onClickToChooseNovela:function(ev){ev.preventDefault();var novela=this._getEventTarget(ev).parents('li').data('novela');this._chooseNovela(novela);},_chooseNovela:function(novela){this.options.pubsub.trigger('optionSelected',novela);},_getEventTarget:function(event){return $((event.currentTarget)?event.currentTarget:event.srcElement);},_onOptionSelected:function(ev,novela){this.elements.options.find('li').removeClass('selected');this.elements[novela.slug].addClass('selected');}});})(window,jQuery);(function(global,$){$.widget('libby.customizationResponsiveMenuNovelas',$.libby.customizationResponsiveMenu,{_responsiveLabel:function(){return'MUDAR NOVELA';},_parseChoices:function(originalChoices){var options=[],currentOption;this.objects={};for(var i=0;i<originalChoices.length;i++){currentOption={value:originalChoices[i].slug,text:originalChoices[i].name,optgroup:[]};options.push(currentOption);this.objects[originalChoices[i].slug]=originalChoices[i];}
return options;}});})(window,jQuery);(function($){$.widget("home.personalizaveisNovelas",$.home.widgetPersonalizaveis,{_create:function(){this._initNovelas();$.home.widgetPersonalizaveis.prototype._create.call(this,arguments);},_storageKeyName:function(){return'novela';},_storageProductName:function(){return'entretenimento';},_initNovelas:function(){this.availableNovelas=this.element.data('widgetData')||[];for(var i=0,len=this.availableNovelas.length;i<len;++i){var novela=this.availableNovelas[i];if(novela['default']==1){this.defaultNovela=novela;}}
if(!this.defaultNovela){this.defaultNovela=this.availableNovelas[0];}},_getAnalyticsData:function(event){var self=this;this._getCurrentChoice(function(currentChoice){var value=currentChoice.name;self._trigger(event,{category:"Minha novela",type:"novela",value:value});});},_getCoverData:function(){return{title:'sua novela <strong>favorita</strong>',subtitle:'Personalize com a sua<br />novela predileta'};},_getChoicesData:function(){return{title:'Minha novela favorita'};},_getCssClass:function(){return'glb-hl-style-entretenimento';},_getChangeText:function(){return'ESCOLHA SUA NOVELA';},_getSelectText:function(){return'selecione sua novela';},_getNewsService:function(){return globoapi.novelaNews;},_getChoiceOptions:function(callback){callback(this.availableNovelas);},_getDefaultChoice:function(){return this.defaultNovela;},_optionSelected:function(ev,novela){this._changeNovela(novela);this._getAnalyticsData("onOptionSelected");},_renderChoices:function(choicesData){this.elements.changeChoiceButton.customizationChooseMenu({chooseComponentName:"customizationMenuNovelas",title:this._getChangeText(),pubsub:this.element});this.elements.changeChoiceResponsiveButton.customizationResponsiveMenuNovelas({title:this._getChangeText(),pubsub:this.element});this.element.trigger("choicesReady",[choicesData]);this.element.bind("optionSelected",$.proxy(this._optionSelected,this));this.element.bind('chooseMenuOpen',$.proxy(function(){this._getAnalyticsData('onChangeOption');},this));this.element.bind('chooseMenuClose',$.proxy(function(){this._getAnalyticsData('onCloseChoicesArea');},this));},_changeNovela:function(novela){this._saveChoice(novela);},_updateElements:function(novela){var img=new Image(),self=this;$.home.widgetPersonalizaveis.prototype._updateElements.call(this,novela);img.onload=function(){self.elements.highlightsMarker.empty().append(this);};img.src=novela.logo;}});})(jQuery);(function($){$('div.libby-widgets-personalizaveis-novelas').personalizaveisNovelas();})(jQuery);(function($){$.widget("libby.widgetHoroscopo",$.libby.widgetBase,{options:{speed:150,horoscopeUrl:'http://horoscopo.ego.globo.com/signos/{sign}'},_create:function(){this._super("_create");this._bindEvents();this._createWidgets();},_createElements:function(){var contentContainerClass=this._classFor("content");var currentSignContainerClass=this._classFor("currentSignContainer");var currentSignImageClass=this._classFor("currentSignImage");var currentSignOverviewContainerClass=this._classFor("currentSignOverview");var html=['<div class="libby-home-widgetBase-container css3pie">','<div class="header">','<div class="provider"></div>','</div>','<div class="content">','<div class="',contentContainerClass,'">','<a class="',currentSignContainerClass,'">','<div class="before-title">','<strong class="title"></strong>','<span class="period"></span>','</div>','<span class="',currentSignImageClass,'"></span>','<span class="',currentSignOverviewContainerClass,'">','<strong class="title"></strong>','<span class="period"></span>','<span class="description"></span>','<span class="complete">previsÃ£o completa âº</span>','</span>','</a>','</div>','</div>','<div class="footer"></div>','</div>'];this.element.append(html.join(''));var content=this.element;this.elements.contentContainer=content.find('.'+contentContainerClass);this.elements.currentSignContainer=content.find('.'+currentSignContainerClass);this.elements.currentSignImage=content.find('.'+currentSignImageClass);this.elements.currentSignTitle=content.find('.'+currentSignContainerClass+' .title');this.elements.currentSignPeriod=content.find('.'+currentSignContainerClass+' .period');this.elements.currentSignOverview=content.find('.'+currentSignOverviewContainerClass+' .description');this.elements.currentSignContainer.click($.proxy(function(ev){var sign=this.elements.currentSignOverview.data('sign');this._trigger("onSelectedSign",sign);},this));this.elements.footer=content.find('.footer');this.elements.footer.append(this.menuElement);},_bindEvents:function(){this._bind('onSignLoaded',this._onSignLoaded);this._bind('onHoroscopeData',this._onHoroscopeData);this._bind('onSignSelected',this._onSignSelected);},_createWidgets:function(){this.menuElement=$('<div></div>').widgetHoroscopoMenu({pubsub:this.element});this.element.widgetHoroscopoDataSource();this.element.widgetHoroscopoAnalytics();},_onSignLoaded:function(ev,sign){this.element.addClass('loaded');this._createElements();this._showSign(sign);},_onSignSelected:function(ev,sign){var self=this;this.elements.contentContainer.show();if(this.horoscopeData){this._showSign(this.horoscopeData[sign.slug]);}else{setTimeout(function(){self._onSignSelected(ev,sign);},100);}},_showSign:function(sign){var sign_periods={aries:'21/03 a 19/04',touro:'20/04 a 20/05',gemeos:'21/05 a 21/06',cancer:'22/06 a 22/07',leao:'23/07 a 22/08',virgem:'23/08 a 22/09',libra:'23/09 a 22/10',escorpiao:'23/10 a 21/11',sagitario:'22/11 a 21/12',capricornio:'22/12 a 19/01',aquario:'20/01 a 18/02',peixes:'19/02 a 20/03'}
var changeSign=$.proxy(function(){this.elements.currentSignImage.attr('class','libby-widgetHoroscopo-currentSignImage '+this._classFor(sign.slug));this.elements.currentSignContainer.attr('href',this.options.horoscopeUrl.replace(/\{sign\}/g,sign.slug));this.elements.currentSignPeriod.text(sign_periods[sign.slug]);this.elements.currentSignTitle.text(sign.name);this.elements.currentSignOverview.text(sign.description);this.elements.currentSignOverview.data('sign',sign.slug);if($.fn.dotdotdot){this.elements.currentSignOverview.dotdotdot({watch:'window'});}},this);this.elements.contentContainer.stop(true).animate({opacity:0},this.options.speed,changeSign).animate({opacity:1},this.options.speed);},_onHoroscopeData:function(ev,horoscope){this.horoscopeData=horoscope;}});})(jQuery);(function($){$.widget("libby.widgetHoroscopoMenu",$.libby.widgetBase,{options:{horoscopeUrl:'http://horoscopo.ego.globo.com/signos/{sign}'},_create:function(){this._super("_create");this._bindEvents();},_createElements:function(){var currentSign,signOption,html=$('<div class="desktop-menu"></div>');htmlResponsive=$(['<label class="button-select-responsive">','<span>MUDAR SIGNO</span>','<select></select>','</div>'].join(''));this.signsClass=this._classFor("signs");this.signSelectedClass=this._classFor("signSelected");this.menuOptions={};this.element.append(html);this.element.append(htmlResponsive);this.elements.responsiveMenu=this.element.find('.button-select-responsive select');this.elements.responsiveMenu.bind('change',$.proxy(this._onChangeSign,this));this.tooltip=$('<span class="tooltip"><span class="name"></span><span class="arrow"></span></span>');html.append(this.tooltip);$.each(this.signs,$.proxy(function(i,sign){sign=sign.name;currentSign=$('<a href="#'+sign+'"></a>');currentSign.addClass(this.signsClass+' '+this._classFor(sign));currentSign.data("sign_slug",sign);currentSign.click($.proxy(function(ev){ev.preventDefault();ev.stopPropagation();if(this.currentSign==sign)return;this._trigger("onSignSelected",[{slug:sign}]);},this));signOption=$('<option value="'+sign+'"></option>');this.elements[sign]=currentSign;this.menuOptions[sign]=signOption;this.elements.responsiveMenu.append(signOption);html.append(currentSign);},this));},_bindEvents:function(){this._bind("onSignLoaded",this._onSignLoaded);this._bind("onSignSelected",this._onSignLoaded);this._bind("onHoroscopeData",this._onHoroscopeData);this._bind("onSignsAvailable",this._onSignsAvailable);this.element.on('mouseenter','.'+this._classFor("signs"),$.proxy(function(ev){var target=$(ev.currentTarget),sign=target.data('tooltip'),targetPos=target.offset(),targetWidth=target.outerWidth();this.tooltip.find('.name').text(sign);this.tooltip.show();var tooltipWidth=this.tooltip.outerWidth(),tooltipHeight=this.tooltip.outerHeight(true);this.tooltip.offset({left:targetPos.left-(tooltipWidth/2)+(targetWidth/2),top:targetPos.top-tooltipHeight});},this));this.element.on('mouseleave','.'+this._classFor("signs"),$.proxy(function(ev){this.tooltip.hide();},this));},_onSignLoaded:function(ev,sign){this.currentSign=sign.slug;this._markSign(sign.slug);},_onHoroscopeData:function(ev,horoscopeData){$.each(horoscopeData,$.proxy(function(i,sign){this.elements[sign.slug].data("tooltip",sign.name);this.menuOptions[sign.slug].text(sign.name);},this));},_onSignsAvailable:function(ev,signs){this.signs=signs;this._createElements();},_onChangeSign:function(ev){this._trigger("onSignSelected",[{slug:this.elements.responsiveMenu.val()}]);},_markSign:function(slug){this.element.find('.'+this.signsClass).removeClass(this.signSelectedClass);this.elements[slug].addClass(this.signSelectedClass);this.elements.responsiveMenu.blur();}});})(jQuery);(function($){$.widget("libby.widgetHoroscopoDataSource",$.libby.widgetBase,{_create:function(){window.glb=window.glb||{};window.glb.preferences=window.glb.preferences||[];var self=this;this._super("_create");this._loadSigns();this._findPreferredSign(function(sign){globoapi.horoscope.onSuccess('complete',$.proxy(self._allHoroscopesLoaded,self));globoapi.horoscope.onSuccess('complete.'+sign,$.proxy(self._signLoaded,self));globoapi.horoscope.update('complete.'+sign);});this._bindEvents();},_loadSigns:function(){this.signs=[{name:"aries",end:'0419',period:'21/03 a 19/04'},{name:"touro",end:'0520',period:'20/04 a 20/05'},{name:"gemeos",end:'0621',period:'21/05 a 21/06'},{name:"cancer",end:'0722',period:'22/06 a 22/07'},{name:"leao",end:'0822',period:'23/07 a 22/08'},{name:"virgem",end:'0922',period:'23/08 a 22/09'},{name:"libra",end:'1022',period:'23/09 a 22/10'},{name:"escorpiao",end:'1121',period:'23/10 a 21/11'},{name:"sagitario",end:'1221',period:'22/11 a 21/12'},{name:"capricornio",end:'0119',period:'22/12 a 19/01'},{name:"aquario",end:'0218',period:'20/01 a 18/02'},{name:"peixes",end:'0320',period:'19/02 a 20/03'}];this._trigger("onSignsAvailable",[this.signs]);},_findPreferredSign:function(callback){var self=this;window.glb.preferences.push(['get',{product:'entretenimento',key:'signo',callback:function(preferredSign){if(preferredSign){return callback.apply(this,[preferredSign]);}
var sortedSigns=self.signs.slice(0);sortedSigns.sort(function(a,b){return a.end.localeCompare(b.end);});var d=new Date(),month=''+(d.getMonth()+1),day=''+d.getDate(),month_year=(month.length==1?'0'+month:month)+(day.length==1?'0'+day:day);for(var i=0,len=sortedSigns.length;i<len;++i){if(month_year<sortedSigns[i].end){return callback.apply(this,[sortedSigns[i].name]);}}}}]);},_bindEvents:function(){this._bind("onSignSelected",this._onSignSelected);},_onSignSelected:function(ev,sign){window.glb.preferences.push(['put',{product:'entretenimento',key:'signo',value:sign.slug}]);},_signLoaded:function(sign){this._trigger("onSignLoaded",sign);globoapi.horoscope.update('complete');},_allHoroscopesLoaded:function(horoscopeData){this._trigger("onHoroscopeData",horoscopeData);}});})(jQuery);(function(global){$.widget('libby.widgetHoroscopoAnalytics',$.libby.widgetBase,{_create:function(){this._super("_create");this._bindEvents();},_bindEvents:function(){this._bind("onSignSelected",this._onSignSelected);},_onSignSelected:function(ev,sign){global._gaq.push(['_trackEvent','Horoscopo','Troca Signo',sign.slug]);}});})(window);(function($){$("#libby-home-widget-horoscopo").widgetHoroscopo();})(jQuery);(function($){$.widget("libby.widgetTopVideos",{options:{url:'http://local.globo.com:8989/videos/top.jsonp',size:'desktop'},_create:function(){this._collectElements();this._loadData();},_collectElements:function(){this.elements={};this.elements.links=this.element.find('.destaque li a.foto');this.elements.photos=this.elements.links.find('img');this.elements.descriptions=this.elements.links.find('p');this.elements.durations=this.elements.links.find('.duration');},_loadData:function(){var self=this;$.ajax({url:this.options.url,dataType:'jsonp',cache:true,success:function(data){self.element.css('display','block');for(var i=0;i<Math.min(5,data.length);i++){var film=data[i],photo=self.elements.photos.eq(i),currentImage;self.elements.links.eq(i).attr('href',film.url);if(!film.thumbs[self.options.size]){currentImage=film.thumbs['desktop'];}else{currentImage=film.thumbs[self.options.size];}
photo.attr('src',currentImage).attr('alt',film.title);if(film.thumbs.desktop){photo.attr('data-url-desktop',film.thumbs.desktop);}else{photo.removeAttr('data-url-desktop');}
if(film.thumbs.tablet){photo.attr('data-url-tablet',film.thumbs.tablet);}else{photo.removeAttr('data-url-tablet');}
if(film.thumbs.smart_horizontal){photo.attr('data-url-smart_horizontal',film.thumbs.smart_horizontal);}else{photo.removeAttr('data-url-smart_horizontal');}
if(film.thumbs.smart){photo.attr('data-url-smart',film.thumbs.smart);}else{photo.removeAttr('data-url-smart');}
if(film.thumbs.feature){photo.attr('data-url-feature',film.thumbs.feature);}else{photo.removeAttr('data-url-feature');}
var title=film.title;var changed=false;var description=self.elements.descriptions.eq(i);description.text(title);var height=description.height(),maxHeight;if(self.options.size.indexOf('smart')!==-1||self.options.size==='feature'){maxHeight=52;}else{maxHeight=46;}
while(height>maxHeight&&title.length>0){changed=true;title=title.substr(0,title.length-1);description.text(title+'â¦');height=description.height();}
if(changed){description.attr('title',film.title);}
self.elements.durations.eq(i).text(film.duration);}}});}});})(jQuery);(function(global,$){var TAB_KEY=9;$.widget('home.servicosAutocomplete',$.libby.widgetBase,{options:{autocompleteOptions:{minLength:3,autoFocus:true},onClear:null},_create:function(){this._super('_create');this._render();this._bindEvents();this._toggleClearButton();this.createAutocomplete();},_render:function(){var html=['<span type="button" class="libby-servicos-autocomplete-clear-button"></span>','<div class="libby-servicos-autocomplete"></div>'];var elements=$(html.join(''));this.elements.autocompleteContainer=elements.filter('.libby-servicos-autocomplete');this.elements.clearButton=elements.filter('.libby-servicos-autocomplete-clear-button');this.element.after(elements);this.elements.container=this.element.parent();},_bindEvents:function(){this._bindClearButtonRelatedEvents();this._bindAutocompleteRelatedEvents();},_bindClearButtonRelatedEvents:function(){this.elements.clearButton.mousedown($.proxy(this._onMousedownClearButton,this));this._bind('keydown',this._delayedToggleClearButton);this._bind('focus',this._toggleClearButton);this._bind('blur',function(e){this._disable('clearButton');if(!this.element.data('autocomplete').menu.element.is(':visible')){this._disable('container');}});this._bindClearEvent();},_bindClearEvent:function(){if(this.options.onClear instanceof Function){this._bind('servicosAutocompleteClear',this.options.onClear);}},_setOption:function(key,value){$.libby.widgetBase.prototype._setOption.apply(this,arguments);if(key==='onClear'){this._bindClearEvent();}},_bindAutocompleteRelatedEvents:function(){this._bind('autocompletecreate',function(){this._disable('container');});this._bind('autocompletesearch',function(){this._enable('container');});this._bind('autocompleteclose',function(){this._disable('container');});},createAutocomplete:function(){this.element.autocomplete($.extend(true,{appendTo:this.elements.autocompleteContainer},this.options.autocompleteOptions));},_delayedToggleClearButton:function(e){if(e.keyCode!==TAB_KEY){setTimeout($.proxy(this._toggleClearButton,this),10);}},_toggleClearButton:function(){if(this.element.val().length>0){this._enable('clearButton');}else{this._disable('clearButton');}},_onMousedownClearButton:function(){this.element.val('').autocomplete('search','').autocomplete('close');this._disable('container');this._disable('clearButton');this._trigger('servicosAutocompleteClear');},_disable:function(element){this.elements[element].addClass('disabled');},_enable:function(element){this.elements[element].removeClass('disabled');}});}(this,jQuery));(function($){$.fn.placeholder=function(options){if($.placeholder.placeholderAvailable){return this;}
return this.each(function(){new $.placeholder(this,$.extend({},$.placeholder.options,options));});};$.placeholder=function(element,options){this.inputElement=$(element);this.placeholderTxt=this.inputElement.attr('placeholder');if(!this.placeholderTxt){return null;}
var previousElement=this.inputElement.data('placeholder');if(previousElement){previousElement.placeholderElement.text(this.placeholderTxt);return previousElement;}
this.inputElement.data('placeholder',this);this.options=options;this.placeholderElement=this._createPlaceholder();this._bindEvents();return this;};$.placeholder.options={color:'#999',leftPadding:12};$.placeholder.placeholderAvailable=('placeholder'in document.createElement('input'));$.placeholder.currentId=0;$.placeholder.prototype={remove:function(){this.inputElement.removeData('placeholder');if(this.placeholderElement){this.placeholderElement.remove();}},_shouldShow:function(){return this.inputElement.val()===''&&!this.inputElement.attr('defaultValue');},_bindEvents:function(){var self=this;this.inputElement.focus(function(){self.placeholderElement.hide();}).blur(function(){if(self._shouldShow()){self.placeholderElement.show();}});},_generateId:function(){return'ph_gen_id_'+$.placeholder.currentId++;},_createPlaceholder:function(){this.container=this.inputElement.offsetParent();var elementId=this.inputElement.attr('id');if(!elementId){elementId=this._generateId();this.inputElement.attr('id',elementId);}
var element=$('<label>').attr('for',elementId).css({color:this.options.color,position:'absolute',cursor:'text',zIndex:parseInt(this.inputElement.attr('zIndex')||0,5)+10,left:0}).addClass(this.inputElement.attr('class')).addClass('placeholder-polyfill').text(this.placeholderTxt);this.container.append(element);var inputH=this.inputElement.outerHeight();var myH=element.height();var pos=this.inputElement.offset();element.offset({left:pos.left+this.options.leftPadding,top:pos.top+(inputH/2)-(myH/2)});if(!this._shouldShow()){element.hide();}
return element;}};})(jQuery);(function($){$.widget("home.widgetServicos",$.libby.widgetBase,{_create:function(){this._super("_create");this.element.empty();var content=$('<div>').addClass('content-widget-servicos').appendTo(this.element);var bodyElements=this._fillBody();if($.isArray(bodyElements)){$.each(bodyElements,function(){content.append(this);});}else{content.append(bodyElements);}
if(window.PIE){this.element.find('.css3pie').each(function(){PIE.attach(this);});}
this.element.find("input[type='text']").placeholder();content.append("<a href='"+this._goToLink()+"' class='responsive-button'>"+this._responsiveText()+"</a>");},_fillBody:function(){throw'$.home.widgetServicos._fillBody should be overriden';},_responsiveText:function(){throw'$.home.widgetServicos._responsiveText should be overriden';},_storageKey:function(){throw'$.home.widgetServicos._storageKey should be overriden';},_instructions:function(){throw'$.home.widgetServicos._instructions should be overriden';},_instructionsResponsive:function(){throw'$.home.widgetServicos._instructionsResponsive should be overriden';},_setItem:function(label,url){if(window.localStorage){stored_objects=this._getLastItems();if(!stored_objects){stored_objects=[];}
for(var i=0;i<stored_objects.length;i++){if(stored_objects[i].url===url){return;}}
stored_objects.push({label:label,url:url});try{localStorage.setItem(this._storageKey(),JSON.stringify(stored_objects.slice(-2)));}catch(e){}}},_getLastItems:function(){if(window.localStorage){try{return JSON.parse(localStorage.getItem(this._storageKey()));}catch(e){}}
return[];},_renderLastSelected:function(){var items=this._getLastItems(),options=[],more_element=this.element.find('.more'),html;if(items&&items.length>0){html='<p>Ãºltimos buscados</p>';for(var i=items.length-1;i>=0;i--){options.push('<a href="'+items[i].url+'">'+items[i].label+'</a>');}
html+=options.join(', ');more_element.append("<div class='last'>"+html+"</div>");}
more_element.append("<div class='instructions'>"+this._instructions()+"</div>");more_element.append("<div class='instructions responsive'>"+this._instructionsResponsive()+"</div>");},_hasTouch:function(){return window.Modernizr&&Modernizr.touch;}});})(jQuery);(function($){$("div.box-widget-servicos input[type='text']").placeholder();}(jQuery));(function(){(function($){return $.widget('home.servicosZap',$.home.widgetServicos,{_create:function(){$.home.widgetServicos.prototype._create.call(this,arguments);this._runWidget();this.element.addClass('analytics-area analytics-id-J');return this._renderLastSelected();},_goToLink:function(){return"http://novo.zapimoveis.com.br/mapa-de-precos?utm_source=globo.com&utm_medium=box-busca-mapa-preco&utm_campaign=acesse-mapa";},_responsiveText:function(){return"PESQUISAR";},_instructions:function(){return"confira quanto valem os imÃ³veis por regiÃ£o nas principais cidades do Brasil";},_instructionsResponsive:function(){return"Compre, venda ou alugue!";},_runWidget:function(){},_fillBody:function(){return'<a class="area-topo" href="http://novo.zapimoveis.com.br/mapa-de-precos?utm_source=globo.com&utm_medium=box-busca-mapa-preco&utm_campaign=acesse-mapa">\n    <span class="logo"></span>\n    <span class="widget-icon"></span>\n    <h3>PREÃO DOS IMÃVEIS</h3>\n</a>\n<a href="http://novo.zapimoveis.com.br/mapa-de-precos?utm_source=globo.com&utm_medium=box-busca-mapa-preco&utm_campaign=acesse-mapa" class="main-link">Veja o mapa de preÃ§os</a>\n<div class="more">\n</div>\n<a class="product" href="http://www.zap.com.br/anunciezap/anuncie-imoveis-home.aspx?utm_source=globo.com&utm_medium=box-busca-anuncieimoveis&utm_campaign=anuncie-imoveis">anuncie seu imÃ³vel no zap &rsaquo;</a>';}});})(jQuery);}).call(this);jQuery('div.libby-widget-servicos-zap').servicosZap();(function($){$.widget('home.servicosFipe',$.home.widgetServicos,{_create:function(){$.home.widgetServicos.prototype._create.call(this,arguments);this._runWidget();this.element.addClass('analytics-area analytics-id-J');this._renderLastSelected();},_goToLink:function(){return"http://g1.globo.com/carros/tabela-fipe/";},_runWidget:function(){this._collectElements();this._bindEvents();this._initComponents();},_storageKey:function(){return"widgetFipe";},_instructions:function(){return"Procure carros, motos e caminhÃµes";},_instructionsResponsive:function(){return"carros, motos e caminhÃµes";},_responsiveText:function(){return"PESQUISAR";},_fillBody:function(){var html=['<a class="area-topo" href="http://g1.globo.com/carros/tabela-fipe/">','<span class="widget-icon"></span>','<h3>AVALIE SEU VEÃCULO</h3>','</a>','<div class="form-container">','<form id="libby-servicos-fipe-form" method="get" action="http://g1.globo.com/carros/tabela-fipe/index.html">','<div class="user-input-area">','<input type="hidden" name="cod_fipe" />','<input type="hidden" name="categoria" />','<div class="libby-servicos-autocomplete-container libby-scrollbar">','<input type="text" class="vehicle-input" autocomplete="off" placeholder="ex: ford, uno, etc"/>','</div>','<div class="more"></div>','</div>','<div class="select-area">','<a class="reset-search" href="#">refazer pesquisa</a>','</div>','</form>','</div>','<a class="product" href="http://g1.globo.com/carros/tabela-fipe/">todos os veÃ­culos &rsaquo;</a>'];return $(html.join(''));},_initComponents:function(){this.elements.selectArea.servicosSelect({name:'detailsTipo',placeholder:'selecione o ano',select:$.proxy(this._modelSelect,this)});this.elements.vehicleInput.servicosAutocomplete({autocompleteOptions:{select:$.proxy(this._autocompleteSelect,this),source:$.proxy(this._autocompleteSource,this),minLength:3},onClear:$.proxy(this.resetSelection,this)});},_autocompleteSource:function(request,response){globoapi.fipeSearch.search("carros",request.term,$.proxy(function(category,term,data){if(term!=this.currentTerm()){return;}
var autocompleteData=$.map(data.items,$.proxy(function(item){return{label:this._createLabel(item),original:item};},this));autocompleteData=autocompleteData||[];response(autocompleteData);},this));},_createLabel:function(item){return item.marca+' '+item.modelo;},_autocompleteSelect:function(widget,data){var self=this;if(!data||!data.item){return;}
this.currentVehicle=data.item.original;var selectValues=$.map(this.currentVehicle.valores_fipe,function(value){return{title:value.tipo,value:value.tipo};});this.elements.selectArea.servicosSelect({values:selectValues});this.elements.hiddenCode.val(this.currentVehicle.cod_fipe);this.elements.category.val("carro");this.elements.vehicleInput.blur();this.element.addClass("moving");this.elements.form.animate({"margin-left":-this.selectAreaSize},250,function(){self.elements.form.addClass("select-year");self.element.removeClass("moving");});},_collectElements:function(){this.elements={};this.elements.form=this.element.find('form');this.elements.innerDiv=this.element.find('.content-widget-servicos');this.elements.vehicleInput=this.element.find('input.vehicle-input');this.elements.selectArea=this.element.find('.select-area');this.elements.hiddenCode=this.element.find('input[name="cod_fipe"]');this.elements.category=this.element.find('input[name="categoria"]');this.elements.resetSelect=this.element.find('.select-area .reset-search');this.selectAreaSize=this.elements.selectArea.width();},_bindEvents:function(){this.elements.form.bind('submit',$.proxy(this._onFormSubmit,this));this.elements.vehicleInput.bind('focus',$.proxy(this._onInputFocus,this));this.elements.vehicleInput.bind('blur',$.proxy(this._onInputBlur,this));this.elements.resetSelect.bind('click',$.proxy(this.resetSelection,this));},_onFormSubmit:function(e){if(!this.shouldSubmit){e.preventDefault();return;}
this._setItem(this.currentVehicle.modelo,this.elements.form.attr('action')+'?'+this.elements.form.serialize());},_onInputFocus:function(){this.elements.vehicleInput.addClass('focus');},_onInputBlur:function(){this.elements.vehicleInput.removeClass('focus');},_modelSelect:function(){this.shouldSubmit=true;this.elements.form.submit();},resetSelection:function(e,force){var self=this;this.element.addClass("moving");self.elements.form.removeClass("select-year");this.elements.vehicleInput.val('');this.elements.vehicleInput.trigger('blur');this.elements.form.animate({"margin-left":"0"},250,function(){self.element.removeClass("moving");});this.elements.selectArea.servicosSelect({values:[]});},currentTerm:function(){return this.elements.vehicleInput.val();}});})(jQuery);(function(global,$){$.widget('home.servicosFipeAnalytics',$.libby.widgetBase,{_create:function(){this._super('_create');this.formElement=this.element.find('form');this._bindEvents();},_bindEvents:function(){this.formElement.bind('submit',$.proxy(this._onSubmit,this));},_onSubmit:function(e){if(!e.isDefaultPrevented()){var form=this.formElement;global._gaq.push(['_trackPageview','/out/C/J/'+form.attr('action').replace(/^http:\/\//,'')+'?'+form.serialize()]);}}});}(this,jQuery));jQuery('div.libby-widget-servicos-fipe').servicosFipe().servicosFipeAnalytics();(function(){(function($){return $.widget('home.servicosLoterias',$.home.widgetServicos,{_create:function(){$.home.widgetServicos.prototype._create.call(this,arguments);this._runWidget();return this.element.addClass('analytics-area analytics-id-J');},_runWidget:function(){this._collectElements();return $.ajax({url:this.element.data('lotteries-url'),dataType:'jsonp',jsonpCallback:'lotteries',success:$.proxy(this._onLotteryResult,this)});},_goToLink:function(){return"http://g1.globo.com/loterias/";},_responsiveText:function(){return"<p>confira os</p> NÃMEROS";},_collectElements:function(){this.elements={};this.elements.subtitleArea=this.element.find('.area-topo h4');return this.elements.infoArea=this.element.find('.info');},_stripZeros:function(total,divide){return(total/divide).toFixed(0);},_toMoneyNotation:function(value){return value.toFixed(2).replace('.',',').replace(/(\d)(?=(\d{3})+\,)/g,"$1.");},_humanizeMoney:function(value){var text;if(value>1&&value<1000){text="<strong>value</strong>";}else if(value>999&&value<1000000){text="<strong>"+(this._stripZeros(value,1000))+" mil</strong>";}else if(value>999999&&(value/1000000)<2){text="<strong>"+(this._stripZeros(value,1000000))+" milhÃ£o</strong>";}else if(value>999999&&(value/1000000)>=2&&(text="<strong>"+(this._stripZeros(value,1000000))+" milhÃµes</strong>")){}else if(value>999999999&&(value/1000000000)<2){text="<strong>"+(this._stripZeros(value,1000000))+" bilhÃ£o</strong>";}else{text="<strong>"+(this._stripZeros(value,1000000))+" bilhÃµes</strong>";}
return"R$ "+text;},_onLotteryResult:function(result){if(result.dias_ate_o_proximo>1){return this._renderCurrent(result);}else{return this._renderNext(result);}},_renderCurrent:function(result){var subtitle,title,value,winner_title;this.elements.subtitleArea.text("concurso "+result.numero);this.elements.infoArea.addClass('current');if(result.ganhadores===0){title="ACUMULOU!";subtitle="valor acumulado";value=this._toMoneyNotation(result.valor_acumulado);}else{winner_title=result.ganhadores>1?'GANHADORES':'GANHADOR';title=""+result.ganhadores+" "+winner_title;subtitle="valor do prÃªmio";value=this._toMoneyNotation(result.valor_acumulado);}
this.elements.infoArea.append(""+title+"\n<div class='value'>\n    "+subtitle+"\n    <strong>\n        R$ "+value+"\n    </strong>\n</div>");return this.elements.infoArea.append("<a class='product' href='http://g1.globo.com/loterias/megasena.html'>confira os nÃºmeros &rsaquo;</a>");},_renderNext:function(result){this.elements.subtitleArea.text("prÃ³ximo sorteio");this.elements.infoArea.addClass('next');return this.elements.infoArea.append("prÃªmio estimado\n<div class='value'>\n    "+(this._humanizeMoney(result.premio))+"\n</div>\n<div class='date'>\n    a ser realizado\n    <strong>\n        "+(result.dias_ate_o_proximo===0?'hoje':'amanhÃ£')+",\n        "+result.data_exibicao+"\n    </strong>\n</div>");},_fillBody:function(){return'<a class="area-topo" href="http://g1.globo.com/loterias/">\n    <span class="widget-icon"></span>\n    <h3>MEGA SENA</h3>\n    <h4></h4>\n</a>\n\n<div class="info">\n</div>\n\n<div class="more">\n    <p>confira tambÃ©m</p>\n    <div>\n        <a href="http://g1.globo.com/loterias/lotofacil.html">LotofÃ¡cil</a>,\n        <a href="http://g1.globo.com/loterias/timemania.html">Timemania</a>,\n        <a href="http://g1.globo.com/loterias/quina.html">Quina</a>\n    </div>\n</div>';}});})(jQuery);}).call(this);jQuery('div.libby-widget-servicos-loterias').servicosLoterias();(function(){var addScript,createShopping,getData,getId,shopping,shoppingOptions;getData=function(shopping,dataAttr){return shopping.data(dataAttr);};getId=function(shopping){return shopping.attr('id');};addScript=function(url,callback){var optionsAjax;optionsAjax={url:url,dataType:"script",cache:true,success:callback};return $.ajax(optionsAjax);};createShopping=function(shopping,callback){var brandingColor,initVitrine,options,responsive,sitepage,url;url=getData(shopping,'url');if(url==null){url="http://vitrines.globo.com/vitrine/vitrine.min.js";}
sitepage=getData(shopping,'sitepage');responsive=getData(shopping,'responsive')==='on';brandingColor=getData(shopping,'branding-color');if(sitepage==null){sitepage="globocom/home";}
options={sitepage:sitepage,container:getId(shopping)};if(brandingColor!==""){options.text_color=brandingColor;}
initVitrine=function(){window.globoComVitrine=new Vitrine(options);return window.globoComVitrine.init();};return addScript(url,initVitrine);};shopping=$('#glb-shopping-widget');shoppingOptions=createShopping(shopping);}).call(this);(function(global,$){var SERIE_A='a';$.widget('libby.customizationMenuTimes',{options:{pubsub:null},_create:function(){this.elements={};this._createElements();this._bindEvents();},_createElements:function(){var teamSelectBasicHTML=['<div>','<ul class="teams loading"></ul>','<div class="series-menu">','<ul>','<li class="choose-serie-a"><a href="#" data-series="A">sÃ©rie a</a></li>','<li class="choose-serie-b"><a href="#" data-series="B">sÃ©rie b</a></li>','</ul>','</div>','</div>'].join('');this.element.html(teamSelectBasicHTML);this.elements.seriesMenu=this.element.find('.series-menu');this.elements.teams=this.element.find('.teams');},_bindEvents:function(){this._bindElementsEvents();this._bindExternalEvents();},_bindElementsEvents:function(){this.elements.seriesMenu.find('a').bind('click',$.proxy(this._onClickInSeriesMenu,this));},_bindExternalEvents:function(){this.options.pubsub.bind('choicesReady',$.proxy(this._onChoicesReady,this));this.options.pubsub.bind('defaultChoice',$.proxy(this._onDefaultChoice,this));this.options.pubsub.bind('optionSelected',$.proxy(this._onOptionSelected,this));},_onChoicesReady:function(ev,availableTeams){this._renderTeamsChoices(availableTeams);this._selectSerie(SERIE_A);this._bindTeamsEvents(availableTeams);this._stopLoading();},_renderTeamsChoices:function(teams){for(var i=0;i<teams.length;i++){var team=teams[i];teamHTML=$(['<li class="serie-',team.series.toLowerCase(),'">','<a ','title="',team.name,'"',' class="css3pie team-flag" href="#',team.slug.toLowerCase(),'">','<span class="',team.slug.toLowerCase(),'"></span>','</a>','</li>'].join(''));teamHTML.find('a').data('team',team);this.elements[team.slug]=teamHTML;this.elements.teams.append(teamHTML);}},_selectSerie:function(serie){var serieToChoose=this.elements.seriesMenu.find('.choose-serie-'+serie);this.elements.seriesMenu.find('li').removeClass('selected');serieToChoose.addClass('selected');this._showOnlyTeamsOfSerie(serie);},_bindTeamsEvents:function(){this.elements.teams.find('li.serie-a a, li.serie-b a').bind('click',$.proxy(this._onClickToChooseTeam,this));},_showOnlyTeamsOfSerie:function(serie){this.elements.teams.find('li.serie-a, li.serie-b').hide();this.elements.teams.find('li.serie-'+serie).show();},_stopLoading:function(){this.elements.teams.removeClass('loading');},_onDefaultChoice:function(ev,teamSlug){var team=this.elements[teamSlug].find('a').data('team');this._markTeamChoiceAsSelected(team);},_markTeamChoiceAsSelected:function(team){var optionElement=this.elements.teams.find('li a'+' .'+team.slug).parents('li');this._selectSerie(team.series.toLowerCase());this.elements.teams.find('li').removeClass('selected');optionElement.addClass('selected');},_onClickInSeriesMenu:function(ev){ev.preventDefault();var selectedSerie=this._getEventTarget(ev).data('series');this._selectSerie(selectedSerie.toLowerCase());},_onClickToChooseTeam:function(ev){ev.preventDefault();var team=this._getEventTarget(ev).data('team');this.options.pubsub.trigger('optionSelected',[team]);},_getEventTarget:function(event){return $((event.currentTarget)?event.currentTarget:event.srcElement);},_onOptionSelected:function(ev,team){this._markTeamChoiceAsSelected(team);}});})(window,jQuery);(function(global,$){$.widget('libby.customizationResponsiveMenuTimes',$.libby.customizationResponsiveMenu,{_responsiveLabel:function(){return'MUDAR TIME';},_parseChoices:function(originalChoices){var options=[],currentOption,serieA={value:'A',text:'SÃ©rie A',optgroup:[]},serieB={value:'B',text:'SÃ©rie B',optgroup:[]};options.push(serieA);options.push(serieB);this.objects={};for(var i=0;i<originalChoices.length;i++){currentOption={value:originalChoices[i].slug,text:originalChoices[i].name};if(originalChoices[i].series=='A'){serieA.optgroup.push(currentOption);}else{serieB.optgroup.push(currentOption);}
this.objects[originalChoices[i].slug]=originalChoices[i];}
return options;}});})(window,jQuery);(function($){$.widget("home.personalizaveisTimes",$.home.widgetPersonalizaveis,{_create:function(){var self=this;window.glb=window.glb||{};window.glb.preferences=window.glb.preferences||[];window.glb.preferences.push(['get',{product:this._storageProductName(),key:this._storageKeyName(),callback:function(value){if(value){$.home.widgetPersonalizaveis.prototype._create.call(self,arguments);}else{self._getABTestGroup(function(version){self._abTestGroup=version;self._widgetWasVisible=false;if(self._abTestGroup==="excelsior"){self._teamOnExcelsior();}else if(self._abTestGroup==="smart"){self._teamOnExcelsior(true);}});globoapi.geo.onSuccess($.proxy(self._geoLocate,self));globoapi.geo.onNotFound($.proxy(self._geoLocate,self));}}}]);},_abTestExperiment:"excelsior-home-smart",_getABTestGroup:function(callback){if(!globoAB){callback("control");return;}
globoAB.get({experiment:this._abTestExperiment,defaultValue:"control",increment:false},callback);},_teamOnExcelsior:function(smart){var self=this;self._getExcelsiorTeams(smart,function(teams){var team;if(typeof teams!=="undefined"&&teams.length>0){team=self._matchExcelsiorWithAvailableTeams(teams);}
self._defaultExcelsiorTeam=team;self.defaultTeam=team;});},_matchExcelsiorWithAvailableTeams:function(teams){var availableIdList={},i;for(i=0;i<this.availableTeams.length;i++){availableIdList[this.availableTeams[i].id]=this.availableTeams[i];}
for(i=0;i<teams.length;i++){var idTeam=parseInt(teams[i].match(/[^\/]+$/)[0]);if(availableIdList.hasOwnProperty(idTeam)){return availableIdList[idTeam];}}},_getExcelsiorTeams:function(smart,callback){var url="http://excelsior.globo.com/profile/ge?class=http://semantica.globo.com/esportes/Equipe&limit=10";var TIMEOUT=300;var timedOut=false;var timeoutId;var reportError=function(error){if(!Raven){return;}
Raven.captureException(error,{logger:"excelsior"});};var responseHandler=function(result){if(!timedOut){callback(result);}else{reportError(new Error("TIMEOUT"));}
clearTimeout(timeoutId);};url=smart?url+"&smart=true":url;$.ajax({url:url,dataType:"jsonp",success:responseHandler,error:function(jqXHR,message,error){if(timedOut){return;}
callback([]);reportError(error);}});timeoutId=setTimeout(function(){timedOut=true;},TIMEOUT);},_geoLocate:function(geo){if(geo){this._defineGeoLocatedTeam(geo.state.code);}
$.home.widgetPersonalizaveis.prototype._create.call(this);},_defineGeoLocatedTeam:function(state){this._defaultState=function(){return state;};},_getRandomTeamFromState:function(state){var teamsByState={},random;for(var i=0;i<this.availableTeams.length;++i){var currentTeam=this.availableTeams[i];if(currentTeam.state){if(!teamsByState[currentTeam.state]){teamsByState[currentTeam.state]=[];}
teamsByState[currentTeam.state].push(currentTeam);}}
if(!teamsByState[state]){state="SP";}
random=this._getRandomArbitrary(0,teamsByState[state].length);return teamsByState[state][random];},_getRandomArbitrary:function(min,max){return parseInt(Math.random()*(max-min)+min,10);},_storageKeyName:function(){return'time';},_storageProductName:function(){return'esportes';},_getAnalyticsData:function(event){var self=this;this._getCurrentChoice(function(currentChoice){self._trigger(event,{category:"Meu time",type:"time",value:currentChoice.name,slug:currentChoice.slug,id:currentChoice.id});});},_getCoverData:function(){return{title:'seu time <strong>do coraÃ§Ã£o</strong>',subtitle:'Personalize com as notÃ­cias<br />do seu time'};},_getChoicesData:function(){return{title:'Meu time'};},_getCssClass:function(){return'glb-hl-style-esporte';},_getChangeText:function(){return'ESCOLHA SEU TIME';},_getSelectText:function(){return'selecione seu time';},_getNewsService:function(){return globoapi.soccerNews;},_getChoiceOptions:function(callback){var self=this;if(window.libby&&libby.soccerTeams){libby.soccerTeams.loadStyle('ab');libby.soccerTeams.loadTeams('ab',function(teams){self._onTeamsReady(teams,callback);});}},_onTeamsReady:function(teams,callback){for(var i=0,len=teams.length;i<len;++i){var team=teams[i];teams[i]={"id":team.equipe_id,"name":team.nome_popular,"series":team.serie.toUpperCase(),"slug":team.slug,"url":team.permalink,"state":team.state};}
this.availableTeams=teams;if(this.onAvailableTeamsCallback){this.onAvailableTeamsCallback(teams);this.onAvailableTeamsCallback=null;}
callback(teams);},_withAvailableTeams:function(callback){if(this.availableTeams){return callback(this.availableTeams);}
this.onAvailableTeamsCallback=callback;},_defaultState:function(){return"SP";},_getDefaultChoice:function(callback){if(this.defaultTeam){return this.defaultTeam;}
if(this._defaultExcelsiorTeam){callback(this._defaultExcelsiorTeam);}
var self=this;this._withAvailableTeams(function(){self.defaultTeam=self._getRandomTeamFromState(self._defaultState());callback(self.defaultTeam);});return'wait';},_createBasicMarkup:function(){if(this.elements.highlights){return;}
var highlightsHtml=function(id){return['<li class="destaque destaque-terciario destaque-terciario-medio-foto-lado">','<div class="chamada chamada-principal mobile-grid-full">','<a class="foto" href="#">','<span class="borda-foto">','<span></span>','<img title="" alt="" src="">','</span>','<span class="conteudo"><p></p></span>','</a>','</div>','</li>'].join('');};var html=['<div class="widget-highlights '+this._getCssClass()+'">','<div class="area-topo">','<a href="#" class="titulo">','<div>','<span class="choice-marker"><span></span></span>','<span class="area-selecionada"></span>','</div>','<span class="borda"></span>','</a>','</div>','<ul>',highlightsHtml(1),'<li class="separator"></li>',highlightsHtml(2),'<li class="separator"></li>','</ul>','<div class="bottom-area">','<div class="trocar-button-responsive"></div>','<a class="mais" href="#"><h4></h4><span>&rsaquo;</span></a>','<div class="trocar-button"></div>','</div>','</div>'];this.element.append(html.join(''));this.elements.highlights=this.element.find('.widget-highlights');this.elements.highlightItems=this.elements.highlights.find('li.destaque');this.elements.highlightsTitle=this.elements.highlights.find('.area-topo .area-selecionada');this.elements.highlightsLink=this.elements.highlights.find('.area-topo a.titulo');this.elements.highlightsMarker=this.elements.highlights.find('.area-topo a.titulo .choice-marker span');this.elements.highlightImages=this.elements.highlightItems.find('img');this.elements.changeChoiceButton=this.element.find("div.trocar-button");this.elements.changeChoiceResponsiveButton=this.element.find("div.trocar-button-responsive");this.elements.footerLink=this.elements.highlights.find(".mais");this._applyPIE(this.elements.highlights);},_registerTestABConversionListeners:function(){var self=this;if(globoAB){$("a:not(.team-flag)",this.element).click(function(){if(self._abTestGroup&&self._widgetWasVisible){globoAB.conversion({experiment:self._abTestExperiment,version:self._abTestGroup});}});if(window.libby&&libby.responsive&&libby.responsive.scrollSpy){libby.responsive.scrollSpy.add(this.element[0],function(){if(self._abTestGroup&&self._widgetWasVisible===false){self._widgetWasVisible=true;globoAB.get({experiment:self._abTestExperiment,version:self._abTestGroup});}});}}},_renderChoices:function(choicesData){this.elements.changeChoiceButton.customizationChooseMenu({chooseComponentName:"customizationMenuTimes",title:this._getChangeText(),pubsub:this.element});this.elements.changeChoiceResponsiveButton.customizationResponsiveMenuTimes({title:this._getChangeText(),pubsub:this.element});this.element.trigger("choicesReady",[choicesData]);this.element.bind("optionSelected",$.proxy(this._optionSelected,this));this.element.bind('chooseMenuOpen',$.proxy(function(){this._getAnalyticsData('onChangeOption');},this));this.element.bind('chooseMenuClose',$.proxy(function(){this._getAnalyticsData('onCloseChoicesArea');},this));this._registerTestABConversionListeners();},_optionSelected:function(ev,team){this._changeTeam(team);},_changeTeam:function(team){this._saveChoice(team);this._getAnalyticsData("onOptionSelected");},_updateElements:function(team){$.home.widgetPersonalizaveis.prototype._updateElements.call(this,team);this.elements.highlightsMarker.attr("class",team.slug.toLowerCase());}});})(jQuery);(function($){$('div.libby-widgets-personalizaveis-times').personalizaveisTimes();})(jQuery);(function($){var freezeClasses=function(el){el.data('frozen-class',el.attr('class'));};var setClass=function(el,_class){el.attr('class',el.data('frozen-class')+(_class?' '+_class:''));};$.widget('libby.widgetBrasileirao',$.libby.widgetBase,{options:{duration:150,domain:'http://globoesporte.globo.com',teamUrl:'/futebol/times/{slug}/'},_create:function(){this._super('_create');if(window.libby&&libby.soccerTeams){libby.soccerTeams.loadStyle('a_45x45');}
this._createWidgets();this._bindEvents();},_createWidgets:function(){this.element.widgetBrasileiraoDataSource();this.element.widgetBrasileiraoAnalytics();this.element.widgetBrasileiraoCustomization();this.menuElement=$('<div></div>').widgetBrasileiraoMenu({pubsub:this.element});},_createElements:function(){var year=(new Date()).getFullYear();var html=['<div class="libby-home-widgetBase-container-top css3pie"></div>','<div class="libby-home-widgetBase-container css3pie">','<div class="header">','<h3 class="title">','<a href="http://globoesporte.globo.com/futebol/brasileirao-serie-a/">','brasileirÃ£o <span>',year,'</span>','</a>','</h3>','<div class="round"><span></span>Âª rodada</div>','</div>','<div class="content">','<div class="left-team">','<div class="goals"></div>','<a href="#" title="" class="shield soccer-teams sz45x45"><span class="team-shield"></span></a>','<span class="classification"><span></span>Ë</span>','<div class="next-round-position-ico"></div>','</div>','<div class="versus-ico"></div>','<div class="right-team">','<div class="goals"></div>','<a href="#" title="" class="shield soccer-teams sz45x45"><span class="team-shield"></span></a>','<span class="classification"><span></span>Ë</span>','<div class="next-round-position-ico"></div>','</div>','<div class="game-details">','<span class="sub"><a href="#">confira como foi a partida âº</a></span>','</div>','</div>','<div class="footer"></div>','</div>'];this.element.append(html.join(''));this.elements.header=this.element.find('.header');this.elements.content=this.element.find('.content');freezeClasses(this.elements.content);this.elements.footer=this.element.find('.footer');this.elements.leftTeam={};this.elements.rightTeam={};var leftTeam=this.elements.content.find('.left-team');this.elements.leftTeam.goals=leftTeam.find('.goals');this.elements.leftTeam.shield=leftTeam.find('.shield');this.elements.leftTeam.teamShield=leftTeam.find('.shield span');this.elements.leftTeam.classification=leftTeam.find('.classification span');this.elements.leftTeam.positionIcon=leftTeam.find('.next-round-position-ico');freezeClasses(this.elements.leftTeam.shield);freezeClasses(this.elements.leftTeam.teamShield);freezeClasses(this.elements.leftTeam.positionIcon);var rightTeam=this.elements.content.find('.right-team');this.elements.rightTeam.goals=rightTeam.find('.goals');this.elements.rightTeam.shield=rightTeam.find('.shield');this.elements.rightTeam.teamShield=rightTeam.find('.shield span');this.elements.rightTeam.classification=rightTeam.find('.classification span');this.elements.rightTeam.positionIcon=rightTeam.find('.next-round-position-ico');freezeClasses(this.elements.rightTeam.shield);freezeClasses(this.elements.rightTeam.teamShield);freezeClasses(this.elements.rightTeam.positionIcon);var gameDetails=this.elements.content.find('.game-details');this.elements.subDetail=gameDetails.find('.sub');this.elements.roundNumber=this.elements.header.find('.round span');this.elements.footer.append(this.menuElement);},_bindEvents:function(){this._bind('onRoundLoaded',$.proxy(this._onRoundLoaded,this));this._bind('onSelectedGame',$.proxy(this._onSelectedGame,this));},_onRoundLoaded:function(event,round){this._createElements();this.element.addClass('loaded');this.round=round;this.elements.roundNumber.text(round.round_number);this.setGame(0);},_onSelectedGame:function(event,game,index){this.setGame(index);},_isValidGoal:function(goal){return isFinite(parseInt(goal,10));},_setTeam:function(team,teamData,goals,gameStatus){team.goals.text(this._isValidGoal(goals)?goals:'');setClass(team.teamShield,teamData.nome.slug);team.shield.attr('title',teamData.nome.popular);team.shield.attr('href',this.options.domain+this.options.teamUrl.replace(/\{slug\}/g,teamData.nome.slug));team.classification.text(teamData.classificacao);var iconClass=(gameStatus==='prÃ© jogo')?'':(teamData.variacao>0)?'up':(teamData.variacao<0)?'down':'stay';setClass(team.positionIcon,iconClass);},_setGameDetails:function(game){var gameStatus=game.status.toLowerCase(),sub,subElement;switch(gameStatus){case'pÃ³s jogo':setClass(this.elements.content,'after-game');sub='veja como foi âº';subElement=$('<a class="sub" href="'+game.urls.confronto+'">'+sub+'</a>');break;case'em andamento':setClass(this.elements.content,'during-game');sub='acompanhe em tempo real âº';subElement=$('<a class="sub" href="'+game.urls.realtime+'">'+sub+'</a>');break;default:setClass(this.elements.content,'');var date=game.data.match(/^(\d+)-(\d+)-(\d+).*$/);var hour=game.horario.hora;var minute=game.horario.minuto;var fullDate=date[3]+'/'+date[2];if(hour&&minute){fullDate+=((parseInt(hour,10)===1)?' Ã  ':' Ã s ')+hour+':'+minute;}
var stadium='';if(game.local&&game.local.nome&&game.local.nome.popular){stadium='<span class="sep"> - </span>'+game.local.nome.popular;}
subElement=$('<span class="sub"><strong>'+fullDate+'</strong>'+stadium+'</span>');}
this.elements.subDetail.replaceWith(subElement);this.elements.subDetail=subElement;},setGame:function(index){if(!this.round)return;var changeContent=$.proxy(function(){var game=this.round.games[index];game.status=game.status.toLowerCase();var leftTeam=this.round.teams[game.mandante];var rightTeam=this.round.teams[game.visitante];this._setTeam(this.elements.leftTeam,leftTeam,game.placar.mandante,game.status);this._setTeam(this.elements.rightTeam,rightTeam,game.placar.visitante,game.status);this._setGameDetails(game);},this);if($.support.opacity){this.elements.content.stop(true).animate({opacity:0},this.options.duration,changeContent).animate({opacity:1},this.options.duration);}else{changeContent();}}});}(jQuery));(function($){$.widget('libby.widgetBrasileiraoMenu',$.libby.widgetBase,{_create:function(){this._super('_create');this._bindEvents();},_bindEvents:function(){this._bind('onRoundLoaded',this._onRoundLoaded);this._bind('onSelectedGame',this._onSelectedGame);},_onRoundLoaded:function(e,round){var that=this;this._createElements(round);this._bindElementsEvents(round.games);this._activateItem(0);window['cq']=window['cq']||[];window['cq'].push({'ready':function(){window.glb.preferences.get({key:"time",product:"esportes",callback:function(teamName){var linkIndex=that._findGameIndexWithTeamName(round,teamName);var game=round.games[linkIndex];that._trigger('onSelectedGame',[game,linkIndex,null]);}});}});},_findGameIndexWithTeamName:function(round,teamName){var teamIndex=0;teamName=(typeof teamName!=="undefined"&&teamName)?teamName.toLowerCase():"";if(teamName){$.each(round.games,function(i){var team1Name=round.teams[this.mandante].nome.popular;var team2Name=round.teams[this.visitante].nome.popular;if(team1Name.toLowerCase()===teamName||team2Name.toLowerCase()===teamName){teamIndex=i;return;}});}
return teamIndex;},_createElements:function(round){var gamesAnalytics=[];var html=['<ul>'];var responsiveHtml=['<label class="responsive-team-select">','<span>SELECIONE O JOGO</span>','<select>'];$.each(round.games,function(i){var team1Name=round.teams[this.mandante].nome;var team2Name=round.teams[this.visitante].nome;var linkTitle=team1Name.popular+' x '+team2Name.popular;var shortNameTeam1=team1Name.sigla.toUpperCase();var shortNameTeam2=team2Name.sigla.toUpperCase();gamesAnalytics.push(shortNameTeam1+'x'+shortNameTeam2);html.push('<li>','<a href="#',shortNameTeam1,'x',shortNameTeam2,'" title="',linkTitle,'">','<span>',shortNameTeam1,'</span><b></b><span>',shortNameTeam2,'</span>','</a>','</li>');responsiveHtml.push('<option value="',i,'">',linkTitle,'</option>');});html.push('</ul>');responsiveHtml.push('</select></label>');this.element.html(html.join(''));this.element.append(responsiveHtml.join(''));this.elements.items=this.element.find('a');this.gamesAnalytics=gamesAnalytics;},_changeGame:function(linkIndex,games){if(linkIndex===this.index)return;this.index=linkIndex;var game=games[linkIndex];this._trigger('onSelectedGame',[game,linkIndex,this.gamesAnalytics[linkIndex]]);},_bindElementsEvents:function(games){this.element.delegate('a','click',$.proxy(function(event){event.preventDefault();event.stopPropagation();var linkIndex=$.inArray(event.currentTarget,this.elements.items);this._changeGame(linkIndex,games);},this));this.element.on('change','select',$.proxy(function(){var el=$(event.target);event.preventDefault();event.stopPropagation();var linkIndex=$(event.target).val();this._changeGame(linkIndex,games);},this));},_onSelectedGame:function(event,game,index){this._activateItem(index);},_activateItem:function(index){this.elements.items.removeClass('active').eq(index).addClass('active');}});})(jQuery);(function($){$.widget('libby.widgetBrasileiraoDataSource',$.libby.widgetBase,{_create:function(){this._super('_create');var selectedRound=this.element.find('input[name=rodada_selecionada]').val();if(!selectedRound){selectedRound='current';}
globoapi.round.onSuccess('brasileirao.'+selectedRound,$.proxy(this._roundLoaded,this));globoapi.round.update('brasileirao.'+selectedRound);},_roundLoaded:function(games){this._trigger('onRoundLoaded',games);}});})(jQuery);(function(global){$.widget('libby.widgetBrasileiraoAnalytics',$.libby.widgetBase,{_create:function(){this._super("_create");this._bindEvents();},_bindEvents:function(){this._bind("onSelectedGame",this._onSelectGame);},_onSelectGame:function(ev,game,gameIndex,element){if(!element){return;}
global._gaq.push(['_trackEvent','Futebol','Jogo Selecionado',element]);}});})(window);(function($){$.widget('libby.widgetBrasileiraoCustomization',$.libby.widgetBase,{options:{cookieName:'p.time',customTeamSelector:'div.libby-widgets-personalizaveis-times'},_create:function(){this._super('_create');this.customTeamElement=$(this.options.customTeamSelector);this._bindEvents();},_bindEvents:function(){this._bind('onSelectedGame',this._onSelectedGame);this._bind('onRoundLoaded',this._onRoundLoaded);this.customTeamElement.bind('onOptionSelected',$.proxy(this._onTeamSelected,this));},_onTeamSelected:function(e,data){if(this.ignoreTeamChanges){return;}
this._triggerGameSelected(data.slug);},_onRoundLoaded:function(e,round){this.round=round;setTimeout($.proxy(function(){this._triggerGameSelected();},this),0);},_onSelectedGame:function(e,game,gameIndex,element){if(element){this.ignoreTeamChanges=true;}},_detectGameIndex:function(slug){if(!slug){slug=libby.cookie.read(this.options.cookieName);}
if(!slug){return 0;}
for(var i=0,len=this.round.games.length;i<len;++i){var game=this.round.games[i],homeTeam=this.round.teams[game.mandante],guestTeam=this.round.teams[game.visitante];if(homeTeam.nome.slug==slug||guestTeam.nome.slug==slug){return i;}}
return 0;},_triggerGameSelected:function(slug){if(!this.round){return;}
var gameIdx=this._detectGameIndex(slug);this._trigger('onSelectedGame',[this.round.games[gameIdx],gameIdx]);}});})(jQuery);(function($){$("#libby-home-widget-brasileirao").widgetBrasileirao();})(jQuery);if('function'!==typeof Array.prototype.reduce){Array.prototype.reduce=function(callback,opt_initialValue){'use strict';if(null===this||'undefined'===typeof this){throw new TypeError('Array.prototype.reduce called on null or undefined');}
if('function'!==typeof callback){throw new TypeError(callback+' is not a function');}
var index=0,length=this.length>>>0,value,isValueSet=false;if(1<arguments.length){value=opt_initialValue;isValueSet=true;}
for(;length>index;++index){if(!this.hasOwnProperty(index))continue;if(isValueSet){value=callback(value,this[index],index,this);}else{value=this[index];isValueSet=true;}}
if(!isValueSet){throw new TypeError('Reduce of empty array with no initial value');}
return value;};}
(function(){var root=this;var fuzzy={};if(typeof exports!=='undefined'){module.exports=fuzzy;}else{root.fuzzy=fuzzy;}
fuzzy.simpleFilter=function(pattern,array){return array.filter(function(string){return fuzzy.test(pattern,string);});};fuzzy.test=function(pattern,string){return fuzzy.match(pattern,string)!==null;};fuzzy.match=function(pattern,string,opts){opts=opts||{};var patternIdx=0,result=[],len=string.length,totalScore=0,currScore=0,pre=opts.pre||'',post=opts.post||'',compareString=opts.caseSensitive&&string||string.toLowerCase(),ch,compareChar;pattern=opts.caseSensitive&&pattern||pattern.toLowerCase();if(opts.transform){compareString=opts.transform(compareString);}
for(var idx=0;idx<len;idx++){ch=string[idx];if(compareString[idx]===pattern[patternIdx]){ch=pre+ch+post;patternIdx+=1;currScore+=1+currScore;}else{currScore=0;}
totalScore+=currScore;result[result.length]=ch;}
if(patternIdx===pattern.length){return{rendered:result.join(''),score:totalScore};}
return null;};fuzzy.filter=function(pattern,arr,opts){opts=opts||{};return arr.reduce(function(prev,element,idx,arr){var str=element;if(opts.extract){str=opts.extract(element);}
var rendered=fuzzy.match(pattern,str,opts);if(rendered!=null){prev[prev.length]={string:rendered.rendered,score:rendered.score,index:idx,original:element};}
return prev;},[]).sort(function(a,b){var compare=b.score-a.score;if(compare)return compare;return a.index-b.index;});};}());(function(global){var MathUtils={linearLeastSquares:function(points){var n=points.length;if(n===0){return null;}
var sum_x=0,sum_y=0,sum_xy=0,sum_x_squared=0,i=0,point,x,y;for(;i<n;++i){point=points[i];x=point[0];y=point[1];sum_x+=x;sum_y+=y;sum_xy+=x*y;sum_x_squared+=x*x;}
var B=((n*sum_xy)-(sum_x*sum_y))/((n*sum_x_squared)-(sum_x*sum_x));var a=(sum_y/n)-((B/n)*sum_x);return[B,a];},distance:function(point1,point2){return Math.sqrt((point1[0]-point2[0])*(point1[0]-point2[0])+(point1[1]-point2[1])*(point1[1]-point2[1]));}};global.MathUtils=MathUtils;}(this));(function($){var translateTable=[['a',/[Ã¡Ã£Ã Ã¤Ã¢]/gi],['e',/[Ã©Ã¨ÃªÃ«]/gi],['i',/[Ã­Ã¬Ã¯Ã®]/gi],['o',/[Ã³Ã²ÃµÃ¶Ã´]/gi],['u',/[ÃºÃ¹Ã¼Ã»]/gi],['n',/Ã±/gi],['c',/Ã§/gi]];var translate=function(term){for(var i=0;i<translateTable.length;++i){term=term.replace(translateTable[i][1],translateTable[i][0]);}
return term;};var trim=function(term){if(!term){return"";}
return term.replace(/^\s*|\s*$/g,'');};$.widget('home.submenuWidgetMenu',{options:{trackingTime:100,maxTopLinks:10},_create:function(){this.currentMenuItemElement=null;this.trackingSubMenu=false;this.menuName=this.element.attr('class').replace(/\s*analytics.*?($|\s)/,'');this.topLinks=[];this.trackingPoints=[];this.firstKeyEvent=true;this.boundOnKeyEvent=$.proxy(this.onKeyEvent,this);window.glb=window.glb||{};glb.preferences=glb.preferences||[];this.searchChars=[];this._collectElements();this._initTopSubMenu();this._bindEvents();},_collectElements:function(){this.submenuElements=this.element.find('.submenu > li');this.firstColumnArea=this.element.find('.first-column');this.firstLink=this.firstColumnArea.find('li.has-children a').first();this.topSubMenu=this.submenuElements.filter('[data-menu-id="'+this.firstLink.data('menu-id')+'"]').find('.top-link');this.topSubMenuLinks=this.topSubMenu.find('> div');this.searchLink=this.firstColumnArea.find('li.has-children.search-item a').first();this.searchSubMenu=this.submenuElements.filter('.search-area');this.allLinks=this.element.find('.submenu a, .first-column a[href]');},_bindEvents:function(){if(Modernizr&&Modernizr.touch){this.element.on('click','.first-column a',$.proxy(this._onClickSubMenu,this));}else{this.element.on('mouseenter','.first-column a',$.proxy(this._onMouseEnter,this));this.element.on('mouseleave','.first-column a',$.proxy(this._onMouseLeave,this));}
this.element.on('click','.submenu a, .first-column a[href]',$.proxy(this._onLinkClick,this));},_initTopSubMenu:function(){glb.preferences.push(['get',{product:'home',key:'topmenu_'+this.menuName,callback:$.proxy(this._onCocoonData,this)}]);},_updateTopLinks:function(){glb.preferences.push(['put',{product:'home',key:'topmenu_'+this.menuName,asImg:true,value:JSON.stringify(this.topLinks)}]);},_onCocoonData:function(data){var parsedData=null;try{parsedData=JSON.parse(data);}catch(e){}
if(parsedData&&$.isArray(parsedData)){this.topLinks=parsedData;}
this._renderUserTopLinks(this.topLinks.slice(0,10),this.topSubMenuLinks,this.topSubMenu);},_onLinkClick:function(ev){var anchor=$(ev.currentTarget),href=anchor.attr('href'),topLink,idx;this.currentTarget=anchor;if(this.searchChars.length>0){var searchTerm=this.searchChars.join('');window._gaq&&_gaq.push(['_trackEvent','Menu','Searched and Clicked Link',searchTerm]);}
for(idx=this.topLinks.length-1;idx>=0;idx--){topLink=this.topLinks[idx];if(topLink.url==href){topLink.count+=1;break;}}
if(idx<0){this.topLinks.push({url:href,count:1});}else{this.topLinks=this.topLinks.sort(function(t1,t2){return t2.count-t1.count;});}
this._updateTopLinks();},_onClickSubMenu:function(ev){var linkElement=$(ev.currentTarget);if(!this.currentMenuItemElement){ev.preventDefault();ev.stopImmediatePropagation();}else if(this.currentMenuItemElement[0]!==linkElement[0]){ev.preventDefault();ev.stopImmediatePropagation();}
this.currentMenuItemElement=linkElement;this.updateSubMenu(linkElement);},_onMouseEnter:function(ev){var linkElement=$(ev.currentTarget);this.currentMenuItemElement=linkElement;if(this.previousLink){if(this.ignoreEventCount<1){this.ignoreEventCount++;return;}}
if(!this.trackingSubMenu){this.updateSubMenu(linkElement);}},_onMouseLeave:function(ev){var linkElement=$(ev.currentTarget);this.currentMenuItemElement=null;if(!this.trackingSubMenu){this._trackSubMenuMouseMovement(linkElement);}},_renderUserTopLinks:function(linksToAdd,existingElements,appendToElement,forceRecreate){if(!forceRecreate&&linksToAdd.length===0){return;}
var i,len,topLink,existingLink,allLinksMap={},topLinksMap={},newItems=[],currentLink,currentLinkHref,label;for(i=0,len=this.allLinks.length;i<len;++i){currentLink=this.allLinks.eq(i);currentLinkHref=currentLink.attr('href');if(!allLinksMap[currentLinkHref]){allLinksMap[currentLinkHref]=currentLink;}}
for(i=0,len=linksToAdd.length;i<len;++i){topLink=linksToAdd[i];existingLink=allLinksMap[topLink.url];if(!existingLink&&!topLink.label){continue;}
if(topLinksMap[topLink.url]){continue;}
label=trim(topLink.label||existingLink.text());if(!label){continue;}
topLinksMap[topLink.url]=true;label=label[0].toUpperCase()+label.slice(1);if(label=='Primeira PÃ¡gina'){var topLevelLi=this.element.find('a[data-menu-id="'+existingLink.parents('li').first().data('menu-id')+'"]');label=label+" ("+trim(topLevelLi.text())+")";}
var divString='<div>'+'<div class="bullet"></div>'+'<a href="'+topLink.url+'">'+'<span class="titulo">'+label+'</span>'+'</a>'+'</div>';newItems.push(divString);}
for(i=0,len=existingElements.length;i<len&&newItems.length<this.options.maxTopLinks;++i){topLink=existingElements.eq(i);if(topLinksMap[topLink.find('a').attr('href')]){continue;}
newItems.push($('<span>').append(topLink).html());}
appendToElement.html($(newItems.join('')));},resetSelected:function(){var self=this;if(this.firstLink.length>0){setTimeout(function(){self.updateSubMenu(self.firstLink);},150);}
this.mouseMoveArea={el:this.firstColumnArea,offset:this.firstColumnArea.offset(),width:this.firstColumnArea.outerWidth(),height:this.firstColumnArea.outerHeight()};this.mouseMoveArea.startPoint=[this.mouseMoveArea.offset.left+this.mouseMoveArea.width,this.mouseMoveArea.offset.top];this.mouseMoveArea.endPoint=[this.mouseMoveArea.offset.left+this.mouseMoveArea.width,this.mouseMoveArea.offset.top+this.mouseMoveArea.height];this.mouseMoveArea.el.bind('mousemove',$.proxy(function(e){this.trackingPoints.push([e.pageX,e.pageY]);},this));this.searchChars=[];this.ignoreEventCount=0;this.subMenuFocus=0;this.firstKeyEvent=true;this.extraLinks=this.element.find('.extra a.searchable');$(document).on('keydown',this.boundOnKeyEvent);},resetEvents:function(){if(this.mouseMoveArea&&this.mouseMoveArea.el){this.mouseMoveArea.el.unbind('mousemove');}
this.trackingPoints=[];$(document).off('keydown',this.boundOnKeyEvent);if(this.searchChars.length>0){var searchTerm=this.searchChars.join('');window._gaq&&_gaq.push(['_trackEvent','Menu','Searched and Closed',searchTerm]);}
this.searchChars=[];this.updateSearchLinks();},onKeyEvent:function(ev){var code=ev.which,ch=String.fromCharCode(code),importantChars="AZ09",aCharCode=importantChars.charCodeAt(0),zCharCode=importantChars.charCodeAt(1),zeroCharCode=importantChars.charCodeAt(2),nineCharCode=importantChars.charCodeAt(3),shouldPrevent=true,nextListItem=null,nextSubItemList=null,isMovementAction=false,i,len;if(ev.ctrlKey||ev.metaKey||ev.altKey){return;}
if(code===27){if(this.searchChars.length>0){this.searchChars=[];}else{this.element.parents('.widget-menu').widgetMenu('hideItem',this.element);}}else if(code===8){this.searchChars.splice(this.searchChars.length-1,1);}else if(code===32){this.searchChars.push(' ');}else if((code>=aCharCode&&code<=zCharCode)||(code>=zeroCharCode&&code<=nineCharCode)){this.searchChars.push(ch);if(this.firstKeyEvent){this.firstKeyEvent=false;window._gaq.push(['_trackEvent','Menu','Started Search']);}}else if((code>=37&&code<=40)||code===13){isMovementAction=true;if(code===37){this.updateSubMenuItem(null);}else if(code===39){this.subMenuFocus=1;if(!this.currentSubMenuItem){nextSubItemList=this.currentSubMenu.find('a').first();}}else if(code===38){if(this.subMenuFocus===0){nextListItem=this.currentLink.parents('li').first().prev();}else{nextSubItemList=this.currentSubMenuItem.parent().prev().find('a');}}else if(code===40){if(this.subMenuFocus===0){nextListItem=this.currentLink.parents('li').first().next();}else{nextSubItemList=this.currentSubMenuItem.parent().next().find('a');}}else if(code===13){if(this.subMenuFocus===0){this.subMenuFocus=1;nextSubItemList=this.currentSubMenu.find('a').first();}else{if(this.currentSubMenuItem.length>0){this.currentSubMenuItem[0].click();}}}}else{shouldPrevent=false;}
if(!shouldPrevent){return;}
ev.preventDefault();if(isMovementAction){if(nextListItem){nextListItem=nextListItem.find('a');if(nextListItem.is(':visible')){this.updateSubMenu(nextListItem);}}else if(nextSubItemList&&nextSubItemList.length>0){this.updateSubMenuItem(nextSubItemList);}}else{this.updateSearchLinks();}},_addMatchingLinks:function(links,searchString,foundLinks){var i,len,matches;matches=fuzzy.filter(searchString,$.makeArray(links),{pre:'<strong>',post:'</strong>',transform:function(el){return translate(el);},extract:function(el){el=$(el);return el.attr('title')||el.text();}});for(i=0,len=matches.length;i<len;++i){foundLinks.push({url:$(matches[i].original).attr('href'),label:matches[i].string});}},updateSearchLinks:function(){if(this.searchChars.length===0){this.searchLink.removeClass('visible');if(this.previousLink){this.updateSubMenu(this.previousLink);this.previousLink=null;}
return;}
var searchString=this.searchChars.join(''),foundLinks=[];this._addMatchingLinks(this.extraLinks,searchString,foundLinks);this._addMatchingLinks(this.allLinks,searchString,foundLinks);this._renderUserTopLinks(foundLinks.slice(0,10),[],this.searchSubMenu,true);if(this.currentLink!==this.searchLink){this.previousLink=this.currentLink;}
this.searchLink.addClass('visible');this.searchLink.html('<span class="titulo">busca \''+searchString.toLowerCase()+'\'</span>');this.updateSubMenu(this.searchLink);this.subMenuFocus=1;this.updateSubMenuItem(this.currentSubMenu.find('a').first());},updateSubMenu:function(link){this.trackingPoints=[];var menuId=link.data('menu-id'),submenu=this.submenuElements.filter('[data-menu-id="'+menuId+'"]');if(submenu.length===0){return;}
this.submenuElements.removeClass('visible');submenu.addClass('visible');link.parents('ul').find('.active').removeClass('active');link.addClass('active');this.currentLink=link;this.currentSubMenu=submenu;this.updateSubMenuItem();},updateSubMenuItem:function(link){if(this.currentSubMenu){this.currentSubMenu.find('a.active').removeClass('active');}
this.currentSubMenuItem=link;if(link){link.addClass('active');}else{this.subMenuFocus=0;}},_trackSubMenuMouseMovement:function(link){this.trackingSubMenu=false;var hoveredItem=this.currentMenuItemElement;if(hoveredItem&&hoveredItem[0]==link[0]){return;}
if(this.trackingPoints.length<2){if(hoveredItem){this.updateSubMenu(hoveredItem);}
return;}
if(this.trackingPoints.length>5){this.trackingPoints=this.trackingPoints.slice(this.trackingPoints.length-5);}
var components=MathUtils.linearLeastSquares(this.trackingPoints),firstPoint=this.trackingPoints[0],lastPoint=this.trackingPoints[this.trackingPoints.length-1],goingRight=lastPoint[0]>firstPoint[0],targetStart=this.mouseMoveArea.startPoint,targetEnd=this.mouseMoveArea.endPoint;var minSlope=(targetStart[1]-firstPoint[1])/(targetStart[0]-firstPoint[0]),maxSlope=(targetEnd[1]-firstPoint[1])/(targetEnd[0]-firstPoint[0]),slope=components[0];this.trackingPoints=[];if(goingRight&&!isNaN(slope)&&slope>minSlope&&slope<maxSlope){this.trackingSubMenu=true;setTimeout($.proxy(function(){this._trackSubMenuMouseMovement(link);},this),this.options.trackingTime);}else{if(hoveredItem){this.updateSubMenu(hoveredItem);}}}});})(jQuery);(function($){var hasOpacity=$.support.opacity;$.widget("home.widgetMenu",{options:{fadeDuration:200,trackingTime:100,mouseMoveArea:'header',floatingBox:'.float-box',columnsSelector:'.menu-columns > ul:visible, .extra:visible',isNestedMenu:false},_create:function(){this.currentMenuItemElement=null;if(this.element.is('.nested')){this.options.isNestedMenu=true;}
this._collectElements();this._bindEvents();this._initComponents();this.recalculateSize();},_collectElements:function(){this.elements={};this.elements.triggerLis=this.element.find('> li');this.elements.mouseMoveArea=$(this.options.mouseMoveArea);this.elements.floatingBoxes=this.elements.triggerLis.find(this.options.floatingBox);this.elements.mainBlock=$('#bloco-principal');},_bindEvents:function(){this.elements.triggerLis.each($.proxy(function(i,el){this._bindTriggerEvents($(el));},this));},_initComponents:function(){if(!this.options.isNestedMenu){return;}
this.elements.triggerLis.submenuWidgetMenu();},recalculateSize:function(){var self=this,colSel=this.options.columnsSelector;this.elements.floatingBoxes.each(function(){var floatBox=$(this),columns=floatBox.find(colSel),totalWidth=0,maxHeight=-1;columns.each(function(){var el=$(this),height=el.height();totalWidth+=el.outerWidth();if(el.is('.submenu')){el.find('li').each(function(){var liElement=$(this),height=liElement.height();maxHeight=(height>maxHeight)?height:maxHeight;});}
else if(el.is('.extra')){el.css('height','auto');height=el.height();maxHeight=(height>maxHeight)?height:maxHeight;}
else{height=el.height();maxHeight=(height>maxHeight)?height:maxHeight;}});if(!self.options.isNestedMenu){floatBox.css('width',totalWidth);}
columns.css('height',maxHeight);});},_bindTriggerEvents:function(li){var submenu=li.find(this.options.floatingBox),menuInitialTimeout=null,self=this;if(!submenu.length){return;}
if(hasOpacity){submenu.css("opacity","0");}
if(window.Modernizr&&Modernizr.touch){li.find("> a").on("click",function(ev){e.stopPropagation();if(!self.goToLink){ev.preventDefault();}});li.find("> a").on("touchstart",$.proxy(function(e){e.stopPropagation();e.preventDefault();if(this.elements.liShowing){this.hideItem(this.elements.liShowing);if(this.elements.liShowing==li){this.elements.liShowing=null;self.goToLink=true;e.currentTarget.click();return;}}
this.showItem(li);this.elements.liShowing=li;},this));var onTouchBlock=function(e){if(this.elements.liShowing){this.hideItem(this.elements.liShowing);this.elements.liShowing=null;e.preventDefault();}};var headerFlag=false;var onTouchHeader=function(e){if(!headerFlag){headerFlag=true;setTimeout(function(){headerFlag=false;},100);}
var $target=$(e.target);if($target.attr("id")==="home-menu"||$target.parents("#home-menu").length>0){return;}
onTouchBlock.call(this,e);};this.elements.mainBlock.on('click',$.proxy(onTouchBlock,this));this.elements.mainBlock.on('touchstart',$.proxy(onTouchBlock,this));this.elements.mouseMoveArea.on('click',$.proxy(onTouchHeader,this));this.elements.mouseMoveArea.on('touchstart',$.proxy(onTouchHeader,this));}else{li.hover($.proxy(function(){li.data('hovering',true);if(!this.tracking){menuInitialTimeout=setTimeout($.proxy(function(){menuInitialTimeout=null;this.showItem(li);},this),this.options.fadeDuration);}},this),$.proxy(function(){li.data('hovering',false);if(!this.tracking){if(menuInitialTimeout){clearTimeout(menuInitialTimeout);menuInitialTimeout=null;return;}
this.trackMouseMovement(li);}},this));}},preventInteraction:function(){this.interactionPrevented=true;},allowInteraction:function(){this.interactionPrevented=false;},hideItem:function(el,forced){if(this.interactionPrevented&&!forced){return;}
var submenu=el.find(this.options.floatingBox);this.elements.mainBlock.removeClass('blocked');if(hasOpacity){submenu.stop(true).animate({opacity:0},{duration:this.options.fadeDuration,complete:function(){submenu.css("visibility","hidden");submenu.removeClass('visible');}});}else{submenu.css("visibility","hidden");submenu.removeClass('visible');}
if(this.options.isNestedMenu){el.submenuWidgetMenu('resetEvents');}},showItem:function(el,forced){if(this.interactionPrevented&&!forced){return;}
var submenu=el.find(this.options.floatingBox),submenuEl=submenu[0];this.elements.mainBlock.addClass('blocked');if(hasOpacity){submenu.css("visibility","visible");submenu.stop(true).animate({opacity:1},{duration:this.options.fadeDuration});}else{submenu.css("visibility","visible");}
submenu.addClass('visible');if(window.PIE&&!submenuEl.hasPie){var tabEl,headerLinkEl;setTimeout(function(){PIE.attach(submenuEl);(tabEl=submenu.find('.tab')[0])&&PIE.attach(tabEl);(headerLinkEl=submenu.find('.header a')[0])&&PIE.attach(headerLinkEl);submenuEl.hasPie=true;},0);}
if(this.options.isNestedMenu){submenu.addClass('opened')
el.submenuWidgetMenu('resetSelected');}},currentHover:function(){for(var i=0,len=this.elements.triggerLis.length;i<len;++i){var li=this.elements.triggerLis.eq(i);if(li.data('hovering')){return li;}}
return null;},includeWidget:function(key,func){var extra=this.element.find('li.'+key+' .extra');if(!this.options.isNestedMenu){extra.css('width',188);}
else{var floatBox=this.element.find('li.'+key+' .float-box');floatBox.removeClass('sem-widget');floatBox.addClass('com-widget');}
func(this.element,extra);extra.addClass('enabled');this.recalculateSize();},trackMouseMovement:function(currentLi){this.tracking=true;var trackingPoints=[];this.elements.mouseMoveArea.mousemove(function(e){trackingPoints.push([e.pageX,e.pageY]);});setTimeout($.proxy(function(){this.elements.mouseMoveArea.unbind('mousemove');this.tracking=false;var hoveredItem=this.currentHover();if(hoveredItem&&hoveredItem[0]==currentLi[0]){return;}
if(trackingPoints.length<2){this.hideItem(currentLi);if(hoveredItem){this.showItem(hoveredItem);}
return;}
var components=MathUtils.linearLeastSquares(trackingPoints),firstPoint=trackingPoints[0],lastPoint=trackingPoints[trackingPoints.length-1],distance=MathUtils.distance(firstPoint,lastPoint),factor=Math.abs(components[0])*distance,goingDown=(lastPoint[1]-firstPoint[1])>0;if(goingDown&&factor>=2.7){this.trackMouseMovement(currentLi);}else{this.hideItem(currentLi);if(hoveredItem){this.showItem(hoveredItem);}}},this),this.options.trackingTime);}});})(jQuery);(function($){var hasOpacity=$.support.opacity;$.widget("home.widgetMenuTouch",{options:{fadeDuration:400},_create:function(){if(this.element.hasClass('nested')){this.element.widgetMenu();return;}
this._createNewFloatBoxList();this._collectElements();this._defineSizes();this._bindEvents();this._setPagesPosition();},_defineSizes:function(){var $lis=this.elements.floatBoxes.find("> li"),size=$(window).width();$lis.css("width",size+"px");this.elements.floatBoxes.css("width",($lis.length*size)+"px");},_createNewFloatBoxList:function(){var $wrapper=$("<li class='float-boxes-wrapper' />"),$ul=$("<ul class='float-boxes' />"),$pages=$("<ul />"),$divWrapper=$("<div />");this.element.find("> li").each(function(){var $li=$("<li />").addClass($(this).attr("class").split(" ")[0]);var $page=$("<li><div></div></li>");$pages.append($page);$li.append($(this).find(".float-box").remove());$ul.append($li);});$divWrapper.append($ul);$divWrapper.append($("<div class='pages' />").append($pages));$divWrapper.append($("<a class='hide-bar' href='#'><span href='#'></span></a>"));$wrapper.append($divWrapper);this.element.append($wrapper);},includeWidget:function(key,func){var extra=this.element.find('li.'+key+' .extra');func(this.element,extra);extra.addClass('enabled');},_setPagesPosition:function(){this.elements.pages.css("left",((this.elements.floatBoxWrapper.width()/2)-(this.elements.pages.width()/2))+"px");},_collectElements:function(){this.elements={};this.elements.floatBoxWrapper=this.element.find(".float-boxes-wrapper");this.elements.floatBoxDivWrapper=this.elements.floatBoxWrapper.find("> div");this.elements.floatBoxes=this.elements.floatBoxWrapper.find(".float-boxes");this.elements.triggerLis=this.element.find('> li');this.elements.pages=this.element.find('.pages');this.elements.hide_bar=this.element.find('.hide-bar');},_bindEvents:function(){var self=this;this.scroller=new iScroll(this.elements.floatBoxDivWrapper[0],{vScroll:false,hScrollbar:false,vScrollbar:false,momentum:false,snap:true,bounce:false,onTouchEnd:function(){self._onTouchEnd(this.currPageX);}});this.elements.triggerLis.each($.proxy(function(i,el){this._bindTriggerEvents($(el));},this));libby.pubsub.on('responsiveHub.onContainerChanged',function(){self._defineSizes();self._setPagesPosition();self.scroller.refresh();if(self.elements.liShowing){self.scroller.scrollToPage(self.elements.liShowing.index(),0,0);}});this.elements.floatBoxDivWrapper.touchDragger({scrollBar:this.elements.hide_bar,offset:-34});this.elements.floatBoxDivWrapper.on("closed",function(){self._afterClose();});this.elements.floatBoxDivWrapper.on("opened",function(){self._afterOpen();});this.elements.floatBoxDivWrapper.on("moving",function(){self.elements.floatBoxWrapper.removeClass("closed");});this.elements.floatBoxDivWrapper.touchDragger("fastClose");},_onTouchEnd:function(index){this._selectIndex(index);},_selectIndex:function(index){this._unselectIndex();this.elements.triggerLis.eq(index).addClass("selected");this.elements.liShowing=this.elements.triggerLis.eq(index);this.elements.pages.find("li").eq(index).addClass("selected");},_unselectIndex:function(){this.elements.triggerLis.removeClass("selected");this.elements.pages.find("li").removeClass("selected");},_bindTriggerEvents:function(li){li.find("> a").bind("click",$.proxy(function(e){e.preventDefault();e.stopPropagation();if(this.elements.floatBoxes.is(":animated")){return;}
if(this.elements.liShowing&&this.elements.liShowing[0]==li[0]){this._closeMenu();}else{this.showItem(li);}},this));},_bindDocumentClose:function(){$(document).on('touchstart.menuWidgetTouch',$.proxy(this._onDocumentTouch,this));},_unbindDocumentClose:function(){$(document).off('touchstart.menuWidgetTouch');},_onDocumentTouch:function(e){var parentEl=this.element[0].parentNode,target=e.originalEvent.target||e.originalEvent.touches[0].target;while(target){if(target==parentEl){return;}
target=target.parentNode;}
this._closeMenu();},_closeMenu:function(speed){this.elements.floatBoxDivWrapper.touchDragger("close");this._afterClose();},_afterClose:function(){this.elements.floatBoxWrapper.addClass("closed");if(this.elements.liShowing){this.elements.liShowing.removeClass("selected");this.elements.liShowing=null;this.scroller.scrollToPage(0,0,0);this._unselectIndex();}
this._unbindDocumentClose();},_afterOpen:function(){this.elements.floatBoxWrapper.removeClass("closed");if(!this.elements.liShowing){this._selectIndex(0);}
this._bindDocumentClose();},_openMenu:function(){this.elements.floatBoxDivWrapper.touchDragger("open");this._afterOpen();},showItem:function(el){var speed=this.options.fadeDuration;if(this.elements.floatBoxWrapper.hasClass("closed")){this._openMenu();speed=0;}
this.scroller.scrollToPage(el.index(),0,speed);this._selectIndex(el.index());}});})(jQuery);(function($){var hasOpacity=$.support.opacity;$.widget("home.widgetMenuTouchSmart",{_create:function(){this._prepareElements();this._collectElements();this._addCloseButton();this._bindEvents();},_prepareElements:function(){var $menuWrapper=$("<div class='menu-wrapper' />");var $menuContainer=$("<div class='menu-container' />");$menuContainer.append(this.element.find(" > nav, .complementos").remove());$menuWrapper.append("<a href='#'>MENU<span></span></a>");$menuWrapper.append($menuContainer);this.element.append($menuWrapper);},_collectElements:function(){this.elements={};this.elements.menuWrapper=this.element.find(".menu-wrapper");this.elements.nav=this.elements.menuWrapper.find("nav");this.elements.menuToggle=this.elements.menuWrapper.find("> a");},_bindEvents:function(){var self=this;this.elements.menuToggle.bind("click",function(e){self.elements.menuWrapper.toggleClass("open");});this.elements.menuWrapper.find("span.close").bind("click",function(e){self.elements.menuWrapper.removeClass("open");});},_addCloseButton:function(){this.elements.nav.append("<span class='close'>FECHAR MENU <span></span></span>");}});})(jQuery);(function(){var $,ApiData,ChangeItem,ImageCrop,Trocador,__bind=function(fn,me){return function(){return fn.apply(me,arguments);};},__hasProp={}.hasOwnProperty;$=window.jQuery;ImageCrop=(function(){function ImageCrop(image,targetSize,callback){this.callback=callback;this.resize=__bind(this.resize,this);this.image=$(image);this.targetWidth=targetSize[0];this.targetHeight=targetSize[1];if(this.image.width()>0&&this.image.height()>0){this.resize();}else{this.image.load(this.resize);}}
ImageCrop.prototype.resize=function(){var finalWidth,sourceHeight,sourceWidth;sourceWidth=this.image[0].width;sourceHeight=this.image[0].height;if(this.targetWidth/sourceWidth>this.targetHeight/sourceHeight){this.image.width(this.targetWidth);}else{this.image.height(this.targetHeight);finalWidth=(sourceWidth/sourceHeight)*this.targetHeight;this.image.css('margin-left',(this.targetWidth-finalWidth)/2);}
if(this.callback){return this.callback();}};return ImageCrop;})();ApiData=(function(){ApiData.prototype.areaMap={news:'noticias',sports:'esportes',etc:'entretenimento'};function ApiData(){var area,_ref;this.callbacks={};this.data={};this.usedItems={};this.requestsFired={};this.updateExcludeLinks();_ref=this.areaMap;for(area in _ref){if(!__hasProp.call(_ref,area))continue;this.doRequest(area);}}
ApiData.prototype.updateExcludeLinks=function(){var link,_i,_len,_ref;this.excludedLinks={};_ref=$('#bloco-principal a, .container.columns a');for(_i=0,_len=_ref.length;_i<_len;_i++){link=_ref[_i];this.excludedLinks[link.href]=true;}
return null;};ApiData.prototype.doRequest=function(area){var url,_this=this;if(this.requestsFired[area]){return;}
this.requestsFired[area]=true;url="http://recomendacao.globo.com/rec/v2/user/?client_id=home&limit=50&content_id="+this.areaMap[area];return $.ajax({url:url,jsonpCallback:"recomendacao_"+area,cache:true,dataType:'jsonp',success:function(response){return _this.onRequestReady(area,response);}});};ApiData.prototype.onRequestReady=function(area,response){var callback,_i,_len,_ref;if(!response){return;}
this.data[area]=response;if(this.callbacks[area]){_ref=this.callbacks[area];for(_i=0,_len=_ref.length;_i<_len;_i++){callback=_ref[_i];callback(this.data[area]);}
return this.callbacks[area]=null;}};ApiData.prototype.getItems=function(area,callback){var data;this.doRequest(area);data=this.data[area];if(data){return callback(data);}
if(!this.callbacks[area]){this.callbacks[area]=[];}
return this.callbacks[area].push(callback);};ApiData.prototype.getOneItem=function(area,withPhoto,callback){var _this=this;return this.getItems(area,function(data){var cleanLink,item,_i,_len;for(_i=0,_len=data.length;_i<_len;_i++){item=data[_i];cleanLink=item.url.replace(/#.*$/,'');if(_this.getVisited(item.url)){continue;}
if(withPhoto&&!item.photos.original){continue;}
if(_this.usedItems[item.url]){continue;}
if(_this.excludedLinks[cleanLink]){continue;}
_this.usedItems[item.url]=true;return callback(item);}});};ApiData.prototype.getVisited=function(url){var urlInList,visited,_i,_len,_ref;if(!this.visited){visited=localStorage.getItem('visitedPages');this.visited=visited?JSON.parse(visited):[];if(!this.visited.slice){this.visited=[];}
this.visitedMap={};_ref=this.visited;for(_i=0,_len=_ref.length;_i<_len;_i++){urlInList=_ref[_i];this.visitedMap[urlInList]=true;}}
return this.visitedMap[url];};ApiData.prototype.addVisitedUrl=function(url){var current_url,i,_i,_len,_ref;if(this.getVisited(url)){_ref=this.visited;for(i=_i=0,_len=_ref.length;_i<_len;i=++_i){current_url=_ref[i];if(current_url===url){this.visited.splice(i,1);break;}}}
this.visitedMap[url]=true;this.visited.unshift(url);if(this.visited.length>100){this.visited.splice(100);}
try{return localStorage.setItem('visitedPages',JSON.stringify(this.visited));}catch(_error){}};return ApiData;})();ChangeItem=(function(){function ChangeItem(newsEl,apiData){var imgEl,link;this.apiData=apiData;this.onApiData=__bind(this.onApiData,this);this.recalculateArea=__bind(this.recalculateArea,this);this.changed=false;this.newsEl=$(newsEl);imgEl=this.newsEl.find('img');this.hasImage=imgEl.length>0;if(this.hasImage){this.imgWidth=imgEl.width();this.imgHeight=imgEl.height();}
link=this.newsEl.find('a');this.url=link.attr('href');if(this.apiData.getVisited(this.url)){this.change();}
window.responsiveHub.addEvent('onContainerChanged',this.recalculateArea);}
ChangeItem.prototype.recalculateArea=function(newWidth,oldWidth,containerKind){var borderEl,imgEl;if(!(this.hasImage&&this.changed)){return;}
imgEl=this.newsEl.find('img');borderEl=imgEl.closest('.borda-foto');this.imgWidth=borderEl.width();this.imgHeight=borderEl.height();return new ImageCrop(imgEl,[this.imgWidth,this.imgHeight]);};ChangeItem.prototype.onClick=function(){this.apiData.addVisitedUrl(this.url);return this.change();};ChangeItem.prototype.change=function(){var area,sectionEl;sectionEl=this.newsEl.closest('section');area=sectionEl[0].className.match(/\s+(.*?)-column/)[1];return this.apiData.getOneItem(area,this.hasImage,this.onApiData);};ChangeItem.prototype.onApiData=function(item){var clonned,imgEl,link,newImage,textEl,_this=this;clonned=this.newsEl.clone();clonned.addClass('changed');textEl=clonned.find('.conteudo p');textEl.text(item.title);textEl.dotdotdot();link=clonned.find('a');link.attr('href',item.url);link.attr('title','');imgEl=this.newsEl.find('img');if(imgEl.length>0){newImage=new Image();new ImageCrop(newImage,[this.imgWidth,this.imgHeight],function(){return _this.onImageLoaded(clonned,item);});newImage.src=item.photos.original;return clonned.find('img').replaceWith(newImage);}else{return this.onImageLoaded(clonned,item);}};ChangeItem.prototype.onImageLoaded=function(clonned,item){var _this=this;return libby.responsive.scrollSpy.add(this.newsEl[0],function(){return _this.runAnimation(clonned,item);});};ChangeItem.prototype.runAnimation=function(clonned,item){var _this=this;if(!this.animationContainer){this.animationContainer=$('<div class="animation-container"></div>');this.animationContainer.insertAfter(this.newsEl).append(this.newsEl);}
clonned.data('changeItemInstance',this);clonned.addClass('in');this.newsEl.addClass('out');this.animationContainer.addClass('animating');this.animationContainer.css({width:""+(this.newsEl.outerWidth())+"px",height:""+(this.newsEl.outerHeight())+"px"});clonned.insertAfter(this.newsEl);return setTimeout(function(){_this.animationContainer.addClass('animation-run');return clonned.on('transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd',function(){if(_this.newsEl[0]===clonned[0]){return;}
_this.animationContainer.removeClass('animation-run animating');_this.animationContainer.css({width:'',height:''});_this.newsEl.remove();clonned.removeClass('in');_this.newsEl=clonned;_this.url=item.url;return _this.changed=true;});},0);};return ChangeItem;})();Trocador=(function(){function Trocador(userId){var _this=this;this.userId=userId;if(!window.globoAB){return;}
this.columns=$('.container.columns');this.experiment='home-troca-colunas-recomendacao-interno';this.version='sem-troca';globoAB.get({experiment:this.experiment,defaultValue:this.version,userId:this.userId},function(version){_this.version=version;if(_this.version==='com-troca'){return _this.runChanges();}});this.bindEvents();}
Trocador.prototype.runChanges=function(){var el,_i,_len,_ref,_results;this.apiData=new ApiData();_ref=this.columns.find('section .destaque:not(.changed)');_results=[];for(_i=0,_len=_ref.length;_i<_len;_i++){el=_ref[_i];_results.push($(el).data('changeItemInstance',new ChangeItem(el,this.apiData)));}
return _results;};Trocador.prototype.bindEvents=function(){var _this=this;return this.columns.on('click','section .destaque',function(ev){var instance,target;globoAB.conversion({experiment:_this.experiment,version:_this.version});target=$(ev.currentTarget);instance=target.data('changeItemInstance');if(instance){return instance.onClick();}});};return Trocador;})();window.libby.pubsub.on('userLoggedIn',function(ev,userData){var isFinal,_base;isFinal=!!window.location.href.match(/(.globo.com)|(local.globoi?.com)/);if(isFinal&&userData&&(userData.email.match(/(.*@corp\.globo\.com|fab.*@spam\.la)/))){window.glb||(window.glb={});(_base=window.glb).preferences||(_base.preferences=[]);return window.glb.preferences.push(['get',{product:'home',key:'column-experiment',callback:function(experimentFlag){if(experimentFlag&&experimentFlag.match(/false|0/i)){return;}
return new Trocador(userData.email);}}]);}});}).call(this);var DestaqueUber=(function($,window){var $uber,$thisuber,intervalNav,timeInterval=30000;function init(){$uber=$('.box-destaque-uber');_changeGrid();_hoverHighlight();_hasOpecBanner();};var _changeGrid=function(){var $outerGlbconteudo=$uber.parents('.glb-conteudo');if(!$outerGlbconteudo.hasClass('conteudo-uber')){$outerGlbconteudo.addClass('conteudo-uber');}
_buildPagination();};var _hoverHighlight=function(){$('.box-destaque-uber > .geui-box-foto-animada a').on('mouseenter',function(){$('.destaques-secundarios',$(this).parents('.box-destaque-uber')).css('opacity',0.5);}).on('mouseleave',function(){$('.destaques-secundarios',$(this).parents('.box-destaque-uber')).removeAttr('style');});$('.box-destaque-uber .destaques-secundarios .chamada').on('mouseenter',function(){$('.destaques-primario',$(this).parents('.box-destaque-uber')).css('opacity',0.5);$(this).siblings().css('opacity',0.5);}).on('mouseleave',function(){$('.destaques-primario',$(this).parents('.box-destaque-uber')).removeAttr('style');$(this).siblings().css('opacity',0.5).removeAttr('style');});};var _hasOpecBanner=function(){var opecBanner=setInterval(function(){if($('.conteudo-uber .destaque-publicidade').length>=1){$('.box-destaque-uber').addClass('banner-opec');clearInterval(opecBanner);}},500);};var _movePage=function(){nowActive=$('.conteudo-uber .box-destaque-uber.active');nowActiveBullet=$('.conteudo-uber .bullet.active');if($(this).hasClass('fa-angle-left')){if($('.box-destaque-uber.active').prev('.box-destaque-uber').length==1){$('.box-destaque-uber.active').prev('.box-destaque-uber').addClass('active');$('.conteudo-uber .nav-uber-indicator .bullet.active').prev('.bullet').addClass('active');}else{$('.box-destaque-uber').last().addClass('active');$('.conteudo-uber .nav-uber-indicator .bullet').last().addClass('active');}}else{if($('.box-destaque-uber.active').next('.box-destaque-uber').length==1){$('.box-destaque-uber.active').next('.box-destaque-uber').addClass('active');$('.conteudo-uber .nav-uber-indicator .bullet.active').next('.bullet').addClass('active');}else{$('.box-destaque-uber').first().addClass('active');$('.conteudo-uber .nav-uber-indicator .bullet').first().addClass('active');}}
nowActive.removeClass('active');nowActiveBullet.removeClass('active');};var _bindIntervalNav=function(){$('.conteudo-uber').mouseenter(function(e){e.preventDefault();$(this).addClass('hoverNav');}).mouseleave(function(e){e.preventDefault();$(this).removeClass('hoverNav');});intervalNav=setInterval(function(){if(!$('.conteudo-uber').hasClass('hoverNav')){_movePage();}},timeInterval);};var _bindBtnsPagination=function(){var nowActive='';var nowActiveBullet='';$('.nav-uber-indicator .bullet').on('click',function(e){e.preventDefault();if(!$(this).hasClass('active')){$('.conteudo-uber .box-destaque-uber.active').removeClass('active');$($('.conteudo-uber .box-destaque-uber')[$(this).attr('data-order')]).addClass('active');$('.conteudo-uber .nav-uber-indicator .bullet.active').removeClass('active');$(this).addClass('active');}})
$('i.fa',$('.conteudo-uber')).on('click',function(e){e.preventDefault();_movePage();});};var _buildPagination=function(){var htmlNav='<i class="fa fa-angle-left animado"></i><i class="fa fa-angle-right animado"></i>';var htmlBalls='<div class="nav-uber-indicator"></div>';var htmlBullets='<span class="bullet" data-order="number"></span>';$uber.first().addClass('active');if($('.box-destaque-uber').length>=2&&$('.conteudo-uber i.fa').length==0){$('.conteudo-uber').append(htmlNav);$('.conteudo-uber').append(htmlBalls);$.each($('.box-destaque-uber'),function(ind,val){$('.nav-uber-indicator').append(htmlBullets.replace('number',ind));});$('.conteudo-uber .bullet').first().addClass('active');_bindBtnsPagination();_bindIntervalNav();}};return{init:init};})(jQuery,window);$(function(){DestaqueUber.init();});var DestaqueUberFh=(function($,window){var $uber,$stepMarkers,$pagerLiElements,$thisuber,iscroll,intervalNav,timeInterval=30000;function init(){$uber=$('.box-destaque-uber-fh');if($uber.length>0){_getElements();_changeGrid();_hoverHighlight();_hasOpecBanner();try{_initIscroll();}catch(e){}}}
var _getElements=function(){$stepMarkers=$uber.find('.step-marker li a');$pagerLiElements=$uber.find('.pages li');};var _onTouchEnd=function(){var page=iscroll.currentPage.pageX;$pagerLiElements.removeClass('selected');$pagerLiElements.eq(page).addClass('selected');$stepMarkers.find('.ball.active').removeClass('active');$stepMarkers.eq(page).find('.ball').addClass('active');};var _initIscroll=function(){iscroll=new IScroll('.box-destaque-uber-fh',{scroller:'.box-destaque-uber-container',scrollX:true,scrollY:false,momentum:false,bounce:false,snap:'article',snapSpeed:400,click:true,eventPassthrough:true,useTransform:false,HWCompositing:false});iscroll.on('scrollEnd',_onTouchEnd);};var _changeGrid=function(){var $outerGlbconteudo=$uber.parents('.glb-conteudo');if(!$outerGlbconteudo.hasClass('conteudo-uber')){$outerGlbconteudo.addClass('conteudo-uber');}
_buildPagination();};var _hoverHighlight=function(){$('.box-destaque-uber-fh > .geui-box-foto-animada a').on('mouseenter',function(){$('.destaques-secundarios',$(this).parents('.box-destaque-uber-fh')).addClass('opacity-50');}).on('mouseleave',function(){$('.destaques-secundarios',$(this).parents('.box-destaque-uber-fh')).removeClass('opacity-50');});$('.box-destaque-uber-fh .destaques-secundarios .chamada').on('mouseenter',function(){$('.destaques-primario',$(this).parents('.box-destaque-uber-fh')).addClass('opacity-50');$(this).siblings().addClass('opacity-50');}).on('mouseleave',function(){$('.destaques-primario',$(this).parents('.box-destaque-uber-fh')).removeClass('opacity-50');$(this).siblings().removeClass('opacity-50');});};var _hasOpecBanner=function(){var opecBanner=setInterval(function(){if($('.conteudo-uber .destaque-publicidade').length>=1){$('.box-destaque-uber-fh').addClass('banner-opec');clearInterval(opecBanner);}},500);};var _movePage=function(){nowActive=$('.conteudo-uber .box-destaque-uber-fh.active');nowActiveBullet=$('.conteudo-uber .bullet.active');if($(this).hasClass('fa-angle-left')){if($('.box-destaque-uber-fh.active').prev('.box-destaque-uber-fh').length==1){$('.box-destaque-uber-fh.active').prev('.box-destaque-uber-fh').addClass('active');$('.conteudo-uber .nav-uber-indicator .bullet.active').prev('.bullet').addClass('active');}else{$('.box-destaque-uber-fh').last().addClass('active');$('.conteudo-uber .nav-uber-indicator .bullet').last().addClass('active');}}else{if($('.box-destaque-uber-fh.active').next('.box-destaque-uber-fh').length==1){$('.box-destaque-uber-fh.active').next('.box-destaque-uber-fh').addClass('active');$('.conteudo-uber .nav-uber-indicator .bullet.active').next('.bullet').addClass('active');}else{$('.box-destaque-uber-fh').first().addClass('active');$('.conteudo-uber .nav-uber-indicator .bullet').first().addClass('active');}}
nowActive.removeClass('active');nowActiveBullet.removeClass('active');};var _bindIntervalNav=function(){$('.conteudo-uber').mouseenter(function(e){e.preventDefault();$(this).addClass('hoverNav');}).mouseleave(function(e){e.preventDefault();$(this).removeClass('hoverNav');});intervalNav=setInterval(function(){if(!$('.conteudo-uber').hasClass('hoverNav')){_movePage();}},timeInterval);};var _bindBtnsPagination=function(){var nowActive='';var nowActiveBullet='';$('.nav-uber-indicator .bullet').on('click',function(e){e.preventDefault();if(!$(this).hasClass('active')){$('.conteudo-uber .box-destaque-uber-fh.active').removeClass('active');$($('.conteudo-uber .box-destaque-uber-fh')[$(this).attr('data-order')]).addClass('active');$('.conteudo-uber .nav-uber-indicator .bullet.active').removeClass('active');$(this).addClass('active');}});$('i.fa',$('.conteudo-uber')).on('click',function(e){e.preventDefault();_movePage();});};var _buildPagination=function(){var htmlNav='<i class="fa fa-angle-left animado"></i><i class="fa fa-angle-right animado"></i>';var htmlBalls='<div class="nav-uber-indicator"></div>';var htmlBullets='<span class="bullet" data-order="number"></span>';$uber.first().addClass('active');if($('.box-destaque-uber-fh').length>=2&&$('.conteudo-uber i.fa').length===0){$('.conteudo-uber').append(htmlNav);$('.conteudo-uber').append(htmlBalls);$.each($('.box-destaque-uber-fh'),function(ind,val){$('.nav-uber-indicator').append(htmlBullets.replace('number',ind));});$('.conteudo-uber .bullet').first().addClass('active');_bindBtnsPagination();_bindIntervalNav();}};return{init:init};})(jQuery,window);$(function(){DestaqueUberFh.init();});(function($){var clickon=$('div.widget-comercial-clickon');if(clickon.length>0&&clickon.widgetComercialClickOn){clickon.widgetComercialClickOn();}}(jQuery));(function($){var mundi=$('div.widget-comercial-mundi');if(mundi.length>0&&mundi.widgetComercialMundi){mundi.widgetComercialMundi().widgetComercialMundiAnalytics();}}(jQuery));if(window.libby&&libby.doodleEnabled){libby.doodleGlobo('http://s.glbimg.com/en/ho/static/');}
if(window.Modernizr&&!Modernizr.touch){if(window.globo&&window.globo.tatu&&window.globo.tatuEnabled){var widget=new globo.tatu.widget({'staticUrl':'http://s.glbimg.com/en/ho/static/'});}}
libby.containerKindDefer.get(function(containerKind){if(window.Modernizr&&Modernizr.touch){$('#home-menu').widgetMenuTouch();}else{$('#home-menu').widgetMenu();}});(function(){var EsportesMenuWidget,menuWidget,_this=this;EsportesMenuWidget=(function(){function EsportesMenuWidget(){var _this=this;this.onTeamsReady=function(teams){_this.teams=teams;return EsportesMenuWidget.prototype.onTeamsReady.apply(_this,arguments);};this.add=function(menu,extra){_this.menu=menu;_this.extra=extra;return EsportesMenuWidget.prototype.add.apply(_this,arguments);};this.getTeams();}
EsportesMenuWidget.prototype.add=function(menu,extra){this.menu=menu;this.extra=extra;this.extra.append(this.html);this.allBtns=this.extra.find(".btn");this.allLis=this.extra.find("li");return this.bindEvents();};EsportesMenuWidget.prototype.getTeams=function(){if(window.libby&&libby.soccerTeams){libby.soccerTeams.loadStyle('ab');return libby.soccerTeams.loadTeams('ab',this.onTeamsReady);}};EsportesMenuWidget.prototype.onTeamsReady=function(teams){this.teams=teams;this.render();return jQuery('.nested.widget-menu').widgetMenu('includeWidget','globoesporte',this.add);};EsportesMenuWidget.prototype.bindEvents=function(){var _this=this;this.extra.on('click','a.btn.serie-a',function(ev){return _this.onBtnClick(ev,'a');});return this.extra.on('click','a.btn.serie-b',function(ev){return _this.onBtnClick(ev,'b');});};EsportesMenuWidget.prototype.onBtnClick=function(ev,serie){ev.preventDefault();this.allBtns.removeClass('current');this.allBtns.filter(".serie-"+serie).addClass('current');this.allLis.removeClass('visible');return this.allLis.filter("[data-serie='"+serie+"']").addClass('visible');};EsportesMenuWidget.prototype.render=function(){var team,teamLis,_i,_len,_ref;teamLis="";_ref=this.teams;for(_i=0,_len=_ref.length;_i<_len;_i++){team=_ref[_i];teamLis+="<li data-serie=\""+team.serie+"\" class=\""+(team.serie==='a'?'visible':'')+"\">\n    <a class=\"searchable\" href=\""+team.permalink+"\" title=\""+team.nome_popular+"\">\n        "+team.nome_popular+"\n        <div class=\""+team.slug+"\"></div>\n    </a>\n</li>";}
return this.html="<div class=\"buttons-area\">\n    <a href=\"#\" class=\"btn serie-a current\">SÃRIE A</a>\n    <a href=\"#\" class=\"btn serie-b\">SÃRIE B</a>\n</div>\n<ul class=\"shields soccer-teams\">\n    "+teamLis+"\n</ul>";};return EsportesMenuWidget;})();menuWidget=new EsportesMenuWidget();}).call(this);(function(){var NewsMenuWidget,menuWidget,_this=this;NewsMenuWidget=(function(){function NewsMenuWidget(){var _base,_this=this;this.onStates=function(states){_this.states=states;return NewsMenuWidget.prototype.onStates.apply(_this,arguments);};this.onMouseEnter=function(ev){return NewsMenuWidget.prototype.onMouseEnter.apply(_this,arguments);};this.onGeolocation=function(geo){return NewsMenuWidget.prototype.onGeolocation.apply(_this,arguments);};this.onMenuState=function(data){return NewsMenuWidget.prototype.onMenuState.apply(_this,arguments);};this.onSelectedState=function(data){return NewsMenuWidget.prototype.onSelectedState.apply(_this,arguments);};this.onStateClick=function(ev){return NewsMenuWidget.prototype.onStateClick.apply(_this,arguments);};this.add=function(menu,extra){_this.menu=menu;_this.extra=extra;return NewsMenuWidget.prototype.add.apply(_this,arguments);};window.glb||(window.glb={});(_base=window.glb).preferences||(_base.preferences=[]);this.animationDuration=500;this.animationTargetHeight=42;this.originalHeight=0;this.geoReturned=false;this.getSelectedState();}
NewsMenuWidget.prototype.add=function(menu,extra){this.menu=menu;this.extra=extra;this.bindEvents();return this.extra.append(this.html);};NewsMenuWidget.prototype.bindEvents=function(){return this.extra.on('click','a.searchable',this.onStateClick);};NewsMenuWidget.prototype.onStateClick=function(ev){return glb.preferences.push(['put',{product:'home',key:'menu_estado',value:$(ev.currentTarget).data('uf'),asImg:true}]);};NewsMenuWidget.prototype.getSelectedState=function(){glb.preferences.push(['get',{product:'home',key:'menu_estado',callback:function(){}}]);return glb.preferences.push(['get',{product:'jornalismo',key:'regiao',callback:this.onSelectedState}]);};NewsMenuWidget.prototype.getMenuState=function(){return glb.preferences.push(['get',{product:'home',key:'menu_estado',callback:this.onMenuState}]);};NewsMenuWidget.prototype.getGeolocation=function(){globoapi.geo.onSuccess(this.onGeolocation);globoapi.geo.onNotFound(this.onGeolocation);return setTimeout(this.onGeolocation,1000);};NewsMenuWidget.prototype.onSelectedState=function(data){if(data){this.onGeolocation({state:{code:data.split('/')[0]}});return;}
return this.getMenuState();};NewsMenuWidget.prototype.onMenuState=function(data){if(data){this.onGeolocation({state:{code:data}});return;}
return this.getGeolocation();};NewsMenuWidget.prototype.onGeolocation=function(geo){if(this.geoReturned){return;}
this.geoReturned=true;this.geo=geo;if(!this.geo){this.geo={state:{code:"SP"}};}
return this.getStates();};NewsMenuWidget.prototype.onMouseEnter=function(ev){var colSel,floatBox,oldHeight,realHeight;floatBox=this.extra.parents('.float-box');colSel=this.menu.data('widgetMenu').options.columnsSelector;oldHeight=this.extra.height();this.originalHeight=oldHeight;this.extra.css('height','auto');realHeight=this.extra.height();this.extra.css('height',oldHeight);if(realHeight+this.animationTargetHeight>oldHeight){floatBox.find(colSel).animate({height:this.extra.height()+this.animationTargetHeight},{duration:this.animationDuration,easing:'easeOutCubic'});}
return this.extra.off('mouseenter',this.onMouseEnter);};NewsMenuWidget.prototype.getStates=function(){return $.getJSON('/libby/aplicacoes/cadastro_estados/estados/regioes_ordenado.json',this.onStates);};NewsMenuWidget.prototype.onStates=function(states){this.states=states;this.render();return jQuery('.nested.widget-menu').widgetMenu('includeWidget','g1',this.add);};NewsMenuWidget.prototype.render=function(){var myRegion,myRegionHtml,state,statesHtml,_i,_len,_ref;statesHtml="";myRegionHtml="";_ref=this.states;for(_i=0,_len=_ref.length;_i<_len;_i++){state=_ref[_i];statesHtml+="<li class=\"\">\n    <a href=\""+state.url+"\" title=\""+state.name+"\" data-uf=\""+(state.sigla.toUpperCase())+"\" class=\"searchable\">\n        <div class=\"state-flag "+(state.sigla.toLowerCase())+"\"></div>\n        <div class=\"state-border\"><div class=\"sigla-uf\">"+state.sigla+"</div></div>\n    </a>\n</li>";if(state.sigla===this.geo.state.code){myRegion=state;}}
if(myRegion){myRegionHtml="<div class=\"my-state-button-container analytics-custom-product analytics-id-suggest\">\n    <a class=\"my-state-button-area\" href=\""+myRegion.url+"\">\n        <div>\n            <div class=\"nav-arrow\"></div>\n            <div class=\"text-area\">\n                <div>procurando por</div>\n                <span>"+myRegion.name+"?</span>\n            </div>\n        </div>\n    </a>\n</div>";}
return this.html="<h4>seu estado</h4>\n"+myRegionHtml+"\n<ul class=\"flags-board\">"+statesHtml+"</ul>";};return NewsMenuWidget;})();menuWidget=new NewsMenuWidget;}).call(this);(function(){var NovelasMenuWidget,menuWidget,_this=this;NovelasMenuWidget=(function(){function NovelasMenuWidget(){var _this=this;this.onNovelas=function(novelas){_this.novelas=novelas;return NovelasMenuWidget.prototype.onNovelas.apply(_this,arguments);};this.add=function(menu,extra){_this.menu=menu;_this.extra=extra;return NovelasMenuWidget.prototype.add.apply(_this,arguments);};this.getNovelas();}
NovelasMenuWidget.prototype.add=function(menu,extra){this.menu=menu;this.extra=extra;return this.extra.append(this.html);};NovelasMenuWidget.prototype.getNovelas=function(){return $.getJSON('/libby/aplicacoes/cadastro_novelas/all_novelas.json',this.onNovelas);};NovelasMenuWidget.prototype.onNovelas=function(novelas){this.novelas=novelas;this.render();return jQuery('.nested.widget-menu').widgetMenu('includeWidget','gshow',this.add);};NovelasMenuWidget.prototype.render=function(){var novela,novelasHtml,_i,_len,_ref;novelasHtml="";_ref=this.novelas;for(_i=0,_len=_ref.length;_i<_len;_i++){novela=_ref[_i];novelasHtml+="<li class=\"novela\">\n    <a href=\""+novela.url+"\" class=\"searchable\">\n        <span class='borda-novela'>\n            <span></span>\n            <img src=\""+novela.logo_tv+"\"></img>\n        </span>\n        <span class=\"name\">"+novela.name+"</span>\n    </a>\n</li>";}
return this.html="<h4>novelas</h4>\n<ul class=\"novelas-list\">"+novelasHtml+"</ul>";};return NovelasMenuWidget;})();menuWidget=new NovelasMenuWidget;}).call(this);(function(window){var defaults={'pageContainerId':'home-pagecontent','staticPath':'http://s.glbimg.com/gl/ba/'},common={};var MobileHeaderHome=function(glb,options){common=glb['barra']['common'];this.options=common['extend'](common['clone'](defaults),options);this.pageContainer=common['getById'](this.options['pageContainerId']);this.pushMenu=common['getById']('home-push-menu');this.menuOpener=common['getById']('open-menu');this.searchForm=common['getById']('search-form');this.searchInput=common['getById']('search-globo');this.searchContainer=common['getById']('search-container');this.openSearch=common['getById']('open-search');this.closeSearch=common['getById']('close-search');this.pageBody=this.pageBody||common['getByTagName']('body');this.pageHtml=this.pageHtml||common['getByTagName']('html');};MobileHeaderHome.prototype.init=function(){this.bindEvents();};MobileHeaderHome.prototype.closeMenu=function(){var self=this;common['removeClass'](this.pageContainer,'content-pushed');common['removeClass'](this.pushMenu,'show-email');setTimeout(function(){common['removeClass'](self.pageBody,'lock-body');common['removeClass'](self.pageHtml,'lock-body');},300);this.pageContainer['style']['height']='';};MobileHeaderHome.prototype.openMenu=function(){if(document['documentElement']&&document['documentElement']['clientHeight']){this.pageContainer['style']['height']=document['documentElement']['clientHeight']+'px';}
common['addClass'](this.pageContainer,'content-pushed');common['addClass'](this.pageBody,'lock-body');common['addClass'](this.pageHtml,'lock-body');common['removeClass'](this.pushMenu,'show-email');};MobileHeaderHome.prototype.bindEvents=function(){var self=this,emailLink=common['getById']('home-push-menu-show-email'),emailHideLink=common['getById']('home-push-menu-hide-email');this.menuOpener['onclick']=function(ev){common.preventDefault(ev);if(common['hasClass'](self.pageBody,'lock-body')){self.closeMenu();self.pageContainer['onclick']=null;}else{self.openMenu();if(ev['stopPropagation']){ev['stopPropagation']();self.pageContainer['onclick']=function(ev){if(common['hasClass'](self.pageContainer,'content-pushed')){common.preventDefault(ev);self.closeMenu();}};}}};this.searchForm['onsubmit']=function(ev){common['removeClass'](self.searchContainer,'showing');};emailHideLink['onclick']=emailLink['onclick']=function(ev){common.preventDefault(ev);common['toggleClass'](self.pushMenu,'show-email');};this.openSearch['onclick']=function(ev){common['addClass'](self.searchContainer,'showing');self.searchInput['focus']();};this.closeSearch['onclick']=function(ev){common['removeClass'](self.searchContainer,'showing');self.searchInput['focus']();self.searchInput['blur']();};};window.MobileHeaderHome=MobileHeaderHome;})(window);(function($){if(window.PIE){$('body .css3pie').each(function(){PIE.attach(this);});}})(jQuery);glb.Refresher.getInstance({'timeout':300,onBeforeRefresh:function(timeout){if(window.glb.hasEventRefresh){window._gaq=window._gaq||[];window._gaq.push(['_trackEvent','Refresh','Refresh',document.referrer,0,true]);}}});preventRefresh.captureRefresher();var glb_realtime_map={site:'home',categories:['portal'],url:'http://www.globo.com/'};$.ajax({url:'http://s.glbimg.com/bu/rt/js/glb-rt-min.js',dataType:'script',cache:true,success:function(){$.glbrealtime({data:{'49':{'spt':'famosos-etc','sel':'.famosos-etc .menu-columns >ul a','ctx':'#home-menu','reg':'menu'},'agrupador destaque globotv canais':{'spt':'agrupador destaque globotv','sel':'.libby-agrupador-destaque-globotv-com-canais a','ctx':'#area-widgets-direita-topo','reg':'video'},'45':{'spt':'globoesporte','sel':'.globoesporte .menu-columns >ul a','ctx':'#home-menu','reg':'menu'},'42':{'spt':'widget aeroportos','sel':'.libby-widget-servicos-aeroportos a','ctx':'section.globo-servicos','reg':'servicos'},'famosos':{'spt':'destaque horizontal famosos','sel':'a','ctx':'section.area.central .agrupador-super-wide-quadruplo-com-widget.famosos-style','reg':'franja famosos'},'39':{'spt':'widget fipe','sel':'.libby-widget-servicos-fipe a','ctx':'section.globo-servicos','reg':'servicos'},'47':{'spt':'gshow','sel':'.gshow .menu-columns >ul a','ctx':'#home-menu','reg':'menu'},'38':{'spt':'videos mais vistos','sel':'li a','ctx':'section.top-videos','reg':'videos mais vistos'},'musica-triplo':{'spt':'destaque horizontal musica','sel':'a','ctx':'section.area.central .agrupador-musica-triplo','reg':'franja musica'},'40':{'spt':'widget loterias','sel':'.libby-widget-servicos-loterias a','ctx':'section.globo-servicos','reg':'servicos'},'46':{'spt':'tecnologia','sel':'.tecnologia .menu-columns >ul a','ctx':'#home-menu','reg':'menu'},'32':{'spt':'mais vistas jornalismo','sel':'ol.noticias a','ctx':'#mais-vistas','reg':'mais vistas'},'24':{'spt':'jornalismo secundario {0}','sel':'div.destaque-terciario a','ctx':'.glb-area-colunas .news-column','reg':'coluna jornalismo'},'25':{'spt':'coluna esportes principal {0}','sel':'div.destaque-secundario a','ctx':'.glb-area-colunas .sports-column','reg':'coluna esportes'},'26':{'spt':'coluna esportes secundario {0}','sel':'div.destaque-terciario a','ctx':'.glb-area-colunas .sports-column','reg':'coluna esportes'},'27':{'spt':'coluna entretenimento principal {0}','sel':'div.destaque-secundario a','ctx':'.glb-area-colunas .etc-column','reg':'coluna entretenimento'},'mais entretenimento':{'spt':'destaque horizontal mais entretenimento','sel':'a','ctx':'section.area.central .agrupador-sextuplo','reg':'franja mais entretenimento'},'48':{'spt':'videos','sel':'.videos a','ctx':'#home-menu','reg':'menu'},'22':{'spt':'topo agrupador de links','sel':'.destaque-agrupador-links a','ctx':'#bloco-principal div.analytics-area.analytics-id-A','reg':'topo'},'urgente':{'spt':'destaque urgente','sel':'a','ctx':'#urgente','reg':'urgente'},'33':{'spt':'mais vistas esporte','sel':'ol.esportes a','ctx':'#mais-vistas','reg':'mais vistas'},'gshow':{'spt':'destaque horizontal gshow','sel':'a','ctx':'section.area.central .agrupador-super-wide-quadruplo-com-widget.gshow','reg':'franja gshow'},'musica-playlist':{'spt':'destaque horizontal musica','sel':'a','ctx':'section.area.central .agrupador-super-wide-com-widget-musica-playlist','reg':'franja musica'},'23':{'spt':'jornalismo principal {0}','sel':'div.destaque-secundario a','ctx':'.glb-area-colunas .news-column','reg':'coluna jornalismo'},'28':{'spt':'coluna entretenimento secundario {0}','sel':'div.destaque-terciario a','ctx':'.glb-area-colunas .etc-column','reg':'coluna entretenimento'},'43':{'spt':'links','sel':'.box-widget-servicos a','ctx':'section.globo-servicos','reg':'servicos'},'tecnologia e games quadruplo':{'spt':'destaque horizontal tecnologia e games','sel':'li >a','ctx':'section.area.central .agrupador-quadruplo-tecnologia','reg':'franja tecnologia e games'},'34':{'spt':'mais vistas entretenimento','sel':'ol.entretenimento a','ctx':'#mais-vistas','reg':'mais vistas'},'0':{'spt':'topo jornalismo','sel':'.destaque-primeiro-scroll.glb-hl-style-noticia a','ctx':'#bloco-principal div.analytics-area.analytics-id-A','reg':'topo'},'2':{'spt':'topo esportes','sel':'.destaque-primeiro-scroll.glb-hl-style-esporte a','ctx':'#bloco-principal div.analytics-area.analytics-id-A','reg':'topo'},'musica':{'spt':'destaque horizontal musica','sel':'a','ctx':'section.area.central .agrupador-musica','reg':'franja musica'},'4':{'spt':'topo entretenimento','sel':'.destaque-primeiro-scroll.glb-hl-style-entretenimento a','ctx':'#bloco-principal div.analytics-area.analytics-id-A','reg':'topo'},'6':{'spt':'topo rede globo','sel':'.destaque-primeiro-scroll.glb-hl-style-rede-globo a','ctx':'#bloco-principal div.analytics-area.analytics-id-A','reg':'topo'},'44':{'spt':'g1','sel':'.g1 .menu-columns >ul a','ctx':'#home-menu','reg':'menu'}},debug:false});}});(function($){var context=$(".assinante-responsive"),drop=context.find('select'),sendTo=context.find('a');function triggerNativeClick(element){if(document.createEvent){var evt=document.createEvent("MouseEvents");evt.initMouseEvent('click',true,true,window,0,0,0,0,0,false,false,false,false,0,null);return!element.dispatchEvent(evt);}
element.click();return true;}
drop.bind('change',$.proxy(function(ev){ev.preventDefault();var val=drop.val();if(val&&val!='#'){sendTo.attr('href',val);triggerNativeClick(sendTo[0]);}},this));}(jQuery));libby.containerKindDefer.get(function(containerKind){var areaTopVideos=$('.area.topglobocom .top-videos');if(areaTopVideos.length>0){areaTopVideos.widgetTopVideos({url:'http://api.globo.com/videos/top.jsonp',size:containerKind});}});if(window.glb&&glb.widgetServicos){glb.widgetServicos.init($(".agrupador-servicos"),{weather:{weatherDataDeferred:libby.weatherDeferred},airport:{weatherDataDeferred:libby.weatherDeferred},stock:{},shows:{showsApiURL:'http://api.globo.com/shows/'}});}
var glb=window.glb||{},onLogin,barraLoaded;glb.barra={noinit:true,triggerWindowsOnHover:true};onLogin=function(userData){var authArea=document.getElementById('assinante-menu'),tooltipOptions,mobileHeaderHome;authArea.innerHTML="";if(userData&&('name'in userData)){libby.pubsub.trigger('userLoggedIn',userData);tooltipOptions={header:"seu acesso mudou!",title:"Acesse aqui seu globomail e outros serviÃ§os globo.com"};glb.barra.logged.addItems(authArea,userData);authArea.className+=' logged';}else{tooltipOptions={header:"seu acesso mudou!",title:"FaÃ§a seu login para acessar o globomail e outros serviÃ§os globo.com"};glb.barra.nonlogged.addItems(authArea);}
glb.barra.analytics.trackAllOut(authArea);mobileHeaderHome=new MobileHeaderHome(glb);mobileHeaderHome.init();};barraLoaded=function(){glb.barra.component=glb.barra.component||{};glb.barra.component.barraDiv=glb.barra.component.barraDiv||{className:''};if(!glb.barra.component.addCadunJs){glb.barra.auth.getUserData(onLogin);}else{window['cq']=window['cq']||[];window['cq'].push({'userInfoAvailable':function(){onLogin(Cadun.user.me);}});glb.barra.component.addCadunJs();}};libby.loadScript('http://s.glbimg.com/gl/ba/js/barra-globocom.min.js?nocache1',barraLoaded);(function($){if($.fn.dotdotdot){$('.columns .chamada .conteudo p').dotdotdot({watch:'window'});}}(jQuery));$(document).ready(function($){var scrollEventChance=0;if(window.glb&&glb.analyticsConfig&&glb.analyticsConfig.scrollEventChance){scrollEventChance=glb.analyticsConfig.scrollEventChance;}
if(parseInt(Math.random()*100)>=scrollEventChance)return;var classesMap={'.glb-area-colunas':'Colunas','.box-widgets-personalizaveis:eq(0)':'PersonalizaÃ§Ã£o Colunas','.libby-home-widgetBase:eq(0)':'Widget Colunas','section.agrupador-quadruplo-tecnologia':'Franja Tecnologia','section.agrupador-sextuplo':'Franja Sextupla','section.agrupador-super-wide-quadruplo-com-widget.famosos-style':'Franja Famosos','section.agrupador-super-wide-quadruplo-com-widget.gshow':'Franja GSHOW','section.agrupador-musica-triplo':'Franja MÃºsica','section.topglobocom':'Top Globo','section.globo-servicos':'Widgets ServiÃ§os','#glb-shopping-widget':'Globo Shopping','section.diretorio':'DiretÃ³rio','footer':'Footer'};var allClasses=[];for(var key in classesMap){if(!classesMap.hasOwnProperty(key)){continue;}
allClasses.push(key);}
var scrollAnalyzer=new libby.ScrollAnalyzer({marks:[],elements:$(allClasses.join(',')),labelMapper:function(element){element=$(element);for(var key in classesMap){if(!classesMap.hasOwnProperty(key)){continue;}
var selector=key.replace(/:eq.*$/,'');if(element.is(selector)){return classesMap[key];}}
return element.attr('class');}});});