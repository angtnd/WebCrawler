var cacheAjaxGateway=[];var gatewayModalContent=document.getElementById("gateway-modal");if(gatewayModalContent){var gatewayModal=new MG_Modal.modal({content:gatewayModalContent,className:"gatewayContainer"})}function triggerUpselllGatewayModal(a){$j.ajax({type:"GET",url:"/premium/ajax_build_upgrade_url",data:{entry_code:a},dataType:"json",success:function(b){if(b.success=="PASS"){$j("#gateway-text").find("span").hide();if(b.gateway_modal){$j("#gateway-text").find("span."+b.gateway_modal).show()}$j("#gateway-button").attr("href",b.url);if(typeof gatewayModal!=="undefined"){gatewayModal.openModal()}}}})}function triggerGatewayModal(b){b.preventDefault();var a=$j(b.target).data("entrycode");$j.ajax({type:"GET",url:"/premium/ajax_build_upgrade_url",data:{entry_code:a},dataType:"json",success:function(c){if(c.success=="PASS"){$j("#gateway-text").find("span").hide();if(c.gateway_modal){$j("#gateway-text").find("span."+c.gateway_modal).show()}$j("#gateway-button").attr("href",c.url);if(typeof whichModalObj!="undefined"&&whichModalObj.showExpiredGift){window.location.href=c.url}else{if(typeof trialEndedModal!=="undefined"){trialEndedModal.closeModal(function(){if(typeof gatewayModal!=="undefined"){gatewayModal.openModal()}})}else{if(typeof gatewayModal!=="undefined"){gatewayModal.openModal()}}}}}})}var welcomeModalContent=document.getElementById("premium-welcome-modal");if(welcomeModalContent){var welcomeModal=new MG_Modal.modal({content:welcomeModalContent,className:"welcomeModalContainer",closeDocument:false,closeButton:false})}function welcomeModel(a){if($j("#dontAsk").prop("checked")){$j.ajax({type:"POST",url:$j("#dontAsk").data("cookie")})}if(a){$j.ajax({type:"POST",url:$j("#go-to-pornhub").data("logout")}).always(function(){window.location.href=$j("#go-to-pornhub").data("pornhub-redirect")})}welcomeModal.closeModal(function(){$j.ajax({type:"GET",url:"/front/cookie_kill_ajax",data:{cookie_name:"showPremiumWelcomeFromPornhub"}})})}var expiredModalContent=document.getElementById("premium-expired-modal");if(expiredModalContent){var expiredModal=new MG_Modal.modal({content:expiredModalContent,className:"expiredModalContainer"})}function setModalCookieHidden(){$j.cookie("expiredModalShown","1")}function triggerExpiredModal(){if($j.cookie("expiredModalShown")==null){if(typeof expiredModal!=="undefined"){expiredModal.openModal(setModalCookieHidden)}}}var trialEndedModalContent=document.getElementById("trial-ended-modal");if(trialEndedModalContent){var trialEndedModal=new MG_Modal.modal({content:trialEndedModalContent,className:"trialEndedModalContainer"})}var giftingEndedModalContent=document.getElementById("giftingExpired");if(giftingEndedModalContent){var giftingEndedModal=new MG_Modal.modal({content:giftingEndedModalContent,className:"giftingEndedModalContainer"})}var trialModalContent=document.getElementById("trial-step1-modal");if(trialModalContent){var trialModal=new MG_Modal.modal({content:trialModalContent,className:"trialModalContainer"})}function setModalSessionHidden(a){$j.cookie(a+"-shown","1")}function triggerTrialModal(a){if($j.cookie("showModalPremiumTry")!=null&&a=="trial-step1-modal"){setCookieAdvanced("premiumTrialAccepted","1",1);if(typeof trialModal!=="undefined"){trialModal.openModal(setModalSessionHidden(a))}deleteCookieAdvanced("showModalPremiumTry")}else{if($j.cookie(a+"-shown")==null){switch(a){case"trial-step1-modal":if(typeof trialModal!=="undefined"){trialModal.openModal(setModalSessionHidden(a))}break;case"trial-ended-modal":if(typeof trialEndedModal!=="undefined"){trialEndedModal.openModal(setModalSessionHidden(a))}break;case"giftingExpired":if(typeof giftingEndedModal!=="undefined"){giftingEndedModal.openModal(setModalSessionHidden(a))}break}}}}$j(document).ready(function(){if(typeof whichModalObj!="undefined"){if(whichModalObj.modalReturnName==="premium-free-trial-ended"){if(whichModalObj.showExpiredGift){triggerTrialModal("giftingExpired")}else{triggerTrialModal("trial-ended-modal")}}if(whichModalObj.modalReturnName==="premium-free-trial-step-one"){triggerTrialModal("trial-step1-modal")}}$j(document).on("click","#js-startTrial",function(a){a.preventDefault();$j(".offerContent, .offerButtons, .offerLasts").hide();$j(".trialStartedWrapper, .startTrialButton, .premiumPrice").css("display","block")});if(sessionStorage.getItem("trialBottomNotificationHidden")==null){$j("#js-trialExpireReminder").slideToggle()}$j("#js-closeTrialNotification").click(function(a){a.preventDefault();sessionStorage.setItem("trialBottomNotificationHidden","1");$j(this).closest("div").slideToggle()});if(navigator.userAgent.match(/Android\s2/i)){$j(".modal").css({height:"180%",top:0}).find(".enterModalWrapper").css("max-height","none").find(".enterModalScroller").css({"max-height":"none"});$j(".enterModalContent").css("font-size",1)}if($j.cookie("showPremiumWelcomeFromPornhub")==1){if(typeof welcomeModal!=="undefined"){welcomeModal.openModal()}}$j(document).on("click",".cancelButton",function(b){b.preventDefault();var a=$j(this);switch(a.data("modal")){case"trial-ended":if(typeof trialEndedModal!=="undefined"){trialEndedModal.closeModal()}break;case"trial-step1":if(typeof trialModal!=="undefined"){trialModal.closeModal()}break;case"gift-ended":if(typeof giftingEndedModal!=="undefined"){giftingEndedModal.closeModal()}break;case"createPlaylist":if(typeof createPlaylistModal!=="undefined"){createPlaylistModal.closeModal()}break;case"friendRequestModal":if(typeof friendRequestModal!=="undefined"){friendRequestModal.closeModal()}break}})});