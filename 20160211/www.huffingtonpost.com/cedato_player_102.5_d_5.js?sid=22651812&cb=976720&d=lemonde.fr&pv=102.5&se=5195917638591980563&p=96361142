var CEDATO_ES5=function(h,a){h.include=function(){try{Object.getPrototypeOf||(Object.getPrototypeOf=function(a){if(a!==Object(a))throw TypeError("Object.getPrototypeOf called on non-object");return a.__proto__||a.constructor.prototype||Object.prototype}),"function"!==typeof Object.getOwnPropertyNames&&(Object.getOwnPropertyNames=function(a){if(a!==Object(a))throw TypeError("Object.getOwnPropertyNames called on non-object");var c=[],d;for(d in a)Object.prototype.hasOwnProperty.call(a,d)&&c.push(d);
return c}),"function"!==typeof Object.create&&(Object.create=function(a,c){function d(){}if("object"!==typeof a)throw TypeError();d.prototype=a;var g=new d;a&&(g.constructor=d);if(void 0!==c){if(c!==Object(c))throw TypeError();Object.defineProperties(g,c)}return g}),function(){var a;if(!(a=!Object.defineProperty)){var c;try{Object.defineProperty({},"x",{}),c=!0}catch(g){c=!1}a=!c}if(a){var d=Object.defineProperty;Object.defineProperty=function(c,a,l){if(d)try{return d(c,a,l)}catch(p){}if(c!==Object(c))throw TypeError("Object.defineProperty called on non-object");
Object.prototype.__defineGetter__&&"get"in l&&Object.prototype.__defineGetter__.call(c,a,l.get);Object.prototype.__defineSetter__&&"set"in l&&Object.prototype.__defineSetter__.call(c,a,l.set);"value"in l&&(c[a]=l.value);return c}}}(),"function"!==typeof Object.defineProperties&&(Object.defineProperties=function(a,c){if(a!==Object(a))throw TypeError("Object.defineProperties called on non-object");for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&Object.defineProperty(a,d,c[d]);return a}),Object.keys||
(Object.keys=function(a){if(a!==Object(a))throw TypeError("Object.keys called on non-object");var c=[],d;for(d in a)Object.prototype.hasOwnProperty.call(a,d)&&c.push(d);return c}),Function.prototype.bind||(Function.prototype.bind=function(a){function c(){}if("function"!==typeof this)throw TypeError("Bind must be called on a function");var d=[].slice,g=d.call(arguments,1),k=this,m=function(){return k.apply(this instanceof c?this:a,g.concat(d.call(arguments)))};c.prototype=k.prototype;m.prototype=new c;
return m}),Array.isArray=Array.isArray||function(a){return!(!a||"[object Array]"!==Object.prototype.toString.call(Object(a)))},Array.prototype.indexOf||(Array.prototype.indexOf=function(a){if(void 0===this||null===this)throw TypeError();var c=Object(this),d=c.length>>>0;if(0===d)return-1;var g=0;0<arguments.length&&(g=+arguments[1],isNaN(g)?g=0:0!==g&&g!==1/0&&g!==-(1/0)&&(g=(0<g||-1)*Math.floor(Math.abs(g))));if(g>=d)return-1;for(g=0<=g?g:Math.max(d-Math.abs(g),0);g<d;g++)if(g in c&&c[g]===a)return g;
return-1}),Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function(a){if(void 0===this||null===this)throw TypeError();var c=Object(this),d=c.length>>>0;if(0===d)return-1;var g=d;1<arguments.length&&(g=+arguments[1],g!==g?g=0:0!==g&&g!==1/0&&g!==-(1/0)&&(g=(0<g||-1)*Math.floor(Math.abs(g))));for(d=0<=g?Math.min(g,d-1):d-Math.abs(g);0<=d;d--)if(d in c&&c[d]===a)return d;return-1}),Array.prototype.every||(Array.prototype.every=function(a,c){if(void 0===this||null===this)throw TypeError();
var d=Object(this),g=d.length>>>0;if("function"!==typeof a)throw TypeError();var k;for(k=0;k<g;k++)if(k in d&&!a.call(c,d[k],k,d))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(a,c){if(void 0===this||null===this)throw TypeError();var d=Object(this),g=d.length>>>0;if("function"!==typeof a)throw TypeError();var k;for(k=0;k<g;k++)if(k in d&&a.call(c,d[k],k,d))return!0;return!1}),Array.prototype.forEach||(Array.prototype.forEach=function(a,c){if(void 0===this||null===this)throw TypeError();
var d=Object(this),g=d.length>>>0;if("function"!==typeof a)throw TypeError();var k;for(k=0;k<g;k++)k in d&&a.call(c,d[k],k,d)}),Array.prototype.map||(Array.prototype.map=function(a,c){if(void 0===this||null===this)throw TypeError();var d=Object(this),g=d.length>>>0;if("function"!==typeof a)throw TypeError();var k=[];k.length=g;var m;for(m=0;m<g;m++)m in d&&(k[m]=a.call(c,d[m],m,d));return k}),Array.prototype.filter||(Array.prototype.filter=function(a,c){if(void 0===this||null===this)throw TypeError();
var d=Object(this),g=d.length>>>0;if("function"!==typeof a)throw TypeError();var k=[],m;for(m=0;m<g;m++)if(m in d){var p=d[m];a.call(c,p,m,d)&&k.push(p)}return k}),Array.prototype.reduce||(Array.prototype.reduce=function(a){if(void 0===this||null===this)throw TypeError();var c=Object(this),d=c.length>>>0;if("function"!==typeof a)throw TypeError();if(0===d&&1===arguments.length)throw TypeError();var g=0,k;if(2<=arguments.length)k=arguments[1];else{do{if(g in c){k=c[g++];break}if(++g>=d)throw TypeError();
}while(1)}for(;g<d;)g in c&&(k=a.call(void 0,k,c[g],g,c)),g++;return k}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(a){if(void 0===this||null===this)throw TypeError();var c=Object(this),d=c.length>>>0;if("function"!==typeof a)throw TypeError();if(0===d&&1===arguments.length)throw TypeError();var d=d-1,g;if(2<=arguments.length)g=arguments[1];else{do{if(d in this){g=this[d--];break}if(0>--d)throw TypeError();}while(1)}for(;0<=d;)d in c&&(g=a.call(void 0,g,c[d],d,c)),d--;return g}),
String.prototype.trim||(String.prototype.trim=function(){return String(this).replace(/^\s+/,"").replace(/\s+$/,"")}),Date.now||(Date.now=function(){return+new Date}),Date.prototype.toISOString||(Date.prototype.toISOString=function(){function a(c){return("00"+c).slice(-2)}return this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"."+function(a){return("000"+a).slice(-3)}(this.getUTCMilliseconds())+
"Z"})}catch(a){}};return h}(CEDATO_ES5||{},window),CEDATO_SWF=function(h){try{h.swfobject=function(){function a(){if(!U){try{var f=q.getElementsByTagName("body")[0].appendChild(q.createElement("span"));f.parentNode.removeChild(f)}catch(a){return}U=!0;for(var f=Y.length,c=0;c<f;c++)Y[c]()}}function l(f){U?f():Y[Y.length]=f}function c(f){if("undefined"!=typeof x.addEventListener)x.addEventListener("load",f,!1);else if("undefined"!=typeof q.addEventListener)q.addEventListener("load",f,!1);else if("undefined"!=
typeof x.attachEvent)u(x,"onload",f);else if("function"==typeof x.onload){var a=x.onload;x.onload=function(){a();f()}}else x.onload=f}function d(){var f=q.getElementsByTagName("body")[0],a=q.createElement("object");a.setAttribute("type","application/x-shockwave-flash");var c=f.appendChild(a);if(c){var d=0;(function(){if("undefined"!=typeof c.GetVariable){var k=c.GetVariable("$version");k&&(k=k.split(" ")[1].split(","),v.pv=[parseInt(k[0],10),parseInt(k[1],10),parseInt(k[2],10)])}else if(10>d){d++;
setTimeout(arguments.callee,10);return}f.removeChild(a);c=null;g()})()}else g()}function g(){var f=J.length;if(0<f)for(var a=0;a<f;a++){var c=J[a].id,d=J[a].callbackFn,g={success:!1,id:c};if(0<v.pv[0]){var h=B(c);if(h)if(!H(J[a].swfVersion)||v.wk&&312>v.wk)if(J[a].expressInstall&&m()){g={};g.data=J[a].expressInstall;g.width=h.getAttribute("width")||"0";g.height=h.getAttribute("height")||"0";h.getAttribute("class")&&(g.styleclass=h.getAttribute("class"));h.getAttribute("align")&&(g.align=h.getAttribute("align"));
for(var l={},h=h.getElementsByTagName("param"),t=h.length,n=0;n<t;n++)"movie"!=h[n].getAttribute("name").toLowerCase()&&(l[h[n].getAttribute("name")]=h[n].getAttribute("value"));p(g,l,c,d)}else w(h),d&&d(g);else C(c,!0),d&&(g.success=!0,g.ref=k(c),d(g))}else C(c,!0),d&&((c=k(c))&&"undefined"!=typeof c.SetVariable&&(g.success=!0,g.ref=c),d(g))}}function k(f){var a=null;(f=B(f))&&"OBJECT"==f.nodeName&&("undefined"!=typeof f.SetVariable?a=f:(f=f.getElementsByTagName("object")[0])&&(a=f));return a}function m(){return!ea&&
H("6.0.65")&&(v.win||v.mac)&&!(v.wk&&312>v.wk)}function p(f,a,c,d){ea=!0;S=d||null;V={success:!1,id:c};var g=B(c);if(g){"OBJECT"==g.nodeName?(Z=t(g),fa=null):(Z=g,fa=c);f.id="SWFObjectExprInst";if("undefined"==typeof f.width||!/%$/.test(f.width)&&310>parseInt(f.width,10))f.width="310";if("undefined"==typeof f.height||!/%$/.test(f.height)&&137>parseInt(f.height,10))f.height="137";q.title=q.title.slice(0,47)+" - Flash Player Installation";d=v.ie&&v.win?"ActiveX":"PlugIn";d="MMredirectURL="+x.location.toString().replace(/&/g,
"%26")+"&MMplayerType="+d+"&MMdoctitle="+q.title;a.flashvars="undefined"!=typeof a.flashvars?a.flashvars+("&"+d):d;v.ie&&v.win&&4!=g.readyState&&(d=q.createElement("div"),c+="SWFObjectNew",d.setAttribute("id",c),g.parentNode.insertBefore(d,g),g.style.display="none",function(){4==g.readyState?g.parentNode.removeChild(g):setTimeout(arguments.callee,10)}());n(f,a,c)}}function w(f){if(v.ie&&v.win&&4!=f.readyState){var a=q.createElement("div");f.parentNode.insertBefore(a,f);a.parentNode.replaceChild(t(f),
a);f.style.display="none";(function(){4==f.readyState?f.parentNode.removeChild(f):setTimeout(arguments.callee,10)})()}else f.parentNode.replaceChild(t(f),f)}function t(f){var a=q.createElement("div");if(v.win&&v.ie)a.innerHTML=f.innerHTML;else if(f=f.getElementsByTagName("object")[0])if(f=f.childNodes)for(var c=f.length,d=0;d<c;d++)1==f[d].nodeType&&"PARAM"==f[d].nodeName||8==f[d].nodeType||a.appendChild(f[d].cloneNode(!0));return a}function n(f,a,c){var d,g=B(c);if(v.wk&&312>v.wk)return d;if(g)if("undefined"==
typeof f.id&&(f.id=c),v.ie&&v.win){var k="",m;for(m in f)f[m]!=Object.prototype[m]&&("data"==m.toLowerCase()?a.movie=f[m]:"styleclass"==m.toLowerCase()?k+=' class="'+f[m]+'"':"classid"!=m.toLowerCase()&&(k+=" "+m+'="'+f[m]+'"'));m="";for(var h in a)a[h]!=Object.prototype[h]&&(m+='<param name="'+h+'" value="'+a[h]+'" />');g.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+k+">"+m+"</object>";O[O.length]=f.id;d=B(f.id)}else{h=q.createElement("object");h.setAttribute("type","application/x-shockwave-flash");
for(var p in f)f[p]!=Object.prototype[p]&&("styleclass"==p.toLowerCase()?h.setAttribute("class",f[p]):"classid"!=p.toLowerCase()&&h.setAttribute(p,f[p]));for(k in a)a[k]!=Object.prototype[k]&&"movie"!=k.toLowerCase()&&(f=h,m=k,p=a[k],c=q.createElement("param"),c.setAttribute("name",m),c.setAttribute("value",p),f.appendChild(c));g.parentNode.replaceChild(h,g);d=h}return d}function f(f){var a=B(f);a&&"OBJECT"==a.nodeName&&(v.ie&&v.win?(a.style.display="none",function(){if(4==a.readyState){var c=B(f);
if(c){for(var d in c)"function"==typeof c[d]&&(c[d]=null);c.parentNode.removeChild(c)}}else setTimeout(arguments.callee,10)}()):a.parentNode.removeChild(a))}function B(f){var a=null;try{a=q.getElementById(f)}catch(c){}return a}function u(f,a,c){f.attachEvent(a,c);T[T.length]=[f,a,c]}function H(f){var a=v.pv;f=f.split(".");f[0]=parseInt(f[0],10);f[1]=parseInt(f[1],10)||0;f[2]=parseInt(f[2],10)||0;return a[0]>f[0]||a[0]==f[0]&&a[1]>f[1]||a[0]==f[0]&&a[1]==f[1]&&a[2]>=f[2]?!0:!1}function F(f,a,c,d){if(!v.ie||
!v.mac){var g=q.getElementsByTagName("head")[0];g&&(c=c&&"string"==typeof c?c:"screen",d&&(ga=R=null),R&&ga==c||(d=q.createElement("style"),d.setAttribute("type","text/css"),d.setAttribute("media",c),R=g.appendChild(d),v.ie&&v.win&&"undefined"!=typeof q.styleSheets&&0<q.styleSheets.length&&(R=q.styleSheets[q.styleSheets.length-1]),ga=c),v.ie&&v.win?R&&"object"==typeof R.addRule&&R.addRule(f,a):R&&"undefined"!=typeof q.createTextNode&&R.appendChild(q.createTextNode(f+" {"+a+"}")))}}function C(f,a){if(qa){var c=
a?"visible":"hidden";U&&B(f)?B(f).style.visibility=c:F("#"+f,"visibility:"+c)}}function G(f){return null!=/[\\\"<>\.;]/.exec(f)&&"undefined"!=typeof encodeURIComponent?encodeURIComponent(f):f}var x=window,q=document,I=navigator,W=!1,Y=[function(){W?d():g()}],J=[],O=[],T=[],Z,fa,S,V,U=!1,ea=!1,R,ga,qa=!0,v=function(){var f="undefined"!=typeof q.getElementById&&"undefined"!=typeof q.getElementsByTagName&&"undefined"!=typeof q.createElement,a=I.userAgent.toLowerCase(),c=I.platform.toLowerCase(),d=c?
/win/.test(c):/win/.test(a),c=c?/mac/.test(c):/mac/.test(a),a=/webkit/.test(a)?parseFloat(a.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,g=!+"\v1",k=[0,0,0],m=null;if("undefined"!=typeof I.plugins&&"object"==typeof I.plugins["Shockwave Flash"])!(m=I.plugins["Shockwave Flash"].description)||"undefined"!=typeof I.mimeTypes&&I.mimeTypes["application/x-shockwave-flash"]&&!I.mimeTypes["application/x-shockwave-flash"].enabledPlugin||(W=!0,g=!1,m=m.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),k[0]=parseInt(m.replace(/^(.*)\..*$/,
"$1"),10),k[1]=parseInt(m.replace(/^.*\.(.*)\s.*$/,"$1"),10),k[2]=/[a-zA-Z]/.test(m)?parseInt(m.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if("undefined"!=typeof x.ActiveXObject)try{if(m=(new ActiveXObject("ShockwaveFlash.ShockwaveFlash")).GetVariable("$version"))g=!0,m=m.split(" ")[1].split(","),k=[parseInt(m[0],10),parseInt(m[1],10),parseInt(m[2],10)]}catch(h){}return{w3:f,pv:k,wk:a,ie:g,win:d,mac:c}}();(function(){v.w3&&(("undefined"!=typeof q.readyState&&"complete"==q.readyState||"undefined"==
typeof q.readyState&&(q.getElementsByTagName("body")[0]||q.body))&&a(),U||("undefined"!=typeof q.addEventListener&&q.addEventListener("DOMContentLoaded",a,!1),v.ie&&v.win&&(q.attachEvent("onreadystatechange",function(){"complete"==q.readyState&&(q.detachEvent("onreadystatechange",arguments.callee),a())}),x==top&&function(){if(!U){try{q.documentElement.doScroll("left")}catch(f){setTimeout(arguments.callee,0);return}a()}}()),v.wk&&function(){U||(/loaded|complete/.test(q.readyState)?a():setTimeout(arguments.callee,
0))}(),c(a)))})();(function(){v.ie&&v.win&&window.attachEvent("onunload",function(){for(var a=T.length,c=0;c<a;c++)T[c][0].detachEvent(T[c][1],T[c][2]);a=O.length;for(c=0;c<a;c++)f(O[c]);for(var d in v)v[d]=null;v=null;for(var g in h.swfobject)h.swfobject[g]=null;h.swfobject=null})})();return{registerObject:function(f,a,c,d){if(v.w3&&f&&a){var g={};g.id=f;g.swfVersion=a;g.expressInstall=c;g.callbackFn=d;J[J.length]=g;C(f,!1)}else d&&d({success:!1,id:f})},getObjectById:function(f){if(v.w3)return k(f)},
embedSWF:function(f,a,c,d,g,k,h,t,w,q){var F={success:!1,id:a};v.w3&&!(v.wk&&312>v.wk)&&f&&a&&c&&d&&g?(C(a,!1),l(function(){c+="";d+="";var l={};if(w&&"object"===typeof w)for(var x in w)l[x]=w[x];l.data=f;l.width=c;l.height=d;x={};if(t&&"object"===typeof t)for(var u in t)x[u]=t[u];if(h&&"object"===typeof h)for(var G in h)x.flashvars="undefined"!=typeof x.flashvars?x.flashvars+("&"+G+"="+h[G]):G+"="+h[G];if(H(g))u=n(l,x,a),l.id==a&&C(a,!0),F.success=!0,F.ref=u;else{if(k&&m()){l.data=k;p(l,x,a,q);return}C(a,
!0)}q&&q(F)})):q&&q(F)},switchOffAutoHideShow:function(){qa=!1},ua:v,getFlashPlayerVersion:function(){return{major:v.pv[0],minor:v.pv[1],release:v.pv[2]}},hasFlashPlayerVersion:H,createSWF:function(f,a,c){if(v.w3)return n(f,a,c)},showExpressInstall:function(f,a,c,d){v.w3&&m()&&p(f,a,c,d)},removeSWF:function(a){v.w3&&f(a)},createCSS:function(f,a,c,d){v.w3&&F(f,a,c,d)},addDomLoadEvent:l,addLoadEvent:c,getQueryParamValue:function(f){var a=q.location.search||q.location.hash;if(a){/\?/.test(a)&&(a=a.split("?")[1]);
if(null==f)return G(a);for(var a=a.split("&"),c=0;c<a.length;c++)if(a[c].substring(0,a[c].indexOf("="))==f)return G(a[c].substring(a[c].indexOf("=")+1))}return""},expressInstallCallback:function(){if(ea){var f=B("SWFObjectExprInst");f&&Z&&(f.parentNode.replaceChild(Z,f),fa&&(C(fa,!0),v.ie&&v.win&&(Z.style.display="block")),S&&S(V));ea=!1}}}}()}catch(a){}return h}(CEDATO_SWF||{}),CEDATO_DEVICE=function(h){h.getDeviceInfo=function(){var a={os:"",osv:"0",make:"",model:"",mobile:!1},h=navigator.userAgent,
c;if(/iPod/i.test(h))a.os="iOS",a.osv=(h.match(/\b[0-9]+_[0-9]+(?:_[0-9]+)?\b/)||[""])[0].replace(/_/g,"."),a.make="Apple",a.model="iPod",a.mobile=!0;else if(/iPhone/i.test(h))a.os="iOS",a.osv=(h.match(/\b[0-9]+_[0-9]+(?:_[0-9]+)?\b/)||[""])[0].replace(/_/g,"."),a.make="Apple",a.model="iPhone",a.mobile=!0;else if(/iPad/i.test(h))a.os="iOS",a.osv=(h.match(/\b[0-9]+_[0-9]+(?:_[0-9]+)?\b/)||[""])[0].replace(/_/g,"."),a.make="Apple",a.model="iPad",a.mobile=!0;else if(/Android/i.test(h)){if(a.os="Android",
a.mobile=!0,c=/\Android.([\d\.]+).*;\s(\w*;\s)?(.*)\sBuild.*\)/i,c=c.exec(h)){a.osv=c[1]||"0";var d=c[3]||"";/HTC/i.test(d)?(a.make="HTC",c=/HTC\s(.*)/i,c=c.exec(d),a.model=c?c[1]:""):/ASUS/i.test(d)?(a.make="ASUS",c=/ASUS\s(.*)/i,c=c.exec(d),a.model=c?c[1]:""):/ALCATEL/i.test(d)?(a.make="ALCATEL",c=/ALCATEL\s(.*)/i,c=c.exec(d),a.model=c?c[1]:""):/BLU/i.test(d)?(a.make="BLU",c=/BLU\s(.*)/i,c=c.exec(d),a.model=c?c[1]:""):/ME17\d/i.test(d)?(a.make="ASUS",a.model=d):/Nexus/i.test(d)?(a.make="Google",
a.model=d):/Lenovo/i.test(d)?a.make="Lenovo":/IdeaTab/i.test(d)?(a.make="Lenovo",a.model=d):/Huawei/i.test(h)?(a.make="Huawei",a.model=d):/SGP\d/i.test(d)?(a.make="Sony",a.model=d):/LT[1-9]\d/i.test(d)?(a.make="Sony",a.model=d):/HP/i.test(d)?(a.make="HP",c=/HP\s(.*)/i,c=c.exec(d),a.model=c?c[1]:""):/A1-/i.test(d)||/B11-/i.test(d)?(a.make="Acer",a.model=d):/GT-/i.test(d)?(a.make="Samsung",c=/(GT-.*)/i,c=c.exec(d),a.model=c?c[1]:""):/SM-/i.test(d)?(a.make="Samsung",c=/(SM-.*)/i,c=c.exec(d),a.model=
c?c[1]:""):/SPH-/i.test(d)?(a.make="Samsung",c=/(SPH-.*)/i,c=c.exec(d),a.model=c?c[1]:""):/SCH-/i.test(d)?(a.make="Samsung",c=/(SCH-.*)/i,c=c.exec(d),a.model=c?c[1]:""):/SGH-/i.test(d)?(a.make="Samsung",c=/(SGH-.*)/i,c=c.exec(d),a.model=c?c[1]:""):/DROID/i.test(d)?(a.make="Motorola",c=/(DROID.*)/i,c=c.exec(d),a.model=c?c[1]:""):/XT/i.test(d)?(a.make="Motorola",c=/(XT.*)/i,c=c.exec(d),a.model=c?c[1]:""):/LG-/i.test(d)?(a.make="LG",c=/(LG-.*)/i,c=c.exec(d),a.model=c?c[1]:""):/VS/i.test(d)?(a.make="LG",
c=/(VS.*)/i,c=c.exec(d),a.model=c?c[1]:""):/Z[1-9]/i.test(d)?(a.make="ZTE",c=/(Z[1-9].*)/i,c=c.exec(d),a.model=c?c[1]:""):/NX[1-9]/i.test(d)?(a.make="NEXTBOOK",c=/(NX[1-9].*)/i,c=c.exec(d),a.model=c?c[1]:""):/C5[1-9]/i.test(d)?(a.make="Kyocera",c=/(C5[1-9].*)/i,c=c.exec(d),a.model=c?c[1]:""):a.model=d}}else/Windows.Phone/i.test(h)||/WPDesktop/i.test(h)?(a.os="WindowsPhone",a.osv=(h.match(/Windows.Phone\s([0-9]+\.[0-9])/)||[""])[1]||8,a.mobile=!0,/NOKIA/i.test(h)&&(a.make="Nokia",c=/NOKIA;\s(.*?)(;|\))/i,
c=c.exec(h),a.model=c?c[1]:"")):/BlackBerry/i.test(h)||navigator.userAgent.match(/BB10/i)?(a.os="BlackBerry",c=0<=h.indexOf("Version/")?/Version\/(.*?)\s/i:/BlackBerry.*\/(.*?)\s/i,c=c.exec(h),a.osv=c?c[1]:"",a.mobile=!0):/Windows/i.test(h)?(a.os="Windows",c=/Windows\sNT\s(.*?)(;|\)|\s)/i,c=c.exec(h),a.osv=c?c[1]:""):/Mac\sOS/i.test(h)&&(a.os="MacOS",c=/Mac\sOS\sX\s(.*?)(;|\)|\s)/i,c=c.exec(h),a.osv=c?c[1]:"");return a};return h}(CEDATO_DEVICE||{}),CEDATO_BROWSER=function(h){h.msie=function(){var a=
window.navigator.userAgent,c=a.indexOf("MSIE "),d=a.indexOf("Trident/"),g=a.indexOf("Edge/"),h=null;0<c?h=parseInt(a.split("MSIE")[1]):0<d?h=11:0<g&&(h=12);return h?{version:h}:!1}();h.oldIE=h.msie&&10>h.msie.version;h.supportsVideo=function(){var a=!1;try{var c=document.createElement("video");c.volume=.5;a=!!c.canPlayType}catch(d){a=!1}return a};var a=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},
function(){return new ActiveXObject("Microsoft.XMLHTTP")}];h.createXMLHTTPObject=function(){var h=!1,c;for(c=0;c<a.length;c++){try{h=a[c]()}catch(d){continue}break}return h};h.parseTextToXML=function(a){return(window.DOMParser?function(a){return(new window.DOMParser).parseFromString(a,"text/xml")}:"undefined"!==typeof window.ActiveXObject&&new window.ActiveXObject("Microsoft.XMLDOM")?function(a){var d=new window.ActiveXObject("Microsoft.XMLDOM");d.async="false";d.loadXML(a);return d}:function(){return null})(a)};
h.json_decode=function(a){return window.JSON&&JSON.parse?JSON.parse(a):eval("("+a+")")};return h}(CEDATO_BROWSER||{}),CEDATO_URLUTILS=function(h){h.ScriptPath=function(){try{throw Error();}catch(g){var a=g.stack.split("\n"),h=0,c;for(c in a)if(a[c].match(/http[s]?:\/\//)){h=+c+1;break}var d;a[h+1]&&(d=a[h+1].match(/((http[s]?:\/\/.+\/)([^\/]+\.js).*?):/));d&&d[1]||(d=a[h].match(/((http[s]?:\/\/.+\/)([^\/]+\.js).*?):/));a="";d[1]&&(a=d[1]);a&&":"===a.substr(a.length-1)&&(a=a.substring(0,a.length-1));
return a}};h.getProtocol=function(a){try{if(a&&0===a.toLowerCase().indexOf("https")||document&&document.location&&0===document.location.protocol.indexOf("https")||window.location&&0===window.location.protocol.indexOf("https")||location&&0===location.protocol.indexOf("https"))return"https:"}catch(h){}return"http:"};h.getDetectedDomain=function(){var a="";try{if(parent!==window){if(a=document.referrer,window.location.ancestorOrigins){var h=window.location.ancestorOrigins[window.location.ancestorOrigins.length-
1];h&&a.substring(0,h.length)!=h&&(a=h)}}else a=top.location.href}catch(c){}return a};h.buildUrl=function(a,h){var c=[],d;for(d in h)if(h.hasOwnProperty(d)){var g=String(h[d]);if("extra"===d)for(var g=g.split("&"),k=0,m=g.length;k<m;k++)c.push(g[k]);else d&&d.length&&g.length?c.push([d,encodeURIComponent(g)].join("=")):d&&d.length?c.push(d+"="):g&&g.length&&c.push(g)}return[a,c.join("&")].join("")};return h}(CEDATO_URLUTILS||{}),CEDATO_HTTP=function(h){h.CORS_W_CREDENTIALS=1;h.CORS_FLASH=2;h.CORS_WO_CREDENTIALS=
3;h.CORS_FLASH_AND_WO_CREDENTIALS=4;h.USE_JSONP_AND_AJAX=5;h.USE_AJAX=6;h.USE_JSONP=7;h.ERR_NO_XDOMAIN_REQUEST=1;h.ERR_OPEN=2;h.ERR_SEND=3;h.ERR_AFTER_SEND=4;h.ERR_TIMEOUT=5;h.ERR_UNKNOWN=6;h.ERR_FLOAD_FAILED=7;h.ERR_FLOAD_ERROR=8;h.ERR_EXCEPTION_HEADER=9;h.ERR_BAD_RESPONSE=10;h.FetchVastService={banned:[],cache:{},get:function(a){function h(a,c){CEDATO_HTTP.ajax({url:k,withCredentials:a,onLoad:function(){if(400<=this.status)return d.onNonRetry(CEDATO_HTTP.ERR_BAD_RESPONSE,{message:""});if(d.exceptionHeaders.length){for(var a=
[],f=(this.getAllResponseHeaders()||"").split("\n"),c=0,h=d.exceptionHeaders.length;c<h;c++)for(var m=0,p=f.length;m<p;m++)0===f[m].toLowerCase().indexOf(d.exceptionHeaders[c].toLowerCase())&&a.push(f[m]);return d.onNonRetry(CEDATO_HTTP.ERR_EXCEPTION_HEADER,{message:a.join("\n")})}try{return a=!1,-1!=this.responseText.indexOf("/vlog?vpaidEvent")&&(a=!0,g.players.logVastResponse=!0),g.players.logVastResponse&&(g.debugLog(g.players,"vastId "+d.vastId+" - xhr response to url "+k,!1),g.debugLog(g.players,
this.responseText,!1)),a&&g.vastError(g.players,d.vastId,3,"lior test",null,g.playerData),"undefined"===typeof this.responseXML&&this.responseText&&(this.responseXML=CEDATO_BROWSER.parseTextToXML(this.responseText)),g.cb(null,this.responseXML,{players:g.players,playerData:g.playerData,urlhandler:g.vastURLHandler,withCredentials:this.withCredentials})}catch(t){return-1==t.message.indexOf("cross-origin")?g.vastError(g.players,d.vastId,3,"xhr onload JS exception: ",t,g.playerData):g.players.logVastResponse&&
g.debugLog(g.players,"vastId "+d.vastId+" - xhr response to url "+k+" gave cross origin error",!1),g.cb(null,null,{players:g.players,playerData:g.playerData,urlhandler:g.vastURLHandler,withCredentials:this.withCredentials})}},onError:function(a,f){switch(a){case CEDATO_HTTP.ERR_NO_XDOMAIN_REQUEST:g.debugLog(g.players,"vastId "+d.vastId+" - old ie but no XDomainRequest",!1);c();break;case CEDATO_HTTP.ERR_OPEN:g.debugLog(g.players,"vastId "+d.vastId+" - xhr open failed with error: "+f.message,!1);c();
break;case CEDATO_HTTP.ERR_SEND:g.debugLog(g.players,"vastId "+d.vastId+" - xhr send failed with error: "+f.message,!1);c();break;case CEDATO_HTTP.ERR_AFTER_SEND:c();break;case CEDATO_HTTP.ERR_TIMEOUT:g.debugLog(g.players,"vastId "+d.vastId+" - timeout error, url: "+k,!1);g.cb(null,null,{players:g.players,playerData:g.playerData,urlhandler:g.vastURLHandler});break;case CEDATO_HTTP.ERR_UNKNOWN:if(-1==f.message.indexOf("101")&&2153644038!=f.result)return g.vastError(g.players,d.vastId,3,"vastURLHandler JS exception on stage ???: ",
f,g.playerData),g.cb(null,null,{players:g.players,playerData:g.playerData,urlhandler:g.vastURLHandler,withCredentials:this.withCredentials});g.debugLog(g.players,"vastId "+d.vastId+" - xhr response gave cross origin exception",!1);c()}},externals:g});g.players.logVastResponse&&g.debugLog(g.players,"vastId "+d.vastId+" - xhr request send called url "+k,!1)}function c(){CEDATO_HTTP.flashAjax({url:k,onLoad:function(){},onError:function(a,c){switch(a){case CEDATO_HTTP.ERR_FLOAD_FAILED:g.debugLog(g.players,
"vastId "+g.playerData.vastId+" - fload failed - vpw disappeared: "+c.message,!1);g.playerData.tlvState=10;g.playerData.errorCount+=1;g.vpwException(g.players,g.playerData,"fload");break;case CEDATO_HTTP.ERR_FLOAD_ERROR:g.debugLog(g.players,"vastId "+g.playerData.vastId+" - fload returned error: "+c.message,!1),g.cb(null,null,{players:g.players,playerData:g.playerData,urlhandler:g.vastURLHandler})}},externals:g})}var d=CEDATO_UTILS.extend({vastId:null,url:"",flashSupport:!1,flashProxyObject:null,
corsSupport:0,exceptionHeaders:[],onSuccess:function(){},onFailure:function(){},onNonRetry:function(){},externals:{players:{},playerData:{},fixURLPrm:function(){},debugLog:function(){},vastError:function(){},cb:function(){},vastURLHandler:null,vpwException:function(){}}},a),g=d.externals;g.players.logVastResponse&&g.debugLog(g.players,"vastId "+d.vastId+" - xhr request url "+d.url,!1);a=d.url;if(-1!==a.indexOf("noad.xml"))g.cb(null,null,m);else if(a=g.fixURLPrm(g.players.protocol,a)){var k=a;CEDATO_BROWSER.oldIE&&
-1==a.indexOf(g.players.protocol)&&(k=g.players.protocol+a.substr(a.indexOf("/")),g.debugLog(g.players,"vastId "+d.vastId+" - old ie and different scheme, adjusting url to "+k,!1));var m={players:g.players,playerData:g.playerData,urlhandler:g.vastURLHandler};switch(d.corsSupport){case CEDATO_HTTP.CORS_FLASH:c();break;case CEDATO_HTTP.CORS_W_CREDENTIALS:case CEDATO_HTTP.CORS_WO_CREDENTIALS:var p=d.corsSupport===CEDATO_HTTP.CORS_W_CREDENTIALS;h(p,function(){g.debugLog(g.players,"vastId "+d.vastId+" - xhr error, fload not available",
!1);p?(g.debugLog(g.players,"vastId "+d.vastId+" - xhr error, retrying without credentials, url: "+k,!1),CEDATO_HTTP.FetchVastService.get(CEDATO_UTILS.extend(d,{corsSupport:CEDATO_HTTP.CORS_WO_CREDENTIALS}))):g.cb(null,null,m)});break;case CEDATO_HTTP.CORS_FLASH_AND_WO_CREDENTIALS:break;default:p=d.corsSupport!==CEDATO_HTTP.CORS_FLASH_AND_WO_CREDENTIALS,h(p,function(){d.flashSupport?c():p?(g.debugLog(g.players,"vastId "+d.vastId+" - xhr error, retrying without credentials, url: "+k,!1),CEDATO_HTTP.FetchVastService.get(CEDATO_UTILS.extend(d,
{corsSupport:CEDATO_HTTP.CORS_WO_CREDENTIALS}))):g.cb(null,null,m)})}}else g.vastError(g.players,d.vastId,3,"strange url: "+d.url,!1,g.playerData,!1,!1,"strange url"),g.cb(null,null,m)}};h.ajax=function(a){var h=CEDATO_UTILS.extend({url:"",withCredentials:!1,method:"GET",postData:null,timeout:0,onLoad:function(){},onError:function(){}},a);try{var c=!1,d=CEDATO_BROWSER.createXMLHTTPObject();if(CEDATO_BROWSER.oldIE&&!d){if(!window.XDomainRequest)return h.onError.call(d,CEDATO_HTTP.ERR_NO_XDOMAIN_REQUEST),
null;d=new XDomainRequest;d.onprogress=function(){}}try{d.open(h.method,h.url)}catch(m){return h.onError.call(d,CEDATO_HTTP.ERR_OPEN,m),null}"withCredentials"in d&&(d.withCredentials=h.withCredentials);"timeout"in d&&(d.timeout=h.timeout);d.onload=function(){c||(window.XDomainRequest&&d instanceof window.XDomainRequest&&(d.status=200,d.getResponseHeader=function(){return null},d.getAllResponseHeaders=function(){return null}),h.onLoad.call(d))};d.onerror=function(a){c=!0;h.onError.call(d,CEDATO_HTTP.ERR_AFTER_SEND,
{result:-1,message:""})};var g=null;a=[];if(h.postData){if("string"==typeof h.postData)g=h.postData;else{for(var k in h.postData)h.postData.hasOwnProperty(k)&&a.push([k,h.postData[k]].join("="));g=a.join("&")}d.setRequestHeader&&d.setRequestHeader("Content-type","application/x-www-form-urlencoded")}if(CEDATO_BROWSER.oldIE)setTimeout(function(){try{d.send(g)}catch(a){h.onError.call(d,CEDATO_HTTP.ERR_SEND,a)}},0);else try{d.send(g)}catch(m){h.onError.call(d,CEDATO_HTTP.ERR_SEND,m)}}catch(m){h.onError.call(d,
CEDATO_HTTP.ERR_UNKNOWN,m)}return d};h.flashAjax=function(a){function h(){if(2!==d.playerData.vpwLoaded)setTimeout(h,500);else{var a;try{a=d.playerData.flashElement[d.playerData.flashEICallbacks]("fLoad",c.url,c.timeout,d.players.playersStorageName,d.playerData.uniqId,g,d.players.floadSuccessCallbackFuncName,d.players.floadFailureCallbackFuncName)}catch(m){c.onError(CEDATO_HTTP.ERR_FLOAD_FAILED,m)}if(""!==a)c.onError(CEDATO_HTTP.ERR_FLOAD_ERROR,{message:a})}}var c=CEDATO_UTILS.extend({url:"",timeout:2E4,
onLoad:function(){},onError:function(){},externals:{players:{},playerData:{},cb:function(){}}},a),d=c.externals,g=d.playerData.floadCbs.length;d.playerData.floadCbs.push(d.cb);h()};h.JSONP=function(a){var h=CEDATO_UTILS.extend({url:"",onLoad:function(a){},onError:function(){}},a);a="_"+(new Date).getTime();var c=document.createElement("script"),d=document.getElementsByTagName("head")[0]||document.documentElement;window[a]=function(a){h.onLoad(a)};var g=h.url,k=g.indexOf("?");-1==k?g+="?":k!==g.length-
1&&(g+="&");c.src=g+"callback="+a;CEDATO_BROWSER.msie&&9>CEDATO_BROWSER.msie.version?c.onreadystatechange=function(a){if(/loaded|complete/.test(c.readyState)&&(a=c.readyState,c.children,"loaded"==a&&"loading"==c.readyState))h.onError()}:(c.onerror=function(){h.onError()},d.appendChild(c));return{script:c,uid:a}};h.GetPlayerVast=function(a){function h(a){g.push(a);g.length==m&&(2===m?!g[0]&&!g[1]&&0<c.retries:!g[0]&&0<c.retries)&&(c.retries--,setTimeout(function(){CEDATO_HTTP.GetPlayerVast(c)},c.retryInterval))}
var c=CEDATO_UTILS.extend({url:"",success:function(a,c,d){},preferredMethod:CEDATO_HTTP.USE_JSONP_AND_AJAX,retryInterval:1E4,retries:2,externals:{players:{},debugLog:function(){},playerError:function(){}}},a),d=c.externals,g=[],k=!1,m=c.preferredMethod===CEDATO_HTTP.USE_JSONP_AND_AJAX?2:1;d.debugLog(d.players,"gpv url: "+c.url,!1);d.players.gpvAttempt++;if(c.preferredMethod===CEDATO_HTTP.USE_AJAX||c.preferredMethod===CEDATO_HTTP.USE_JSONP_AND_AJAX)d.players.gsvXHR=CEDATO_HTTP.ajax({url:c.url,method:"get",
onLoad:function(){try{d.debugLog(d.players,"sp callback from "+c.url,!1);var a=CEDATO_BROWSER.json_decode(this.responseText);k||(k=!0,c.success(d.players,a,CEDATO_HTTP.USE_AJAX));h(!0)}catch(g){h(!1),g.message&&-1===g.message.indexOf("Unexpected EOF")&&d.playerError(d.players,3,"spcallback gave JS exception: "+g.message)}},onError:function(a){h(!1)}});c.preferredMethod!==CEDATO_HTTP.USE_JSONP&&c.preferredMethod!==CEDATO_HTTP.USE_JSONP_AND_AJAX||CEDATO_HTTP.JSONP({url:c.url,onLoad:function(a){k||(k=
!0,c.success(d.players,a,CEDATO_HTTP.USE_JSONP));h(!0)},onError:function(){h(!1)}})};h.sendPixel=function(a,h){CEDATO_HTTP.ajax({url:a,postData:h,method:h?"post":"get"})};return h}(CEDATO_HTTP||{}),CEDATO_UTILS=function(h){h.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)};h.extend=function(a,h){for(var c in h)h.hasOwnProperty(c)&&(a[c]=h[c]);return a};return h}(CEDATO_UTILS||{}),CEDATO_CONTENT=function(h){var a=function(a){function c(){h.video&&h.video.parentNode&&
h.video.parentNode.removeChild(h.video);var a=m.customCreateVideoElement?m.customCreateVideoElement():document.createElement("video");a.src=h.currentContentUrl;a.controls=h.controlBar;a.autoplay=h.autoPlay;a.loop=!1;a.preload="auto";a.volume=h.volume;a.setAttribute("style","height:100% !important;display:block;");a.style.width="100%";a.style.position="relative";a.style.zIndex="1";a.addEventListener("ended",function(d){p&&a.play();if(!w){d=0;for(var f=h.callbacks.endContentVideo.length;d<f;d++)h.callbacks.endContentVideo[d].call(h);
w=!0}p||(h.currentContentUrl=h.contentUrlList.shift(),h.loop&&h.contentUrlList.push(h.currentContentUrl),h.currentContentUrl?c():"")},!1);a.addEventListener("error",function(a){var f="";switch(a.target.error.code){case a.target.error.MEDIA_ERR_ABORTED:f="You aborted the video playback.";break;case a.target.error.MEDIA_ERR_NETWORK:f="A network error caused the video download to fail part-way.";break;case a.target.error.MEDIA_ERR_DECODE:f="The video playback was aborted due to a corruption problem or because the video used features your browser did not support.";
break;case a.target.error.MEDIA_ERR_SRC_NOT_SUPPORTED:f="The video could not be loaded, either because the server or network failed or because the format is not supported.";break;default:f="An unknown error occurred."}m.onError(a,f)},!1);a.addEventListener("canplay",function(c){a.canvas&&(a.canvas.style.width="100%",a.canvas.style.height="100%")});h.video=a;h.container?h.container.appendChild(a):"";h.autoPlay||h.controlBar||d()}function d(){var a=document.createElement("div");a.style.display="table";
a.style.position="absolute";a.style.left="0";a.style.top="0";a.style.width="100%";a.style.height="100%";a.style.zIndex="2";a.style.background="#000";a.style.cursor="pointer";var c=document.createElement("div");c.style.display="table-cell";c.style.verticalAlign="middle";c.style.textAlign="center";var f=new Image;f.src=m.playButtonUrl;f.style.width="auto";f.style.maxHeight=Math.round(.3*h.container.clientHeight)+"px";c.appendChild(f);a.appendChild(c);h.playOverlay=a;h.container?h.container.appendChild(a):
"";a.onclick=function(f){h.playOverlay&&h.playOverlay.parentNode?h.playOverlay.parentNode.removeChild(h.playOverlay):"";h.playOverlay=null;h.playContent();f.stopPropagation();f=0;for(var a=h.callbacks.userStartPlaying.length;f<a;f++)h.callbacks.userStartPlaying[f].call(h)}}function g(){var a=document.createElement("div");a.style.width="100%";a.style.height="100%";a.style.background="url("+h.bannerUrl+") no-repeat center center";a.style.position="absolute";a.style.left="0";a.style.top="0";h.bannerOverlay=
a;h.container?h.container.appendChild(a):"";h.autoPlay||d()}var h=this,m=CEDATO_UTILS.extend({parentDiv:null,contentUrl:null,bannerUrl:"spinner.gif",playButtonUrl:"play_button_gr.png",clickUrl:"",autoPlay:!0,volume:1,loop:!0,controlBar:!1,videoSupport:!0,customCreateVideoElement:null,userStartPlayingCallback:function(a){},endContentVideoCallback:function(a){},userClick:function(a){},onError:function(a){}},a);this.parentDiv=m.parentDiv;this.contentUrl=m.contentUrl;this.contentUrlList=CEDATO_UTILS.isArray(this.contentUrl)?
this.contentUrl.slice():this.contentUrl?[this.contentUrl]:[];this.currentContentUrl=this.contentUrlList.length?this.contentUrlList.shift():null;this.bannerUrl=m.bannerUrl;this.clickUrl=m.clickUrl;this.autoPlay=m.autoPlay;this.volume=1*m.volume;this.loop=m.loop;this.controlBar=m.controlBar;this.videoSupport=m.videoSupport;var p=!1;this.callbacks={userStartPlaying:[m.userStartPlayingCallback],endContentVideo:[m.endContentVideoCallback]};this.loop&&(this.contentUrlList.push(this.currentContentUrl),p=
1==h.contentUrlList.length);this.container=document.createElement("div");this.container.style.width="100%";this.container.style.height="100%";this.container.style.top="0";this.container.style.left="0";this.container.style.position="absolute";this.container.style.background="#000";this.container.style.zIndex="10001";h.parentDiv?h.parentDiv.appendChild(this.container):"";this.playOverlay=this.video=this.bannerOverlay=null;var w=!1;h.currentContentUrl&&this.videoSupport?c():g();this.container.onclick=
function(a){h.clickUrl&&!h.playOverlay&&(m.userClick(),window.open(h.clickUrl,"_blank"))}};a.prototype.playContent=function(){!this.video||this.video.paused&&this.playOverlay||this.video.play()};a.prototype.pauseContent=function(){this.video&&this.video.pause()};a.prototype.showContent=function(){this.container&&(this.container.style.zIndex="10001",this.container.style.display="",this.playContent())};a.prototype.hideContent=function(){this.container&&(this.container.style.zIndex="1",this.container.style.display=
"none",this.pauseContent())};a.prototype.isVisible=function(){return this.container?"10001"===this.container.style.zIndex&&""===this.container.style.display:!1};a.prototype.removeContent=function(){this.container&&this.container.parentNode&&this.container.parentNode.removeChild(this.container)};a.prototype.setVolume=function(a){this.video&&(this.volume=a,this.video.volume=a)};a.prototype.addEndContentVideoCallback=function(a){this.callbacks.endContentVideo.push(a)};a.prototype.addUserStartPlayingCallback=
function(a){this.callbacks.userStartPlaying.push(a)};h.ContentUnit=a;return h}(CEDATO_CONTENT||{}),CEDATO_DETECT_UTILS=function(h){h.getStatsParam=function(a){if(a){var h="h";"https:"===a.protocol&&(h="s");var c="h";if("vpaid"===a.mode&&(c="f",a.vpaidObj))switch(a.vpaidObj.getVpaidType()){case "fl":c="f";break;case "js":c="j"}var d="d";a.info&&a.info.mobile&&(d="m");return h+c+d}};return h}(CEDATO_DETECT_UTILS||{});
(function(h){"object"===typeof eexports&&"undefined"!==typeof mmodule?mmodule.eexports=h():"function"===typeof ddefine&&ddefine.amd?ddefine([],h):("undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:this).DMVAST=h()})(function(){return function a(l,c,d){function g(m,w){if(!c[m]){if(!l[m]){var t="function"==typeof rrequire&&rrequire;if(!w&&t)return t(m,!0);if(k)return k(m,!0);t=Error("Cannot find mmodule '"+m+"'");throw t.code="MODULE_NOT_FOUND",t;}t=
c[m]={eexports:{}};l[m][0].call(t.eexports,function(a){var f=l[m][1][a];return g(f?f:a)},t,t.eexports,a,l,c,d)}return c[m].eexports}for(var k="function"==typeof rrequire&&rrequire,m=0;m<d.length;m++)g(d[m]);return g}({1:[function(a,l,c){a=function(){return function(){this.errorURLTemplates=[];this.impressionURLTemplates=[];this.creatives=[]}}();this.extensions="";l.eexports=a},{}],2:[function(a,l,c){var d,g;d=a("./parser.coffee");g=a("./util.coffee");a=function(){function a(){}a.cappingFreeLunch=
0;a.cappingMinimumTimeInterval=0;a.options={withCredentials:!1,timeout:0};a.get=function(a,g,k){var t,n,f;n=+new Date;t=c.extend=function(f,a){var c,d;for(c in a)d=a[c],f[c]=d;return f};k||("function"===typeof g&&(k=g),f={});f=t(this.options,g);this.totalCallsTimeout<n?(this.totalCalls=1,this.totalCallsTimeout=n+36E5):this.totalCalls++;if(this.cappingFreeLunch>=this.totalCalls)k(null);else if(n-this.lastSuccessfullAd<this.cappingMinimumTimeInterval)k(null);else return d.parse(a,f,function(f){return k(f)})};
(function(){var c,d;d=g.storage;c=Object.defineProperty;["lastSuccessfullAd","totalCalls","totalCallsTimeout"].forEach(function(g){c(a,g,{get:function(){return d.getItem(g)},set:function(a){return d.setItem(g,a)},configurable:!1,enumerable:!0})});null==a.totalCalls&&(a.totalCalls=0);null==a.totalCallsTimeout&&(a.totalCallsTimeout=0)})();return a}();l.eexports=a},{"./parser.coffee":7,"./util.coffee":13}],3:[function(a,l,c){a=function(){return function(){this.id=null;this.height=this.width=0;this.companionClickThroughURLTemplate=
this.staticResource=this.type=null;this.trackingEvents={}}}();l.eexports=a},{}],4:[function(a,l,c){var d,g={}.hasOwnProperty,k=function(a,c){function d(){this.constructor=a}for(var k in c)g.call(c,k)&&(a[k]=c[k]);d.prototype=c.prototype;a.prototype=new d;a.__super__=c.prototype;return a};d=function(){return function(){this.trackingEvents={}}}();a=function(a){function c(){c.__super__.constructor.apply(this,arguments);this.type="linear";this.duration=0;this.skipDelay=null;this.mediaFiles=[];this.videoClickThroughURLTemplate=
null;this.videoClickTrackingURLTemplates=[]}k(c,a);return c}(d);this.adParameters="";c=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}k(c,a);return c}(d);d=function(a){function c(){this.type="companion";this.variations=[];this.videoClickTrackingURLTemplates=[]}k(c,a);return c}(d);l.eexports={VASTCreativeLinear:a,VASTCreativeNonLinear:c,VASTCreativeCompanion:d}},{}],5:[function(a,l,c){l.eexports={client:a("./client.coffee"),tracker:a("./tracker.coffee"),parser:a("./parser.coffee"),
util:a("./util.coffee")}},{"./client.coffee":2,"./parser.coffee":7,"./tracker.coffee":9,"./util.coffee":13}],6:[function(a,l,c){a=function(){return function(){this.fileURL=this.id=null;this.deliveryType="progressive";this.codec=this.mimeType=null;this.height=this.width=this.maxBitrate=this.minBitrate=this.bitrate=0;this.maintainAspectRatio=this.scalable=this.apiFramework=null}}();l.eexports=a},{}],7:[function(a,l,c){var d,g,k,m,p,w,t,n,f,B=[].indexOf||function(a){for(var f=0,c=this.length;f<c;f++)if(f in
this&&this[f]===a)return f;return-1};g=a("./urlhandler.coffee");n=a("./response.coffee");k=a("./ad.coffee");f=a("./util.coffee");w=a("./creative.coffee").VASTCreativeLinear;p=a("./creative.coffee").VASTCreativeCompanion;t=a("./mediafile.coffee");m=a("./companionad.coffee");d=a("events").EventEmitter;a=function(){function a(){}var c;c=[];a.addURLTemplateFilter=function(a){"function"===typeof a&&c.push(a)};a.removeURLTemplateFilter=function(){return c.pop()};a.countURLTemplateFilters=function(){return c.length};
a.clearUrlTemplateFilters=function(){return c=[]};a.parse=function(a,f,c){c||("function"===typeof f&&(c=f),f={});return this._parse(a,null,f,function(a,f){return c(f)})};a.vent=new d;a.track=function(a,c){this.vent.emit("VAST-error",c);return f.track(a,c)};a.on=function(a,f){return this.vent.on(a,f)};a.once=function(a,f){return this.vent.once(a,f)};a._parse=function(a,f,d,m){var k,p,w,t=this;m||("function"===typeof d&&(m=d),d={});p=0;for(w=c.length;p<w;p++)k=c[p],a=k(a);null==f&&(f=[]);f.push(a);
return g.get(a,d,function(c,d,g){var k,p,q,w,l,G;if(null!=c)return m(c);q=new n;if(null==(null!=d?d.documentElement:void 0)||"VAST"!==d.documentElement.nodeName)return m();G=d.documentElement.childNodes;w=0;for(l=G.length;w<l;w++)c=G[w],"Error"===c.nodeName&&q.errorURLTemplates.push(t.parseNodeText(c));l=d.documentElement.childNodes;d=0;for(w=l.length;d<w;d++)c=l[d],"Ad"===c.nodeName&&(k=t.parseAdElement(c),null!=k?q.ads.push(k):t.track(q.errorURLTemplates,{ERRORCODE:101}));p=function(a){var f,c,
d;null==a&&(a=!1);if(q){d=q.ads;f=0;for(c=d.length;f<c;f++)if(k=d[f],null!=k.nextWrapperURL)return;0===q.ads.length&&(a||t.track(q.errorURLTemplates,{ERRORCODE:303}),q=null);return m(null,q)}};for(c=q.ads.length;c--;)k=q.ads[c],null!=k.nextWrapperURL&&function(c){var d;if(10<=f.length||(d=c.nextWrapperURL,0<=B.call(f,d)))t.track(c.errorURLTemplates,{ERRORCODE:302}),q.ads.splice(q.ads.indexOf(c),1),p();else return-1===c.nextWrapperURL.indexOf("://")&&(d=a.slice(0,a.lastIndexOf("/")),c.nextWrapperURL=
""+d+"/"+c.nextWrapperURL),t._parse(c.nextWrapperURL,f,g,function(a,f){var d,g,m,k,n,w,l,C,x,F,G,I,u,B,J;g=!1;if(null!=a)t.track(c.errorURLTemplates,{ERRORCODE:301}),q.ads.splice(q.ads.indexOf(c),1),g=!0;else if(null==f)t.track(c.errorURLTemplates,{ERRORCODE:303}),q.ads.splice(q.ads.indexOf(c),1),g=!0;else for(q.errorURLTemplates=q.errorURLTemplates.concat(f.errorURLTemplates),k=q.ads.indexOf(c),q.ads.splice(k,1),u=f.ads,l=0,C=u.length;l<C;l++){n=u[l];n.errorURLTemplates=c.errorURLTemplates.concat(n.errorURLTemplates);
n.impressionURLTemplates=c.impressionURLTemplates.concat(n.impressionURLTemplates);if(null!=c.trackingEvents)for(B=n.creatives,G=0,x=B.length;G<x;G++)if(d=B[G],"linear"===d.type)for(J=Object.keys(c.trackingEvents),I=0,F=J.length;I<F;I++)m=J[I],(w=d.trackingEvents)[m]||(w[m]=[]),d.trackingEvents[m]=d.trackingEvents[m].concat(c.trackingEvents[m]);if(null!=c.videoClickTrackingURLTemplates)for(F=n.creatives,x=0,m=F.length;x<m;x++)d=F[x],"linear"===d.type&&(d.videoClickTrackingURLTemplates=d.videoClickTrackingURLTemplates.concat(c.videoClickTrackingURLTemplates));
q.ads.splice(k,0,n)}delete c.nextWrapperURL;return p(g)})}(k);return p()})};a.childByName=function(a,f){var c,d,g,m;m=a.childNodes;d=0;for(g=m.length;d<g;d++)if(c=m[d],c.nodeName===f)return c};a.childsByName=function(a,f){var c,d,g,m,k;d=[];k=a.childNodes;g=0;for(m=k.length;g<m;g++)c=k[g],c.nodeName===f&&d.push(c);return d};a.parseAdElement=function(a){var f,c,d;d=a.childNodes;f=0;for(c=d.length;f<c;f++){a=d[f];if("Wrapper"===a.nodeName)return this.parseWrapperElement(a);if("InLine"===a.nodeName)return this.parseInLineElement(a)}};
a.parseWrapperElement=function(a){var f,c,d,g,m;f=this.parseInLineElement(a);c=this.childByName(a,"VASTAdTagURI");null!=c?f.nextWrapperURL=this.parseNodeText(c):(c=this.childByName(a,"VASTAdTagURL"),null!=c&&(f.nextWrapperURL=this.parseNodeText(this.childByName(c,"URL"))));c=null;m=f.creatives;d=0;for(g=m.length;d<g;d++)if(a=m[d],"linear"===a.type){c=a;break}null!=c&&(null!=c.trackingEvents&&(f.trackingEvents=c.trackingEvents),null!=c.videoClickTrackingURLTemplates&&(f.videoClickTrackingURLTemplates=
c.videoClickTrackingURLTemplates));if(null!=f.nextWrapperURL)return f};a.parseInLineElement=function(a){var f,c,d,g,m,p,n,w,t,l;f=new k;w=a.childNodes;a=0;for(m=w.length;a<m;a++)switch(g=w[a],g.nodeName){case "Error":this.isUrl(g)&&f.errorURLTemplates.push(this.parseNodeText(g));break;case "Extensions":f.extensions=this.parseNodeText(g);break;case "Impression":this.isUrl(g)&&f.impressionURLTemplates.push(this.parseNodeText(g));break;case "Creatives":for(t=this.childsByName(g,"Creative"),g=0,p=t.length;g<
p;g++)for(d=t[g],l=d.childNodes,d=0,n=l.length;d<n;d++)switch(c=l[d],c.nodeName){case "Linear":(c=this.parseCreativeLinearElement(c))&&f.creatives.push(c);break;case "CompanionAds":(c=this.parseCompanionAd(c))&&f.creatives.push(c)}}return f};a.parseCreativeLinearElement=function(a){var f,c,d,g,m,k,p,n,l,u;c=new w;c.duration=this.parseDuration(this.parseNodeText(this.childByName(a,"Duration")));if(-1===c.duration&&"Wrapper"!==a.parentNode.parentNode.parentNode.nodeName)return null;f=a.getAttribute("skipoffset");
null==f?c.skipDelay=null:"%"===f.charAt(f.length-1)?(f=parseInt(f,10),c.skipDelay=f/100*c.duration):c.skipDelay=this.parseDuration(f);f=this.childByName(a,"VideoClicks");if(null!=f)for(c.videoClickThroughURLTemplate=this.parseNodeText(this.childByName(f,"ClickThrough")),d=this.childsByName(f,"ClickTracking"),m=0,u=d.length;m<u;m++)f=d[m],c.videoClickTrackingURLTemplates.push(this.parseNodeText(f));f=this.childByName(a,"AdParameters");null!=f&&(c.adParameters=this.parseNodeText(f));u=this.childsByName(a,
"TrackingEvents");f=0;for(m=u.length;f<m;f++)for(d=u[f],k=this.childsByName(d,"Tracking"),l=0,g=k.length;l<g;l++)p=k[l],d=p.getAttribute("event"),p=this.parseNodeText(p),null!=d&&null!=p&&(null==(n=c.trackingEvents)[d]&&(n[d]=[]),c.trackingEvents[d].push(p));f=this.childsByName(a,"MediaFiles");a=0;for(n=f.length;a<n;a++)for(m=f[a],l=this.childsByName(m,"MediaFile"),d=0,u=l.length;d<u;d++)g=l[d],m=new t,m.id=g.getAttribute("id"),m.fileURL=this.parseNodeText(g),m.deliveryType=g.getAttribute("delivery"),
m.codec=g.getAttribute("codec"),m.mimeType=g.getAttribute("type"),m.apiFramework=g.getAttribute("apiFramework"),m.bitrate=parseInt(g.getAttribute("bitrate")||0),m.minBitrate=parseInt(g.getAttribute("minBitrate")||0),m.maxBitrate=parseInt(g.getAttribute("maxBitrate")||0),m.width=parseInt(g.getAttribute("width")||0),m.height=parseInt(g.getAttribute("height")||0),(k=g.getAttribute("scalable"))&&"string"===typeof k&&(k=k.toLowerCase(),"true"===k?m.scalable=!0:"false"===k&&(m.scalable=!1)),(g=g.getAttribute("maintainAspectRatio"))&&
"string"===typeof g&&(g=g.toLowerCase(),"true"===g?m.maintainAspectRatio=!0:"false"===g&&(m.maintainAspectRatio=!1)),c.mediaFiles.push(m);return c};a.parseCompanionAd=function(a){var f,c,d,g,k,n,w,l,t,u,B,H,S,V;c=new p;S=this.childsByName(a,"Companion");w=0;for(t=S.length;w<t;w++){f=S[w];a=new m;a.id=f.getAttribute("id")||null;a.width=f.getAttribute("width");a.height=f.getAttribute("height");d=this.childsByName(f,"HTMLResource");l=0;for(u=d.length;l<u;l++)g=d[l],a.type=g.getAttribute("creativeType")||
0,a.htmlResource=this.parseNodeText(g);d=this.childsByName(f,"IFrameResource");l=0;for(u=d.length;l<u;l++)g=d[l],a.type=g.getAttribute("creativeType")||0,a.iframeResource=this.parseNodeText(g);d=this.childsByName(f,"StaticResource");l=0;for(u=d.length;l<u;l++)g=d[l],a.type=g.getAttribute("creativeType")||0,a.staticResource=this.parseNodeText(g);u=this.childsByName(f,"TrackingEvents");l=0;for(g=u.length;l<g;l++)for(d=u[l],V=this.childsByName(d,"Tracking"),H=0,B=V.length;H<B;H++)k=V[H],d=k.getAttribute("event"),
k=this.parseNodeText(k),null!=d&&null!=k&&(null==(n=a.trackingEvents)[d]&&(n[d]=[]),a.trackingEvents[d].push(k));a.companionClickThroughURLTemplate=this.parseNodeText(this.childByName(f,"CompanionClickThrough"));c.variations.push(a)}return c};a.parseDuration=function(a){var f,c;if(null==a)return-1;f=a.split(":");if(3!==f.length)return-1;c=f[2].split(".");a=parseInt(c[0]);2===c.length&&(a+=parseFloat("0."+c[1]));c=parseInt(60*f[1]);f=parseInt(3600*f[0]);return isNaN(f||isNaN(c||isNaN(a||3600<c||60<
a)))?-1:f+c+a};a.parseNodeText=function(a){return a&&(a.textContent||a.text||"").trim()};a.isUrl=function(a){return/[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?//=]*)/i.test(this.parseNodeText(a))};return a}();l.eexports=a},{"./ad.coffee":1,"./companionad.coffee":3,"./creative.coffee":4,"./mediafile.coffee":6,"./response.coffee":8,"./urlhandler.coffee":10,"./util.coffee":13,events:14}],8:[function(a,l,c){a=function(){return function(){this.ads=[];this.errorURLTemplates=[]}}();
l.eexports=a},{}],9:[function(a,l,c){var d,g,k,m={}.hasOwnProperty,p=function(a,c){function d(){this.constructor=a}for(var f in c)m.call(c,f)&&(a[f]=c[f]);d.prototype=c.prototype;a.prototype=new d;a.__super__=c.prototype;return a};d=a("./client.coffee");k=a("./util.coffee");g=a("./creative.coffee").VASTCreativeLinear;a=function(a){function c(a,f){var m,k,p;this.ad=a;this.creative=f;this.skipable=this.impressed=this.muted=!1;this.skipDelayDefault=-1;this.trackingEvents={};this.emitAlwaysEvents="creativeView start firstQuartile midpoint thirdQuartile complete resume pause rewind skip closeLinear close".split(" ");
p=f.trackingEvents;for(m in p)k=p[m],this.trackingEvents[m]=k.slice(0);f instanceof g?(this.setDuration(f.duration),this.skipDelay=f.skipDelay,this.linear=!0,this.clickThroughURLTemplate=f.videoClickThroughURLTemplate,this.clickTrackingURLTemplates=f.videoClickTrackingURLTemplates):(this.skipDelay=-1,this.linear=!1);this.on("start",function(){d.lastSuccessfullAd=+new Date})}p(c,a);c.prototype.setDuration=function(a){this.assetDuration=a;return this.quartiles={firstQuartile:Math.round(25*this.assetDuration)/
100,midpoint:Math.round(50*this.assetDuration)/100,thirdQuartile:Math.round(75*this.assetDuration)/100}};c.prototype.setProgress=function(a){var f,c,d,g;c=null===this.skipDelay?this.skipDelayDefault:this.skipDelay;-1===c||this.skipable||(c>a?this.emit("skip-countdown",c-a):(this.skipable=!0,this.emit("skip-countdown",0)));if(this.linear&&0<this.assetDuration){c=[];if(0<a)for(f in c.push("start"),d=Math.round(a/this.assetDuration*100),c.push("progress-"+d+"%"),g=this.quartiles,g)d=g[f],d<=a&&a<=d+
1&&c.push(f);d=0;for(g=c.length;d<g;d++)f=c[d],this.track(f,!0);a<this.progress&&this.track("rewind")}return this.progress=a};c.prototype.setMuted=function(a){this.muted!==a&&this.track(a?"mute":"unmute");return this.muted=a};c.prototype.setPaused=function(a){this.paused!==a&&this.track(a?"pause":"resume");return this.paused=a};c.prototype.setFullscreen=function(a){this.fullscreen!==a&&this.track(a?"fullscreen":"exitFullscreen");return this.fullscreen=a};c.prototype.setSkipDelay=function(a){if("number"===
typeof a)return this.skipDelay=a};c.prototype.load=function(){if(!this.impressed)return this.impressed=!0,this.trackURLs(this.ad.impressionURLTemplates),this.track("creativeView")};c.prototype.errorWithCode=function(a){return this.trackURLs(this.ad.errorURLTemplates,{ERRORCODE:a})};c.prototype.complete=function(){return this.track("complete")};c.prototype.stop=function(){return this.track(this.linear?"closeLinear":"close")};c.prototype.skip=function(){this.track("skip");return this.trackingEvents=
[]};c.prototype.click=function(){var a,f;null!=(f=this.clickTrackingURLTemplates)&&f.length&&this.trackURLs(this.clickTrackingURLTemplates);if(null!=this.clickThroughURLTemplate)return this.linear&&(a={CONTENTPLAYHEAD:this.progressFormated()}),a=k.resolveURLTemplates([this.clickThroughURLTemplate],a)[0],this.emit("clickthrough",a)};c.prototype.track=function(a,f){var c,d;null==f&&(f=!1);"closeLinear"===a&&null==this.trackingEvents[a]&&null!=this.trackingEvents.close&&(a="close");d=this.trackingEvents[a];
c=this.emitAlwaysEvents.indexOf(a);null!=d?(this.emit(a,""),this.trackURLs(d)):-1!==c&&this.emit(a,"");!0===f&&(delete this.trackingEvents[a],-1<c&&this.emitAlwaysEvents.splice(c,1))};c.prototype.trackURLs=function(a,f){null==f&&(f={});this.linear&&(f.CONTENTPLAYHEAD=this.progressFormated());return k.track(a,f)};c.prototype.progressFormated=function(){var a,f,c,d;c=parseInt(this.progress);a=c/3600;2>a.length&&(a="0"+a);f=c/60%60;2>f.length&&(f="0"+f);d=c%60;2>d.length&&(d="0"+f);c=parseInt(100*(this.progress-
c));return""+a+":"+f+":"+d+"."+c};return c}(a("events").EventEmitter);l.eexports=a},{"./client.coffee":2,"./creative.coffee":4,"./util.coffee":13,events:14}],10:[function(a,l,c){var d,g;g=a("./urlhandlers/xmlhttprequest.coffee");d=a("./urlhandlers/flash.coffee");c=function(){function c(){}c.get=function(c,k,l){l||("function"===typeof k&&(l=k),k={});return k.urlhandler&&k.urlhandler.supported()?k.urlhandler.get(c,k,l):"undefined"===typeof window||null===window?a("./urlhandlers/node.coffee").get(c,
k,l):g.supported()?g.get(c,k,l):d.supported()?d.get(c,k,l):l()};return c}();l.eexports=c},{"./urlhandlers/flash.coffee":11,"./urlhandlers/xmlhttprequest.coffee":12}],11:[function(a,l,c){a=function(){function a(){}a.xdr=function(){var a;window.XDomainRequest&&(a=new XDomainRequest);return a};a.supported=function(){return!!this.xdr()};a.get=function(a,c,d){var p,l;if(l="function"===typeof window.ActiveXObject?new window.ActiveXObject("Microsoft.XMLDOM"):void 0)l.async=!1;else return d();p=this.xdr();
p.open("GET",a);p.timeout=c.timeout||0;p.withCredentials=c.withCredentials||!1;p.send();return p.onload=function(){l.loadXML(p.responseText);return d(null,l)}};return a}();l.eexports=a},{}],12:[function(a,l,c){a=function(){function a(){}a.xhr=function(){var a;a=new window.XMLHttpRequest;if("withCredentials"in a)return a};a.supported=function(){return!!this.xhr()};a.get=function(a,c,d){var p;try{return p=this.xhr(),p.open("GET",a),p.timeout=c.timeout||0,p.withCredentials=c.withCredentials||!1,p.send(),
p.onreadystatechange=function(){if(4===p.readyState)return d(null,p.responseXML)}}catch(l){return d()}};return a}();l.eexports=a},{}],13:[function(a,l,c){a=function(){function a(){}a.track=function(a,c){var d,p,l,t,n,f;p=this.resolveURLTemplates(a,c);f=[];t=0;for(n=p.length;t<n;t++)d=p[t],"undefined"!==typeof window&&null!==window&&(l=new Image,f.push(l.src=d));return f};a.resolveURLTemplates=function(a,c){var d,p,l,t,n,f,B,u;p=[];null==c&&(c={});"CACHEBUSTING"in c||(c.CACHEBUSTING=Math.round(1E10*
Math.random()));c.random=c.CACHEBUSTING;B=0;for(u=a.length;B<u;B++)if(n=a[B]){for(l in c)f=c[l],d="["+l+"]",t="%%"+l+"%%",n=n.replace(d,f),n=n.replace(t,f);p.push(n)}return p};a.storage=function(){var a,c,d;try{d="undefined"!==typeof window&&null!==window?window.localStorage||window.sessionStorage:null}catch(p){d=null}c=function(a){try{if(a.setItem("__VASTUtil__","__VASTUtil__"),"__VASTUtil__"!==a.getItem("__VASTUtil__"))return!0}catch(c){return!0}return!1};if(null==d||c(d))a={},d={length:0,getItem:function(c){return a[c]},
setItem:function(c,d){a[c]=d;this.length=Object.keys(a).length},removeItem:function(c){delete a[c];this.length=Object.keys(a).length},clear:function(){a={};this.length=0}};return d}();return a}();l.eexports=a},{}],14:[function(a,l,c){function d(){this._events=this._events||{};this._maxListeners=this._maxListeners||void 0}function g(a){return"function"===typeof a}function k(a){return"object"===typeof a&&null!==a}l.eexports=d;d.EventEmitter=d;d.prototype._events=void 0;d.prototype._maxListeners=void 0;
d.defaultMaxListeners=10;d.prototype.setMaxListeners=function(a){if("number"!==typeof a||0>a||isNaN(a))throw TypeError("n must be a positive number");this._maxListeners=a;return this};d.prototype.emit=function(a){var c,d,l,n;this._events||(this._events={});if("error"===a&&(!this._events.error||k(this._events.error)&&!this._events.error.length)){c=arguments[1];if(c instanceof Error)throw c;throw TypeError('Uncaught, unspecified "error" event.');}d=this._events[a];if(void 0===d)return!1;if(g(d))switch(arguments.length){case 1:d.call(this);
break;case 2:d.call(this,arguments[1]);break;case 3:d.call(this,arguments[1],arguments[2]);break;default:c=arguments.length;l=Array(c-1);for(n=1;n<c;n++)l[n-1]=arguments[n];d.apply(this,l)}else if(k(d)){c=arguments.length;l=Array(c-1);for(n=1;n<c;n++)l[n-1]=arguments[n];d=d.slice();c=d.length;for(n=0;n<c;n++)d[n].apply(this,l)}return!0};d.prototype.addListener=function(a,c){var l;if(!g(c))throw TypeError("listener must be a function");this._events||(this._events={});this._events.newListener&&this.emit("newListener",
a,g(c.listener)?c.listener:c);this._events[a]?k(this._events[a])?this._events[a].push(c):this._events[a]=[this._events[a],c]:this._events[a]=c;k(this._events[a])&&!this._events[a].warned&&(l=void 0!==this._maxListeners?this._maxListeners:d.defaultMaxListeners)&&0<l&&this._events[a].length>l&&(this._events[a].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[a].length),"function"===
typeof console.trace&&console.trace());return this};d.prototype.on=d.prototype.addListener;d.prototype.once=function(a,c){function d(){this.removeListener(a,d);k||(k=!0,c.apply(this,arguments))}if(!g(c))throw TypeError("listener must be a function");var k=!1;d.listener=c;this.on(a,d);return this};d.prototype.removeListener=function(a,c){var d,l,n;if(!g(c))throw TypeError("listener must be a function");if(!this._events||!this._events[a])return this;d=this._events[a];n=d.length;l=-1;if(d===c||g(d.listener)&&
d.listener===c)delete this._events[a],this._events.removeListener&&this.emit("removeListener",a,c);else if(k(d)){for(;0<n--;)if(d[n]===c||d[n].listener&&d[n].listener===c){l=n;break}if(0>l)return this;1===d.length?(d.length=0,delete this._events[a]):d.splice(l,1);this._events.removeListener&&this.emit("removeListener",a,c)}return this};d.prototype.removeAllListeners=function(a){var c;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[a]&&
delete this._events[a],this;if(0===arguments.length){for(c in this._events)"removeListener"!==c&&this.removeAllListeners(c);this.removeAllListeners("removeListener");this._events={};return this}c=this._events[a];if(g(c))this.removeListener(a,c);else for(;c.length;)this.removeListener(a,c[c.length-1]);delete this._events[a];return this};d.prototype.listeners=function(a){return this._events&&this._events[a]?g(this._events[a])?[this._events[a]]:this._events[a].slice():[]};d.listenerCount=function(a,
c){return a._events&&a._events[c]?g(a._events[c])?1:a._events[c].length:0}},{}]},{},[5])(5)});
var CEDATO_VPAID_OBJ=function(h){function a(){this.type_="";this.obj={};this.flashEI="";this.eventsCallbacks_={};this.vpaidStatus="not_connected";this.globalCallbackName="";var a=this;this.playerID;this.globalCallbackName="cpcb"+Math.floor(1000001*Math.random());window[this.globalCallbackName]=function(c,d,g){if(this.eventsCallbacks_[c])g?setTimeout(function(){a.eventsCallbacks_[c].call(a,d)},0):a.eventsCallbacks_[c].call(a,d);else throw Exception("no callback "+c);}.bind(a)}a.prototype={callObj:function(a,
c){if("fl"==this.type_){try{var d=this.obj[this.flashEI](a,c)}catch(g){return null}return d}return this.obj.pEvent(a,c)},initObj:function(a,c,d,g){this.type_=c;"fl"==this.type_?(this.obj=a,g&&(this.flashEI=g)):window[a]&&(this.obj=window[a],this.vpaidStatus="connected",this.call("connect",{globalCallbackName:this.globalCallbackName,playersStorageName:d}))},getVpaidType:function(){return this.type_},call:function(a,c,d){if(d)setTimeout(this.callObj.bind(this),0,a,c);else return this.callObj(a,c)},
register:function(a,c,d){c=c.bind(d);this.eventsCallbacks_[a]=c}};h.getVpaid=function(){return new a};return h}(CEDATO_VPAID_OBJ||{}),CEDATO_EVENT_LOGGER=function(h){function a(a,c,d){for(var g=0,h=a.length;g<h;g++)if("undefined"!=typeof c[a[g]])switch(a[g]){case "flashSupport":d[a[g]]=c[a[g]]?"1":"0";break;default:d[a[g]]=c[a[g]]}}function l(a){var c={},g;for(g in a)a.hasOwnProperty(g)&&"undefined"!==typeof d[g]&&(c[d[g]]=a[g]);return c}h.E_REQUEST="/vpx/request";h.E_LOADED="/vpx/loaded";h.E_MIDS=
"/vpx/mids";h.E_END="/vpx/end";h.E_ADSTART="/vpx/start";h.E_VAST_ERROR="/vpx/error";h.E_START="/ppx/start";h.E_VPWS="/ppx/vpws";h.E_ADPLAYED="/ppx/adplayed";h.E_SCHEDULED="/ppx/scheduled";h.E_PLAYER_ERROR="/ppx/error";h.E_SUBMIT_DEBUG_LOG="sdl";var c={},d={subid:"sid",domain:"domain",sessionId:"se",playerVersion:"pv",timeFromStart:"s",flashSupport:"f",detect:"sa",vastId:"v",playerId:"p",memUsed:"m",time:"t",time2:"t2",duration:"d",gpvTime:"gt",fpwReadyTime:"ft",domReadyTime:"dt",gpvM:"gm",roundNo:"r",
totalMemS:"tm",vastType:"y",state:"st",gpvAttempt:"ga",errorCode:"en",errorMessage:"em",mediaURL:"mu",logStartRequest:"ls",logLoadRequest:"lr"},g="subid domain sessionId playerVersion timeFromStart flashSupport detect".split(" ");h.log=function(d,h,l,w){try{var t=!0;h=h||{};l=l||{};w=w||function(){};var n=[],f;for(f in l)n.push([f,String(l[f])].join("="));w(h,"tlv_logEvent: "+d+"?"+n.join("&"),!1);var B=((new Date).getTime()-h.startTime)/1E3,B=B.toFixed(1),u={name:d.substring(d.lastIndexOf("/")+1),
common:{},extra:{}};a(g,h,u.common);u.common.timeFromStart=B;switch(d){case CEDATO_EVENT_LOGGER.E_REQUEST:a(["playerId","vastId"],l,u.extra);break;case CEDATO_EVENT_LOGGER.E_LOADED:a(["playerId","vastId","memUsed","time"],l,u.extra);break;case CEDATO_EVENT_LOGGER.E_MIDS:a(["playerId","vastId","duration"],l,u.extra);break;case CEDATO_EVENT_LOGGER.E_END:a(["playerId","vastId"],l,u.extra);u.extra.duration=(l.duration/4).toFixed(2);t=!0;break;case CEDATO_EVENT_LOGGER.E_ADSTART:a("playerId vastId time roundNo memUsed totalMemS vastType".split(" "),
l,u.extra);t=!0;break;case CEDATO_EVENT_LOGGER.E_VAST_ERROR:a("playerId vastId errorCode errorMessage mediaURL logStartRequest logLoadRequest time".split(" "),l,u.extra);t=!0;break;case CEDATO_EVENT_LOGGER.E_START:a(["playerId"],h,u.extra);t=!0;break;case CEDATO_EVENT_LOGGER.E_SCHEDULED:a("playerId fpwReadyTime gpvTime domReadyTime gpvM gpvAttempt".split(" "),h,u.extra);var H=((new Date).getTime()-h.startTime)/1E3;u.extra.time=H.toFixed(1);t=!0;break;case CEDATO_EVENT_LOGGER.E_ADPLAYED:a(["playerId"],
h,u.extra);H=((new Date).getTime()-h.startTime)/1E3;u.extra.time=H.toFixed(1);t=!0;break;case CEDATO_EVENT_LOGGER.E_VPWS:a(["playerId"],h,u.extra);a(["time","state","time2"],l,u.extra);t=!0;break;case CEDATO_EVENT_LOGGER.E_PLAYER_ERROR:a(["playerId"],h,u.extra),a(["errorCode","errorMessage"],l,u.extra),t=!0}var F=d.substring(0,d.lastIndexOf("/"));f=[h.protocol||"","//",h.machineId,F].join("");"undefined"==typeof c[f]&&(c[f]={flushTimerId:null,events:[]});0==c[f].events.length&&(c[f].flushTimerId=
function(a){return setTimeout(function(){CEDATO_EVENT_LOGGER.flushEvents(a)},1E4)}(f));c[f].events.push(u);t&&CEDATO_EVENT_LOGGER.flushEvents(f)}catch(C){}};window.URLS=[];h.flushEvents=function(a){if(a){var d=c[a].events;if(d.length)if(1==d.length)try{var g=d[0],h=[a,"/",g.name,"?"].join(""),t=CEDATO_UTILS.extend(g.common,g.extra),n=l(t);n.cb=(new Date).getTime();var f=CEDATO_URLUTILS.buildUrl(h,n);CEDATO_HTTP.sendPixel(f,null)}catch(W){}else try{for(var B=[a,"/multiple-events?"].join(""),h={},u=
[],t=[],n=0,H=d.length;n<H;n++){var F={},g=d[n];if(0==n)h=g.common;else for(var C in g.common)g.common[C]!=h[C]&&(F[C]=g.common[C]);for(C in g.extra)F[C]=g.extra[C];u.push(g.name);t.push(l(F))}for(var G=u.join(","),g=[],n=0,H=t.length;n<H;n++){var x=t[n];C=[];for(var q in x)C.push([q,x[q]].join(":"));g.push(C.join(","))}var I=g.join("|"),f=CEDATO_URLUTILS.buildUrl(B,CEDATO_UTILS.extend({cb:(new Date).getTime(),events:G,data:I},l(h)));CEDATO_HTTP.sendPixel(f,null)}catch(W){}c[a].events=[];clearTimeout(c[a].flushTimerId)}else for(d in c)CEDATO_EVENT_LOGGER.flushEvents(d)};
return h}(CEDATO_EVENT_LOGGER||{}),CEDATO_API=function(h){function a(){var a=this,d={ready:[],click:[],adstart:[],adcomplete:[],adpause:[],adplay:[],_play:[],_pause:[],_sound:[],_resize:[],_overrideinit:[]};a._ready=!1;a.on=function(g,h){var m=g.toLowerCase();d[m]&&d[m].push(h);"ready"===m&&a._ready&&setTimeout(function(){a.trigger("ready")},0);return a};a.off=function(g,h){var m=g.toLowerCase();if(d[m])if("function"===typeof h){var l=d[m].indexOf(h);0<=l&&d[m].splice(l,1)}else d[m]=[];return a};
a.trigger=function(g,h){var m=g.toLowerCase();if(d[m]){for(var l=d[m].slice(),w=0,t=l.length;w<t;w++)if(-1<d[m].indexOf(l[w])){var n={};n.name=m;n.player=a;n.data="undefined"===typeof h?{}:h;l[w](n)}"ready"===m&&a.off("ready")}return a};a.play=function(){a.trigger("_play")};a.pause=function(){a.trigger("_pause")};a.overrideInitParams=function(d){a.trigger("_overrideInit",d)};a.sound=function(d){switch(typeof d){case "boolean":case "number":a.trigger("_sound",d);break;case "string":"on"!==d&&"off"!==
d||a.trigger("_sound","on"===d)}};a.resize=function(d,h){var m=+d,l=+h;0<=m&&0<=l&&a.trigger("_resize",{width:m,height:l})}}if("undefined"===typeof h.getPlayer){var l={};h.registerPlayer=function(c){"undefined"===typeof l[c]?(l[c]=new a,l[c]._ready=!0):(l[c]._ready=!0,setTimeout(function(){l[c].trigger("ready")},0));return l[c]};h.getPlayer=function(c){"undefined"===typeof l[c]&&(l[c]=new a);return l[c]}}return h}(CEDATO_API||{});
(function(h,a){function l(b,e,a){b.addEventListener?b.addEventListener(e,a,!1):b.attachEvent?b.attachEvent("on"+e,a):b[e]=a}function c(b,e,a,f){return e.protocol+"//"+("c"==f?"cdn1-m"+e.networkId+".algovid.tv":e.conf.mUrl)+"/vpr/"+encodeURIComponent(encodeURIComponent(b))+"/a.jsv"}function d(b,e){e||(e=a);var A=null;b.usejsv?(A=CEDATO_JSV.createVideoElement(),A.setAttribute("preload","auto")):b.hasVideoSupport&&(A=e.createElement("video"));return A}function g(b,e){var a,f;a=e?{}:[];try{var c=b.slice(b.indexOf("?")+
1).split("&"),d;for(d=0;d<c.length;d++){f=c[d].split("=");e||a.push(f[0]);var g=f[1];e&&(g=decodeURIComponent(g));a[f[0]]||(a[f[0]]=g)}}catch(h){a={}}return a}function k(b,e){var a=e.split("//");return 1<a.length?(a[0]=b,a.join("//")):!1}function m(b,e){CEDATO_EVENT_LOGGER.log(CEDATO_EVENT_LOGGER.E_REQUEST,b,{playerId:e.playerId,vastId:e.vastId},f)}function p(b,e,a){if("undefined"===typeof a||0>a)a="";var c=((new Date).getTime()-e.loadAdTime)/1E3,c=c.toFixed(1);CEDATO_EVENT_LOGGER.log(CEDATO_EVENT_LOGGER.E_LOADED,
b,{playerId:e.playerId,vastId:e.vastId,time:c,memUsed:a},f)}function w(b){if(""!=b.debugLog){b.bSubmitted+=b.debugLog.length;if(5E5<b.bSubmitted||18E4<(new Date).getTime()-b.startTime)b.debugLog="last packet",b.keepDebugLog=!1;b.debugLogLastSubmitted=+(new Date).getTime();var e=b.debugLog;b.debugLog="";var a=(new Date).getTime();b=b.protocol+"//"+b.machineId+"/sdl?se="+encodeURIComponent(b.sessionId)+"&sid="+encodeURIComponent(b.subid)+"&domain="+encodeURIComponent(b.domain)+"&cb="+a+"&p="+b.playerId+
"&pv="+b.playerVersion+"&r="+encodeURIComponent(b.debugLogReason);CEDATO_HTTP.sendPixel(b,e)}}function t(b){if(1E5>b.debugLogBuffer.length)b.debugLog=b.debugLogBuffer;else{b.debugLog=b.debugLogBuffer.substr(b.debugLogBuffer.length-1E5);var e=b.debugLog.indexOf("\n");b.debugLog=-1===e?"":b.debugLog.substr(e+1)}b.debugLogBuffer=""}function n(b,e,a,f,c){b.debugLog="";b.debugLogBuffer="";b.debugLogLastSubmitted=(new Date).getTime();b.logDebugToConsole=e;b.keepDebugLog=a;b.keepDetailedDebugLog=f;b.logToHTML=
c;b.debugLogBuffer="";b.bSubmitted=0;b.debugLogSubmittedDueToException=!1;c&&(e=h.document.createElement("div"),a=h.document.createElement("pre"),e.style.cssText="border: 1px solid; height: 300px; width: 1200px; resize: both; overflow: auto;",e.appendChild(a),h.document.body.appendChild(e),b.debugDocElement=a)}function f(b,e,a){if(!a||b.keepDetailedDebugLog)if(b.logDebugToConsole&&h.console&&h.console.log((new Date).getTime()+"\t"+e),b.logToHTML&&(b.debugDocElement.innerHTML+=e+"<br>"),e=h.JSON&&
h.JSON.stringify?JSON.stringify(e):'"'+e+'"',e=(new Date).getTime()+"\t"+e+"\n",a=e.length,1E5<a&&(e=(new Date).getTime()+"\ttruncated line\n",a=e.length),b.keepDebugLog){var f=b.debugLog.length;0<f&&1E5<f+a&&w(b);b.debugLog+=e;(3E3<(new Date).getTime()-b.debugLogLastSubmitted||1E5<b.debugLog.length)&&w(b)}else b.debugLogBuffer&&1E7<b.debugLogBuffer.length||(b.debugLogBuffer+=e)}function B(b,e){try{var A=a.createElement("script"),c=a.getElementsByTagName("head")[0]||a.documentElement;A.setAttribute("type",
"text/javascript");var d=b,d=k(e.protocol,d),g=(new Date).getTime(),d=d.replace(/\[CB\]/g,g),d=d.replace(/\[DIVID\]/g,e.divId),g="";e.callingFlashObject&&e.callingFlashObject.id&&(g=e.callingFlashObject.id);d=d.replace(/\[FLASHID\]/g,g);A.src=d;f(e,"gpv requested script: "+d,!1);c.appendChild(A)}catch(h){}}function u(){var b=a.createElement("iframe");b.src="about:blank";b.width="100%";b.height="100%";b.id="vjs"+Math.floor(5E3*Math.random());b.setAttribute("frameBorder","0");b.setAttribute("scrolling",
"no");b.style.position="absolute";b.style.left="0px";b.style.top="0px";b.style.overflow="hidden";return b}function H(b,e,A){b=a.createElement("div");b.style.zIndex="0";b.style.width="100%";b.style.height="100%";b.style.position="absolute";b.style.top="0px";b.style.left="0px";b.style.margin="0";b.style.padding="0";b.id="vpaidContainerDiv_"+A+"_"+Math.floor(5E3*Math.random());return b}function F(b,e,a,c){var d=H(a.width,a.height,c.vastId);c.jsVPAIDElementDiv=d;a.divElem.appendChild(d);var g=u();c.jsVpaidFrame=
g;var ba=!1,m=!1,k=h,l=c.vastId+"_"+c.uniqId,Na=function(h){if(h.origin===k.location.origin&&JSON.parse(h.data).id===l){h=g.contentWindow&&g.contentWindow.document;if(!h)return!1;k.removeEventListener("message",Na);h.body.style.margin="0";h.body.style.padding="0";var n;a.usejsv&&a.mainAutoplay?(n=h.createElement("script"),n.setAttribute("type","text/javascript"),n.src=a.protocol+"//"+a.conf.pJsvUrl,n.addEventListener("load",function(){(ba=!0,m)&&e(a,c)},!1),h.body.appendChild(n)):ba=!0;n=h.createElement("script");
n.setAttribute("type","text/javascript");n.src=b;n.attachEvent&&n.attachEvent("onreadystatechange",function(){"complete"!=n.readyState&&"loaded"!=n.readyState||e(a,c)});n.addEventListener&&n.addEventListener("load",function(){m=!0;ba&&m&&e(a,c)},!1);var q=h.createElement("div");q.id="vpaid-js-ad-elem";q.style.margin="0";q.style.padding="0";q.style.width="100%";q.style.height="100%";q.style.position="absolute";q.style.left="0";q.style.top="0";c.vpaidJsIframeAdElem=q;d.appendChild(q);h.body.appendChild(n);
c.companionHTML&&(c.companionsElementDiv=null,c.companionsElementDiv=h.createElement("div"),c.companionsElementDiv.setAttribute("style","width:100%;height:100%;position:relative;top:-"+a.height+"px; z-index: 0; "),q.appendChild(c.companionsElementDiv),c.companionsElementDiv&&(f(a,"vastId "+c.vastId+" - companionHTML: "+c.companionHTML,!1),c.companionsElementDiv.innerHTML=c.companionHTML))}};h.cedatoWinId="cwi"+Math.floor(5E3*Math.random());var n,q;try{n=d.ownerDocument,q=n.defaultView||n.parentWindow,
q.cedatoWinId!==h.cedatoWinId&&(k=q)}catch(p){}d.appendChild(g);n=g.contentWindow&&g.contentWindow.document;if(!n)return!1;k.addEventListener("message",Na);q="";try{if(k.location.hostname){var r="http:";k.location.protocol&&(r=k.location.protocol);q=r+"//"+k.location.hostname}}catch(p){}f(a,"vastId writing iframe content",!1);n.write('<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="UTF-8">\n</head>\n<body><script>var orig = window.location.origin;if(!orig||orig==\'null\'){orig=\''+q+
'\'}parent.postMessage(\'{"event": "ready", "id": "'+l+"\"}', orig);\n\x3c/script>\n</body>\n</html>\n")}function C(b,e){try{f(b,"vastId "+e.vastId+" - playPlayer",!1);f(b,"playPlayer: hiding all vasts but "+e.vastId,!0);for(var a=0,c=b.plist.length;a<c;a++)if(b.plist[a].vastId!=e.vastId||b.plist[a].uniqId!=e.uniqId)b.parallelStartAd&&5==b.plist[a].tlvState||oa(b,b.plist[a]);if("flvpaid"==e.adType||"jsvpaid"==e.adType)e.durationKnown?f(b,"vastId "+e.vastId+" - playPlayer: has already known duration of: "+
e.duration,!1):(e.duration=60,f(b,"vastId "+e.vastId+" - playPlayer: no known duration, setting to 60",!1));else if("video"==e.adType&&!e.durationKnown){e.durationKnown=!0;try{e.duration=e.videoElement.duration}catch(d){}f(b,"vastId "+e.vastId+" - playPlayer: duration taken from video element: "+e.duration,!1)}e.vtClickThroughFunc=function(b,e){try{var a,c;this.playerData&&this.playerData.playersStorageName&&(e=this.playerData);a=h[e.playersStorageName];c=e.vastId;f(a,"vastId "+c+" - tracker onClickthrough",
!1);b&&h.open(b,"_blank");a.apiInterface.trigger("click",{url:b,vastId:e.vastId})}catch(A){r(a,c,3,"tracker onClickthrough gave JS exception: ",A,e)}};e.vtFirstQuartileFunc=function(b){try{var e,a;this.playerData&&this.playerData.playersStorageName&&(b=this.playerData);e=h[b.playersStorageName];a=b.vastId;f(e,"vastId "+a+" - tracker on-firstQuartile",!1);var c;try{c=b.vastTracker.duration/4}catch(A){c=b.duration/4}c=c.toFixed(2);CEDATO_EVENT_LOGGER.log(CEDATO_EVENT_LOGGER.E_MIDS,e,{playerId:b.playerId,
vastId:a,duration:c},f)}catch(A){r(e,a,3,"tracker on firstQuartile gave JS exception: ",A,b)}};e.vtAdVideoStartFunc=function(b){try{var e,a;this.playerData&&this.playerData.playersStorageName&&(b=this.playerData);e=h[b.playersStorageName];a=b.vastId;f(e,"vastId "+a+" - tracker on-AdVideoStart",!1);var c;try{c=b.vastTracker.duration/4}catch(A){c=b.duration/4}c=c.toFixed(2);CEDATO_EVENT_LOGGER.log(CEDATO_EVENT_LOGGER.E_MIDS,e,{playerId:b.playerId,vastId:a,duration:c},f)}catch(A){r(e,a,3,"tracker on AdVideoStart gave JS exception: ",
A,b)}};e.vtMidPointFunc=function(b){try{var e,a;this.playerData&&this.playerData.playersStorageName&&(b=this.playerData);e=h[b.playersStorageName];a=b.vastId;f(e,"vastId "+a+" - tracker on-midpoint",!1);var c=b.duration/4,c=c.toFixed(2);CEDATO_EVENT_LOGGER.log(CEDATO_EVENT_LOGGER.E_MIDS,e,{playerId:b.playerId,vastId:a,duration:c},f)}catch(A){r(e,a,3,"tracker onmidpoint gave JS exception: ",A,b)}};e.vtThirdQuartileFunc=function(b){try{var e,a;this.playerData&&this.playerData.playersStorageName&&(b=
this.playerData);e=h[b.playersStorageName];a=b.vastId;f(e,"vastId "+a+" - tracker on-thirdQuartile",!1);var c=b.duration/4,c=c.toFixed(2);CEDATO_EVENT_LOGGER.log(CEDATO_EVENT_LOGGER.E_MIDS,e,{playerId:b.playerId,vastId:a,duration:c},f)}catch(A){r(e,a,3,"tracker onthirdQuartile gave JS exception: ",A,b)}};e.vtCompleteFunc=function(b){try{var e,a;this.playerData&&this.playerData.playersStorageName&&(b=this.playerData);e=h[b.playersStorageName];a=b.vastId;f(e,"vastId "+a+" - tracker on-complete",!1);
e.anyPlaying=aa(e,a);e.anyPlaying||ca(e);var c=b.duration/4,c=c.toFixed(2);CEDATO_EVENT_LOGGER.log(CEDATO_EVENT_LOGGER.E_END,e,{playerId:b.playerId,vastId:a,duration:c},f);e.apiInterface.trigger("adcomplete",{vastId:a});null!=b.startAdSwitcher&&(clearTimeout(b.startAdSwitcher),b.startAdSwitcher=null)}catch(A){r(e,a,3,"tracker on complete gave JS exception: ",A,b)}};e.vtErrorFunc=function(b){try{var e=h[this.playerData.playersStorageName];f(e,"vast tracker on error vastId"+b.vastId,!1)}catch(a){r(e,
b.vastId,3,"tracker onerror gave JS exception: ",a,b)}};e.skipVastTracker?f(b,"vastId "+e.vastId+" - playPlayer: no need for our vastTracker",!1):(f(b,"vastId "+e.vastId+" - playPlayer: initializing vastTracker",!1),null==e.creative.trackingEvents?(e.creative.trackingEvents=[],f(b,"added trackingEvents",!1)):f(b,"had trackingEvents",!1),e.vastTracker=new b.DMVAST.tracker(e.ad,e.creative),e.vastTracker.playerData=e,f(b,"vastId "+e.vastId+" - playPlayer: vastTracker set",!1),!e.durationKnown&&e.vastTracker.duration&&
0<e.vastTracker.duration&&(e.duration=e.vastTracker.duration,f(b,"vastId "+e.vastId+" - playPlayer: duration from tracker: "+e.duration,!1)),e.vastTracker.playerId=b.playerId,e.vastTracker.subid=b.subid,e.vastTracker.domain=b.domain,e.vastTracker.vastId=e.vastId,e.vastTracker.duration=e.duration,e.vastTracker.setDuration(e.duration),f(b,"vastId "+e.vastId+" - playPlayer: creating events",!1),e.vastTracker.on("clickthrough",e.vtClickThroughFunc),e.vastTracker.on("firstQuartile",e.vtFirstQuartileFunc),
e.vastTracker.on("midpoint",e.vtMidPointFunc),e.vastTracker.on("thirdQuartile",e.vtThirdQuartileFunc),e.vastTracker.on("complete",e.vtCompleteFunc),e.vastTracker.on("error",e.vtErrorFunc),f(b,"vastId "+e.vastId+" - playPlayer: events ready",!1));b.scheduledPixelSent||(f(b,"vastId "+e.vastId+" - playPlayer: first play - logging scheduled pixel",!1),b.scheduledPixelSent=!0,CEDATO_EVENT_LOGGER.log(CEDATO_EVENT_LOGGER.E_SCHEDULED,b,{},f));f(b,"vastId "+e.vastId+" - playPlayer: playing media",!1);b.parallelStartAd||
m(b,e);e.adImpressionCount=0;e.gotLastAdImpressionOn=null;e.adStartCount=0;e.startAdTime=(new Date).getTime();if("flvpaid"==e.adType||"jsvpaid"==e.adType){b.singleVPW?b.callingFlashObject&&"flvpaid"==e.adType&&(b.divElem.style.display="none"):("flvpaid"==e.adType&&(e.flashElementDiv.style.zIndex="9999",e.flashElementDiv.style.position="relative",e.flashElementDiv.style.left="0px",e.flashElementDiv.style.top="0px"),"jsvpaid"==e.adType&&e.flashElementDiv&&(e.flashElementDiv.style.display="none"),b.rootDivElem.style.top=
"0px");var g,Ca;try{if(e.vpaidPlaying=1,e.tlvState=5,f(b,"vastId "+e.vastId+" - startAd called, uniqId: "+e.uniqId,!1),"flvpaid"==e.adType&&(Ca="vpw disappeared",g=e.flashElement[e.flashEICallbacks]("vpwStartAd",e.uniqId)),"jsvpaid"==e.adType&&(Ca="external js exception",g=e.jsVPAIDElement.startAd(),"undefined"===typeof g||g))g="1"}catch(d){r(b,e.vastId,5,"startAd failed - "+Ca+": "+d.message,!1,e);e.vpaidPlaying=0;e.tlvState=10;e.errorCount+=100;E(e,0);"vpaid"==e.adType&&T(b,e,"startAd");return}if("1"==
g)e.sureFastStart=e.expectedSureFastStart;else{e.vpaidPlaying=0;var ba=b.parallelStartAd,a="no reason given";try{"flvpaid"==e.adType&&(a=e.flashElement[e.flashEICallbacks]("getLastError",e.uniqId)),"jsvpaid"==e.adType&&(a="external js expcetion")}catch(d){a="getLastError gave exception: "+d.message}r(b,e.vastId,5,"startAd failed - "+a,!1,e,ba);e.tlvState=10;e.errorCount+=100;"flvpaid"==e.adType&&P(b,e,!0);E(e,0);return}if(b.parallelStartAd&&(null!=e.startAdHalfStopper&&(clearTimeout(e.startAdHalfStopper),
e.startAdHalfStopper=null),5==e.tlvState)){var k=function(b,e){e.startAdHalfStopper=null;f(b,"vastId "+e.vastId+" - half stopper point, starting more if ready",!1);I(b,"any")};e.startAdHalfStopper=CEDATO_BROWSER.oldIE?setTimeout(function(){k(b,e)},7E3):setTimeout(k,7E3,b,e)}null!=e.startAdStopper&&(clearTimeout(e.startAdStopper),e.startAdStopper=null);if(5==e.tlvState){ba=2E4;e.longStartAd&&(ba=35E3);var l=function(b,e){if("flvpaid"==e.adType)try{e.flashElement[e.flashEICallbacks]("vpwStopAd",e.uniqId)}catch(a){}else if("jsvpaid"==
e.adType)try{e.jsVPAIDElement.stopAd()}catch(a){}else if("video"==e.adType)try{e.videoElement.pause()}catch(a){}e.startAdStopper=null;e.vpaidPlaying=0;r(b,e.vastId,60,"gave up on startAd",!1,e,b.parallelStartAd);e.tlvState=10;e.errorCount+=100;"flvpaid"==e.adType&&P(b,e,!0);E(e,0);q(b)};e.startAdStopper=CEDATO_BROWSER.oldIE?setTimeout(function(){l(b,e)},ba):setTimeout(l,ba,b,e)}}else"video"==e.adType&&(e.videoElement.style.display="block",e.videoElement.style.zIndex="9999",e.tlvState=5,e.sureFastStart=
!0,e.videoElement.play());f(b,"vastId "+e.vastId+" - playPlayer: done",!1)}catch(d){r(b,e.vastId,3,"playPlayer issue: ",d,e)}}function G(b,e){b.callingFlashObject&&!e.flashPrevStyle&&(e.flashPrevStyle={position:e.flashElement.style.position,top:e.flashElement.style.top,left:e.flashElement.style.left},e.flashElement.style.position="absolute",e.flashElement.style.top="-1000px",e.flashElement.style.left="-1000px",b.rootDivElem.style.top="0px",b.divElem.style.top="0px")}function x(b,e){b.callingFlashObject&&
e.flashPrevStyle&&(e.flashPrevStyle.position&&(e.flashElement.style.position=e.flashPrevStyle.position),e.flashElement.style.top=e.flashPrevStyle.top,e.flashElement.style.left=e.flashPrevStyle.left,b.divElem.style.display="none",b.rootDivElem.style.display="none",e.flashPrevStyle=null)}function q(b,e){"undefined"===typeof e&&(e=!1);if(!b.autoplay&&!e)return f(b,"manual mode - not trying to auto play",!1),!1;var a="any";b.readyForStartAd||(a="1");return I(b,a)}function I(b,e){f(b,"playNextVast called, group: "+
e,!1);if(b.anyPlaying)return f(b,"still playing previous media",!1),!1;if(b.parallelStartAd){for(var a=!1,c=0,d=b.plist.length;c<d;c++){var g=b.plist[c];if(5==g.tlvState&&g.sureFastStart){if(3>((new Date).getTime()-g.startAdTime)/1E3)return f(b,"vastId "+g.vastId+" - is sure fast starter and is trying to start - quiting",!1),!1;f(b,"vastId "+g.vastId+" - is sure fast starter and is trying to start but passed grace time",!1)}}c=0;for(d=b.plist.length;c<d;c++)if(g=b.plist[c],f(b,"vastId "+g.vastId+
" tlvState is: "+g.tlvState,!0),4==g.tlvState)if("any"==e||g.group==e){f(b,"vastId "+g.vastId+" tlvState is ready to play",!1);a=!0;C(b,g);if(b.anyPlaying)return!0;if(g.sureFastStart)return f(b,"vastId "+g.vastId+" - sure fast start - breaking",!1),!0}else f(b,"vastId "+g.vastId+" - is ready but on different group",!1);return a}a=!1;c=0;for(d=b.plist.length;c<d;c++)g=b.plist[c],f(b,"vastId "+g.vastId+" tlvState is: "+g.tlvState,!0),4==g.tlvState&&(a?g.errorCount<a.errorCount&&(a=g):a=g);if(a)return f(b,
"vastId "+a.vastId+" tlvState is ready to play",!1),b.anyPlaying=!0,"vpaid"==b.mode&&(b.autoplay=!1),C(b,a),!0;f(b,"no vast is ready to play",!0);return!1}function W(b,e){f(b,"freezing players",!1);b.frozen=!0;Oa(b,e);if(e)f(b,"leaving players objects for now",!1);else if(f(b,"removing players objects",!1),null!=b.initialStartAd&&(clearTimeout(b.initialStartAd),b.initialStartAd=null),null!=b.domLoadTimeout&&(clearTimeout(b.domLoadTimeout),b.domLoadTimeout=null),null!=b.reportVPWStateInterval&&(clearInterval(b.reportVPWStateInterval),
b.reportVPWStateInterval=null),b.callingFlashObject)try{b.callingFlashObjectParent.removeChild(b.companionsRootDivElem),b.callingFlashObjectParent.removeChild(b.rootDivElem)}catch(a){f(b,"removing root divs gave exception: "+a.message,!1)}}function Y(b,e,a,c){var d=z(b,e);if(d){var g=d.vastId;f(b,"vastId "+g+" - adImpression called for uniqId: "+e,!1);if("undefined"===typeof c||0>c)c="";"jsvpaid"==d.adType?(d.jsVPAIDElementDiv.style.zIndex="10000",d.vpaidJsIframeAdElem&&(d.vpaidJsIframeAdElem.style.zIndex=
"10000"),d.vpaidJsIframeVideo&&(d.vpaidJsIframeVideo.style.margin="0",d.vpaidJsIframeVideo.padding="0",d.vpaidJsIframeVideo.top="0px",d.vpaidJsIframeVideo.style.left="0px",d.vpaidJsIframeVideo.style.position="absolute"),b.callingFlashObject&&G(b,d)):"flvpaid"!=d.adType||b.singleVPW?"video"==d.adType&&(d.videoElement.style.zIndex="10000",b.callingFlashObject&&G(b,d)):(d.flashElementDiv.style.zIndex="10000",d.flashElementDiv.style.left="0px");b.contentUrlPlayer&&b.contentUrlPlayer.hideContent();if(!b.anyAdPlayed){b.anyAdPlayed=
!0;var h=((new Date).getTime()-b.startTime)/1E3,h=h.toFixed(1);CEDATO_EVENT_LOGGER.log(CEDATO_EVENT_LOGGER.E_ADPLAYED,b,{},f);0>h&&(b.debugLogReason="negative adplayed",t(b),w(b))}if(null!=d.gotLastAdImpressionOn&&3E3>(new Date).getTime()-d.gotLastAdImpressionOn)return f(b,"vastId "+g+" - second ad impression too soon - ignoring",!1),!0;b.submitDebugLogOnVastDisplayed!=d.vastId||d.keepDebugLog||(t(b),w(b),b.keepDebugLog=!0);if(d.skipVastTracker||null!=d.vastTracker){if(b.parallelStartAd&&b.anyPlaying&&
6!=d.tlvState&&7!=d.tlvState){r(b,g,64,"stopped due to parallel double started",!1,d);if("flvpaid"==d.adType)try{d.flashElement[d.flashEICallbacks]("vpwStopAd",d.uniqId)}catch(k){f(b,"parallel dbl-started stopAd of flash vpaid "+d.vastId+" gave exception: "+k.message,!1)}else if("jsvpaid"==d.adType)try{d.jsVPAIDElement.stopAd()}catch(k){f(b,"parallel stopAd of js vpaid "+d.vastId+" gave exception: "+k.message,!1)}else"video"==d.adType&&d.videoElement.pause();d.tlvState=10;b.frozen||("flvpaid"==d.adType&&
P(b,d,!0),E(d,0));return!1}d.tlvState=6;d.gotLastAdImpressionOn=(new Date).getTime();if(b.parallelStartAd){b.anyPlaying=!0;"vpaid"==b.mode&&(b.autoplay=!1);f(b,"parallel startAd mode - stopping any other opened startAd",!1);m(b,d);for(var l=0,n=b.plist.length;l<n;l++){var D=b.plist[l];if(D.vastId!=g&&5==D.tlvState){f(b,"vastId "+D.vastId+" - parallel startAd mode - stopping - vastId "+g+" started playing",!1);r(b,D.vastId,63,"stopped due to parallel started",!1,D);D.tlvState=10;if("flvpaid"==D.adType)try{D.flashElement[D.flashEICallbacks]("vpwStopAd",
D.uniqId)}catch(k){f(b,"parallel stopAd of flash vpaid "+D.vastId+" gave exception: "+k.message,!1)}else if("jsvpaid"==D.adType)try{D.jsVPAIDElement.stopAd()}catch(k){f(b,"parallel stopAd of js vpaid "+D.vastId+" gave exception: "+k.message,!1)}else"video"==D.adType&&D.videoElement.pause();oa(b,D);"flvpaid"==D.adType&&P(b,D,!0);E(D,0)}}f(b,"parallel startAd mode - stopping any other opened startAd - done",!1)}var h=0,p=e="";try{l=0;for(n=b.plist.length;l<n;l++)if(D=b.plist[l],"flvpaid"==D.adType&&
D.flashElement&&D.flashEICallbacks)try{var u=D.flashElement[D.flashEICallbacks]("getMem");if(isNaN(u))p=p+D.vastId+" - NaN, ";else{h+=parseFloat(u);p=p+D.vastId+" - "+u+", ";break}}catch(k){p=p+D.vastId+" - exception: "+k.message+", "}else p="flvpaid"!=D.adType?p+D.vastId+" - not flash, ":D.flashElement?D.flashEICallbacks?p+D.vastId+" - unknown reason, ":p+D.vastId+" - no callbacks, ":p+D.vastId+" - no flash element, ";e=h}catch(k){p="exception: "+k.message}f(b,"memory check: "+p,!1);h=((new Date).getTime()-
d.startAdTime)/1E3;h=h.toFixed(1);l=0;"flvpaid"==d.adType&&(l=d.isIMA?2:1);"jsvpaid"==d.adType&&(l=d.isIMA?4:3);d.hasFlashVPAID&&d.hasJSVPAID&&(l=5);CEDATO_EVENT_LOGGER.log(CEDATO_EVENT_LOGGER.E_ADSTART,b,{playerId:d.playerId,vastId:g,time:h,roundNo:d.roundNo,memUsed:c,totalMemS:e,vastType:l},f);b.apiInterface.trigger("adstart",{vastId:g});d.adImpressionCount++;1<d.adImpressionCount?(r(b,d.vastId,61,"double impression: "+d.adImpressionCount,!1,d),m(b,d)):d.skipVastTracker||d.vastTracker.load();if("vpaid"==
b.mode)return f(b,"vastId "+g+" - has calling VPAID object - calling events",!1),a&&b.vpaidObj.call("jsAdStarted",{},!0),b.vpaidObj.call("jsAdImpression",{},!0),W(b,d.vastId),!0;b.curAdStarts++;if(b.maxAdStarts&&b.curAdStarts>=b.maxAdStarts)return f(b,"vastId "+g+" - reached maximum number of allowed ad starts, freezing",!1),W(b,d.vastId),!0;null!=d.sameVastIdLoader&&(clearTimeout(d.sameVastIdLoader),d.sameVastIdLoader=null);if(!b.frozen){var v=function(b,e){try{e.sameVastIdLoader=null;f(b,"vastId "+
e.vastId+" - same vastId loader",!1);f(b,"vastId "+e.vastId+" - duplicating player data",!1);var a=[];a.id=e.vastId;a.url=e.vastURL;a.group=e.group;a.lsa=e.longStartAd;a.pid=e.playerId;a.mvr=e.maxFailedVastRetries;a.vt=e.vastPreferType;a.ct=e.corsType;for(var c=!1,A=0,d=b.plist.length;A<d;A++)if(b.plist[A].vastId==e.vastId){c=A;break}var L=Pa(b,a,c);L.duplicatedNow=!0;b.domReady&&b.vpwCached&&Qa(b,L);pa(L)}catch(g){r(b,e.vastId,3,"svi gave JS exception: ",g,e)}};d.sameVastIdLoader=CEDATO_BROWSER.oldIE?
setTimeout(function(){v(b,d)},5E3):setTimeout(v,5E3,b,d)}null!=d.startAdSwitcher&&(clearTimeout(d.startAdSwitcher),d.startAdSwitcher=null);if(!b.allowLongImpressions){var x=function(b,e){try{r(b,e.vastId,62,"long impression",!1,e),e.startAdSwitcher=null,e.vpaidPlaying=0,e.tlvState=10,Q(b,e),b.anyPlaying=aa(b,e.vastId),b.anyPlaying||ca(b),q(b)}catch(a){r(b,e.vastId,3,"sas gave JS exception: ",a,e)}};d.startAdSwitcher=CEDATO_BROWSER.oldIE?setTimeout(function(){x(b,d)},6E4):setTimeout(x,6E4,b,d)}}else f(b,
"vastId "+g+" - no vast tracker",!1),E(d,0);return!0}f(b,"adImpression called for a gone uniqId: "+e,!1);K(b,3,"adImpression called for a gone uniqId")}function J(b,e){try{var a;a=d(b);a.setAttribute("style","height:100% !important;");a.style.width="100%";a.style.zIndex="9994";a.style.position="relative";a.style.top="0px";a.style.left="0px";a.style.backgroundColor="black";e.firstPlayEventTriggered=!1;l(a,"play",function(){try{b.apiInterface.trigger("adplay",{vastId:e.vastId,playerId:b.playerId,subid:b.subid}),
"vpaid"==b.mode&&b.vpaidObj.call("jsAdDurationChange",{duration:(e.duration?e.duration:a.duration).toFixed(2)},!0),f(b,"vastId "+e.vastId+" - onplay",!1),e.firstPlayEventTriggered?f(b,"vastId "+e.vastId+" - already handled play event",!1):(e.firstPlayEventTriggered=!0,5!=e.tlvState?f(b,"vastId "+e.vastId+" - invalid state, was probably stopped - "+e.tlvState,!1):Y(b,e.uniqId,!0)&&("vpaid"==b.mode&&b.vpaidObj.call("jsAdVideoStart",{},!0),e.errorCount=0,f(b,"vastId "+e.vastId+" - onplay done",!1)))}catch(c){r(b,
e.vastId,3,"video onplay gave JS exception: ",c,e)}});l(a,"timeupdate",function(){try{if(!(3>e.tlvState||10==e.tlvState||"video"!=e.adType)){null!=e.vastTracker&&e.vastTracker.setProgress(a.currentTime);var c=a.duration-a.currentTime,f=a.duration;"vpaid"==b.mode&&(b.vpaidObj.call("jsAdRemainingTimeChange",{remainingTime:c.toFixed()},!0),a.currentTime.toFixed()==(f/4).toFixed()&&b.vpaidObj.call("jsAdFirstQuartile",{},!0),a.currentTime.toFixed()==(f/3).toFixed()&&b.vpaidObj.call("jsAdMidpoint",{},!0),
a.currentTime.toFixed()==(f/4*3).toFixed()&&b.vpaidObj.call("jsAdThirdQuartile",{},!0))}}catch(d){r(b,e.vastId,3,"video ontimeupdate gave JS exception: ",d,e)}});l(a,"click",function(a){try{f(b,"vastId "+e.vastId+" - video onclick",!1),e.vastTracker&&e.vastTracker.click(),b.apiInterface.trigger("click",{url:a,vastId:e.vastId}),"vpaid"==b.mode&&b.vpaidObj.call("jsAdClickthrough",{url:a},!0)}catch(c){r(b,e.vastId,3,"video onclick gave JS exception: ",c,e)}});l(a,"error",function(a){try{if(!(3>e.tlvState||
10==e.tlvState||"video"!=e.adType)){f(b,"vastId "+e.vastId+" - video onerror",!1);var c=!1;3==e.tlvState&&(c=!0);x(b,e);e.tlvState=10;var A=-1;a.target.error.code&&a.target.error.code&&(A=a.target.error.code);r(b,e.vastId,4,"video player error code: "+A,!1,e,c);q(b);e.errorCount=5<=e.tlvState?e.errorCount+100:e.errorCount+1;E(e,0)}}catch(d){r(b,e.vastId,3,"video onerror gave JS exception: ",d,e)}});l(a,"canplay",function(){try{if(f(b,"vastId "+e.vastId+" - video oncanplay",!1),"video"!=e.adType)f(b,
"vastId "+e.vastId+" - adType not video: "+e.adType,!1);else if(4<e.tlvState)f(b,"vastId "+e.vastId+" - video oncanplay but state is "+e.tlvState,!1);else{null!=e.playVideoRetry&&(clearInterval(e.playVideoRetry),e.playVideoRetry=null);e.durationKnown=!0;try{e.duration=a.duration,e.vastTracker&&(e.vastTracker.duration=e.duration,e.vastTracker.setDuration(e.duration))}catch(c){e.durationKnown=!1}var d=b.width,g=b.height;a.style.width="100%";a.style.height="100%";d||(d=b.width,g=b.height);d>b.width&&
(g=g*b.width/d,d=b.width);g>b.height&&(d=d*b.height/g,g=b.height);var d=Math.floor(d),g=Math.floor(g),h=(b.height-g)/2,h=Math.floor(h);f(b,"vastId "+e.vastId+" - video width: "+d+", height: "+g+", top: "+h,!1);a.style.cssText="background-color: black; width:100%; height:100%; position: relative; top: "+h+"px";e.tlvState=4;if("vpaid"==b.mode)try{b.vpaidObj.call("jsAdReadyToStart",{},!0)}catch(c){r(b,e.vastId,3,"video oncanplay gave JS exception: ",c,e)}q(b)}}catch(c){r(b,e.vastId,3,"video oncanplay gave JS exception: ",
c,e)}});l(a,"ended",function(){try{f(b,"vastId "+e.vastId+" - video onended",!1),e.firedEvents&&e.firedEvents.complete?f(b,"vastId "+e.vastId+" - dup video ended event",!1):(e.firedEvents.complete=1,f(b,"vastId "+e.vastId+" - video onended",!1),"vpaid"!==b.mode&&(b.anyPlaying=aa(b,e.vastId),b.anyPlaying||ca(b)),e.vastTracker?(O("firstQuartile",b,e),O("midpoint",b,e),O("thirdQuartile",b,e),e.vastTracker.complete()):r(b,e.vastId,3,"no vastTracker for ended",!1,e,!1,!1,"vastTracker error"),"vpaid"==
b.mode&&(x(b,e),b.vpaidObj.call("jsAdComplete",{},!0),b.vpaidObj.call("jsAdStopped",{},!0),b.divElem.style.display="none"),CEDATO_BROWSER.oldIE?setTimeout(function(){Q(b,e)},3E3):setTimeout(Q,3E3,b,e),b.frozen?f(b,"vastId "+e.vastId+" - frozen - finishing here",!1):(b.readyForStartAd&&Da(b),q(b)))}catch(a){r(b,e.vastId,3,"video onended gave JS exception: ",a,e)}})}catch(c){r(b,e.vastId,3,"video prepare gave JS exception: ",c,e)}return a}function O(b,e,a){b&&e&&a&&a.vastTracker.quartiles&&a.vastTracker.quartiles[b]&&
(b=a.vastTracker.quartiles[b],!a.vastTracker.progress||a.vastTracker.progress<=b)&&(f(e,"vastId "+a.vastId+" - advancing progress accordingly",!1),a.vastTracker.setProgress(b))}function T(b,e,a){f(b,"vastId "+e.vastId+" - "+a+" resulted in exception, vpw disappeared",!1);10<e.vpwLoadRetry?(r(b,e.vastId,25,a+" gave up on vpw",!1,e),f(b,"vastId "+e.vastId+" - "+a+"  too many errors - giving up",!1),e.tlvState=10):(f(b,"vastId "+e.vastId+" - "+a+"  - allowing vpw to reload",!1),P(b,e,!0),f(b,"vastId "+
e.vastId+" - "+a+"  - allowing vpw to reload - done",!1))}function Z(b,e){try{var a=h[e.playersStorageName];CEDATO_BROWSER.oldIE?setTimeout(function(){ha(a,e.uniqId)},10):setTimeout(ha,0,a,e.uniqId);f(a,"vastId "+e.vastId+" - got js adLoaded event",!1)}catch(c){r(a,e.vastId,3,"jsVpaidAdLoaded callback gave JS exception: ",c,e)}}function fa(b,e){try{var a=h[e.playersStorageName];"undefined"===typeof b?b="no message":"string"!==typeof b&&(b=b.message?b.message:b.data&&b.data.message?b.data.message:
"Couldnt extract error message");CEDATO_BROWSER.oldIE?setTimeout(function(){ra(a,e.uniqId,b)},10):setTimeout(ra,0,a,e.uniqId,b);f(a,"vastId "+e.vastId+" - got js adError event: "+b,!1)}catch(c){r(a,e.vastId,3,"jsVpaidAdError callback gave JS exception: ",c,e)}}function S(b,e){try{var a=h[e.playersStorageName];CEDATO_BROWSER.oldIE?setTimeout(function(){ia(a,e.uniqId)},0):setTimeout(ia,0,a,e.uniqId);try{!a.allowSound&&e.jsVPAIDElement.setAdVolume&&e.jsVPAIDElement.setAdVolume(0)}catch(c){}f(a,"vastId "+
e.vastId+" - got js adStarted event: ",!1)}catch(c){r(a,e.vastId,3,"jsVpaidAdStarted callback gave JS exception: ",c,e)}}function V(b,e){try{var a=h[e.playersStorageName];CEDATO_BROWSER.oldIE?setTimeout(function(){ja(a,e.uniqId)},10):setTimeout(ja,0,a,e.uniqId);f(a,"vastId "+e.vastId+" - got js adImpression event: ",!1);try{!a.allowSound&&e.jsVPAIDElement.setAdVolume&&e.jsVPAIDElement.setAdVolume(0)}catch(c){}}catch(c){r(a,e.vastId,3,"jsVpaidAdImpression callback gave JS exception: ",c,e)}}function U(b,
e){try{var a=h[e.playersStorageName];CEDATO_BROWSER.oldIE?setTimeout(function(){Ra(a,e.uniqId)},10):setTimeout(Ra,0,a,e.uniqId);try{!a.allowSound&&e.jsVPAIDElement.setAdVolume&&e.jsVPAIDElement.setAdVolume(0)}catch(c){}f(a,"vastId "+e.vastId+" - got js AdVideoStart event",!1)}catch(c){r(a,e.vastId,3,"jsVPAdVideoStartFunc callback gave JS exception: ",c,e)}}function ea(b,e){try{var a=h[e.playersStorageName];CEDATO_BROWSER.oldIE?setTimeout(function(){sa(a,e.uniqId)},10):setTimeout(sa,0,a,e.uniqId);
f(a,"vastId "+e.vastId+" - got js FirstQuartile event",!1)}catch(c){r(a,e.vastId,3,"jsVpaidAdFirstQuartile callback gave JS exception: ",c,e)}}function R(b,e){try{var a=h[e.playersStorageName];CEDATO_BROWSER.oldIE?setTimeout(function(){ta(a,e.uniqId)},10):setTimeout(ta,0,a,e.uniqId);f(a,"vastId "+e.vastId+" - got js midpoint event",!1)}catch(c){r(a,e.vastId,3,"jsVpaidAdMidpoint callback gave JS exception: ",c,e)}}function ga(b,e){try{var a=h[e.playersStorageName];CEDATO_BROWSER.oldIE?setTimeout(function(){ua(a,
e.uniqId)},0):setTimeout(ua,10,a,e.uniqId);f(a,"vastId "+e.vastId+" - got js adThirdQuartile event",!1)}catch(c){r(a,e.vastId,3,"jsVpaidAdThirdQuartile callback gave JS exception: ",c,e)}}function qa(b,e){try{var a=h[e.playersStorageName];f(a,"vastId "+e.vastId+" - got js adComplete event",!1);CEDATO_BROWSER.oldIE?setTimeout(function(){ka(a,e.uniqId)},0):setTimeout(ka,10,a,e.uniqId)}catch(c){r(a,e.vastId,3,"jsVpaidAdComplete callback gave JS exception: ",c,e)}}function v(b,e){try{var a=h[e.playersStorageName];
f(a,"vastId "+e.vastId+" - got js adStopped event",!1);CEDATO_BROWSER.oldIE?setTimeout(function(){Sa(a,e.uniqId)},10):setTimeout(Sa,0,a,e.uniqId)}catch(c){r(a,e.vastId,3,"jsVpaidAdStopped callback gave JS exception: ",c,e)}}function db(b,e){try{var a=h[e.playersStorageName];"undefined"===typeof b&&(b=!1);var c;try{c=e.jsVPAIDElement.getAdRemainingTime()}catch(d){c=!1}if(!c&&(c=b,!c))try{c=e.jsVPAIDElement.remainingTime}catch(d){}f(a,"vastId "+e.vastId+" - got js adRemainingTimeChange event, remainingTime:"+
c,!1);c&&(CEDATO_BROWSER.oldIE?setTimeout(function(){va(a,e.uniqId,c)},10):setTimeout(va,0,a,e.uniqId,c),f(a,"vastId "+e.vastId+" - got js adRemainingTimeChange event, t:"+c,!1))}catch(d){r(a,e.vastId,3,"jsVpaidAdRemainingTimeChange callback gave JS exception: ",d,e)}}function fb(b,e){try{var a=h[e.playersStorageName];"undefined"===typeof b&&(b=!1);var c;try{c=e.jsVPAIDElement.getAdDuration()}catch(d){c=!1}if(!c&&(c=b,!c))try{c=e.jsVPAIDElement.duration}catch(d){}f(a,"vastId "+e.vastId+" - got js adDurationChange event, duration:"+
c,!1);c&&(CEDATO_BROWSER.oldIE?setTimeout(function(){wa(a,e.uniqId,c)},10):setTimeout(wa,0,a,e.uniqId,c),f(a,"vastId "+e.vastId+" - got js adDurationChange event, t:"+c,!1))}catch(d){r(a,e.vastId,3,"adDurationChange callback gave JS exception: ",d,e)}}function eb(b,e){try{var a=h[e.playersStorageName];"undefined"===typeof b&&(b="");CEDATO_BROWSER.oldIE?setTimeout(function(){xa(a,e.uniqId,b)},10):setTimeout(xa,0,a,e.uniqId,b);f(a,"vastId "+e.vastId+" - got js adClickthru event, url: "+b,!1)}catch(c){r(a,
e.vastId,3,"jsVpaidAdClickthru callback gave JS exception: ",c,e)}}function gb(b,e){try{f(b,"vastId "+e.vastId+" - VPAID JS script loaded",!1);var a=e.jsVpaidFrame;if(1==e.jsVPAIDType){if(!a||!a.contentWindow||!a.contentWindow.getVPAIDAd){r(b,e.vastId,324,"couldn't find js vpaid module",!1,e);e.tlvState=10;e.errorCount+=1;E(e,0);return}var d=a.contentWindow&&a.contentWindow.document,g;g=b.usejsv&&b.mainAutoplay?new a.contentWindow.video_jsv:d.createElement("video");e.vpaidJsIframeVideo=g;g.setAttribute("preload",
"auto");g.style.margin="0";g.style.padding="0";g.style.top="0px";g.style.left="0px";g.style.position="absolute";g.style.width="100%";g.style.height="100%";b.usejsv&&b.mainAutoplay&&(g.canPlayType=function(){return"probably"},g.proxyUrl=function(a){return c(a,b)});e.vpaidJsIframeAdElem.appendChild(g);b.usejsv&&b.mainAutoplay&&(e.vpaidJsIframeVideoCanvas=e.vpaidJsIframeVideo.getElementsByTagName("canvas")[0]);e.initAdEnvObject={};e.initAdEnvObject.slot=e.vpaidJsIframeAdElem;e.initAdEnvObject.videoSlot=
e.vpaidJsIframeVideo;e.initAdEnvObject.videoSlotCanAutoPlay=!0;b.usejsv&&!b.mainAutoplay&&(e.initAdEnvObject.videoSlotCanAutoPlay=!1);e.jsVPAIDElement=a.contentWindow.getVPAIDAd()}e.jsVPAIDElement?(e.jsVPAIDElement.handshakeVersion&&e.jsVPAIDElement.handshakeVersion("2.0"),1==e.jsVPAIDType&&(e.jsVPAIDElement.subscribe(function(b){Z(b,e)},"AdLoaded"),e.jsVPAIDElement.subscribe(function(b){fa(b,e)},"AdError"),e.jsVPAIDElement.subscribe(function(b){S(b,e)},"AdStarted"),e.jsVPAIDElement.subscribe(function(b){V(b,
e)},"AdImpression"),e.jsVPAIDElement.subscribe(function(b){U(b,e)},"AdVideoStart"),e.jsVPAIDElement.subscribe(function(b){ea(b,e)},"AdVideoFirstQuartile"),e.jsVPAIDElement.subscribe(function(b){R(b,e)},"AdVideoMidpoint"),e.jsVPAIDElement.subscribe(function(b){ga(b,e)},"AdVideoThirdQuartile"),e.jsVPAIDElement.subscribe(function(b){qa(b,e)},"AdVideoComplete"),e.jsVPAIDElement.subscribe(function(b){v(b,e)},"AdStopped"),e.jsVPAIDElement.subscribe(function(b){eb(b,e)},"AdClickThru"),e.jsVPAIDElement.subscribe(function(b){db(b,
e)},"AdRemainingTimeChange"),e.jsVPAIDElement.subscribe(function(b){fb(b,e)},"AdDurationChange")),f(b,"vastId "+e.vastId+" - VPAID JS element prepared",!1),Ba(b,e)):(r(b,e.vastId,325,"failed to create js vpaid module",!1,e),e.tlvState=10,e.errorCount+=1,E(e,0))}catch(h){r(b,e.vastId,3,"jsVpaidLoaded callback gave JS exception: ",h,e)}}function na(b,e){f(b,"vastId "+e.vastId+" - initMediaLoad",!1);e.tlvState=2;if(e.companionHTML)try{"jsvpaid"!=e.adType&&(e.companionsElementDiv||(e.companionsElementDiv=
a.createElement("div"),e.companionsElementDiv.setAttribute("style","width:100%;height:100%;position:relative;top:-"+b.height+"px;  "),b.callingFlashObject?b.companionsDivElem.appendChild(e.companionsElementDiv):b.divElem.appendChild(e.companionsElementDiv)),e.companionsElementDiv&&(f(b,"vastId "+e.vastId+" - companionHTML: "+e.companionHTML,!1),e.companionsElementDiv.innerHTML=e.companionHTML))}catch(d){}if("flvpaid"==e.adType||"jsvpaid"==e.adType)e.durationKnown=!1,b.thirdPartyTimeout&&(-1!=e.mediaURL.indexOf("liverail.com")&&
(-1==e.mediaURL.indexOf("LR_TIMEOUT_ADSOURCE")&&(e.mediaURL+="&LR_TIMEOUT_ADSOURCE="+b.thirdPartyTimeout,f(b,"vastId "+e.vastId+" - initMediaLoad - added timeout to media file, new url: "+e.mediaURL,!1)),-1==e.mediaURL.indexOf("LR_TIMEOUT_DELIVERY")&&(e.mediaURL+="&LR_TIMEOUT_DELIVERY="+b.thirdPartyTimeout,f(b,"vastId "+e.vastId+" - initMediaLoad - added timeout to media file, new url: "+e.mediaURL,!1))),-1!=e.mediaURL.indexOf("adap.tv")&&-1==e.mediaURL.indexOf("breakLoadedTimeout")&&(e.mediaURL+=
"&breakLoadedTimeout="+1E3*b.thirdPartyTimeout,f(b,"vastId "+e.vastId+" - initMediaLoad - added timeout to media file, new url: "+e.mediaURL,!1)));if("flvpaid"==e.adType){b.urlReplacer&&b.urlReplacer.vastId==e.vastId&&-1!=e.mediaURL.indexOf(b.urlReplacer.searchFor)&&(e.mediaURL=b.urlReplacer.replaceWith+e.mediaURL.substr(e.mediaURL.indexOf("?")));f(b,"vastId "+e.vastId+" - initMediaLoad - uniqId: "+e.uniqId+", flash loadAd with url "+e.mediaURL,!1);try{-1!==e.mediaURL.indexOf("[[IMPORT]]")&&(e.mediaURL=
e.mediaURL.replace("[[IMPORT]]",b.protocol+"/")),e.flashElement[e.flashEICallbacks]("vpwLoadAd",e.mediaURL,e.isIMA,12E3,e.playersStorageName,e.uniqId,b.successCallbackFuncName,b.failureCallbackFuncName,b.adLoadedCallbackFuncName,b.adErrorCallbackFuncName,b.adStartedCallbackFuncName,b.adImpressionCallbackFuncName,b.adFirstQuartileEventCallbackFundName,b.adMidpointEventCallbackFuncName,b.adThirdQuartileEventCallbackFundName,b.adCompleteEventCallbackFuncName,b.adRemainingtimeChangeCallbackFuncName,b.adDurationChangeCallbackFuncName,
b.adClickthroughCallbackFuncName,b.adSetCompanionsCallbackFuncName,b.allowSound,b.width,b.height)}catch(d){e.tlvState=1;e.errorCount++;r(b,e.vastId,5,"loadAd failed - vpw disappeared: "+d.message+" ** "+e.flashEICallbacks,!1,e);T(b,e,"initMediaLoad");return}}else if("jsvpaid"==e.adType)f(b,"vastId "+e.vastId+" - initMediaLoad - loading JS script "+e.mediaURL,!1),F(e.mediaURL,gb,b,e);else if("video"==e.adType)if(f(b,"vastId "+e.vastId+" - initMediaLoad - initializing video url to "+e.mediaURL,!0),
b.divElem.appendChild(e.videoElement),p(b,e),b.usejsv){var A=c(e.mediaURL,b);e.videoElement.setAttribute("src",A);null!=e.playVideoRetry&&(clearInterval(e.playVideoRetry),e.playVideoRetry=null);var g=function(b,a){f(b,"vastId "+a.vastId+" - jsv play video retry",!1);var e=a.videoElement.getAttribute("src");a.videoElement.setAttribute("src",e)};e.playVideoRetry=CEDATO_BROWSER.oldIE?setInterval(function(){g(b,e)},2E4):setInterval(g,2E4,b,e)}else e.videoElement.src=e.mediaURL,e.videoElement.preload=
"auto",e.videoElement.autoplay="",e.videoElement.controls=b.controlBar,e.videoElement.loop="",b.allowSound||(e.videoElement.muted="muted");f(b,"vastId "+e.vastId+" - initMediaLoad - done",!0)}function E(b,a){var c=h[b.playersStorageName];if(null!=b.requeryTimeout)f(c,"vastId "+b.vastId+" - requery vast already scheduled - ignoring",!1);else{null!=b.startAdStopper&&(clearTimeout(b.startAdStopper),b.startAdStopper=null);null!=b.startAdHalfStopper&&(clearTimeout(b.startAdHalfStopper),b.startAdHalfStopper=
null);null!=b.startAdSwitcher&&(clearTimeout(b.startAdSwitcher),b.startAdSwitcher=null);null!=b.playVideoRetry&&(clearInterval(b.playVideoRetry),b.playVideoRetry=null);null!=b.initAdThrottler&&(clearInterval(b.initAdThrottler),b.initAdThrottler=null);try{if(b.flashElement&&b.flashEICallbacks)b.flashElement[b.flashEICallbacks]("clearAd",b.uniqId)}catch(d){}"jsvpaid"==b.adType&&Ta(b);f(c,"vastId "+b.vastId+" - scheduling requery vast",!1);0===a&&(a=b.freqRetry?10>b.errorCount?1E3+Math.floor(500*Math.random()):
100>b.errorCount?2E3+Math.floor(500*Math.random()):110>b.errorCount?2E3+Math.floor(1500*Math.random()):1E4:1==b.errorCount?200:4>b.errorCount?1E3:10>b.errorCount?1E3*b.errorCount:100>b.errorCount?1E4:100==b.errorCount?200:104>b.errorCount?3E3:110>b.errorCount?6E3:3E4,a*=c.vastWaitFactor,f(c,"vastId "+b.vastId+" - wait is set to "+a+", ec: "+b.errorCount,!1));var g=function(b,a){f(b,"vastId "+a.vastId+" - requery",!1);a.requeryTimeout=null;pa(a)};b.requeryTimeout=CEDATO_BROWSER.oldIE?setTimeout(function(){g(c,
b)},a):setTimeout(g,a,c,b)}}function oa(b,a){a.videoElement&&(a.videoElement.style.display="none");null!=a.flashElementDiv&&(a.flashElementDiv.style.zIndex="-1");null!=a.jsVPAIDElementDiv&&(a.jsVPAIDElementDiv.style.zIndex="1");a.vpaidJsIframeAdElem&&(a.vpaidJsIframeAdElem.style.zIndex="1");a.vpaidJsIframeVideo&&(a.vpaidJsIframeVideo.style.zIndex="1")}function Ka(b,a){b.domReady?"flvpaid"==a.adType?2===a.vpwLoaded?(f(b,"vastId "+a.vastId+" - dom is already ready and vpw is loaded - calling initMediaLoad",
!0),na(b,a)):f(b,"vastId "+a.vastId+" - dom is ready but vpw is not loaded yet - initMediaLoad will be called later",!1):(f(b,"vastId "+a.vastId+" - dom is already and this is a video ad - calling initMediaLoad",!1),na(b,a)):f(b,"vastId "+a.vastId+" - dom is not ready - initMediaLoad will be called later",!1)}function pa(b){var a=h[b.playersStorageName];if(a.frozen)f(a,"vastId "+b.vastId+" - fpv - frozen - quiting",!1);else{b.loadAdTime=(new Date).getTime();b.floadCbs=[];b.roundNo++;b.initAdEnvObject=
null;var c=0;0<b.maxFailedVastRetries&&(c=b.maxFailedVastRetries);0<a.maxFailedVastRetries&&(0==c||a.maxFailedVastRetries<c)&&(c=a.maxFailedVastRetries);if(0<c&&b.roundNo>c)f(a,"vastId "+b.vastId+" - crossed number of allowed failed retries: "+c,!1),Q(a,b,!0);else{var c=b.vastURL,d=(new Date).getTime(),c=c.replace(/\[CB\]/g,d),c=c.replace(/\[CACHE_BUSTER\]/g,d),c=c.replace(/\[CACHEBUSTING\]/g,d),c=c.replace(/\[WIDTH\]/g,a.width),c=c.replace(/\[HEIGHT\]/g,a.height);a.info&&(c=c.replace(/\[DEVICEOS\]/gi,
encodeURIComponent(a.info.os)),c=c.replace(/\[DEVICEOSV\]/gi,encodeURIComponent(a.info.osv)),c=c.replace(/\[DEVICEMAKE\]/gi,encodeURIComponent(a.info.make)),c=c.replace(/\[DEVICEMODEL\]/gi,encodeURIComponent(a.info.model)));f(a,"vastId "+b.vastId+" - fetch_player_vast, url: "+b.vastURL,!1);b.ad=null;b.creative=null;b.mediaURL="";b.isFlash=0;b.adType&&(b.previousAdType=b.adType);b.adType=null;b.vpaidPlaying=0;b.vastTracker=null;b.skipVastTracker=!1;b.hasFlashVPAID=!1;b.hasJSVPAID=!1;oa(a,b);-1!=c.indexOf(".g.doubleclick.net")&&
(b.isIMA=!0);b.isIMA?a.flashSupport&&(f(a,"vastId "+b.vastId+" - is IMA",!1),b.isFlash=1,b.adType="flvpaid",b.mediaURL=c,b.companionHTML="",b.tlvState=1,b.skipVastTracker=!0,Ka(a,b)):(d={withCredentials:!0},d.players=a,d.playerData=b,d.urlhandler=Ea,a.DMVAST.client.get(c,d,function(a){try{var e=h[b.playersStorageName],c=b.vastId;f(e,"vastId "+c+" - got response",!1);if(e.frozen)f(e,"vastId "+c+" - fpv answer - frozen - quiting",!1);else if(a&&a.ads){f(e,"vastId "+c+" - got response with data",!0);
f(e,a,!0);for(var d=!1,A=!1,g=!1,L="",l=0,m=0,n=!1,q="",p="",t,u=a.ads.length;0<u;){var v=a.ads[0];f(e,"vastId "+c+" - got ad",!1);f(e,v,!0);for(var u=0,w=v.creatives.length;u<w;u++){var x=v.creatives[u];f(e,"vastId "+c+" - got creative",!0);f(e,x,!0);switch(x.type){case "linear":f(e,"vastId "+c+" - creative is linear with "+x.mediaFiles.length+" medias",!0);for(var z=0,B=x.mediaFiles.length;z<B;z++){var y=x.mediaFiles[z];f(e,"vastId "+c+" - got media",!0);f(e,y,!0);p+=y.mimeType+",";f(e,"vastId "+
c+" - got media - mimeType: "+y.mimeType,!1);if("video/"!=y.mimeType.substr(0,6)&&"application/x-shockwave-flash"!=y.mimeType&&"application/javascript"!=y.mimeType)f(e,"vastId "+c+" - not a video mimeType: "+y.mimeType,!0);else{"application/javascript"==y.mimeType&&(t=b.hasJSVPAID=!0);if("video/"==y.mimeType.substr(0,6)){try{if(!e.usejsv&&!e.hasVideoSupport){f(e,"vastId "+c+" - no video support for mimeType: "+y.mimeType,!1);continue}b.videoElement||(b.videoElement=J(e,b));if(!e.usejsv&&!b.videoElement.canPlayType(y.mimeType)){f(e,
"vastId "+c+" - unsupported mimeType: "+y.mimeType,!0);continue}}catch(C){}if(e.usejsv&&"video/webm"!=y.mimeType&&"video/mp4"!=y.mimeType&&"video/wmv"!=y.mimeType&&"video/flv"!=y.mimeType){f(e,"vastId "+c+" - unsupported mimeType: "+y.mimeType,!0);continue}}"application/x-shockwave-flash"==y.mimeType&&(b.hasFlashVPAID=!0);if("application/x-shockwave-flash"!=y.mimeType||e.flashSupport){if("application/x-shockwave-flash"!=y.mimeType&&"application/x-shockwave-flash"!=L){var F;if(!(F=y.deliveryType&&
"streaming"==y.deliveryType)){var G=y.fileURL,H=G.split("/")[0].toLowerCase(),N=!("rtsp:"!==H&&"rtp:"!==H);if(!N){var K=G.split(".").pop().split(/\#|\?/)[0];if("m3u8"===K||"m3u"===K)N=!0}F=N}if(F){f(e,"vastId "+c+" - dont allow streaming",!0);continue}N=!0;if(0!=y.bitrate&&0!=l)if(N=!1,y.bitrate>l){f(e,"vastId "+c+" - bitrate is higher than chosen: "+y.bitrate,!0);continue}else y.bitrate==l?N=!0:f(e,"vastId "+c+" - choosing bitrate "+y.bitrate+" over previously chosen bitrate "+l,!0);else if(0!=m&&
0!=y.width){var N=!1,I=y.width*y.height;if(I>m){f(e,"vastId "+c+" - size is higher than chosen: "+y.mediaSize,!0);continue}else I==m?N=!0:f(e,"vastId "+c+" - choosing size "+I+" over previously chosen size "+m,!0)}if(N&&""!=L){if("video/webm"==L){f(e,"vastId "+c+" - same speed but already chosen preferred webm over "+y.mimeType,!0);continue}if("video/ogg"==L&&"video/mp4"==y.mimeType){f(e,"vastId "+c+" - same speed but already chosen preferred ogg over "+y.mimeType,!0);continue}if("video/3gp"==L&&
"video/mp4"==y.mimeType){f(e,"vastId "+c+" - same speed but already chosen preferred 3gp over "+y.mimeType,!0);continue}f(e,"vastId "+c+" - choosing mimeType "+y.mimeType+" over previously chosen "+L,!0)}}N=!0;1==b.vastPreferType?N=!0:2==b.vastPreferType&&(N=!1);-1!==y.fileURL.indexOf("cdn.altitude-arena.com")&&(N=!0);if(!e.callingFlashObject||"application/x-shockwave-flash"===y.mimeType){if("application/x-shockwave-flash"===y.mimeType){if("application/javascript"==L){if(!b.previousAdType&&!N){f(e,
"vastId "+c+" - preferring vpaidjs to flash",!0);continue}if(b.previousAdType&&"flvpaid"===b.previousAdType){f(e,"vastId "+c+" - had flash before now trying JS ",!0);continue}}if(""!==L&&"application/javascript"!==L&&"application/x-shockwave-flash"!==L){f(e,"vastId "+c+" - prefer video over flash",!0);continue}}if("application/javascript"===y.mimeType){if("application/x-shockwave-flash"===L){if(b.previousAdType&&"jsvpaid"==b.previousAdType){f(e,"vastId "+c+" - preferring flash choice if previous is vpaidjs ",
!0);continue}if(!b.previousAdType&&N){f(e,"vastId "+c+" - preferring flash to vpaidjs",!0);continue}}if(""!==L&&"application/javascript"!==L&&"application/x-shockwave-flash"!==L){f(e,"vastId "+c+" - prefer video over JS",!0);continue}}0!=y.bitrate?l=y.bitrate:0!=y.width&&(m=y.width*y.height);L=y.mimeType;d=0;A=u;g=z;n=!0;f(e,"vastId "+c+" - chosen media",!1)}}else f(e,"vastId "+c+" - flash mimetype but we don't have flash support",!0)}}break;case "companion":for(var z=0,O=x.variations.length;z<O;z++){var M=
x.variations[z];M.width==e.width&&M.height==e.height&&"image/jpeg"!=M.type&&(q=M.htmlResource)}}}if(n){try{v=a.ads[d],x=v.creatives[A],y=x.mediaFiles[g],f(e,"vastId "+c+" - chosen ad-creative-media",!1),f(e,v,!0),f(e,x,!0),f(e,y,!0),b.adParameters=x.adParameters,1!=v.impressionURLTemplates.length||v.impressionURLTemplates[0]||(v.impressionURLTemplates=[]),b.ad=v,b.creative=x,"application/x-shockwave-flash"==L?(f(e,"vastId "+c+" - media is flash",!1),b.isFlash=1,b.isJSVPaid=0,b.adType="flvpaid"):"application/javascript"==
L?(f(e,"vastId "+c+" - media is javascript",!1),b.isFlash=0,b.isJSVPaid=1,b.jsVPAIDType=t,b.adType="jsvpaid"):(f(e,"vastId "+c+" - media is video",!1),b.isFlash=0,b.isJSVPaid=0,b.adType="video"),b.mediaURL=y.fileURL,e.usejsv||"flvpaid"==b.adType||(b.mediaURL=k(e.protocol,b.mediaURL)),b.companionHTML=q,b.tlvState=1}catch(C){r(e,b.vastId,3,"fpv-chosen gave JS exception: ",C,b,!1,!0);b.errorCount+=1;E(b,0);break}try{Ka(e,b)}catch(C){r(e,b.vastId,3,"fpv-chosen-init2 gave JS exception: ",C,b,!1,!0);b.errorCount+=
1;E(b,0);break}}else r(e,b.vastId,27,"no suitable media: "+p,!1,b,!1,!0),f(e,"vastId "+c+" - error - no suitable media",!1),e.DMVAST.util.track(v.errorURLTemplates,{ERRORCODE:403}),b.errorCount+=1,E(b,0);break}}else r(e,b.vastId,26,"empty vast response",!1,b,!1,!0),f(e,"vastId "+c+" - empty response",!1),b.errorCount+=1,E(b,0)}catch(C){r(e,b.vastId,3,"fpv gave JS exception: ",C,b,!1,!0),b.errorCount+=1,E(b,0)}}))}}}function hb(){function b(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}
return b()+b()+"-"+b()+"-"+b()+"-"+b()+"-"+b()+b()+b()}function z(b,a){for(var c=0,d=b.plist.length;c<d;c++)if(b.plist[c].uniqId==a)return b.plist[c];return null}function aa(b,a){for(var c=0,d=b.plist.length;c<d;c++)if(b.plist[c].vastId!=a&&6==b.plist[c].tlvState)return!0;return!1}function La(b,a){null!=a.initAdThrottler&&(clearInterval(a.initAdThrottler),a.initAdThrottler=null);var c,d;try{if(f(b,"vastId "+a.vastId+" - calling initAd, uniqId: "+a.uniqId,!1),a.tlvState=3,"flvpaid"==a.adType&&(d="vpw disappeared",
"string"!==typeof a.adParameters&&(a.adParameters=""),c=a.flashElement[a.flashEICallbacks]("vpwInitAd",a.adParameters,a.uniqId)),"jsvpaid"==a.adType){d="external js exception";var g=!1,g={};g.AdParameters=a.adParameters?a.adParameters:{};!1===g&&(g={});c=a.jsVPAIDElement.initAd(b.width,b.height,"normal",4800,g,a.initAdEnvObject);b.usejsv&&b.mainAutoplay&&0==a.vpaidJsIframeVideo.getElementsByTagName("canvas").length&&a.vpaidJsIframeVideo.appendChild(a.vpaidJsIframeVideoCanvas);if("undefined"===typeof c||
c)c="1"}}catch(h){r(b,a.vastId,5,"initAd failed - "+d+": "+h.message,!1,a);a.tlvState=10;a.errorCount+=1;E(a,0);"flvpaid"==a.adType&&T(b,a,"initAd");return}if("1"==c)f(b,"vastId "+a.vastId+" - initAd returned success",!1);else{c="no reason given";try{"flvpaid"==a.adType&&(c=a.flashElement[a.flashEICallbacks]("getLastError",a.uniqId)),"jsvpaid"==a.adType&&(c="js vpaid error")}catch(h){c="getLastError gave exception: "+h.message}r(b,a.vastId,5,"initAd failed - "+c,!1,a,!1,!0);a.tlvState=10;a.errorCount+=
1;"flvpaid"==a.adType&&P(b,a,!0);E(a,0)}}function Ma(b,a){for(var c="in group "+a.group+", ",d=!0,f=0,g=b.plist.length;f<g;f++)if("1"==b.plist[f].group&&3>b.plist[f].tlvState&&!b.plist[f].errorCount&&1>=b.plist[f].roundNo){d=!1;break}for(var h=!0,f=0,g=b.plist.length;f<g;f++)if("1"==b.plist[f].group&&6>b.plist[f].tlvState&&!b.plist[f].errorCount&&1>=b.plist[f].roundNo){h=!1;break}if("1"==a.group&&1>=a.errorCount)return c+" and no/low error count";if(a.duplicatedNow)return a.duplicatedNow=!1,c+" just duplicated";
if("1"!=a.group&&!h||"1"!=a.group&&b.anyPlaying)return!1;g=f=0;for(h=b.plist.length;g<h;g++)3<=b.plist[g].tlvState&&10!=b.plist[g].tlvState&&f++;if(6>f){if("1"==a.group)return c+" and less than 6 total";if(d)return c+" and less than 6 total, all group 1 inited"}return!1}function Ba(b,a){null!=a.requeryTimeout&&(f(b,"vastId "+a.vastId+" - cleared pending requery",!1),clearTimeout(a.requeryTimeout),a.requeryTimeout=null);var c=Ma(b,a);if(c)f(b,"vastId "+a.vastId+" - initAd throttler passed: "+c,!1),
La(b,a);else{f(b,"vastId "+a.vastId+" - initAd throttled, we'll wait",!1);var d=function(b,a){try{var e=Ma(b,a);e&&(f(b,"vastId "+a.vastId+" - initAd throttler passed in interval: "+e,!1),La(b,a))}catch(c){r(b,a.vastId,3,"iat gave JS exception: ",c,a)}};a.initAdThrottler=CEDATO_BROWSER.oldIE?setInterval(function(){d(b,a)},300):setInterval(d,300,b,a)}}function ha(b,a,c){var d=z(b,a);if(d)if(d.firedEvents.AdLoaded)f(b,"AdLoaded fired already",!1);else{d.firedEvents.AdLoaded=!0;var g=d.vastId;if("undefined"===
typeof c||0>c)c="";f(b,"vastId "+g+" - got vpaid adLoaded callback, uniqId: "+a+", mem used: "+c,!1);null!=d.requeryTimeout&&(f(b,"vastId "+g+" - cleared pending requery",!1),clearTimeout(d.requeryTimeout),d.requeryTimeout=null);2>d.tlvState||10==d.tlvState?f(b,"vastId "+g+" - adLoaded on wrong state - ignoring it - "+d.tlvState,!1):3<d.tlvState&&10!=d.tlvState?f(b,"vastId "+g+" - second adLoaded event - ignoring it",!1):(d.tlvState=4,f(b,"vastId "+g+" - marked as ready to play",!0),p(b,d,c),"vpaid"==
b.mode&&b.vpaidObj.call("jsAdReadyToStart",{},!0),q(b))}else f(b,"got adLoaded callback for a gone uniq",!1)}function ra(b,a,c){if(a=z(b,a)){x(b,a);var d=a.vastId;f(b,"vastId "+d+" - got vpaid aderror callback, message: "+c,!1);if(2>=a.tlvState||10==a.tlvState)f(b,"vastId "+d+" - vpaid aderror callback on invalid state - ignoring - "+a.tlvState,!1);else{var g=!1,h=!1;if(1==a.vpaidPlaying){a.vpaidPlaying=0;if(b.parallelStartAd){if(6==a.tlvState||7==a.tlvState)f(b,"vastId "+d+" - was playing",!1),b.anyPlaying=
aa(b,d),b.anyPlaying||ca(b)}else f(b,"vastId "+d+" - was playing",!1),b.anyPlaying=aa(b,d),b.anyPlaying||ca(b);null!=a.startAdHalfStopper&&(clearTimeout(a.startAdHalfStopper),a.startAdHalfStopper=null);null!=a.startAdStopper&&(clearTimeout(a.startAdStopper),a.startAdStopper=null);b.parallelStartAd&&(h=!0)}4>a.tlvState&&(g=!0);null!=a.startAdSwitcher&&(clearTimeout(a.startAdSwitcher),a.startAdSwitcher=null);null!=a.initAdThrottler&&(clearInterval(a.initAdThrottler),a.initAdThrottler=null);var d=22,
k="";try{k=c.toLowerCase()}catch(l){}if(-1!=k.indexOf("timeout")||-1!=k.indexOf("timed out"))d=110;if(-1!=k.indexOf("empty")||-1!=k.indexOf("3403"))d=111;-1!=k.indexOf("domain")&&-1!=k.indexOf("block")&&(d=112);if(-1!=k.indexOf("no ad")||-1!=k.indexOf("there was an error parsing the ad tag response - null, errno: 0"))d=113;if(-1!=k.indexOf("but the server returned a vast error")||-1!=k.indexOf("failed to parse liverail xml response")||-1!=k.indexOf("unknown liverail xml response type"))d=114;if(-1!=
k.indexOf("security error")||-1!=k.indexOf("2048"))d=115;if(-1!=k.indexOf("2032")||-1!=k.indexOf("9408")||-1!=k.indexOf("error loading asset : ioerror"))d=116;-1!=k.indexOf("1903")&&(d=117);-1!=k.indexOf("1902")&&(d=118);-1!=k.indexOf("volume violation")&&(b.debugLogReason="volume",t(b),w(b),b.keepDebugLog=!0,d=300);-1!=k.indexOf("non linear ads")&&(d=157);-1!=k.indexOf("adstart exception")&&(d=156);r(b,a.vastId,d,"onAdError on state "+a.tlvState+" : "+c,!1,a,h,g);a.errorCount=5<=a.tlvState?a.errorCount+
100:a.errorCount+1;null!=a.vastTracker&&a.vastTracker.errorWithCode(901);6==a.tlvState||7==a.tlvState?Q(b,a,!0):(a.tlvState=10,"flvpaid"==a.adType&&P(b,a,!0),E(a,0));q(b)}}else f(b,"got adError callback for a gone uniq",!1)}function ia(b,a){var c=z(b,a);c?c.firedEvents.AdStarted?f(b,"AdStarted fired already",!1):(c.firedEvents.AdStarted=!0,c.firedEvents.AdLoaded||ha(b,a,null),c.adStartCount++,1<c.adStartCount&&r(b,c.vastId,61,"double adstart: "+c.adStartCount,!1,c),"vpaid"==b.mode&&b.vpaidObj.call("jsAdStarted",
{},!0)):f(b,"got adStarted callback for a gone uniq",!1)}function ja(b,a,c){var d=z(b,a);if(d)if(d.firedEvents.AdImpression)f(b,"AdImpression fired already",!1);else{d.firedEvents.AdImpression=!0;d.firedEvents.AdStarted||ia(b,a);if("undefined"===typeof c||0>c)c="";f(b,"vastId "+d.vastId+" - got flash impression callback, uniqId: "+a+", mem used: "+c,!1);10==d.tlvState||5>d.tlvState?f(b,"vastId "+d.vastId+" - got flash impression callback but in invalid state - ignoring - "+d.tlvState,!1):Y(b,d.uniqId,
!1,c)&&(null!=d.startAdHalfStopper&&(clearTimeout(d.startAdHalfStopper),d.startAdHalfStopper=null),null!=d.startAdStopper&&(clearTimeout(d.startAdStopper),d.startAdStopper=null),d.errorCount=0)}else f(b,"got adImpression callback for a gone uniq",!1)}function Ra(b,a){var c=z(b,a);c?c.firedEvents.AdVideoStart?f(b,"AdVideoStart fired already",!1):(c.firedEvents.AdVideoStart=!0,c.firedEvents.AdImpression||ja(b,a,null),f(b,"vastId "+c.vastId+" - got flash AdVideoStart callback, uniqId: "+a,!1),"vpaid"==
b.mode&&b.vpaidObj.call("jsAdVideoStart",{},!0)):f(b,"got VPAID AdVideoStart callback for a gone uniq",!1)}function sa(b,a){var c=z(b,a);if(c){var d=c.vastId;f(b,"vastId "+d+" - got flash adFirstQuartile callback, uniqId: "+a,!1);if(c.skipVastTracker)f(b,"vastId "+d+" - skip vast tracker mode, calling directly",!1),c.vtFirstQuartileFunc(c);else if(c.vastTracker){if(c.vastTracker.quartiles&&c.vastTracker.quartiles.firstQuartile){var g=c.vastTracker.quartiles.firstQuartile;!c.vastTracker.progress||
c.vastTracker.progress<g?(f(b,"vastId "+d+" - advancing progress accordingly",!1),c.vastTracker.setProgress(g)):f(b,"vastId "+d+" - progress is in the right place ("+c.vastTracker.progress+")",!1)}}else r(b,c.vastId,3,"no vastTracker for first quartile",!1,c,!1,!1,"vastTracker error");"vpaid"==b.mode&&b.vpaidObj.call("jsAdFirstQuartile",{},!0)}else f(b,"got flash first quartile callback for a gone uniq",!1)}function ta(b,a){var c=z(b,a);if(c){var d=c.vastId;f(b,"vastId "+d+" - got flash adMidpoint callback",
!1);if(c.skipVastTracker)f(b,"vastId "+d+" - skip vast tracker mode, calling directly",!1),c.vtMidPointFunc(c);else if(c.vastTracker){if(c.vastTracker.quartiles&&c.vastTracker.quartiles.midpoint){var g=c.vastTracker.quartiles.midpoint;!c.vastTracker.progress||c.vastTracker.progress<g?(f(b,"vastId "+d+" - advancing progress accordingly",!1),O("firstQuartile",b,c),c.vastTracker.setProgress(g)):f(b,"vastId "+d+" - progress is in the right place",!1)}}else r(b,c.vastId,3,"no vastTracker for midpoint",
!1,c,!1,!1,"vastTracker error");"vpaid"==b.mode&&b.vpaidObj.call("jsAdMidpoint",{},!0)}else f(b,"got flash midpoint callback for a gone uniq",!1)}function ua(b,a){var c=z(b,a);if(c){var d=c.vastId;f(b,"vastId "+d+" - got flash adThirdQuartile callback",!1);if(c.skipVastTracker)f(b,"vastId "+d+" - skip vast tracker mode, calling directly",!1),c.vtThirdQuartileFunc(c);else if(c.vastTracker){if(c.vastTracker.quartiles&&c.vastTracker.quartiles.thirdQuartile){var g=c.vastTracker.quartiles.thirdQuartile;
!c.vastTracker.progress||c.vastTracker.progress<g?(f(b,"vastId "+d+" - advancing progress accordingly",!1),O("firstQuartile",b,c),O("midpoint",b,c),c.vastTracker.setProgress(g)):f(b,"vastId "+d+" - progress is in the right place",!1)}}else r(b,c.vastId,3,"no vastTracker for third quartile",!1,c,!1,!1,"vastTracker error");"vpaid"==b.mode&&b.vpaidObj.call("jsAdThirdQuartile",{},!0)}else f(b,"got flash third quartile callback for a gone uniq",!1)}function ka(b,a){var c=z(b,a);if(c){x(b,c);oa(b,c);var d=
c.vastId;f(b,"vastId "+d+" - got vpaid adComplete callback",!1);6!=c.tlvState&&7!=c.tlvState?f(b,"vastId "+d+" - vpaid adcomplete callback on invalid state - ignoring - "+c.tlvState,!1):(c.tlvState=8,b.anyPlaying=aa(b,d),b.anyPlaying||ca(b),null!=c.startAdSwitcher&&(clearTimeout(c.startAdSwitcher),c.startAdSwitcher=null),c.skipVastTracker?(f(b,"vastId "+d+" - skip vast tracker mode, calling directly",!1),c.vtCompleteFunc(c)):null==c.vastTracker?r(b,c.vastId,3,"no vastTracker for complete",!1,c,!1,
!1,"vastTracker error"):(O("firstQuartile",b,c),O("midpoint",b,c),O("thirdQuartile",b,c),c.vastTracker.complete()),"vpaid"==b.mode&&(b.vpaidObj.call("jsAdComplete",{},!0),b.vpaidObj.call("jsAdStopped",{},!0)),CEDATO_BROWSER.oldIE?setTimeout(function(){Q(b,c)},3E3):setTimeout(Q,3E3,b,c),b.frozen?f(b,"vastId "+d+" - frozen - finishing here",!1):(b.readyForStartAd&&Da(b),q(b)))}else f(b,"got vpaid adComplete callback for a gone uniq",!1)}function Sa(b,a){var c=z(b,a);if(c){if(x(b,c),f(b,"vastId "+c.vastId+
" - got flash adStopped callback",!1),6==c.tlvState||7==c.tlvState)f(b,"triggering manual AdComplete",!1),ka(b,a)}else f(b,"got flash adStopped callback for a gone uniq",!1)}function xa(b,a,c){(a=z(b,a))?(b.apiInterface.trigger("click",{url:c,vastId:a.vastId}),f(b,"vastId "+a.vastId+" - got flash click through callback",!1),a.skipVastTracker?(f(b,"vastId "+a.vastId+" - skip vast tracker mode, calling directly",!1),a.vtClickThroughFunc(c,a)):null==a.vastTracker?r(b,a.playerData.vastId,3,"no vastTracker for click",
!1,a,!1,!1,"vastTracker error"):a.vastTracker.click(),"vpaid"==b.mode&&b.vpaidObj.call("jsAdClickthrough",{url:c},!0)):f(b,"got flash click callback for a gone uniq",!1)}function wa(b,a,c){(a=z(b,a))?(f(b,"vastId "+a.vastId+" - got vpaid ad duration time callback, t: "+c,!0),a.duration=c,a.durationKnown=!0,a.vastTracker&&(a.vastTracker.duration=a.duration,a.vastTracker.setDuration(a.duration)),"vpaid"==b.mode&&b.vpaidObj.call("jsAdDurationChange",{duration:c},!0)):f(b,"got vpaid duration change callback for a gone uniq",
!1)}function va(b,a,c){(a=z(b,a))?(f(b,"vastId "+a.vastId+" - got flash ad remaining time callback, t: "+c,!0),!a.durationKnown||6>a.tlvState?(f(b,"vastId "+a.vastId+" - got first flash ad remaining time callback, duration set to t: "+c,!0),a.duration=c,a.durationKnown=!0,a.vastTracker&&(a.vastTracker.duration=a.duration,a.vastTracker.setDuration(a.duration)),"vpaid"==b.mode&&b.vpaidObj.call("jsAdDurationChange",{duration:c},!0)):(a.vastTracker&&a.vastTracker.setProgress(a.duration-c),"vpaid"==b.mode&&
b.vpaidObj.call("jsAdRemainingTimeChange",{remainingTime:c},!0))):f(b,"got flash remaining callback for a gone uniq",!1)}function ib(b){b.anyVPWLoaded=0;if(b.reportVPWLoaded){b.reportVPWLoaded=!0;b.reportVPWLoadedCount=0;f(b,"vpws - reporting state 0",!1);CEDATO_EVENT_LOGGER.log(CEDATO_EVENT_LOGGER.E_VPWS,b,{time:0,state:0},f);var a=function(b){try{f(b,"vpws 10 seconds interval",!1);b.reportVPWLoadedCount++;var a=10*b.reportVPWLoadedCount,c=!1;0<b.anyVPWLoaded||4<b.reportVPWLoadedCount?(f(b,"vpws 10 seconds interval - time to stop",
!1),c=!0):(f(b,"vpws - reporting state 0",!1),CEDATO_EVENT_LOGGER.log(CEDATO_EVENT_LOGGER.E_VPWS,b,{time:a,state:0},f));c&&(clearInterval(b.reportVPWStateInterval),b.reportVPWStateInterval=null)}catch(e){K(b,3,"rvpwIntervalFunc gave JS exception: "+e.message)}};b.reportVPWStateInterval=CEDATO_BROWSER.oldIE?setInterval(function(){a(b)},1E4):setInterval(a,1E4,b)}b.floadSuccessCallbackFuncName="flsc"+Math.floor(1000001*Math.random());h[b.floadSuccessCallbackFuncName]=function(b,a,c,e){try{var d=h[b],
g=z(d,a);if(g){var k=g.vastId;f(d,"vastId "+k+" - got fload success callback "+c,!1);d.logVastResponse&&(f(d,"vastId "+g.vastId+" - fload response:",!1),f(d,e,!1));if(g.floadCbs[c]){var l={};l.players=d;l.playerData=g;l.urlhandler=Ea;var m;try{m=CEDATO_BROWSER.parseTextToXML(e)}catch(n){r(d,k,3,"fload success XML parse callback gave JS exception: "+e,n,g)}if(!m)return f(d,"vastId "+k+" - fload failed - no xmlDocument",!1),g.floadCbs[c](null,null,l);CEDATO_BROWSER.oldIE?setTimeout(function(){g.floadCbs[c](null,
m,l)},10):setTimeout(g.floadCbs[c],0,null,m,l)}else f(d,"vastId "+k+" - fload success cb disappeared "+c,!1)}else f(d,"got fload success callback for a gone uniq",!1)}catch(n){d=h[b],g=z(d,a),k=g.vastId,r(d,k,3,"fload success callback gave JS exception: ",n,g)}};b.floadFailureCallbackFuncName="flfc"+Math.floor(1000001*Math.random());h[b.floadFailureCallbackFuncName]=function(b,a,c,e,d){try{var g=h[b],k=z(g,a);if(k){var l=k.vastId;f(g,"vastId "+l+" - got fload failure callback "+c+", errorCode: "+
e+", errorMessage: "+d,!1);if(k.floadCbs[c]){var m={};m.players=g;m.playerData=k;m.urlhandler=Ea;CEDATO_BROWSER.oldIE?setTimeout(function(){k.floadCbs[c](null,null,m)},10):setTimeout(k.floadCbs[c],0,null,null,m)}else f(g,"vastId "+l+" - fload failure cb disappeared "+c,!1)}else f(g,"got fload failure callback for a gone uniq",!1)}catch(n){g=h[b],k=z(g,a),l=k.vastId,r(g,l,3,"fload failure callback gave JS exception: ",n,k)}};b.successCallbackFuncName="sc"+Math.floor(1000001*Math.random());h[b.successCallbackFuncName]=
function(b,a,c){try{var e=h[b],d=z(e,a);if(d){var g=d.vastId;if("undefined"===typeof c||0>c)c="";f(e,"vastId "+g+" - got flash success callback, uniqId: "+a+", mem used: "+c,!1);CEDATO_BROWSER.oldIE?setTimeout(function(){Ba(e,d)},10):setTimeout(Ba,0,e,d)}else f(e,"got fload success callback for a gone uniq",!1)}catch(k){(e=h[b])&&a&&(d=z(e,a),g=d.vastId,r(e,g,3,"flash success callback gave JS exception: ",k,d))}};b.failureCallbackFuncName="fc"+Math.floor(1000001*Math.random());h[b.failureCallbackFuncName]=
function(b,a,c,e){try{var d=h[b],g=z(d,a);if(!g&&d)f(d,"got flash failure callback for a gone uniq",!1);else{var k=function(b,a,c,e,d,g){c=a.vastId;f(b,"vastId "+c+" - got flash failure callback, errorCode: "+d+", errorMessage: "+g,!1);a.tlvState=10;a.errorCount+=1;P(b,a,!0);E(a,0);-1!=g.indexOf("#2035")&&(d=2035,g="URL not found");-1!=g.indexOf("#2036")&&(d=2036,g="Load not completed");r(b,c,d,"flash failure called: "+g,!1,a,!1,!0);try{a.flashElement[a.flashEICallbacks]("clearAd",a.uniqId)}catch(h){}};
CEDATO_BROWSER.oldIE?setTimeout(function(){k(d,g,b,a,c,e)},0):setTimeout(k,0,d,g,b,a,c,e)}}catch(l){d=h[b],g=z(d,a),r(d,g.vastId,3,"flash failure callback gave JS exception: ",l,g)}};b.adLoadedCallbackFuncName="al"+Math.floor(1000001*Math.random());h[b.adLoadedCallbackFuncName]=function(b,a,c){try{var e=h[b],d=z(e,a),f=d.vastId;CEDATO_BROWSER.oldIE?setTimeout(function(){ha(e,a,c)},10):setTimeout(ha,0,e,a,c)}catch(g){e=h[b],d=z(e,a),f=d.vastId,r(e,f,3,"flash adLoaded callback gave JS exception: ",
g,d)}};b.adStartedCallbackFuncName="al"+Math.floor(1000001*Math.random());h[b.adStartedCallbackFuncName]=function(b,a){try{var c=h[b];CEDATO_BROWSER.oldIE?setTimeout(function(){ia(c,a)},10):setTimeout(ia,0,c,a)}catch(e){var d=z(c,a);r(c,d.vastId,3,"flash started callback gave JS exception: ",e,d)}};b.adImpressionCallbackFuncName="ai"+Math.floor(1000001*Math.random());h[b.adImpressionCallbackFuncName]=function(b,a,c){try{var e=h[b];CEDATO_BROWSER.oldIE?setTimeout(function(){ja(e,a,c)},10):setTimeout(ja,
0,e,a,c)}catch(d){b=z(e,a),r(e,b.vastId,3,"flash impression callback gave JS exception: ",d,b)}};b.adErrorCallbackFuncName="ae"+Math.floor(1000001*Math.random());h[b.adErrorCallbackFuncName]=function(b,a,c){try{var e=h[b];b=z(e,a);CEDATO_BROWSER.oldIE?setTimeout(function(){ra(e,a,c)},50):setTimeout(ra,50,e,a,c)}catch(d){b=z(e,a),r(e,b.vastId,3,"flash adError callback gave JS exception: ",d,b)}};b.adFirstQuartileEventCallbackFundName="afq"+Math.floor(1000001*Math.random());h[b.adFirstQuartileEventCallbackFundName]=
function(b,a){try{var c=h[b];CEDATO_BROWSER.oldIE?setTimeout(function(){sa(c,a)},10):setTimeout(sa,0,c,a)}catch(e){var d=z(c,a);r(c,d.vastId,3,"flash onFirstQuartile callback gave JS exception: ",e,d)}};b.adMidpointEventCallbackFuncName="am"+Math.floor(1000001*Math.random());h[b.adMidpointEventCallbackFuncName]=function(b,a){try{var c=h[b];CEDATO_BROWSER.oldIE?setTimeout(function(){ta(c,a)},10):setTimeout(ta,0,c,a)}catch(e){var d=z(c,a);r(c,d.vastId,3,"flash onMidpoint callback gave JS exception: ",
e,d)}};b.adThirdQuartileEventCallbackFundName="atq"+Math.floor(1000001*Math.random());h[b.adThirdQuartileEventCallbackFundName]=function(b,a){try{var c=h[b];CEDATO_BROWSER.oldIE?setTimeout(function(){ua(c,a)},10):setTimeout(ua,0,c,a)}catch(e){var d=z(c,a);r(c,d.vastId,3,"flash onThirdQuartile callback gave JS exception: ",e,d)}};b.adCompleteEventCallbackFuncName="ac"+Math.floor(1000001*Math.random());h[b.adCompleteEventCallbackFuncName]=function(b,a){try{var c=h[b];CEDATO_BROWSER.oldIE?setTimeout(function(){ka(c,
a)},0):setTimeout(ka,0,c,a)}catch(e){var d=z(c,a);r(c,d.vastId,3,"flash onComplete callback gave JS exception: ",e,d)}};b.adClickthroughCallbackFuncName="acl"+Math.floor(1000001*Math.random());h[b.adClickthroughCallbackFuncName]=function(b,a,c){try{var e=h[b];CEDATO_BROWSER.oldIE?setTimeout(function(){xa(e,a,c)},10):setTimeout(xa,0,e,a,c)}catch(d){b=z(e,a),r(e,b.vastId,3,"flash onClickthrough callback gave JS exception: ",d,b)}};b.adSetCompanionsCallbackFuncName="sccl"+Math.floor(1000001*Math.random());
h[b.adSetCompanionsCallbackFuncName]=function(b,a,c){try{var e=h[b],d=function(b,a,c){(b=z(e,a))?(f(e,"vastId "+b.vastId+" - got flash set companions HTML callback",!1),b.companionHTML=c,b.companionHTML&&b.companionsElementDiv&&(b.companionsElementDiv.innerHTML=b.companionHTML)):f(e,"got flash set companions callback for a gone uniq",!1)};CEDATO_BROWSER.oldIE?setTimeout(function(){d(b,a,c)},10):setTimeout(d,0,b,a,c)}catch(g){var k=z(e,a);r(e,k.vastId,3,"flash onSetCompanionsHTML callback gave JS exception: ",
g,k)}};b.adRemainingtimeChangeCallbackFuncName="art"+Math.floor(1000001*Math.random());h[b.adRemainingtimeChangeCallbackFuncName]=function(b,a,c){try{var e=h[b];CEDATO_BROWSER.oldIE?setTimeout(function(){va(e,a,c)},10):setTimeout(va,0,e,a,c)}catch(d){b=z(e,a),r(e,b.vastId,3,"flash ad remaining time callback gave JS exception: ",d,b)}};b.adDurationChangeCallbackFuncName="ad"+Math.floor(1000001*Math.random());h[b.adDurationChangeCallbackFuncName]=function(b,a,c){try{var e=h[b];CEDATO_BROWSER.oldIE?
setTimeout(function(){wa(e,a,c)},10):setTimeout(wa,0,e,a,c)}catch(d){b=z(e,a),r(e,b.vastId,3,"flash ad remaining time callback gave JS exception: ",d,b)}}}function Ua(b){var a="",c;for(c in b)b.hasOwnProperty(c)&&(a+="property: "+c+" value: ["+b[c]+"]\n");return a+="toString():  value: ["+b.toString()+"]"}function K(b,a,c,d){d&&(c+=Ua(d));CEDATO_EVENT_LOGGER.log(CEDATO_EVENT_LOGGER.E_PLAYER_ERROR,b,{errorCode:a,errorMessage:c},f);f(b,"errorCode "+a+" - "+c,!1);3!=a||b.keepDebugLog||b.debugLogSubmittedDueToException||
!b.submitDebugLogOnPlayerError||(b.debugLogReason="player error",t(b),w(b),b.debugLogSubmittedDueToException=!0)}function r(b,a,c,d,g,h,k,l,m){var n,q="";if("undefined"!==typeof h&&h){if(3!=c&&1<h.errorCount)return;n="";q=5<=h.tlvState?((new Date).getTime()-h.startAdTime)/1E3:((new Date).getTime()-h.loadAdTime)/1E3;q=q.toFixed(1)}else n="";"undefined"===typeof k&&(k=!1);"undefined"===typeof l&&(l=!1);"undefined"===typeof m&&(m="vast error");g&&(d+=Ua(g));g={playerId:h.playerId,vastId:a,errorCode:c,
errorMessage:d,mediaURL:n};k&&(g.logStartRequest=1);l&&(g.logLoadRequest=1);""!=q&&(g.time=q);CEDATO_EVENT_LOGGER.log(CEDATO_EVENT_LOGGER.E_VAST_ERROR,b,g,f);f(b,"vastId "+a+" - errorCode "+c+" - "+d,!1);3!=c||b.keepDebugLog||b.debugLogSubmittedDueToException||!b.submitDebugLogOnVastError||(b.debugLogReason=m,t(b),w(b),b.debugLogSubmittedDueToException=!0)}function Fa(){var b=h.navigator.userAgent;return 0<b.indexOf("MSIE ")?parseInt(b.split("MSIE")[1]):0<b.indexOf("Trident/")?11:0<b.indexOf("Edge/")?
12:!1}function jb(b,a){null!=a.vpwWaitFunc&&(clearInterval(a.vpwWaitFunc),a.vpwWaitFunc=null);a.vpwWaitRetries=0;var c=function(b,a){try{a.vpwWaitRetries++;var c=!1,e="";try{a.flashEICallbacks=a.flashElement.connectToJSPlayer(b.playersStorageName,b.vpPlayCallbackFuncName,b.vpStopCallbackFuncName,b.vpDebugCallbackFuncName,b.vpResizeAdCallbackFuncName,b.vpSetAdVolumeCallbackFuncName,b.vpPauseCallbackFuncName,b.vpResumeCallbackFuncName),a.flashEICallbacks&&""!=a.flashEICallbacks&&(c=!0,b.singleVPW&&
(b.flashEICallbacks=a.flashEICallbacks))}catch(d){e=d.message}if(c){f(b,"vastId "+a.vastId+" - vpw finished init",!1);clearInterval(a.vpwWaitFunc);a.vpwWaitFunc=null;a.vpwLoaded=2;a.vpwLoadRetry=0;if(2>b.anyVPWLoaded&&(b.anyVPWLoaded=2,b.reportVPWLoaded)){var g=((new Date).getTime()-b.startTime)/1E3,g=g.toFixed(1),h=((new Date).getTime()-b.firstVPWInitTime)/1E3,h=h.toFixed(1);f(b,"vpws - reporting state 2",!1);CEDATO_EVENT_LOGGER.log(CEDATO_EVENT_LOGGER.E_VPWS,b,{time:g,state:2,time2:h},f)}null==
b.fpwReadyTime&&(g=((new Date).getTime()-b.startTime)/1E3,g=g.toFixed(1),b.fpwReadyTime=g);1==a.tlvState&&(f(b,"vastId "+a.vastId+" - has schedule media load - calling now",!1),na(b,a))}else c=5,Fa()&&(c=10),a.vpwWaitRetries>5*c&&(clearInterval(a.vpwWaitFunc),a.vpwWaitFunc=null,Ga(b),f(b,"vastId "+a.vastId+" - vpw won't init on time, last error message: "+e,!1),P(b,a,!0))}catch(d){K(b,3,"vpwWaitFunc gave JS exception: "+d.message,d)}};a.vpwWaitFunc=CEDATO_BROWSER.oldIE?setInterval(function(){c(b,
a)},200):setInterval(c,200,b,a)}function ya(b,c){b.singleVPW&&!b.flashElement&&b.callingFlashObject&&(b.flashElement=b.callingFlashObject,f(b,"using calling flash object as vpw",!1));if(b.singleVPW&&b.flashElement)f(b,"vastId "+c.vastId+" - single vpw, using player vpw",!1),c.flashElement=b.flashElement,c.flashEICallbacks=b.flashEICallbacks,c.vpwLoaded=2;else{var d=c.vastId+"-"+Math.floor(1000001*Math.random()),g=a.createElement("div");g.id=d;b.singleVPW?b.flashElementDiv.appendChild(g):c.flashElementDiv.appendChild(g);
g="vpwid"+Math.floor(1000001*Math.random());g={data:b.vpwURL+b.vpwVersion,width:b.width,height:b.height,id:g,name:g};f(b,"vastId "+c.vastId+" - vpw url: "+g.data,!1);c.flashElement=CEDATO_SWF.swfobject.createSWF(g,{flashvars:"",allowscriptaccess:"always",wmode:"opaque"},d);c.vpwLoaded=0;c.flashEICallbacks="";b.singleVPW&&(b.flashElement=c.flashElement)}}function Ha(b){if("vpaid"!=b.mode){var e=b.protocol+b.conf.content.defaultLoader;b.content&&b.content.loader_image_url&&(e=b.content.loader_image_url);
var g=b.protocol+b.conf.content.playButton,h=[];if(b.content&&b.content.url&&1==b.content.type)for(var l=b.content.url.split(","),m=0,n=l.length;m<n;m++)b.usejsv&&b.mainAutoplay?h.push(c(l[m],b,null,"c")):h.push(k(b.protocol,l[m]));try{b.contentUrlPlayer=new CEDATO_CONTENT.ContentUnit({parentDiv:b.divElem,contentUrl:h,bannerUrl:e,clickUrl:b.content.click,playButtonUrl:g,autoPlay:!!b.content.autoplay,volume:b.allowSound?.8:0,loop:!!b.content.loop,controlBar:!!b.controlBar,videoSupport:b.hasVideoSupport,
customCreateVideoElement:function(){return b.usejsv&&!b.mainAutoplay?a.createElement("video"):d(b)},userStartPlayingCallback:function(){b.content.playFull&&0!==h.length||(b.content.autoplay=!0,b.autoplay=!0,q(b,!0))},endContentVideoCallback:function(){b.content.playFull&&(b.anyPlaying||(b.autoplay=!0),b.usejsv&&!b.mainAutoplay&&b.contentUrlPlayer.hideContent(),q(b,!0))},userClick:function(a){b.apiInterface.trigger("click",{url:b.content.click,vastId:null})},onError:function(a,c){f(b,"Error loading content video: "+
b.content.url+" msg:"+c,!1)}})}catch(p){K(b,3,"createRotator rotatorDiv gave JS exception: "+p.message,p)}}}function ca(b){if("single"==b.mode)if(b.contentUrlPlayer)try{b.contentUrlPlayer.showContent()}catch(a){Ha(b)}else Ha(b)}function Ga(b){if(Fa()&&(!b.vpwVersionRenewed||10<((new Date).getTime()-b.vpwVersionRenewed)/1E3)){b.vpwVersionRenewedCount?b.vpwVersionRenewedCount++:b.vpwVersionRenewedCount=1;if(3<b.vpwVersionRenewedCount)return!1;f(b,"IE detected - using random vpw version",!1);b.vpwVersion=
Math.floor(1000001*Math.random());b.vpwVersionRenewed=(new Date).getTime();return!0}return!1}function Va(b,a){a.vpwStartLoadTime=(new Date).getTime();null!=a.flashInitialTimeout&&(clearInterval(a.flashInitialTimeout),a.flashInitialTimeout=null);null!=a.flashLoadCheckInterval&&(clearInterval(a.flashLoadCheckInterval),a.flashLoadCheckInterval=null);a.vpwLoaded=0;f(b,"vastId "+a.vastId+" - loadVPW - setting FIT",!1);var c=function(b,a){try{if(a.flashElement&&"undefined"!==typeof a.flashElement.PercentLoaded){clearInterval(a.flashInitialTimeout);
a.flashInitialTimeout=null;f(b,"vastId "+a.vastId+" - vpw - started to load flash",!1);null!=a.flashLoadCheckInterval&&(clearInterval(a.flashLoadCheckInterval),a.flashLoadCheckInterval=null);var c=function(b,a){try{if(a.flashElement&&"undefined"!==typeof a.flashElement.PercentLoaded&&a.flashElement.PercentLoaded()&&100===a.flashElement.PercentLoaded()){clearInterval(a.flashLoadCheckInterval);a.flashLoadCheckInterval=null;f(b,"vastId "+a.vastId+" - vpw - flash loaded",!1);a.vpwLoaded=1;if(1>b.anyVPWLoaded&&
(b.anyVPWLoaded=1,b.reportVPWLoaded)){var c=((new Date).getTime()-b.startTime)/1E3,c=c.toFixed(1);b.firstVPWInitTime=(new Date).getTime();f(b,"vpws - reporting state 1",!1);CEDATO_EVENT_LOGGER.log(CEDATO_EVENT_LOGGER.E_VPWS,b,{time:c,state:1},f)}if(0==a.vastId){if(b.prevpwDiv){f(b,"destroying pre vpw",!1);try{b.prevpwDiv.innerHTML="",b.prevpwDiv.parentNode.removeChild(b.prevpwDiv)}catch(e){}b.vpwCached=!0;b.prevpwDiv=null;Wa(b)}}else jb(b,a)}}catch(e){-1==e.message.indexOf("NPObject")&&e.message.indexOf("defineGetter")}};
a.flashLoadCheckInterval=CEDATO_BROWSER.oldIE?setInterval(function(){c(b,a)},400):setInterval(c,400,b,a)}else 0!=a.vastId&&7E3<(new Date).getTime()-a.vpwStartLoadTime&&(a.vpwLoadRetry++,clearInterval(a.flashInitialTimeout),Ga(b),P(b,a,!0))}catch(e){e.message&&-1==e.message.indexOf("NPObject")&&-1==e.message.indexOf("defineGetter")&&K(b,3,"flashInitialTimeout2 gave JS exception: "+e.message);var d=(new Date).getTime();0!=a.vastId&&7E3<d-a.vpwStartLoadTime&&(a.vpwLoadRetry++,clearInterval(a.flashInitialTimeout),
a.flashInitialTimeout=null,f(b,"vastId "+a.vastId+" - vpw timeouted starting to load",!1),P(b,a,!0))}};a.flashInitialTimeout=CEDATO_BROWSER.oldIE?setInterval(function(){c(b,a)},300):setInterval(c,300,b,a)}function P(b,a,c){if(b.domReady){"undefined"!==typeof a.flashElement&&a.flashElement||(f(b,"vastId "+a.vastId+" - flash disappeared",!1),ya(b,a));if(c&&(f(b,"vastId "+a.vastId+" - loadVPW - handling reload",!1),!b.singleVPW))try{try{if(a.flashElement&&a.flashEICallbacks)a.flashElement[a.flashEICallbacks]("clearAd",
a.uniqId)}catch(d){}a.vpwLoaded=0;a.flashEICallbacks=null;try{CEDATO_SWF.swfobject.removeSWF(a.flashElement.id)}catch(d){f(b,"vastId "+a.vastId+" - loadVPW - removeSWF failed",!1)}a.flashElementDiv.innerHTML="";a.flashElement=null;ya(b,a);f(b,"vastId "+a.vastId+" - loadVPW - flash element created",!1)}catch(d){f(b,"vastId "+a.vastId+" - loadVPW - exception - element must have vanished - recreating",!1),a.flashElementDiv.innerHTML="",ya(b,a)}b.callingFlashObject||Va(b,a);f(b,"vastId "+a.vastId+" - loadVPW - done",
!1)}else f(b,"vastId "+a.vastId+" - loadVPW - called before dom ready",!1)}function Wa(b){f(b,"post prepare",!1);if(b.domReady)for(var a=0,c=b.plist.length;a<c;a++){var d=b.plist[a];b.vpwCached&&Qa(b,d);1==d.tlvState&&("flvpaid"!=d.adType||2==d.vpwLoaded&&b.vpwCached&&"flvpaid"==d.adType?(f(b,"vastId "+d.vastId+" has schedule media load - calling now",!1),na(b,d)):f(b,"vastId "+d.vastId+" has schedule media load but it's flash and vpw is not ready",!1))}else f(b,"post prepare - dom not ready yet - we'll wait",
!1)}function la(b,c){if(0==b.domReadyTime)try{if(f(b,"on dom load",!1),b.rootDivElem||(b.rootDivElem=a.getElementById(b.divId)),b.rootDivElem){b.domLoadTimeout&&(clearTimeout(b.domLoadTimeout),b.domLoadTimeout=null);var d=((new Date).getTime()-b.startTime)/1E3,d=d.toFixed(1);b.domReadyTime=d;f(b,"ondomload - adding div",!1);b.width=b.rootDivElem.clientWidth;b.height=b.rootDivElem.clientHeight;b.divElem=a.createElement("div");b.divElem.style.cssText="width:100%; height:100%; display: block; overflow:hidden; position: relative; margin: 0; padding: 0; border: 0; background-color: black; top: 0; left 0;";
b.rootDivElem.appendChild(b.divElem);f(b,"ondomload - creating rotator",!1);Ha(b);b.domReady=!0;Wa(b)}else if(c>b.conf.maxDomLoadTimes)b.domLoadTimeout&&(clearTimeout(b.domLoadTimeout),b.domLoadTimeout=null),K(b,6,"div element not found tlvPlayerDomLoaded: "+b.divId);else{f(b,"domload timeout "+c+" retrying in "+b.conf.domLoadRetryTimeout,!1);b.domLoadTimeout&&(clearTimeout(b.domLoadTimeout),b.domLoadTimeout=null);var g=function(b,a){try{f(b,"domload timeout",!1),b.domLoadTimeout=null,b.domLoadTimeout&&
(clearTimeout(b.domLoadTimeout),b.domLoadTimeout=null),la(b,a+1)}catch(c){}};b.domLoadTimeout=CEDATO_BROWSER.oldIE?setTimeout(function(){g(b,c)},b.conf.domLoadRetryTimeout):setTimeout(g,b.conf.domLoadRetryTimeout,b,c)}}catch(h){K(b,3,"tlvPlayerDomLoaded gave JS exception: "+h.message,h)}}function Da(b){if(!b.frozen)if(b.parallelStartAd){for(var a=!0,c=0,d=b.plist.length;c<d;c++)if("1"==b.plist[c].group&&0==b.plist[c].errorCount){a=!1;break}if(a)f(b,"all have errors, not reseting readyForStartAd",
!1);else{f(b,"reseting readyForStartAd",!1);b.readyForStartAd=!1;null!=b.initialStartAd&&(clearTimeout(b.initialStartAd),b.initialStartAd=null);var g=function(b){f(b,"readyForStartAd",!1);b.readyForStartAd=!0;b.initialStartAd=null;q(b)};b.initialStartAd=CEDATO_BROWSER.oldIE?setTimeout(function(){g(b)},12E3):setTimeout(g,12E3,b)}}else b.readyForStartAd=!0}function Pa(b,a,c){f(b,"initializing player for vastId "+a.id+", url: "+a.url,!1);var d=[];d.videoElement=null;d.flashElement=null;d.jsVPAIDElement=
null;d.jsVPAIDElementDiv=null;d.initAdEnvObject=null;d.companionsElementDiv=null;d.maxFailedVastRetries=0;d.adType=null;d.previousAdType=null;d.firedEvents={};d.vastPreferType=0;d.corsType=null;d.group=a.group;d.vastURL=a.url;d.vastId=a.id;d.playerId=a.pid?a.pid:b.playerId;a.mvr&&(d.maxFailedVastRetries=a.mvr);a.vt&&(d.vastPreferType=a.vt);a.ct&&(d.corsType=a.ct);d.longStartAd=!!a.lsa;d.expectedSureFastStart=!!a.sff;d.expectedSureFastStart=!1;d.playersStorageName=b.playersStorageName;d.tlvState=0;
d.vpwLoaded=0;d.vpwLoadRetry=0;d.errorCount=0;d.startAdStopper=null;d.startAdHalfStopper=null;d.startAdSwitcher=null;d.playVideoRetry=null;d.requeryTimeout=null;d.initAdThrottler=null;d.vpwWaitFunc=null;d.flashInitialTimeout=null;d.flashLoadCheckInterval=null;b.curUniq++;d.uniqId=b.curUniq;d.roundNo=0;d.freqRetry=b.usejsv;d.isIMA=!1;"undefined"!==typeof c&&c?b.plist.splice(c,0,d):b.plist.push(d);return d}function Qa(b,c){if(b.flashSupport){if(b.singleVPW)b.flashElementDiv||(b.flashElementDiv=a.createElement("div"),
b.flashElementDiv.style.zIndex="1",b.divElem.appendChild(b.flashElementDiv)),c.flashElementDiv=b.flashElementDiv;else{c.flashElementDiv=a.createElement("div");c.flashElementDiv.style.position="absolute";try{c.flashElementDiv.style.top="-1000px"}catch(d){}c.flashElementDiv.style.zIndex="1";b.divElem.appendChild(c.flashElementDiv)}ya(b,c);null===c.flashElement?K(b,4,"failed to create flash element"):P(b,c,!1)}}function Ta(b){b.jsVPAIDElementDiv&&(b.jsVPAIDElementDiv.style.display="none");try{b.jsVPAIDElement&&
(b.jsVPAIDElement.stopAd(),b.jsVPAIDElement.clearAd&&b.jsVPAIDElement.clearAd())}catch(a){}try{b.jsVPAIDElementDiv&&b.jsVPAIDElementDiv.parentNode.removeChild(b.jsVPAIDElementDiv)}catch(a){}b.jsVpaidFrame=null;b.vpaidJsIframeAdElem=null;b.vpaidJsIframeVideo=null;b.vpaidJsIframeVideoCanvas=null;b.jsVPAIDElement=null;b.jsVPAIDElementDiv=null}function Q(b,a,c){try{"undefined"===typeof c&&(c=!1);var d=a.vastId;f(b,"vastId "+a.vastId+" - destroying player data, immediate: "+c,!1);a.destroyMe=!0;for(var g=
null,h=0,k=b.plist.length;h<k;h++)if(b.plist[h].destroyMe){g=h;break}if(null===g)return!1;b.plist.splice(g,1);null!=a.flashInitialTimeout&&(clearInterval(a.flashInitialTimeout),a.flashInitialTimeout=null);null!=a.flashLoadCheckInterval&&(clearInterval(a.flashLoadCheckInterval),a.flashLoadCheckInterval=null);null!=a.requeryTimeout&&(clearInterval(a.requeryTimeout),a.requeryTimeout=null);null!=a.requeryTimeout&&(clearTimeout(a.startAdSwitcher),a.startAdSwitcher=null);null!=a.startAdHalfStopper&&(clearTimeout(a.startAdHalfStopper),
a.startAdHalfStopper=null);null!=a.startAdStopper&&(clearTimeout(a.startAdStopper),a.startAdStopper=null);null!=a.sameVastIdLoader&&(clearTimeout(a.sameVastIdLoader),a.sameVastIdLoader=null);null!=a.startAdSwitcher&&(clearTimeout(a.startAdSwitcher),a.startAdSwitcher=null);null!=a.initAdThrottler&&(clearInterval(a.initAdThrottler),a.initAdThrottler=null);null!==a.playVideoRetry&&(clearInterval(a.playVideoRetry),a.playVideoRetry=null);if(a.videoElement)try{a.videoElement.parentNode.removeChild(a.videoElement)}catch(l){f(b,
"ve removeChild gave exception: "+l.message,!1)}"jsvpaid"==a.adType&&Ta(a);if(b.flashSupport)if(b.singleVPW)m=function(b,c){try{a.flashElement[a.flashEICallbacks]("removeVpaid",c)}catch(d){f(b,"flash removeFunc gave exception: "+d.message,!1)}},c?m(b,a.uniqId):CEDATO_BROWSER.oldIE?setTimeout(function(){m(b,a.uniqId)},1E3):setTimeout(m,1E3,b,a.uniqId);else{a.flashElementDiv&&(a.flashElementDiv.style.zIndex="0");try{if(a.flashElement&&a.flashEICallbacks)a.flashElement[a.flashEICallbacks]("clearAd",
a.uniqId)}catch(l){}var m=function(a,b,c){try{CEDATO_SWF.swfobject.removeSWF(c.id)}catch(d){}try{b&&b.parentNode.removeChild(b),b.innerHTML=""}catch(d){f(a,"removeFunc gave exception: "+d.message,!1)}};a.flashElementDiv&&a.flashElement&&(c?m(b,a.flashElementDiv,a.flashElement):CEDATO_BROWSER.oldIE?setTimeout(function(){m(b,a.flashElementDiv,a.flashElement)},1E3):setTimeout(m,1E3,b,a.flashElementDiv,a.flashElement))}try{a.companionsElementDiv&&(a.companionsElementDiv.parentNode.removeChild(a.companionsElementDiv),
a.companionsElementDiv.innerHTML="",a.companionsElementDiv=null)}catch(l){f(b,"remove companions div gave exception: "+l.message,!1)}}catch(l){r(b,d,3,"destroy player data exception: "+l.message,l,a,!1,!1,"destroy player")}}function Oa(a,c){"undefined"===typeof c&&(c=!1);c?f(a,"destroying all players except for vastId "+c,!1):f(a,"destroying all players",!1);for(var d=!0;d;)for(var d=!1,g=0,h=a.plist.length;g<h;g++)if(a.plist[g].vastId!=c){Q(a,a.plist[g],!0);d=!0;break}}function kb(b,c){var d=null;
if(c){f(b,"prepare calling flash object",!1);"null"!=c&&(d=-1!=navigator.appName.indexOf("Microsoft")?h[c]:a[c]);if(null==d){for(var g=a.getElementsByTagName("object"),k=0,l=g.length;k<l;k++)if(g[k].connectToJSPlayer){d=g[k];break}if(null==d)for(g=a.getElementsByTagName("embed"),k=0,l=g.length;k<l;k++)if(g[k].connectToJSPlayer){d=g[k];break}}else f(b,"got connceting clash object from prms",!1);if(null==d)return f(b,"could not identify calling object",!1),!1;if(!d.connectToJSPlayer)return f(b,"flash connect callback not found",
!1),!1;b.allowLongImpressions=!0}b.callingFlashObject=d}function Xa(a){for(var c=0,d=a.plist.length;c<d;c++)if(6==a.plist[c].tlvState)return a.plist[c];return!1}function Ya(a,c){f(c,a+" resume callback called",!1);var d=Xa(c);if(d)if(c.apiInterface.trigger("adplay",{vastId:d.vastId,playerId:c.playerId,subid:c.subid}),f(c,a+" resume - got playing playerData, vastId: "+d.vastId,!1),"flvpaid"==d.adType){if(d.flashElement)try{d.flashElement[d.flashEICallbacks]("vpwResumeAd",d.uniqId)}catch(g){f(c,a+" resume gave JS exception on flashElement pause: "+
g.message)}}else if("jsvpaid"==d.adType)try{d.jsVPAIDElement.resumeAd()}catch(g){f(c,a+" pause gave JS exception on vpaidjs pause: "+g.message)}else{if("video"==d.adType)try{d.videoElement.play()}catch(g){f(c,a+" resume gave JS exception on videoElement pause: "+g.message)}}else c.autoplay=!0,c.autoplayOverwrite=!0,f(c,a+" resume - no playing playerData",!1),c.contentUrlPlayer&&c.contentUrlPlayer.isVisible()?c.contentUrlPlayer.playContent():(q(c,!0),c.anyPlaying||(c.autoplay=!0,c.autoplayOverwrite=
!0),f(c,"vp resume - no playing playerData",!1))}function Za(a,c){c.apiInterface.trigger("adplay",{vastId:null,playerId:c.playerId,subid:c.subid});c.autoplayOverwrite=!0;c.autoplay=!0;f(c,a+" play callback called",!1);q(c,!0);c.anyPlaying||(c.autoplay=!0)}function $a(a,c){c.autoplay=!1;c.autoplayOverwrite=!0;f(c,a+" pause callback called",!1);var d=Xa(c);if(d)if(c.apiInterface.trigger("adpause",{vastId:d.vastId,playerId:c.playerId,subid:c.subid}),d.isPaused=!0,f(c,a+" pause - got playing playerData, vastId: "+
d.vastId,!1),"flvpaid"==d.adType){if(d.flashElement)try{d.flashElement[d.flashEICallbacks]("vpwPauseAd",d.uniqId)}catch(g){f(c,a+" pause gave JS exception on flashElement pause: "+g.message)}}else if("jsvpaid"==d.adType)try{d.jsVPAIDElement.pauseAd()}catch(g){f(c,a+" pause gave JS exception on vpaidjs pause: "+g.message)}else{if("video"==d.adType)try{d.videoElement.pause()}catch(g){f(c,a+" pause gave JS exception on videoElement pause: "+g.message)}}else c.contentUrlPlayer&&c.contentUrlPlayer.isVisible()&&
c.contentUrlPlayer.pauseContent(),f(c,a+" pause - no playing playerData",!1)}function ab(a,c,d,f){a.width=c;a.height=d;a.rootDivElem.style.width=c+"px";a.rootDivElem.style.height=d+"px";for(var g=0,h=a.plist.length;g<h;g++){var k=a.plist[g];switch(k.adType){case "flvpaid":if(k.flashElement){k.flashElement.width=c;k.flashElement.height=d;try{k.flashElement[k.flashEICallbacks]("vpwResizeAd",k.uniqId,c,d,f)}catch(l){}}break;case "jsvpaid":if(k.jsVPAIDElement&&k.jsVPAIDElement.resizeAd)try{k.jsVPAIDElement.resizeAd(c,
d,f)}catch(l){}}}}function Ia(a,c,d){a.allowSound=0<c;for(var f=0,g=a.plist.length;f<g;f++){var h=a.plist[f];switch(h.adType){case "flvpaid":if(h.flashElement)try{h.flashElement[h.flashEICallbacks]("vpwVolume",h.uniqId,c)}catch(k){}break;case "jsvpaid":if(h.jsVPAIDElement&&h.jsVPAIDElement.resizeAd)try{h.jsVPAIDElement.setAdVolume(c)}catch(k){}break;case "video":"undefined"!==typeof d&&d?h.videoElement.muted=0==c:(h.videoElement.muted=!1,h.videoElement.volume=c)}}}function lb(b){f(b,"post prepare js callbacks",
!1);b.vpDebugCallbackFuncName="vpd"+Math.floor(1000001*Math.random());h[b.vpDebugCallbackFuncName]=function(a,b,c,d){try{var e=h[a.playersStorageName||a];if(""!=b)if(c){var g=b.split("\n"),k,A=g.length;for(k=0;k<A;k++)""!=g[k]&&f(e,"flash: "+g[k],!1)}else f(e,"flash: "+b,!1)}catch(l){}};if("vpaid"==b.mode){b.vpPlayCallbackFuncName="vpp"+Math.floor(1000001*Math.random());h[b.vpPlayCallbackFuncName]=function(a){try{var b=h[a.playersStorageName||a];Za("vp",b)}catch(c){f(b,"vp play gave JS exception: "+
c.message)}};b.vpStopCallbackFuncName="vps"+Math.floor(1000001*Math.random());h[b.vpStopCallbackFuncName]=function(a){try{var b=h[a.playersStorageName||a];f(b,"vp stop callback called",!1);b.autoplay=!1;b.autoplayOverwrite=!0;W(b,!1);b.vpaidObj.call("jsAdStopped",{},!0)}catch(c){f(b,"vp stop gave JS exception: "+c.message)}};b.vpPauseCallbackFuncName="vpps"+Math.floor(1000001*Math.random());h[b.vpPauseCallbackFuncName]=function(a){try{var b=h[a.playersStorageName||a];b.autoplay=!1;b.autoplayOverwrite=
!0;f(b,"vp pause callback called",!1);$a("vp",b)}catch(c){f(b,"vp pause gave JS exception: "+c.message)}};b.vpResumeCallbackFuncName="vprs"+Math.floor(1000001*Math.random());h[b.vpResumeCallbackFuncName]=function(a){try{var b=h[a.playersStorageName||a];f(b,"vp pause callback called",!1);Ya("vp",b)}catch(c){f(b,"vp resume gave JS exception: "+c.message)}};b.vpInitAdCallbackFuncName="vpia"+Math.floor(1000001*Math.random());h[b.vpInitAdCallbackFuncName]=function(b){var c=h[b.playersStorageName||b];b=
b.slot;var d=c.rootDivElem?c.rootDivElem:a.getElementById(c.divId);d.parentNode.removeChild(d);b.parentNode.style.margin=0;b.parentNode.style.padding=0;b.appendChild(d);c.vpaidObj.call("jsAdReadyToStart",{},!0)};b.vpSetAdVolumeCallbackFuncName="vpsv"+Math.floor(1000001*Math.random());h[b.vpSetAdVolumeCallbackFuncName]=function(a,b){var c=h[a.playersStorageName||a];b=a.volume||b||0;Ia(c,b,!1);f(c,"vpSetAdVolumeCallbackFuncName called",!1)};b.vpResizeAdCallbackFuncName="vprs"+Math.floor(1000001*Math.random());
h[b.vpResizeAdCallbackFuncName]=function(a,b,c,d){var e=h[a.playersStorageName||a];b=a.width||b;c=a.height||c;d=a.viewMode||d;ab(e,b,c,d);f(e,"vpResizeAdCallbackFuncName called",!1)};b.vpExpandAdCallbackFuncName="vpex"+Math.floor(1000001*Math.random());h[b.vpExpandAdCallbackFuncName]=function(a){f(h[a.playersStorageName||a],"vpExpandAdCallbackFuncName called",!1)};if("vpaid"==b.mode){var c=a.createElement("div");c.setAttribute("id",b.divId);var d="0";b.callingFlashObject&&(d="-"+b.height);c.setAttribute("style",
"width:"+b.width+"px;height:"+b.height+"px;position:relative;top:"+d+"px;");if(b.callingFlashObject){f(b,"post prepare calling flash object",!1);b.flashEICallbacks=b.callingFlashObject.connectToJSPlayer(b.playersStorageName,b.vpPlayCallbackFuncName,b.vpStopCallbackFuncName,b.vpDebugCallbackFuncName,b.vpResizeAdCallbackFuncName,b.vpSetAdVolumeCallbackFuncName,b.vpPauseCallbackFuncName,b.vpResumeCallbackFuncName);if(!b.flashEICallbacks||""===b.flashEICallbacks)return f(b,"flash connect callback returned an error",
!1),!1;b.vpaidObj.initObj(b.callingFlashObject,"fl",b.playersStorageName,b.flashEICallbacks);f(b,"js connected to flash successfully",!1);var g=b.callingFlashObject.parentNode||b.callingFlashObject.parentElement;b.callingFlashObjectParent=g;b.callingFlashObject.nextSibling?g.insertBefore(c,b.callingFlashObject.nextSibling):g.appendChild(c)}else b.jsCallingVpaid&&(d=a.querySelector("body"),d.appendChild(c),b.vpaidObj.register("inInitAd",h[b.vpInitAdCallbackFuncName],this),b.vpaidObj.register("inPlayAd",
h[b.vpPlayCallbackFuncName],this),b.vpaidObj.register("inStopAd",h[b.vpStopCallbackFuncName],this),b.vpaidObj.register("inPauseAd",h[b.vpPauseCallbackFuncName],this),b.vpaidObj.register("inResumeAd",h[b.vpResumeCallbackFuncName],this),b.vpaidObj.register("inSetAdVolume",h[b.vpSetAdVolumeCallbackFuncName],this),b.vpaidObj.register("inResizeAd",h[b.vpResizeAdCallbackFuncName],this),b.vpaidObj.register("inExpandAd",h[b.vpExpandAdCallbackFuncName],this),b.vpaidObj.call("ready",{},!0))}b.rootDivElem=a.getElementById(b.divId);
if(b.rootDivElem)return b.width=b.rootDivElem.clientWidth,b.height=b.rootDivElem.clientHeight,b.companionsRootDivElem=a.createElement("div"),b.companionsDivElem=a.createElement("div"),b.companionsDivElem.setAttribute("style","width:100%;height:100%;position:relative;top:0px; display: block;"),b.companionsRootDivElem.appendChild(b.companionsDivElem),b.callingFlashObject?g.insertBefore(b.companionsRootDivElem,c):b.jsCallingVpaid&&(d=a.querySelector("body"),d.appendChild(b.companionsRootDivElem)),!0;
K(b,6,"div element not found in post calling flash obj: "+b.divId)}}function mb(b){if(b.flashSupport){b.vpwVersion=2;b.vpwURL=b.protocol+"//"+b.conf.sUrl+"/player/"+b.conf.flName+"?v=";Ga(b);b.prevpwDiv=null;b.vpwCached=!0;try{if(b.callingFlashObject)f(b,"calling flash object present, no pre-vpw needed",!1);else if(a&&a.body){f(b,"appending vpw pre loader",!1);b.vpwCached=!1;b.prevpwDiv=a.createElement("div");a.body.appendChild(b.prevpwDiv);var c="vpwp"+Math.floor(1000001*Math.random());b.prevpwDiv.innerHTML=
'<object id="'+c+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="1" height="1"><param name="movie" value="'+b.vpwURL+b.vpwVersion+'" /><param name="allowScriptAccess" value="always"></param><param name="allowscriptaccess" value="always"></param>\x3c!--[if !IE]>--\x3e<object type="application/x-shockwave-flash" data="'+b.vpwURL+b.vpwVersion+'" width="1" height="1">\x3c!--<![endif]--\x3e\x3c!--[if !IE]>--\x3e</object>\x3c!--<![endif]--\x3e</object>';var d=CEDATO_SWF.swfobject.getObjectById(c);
d?(b.prevpwPlayerData=[],b.prevpwPlayerData.vastId=0,b.prevpwPlayerData.flashElement=d,b.prevpwPlayerData.flashInitialTimeout=null,b.prevpwPlayerData.flashLoadCheckInterval=null,b.prevpwPlayerData.vpwWaitFunc=null,f(b,"vpw pre loader flash element prepared",!1),Va(b,b.prevpwPlayerData)):(b.prevpwDiv=null,b.vpwCached=!0,f(b,"could not get vpw pre loader flash element",!1))}else f(b,"no document.body",!1)}catch(g){}}}function nb(b,c,d){try{d?f(b,"gpv answer from xhr",!1):f(b,"gpv answer from script",
!1);b.gpvM="2";d&&(b.gpvM="1");b.gpvReturned=!0;if(d)try{a.getElementsByTagName("head")}catch(g){}else try{b.gsvXHR.abort()}catch(g){}var h=((new Date).getTime()-b.startTime)/1E3,h=h.toFixed(1);b.gpvTime=h;f(b,c,!0);f(b,"initializing players",!1);b.urlReplacer=null;for(var h=d=!1,k=[],l=0,m=c.length;l<m;l++){var n=c[l];if("c"==n.id)if("d"==n.c)d=!0,Oa(b),ca(b);else{n.tpt&&(b.thirdPartyTimeout=n.tpt);b.vastWaitFactor=1;n.vwf&&(b.vastWaitFactor=n.vwf);b.maxFailedVastRetries=0;n.mvr&&(b.maxFailedVastRetries=
n.mvr);n.mas&&(b.maxAdStarts=n.mas);n.sc&&(b.allowSound=n.sc);n.lc&&(b.noContentLoop=!n.lc);n.paf&&(b.adsAfterContent=n.paf,b.adsAfterContent&&!b.autoplayOverwrite&&(b.autoplay=!1));b.debugLogReason=n.sdlr?n.sdlr:"gpv";"1"==n.sdl&&(f(b,"gpv turned sdl on",!1),t(b),b.keepDebugLog=!0);"1"==n.lvr&&(b.logVastResponse=!0);"1"==n.sdlpe&&(b.submitDebugLogOnPlayerError=!0);"1"==n.sdlve&&(b.submitDebugLogOnVastError=!0);n.vd&&(b.submitDebugLogOnVastDisplayed=n.vd);n.content&&(b.content=n.content);n.ni&&(b.networkId=
n.ni);b.autoplayOverwrite||(!1===n.ap?(b.autoplay=!1,b.mainAutoplay=!1):(b.autoplay=!0,b.mainAutoplay=!0));n.rvu&&(b.urlReplacer=[],b.urlReplacer.vastId=n.rvu.v,b.urlReplacer.searchFor=n.rvu.s,b.urlReplacer.replaceWith=n.rvu.r,b.vpwURL&&(b.vpwURL=b.vpwURL.replace("v=","edl=2&v=")));n.ho&&1==n.ho&&(b.flashSupport=!1);b.allowSound=n.as?n.as:!1;b.controlBar=n.co?n.co:!1;n.content?(b.content.url=n.content.url,b.content.loader_image_url=n.content.loader_image_url,b.content.type=n.content.type,b.content.loop=
!!(1*n.content.cl),b.content.click=n.content.click,b.content.playFull=!!(1*n.content.cpf),b.content.autoplay=n.ap,b.content.playFull&&!b.autoplayOverwrite&&(b.autoplay=!1)):(b.content.url="",b.content.loader_image_url="",b.content.type=0,b.content.loop=!0,b.content.click="",b.content.playFull=!1,b.autoplayOverwrite||(b.content.autoplay=!0,!1===n.ap&&(b.content.autoplay=!1)));n.is&&B(n.is,b);for(var p=0,r=b.initOverrides.length;p<r;p++)switch(b.initOverrides[p].name){case "autoplay":b.autoplay=b.initOverrides[p].value;
break;case "contentUrl":b.content.type=1;b.content.url=b.initOverrides[p].value;break;case "contentClickUrl":b.content.click=b.initOverrides[p].value;break;case "rotate":b.content.maxAdStarts=b.initOverrides[p].value;break;case "allowSound":b.allowSound=b.initOverrides[p].value}}else if("d"==n.c){for(var v=n.id,u=[],p=0,r=b.plist.length;p<r;p++)b.plist[p].vastId==v&&u.push(b.plist[p]);b.anyPlaying=0<u.length?!0:b.anyPlaying;p=0;for(r=u.length;p<r;p++)Q(b,u[p],!0),b.anyPlaying=b.anyPlaying&&aa(b,u[p]);
d=!0;h=h||0<u.length}else k.push(Pa(b,n))}if(d)h&&q(b);else if(Da(b),"single"==b.mode){b.domLoadTimeout=null;CEDATO_SWF.swfobject.addDomLoadEvent(function(){try{b.domLoadTimeout&&(clearTimeout(b.domLoadTimeout),b.domLoadTimeout=null),la(b,1)}catch(a){K(b,3,"ondomload gave JS exception: "+a.message,a),f(b,"ondomload gave JS exception: "+a.message,!1)}});var w=function(a){try{f(a,"domload timeout",!1),a.domLoadTimeout&&(clearTimeout(a.domLoadTimeout),a.domLoadTimeout=null),la(a,1)}catch(b){}};b.domLoadTimeout=
CEDATO_BROWSER.oldIE?setTimeout(function(){w(b)},b.conf.domLoadInitTimeout):setTimeout(w,b.conf.domLoadInitTimeout,b)}else b.domLoadTimeout=CEDATO_BROWSER.oldIE?setTimeout(function(){la(b,1)},0):setTimeout(la,0,b,1);f(b,"initiating fetch",!1);p=0;for(r=k.length;p<r;p++)CEDATO_BROWSER.oldIE?setTimeout(function(){pa(k[p])},50*p):setTimeout(pa,50*p,k[p])}catch(g){K(b,3,"gpv gave JS exception: "+g.message,g)}}function bb(a){try{h&&(h.onerror=function(a,b,c,e,g){try{-1===b.indexOf("algovid")&&-1===b.indexOf("tlvmedia")||
f(d,"Unhandeled exception "+a+" == "+b+" == "+c,!1)}catch(h){}});var c=0,d=[],k=g(a,!0);if(k.p&&k.sid){var l=k.p,m=[];m.push(l);-1!==l.indexOf(",")&&(m=l.split(","),l=m[0]);var p;k.d&&(p=decodeURIComponent(k.d));var q=(new Date).getTime(),r=decodeURIComponent(k.sid),t;t=k.did?decodeURIComponent(k.did):k.cb?"video"+l+decodeURIComponent(k.cb):"video"+l;var u="102.5";k.pv?u=k.pv:k.playerVersion&&(u=k.playerVersion);var v="s1.algovid.com";k.mid&&(v=k.mid);var w=!1,x=!1;2==k.cnl&&(w=!0);3==k.cnl&&(x=w=
!0);var z=!1;1==k.sv&&(z=!0);var B=!0;0==k.ap&&(B=!1);var C=!1;!C&&Fa();2==k.sdl&&(C=!0);var F;F=k.se?k.se:hb();var G=300,H=250;isNaN(k.w)||(G=k.w);isNaN(k.h)||(H=k.h);var I=!1;1==k.lvr&&(I=!0);a=!1;var E,M=[];1==k.app&&(a=!0);var y=!1;k.tpt&&(y=k.tpt);var O={d:!0,sid:!0,did:!0,p:!0,cb:!0,playerVersion:!0,mid:!0,cnl:!0,sv:!0,ap:!0,sdl:!0,se:!0,w:!0,h:!0,lvr:!0,app:!0,jsv:!0,ob:!0,pv:!0};if(a){var J="appsu appidfa appv appn appb appc appaid".split(" ");for(E in J)J.hasOwnProperty(E)&&(O[J[E]]=!0,k[J[E]]&&
M.push(J[E]+"="+encodeURIComponent(k[J[E]])));!k.d&&k.appn&&(p="app://"+encodeURIComponent(k.appn))}E=!1;if(1==k.jsv||a)E=!0;var P=k.ob,N=k.job,J=!1;k.hasOwnProperty("muted")&&"0"==k.muted&&(J=!0);var T=!1;k.mas&&(T=k.mas);var R=!1;k.ho&&"1"==k.ho&&(R=!0);var U=!1,S="",Q;for(Q in k)isNaN(Q)&&!O[Q]&&k.hasOwnProperty(Q)&&(S=S+"&"+Q+"="+k[Q]);try{var V=function(a){var b={p:m.join(","),cb:q,d:d.domain,sid:r,pv:u,w:G,h:H,f:X,dd:Z,vs:Y,sa:d.detect,extra:S};if(d.plist.length){b.av=[];for(var c=0,e=d.plist.length;c<
e;c++)-1===b.av.indexOf(d.plist[c].vastId)&&b.av.push(d.plist[c].vastId);b.av=b.av.join(",")}b=CEDATO_URLUTILS.buildUrl(d.protocol+"//"+d.machineId+"/player/get_player_vasts?",b);try{CEDATO_HTTP.GetPlayerVast({url:b,retryInterval:1E4,preferredMethod:a,retries:2,success:function(a,b,c){nb(a,b,c===CEDATO_HTTP.USE_AJAX);setTimeout(function(){!0===a.autoplay&&V(c)},aa)},externals:{players:d,debugLog:f,playerError:K}})}catch(g){K(d,3,"init stage GetPlayerVast gave JS exception: "+g.message,g)}};d.playerId=
l;d.subid=r;d.domain=p;d.sessionId=F;d.anyAdPlayed=!1;d.startTime=(new Date).getTime();d.fpwReadyTime=null;d.scheduledPixelSent=!1;d.width=G;d.height=H;d.domReady=!1;d.domReadyTime=!1;d.anyPlaying=!1;d.divId=t;d.playerVersion=u;d.machineId=v;d.parallelStartAd=!0;d.usejsv=!1;d.gpvAttempt=0;d.autoplayOverwrite=!1;d.vpPlayCallbackFuncName=null;d.vpStopCallbackFuncName=null;d.vpDebugCallbackFuncName=null;d.vpResizeCallbackFuncName=null;d.vpVolumeCallbackFuncName=null;P||(d.info=CEDATO_DEVICE.getDeviceInfo());
d.initialStartAd=null;d.curUniq=0;d.logVastResponse=I;d.singleVPW=z;d.autoplay=B;d.allowLongImpressions=!1;d.reportVPWStateInterval=null;d.allowSound=J;d.adsAfterContent=!1;d.maxAdStarts=T;d.curAdStarts=0;d.noContentLoop=!1;d.gpvM="0";d.vpwCached=!0;d.mode="single";d.conf={};d.conf.flName="cedato_vpw_ima_101.75.swf";d.conf.sUrl="c.algovid.com";d.conf.pJsvUrl=d.conf.sUrl+"/player/jsv_pure.js";d.conf.mUrl="mc.algovid.com";d.conf.maxDomLoadTimes=60;d.conf.domLoadRetryTimeout=200;d.conf.domLoadInitTimeout=
500;d.conf.content={};d.conf.content.defaultLoader="//"+d.conf.sUrl+"/player/spinner.gif";d.conf.content.playButton="//"+d.conf.sUrl+"/player/play_button_gr.png";d.content={};if(w||C)d.debugLogReason="tag";d.submitDebugLogOnPlayerError=!1;d.submitDebugLogOnVastError=!1;d.submitDebugLogOnVastDisplayed=!1;d.thirdPartyTimeout=y;d.plist=[];d.protocol=CEDATO_URLUTILS.getProtocol(d.domain);d.detect=CEDATO_DETECT_UTILS.getStatsParam(d);c=1;n(d,w,C,x,!1);f(d,"player initialized. player version: "+d.playerVersion+
", playerId: "+l+", subid: "+d.subid+", domain: "+d.domain+", singleVPW: "+d.singleVPW+", autoplay: "+d.autoplay+", width: "+d.width+", height: "+d.height,!1);f(d,"ua: "+h.navigator.userAgent,!1);d.domainDetected=CEDATO_URLUTILS.getDetectedDomain();f(d,"domain detected: "+d.domainDetected,!1);d.domain?f(d,"domain received in param: "+d.domain,!1):(d.domain=d.domainDetected,f(d,"using detected domain: "+d.domain,!1));d.hasVideoSupport=!0;CEDATO_BROWSER.oldIE&&(f(d,"old ie",!1),9>CEDATO_BROWSER.msie.version&&
(f(d,"no video support",!1),d.hasVideoSupport=!1));d.hasVideoSupport&&!CEDATO_BROWSER.supportsVideo()&&(f(d,"no video support using test",!1),d.hasVideoSupport=!1);d.info?f(d,"get device info returned mobile: "+d.info.mobile+", os: "+d.info.os+", osv: "+d.info.osv+", make: "+d.info.make+", model: "+d.info.model,!1):f(d,"get device info failed",!1);r||K(d,6,"subid not defined");t||K(d,6,"divId not defined");l||K(d,6,"playerId not defined");c=2;d.playersStorageName="tlvp"+Math.floor(1000001*Math.random());
h[d.playersStorageName]=d;if(P||N)d.mode="vpaid",d.vpaidObj=CEDATO_VPAID_OBJ.getVpaid(),d.autoplay=!1,d.autoplayOverwrite=!0;N&&(d.jsCallingVpaid=N,d.vpaidObj.initObj(N,"js",d.playersStorageName));d.detect=CEDATO_DETECT_UTILS.getStatsParam(d);c=15;kb(d,P);p=encodeURIComponent(p);c=3;c=41;CEDATO_ES5.include();c=42;d.DMVAST=DMVAST;d.flashSupport=!1;E&&(d.flashSupport=!1,d.info.mobile=!0,d.usejsv=!0);c=5;d.flashSupport=P?!0:d.usejsv||d.info&&d.info.mobile||R?!1:CEDATO_SWF.swfobject.hasFlashPlayerVersion("10.0.1");
CEDATO_EVENT_LOGGER.log(CEDATO_EVENT_LOGGER.E_START,d,{},f);U=!0;d.info&&!d.info.mobile&&5==Math.floor(100*Math.random())&&(d.reportVPWLoaded=!0);if(d.flashSupport)ib(d);else if(d.usejsv||d.info&&d.info.mobile||R)d.usejsv=d.info.mobile,d.usejsv&&f(d,"using jsv",!1),d.parallelStartAd=!1;else{if(CEDATO_SWF.swfobject.hasFlashPlayerVersion("6.0.0")){l=k="";try{k=navigator.userAgent(),l=CEDATO_SWF.swfobject.getFlashPlayerVersion()}catch(da){}K(d,2,"noflash old ver "+l+": "+k)}d.reportVPWLoaded&&CEDATO_EVENT_LOGGER.log(CEDATO_EVENT_LOGGER.E_VPWS,
d,{state:3},f)}c=52;if(d.usejsv){f(d,"jsv loaded",!1);try{CEDATO_JSV.include()}catch(da){}d.hasVideoSupport=!0}c=53;mb(d);c=54;lb(d);c=55;c=6;f(d,"calling gpv",!1);if(a){var W=M.join("&");W&&(S="&"+W)}d.gpvReturned=!1;var X;X=d.flashSupport?"1":"0";var Y;Y=d.hasVideoSupport?"1":"0";var Z="";d.domainDetected!==d.domain&&(Z=encodeURIComponent(d.domainDetected));var c=56,aa=6E5;V(CEDATO_HTTP.USE_JSONP_AND_AJAX);c=57;d.apiInterface=CEDATO_API.registerPlayer(t);d.initOverrides=[];d.apiInterface.on("_pause",
function(){d.autoplay=!1;$a("api",d)}).on("_play",function(){d.contentUrlPlayer&&d.contentUrlPlayer.isVisible()?(d.autoplay=!0,d.contentUrlPlayer.playContent()):d.anyPlaying?Ya("api",d):Za("api",d)}).on("_overrideInit",function(a){a=a.data;"undefined"!=typeof a.autoplay&&d.initOverrides.push({name:"autoplay",value:!!a.autoplay});"undefined"!=typeof a.contentUrl&&d.initOverrides.push({name:"contentUrl",value:String(a.contentUrl)});"undefined"!=typeof a.contentClickUrl&&d.initOverrides.push({name:"contentClickUrl",
value:String(a.contentClickUrl)});"undefined"!=typeof a.rotate&&d.initOverrides.push({name:"rotate",value:+a.rotate});"undefined"!=typeof a.allowSound&&d.initOverrides.push({name:"allowSound",value:!!a.allowSound})}).on("_sound",function(a){a=a.data;switch(typeof a){case "boolean":Ia(d,a?1:0,!0);break;case "number":0<=a&&1>=a&&Ia(d,a,!0)}}).on("_resize",function(a){ab(d,a.data.width,a.data.height,"normal")})}catch(da){K(d,3,"init stage "+c+" gave JS exception: "+da.message,da)}}}catch(da){d.playerId||
(d.playerId="0"),d.machineId||(d.machineId="s1.algovid.com"),d.subid||(d.subid=""),d.playerVersion||(d.playerVersion="102.5"),d.sessionId||(d.sessionId=""),0===c&&n(d,!1,!1,!1,!1),K(d,3,"init error  gave JS exception: "+encodeURIComponent(da.message),da),U||CEDATO_EVENT_LOGGER.log(CEDATO_EVENT_LOGGER.E_START,d,{},f)}}function cb(a){if(!a)return!1;a=a||"";return{algovid:a.indexOf("algovid"),tlvmedia:a.indexOf("tlvmedia"),cedatoplayer:a.indexOf("cedato_player")}}var Ea=function(){function a(){}a.xhr=
function(){return CEDATO_BROWSER.createXMLHTTPObject()};a.supported=function(){return!!this.xhr()};a.get=function(c,d,g){var h=d.players;CEDATO_HTTP.FetchVastService.get({vastId:null,url:c,flashSupport:h.flashSupport,exceptionHeaders:[],onNonRetry:function(a,b){},externals:{players:h,playerData:d.playerData,fixURLPrm:k,debugLog:f,vastError:r,cb:g,vastURLHandler:a,vpwException:T}})};return a}(),X="",ma={},M;try{X=CEDATO_URLUTILS.ScriptPath(),ma=g(X,!0)}catch(b){X=""}M=null;M=cb(X);if(!M||(-1===M.algovid||
18<M.algovid)&&(-1===M.tlvmedia||18<M.tlvmedia)&&-1===M.cedatoplayer||!ma.p){var za,Aa;try{Aa=a.getElementsByTagName("script"),za=Aa.length}catch(b){za=0,Aa=[]}if(0<za){for(var Ja=za-1;0<=Ja&&(X=Aa[Ja].src,M=null,!(M=cb(X))||-1===M.algovid&&-1===M.tlvmedia&&-1===M.cedatoplayer);--Ja);ma=g(X,!0)}}ma.ob||ma.job||bb(X);h.viddspPlayerInit=bb})(window,document);

