webpackJsonpdmp([1],Array(31).concat([function(t,e,i){var n,r,o,s,a,u;r=i(44),a=i(45),n=i(46),o=i(47),r.mixin(a,[n.withAdvice]),o.enable(!1),i(38),i(39),u=i(40).requiresNativePlayer(),u||(i(41),i(42)),(s=i(43))()},,,,,,,function(t,e,i){var n,r;n=[i(25)],r=function(t){var e,i,n,r,o,s,a,u,l,h,d,c;t.style("gold",{background:"gold",color:"black"}),t.style("darkgold",{background:"DarkGoldenRod",color:"black"}),t.style("goldenrod",{background:"GoldenRod",color:"black"}),t.style("crimson",{background:"Crimson"}),t.style("darkolivegreen",{background:"darkolivegreen"}),t.style("olivedrab",{background:"olivedrab"}),t.style("seagreen",{background:"seagreen"}),t.style("darkseagreen",{background:"darkseagreen"}),t.style("darkgreen",{background:"darkgreen"}),t.style("lawngreen",{background:"lawngreen",color:"black"}),t.style("deepskyblue",{background:"DeepSkyBlue",color:"black"}),t.style("royalblue",{background:"RoyalBlue"}),t.style("cornflowerblue",{background:"CornflowerBlue"}),t.style("dodgerblue",{background:"dodgerblue"}),t.style("lightskyblue",{background:"lightskyblue",color:"black"}),t.style("redbrown1",{background:"#ff4040",color:"white"}),t.style("redbrown2",{background:"#ee3b3b",color:"white"}),t.style("redbrown3",{background:"#cd3333",color:"white"}),t.style("redbrown4",{background:"#8b2323",color:"white"}),t.style("redpink",{background:"#ff8c8c",color:"black"}),t.style("gray",{background:"gray"}),t.style("debug",{background:"red","font-size":"20px"}),a=t.define("Player","orange"),n=a.define("Ads","orange"),a.define("Subtitles","orange"),i=t.define("AdLinearSlot","gold"),e=n.define("AdFetcher","darkgold"),n.define("VASTMediaFile","goldenrod"),n.define("VPAIDMediaFile","goldenrod"),s=t.define("Error","crimson"),l=t.define("Stats","green"),l.define("SiteCatalyst","darkolivegreen"),l.define("Pinba","olivedrab"),l.define("eStat","seagreen"),l.define("Xiti","darkseagreen"),l.define("Emitter","lawngreen"),h=t.define("Tracking","darkgreen"),d=t.define("Video","blue"),d.define("Advert","cornflowerblue"),d.define("Buffering","dodgerblue"),d.define("url resolver mixins","royalblue"),d.define("android stock mixins","royalblue"),d.define("CueZone","lightskyblue"),c=t.define("VideoSlot","deepskyblue"),u=t.define("Quality","redbrown1"),u.define("StaticQuality","redbrown2"),u.define("DynamicQuality","redbrown3"),u.define("QualityList","redbrown4"),u.define("Hls","pink"),r=t.define("ChromecastVideo","gray"),o=t.define("Debug","debug")}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n,r;n=[i(92)],r=function(t){return t.mixin({closest:function(e,i){var n;return n=t.reduce(e,function(t,e){return Math.abs(i-t)<Math.abs(i-e)?t:e})}})}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a,u,l,h,d,c,f,p,E,m,_,g,v,S,T,y,A,D,R;return m=Modernizr,n=i(9),d=i(3),h=i(28),R=i(19),c=i(21),t=i(49),f=document.createElement("video"),r=function(){return!(c.isMobile()||c.isTablet())}(),s=function(){return!(c.isMobile()||c.isTablet())}(),a=function(){var t,e,i,n;return t=c.isAndroid()&&R.isGreaterOrEqualThan(c.getOsVersion(),"4.0")&&!c.isAndroidStockBrowser(),n=c.isIos()&&R.isGreaterOrEqualThan(c.getOsVersion(),"6"),i=c.isWindowsPhone(),e=c.isDesktop(),n||t||i||e}(),e=function(){var e,i,n,r;return m.video.hls="function"==typeof f.canPlayType?f.canPlayType(t.HLS+'; codecs="avc1.42E01E"').replace(/^no$/,""):void 0,e=c.isAndroid()&&R.isGreaterOrEqualThan(c.getOsVersion(),"4"),i=m.video.hls||c.isIos()||e,n=c.isAndroid()&&R.isLesserOrEqualThan(c.getOsVersion(),"4.4"),r="recorded"===d.get("stream_type"),i&&!(n&&r)||c.isOperaTv()}(),u=function(i){return i===t.HLS?e:!!f.canPlayType(i).replace(/^no$/,"")},o=function(){return!(c.isAndroid()||c.isWindowsPhone())}(),p=function(){return c.isAndroid()&&R.isLesserOrEqualThan(c.getOsVersion(),"4.4")}(),_=function(){return c.isIE()||c.isSafari()||c.isAndroid()}(),g=function(){return c.isAndroidStockBrowser()||c.isAndroid()&&R.isLesserOrEqualThan(c.getOsVersion(),"4.3")||c.isIos()&&R.isLesserThan(c.getOsVersion(),"6")||c.isIphone()&&R.isLesserThan(c.getOsVersion(),"8")||c.isWindowsPhone()&&R.isLesserThan(c.getOsVersion(),"8.1")}(),A=function(){return e?t.HLS:!1}(),y=function(){return("undefined"!=typeof MediaSource&&null!==MediaSource&&"function"==typeof MediaSource.isTypeSupported?MediaSource.isTypeSupported(t.MP4+'; codecs="avc1.42E01E,mp4a.40.2"'):void 0)&&d.isGKEnabled("PV5_MSE_ALL")||c.isChrome()&&c.isDesktop()&&d.isGKEnabled("PV5_MSE_CHROME_DESKTOP")||!c.isDesktop()&&d.isGKEnabled("PV5_MSE_CHROME_OTHER")||c.isFirefox()&&c.isDesktop()&&d.isGKEnabled("PV5_MSE_FIREFOX_DESKTOP")||c.isIE()&&c.isDesktop()&&d.isGKEnabled("PV5_MSE_IE_DESKTOP")||!c.isDesktop()&&d.isGKEnabled("PV5_MSE_IE_OTHER")}(),T=function(){return h.maySupportChromecast()}(),S=function(){return"function"==typeof d.window().btoa}(),v=function(){return d.window().WebKitPlaybackTargetAvailabilityEvent}(),D=function(){var t;return t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",transition:"transitionend"},t[Modernizr.prefixed("transition")]}(),E=function(){return top!==self}(),l={canAutoplay:function(){return r},canChangeVolume:function(){return s},canPlayAd:function(){return a},isEmbed:function(){return E},canPlayType:function(t){return u(t)},canChangePlaybackRate:function(){return o},mayNotSendPlayingEventOnSeek:function(){return _},fullscreenCrashesLiveVideos:function(){return p},requiresNativePlayer:function(){return g},supportsNativeAdaptive:function(){return A},supportsMSE:function(){return y},supportsChromecast:function(){return T},supportsBase64:function(){return S},supportsAirPlay:function(){return v},transitionEndEvent:function(){return D}},$.extend(!0,n,l)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t;return t=function(t,e,i){var n,r;return r=e.originalEvent,r.preventDefault(),(n=r.targetTouches[0])&&(e.pageX=n.pageX,e.pageY=n.pageY),e.type=i,t.trigger(e)},jQuery.event.special.drag={setup:function(){var e;return e=$(this),e.mousedown(function(t){return 0===t.button?(t.preventDefault(),$(window).mousemove(function(t){return t.type="drag",e.trigger(t)}),$(window).mouseup(function(t){return $(window).unbind("mousemove"),$(window).unbind("mouseup"),t.type="dragend",e.trigger(t)}),t.type="dragstart",e.trigger(t)):void 0}),e.on("touchstart",function(i){return t(e,i,"dragstart"),i.preventDefault(),e.on("touchmove",function(i){return t(e,i,"drag")}),e.on("touchcancel touchend",function(i){return t(e,i,"dragend"),e.off("touchmove touchcancel touchend")})})},teardown:function(){var t;return t=$(this),t.off("mousedown"),t.off("touchstart")}}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e;return t=function(t,e,i){return'<line x1="'+e[t].x+'" y1="'+e[t].y+'" x2="'+i[t].x+'" y2="'+i[t].y+'" style="stroke:rgb(255,0,0);stroke-width:4" />'},e=function(t,e){var i,n;return i=(t[0].x+t[1].x)/2-25,n=(t[0].y+t[1].y)/2-25,'<text x="'+i+'" y="'+n+'"  style="font-family:Verdana; font-size:25; fill:white" >'+e+"</text>"},jQuery.event.special.pinch={setup:function(){var i,n,r,o;return o=[{},{}],r=[{},{}],i=$(this),n=!1,i.on("touchstart",function(s){return s=s.originalEvent,2===s.touches.length?(o[0].x=r[0].x=s.touches[0].clientX,o[0].y=r[0].y=s.touches[0].clientY,o[1].x=r[1].x=s.touches[1].clientX,o[1].y=r[1].y=s.touches[1].clientY,s.preventDefault(),i.on("touchmove",function(t){return t=t.originalEvent,r[0].x=t.touches[0].clientX,r[0].y=t.touches[0].clientY,r[1].x=t.touches[1].clientX,r[1].y=t.touches[1].clientY,t.preventDefault()}),i.on("touchend",function(s){var a,u,l,h,d,c;return i.off("touchmove"),i.off("touchend"),d=[{},{}],d[0].x=r[0].x-o[0].x,d[0].y=r[0].y-o[0].y,d[1].x=r[1].x-o[1].x,d[1].y=r[1].y-o[1].y,u=Math.floor(Math.sqrt(Math.pow(d[0].x-d[1].x,2)+Math.pow(d[0].y-d[1].y,2))),c=o[0].x-o[1].x,l=r[0].x-r[1].x,n&&(a=jQuery("#dmp_svg_touchdemo"),a.length||(a=jQuery('<svg id="dmp_svg_touchdemo" height="100%" width="100%" style="position:absolute;top: 0;left: 0;width: 100%;height: 100%;" ></svg>').appendTo("body")),a.html(t(0,o,r)+t(1,o,r)+e(o,u)),a.show().fadeOut(800)),u>180&&(s.type="pinch",h=l>c?"out":"in",i.trigger(s,{mode:h})),s.preventDefault()})):void 0}),!1},teardown:function(){return $element.off("touchstart"),!1}}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a,u,l,h,d,c,f,p,E,m,_,g,v,S,T,y,A,D,R,b,I,N,O,C,L,P,w,V,U,k,M,x,F,H,B,G,Q,z,q,W,Y,j;return q=i(3),Q=i(25),_=i(5),z=i(40),W=i(21),t=i(50),e=i(51),r=i(52),o=i(53),s=i(54),a=i(55),d=i(56),c=i(57),p=i(58),m=i(59),f=i(60),E=i(61),g=i(62),S=i(63),T=i(64),D=i(65),A=i(66),R=i(67),b=i(68),I=i(69),N=i(70),y=i(71),C=i(72),L=i(73),P=i(74),k=i(75),x=i(76),F=i(77),O=i(78),u=i(79),h=i(80),l=i(81),H=i(82),B=i(83),n=i(84),V=i(85),U=i(86),w=i(87),v=i(88),G=i(89),M=i(93),j=z.requiresNativePlayer(),Y=function(){var i,Y,K,Z,X;return X=q.rootNode(),Y=q.get("chromeless"),K=q.get("controls"),i=$(X),m.attachTo(X),E.attachTo(X),F.attachTo(X),I.attachTo(X,{videoTagSelector:".dmp_VideoView-content video"}),k.attachTo(X),B.attachTo(X,{videoTagSelector:".dmp_VideoView-content video"}),O.attachTo(X,{videoTagSelector:".dmp_VideoView-content video",videoWrapperTagSelector:".dmp_VideoView-content"}),t.attachTo(X,{videoTagSelector:".dmp_VideoView-content video",videoWrapperTagSelector:".dmp_VideoView-content"}),c.attachTo(X),v.attachTo(X),G.attachTo(X),A.attachTo(X),Z=Q.get("Stats"),q.settings("reporting.enable")?(Z.groupCollapsed("Setting up stats plugins"),V.attachTo(X),U.attachTo(X),w.attachTo(X,{videoTagSelector:".dmp_VideoView-content video"}),Z.groupEnd()):Z.log("reporting=0"),j||(g.attachTo(X),z.supportsChromecast()&&u.attachTo(X),z.supportsAnnotations()&&s.attachTo(X),z.supportsAirPlay()&&!W.isIphone()&&r.attachTo(X,{videoTagSelector:".dmp_VideoView-content video"})),a.attachTo(i.find(".dmp_Player")),R.attachTo(i.find(".dmp_Player"),{"native":j}),b.attachTo(i.find(".dmp_Poster")),D.attachTo(i.find(".dmp_PasswordPane")),Y||(o.attachTo(i.find(".dmp_AlertPane")),L.attachTo(i.find(".dmp_Spinner")),M.attachTo(i)),P.attachTo(i.find(".dmp_StartView"),{"native":j,baseTabindex:1e3}),H.attachTo(i.find(".dmp_VideoView"),{"native":j,baseTabindex:4e3}),N.attachTo(i.find(".dmp_RelatedEndScreen"),{baseTabindex:1e3}),y.attachTo(i.find(".dmp_NextVideoEndScreen"),{baseTabindex:1e3}),f.attachTo(i.find(".dmp_DefaultEndScreen"),{baseTabindex:1e3}),j?T.attachTo(i.find(".dmp_VideoView video")):Y||(x.attachTo(i.find(".dmp_Tooltip")),e.attachTo(i.find(".dmp_AdLabel"),{labelSelector:".dmp_AdLabel-label",remainingTimeSelector:".dmp_AdLabel-time",type:"floating"}),n.attachTo(i.find(".dmp_AdSkipUnit")),C.attachTo(i.find(".dmp_SharePane"),{baseTabindex:3010}),S.attachTo(i.find(".dmp_Menu")),z.supportsChromecast()&&(h.attachTo(i.find(".dmp_ChromecastStatusPane")),l.attachTo(i.find(".dmp_ChromecastOverridePane"))),Modernizr.touch||x.attachTo(i.find(".dmp_Tooltip")),K&&(d.attachTo(i.find(".dmp_ControlBar"),{baseTabindex:2e3}),p.attachTo(i.find(".dmp_Dock"),{baseTabindex:3e3}))),i.trigger(_.COMPONENTS_READY,{time:(new Date).getTime()})}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n,r;n=[i(91)],r=function(t){"use strict";function e(e,i){Object.keys(e).forEach(function(r){n.indexOf(r)<0&&t.propertyWritability(e,r,i)})}function i(t,i){t.mixedIn=t.hasOwnProperty("mixedIn")?t.mixedIn:[];for(var n=0;n<i.length;n++)-1==t.mixedIn.indexOf(i[n])&&(e(t,!1),i[n].call(t),t.mixedIn.push(i[n]));e(t,!0)}var n=["mixedIn","attrDef"];return{mixin:i}}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e){var i,n;i=[],n=function(){"use strict";function t(t,e){var i,n,r,o=e.length;return"function"==typeof e[o-1]&&(o-=1,r=e[o]),"object"==typeof e[o-1]&&(o-=1),2==o?(i=e[0],n=e[1]):(i=t.node,n=e[0]),{element:i,type:n,callback:r}}function e(t,e){return t.element==e.element&&t.type==e.type&&(null==e.callback||t.callback==e.callback)}function i(){function i(t){this.component=t,this.attachedTo=[],this.instances={},this.addInstance=function(t){var e=new n(t);return this.instances[t.identity]=e,this.attachedTo.push(t.node),e},this.removeInstance=function(t){delete this.instances[t.identity];var e=this.attachedTo.indexOf(t.node);e>-1&&this.attachedTo.splice(e,1),Object.keys(this.instances).length||r.removeComponentInfo(this)},this.isAttachedTo=function(t){return this.attachedTo.indexOf(t)>-1}}function n(t){this.instance=t,this.events=[],this.addBind=function(t){this.events.push(t),r.events.push(t)},this.removeBind=function(t){for(var i,n=0;i=this.events[n];n++)e(i,t)&&this.events.splice(n,1)}}var r=this;(this.reset=function(){this.components=[],this.allInstances={},this.events=[]}).call(this),this.addInstance=function(t){var e=this.findComponentInfo(t);e||(e=new i(t.constructor),this.components.push(e));var n=e.addInstance(t);return this.allInstances[t.identity]=n,e},this.removeInstance=function(t){var e=this.findComponentInfo(t);e&&e.removeInstance(t),delete this.allInstances[t.identity]},this.removeComponentInfo=function(t){var e=this.components.indexOf(t);e>-1&&this.components.splice(e,1)},this.findComponentInfo=function(t){for(var e,i=t.attachTo?t:t.constructor,n=0;e=this.components[n];n++)if(e.component===i)return e;return null},this.findInstanceInfo=function(t){return this.allInstances[t.identity]||null},this.getBoundEventNames=function(t){return this.findInstanceInfo(t).events.map(function(t){return t.type})},this.findInstanceInfoByNode=function(t){var e=[];return Object.keys(this.allInstances).forEach(function(i){var n=this.allInstances[i];n.instance.node===t&&e.push(n)},this),e},this.on=function(e){for(var i,n=r.findInstanceInfo(this),o=arguments.length,s=1,a=new Array(o-1);o>s;s++)a[s-1]=arguments[s];if(n){i=e.apply(null,a),i&&(a[a.length-1]=i);var u=t(this,a);n.addBind(u)}},this.off=function(){var i=t(this,arguments),n=r.findInstanceInfo(this);n&&n.removeBind(i);for(var o,s=0;o=r.events[s];s++)e(o,i)&&r.events.splice(s,1)},r.trigger=function(){},this.teardown=function(){r.removeInstance(this)},this.withRegistration=function(){this.after("initialize",function(){r.addInstance(this)}),this.around("on",r.on),this.after("off",r.off),window.DEBUG&&(!1).enabled&&this.after("trigger",r.trigger),this.after("teardown",{obj:r,fnName:"teardown"})}}return new i}.apply(e,i),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n,r;n=[i(91)],r=function(t){"use strict";var e={around:function(t,e){return function(){var i=0,n=arguments.length,r=new Array(n+1);for(r[0]=t.bind(this);n>i;i++)r[i+1]=arguments[i];return e.apply(this,r)}},before:function(t,e){var i="function"==typeof e?e:e.obj[e.fnName];return function(){return i.apply(this,arguments),t.apply(this,arguments)}},after:function(t,e){var i="function"==typeof e?e:e.obj[e.fnName];return function(){var e=(t.unbound||t).apply(this,arguments);return i.apply(this,arguments),e}},withAdvice:function(){["before","after","around"].forEach(function(i){this[i]=function(n,r){t.mutateProperty(this,n,function(){return this[n]="function"==typeof this[n]?e[i](this[n],r):r,this[n]})}},this)}};return e}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n,r;n=[i(45)],r=function(t){"use strict";function e(t,i,n){n=n||{};var r=n.obj||window,o=n.path||(r==window?"window":""),s=Object.keys(r);s.forEach(function(n){(E[t]||t)(i,r,n)&&console.log([o,".",n].join(""),"->",["(",typeof r[n],")"].join(""),r[n]),"[object Object]"==Object.prototype.toString.call(r[n])&&r[n]!=r&&-1==o.split(".").indexOf(n)&&e(t,i,{obj:r[n],path:[o,n].join(".")})})}function i(t,i,n,r){i&&typeof n!=i?console.error([n,"must be",i].join(" ")):e(t,n,r)}function n(t,e){i("name","string",t,e)}function r(t,e){i("nameContains","string",t,e)}function o(t,e){i("type","function",t,e)}function s(t,e){i("value",null,t,e)}function a(t,e){i("valueCoerced",null,t,e)}function u(t,i){e(t,null,i)}function l(){var t=[].slice.call(arguments);_.eventNames.length||(_.eventNames=m),_.actions=t.length?t:m,f()}function h(){var t=[].slice.call(arguments);_.actions.length||(_.actions=m),_.eventNames=t.length?t:m,f()}function d(){_.actions=[],_.eventNames=[],f()}function c(){_.actions=m,_.eventNames=m,f()}function f(){try{window.localStorage&&(localStorage.setItem("logFilter_eventNames",_.eventNames),localStorage.setItem("logFilter_actions",_.actions))}catch(t){}}function p(){var t,e;try{t=window.localStorage&&localStorage.getItem("logFilter_eventNames"),e=window.localStorage&&localStorage.getItem("logFilter_actions")}catch(i){return}t&&(_.eventNames=t),e&&(_.actions=e),Object.keys(_).forEach(function(t){var e=_[t];"string"==typeof e&&e!==m&&(_[t]=e?e.split(","):[])})}var E={name:function(t,e,i){return t==i},nameContains:function(t,e,i){return i.indexOf(t)>-1},type:function(t,e,i){return e[i]instanceof t},value:function(t,e,i){return e[i]===t},valueCoerced:function(t,e,i){return e[i]==t}},m="all",_={eventNames:[],actions:[]};return{enable:function(t){this.enabled=!!t,t&&window.console&&(console.info("Booting in DEBUG mode"),console.info("You can configure event logging with DEBUG.events.logAll()/logNone()/logByName()/logByAction()")),p(),window.DEBUG=this},registry:t,find:{byName:n,byNameContains:r,byType:o,byValue:s,byValueCoerced:a,custom:u},events:{logFilter:_,logByAction:l,logByName:h,logAll:c,logNone:d}}}.apply(e,n),!(void 0!==r&&(t.exports=r))},,function(t,e,i){var n;n=function(){return{MP4:"video/mp4",WEBM:"video/webm",HLS:"application/x-mpegURL",DASH:"application/dash+xml"}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a,u,l,h;return a=i(94),s=i(3),n=i(5),o=i(95),e=i(96),t=i(97),u=i(4),l=i(25).get("AdFetcher"),h=i(98),r=function(){return this.attributes({videoTagSelector:null,videoWrapperTagSelector:null}),this.onVideoSelected=function(){return o.onConfigChange(s.metadata("advertising"))},this.getInitAdOptions=function(t){var e;switch(e={size:this.size,position:null!=t?t.position:void 0},null!=t?t.position:void 0){case"midroll":e.LR_VIDEO_POSITION="5",e.LR_POD_SLOTS=1,e.LR_SCHEMA="vast2",e.LR_FORMAT="video/mp4";break;case"adbreak":e.LR_POD_SLOTS=t.podSlots||1;break;case"postroll":e.LR_VIDEO_POSITION="100%",e.LR_POD_SLOTS=1}return e},this.fetchAd=function(t,e){var i;return l.log("Fetching new ad"),i={cache:!this.clearCachedMediafile,sdkLiverailUrl:s.getDependencyURL("sdk_liverail")},this.clearCachedMediafile=!1,t.loadAdProviderSdk(i).then(function(i){return function(){return i.trigger(n.AD_SDK_READY,{timeoutInfo:t.getTimeoutInfo()}),t.callInitAd(i.getInitAdOptions(e))}}(this)).then(function(e){return function(){return e.trigger(n.AD_LOADED,{timeoutInfo:t.getTimeoutInfo()})}}(this))},this.after("initialize",function(){return this.clearCachedMediafile=!1,o.initialize(this.select("videoWrapperTagSelector")[0],this.select("videoTagSelector")[0]),this.on(s.rootNode(),n.VIDEO_SELECTED,this.onVideoSelected),this.on(s.rootNode(),n.AD_LINEAR_SLOT_ENDED,function(){return this.clearCachedMediafile=!0}),this.on(s.rootNode(),n.AD_FETCHER_PREFETCH,function(t,e){var i;return i=o.getHelper(),this.fetchAd(i,{position:e.position,podSlots:e.podSlots})}),this.on(s.rootNode(),n.AD_FETCHER_REQUESTED,function(e,i){var r,a,h;return r=o.getHelper(),h=(new Date).getTime(),a=function(t){return function(e,r){return null==r&&(r=null),e?l.log("Success - Responded with mediaFile"):(t.trigger(n.AD_ERROR,r),l.log("Failed - ",r)),t.trigger(n.AD_FETCHER_RESPONDED,{hasMediaFile:e,position:i.position})}}(this),this.fetchAd(r,{position:i.position,podSlots:i.podSlots}).done(function(){return a(!0)}).fail(function(e){return function(h){var d,c;return d=!1,s.isGKEnabled("PV5_ANTI_ADBLOCK")&&"NoAdsHelper"!==r.constructor.name&&(h.type===t.VPAID_SDK_LOAD_ERROR?d=!0:h.type===t.VPAID_INIT_ERROR&&1101===h.code&&(d=!0)),d?(l.log("Falling back to VMAP ad controller"),c=$.extend({},s.metadata("advertising"),{type:o.SUPPORTED_TYPES.VMAP}),o.onConfigChange(c),r=o.getHelper(),e.fetchAd(r,{position:i.position,podSlots:i.podSlots}).done(function(){return a(!0)}).fail(function(i){return i.type===t.VMAP_LOAD_NET_ERROR?e.trigger(n.ERROR_PLAYER,{error:u.PLAYER_ERR_BLOCKED}):a(!1,i)})):a(!1,h)}}(this))})})},a(r,h)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a,u;return o=i(94),r=i(3),t=i(5),e=i(99),s=i(100),a=i(101),u=i(102),n=function(){return this.attributes({ariaLabel:e.__("accessibility:::Advertisement"),remainingTimeSelector:".dmp_AdInfo-time",labelSelector:".dmp_AdInfo-label",type:"default"}),this.enableDisplay=function(){return this.adRunning=!0,this.$remainingTime.text(""),this.on(r.rootNode(),t.VIDEO_TIME_UPDATE,this.handleTimeUpdate),"default"===this.attr.type?this.showNode():void 0},this.disableDisplay=function(){return this.adRunning=!1,this.duration=0,this.$remainingTime.text(""),this.off(r.rootNode(),t.VIDEO_TIME_UPDATE,this.handleTimeUpdate),this.hideNode()},this.handleTimeUpdate=function(t,i){var n;if(this.duration)return n="floating"===this.attr.type?"("+this.formatTime(this.duration-i.time)+")":this.formatTime(this.duration-i.time),this.$remainingTime.text(n),this.updateAccessibility(e.__("accessibility:::Advertisement: %time% remaining",{time:this.formatReadableTime(this.duration-i.time)}))},this.after("initialize",function(){return this.$remainingTime=this.select("remainingTimeSelector"),this.$label=this.select("labelSelector"),this.$label.text(e.__("ads:::Advertisement")),this.on(r.rootNode(),t.VIDEO_DURATION_CHANGE,function(t,e){return this.duration=e.duration}),this.on(r.rootNode(),t.AD_STARTED,function(t,e){return"linear"===e.type?this.enableDisplay():void 0}),this.on(r.rootNode(),[t.AD_STOPPED,t.LOAD_VIDEO].join(" "),function(){return this.disableDisplay()}),"floating"===this.attr.type?(this.prepareCssTransition(),this.on(r.rootNode(),t.CONTROL_BAR_WILL_SHOW,function(){return this.cssFadeOut()}),this.on(r.rootNode(),t.CONTROL_BAR_WILL_HIDE,function(){return this.adRunning?this.cssFadeIn():void 0})):void 0})},o(s,n,u,a)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o;return o=i(94),r=i(3),t=i(5),n=i(40),e=function(){return this.attributes({videoTagSelector:null}),this.bindAirPlayEvents=function(){return this.on(t.AIRPLAY_REQUESTED,this.handleAirPlayRequestedEvent),this.on(this.videoTag,"webkitplaybacktargetavailabilitychanged",this.handlePlaybackTargetAvailabilityChangedEvent),this.on(this.videoTag,"webkitcurrentplaybacktargetiswirelesschanged",this.handlePlaybackTargetIsWireless),this.airPlayListenersBound=!0},this.unbindAirPlayEvents=function(){return this.airPlayListenersBound?(this.off(t.AIRPLAY_REQUESTED,this.handleAirPlayRequestedEvent),this.off(this.videoTag,"webkitplaybacktargetavailabilitychanged",this.handlePlaybackTargetAvailabilityChangedEvent),this.off(this.videoTag,"webkitcurrentplaybacktargetiswirelesschanged",this.handlePlaybackTargetIsWireless),this.airPlayListenersBound=!1):void 0},this.handleAirPlayRequestedEvent=function(){return this.videoTag.webkitShowPlaybackTargetPicker()},this.handlePlaybackTargetAvailabilityChangedEvent=function(e){return this.trigger("available"===e.originalEvent.availability?t.AIRPLAY_AVAILABLE:t.AIRPLAY_NOT_AVAILABLE)},this.handlePlaybackTargetIsWireless=function(){return this.trigger(t.AIRPLAY_WIRELESS_STATE,{active:this.videoTag.webkitCurrentPlaybackTargetIsWireless})},this.after("initialize",function(){return this.videoTag=this.select("videoTagSelector")[0],this.bindAirPlayEvents()}),this.before("teardown",function(){return this.unbindAirPlayEvents()})},o(e)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o;return r=i(94),n=i(3),t=i(5),o=i(102),e=function(){return this.attributes({titleSelector:".dmp_AlertPane-title",textSelector:".dmp_AlertPane-text"}),this.openPane=function(){return this.closed?(this.trigger(t.ALERT_PANE_WILL_OPEN),this.showNode(),this.closed=!1):void 0},this.closePane=function(){return this.closed?void 0:(this.trigger(t.ALERT_PANE_WILL_CLOSE),this.hideNode(),this.closed=!0)},this.setFontStyles=function(t){var e,i,n,r;return r=6,n=70,i=200,e=t/r,e>i?e=i:n>e&&(e=n),this.$node.css({"font-size":e+"%"})},this.setContent=function(e){var i;return null!=e&&(this.titleElement.text(e.title),this.textElement.html(e.text),i=parseInt(e.refresh,10)||0,i>=5)?(i=1e3*Math.max(i,5),this.refreshTimeout=n.window().setTimeout(function(e){return function(){return e.trigger(n.rootNode(),t.LOAD_VIDEO,{xid:n.metadata().id})}}(this),i)):void 0},this.after("initialize",function(){return this.closed=!0,this.titleElement=this.select("titleSelector"),this.textElement=this.select("textSelector"),this.on(n.rootNode(),t.ERROR_DISPLAY_REQUESTED,function(t,e){return this.setContent(e),this.openPane()}),this.on(n.rootNode(),t.PLAYER_SIZE_CHANGED,function(t,e){return this.setFontStyles(e.width)}),this.on(n.rootNode(),[t.VIDEO_PLAYING,t.LOAD_VIDEO].join(" "),function(){return this.closePane()}),this.on(n.rootNode(),t.LOAD_VIDEO,function(){return clearTimeout(this.refreshTimeout)})})},r(e,o)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s;return n=i(3),r=i(94),t=i(5),o=i(103),s=i(104),e=function(){return this.bindModalListeners=function(){return this.on(n.rootNode(),t.MODAL_WILL_OPEN,this.handleModalEvent.bind(this,!1)),this.on(n.rootNode(),t.MODAL_WILL_CLOSE,this.handleModalEvent.bind(this,!0))},this.unbindModalListeners=function(){return this.off(n.rootNode(),t.MODAL_WILL_OPEN,this.handleModalEvent.bind(this,!1)),this.off(n.rootNode(),t.MODAL_WILL_CLOSE,this.handleModalEvent.bind(this,!0))},this.handleModalEvent=function(e){return this.get("dmp_annotations_disabled")?void 0:this.trigger(t.ANNOTATIONS_CHANGE_REQUESTED,{visible:e})},this.setInitialState=function(){var e;return this.on(n.rootNode(),t.ANNOTATIONS_CHANGE_CONFIRMED,this.setLocalStorage),e=this.get("dmp_annotations_disabled")?"disable":"enable",this.trigger(t.ANNOTATIONS_CHANGE_REQUESTED,{state:e,overlayData:this.overlayData})},this.setLocalStorage=function(t,e){return e.enabled?(this.set("dmp_annotations_disabled",!1),this.bindModalListeners()):(this.set("dmp_annotations_disabled",!0),this.unbindModalListeners())},this.onVideoOverlaySizeChanged=function(t,e){return this.overlayData=e},this.removeAnnotationsLayer=function(){return this.off(n.rootNode(),t.ANNOTATIONS_CHANGE_CONFIRMED,this.setLocalStorage),this.asyncTrigger(t.ANNOTATIONS_CHANGE_REQUESTED,{state:"disable"})},this.after("initialize",function(){return this.on(n.rootNode(),t.VIDEO_SELECTED,function(){return null!=n.get("annotations")?(this.on(n.rootNode(),t.VIDEO_SLOT_STARTED,this.setInitialState),this.on(n.rootNode(),t.VIDEO_SLOT_ENDED,this.removeAnnotationsLayer),this.on(n.rootNode(),t.VIDEO_OVERLAY_SIZE_CHANGED,this.onVideoOverlaySizeChanged)):void 0}),this.on(n.rootNode(),t.LOAD_VIDEO,function(){return this.removeAnnotationsLayer(),this.off(n.rootNode(),t.VIDEO_SLOT_STARTED,this.setInitialState),this.off(n.rootNode(),t.ANNOTATIONS_CHANGE_CONFIRMED,this.setLocalStorage),this.off(n.rootNode(),t.VIDEO_SLOT_ENDED,this.removeAnnotationsLayer),this.off(n.rootNode(),t.VIDEO_OVERLAY_SIZE_CHANGED,this.onVideoOverlaySizeChanged)})})},r(e,o,s)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r;return r=i(94),n=i(3),t=i(5),e=function(){return this.widths=[{name:"xs","min-width":0},{name:"s","min-width":320},{name:"m","min-width":480},{name:"l","min-width":640},{name:"xl","min-width":960}],this.heights=[{name:"xs","min-height":0},{name:"s","min-height":180},{name:"m","min-height":270},{name:"l","min-height":360},{name:"xl","min-height":540}],this.horizontalBreakpoint={},this.verticalBreakpoint={},this.horizontalBreakpointChanged=!1,this.verticalBreakpointChanged=!1,this.hasChanged=function(t){return t.hasOwnProperty("min-width")?t["min-width"]!==this.horizontalBreakpoint["min-width"]:t.hasOwnProperty("min-height")?t["min-height"]!==this.verticalBreakpoint["min-height"]:!1},this.findBreakpointsFor=function(t){var e,i,n;return e=this.widths.filter(function(e){return t.width>=e["min-width"]}),n=this.heights.filter(function(e){return t.height>=e["min-height"]}),i={horizontal:e,vertical:n}},this.after("initialize",function(){return this.on(n.rootNode(),t.PLAYER_SIZE_CHANGED,function(e,i){var n,r,o,s,a,u,l,h,d,c;if(n=this.findBreakpointsFor(i),s=n.horizontal[n.horizontal.length-1],c=n.vertical[n.vertical.length-1],this.hasChanged(s)){for(this.horizontalBreakpointChanged=!0,this.horizontalBreakpoint=s,this.horizontalClasses&&this.$node.removeClass(this.horizontalClasses),this.horizontalClasses="",l=n.horizontal,r=0,a=l.length;a>r;r++)d=l[r],this.horizontalClasses+=" dmp_h-min-"+d.name;this.$node.addClass(this.horizontalClasses)}else this.horizontalBreakpointChanged=!1;if(this.hasChanged(c)){for(this.verticalBreakpointChanged=!0,this.verticalBreakpoint=c,this.verticalClasses&&this.$node.removeClass(this.verticalClasses),this.verticalClasses="",h=n.vertical,o=0,u=h.length;u>o;o++)d=h[o],this.verticalClasses+=" dmp_v-min-"+d.name;this.$node.addClass(this.verticalClasses)}else this.verticalBreakpointChanged=!1;return this.horizontalBreakpointChanged||this.verticalBreakpointChanged?this.trigger(t.BREAKPOINT_CHANGED,{horizontalBreakpoint:this.horizontalBreakpoint,verticalBreakpoint:this.verticalBreakpoint}):void 0})})},r(e)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a,u,l,h,d,c,f,p,E,m,_,g,v,S,T,y,A,D,R,b,I,N;return T=i(40),y=i(3),D=i(94),R=i(21),a=i(5),l=i(99),b=i(100),I=i(105),N=i(102),t=i(51),e=i(106),n=i(107),r=i(108),o=i(109),s=i(110),u=i(111),h=i(112),d=i(113),c=i(114),f=i(115),p=i(116),E=i(117),m=i(118),_=i(119),g=i(120),v=i(121),S=i(122),A=function(){return this.attributes({baseTabindex:null,ariaLabel:l.__("accessibility:::Primary control bar"),containerSelector:".dmp_ControlBar",containerType:"controlbar",dummyNodeClass:"dmp_dummy-focus",leftGroupSelector:".dmp_ControlBar-group--left",miniUI:!1,rightGroupSelector:".dmp_ControlBar-group--right",subComponents:{AdInfo:{constructor:t,selector:".dmp_AdInfo"},AirPlayButton:{constructor:e,selector:".dmp_AirPlayButton",enabled:function(){return T.supportsAirPlay()&&!R.isIphone()}},AnnotationsButton:{constructor:n,selector:".dmp_AnnotationsButton",enabled:function(){return T.supportsAnnotations()}},ChromecastButton:{constructor:r,selector:".dmp_ChromecastButton"},Drawer:{constructor:o,selector:".dmp_Drawer"},DrawerButton:{constructor:s,selector:".dmp_DrawerButton"},FullscreenButton:{constructor:u,selector:".dmp_FullscreenButton"},LiveInfo:{constructor:h,selector:".dmp_LiveInfo"},LogoButton:{constructor:d,selector:".dmp_LogoButton",enabled:function(){return y.settings("ui.logo")!==!1&&y.metadata("ui.logo")!==!1}},PlaybackButton:{constructor:c,selector:".dmp_PlaybackButton"},QualityButton:{constructor:f,selector:".dmp_QualityButton"},ReportIssueButton:{constructor:p,selector:".dmp_ReportIssueButton",enabled:function(){return R.isDesktop()&&y.context("onsite")}},SeekBar:{constructor:E,selector:".dmp_SeekBar"},SizeButton:{constructor:m,selector:".dmp_SizeButton",enabled:function(){return y.settings("expand.enable")}},SpeedButton:{constructor:_,selector:".dmp_SpeedButton"},SubtitlesButton:{constructor:g,selector:".dmp_SubtitlesButton"},TimeInfo:{constructor:v,selector:".dmp_TimeInfo"},VolumeSlider:{constructor:S,selector:".dmp_VolumeSlider"}}}),this.after("present",function(){return this.presenting?this.trigger(a.CONTROL_BAR_WILL_SHOW):void 0}),this.after("dismiss",function(){return this.dismissing?this.trigger(a.CONTROL_BAR_WILL_HIDE):void 0}),this.after("didPresent",function(){return this.moveFocus(),this.setDummyNodeEnabled(!1)}),this.after("didDismiss",function(){return this.setDummyNodeEnabled(!0)}),this.moveFocus=function(){return this.dummyNodeFocused?(this.$node.find(this.attr.subComponents.PlaybackButton.selector).focus(),this.dummyNodeFocused=!1):void 0},this.setDummyNodeEnabled=function(t){var e;return e=t?[500,5e3]:[-1,-1],this.$dummyNodeStart.attr("tabindex",e[0]),this.$dummyNodeEnd.attr("tabindex",e[1])
},this.handleDummyFocus=function(){return this.dummyNodeFocused=!0,this.visible?this.moveFocus():this.trigger(a.PRESENT_CONTROLS_REQUESTED)},this.getMaxHeight=function(){var t;return t=this.$node.find(this.attr.subComponents.SeekBar.selector),this.buttonHeight=this.$node.find(this.attr.subComponents.PlaybackButton.selector).outerHeight(!0),this.seekBarHeight=t.height()+parseFloat(t.css("padding-top")),this.maxControlBarHeight=this.buttonHeight+this.seekBarHeight},this.notifyControlBarUpdated=function(){return this.trigger(a.CONTROL_BAR_UPDATED,{height:this.currentControlBarHeight,autoHide:this.autoHide})},this.updateHeight=function(){return this.attr.miniUI?(this.currentControlBarHeight=this.buttonHeight,this.$node.addClass("dmp_ControlBar--mini")):(this.currentControlBarHeight=this.maxControlBarHeight,this.$node.removeClass("dmp_ControlBar--mini")),this.notifyControlBarUpdated()},this.handleMiniUI=function(){return this.attr.miniUI=this.playerWidth<=460||this.maxControlBarHeight>=this.playerHeight/4?!0:!1,this.updateHeight(),this.trigger(a.MINI_UI_UPDATED,{enabled:this.attr.miniUI,leftGroupWidth:this.select("leftGroupSelector").outerWidth(!0),rightGroupWidth:this.select("rightGroupSelector").outerWidth(!0)})},this.after("initialize",function(){return this.setAccessibility(this.attr.ariaLabel),this.$dummyNodeStart=$("<div class='"+this.attr.dummyNodeClass+"'>"),$(y.rootNode()).prepend(this.$dummyNodeStart),this.$dummyNodeEnd=$("<div class='"+this.attr.dummyNodeClass+"'>"),$(y.rootNode()).prepend(this.$dummyNodeEnd),this.on(this.$dummyNodeStart,"focus",function(){return this.handleDummyFocus()}),this.on(this.$dummyNodeEnd,"focus",function(){return this.handleDummyFocus()}),this.on(y.rootNode(),a.COMPONENTS_READY,function(){return this.setInvisibility(),this.getMaxHeight(),this.updateHeight(),this.unsetInvisibility(),this.handleMiniUI()}),this.on(y.rootNode(),a.PLAYER_SIZE_CHANGED,function(t,e){return this.playerWidth=e.width,this.playerHeight=e.height,this.maxControlBarHeight?this.handleMiniUI():void 0}),this.on(y.rootNode(),a.SEQUENCE_ENDED,function(){return this.setDummyNodeEnabled(!1)}),this.on(y.rootNode(),a.SEQUENCE_STARTED,function(){return this.setDummyNodeEnabled(!0),this.attr.canShow=!0,this.prepareCssTransition(),this.present()}),this.on(y.rootNode(),[a.AD_LINEAR_SLOT_STARTED,a.VIDEO_SLOT_STARTED,a.FULLSCREEN_BUTTON_ENABLED].join(" "),function(){return this.handleMiniUI()}),this.on(y.rootNode(),a.AD_STARTED,function(){return this.present(),this.$node.addClass("dmp_ControlBar--ad")}),this.on(y.rootNode(),a.AD_STOPPED,function(){return this.$node.removeClass("dmp_ControlBar--ad")})})},D(b,I,A,N)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s;return o=i(94),n=i(3),s=i(25).get("CueZone"),t=i(5),e=i(92),r=function(){return this._clearCuePoints=function(){return this.nextCuepoints=[],this.prevCuepoints=[]},this._addCuepoint=function(t,i){var n;return n=e.find(this.nextCuepoints,{cuepoint:t}),n||(n={cuepoint:t,boundary:[]},this.nextCuepoints.push(n)),n.boundary.push(i)},this._removeCuezone=function(t,e){return this.groups[t].cuezones[e]&&delete this.groups[t].cuezones[e],this._removeCuezoneInCuepoints(t,e,this.prevCuepoints),this._removeCuezoneInCuepoints(t,e,this.nextCuepoints)},this._removeCuezoneInCuepoints=function(t,e,i){var n,r,o,a,u,l;for(o in i){a=i[o],u=a.boundary;for(n in u)r=u[n],r.groupId===t&&r.cuezoneId===e&&(s.log("boundary (",r.groupId,r.cuezoneId,"at",r.countdown,") is removed from cue point",i[o].cuepoint),i[o].boundary.splice(n,1))}l=[];for(o in i)a=i[o],0===a.boundary.length?(s.log("cue point (",a,") is removed (empty)"),l.push(i.splice(o,1))):l.push(void 0);return l},this._sortNextCuepoints=function(){return this.nextCuepoints=e.sortBy(this.nextCuepoints,"cuepoint")},this._time=function(t){return null==t&&(t=0),1e3*Math.round(t)/1e3},this._processCuepoints=function(t,e){var i,n,r,o,s,a;for(i=t.backward,r=t.breakOn,null==i&&(i=!1),s=i?this.prevCuepoints:this.nextCuepoints;s.length&&(a=s[0],o=a.cuepoint,n=a.boundary,null!=r?!r.bind(this)(o,n):!0);)e.bind(this)(0,o,n),s[0]&&this._moveCuepointInLists(0,i);return i?this._sortNextCuepoints():void 0},this._processCueZoneBoundary=function(t,e){var i,n,r,o,s,a,u;for(a=[],s=t.length-1;s>=0;s+=-1)i=t[s],o=i.groupId,n=this.groups[o].cuezones[i.cuezoneId],u=n.from||0,r=n.to||this.duration,a.push(e.bind(this)(o,n,i,u,r));return a},this._enterCueZone=function(e,i,n){var r;return r={group:e,cuezone:i},s.log("Entered :",e,i),this.trigger(t.CUE_ZONE_ENTERED,r),n.entered=!0},this._leaveCueZone=function(e,i,n,r){var o;return null==r&&(r=!1),o={group:e,completed:r,cuezone:i},s.log("Leaved :",e,i),n.entered=!1,r&&null!=n.countdown&&(n.countdown--,0===n.countdown&&this._removeCuezone(e,n.cuezoneId)),this.trigger(t.CUE_ZONE_LEFT,o)},this._leaveAllEnteredCueZones=function(t,e){return null==t&&(t=0),null==e&&(e=null),s.log("_leaveAllEnteredCueZones:",t,e,this.prevCuepoints.length,this.nextCuepoints.length),this._processCuepoints({backward:!0},function(i,n,r){return this._processCueZoneBoundary(r,function(i,n,r,o){var s;return s=null!=e?e===i:!0,s&&r.entered&&o>t?this._leaveCueZone(i,n,r):void 0})})},this._moveCuepointInLists=function(t,e){var i,n,r;return null==e&&(e=!1),n=e?{from:this.prevCuepoints,to:this.nextCuepoints}:{from:this.nextCuepoints,to:this.prevCuepoints},i=n.from,r=n.to,r.push(i[t]),i.splice(t,1)},this._processAllCuepointsUntil=function(t,e){null==e&&(e=!1),this.currentTime=this._time(t),this._processCuepoints({breakOn:function(t){return t>this.currentTime}},function(t,i,n){return this._processCueZoneBoundary(n,function(t,n,r,o,s){return!r.entered&&this.currentTime<s&&i>=o&&s>i&&this._enterCueZone(t,n,r),r.entered&&i>=s?this._leaveCueZone(t,n,r,e):void 0})})},this.clearCueZones=function(){return this.groups={},this.duration=0,this.currentTime=0,this.seekingTime=0,this._clearCuePoints()},this.resetCuePoints=function(){return this.nextCuepoints=e.union(this.nextCuepoints,this.prevCuepoints),this.prevCuepoints=[],this.seekingTime=0,this._sortNextCuepoints()},this.initializeGroups=function(t){var e,i,n;null==t&&(t=!1),t&&this._clearCuePoints(),n=this.groups;for(i in n)e=n[i],t&&(e.initialized=!1),this.initializeGroup(e,!1);return this._sortNextCuepoints()},this.initializeGroup=function(t,e){var i,n,r,o,s,a;if(null==e&&(e=!0),!t.initialized){s=t.cuezones;for(o in s)i=s[o],r=i.from||0,a=i.to||this.duration,n={groupId:t.id,cuezoneId:o,entered:!1},null!=i.countdown&&(n.countdown=i.countdown),this._addCuepoint(r,n),this._addCuepoint(a,n);t.initialized=!0,e===!0&&this._sortNextCuepoints()}},this.registerGroup=function(t){var i;return i={id:t.id,cuezones:e.indexBy(t.cuezones,"id"),initialized:!1},s.log("Register group :",i),this.duration>0&&this.initializeGroup(i),this.groups[i.id]=i,this.currentTime>0?this._processAllCuepointsUntil(this.currentTime):void 0},this.unregisterGroup=function(t){var e,i,n;if(this.groups[t]){this._leaveAllEnteredCueZones(0,t),n=this.groups[t].cuezones;for(i in n)e=n[i],this._removeCuezone(t,e.id);return delete this.groups[t],this.initializeGroups(!0)}},this.handleTimeUpdate=function(t,e){return this._processAllCuepointsUntil(e.time,!0)},this.handleSeeking=function(t,e){this.seekingTime=this._time(e.time)},this.handleSeeked=function(t,e){this._leaveAllEnteredCueZones(e.time),this._processAllCuepointsUntil(e.time)},this.after("initialize",function(){return this.groups={},this.duration=0,this.currentTime=0,this.seekingTime=0,this.nextCuepoints=[],this.prevCuepoints=[],this.on(t.VIDEO_SELECTED,function(){return this.duration=n.metadata("duration"),this.initializeGroups()}),this.on(t.LOAD_VIDEO,function(){return this._leaveAllEnteredCueZones(),this.clearCueZones()}),this.on(t.VIDEO_SLOT_STARTED,function(){return this.initializeGroups(),this.on(t.VIDEO_TIME_UPDATE,this.handleTimeUpdate),this.on(t.VIDEO_SEEKING,this.handleSeeking),this.on(t.VIDEO_SEEKED,this.handleSeeked)}),this.on(t.VIDEO_SLOT_ENDED,function(){return this.off(t.VIDEO_TIME_UPDATE,this.handleTimeUpdate),this.off(t.VIDEO_SEEKING,this.handleSeeking),this.off(t.VIDEO_SEEKED,this.handleSeeked),this.resetCuePoints()}),this.on(t.CUE_ZONE_REGISTER_GROUP,function(t,e){return this.registerGroup(e)}),this.on(t.CUE_ZONE_UNREGISTER_GROUP,function(t,e){return this.unregisterGroup(e.id)})})},o(r)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a,u,l,h;return o=i(3),s=i(94),t=i(5),e=i(99),u=i(100),l=i(105),h=i(102),n=i(123),r=i(124),a=function(){return this.attributes({baseTabindex:null,ariaLabel:e.__("accessibility:::Utility dock"),containerSelector:".dmp_Dock",containerType:"dock",subComponents:{ShareButton:{constructor:n,selector:".dmp_ShareButton"}}}),this.canHideAdLinear=function(){return!0},this.canHideEmpty=function(){return!0},this.getButtonHeight=function(){return this.$node.find(this.attr.subComponents.ShareButton.selector).outerHeight(!0)},this.updateHeight=function(){return this.currentDockHeight=this.getButtonHeight(),this.previousDockHeight!==this.currentDockHeight?(this.previousDockHeight=this.currentDockHeight,this.trigger(t.DOCK_UPDATED,{height:this.currentDockHeight})):void 0},this.after("initialize",function(){return this.attr.canShow=!1,this.on(o.rootNode(),t.COMPONENTS_READY,function(){return this.updateHeight(),this.setAccessibility(this.attr.ariaLabel)}),this.on(o.rootNode(),t.CHROMECAST_REMOTE_ENABLED,function(){return this.attr.canShow=!1,this.dismiss()}),this.on(o.rootNode(),t.AD_STARTED,function(t,e){return"linear"===e.type?(this.attr.canShow=!1,this.dismiss()):void 0}),this.on(o.rootNode(),[t.VIDEO_SLOT_STARTED,t.SEQUENCE_ENDED,t.CHROMECAST_SESSION_STOPPED].join(" "),function(){return this.attr.canShow=!0,this.prepareCssTransition(),this.present()}),this.on(o.rootNode(),t.BREAKPOINT_CHANGED,function(){return this.updateHeight()})})},s(u,l,a,h)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n,r=[].indexOf||function(t){for(var e=0,i=this.length;i>e;e++)if(e in this&&this[e]===t)return e;return-1};n=function(){var t,e,n,o,s,a,u,l;return o=i(3),s=i(94),n=i(40),u=i(4),t=i(5),e=i(99),l=i(25).get("Error"),a=function(){return this.discardedErrors=[u.MEDIA_ERR_ABORTED,u.API_ERR_UNKNOWN_METHOD,u.API_ERR_PLAYER_NOT_READY,u.API_WARN_NOT_RECOMMENDED],this.templates={DEFAULT:{title:e.__("error:::Oh no!"),text:e.__("error:::An unexpected error has occured.")},MEDIA_ERR_SRC_NOT_SUPPORTED:{title:e.__("error:::Whoops!"),text:e.__("error:::Looks like we can't play this video in this browser.")},PRIVATE_VIDEOS_NOT_SUPPORTED:{title:e.__("error:::Sorry!"),text:e.__("error:::Password-protected videos aren't supported in this browser.")},PLAYER_ERR_NEED_FLASH:{title:e.__("error:::Whack!"),text:e.__('error:::You need Adobe Flash to watch this video in this browser. You can download it from <a target="_blank" href="https://get.adobe.com/flashplayer/">adobe.com</a>.')},PLAYER_ERR_NEED_FLASH_UPGRADE:{title:e.__("error:::Bang!"),text:e.__('error:::You need to upgrade your Adobe Flash Player to watch this video. You can download it from <a target="_blank" href="https://get.adobe.com/flashplayer/">adobe.com</a>.')},PLAYER_ERR_VIDEO_NOT_SUPPORTED:{title:e.__("error:::Blop!"),text:e.__("error:::Please update your browser or try a different one.")},PLAYER_ERR_BLOCKED:{title:e.__("error:::Kaboom!"),text:e.__("error:::Their is something in the way blocking this content.<br>Ensure your connection is working property and try to disable your ad blocker.")}},this.getMetadataErrorInfo=function(t){var e;return e={title:t.title,text:t.message},null!=t.refresh&&(e.refresh=t.refresh),t.code===u.DM003&&(e.refresh=10),e},this.getRuntimeErrorInfo=function(t){return this.templates[null!=this.templates[t]?t:"DEFAULT"]},this.after("initialize",function(){return this.on(t.ERROR_PLAYER,function(i,s){var a,h,d;if(h={type:s.type||"runtime",code:s.error.code||s.error,extra:s.extra},l.error(t.ERROR_PLAYER,h),"password_protected"===s.error.type){if(n.supportsBase64())return void this.trigger(t.PASSWORD_REQUIRED,{id:o.metadata("id")});h={type:"runtime",code:u.PRIVATE_VIDEOS_NOT_SUPPORTED}}return h.code===u.API_WARN_NOT_RECOMMENDED&&"undefined"!=typeof console&&null!==console&&"function"==typeof console.warn&&console.warn(e.__("error:::Calling `%method%` method right after `apiready` is not recommended.\nAre you sure you don't want to use the `%parameter%` parameter instead?\nSee: https://developer.dailymotion.com/player#player-parameters",h.extra)),d=h.code,r.call(this.discardedErrors,d)>=0?void 0:(a="metadata"===h.type?this.getMetadataErrorInfo(s.error):this.getRuntimeErrorInfo(h.code),this.trigger(t.ERROR_DISPLAY_REQUESTED,$.extend(h,a)))})})},s(a)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s;return n=i(3),o=i(94),t=i(5),e=i(99),s=i(125),r=function(){return this.attributes({baseTabindex:null,type:"none",buttonSelector:".dmp_DefaultEndScreen-button",titleSelector:".dmp_DefaultEndScreen-title",titleContent:e.__("endscreen:::Replay")}),this.onEndScreenDataChanged=function(){},this.getEndScreenWillOpenEventData=function(){return{name:this.attr.type}},this.setContent=function(){return this.select("titleSelector").text(this.attr.titleContent)},this.after("initialize",function(){return this.on(n.rootNode(),t.COMPONENTS_READY,function(){return this.setContent()}),this.on("click",{buttonSelector:function(){return this.trigger(t.TOGGLE_PLAYBACK_REQUESTED)}})})},o(s,r)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o;return n=i(94),o=i(157),e=i(3),t=i(5),r=function(){var i;return i={type:"none"},this.initialState({dataState:"initial",currentTime:0,data:i,duration:0,enabled:!1,remote:!1,url:null,shouldWatchTimeUpdates:!1,watchingTimeUpdates:!1}),this.isInitialState=function(){return"initial"===this.state.dataState&&0===this.state.currentTime&&0===this.state.duration},this.isDisabled=function(){return!this.state.enabled&&"none"===this.state.data.type},this.doesNotNeedTimeListeners=function(){return!this.state.shouldWatchTimeUpdates&&this.state.watchingTimeUpdates},this.needsTimeListeners=function(){return this.state.enabled&&this.state.shouldWatchTimeUpdates&&!this.state.watchingTimeUpdates},this.dataNotFetched=function(){return this.state.url&&"initial"===this.state.dataState&&this.state.currentTime>=this.state.duration-10},this.dataFetched=function(){return"fetched"===this.state.dataState&&!this.state.remote},this.onStateChanged=function(){this.doesNotNeedTimeListeners()&&(this.unbindTimeListeners(),this.mergeState({watchingTimeUpdates:!1})),this.needsTimeListeners()&&(this.bindTimeListeners(),this.mergeState({watchingTimeUpdates:!0})),this.isInitialState()||this.isDisabled()?this.notifyEndScreenDataChanged():this.dataFetched()?(this.notifyEndScreenDataChanged(),this.mergeState({dataState:"done"})):this.dataNotFetched()&&(this.mergeState({dataState:"fetching"}),this.fetchData())},this.notifyEndScreenDataChanged=function(){return this.trigger(t.END_SCREEN_DATA_CHANGED,this.state.data)},this.fetchData=function(){return $.getJSON(this.state.url).done(function(t){return function(e){var n;return t.mergeState({dataState:"fetched",data:(null!=(n=e.data)?n.length:void 0)>0||!$.isEmptyObject(e.data)?e:i})}}(this)).fail(function(t){return function(){return t.mergeState({dataState:"fetched",data:i})}}(this))},this.bindTimeListeners=function(){return this.on(e.rootNode(),t.VIDEO_DURATION_CHANGE,this.handleDurationChange),this.on(e.rootNode(),t.VIDEO_TIME_UPDATE,this.handleTimeUpdate)},this.unbindTimeListeners=function(){return this.off(e.rootNode(),t.VIDEO_DURATION_CHANGE,this.handleDurationChange),this.off(e.rootNode(),t.VIDEO_TIME_UPDATE,this.handleTimeUpdate)},this.handleDurationChange=function(t,e){return this.mergeState({duration:e.duration})},this.handleTimeUpdate=function(t,e){return this.mergeState({currentTime:e.time})},this.after("initialize",function(){return this.after("stateChanged",this.onStateChanged),this.on(e.rootNode(),t.LOAD_VIDEO,function(){return this.mergeState({enabled:!1})}),this.on(e.rootNode(),t.VIDEO_SELECTED,function(){return this.replaceState({enabled:e.settings("endscreen.enable")&&e.metadata("endscreen.enable"),url:e.metadata("endscreen.url",null),dataState:"initial",currentTime:0,duration:0,remote:!1,data:i,shouldWatchTimeUpdates:!0,watchingTimeUpdates:!1})}),this.on(e.rootNode(),t.SEQUENCE_ENDED,function(){return this.mergeState({currentTime:this.state.duration})}),this.on(e.rootNode(),t.AD_STARTED,function(){return this.mergeState({shouldWatchTimeUpdates:!1})}),this.on(e.rootNode(),t.AD_STOPPED,function(){return this.mergeState({shouldWatchTimeUpdates:!0})}),this.on(t.CHROMECAST_REMOTE_ENABLED,function(){return this.mergeState({remote:!0})}),this.on(t.CHROMECAST_SESSION_STOPPED,function(){return this.mergeState({remote:!1})})})},n(o,r)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o;return n=i(94),e=i(3),t=i(5),o=i(158),r=function(){return this.attributes({shortcuts:{esc:[{eventName:t.PRESSED_ESC},{eventName:t.HIDE_MENU_REQUESTED},{eventName:t.CLOSE_SHARE_PANE_REQUESTED}]," ":[{eventName:t.PRESSED_SPACE,throttle:!1}],ret:[{eventName:t.PRESSED_ENTER,throttle:!1}],left:[{eventName:t.PRESSED_LEFT,throttle:!1}],right:[{eventName:t.PRESSED_RIGHT,throttle:!0}],up:[{eventName:t.PRESSED_UP,throttle:!1}],down:[{eventName:t.PRESSED_DOWN,throttle:!1}],"SHIFT+left":[{eventName:t.PRESSED_SHIFT_LEFT,throttle:!1}],"SHIFT+right":[{eventName:t.PRESSED_SHIFT_RIGHT,throttle:!1}],f:[{eventName:t.PRESSED_F},{eventName:t.FULLSCREEN_TOGGLE_REQUESTED}],m:[{eventName:t.PRESSED_M}],0:[{eventName:t.PRESSED_0}],1:[{eventName:t.PRESSED_1}],2:[{eventName:t.PRESSED_2}],3:[{eventName:t.PRESSED_3}],4:[{eventName:t.PRESSED_4}],5:[{eventName:t.PRESSED_5}],6:[{eventName:t.PRESSED_6}],7:[{eventName:t.PRESSED_7}],8:[{eventName:t.PRESSED_8}],9:[{eventName:t.PRESSED_9}]}}),this.requestSeek=function(e){return this.trigger(t.SEEK_REQUESTED,e)},this.requestVolumeChange=function(e){return this.trigger(t.VOLUME_CHANGE_REQUESTED,e)},this.after("initialize",function(){return o.attachTo(e.rootNode(),{shortcuts:this.attr.shortcuts,rootNode:e.rootNode()}),this.volume=1,this.muted=!1,this.on(t.PRESSED_SPACE,function(){return this.trigger(t.TOGGLE_PLAYBACK_REQUESTED)}),this.on(t.VIDEO_TIME_UPDATE,function(t,e){return this.currentTime=e.time}),this.on(t.PRESSED_LEFT,function(){return this.requestSeek({time:this.currentTime-5})}),this.on(t.PRESSED_RIGHT,function(){return this.requestSeek({time:this.currentTime+5})}),this.on(t.PRESSED_SHIFT_LEFT,function(){return this.requestSeek({time:this.currentTime-10})}),this.on(t.PRESSED_SHIFT_RIGHT,function(){return this.requestSeek({time:this.currentTime+10})}),this.on(t.PRESSED_0,function(){return this.requestSeek({perc:0})}),this.on(t.PRESSED_1,function(){return this.requestSeek({perc:10})}),this.on(t.PRESSED_2,function(){return this.requestSeek({perc:20})}),this.on(t.PRESSED_3,function(){return this.requestSeek({perc:30})}),this.on(t.PRESSED_4,function(){return this.requestSeek({perc:40})}),this.on(t.PRESSED_5,function(){return this.requestSeek({perc:50})}),this.on(t.PRESSED_6,function(){return this.requestSeek({perc:60})}),this.on(t.PRESSED_7,function(){return this.requestSeek({perc:70})}),this.on(t.PRESSED_8,function(){return this.requestSeek({perc:80})}),this.on(t.PRESSED_9,function(){return this.requestSeek({perc:90})}),this.on(t.VIDEO_VOLUME_CHANGED,function(t,e){return this.volume=e.volume,this.muted=e.muted}),this.on(t.PRESSED_UP,function(){var t;return t=this.volume<=.8?this.volume+.1:1,this.requestVolumeChange({volume:t,muted:!1})}),this.on(t.PRESSED_DOWN,function(){var t;return t=this.volume>=.2?this.volume-.1:0,this.requestVolumeChange({volume:t,muted:!1})}),this.on(t.PRESSED_M,function(){return this.requestVolumeChange({volume:this.volume,muted:!this.muted})})})},n(r)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a,u,l,h;return s=i(94),o=i(3),t=i(5),l=i(126),u=i(127),h=i(102),e=i(128),r=i(129),n=i(130),a=function(){return this.attributes({popoverType:"menu",subComponents:{QualityMenuContent:{constructor:e,selector:".dmp_QualityMenuContent"},SpeedMenuContent:{constructor:n,selector:".dmp_SpeedMenuContent"},SubtitlesMenuContent:{constructor:r,selector:".dmp_SubtitlesMenuContent"}}}),this.before("showPopover",function(){return this.lastMenuContentId?this.trigger(t.SHOW_MENU_CONTENT_REQUESTED,{menuContentId:this.lastMenuContentId}):void 0}),this.after("showPopover",function(){return this.visible=!0,this.trigger(t.DISABLE_TOOLTIP_REQUESTED),this.trigger(t.MENU_DID_SHOW)}),this.after("hidePopover",function(){return this.visible?(this.visible=!1,this.trigger(t.ENABLE_TOOLTIP_REQUESTED),this.trigger(t.MENU_DID_HIDE)):void 0}),this.showMenu=function(t,e,i){return this.lastMenuContentId=t,this.showPopover(e,i),this.on(o.rootNode(),"click",this.bindRootnodeClick)},this.hideMenu=function(){return this.hidePopover(),this.off(o.rootNode(),"click",this.bindRootnodeClick)},this.bindRootnodeClick=function(t){return this.visible&&$(t.target).closest(this.$node).length<1&&$(t.target).closest(".dmp_ControlBarButton").length<1?this.hideMenu():void 0},this.after("initialize",function(){return this.attachSubComponents(),this.on(o.rootNode(),t.TOGGLE_MENU_REQUESTED,function(t,e){return this.visible&&this.lastMenuContentId===e.menuContentId?this.hideMenu():this.showMenu(e.menuContentId,e.targetSelector,e.align)}),this.on(o.rootNode(),t.HIDE_MENU_REQUESTED,function(t,e){return null==(null!=e?e.menuContentId:void 0)||e.menuContentId===this.lastMenuContentId?this.hideMenu():void 0}),this.on(o.rootNode(),t.SHOW_MENU_REQUESTED,function(t,e){return this.showMenu(e.menuContentId,e.targetSelector,e.align)})})},s(u,a,l,h)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e;return t=i(94),e=function(){return this.after("initialize",function(){return this.node.controls=!0})},t(e)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s;return r=i(94),n=i(3),t=i(5),e=i(99),s=i(102),o=function(){return this.attributes({headingSelector:".dmp_PasswordPane-heading",labelSelector:".dmp_PasswordPane-label",textFieldSelector:".dmp_PasswordPane-textfield",buttonSelector:".dmp_PasswordPane-button",headingText:e.__("private:::Private video"),labelText:e.__("private:::You need a password to watch this video."),errorText:e.__("private:::Sorry wrong password, try again."),placeholderText:e.__("private:::Password..."),buttonText:e.__("private:::Watch video")}),this.openPane=function(){return this.closed?(this.showNode(),this.closed=!1):void 0},this.closePane=function(){return this.closed?void 0:(this.hideNode(),this.$textField.val(""),this.closed=!0)},this.setContent=function(){return this.$node.removeClass("dmp_PasswordPane--error"),this.$heading.text(this.attr.headingText),this.$label.text(this.attr.labelText),this.$textField.attr("placeholder",this.attr.placeholderText).val(""),this.$button.attr("value",this.attr.buttonText)},this.handleFirstShow=function(){return this.setContent(),this.openPane(),this.firstAttempt=!1},this.handleWrongPassword=function(){return this.$label.text(this.attr.errorText),this.$node.removeClass("dmp_PasswordPane--error"),this.node.offsetWidth=this.node.offsetWidth,this.$node.addClass("dmp_PasswordPane--error"),this.openPane()},this.handleHide=function(){return this.firstAttempt?void 0:(this.closePane(),this.firstAttempt=!0)},this.submitPassword=function(e){return e.preventDefault(),this.trigger(t.PASSWORD_SUBMITTED,{password:this.$textField.val()})},this.after("initialize",function(){return this.closed=!0,this.firstAttempt=!0,this.$heading=this.select("headingSelector"),this.$label=this.select("labelSelector"),this.$textField=this.select("textFieldSelector"),this.$button=this.select("buttonSelector"),this.on(n.rootNode(),t.PASSWORD_REQUIRED,function(t,e){return(null==this.id||this.id!==e.id)&&(this.id=e.id,this.firstAttempt=!0),this.firstAttempt?this.handleFirstShow():this.handleWrongPassword()}),this.on("submit",this.submitPassword),this.on(n.rootNode(),t.VIDEO_SELECTED,function(){return this.handleHide()})})},r(o,s)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a;return o=i(94),r=i(3),t=i(5),s=i(4),e=i(161),n=i(131),a=function(){return this.generatePID=function(i){var o,a,u,l,h,d;try{l=n.randomString(10),d=r.metadata("id"),h=parseInt(d.substring(1,d.length),36),a=n.encodeBase64url(n.encodePackL(h)),o=n.encodeBase64url(e(i+h+l,null,!0))}catch(c){u=c,this.trigger(t.ERROR_PLAYER,{error:s.PLAYER_ERR_UNEXPECTED})}return"p"+o+l+a},this.after("initialize",function(){return this.on(r.rootNode(),t.PASSWORD_SUBMITTED,function(e,i){return this.pid=this.generatePID(i.password),this.trigger(r.rootNode(),t.LOAD_VIDEO,{xid:this.pid})})})},o(a)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a,u,l,h;return o=i(94),u=i(91),r=i(3),t=i(5),n=i(40),s=i(21),e=i(159),l=i(132),h=i(133),a=function(){return this.attributes({"native":null}),this.size=function(){return{width:this.$node.width(),height:this.$node.height()}},this.triggerFirstResizeEvent=function(){return this.currentSize=this.size(),this.trigger(t.PLAYER_SIZE_CHANGED,this.currentSize)},this.notifyPlayerResize=function(){var e;return e=this.size(),this.currentSize!==e?(this.currentSize=e,this.trigger(t.PLAYER_SIZE_CHANGED,this.currentSize)):void 0},this.removeKeyboardFocusStyles=function(){return $(r.rootNode()).removeClass("dmp_Player-keyboard-focus").addClass("dmp_Player-no-keyboard-focus")},this.addKeyboardFocusStyles=function(){return $(r.rootNode()).removeClass("dmp_Player-no-keyboard-focus").addClass("dmp_Player-keyboard-focus")},this.hideCursor=function(){return this.$node.addClass("dmp_hide-cursor")},this.showCursor=function(){return this.$node.removeClass("dmp_hide-cursor")},this.bindControlListeners=function(){return this.controlListenersBound?void 0:(this.on(r.rootNode(),t.CONTROL_BAR_WILL_SHOW,this.showCursor),this.on(r.rootNode(),t.CONTROL_BAR_WILL_HIDE,this.hideCursor),this.controlListenersBound=!0)},this.unbindControlListeners=function(){return this.off(r.rootNode(),t.CONTROL_BAR_WILL_SHOW,this.showCursor),this.off(r.rootNode(),t.CONTROL_BAR_WILL_HIDE,this.hideCursor),this.controlListenersBound=!1,this.showCursor()},this.after("initialize",function(){return e.attach(this.node),this.on(r.rootNode(),t.COMPONENTS_READY,function(){return this.triggerFirstResizeEvent(),this.attr["native"]?this.hideFullscreenButtonForLive():void 0}),$(r.window()).load(function(t){return function(){return t.triggerFirstResizeEvent()}}(this)),n.isEmbed()?this.on(window,"resize",this.notifyPlayerResize):(i(160),$(r.rootNode()).resize(function(t){return function(){return t.notifyPlayerResize()}}(this)),this.on(t.FULLSCREEN_ENTERED,function(){return this.on(window,"resize",this.notifyPlayerResize)}),this.on(t.FULLSCREEN_EXITED,function(){return this.off(window,"resize",this.notifyPlayerResize)})),this.on(r.rootNode(),t.FULLSCREEN_TOGGLE_REQUESTED,this.toggleFullscreen),this.on("mouseenter",function(){return this.trigger(t.MOUSE_ENTERED_PLAYER)}),this.on("mouseleave",function(){return this.trigger(t.MOUSE_LEFT_PLAYER)}),this.on("mousemove",u.throttle(function(){return this.trigger(t.MOUSE_MOVED_OVER_PLAYER)},30)),this.on(r.rootNode(),"mousedown",function(){return this.removeKeyboardFocusStyles()}),this.on(r.rootNode(),"keyup",function(t){return 27!==t.which?this.addKeyboardFocusStyles():void 0}),this.on(r.rootNode(),t.PRESSED_ESC,function(t){return $(t.target).blur()}),$(r.rootNode()).find("button").on("mouseup",function(){return s.isIE()?void 0:$(this).blur()}),this.bindControlListeners(),this.on(r.rootNode(),t.MODAL_WILL_OPEN,this.unbindControlListeners),this.on(r.rootNode(),t.MODAL_WILL_CLOSE,this.bindControlListeners)})},o(a,l,h)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s;return n=i(94),e=i(3),t=i(5),o=i(134),s=i(102),r=function(){return this.setPoster=function(e){return this.currentPoster=e,this.preloadImage(e),this.on(t.IMAGE_PRELOADED,function(t,e){return this.$node.css({"background-image":"url("+e.src+")"})})},this.showPoster=function(t,e){var i,n;return null==e&&(e={}),e.posterSrc?this.setPoster(e.posterSrc):this.currentPoster!==this.defaultPoster&&this.setPoster(this.defaultPoster),t=t.replace(/_WILL_OPEN|_ENDED/,""),this.displays.indexOf(t)>=0||this.displays.push(t),i=[],n=[],(e.blur?i:n).push("dmp_is-blurred"),(e.darken?i:n).push("dmp_is-darkened"),this.$node.addClass(i.join(" ")),this.$node.removeClass(n.join(" ")),this.showNode()},this.hidePoster=function(t){var e;return t=t.replace(/_WILL_CLOSE|_STARTED/,""),(e=this.displays.indexOf(t))>=0&&this.displays.splice(e,1),0===this.displays.length?this.hideNode():void 0},this.handleHide=function(t){return this.hidePoster(t.type)},this.handleShowWithoutFilters=function(t){return this.showPoster(t.type,{blur:!1,darken:!1})},this.after("initialize",function(){return this.displays=[],this.on(e.rootNode(),t.VIDEO_SELECTED,function(){return this.defaultPoster=e.metadata("poster_url"),this.setPoster(this.defaultPoster),this.displays=[],this.off(e.rootNode(),t.AD_LINEAR_SLOT_STARTED,this.handleHide),this.off(e.rootNode(),t.AD_LINEAR_SLOT_ENDED,this.handleShowWithoutFilters),"audio"===e.metadata("media_type")?(this.on(e.rootNode(),t.AD_LINEAR_SLOT_STARTED,this.handleHide),this.on(e.rootNode(),t.AD_LINEAR_SLOT_ENDED,this.handleShowWithoutFilters)):void 0}),this.on(e.rootNode(),t.START_VIEW_WILL_OPEN,function(t,e){return null==e&&(e={}),this.showPoster(t.type,e)}),this.on(e.rootNode(),t.END_SCREEN_WILL_OPEN,function(t,e){return"next_video"===e.name?this.showPoster(t.type,{blur:!1,darken:!0,posterSrc:e.posterSrc}):this.showPoster(t.type,{blur:!0,darken:!0})}),this.on(e.rootNode(),[t.CHROMECAST_STATUS_PANE_WILL_OPEN,t.CHROMECAST_OVERRIDE_PANE_WILL_OPEN].join(" "),function(t){return this.showPoster(t.type,{blur:!0,darken:!0})}),this.on(e.rootNode(),[t.END_SCREEN_WILL_CLOSE,t.START_VIEW_WILL_CLOSE,t.CHROMECAST_STATUS_PANE_WILL_CLOSE,t.CHROMECAST_OVERRIDE_PANE_WILL_CLOSE].join(" "),function(t){return this.hidePoster(t.type)})})},n(r,o,s)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a,u,l,h;return u=i(94),r=i(92),a=i(3),t=i(5),n=i(49),s=i(40),o=i(135),e=i(136),l=i(25).get("Quality"),h=function(){return this.attributes({videoTagSelector:null}),this.after("initialize",function(){return this.size={player:{width:0,height:0}},this.on(t.PLAYER_SIZE_CHANGED,function(t,e){return this.size.player.width=e.width,this.size.player.height=e.height}),this.on(t.VIDEO_SELECTED,function(t,i){var u,h;return h=r.clone(a.metadata("qualities"),!0),u=r.find(h.auto,{type:n.HLS}),l.log("PV5_MSE_HLS",a.isGKEnabled("PV5_MSE_HLS")),a.isGKEnabled("PV5_MSE_HLS")&&u&&s.supportsMSE()?o.loadDynamicQualitySwitcher(function(t){return function(e){return l.log("Enabling DynamicQualitySwitcher (MSE-HLS)"),e.attachTo(a.rootNode(),{videoTagSelector:t.attr.videoTagSelector,qualities:h,playerSize:t.size.player,resource:u,autoplay:i.videoSettings.autoplay})}}(this)):(l.log("Enabling StaticQualitySwitcher (progressive or native HLS)"),e.attachTo(a.rootNode(),{videoTagSelector:this.attr.videoTagSelector,qualities:h,playerSize:this.size.player}))})})},u(h)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s;return n=i(3),r=i(94),t=i(5),e=i(99),s=i(125),o=function(){return this.attributes({type:"related",baseTabindex:null,containerSelector:".dmp_RelatedEndScreen-container",gridSelector:".dmp_RelatedEndScreen-grid",thumbSelector:".dmp_RelatedEndScreen-item",titleSelector:".dmp_RelatedEndScreen-title",titleContent:e.__("endscreen:::Related videos"),thumbWidth:160,thumbHeight:90,smallThumbWidth:120,smallThumbHeight:68,thumbMargin:6,containerMarginHorizontal:30,containerMarginVertical:60}),this.getRelatedVideosSubset=function(t,e,i,n){var r,o,s,a;
return null==n&&(n=1),a=e*i,r=t.length,r>=a?t.slice(0,a):(s=Math.floor(r/e),o=r-e*s,s>=1&&o>0&&n>=o?t.slice(0,-o):t.slice())},this.getThumbnailSize=function(){var t;return t=null!=this.horizontalBreakpoint&&("xs"===this.horizontalBreakpoint.name||"s"===this.horizontalBreakpoint.name)||null!=this.verticalBreakpoint&&("xs"===this.verticalBreakpoint.name||"s"===this.verticalBreakpoint.name)?{width:this.attr.smallThumbWidth,height:this.attr.smallThumbHeight}:{width:this.attr.thumbWidth,height:this.attr.thumbHeight}},this.updateGrid=function(){var t,e,i,n;return i=this.getThumbnailSize(),t=Math.floor((this.playerWidth-2*this.attr.containerMarginHorizontal)/(i.width+2*this.attr.thumbMargin)),e=Math.floor((this.playerHeight-this.bottomMargin-this.topMargin-this.$title.outerHeight(!0))/(i.height+2*this.attr.thumbMargin)),t=Math.min(Math.max(t,1),5),e=Math.min(Math.max(e,1),5),n=t*e,this.currentTotalSlots!==n&&(this.currentTotalSlots=n,this.setContent(this.getRelatedVideosSubset(this.data,t,e,2))),this.alignTitle(0>=n)},this.setContent=function(t){var i,r,o,s,a,u,l;for(i="",u=n.context("onsite")?"_parent":"_blank",o=r=0,a=t.length;a>r;o=++r)s=t[o],l=e.__("accessibility:::Watch %title%",{title:s.title}),i+='<a href="'+s.url+'" class="dmp_RelatedEndScreen-item dmp_u-cf" target="'+u+'" data-index="'+o+'" aria-label="'+l+'"> <div class="dmp_RelatedEndScreen-item-bg" role="presentation" style="background-image: url('+s.poster_url+')"></div> <div class="dmp_RelatedEndScreen-item-text"> <div class="dmp_RelatedEndScreen-item-title">'+s.title+'</div> <div class="dmp_RelatedEndScreen-item-author" role="presentation">'+s.owner+'</div> </div> <div class="dmp_RelatedEndScreen-item-duration" role="presentation">'+s.duration+"</div> </a>";return this.select("gridSelector").html(i)},this.alignTitle=function(t){var e,i;return i=this.fullscreen?0:$(n.rootNode()).offset().left,t?this.hideNode(this.$title):(e=this.select("thumbSelector").first().offset().left-i,this.$title.css({left:-(this.playerWidth/2-e-this.$title.outerWidth()/2)}),this.showNode(this.$title))},this.getEndScreenWillOpenEventData=function(){return{name:this.attr.type,items_count:this.data.length}},this.after("handleVideoSelectedEvent",function(){return this.currentTotalSlots=-1}),this.onEndScreenDataChanged=function(){var t;return(null!=(t=this.data)?t.length:void 0)>0?(this.$title.text(this.attr.titleContent),this.updateGrid()):void 0},this.after("initialize",function(){return this.$title=this.select("titleSelector"),this.on(n.rootNode(),t.PLAYER_SIZE_CHANGED,function(t,e){return this.playerWidth=e.width,this.playerHeight=e.height,this.endScreenVisible&&!this.fullscreenTransitioning?this.updateGrid():void 0}),this.on(n.rootNode(),t.BREAKPOINT_CHANGED,function(t,e){return this.horizontalBreakpoint=e.horizontalBreakpoint,this.verticalBreakpoint=e.verticalBreakpoint}),this.on("click",{thumbSelector:function(e,i){var r;if("open_window"!==this.action)switch(e.preventDefault(),r=$(i.el).data("index"),this.action){case"trigger_event":return this.trigger(n.rootNode(),t.END_SCREEN_ACTION,this.data[r]);case"load_inline":return this.trigger(n.rootNode(),t.LOAD_VIDEO,{xid:this.data[r].id})}}}),this.on(n.rootNode(),t.FULLSCREEN_TOGGLE_REQUESTED,function(){return this.fullscreenTransitioning=!0}),this.on(n.rootNode(),t.FULLSCREEN_ENTERED,function(){return this.fullscreen=!0,this.fullscreenTransitioning=!1,null!=this.data?this.updateGrid():void 0}),this.on(n.rootNode(),t.FULLSCREEN_EXITED,function(){return this.fullscreen=!1,this.fullscreenTransitioning=!1,null!=this.data?this.updateGrid():void 0})})},r(s,o)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a;return n=i(3),r=i(94),t=i(5),e=i(99),a=i(125),s=i(100),o=function(){return this.attributes({type:"next_video",ariaLabel:"",baseTabindex:null,containerSelector:".dmp_NextVideoEndScreen-container",linkSelector:".dmp_NextVideoEndScreen-link",headerSelector:".dmp_NextVideoEndScreen-header",titleSelector:".dmp_NextVideoEndScreen-title",ownerSelector:".dmp_NextVideoEndScreen-owner",headerContent:e.__("endscreen:::Next video:")}),this.setContent=function(){var t,i;return t=n.context("onsite")?"_parent":"_blank",i=e.__("accessibility:::Watch %title%",{title:this.data.title}),this.select("linkSelector").attr("href",this.data.url).attr("target",t),this.select("headerSelector").text(this.attr.headerContent),this.select("titleSelector").text(this.data.title),this.select("ownerSelector").text(e.__("endscreen:::by %owner%",{owner:this.data.owner})),this.setAccessibility(i,this.attr.baseTabindex,"linkSelector")},this.getEndScreenWillOpenEventData=function(){return{name:this.attr.type,posterSrc:this.data.poster_url}},this.onEndScreenDataChanged=function(){return this.setContent()},this.after("initialize",function(){return this.on("click",{linkSelector:function(e){if("open_window"!==this.action)switch(e.preventDefault(),this.action){case"trigger_event":return this.trigger(n.rootNode(),t.END_SCREEN_ACTION,this.data);case"load_inline":return this.trigger(n.rootNode(),t.LOAD_VIDEO,{xid:this.data.id})}}})})},r(s,a,o)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a,u,l;return n=i(3),r=i(94),t=i(5),e=i(99),s=i(100),a=i(137),u=i(138),l=i(102),o=function(){return this.attributes({baseTabindex:null,ariaLabel:e.__("accessibility:::Share panel"),closeButtonAriaLabel:e.__("accessibility:::Close the share panel"),modalId:"sharePane",buttonContainerSelector:".dmp_SharePane-buttons",buttonSelector:".dmp_SharePane-button",closeButtonSelector:".dmp_SharePane-close",embedButtonSelector:".dmp_SharePane-embed",facebookButtonSelector:".dmp_SharePane-facebook",naszaklasaButtonSelector:".dmp_SharePane-naszaklasa",permalinkContainerSelector:".dmp_SharePane-permalink",permalinkSelector:".dmp_SharePane-permalink-text",twitterButtonSelector:".dmp_SharePane-twitter",vkButtonSelector:".dmp_SharePane-vk",zingmeButtonSelector:".dmp_SharePane-zingme",messageTitleSelector:".dmp_SharePane-message-title",messageTextSelector:".dmp_SharePane-message-text",icons:{twitter:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 34 29"><path d="M34 3.4c-1.3.6-2.6 1-4 1.2 1.4-.9 2.5-2.3 3.1-4.1-1.3.8-2.8 1.4-4.4 1.8-1.3-1.4-3.2-2.3-5.2-2.3-3.9 0-7 3.3-7 7.3 0 .6.1 1.1.2 1.7-5.8-.3-10.9-3.2-14.3-7.7-.6 1.1-1 2.4-1 3.7 0 2.5 1.2 4.8 3.1 6.1-1.1 0-2.2-.4-3.2-.9v.1c0 3.5 2.4 6.5 5.6 7.2-.6.2-1.2.3-1.8.3-.4 0-.9 0-1.3-.1.9 2.9 3.5 5 6.5 5.1-2.4 2-5.4 3.1-8.7 3.1-.6 0-1.1 0-1.7-.1 3.2 2 6.9 3.2 10.8 3.2 12.8 0 19.8-11.2 19.8-20.8v-.9c1.4-1.1 2.6-2.4 3.5-3.9z"/></svg>',facebook:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 30"><path d="M9.3 30h-6.2v-15h-3.1v-5.2h3.1v-3.1c0-4.2 1.7-6.7 6.7-6.7h4.2v5.2h-2.6c-1.9 0-2.1.7-2.1 2.1v2.6h4.7l-.6 5.1h-4.1v15z"/></svg>',embed:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 34 22"><path d="M23.2 22l-3.7-3.8 7.1-7.2-5.6-5.8-1.4-1.5 3.6-3.7 1.4 1.5 9.4 9.5-10.8 11zm-12.4 0l-10.8-11 10.8-11 3.7 3.8-7.1 7.2 7.1 7.3-3.7 3.7z"/></svg>',zingme:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="2.584 1 10.831 14"><path d="M12.057 12.285h-5.535l6.273-9.159.002-.003.131-.238.004-.016.039-.108.025-.096.01-.033.027-.27v-.004l-.002-.037-.008-.094-.008-.067-.01-.063-.02-.076-.014-.051-.025-.075-.02-.052-.026-.063-.027-.056-.029-.054-.039-.061-.029-.044-.049-.062-.033-.039-.055-.059-.047-.043-.051-.046-.076-.058-.027-.02-.002-.002-.238-.129-.021-.009-.1-.037-.109-.028-.021-.004-.271-.029h-7.733c-.751 0-1.359.607-1.359 1.358s.607 1.359 1.358 1.359h5.155l-6.241 9.111c-.171.227-.272.51-.272.813 0 .542.316 1.009.775 1.226h.001c.115.055.236.094.367.112l.038.006.175.015h8.118c.75 0 1.357-.608 1.357-1.359s-.608-1.356-1.358-1.356z"/></svg>',naszaklasa:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="1 342.4 612 454.7"><path d="M407.5 342.4h-69.9l-8.7 65.6h21.9l-35 389.1h83.1s26.2-284.1 35-397.8c4.2-43.8-17.6-56.9-26.4-56.9zm-135.5 153c-39.3-48.1-131.1 0-174.9 17.5 0-13.1-8.7-30.6-30.6-30.6h-61.2l-4.3 61.2h21.9l-21.9 253.5h78.7l17.5-209.8s26.2-17.5 48.1-26.2c17.5-4.4 74.3-39.3 65.6 26.2l-17.5 209.8h78.6s8.7-83.1 8.7-122.4c4.4-43.7 13.1-87.4 8.7-122.4.1-21.9-8.6-43.7-17.4-56.8zm341-13.1h-96.2l-100.5 157.3 83.1 157.4h87.4l-83.1-157.4 109.3-157.3z"/></svg>',vk:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="1 3.983 14 8.034"><path d="M14.356 11.995h-2.055c-.499-.002-.877-.219-1.29-.683-.235-.262-.907-1.218-1.334-1.149-.605.097-.305 1.132-.557 1.575-.204.357-1.074.292-1.672.229-1.893-.201-2.859-1.211-3.707-2.296-.903-1.161-1.857-2.829-2.513-4.16-.378-.771-.251-1.127.124-1.154h1.96s.423.003.674.445l.25.539c.345.737.663 1.267 1.082 1.87.182.26.46.753.787.689.316-.064.324-.84.337-1.341.015-.566.023-1.23-.111-1.481-.153-.286-.495-.411-.777-.436.134-.533.98-.658 1.354-.658h1.151c.481.002 1.144.251 1.126.849-.012.445 0 2.046 0 2.274.002.367.092.637.245.74.173.08.468-.225.676-.496.452-.592 1.022-1.542 1.195-2.009.372-1.017.734-.995.734-.995h2.485s.723-.035.392.787c-.314.782-1.185 1.749-1.657 2.374-.19.25-.582.65-.559 1.05.019.303.323.535.559.753.509.475.864.818 1.277 1.346.157.198.526.634.46.885-.111.424-.636.453-.636.453z"/></svg>'},popupHeight:420,popupWidth:550}),this.setContent=function(t){var i,n,r,o,s,a,u,l;for(n="",u=e.__("accessibility:::Video shortlink"),o=r=0,a=t.length;a>r;o=++r)s=t[o],"permalink"===s.service?l='<a href="'+s.url+'" class="dmp_SharePane-permalink-text" target="_blank" aria-label="'+u+'">'+s.url+"</a>":(i="embed"===s.service?e.__("accessibility:::Get embed code"):e.__("accessibility:::Share on %service%",{service:s.service}),n+='<a href="'+s.url+'" class="dmp_SharePane-button dmp_SharePane-'+s.service+'" target="_blank" aria-label="'+i+'"> <div class="dmp_SharePane-button-icon dmp_is-focusable"> '+this.attr.icons[s.service]+' </div> <div class="dmp_SharePane-button-text">'+s.service+"</div> </a>");return this.select("buttonContainerSelector").html(n),this.select("permalinkContainerSelector").html(l)},this.handleServiceAction=function(e,i){return this.handlePaneAction(e,function(){return this.requestService(i)}),this.trigger(t.SHARE_PANE_ACTION,{type:i})},this.handlePaneAction=function(e,i,n){return null==n&&(n=!1),e.preventDefault(),n&&this.isFullscreen?(this.requestFromFullscreen=i,this.trigger(t.FULLSCREEN_TOGGLE_REQUESTED)):i.call(this)},this.requestService=function(t){return this.openPopup(this.select(t+"ButtonSelector").attr("href"),t)},this.requestEmbed=function(){return this.trigger(t.EMBED_REQUESTED)},this.after("initialize",function(){return this.prepareJsTransition(),this.setAccessibility(this.attr.closeButtonAriaLabel,null,"closeButtonSelector"),this.on(n.rootNode(),t.VIDEO_SELECTED,function(){return null!=n.metadata("sharing")&&this.setContent(n.metadata("sharing")),null!=n.metadata("password")?(this.select("messageTitleSelector").text(e.__("sharing:::You made this video private.")),this.select("messageTextSelector").html(e.__("sharing:::You need to provide the password when you share it: %password%",{password:"<span class='dmp_highlight--color'>"+n.metadata("password")+"</span>"}))):void 0}),this.on(n.rootNode(),t.OPEN_SHARE_PANE_REQUESTED,function(){return this.openPane(this.select("buttonSelector").first())}),this.on(n.rootNode(),t.CLOSE_SHARE_PANE_REQUESTED,function(){return this.closePane()}),this.on(n.rootNode(),t.FULLSCREEN_ENTERED,function(){return this.isFullscreen=!0}),this.on(n.rootNode(),t.FULLSCREEN_EXITED,function(){return this.isFullscreen=!1,this.requestFromFullscreen?(this.requestFromFullscreen.call(this),this.requestFromFullscreen=null):void 0}),this.on("click",function(t){return t.target===t.currentTarget||t.target===this.$node.find(".dmp_SharePane-content")[0]?this.closePane():void 0}),this.on("click",{facebookButtonSelector:function(t){return this.handleServiceAction(t,"facebook")},naszaklasaButtonSelector:function(t){return this.handleServiceAction(t,"naszaklasa")},twitterButtonSelector:function(t){return this.handleServiceAction(t,"twitter")},vkButtonSelector:function(t){return this.handleServiceAction(t,"vk")},zingmeButtonSelector:function(t){return this.handleServiceAction(t,"zingme")},embedButtonSelector:function(e){return n.context("onsite")?(this.handlePaneAction(e,this.requestEmbed,!0),this.trigger(t.SHARE_PANE_ACTION,{type:"embed"})):void 0},closeButtonSelector:function(t){return t.preventDefault(),this.closePane()}})})},r(s,o,a,u,l)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s;return n=i(94),e=i(3),t=i(5),s=i(102),r=i(25).get("Player"),o=function(){return this.doShowSpinner=function(t){return this.airplayActive&&this.videoWaiting?void 0:(r.log("show spinner from",t.type),this.showNode())},this.doHideSpinner=function(t){return r.log("hide spinner from",t.type),this.hideNode()},this.after("initialize",function(){return this.on(e.rootNode(),[t.LOAD_VIDEO,t.SEQUENCE_STARTED,t.VIDEO_ENDED].join(" "),this.doShowSpinner),this.on(e.rootNode(),t.VIDEO_PLAY,function(){return this.on(e.rootNode(),[t.VIDEO_REBUFFERING,t.VIDEO_BUFFERING].join(" "),this.doShowSpinner)}),this.on(e.rootNode(),t.VIDEO_PAUSE,function(i){return this.doHideSpinner(i),this.off(e.rootNode(),[t.VIDEO_REBUFFERING,t.VIDEO_BUFFERING].join(" "),this.doShowSpinner)}),this.on(e.rootNode(),[t.VIDEO_PLAYING,t.VIDEO_STEADYPLAY,t.START_VIEW_WILL_OPEN,t.SEQUENCE_ENDED,t.ERROR_DISPLAY_REQUESTED,t.AD_STARTED].join(" "),this.doHideSpinner),this.on(e.rootNode(),t.CHROMECAST_REMOTE_ENABLED,function(t,e){return e.anotherVideo?this.hideNode():this.showNode()}),this.on(e.rootNode(),t.AIRPLAY_WIRELESS_STATE,function(t,e){return this.airplayActive=e.active}),this.on(e.rootNode(),t.VIDEO_WAITING,function(){return this.videoWaiting=!0}),this.on(e.rootNode(),t.VIDEO_PLAYING,function(){return this.videoWaiting=!1})})},n(o,s)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a,u,l;return n=i(3),r=i(94),t=i(5),e=i(99),s=i(100),a=i(101),u=i(134),l=i(102),o=function(){return this.attributes({"native":null,baseTabindex:null,ariaLabel:e.__("accessibility:::Play"),logoAriaLabel:e.__("accessibility:::Watch on Dailymotion.com"),playAriaLabel:e.__("accessibility:::Play"),durationLabelSelector:".dmp_StartView-duration-text",infoSelector:".dmp_StartView-info",logoSelector:".dmp_StartView-logo",ownerLabelSelector:".dmp_StartView-owner-text",playButtonSelector:".dmp_StartView-play-button",playSelector:".dmp_StartView-play",posterSelector:".dmp_StartView-poster",titleLabelSelector:".dmp_StartView-title-text"}),this.requestPlay=function(){return this.trigger(t.PLAY_REQUESTED)},this.handleSequenceReady=function(e,i){return i.willStartImmediately||(this.trigger(t.START_VIEW_WILL_OPEN),this.showNode()),this.off(n.rootNode(),t.SEQUENCE_READY,this.handleSequenceReady)},this.hideStartView=function(){return this.hideNode(),this.trigger(t.START_VIEW_WILL_CLOSE)},this.after("initialize",function(){return this.setAccessibility(this.attr.playAriaLabel,null,"playButtonSelector"),this.setAccessibility(this.attr.logoAriaLabel,null,"logoSelector"),this.on(n.rootNode(),t.VIDEO_SELECTED,function(){var t,i,r,o,s,a,u;return i=this.select("infoSelector"),a=this.select("titleLabelSelector"),o=this.select("ownerLabelSelector"),t=this.select("durationLabelSelector"),s=this.select("playButtonSelector"),r=this.select("logoSelector"),n.settings("chromeless")?(this.hideNode(s),this.hideNode(t),this.hideNode(a),this.hideNode(o),this.hideNode(r),this.hideNode(i)):((n.settings("ui.logo")===!1||n.metadata("ui.logo")===!1)&&this.hideNode(r),(n.settings("ui.start_screen_info")===!1||n.metadata("ui.start_screen_info")===!1)&&this.hideNode(i),a.text(n.metadata("title")).attr("href",n.metadata("url")),this.setAccessibility(e.__("accessibility:::Video title: %title%",{title:n.metadata("title")}),null,"titleLabelSelector"),o.text(n.metadata("owner.screenname")).attr("href",n.metadata("owner.url")),this.setAccessibility(e.__("accessibility:::Video owner: %owner%",{owner:n.metadata("owner.screenname")}),null,"ownerLabelSelector"),u="live"===n.metadata("stream_type")?e.__("badge:::Live").toUpperCase():this.formatTime(n.metadata("duration")),t.text(u),this.setAccessibility(e.__("accessibility:::Video duration: %duration%",{duration:this.formatReadableTime(n.metadata("duration"))}),null,"durationLabelSelector"),r.attr("href",n.metadata("url")),this.on("click",{playSelector:this.requestPlay,playButtonSelector:this.requestPlay}))}),this.on(n.rootNode(),t.SEQUENCE_READY,this.handleSequenceReady),this.on(n.rootNode(),[t.SEQUENCE_STARTED,t.CHROMECAST_REMOTE_ENABLED].join(" "),function(){return this.hideStartView()}),this.on(n.rootNode(),t.LOAD_VIDEO,function(){return this.hideStartView(),this.on(n.rootNode(),t.SEQUENCE_READY,this.handleSequenceReady)})})},r(s,a,u,l,o)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a,u,l;return o=i(94),r=i(3),t=i(5),e=i(139),n=i(92),a=i(25).get("Subtitles"),l=i(104),s=function(t){return"dmp_subtitles_"+t},u=function(){var i;return i="subtitles",this.getSubtitles=function(t){var i,n,r;return-1===t?void this.setSubtitles(t,[]):(null!=(i=this.subtitlesData[t])&&null!=(n=i.urls)?n[0]:void 0)?(r=this.subtitlesData[t].urls[0],this.cache[r]?void this.setSubtitles(t,this.cache[r]):$.get(r).done(function(i){return function(n){return i.cache[r]=new e(n).parse(),i.setSubtitles(t,i.cache[r])}}(this)).fail(function(e){return function(){return e.unavailableSubtitle(t)}}(this))):void this.unavailableSubtitle(t)},this.setSubtitles=function(e,i){return this.registerCueZones(i),this.set(s(this.videoLanguage),e),this.trigger(t.SUBTITLE_CHANGE_CONFIRMED,{code:e})},this.unavailableSubtitle=function(t){return a.log("unavailable subtitles:",t),this.setSubtitles("-1",[])},this.getDefaultSubtitles=function(){return a.log("Setting default subtitles:",this.defaultSubtitlesCode),this.getSubtitles(this.defaultSubtitlesCode)},this.getLocalStorageSubtitles=function(){var t,e,i;return t=this.get(s(this.videoLanguage)),(null!=(e=this.subtitlesData[t])&&null!=(i=e.urls)?i[0]:void 0)?(a.log("Setting localStorage subtitles:",t),this.getSubtitles(t),!0):!1},this.registerCueZones=function(e){var n,r;return null==e&&(e=[]),this.trigger(t.CUE_ZONE_UNREGISTER_GROUP,{id:i}),0!==e.length?(n=function(){var t,i,n;for(n=[],t=0,i=e.length;i>t;t++)r=e[t],n.push({id:r.id,from:r.start,to:r.end,text:r.text});return n}(),this.trigger(t.CUE_ZONE_REGISTER_GROUP,{id:i,cuezones:n})):void 0},this.after("initialize",function(){return this.cache={},this.displayedCuezoneId=null,this.settingsSubtitlesCode=r.settings("subtitles.default"),this.on(r.rootNode(),t.VIDEO_SELECTED,function(){var e,i;if(this.enabled=r.metadata("subtitles.enable"),this.subtitlesData=r.metadata("subtitles.data"),this.metadataSubtitlesCode=r.metadata("subtitles.default"),this.videoLanguage=r.metadata("language"),this.subtilesHaveBeenSetOnInit=!1,this.enabled&&this.subtitlesData){i=[];for(e in this.subtitlesData)i.push(e);return this.trigger(t.SUBTITLES_AVAILABLE,{subtitles:i.sort()})}}),this.on(t.LOAD_VIDEO,function(){return this.displayedCuezoneId=null,this.trigger(t.CUE_ZONE_UNREGISTER_GROUP,{id:i})}),this.on(t.SUBTITLE_CHANGE_REQUESTED,function(t,e){return this.getSubtitles(e.code)}),this.on(r.rootNode(),t.CUE_ZONE_ENTERED,function(e,n){return this.enabled&&n.group===i?(this.displayedCuezoneId=n.cuezone.id,this.trigger(t.SUBTITLE_TEXT_UPDATED,{lines:n.cuezone.text})):void 0}),this.on(r.rootNode(),t.CUE_ZONE_LEFT,function(e,n){return this.enabled&&n.group===i&&this.displayedCuezoneId===n.cuezone.id?(this.displayedCuezoneId=null,this.trigger(t.SUBTITLE_TEXT_UPDATED,{lines:[]})):void 0}),this.on(r.rootNode(),t.VIDEO_SLOT_STARTED,function(){return this.enabled?this.subtilesHaveBeenSetOnInit?void 0:(this.settingsSubtitlesCode?this.getSubtitles(this.settingsSubtitlesCode):!this.getLocalStorageSubtitles()&&this.metadataSubtitlesCode&&this.getSubtitles(this.metadataSubtitlesCode),this.subtilesHaveBeenSetOnInit=!0):void 0})})},o(u,l)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s;return n=i(94),e=i(3),t=i(5),s=i(102),o=i(127),r=function(){return this.attributes({textSelector:".dmp_Tooltip-text",enabled:!1}),this.updateText=function(t){return this.select("textSelector").text(t)},this.enableTooltip=function(){return!this.attr.enabled&&(this.attr.enabled=!0,this.targetNeedsTooltip)?this.showPopover(this.lastPopoverTargetSelector(),this.lastPopoverAlign()):void 0},this.disableTooltip=function(){return this.attr.enabled?(this.attr.enabled=!1,this.hidePopover()):void 0},this.after("initialize",function(){return this.on(e.rootNode(),t.FULLSCREEN_TOGGLE_REQUESTED,function(){return this.wasEnabledBeforeFullscreen=this.attr.enabled,this.disableTooltip()}),this.on(e.rootNode(),[t.FULLSCREEN_ENTERED,t.FULLSCREEN_EXITED].join(" "),function(){return this.targetNeedsTooltip=!1,this.wasEnabledBeforeFullscreen?this.enableTooltip():void 0}),this.on(e.rootNode(),t.SHOW_TOOLTIP_REQUESTED,function(t,e){return this.targetNeedsTooltip=!0,this.updateText(e.text),this.showPopover(e.targetSelector,e.align)}),this.on(e.rootNode(),t.UPDATE_TOOLTIP_REQUESTED,function(t,e){return this.lastPopoverTargetSelector()===e.targetSelector&&this.targetNeedsTooltip?(this.updateText(e.text),this.showPopover(e.targetSelector,e.align)):void 0}),this.on(e.rootNode(),t.HIDE_TOOLTIP_REQUESTED,function(){return this.targetNeedsTooltip=!1,this.hidePopover()}),this.on(e.rootNode(),t.DISABLE_TOOLTIP_REQUESTED,function(){return this.targetNeedsTooltip=!1,this.disableTooltip()}),this.on(e.rootNode(),t.ENABLE_TOOLTIP_REQUESTED,function(){return this.enableTooltip()})})},n(o,r,s)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a,u;return r=i(94),n=i(3),t=i(5),o=i(4),e=i(140).Location,s=i(25).get("Player"),u=i(141),a=function(){return this.initError=function(){return n.context("error")?{type:"context",error:n.context("error")}:n.metadata("error")?{type:"metadata",error:n.metadata("error")}:void 0},this.notifyVideoSelected=function(e){var i,r;return null==e&&(e=null),r=n.metadata(),(i=this.initError())?this.trigger(t.ERROR_PLAYER,i):$.isEmptyObject(r)?void 0:(s.groupCollapsed(t.VIDEO_SELECTED),this.trigger(t.VIDEO_SELECTED,{metadata:r,videoSettings:e}),s.groupEnd())},this.onMetadataLoaded=function(t,e){return(null==e.id||"p"!==e.id[0])&&n.updateMetadata(e),this.notifyVideoSelected(t)},this.handlePlayerError=function(){return this.trigger(t.ERROR_PLAYER,{error:o.PLAYER_ERR_XHR_CALL_FAILED})},this.sanitizeSettings=function(t){return null==t&&(t={}),{autoplay:"boolean"==typeof t.autoplay?t.autoplay:!0,start:this.startAt||("number"==typeof t.start?t.start:0)}},this.after("initialize",function(){return this.on(t.COMPONENTS_READY,function(){return this.startAt=this.getSavedCurrentTime(),this.notifyVideoSelected({autoplay:n.settings("autoplay"),start:this.startAt||n.settings("start")})}),this.on(t.LOAD_VIDEO,function(t,e){var i,r,o,s,a;return(a=n.context("metadata_template_url"))?(s=a.replace(":videoId",e.xid),r=(null!=(i=e.settings)?i.pxltrk:void 0)?{pxltrk:e.settings.pxltrk}:void 0,o=this.sanitizeSettings(null!=e?e.settings:void 0),$.getJSON(s,r).done(this.onMetadataLoaded.bind(this,o)).fail(this.handlePlayerError.bind(this))):void 0})})},r(u,a)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a,u,l,h,d,c,f,p;return a=i(94),o=i(40),s=i(3),l=i(4),e=i(5),r=i(92),h=i(25).get("Player"),t=i(142),n=i(143),c=i(103),p=i(141),f=i(98),u=i(21),d=function(){var i;return i="linearAds",this.attributes({videoTagSelector:null,videoWrapperTagSelector:null}),this.prepareSequence=function(t){return null==t&&(t=!1),this.on([e.PLAY_REQUESTED,e.TOGGLE_PLAYBACK_REQUESTED,e.SEEK_REQUESTED].join(" "),this.startSequence),this.on([e.CHROMECAST_PREPARE_FOR_REMOTE,e.CHROMECAST_REMOTE_ENABLED].join(" "),this.enableChromecastRemoteAndStartSequence),this.asyncTrigger(e.SEQUENCE_READY,{willStartImmediately:t}),t?this.asyncTrigger(e.PLAY_REQUESTED):void 0},this.startSequence=function(t,i){return this.isVideoStart=!0,this.off([e.PLAY_REQUESTED,e.TOGGLE_PLAYBACK_REQUESTED,e.SEEK_REQUESTED].join(" "),this.startSequence),this.off([e.CHROMECAST_PREPARE_FOR_REMOTE,e.CHROMECAST_REMOTE_ENABLED].join(" "),this.enableChromecastRemoteAndStartSequence),this.asyncTrigger(e.SEQUENCE_STARTED),this.waitForCanPlayOneSource().then(function(t){return function(){return t.adsDisabled||t.prerollDisabled?t.startVideoSlot({startAt:null!=i?i.time:void 0,chromecastRemoteEnabled:t.chromecastRemoteEnabled}):t.startAdLinearSlot({position:"preroll"})}}(this)).fail(function(t){return function(){return u.isDesktop()?t.trigger(e.ERROR_PLAYER,{error:l.PLAYER_ERR_NEED_FLASH}):t.trigger(e.ERROR_PLAYER,{error:l.MEDIA_ERR_SRC_NOT_SUPPORTED})}}(this))},this.waitForCanPlayOneSource=function(){return this.canPlayOneSourceDeferred.promise()},this.startAdLinearSlot=function(e){return h.log(">>> setting @timeBeforeMidroll to",e.currentTime||0),this.timeBeforeMidroll=e.currentTime||0,t.attachTo(s.rootNode(),{videoTagSelector:this.attr.videoTagSelector,videoWrapperTagSelector:this.attr.videoWrapperTagSelector,position:e.position,podSlots:e.podSlots||null,size:r.clone(this.size,!0)})},this.startVideoSlot=function(t){return n.attachTo(s.rootNode(),{videoTagSelector:this.attr.videoTagSelector,videoWrapperTagSelector:this.attr.videoWrapperTagSelector,startAt:this.startTimeParameter||(null!=t?t.startAt:void 0)||0,isVideoStart:this.isVideoStart,replay:this.replay,chromecastRemoteEnabled:(null!=t?t.chromecastRemoteEnabled:void 0)||!1}),this.isVideoStart=!1,this.startTimeParameter=0},this.endSequence=function(){return this.asyncTrigger(e.SEQUENCE_ENDED),this.adsDisabled=!0,this.replay++,this.prepareSequence()},this.enableChromecastRemoteAndStartSequence=function(){return this.onChromecastRemoteEnabled(),this.startSequence()},this.onChromecastRemoteEnabled=function(){return this.adsDisabled=!0,this.chromecastRemoteEnabled=!0},this.onChromecastSessionStopped=function(){return this.chromecastRemoteEnabled=!1},this.registerAdsCueZones=function(){var t,n,r,o,a,u,l;if(this.trigger(e.CUE_ZONE_UNREGISTER_GROUP,{id:i}),!this.adsDisabled){if(o=[],n=s.metadata("duration"),u=300,a=10,l=10,s.isGKEnabled("PV5_MIDROLLS"))for(n>(a+1)*u&&(u=Math.floor(n/(a+1))),t=u,r=n-u;r>t;)o.push({id:"midroll_"+(t-l)+"-"+t,from:t-l,to:t,countdown:1,type:"midroll"}),t+=u;return o.push({id:"postroll",from:n-l,countdown:1,type:"postroll"}),h.log("registering "+i+" cue zones:",o.map(function(t){return t.to||n}).map(function(t){return{h:~~(t/3600),m:~~(t%3600/60),s:t%60}}).map(function(t){var e,i,n;return e=t.h,i=t.m,n=t.s,e+":"+i+":"+n})),this.trigger(e.CUE_ZONE_REGISTER_GROUP,{id:i,cuezones:o})}},this.resetDefaults=function(){return this.enabled=!1,this.adsDisabled=!s.settings("advertising.enable"),this.prerollDisabled=this.hasSavedCurrentTime(),this.isVideoStart=!1,this.canPlayOneSourceDeferred=$.Deferred()},this.after("initialize",function(){var t;return this.resetDefaults(),this.gotUserAction=!1,this.videoTag=this.select("videoTagSelector")[0],t=function(){return this.off([e.LOAD_VIDEO,e.PLAY_REQUESTED,e.SEEK_REQUESTED].join(" "),t),this.gotUserAction=!0,this.videoTag.removeAttribute("src"),this.videoTag.play(),this.videoTag.pause()},this.on([e.LOAD_VIDEO,e.PLAY_REQUESTED,e.SEEK_REQUESTED].join(" "),t),this.on(e.CAN_PLAY_ONE_SOURCE,function(t,e){return e.ok?this.canPlayOneSourceDeferred.resolve():this.canPlayOneSourceDeferred.reject()}),this.on(e.VIDEO_SELECTED,function(t,e){var i,n,r;return r=(this.gotUserAction||o.canAutoplay())&&(null!=e&&null!=(i=e.videoSettings)?i.autoplay:void 0)||!1,this.startTimeParameter=(null!=e&&null!=(n=e.videoSettings)?n.start:void 0)||0,this.enabled=!0,this.replay=0,this.prepareSequence(r),"live"!==s.metadata("stream_type")?this.registerAdsCueZones():void 0}),this.on(e.AD_LINEAR_SLOT_ENDED,function(t,e){if(this.enabled)switch(e.position){case"preroll":return this.startVideoSlot(e);case"postroll":return this.endSequence()}}),this.on(s.rootNode(),e.AD_STOPPED,function(t,e){var i;if(this.enabled)return"midroll"===(i=e.position)||"adbreak"===i?this.setImmediate(function(t){return function(){return h.log(">>> reading @timeBeforeMidroll to",t.timeBeforeMidroll),t.startVideoSlot({startAt:t.timeBeforeMidroll-5,chromecastRemoteEnabled:t.chromecastRemoteEnabled})}}(this)):void 0}),this.on(e.VIDEO_ENDED,function(){return this.enabled?this.adsDisabled?this.endSequence():this.startAdLinearSlot({position:"postroll"}):void 0}),this.on(e.QUALITY_CHANGED,function(t,e){return this.midrollsEnabled=e.adaptive}),this.on(e.CUE_ZONE_ENTERED,function(t,n){var r,o;return o=n.group,r=n.cuezone,!this.enabled||this.adsDisabled||o!==i||!this.midrollsEnabled&&"midroll"===r.type?void 0:this.trigger(e.AD_FETCHER_PREFETCH,{type:r.type})}),this.on(e.CUE_ZONE_LEFT,function(t,e){var n,r,o;return o=e.group,r=e.cuezone,n=e.completed,this.enabled&&!this.adsDisabled&&o===i&&this.midrollsEnabled&&"midroll"===r.type&&n?this.startAdLinearSlot({position:"midroll",currentTime:r.to}):void 0}),this.on(e.CHROMECAST_REMOTE_ENABLED,this.onChromecastRemoteEnabled),this.on(e.CHROMECAST_SESSION_STOPPED,this.onChromecastSessionStopped),this.on(e.LOAD_VIDEO,function(){return this.resetDefaults()})}),this.before("teardown",function(){return n.teardownAll(),t.teardownAll()})},a(p,d,c,f)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a,u,l,h;return a=i(94),s=i(3),t=i(5),r=i(28),u=i(25).get("ChromecastVideo"),l=i(104),h=i(144),e=i(140).Location,n=i(49),o=function(){return this.handleMediaStatusUpdates=function(e,i){switch(u.log("MediaStatusUpdate",i),this.mediaState=i,i){case r.PlayerState.PAUSED:return this.trigger(t.VIDEO_PAUSE,{interrupted:!1});case r.PlayerState.PLAYING:return this.trigger(t.VIDEO_PLAYING);case r.PlayerState.BUFFERING:return this.trigger(t.VIDEO_WAITING);case r.PlayerState.IDLE:if(this.pendingQualityChange)return;return this.pendingReplay=!0,this.trigger(t.VIDEO_PAUSE,{interrupted:!1}),this.trigger(t.VIDEO_ENDED)}},this.handlePlayRequestedEvent=function(){return this.pendingReplay?(this.mediaInfo.currentTime=0,this.mediaInfo.autoplay=!0,this.loadMedia()):(this.trigger(t.VIDEO_PLAY),r.mediaPlay())},this.handlePauseRequestedEvent=function(){return r.mediaPause()},this.handleTogglePlaybackRequestedEvent=function(){return this.trigger(this.mediaState!==r.PlayerState.PLAYING?t.PLAY_REQUESTED:t.PAUSE_REQUESTED)},this.handleSeekRequested=function(t,e){return r.mediaSeek(e.time)},this.updateVolume=function(t,e){var i;return i=r.muted&&t!==r.volume,r.setVolume(t,i?!1:e)},this.bindChromecastEvents=function(){return this.dontBindThatListenersAgainItsAlreadyDone?void 0:this.on(t.VOLUME_CHANGE_REQUESTED,this.handleVolumeChangeRequestedEvent)},this.bindChromecastMediaEvents=function(){return this.dontBindThatListenersAgainItsAlreadyDone?void 0:(this.dontBindThatListenersAgainItsAlreadyDone=!0,this.on(t.PLAY_REQUESTED,this.handlePlayRequestedEvent),this.on(t.PAUSE_REQUESTED,this.handlePauseRequestedEvent),this.on(t.TOGGLE_PLAYBACK_REQUESTED,this.handleTogglePlaybackRequestedEvent),this.on(t.SEEK_REQUESTED,this.handleSeekRequested),this.on(t.CHROMECAST_MEDIA_STATUS_UPDATE,this.handleMediaStatusUpdates))},this.unbindChromecastEvents=function(){return this.dontBindThatListenersAgainItsAlreadyDone?(this.dontBindThatListenersAgainItsAlreadyDone=!1,this.off(t.PLAY_REQUESTED,this.handlePlayRequestedEvent),this.off(t.PAUSE_REQUESTED,this.handlePauseRequestedEvent),this.off(t.TOGGLE_PLAYBACK_REQUESTED,this.handleTogglePlaybackRequestedEvent),this.off(t.SEEK_REQUESTED,this.handleSeekRequested),this.off(t.VOLUME_CHANGE_REQUESTED,this.handleVolumeChangeRequestedEvent),this.off(t.CHROMECAST_MEDIA_STATUS_UPDATE,this.handleMediaStatusUpdates)):void 0},this.handleExistingSession=function(){return this.off([t.SEQUENCE_STARTED,t.VIDEO_SLOT_STARTED].join(" "),this.handleExistingSession),s.window().setTimeout(function(e){return function(){return e.trigger(t.CHROMECAST_REMOTE_ENABLED,{anotherVideo:e.anotherVideo}),e.anotherVideo?void 0:(e.bindChromecastMediaEvents(),r.watchMediaUpdates())
}}(this),0)},this.loadMedia=function(){return this.mediaInfo.src?r.loadMedia(this.mediaInfo):void 0},this.after("initialize",function(){return this.mediaInfo={},this.ended=!1,this.videoStarted=!1,this.endScreen=!1,this.pendingReplay=!1,this.pendingQualityChange=!1,this.pendingChromecastLaunch=!1,this.dontBindThatListenersAgainItsAlreadyDone=!1,this.mediaState=null,this.on(t.VIDEO_SELECTED,function(){var t,i,r,o,a,l,h;for(this.mediaInfo={customData:{xid:s.metadata("id")},title:s.metadata("title"),posterUrl:s.metadata("poster_url"),autoplay:!1},t=s.metadata("qualities.auto",[]),a=[],i=0,r=t.length;r>i;i++){if(o=t[i],l=o.type,h=o.url,l===n.HLS){this.mediaInfo.src=e.appendQueryStringParameter(h,"max=1080").replace(/^https?:/,"https:"),u.log("Found HLS:",this.mediaInfo.src),this.mediaInfo.customData.hls=!0,this.mediaInfo.contentType=n.HLS;break}a.push(void 0)}return a}),this.on(t.VIDEO_DURATION_CHANGE,function(t,e){return this.mediaInfo.duration=e.duration}),this.on(t.QUALITY_CHANGE_CONFIRMED,function(t,e){var i;return i=e.quality.resource,this.mediaInfo.customData.hls||this.mediaInfo.src===i.url?void 0:(this.mediaInfo.src=i.url,this.mediaInfo.contentType=i.type,this.mediaInfo.customData.quality=e.quality,this.session?(this.pendingQualityChange=!0,this.loadMedia()):void 0)}),this.on(t.VIDEO_TIME_UPDATE,function(t,e){return this.mediaInfo.currentTime=e.time}),this.on(t.VIDEO_VOLUME_CHANGED,function(t,e){var i;return this.session&&e.origin===(null!=(i=this.session)?i.receiver.friendlyName:void 0)?void 0:this.mediaInfo.volume=e}),this.on(t.VIDEO_PLAY,function(){return this.mediaInfo.autoplay=!0}),this.on(t.VIDEO_PAUSE,function(t,e){return e.interrupted?void 0:this.mediaInfo.autoplay=!1}),this.on(t.VIDEO_SLOT_STARTED,function(){return this.videoStarted=!0}),this.on(t.SEQUENCE_ENDED,function(){return this.endScreen=!0}),this.on(t.CHROMECAST_READY,function(){return this.get("dmp_chromecast_launch_requested")&&this.trigger(t.CHROMECAST_LAUNCH_REQUESTED),this.remove("dmp_chromecast_launch_requested")}),this.on(t.CHROMECAST_LAUNCH_REQUESTED,function(){var e,i;return this.set("dmp_html5_preferred",!0),this.pendingChromecastLaunch=!0,this.session&&this.session.media.length>0?(this.anotherVideo=this.mediaInfo.customData.xid!==(null!=(e=this.session.media[0].media)&&null!=(i=e.customData)?i.xid:void 0),this.anotherVideo?(this.mediaInfo.autoplay=!0,this.loadMedia(),this.trigger(t.CHROMECAST_REMOTE_ENABLED,{anotherVideo:this.anotherVideo})):r.requestSession(this.mediaInfo)):(this.endScreen&&(this.mediaInfo.currentTime=0,this.mediaInfo.autoplay=!0),r.requestSession(this.mediaInfo)),u.log("end of CHROMECAST_LAUNCH_REQUESTED")}),this.on(t.CHROMECAST_SESSION_AVAILABLE,function(e,i){return this.session=i,this.pendingChromecastLaunch?(this.anotherVideo=!1,this.trigger(t.CHROMECAST_REMOTE_ENABLED,{anotherVideo:this.anotherVideo}),this.loadMedia()):this.session.media.length||(this.anotherVideo=!1,this.pendingChromecastLaunch=!0,this.mediaInfo.autoplay=!0,this.endScreen?(this.mediaInfo.currentTime=0,this.trigger(t.CHROMECAST_PREPARE_FOR_REMOTE,{anotherVideo:this.anotherVideo})):this.trigger(t.CHROMECAST_REMOTE_ENABLED,{anotherVideo:this.anotherVideo}),this.loadMedia()),this.bindChromecastEvents()}),this.on(t.CHROMECAST_MEDIA_DISCOVERED,function(e,i){return u.log("Media discovered:",i),this.anotherVideo=this.mediaInfo.customData.xid!==i.info.customData.xid,this.endScreen=!1,this.pendingChromecastLaunch?(this.handleExistingSession(),this.pendingChromecastLaunch=!1):this.pendingReplay?(r.watchMediaUpdates(),this.pendingReplay=!1):this.pendingQualityChange?(r.watchMediaUpdates(),this.trigger(t.QUALITY_CHANGED,{quality:this.mediaInfo.customData.quality}),this.pendingQualityChange=!1):this.videoStarted?this.handleExistingSession():(this.on([t.SEQUENCE_STARTED,t.VIDEO_SLOT_STARTED].join(" "),this.handleExistingSession),this.trigger(t.CHROMECAST_PREPARE_FOR_REMOTE,{anotherVideo:this.anotherVideo}))}),this.on(t.CHROMECAST_SESSION_STOPPED,function(){return this.session=null,this.unbindChromecastEvents()})})},a(h,o,l)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a;return r=i(3),o=i(94),t=i(5),e=i(99),s=i(100),a=i(102),n=function(){return this.deviceName=null,this.attributes({activeIconSelector:".dmp_ChromecastStatusPane-icon--active",ariaLabel:e.__("accessibility:::Chromecast remote status"),contentSelector:".dmp_ChromecastStatusPane-content",defaultIconSelector:".dmp_ChromecastStatusPane-icon--default",deviceNameClass:"dmp_ChromecastStatusPane-device",statusClass:"dmp_ChromecastStatusPane-status",textSelector:".dmp_ChromecastStatusPane-text"}),this.handlePlayRequested=function(){return null!=this.deviceName&&this.updateText(e.__("chromecast:::Playing on %device%",{device:this.deviceName})),this.off(r.rootNode(),t.PLAY_REQUESTED,this.handlePlayRequested)},this.updateText=function(t){var e;return e="",null!=t&&(t=t.replace(this.deviceName,"<div class='"+this.attr.deviceNameClass+"'>"+this.deviceName+"</div>"),e="<div class='"+this.attr.statusClass+"'>"+t+"</div>"),this.select("textSelector").html(e)},this.after("initialize",function(){return this.setAccessibility(this.attr.ariaLabel),this.on(r.rootNode(),t.CHROMECAST_SESSION_STOPPED,function(){return this.trigger(t.CHROMECAST_STATUS_PANE_WILL_CLOSE),this.updateText(null),this.hideNode()}),this.on(r.rootNode(),t.CHROMECAST_SESSION_AVAILABLE,function(t,i){return this.deviceName=i.receiver.friendlyName,this.updateText(e.__("chromecast:::Connecting to %device%",{device:this.deviceName})),this.hideNode("activeIconSelector"),this.showNode("defaultIconSelector")}),this.on(r.rootNode(),t.CHROMECAST_MEDIA_DISCOVERED,function(){return this.updateText(this.playing?e.__("chromecast:::Playing on %device%",{device:this.deviceName}):e.__("chromecast:::Paused on %device%",{device:this.deviceName})),this.showNode("activeIconSelector"),this.hideNode("defaultIconSelector")}),this.on(r.rootNode(),[t.VIDEO_PLAY,t.VIDEO_PLAYING].join(" "),function(){return null!=this.deviceName&&this.updateText(e.__("chromecast:::Playing on %device%",{device:this.deviceName})),this.playing=!0}),this.on(r.rootNode(),t.VIDEO_PAUSE,function(t,i){return i.interrupted?void 0:(null!=this.deviceName&&this.updateText(e.__("chromecast:::Paused on %device%",{device:this.deviceName})),this.playing=!1)}),this.on(r.rootNode(),t.VIDEO_ENDED,function(){return null!=this.deviceName&&this.updateText(e.__("chromecast:::Replay ? %device%",{device:this.deviceName})),this.playing=!1,this.on(r.rootNode(),t.PLAY_REQUESTED,this.handlePlayRequested)}),this.on(r.rootNode(),t.CHROMECAST_REMOTE_ENABLED,function(e,i){return i.anotherVideo?this.hideNode():(this.trigger(t.CHROMECAST_STATUS_PANE_WILL_OPEN),this.showNode())})})},o(s,a,n)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a;return r=i(3),o=i(94),t=i(5),e=i(99),s=i(100),a=i(102),n=function(){return this.attributes({interruptReason:"Chromecast override panel",messageSelector:".dmp_ChromecastOverridePane-msg",playButtonSelector:".dmp_ChromecastOverridePane-button--play",playButtonTextSelector:".dmp_ChromecastOverridePane-play-text"}),this.updateMessageText=function(t){return null!=t&&(t=t.replace(this.deviceName,"<span class='dmp_ChromecastOverridePane-device'>"+this.deviceName+"</span>")),this.select("messageSelector").html(t)},this.open=function(){return this.trigger(t.CHROMECAST_OVERRIDE_PANE_WILL_OPEN),this.trigger(t.VIDEO_INTERRUPT_REQUESTED,{reason:this.attr.interruptReason}),this.jsFadeIn("fast"),this.isOpen=!0},this.close=function(){return this.trigger(t.CHROMECAST_OVERRIDE_PANE_WILL_CLOSE),this.trigger(t.VIDEO_RESUME_REQUESTED,{reason:this.attr.interruptReason}),this.jsFadeOut("fast"),this.isOpen=!1},this.after("initialize",function(){return this.prepareJsTransition(),this.setAccessibility(this.attr.ariaLabel),this.isOpen=!1,this.$playButton=this.select("playButtonSelector"),this.$playButtonText=this.select("playButtonTextSelector"),this.on(r.rootNode(),t.VIDEO_SELECTED,function(){return this.videoTitle=r.metadata("title"),this.select("playButtonSelector").css("background-image","url("+r.get("poster_url")+")")}),this.on(r.rootNode(),t.CHROMECAST_SESSION_AVAILABLE,function(t,i){return this.deviceName=i.receiver.friendlyName,this.updateMessageText(e.__("chromecast:::Another video is playing on %device%",{device:this.deviceName})),this.$playButton.attr("aria-label",e.__("accessibility:::Play %title% on %device%",{title:this.videoTitle,device:this.deviceName})),this.$playButtonText.text(e.__("chromecast:::Play now")).attr("title",e.__("accessibility:::Play %title% on %device%",{title:this.videoTitle,device:this.deviceName}))}),this.on(r.rootNode(),t.CHROMECAST_REMOTE_ENABLED,function(t,e){return e.anotherVideo?this.open():this.isOpen?this.close():void 0}),this.on(r.rootNode(),t.CHROMECAST_SESSION_STOPPED,function(){return this.updateMessageText(null),this.close()}),this.on("click",{playButtonSelector:function(){return this.trigger(t.CHROMECAST_LAUNCH_REQUESTED)}})})},o(s,n,a)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a,u,l,h,d;return s=i(94),o=i(3),t=i(5),r=i(40),a=i(21),l=i(145),h=i(126),d=i(102),n=i(146),e=i(147),u=function(){return this.attributes({baseTabindex:null,aspectRatio:16/9,zoom:!1,autoZoomThreshold:.04,"native":!1,clickDelay:150,contentNodeSelector:".dmp_VideoView-content",overlayNodeSelector:".dmp_VideoView-overlay",subComponents:{Watermark:{constructor:n,selector:".dmp_Watermark"},SubtitlesView:{constructor:e,selector:".dmp_SubtitleView"}}}),this.updateContentZoomed=function(){return this.contentIsMaximized||(this.scaleToFillParentWithStretch(this.$contentNode),this.contentIsMaximized=!0),this.scaleToFillParent(this.$videoTag,this.attr.aspectRatio),this.videoIsMaximized=!1,this.contentHeight=this.playerHeight},this.updateContentNotZoomed=function(){return this.videoIsMaximized||(this.scaleToFillParentWithStretch(this.$videoTag),this.videoIsMaximized=!0),this.contentHeight=this.scaleToFitParent(this.$contentNode,this.attr.aspectRatio).height,this.contentIsMaximized=!1},this.updateContent=function(){var t,e,i,n;return this.adRunning?(this.scaleToFillParentWithStretch(this.$contentNode),this.scaleToFillParentWithStretch(this.$videoTag)):(e=this.attr.zoom,e||(n=this.attr.aspectRatio,i=this.playerWidth/this.playerHeight,t=Math.abs(n-i)/i,t>0&&t<this.attr.autoZoomThreshold&&(e=!0)),e===!0?this.updateContentZoomed():this.updateContentNotZoomed(),this.updateOverlay())},this.updateOverlay=function(){var e,i,n,r;return e=(this.playerHeight-this.contentHeight)/2,this.controlBarHidden||!this.controlBarAutoHideEnabled||e>this.controlBarHeight?this.resetBottom||(this.resetBottom=!0,this.$overlayNode.css("bottom",0)):(this.resetBottom=!1,this.$overlayNode.css("bottom",this.controlBarHeight-e)),r=Math.floor(this.contentHeight*this.attr.aspectRatio),n=Math.floor(e),i=Math.floor((this.playerWidth-r)/2),this.trigger(t.VIDEO_OVERLAY_SIZE_CHANGED,{width:r,height:this.contentHeight,top:n,left:i,controlBar:this.controlBarHeight})},this.scaleToFillParentWithStretch=function(t){var e;return e={width:"100%",height:"100%",top:0,left:0},t.css(e)},this.toggleZoom=function(){return this.attr.zoom=!this.attr.zoom,this.updateContent()},this.onClickVideoView=function(){return Modernizr.touch?(this.trigger(t.VIDEO_TAPPED),this.adRunning&&this.catchAdTaps?this.hideNode(this.$overlayNode):void 0):(this.simpleClick=!0,setTimeout(function(e){return function(){return e.simpleClick?e.trigger(t.TOGGLE_PLAYBACK_REQUESTED):void 0}}(this),this.attr.clickDelay))},this.triggerVideoTap=function(){},this.removeTransparency=function(){return this.$node.css({opacity:1})},this.setTransparency=function(){return this.$node.css({opacity:0})},this.after("initialize",function(){return this.adRunning=!1,this.$contentNode=this.select("contentNodeSelector"),this.$overlayNode=this.select("overlayNodeSelector"),this.$videoTag=this.$contentNode.find("video"),this.prepareCssTransition(),this.attr["native"]?(this.scaleToFillParentWithStretch(this.$contentNode),this.scaleToFillParentWithStretch(this.$videoTag)):(this.attachSubComponents({contentNodeSelector:this.attr.contentNodeSelector,tabindex:this.attr.baseTabindex+10}),this.on(o.rootNode(),t.QUALITY_CHANGED,function(t,e){var i;return i=e.videoWidth/e.videoHeight,i>0&&(this.attr.aspectRatio=i),this.updateContent(),a.isIphone()?void 0:this.showNode(this.$overlayNode)}),this.on(o.rootNode(),t.CONTROL_BAR_UPDATED,function(t,e){return this.controlBarAutoHideEnabled=e.autoHide,this.controlBarHeight=e.height,this.updateContent()}),this.on(o.rootNode(),t.CONTROL_BAR_WILL_SHOW,function(){return this.controlBarHidden=!1,this.modalVisible?void 0:this.updateOverlay()}),this.on(o.rootNode(),t.CONTROL_BAR_WILL_HIDE,function(){return this.controlBarHidden=!0,this.updateOverlay(),this.adRunning&&this.catchAdTaps?this.showNode(this.$overlayNode):void 0}),this.on(o.rootNode(),t.DEBUG_VIDEO_ZOOM_TOGGLE_REQUESTED,function(){return this.toggleZoom()}),this.on(o.rootNode(),t.PLAYER_SIZE_CHANGED,function(t,e){return this.playerWidth=e.width,this.playerHeight=e.height,this.updateContent()}),this.on(o.rootNode(),t.MODAL_WILL_OPEN,function(){return this.modalVisible=!0}),this.on(o.rootNode(),t.MODAL_WILL_CLOSE,function(){return this.modalVisible=!1})),this.on(o.rootNode(),t.LOAD_VIDEO,function(){return this.hideNode(this.$contentNode)}),this.on(o.rootNode(),t.VIDEO_SELECTED,function(){return this.off(o.rootNode(),t.AD_LINEAR_SLOT_STARTED,this.removeTransparency),this.off(o.rootNode(),t.AD_LINEAR_SLOT_ENDED,this.setTransparency),"audio"===o.metadata("media_type")?(this.on(o.rootNode(),t.AD_LINEAR_SLOT_STARTED,this.removeTransparency),this.on(o.rootNode(),t.AD_LINEAR_SLOT_ENDED,this.setTransparency)):void 0}),this.on(o.rootNode(),t.SEQUENCE_STARTED,function(){return this.showNode(this.$contentNode),this.cssFadeIn()}),this.on(o.rootNode(),t.AD_STARTED,function(t,e){return"linear"===e.type?(this.adRunning=!0,this.attr["native"]||(this.showNode(this.$contentNode),this.updateContent()),this.catchAdTaps=Modernizr.touch&&!this.attr["native"]&&!a.isIphone(),this.catchAdTaps?this.on("click",this.onClickVideoView):void 0):void 0}),this.on(o.rootNode(),t.VIDEO_SLOT_STARTED,function(){return this.adRunning=!1,this.attr["native"]||a.isIphone()?void 0:(this.showNode(this.$overlayNode),this.on("click",this.onClickVideoView),this.updateContent())}),this.on(o.rootNode(),[t.AD_STOPPED,t.VIDEO_SLOT_ENDED].join(" "),function(){return this.off("click",this.onClickVideoView)}),this.on(o.rootNode(),t.FULLSCREEN_SUPPORTED,function(e){return function(){return e.on("pinch",function(){return this.trigger(t.FULLSCREEN_TOGGLE_REQUESTED)}),e.on("dblclick",function(){return this.simpleClick=!1,this.trigger(t.FULLSCREEN_TOGGLE_REQUESTED)})}}(this)),this.attr["native"]||(this.on(o.rootNode(),t.MENU_DID_SHOW,function(){return this.off("click",this.onClickVideoView)}),this.on(o.rootNode(),t.MENU_DID_HIDE,function(){return this.on("click",this.onClickVideoView)})),this.on(o.rootNode(),t.SEQUENCE_ENDED,function(){return this.attr["native"]?this.hideNode():this.cssFadeOut()}),this.on(o.rootNode(),t.CHROMECAST_REMOTE_ENABLED,function(){return this.hideNode()}),this.on(o.rootNode(),t.CHROMECAST_SESSION_STOPPED,function(){return this.showNode()})})},s(u,l,h,d)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a,u;return r=i(94),e=i(40),n=i(3),t=i(5),a=i(104),u=i(144),o=function(t){var e;return e=t?"-"+t:"","dmp_volume"+e},s=function(){return this.attributes({videoTagSelector:null,volume:1,muted:!1}),this.onVideoTagReadyForVolumeUpdates=function(){return this.readyForVolumeUpdates=!0,this.off(t.VOLUME_CHANGE_REQUESTED,this.saveEarlyVolumeChangeRequestedEvent),this.off(n.rootNode(),[t.AD_STARTED,t.VIDEO_LOADED_METADATA].join(" "),this.onVideoTagReadyForVolumeUpdates),this.initialVolume=this.forceVolumeUpdate(null!=this.initialVolume?!1:!0),this.set(o(),{volume:this.initialVolume.volume,muted:this.initialVolume.muted}),this.savedEarlyVolumeChangeRequest?(this.trigger(t.VOLUME_CHANGE_REQUESTED,this.savedEarlyVolumeChangeRequest),this.savedEarlyVolumeChangeRequest=null):void 0},this.forceVolumeUpdate=function(e){var i,r,s;return null==e&&(e=!1),this.readyForVolumeUpdates?(i={volume:this.attr.volume,muted:this.attr.muted,internal:!0},s=e?{muted:n.settings("mute")}:{},r=$.extend(i,this.get(o(this.deviceName)),s),this.trigger(t.VOLUME_CHANGE_REQUESTED,r),r):null},this.saveEarlyVolumeChangeRequestedEvent=function(t,e){this.savedEarlyVolumeChangeRequest=e},this.updateVolume=function(t,e){var i;return i=this.videoTag.muted&&t!==this.videoTag.volume,this.videoTag.volume=t,this.videoTag.muted=i?!1:e},this.handleVideoVolumeChangedEvent=function(t,e){return this.attr.volume=e.volume,this.attr.muted=e.muted,this.set(o(e.origin),{volume:this.attr.volume,muted:this.attr.muted})},this.handleVolumeChangeEvent=function(){return this.triggerVideoVolumeChangeEvent(this.videoTag.volume,this.videoTag.muted)},this.enableVolumeControl=function(){return this.on(t.VIDEO_LOADED_METADATA,this.onVideoTagReadyForVolumeUpdates),this.on(t.VOLUME_CHANGE_REQUESTED,this.handleVolumeChangeRequestedEvent),this.on(this.videoTag,"volumechange",this.handleVolumeChangeEvent),this.forceVolumeUpdate()},this.disableVolumeControl=function(){return this.off(t.VOLUME_CHANGE_REQUESTED,this.handleVolumeChangeRequestedEvent),this.off(this.videoTag,"volumechange",this.handleVolumeChangeEvent),this.forceVolumeUpdate()},this.after("initialize",function(){return e.canChangeVolume()?(this.videoTag=this.select("videoTagSelector")[0],this.readyForVolumeUpdates=!1,this.savedEarlyVolumeChangeRequest=null,this.on(t.VOLUME_CHANGE_REQUESTED,this.saveEarlyVolumeChangeRequestedEvent),this.on(t.AD_STARTED,this.onVideoTagReadyForVolumeUpdates),this.on(t.VIDEO_VOLUME_CHANGED,this.handleVideoVolumeChangedEvent),this.on(t.AD_STARTED,this.disableVolumeControl),this.on(t.VIDEO_SLOT_STARTED,this.enableVolumeControl),this.on(t.CHROMECAST_SESSION_AVAILABLE,function(t,e){return this.deviceName=e.receiver.friendlyName}),this.on(t.CHROMECAST_REMOTE_ENABLED,this.disableVolumeControl),this.on(t.CHROMECAST_SESSION_STOPPED,function(){var t;return this.deviceName=null,t=this.get(o()),this.enableVolumeControl(),this.triggerVideoVolumeChangeEvent(t.volume,t.muted)})):void this.teardown()})},r(u,s,a)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a,u,l;return o=i(3),s=i(94),e=i(5),n=i(99),a=i(101),u=i(126),l=i(102),t=i(148),r=function(){return this.attributes({messageSelector:".dmp_AdSkipUnit-message",buttonSelector:".dmp_AdSkipButton",subComponents:{AdSkipButton:{constructor:t,selector:".dmp_AdSkipButton"}}}),this.after("initialize",function(){return this.attachSubComponents({nodeSelector:this.attr.buttonSelector,containerSelector:this.attr.buttonSelector},"rootNode"),this.$messageNode=this.select("messageSelector"),this.hideNode(),this.on(o.rootNode(),e.AD_VIDEO_SKIPPABLE_REMAINING_TIME,function(t,e){var i;return i="",e>0?(this.showNode(),i=n.__("ads:::Skip in %time%",{time:this.formatRemainingTime(e)})):this.hideNode(this.$messageNode),this.$messageNode.text(i)}),this.on(o.rootNode(),e.AD_VIDEO_SKIPPABLE_STATE,function(t,e){return e.adSkippable?this.hideNode(this.$messageNode):void 0}),this.on(o.rootNode(),[e.AD_STOPPED,e.LOAD_VIDEO].join(" "),function(){return this.hideNode()})})},s(r,a,l,u)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o;return n=i(94),e=i(3),t=i(5),r=i(25).get("Tracking"),o=function(){return this._pingURL=function(t){return null!=t?(new Image).src=t:void 0},this.logEndScreenDisplayed=function(){return this._pingURL(this.displayLogURL),this.displayLogURL=null},this.after("initialize",function(){return this.on(e.rootNode(),t.END_SCREEN_DATA_CHANGED,function(t,e){return null!=e.display_log_url?this.displayLogURL=e.display_log_url:void 0}),this.on(e.rootNode(),t.END_SCREEN_WILL_OPEN,this.logEndScreenDisplayed)})},n(o)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o;return n=i(94),e=i(3),t=i(5),r=i(25).get("Tracking"),o=function(){return this.parse=function(){var t,e,i,n,r,o,s;this.partnerFn={},this.singlePings={},this.periodicPings=[],i=this.trackingUrls,r=[];for(t in i)s=i[t],n=t.split("@"),e=n[0],o=n[1],this.checkRuleAndUrl(t,o,s)?(this.createPartnerPingFunction(t,e,o,s),r.push(this.parsePartnerRule(t,o))):r.push(void 0);return r},this.checkRuleAndUrl=function(t,e,i){return void 0===i?(r.warn(t,": url is empty"),!1):i.match(/%session%/)?(r.warn(t,": %session% placeholder is not valid in player HTML5"),!1):"live"===this.mode&&null!=e&&e.indexOf("%")>-1?(r.warn(t,":",e,"is not valid for live mode"),!1):null==e||e.match(/^([0-9%ms,|]+)?(\/[0-9]+[%ms]?)?$/)?null!=e&&e.indexOf(",")>-1&&e.indexOf("|")>-1?(r.warn(t,":",e,"'is not a valid format (can't contain both ',' and '|')"),!1):!0:(r.warn(t,":",e,"is not a valid format"),!1)},this.createPartnerPingFunction=function(t,e,i,n){return this.partnerFn[t]=function(t){return function(o,s){var a,u;return a=Math.floor(s),u=n.replace("%time%",a),u=u.replace("%position%",Math.min(1,Math.floor(o/t.duration*1e3)/1e3)),r.log("Call",e,"("+i+") at "+a+"s"),t.pingUrl(u)}}(this)},this.pingUrl=function(t){return(new Image).src=t},this.parsePartnerRule=function(t,e){var i;return void 0===e?this.setupSinglePing(t,0):(i=e.match(/^([0-9%ms,|]*)\/?([0-9]*[%ms]?)?$/),this.parseSinglePingRule(t,i[1]),null!=i[2]&&""!==i[2]?this.parsePeriodicPingRule(t,i[1],i[2]):void 0)},this.parseSinglePingRule=function(t,e){var i,n,r,o,s;if(""===e)return this.setupSinglePing(t,0);if(e.indexOf(",")>-1){for(r=e.split(","),o=[],i=0,n=r.length;n>i;i++)s=r[i],o.push(this.setupSinglePing(t,this.getTimeInSec(s)));return o}return e.indexOf("|")>-1?this.setupSinglePing(t,this.getFirstPingTime(e)):this.setupSinglePing(t,this.getTimeInSec(e))},this.setupSinglePing=function(t,e){return null==this.singlePings[e]&&(this.singlePings[e]=[]),this.singlePings[e].push(t)},this.parsePeriodicPingRule=function(t,e,i){var n,r;return n=""===e?0:e.indexOf(",")>-1?this.getLastPingTime(e):e.indexOf("|")>-1?this.getFirstPingTime(e):this.getTimeInSec(e),r=this.getTimeInSec(i,!1),this.setupPeriodicPing(t,r,n)},this.setupPeriodicPing=function(t,e,i){return this.periodicPings.push({key:t,interval:e,base:i,called:1})},this.getTimeInSec=function(t,e){var i,n;return null==e&&(e=!0),i=t.match(/^([0-9]+)([%ms]?)$/),n=function(){switch(i[2]){case"%":return this.duration/100;case"m":return 60;default:return 1}}.call(this),t=parseInt(i[1])*n,e?Math.floor(t):Math.floor(10*t)/10},this.getFirstPingTime=function(t){var e,i;return i=function(){var i,n,r,o;for(r=t.split("|"),o=[],i=0,n=r.length;n>i;i++)e=r[i],o.push(this.getTimeInSec(e));return o}.call(this),Math.min.apply(null,i)},this.getLastPingTime=function(t){var e,i;return i=function(){var i,n,r,o;for(r=t.split(","),o=[],i=0,n=r.length;n>i;i++)e=r[i],o.push(this.getTimeInSec(e));return o}.call(this),Math.max.apply(null,i)},this.updateCurrentTime=function(t){var e,i,n;if(this.enabled){if(i=t-this.playerVideoTime,"live"===this.mode&&i>20)return void(this.playerVideoTime=t);for(n=[];i>=0;)this.updateTimers(i>1?1:i),e=Math.floor(this.watchedVideoTime),this.doPings(e),n.push(i-=1);return n}},this.updateTimers=function(t){return this.watchedVideoTime+=t,this.playerVideoTime+=t},this.doPings=function(t){var e,i,n,r,o,s,a,u,l;if(null!=this.singlePings[t]){for(a=this.singlePings[t],i=0,r=a.length;r>i;i++)e=a[i],this.partnerFn[e](this.playerVideoTime,this.watchedVideoTime);delete this.singlePings[t]}for(u=this.periodicPings,l=[],n=0,o=u.length;o>n;n++)s=u[n],t>=s.base&&(t-s.base)/s.interval>=s.called?(this.partnerFn[s.key](this.playerVideoTime,this.watchedVideoTime),l.push(s.called++)):l.push(void 0);return l},this.after("initialize",function(){return this.on(e.rootNode(),t.SEQUENCE_STARTED,function(){return this.trackingUrls=e.metadata("reporting.tracking"),this.duration=e.metadata("duration"),this.mode=e.metadata("stream_type"),this.enabled=!0,this.watchedVideoTime=0,this.playerVideoTime=0,null!=this.trackingUrls?this.parse():void 0}),this.on(e.rootNode(),t.AD_STARTED,function(t,e){return"linear"===e.type?this.enabled=!1:void 0}),this.on(e.rootNode(),t.AD_STOPPED,function(t,e){return"linear"===e.type?this.enabled=!0:void 0}),this.on(e.rootNode(),t.VIDEO_START,function(){return this.enabled?this.updateCurrentTime(0):void 0}),this.on(e.rootNode(),t.VIDEO_TIME_UPDATE,function(t,e){return null!=this.playerVideoTime&&this.enabled?this.updateCurrentTime(e.time):void 0}),this.on(e.rootNode(),t.VIDEO_ENDED,function(){return this.enabled?this.updateCurrentTime(this.duration):void 0}),this.on(e.rootNode(),t.VIDEO_SEEKING,function(){return this.playerVideoTime=null}),this.on(e.rootNode(),t.VIDEO_SEEKED,function(t,e){return this.playerVideoTime=e.time})})},n(o)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a,u,l,h,d,c,f,p;return c=i(94),d=i(3),n=i(5),f=i(25).get("Stats"),h=i(92),t=i(149),e=i(150),r=i(151),o=i(152),s=i(153),a=i(154),u=i(155),l=i(156),p=function(){return this.attributes({videoTagSelector:null}),this.after("initialize",function(){var i,c,p,E,m,_,g;f.log("initializing statsManager!"),c={CONTROLS_PLAY:n.VIDEO_PLAY,CONTROLS_PAUSE:n.VIDEO_PAUSE,CONTROLS_FULLSCREEN:n.FULLSCREEN_ENTERED,CONTROLS_VOLUME:n.VIDEO_VOLUME_CHANGED,CONTROLS_SEEK:n.SEEK_REQUESTED,CONTROLS_QUALITY:n.QUALITY_CHANGE_CONFIRMED,VIDEO_LOAD:n.LOAD_VIDEO,VIDEO_INFOS:n.STAT_INFO_READY,VIDEO_RESOLVED_CDN:n.VIDEO_RESOLVED_CDN,VIDEO_STEADYPLAY:n.VIDEO_STEADYPLAY,VIDEO_REBUFFERING:n.VIDEO_REBUFFERING,VIDEO_START:n.VIDEO_START,VIDEO_PLAYING:n.VIDEO_PLAYING,VIDEO_TIME_UPDATE:n.VIDEO_TIME_UPDATE,VIDEO_PROGRESS:n.VIDEO_BUFFER_UPDATE,VIDEO_WAITING:n.VIDEO_WAITING,VIDEO_END:n.VIDEO_ENDED,VIDEO_COMPLETED:n.VIDEO_ENDED,AD_LOAD_START:n.AD_LOAD_DID_BEGIN,AD_LOAD_END:n.AD_LOAD_DID_END,AD_LOAD_TIMEOUT:n.AD_LOAD_DID_TIMEOUT,AD_INIT_START:n.AD_INIT_DID_BEGIN,AD_INIT_END:n.AD_INIT_DID_END,AD_INIT_TIMEOUT:n.AD_INIT_DID_TIMEOUT,AD_START_START:n.AD_START_DID_BEGIN,AD_START_END:n.AD_START_DID_END,AD_START_TIMEOUT:n.AD_START_DID_TIMEOUT},i=new t(h.keys(c)),i.defineInclusiveFilter("adsonly",["AD_LOAD_START","AD_LOAD_END","AD_LOAD_TIMEOUT","AD_INIT_START","AD_INIT_END","AD_INIT_TIMEOUT","AD_START_START","AD_START_END","AD_START_TIMEOUT"]),this._data={},this.currentTime=0,this.volume=null,this.quality=null,E=d.rootNode(),g=function(t){return function(e,n){var r;switch(r=!0,t){case"CONTROLS_PLAY":case"CONTROLS_PAUSE":case"VIDEO_WAITING":case"VIDEO_END":n={currentTime:this.currentTime};break;case"CONTROLS_VOLUME":r=null!==this.volume,this.volume=n.volume,n=this.volume;break;case"CONTROLS_QUALITY":r=null!==this.quality,this.quality=n.adaptive?"auto":n.quality.name,n=this.quality;break;case"CONTROLS_SEEK":n={lastTime:this.currentTime,currentTime:n.time};break;case"VIDEO_TIME_UPDATE":this.currentTime=n.time,n={currentTime:this.currentTime}}return r?i.trigger(t,n):void 0}},m=function(t){return function(e,i){return $.extend(t._data,i),e.type===n.PLAYER_SIZE_CHANGED&&t.off(E,n.PLAYER_SIZE_CHANGED,m),null!=t._data.width&&null!=t._data.id?t.trigger(E,n.STAT_INFO_READY,t._data):void 0}}(this),this.on(E,n.VIDEO_SELECTED,function(t){return this.currentTime=0,this.volume=null,this.quality=null,this.adPlaying=!1,m(t,d.metadata())}),this.on(E,n.PLAYER_SIZE_CHANGED,m),this.on(E,n.AD_STARTED,function(t,e){return"linear"===e.type?(this.adPlaying=!0,i.disable()):void 0}),this.on(E,n.VIDEO_PLAY,function(){return this.adPlaying?i.filter("adsonly"):void 0}),this.on(E,n.AD_STOPPED,function(t,e){return"linear"===e.type?(this.adPlaying=!1,i.enable()):void 0});for(_ in c)p=c[_],this.on(E,p,g(_));this.on(n.STAT_PLUGIN_READY,function(t,e){return i.register(e)}),d.isFeatureEnabled("EVENT_BUS",!0)&&(r.attachTo(d.rootNode()),o.attachTo(d.rootNode())),d.isGKEnabled("PV5_EVENT_BUS_STREAMING_HTML5")&&s.attachTo(d.rootNode()),d.settings("reporting.sitecatalyst.enable")&&u.attachTo(d.rootNode()),d.settings("reporting.pinba.enable")&&a.attachTo(d.rootNode()),d.settings("reporting.estat.enable")&&e.attachTo(d.rootNode(),{videoTagSelector:this.attr.videoTagSelector}),d.settings("reporting.xiti.enable")&&l.attachTo(d.rootNode(),{videoTagSelector:this.attr.videoTagSelector})})},c(p)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o;return r=i(94),n=i(3),t=i(5),e=i(135),o=function(){return this.handlePlaying=function(){return this.playing=!0,this.initClient(),this.off(t.VIDEO_PLAY,this.handlePlaying)},this.initClient=function(){return this.showLiveViewer&&this.loaded&&this.url&&this.playing&&!this.audienceClient?(this.audienceClient=$.audience(this.url),this.audienceClient.progress(function(e){return function(i){return e.trigger(t.LIVE_AUDIENCE,{nbViewers:i})}}(this))):void 0},this.after("initialize",function(){return this.audienceClient=null,this.playing=!1,this.loaded=!1,this.on(t.LOAD_VIDEO,function(){return this.audienceClient?(this.audienceClient.close(),this.audienceClient=null):void 0}),this.on(t.VIDEO_SELECTED,function(){return this.url=n.get("audience_url"),this.showLiveViewer=n.get("show_live_viewers"),this.url&&this.showLiveViewer&&e.loadAudienceClient(function(t){return function(){return t.loaded=!0,t.initClient()}}(this)),this.on(t.VIDEO_PLAY,this.handlePlaying)})})},r(o)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r;return e=i(3),n=i(94),t=i(5),r=function(){return this.after("initialize",function(){return this.on(t.WATCH_ON_SITE_REQUESTED,function(){return e.window().open(e.metadata("url"))})})},n(r)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},,function(t,e,i){var n,r;n=[i(47)],r=function(t){"use strict";function e(){var e=t.enabled&&!Object.propertyIsEnumerable("getOwnPropertyDescriptor");if(e)try{Object.getOwnPropertyDescriptor(Object,"keys")}catch(i){return!1}return e}var i=100,n={isDomObj:function(t){return!(!t.nodeType&&t!==window)},toArray:function(t,e){e=e||0;for(var i=t.length,n=new Array(i-e),r=e;i>r;r++)n[r-e]=t[r];return n},merge:function(){var t=arguments.length,e=new Array(t+1);if(0===t)return{};for(var i=0;t>i;i++)e[i+1]=arguments[i];return e[0]={},e[e.length-1]===!0&&(e.pop(),e.unshift(!0)),$.extend.apply(void 0,e)},push:function(t,e,i){return t&&Object.keys(e||{}).forEach(function(n){if(t[n]&&i)throw new Error('utils.push attempted to overwrite "'+n+'" while running in protected mode');"object"==typeof t[n]&&"object"==typeof e[n]?this.push(t[n],e[n]):t[n]=e[n]},this),t},getEnumerableProperty:function(t,e){return t.propertyIsEnumerable(e)?t[e]:void 0},compose:function(){var t=arguments;return function(){for(var e=arguments,i=t.length-1;i>=0;i--)e=[t[i].apply(this,e)];return e[0]}},uniqueArray:function(t){for(var e={},i=[],n=0,r=t.length;r>n;++n)e.hasOwnProperty(t[n])||(i.push(t[n]),e[t[n]]=1);return i},debounce:function(t,e,n){"number"!=typeof e&&(e=i);var r,o;return function(){var i=this,s=arguments,a=function(){r=null,n||(o=t.apply(i,s))},u=n&&!r;return r&&clearTimeout(r),r=setTimeout(a,e),u&&(o=t.apply(i,s)),o}},throttle:function(t,e){"number"!=typeof e&&(e=i);var n,r,o,s,a,u,l=this.debounce(function(){a=s=!1},e);return function(){n=this,r=arguments;var i=function(){o=null,a&&(u=t.apply(n,r)),l()};return o||(o=setTimeout(i,e)),s?a=!0:(s=!0,u=t.apply(n,r)),l(),u}},countThen:function(t,e){return function(){return--t?void 0:e.apply(this,arguments)}},delegate:function(t){return function(e,i){var n,r=$(e.target);Object.keys(t).forEach(function(o){return!e.isPropagationStopped()&&(n=r.closest(o)).length?(i=i||{},i.el=n[0],t[o].apply(this,[e,i])):void 0},this)}},once:function(t){var e,i;return function(){return e?i:(e=!0,i=t.apply(this,arguments))}},propertyWritability:function(t,i,n){e()&&t.hasOwnProperty(i)&&Object.defineProperty(t,i,{writable:n})},mutateProperty:function(t,i,n){var r;return e()&&t.hasOwnProperty(i)?(r=Object.getOwnPropertyDescriptor(t,i).writable,Object.defineProperty(t,i,{writable:!0}),n.call(t),void Object.defineProperty(t,i,{writable:r})):void n.call(t)
}};return n}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n;(function(r){(function(){function o(t,e,i){for(var n=(i||0)-1,r=t?t.length:0;++n<r;)if(t[n]===e)return n;return-1}function s(t,e){var i=typeof e;if(t=t.cache,"boolean"==i||null==e)return t[e]?0:-1;"number"!=i&&"string"!=i&&(i="object");var n="number"==i?e:ce+e;return t=(t=t[i])&&t[n],"object"==i?t&&o(t,e)>-1?0:-1:t?0:-1}function a(t){var e=this.cache,i=typeof t;if("boolean"==i||null==t)e[t]=!0;else{"number"!=i&&"string"!=i&&(i="object");var n="number"==i?t:ce+t,r=e[i]||(e[i]={});"object"==i?(r[n]||(r[n]=[])).push(t):r[n]=!0}}function u(t){return t.charCodeAt(0)}function l(t,e){for(var i=t.criteria,n=e.criteria,r=-1,o=i.length;++r<o;){var s=i[r],a=n[r];if(s!==a){if(s>a||"undefined"==typeof s)return 1;if(a>s||"undefined"==typeof a)return-1}}return t.index-e.index}function h(t){var e=-1,i=t.length,n=t[0],r=t[i/2|0],o=t[i-1];if(n&&"object"==typeof n&&r&&"object"==typeof r&&o&&"object"==typeof o)return!1;var s=c();s["false"]=s["null"]=s["true"]=s.undefined=!1;var u=c();for(u.array=t,u.cache=s,u.push=a;++e<i;)u.push(t[e]);return u}function d(){return he.pop()||[]}function c(){return de.pop()||{array:null,cache:null,criteria:null,"false":!1,index:0,"null":!1,number:null,object:null,push:null,string:null,"true":!1,undefined:!1,value:null}}function f(t){t.length=0,he.length<pe&&he.push(t)}function p(t){var e=t.cache;e&&p(e),t.array=t.cache=t.criteria=t.object=t.number=t.string=t.value=null,de.length<pe&&de.push(t)}function E(t,e,i){e||(e=0),"undefined"==typeof i&&(i=t?t.length:0);for(var n=-1,r=i-e||0,o=Array(0>r?0:r);++n<r;)o[n]=t[e+n];return o}function m(t){return t&&"object"==typeof t&&!$e(t)&&Ue.call(t,"__wrapped__")?t:new _(t)}function _(t,e){this.__chain__=!!e,this.__wrapped__=t}function g(t){function e(){if(n){var t=E(n);ke.apply(t,arguments)}if(this instanceof e){var o=S(i.prototype),s=i.apply(o,t||arguments);return k(s)?s:o}return i.apply(r,t||arguments)}var i=t[0],n=t[2],r=t[4];return e}function v(t,e,i,n,r){if(i){var o=i(t);if("undefined"!=typeof o)return o}var s=k(t);if(!s)return t;var a=Pe.call(t);if(!Re[a])return t;var u=qe[a];switch(a){case ge:case ve:return new u(+t);case Te:case De:return new u(t);case Ae:return o=u(t.source,Ee.exec(t)),o.lastIndex=t.lastIndex,o}var l=$e(t);if(e){var h=!n;n||(n=d()),r||(r=d());for(var c=n.length;c--;)if(n[c]==t)return r[c];o=l?u(t.length):{}}else o=l?E(t):Ze({},t);return l&&(Ue.call(t,"index")&&(o.index=t.index),Ue.call(t,"input")&&(o.input=t.input)),e?(n.push(t),r.push(o),(l?Ke:Je)(t,function(t,s){o[s]=v(t,e,i,n,r)}),h&&(f(n),f(r)),o):o}function S(t){return k(t)?Fe(t):{}}function T(t,e,i){if("function"!=typeof t)return J;if("undefined"==typeof e||!("prototype"in t))return t;switch(i){case 1:return function(i){return t.call(e,i)};case 2:return function(i,n){return t.call(e,i,n)};case 3:return function(i,n,r){return t.call(e,i,n,r)};case 4:return function(i,n,r,o){return t.call(e,i,n,r,o)}}return Z(t,e)}function y(t){function e(){var t=u?s:this;if(r){var f=E(r);ke.apply(f,arguments)}if((o||h)&&(f||(f=E(arguments)),o&&ke.apply(f,o),h&&f.length<a))return n|=16,y([i,d?n:-4&n,f,null,s,a]);if(f||(f=arguments),l&&(i=t[c]),this instanceof e){t=S(i.prototype);var p=i.apply(t,f);return k(p)?p:t}return i.apply(t,f)}var i=t[0],n=t[1],r=t[2],o=t[3],s=t[4],a=t[5],u=1&n,l=2&n,h=4&n,d=8&n,c=i;return e}function A(t,e){var i=-1,n=C(),r=t?t.length:0,a=r>=fe&&n===o,u=[];if(a){var l=h(e);l?(n=s,e=l):a=!1}for(;++i<r;){var d=t[i];n(e,d)<0&&u.push(d)}return a&&p(e),u}function D(t,e,i,n){for(var r=(n||0)-1,o=t?t.length:0,s=[];++r<o;){var a=t[r];if(a&&"object"==typeof a&&"number"==typeof a.length&&($e(a)||P(a))){e||(a=D(a,e,i));var u=-1,l=a.length,h=s.length;for(s.length+=l;++u<l;)s[h++]=a[u]}else i||s.push(a)}return s}function R(t,e,i,n,r,o){if(i){var s=i(t,e);if("undefined"!=typeof s)return!!s}if(t===e)return 0!==t||1/t==1/e;var a=typeof t,u=typeof e;if(!(t!==t||t&&be[a]||e&&be[u]))return!1;if(null==t||null==e)return t===e;var l=Pe.call(t),h=Pe.call(e);if(l==me&&(l=ye),h==me&&(h=ye),l!=h)return!1;switch(l){case ge:case ve:return+t==+e;case Te:return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case Ae:case De:return t==String(e)}var c=l==_e;if(!c){var p=Ue.call(t,"__wrapped__"),E=Ue.call(e,"__wrapped__");if(p||E)return R(p?t.__wrapped__:t,E?e.__wrapped__:e,i,n,r,o);if(l!=ye)return!1;var m=t.constructor,_=e.constructor;if(m!=_&&!(U(m)&&m instanceof m&&U(_)&&_ instanceof _)&&"constructor"in t&&"constructor"in e)return!1}var g=!r;r||(r=d()),o||(o=d());for(var v=r.length;v--;)if(r[v]==t)return o[v]==e;var S=0;if(s=!0,r.push(t),o.push(e),c){if(v=t.length,S=e.length,s=S==v,s||n)for(;S--;){var T=v,y=e[S];if(n)for(;T--&&!(s=R(t[T],y,i,n,r,o)););else if(!(s=R(t[S],y,i,n,r,o)))break}}else Xe(e,function(e,a,u){return Ue.call(u,a)?(S++,s=Ue.call(t,a)&&R(t[a],e,i,n,r,o)):void 0}),s&&!n&&Xe(t,function(t,e,i){return Ue.call(i,e)?s=--S>-1:void 0});return r.pop(),o.pop(),g&&(f(r),f(o)),s}function b(t,e){return t+Ve(ze()*(e-t+1))}function I(t,e,i){var n=-1,r=C(),a=t?t.length:0,u=[],l=!e&&a>=fe&&r===o,c=i||l?d():u;if(l){var E=h(c);r=s,c=E}for(;++n<a;){var m=t[n],_=i?i(m,n,t):m;(e?!n||c[c.length-1]!==_:r(c,_)<0)&&((i||l)&&c.push(_),u.push(m))}return l?(f(c.array),p(c)):i&&f(c),u}function N(t){return function(e,i,n){var r={};if(i=m.createCallback(i,n,3),$e(e))for(var o=-1,s=e.length;++o<s;){var a=e[o];t(r,a,i(a,o,e),e)}else Ke(e,function(e,n,o){t(r,e,i(e,n,o),o)});return r}}function O(t,e,i,n,r,o){var s=2&e,a=16&e,u=32&e;if(!s&&!U(t))throw new TypeError;a&&!i.length&&(e&=-17,a=i=!1),u&&!n.length&&(e&=-33,u=n=!1);var l=1==e||17===e?g:y;return l([t,e,i,n,r,o])}function C(){var t=(t=m.indexOf)===q?o:t;return t}function L(t){return"function"==typeof t&&we.test(t)}function P(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Pe.call(t)==me||!1}function w(t,e,i,n){return"boolean"!=typeof e&&null!=e&&(n=i,i=e,e=!1),v(t,e,"function"==typeof i&&T(i,n,1))}function V(t){var e=[];return Xe(t,function(t,i){U(t)&&e.push(i)}),e.sort()}function U(t){return"function"==typeof t}function k(t){return!(!t||!be[typeof t])}function M(t){return"string"==typeof t||t&&"object"==typeof t&&Pe.call(t)==De||!1}function x(t,e,i){var n=-1,r=C(),o=t?t.length:0,s=!1;return i=(0>i?Ge(0,o+i):i)||0,$e(t)?s=r(t,e,i)>-1:"number"==typeof o?s=(M(t)?t.indexOf(e,i):r(t,e,i))>-1:Ke(t,function(t){return++n>=i?!(s=t===e):void 0}),s}function F(t,e,i){if(e=m.createCallback(e,i,3),!$e(t)){var n;return Ke(t,function(t,i,r){return e(t,i,r)?(n=t,!1):void 0}),n}for(var r=-1,o=t.length;++r<o;){var s=t[r];if(e(s,r,t))return s}}function H(t,e,i){if(e&&"undefined"==typeof i&&$e(t))for(var n=-1,r=t.length;++n<r&&e(t[n],n,t)!==!1;);else Ke(t,e,i);return t}function B(t,e,i){var n=-1,r=t?t.length:0,o=Array("number"==typeof r?r:0);if(e=m.createCallback(e,i,3),$e(t))for(;++n<r;)o[n]=e(t[n],n,t);else Ke(t,function(t,i,r){o[++n]=e(t,i,r)});return o}function G(t,e,i){var n=-1/0,r=n;if("function"!=typeof e&&i&&i[e]===t&&(e=null),null==e&&$e(t))for(var o=-1,s=t.length;++o<s;){var a=t[o];a>r&&(r=a)}else e=null==e&&M(t)?u:m.createCallback(e,i,3),Ke(t,function(t,i,o){var s=e(t,i,o);s>n&&(n=s,r=t)});return r}function Q(t,e,i,n){var r=arguments.length<3;if(e=m.createCallback(e,n,4),$e(t)){var o=-1,s=t.length;for(r&&(i=t[++o]);++o<s;)i=e(i,t[o],o,t)}else Ke(t,function(t,n,o){i=r?(r=!1,t):e(i,t,n,o)});return i}function z(t,e,i){var n=-1,r=$e(e),o=t?t.length:0,s=Array("number"==typeof o?o:0);for(r||(e=m.createCallback(e,i,3)),H(t,function(t,i,o){var a=s[++n]=c();r?a.criteria=B(e,function(e){return t[e]}):(a.criteria=d())[0]=e(t,i,o),a.index=n,a.value=t}),o=s.length,s.sort(l);o--;){var a=s[o];s[o]=a.value,r||f(a.criteria),p(a)}return s}function q(t,e,i){if("number"==typeof i){var n=t?t.length:0;i=0>i?Ge(0,n+i):i||0}else if(i){var r=Y(t,e);return t[r]===e?r:-1}return o(t,e,i)}function W(t,e,i){var n=0,r=t?t.length:0;if("number"!=typeof e&&null!=e){var o=r;for(e=m.createCallback(e,i,3);o--&&e(t[o],o,t);)n++}else if(n=e,null==n||i)return t?t[r-1]:le;return E(t,Ge(0,r-n))}function $(t){for(var e=arguments,i=0,n=e.length,r=t?t.length:0;++i<n;)for(var o=-1,s=e[i];++o<r;)t[o]===s&&(xe.call(t,o--,1),r--);return t}function Y(t,e,i,n){var r=0,o=t?t.length:r;for(i=i?m.createCallback(i,n,1):J,e=i(e);o>r;){var s=r+o>>>1;i(t[s])<e?r=s+1:o=s}return r}function j(){return I(D(arguments,!0,!0))}function K(t){return A(t,E(arguments,1))}function Z(t,e){return arguments.length>2?O(t,17,E(arguments,2),null,e):O(t,1,null,null,e)}function X(t,e,i){var n=typeof t;if(null==t||"function"==n)return T(t,e,i);if("object"!=n)return ie(t);var r=je(t),o=r[0],s=t[o];return 1!=r.length||s!==s||k(s)?function(e){for(var i=r.length,n=!1;i--&&(n=R(e[r[i]],t[r[i]],null,!0)););return n}:function(t){var e=t[o];return s===e&&(0!==s||1/s==1/e)}}function J(t){return t}function te(t,e,i){var n=!0,r=e&&V(e);e&&(i||r.length)||(null==i&&(i=e),o=_,e=t,t=m,r=V(e)),i===!1?n=!1:k(i)&&"chain"in i&&(n=i.chain);var o=t,s=U(o);H(r,function(i){var r=t[i]=e[i];s&&(o.prototype[i]=function(){var e=this.__chain__,i=this.__wrapped__,s=[i];ke.apply(s,arguments);var a=r.apply(t,s);if(n||e){if(i===a&&k(a))return this;a=new o(a),a.__chain__=e}return a})})}function ee(){}function ie(t){return function(e){return e[t]}}function ne(t,e,i){var n=null==t,r=null==e;if(null==i&&("boolean"==typeof t&&r?(i=t,t=1):r||"boolean"!=typeof e||(i=e,r=!0)),n&&r&&(e=1),t=+t||0,r?(e=t,t=0):e=+e||0,i||t%1||e%1){var o=ze();return Qe(t+o*(e-t+parseFloat("1e-"+((o+"").length-1))),e)}return b(t,e)}function re(t,e,i){t=(t=+t)>-1?t:0;var n=-1,r=Array(t);for(e=T(e,i,1);++n<t;)r[n]=e(n);return r}function oe(t){return t=new _(t),t.__chain__=!0,t}function se(){return this.__chain__=!0,this}function ae(){return String(this.__wrapped__)}function ue(){return this.__wrapped__}var le,he=[],de=[],ce=+new Date+"",fe=75,pe=40,Ee=/\w*$/,me="[object Arguments]",_e="[object Array]",ge="[object Boolean]",ve="[object Date]",Se="[object Function]",Te="[object Number]",ye="[object Object]",Ae="[object RegExp]",De="[object String]",Re={};Re[Se]=!1,Re[me]=Re[_e]=Re[ge]=Re[ve]=Re[Te]=Re[ye]=Re[Ae]=Re[De]=!0;var be={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},Ie=be[typeof window]&&window||this,Ne=be[typeof r]&&r;!Ne||Ne.global!==Ne&&Ne.window!==Ne||(Ie=Ne);var Oe=[],Ce=Error.prototype,Le=Object.prototype,Pe=Le.toString,we=RegExp("^"+String(Pe).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),Ve=Math.floor,Ue=Le.hasOwnProperty,ke=Oe.push,Me=Le.propertyIsEnumerable,xe=Oe.splice,Fe=L(Fe=Object.create)&&Fe,He=L(He=Array.isArray)&&He,Be=L(Be=Object.keys)&&Be,Ge=Math.max,Qe=Math.min,ze=Math.random,qe={};qe[_e]=Array,qe[ge]=Boolean,qe[ve]=Date,qe[Se]=Function,qe[ye]=Object,qe[Te]=Number,qe[Ae]=RegExp,qe[De]=String,_.prototype=m.prototype;var We=m.support={};We.enumErrorProps=Me.call(Ce,"message")||Me.call(Ce,"name"),We.enumPrototypes=!0,We.nonEnumArgs=!0,Fe||(S=function(){function t(){}return function(e){if(k(e)){t.prototype=e;var i=new t;t.prototype=null}return i||Ie.Object()}}());var $e=He||function(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Pe.call(t)==_e||!1},Ye=function(t){var e,i=t,n=[];if(!i)return n;if(!be[typeof t])return n;var r=i.length;if(e=-1,r&&P(i))for(;++e<r;)e+="",n.push(e);else{var o="function"==typeof i;for(e in i)o&&"prototype"==e||!Ue.call(i,e)||n.push(e)}return n},je=Be?function(t){return k(t)?We.enumPrototypes&&"function"==typeof t||We.nonEnumArgs&&t.length&&P(t)?Ye(t):Be(t):[]}:Ye,Ke=function(t,e,i){var n,r=t,o=r;if(!r)return o;e=e&&"undefined"==typeof i?e:T(e,i,3);var s=r.length;if(n=-1,"number"==typeof s){for(;++n<s;)if(e(r[n],n,t)===!1)return o}else{var a="function"==typeof r;for(n in r)if((!a||"prototype"!=n)&&Ue.call(r,n)&&e(r[n],n,t)===!1)return o}return o},Ze=function(t,e,i){var n,r=t,o=r;if(!r)return o;var s=arguments,a=0,u="number"==typeof i?2:s.length;if(u>3&&"function"==typeof s[u-2])var l=T(s[--u-1],s[u--],2);else u>2&&"function"==typeof s[u-1]&&(l=s[--u]);for(;++a<u;)if(r=s[a],r&&be[typeof r]){var h=r.length;if(n=-1,h&&P(r))for(;++n<h;)n+="",o[n]=l?l(o[n],r[n]):r[n];else{var d="function"==typeof r;for(n in r)d&&"prototype"==n||!Ue.call(r,n)||(o[n]=l?l(o[n],r[n]):r[n])}}return o},Xe=function(t,e,i){var n,r=t,o=r;if(!r)return o;if(!be[typeof r])return o;e=e&&"undefined"==typeof i?e:T(e,i,3);var s=r.length;if(n=-1,s&&P(r)){for(;++n<s;)if(n+="",e(r[n],n,t)===!1)return o}else{var a="function"==typeof r;for(n in r)if((!a||"prototype"!=n)&&e(r[n],n,t)===!1)return o}return o},Je=function(t,e,i){var n,r=t,o=r;if(!r)return o;if(!be[typeof r])return o;e=e&&"undefined"==typeof i?e:T(e,i,3);var s=r.length;if(n=-1,s&&P(r)){for(;++n<s;)if(n+="",e(r[n],n,t)===!1)return o}else{var a="function"==typeof r;for(n in r)if((!a||"prototype"!=n)&&Ue.call(r,n)&&e(r[n],n,t)===!1)return o}return o};U(/x/)&&(U=function(t){return"function"==typeof t&&Pe.call(t)==Se});var ti=N(function(t,e,i){t[i]=e}),ei=B;m.assign=Ze,m.bind=Z,m.chain=oe,m.createCallback=X,m.forEach=H,m.forIn=Xe,m.forOwn=Je,m.functions=V,m.indexBy=ti,m.keys=je,m.map=B,m.max=G,m.pluck=ei,m.property=ie,m.pull=$,m.sortBy=z,m.times=re,m.union=j,m.without=K,m.collect=B,m.each=H,m.extend=Ze,m.methods=V,te(m),m.clone=w,m.contains=x,m.find=F,m.identity=J,m.indexOf=q,m.isArguments=P,m.isArray=$e,m.isFunction=U,m.isObject=k,m.isString=M,m.mixin=te,m.noop=ee,m.random=ne,m.reduce=Q,m.sortedIndex=Y,m.detect=F,m.findWhere=F,m.foldl=Q,m.include=x,m.inject=Q,te(function(){var t={};return Je(m,function(e,i){m.prototype[i]||(t[i]=e)}),t}(),!1),m.last=W,Je(m,function(t,e){var i="sample"!==e;m.prototype[e]||(m.prototype[e]=function(e,n){var r=this.__chain__,o=t(this.__wrapped__,e,n);return r||null!=e&&(!n||i&&"function"==typeof e)?new _(o,r):o})}),m.VERSION="2.4.1",m.prototype.chain=se,m.prototype.toString=ae,m.prototype.value=ue,m.prototype.valueOf=ue,Ke(["join","pop","shift"],function(t){var e=Oe[t];m.prototype[t]=function(){var t=this.__chain__,i=e.apply(this.__wrapped__,arguments);return t?new _(i,t):i}}),Ke(["push","reverse","sort","unshift"],function(t){var e=Oe[t];m.prototype[t]=function(){return e.apply(this.__wrapped__,arguments),this}}),Ke(["concat","slice","splice"],function(t){var e=Oe[t];m.prototype[t]=function(){return new _(e.apply(this.__wrapped__,arguments),this.__chain__)}}),n=function(){return m}.call(e,i,e,t),!(n!==le&&(t.exports=n))}).call(this)}).call(e,function(){return this}())},function(t,e,i){var n,r=[].indexOf||function(t){for(var e=0,i=this.length;i>e;e++)if(e in this&&this[e]===t)return e;return-1};n=function(){var t,e,n;return e=i(94),t=i(3),n=function(){return this.attributes({highlights:{dark:"#ffcc33",light:"#0066DC"},themes:["dark","light"],colors:{white:"#ffffff",black:"#000000"}}),this.convertToRGB=function(t){return t=t.replace("#",""),{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16)}},this.getBrightness=function(t){var e;return e=this.convertToRGB(t),.299*e.r+.587*e.g+.114*e.b},this.getTheme=function(){var e,i,n;return n=this.attr.themes.join("|"),null!=t.settings("ui.theme")&&(e=t.settings("ui.theme"),r.call(this.attr.themes,e)>=0)?t.settings("ui.theme"):null!=t.metadata("ui.theme")&&(i=t.metadata("ui.theme"),r.call(this.attr.themes,i)>=0)?t.metadata("ui.theme"):this.attr.themes[0]},this.setTheme=function(e){return this.theme=this.getTheme(),this.theme=this.getBrightness(e)>=125?this.attr.themes[0]:this.attr.themes[1],$(t.rootNode()).addClass("dmp_theme--"+this.theme)},this.getHighlight=function(){return null!=t.settings("ui.highlight")?t.settings("ui.highlight"):null!=t.metadata("ui.highlight")?t.metadata("ui.highlight"):this.setDefaultHighlight()},this.setDefaultHighlight=function(){return"light"===this.getTheme()?this.attr.highlights.light:this.attr.highlights.dark},this.setHighlightContrast=function(t){return this.getBrightness(t)>=125?this.attr.colors.black:this.attr.colors.white},this.setStyles=function(t){var e,i,n,r;if(n=this.setHighlightContrast(t),r=".dmp_highlight--fill,.no-touch .dmp_StartView-play:hover ~ .dmp_StartView-play-button>svg,.no-touch .dmp_StartView-play-button:focus ~ .dmp_StartView-play-button>svg,.no-touch .dmp_NextVideoEndScreen-link:hover .dmp_NextVideoEndScreen-play-icon,.dmp_Player-keyboard-focus .dmp_NextVideoEndScreen-link:focus .dmp_NextVideoEndScreen-play-icon,.no-touch .dmp_DefaultEndScreen-button:hover>svg,.no-touch .dmp_DefaultEndScreen-button:focus>svg,.no-touch .dmp_SharePane-button:hover svg,.no-touch .dmp_Player-keyboard-focus .dmp_SharePane-button:focus svg{fill:"+t+"}.dmp_highlight--color,.dmp_Menu-list-item-tag{color:"+t+"}.dmp_highlight--background,.dmp_SeekBar--content .dmp_SeekBar-time,.dmp_SeekBar-playhead,.dmp_LiveInfo-badge,.no-touch .dmp_SharePane-permalink-text:before,.dmp_PasswordPane-button,.dmp_Menu-list-item.dmp_is-active{background-color:"+t+"}.dmp_highlight--selection::-moz-selection,.dmp_SharePane-permalink-text::-moz-selection{background:"+t+"}.dmp_highlight--selection::selection,.dmp_SharePane-permalink-text::selection{background:"+t+"}.no-touch .dmp_StartView :focus,.no-touch .dmp_RelatedEndScreen-item:focus,.dmp_Player-keyboard-focus .dmp_NextVideoEndScreen-link:focus .dmp_NextVideoEndScreen-play-icon,.no-touch .dmp_DefaultEndScreen-button:focus,.no-touch .dmp_Player-keyboard-focus .dmp_ControlBarButton:focus,.no-touch .dmp_DockButton:focus,.no-touch .dmp_AdSkipButton:focus,.no-touch .dmp_SharePane-button:focus .dmp_SharePane-button-icon{outline-color:"+t+"}\n.dmp_highlight-contrast { color: "+n+" !important; }",i=$("#dmp-styles"),e=$("#dmp-highlight"),e.length)return e.text(r);if(i.length)return i.after("<style id='dmp-highlight' type='text/css'>"+r+"</style>");throw new Error("Can't find the <link id='dmp-styles'> element.")},this.after("initialize",function(){var t;return t=this.getHighlight(),this.setTheme(t),this.setStyles(t)})},e(n)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n,r;n=[i(46),i(91),i(44),i(165),i(45),i(166),i(47)],r=function(t,e,i,n,r,o,s){"use strict";function a(){var t=r.findComponentInfo(this);t&&Object.keys(t.instances).forEach(function(e){var i=t.instances[e];i&&i.instance&&i.instance.teardown()})}function u(t){for(var i=arguments.length,n=new Array(i-1),o=1;i>o;o++)n[o-1]=arguments[o];if(!t)throw new Error("Component needs to be attachTo'd a jQuery object, native node or selector string");var s=e.merge.apply(e,n),a=r.findComponentInfo(this);$(t).each(function(t,e){a&&a.isAttachedTo(e)||(new this).initialize(e,s)}.bind(this))}function l(){var t=this.mixedIn||this.prototype.mixedIn||[];return t.map(function(t){if(null==t.name){var e=t.toString().match(d);return e&&e[1]?e[1]:""}return"withBase"!=t.name?t.name:""}).filter(Boolean).join(", ")}function h(){for(var d=arguments.length,c=new Array(d),f=0;d>f;f++)c[f]=arguments[f];var p=function(){};return p.toString=p.prototype.toString=l,s.enabled&&(p.describe=p.prototype.describe=p.toString()),p.attachTo=u,p.mixin=function(){var t=h(),n=Object.create(p.prototype);return n.mixedIn=[].concat(p.prototype.mixedIn),n.defaults=e.merge(p.prototype.defaults),n.attrDef=p.prototype.attrDef,i.mixin(n,arguments),t.prototype=n,t.prototype.constructor=t,t},p.teardownAll=a,s.enabled&&c.unshift(o),c.unshift(n,t.withAdvice,r.withRegistration),i.mixin(p.prototype,c),p}var d=/function (.*?)\s?\(/;return h.teardownAll=function(){r.components.slice().forEach(function(t){t.component.teardownAll()}),r.reset()},h}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a,u,l,h,d;return e=i(162),o=i(163),r=i(164),t=i(96),a=i(40),d=i(25).get("Ads"),l=null,u=null,n={VPAID:"sdk/liverail",VMAP:"vmap/liverail"},h=function(t,e){(null!=u?u.logger_url:void 0)&&((new Image).src=u.logger_url.replace("_WIDTH_",t).replace("_HEIGHT_",e).replace("PTYPE_web","PTYPE_html"))},s=function(t){var e;return e=$.map(n,function(t){return t}),t&&"ok"===t.status&&-1!==e.indexOf(t.type)},{SUPPORTED_TYPES:n,initialize:function(t,e){this.videoWrapperTag=t,this.videoTag=e},onConfigChange:function(t){return l=null,u=t},resetHelper:function(){return l=null},getHelper:function(){return null!=l?l:l=function(){if(!s(u))return h(this.videoTag.offsetWidth,this.videoTag.offsetHeight),null==u.reason&&(u.reason="Unknown reason (API)"),new e(u);if(!a.canPlayAd())return new e({reason:"Device can't play ads"});switch(u.type){case n.VPAID:return d.log("Init VPAIDHelper"),new o(u,this.videoWrapperTag,this.videoTag);case n.VMAP:return d.log("Init VMAPHelper"),new r(u,this.videoWrapperTag,this.videoTag);default:return new e({reason:"Unsupported type: "+u.type})}}.call(this)}}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o;return r=i(3),n=i(5),o=i(25).get("Ads"),e=i(167),t=function(){function t(t,e,i){this.config=t,this.videoWrapper=e,this.videoElement=i,this.deadline=null,this._timeouts={}}return t.prototype.getCreativeData=function(){throw new Error("@getCreativeData() method must be overridden")},t.prototype.getEnvironmentVars=function(){throw new Error("@getEnvironmentVars() method must be overridden")},t.prototype.loadAdProviderSdk=function(){throw new Error("@loadAdProviderSdk() method must be overridden")},t.prototype.callInitAd=function(){throw new Error("@callInitAd() method must be overridden")},t.prototype.callStartAd=function(){throw new Error("@callStartAd() method must be overridden")},t.prototype.getTimeoutDurationForStep=function(){throw new Error("@getTimeoutDurationForStep() method must be overridden")},t.prototype.getTimeoutInfo=function(){throw new Error("@getTimeoutInfo() method must be overridden")},t.prototype.triggerAdStepEvent=function(t,i){var s;return-1===["BEGIN","END","TIMEOUT"].indexOf(i)?void o.warn("Can't trigger AdStepEvent. Wrong type :",i):(s=function(){switch(t){case e.types.GLOBAL_AD:return"AD_GLOBAL_DID_";case e.types.STOP_AD:return"AD_STOP_DID_";default:return null}}(),null===s?void o.warn("Can't trigger AdStepEvent. Wrong step :",t):(s=""+s+i,s in n?$(r.rootNode()).trigger(n[s]):o.warn("Can't trigger AdStepEvent. Wrong event :",s)))},t.prototype.remaining=function(){return this.deadline?this.deadline-(new Date).getTime():0},t.prototype.newTimedDeferred=function(t,i){var n;return n=$.Deferred(),this.deadline?this.setAdTimeout(e.types.GLOBAL_AD,this.remaining(),function(){return n.reject({type:t}),"function"==typeof i?i():void 0}):(n.reject({message:"No deadline set",type:t}),"function"==typeof i&&i()),n},t.prototype.setAdTimeout=function(t,i,n){var r,s;return null==n&&(n=null),-1===Object.keys(e.types).indexOf(t)?void o.warn("Unkonwn Timeout step:",t):(i=i>0?i:this.getTimeoutDurationForStep(t),void(i&&(this.triggerAdStepEvent(t,"BEGIN"),r=function(){var e;(e=this._timeouts[t])&&(o.log(this.constructor.name+" Timeout reached.  Interrupting "+t+":",e.toId),this._timeouts[t].callback(),this.triggerAdStepEvent(t,"TIMEOUT"))},this._timeouts[t]={callback:n,toId:setTimeout(r.bind(this),i)},o.log(this.constructor.name+" Defined timeout for "+t+":",null!=(s=this._timeouts[t])?s.toId:void 0))))},t.prototype.clearAdTimeout=function(t){var e;return this.triggerAdStepEvent(t,"END"),(e=this._timeouts[t])?(o.log(this.constructor.name+" Clearing timeout for "+t+":",null!=e?e.toId:void 0),clearTimeout(e.toId),delete this._timeouts[t]):void 0},t}()}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){return function(t){var e,i,n,r;for(r={},e=0,i=t.length;i>e;e++)n=t[e],r[n]=n;return r}(["VAST_XML_PARSING_FAILED","VAST_SCHEMA_VALIDATION_FAILED","VAST_VERSION_NOT_SUPPORTED","INVALID_TRAFFICKING","INVALID_LINEARITY","INVALID_DURATION","INVALID_SIZE","GENERAL_WRAPPER_ERROR","WRAPPER_AD_TAG_URI_TIMEOUT_REACHED","WRAPPER_REDIRECT_LIMIT_REACHED","WRAPPER_LIMIT_WITH_NO_ADS_REACHED","GENERAL_LINEAR_ERROR","MEDIA_FILE_RESOURCE_NOT_FOUND","MEDIA_FILE_RESOURCE_LOAD_TIMEOUT","SUPPORTED_MEDIA_FILE_NOT_FOUND","INVALID_MEDIA_FILE","GENERAL_NON_LINEAR_ERROR","INVALID_NON_LINEAR_SIZE","NON_LINEAR_RESOURCE_NOT_FOUND","SUPPORTED_NON_LINEAR_NOT_FOUND","GENERAL_COMPANION_ERROR","INVALID_COMPANION_SIZE","SUPPORTED_REQUIRED_COMPANION_NOT_FOUND","COMPANION_RESOURCE_NOT_FOUND","SUPPORTED_COMPANION_NOT_FOUND","UNDEFINED_ERROR","GENERAL_VPAID_ERROR","VPAID_VERSION_NOT_SUPPORTED","VPAID_UNDEFINED_URL","NO_ADS","VPAID_SDK_LOAD_TIMEOUT","VPAID_INIT_TIMEOUT","VPAID_START_TIMEOUT","VPAID_STOP_TIMEOUT","VPAID_SDK_LOAD_ERROR","VPAID_INIT_ERROR","VPAID_START_ERROR","VPAID_BUFFERING_ERROR","VPAID_PLAYING_ERROR","VPAID_STOP_ERROR","VMAP_LOAD_TIMEOUT","VMAP_LOAD_ERROR","VMAP_LOAD_NET_ERROR","VMAP_LOAD_XML_PARSING_FAILED","VMAP_INIT_TIMEOUT","VMAP_INIT_ERROR","VMAP_NO_ADS","VMAP_START_TIMEOUT","VMAP_START_ERROR","VMAP_STOP_TIMEOUT","VMAP_STOP_ERROR"])}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n;return e=i(3),t=i(5),n=function(){return this.onOverlaySizeChanged=function(){return null},this.onPlayerSizeChanged=function(){return null},this.after("initialize",function(){return this.size={player:{width:0,height:0}},this.on(e.rootNode(),t.PLAYER_SIZE_CHANGED,function(t,e){return this.size.player.width!==e.width||this.size.player.height!==e.height?(this.size.player.width=e.width,this.size.player.height=e.height,this.onPlayerSizeChanged()):void 0})})}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n,r;n=[i(3),i(8)],r=function(t,e){var i,n;return n=e.get("i18n"),i=function(e,i){var r,o,s,a,u,l,h,d,c;if(null==i&&(i=null),h=null,l=e.split(":::"),a=l[0],r=l[1],null==r&&(r=a,a="default"),d=t.context("translations"),null!=d[a]?d=d[a]:null!=d["default"]&&(d=d["default"]),null!=i&&null!=i.count&&(o=r+"_plural",s=o+"_"+i.count,null!=d[s]&&""!==d[s]?h=d[s]:null!=d[o]&&""!==d[o]&&(h=d[o])),null==h&&(null!=d[r]&&""!==d[r]?h=d[r]:(n.log("No translation found for: '"+e+"'"),h=r)),null!=i)for(u in i)c=i[u],h=h.replace("%"+u+"%",c);return h},{__:i}}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n;n=function(){var t;return t=function(){return this.setAccessibility=function(t,e,i){var n;return null==i&&(i=null),n=null!=i?this.select(i):this.$node,null!=n&&(t&&n.attr("aria-label",t),e)?n.attr("tabindex",e):void 0},this.updateAccessibility=function(t,e){var i;return null==e&&(e=null),i=null!=e?this.select(e):this.$node,null!=i&&t?i.attr("aria-label",t):void 0}}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r;return t=i(99),e=function(t){var e,i,n,r;return n=parseInt(t,10),e=Math.floor(n/3600),i=Math.floor((n-3600*e)/60),r=n-3600*e-60*i,[e,i,r]},n=function(t){return 10>t?"0"+t:t},r=function(){return this.formatTime=function(t){var i,r,o,s,a;return o=e(t),i=o[0],r=o[1],s=o[2],a=n(r)+":"+n(s),i>0&&(a=i+":"+a),a},this.formatRemainingTime=function(i){var n,r,o,s;return o=e(i),n=o[0],r=o[1],s=o[2],s+=1,n>0?r>0?t.__("default:::%hours%h %minutes%m %seconds%s",{hours:n,minutes:r,seconds:s}):t.__("default:::%hours%h %seconds%s",{hours:n,minutes:r,seconds:s}):r>0?t.__("default:::%minutes%m %seconds%s",{minutes:r,seconds:s}):t.__("default:::%seconds%s",{seconds:s})},this.formatReadableTime=function(i){var n,r,o,s;return o=e(i),n=o[0],r=o[1],s=o[2],n>0?r>0?t.__("default:::%hours% hours, %minutes% minutes, %seconds% seconds",{hours:n,minutes:r,seconds:s}):t.__("default:::%hours% hours, %seconds% seconds",{hours:n,minutes:r,seconds:s}):r>0?t.__("default:::%minutes% minutes, %seconds% seconds",{minutes:r,seconds:s}):t.__("default:::%seconds% seconds",{seconds:s})}}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t;return t=function(){return this._elementify=function(t){return"string"==typeof t&&null!=this.attr[t]?this.select(t):t},this.prepareCssTransition=function(t){return null==t&&(t=this.$node),t=this._elementify(t),t.addClass("dmp_will-transition").removeClass("dmp_is-hidden")},this.prepareJsTransition=function(t){return null==t&&(t=this.$node),t=this._elementify(t),t.removeClass("dmp_is-hidden").hide()},this.toggleNode=function(t){return null==t&&(t=this.$node),t=this._elementify(t),t.hasClass("dmp_is-hidden")?this.showNode(t):this.hideNode(t)},this.setInvisibility=function(t){return null==t&&(t=this.$node),this.$node.addClass("dmp_is-invisible").removeClass("dmp_is-hidden")},this.unsetInvisibility=function(t){return null==t&&(t=this.$node),this.$node.addClass("dmp_is-hidden").removeClass("dmp_is-invisible")},this.showNode=function(t){return null==t&&(t=this.$node),t=this._elementify(t),t.removeClass("dmp_is-hidden").removeAttr("aria-hidden")},this.cssFadeIn=function(t){return null==t&&(t=this.$node),t=this._elementify(t),t.addClass("dmp_is-transitioned--fadein").removeClass("dmp_is-hidden").removeAttr("aria-hidden")},this.cssFadeInSlide=function(t){return null==t&&(t=this.$node),t=this._elementify(t),t.addClass("dmp_is-transitioned--fadeinslide").removeClass("dmp_is-hidden").removeAttr("aria-hidden")},this.jsFadeIn=function(t,e){return null==t&&(t="normal"),null==e&&(e=this.$node),e=this._elementify(e),e.fadeIn(t,function(){return e.removeAttr("aria-hidden")})},this.hideNode=function(t){return null==t&&(t=this.$node),t=this._elementify(t),t.addClass("dmp_is-hidden").attr("aria-hidden",!0)},this.cssFadeOut=function(t){return null==t&&(t=this.$node),t=this._elementify(t),t.removeClass("dmp_is-transitioned--fadein").attr("aria-hidden",!0)},this.cssFadeOutSlide=function(t){return null==t&&(t=this.$node),t=this._elementify(t),t.removeClass("dmp_is-transitioned--fadeinslide").attr("aria-hidden",!0)},this.jsFadeOut=function(t,e){return null==t&&(t="normal"),null==e&&(e=this.$node),e=this._elementify(e),e.fadeOut(t,function(){return e.attr("aria-hidden",!0)})}}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;(function(r){var o=[].slice;n=function(){var t;return t=function(){return this.asyncTrigger=function(){var t;return t=1<=arguments.length?o.call(arguments,0):[],r.nextTick(function(e){return function(){return e.trigger.apply(e,t)}}(this))},this.setImmediate=function(t){return r.nextTick(function(){return t()})}}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))}).call(e,i(27))},function(t,e,i){var n,r=[].slice;n=function(){var t,e,n;return t=i(3),e=i(18),n=function(){return this.get=function(){var t;return t=1<=arguments.length?r.call(arguments,0):[],e.get.apply(e,t)},this.set=function(){var t;return t=1<=arguments.length?r.call(arguments,0):[],e.set.apply(e,t)},this.remove=function(){var t;return t=1<=arguments.length?r.call(arguments,0):[],e.remove.apply(e,t)},this.clear=function(){var t;return t=1<=arguments.length?r.call(arguments,0):[],e.clear.apply(e,t)}}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a,u,l,h,d,c;return r=i(3),t=i(5),u=i(25).get("Debug"),e=i(40),n=i(44),l=i(168),d=i(169),c=i(102),a=function(){return console.error("Implement me in the component!")},o=[],s=[],h=function(){return this.attributes({dismissDelay:3e3,adDismissDelay:5e3,mouseOutDismissDelay:500,canShow:!1}),this.canHide=function(){switch(this.currentState){case"adLinear":return this.canHideAdLinear();case"video":return this.canHideVideo();case"startView":return this.canHideStartView();case"endScreen":return this.canHideEndScreen();case"empty":return this.canHideEmpty()}},this.canHideAdLinear=function(){return this.visible&&!this.paused&&0===s.length&&0===o.length},this.canHideVideo=function(){return this.visible&&this.autoHide&&!this._sticky&&!this.paused&&0===s.length&&0===o.length&&!this.playerHasOpenMenu()},this.canHideStartView=function(){return!0},this.canHideEndScreen=function(){return!1},this.canHideEmpty=function(){return!1},this.didPresent=function(){return this.presenting=!1,this.visible=!0,this.trigger(t.ENABLE_TOOLTIP_REQUESTED)},this.didDismiss=function(){return this.dismissing=!1,this.visible=!1,clearTimeout(this.dismissTimeout)},this.present=function(){return!this.attr.canShow||this.overlayVisible||this.presenting?void 0:(this.delayHide(),!this.visible||this.dismissing?(this.presenting=!0,this.dismissing=!1,this.on(e.transitionEndEvent(),function(t){return this._handleTransitionEnd(t,this.didPresent)
}),setTimeout(function(t){return function(){return t.cssFadeInSlide()}}(this),10)):void 0)},this.dismiss=function(i){return null==i&&(i=!1),(i||this.canHide()&&!this.dismissing)&&(this.visible||this.presenting)?(this.dismissing=!0,this.presenting=!1,this.trigger(t.DISABLE_TOOLTIP_REQUESTED),this.on(e.transitionEndEvent(),function(t){return this._handleTransitionEnd(t,this.didDismiss)}),setTimeout(function(t){return function(){return t.cssFadeOutSlide()}}(this),0)):void 0},this.toggle=function(){return this.visible?this.dismiss():this.present()},this.delayHide=function(){var t;return clearTimeout(this.dismissTimeout),t="adLinear"===this.currentState?this.attr.adDismissDelay:this.attr.dismissDelay,this.dismissTimeout=setTimeout(function(t){return function(){return t.dismiss()}}(this),t)},this._handleTransitionEnd=function(t,i){return t.target===this.node?(t.stopPropagation(),this.off(e.transitionEndEvent()),i.call(this)):void 0},this._handleMouseOverPlayerEvent=function(){return clearTimeout(this.mouseOutDismissTimeout),this.present()},this._handleMouseLeftPlayer=function(){var t;return t="adLinear"===this.currentState?this.attr.adDismissDelay/2:this.attr.mouseOutDismissDelay>=0?this.attr.mouseOutDismissDelay:500,this.mouseOutDismissTimeout=setTimeout(function(t){return function(){return t.dismiss()}}(this),t)},this._handleMouseEnteredContainer=function(){return-1===$.inArray(this.attr.containerType,s)?s.push(this.attr.containerType):void 0},this._handleMouseLeftContainer=function(){return s.splice($.inArray(this.attr.containerType,s),1),clearTimeout(null)},this._handleContainerFocus=function(t){return this.delayHide(),this.$node.find(t.target).length?o.push(this.attr.containerType):void 0},this._handleContainerBlur=function(t){return this.$node.find(t.target).length?o.splice($.inArray(this.attr.containerType,o),1):void 0},this._handleContainerTapped=function(){return this.delayHide()},this._attachSubComponents=function(){var t,e,i,n;i=this.attr.subComponents,n=[];for(e in i)t=i[e],n.push(null==t.enabled||t.enabled()!==!1?this._attachSubComp(t):void 0);return n},this._attachSubComp=function(t){return t.constructor.attachTo(this.$node.find(t.selector),{nodeSelector:t.selector,containerSelector:this.attr.containerSelector,containerType:this.attr.containerType,tabindex:t.hasOwnProperty("tabindexOrder")?this.attr.baseTabindex+t.tabindexOrder:null})},this._teardownSubComponents=function(){var t,e,i,n;i=this.attr.subComponents,n=[];for(e in i)t=i[e],n.push(null==t.enabled||t.enabled()!==!1?t.constructor.teardownAll():void 0);return n},this.after("teardown",function(){return this._teardownSubComponents()}),this.after("initialize",function(){return this.currentState="empty",this._attachSubComponents(),this.on(r.rootNode(),t.VIDEO_BUFFERING,function(){return this._sticky=!0}),this.on(r.rootNode(),t.VIDEO_STEADYPLAY,function(){return this._sticky=!1,this.dismiss()}),Modernizr.touch?this.on("click",function(){return this._handleContainerTapped()}):(this.on("mouseenter",function(){return this._handleMouseEnteredContainer()}),this.on("mouseleave",function(){return this._handleMouseLeftContainer()})),r.rootNode().addEventListener("focus",this._handleContainerFocus.bind(this),!0),r.rootNode().addEventListener("blur",this._handleContainerBlur.bind(this),!0),this.on(r.rootNode(),t.PRESENT_CONTROLS_REQUESTED,function(){return this.present()}),this.on(r.rootNode(),[t.MOUSE_ENTERED_PLAYER,t.MOUSE_MOVED_OVER_PLAYER].join(" "),this._handleMouseOverPlayerEvent),this.on(r.rootNode(),t.MOUSE_LEFT_PLAYER,this._handleMouseLeftPlayer),this.on(r.rootNode(),t.VIDEO_TAPPED,function(){return this.playerHasOpenMenu()?this.delayHide():this.toggle()}),this.on(r.rootNode(),t.VIDEO_PLAY,function(){return this.paused=!1,this.present()}),this.on(r.rootNode(),t.VIDEO_PAUSE,function(t,e){return e.interrupted?void 0:(this.paused=!0,this.present())}),this.on(r.rootNode(),[t.MODAL_WILL_OPEN,t.CHROMECAST_OVERRIDE_PANE_WILL_OPEN].join(" "),function(){return this.overlayVisible=!0,this.dismiss(!0)}),this.on(r.rootNode(),[t.MODAL_WILL_CLOSE,t.CHROMECAST_OVERRIDE_PANE_WILL_CLOSE].join(" "),function(){return this.overlayVisible=!1,this.present()}),this.on(r.rootNode(),t.LOAD_VIDEO,function(){return this.currentState="empty",this.attr.canShow=!1,this.dismiss()}),this.on(r.rootNode(),t.SEQUENCE_STARTED,function(){return this.currentState="empty"}),this.on(r.rootNode(),t.AD_STARTED,function(t,e){return"linear"===e.type?this.currentState="adLinear":void 0}),this.on(r.rootNode(),t.AD_STOPPED,function(t,e){var i;return"linear"===e.type?this.currentState="midroll"===(i=e.position)||"adbreak"===i?"video":"empty":void 0}),this.on(r.rootNode(),t.VIDEO_START,function(){return this.currentState="video",s=[],this.present()}),this.on(r.rootNode(),t.VIDEO_ENDED,function(){return this.currentState="empty"}),this.on(r.rootNode(),t.START_VIEW_WILL_OPEN,function(){return this.currentState="startView",this.dismiss()}),this.on(r.rootNode(),t.END_SCREEN_WILL_OPEN,function(){return this.currentState="endScreen",this.present()}),this.on(r.rootNode(),t.END_SCREEN_WILL_CLOSE,function(){return this.currentState="empty",this.dismiss()}),this.on(t.PRESSED_SPACE,function(t){return t.stopPropagation()})}),this.after("teardown",function(){return r.rootNode().removeEventListener("focus",this._handleContainerFocus.bind(this),!0),r.rootNode().removeEventListener("blur",this._handleContainerBlur.bind(this),!0)}),n.mixin(this,[c,l,d])}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a,u,l,h;return o=i(94),r=i(3),e=i(99),t=i(5),s=i(100),a=i(170),u=i(171),l=i(102),h=i(172),n=function(){return this.attributes({ariaLabel:e.__("tooltip:::AirPlay"),tooltipText:e.__("tooltip:::AirPlay"),videoTagSelector:"#dmp_Video"}),this.after("initialize",function(){return this.on(r.rootNode(),t.SEQUENCE_STARTED,function(){return this.setAccessibility(this.attr.ariaLabel),this.airPlayAvailable?this.showNode():void 0}),this.on(r.rootNode(),t.AIRPLAY_AVAILABLE,function(){return this.airPlayAvailable=!0,this.showNode()}),this.on(r.rootNode(),t.AIRPLAY_NOT_AVAILABLE,function(){return this.airPlayAvailable=!1,this.hideNode()}),this.on(r.rootNode(),t.AIRPLAY_WIRELESS_STATE,function(t,e){return this.highlightIcon(e.active)}),this.on("click",function(){return this.trigger(t.AIRPLAY_REQUESTED),this.trigger(t.HIDE_TOOLTIP_REQUESTED,{containerType:this.attr.containerType})}),this.on(r.rootNode(),t.SEQUENCE_ENDED,function(){return this.hideNode()})})},o(s,h,n,a,u,l)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a,u,l,h;return o=i(94),r=i(3),t=i(5),e=i(99),s=i(100),a=i(170),l=i(102),h=i(172),u=i(104),n=function(){return this.attributes({tabindex:null,tooltipText:"",iconSelector:".dmp_AnnotationsButton-icon",enableTooltipText:e.__("tooltip:::Enable annotations"),disableTooltipText:e.__("tooltip:::Disable annotations")}),this.enabledUiState=function(){return this.$node.addClass("dmp_is-active"),this.setTooltipText("enabled")},this.disabledUiState=function(){return this.$node.removeClass("dmp_is-active"),this.setTooltipText("disabled")},this.setTooltipText=function(t){switch(t){case"disabled":this.attr.tooltipText=this.attr.enableTooltipText;break;case"enabled":this.attr.tooltipText=this.attr.disableTooltipText}return this.updateAccessibility(this.attr.tooltipText),this.requestTooltipUpdate()},this.after("initialize",function(){return this.enabled=!1,this.setAccessibility(this.attr.tooltipText,this.attr.tabindex),this.on(r.rootNode(),t.VIDEO_SELECTED,function(){return this.enabled=null!=r.metadata("annotations")}),this.on(r.rootNode(),[t.LOAD_VIDEO,t.VIDEO_SLOT_ENDED].join(" "),function(){return this.hideNode()}),this.on(r.rootNode(),t.VIDEO_SLOT_STARTED,function(){return this.setTooltipText(this.get("dmp_annotations_disabled")?"disabled":"enabled"),this.enabled?this.showNode():void 0}),this.on(r.rootNode(),t.ANNOTATIONS_CHANGE_CONFIRMED,function(t,e){return e.enabled?this.enabledUiState():this.disabledUiState()}),this.on("click tap",function(){return this.trigger(t.ANNOTATIONS_CHANGE_REQUESTED,{state:"toggle"})}),this.on(r.rootNode(),t.CHROMECAST_REMOTE_ENABLED,function(){return this.hideNode()}),this.on(r.rootNode(),t.CHROMECAST_SESSION_STOPPED,function(){return this.enabled?this.showNode():void 0})})},o(s,h,n,a,l,u)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a,u,l,h,d,c;return o=i(3),s=i(94),t=i(5),e=i(99),a=i(16),u=i(100),l=i(170),h=i(173),d=i(102),c=i(172),n=a({HIDDEN:null,IDLE:null,CONNECTING:null,ACTIVE:null}),r=function(){return this.attributes({tabindex:null,activeIconSelector:".dmp_ChromecastButton-icon-active",ariaLabel:e.__("accessibility:::Cast to your TV"),defaultIconSelector:".dmp_ChromecastButton-icon-default",tooltipText:e.__("tooltip:::Play on a TV")}),this.State=n,this.state=n.HIDDEN,this.authorizePrompt=!1,this.showPrompt=null,this.hideTimeoutId=null,this.showIdleIcon=function(){return this.showNode(),this.showNode("defaultIconSelector"),this.hideNode("activeIconSelector"),this.$node.removeClass("dmp_is-active")},this.showConnectingIcon=function(){return this.showIdleIcon(),this.$node.addClass("dmp_is-active")},this.showActiveIcon=function(){return this.showNode(),this.hideNode("defaultIconSelector"),this.showNode("activeIconSelector"),this.$node.addClass("dmp_is-active")},this.getPromptHasBeenDisplayed=this.fromStorage("local","dmp_chromecast_prompt"),this.setPromptHasBeenDisplayed=this.toStorage("local","dmp_chromecast_prompt"),this.getChromecastHasBeenDetected=this.fromStorage("session","dmp_chromecast_available"),this.setChromecastHasBeenDetected=this.toStorage("session","dmp_chromecast_available"),this.displayPrompt=function(){return this.authorizePrompt?(null==this.showPrompt&&(this.showPrompt=!this.getPromptHasBeenDisplayed()),this.showPrompt&&this.state!==n.HIDDEN?(this.setPromptHasBeenDisplayed(!0),this.showPrompt=!1,this.requestTooltip()):void 0):void 0},this.updateState=function(t){if(null==t&&(t=this.state),this.adRunning)return this.hideNode(),void(this.state=t);switch(t){case n.IDLE:this.showIdleIcon();break;case n.ACTIVE:this.showActiveIcon();break;case n.CONNECTING:this.showConnectingIcon();break;default:t=n.HIDDEN,this.hideNode()}return this.state=t,this.displayPrompt()},this.handleHideTooltipRequested=function(e,i){return i.containerType!==this.attr.containerType?(this.setPromptHasBeenDisplayed(!1),this.showPrompt=!0,this.updateState()):this.off(o.rootNode(),t.HIDE_TOOLTIP_REQUESTED,this.handleHideTooltipRequested)},this.after("initialize",function(){return this.on(o.rootNode(),t.AD_LINEAR_SLOT_STARTED,function(){return this.adRunning=!0,this.updateState()}),this.on(o.rootNode(),t.AD_LINEAR_SLOT_ENDED,function(){return this.adRunning=!1,this.authorizePrompt=!0,this.updateState()}),this.on(o.rootNode(),[t.CHROMECAST_READY,t.CHROMECAST_SESSION_STOPPED].join(" "),function(){return this.hideTimeoutId&&(o.window().clearTimeout(this.hideTimeoutId),this.hideTimeoutId=null),this.setChromecastHasBeenDetected(!0),this.updateState(n.IDLE),this.attr.tooltipText=e.__("tooltip:::Play on a TV")}),this.on(o.rootNode(),t.CHROMECAST_NOT_AVAILABLE,function(){return this.updateState(n.HIDDEN)}),this.on(o.rootNode(),t.CHROMECAST_MEDIA_DISCOVERED,function(){return this.updateState(n.ACTIVE),this.attr.tooltipText=e.__("tooltip:::Playing on %device%",{device:this.deviceName}),this.updateAccessibility(this.attr.tooltipText)}),this.on(o.rootNode(),t.CHROMECAST_REQUESTING_SESSION,function(){return this.updateState(n.CONNECTING)}),this.on(o.rootNode(),t.CHROMECAST_SESSION_AVAILABLE,function(t,e){return this.updateState(n.ACTIVE),this.deviceName=e.receiver.friendlyName}),this.on(o.rootNode(),t.CHROMECAST_USER_CANCEL,function(){return this.state===n.CONNECTING?this.updateState(n.IDLE):void 0}),this.on(o.rootNode(),t.HIDE_TOOLTIP_REQUESTED,this.handleHideTooltipRequested),this.on("click",function(){return this.adRunning?void 0:this.trigger(t.CHROMECAST_LAUNCH_REQUESTED)}),this.on(o.rootNode(),t.COMPONENTS_READY,function(){return this.adRunning=!1,this.setAccessibility(this.attr.ariaLabel,this.attr.tabindex),this.getChromecastHasBeenDetected()?(this.hideTimeoutId=o.window().setTimeout(function(t){return function(){return t.updateState(n.HIDDEN)}}(this),3e3),this.updateState(n.IDLE)):this.updateState(n.HIDDEN)})})},s(u,c,h,r,l,d)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o;return n=i(94),e=i(3),t=i(5),o=i(102),r=function(){return this.attributes({drawerInnerSelector:".dmp_Drawer-inner",containerSelector:null}),this.handleDrawer=function(){return this.miniUiEnabled?(this.createDrawer(),this.isTouch?this.setDrawerWidth():(this.hideNode(),this.trigger(t.DRAWER_UPDATED,{enabled:!1}))):this.destroyDrawer()},this.createDrawer=function(){var e;return this.drawerInner.is(":empty")?(e=$(this.attr.containerSelector).find(".dmp_Drawer-item"),e.length>1?(e.detach().appendTo(this.drawerInner),this.trigger(t.DRAWER_UPDATED,{enabled:!0})):this.trigger(t.DRAWER_UPDATED,{enabled:!1})):void 0},this.destroyDrawer=function(){return this.trigger(t.DRAWER_UPDATED,{enabled:!1}),this.drawerInner.is(":empty")?void 0:this.drawerInner.children().detach().insertBefore(this.$node)},this.setDrawerWidth=function(){return this.miniUiEnabled?(this.drawerViewportWidth=this.$node.outerWidth(!0),this.$node.css({left:this.leftPos,right:this.rightPos}),this.drawerWidth=0,this.$node.find(".dmp_ControlBarButton:visible").each(function(t){return function(e,i){return t.drawerWidth+=i.getBoundingClientRect().width}}(this)),this.drawerInner.width(Math.ceil(this.drawerWidth))):void 0},this.toggleDrawer=function(){return this.drawerExpanded?(this.closeDrawer(),this.drawerExpanded=!1):(this.openDrawer(),this.drawerExpanded=!0)},this.closeDrawer=function(){return this.trigger(t.HIDE_MENU_REQUESTED),this.$node.removeClass("dmp_is-open"),this.trigger(t.DRAWER_CLOSED)},this.openDrawer=function(){return this.setDrawerWidth(),this.trigger(t.DRAWER_OPENED),this.$node.scrollLeft(this.drawerWidth-this.drawerViewportWidth),this.$node.addClass("dmp_is-open")},this.after("initialize",function(){return this.isTouch=Modernizr.touch,this.drawerInner=this.select("drawerInnerSelector"),this.on(e.rootNode(),t.MINI_UI_UPDATED,function(t,e){return this.miniUiEnabled=e.enabled,this.leftPos=e.leftGroupWidth,this.rightPos=e.rightGroupWidth,this.handleDrawer()}),this.on(e.rootNode(),[t.AD_LINEAR_SLOT_STARTED,t.VIDEO_SLOT_STARTED].join(" "),function(){return this.setDrawerWidth()}),this.on(e.rootNode(),t.TOGGLE_DRAWER_REQUESTED,function(){return this.toggleDrawer()}),this.on(e.rootNode(),t.CLOSE_DRAWER_REQUESTED,function(){return this.closeDrawer()}),this.on(e.rootNode(),t.OPEN_DRAWER_REQUESTED,function(){return this.openDrawer()}),this.on(e.rootNode(),t.PLAYER_SIZE_CHANGED,function(){return this.miniUiEnabled?this.closeDrawer():void 0})})},n(r,o)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a,u;return n=i(3),r=i(94),t=i(5),e=i(99),s=i(100),a=i(170),u=i(102),o=function(){return this.attributes({ariaLabel:e.__("accessibility:::More controls"),closedAriaLabel:e.__("accessibility:::More controls"),openedAriaLabel:e.__("accessibility:::Fewer controls")}),this.handleVisibility=function(){return this.isTouch&&this.buttonEnabled&&this.miniUiEnabled?(this.setAccessibility(this.attr.ariaLabel,this.attr.tabindex),this.showNode(),this.trigger(t.DRAWER_BUTTON_ENABLED)):this.hideNode()},this.after("initialize",function(){return this.isTouch=Modernizr.touch,this.on(n.rootNode(),t.DRAWER_UPDATED,function(t,e){return this.buttonEnabled=e.enabled,this.handleVisibility()}),this.on(n.rootNode(),t.MINI_UI_UPDATED,function(t,e){return this.miniUiEnabled=e.enabled,this.handleVisibility()}),this.on("click",function(){return this.trigger(t.TOGGLE_DRAWER_REQUESTED)}),this.on(n.rootNode(),t.DRAWER_CLOSED,function(){return this.$node.attr("aria-expanded",!1),this.updateAccessibility(this.attr.closedAriaLabel)}),this.on(n.rootNode(),t.DRAWER_OPENED,function(){return this.$node.attr("aria-expanded",!0),this.updateAccessibility(this.attr.openedAriaLabel)})})},r(s,o,a,u)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a,u,l;return n=i(3),r=i(94),t=i(5),e=i(99),s=i(100),a=i(170),u=i(102),l=i(172),o=function(){return this.attributes({ariaLabel:e.__("accessibility:::Enter fullscreen"),enterAriaLabel:e.__("accessibility:::Enter fullscreen"),enterIconSelector:".dmp_FullscreenButton-icon-enter",enterTooltipText:e.__("tooltip:::Enter fullscreen"),exitAriaLabel:e.__("accessibility:::Exit fullscreen"),exitIconSelector:".dmp_FullscreenButton-icon-exit",exitTooltipText:e.__("tooltip:::Exit fullscreen"),tooltipText:""}),this.enterFullscreenUiState=function(){return this.showNode(this.select("exitIconSelector")),this.hideNode(this.select("enterIconSelector")),this.attr.tooltipText=this.attr.exitTooltipText,this.requestTooltipUpdate(),this.updateAccessibility(this.attr.exitAriaLabel),this.$node.attr("aria-pressed",!0)},this.exitFullscreenUiState=function(){return this.showNode(this.select("enterIconSelector")),this.hideNode(this.select("exitIconSelector")),this.attr.tooltipText=this.attr.enterTooltipText,this.requestTooltipUpdate(),this.updateAccessibility(this.attr.enterAriaLabel),this.$node.attr("aria-pressed",!1)},this.requestFullscreenToggle=function(){return this.trigger(t.FULLSCREEN_TOGGLE_REQUESTED)},this.after("initialize",function(){return this.updateAccessibility(this.attr.enterAriaLabel),this.on(n.rootNode(),t.FULLSCREEN_SUPPORTED,function(){return this.showNode(),this.trigger(t.FULLSCREEN_BUTTON_ENABLED)}),this.on("click",this.requestFullscreenToggle),this.on(n.rootNode(),t.FULLSCREEN_ENTERED,function(){return this.enterFullscreenUiState()}),this.on(n.rootNode(),t.FULLSCREEN_EXITED,function(){return this.exitFullscreenUiState()}),this.on(n.rootNode(),t.CHROMECAST_REMOTE_ENABLED,function(){return this.hideNode()}),this.on(n.rootNode(),t.CHROMECAST_SESSION_STOPPED,function(){return this.showNode()}),this.exitFullscreenUiState(),this.setAccessibility(this.attr.ariaLabel,this.attr.tabindex)})},r(s,l,o,a,u)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a;return n=i(3),r=i(94),t=i(5),e=i(99),s=i(100),a=i(102),o=function(){return this.attributes({ariaLabel:e.__("accessibility:::Live video"),badgeSelector:".dmp_LiveInfo-badge",labelSelector:".dmp_LiveInfo-label"}),this.setText=function(){return this.select("badgeSelector").text(e.__("badge:::Live"))},this.setViewers=function(t){return this.select("labelSelector").text(e.__("badge:::%count% viewers",{count:t})),this.updateAccessibility(e.__("accessibility:::Live video: %count% viewers",{count:t}))},this.showLiveInfo=function(){return"live"===n.get("stream_type")?(this.showNode(),n.get("show_live_viewers")?this.showNode(this.select("labelSelector")):this.hideNode(this.select("labelSelector"))):this.hideNode()},this.after("initialize",function(){return this.on(n.rootNode(),t.VIDEO_SELECTED,function(){return this.setAccessibility(this.attr.ariaLabel),this.setText()}),this.on(n.rootNode(),[t.VIDEO_SLOT_ENDED,t.LOAD_VIDEO].join(" "),function(){return this.hideNode()}),this.on(n.rootNode(),t.AD_STARTED,function(t,e){return"linear"===e.type?this.hideNode():void 0}),this.on(n.rootNode(),[t.VIDEO_SLOT_STARTED,t.AD_STOPPED].join(" "),function(){return this.showLiveInfo()}),this.on(n.rootNode(),t.LIVE_AUDIENCE,function(t,e){return this.setViewers(e.nbViewers)})})},r(s,o,a)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a,u,l;return n=i(3),r=i(94),t=i(5),e=i(99),s=i(100),a=i(170),u=i(102),l=i(172),o=function(){return this.attributes({ariaLabel:e.__("accessibility:::Watch on Dailymotion.com"),tooltipText:e.__("tooltip:::Watch on Dailymotion.com")}),this.after("initialize",function(){return this.on(n.rootNode(),t.VIDEO_SELECTED,function(){return this.$node.attr("href",n.metadata("url")),this.setAccessibility(this.attr.ariaLabel,this.attr.tabindex),this.showNode()}),this.on("click",function(e){return this.trigger(t.PAUSE_REQUESTED),this.trigger(t.WATCH_ON_SITE_REQUESTED),e.preventDefault()})})},r(s,l,o,a,u)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a;return n=i(3),r=i(94),t=i(5),e=i(99),s=i(100),a=i(102),o=function(){return this.attributes({tabindex:null,ariaLabel:e.__("accessibility:::Control video playback"),playAriaLabel:e.__("accessibility:::Play video"),pauseAriaLabel:e.__("accessibility:::Pause video"),stopAriaLabel:e.__("accessibility:::Stop video"),replayAriaLabel:e.__("accessibility:::Replay video"),canPause:!0,pauseIconSelector:".dmp_PlaybackButton-icon-pause",playIconSelector:".dmp_PlaybackButton-icon-play",replayIconSelector:".dmp_PlaybackButton-icon-replay",stopIconSelector:".dmp_PlaybackButton-icon-stop"}),this.showPlayIcon=function(){return this.showNode(this.playIcon),this.hideNode(this.pauseIcon),this.hideNode(this.stopIcon),this.hideNode(this.replayIcon),this.updateAccessibility(this.attr.playAriaLabel)},this.showPauseIcon=function(){return this.showNode(this.pauseIcon),this.hideNode(this.playIcon),this.hideNode(this.stopIcon),this.hideNode(this.replayIcon),this.updateAccessibility(this.attr.pauseAriaLabel)},this.showStopIcon=function(){return this.showNode(this.stopIcon),this.hideNode(this.playIcon),this.hideNode(this.pauseIcon),this.hideNode(this.replayIcon),this.updateAccessibility(this.attr.stopAriaLabel)},this.showReplayIcon=function(){return this.showNode(this.replayIcon),this.hideNode(this.playIcon),this.hideNode(this.stopIcon),this.hideNode(this.pauseIcon),this.updateAccessibility(this.attr.replayAriaLabel)},this.after("initialize",function(){return this.playIcon=this.select("playIconSelector"),this.pauseIcon=this.select("pauseIconSelector"),this.stopIcon=this.select("stopIconSelector"),this.replayIcon=this.select("replayIconSelector"),this.setAccessibility(this.attr.pauseAriaLabel,this.attr.tabindex),this.showPauseIcon(),this.showNode(),this.on(n.rootNode(),t.VIDEO_SELECTED,function(){return this.isLive="live"===n.get("stream_type"),this.attr.canPause=this.isLive?!1:!0}),this.on(n.rootNode(),t.AD_STARTED,function(t,e){return"linear"===e.type?this.attr.canPause=!0:void 0}),this.on(n.rootNode(),t.AD_STOPPED,function(){return this.attr.canPause=this.isLive?!1:!0}),this.on(n.rootNode(),[t.VIDEO_PLAY,t.VIDEO_PLAYING].join(" "),function(){return this.attr.canPause?this.showPauseIcon():this.showStopIcon()}),this.on(n.rootNode(),t.VIDEO_PAUSE,function(t,e){return e.interrupted?void 0:this.showPlayIcon()}),this.on(n.rootNode(),t.SEQUENCE_ENDED,function(){return this.showReplayIcon()}),this.on("click",function(){return this.trigger(t.TOGGLE_PLAYBACK_REQUESTED)})})},r(s,o,a)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a,u,l,h,d;return n=i(3),r=i(94),t=i(5),e=i(99),s=i(100),a=i(170),u=i(171),l=i(174),h=i(102),d=i(172),o=function(){return this.attributes({ariaLabel:e.__("accessibility:::Toggle the quality menu"),tooltipText:e.__("tooltip:::Change quality"),menuContentId:"quality",hdIconSelector:".dmp_QualityButton-icon-hd","4kIconSelector":".dmp_QualityButton-icon-4k"}),this.show4kIcon=function(){return this.showNode(this.select("4kIconSelector")),this.hideNode(this.select("hdIconSelector"))},this.showHdIcon=function(){return this.showNode(this.select("hdIconSelector")),this.hideNode(this.select("4kIconSelector"))},this.updateButtonVisibility=function(){return this.enabled&&this.videoSlotStarted?this.showNode():this.hideNode()},this.after("initialize",function(){return this.enabled=!1,this.videoSlotStarted=!1,this.setAccessibility(this.attr.ariaLabel,this.attr.tabindex),this.showHdIcon(),this.on(n.rootNode(),t.QUALITIES_AVAILABLE,function(t,e){return this.enabled=e.qualities.length>(e.adaptiveSupported?0:1)&&"audio"!==n.metadata("media_type"),this.updateButtonVisibility()}),this.on(n.rootNode(),[t.VIDEO_SLOT_ENDED,t.CHROMECAST_REMOTE_ENABLED,t.LOAD_VIDEO].join(" "),function(){return this.videoSlotStarted=!1,this.updateButtonVisibility()}),this.on(n.rootNode(),[t.VIDEO_SLOT_STARTED,t.CHROMECAST_SESSION_STOPPED].join(" "),function(){return this.videoSlotStarted=!0,this.updateButtonVisibility()}),this.on(n.rootNode(),t.QUALITY_CHANGED,function(t,e){var i;if(this.enabled)return i=parseInt(e.quality.name,10),i>=2160?this.show4kIcon():this.showHdIcon(),this.highlightIcon(i>=720)})})},r(h,s,h,l,d,o,a,u)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a,u,l,h,d,c;return r=i(3),o=i(94),s=i(21),t=i(5),e=i(99),n=i(140).Location,u=i(100),l=i(170),h=i(138),d=i(102),c=i(172),a=function(){return this.attributes({tabindex:null,ariaLabel:e.__("accessibility:::Report playback issue"),tooltipText:e.__("tooltip:::Report playback issue")}),this.after("initialize",function(){return this.setAccessibility(this.attr.ariaLabel,this.attr.tabindex),this.fullscreenState=!1,this.on(r.rootNode(),t.VIDEO_SLOT_STARTED,function(){return this.showNode()}),this.on(r.rootNode(),[t.VIDEO_SLOT_ENDED,t.LOAD_VIDEO].join(" "),function(){return this.hideNode()}),this.on(r.rootNode(),t.VIDEO_SELECTED,function(){return this.currentVid=r.metadata("id")}),this.on(r.rootNode(),t.FULLSCREEN_ENTERED,function(){return this.fullscreenState=!0}),this.on(r.rootNode(),t.FULLSCREEN_EXITED,function(){return this.fullscreenState=!1}),this.on("click",function(){var e;return this.trigger(t.PAUSE_REQUESTED),this.fullscreenState&&this.trigger(t.FULLSCREEN_TOGGLE_REQUESTED),"inline"===r.get("integration")?this.trigger(t.REPORT_ISSUE_REQUESTED,{id:this.currentVid,techno:"html5"}):(e=this.openPopup(n.appendQueryStringParameter(r.context("report_issue_url"),"id="+this.currentVid+"&techno=html5"),"Report Issue"),$(e).load(function(){return e.document.getElementById("config").value=JSON.stringify(r.get())}))})})},o(u,c,a,l,h,d)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n,r=[].slice;n=function(){var t,e,n,o,s,a,u,l,h,d,c,f,p,E;return u=i(3),l=i(94),s=i(99),n=i(5),d=i(100),c=i(101),f=i(175),p=i(126),E=i(102),a=i(176),o=i(177),t=i(178),e=i(179),h=function(){return this.attributes({tabindex:null,ariaLabel:s.__("accessibility:::Seek bar"),delayHidePlayhead:1500,duration:0,hoveringPlayer:!1,time:0,nodeSelector:null,containerSelector:null,subComponents:{TimeFilmstrip:{constructor:a,selector:".dmp_Filmstrip--time"},FrameFilmstrip:{constructor:o,selector:".dmp_Filmstrip--frame"},ArrowFilmstrip:{constructor:t,selector:".dmp_Filmstrip--arrow"},BufferBar:{constructor:e,selector:".dmp_SeekBar-buffer"}},ariaNodeSelector:".dmp_SeekBar-playhead",railTrackSelector:".dmp_SeekBar-rail",valueTrackSelector:".dmp_SeekBar-time",playheadCenterOffset:1,trackMargin:{start:2,end:0}}),this.setInteractionEnabled=function(t){return this.setSliderEnabled(t),t?this.$node.addClass("dmp_SeekBar--interactive"):this.$node.removeClass("dmp_SeekBar--interactive"),this.trigger(n.SEEK_BAR_INTERACTION_CHANGED,{interactive:t})},this.setVariant=function(){var t,e,i,n,o;for(o=1<=arguments.length?r.call(arguments,0):[],i=[],t=0,e=o.length;e>t;t++)n=o[t],i.push(this.$node.addClass("dmp_SeekBar--"+n));return i},this.unsetVariant=function(){var t,e,i,n,o;for(o=1<=arguments.length?r.call(arguments,0):[],i=[],t=0,e=o.length;e>t;t++)n=o[t],i.push(this.$node.removeClass("dmp_SeekBar--"+n));return i},this.updateTimeBar=function(){var t;if(!this.disableUpdate)return t=this.fullBar?1:this.attr.duration>0?this.attr.time/this.attr.duration:0,t!==this.attr.sliderValue?(this.setSliderValue(t),this.select("ariaNodeSelector").attr("aria-valuetext",this.formatReadableTime(this.attr.time))):void 0},this.handleDragStart=function(){return this.trigger(n.VIDEO_INTERRUPT_REQUESTED,{reason:"DragSeeking"}),this.updatePlayhead(),this.updateFilmstripVisibility(),this.trigger(n.SEEK_BAR_DRAGGING,{value:this.attr.sliderValue})},this.handleDrag=function(){return this.trigger(n.SEEK_BAR_DRAGGING,{value:this.attr.sliderValue})},this.handleDragEnd=function(){return this.trigger(n.SEEK_REQUESTED,{time:this.attr.sliderValue*this.attr.duration}),this.trigger(n.VIDEO_RESUME_REQUESTED,{reason:"DragSeeking"}),this.updateFilmstripVisibility()},this.updatePlayhead=function(){return(this.attr.hoveringPlayer||this.attr.sliderIsDragging)&&this.$node.addClass("dmp_playhead-is-active"),this.attr.sliderIsDragging?void 0:(clearTimeout(this.t),this.t=setTimeout(function(t){return function(){return t.$node.removeClass("dmp_playhead-is-active")}}(this),this.attr.delayHidePlayhead))},this.updateFilmstripVisibility=function(){return this.trigger(this.attr.mouseIn||this.attr.sliderIsDragging?n.SHOW_FILMSTRIP_REQUESTED:n.HIDE_FILMSTRIP_REQUESTED)},this.after("initialize",function(){return this.attachSubComponents({seekBarSelector:this.attr.nodeSelector,trackBarSelector:this.attr.railTrackSelector}),this.setAccessibility(this.attr.ariaLabel,"0","ariaNodeSelector"),this.showNode(),this.chromecastRemoteEnabled=!1,this.on(u.rootNode(),n.MENU_DID_SHOW,function(){return this.$node.css("z-index",0)}),this.on(u.rootNode(),n.MENU_DID_HIDE,function(){return this.$node.css("z-index",1)}),this.on(u.rootNode(),n.LOAD_VIDEO,function(){return this.unsetVariant("content","ad"),this.attr.time=0,this.fullBar=!1,this.updateTimeBar()}),this.on(u.rootNode(),n.SEQUENCE_STARTED,function(){return this.setInteractionEnabled(!1),this.disableUpdate=!1,this.unsetVariant("content","ad")}),this.on(u.rootNode(),n.AD_STARTED,function(t,e){return"linear"===e.type?(this.setInteractionEnabled(!1),this.fullBar=!1,this.unsetVariant("content"),this.setVariant("ad"),this.attr.time=0,this.updateTimeBar()):void 0}),this.on(u.rootNode(),n.AD_STOPPED,function(t,e){return"linear"===e.type?(this.unsetVariant("ad"),this.attr.time=0,this.updateTimeBar()):void 0}),this.on(u.rootNode(),n.VIDEO_SLOT_STARTED,function(){return"live"===u.get("stream_type")?(this.setInteractionEnabled(!1),this.fullBar=!0):(this.setInteractionEnabled(!0),this.fullBar=!1),this.attr.time=0,this.updateTimeBar(),this.unsetVariant("ad"),this.setVariant("content")}),this.on(u.rootNode(),n.VIDEO_ENDED,function(){return this.chromecastRemoteEnabled?(this.attr.time=u.get("duration"),this.updateTimeBar()):void 0}),this.on(u.rootNode(),n.VIDEO_SLOT_ENDED,function(){return this.unsetVariant("content"),this.attr.time=0,this.updateTimeBar()}),this.on(u.rootNode(),n.SEQUENCE_ENDED,function(){return this.setInteractionEnabled(!0),this.disableUpdate=!0,this.attr.duration=u.get("duration"),this.setSliderValue(1),this.unsetVariant("ad"),this.setVariant("content")}),this.on(u.rootNode(),n.VIDEO_DURATION_CHANGE,function(t,e){return this.attr.duration=e.duration,this.updateTimeBar()}),this.on(u.rootNode(),n.VIDEO_TIME_UPDATE,function(t,e){return this.attr.sliderIsDragging?void 0:(this.attr.time=e.time,this.updateTimeBar())}),this.on(u.rootNode(),[n.MOUSE_MOVED_OVER_PLAYER,n.VIDEO_PLAY].join(" "),function(){return this.attr.hoveringPlayer=!0,this.updatePlayhead()}),this.on(u.rootNode(),n.MOUSE_LEFT_PLAYER,function(){return this.attr.hoveringPlayer=!1,this.updatePlayhead()}),this.on(u.rootNode(),n.CHROMECAST_REMOTE_ENABLED,function(){return this.chromecastRemoteEnabled=!0}),this.on(u.rootNode(),n.CHROMECAST_SESSION_STOPPED,function(){return this.chromecastRemoteEnabled=!1}),this.on("mouseenter",function(){return this.attr.mouseIn=!0,this.updateFilmstripVisibility()}),this.on("mouseleave",function(){return this.attr.mouseIn=!1,this.updateFilmstripVisibility()}),this.on("mousemove",function(t){var e;return this.attr.sliderIsDragging?void 0:(e=this.sliderValueForMouseEvent(t),this.trigger(n.SEEK_BAR_MOUSE_MOVE,{value:e}))}),this.on(this.attr.ariaNodeSelector,"focus",function(){return this.attr.mouseIn=!0,this.updateFilmstripVisibility(),this.trigger(n.SEEK_BAR_FOCUS,{value:this.attr.sliderValue})}),this.on(this.attr.ariaNodeSelector,"blur",function(){return this.attr.mouseIn=!1,this.updateFilmstripVisibility(),this.trigger(n.SEEK_BAR_BLUR)
}),this.on(u.rootNode(),n.MINI_UI_UPDATED,function(t,e){return e.enabled?this.setVariant("mini"):this.unsetVariant("mini")}),this.on(u.rootNode(),n.DRAWER_OPENED,function(){return this.$node.addClass("dmp_is-transitioned--fadeLeft")}),this.on(u.rootNode(),[n.DRAWER_CLOSED,n.BREAKPOINT_CHANGED].join(" "),function(){return this.$node.removeClass("dmp_is-transitioned--fadeLeft")})})},l(d,f,p,h,c,E)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a,u,l,h;return n=i(40),r=i(3),o=i(94),t=i(5),e=i(99),a=i(100),u=i(170),l=i(102),h=i(172),s=function(){return this.attributes({ariaLabel:e.__("accessibility:::Increase size"),expandAriaLabel:e.__("accessibility:::Increase size"),expandIconSelector:".dmp_SizeButton-icon-expand",expandTooltipText:e.__("tooltip:::Increase size"),reduceAriaLabel:e.__("accessibility:::Reduce size"),reduceIconSelector:".dmp_SizeButton-icon-reduce",reduceTooltipText:e.__("tooltip:::Reduce size"),tooltipText:""}),this.enterExpandedState=function(){return this.isExpanded=!0,this.showNode(this.select("reduceIconSelector")),this.hideNode(this.select("expandIconSelector")),this.attr.tooltipText=this.attr.reduceTooltipText,this.requestTooltipUpdate(),this.updateAccessibility(this.attr.reduceAriaLabel),this.$node.attr("aria-pressed",!0)},this.exitExpandedState=function(){return this.isExpanded=!1,this.showNode(this.select("expandIconSelector")),this.hideNode(this.select("reduceIconSelector")),this.attr.tooltipText=this.attr.expandTooltipText,this.requestTooltipUpdate(),this.updateAccessibility(this.attr.expandAriaLabel),this.$node.attr("aria-pressed",!1)},this.requestSizeToggle=function(){return this.isExpanded?(this.exitExpandedState(),this.trigger(t.REDUCE_PLAYER_SIZE_REQUESTED)):(this.enterExpandedState(),this.trigger(t.EXPAND_PLAYER_SIZE_REQUESTED))},this.after("initialize",function(){return n.isEmbed()||(this.showNode(),this.setAccessibility(this.attr.ariaLabel,this.attr.tabindex)),"expanded"===r.settings("expand.state")?this.enterExpandedState():this.exitExpandedState(),this.on("click",function(){return this.requestSizeToggle()}),this.on(r.rootNode(),t.CHROMECAST_REMOTE_ENABLED,function(){return this.hideNode()}),this.on(r.rootNode(),t.CHROMECAST_SESSION_STOPPED,function(){return this.showNode()})})},o(a,h,s,u,l)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a,u,l,h,d,c;return o=i(94),r=i(3),t=i(5),e=i(99),n=i(40),a=i(100),u=i(170),c=i(172),l=i(171),d=i(102),h=i(174),s=function(){return this.attributes({ariaLabel:e.__("accessibility:::Toggle the speed menu"),tooltipText:e.__("tooltip:::Change playback speed"),menuContentId:"speed",defaultIconSelector:".dmp_SpeedButton-icon-default",fastIconSelector:".dmp_SpeedButton-icon-fast",slowIconSelector:".dmp_SpeedButton-icon-slow"}),this.showDefaultIcon=function(){return this.showNode(this.select("defaultIconSelector")),this.hideNode(this.select("fastIconSelector")),this.hideNode(this.select("slowIconSelector"))},this.showFastIcon=function(){return this.showNode(this.select("fastIconSelector")),this.hideNode(this.select("slowIconSelector")),this.hideNode(this.select("defaultIconSelector"))},this.showSlowIcon=function(){return this.showNode(this.select("slowIconSelector")),this.hideNode(this.select("fastIconSelector")),this.hideNode(this.select("defaultIconSelector"))},this.after("initialize",function(){return this.showDefaultIcon(),this.updateAccessibility(this.attr.ariaLabel),this.on(r.rootNode(),t.VIDEO_SELECTED,function(){return this.canShow=n.canChangePlaybackRate()&&"live"!==r.metadata("stream_type")}),this.on(r.rootNode(),[t.LOAD_VIDEO,t.VIDEO_SLOT_ENDED,t.CHROMECAST_REMOTE_ENABLED].join(" "),function(){return this.hideNode()}),this.on(r.rootNode(),[t.VIDEO_SLOT_STARTED,t.CHROMECAST_SESSION_STOPPED].join(" "),function(){return this.canShow?this.showNode():void 0}),this.on(r.rootNode(),t.AIRPLAY_WIRELESS_STATE,function(t,e){return e.active?this.hideNode():this.canShow?this.showNode():void 0}),this.on(r.rootNode(),t.SPEED_CHANGE_CONFIRMED,function(t,e){if(this.canShow){switch(!1){case!(e.speed<1):this.showSlowIcon();break;case!(e.speed>1):this.showFastIcon();break;default:this.showDefaultIcon()}return this.highlightIcon(1!==e.speed)}})})},o(a,c,h,s,u,l,d)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a,u,l,h,d;return n=i(3),r=i(94),t=i(5),e=i(99),s=i(100),a=i(170),u=i(171),l=i(174),h=i(102),d=i(172),o=function(){return this.attributes({tabindex:null,ariaLabel:e.__("accessibility:::Toggle the subtitles menu"),menuContentId:"subtitles",tooltipText:e.__("tooltip:::Set subtitles")}),this.after("initialize",function(){return this.enabled=!1,this.setAccessibility(this.attr.ariaLabel,this.attr.tabindex),this.on(n.rootNode(),t.VIDEO_SELECTED,function(){return this.enabled=n.metadata("subtitles.enable")}),this.on(n.rootNode(),[t.AD_LINEAR_SLOT_STARTED,t.LOAD_VIDEO,t.CHROMECAST_REMOTE_ENABLED].join(" "),function(){return this.hideNode()}),this.on(n.rootNode(),[t.VIDEO_SLOT_STARTED,t.CHROMECAST_SESSION_STOPPED].join(" "),function(){return this.enabled?this.showNode():void 0}),this.on(n.rootNode(),t.SUBTITLE_CHANGE_CONFIRMED,function(t,e){return this.highlightIcon(-1!==parseInt(e.code))})})},r(s,h,l,d,o,a,u)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a,u;return n=i(3),r=i(94),t=i(5),e=i(99),s=i(100),a=i(101),u=i(102),o=function(){return this.attributes({ariaLabel:e.__("accessibility:::Time elapsed / Video duration"),timeSelector:".dmp_TimeInfo-time",durationSelector:".dmp_TimeInfo-duration"}),this.after("initialize",function(){return this.on(n.rootNode(),t.VIDEO_SELECTED,function(){return this.enabled="live"!==n.metadata("stream_type")}),this.on(n.rootNode(),[t.SEQUENCE_STARTED,t.LOAD_VIDEO].join(" "),function(){return this.hideNode()}),this.on(n.rootNode(),t.AD_STARTED,function(t,e){return"linear"===e.type?this.hideNode():void 0}),this.on(n.rootNode(),t.VIDEO_SLOT_STARTED,function(){return this.enabled?(this.select("timeSelector").text(this.formatTime(0)),this.setAccessibility(e.__("accessibility:::Time elapsed: %time%",{time:this.formatReadableTime(0)}),"timeSelector"),this.select("durationSelector").text(this.formatTime(n.get("duration"))),this.setAccessibility(e.__("accessibility:::Video duration: %duration%",{duration:this.formatReadableTime(n.get("duration"))}),"durationSelector"),this.showNode()):void 0}),this.on(n.rootNode(),t.END_SCREEN_WILL_OPEN,function(){return this.enabled?(this.select("timeSelector").text(this.formatTime(n.get("duration"))),this.updateAccessibility(e.__("accessibility:::Time elapsed: %time%",{time:this.formatReadableTime(n.get("duration"))}),"timeSelector"),this.select("durationSelector").text(this.formatTime(n.get("duration"))),this.updateAccessibility(e.__("accessibility:::Video duration: %duration%",{duration:this.formatReadableTime(n.get("duration"))}),"durationSelector"),this.showNode()):void 0}),this.on(n.rootNode(),t.VIDEO_DURATION_CHANGE,function(t,i){return this.enabled?(this.select("durationSelector").text(this.formatTime(i.duration)),this.updateAccessibility(e.__("accessibility:::Video duration: %duration%",{duration:this.formatReadableTime(i.duration)}),"durationSelector")):void 0}),this.on(n.rootNode(),t.VIDEO_TIME_UPDATE,function(t,i){return this.enabled?(this.select("timeSelector").text(this.formatTime(i.time)),this.updateAccessibility(e.__("accessibility:::Time elapsed: %time%",{time:this.formatReadableTime(i.time)}),"timeSelector")):void 0})})},r(s,o,a,u)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a,u,l,h,d;return n=i(40),r=i(3),o=i(94),t=i(5),e=i(99),a=i(100),u=i(170),l=i(175),h=i(102),d=i(172),s=function(){return this.attributes({tabindex:null,ariaLabel:e.__("accessibility:::Volume"),gradStopLeftSelector:".dmp_VolumeSlider-gstop-left",gradStopRightSelector:".dmp_VolumeSlider-gstop-right",tooltipText:e.__("tooltip:::Change volume"),railTrackSelector:".dmp_VolumeSlider-rail",valueTrackSelector:".dmp_VolumeSlider-volume",trackMargin:{start:10,end:10}}),this.updateSliderUI=function(t){return this.select("gradStopLeftSelector").attr("offset",t),this.select("gradStopRightSelector").attr("offset",t+.01),this.updateTooltipText(t)},this.updateTooltipText=function(e){var i;return i=parseInt(100*e,10),this.attr.tooltipText=this.attr.tooltipTextBase+": "+i+"%",this.trigger(t.UPDATE_TOOLTIP_REQUESTED,{targetSelector:this.attr.nodeSelector,text:this.attr.tooltipText,align:this.attr.tooltipAlign})},this.requestVolumeChange=function(){return this.trigger(t.VOLUME_CHANGE_REQUESTED,{volume:this.attr.sliderValue,muted:!1})},this.handleDragStart=function(){return this.requestVolumeChange()},this.handleDrag=function(){return this.requestVolumeChange()},this.handleDragEnd=function(){return this.attr.tooltipText=this.attr.tooltipTextBase},this.after("initialize",function(){return this.volume=1,this.muted=!1,n.canChangeVolume()?(this.attr.tooltipTextBase=this.attr.tooltipText,this.attr.sliderValue=null,this.on(r.rootNode(),t.SEQUENCE_STARTED,function(){return this.setAccessibility(this.attr.ariaLabel,this.attr.tabindex),this.showNode()}),this.on(r.rootNode(),t.SEQUENCE_ENDED,function(){return this.hideNode()}),this.on(r.rootNode(),t.VIDEO_VOLUME_CHANGED,function(t,e){var i;return this.volume=e.volume,this.muted=e.muted,i=this.muted?0:this.volume,this.attr.sliderValue!==i?this.setSliderValue(i):void 0})):void 0})},o(a,l,d,s,u,h)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a,u,l;return n=i(3),r=i(94),t=i(5),e=i(99),s=i(100),a=i(170),u=i(102),l=i(172),o=function(){return this.attributes({ariaLabel:e.__("accessibility:::Share"),tooltipAlign:"bottom",tooltipText:e.__("tooltip:::Share")}),this.after("initialize",function(){return this.enabled=n.settings("sharing.enable"),this.on(n.rootNode(),t.VIDEO_SELECTED,function(){return this.enabled&&null!=n.metadata("sharing")?(this.setAccessibility(this.attr.ariaLabel),this.showNode()):this.hideNode()}),this.on("click",function(){return this.trigger(t.OPEN_SHARE_PANE_REQUESTED)})})},r(s,l,o,a,u)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a,u;return n=i(94),t=i(5),e=i(99),o=i(100),s=i(170),a=i(102),u=i(172),r=function(){return this.attributes({tabindex:null,ariaLabel:e.__("accessibility:::Watch later"),tooltipAlign:"bottom",tooltipText:e.__("tooltip:::Watch later")}),this.after("initialize",function(){return this.showNode(),this.setAccessibility(this.attr.ariaLabel,this.attr.tabindex),this.on("click",function(){return this.trigger(t.DEBUG_VIDEO_ZOOM_TOGGLE_REQUESTED)})})},n(o,u,r,s,a)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s;return n=i(3),t=i(5),r=i(21),e=i(44),s=i(102),o=function(){return this.endScreenVisible=!1,this.chromecastSessionRunning=!1,this.sequenceEnded=!1,this.topMargin=this.bottomMargin=10,this.attributes({type:null}),this.getEndScreenWillOpenEventData=function(){throw new Error("getEndScreenWillOpenEventData() method must be overridden in the component")},this.onEndScreenDataChanged=function(){throw new Error("onEndScreenDataChanged() method must be overridden in the component")},this.displayEndscreen=function(){return!this.sequenceEnded||this.endScreenVisible||this.chromecastSessionRunning||null==this.data&&("none"!==this.endScreenType||"none"!==this.attr.type)?void 0:(this.endScreenVisible=!0,this.trigger(t.END_SCREEN_WILL_OPEN,this.getEndScreenWillOpenEventData()),this.isAndroidStockBrowser?this.showNode():this.cssFadeIn())},this.hideEndScreen=function(){return this.endScreenVisible?(this.endScreenVisible=!1,this.cssFadeOut(),this.trigger(t.END_SCREEN_WILL_CLOSE)):void 0},this.handleVideoSelectedEvent=function(){return this.endScreenType=null,this.action=null,this.data=null,this.sequenceEnded=!1},this.handleEndScreenDataChanged=function(t,e){var i;return this.endScreenType=e.type,this.endScreenType===this.attr.type?(this.action=n.settings("endscreen.action",n.metadata("endscreen.action")),this.data=(null!=(i=e.data)?i.length:void 0)>0||!$.isEmptyObject(e.data)?e.data:null,this.onEndScreenDataChanged()):(this.action=null,this.data=null,this.hideEndScreen())},this.handleSequenceEnded=function(){return this.sequenceEnded=!0,this.displayEndscreen()},this.after("initialize",function(){return this.isAndroidStockBrowser=r.isAndroidStockBrowser(),this.isAndroidStockBrowser||this.prepareCssTransition(),this.on(n.rootNode(),t.VIDEO_SELECTED,this.handleVideoSelectedEvent),this.on(n.rootNode(),t.END_SCREEN_DATA_CHANGED,this.handleEndScreenDataChanged),this.on(n.rootNode(),t.SEQUENCE_ENDED,this.handleSequenceEnded),this.on(n.rootNode(),[t.SEQUENCE_STARTED,t.LOAD_VIDEO,t.CHROMECAST_PREPARE_FOR_REMOTE].join(" "),function(){return this.sequenceEnded=!1,this.hideEndScreen()}),this.on(n.rootNode(),t.CHROMECAST_REMOTE_ENABLED,function(){return this.chromecastSessionRunning=!0,this.hideEndScreen()}),this.on(n.rootNode(),t.CHROMECAST_SESSION_STOPPED,function(){return this.chromecastSessionRunning=!1,this.hideEndScreen(),this.displayEndscreen()}),this.on(n.rootNode(),t.CONTROL_BAR_UPDATED,function(t,e){return this.bottomMargin=e.height,this.$node.css("padding-bottom",this.bottomMargin)}),this.on(n.rootNode(),t.DOCK_UPDATED,function(t,e){return this.topMargin=e.height+10,this.$node.css("padding-top",this.topMargin)})}),e.mixin(this,[s])}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t;return t=function(){return this.attachSubComponents=function(t){var e,i,n,r;null==t&&(t={}),n=this.attr.subComponents,r=[];for(i in n)e=n[i],r.push(e.constructor.attachTo(this.$node.find(e.selector),t));return r},this.teardownSubComponents=function(){var t,e,i,n;i=this.attr.subComponents,n=[];for(e in i)t=i[e],n.push(t.constructor.teardownAll());return n},this.after("teardown",function(){return this.teardownSubComponents()})}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o;return n=i(3),t=i(5),e=i(44),o=i(102),r=function(){return this.attributes({pointerSize:4,offset:5,enabled:!0}),this.lastPopoverTargetSelector=function(){return this._lastTargetSelector},this.lastPopoverAlign=function(){return this._lastAlign},this.showPopover=function(t,e){return this._lastTargetSelector=t,this._lastAlign=e,this.attr.enabled?(this._updatePosition(),this.showNode(),this._visible=!0):void 0},this.hidePopover=function(){return this.hideNode(),this._visible=!1},this._getPopoverSize=function(){var t,e,i,n,r,o;return o=this.$node.css("top"),t=this.$node.css("bottom"),e=this.$node.css("left"),r=this.$node.css("right"),this.$node.css({top:"",right:"",bottom:"",left:""}),this._visible?(n=this.$node.outerWidth(),i=this.$node.outerHeight()):(this.setInvisibility(),n=this.$node.outerWidth(),i=this.$node.outerHeight(),this.unsetInvisibility()),this.$node.css({top:o,right:r,bottom:t,left:e}),{width:n,height:i}},this._updatePosition=function(){var t,e,i,n,r,o,s,a,u,l,h,d,c,f,p,E;if(this._lastTargetSelector&&this._lastAlign)return t=this.$rootNode.find(this._lastTargetSelector),p=t.outerWidth(),d=t.outerHeight(),o=this._playerHeight-d,u=this._getPopoverSize(),l=this._fullscreen?0:this.$rootNode.offset().left,h=this._fullscreen?0:this.$rootNode.offset().top,c=t.offset().left-l+p/2,f=t.offset().top-h+d,E=Math.round(c-u.width/2),s=this.attr.offset,r=Math.max(E,s),e=Math.min(r,this._playerWidth-u.width-s),i=u.height>o?0:"","menu"!==this.attr.popoverType||!Modernizr.touch||"xs"!==this.horizontalBreakpoint.name&&"s"!==this.horizontalBreakpoint.name?(n=!1,a=c-e-this.attr.pointerSize):(n=!0,a=c-2*this.attr.pointerSize),"bottom"===this._lastAlign?(this.$node.addClass("dmp_Popover--bottom").css({left:n?0:e,right:n?0:"",top:f+this.attr.offset,bottom:i}),this.$pointer.css({left:a,bottom:"",top:-this.attr.pointerSize})):(this.$node.removeClass("dmp_Popover--bottom").css({left:n?0:e,right:n?0:"",bottom:d,top:i}),this.$pointer.css({left:a,bottom:-this.attr.pointerSize,top:""}))},this.insertPointer=function(){return this.$node.append('<div class="dmp_PopoverPointer">'),this.$pointer=this.$node.find(".dmp_PopoverPointer")},this.after("initialize",function(){return this.$rootNode=$(n.rootNode()),this.insertPointer(),this.on(n.rootNode(),t.BREAKPOINT_CHANGED,function(t,e){return this.horizontalBreakpoint=e.horizontalBreakpoint,this.verticalBreakpoint=e.verticalBreakpoint}),this.on(n.rootNode(),t.PLAYER_SIZE_CHANGED,function(t,e){return this._playerWidth=e.width,this._playerHeight=e.height,this._visible?this._updatePosition():void 0}),this.on(n.rootNode(),t.FULLSCREEN_ENTERED,function(){return this._fullscreen=!0,this._visible?this._updatePosition():void 0}),this.on(n.rootNode(),t.FULLSCREEN_EXITED,function(){return this._fullscreen=!1,this._visible?this._updatePosition():void 0})}),e.mixin(this,[o])}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a,u;return n=i(3),r=i(94),t=i(5),e=i(99),o=i(25).get("Quality"),a=i(180),u=i(102),s=function(){return this.attributes({id:"quality",menuItemSelector:".dmp_Menu-list-item",autoItemSelector:".dmp_quality-auto"}),this.buildMenuItem=function(t,e,i){return"<li class='dmp_Menu-list-item dmp_is-focusable dmp_quality-"+t+" dmp_u-cf' data-quality='"+t+"' role='menuitemradio' tabindex='0' aria-checked='false'>\n  <span class='dmp_Menu-list-item-text'>"+e+"</span>\n  <span class='dmp_Menu-list-item-tag'>"+i+"</span>\n</li>"},this.buildMenu=function(t){var i,n,r,o,s,a;if(null!=t){for(this.autoItem=null,o=e.__("quality:::Change quality"),r="<div class='dmp_Menu-title' id='dmp_QualityMenuContent-title'>"+o+"</div> <ul class='dmp_Menu-list'>",t.adaptiveSupported&&(r+=this.buildMenuItem("auto","Auto","")),a=t.qualities,i=0,n=a.length;n>i;i++)s=a[i],r+=this.buildMenuItem(s.name,s.label,s.tag);return r+="</ul>",this.$node.html(r),this.$node.attr("aria-labelledby","dmp_QualityMenuContent-title")}},this.updateCurrentMenuItem=function(t,i){var n;return null==i&&(i=!1),this.highlightCurrentMenuItem(".dmp_quality-"+(t.adaptive?"auto":t.qualityName||t.quality.name),i),null==this.autoItem&&(this.autoItem=this.select("autoItemSelector")),this.autoItem.text(t.adaptive&&null!=(null!=(n=t.quality)?n.label:void 0)?e.__("quality:::Auto (%quality%)",{quality:t.quality.label}):e.__("quality:::Auto"))},this.after("initialize",function(){return this.autoItem=null,this.on(n.rootNode(),t.QUALITIES_AVAILABLE,function(t,e){return this.buildMenu(e)}),this.on("click "+t.PRESSED_SPACE+" "+t.PRESSED_ENTER,{menuItemSelector:function(e,i){var n;return n=""+$(i.el).data("quality"),i="auto"===n?{adaptive:!0}:{adaptive:!1,qualityName:n},this.trigger(t.QUALITY_CHANGE_REQUESTED,i),this.trigger(t.HIDE_MENU_REQUESTED)}}),this.on(n.rootNode(),t.QUALITY_CHANGE_CONFIRMED,function(t,e){return this.updateCurrentMenuItem(e,!0)}),this.on(n.rootNode(),t.QUALITY_CHANGED,function(t,e){return this.updateCurrentMenuItem(e)})})},r(s,u,a)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a;return n=i(3),r=i(94),t=i(5),e=i(99),s=i(180),a=i(102),o=function(){return this.attributes({id:"subtitles",menuItemSelector:".dmp_Menu-list-item"}),this.buildMenu=function(t){var i,n,r,o,s;if(null!=t){t[-1]={label:e.__("subtitles:::None")},n=0,s=e.__("subtitles:::Set subtitles"),o="<div class='dmp_Menu-title' id='dmp_SubtitlesMenuContent-title'>"+s+"</div> <ul class='dmp_Menu-list'>";for(i in t)r=t[i],o+="<li class='dmp_Menu-list-item dmp_is-focusable dmp_subtitle-"+i+"' role='menuitemradio' data-subtitle='"+i+"' tabindex='0' aria-checked='false'>"+r.label+"</li>",n++;return o+="</ul>",this.$node.html(o),this.$node.attr("aria-labelledby","dmp_SubtitlesMenuContent-title"),this.updateCurrentMenuItem("-1")}},this.updateCurrentMenuItem=function(t){return this.highlightCurrentMenuItem(".dmp_subtitle-"+t)},this.after("initialize",function(){return this.on(n.rootNode(),t.VIDEO_SELECTED,function(){return this.buildMenu(n.metadata("subtitles.data"))}),this.on("click "+t.PRESSED_SPACE+" "+t.PRESSED_ENTER,{menuItemSelector:function(e,i){var r;return r=$(i.el).data("subtitle"),this.trigger(n.rootNode(),t.SUBTITLE_CHANGE_REQUESTED,{code:r}),this.trigger(t.HIDE_MENU_REQUESTED)}}),this.on(n.rootNode(),t.SUBTITLE_CHANGE_CONFIRMED,function(t,e){return this.updateCurrentMenuItem(e.code)})})},r(o,a,s)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a;return n=i(3),r=i(94),t=i(5),e=i(99),s=i(180),a=i(102),o=function(){return this.attributes({id:"speed",menuItemSelector:".dmp_Menu-list-item"}),this.buildMenu=function(t){var i,n,r,o,s,a;if(null!=t){for(o=e.__("speed:::Playback speed"),r="<div class='dmp_Menu-title' id='dmp_SpeedMenuContent-title'>"+o+"</div> <ul class='dmp_Menu-list'>",i=0,n=t.length;n>i;i++)s=t[i],a=1===s?e.__("speed:::Normal"):s+"x",r+="<li class='dmp_Menu-list-item dmp_is-focusable dmp_speed-"+100*s+" dmp_u-cf' role='menuitemradio' data-speed='"+s+"' aria-checked='false' tabindex='-1'>\n  <span class='dmp_Menu-list-item-text'>"+a+"</span>\n</li>";return r+="</ul>",this.$node.html(r),this.$node.attr("aria-labelledby","dmp_SpeedMenuContent-title")}},this.updateCurrentMenuItem=function(t){return this.highlightCurrentMenuItem(".dmp_speed-"+100*t)},this.after("initialize",function(){return this.on(n.rootNode(),t.VIDEO_SELECTED,function(){return this.buildMenu([2,1.5,1.25,1,.75,.5]),this.updateCurrentMenuItem(1)}),this.on("click "+t.PRESSED_SPACE+" "+t.PRESSED_ENTER,{menuItemSelector:function(e,i){return this.trigger(t.SPEED_CHANGE_REQUESTED,{speed:$(i.el).data("speed")}),this.trigger(t.HIDE_MENU_REQUESTED)}}),this.on(n.rootNode(),t.SPEED_CHANGE_CONFIRMED,function(t,e){return this.updateCurrentMenuItem(e.speed)})})},r(o,a,s)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r;return t=i(92),r=function(e,i){var n;return void 0===i&&(i=!0),n=[],t.times(e,function(){var e;return e=i===!0?t.random(0,61):t.random(0,9),e+=10>e?48:e>10&&36>e?55:61,n.push(e)}),String.fromCharCode.apply(this,n)},e=function(t){return window.btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"").trim()},n=function(){var t,e,i,n,r,o,s,a,u;for(i="L",n=0,e=0,u="",t="",r=0,a=[];n<i.length;){for(o=i.charAt(n),s="",n++;n<i.length&&null!==i.charAt(n).match(/[\d\*]/);)s+=i.charAt(n),n++;if(""===s&&(s=1),"*"===s&&(s=arguments.length-e),s>arguments.length-e)throw new Error("Warning: pack() Type "+o+"too few arguments");for(r=0;s>r;)u+=String.fromCharCode(255&arguments[e]),u+=String.fromCharCode(arguments[e]>>8&255),u+=String.fromCharCode(arguments[e]>>16&255),u+=String.fromCharCode(arguments[e]>>24&255),e++,r++}return u},{randomString:function(t,e){return r(t,e)},encodeBase64url:function(t){return e(t)},encodePackL:function(t){return n(t)}}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o;return e=i(3),t=i(5),n=i(21),r=i(25).get("Error"),o=function(){return this.fullscreenApi={supported:!1,type:null},this._fullscreenApiSupported=function(){return this.fullscreenApi.supported},this._setupNativeFullscreenApi=function(i,n){return this._fullscreenApiSupported()?void 0:null==n.videoTagSelector?void r.error("A videoTagSelector is required to setup the native fullscreen API"):(this.video=$(e.rootNode()).find(n.videoTagSelector)[0],this.video.webkitSupportsFullscreen?(this.fullscreenApi.enter="webkitEnterFullscreen",this.fullscreenApi.exit="webkitExitFullscreen",this.fullscreenApi.enabled="webkitSupportsFullscreen",this.fullscreenApi.displaying="webkitDisplayingFullscreen",this.fullscreenApi.supported=!0,this.fullscreenApi.type="native",this.trigger(t.FULLSCREEN_SUPPORTED,this.fullscreenApi),this.on(this.video,"webkitbeginfullscreen",function(){return this.trigger(t.FULLSCREEN_ENTERED)}),this.on(this.video,"webkitendfullscreen",function(){return this.trigger(t.FULLSCREEN_EXITED)})):void 0)},this._setupHtml5FullscreenApi=function(){var t,e,i,r,o,s,a,u,l,h;if(!n.isChromiumWebview()){for(r=["enter","exit","element","enabled","changeEvent","errorEvent"],a=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],h=[],t=0,o=a.length;o>t;t++){if(l=a[t],l[1]in document){for(e=i=0,s=l.length;s>i;e=++i)u=l[e],this.fullscreenApi[r[e]]=u;this.fullscreenApi.supported=!0,this.fullscreenApi.type="html5";break}h.push(void 0)}return h}},this._isFullscreen=function(){return"html5"===this.fullscreenApi.type?null!=document[this.fullscreenApi.element]:this.video[this.fullscreenApi.displaying]},this._isFullscreenEnabled=function(){return"html5"===this.fullscreenApi.type?document[this.fullscreenApi.enabled]:!0},this._enterFullscreen=function(){return"html5"===this.fullscreenApi.type?this.node[this.fullscreenApi.enter]():this.video[this.fullscreenApi.enter]()},this._exitFullscreen=function(){return"html5"===this.fullscreenApi.type?document[this.fullscreenApi.exit]():this.video[this.fullscreenApi.exit]()},this.toggleFullscreen=function(){if(this.fullscreenApi.supported){if(this._isFullscreenEnabled())return this._isFullscreen()?this._exitFullscreen():this._enterFullscreen();throw new Error("Can't toggle fullscreen, probably missing allowfullscreen attribute on <iframe>")}throw new Error("Browser doesn't support any fullscreen API")},this.after("initialize",function(){return this._setupHtml5FullscreenApi(),this.on(e.rootNode(),[t.VIDEO_LOADED_METADATA,t.AD_VIDEO_STARTED].join(" "),this._setupNativeFullscreenApi),this.on(e.rootNode(),t.COMPONENTS_READY,function(){return this.fullscreenApi.supported?this.trigger(t.FULLSCREEN_SUPPORTED,this.fullscreenApi):void 0}),this.on(e.rootNode(),[t.EXPAND_PLAYER_SIZE_REQUESTED,t.REDUCE_PLAYER_SIZE_REQUESTED].join(" "),function(){return this._isFullscreen()?this._exitFullscreen():void 0}),this.on(e.rootNode(),t.SEQUENCE_ENDED,function(){return this._isFullscreen()&&n.isMobile()?this._exitFullscreen():void 0}),this.on(document,this.fullscreenApi.changeEvent,function(){return this.notifyPlayerResize(),this.trigger(this._isFullscreen()?t.FULLSCREEN_ENTERED:t.FULLSCREEN_EXITED)})})}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o;return r=i(94),n=i(3),t=i(5),e=i(40),o=function(){return this.isLive=!1,this.hideFullscreenButtonForLive=function(){return this.$node.toggleClass("dmp_hide-native-fullscreen",this.isLive)},this.after("initialize",function(){return e.fullscreenCrashesLiveVideos()?this.on(n.rootNode(),t.VIDEO_SELECTED,function(){return this.isLive="live"===n.metadata("stream_type")}):void 0})}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e;return t=i(5),e=function(){return this._notifyImagePreloaded=function(e){return this.trigger(t.IMAGE_PRELOADED,{width:e.target.width,height:e.target.height,src:e.target.src})},this._notifyImagePreloadError=function(){return this.trigger(t.IMAGE_PRELOAD_ERROR)},this.preloadImage=function(t){var e;return t?(e=new Image,this.on(e,"load",this._notifyImagePreloaded),this.on(e,"error",this._notifyImagePreloadError),e.src=t):void this._notifyImagePreloadError()}}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t;return t=null,{loadDynamicQualitySwitcher:function(e){return t=e,i.e(2,function(){var n;if(t===e)return n=i(181),t(n)})},loadAudienceClient:function(t){return i.e(3,function(){return i(194),t()})}}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a,u,l,h,d;return s=i(94),o=i(3),t=i(5),r=i(92),a=i(4),e=i(182),h=i(183),d=i(184),n=i(49),u=i(25).get("StaticQuality"),l=function(){return this.hasFallbackedToProgressive=!1,this.waitForQualityList=function(){var i,n;return i=$.Deferred(),n=e.createFromConfig(this.attr.qualities),this.trigger(t.CAN_PLAY_ONE_SOURCE,{ok:n.hasOnePlayableQuality()}),i.resolve(this.setQualityList(n)),i.promise()},this.getStats=function(){return this.trigger(t.QUALITY_STATS_RESPONDED)},this.sanitizeQualityState=function(t,e){return null==e&&(e=null),t.adaptive&&this.qualityList.adaptiveSupported()&&(t.quality=this.qualityList.getAutoQuality(e)),t},this.changeQuality=function(e,i,n){var r,o,s;return null==n&&(n=!1),this.notifyQualityChangeConfirmed(e,i),o=e.quality.resource,r=!this.videoTag.paused,s=this.videoTag.currentTime,this.speedBeforeQualitySwitch=this.videoTag.playbackRate,this._setVideoTag(o.url,o.type).then(function(e){return function(){return(r||n)&&e.videoTag.play(),s?e.trigger(t.SEEK_REQUESTED,{time:s}):void 0}}(this))},this.getVideoSrc=function(t){var e;return e=$.Deferred(),e.resolve(t),e.promise()},this._setVideoTag=function(t,e){return this.getVideoSrc(t,e).then(function(t){return function(i){var r;return t.videoTag.src=i,r=function(){switch(e){case n.HLS:return"application/vnd.apple.mpegurl";case n.MP4:return"video/mp4";default:return!1}}(),r?t.videoTag.setAttribute("type",r):void 0}}(this))},this.checkStaticQualityChanged=function(){var t,i;return i=this.getNextQualityState(),"source"!==i.quality.name&&"audio"!==i.quality.name&&(t=e.getNumericQualityNameFromVideoSize(this.videoTag.videoWidth,this.videoTag.videoHeight),i.quality=this.qualityList.getQualityForName(t),i=this.sanitizeQualityState(i,t)),this.notifyQualityChanged(i)},this.handleLoadedmetadataEvent=function(){return this.checkStaticQualityChanged(),this.trigger(t.VIDEO_LOADED_METADATA,{videoTagSelector:this.attr.videoTagSelector}),1!==this.speedBeforeQualitySwitch?this.trigger(t.SPEED_CHANGE_REQUESTED,{speed:this.speedBeforeQualitySwitch}):void 0},this.handleCanplayEvent=function(){},this.handleLoadeddataDataEvent=function(){},this.handlePlaying=function(){return this.lastTriggeredError=null},this.handleErrorEvent=function(e){var i,n;return i=e.target.error,u.error("Got video error:",i.code),n=function(){switch(!1){case i.code!==i.MEDIA_ERR_ABORTED:return a.MEDIA_ERR_ABORTED;case i.code!==i.MEDIA_ERR_NETWORK:return a.MEDIA_ERR_NETWORK;case i.code!==i.MEDIA_ERR_DECODE:return a.MEDIA_ERR_DECODE;case i.code!==i.MEDIA_ERR_SRC_NOT_SUPPORTED:return a.MEDIA_ERR_SRC_NOT_SUPPORTED;default:return a.PLAYER_ERR_UNKNOWN}}(),n===a.MEDIA_ERR_SRC_NOT_SUPPORTED&&!this.hasFallbackedToProgressive&&this.getNextQualityState().adaptive&&"live"!==o.metadata("stream_type")?(u.warn("Adaptative failed. Fallback to progressive stream"),this.fallbackToProgressive()):this.lastTriggeredError!==n?(this.lastTriggeredError=n,this.trigger(t.ERROR_PLAYER,{error:n})):void 0},this.fallbackToProgressive=function(){return this.hasFallbackedToProgressive=!0,this.qualityList.setStaticAdaptive(null),this.setInitialQualityState(),this.trigger(t.QUALITY_CHANGE_REQUESTED,{startPlayback:!0})},this.streamTech=function(){return"native"},this.after("bindMediaEvents",function(){return this.on(this.videoTag,"canplay",this.handleCanplayEvent),this.on(this.videoTag,"loadeddata",this.handleLoadeddataDataEvent),this.on(this.videoTag,"playing",this.handlePlaying)}),this.after("unbindMediaEvents",function(){return this.off(this.videoTag,"canplay",this.handleCanplayEvent),this.off(this.videoTag,"loadeddata",this.handleLoadeddataDataEvent),this.off(this.videoTag,"playing",this.handlePlaying)}),this.after("initialize",function(){return u.log("Initialized"),this.on(t.LOAD_VIDEO,function(){return this.teardown()}),this.setup()}),this.after("teardown",function(){return u.log("Torn down"),this.unbindMediaEvents()
})},s(h,l,d)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s;return n=i(3),t=i(5),e=i(44),r=i(185),s=i(102),o=function(){return this.openPane=function(e){return this.trigger(t.VIDEO_INTERRUPT_REQUESTED,{reason:"Modal dialog - "+this.attr.modalId}),this._show(),null!=e?e.focus():void 0},this.closePane=function(e){return null==e&&(e="fast"),this._hide(e),this.trigger(t.VIDEO_RESUME_REQUESTED,{reason:"Modal dialog - "+this.attr.modalId})},this._show=function(){return this.visible?void 0:(this.trigger(t.MODAL_WILL_OPEN,{id:this.attr.modalId}),this.jsFadeIn("fast"),this.trapFocus(),this.visible=!0)},this._hide=function(e){return null==e&&(e="fast"),this.visible?(this.trigger(t.MODAL_WILL_CLOSE,{id:this.attr.modalId}),this.jsFadeOut(e),this.releaseFocus(),this.visible=!1):void 0},this.after("initialize",function(){return this.on(n.rootNode(),t.MODAL_WILL_OPEN,function(t,e){return e.id!==this.attr.modalId?this._hide():void 0}),this.on(n.rootNode(),t.LOAD_VIDEO,function(){return this.closePane(0)})}),e.mixin(this,[r,s])}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t;return t=function(){return this.attributes({popupWidth:500,popupHeight:500}),this._windowOptions=function(t,e){return"scrollbars=yes,resizable=yes,toolbar=no,location=yes,width="+this.attr.popupWidth+",height="+this.attr.popupHeight+",left="+e+",top="+t},this.openLink=function(t){return window.open(t)},this.openPopup=function(t,e){var i,n;return n=Math.round((screen.height-this.attr.popupHeight)/2),i=Math.round((screen.width-this.attr.popupWidth)/2),window.open(t,e,this._windowOptions(n,i))}}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t;return t=function(){function t(t){this.data=t.replace(/^\s/g,"").replace(/(\r\n|\r)/g,"\n").replace(/\n{2,}/g,"\n\n")}var e,i;return i=function(t){var e,i,n,r,o;return e=3600*parseInt(t[0],10),n=60*parseInt(t[1],10),o=t[2].split(/[\.,]/),r=parseInt(o[0],10),i=.001*parseInt(o[1],10),e+n+r+i},e=function(t){var e;return e=t.split(" --> "),[i(e[0].split(":")),i(e[1].split(":"))]},t.prototype.parse=function(){var t,i,n,r,o,s,a,u,l,h;for(h=this.data.split("\n\n"),o=[],i=0,r=h.length;r>i;i++)if(l=h[i],a=l.split("\n"),a.length>=3){for(n=parseInt(a.shift(),10),s=e(a.shift()),u=s[0],t=s[1];a.length>0&&/^\s*$/.test(a[a.length-1]);)a.pop();a.length>0&&o.push({id:n,start:u,end:t,text:a})}return o},t}()}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n,r=[].slice,o=function(t,e){function i(){this.constructor=t}for(var n in e)s.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},s={}.hasOwnProperty;n=function(){var t,e,i;return i=document.createElement("a"),e=function(){function t(t,e,i,n,r,o,s){this.protocol=t,this.host=e,this.hostname=i,this.port=n,this.pathname=null!=r?r:"",this.search=null!=o?o:"",this.hash=null!=s?s:"",this.href=this.protocol?this.protocol+"//"+this.host+this.pathname+this.search+this.hash:this.host?"//"+this.host+this.pathname+this.search+this.hash:this.pathname+this.search+this.hash}return t.prototype.params=function(e){return null==this._params&&(this._params=t.parseQueryString(this.search)),e?this._params[e]?this._params[e][0]:null:this._params},t.regexp=/^(?:(https?:)\/\/(([^:\/]+)(:[^\/]+)?))?([^#?]*)(\\?[^#]*)?(#.*)?$/,t.parse=function(e){var i,n,o;return o=e.match(this.regexp),i=o[0],n=2<=o.length?r.call(o,1):[],o?function(t,e,i){i.prototype=t.prototype;var n=new i,r=t.apply(n,e);return Object(r)===r?r:n}(t,n,function(){}):null},t.parseQueryString=function(t,e){var i,n,r,o,s,a,u;if(null==e&&(e=!1),a={},""===t)return a;for(s=t.substring(1).split(/[;&]/),i=0,r=s.length;r>i;i++)o=s[i],o=o.split("="),n=decodeURIComponent(o[0]),u=decodeURIComponent(o[1]),e===!0?a[n]=u:(a[n]||(a[n]=[]),a[n].push(u));return a},t.appendQueryStringParameter=function(t,e){return i.href=t,t+=""+(i.search.length?"&":"?")+e,i.href="",t},t}(),t=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return o(e,t),e.prototype.params=function(t){var i;return i=function(t,e){var n,r,o,s,a,u,l;for(null==e&&(e=/[&]/),u={},a=t.split(e),n=0,o=a.length;o>n;n++)s=a[n],s=s.split("="),r=decodeURIComponent(s[0]),l=s.length<=2?decodeURIComponent(s[1]):i(s.slice(1).join("="),/[;]/),u[r]||(u[r]=[]),u[r].push(l);return u},this._params?e.__super__.params.call(this,t):this._params=i(this.search.substring(1))},e.parse=function(t){var i,n,o;return o=t.match(this.regexp),i=o[0],n=2<=o.length?r.call(o,1):[],o?function(t,e,i){i.prototype=t.prototype;var n=new i,r=t.apply(n,e);return Object(r)===r?r:n}(e,n,function(){}):null},e}(e),{Location:e,AuditudeLocation:t}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s;return r=i(94),n=i(3),t=i(5),e=i(44),o=i(104),s=function(){return this.CURRENT_TIME_STORAGE_KEY="dmp_currenttime",this.saveCurrentTime=function(t){return this.set(this.CURRENT_TIME_STORAGE_KEY,t,30)},this.hasSavedCurrentTime=function(){return!$.isEmptyObject(this.savedCurrentTime)&&this.savedCurrentTime.xid===n.metadata("id")&&this.savedCurrentTime.currentTime>0},this.getSavedCurrentTime=function(){var t;return this.hasSavedCurrentTime()?(t=this.savedCurrentTime.currentTime,this.remove(this.CURRENT_TIME_STORAGE_KEY),this.savedCurrentTime={},t):0},this.after("initialize",function(){return this.savedCurrentTime=this.get(this.CURRENT_TIME_STORAGE_KEY)}),e.mixin(this,[o])}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a;return o=i(94),r=i(3),e=i(5),t=i(186),s=i(25).get("AdLinearSlot"),a=i(103),n=function(){return this.attributes({videoTagSelector:null,videoWrapperTagSelector:null,position:null,podSlots:null,size:null}),this.attachAdVideoComponent=function(){return t.attachTo(r.rootNode(),{videoTagSelector:this.attr.videoTagSelector,videoWrapperTagSelector:this.attr.videoWrapperTagSelector,position:this.attr.position,size:this.attr.size})},this.handleAdFetcherResponded=function(t,e){return(null!=e?e.hasMediaFile:void 0)?this.attachAdVideoComponent():(s.log("No mediaFile"),this.teardown())},this.doTeardown=function(){return this.teardown()},this.after("initialize",function(){return this.chromecastPreparingForRemote=!1,this.on([e.AD_STOPPED,e.AD_FAILED,e.LOAD_VIDEO].join(" "),function(){return this.teardown()}),this.on(e.CHROMECAST_PREPARE_FOR_REMOTE,function(){return this.chromecastPreparingForRemote=!0}),this.on(e.AD_FETCHER_RESPONDED,this.handleAdFetcherResponded),s.groupCollapsed("Initialized",this.attr.position),this.asyncTrigger(e.AD_LINEAR_SLOT_STARTED,{position:this.attr.position}),this.asyncTrigger(e.AD_FETCHER_REQUESTED,{position:this.attr.position,podSlots:this.attr.podSlots})}),this.after("teardown",function(){return s.log("Torn down"),s.groupEnd(),this.trigger(e.AD_LINEAR_SLOT_ENDED,{position:this.attr.position,chromecastPreparingForRemote:this.chromecastPreparingForRemote})})},o(n,a)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a;return r=i(94),n=i(3),t=i(5),e=i(187),o=i(25).get("VideoSlot"),a=i(103),s=function(){return this.attributes({videoTagSelector:null,videoWrapperTagSelector:null,isVideoStart:null,startAt:null,replay:null,chromecastRemoteEnabled:null}),this.getVideoParam=function(){return{videoTagSelector:this.attr.videoTagSelector,videoWrapperTagSelector:this.attr.videoWrapperTagSelector,isVideoStart:this.attr.isVideoStart,startAt:this.attr.startAt,replay:this.attr.replay}},this.doTeardown=function(){return this.teardown()},this.after("initialize",function(){return this.on(t.LOAD_VIDEO,this.doTeardown),this.on(t.VIDEO_ENDED,this.doTeardown),this.on(t.AD_STARTED,this.doTeardown),this.on(t.CHROMECAST_SESSION_STOPPED,function(i,r){return this.attr.startAt=null!=r?r.currentTime:void 0,e.attachTo(n.rootNode(),this.getVideoParam()),(null!=r?r.volume:void 0)?this.trigger(t.VIDEO_VOLUME_CHANGED,r.volume):void 0}),o.groupCollapsed("Initialized"),this.asyncTrigger(t.VIDEO_SLOT_STARTED),this.attr.chromecastRemoteEnabled?void 0:e.attachTo(n.rootNode(),this.getVideoParam())}),this.after("teardown",function(){return o.log("Torn down"),o.groupEnd(),this.trigger(t.VIDEO_SLOT_ENDED,{duration:this.duration})})},r(s,a)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e;return t=i(5),e=function(){return this.updateVolume=function(){throw new Error("updateVolume() method must be overridden")},this.handleVolumeChangeRequestedEvent=function(t,e){var i,n;return i=Math.max(0,Math.min(e.volume,1)),n=!!e.muted,this.volumeInternalSet=e.internal?!0:!1,this.updateVolume(i,n)},this.triggerVideoVolumeChangeEvent=function(e,i){return this.trigger(t.VIDEO_VOLUME_CHANGED,{volume:e,muted:i,internal:this.volumeInternalSet})}}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t;return t=function(){return this._scaleChildToFitParentWidth=function(t,e){var i,n,r,o;return o=t.width,i=o/e,r=parseInt((t.height-i)/2,10),n=0,{width:o,height:i,top:r,left:n}},this._scaleChildToFitParentHeight=function(t,e){var i,n,r,o;return i=t.height,o=i*e,r=0,n=parseInt((t.width-o)/2,10),{width:o,height:i,top:r,left:n}},this.getParentSize=function(t){var e;return t.hasClass("dmp_is-hidden")?(this.setInvisibility(t),e={height:t.height(),width:t.width()},this.unsetInvisibility(t)):e={height:t.height(),width:t.width()},e},this.scaleToFitParent=function(t,e){var i,n,r;return r=this.getParentSize(t.parent()),n=r.width/r.height,i=e>n?this._scaleChildToFitParentWidth(r,e):this._scaleChildToFitParentHeight(r,e),t.css(i),{width:i.width,height:i.height}},this.scaleToFillParent=function(t,e){var i,n,r;return r=this.getParentSize(t.parent()),n=r.width/r.height,i=e>n?this._scaleChildToFitParentHeight(r,e):this._scaleChildToFitParentWidth(r,e),t.css(i),{width:i.width,height:i.height}}}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a,u;return n=i(3),r=i(94),t=i(5),e=i(99),s=i(100),a=i(134),u=i(102),o=function(){return this.attributes({tabindex:null,altText:e.__("watermark:::Dailymotion partner watermark"),ariaLabel:e.__("accessibility:::Dailymotion partner watermark"),imgSelector:".dmp_Watermark-img",margin:12,maxArea:3e3}),this.insertImage=function(t){var e;return e=this.attr.altText,this.$node.append("<img class='dmp_Watermark-img' src='"+t+"' alt='"+e+"' />"),this.setAccessibility(this.attr.ariaLabel,-1)},this.setImageSize=function(t,e){var i,n,r,o;return n=Math.floor(t/2),r=Math.floor(e/2),o=r/n,i=r*n,i>this.attr.maxArea&&(r=Math.sqrt(this.attr.maxArea*o),n=r/o),e>=t?this.select("imgSelector").attr("height",n):this.select("imgSelector").attr("width",r)},this.alignLogo=function(t){return null==t&&(t="right"),"left"===t?this.$node.css("left",this.attr.margin):this.$node.css("right",this.attr.margin)},this.setLinkSrc=function(t){return this.$node.attr("href",t)},this.after("initialize",function(){return this.watermark=null,this.on(n.rootNode(),t.VIDEO_SELECTED,function(){var t,e;return this.watermark={link_url:n.metadata("url")},(e=n.settings("ui.watermark_url")||n.metadata("ui.watermark_url"))&&(this.watermark.url=e),(t=n.settings("ui.watermark_link_url")||n.metadata("ui.watermark_link_url"))&&(this.watermark.link_url=t),null!=this.watermark.url?this.preloadImage(this.watermark.url):void 0}),this.on(n.rootNode(),t.VIDEO_SLOT_ENDED,function(){return this.hideNode()}),this.on(n.rootNode(),t.LOAD_VIDEO,function(){return this.hideNode(),this.$node.empty()}),this.on(n.rootNode(),t.VIDEO_SLOT_STARTED,function(){return null!=this.watermark.url?this.showNode():void 0}),this.on(t.IMAGE_PRELOADED,function(t,e){return this.insertImage(e.src),this.setImageSize(e.height,e.width),this.alignLogo(),this.setLinkSrc(this.watermark.link_url)})})},r(o,s,a,u)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o;return n=i(94),e=i(3),t=i(5),o=i(102),r=function(){return this.attributes({contentNodeSelector:null,textSelector:".dmp_SubtitleView-text"}),this.setFontStyles=function(t){var e,i,n,r;return n=11,i=26,r=3,e=t/100*r,e>i?e=i:n>e&&(e=n),this.$node.css({"font-size":e+"px"})},this.after("initialize",function(){return this.on(e.rootNode(),t.LOAD_VIDEO,function(){return this.hideNode()}),this.on(e.rootNode(),t.PLAYER_SIZE_CHANGED,function(t,e){return this.setFontStyles(e.width)}),this.on(e.rootNode(),t.SUBTITLE_TEXT_UPDATED,function(t,e){var i,n;return(null!=e&&null!=(n=e.lines)?n.length:void 0)?(i=e.lines.join("<br />"),this.select("textSelector").html(i),this.showNode()):this.hideNode()})})},n(r,o)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a,u;return r=i(3),o=i(94),t=i(5),e=i(99),s=i(100),a=i(102),u=i(172),n=function(){return this.attributes({ariaLabel:e.__("accessibility:::Skip to video"),nodeSelector:null,tooltipText:e.__("ads:::Skip to video"),tooltipAlign:"bottom"}),this.after("initialize",function(){return this.on(r.rootNode(),t.COMPONENTS_READY,function(){return this.hideNode()}),this.on(r.rootNode(),t.AD_VIDEO_SKIPPABLE_STATE,function(t,e){return e.adSkippable?this.showNode():this.hideNode()}),this.on("click",function(){return this.trigger(t.SKIP_AD_REQUESTED)}),this.on(r.rootNode(),[t.AD_STOPPED,t.LOAD_VIDEO].join(" "),function(){return this.hideNode(),this._mouseOverButton?this.requestTooltipHide():void 0})})},o(s,u,n,a)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t;return t=function(){function t(e){t.setEvents(["SESSION_START","SESSION_END","EXIT"]),t.setEvents(e),this.managers=[],this.filters={},this.inited=!1}return t.setEvents=function(t){var e,i,n;for(i=0,n=t.length;n>i;i++)e=t[i],this[e]=e},t.getInstance=function(){return{trigger:function(){}}},t.prototype.register=function(t){this.managers.push(t)},t.prototype.reset=function(){this.map(function(t){t.reset()})},t.prototype.defineInclusiveFilter=function(t,e){return this.filters[t]={inclusive:!0,events:e}},t.prototype.defineExclusiveFilter=function(t,e){return this.filters[t]={inclusive:!1,events:e}},t.prototype.trigger=function(t,e){this.activeFilter&&this.activeFilter.inclusive!==(-1!==this.activeFilter.events.indexOf(t))||this.map(function(i){i.trigger(t,e)})},t.prototype.enable=function(){this.filter(null),this.map(function(t){t.enabled=!0})},t.prototype.disable=function(){this.filter(null),this.map(function(t){t.enabled=!1})},t.prototype.filter=function(t){this.activeFilter=this.filters[t]||null,this.map(function(e){"function"==typeof e.filter&&e.filter(t)})},t.prototype.map=function(t){var e,i,n,r;for(r=this.managers,e=0,i=r.length;i>e;e++)n=r[e],t(n)},t}()}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a;return r=i(94),n=i(3),a=i(188),t=i(149),e=i(189),s=i(25).get("eStat"),o=function(){return this.attributes({videoTagSelector:null}),this.enabled=function(){return null!=n.metadata("reporting.estat")},this.setup=function(){var r,o,a,u,l;return s.log("Setting up!"),u={dom:n.settings("app"),logger:s},r=new e(u),l=this.select("videoTagSelector")[0],o=!0,a=!0,r.on(t.VIDEO_INFOS,function(t,e){var n,r,u;return r=null!=(u=e.reporting)?u.estat:void 0,o=!0,this.stopTracking(),r?(n={serial:r,title:e.title,tags:e.tags,channel:e.channel,duration:e.duration,url:e.url},s.log("eStat tracking enabled :",n),null==window.eStat_PJS&&(window.eStat_PJS=function(t){return function(){return t.setVideoInfo(n,l)}}(this)),i.e(4,function(t){return function(){return i(199),a?a=!1:t.setVideoInfo(n,l)}}(this))):(s.log("Not any eStat data -> disabling"),void this.setVideoInfo({serial:null}))}),r.on(t.VIDEO_TIME_UPDATE,function(){return o?(o=!1,this.track({state:"play",pos:this.lastTime})):void 0}),r.on([t.CONTROLS_PAUSE,t.CONTROLS_SEEK,t.VIDEO_WAITING],function(t,e){return o?void 0:(o=!0,this.track({state:"pause",pos:(null!=e?e.lastTime:void 0)?e.lastTime:e.currentTime}))}),r.on(t.VIDEO_END,function(t,e){return o=!0,this.track({state:"stop",pos:e.currentTime}),this.stopTracking()}),r}},r(a,o)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o;return n=i(94),e=i(3),t=i(5),o=i(190),r=function(){return this.topicName="advertising",this.getTopicAttributes=function(){return{ad_type:this.adPosition,ad_provider:"LIVERAIL"}},this.onAdError=function(t,e){return this.sendEventToEventBus(t,e),this.off(t.type,this.onAdError)},this.onAdSdkReady=function(t,e){return this.adCumulativeTime+=e.timeoutInfo.loadAd,this.sendEventToEventBus(t,e),this.off(t.type,this.onAdSdkReady)},this.onAdLoaded=function(t,e){return this.adCumulativeTime+=e.timeoutInfo.initAd,this.sendEventToEventBus(t,e),this.off(t.type,this.onAdLoaded)},this.onAdStarted=function(t,e){return this.adStartedTime=t.timeStamp,this.adCumulativeTime+=e.timeoutInfo.startAd,this.sendEventToEventBus(t,e),this.off(t.type,this.onAdStarted)},this.onAdImpression=function(t){return this.impressionStartedTime=t.timeStamp,this.sendEventToEventBus(t),this.off(t.type,this.onAdImpression)},this.onAdVideoStarted=function(t,e){return this.adCumulativeTime+=e.timeoutInfo.bufferAd,this.videoStartedTime=t.timeStamp,this.sendEventToEventBus(t,e),this.off(t.type,this.onAdVideoStarted)},this.onVideoPaused=function(){return this.adPaused=!0},this.onAdVideoStopped=function(t,e){return this.sendEventToEventBus(t,{timeStamp:t.timeStamp,endedReason:e.endedReason}),this.off(t.type,this.onAdVideoStopped)},this.bindEvents=function(e,i){return this.adEndedReason="unknown",this.adPaused=!1,this.adNonSkippableDuration=0,this.adCumulativeTime=0,this.adPosition=i.position,this.on(t.AD_ERROR,this.onAdError),this.on(t.AD_SDK_READY,this.onAdSdkReady),this.on(t.AD_LOADED,this.onAdLoaded),this.on(t.AD_STARTED,this.onAdStarted),this.on(t.AD_IMPRESSION,this.onAdImpression),this.on(t.AD_VIDEO_STARTED,this.onAdVideoStarted),this.on(t.AD_VIDEO_STOPPED,this.onAdVideoStopped),this.on(t.VIDEO_PAUSE,this.onVideoPaused),this.on(t.LOAD_VIDEO,this.unbindEvents)},this.unbindEvents=function(){return this.off(t.AD_ERROR,this.onAdError),this.off(t.AD_SDK_READY,this.onAdSdkReady),this.off(t.AD_LOADED,this.onAdLoaded),this.off(t.AD_STARTED,this.onAdStarted),this.off(t.AD_IMPRESSION,this.onAdImpression),this.off(t.AD_VIDEO_STARTED,this.onAdVideoStarted),this.off(t.AD_VIDEO_STOPPED,this.onAdVideoStopped),this.off(t.VIDEO_PAUSE,this.onVideoPaused),this.off(t.LOAD_VIDEO,this.unbindEvents)},this.after("initialize",function(){return this.registerEventDefinition(t.AD_ERROR,{name:"adError",data:function(t){return{error_type:t.type,message:t.message}}}),this.registerEventDefinition(t.AD_SDK_READY,{name:"adSdkReady",data:function(t){return{ad_sdk_ready_time:t.timeoutInfo.loadAd,ad_global_timeout_time:t.timeoutInfo.globalAdTimeout}}}),this.registerEventDefinition(t.AD_LOADED,{name:"adLoaded",data:function(t){return{ad_loaded_time:t.timeoutInfo.initAd,ad_global_timeout_time:t.timeoutInfo.globalAdTimeout}}}),this.registerEventDefinition(t.AD_STARTED,{name:"adStarted",data:function(t){return{ad_started_time:t.timeoutInfo.startAd,ad_cumulative_time:this.adCumulativeTime,ad_global_timeout_time:t.timeoutInfo.globalAdTimeout}}}),this.registerEventDefinition(t.AD_IMPRESSION,{name:"adImpression",data:function(){return{ad_impression_time:this.impressionStartedTime-this.adStartedTime}}}),this.registerEventDefinition(t.AD_VIDEO_STARTED,{name:"adVideoStarted",data:function(t){return{ad_video_started_time:t.timeoutInfo.bufferAd,ad_cumulative_time:this.adCumulativeTime}}}),this.registerEventDefinition(t.AD_VIDEO_STOPPED,{name:"adEnded",data:function(t){return{ad_paused:this.adPaused,ad_displayed_time:t.timeStamp-this.videoStartedTime,ad_ended_reason:t.endedReason,ad_imp_vstart_interval:this.impressionStartedTime-this.videoStartedTime}}}),this.on(t.AD_LINEAR_SLOT_STARTED,this.bindEvents),this.on(t.AD_LINEAR_SLOT_ENDED,this.unbindEvents)})},n(o,r)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a;return r=i(94),e=i(40),n=i(3),t=i(5),s=i(190),a=i(191),o=function(){var e,i;return this.topicName="life_cycle",e="TIMEUPDATE_FIRST",i="TIMEUPDATE_SECOND",this.onVideoStart=function(e){return this.videoStartTime=(new Date).getTime(),this.nbTimeUpdate=0,this.previousTime=0,this.sendEventToEventBus(e),this.off(t.VIDEO_LOADED_DATA,this.onVideoLoadedData),this.on(t.VIDEO_LOADED_DATA,this.onVideoLoadedData),this.off(t.VIDEO_PLAYING,this.onVideoPlaying),this.on(t.VIDEO_PLAYING,this.onVideoPlaying),this.off(t.VIDEO_TIME_UPDATE,this.onVideoTimeUpdate),this.on(t.VIDEO_TIME_UPDATE,this.onVideoTimeUpdate)},this.onVideoLoadedData=function(t){return this.sendEventToEventBus(t),this.off(t.type,this.onVideoLoadedData)},this.onVideoPlaying=function(t){return this.sendEventToEventBus(t),this.off(t.type,this.onVideoPlaying)},this.onVideoTimeUpdate=function(t,n){var r;return r=0===this.nbTimeUpdate?e:this.nbTimeUpdate>0&&n.time>this.previousTime?(this.off(t.type,this.onVideoTimeUpdate),i):void 0,null!=r&&this.sendEventToEventBus({type:r},{time:n.time}),this.previousTime=n.time,this.nbTimeUpdate++},this.onAdStarted=function(t,e){return this.adStartedTime=(new Date).getTime(),this.sendEventToEventBus(t,e)},this.onAnnotationChangeConfirmed=function(t,e){return e.enabled?this.sendEventToEventBus(t):void 0},this.getStartTimeData=function(){var t;return t=(new Date).getTime()-this.videoStartTime,t>0&&6e4>t?{start_time:t}:{}},this.after("initialize",function(){return this.registerEventDefinition(t.COMPONENTS_READY,{name:"initEnd",data:function(t){var e;return e=t.time-n.context("init_start_time"),{init_time:e>0&&6e4>e?e:6e4}}}),this.registerEventDefinition(t.AD_BLOCKER_DETECTED,{name:"adBlockerDetected"}),this.registerEventDefinition(t.VIDEO_START,{name:"videoStart"}),this.registerEventDefinition(t.VIDEO_LOADED_DATA,{name:"videoLoadedData",data:function(){return this.getStartTimeData()}}),this.registerEventDefinition(t.VIDEO_PLAYING,{name:"videoPlaying",data:function(){return this.getStartTimeData()}}),this.registerEventDefinition(e,{name:"videoTimeupdate1st",data:function(t){return $.extend(this.getStartTimeData(),t)}}),this.registerEventDefinition(i,{name:"videoTimeupdate2nd",data:function(t){return $.extend(this.getStartTimeData(),t)}}),this.registerEventDefinition(t.VIDEO_ENDED,{name:"videoEnd"}),this.registerEventDefinition(t.AD_STARTED,{name:"adDisplayed",data:function(t){return{ad_type:t.position,ad_duration:t.duration,ad_provider:"LIVERAIL"}}}),this.registerEventDefinition(t.AD_IMPRESSION,{name:"adImpression",priority:"critical",data:function(t){return{ad_type:t.position,ad_impression_time:(new Date).getTime()-this.adStartedTime,ad_provider:"LIVERAIL"}}}),this.registerEventDefinition(t.CHROMECAST_READY,{name:"chromecastAvailable"}),this.registerEventDefinition(t.CHROMECAST_REMOTE_ENABLED,{name:"remoteScreenDisplayed"}),this.registerEventDefinition(t.CHROMECAST_OVERIDE_PANE_WILL_OPEN,{name:"remoteSessionOverrideScreenDisplayed"}),this.registerEventDefinition(t.ANNOTATIONS_CHANGE_CONFIRMED,{name:"annotationsDisplayed",priority:"low"}),this.registerEventDefinition(t.END_SCREEN_WILL_OPEN,{name:"endScreenDisplayed",data:function(t){var e;return e={endscreen_type:t.name},"related"===t.name&&(e.endscreen_items_count=t.items_count),e}}),this.registerEventDefinition(t.ERROR_DISPLAY_REQUESTED,{name:"errorScreenDisplayed",data:function(t){return{errorscreen_type:t.type,errorscreen_code:t.code}}}),this.registerEventDefinition(t.LOAD_VIDEO,{name:"loadVideo"}),this.on(t.COMPONENTS_READY,this.sendEventToEventBus),this.on(t.AD_BLOCKER_DETECTED,this.sendEventToEventBus),this.on(t.VIDEO_START,this.onVideoStart),this.on(t.VIDEO_ENDED,this.sendEventToEventBus),this.on(t.AD_STARTED,this.onAdStarted),this.on(t.AD_IMPRESSION,this.sendEventToEventBus),this.on(t.CHROMECAST_READY,this.sendEventToEventBus),this.on(t.CHROMECAST_REMOTE_ENABLED,this.sendEventToEventBus),this.on(t.CHROMECAST_OVERIDE_PANE_WILL_OPEN,this.sendEventToEventBus),this.on(t.ANNOTATIONS_CHANGE_CONFIRMED,this.onAnnotationChangeConfirmed),this.on(t.END_SCREEN_WILL_OPEN,this.sendEventToEventBus),this.on(t.ERROR_DISPLAY_REQUESTED,this.sendEventToEventBus),this.on(t.LOAD_VIDEO,this.sendEventToEventBus)})},r(s,o,a)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s;return r=i(94),n=i(3),t=i(5),e=i(92),s=i(190),o=function(){var i;return this.topicName="streaming",i="PLAYBACK_STATE",this.onComponentsReady=function(t){var e;return this.componentsReadyTime=t.timeStamp,e=this.componentsReadyTime-n.context("init_start_time"),this.resetData(e,this.levelMax),this.sendPlaybackState("componentsReady")},this.onAdLinearSlotStarted=function(t,e){return this.adEnabled=!0,"preroll"===e.position?(this.prerollRequestTime=t.timeStamp,this.prerollStartTime=0,this.bindAdLinearListeners(),this.sendPlaybackState("AdLinearStarted")):void 0},this.onVideoSlotStarted=function(t){return this.adEnabled=!1,this.videoSlotStartedTime=t.timeStamp},this.bindAdLinearListeners=function(){return this.on(t.AD_VIDEO_STARTED,this.onAdVideoStart),this.on(t.AD_LINEAR_SLOT_ENDED,this.onAdLinearSlotEnded)},this.unbindAdLinearListeners=function(){return this.off(t.AD_VIDEO_STARTED,this.onAdVideoStart),this.off(t.AD_LINEAR_SLOT_ENDED,this.onAdLinearSlotEnded)},this.onAdVideoStart=function(t){return this.prerollStartTime=t.timeStamp,this.prerollStartTime>this.prerollRequestTime&&(this.data.duration.preroll.linearAdInit=this.prerollStartTime-this.prerollRequestTime),this.sendPlaybackState("AdVideoStarted")},this.onAdLinearSlotEnded=function(t){return this.adEnabled=!1,this.prerollEndTime=t.timeStamp,this.unbindAdLinearListeners(),0===this.data.duration.preroll.linearAdInit?this.prerollEndTime>this.prerollRequestTime&&(this.data.duration.preroll.linearAdInit=this.prerollEndTime-this.prerollRequestTime):this.prerollEndTime>this.prerollStartTime&&(this.data.duration.preroll.linearAdDisplay=this.prerollEndTime-this.prerollStartTime),this.sendPlaybackState("AdLinearEnded")},this.onAdVideoStarted=function(){return this.adEnabled=!0},this.onAdVideoStopped=function(){return this.adEnabled=!1},this.onQualitiesAvailable=function(t,e){return this.levelMax=parseInt(e.qualities[0].name),this.data.level?this.data.level.max=this.levelMax:void 0},this.onVideoStart=function(t){return this.adEnabled=!1,this.data.state="start",this.loadingStartTime=t.timeStamp},this.onVideoLoadedData=function(t){return this.data.state="loadedData",0===this.data.duration.loading?(this.loadedDataTime=t.timeStamp,this.videoSlotStartedTime>=0&&this.loadedDataTime>this.videoSlotStartedTime?this.data.duration.loading=this.loadedDataTime-this.videoSlotStartedTime:this.loadedDataTime>this.componentsReadyTime&&(this.data.duration.loading=this.loadedDataTime-this.componentsReadyTime),this.seekingTime=0,this.sendPlaybackState("videoLoadedData")):void 0},this.onVideoEnded=function(){return this.data.state="ended",clearInterval(this.updateInterval),this.updateInterval=null,this.loadedDataTime=this.seekingTime=this.seekedTime=this.pausedStartTime=this.bufferingStartTime=0,this.sendPlaybackState("videoEnded")},this.onVideoRebuffering=function(){return this.data.rebufferingNb++},this.onVideoTimeUpdate=function(t,e){var i,r;if(!this.adEnabled)return this.data.bufferHealth=Math.floor(1e3*e.buffer),this.data.position=Math.floor(1e3*e.time),this.data.duration.watched=Math.floor(1e3*e.watched),this.data.duration.played=Math.floor(1e3*e.played),this.updateInterval?void 0:(i=n.metadata("duration"),i?(r=i/10*1e3,r=Math.max(1e4,r),r=Math.min(3e4,r)):r=1e4,this.updateInterval=n.window().setInterval(this.onVideoInterval.bind(this),r))},this.onQualityChanged=function(t,e){var i,n;if(n=parseInt(e.quality.name),i=e.adaptive,this.data.level.last=n,this.data.level.lastAuto=i,this.data.level.start||(this.data.level.start=n,this.data.level.startAuto=i),i){if(!this.data.level.autoMin)return this.data.level.autoMin=this.data.level.autoMax=this.data.level.autoLast=n,this.data.level.autoChange=0;if(this.data.level.autoLast!==n)return this.data.level.autoChange++,this.data.level.autoLast=n,this.data.level.autoMin=Math.min(this.data.level.autoMin,n),this.data.level.autoMax=Math.max(this.data.level.autoMax,n)}else{if(!this.data.level.manualMin)return this.data.level.manualMin=this.data.level.manualMax=this.data.level.manualLast=n,this.data.level.manualChange=0;if(this.data.level.manualLast!==n)return this.data.level.manualChange++,this.data.level.manualLast=n,this.data.level.manualMin=Math.min(this.data.level.manualMin,n),this.data.level.manualMax=Math.max(this.data.level.manualMax,n)}},this.onVideoPause=function(e){return this.isAdVideoPlaying?void 0:(this.data.state="paused",this.pausedStartTime=e.timeStamp,this.on(t.VIDEO_PLAY,this.onVideoPlay),this.off(t.VIDEO_PAUSE,this.onVideoPause),this.off(t.VIDEO_WAITING,this.onVideoWaiting))},this.onVideoPlay=function(e){return this.isAdVideoPlaying?void 0:(this.pausedStartTime&&e.timeStamp>this.pausedStartTime&&(this.data.duration.paused+=e.timeStamp-this.pausedStartTime),this.loadedDataTime=this.seekedTime=this.pausedStartTime=0,this.off(t.VIDEO_PLAY,this.onVideoPlay),this.on(t.VIDEO_PAUSE,this.onVideoPause))},this.onVideoSeeking=function(e){return this.data.duration.loading&&(this.data.state="seeking",this.checkPendingBuffering(e.timeStamp),this.seekingTime=e.timeStamp,this.seekingDuration=this.data.duration.seeking,this.data.seekNb++),this.off(t.VIDEO_WAITING,this.onVideoWaiting)},this.onVideoSeeked=function(t){return this.seekingTime>0?(this.data.state="seeked",this.seekedTime=t.timeStamp,this.seekedTime&&this.seekedTime>this.seekingTime&&(this.data.duration.seeking=this.seekingDuration+this.seekedTime-this.seekingTime),this.seekingTime=0):void 0},this.onVideoWaiting=function(t){return"waiting"!==this.data.state?(this.data.state="waiting",this.data.waitingNb++,this.bufferingStartTime=t.timeStamp,this.bufferingDuration=this.data.duration.buffering):void 0},this.onVideoPlaying=function(e){return this.data.state="playing",this.checkPendingBuffering(e.timeStamp),this.on(t.VIDEO_WAITING,this.onVideoWaiting)},this.checkPendingBuffering=function(t){if(t>0){if(this.loadedDataTime>0&&0===this.pausedStartTime)return t>this.loadedDataTime&&(this.data.duration.loadedWaiting=t-this.loadedDataTime),this.loadedDataTime=0;if(this.seekedTime>0&&0===this.pausedStartTime)return t>this.seekedTime&&(this.data.duration.seekedWaiting+=t-this.seekedTime),this.seekedTime=0;if(this.seekingTime>0)return t>this.seekingTime&&(this.data.duration.seeking=this.seekingDuration+t-this.seekingTime),this.seekingTime=0;if(this.bufferingStartTime>0)return t>this.bufferingStartTime&&(this.data.duration.buffering=this.bufferingDuration+t-this.bufferingStartTime),this.bufferingStartTime=0}},this.onVideoInterval=function(){return this.trigger(t.QUALITY_STATS_REQUESTED)},this.onQualityStatsResponded=function(t,e){switch(this.data.state){case"waiting":this.data.duration.buffering=t.timeStamp>this.bufferingStartTime?this.bufferingDuration+t.timeStamp-this.bufferingStartTime:this.bufferingDuration;break;case"seeking":this.data.duration.seeking=t.timeStamp>this.seekingTime?this.seekingDuration+t.timeStamp-this.seekingTime:this.seekingDuration}return this.sendPlaybackState("videoTimeUpdate",e)},this.sendPlaybackState=function(t,n){return null==n&&(n=null),this.data.type=t,null!=n&&(this.data.delivery=n),this.sendEventToEventBus({type:i},e.clone(this.data,!0))},this.onVideoSelected=function(){return this.resetData(this.data.duration.init,this.levelMax),this.isAdVideoPlaying=!1,this.on(t.AD_LINEAR_SLOT_STARTED,this.onAdLinearSlotStarted),this.on(t.VIDEO_SLOT_STARTED,this.onVideoSlotStarted)},this.resetData=function(t,e){return this.loadedDataTime=this.seekingTime=this.seekingDuration=this.seekedTime=this.pausedStartTime=this.bufferingStartTime=this.bufferingDuration=0,this.data={duration:{init:t,preroll:{linearAdInit:0,linearAdDisplay:0},midroll:[],loading:0,loadedWaiting:0,buffering:0,paused:0,played:0,seeking:0,seekedWaiting:0,watched:0},seekNb:0,waitingNb:0,rebufferingNb:0,position:0,bufferHealth:0,level:{}},e?this.data.level.max=e:void 0
},this.after("initialize",function(){return this.data={duration:{init:0}},this.registerEventDefinition(i,{name:"playbackState",priority:"low",data:function(t){return t}}),this.on(t.COMPONENTS_READY,this.onComponentsReady),this.on(t.QUALITIES_AVAILABLE,this.onQualitiesAvailable),this.on(t.QUALITY_CHANGED,this.onQualityChanged),this.on(t.VIDEO_START,this.onVideoStart),this.on(t.VIDEO_LOADED_DATA,this.onVideoLoadedData),this.on(t.VIDEO_PLAYING,this.onVideoPlaying),this.on(t.VIDEO_PAUSE,this.onVideoPause),this.on(t.VIDEO_TIME_UPDATE,this.onVideoTimeUpdate),this.on(t.VIDEO_SEEKING,this.onVideoSeeking),this.on(t.VIDEO_SEEKED,this.onVideoSeeked),this.on(t.VIDEO_ENDED,this.onVideoEnded),this.on(t.VIDEO_REBUFFERING,this.onVideoRebuffering),this.on(t.VIDEO_SELECTED,this.onVideoSelected),this.on(t.AD_VIDEO_STARTED,this.onAdVideoStarted),this.on(t.AD_VIDEO_STOPPED,this.onAdVideoStopped),this.on(t.QUALITY_STATS_RESPONDED,this.onQualityStatsResponded)})},r(s,o)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a,u,l,h;return o=i(94),r=i(3),n=i(140).Location,h=i(188),t=i(149),e=i(192),u=i(25).get("Pinba"),s=function(t){var e,i;return e=n.parse(t),i=n.parseQueryString(e.hash,!0),i.proxy=e.hostname,i},a=function(t){switch(t){case AD_STEPS.LOAD_AD_UNIT:return"loadAd";case AD_STEPS.INIT_AD:return"initAd";case AD_STEPS.START_AD:return"startAd";default:return null}},l=function(){return this.enabled=function(){return r.metadata("reporting.pinba.enable")},this.setup=function(){var i,n,o;return u.log("Setting up!"),o=r.metadata("reporting.pinba.url","http://www.dailymotion.com/track/"),n={baseURL:o,cc:r.get("country"),as:r.get("as_number"),logger:u},i=new e(n),i.on(t.VIDEO_INFOS,function(t,e){return"recorded"===e.stream_type&&(e.stream_type="vod"),this.setVideoInfo({xid:e.id,mode:e.stream_type})}),i.on(t.VIDEO_RESOLVED_CDN,function(t,e){return n=s(e),this.setVideoInfo(n)}),i.on(t.VIDEO_REBUFFERING,function(){return this.track("stream.rebuffering")}),i.measureTime(t.CONTROLS_PLAY,t.VIDEO_RESOLVED_CDN,function(t){return this.trackTiming("stream.resolve",t)}),i.on(t.AD_LOAD_START,function(){return this.track("loadAd.init")}),i.on(t.AD_LOAD_TIMEOUT,function(){return this.track("loadAd.timeout")}),i.measureTime(t.AD_LOAD_START,t.AD_LOAD_END,function(t){return this.trackTiming("loadAd.time",t)}),i.on(t.AD_INIT_START,function(){return this.track("initAd.init")}),i.on(t.AD_INIT_TIMEOUT,function(){return this.track("initAd.timeout")}),i.measureTime(t.AD_INIT_START,t.AD_INIT_END,function(t){return this.trackTiming("initAd.time",t)}),i.on(t.AD_START_START,function(){return this.track("startAd.init")}),i.on(t.AD_START_TIMEOUT,function(){return this.track("startAd.timeout")}),i.measureTime(t.AD_START_START,t.AD_START_END,function(t){return this.trackTiming("startAd.time",t)}),i.measureTime(t.VIDEO_START,t.VIDEO_PLAYING,function(t,e){var i;return(null!=e&&null!=(i=e[1])?i.resolvedCDN:void 0)===!0?this.trackTiming("stream.play",t):this.trackTiming("stream.resolveandplay",t)}),i}},o(h,l)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a,u,l,h,d,c,f,p,E,m;return h=i(94),l=i(3),n=i(92),u=i(40),d=i(21),E=i(188),t=i(149),e=i(196),c=i(25).get("SiteCatalyst"),f=function(){return this.onsite=function(){return null!=this._onsite?this._onsite:this._onsite=l.context("onsite")},this.enabled=function(){return l.metadata("reporting.sitecatalyst.enable")},this.account=function(){var t,e;return e=d.isMobile()||l.get("is_webapp"),t=d.isTv()?"dailymotioniptv":e?"dailymotionmobilevid":this.onsite()?"dailymotionwebvid":"dailymotionoffsite",this.onsite()&&this.isSample()&&(t=e?"dailymotionmobile":"dailymotionweb"),""+t+l.get("env")},this.isSample=function(){return this.onsite()&&(this.visitorSubgroup<=25||l.context("admin"))?!0:!1},this.setup=function(){var i,n,h,d,f,E,_,g,v,S;return c.log("Setting up!"),this.visitorSubgroup=l.context("visitor_subgroup"),v=this.account(),0===v.indexOf("dailymotionwebvid")?(c.warn("dailymotionwebvid are no longer tracked (",this.visitorSubgroup,")"),null):0===v.indexOf("dailymotionmobilevid")&&this.onsite()?(c.warn("onsite dailymotionmobilevid are no longer tracked (",this.visitorSubgroup,")"),null):(c.log(v,"is allowed (",this.visitorSubgroup,")"),f=/https?:\/\/([^\/]+)\.dailymotion\.com\/hub/.test(l.context("embedder")),i=l.context("country"),n=l.context("s_server_time"),h=l.context("version"),S=l.settings("syndication"),g=l.metadata("reporting.sitecatalyst.url",l.getDependencyURL("s_code")),null==g?(c.warn("s_code URL is not defined in config!"),null):(_={s_account:v,inline:"inline"===l.context("integration"),pluginUrl:g,logger:c},d=new e(_),E=this.onsite(),d.on(t.VIDEO_INFOS,function(t,e){var d,_,g,v,T,y,A,D,R,b,I,N,O,C;return"recorded"===e.stream_type&&(e.stream_type="vod"),d=(null!=(D=e.owner)?D.partner:void 0)?"partner":"ugc",C=e.partner?"partner":"ugc",_=[d,"verified:"+m(null!=(R=e.owner)?R.verified:void 0)],g=[C,"studio:"+m(e.studio),"verified:"+m(e.verified)],v=["ads:"+m(e.ads),"auditude:"+m(this.session.has("auditude")),"encoding:"+o(),"explicit:"+m(e.explicit),"vod:"+m("vod"===e.stream_type),"promoted:"+m(e.promoted)],T=["isrc:"+p(e.soundtrack_isrc),"muyap:"+p(e.soundtrack_muyap)],y=["userbrand:"+m(e.userbrand),"advertising content:"+m(e.advertising_content),"revshare:"+m(e.claimer)],A=["autoplay:"+m(u.canAutoplay()&&l.get("autoplay")),"width:"+e.width,"volume:"+m(!(e.muted||0===e.volume))],this.set({prop3:h,eVar3:"D=c3",prop4:i,eVar4:"D=c4",eVar7:n,prop9:"video",eVar10:"D=c9",prop12:E?"internal":"external",eVar15:"D=c12",prop13:r(document),eVar16:"D=c13",prop14:e.channel,eVar17:"D=c14",prop15:S||"no syndication",eVar18:"D=c15",prop16:(null!=(b=e.owner)?b.parent:void 0)||"none",eVar19:"D=c16",prop17:e.stream_type+"-"+s(e.payment_type),eVar20:"D=c17",prop18:null!=(I=e.owner)?I.username:void 0,eVar21:"D=c18",prop19:_.join("|"),eVar22:"D=c19",prop20:g.join("|"),eVar23:"D=c20",prop21:e.id,eVar24:"D=c21",eVar25:"D=c22",prop23:E?"HTML5":"HTML5 | Iframe",eVar26:"D=c23",prop24:v.join("|"),eVar27:"D=c24",prop25:T.join("|"),eVar28:"D=c25",prop27:E?f?"hub":"video page":"Offsite/Player",eVar30:"D=c27",prop28:e.language,eVar31:"D=c28",prop30:e["private"]?"private":"public",eVar33:"D=c30",prop33:y.join("|"),eVar52:"D=c33",prop45:0|a(e.created_time),eVar63:"D=c45",prop46:e.duration,eVar64:"D=c46",prop47:m(l.get("metadata.claimer")),eVar65:"D=c47",prop48:null!=(null!=(N=e.advertising)?N.type:void 0)?"ads":null!=(O=e.advertising)?O.reason:void 0,eVar72:"D=c48",prop49:A.join("|"),eVar73:"D=c49",prop59:"v5:html5",eVar48:l.context("visitor_group")}),this.session.save("video:title",[e.title,e.id].join("|")),this.session.save("video:infos",e),c.log("Saving video infos in session")}),d.on(t.VIDEO_LOAD,function(t,e){var i,n;for(i in e)n=e[i],this.session.save(i,n);return c.log("Saving",e,"in session")}),d.on(t.VIDEO_START,function(){var t;return t=this.session.get("video:infos"),this.media.open([t.title,t.id].join("|"),t.duration,"Dailymotion Video Player"),this.media.play(this.session.get("video:title"),0),c.log("Calling SC open & play fn")}),d.on(t.CONTROLS_PLAY,{waitFor:t.VIDEO_START,sampling:this.isSample.bind(this)},function(t,e){return this.media.play(this.session.get("video:title"),Math.round(e.currentTime)),c.log("Calling SC open & play fn (sampling)")}),d.on([t.CONTROLS_PAUSE,t.VIDEO_END],{sampling:this.isSample.bind(this)},function(t,e){return this.media.stop(this.session.get("video:title"),Math.round(e.currentTime)),c.log("Calling SC stop (sampling)")}),d.on(t.CONTROLS_FULLSCREEN,function(){return this.session.save("controls:fullscreen",1),c.log("Saving fullscreen 'on' in session")}),d.on(t.CONTROLS_VOLUME,function(t,e){return this.session.save("controls:volume",e),c.log("Saving volume level in session")}),d.on(t.CONTROLS_QUALITY,function(t,e){return this.session.save("controls:quality",e),c.log("Saving video quality in session")}),d.on(t.VIDEO_COMPLETED,{sampling:this.isSample.bind(this)},function(){var t,e,i,n,r,o,s;return s=[],e=m(this.session.has("controls:fullscreen")),s.push("fullscreen:"+e),i=m(this.session.has("controls:quality")),s.push("quality:"+i),t="n",s.push("export:"+t),r="n",s.push("subtitles:"+r),o=m(this.session.has("controls:volume")),s.push("volume:"+o),n=m(this.session.has("controls:share")),s.push("share:"+n),this.set({prop26:s.join("|"),eVar29:"D=c26"}),this.media.close(this.session.get("video:title")),c.log("Calling SC close with session values (sampling)")}),d))}},p=function(t){return t?t:"n"},m=function(t){return t?"y":"n"},s=function(t){return"subscription"===t?"svod":"transactional"===t?"tvod":"free"},a=function(t){var e,i;return i=+new Date,e=new Date(1e3*t),new Date(i-e).getTime()/864e5},o=function(){var t,e,i;e=0;for(i in l.get("metadata.qualities"))t=parseInt(i),t>e&&(e=t);return e},r=function(t){var e,i,n;return i=l.get("embedder"),n=[i],e=t.createElement("a"),e.href=i,n.push(e.protocol+"//"+e.hostname),n.join(" | ")},h(E,f)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a;return r=i(94),n=i(3),o=i(25).get("Xiti"),s=i(188),t=i(149),e=i(197),a=function(){return this.attributes({videoTagSelector:null}),this.enabled=function(){return null!=n.metadata("reporting.xiti")},this.setup=function(){var r,s,a;return o.log("Setting up!"),s={logger:o},r=new e(s),a=this.select("videoTagSelector")[0],r.on(t.VIDEO_INFOS,function(t,e){var r,s,u;return u=null!=(s=e.reporting)?s.xiti:void 0,null==u?(o.log("Not any xiti data -> disabling"),void this.setVideoInfo(null)):(o.log("xiti tracking enabled :",u),r=n.settings("id"),r||(r="undefined"),void i.e(5,function(t){return function(){var n,o,s,l;i(200),l={xtsite:u.website_id,xtsd:null!=(n=u.subdomain)?n.replace(/https?:\/\//,""):void 0,xtn2:u.second_level_id,xtinternaldom:null!=(o=u.internal_domain)?o.split("|"):void 0,refresh:10},s={xttype:"video",xtplayer:r,xtrichname:e.id+"_"+e.title,xtduration:e.duration,xtmode:"live"===e.stream_type?"live":"clip",xtquality:"",xtstream:"",xtextension:"9"},t.setVideoInfo(l,s,a)}}(this)))}),r}},r(s,a)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){"use strict";function t(t){return t=t||{},function(){var e=this;return Object.keys(t).reduce(function(i,n){var r=t[n];return i[n]="function"==typeof r?r.call(e):r,i},{})}}function e(){this.initialState=function(e){if(this._stateDef)throw new Error("initialState can only be defined once");this._stateDef="function"==typeof e?e:t(e)},this.replaceState=function(t){return t&&"object"==typeof t?(this.state=t,this.stateChanged(this.state),this.state):void 0},this.mergeState=function(t){return this.replaceState(n.merge(this.state,t))},this.fromState=function(t){return function(){return this.state[t]}},this.toState=function(t){return function(e){var i={};i[t]=e,this.mergeState(i)}},this.fromAttr=function(t){return function(){return this.attr[t]}},this.stateChanged=function(){},this.after("initialize",function(){this._stateDef=this._stateDef||function(){},this.replaceState(this._stateDef.call(this))})}var n=i(91);return e}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){"use strict";function t(){this.defaultAttrs({debounce:200,throttle:100,shortcuts:null,charCodes:{esc:27,ret:13,del:46,left:37,up:38,right:39,down:40,bksp:8,pageup:33,pagedown:34,home:36,end:35},defaultKeyEvent:"keypress",keySequenceTimeoutDelay:1e3,modifiers:{ctrl:"ctrlKey",alt:"altKey",cmd:"metaKey",shift:"shiftKey"},rootNode:document.body}),this.after("initialize",function(){this.activeSequences={},this.sequenceStarters={},this.singleKeys={},this.combos={};for(var t in this.attr.shortcuts)if(this.attr.shortcuts.hasOwnProperty(t)){var e=this.attr.shortcuts[t];"string"==typeof e?this.addShortcut(t,this.shortcutEventHandlerFactory({event:e})):e.forEach(function(e){var i=this.shortcutEventHandlerFactory({event:e.eventName,throttle:e.throttle});this.addShortcut(t,i,e.selector)},this)}this.on(window,"keypress",this.handleKeyPress),this.on(window,"keydown",this.handleKeyDown),this.on("shortcut-add",this.handleShortcutAdd),this.on("shortcut-remove",this.handleShortcutRemove)}),this.handleShortcutAdd=function(t,e){var i=this.shortcutEventHandlerFactory({event:e.eventName,throttle:e.throttle});this.addShortcut(e.shortcut,i,e.selector)},this.handleShortcutRemove=function(t,e){this.removeShortcut(e.shortcut,e.eventName,e.selector)},this.getShortcutForEvent=function(t){var e,i=t.which;return this.eventHasModifier(t)&&(e=this.combos[i]),e||this.eventHasFunctionModifier(t)||(e=this.activeSequences[i]||this.singleKeys[i]||this.sequenceStarters[i]),e},this.clearActiveSequences=function(){this.activeSequences={}},this.eventHasModifier=function(t){return t.ctrlKey||t.altKey||t.metaKey||t.shiftKey},this.eventHasFunctionModifier=function(t){return t.ctrlKey||t.metaKey},this.eventHasTextModifier=function(t){return t.altKey||t.shiftKey},this.getModifiedKeyEvent=function(t,e){var i;if(this.eventHasModifier(t)&&e.modifiers)for(var n in e.modifiers)e.modifiers.hasOwnProperty(n)&&t[n]&&(i=e.modifiers[n]);return i},this.handleKeyPress=function(t){var e,i=[],n=":not(input):not(textarea)";if(t.which>=65&&t.which<=90&&(t.which+=32),e=this.getShortcutForEvent(t))if(e.sequences){for(var r in e.sequences)e.sequences.hasOwnProperty(r)&&this.addSequenceEnd(r,e.sequences[r]);setTimeout(function(){this.clearActiveSequences()}.bind(this),this.attr.keySequenceTimeoutDelay)}else i=e.shortcuts||[e],i=i.map(function(e){return e.modifiers&&(e=this.getModifiedKeyEvent(t,e)),e},this),i=i.filter(function(t){return void 0!==t}),i.forEach(function(e){var i=e.selector||n;$(t.target).is(i)&&e.callback(t,e.data)}),this.clearActiveSequences();else this.clearActiveSequences()},this.getCharCodeForKey=function(t){var e,i=!1,n=[[32,64],[91,126]];if("string"!=typeof t)throw"Key must be a string";return t=t.toLowerCase(),1===t.length?(e=t.charCodeAt(0),n.forEach(function(t){return e>=t[0]&&e<=t[1]?(i=!0,!1):void 0}),i||(e=void 0)):e=this.attr.charCodes[t],e},this.addSingleKey=function(t,e,i,n){var r;if("function"!=typeof e)throw"addSingleKey: no callback";if(r=this.getCharCodeForKey(t),void 0===r)throw"addSingleKey: invalid key string";if(this.singleKeys[r]){var o=this.singleKeys[r].shortcuts.every(function(t){return e!==t.callback||i!==t.selector},this);if(!o)throw"addSingleKey: attempted to add identical shortcut"}else this.singleKeys[r]={shortcuts:[]};this.singleKeys[r].shortcuts.push({shortcut:t,callback:e,selector:i,data:n})},this.addSequence=function(t,e,i,n){var r,o,s;if("function"!=typeof e)throw"addSequence: no callback";if("string"!=typeof t)throw"addSequence: sequence must be a string";if(r=t.split(" "),2!==r.length)throw'addSequence: sequence should be in format "g a"';if(o=this.getCharCodeForKey(r[0]),void 0===o)throw'addSequence: sequence should be in format "g a"';if(s=this.getCharCodeForKey(r[1]),void 0===s)throw'addSequence: sequence should be in format "g a"';this.sequenceStarters[o]||(this.sequenceStarters[o]={sequences:{}}),this.sequenceStarters[o].sequences[r[1]]={shortcut:t,callback:e,selector:i,data:n}},this.addSequenceEnd=function(t,e){var i;if("function"!=typeof e.callback)throw"addSequenceEnd: no callback";if("string"!=typeof t)throw"addSequenceEnd: invalid shortcut key";if(i=this.getCharCodeForKey(t),void 0===i)throw"addSequenceEnd: invalid shortcut key";this.activeSequences[i]={shortcut:e.shortcut,callback:e.callback,selector:e.selector,data:e.data}},this.addCombo=function(t,e,i,n){var r,o,s;if("function"!=typeof e)throw"addCombo: no callback";if("string"!=typeof t)throw"addCombo: invalid combo string";if(r=t.split("+"),2!==r.length)throw"addCombo: invalid combo";if(o=this.attr.modifiers[r[0].toLowerCase()],void 0===o)throw"addCombo: invalid modifier";if(s=this.getCharCodeForKey(r[1]),void 0===s)throw"addCombo: invalid shortcut key";var a={modifiers:{}};a.modifiers[o]={shortcut:t,callback:e,selector:i,data:n},this.combos[s]||(this.combos[s]={shortcuts:[]}),this.combos[s].shortcuts.push(a)},this.isSequence=function(t){return"string"==typeof t&&t.indexOf(" ")>0},this.isCombo=function(t){return"string"==typeof t&&t.indexOf("+")>0},this.addShortcut=function(t,e,i,n){3===arguments.length&&"string"!=typeof i&&(n=i,i=void 0),this.isCombo(t)?this.addCombo(t,e,i,n):this.isSequence(t)?this.addSequence(t,e,i,n):this.addSingleKey(t,e,i,n)},this.removeSingleKey=function(t){var e=this.getCharCodeForKey(t);this.singleKeys[e]&&delete this.singleKeys[e]},this.removeCombo=function(t){var e=this.getCharCodeForKey(t.split("+")[1]);this.combos[e]&&delete this.combos[e]},this.removeSequence=function(t){var e=this.getCharCodeForKey(t.split(" ")[0]);this.sequenceStarters[e]&&delete this.sequenceStarters[e]},this.removeShortcut=function(t,e,i){this.isCombo(t)?this.removeCombo(t,e,i):this.isSequence(t)?this.removeSequence(t,e,i):this.removeSingleKey(t,e,i)},this.handleKeyDown=function(t){var e=[this.attr.charCodes.del,this.attr.charCodes.bksp,this.attr.charCodes.esc,this.attr.charCodes.ret,this.attr.charCodes.left,this.attr.charCodes.right,this.attr.charCodes.up,this.attr.charCodes.down,this.attr.charCodes.pagedown,this.attr.charCodes.pageup,this.attr.charCodes.home,this.attr.charCodes.end],i=e.some(function(e){return e===t.which});i&&this.handleKeyPress(t)},this.throttle=function(t,e){var i=null;return function(n){var r=Date.now();(!i||r>i+e)&&(t(n),i=r)}},this.debounce=function(t,e){var i=null;return function(n){var r=Date.now();(!i||r>i+e)&&t(n),i=r}},this.shortcutEventHandlerFactory=function(t){var e,i,n,r=function(e){e.preventDefault(),e.stopPropagation();var i=e.target;$(this.attr.rootNode).find(i).length<1&&(i=this.attr.rootNode),this.trigger(i,t.event)}.bind(this);return void 0!==t.throttle?(n="number"==typeof t.throttle?t.throttle:this.attr.throttle,e=this.throttle(r,n)):i=this.debounce(r,this.attr.debounce)}}var e=i(94);return e(t)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;!function(){"use strict";/**
		 * @preserve FastClick: polyfill to remove click delays on browsers with touch UIs.
		 *
		 * @codingstandard ftlabs-jsv2
		 * @copyright The Financial Times Limited [All Rights Reserved]
		 * @license MIT License (see LICENSE.txt)
		 */
function r(t,e){function i(t,e){return function(){return t.apply(e,arguments)}}var n;if(e=e||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=e.touchBoundary||10,this.layer=t,this.tapDelay=e.tapDelay||200,this.tapTimeout=e.tapTimeout||700,!r.notNeeded(t)){for(var o=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],a=this,u=0,l=o.length;l>u;u++)a[o[u]]=i(a[o[u]],a);s&&(t.addEventListener("mouseover",this.onMouse,!0),t.addEventListener("mousedown",this.onMouse,!0),t.addEventListener("mouseup",this.onMouse,!0)),t.addEventListener("click",this.onClick,!0),t.addEventListener("touchstart",this.onTouchStart,!1),t.addEventListener("touchmove",this.onTouchMove,!1),t.addEventListener("touchend",this.onTouchEnd,!1),t.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(t.removeEventListener=function(e,i,n){var r=Node.prototype.removeEventListener;"click"===e?r.call(t,e,i.hijacked||i,n):r.call(t,e,i,n)},t.addEventListener=function(e,i,n){var r=Node.prototype.addEventListener;"click"===e?r.call(t,e,i.hijacked||(i.hijacked=function(t){t.propagationStopped||i(t)}),n):r.call(t,e,i,n)}),"function"==typeof t.onclick&&(n=t.onclick,t.addEventListener("click",function(t){n(t)},!1),t.onclick=null)}}var o=navigator.userAgent.indexOf("Windows Phone")>=0,s=navigator.userAgent.indexOf("Android")>0&&!o,a=/iP(ad|hone|od)/.test(navigator.userAgent)&&!o,u=a&&/OS 4_\d(_\d)?/.test(navigator.userAgent),l=a&&/OS [6-7]_\d/.test(navigator.userAgent),h=navigator.userAgent.indexOf("BB10")>0;r.prototype.needsClick=function(t){switch(t.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(t.disabled)return!0;break;case"input":if(a&&"file"===t.type||t.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(t.className)},r.prototype.needsFocus=function(t){switch(t.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!s;case"input":switch(t.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!t.disabled&&!t.readOnly;default:return/\bneedsfocus\b/.test(t.className)}},r.prototype.sendClick=function(t,e){var i,n;document.activeElement&&document.activeElement!==t&&document.activeElement.blur(),n=e.changedTouches[0],i=document.createEvent("MouseEvents"),i.initMouseEvent(this.determineEventType(t),!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),i.forwardedTouchEvent=!0,t.dispatchEvent(i)},r.prototype.determineEventType=function(t){return s&&"select"===t.tagName.toLowerCase()?"mousedown":"click"},r.prototype.focus=function(t){var e;a&&t.setSelectionRange&&0!==t.type.indexOf("date")&&"time"!==t.type&&"month"!==t.type?(e=t.value.length,t.setSelectionRange(e,e)):t.focus()},r.prototype.updateScrollParent=function(t){var e,i;if(e=t.fastClickScrollParent,!e||!e.contains(t)){i=t;do{if(i.scrollHeight>i.offsetHeight){e=i,t.fastClickScrollParent=i;break}i=i.parentElement}while(i)}e&&(e.fastClickLastScrollTop=e.scrollTop)},r.prototype.getTargetElementFromEventTarget=function(t){return t.nodeType===Node.TEXT_NODE?t.parentNode:t},r.prototype.onTouchStart=function(t){var e,i,n;if(t.targetTouches.length>1)return!0;if(e=this.getTargetElementFromEventTarget(t.target),i=t.targetTouches[0],a){if(n=window.getSelection(),n.rangeCount&&!n.isCollapsed)return!0;if(!u){if(i.identifier&&i.identifier===this.lastTouchIdentifier)return t.preventDefault(),!1;this.lastTouchIdentifier=i.identifier,this.updateScrollParent(e)}}return this.trackingClick=!0,this.trackingClickStart=t.timeStamp,this.targetElement=e,this.touchStartX=i.pageX,this.touchStartY=i.pageY,t.timeStamp-this.lastClickTime<this.tapDelay&&t.preventDefault(),!0},r.prototype.touchHasMoved=function(t){var e=t.changedTouches[0],i=this.touchBoundary;return Math.abs(e.pageX-this.touchStartX)>i||Math.abs(e.pageY-this.touchStartY)>i?!0:!1},r.prototype.onTouchMove=function(t){return this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(t.target)||this.touchHasMoved(t))&&(this.trackingClick=!1,this.targetElement=null),!0):!0},r.prototype.findControl=function(t){return void 0!==t.control?t.control:t.htmlFor?document.getElementById(t.htmlFor):t.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},r.prototype.onTouchEnd=function(t){var e,i,n,r,o,h=this.targetElement;if(!this.trackingClick)return!0;if(t.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(t.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=t.timeStamp,i=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,l&&(o=t.changedTouches[0],h=document.elementFromPoint(o.pageX-window.pageXOffset,o.pageY-window.pageYOffset)||h,h.fastClickScrollParent=this.targetElement.fastClickScrollParent),n=h.tagName.toLowerCase(),"label"===n){if(e=this.findControl(h)){if(this.focus(h),s)return!1;h=e}}else if(this.needsFocus(h))return t.timeStamp-i>100||a&&window.top!==window&&"input"===n?(this.targetElement=null,!1):(this.focus(h),this.sendClick(h,t),a&&"select"===n||(this.targetElement=null,t.preventDefault()),!1);return a&&!u&&(r=h.fastClickScrollParent,r&&r.fastClickLastScrollTop!==r.scrollTop)?!0:(this.needsClick(h)||(t.preventDefault(),this.sendClick(h,t)),!1)},r.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},r.prototype.onMouse=function(t){return this.targetElement?t.forwardedTouchEvent?!0:t.cancelable&&(!this.needsClick(this.targetElement)||this.cancelNextClick)?(t.stopImmediatePropagation?t.stopImmediatePropagation():t.propagationStopped=!0,t.stopPropagation(),t.preventDefault(),!1):!0:!0},r.prototype.onClick=function(t){var e;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===t.target.type&&0===t.detail?!0:(e=this.onMouse(t),e||(this.targetElement=null),e)},r.prototype.destroy=function(){var t=this.layer;s&&(t.removeEventListener("mouseover",this.onMouse,!0),t.removeEventListener("mousedown",this.onMouse,!0),t.removeEventListener("mouseup",this.onMouse,!0)),t.removeEventListener("click",this.onClick,!0),t.removeEventListener("touchstart",this.onTouchStart,!1),t.removeEventListener("touchmove",this.onTouchMove,!1),t.removeEventListener("touchend",this.onTouchEnd,!1),t.removeEventListener("touchcancel",this.onTouchCancel,!1)},r.notNeeded=function(t){var e,i,n,r;if("undefined"==typeof window.ontouchstart)return!0;if(i=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!s)return!0;if(e=document.querySelector("meta[name=viewport]")){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(i>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(h&&(n=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),n[1]>=10&&n[2]>=3&&(e=document.querySelector("meta[name=viewport]")))){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===t.style.msTouchAction||"manipulation"===t.style.touchAction?!0:(r=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1],r>=27&&(e=document.querySelector("meta[name=viewport]"),e&&(-1!==e.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth))?!0:"none"===t.style.touchAction||"manipulation"===t.style.touchAction?!0:!1)},r.attach=function(t,e){return new r(t,e)},n=function(){return r}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))}()},function(){!function(t){function e(t){var e=t.__resizeTriggers__,i=e.firstElementChild,n=e.lastElementChild,r=i.firstElementChild;n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight,r.style.width=i.offsetWidth+1+"px",r.style.height=i.offsetHeight+1+"px",i.scrollLeft=i.scrollWidth,i.scrollTop=i.scrollHeight}function i(t){return t.offsetWidth!=t.__resizeLast__.width||t.offsetHeight!=t.__resizeLast__.height}function n(t){var n=this;e(this),this.__resizeRAF__&&l(this.__resizeRAF__),this.__resizeRAF__=u(function(){i(n)&&(n.__resizeLast__.width=n.offsetWidth,n.__resizeLast__.height=n.offsetHeight,n.__resizeListeners__.forEach(function(e){e.call(n,t)}))})}function r(){if(!s){var t='.resize-triggers { visibility: hidden; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',e=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t)),e.appendChild(i)}}var o=document.attachEvent,s=!1,a=t.fn.resize;if(t.fn.resize=function(t){return this.each(function(){this==window?a.call(jQuery(this),t):addResizeListener(this,t)})},t.fn.removeResize=function(t){return this.each(function(){removeResizeListener(this,t)})},!o)var u=function(){var t=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(t){return window.setTimeout(t,20)};return function(e){return t(e)}}(),l=function(){var t=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.clearTimeout;return function(e){return t(e)}}();window.addResizeListener=function(t,i){o?t.attachEvent("onresize",i):(t.__resizeTriggers__||("static"==getComputedStyle(t).position&&(t.style.position="relative"),r(),t.__resizeLast__={},t.__resizeListeners__=[],(t.__resizeTriggers__=document.createElement("div")).className="resize-triggers",t.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',t.appendChild(t.__resizeTriggers__),e(t),t.addEventListener("scroll",n,!0)),t.__resizeListeners__.push(i))},window.removeResizeListener=function(t,e){o?t.detachEvent("onresize",e):(t.__resizeListeners__.splice(t.__resizeListeners__.indexOf(e),1),t.__resizeListeners__.length||(t.removeEventListener("scroll",n),t.__resizeTriggers__=!t.removeChild(t.__resizeTriggers__)))}}(jQuery)},function(t,e,i){var n;!function(r){"use strict";function o(t,e){var i=(65535&t)+(65535&e),n=(t>>16)+(e>>16)+(i>>16);return n<<16|65535&i}function s(t,e){return t<<e|t>>>32-e}function a(t,e,i,n,r,a){return o(s(o(o(e,t),o(n,a)),r),i)}function u(t,e,i,n,r,o,s){return a(e&i|~e&n,t,e,r,o,s)}function l(t,e,i,n,r,o,s){return a(e&n|i&~n,t,e,r,o,s)}function h(t,e,i,n,r,o,s){return a(e^i^n,t,e,r,o,s)}function d(t,e,i,n,r,o,s){return a(i^(e|~n),t,e,r,o,s)}function c(t,e){t[e>>5]|=128<<e%32,t[(e+64>>>9<<4)+14]=e;var i,n,r,s,a,c=1732584193,f=-271733879,p=-1732584194,E=271733878;for(i=0;i<t.length;i+=16)n=c,r=f,s=p,a=E,c=u(c,f,p,E,t[i],7,-680876936),E=u(E,c,f,p,t[i+1],12,-389564586),p=u(p,E,c,f,t[i+2],17,606105819),f=u(f,p,E,c,t[i+3],22,-1044525330),c=u(c,f,p,E,t[i+4],7,-176418897),E=u(E,c,f,p,t[i+5],12,1200080426),p=u(p,E,c,f,t[i+6],17,-1473231341),f=u(f,p,E,c,t[i+7],22,-45705983),c=u(c,f,p,E,t[i+8],7,1770035416),E=u(E,c,f,p,t[i+9],12,-1958414417),p=u(p,E,c,f,t[i+10],17,-42063),f=u(f,p,E,c,t[i+11],22,-1990404162),c=u(c,f,p,E,t[i+12],7,1804603682),E=u(E,c,f,p,t[i+13],12,-40341101),p=u(p,E,c,f,t[i+14],17,-1502002290),f=u(f,p,E,c,t[i+15],22,1236535329),c=l(c,f,p,E,t[i+1],5,-165796510),E=l(E,c,f,p,t[i+6],9,-1069501632),p=l(p,E,c,f,t[i+11],14,643717713),f=l(f,p,E,c,t[i],20,-373897302),c=l(c,f,p,E,t[i+5],5,-701558691),E=l(E,c,f,p,t[i+10],9,38016083),p=l(p,E,c,f,t[i+15],14,-660478335),f=l(f,p,E,c,t[i+4],20,-405537848),c=l(c,f,p,E,t[i+9],5,568446438),E=l(E,c,f,p,t[i+14],9,-1019803690),p=l(p,E,c,f,t[i+3],14,-187363961),f=l(f,p,E,c,t[i+8],20,1163531501),c=l(c,f,p,E,t[i+13],5,-1444681467),E=l(E,c,f,p,t[i+2],9,-51403784),p=l(p,E,c,f,t[i+7],14,1735328473),f=l(f,p,E,c,t[i+12],20,-1926607734),c=h(c,f,p,E,t[i+5],4,-378558),E=h(E,c,f,p,t[i+8],11,-2022574463),p=h(p,E,c,f,t[i+11],16,1839030562),f=h(f,p,E,c,t[i+14],23,-35309556),c=h(c,f,p,E,t[i+1],4,-1530992060),E=h(E,c,f,p,t[i+4],11,1272893353),p=h(p,E,c,f,t[i+7],16,-155497632),f=h(f,p,E,c,t[i+10],23,-1094730640),c=h(c,f,p,E,t[i+13],4,681279174),E=h(E,c,f,p,t[i],11,-358537222),p=h(p,E,c,f,t[i+3],16,-722521979),f=h(f,p,E,c,t[i+6],23,76029189),c=h(c,f,p,E,t[i+9],4,-640364487),E=h(E,c,f,p,t[i+12],11,-421815835),p=h(p,E,c,f,t[i+15],16,530742520),f=h(f,p,E,c,t[i+2],23,-995338651),c=d(c,f,p,E,t[i],6,-198630844),E=d(E,c,f,p,t[i+7],10,1126891415),p=d(p,E,c,f,t[i+14],15,-1416354905),f=d(f,p,E,c,t[i+5],21,-57434055),c=d(c,f,p,E,t[i+12],6,1700485571),E=d(E,c,f,p,t[i+3],10,-1894986606),p=d(p,E,c,f,t[i+10],15,-1051523),f=d(f,p,E,c,t[i+1],21,-2054922799),c=d(c,f,p,E,t[i+8],6,1873313359),E=d(E,c,f,p,t[i+15],10,-30611744),p=d(p,E,c,f,t[i+6],15,-1560198380),f=d(f,p,E,c,t[i+13],21,1309151649),c=d(c,f,p,E,t[i+4],6,-145523070),E=d(E,c,f,p,t[i+11],10,-1120210379),p=d(p,E,c,f,t[i+2],15,718787259),f=d(f,p,E,c,t[i+9],21,-343485551),c=o(c,n),f=o(f,r),p=o(p,s),E=o(E,a);return[c,f,p,E]}function f(t){var e,i="";for(e=0;e<32*t.length;e+=8)i+=String.fromCharCode(t[e>>5]>>>e%32&255);return i}function p(t){var e,i=[];for(i[(t.length>>2)-1]=void 0,e=0;e<i.length;e+=1)i[e]=0;for(e=0;e<8*t.length;e+=8)i[e>>5]|=(255&t.charCodeAt(e/8))<<e%32;return i}function E(t){return f(c(p(t),8*t.length))}function m(t,e){var i,n,r=p(t),o=[],s=[];for(o[15]=s[15]=void 0,r.length>16&&(r=c(r,8*t.length)),i=0;16>i;i+=1)o[i]=909522486^r[i],s[i]=1549556828^r[i];return n=c(o.concat(p(e)),512+8*e.length),f(c(s.concat(n),640))}function _(t){var e,i,n="0123456789abcdef",r="";for(i=0;i<t.length;i+=1)e=t.charCodeAt(i),r+=n.charAt(e>>>4&15)+n.charAt(15&e);return r}function g(t){return unescape(encodeURIComponent(t))}function v(t){return E(g(t))}function S(t){return _(v(t))}function T(t,e){return m(g(t),g(e))}function y(t,e){return _(T(t,e))}function A(t,e,i){return e?i?T(e,t):y(e,t):i?v(t):S(t)}n=function(){return A}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))}(this)},function(t,e,i){var n,r=function(t,e){function i(){this.constructor=t}for(var n in e)o.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},o={}.hasOwnProperty;n=function(){var t,e,n,o;return t=i(97),e=i(96),o=$.Deferred(),n=function(e){function i(e){o.reject({type:t.NO_ADS,message:e.reason})}return r(i,e),i.prototype.loadAdProviderSdk=function(){return o.promise()},i}(e)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n,r=function(t,e){function i(){this.constructor=t}for(var n in e)o.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},o={}.hasOwnProperty;n=function(){var t,e,n,o,s,a,u,l,h,d,c,f,p,E,m,_,g,v;return d=i(40),o=i(99),E=i(25).get("Ads"),n=i(167),t=i(97),e=i(96),a=i(204),v=null,f=null,m=null,_=null,g={globalAdTimeout:0,loadAd:0,initAd:0,startAd:0,bufferAd:0},p=function(e,i){var r,o,s,a,u;if(null==i&&(i=null),null===v&&(v=$.Deferred()),a=document.getElementById("dmp-vpaid-frame"),null===a){if(!i)return v.reject(c(t.VPAID_UNDEFINED_URL,"VPAID url is undefined")),v.promise();u="loadAd",o=function(e,i){var n;null==i&&(i=!1),n=i===!0?t.VPAID_SDK_LOAD_TIMEOUT:t.VPAID_SDK_LOAD_ERROR,v.reject(c(n,e))},s=function(){var t;t=a.contentWindow.getVPAIDAd(),t.handshakeVersion("2.0"),g.loadAd=(new Date).getTime()-r,E.log("LoadAd step - end",g.loadAd),e.clearAdTimeout(n.types.GLOBAL_AD),v.resolve(t)},r=(new Date).getTime(),e.setAdTimeout(n.types.GLOBAL_AD,e.getTimeoutRemaingTime(u),function(){o(null,!0)}),a=document.createElement("iframe"),a.id="dmp-vpaid-frame",a.style.display="none",a.onload=function(){var t;return t=a.contentWindow.document.createElement("script"),t.src=i,t.onerror=function(){return o("unreacheable VPAID url")},t.onload=function(){return s()},a.contentWindow.document.body.appendChild(t)},document.body.appendChild(a)}return v.promise()},u=function(e,i,r,o,s,u){var l,h,d,p,m,_,v;if(null===f){f=$.Deferred(),v="initAd",_=function(){e.clearAdTimeout(n.types.GLOBAL_AD),g.initAd=(new Date).getTime()-h,E.log("InitAd step - end",g.initAd),i.unsubscribe(p,a.events.LOADED),i.unsubscribe(d,a.events.ERROR)},p=function(){_(),"rejected"!==f.state()&&f.resolve(i)},d=function(t,e){return m(t,e)},m=function(e,n,r){var o;null==r&&(r=!1),_(),i.stopAd(),o=r===!0?t.VPAID_INIT_TIMEOUT:t.VPAID_INIT_ERROR,f.reject(c(o,e,n))},i.subscribe(p,a.events.LOADED),i.subscribe(d,a.events.ERROR),h=(new Date).getTime(),e.setAdTimeout(n.types.GLOBAL_AD,e.getTimeoutRemaingTime(v),function(){m(null,null,!0)});try{i.initAd(r,o,"normal",600,s,u)}catch(S){l=S,m(l.message)}}return f.promise()},l=function(e,i){var r,o,s,u,l,h,d,f;if(null===m){m=$.Deferred(),f="startAd",d=function(){i.unsubscribe(s,a.events.STARTED),i.unsubscribe(u,a.events.VIDEO_START),i.unsubscribe(o,a.events.ERROR)},s=function(){e.clearAdTimeout(n.types.GLOBAL_AD),g.startAd=(new Date).getTime()-h,E.log("StartAd step - end",g.startAd),i.unsubscribe(o,a.events.ERROR)},u=function(){g.bufferAd=(new Date).getTime()-h-g.startAd,d(),m.resolve(i)},o=function(t,e){return l(t,e)},l=function(e,n,r){var o;null==r&&(r=!1),d(),i.stopAd(),o=r===!0?t.VPAID_START_TIMEOUT:t.VPAID_START_ERROR,m.reject(c(o,e,n))},i.subscribe(s,a.events.STARTED),i.subscribe(u,a.events.VIDEO_START),i.subscribe(o,a.events.ERROR),h=(new Date).getTime(),e.setAdTimeout(n.types.GLOBAL_AD,e.getTimeoutRemaingTime(f),function(){l(null,null,!0)});try{i.startAd()}catch(p){r=p,l(r.message)}}return m.promise()},h=function(e,i){var r,o,s,u,l;if(null===_){_=$.Deferred(),l=function(){e.clearAdTimeout(n.types.STOP_AD),i.unsubscribe(s,a.events.STOPPED),i.unsubscribe(o,a.events.ERROR)},s=function(){l(),_.resolve(i)},o=function(t,e){return u(t,e)},u=function(e,i,n){var r;null==n&&(n=!1),l(),r=n===!0?t.VPAID_STOP_TIMEOUT:t.VPAID_STOP_ERROR,_.reject(c(r,e,i))},i.subscribe(s,a.events.STOPPED),i.subscribe(o,a.events.ERROR),e.setAdTimeout(n.types.STOP_AD,0,function(){o("Timeout reached for "+n.types.STOP_AD,!0)});try{i.stopAd()}catch(h){r=h,o(r.message)}}return _.promise()},c=function(t,e,i){return{type:t,message:e,code:i}},s=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return r(e,t),e.prototype.getCreativeData=function(t){var e,i,n;return(i=this.config.params.LR_TAGS)&&(i=i.replace(/(PTYPE_)web/,"$1html"),this.config.params.LR_TAGS=i),d.requiresNativePlayer()?(this.config.params.LR_LAYOUT_SKIN_ID=2,this.config.params.LR_LAYOUT_SKIN_MESSAGE=o.__("ads:::Advertisement: {COUNTDOWN} seconds"),this.config.params.LR_SKIP_COUNTDOWN=o.__("ads:::Skip in {COUNTDOWN} seconds"),this.config.params.LR_SKIP_MESSAGE=o.__("ads:::Skip to video")):this.config.params.LR_LAYOUT_SKIN_ID=0,(e=this.config.params.LR_DM_PTYPE)&&(this.config.params.LR_DM_PTYPE=e.replace(/web/,"html")),null==this.config.params.LR_AUTOPLAY&&(this.config.params.LR_AUTOPLAY=t.canAutoplay?1:0),("userHome"===(n=this.config.params.LR_DM_PAGE)||"playerPage"===n||"playlist"===n)&&(this.config.params.LR_AUTOPLAY=0),(null!=t?t.LR_VIDEO_POSITION:void 0)&&(this.config.params.LR_VIDEO_POSITION=t.LR_VIDEO_POSITION),this.config.params.LR_ADUNIT=(null!=t?t.LR_ADUNIT:void 0)?t.LR_ADUNIT:"in",(null!=t?t.LR_POD_SLOTS:void 0)&&(this.config.params.LR_POD_SLOTS=t.LR_POD_SLOTS),this.config.params},e.prototype.getEnvironmentVars=function(){return{slot:this.videoWrapper,videoSlot:this.videoElement,videoSlotCanAutoPlay:!0}},e.prototype.loadAdProviderSdk=function(t){return t.cache||(this.mediaFile=null,f=null,m=null,_=null,g.loadAd=0,g.initAd=0),g.globalAdTimeout=this.getTimeoutDurationForStep(n.types.GLOBAL_AD),g.startAd=0,g.bufferAd=0,p(this,t.sdkLiverailUrl).then(function(t){return function(e){return null!=t.mediaFile?t.mediaFile:t.mediaFile=new a(e,t.config.ac_token)}}(this))},e.prototype.callInitAd=function(t){var e,i,n,r;return e=this.getCreativeData(t),i=this.getEnvironmentVars(),n=t.size.player.height,r=t.size.player.width,u(this,this.mediaFile,r,n,e,i)},e.prototype.callStartAd=function(){return l(this,this.mediaFile)},e.prototype.callStopAd=function(){return h(this,this.mediaFile)},e.prototype.getTimeoutDurationForStep=function(t){var e,i;return e=this.config.timeouts,i=function(){if(!e)return null;switch(t){case n.types.GLOBAL_AD:return e.global;case n.types.STOP_AD:return e.stop;default:return E.warn("Unkonwn Timeout Type :",t),null}}(),i||n.defaults[t]},e.prototype.getTimeoutInfo=function(){return g},e.prototype.getTimeoutRemaingTime=function(t){switch(t){case"loadAd":return g.globalAdTimeout;case"initAd":return g.globalAdTimeout-g.loadAd;case"startAd":return g.globalAdTimeout-g.loadAd-g.initAd}},e}(e)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n,r=function(t,e){function i(){this.constructor=t}for(var n in e)o.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},o={}.hasOwnProperty;n=function(){var t,e,n,o,s,a,u,l,h,d,c,f,p,E,m,_,g,v,S;return d=i(3),m=i(25).get("Ads"),s=i(205),n=i(167),t=i(97),e=i(96),a=i(206),u=i(217),o=i(218),E=null,p=null,g=null,v=null,S={globalAdTimeout:0,loadAd:0,initAd:0,startAd:0,bufferAd:0},h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",_=function(t){var e,i,n,r,o,s,a,u,l,d,c;for(r=[],o=a=0;4>a;o=++a)r.push(Math.floor(64*Math.random()));for(e=btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""),n="",o=u=0,d=e.length;d>=0?d>u:u>d;o=d>=0?++u:--u)c=r[o%4],i=e.charAt(o),s=h.indexOf(i),n+=h.charAt((s+c)%64);for(o=l=0;4>l;o=++l)n+=h.charAt(r[o]);return n},f=function(t){var e;return e=_("proxy=1&lr_params="+encodeURIComponent($.param(t))),"/ac/video/"+d.metadata("id")+"?"+e},c=function(e,i){var n,r,s,a,u,l,h,d,c,f;if(r=$.Deferred(),(null!=e&&null!=(u=e.adBreaks)?u.length:void 0)>0)for(l=null!=e?e.adBreaks:void 0,s=0,a=l.length;a>s;s++){switch(n=l[s],i){case"preroll":if("start"!==n.timeOffset)continue;break;case"postroll":if("end"!==n.timeOffset)continue;break;default:continue}return null!=(null!=n&&null!=(h=n.adSource)?h.vastAdData:void 0)?(f={supported:function(){return!0},get:function(t,e,i){var r,o;return"xml"===t?(o={documentElement:null!=n&&null!=(r=n.adSource)?r.vastAdData:void 0},i(null,o)):$.get(t).done(function(t){return i(null,t)}).fail(function(t,e){return i(e,null)})}},o.client.get("xml",{urlhandler:f},function(e){return e?r.resolve(e):r.reject({type:t.VAST_XML_PARSING_FAILED})})):null!=(null!=n&&null!=(d=n.adSource)?d.adTagURI:void 0)?o.client.get(null!=n&&null!=(c=n.adSource)?c.adTagURI:void 0,function(e){return e?r.resolve(e):r.reject({type:t.VAST_XML_PARSING_FAILED})}):(m.warn("VMAP empty ad source"),r.reject({type:t.VMAP_NO_ADS})),r.promise()}return r.reject({type:t.VMAP_NO_ADS}),r.promise()},l=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return r(i,e),i.prototype.loadAdProviderSdk=function(e){var i,r;return e.cache||(this.mediaFile=null,p=null,g=null,v=null),S.globalAdTimeout=this.getTimeoutDurationForStep(n.types.GLOBAL_AD),this.deadline=(new Date).getTime()+S.globalAdTimeout,S.startAd=0,E||(E=this.newTimedDeferred(t.VMAP_LOAD_TIMEOUT),r=this.deadline-(new Date).getTime(),i=$.ajax({url:f(this.getCreativeData()),dataType:"xml",timeout:r,xhrFields:{withCredentials:!0}}),i.always(function(t){return function(){return t.clearAdTimeout(n.types.GLOBAL_AD),S.loadAd=t.remaining(),m.log("LoadAd ",S.loadAd)}}(this)).done(function(e){return function(i){var n;try{return e.vmap=new u(i),E.resolve()}catch(r){return n=r,E.reject({type:t.VMAP_LOAD_XML_PARSING_FAILED,message:n})}}}(this)).fail(function(e,i){var n;return n=function(){switch(i){case"timeout":return t.VMAP_LOAD_TIMEOUT;case"error":return 0===e.status?t.VMAP_LOAD_NET_ERROR:t.VMAP_LOAD_ERROR;case"parsererror":return t.VMAP_LOAD_XML_PARSING_FAILED;default:return t.VMAP_LOAD_ERROR}}(),E.reject({message:i,type:n})})),E.promise()},i.prototype.callInitAd=function(e){return p||(p=this.newTimedDeferred(t.VMAP_INIT_TIMEOUT),c(this.vmap,e.position).done(function(i){return function(n){var r,o,s,u;return s=e.size.player.height,u=e.size.player.width,r=i.getCreativeData(),o={slot:i.videoWrapper,videoSlot:i.videoElement,vast:n,vastRules:{closeButtonDisplayDelay:5}},i.mediaFile=new a,i.mediaFile.initAd(u,s,null,null,r,o).done(function(){return p.resolve(i.mediaFile)}).fail(function(e){return p.reject({message:e,type:t.VMAP_INIT_ERROR})})}}(this)).fail(function(t){return p.reject(t)}).always(function(t){return function(){return t.clearAdTimeout(n.types.GLOBAL_AD),S.initAd=t.remaining(),m.log("InitAd ",S.initAd)}}(this))),p.promise()},i.prototype.callStartAd=function(){var e,i,r,o;if(!g){g=this.newTimedDeferred(t.VMAP_START_TIMEOUT),o=function(t){return function(){return t.clearAdTimeout(n.types.GLOBAL_AD),S.startAd=t.remaining(),m.log("StartAd ",S.startAd),t.mediaFile.unsubscribe(r,s.events.STARTED),t.mediaFile.unsubscribe(i,s.events.ERROR)}}(this),r=function(t){return function(){return o(),g.resolve(t.mediaFile)}}(this),i=function(e){return function(i){return o(),e.mediaFile.stopAd(),g.reject({message:i,type:t.VMAP_START_ERROR})}}(this),this.mediaFile.subscribe(r,s.events.STARTED),this.mediaFile.subscribe(i,s.events.ERROR);try{this.mediaFile.startAd()}catch(a){e=a,i(e.message)}}return g.promise()},i.prototype.callStopAd=function(){var e,i,r,o;if(!v){v=$.Deferred(),this.setAdTimeout(n.types.STOP_AD,0,function(){v.reject({message:"Timeout reached for "+n.types.STOP_AD,type:t.VMAP_STOP_TIMEOUT})}),o=function(t){return function(){return t.clearAdTimeout(n.types.GLOBAL_AD),S.stopAd=t.remaining(),m.log("StopAd ",S.stopAd),t.mediaFile.unsubscribe(r,s.events.STOPED),t.mediaFile.unsubscribe(i,s.events.ERROR)}}(this),r=function(t){return function(){return o(),v.resolve(t.mediaFile)}}(this),i=function(e){return o(),v.reject({message:e,type:t.VMAP_STOP_ERROR})},this.mediaFile.subscribe(r,s.events.STOPED),this.mediaFile.subscribe(i,s.events.ERROR);try{this.mediaFile.stopAd()}catch(a){e=a,i(e.message)}}return v.promise()},i.prototype.getCreativeData=function(t){var e,i,n;return(i=this.config.params.LR_TAGS)&&(i=i.replace(/(PTYPE_)web/,"$1html"),this.config.params.LR_TAGS=i),(e=this.config.params.LR_DM_PTYPE)&&(this.config.params.LR_DM_PTYPE=e.replace(/web/,"html")),null==this.config.params.LR_AUTOPLAY&&(this.config.params.LR_AUTOPLAY=(null!=t?t.canAutoplay:void 0)?1:0),("userHome"===(n=this.config.params.LR_DM_PAGE)||"playerPage"===n||"playlist"===n)&&(this.config.params.LR_AUTOPLAY=0),(null!=t?t.LR_VIDEO_POSITION:void 0)&&(this.config.params.LR_VIDEO_POSITION=null!=t?t.LR_VIDEO_POSITION:void 0),this.config.params},i.prototype.getTimeoutInfo=function(){return S},i.prototype.getTimeoutDurationForStep=function(t){var e,i;return e=this.config.timeouts,i=function(){if(!e)return null;switch(t){case n.types.GLOBAL_AD:return e.global;case n.types.STOP_AD:return e.stop;default:return m.warn("Unkonwn Timeout Type :",t),null}}(),i||n.defaults[t]},i}(e)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n,r;n=[i(91),i(45),i(47)],r=function(t,e,i){"use strict";function n(t){t.events.slice().forEach(function(t){var e=[t.type];t.element&&e.unshift(t.element),"function"==typeof t.callback&&e.push(t.callback),this.off.apply(this,e)},t.instance)}function r(t,e){try{window.postMessage(e,"*")}catch(i){throw console.log("unserializable data for event",t,":",e),new Error(["The event",t,"on component",this.toString(),"was triggered with non-serializable data"].join(" "))}}function o(t){var e,n=[];if(this.attr=new this.attrDef,i.enabled&&window.console){for(var r in this.attrDef.prototype)n.push(r);e=Object.keys(t);for(var o=e.length-1;o>=0;o--)if(-1==n.indexOf(e[o])){console.warn('Passed unused attributes including "'+e[o]+'" to component "'+this.toString()+'".');break}}for(var r in this.attrDef.prototype){if("undefined"==typeof t[r]){if(null===this.attr[r])throw new Error('Required attribute "'+r+'" not specified in attachTo for component "'+this.toString()+'".')}else this.attr[r]=t[r];"function"==typeof this.attr[r]&&(this.attr[r]=this.attr[r].call(this))}}function s(t){var e=Object.create(t);for(var i in this.defaults)t.hasOwnProperty(i)||(e[i]=this.defaults[i]);this.attr=e,Object.keys(this.defaults||{}).forEach(function(t){if(null===this.defaults[t]&&null===this.attr[t])throw new Error('Required attribute "'+t+'" not specified in attachTo for component "'+this.toString()+'".')},this)}function a(t){return function(e,i){$(e.target).trigger(t,i)}}function u(){this.trigger=function(){var t,e,n,o,s,a=arguments.length-1,u=arguments[a];return"string"==typeof u||u&&u.defaultBehavior||(a--,n=u),1==a?(t=$(arguments[0]),o=arguments[1]):(t=this.$node,o=arguments[0]),o.defaultBehavior&&(s=o.defaultBehavior,o=$.Event(o.type)),e=o.type||o,i.enabled&&window.postMessage&&r.call(this,e,n),"object"==typeof this.attr.eventData&&(n=$.extend(!0,{},this.attr.eventData,n)),t.trigger(o||e,n),s&&!o.isDefaultPrevented()&&(this[s]||s).call(this,o,n),t},this.on=function(){var e,i,n,r,o=arguments.length-1,s=arguments[o];if(r="object"==typeof s?t.delegate(this.resolveDelegateRules(s)):"string"==typeof s?a(s):s,2==o?(e=$(arguments[0]),i=arguments[1]):(e=this.$node,i=arguments[0]),"function"!=typeof r&&"object"!=typeof r)throw new Error('Unable to bind to "'+i+'" because the given callback is not a function or an object');return n=r.bind(this),n.target=r,n.context=this,e.on(i,n),r.bound||(r.bound=[]),r.bound.push(n),n},this.off=function(){var t,i,n,r=arguments.length-1;if("function"==typeof arguments[r]&&(n=arguments[r],r-=1),1==r?(t=$(arguments[0]),i=arguments[1]):(t=this.$node,i=arguments[0]),n){var o=n.target?n.target.bound:n.bound||[];o&&o.some(function(t,e,i){return t.context&&this.identity==t.context.identity?(i.splice(e,1),n=t,!0):void 0},this),t.off(i,n)}else e.findInstanceInfo(this).events.forEach(function(e){i==e.type&&t.off(i,e.callback)});return t},this.resolveDelegateRules=function(t){var e={};return Object.keys(t).forEach(function(i){if(!(i in this.attr))throw new Error('Component "'+this.toString()+'" wants to listen on "'+i+'" but no such attribute was defined.');e[this.attr[i]]="string"==typeof t[i]?a(t[i]):t[i]},this),e},this.select=function(t){return this.$node.find(this.attr[t])},this.attributes=function(t){var e=function(){};this.attrDef&&(e.prototype=new this.attrDef);for(var i in t)e.prototype[i]=t[i];this.attrDef=e},this.defaultAttrs=function(e){t.push(this.defaults,e,!0)||(this.defaults=e)},this.initialize=function(t,e){if(e=e||{},this.identity||(this.identity=l++),!t)throw new Error("Component needs a node");return t.jquery?(this.node=t[0],this.$node=t):(this.node=t,this.$node=$(t)),this.attrDef?o.call(this,e):s.call(this,e),this},this.teardown=function(){n(e.findInstanceInfo(this))}}var l=0;return u}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n,r;n=[i(91)],r=function(t){"use strict";function e(t){var e=t.tagName?t.tagName.toLowerCase():t.toString(),i=t.className?"."+t.className:"",n=e+i;return t.tagName?["'","'"].join(n):n}function i(t,i,n){if(window.DEBUG&&window.DEBUG.enabled){var o,s,a,u,l,h,d,c,f,p;"function"==typeof n[n.length-1]&&(u=n.pop(),u=u.unbound||u),1==n.length?(a=i.$node[0],s=n[0]):2!=n.length||"object"!=typeof n[1]||n[1].type?(a=n[0],s=n[1],"trigger"==t&&(l=n[2])):(a=i.$node[0],s=n[0],"trigger"==t&&(l=n[1])),o="object"==typeof s?s.type:s,h=(!1).events.logFilter,c="all"==h.actions||h.actions.indexOf(t)>-1,d=function(t){return t.test?t:new RegExp("^"+t.replace(/\*/g,".*")+"$")},f="all"==h.eventNames||h.eventNames.some(function(t){return d(t).test(o)}),c&&f&&(p=[r[t],t,"["+o+"]"],l&&p.push(l),p.push(e(a)),p.push(i.constructor.describe.split(" ").slice(0,3).join(" ")),console.groupCollapsed&&"trigger"==t&&console.groupCollapsed(t,o),console.info.apply(console,p))}}function n(){this.before("trigger",function(){i("trigger",this,t.toArray(arguments))}),console.groupCollapsed&&this.after("trigger",function(){console.groupEnd()}),this.before("on",function(){i("on",this,t.toArray(arguments))}),this.before("off",function(){i("off",this,t.toArray(arguments))
})}var r={on:"<-",trigger:"->",off:"x "};return n}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n;n=function(){return{types:{GLOBAL_AD:"GLOBAL_AD",STOP_AD:"STOP_AD"},defaults:{GLOBAL_AD:1e4,STOP_AD:250}}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n;return e=i(3),t=i(5),n=function(){return this.setAutoHide=function(t){return this.autoHideHistory.push(this.autoHide),this.autoHide=t},this.hasAutoHideHistory=function(){return this.autoHideHistory.length>0},this.resetAutoHide=function(){return this.autoHide=this.hasAutoHideHistory()?this.autoHideHistory.pop():!0},this.after("initialize",function(){return this.autoHide=!0,this.autoHideHistory=[],this.on(e.rootNode(),[t.CHROMECAST_LAUNCH_REQUESTED,t.CHROMECAST_REMOTE_ENABLED].join(" "),function(){return this.setAutoHide(!1)}),this.on(e.rootNode(),t.CHROMECAST_SESSION_STOPPED,function(){return this.resetAutoHide()}),this.on(e.rootNode(),t.AIRPLAY_WIRELESS_STATE,function(t,e){return e.active?this.setAutoHide(!1):this.resetAutoHide()})})}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n;return e=i(3),t=i(5),n=function(){return this.playerHasOpenMenu=function(){return this._playerHasOpenMenu},this.after("initialize",function(){return this.on(e.rootNode(),t.MENU_DID_SHOW,function(){return this._playerHasOpenMenu=!0}),this.on(e.rootNode(),t.MENU_DID_HIDE,function(){return this._playerHasOpenMenu=!1})})}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t;return t=function(){return this.attributes({nodeSelector:null,containerSelector:null,containerType:null,tabindex:null})}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t;return t=function(){return this.highlightIcon=function(t){return t?this.$node.addClass("dmp_is-active"):this.$node.removeClass("dmp_is-active")}}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n;return e=i(3),t=i(5),n=function(){return this.attributes({tooltipAlign:"default"}),this.requestTooltip=function(){return this.trigger(t.SHOW_TOOLTIP_REQUESTED,{targetSelector:this.attr.nodeSelector,text:this.attr.tooltipText,align:this.attr.tooltipAlign,containerType:this.attr.containerType})},this.requestTooltipUpdate=function(){return this.trigger(t.UPDATE_TOOLTIP_REQUESTED,{targetSelector:this.attr.nodeSelector,text:this.attr.tooltipText,align:this.attr.tooltipAlign,containerType:this.attr.containerType})},this.requestTooltipHide=function(){return this.trigger(t.HIDE_TOOLTIP_REQUESTED,{containerType:this.attr.containerType})},this.after("initialize",function(){return this.on("mouseenter focus",function(){return this.requestTooltip()}),this.on("mouseenter",function(){return this._mouseOverButton=!0}),this.on("mouseleave",function(){return this._mouseOverButton=!1,this.requestTooltipHide()}),this.on("blur",function(){return this._mouseOverButton?void 0:this.requestTooltipHide()})})}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e;return t=i(30),e=function(){return this.fromStorage=function(e,i){return function(){return t.get(e,i)}},this.toStorage=function(e,i,n){return function(r){return t.set(e,i,r,n)}},this.removeStorage=function(e){return function(){return t.remove(e,key)}},this.clearStorage=function(e){return function(){return t.clear(e)}}}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n;return e=i(3),t=i(5),n=function(){return this.attributes({menuAlign:"default",menuContentId:null}),this.before("hideNode",function(e){return e?void 0:this.trigger(t.HIDE_MENU_REQUESTED,{targetSelector:this.attr.nodeSelector,menuContentId:this.attr.menuContentId})}),this.after("initialize",function(){return this.on(e.rootNode(),t.MENU_DID_SHOW,function(){return this.menuVisible=!0}),this.on(e.rootNode(),t.MENU_DID_HIDE,function(){return this.menuVisible=!1}),this.on(e.rootNode(),t.ERROR_DISPLAY_REQUESTED,function(){return this.trigger(t.HIDE_MENU_REQUESTED)}),this.on(["click",t.PRESSED_ENTER].join(" "),function(){return this.$node.attr("aria-expanded","false"===this.$node.attr("aria-expanded")?!0:!1),this.trigger(t.TOGGLE_MENU_REQUESTED,{targetSelector:this.attr.nodeSelector,menuContentId:this.attr.menuContentId,align:this.attr.menuAlign})}),this.on([t.PRESSED_UP,t.PRESSED_DOWN].join(" "),function(e){return e.stopPropagation(),this.trigger(t.SHOW_MENU_REQUESTED,{targetSelector:this.attr.nodeSelector,menuContentId:this.attr.menuContentId,align:this.attr.menuAlign}),this.trigger(t.FOCUS_FIRST_MENUITEM_REQUESTED,{menuContentId:this.attr.menuContentId})}),this.on("keydown",function(e){return this.menuVisible&&9===e.which?(e.stopPropagation(),this.trigger(t.HIDE_MENU_REQUESTED)):void 0})})}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t;return t=function(){return this.attributes({sliderValue:0,sliderIsDragging:!1,ariaNodeSelector:!1,railTrackSelector:null,valueTrackSelector:null,playheadCenterOffset:0}),this.sliderValueForMouseEvent=function(t){var e,i,n,r;return n=this.select("railTrackSelector").width(),e=n-this.attr.trackMargin.end,r=n-this.attr.trackMargin.start-this.attr.trackMargin.end,i=t.pageX-this.select("railTrackSelector").offset().left+this.attr.playheadCenterOffset,i<this.attr.trackMargin.start&&(i=this.attr.trackMargin.start),i>e&&(i=e),(i-this.attr.trackMargin.start)/r},this._handleValueChange=function(t){return this.setSliderValue(this.sliderValueForMouseEvent(t))},this.setSliderValue=function(t){var e;return this.attr.sliderValue=t,this.updateSliderUI(t),e=this.attr.ariaNodeSelector?this.select("ariaNodeSelector"):this.$node,e.attr("aria-valuenow",Math.floor(100*this.attr.sliderValue))},this.updateSliderUI=function(t){var e,i;return i=this.select("railTrackSelector").width(),e=i>0?100*(this.attr.trackMargin.start/i+t*(i-this.attr.trackMargin.start-this.attr.trackMargin.end)/i):0,this.select("valueTrackSelector").width(Math.min(e,100)+"%")},this.setSliderEnabled=function(t){var e;return this._sliderEnabled=t,e=this.attr.ariaNodeSelector?this.select("ariaNodeSelector"):this.$node,this._sliderEnabled?e.attr("role","slider"):e.attr("role","progressbar")},this.after("initialize",function(){return this._sliderEnabled=!0,this.attr.trackMargin||(this.attr.trackMargin={start:0,end:0}),this.on("dragstart",function(t){return this._sliderEnabled&&(this.attr.sliderIsDragging=!0,this._handleValueChange(t),this.handleDragStart)?this.handleDragStart():void 0}),this.on("drag",function(t){return this._sliderEnabled&&(this._handleValueChange(t),this.handleDrag)?this.handleDrag(t):void 0}),this.on("dragend",function(){return this._sliderEnabled&&(this.attr.sliderIsDragging=!1,this.handleDragEnd)?this.handleDragEnd():void 0})})}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r;return t=i(94),r=i(101),n=i(207),e=function(){return this.attributes({textSelector:".dmp_Filmstrip-text"}),this.willUpdateFilmstripPosition=function(t){return this.select("textSelector").text(this.formatTime(t*this.attr.duration))}},t(n,e,r)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s;return n=i(94),e=i(3),t=i(5),o=i(207),s=i(134),r=function(){return this.attributes({totFrames:100,framePerRow:10,frameHeight:60}),this.onQualityChanged=function(i,n){return this.off(e.rootNode(),t.QUALITY_CHANGED,this.onQualityChanged),this.imageReady?(this.frameWidth=n.videoWidth/n.videoHeight>1.65?parseInt(16*this.attr.frameHeight/9,10):parseInt(4*this.attr.frameHeight/3,10),this.$node.css("width",this.frameWidth),this.unavailable=!1):void 0},this.willUpdateFilmstripPosition=function(t){var e,i,n,r,o;return o=this.attr.duration*t,i=this.attr.duration/this.attr.totFrames,n=parseInt(Math.floor(o/i)),r=parseInt(Math.floor(n/this.attr.framePerRow)),e=n%this.attr.framePerRow,this.$node.css("background-position",-this.frameWidth*e+"px "+-this.attr.frameHeight*r+"px")},this.after("initialize",function(){return this.unavailable=!0,this.$node.css("height",this.attr.frameHeight+1),this.on(e.rootNode(),t.VIDEO_SELECTED,function(){var i;return i=e.metadata("filmstrip_url"),null!=i?(this.preloadImage(i),this.on(e.rootNode(),t.QUALITY_CHANGED,this.onQualityChanged)):this.unavailable=!0}),this.on(t.IMAGE_PRELOADED,function(t,e){return this.$node.css("background-image","url("+e.src+")"),this.imageReady=!0}),this.on(t.IMAGE_PRELOAD_ERROR,function(){return this.unavailable=!0,this.imageReady=!1})})},n(o,r,s)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n;return e=i(94),n=i(207),t=function(){return this.willUpdateFilmstripPosition=function(){}},e(n,t)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r;return r=i(94),n=i(3),t=i(5),e=function(){return this.attributes({time:0,duration:0}),this.updateBufferBar=function(){var t,e;return t=this.attr.duration>0?this.attr.time/this.attr.duration:0,e=Math.max(Math.min(100*t,100),0),this.$node.width(e+"%")},this.after("initialize",function(){return this.on(n.rootNode(),t.LOAD_VIDEO,function(){return this.attr.time=0,this.updateBufferBar()}),this.on(n.rootNode(),t.VIDEO_DURATION_CHANGE,function(t,e){return this.attr.duration=e.duration,this.updateBufferBar()}),this.on(n.rootNode(),t.VIDEO_BUFFER_UPDATE,function(t,e){return this.attr.time=e.buffer,this.updateBufferBar()}),this.on(n.rootNode(),t.CHROMECAST_REMOTE_ENABLED,function(){return this.attr.time=0,this.updateBufferBar()})})},r(e)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o;return n=i(3),t=i(5),e=i(44),o=i(102),r=function(){return this.highlightCurrentMenuItem=function(t,e){return this.select("menuItemSelector").removeClass("dmp_is-active dmp_is-pending dmp_highlight-contrast").attr("aria-checked",!1),e?$(t).addClass("dmp_is-pending").attr("aria-checked",!0):$(t).addClass("dmp_is-active dmp_highlight-contrast").attr("aria-checked",!0)},this._focusFirstMenuItem=function(){return this.focusedItem=this.select("menuItemSelector").first(),this.focusedItem.focus()},this._focusNextMenuItem=function(){return this.focusedItem?(this.focusedItem=this.focusedItem.next().length?this.focusedItem.next():this.select("menuItemSelector").first(),this.focusedItem.focus()):this._focusFirstMenuItem()},this._focusPrevMenuItem=function(){return this.focusedItem?(this.focusedItem=this.focusedItem.prev().length?this.focusedItem.prev():this.select("menuItemSelector").last(),this.focusedItem.focus()):this._focusFirstMenuItem()},this.after("initialize",function(){return this.on(n.rootNode(),t.SHOW_MENU_CONTENT_REQUESTED,function(t,e){return e.menuContentId===this.attr.id?this.showNode():this.hideNode()}),this.on(n.rootNode(),t.FOCUS_FIRST_MENUITEM_REQUESTED,function(t,e){return e.menuContentId===this.attr.id?(this.lastFocus=document.activeElement,this._focusFirstMenuItem()):void 0}),this.on(t.PRESSED_DOWN,function(t){return t.stopPropagation(),this._focusNextMenuItem()}),this.on(t.PRESSED_UP,function(t){return t.stopPropagation(),this._focusPrevMenuItem()}),this.on(t.PRESSED_SPACE,function(t){return t.stopPropagation()}),this.on([t.PRESSED_ESC,t.HIDE_MENU_REQUESTED].join(" "),function(){return null!=this.lastFocus?this.lastFocus.focus():void 0}),this.on("keydown",function(e){return 9===e.which?(e.stopPropagation(),this.trigger(t.HIDE_MENU_REQUESTED)):void 0})}),e.mixin(this,[o])}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},,function(t,e,i){var n,r=function(t,e){function i(){this.constructor=t}for(var n in e)o.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},o={}.hasOwnProperty;n=function(){var t,e,n;return n=i(40),e=i(209),t=function(t){function i(){i.__super__.constructor.apply(this,arguments),this._isStaticAdaptive=!1}return r(i,t),i.createFromConfig=function(t){var r,o,s,a,u,l,h;s=new i;for(a in t)for(h=t[a],r=0,o=h.length;o>r;r++)if(l=h[r],n.canPlayType(l.type)){if("auto"===a&&s.setStaticAdaptive(l),u=e.normalizeQuality(a),!u)continue;s.addQuality(u.name,u.label,u.tag,l)}return s},i.prototype.hasOnePlayableQuality=function(){return null!=this.getFirstAvailable()||this.adaptiveSupported()},i.prototype.setStaticAdaptive=function(t){return this._isStaticAdaptive=null!=t,this._staticAdaptiveResource=t},i.prototype.getAutoQuality=function(t){var i,n;return null==t&&(t=null),n=e.normalizeQuality(t),i=n||{},i.resource=this._staticAdaptiveResource,i},i.prototype.adaptiveSupported=function(){return this._isStaticAdaptive},i}(e)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a,u,l,h,d;return s=i(3),t=i(5),n=i(92),o=i(44),u=i(25).get("Quality"),a=i(4),r=i(40),e=i(209),h=i(104),l="dmp_quality",d=function(){return this.attributes({qualities:null,videoTagSelector:null,playerSize:{width:0,height:0},defaultQualityName:"480"}),this._chooseClosestOrDefaultQuality=function(t){var e,i,n;return n=null,t&&(i=this.qualityList.getQualityNameOrClosestNumericQualityName(t))?(n=this.qualityList.getQualityForName(i),u.log("Choosing quality based on '"+t+"' (qs or requested value)")):(e=this.qualityList.getQualityNameOrClosestNumericQualityName(this.attr.defaultQualityName))?(n=this.qualityList.getQualityForName(e),u.log("Choosing quality based on '"+this.attr.defaultQualityName+"' (player size)")):(n=this.qualityList.getFirstAvailable(),u.log("No numeric quality available, picking the first one available...")),n},this._chooseInitialQualityState=function(){var t,i,n,r,o;return r=this.get(l),o=s.settings("quality"),n=e.getNumericQualityNameFromVideoSize(this.playerWidth,this.playerHeight),this.attr.defaultQualityName=n,i={adaptive:this.qualityList.adaptiveSupported()},r&&(t=this.qualityList.getQualityNameOrClosestNumericQualityName(r))?(i.adaptive=!1,i.quality=this.qualityList.getQualityForName(t),u.log("Choosing quality based on '"+r+"' (local storage)")):i.quality=this._chooseClosestOrDefaultQuality(o),i=this.sanitizeQualityState(i),u.log("Initial quality set",i),i},this._savePlayerSize=function(t,e){return this.playerWidth=e.width,this.playerHeight=e.height,"resolved"!==this.playerSizeDeferred.state()?this.playerSizeDeferred.resolve({width:e.width,height:e.height}):void 0},this._waitForInitialPlayerSize=function(){return this.playerWidth>0&&this.playerHeight>0&&this.playerSizeDeferred.resolve({width:this.playerWidth,height:this.playerHeight}),this.playerSizeDeferred.promise()},this._handleQualityChangedRequestedEvent=function(e,i){return this.waitForQualityListAndPlayerSize().then(function(e){return function(){var n,r,o,s,h,d;if(u.log("QUALITY_CHANGE_REQUESTED",i),h=""+((null!=i?i.qualityName:void 0)||""),s=(null!=i?i.adaptive:void 0)||!1,r=null!=(null!=i?i.startPlayback:void 0),n=r&&e.startupsCount>0,d=n?"replay":r?"start":"current",r)e.startupsCount++,o=e._nextQualityState;else{if(e.isQualityStateNull(e._currentQualityState)||e._currentQualityState.adaptive&&s||!e._currentQualityState.adaptive&&!s&&h===e._currentQualityState.quality.name)return void u.log("Skipping quality change request");s?(o={adaptive:e.qualityList.adaptiveSupported()},e.remove(l)):(o={adaptive:!1},u.log("Save '"+h+"' quality in local storage"),e.set(l,h)),o.quality=e._chooseClosestOrDefaultQuality(h||e._currentQualityState.quality.name),o=e.sanitizeQualityState(o)}return null!=o.quality?(e._nextQualityState=o,e.changeQuality(o,d,i.startPlayback)):e.trigger(t.ERROR_PLAYER,{error:a.MEDIA_ERR_SRC_NOT_SUPPORTED})}}(this))},this.handleErrorEvent=function(){throw new Error("Implement Me!!!")},this.handleLoadedmetadataEvent=function(){throw new Error("Implement Me!!!")},this.streamTech=function(){throw new Error("Implement Me!!!")},this.changeQuality=function(){throw new Error("Implement Me!!!")},this.waitForQualityList=function(){throw new Error("Implement Me!!! And return a promise that resolves with the qualityList instance")},this.getStats=function(){throw new Error("Implement Me!!!")},this.sanitizeQualityState=function(t){return t},this.setInitialQualityState=function(){return this._nextQualityState=this._chooseInitialQualityState()},this.notifyQualityChangeConfirmed=function(e,i){var n,r;return null==i&&(i=!1),i||e.adaptive!==this._currentQualityState.adaptive||(null!=(n=e.quality)?n.name:void 0)!==(null!=(r=this._currentQualityState.quality)?r.name:void 0)?(u.log("QUALITY_CHANGE_CONFIRMED",e),this.trigger(t.QUALITY_CHANGE_CONFIRMED,e)):u.log("Skipping quality change confirmed")},this.notifyQualityChanged=function(e){var i,r,o,a,l,h,d;return d=this.videoTag.videoWidth,a=this.videoTag.videoHeight,o=d>0&&a>0,h=d!==this.videoWidth||a!==this.videoHeight,i=e.adaptive!==this._currentQualityState.adaptive,l="audio"===s.metadata("media_type"),o&&(h||i)||l?(this._currentQualityState=e,this.videoWidth=d,this.videoHeight=a,r=n.assign({videoWidth:this.videoWidth,videoHeight:this.videoHeight,streamTech:this.streamTech()},e),u.log("QUALITY_CHANGED",r),this.trigger(t.QUALITY_CHANGED,r)):void 0},this.getCurrentQualityState=function(){return this._currentQualityState},this.getNextQualityState=function(){return this._nextQualityState},this.isQualityStateNull=function(t){return null===t.adaptive&&null===t.quality},this.setQualityList=function(e){return this.qualityList=e,u.log("QUALITIES_AVAILABLE",this.qualityList.availableQualities()),this.trigger(t.QUALITIES_AVAILABLE,this.qualityList.availableQualities()),this.qualityList},this.waitForQualityListAndPlayerSize=function(){return null!=this._waitForQualityListAndPlayerSize?this._waitForQualityListAndPlayerSize:this._waitForQualityListAndPlayerSize=$.when(this.waitForQualityList(),this._waitForInitialPlayerSize())},this.setup=function(){return this.waitForQualityListAndPlayerSize().then(function(t){return function(){return t.setInitialQualityState()}}(this))},this.bindMediaEvents=function(){return this.on(this.videoTag,"error",this.handleErrorEvent),this.on(this.videoTag,"loadedmetadata",this.handleLoadedmetadataEvent)},this.unbindMediaEvents=function(){return this.off(this.videoTag,"error",this.handleErrorEvent),this.off(this.videoTag,"loadedmetadata",this.handleLoadedmetadataEvent)},this.after("initialize",function(){return this.videoTag=this.select("videoTagSelector")[0],this.playerWidth=this.attr.playerSize.width,this.playerHeight=this.attr.playerSize.height,this.playerSizeDeferred=$.Deferred(),this.videoWidth=0,this.videoHeight=0,this.qualityList=null,this.startupsCount=0,this._currentQualityState={adaptive:null,quality:null},this._nextQualityState={adaptive:null,quality:null},this.on(t.QUALITY_CHANGE_REQUESTED,this._handleQualityChangedRequestedEvent),this.on(t.PLAYER_SIZE_CHANGED,this._savePlayerSize),this.on(t.VIDEO_SLOT_STARTED,function(){return this.bindMediaEvents()}),this.on(t.VIDEO_SLOT_ENDED,function(){return this.unbindMediaEvents()}),this.on(t.QUALITY_STATS_REQUESTED,this.getStats)}),o.mixin(this,[h])}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a,u,l;return n=i(44),t=i(49),e=i(40),r=i(21),o=i(19),u=i(210),a=i(211),l=i(212),s=function(){var i;return i=[],e.supportsNativeAdaptive()===t.HLS&&i.push(u),r.isAndroid()&&o.isLesserOrEqualThan(r.getOsVersion(),"4.4")&&i.push(l),(r.isAndroidStockBrowser()||r.isOperaTv())&&i.push(a),n.mixin(this,i)}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e;return t=i(3),e=function(){return this._handleFocus=function(t){return this._needsTrappedFocus&&!this.$node.find(t.target).length?(t.stopPropagation(),this.$node.focus()):void 0},this.trapFocus=function(){return this._lastFocus=document.activeElement,this._needsTrappedFocus=!0},this.releaseFocus=function(){return this._needsTrappedFocus=!1,this._lastFocus?this._lastFocus.focus():void 0},this.after("initialize",function(){return t.rootNode().addEventListener("focus",function(t){return function(e){return t._handleFocus(e)}}(this),!0)})}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a,u,l,h,d;return t=i(97),r=i(95),o=i(3),s=i(94),e=i(5),u=i(205).events,a=i(25).get("Advert"),h=i(213),l=i(98),d=i(144),n=function(){var i,n;return i="normal",n="fullscreen",this.attributes({position:"preroll",size:null}),this.bindMediaFileEvents=function(){this.mediaFile&&(this.mediaFile.subscribe(this.onAdClickThru,u.CLICK_THRU,this),this.mediaFile.subscribe(this.onAdDurationChange,u.DURATION_CHANGE,this),this.mediaFile.subscribe(this.onAdImpression,u.IMPRESSION,this),this.mediaFile.subscribe(this.onAdPaused,u.PAUSED,this),this.mediaFile.subscribe(this.onAdPlaying,u.PLAYING,this),this.mediaFile.subscribe(this.onAdSkippableRemainingTimeChange,u.SKIPPABLE_REMAINING_TIME_CHANGE,this),this.mediaFile.subscribe(this.onAdSkippableStateChange,u.SKIPPABLE_STATE_CHANGE,this),this.mediaFile.subscribe(this.onAdSkipped,u.SKIPPED,this),this.mediaFile.subscribe(this.onAdStarted,u.STARTED,this),this.mediaFile.subscribe(this.onAdVideoComplete,u.VIDEO_COMPLETE,this),this.mediaFile.subscribe(this.onAdVideoStarted,u.VIDEO_START,this),this.mediaFile.subscribe(this.onAdVolumeChange,u.VOLUME_CHANGE,this))},this.unbindMediaFileEvents=function(){this.mediaFile&&(this.mediaFile.unsubscribe(this.onAdClickThru,u.CLICK_THRU),this.mediaFile.unsubscribe(this.onAdDurationChange,u.DURATION_CHANGE),this.mediaFile.unsubscribe(this.onAdError,u.ERROR),this.mediaFile.unsubscribe(this.onAdImpression,u.IMPRESSION),this.mediaFile.unsubscribe(this.onAdPaused,u.PAUSED),this.mediaFile.unsubscribe(this.onAdPlaying,u.PLAYING),this.mediaFile.unsubscribe(this.onAdRemainingTimeChange,u.REMAINING_TIME_CHANGE),this.mediaFile.unsubscribe(this.onAdSkippableRemainingTimeChange,u.SKIPPABLE_REMAINING_TIME_CHANGE),this.mediaFile.unsubscribe(this.onAdSkippableStateChange,u.SKIPPABLE_STATE_CHANGE),this.mediaFile.unsubscribe(this.onAdSkipped,u.SKIPPED),this.mediaFile.unsubscribe(this.onAdStarted,u.STARTED),this.mediaFile.unsubscribe(this.onAdStopped,u.STOPPED),this.mediaFile.unsubscribe(this.onAdVideoComplete,u.VIDEO_COMPLETE),this.mediaFile.unsubscribe(this.onAdVideoStarted,u.VIDEO_START),this.mediaFile.unsubscribe(this.onAdVolumeChange,u.VOLUME_CHANGE))},this.handlePlayRequestedEvent=function(){return this.resumeAd()},this.handlePauseRequestedEvent=function(){return this.pauseAd()},this.handleTimeUpdateEvent=function(){var t;return t=this.mediaFile.getAdDuration()-this.mediaFile.adRemainingTime,this.trigger(e.VIDEO_TIME_UPDATE,{time:t})},this.handleDurationChangeEvent=function(){return this.trigger(e.VIDEO_DURATION_CHANGE,{duration:this.mediaFile.getAdDuration()})},this.updateVolume=function(t,e){var i;return i=e?0:t,this.setAdVolume(i)},this.onAdStarted=function(){this.mediaFile.subscribe(this.onAdError,u.ERROR,this),this.mediaFile.subscribe(this.onAdStopped,u.STOPPED,this),this.trigger(e.AD_STARTED,{type:this.type,position:this.attr.position,timeoutInfo:this.adsHelper.getTimeoutInfo()})},this.onAdRemainingTimeChange=function(){this.handleTimeUpdateEvent()},this.onAdImpression=function(){this.trigger(e.AD_IMPRESSION,{type:this.type,position:this.attr.position})},this.onAdPlaying=function(){this.handlePlayingEvent()},this.onAdPaused=function(){this.handlePauseEvent()},this.onAdVolumeChange=function(){return this.triggerVideoVolumeChangeEvent(this.mediaFile.getAdVolume(),!1)},this.onAdVideoComplete=function(){this.endedReason="completed",this.adVideoStopped()},this.onAdSkipped=function(){this.endedReason="skipped",this.adVideoStopped()},this.onAdStopped=function(){this.trigger(e.AD_STOPPED,{type:this.type,position:this.attr.position}),this.unbindMediaFileEvents(),this.afterStopAd()},this.onAdVideoStarted=function(){return this.state="playing",this.trigger(e.AD_VIDEO_STARTED,{type:this.type,position:this.attr.position,videoTagSelector:this.attr.videoTagSelector,timeoutInfo:this.adsHelper.getTimeoutInfo()}),this.mediaFile.subscribe(this.onAdRemainingTimeChange,u.REMAINING_TIME_CHANGE,this),this.handlePlayEvent(),this.handlePlayingEvent(),this.resizeAd()},this.onAdError=function(i){var n;n={type:"buffering"===this.state?t.VPAID_BUFFERING_ERROR:t.VPAID_PLAYING_ERROR,message:i},this.trigger(o.rootNode(),e.AD_ERROR,n),a.log("AD_ERROR:",n),this.stopAd()},this.onAdDurationChange=function(){this.handleDurationChangeEvent()},this.onAdClickThru=function(t,e,i){this.pauseAd(),i&&window.open(t)},this.onAdSkippableStateChange=function(){this.trigger(e.AD_VIDEO_SKIPPABLE_STATE,{adSkippable:this.mediaFile.adSkippableState})},this.onAdSkippableRemainingTimeChange=function(){this.trigger(e.AD_VIDEO_SKIPPABLE_REMAINING_TIME,this.mediaFile.adSkippableRemainingTime)},this.onPlayerSizeChanged=function(){return this.resizeAd()},this.onFullscreenEntered=function(){return this.viewMode!==n?(this.viewMode=n,this.resizeAd()):void 0},this.onFullscreenExited=function(){return this.viewMode!==i?(this.viewMode=i,this.resizeAd()):void 0},this.onSkipAdRequested=function(){return this.skipAd()},this.onLoadVideo=function(){return this.stopAd()},this.onChromecastPrepareForRemote=function(){return this.stopAd()},this.pauseAd=function(){return a.log("pause ad"),this.mediaFile.pauseAd()},this.resumeAd=function(){return a.log("resume ad"),this.handlePlayEvent(),this.mediaFile.resumeAd()},this.resizeAd=function(){return a.log("resize ad (",this.size.player.width,this.size.player.height,this.viewMode,")"),this.mediaFile.resizeAd(this.size.player.width,this.size.player.height,this.viewMode)},this.skipAd=function(){this.mediaFile.skipAd?this.mediaFile.skipAd():this.mediaFile.stopAd()},this.setAdVolume=function(t){return this.mediaFile.setAdVolume(t)},this.adVideoStopped=function(){return this.trigger(e.AD_VIDEO_STOPPED,{type:this.type,position:this.attr.position,endreason:this.endedReason})},this.stopAd=function(){return a.log("stop ad"),a.groupEnd(),this.unbindMediaFileEvents(),this.adsHelper.callStopAd().always(function(t){return function(){return t.afterStopAd()}}(this))},this.afterStopAd=function(){var t;this.trigger("playing"===this.state?e.AD_STOPPED:e.AD_FAILED,{type:this.type,position:this.attr.position});try{return this.teardown()}catch(i){return t=i,a.warn("Looks like @teardown() has been called twice..."),a.error(t.stack)}},this.before("teardown",function(){return this.cleanUpVideoTag(),this.mediaFile=null}),this.after("initialize",function(){return this.viewMode=i,this.size=this.attr.size,this.state="buffering",this.type="linear",this.on(o.rootNode(),e.FULLSCREEN_ENTERED,this.onFullscreenEntered),this.on(o.rootNode(),e.FULLSCREEN_EXITED,this.onFullscreenExited),this.on(o.rootNode(),e.CHROMECAST_PREPARE_FOR_REMOTE,this.onChromecastPrepareForRemote),this.on(o.rootNode(),e.LOAD_VIDEO,this.onLoadVideo),this.on(o.rootNode(),e.VOLUME_CHANGE_REQUESTED,this.handleVolumeChangeRequestedEvent),this.adsHelper=r.getHelper(),this.mediaFile=this.adsHelper.mediaFile,this.bindMediaFileEvents(),this.adsHelper.callStartAd().then(function(t){return function(){return t.on(o.rootNode(),e.SKIP_AD_REQUESTED,t.onSkipAdRequested)}}(this)).fail(function(t){return function(i){return t.trigger(o.rootNode(),e.AD_ERROR,i),a.warn("callStartAd failed:",i.message||i),t.unbindMediaFileEvents(),t.afterStopAd()}}(this))})},s(h,d,l,n)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a,u,l,h,d;return r=i(94),n=i(3),t=i(5),e=i(40),a=i(103),h=i(213),d=i(214),u=i(215),l=i(141),o=i(25).get("Video"),s=function(){return this.attributes({interruptions:[],playOnInit:!0,isVideoStart:!1,startAt:0,replay:0,width:0,height:0}),this.hasInterruptions=function(){return this.attr.interruptions.length>0},this.handleStartEvent=function(){return this.videoTag.src?(this.off(this.videoTag,"play",this.handleStartEvent),this.trigger(t.VIDEO_START,{replay:this.attr.replay})):void 0},this.handleLoadeddataDataEvent=function(){return this.trigger(t.VIDEO_LOADED_DATA,{time:(new Date).getTime()}),this.pendingSeekRequested?this.trigger(t.SEEK_REQUESTED,this.pendingSeekRequested):void 0},this.handlePauseEvent=function(){return!this.videoTag.src||null!=this.videoTag.currentTime&&this.videoTag.currentTime===this.videoTag.duration?void 0:(o.log("core video PAUSE","(seeking:",this.videoTag.seeking,")"),this.trigger(t.VIDEO_PAUSE,{interrupted:this.hasInterruptions()}))},this.handleTimeUpdateEvent=function(){var e,i,n,r,o,s,a,u,l,h,d;if("auto"===this.quality&&this.handleProgressEvent(),!this.pendingSeekRequested&&!this.pendingSeeking){if(i=this.videoTag.currentTime,this.data.time=i,this.data.watched+=i-this.lastCurrentTime,this.videoTag.played.length>0){for(a=n=0,l=this.videoTag.played.length-1;l>=0?l>=n:n>=l;a=l>=0?++n:--n)this.playedTimeRanges.push({start:this.videoTag.played.start(a),end:this.videoTag.played.end(a)});this.playedTimeRanges=this.mergeTimeRanges(this.playedTimeRanges)}for(this.data.played=0,h=this.playedTimeRanges,r=0,s=h.length;s>r;r++)u=h[r],this.data.played+=u.end-u.start;if(e=this.videoTag.buffered.length,e>0)for(a=o=0,d=e-1;d>=0?d>=o:o>=d;a=d>=0?++o:--o)if(i>this.videoTag.buffered.start(a)&&i<this.videoTag.buffered.end(a)){this.data.buffer=this.videoTag.buffered.end(a)-i;break}return this.lastCurrentTime=i,this.trigger(t.VIDEO_TIME_UPDATE,this.data)}},this.mergeTimeRanges=function(t){var e,i,n,r,o;for(r=[],t.sort(function(t,e){var i;return i=t.start-e.start,i?i:e.end-t.end}),e=0,n=t.length;n>e;e++)o=t[e],("undefined"!=typeof i&&null!==i?i.end:void 0)>o.start?i.end<o.end&&(i.end=o.end):(i=o,r.push(o));return r},this.handleProgressEvent=function(){var e,i,n,r,o;for(e=this.videoTag.buffered.length-1,r=this.videoTag.currentTime,o=[];e>=0;)n=this.videoTag.buffered.start(e),i=this.videoTag.buffered.end(e),r>=n&&i>=r&&this.trigger(t.VIDEO_BUFFER_UPDATE,{buffer:i}),o.push(e--);return o},this.handleDurationChangeEvent=function(){return"live"===n.metadata("stream_type")?(this.trigger(t.VIDEO_DURATION_CHANGE,{duration:0}),this.off(this.videoTag,"durationchange",this.handleDurationChangeEvent)):this.trigger(t.VIDEO_DURATION_CHANGE,{duration:this.videoTag.duration})},this.handleSeekedEvent=function(){return this.pendingSeeking=!1,this.lastCurrentTime=this.videoTag.currentTime,this.trigger(t.VIDEO_SEEKED,{time:this.videoTag.currentTime})},this.handleEndedEvent=function(){return this.attr.interruptionDidPause=!1,this.trigger(t.VIDEO_ENDED),this.teardown()},this.handlePlayRequestedEvent=function(){return!this.hasInterruptions()&&this.videoTag.paused?this.videoTag.play():void 0},this.handlePauseRequestedEvent=function(){return this.attr.interruptionDidPause=!1,this.videoTag.paused?void 0:this.videoTag.pause()},this.handleVideoInterruptRequested=function(t,e){var i;if(null==e||null==e.reason)throw new Error("Interruption reason is required");return i=!this.hasInterruptions()&&!this.videoTag.paused,this.attr.interruptions.indexOf(e.reason)<=-1&&this.attr.interruptions.push(e.reason),i&&this.videoTag.pause(),this.attr.interruptionDidPause=i||this.attr.interruptionDidPause},this.handleVideoResumeRequested=function(t,e){var i;if(null==e||null==e.reason)throw new Error("Interruption reason is required");return i=this.attr.interruptions.indexOf(e.reason),i>-1&&this.attr.interruptions.splice(i,1),!this.hasInterruptions()&&this.attr.interruptionDidPause&&this.videoTag.paused&&this.videoTag.currentTime!==this.videoTag.duration?this.videoTag.play():void 0},this.handleSpeedChangeRequestedEvent=function(e,i){return this.videoTag.playbackRate=i.speed,this.trigger(t.SPEED_CHANGE_CONFIRMED,i)},this.handleWatchOnSite=function(){return this.saveCurrentTime({xid:n.metadata("id"),currentTime:this.videoTag.currentTime})},this.bindMediaEvents=function(){return this.attr.isVideoStart&&this.on(this.videoTag,"play",this.handleStartEvent),this.on(this.videoTag,"play",this.handlePlayEvent),this.on(this.videoTag,"pause",this.handlePauseEvent),this.on(this.videoTag,"playing",this.handlePlayingEvent),this.on(this.videoTag,"waiting",this.handleWaitingEvent),this.on(this.videoTag,"timeupdate",this.handleTimeUpdateEvent),this.on(this.videoTag,"durationchange",this.handleDurationChangeEvent),this.on(this.videoTag,"loadeddata",this.handleLoadeddataDataEvent),this.on(this.videoTag,"seeked",this.handleSeekedEvent),this.on(this.videoTag,"ended",this.handleEndedEvent),this.on(this.videoTag,"progress",this.handleProgressEvent)
},this.unbindMediaEvents=function(){return this.off(this.videoTag,"play",this.handleStartEvent),this.off(this.videoTag,"play",this.handlePlayEvent),this.off(this.videoTag,"pause",this.handlePauseEvent),this.off(this.videoTag,"playing",this.handlePlayingEvent),this.off(this.videoTag,"waiting",this.handleWaitingEvent),this.off(this.videoTag,"timeupdate",this.handleTimeUpdateEvent),this.off(this.videoTag,"durationchange",this.handleDurationChangeEvent),this.off(this.videoTag,"loadeddata",this.handleLoadeddataDataEvent),this.off(this.videoTag,"seeked",this.handleSeekedEvent),this.off(this.videoTag,"ended",this.handleEndedEvent),this.off(this.videoTag,"progress",this.handleProgressEvent)},this.handleStartAt=function(){return this.trigger(t.SEEK_REQUESTED,{time:this.attr.startAt}),this.off(t.QUALITY_CHANGE_CONFIRMED,this.handleStartAt)},this.boundedStartAt=function(){return Math.min(Math.max(0,this.attr.startAt),n.metadata("duration",0))},this.prepareVideoTag=function(){return this.attr.startAt=this.boundedStartAt(),this.bindMediaEvents(),this.attr.startAt>0&&this.on(t.QUALITY_CHANGE_CONFIRMED,this.handleStartAt),this.asyncTrigger(t.QUALITY_CHANGE_REQUESTED,{startPlayback:this.attr.playOnInit})},this.after("initialize",function(){return this.data={watched:0,played:0,time:0,buffer:0},this.lastCurrentTime=0,this.playedTimeRanges=[],this.on(t.SEEK_REQUESTED,function(e,i){var n,r,o;this.pendingSeekRequested=i,o=this.videoTag.duration,$.isNumeric(o)&&(r=null!=i.perc?i.perc/100*o:null!=i.time?i.time:void 0,r=Math.min(Math.max(0,r),o),n=this.videoTag.currentTime,n!==r&&(this.pendingSeeking=!0,this.trigger(t.VIDEO_SEEKING,{time:n}),this.videoTag.currentTime=r),this.pendingSeekRequested=!1)}),this.attr.startAt>0&&this.on(t.QUALITY_CHANGE_CONFIRMED,this.handleStartAt),this.on(n.rootNode(),t.WATCH_ON_SITE_REQUESTED,this.handleWatchOnSite),this.on(t.VIDEO_INTERRUPT_REQUESTED,this.handleVideoInterruptRequested),this.on(t.VIDEO_RESUME_REQUESTED,this.handleVideoResumeRequested),this.on(t.SPEED_CHANGE_REQUESTED,this.handleSpeedChangeRequestedEvent),this.on([t.LOAD_VIDEO,t.CHROMECAST_REMOTE_ENABLED].join(" "),function(){return this.cleanUpVideoTag(),this.teardown()}),this.on(t.AD_STARTED,function(t,e){return"linear"===e.type?this.teardown():void 0}),this.prepareVideoTag(),o.log("Initialized")}),this.before("teardown",function(){return this.unbindMediaEvents()}),this.after("teardown",function(){return o.log("Torn down")})},r(l,h,s,d,u,a)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n;return e=i(3),t=i(5),n=function(){return this.enabled=function(){return!0},this.setup=function(){return console.warn("Implement me!")},this.after("initialize",function(){var e;return this.enabled()&&(e=this.setup())?this.trigger(t.STAT_PLUGIN_READY,e):void 0})}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n,r=function(t,e){function i(){this.constructor=t}for(var n in e)o.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},o={}.hasOwnProperty;n=function(){var t,e;return t=i(219),e=function(t){function e(t){var i;this.options=t,e.__super__.constructor.call(this,this.options),this.queue=[],this.liveMode=!1,this.player=null,this.info=null,this.dom=(null!=(i=this.options)?i.dom:void 0)?this.options.dom:null}var i;return r(e,t),window._PJS=0,window._cmsJS=0,window._eStatDS=1,e.prototype.setVideoInfo=function(t,e){var i,n,r,o,s,a;return this.info=t,this.player=e,(null!=(o=this.info)?o.serial:void 0)?((null!=(s=this.info)?s.tags:void 0)||null!=(a=this.info)&&(a.tags=[]),"undefined"==typeof eStat_id?void(window.eStat_PJS=function(t){return function(){return t.logger.log("eStat_PJS"),null!=t.info&&null!=t.player?t.setVideoInfo(t.info,t.player):void 0}}(this)):(window.eStat_PJS=function(){return this.logger.log("eStat_PJS (empty)")},eStat_id.serial(this.info.serial),this.liveMode="live"===this.info.mode&&this.info.onair,this.firstPlay=!0,this.ended=!1,this.logger.log("Got video info (serial:",this.info.serial," ,live:",this.liveMode,")"),r=function(t){return function(){return t.logger.log("initializaton"),t.dom&&"undefined"!=typeof eStat_ev&&null!==eStat_ev&&"function"==typeof eStat_ev.domaine&&eStat_ev.domaine(t.dom),eStat_ms.referenceUI(t.player,"DS",t.info.title,3<t.info.tags.length?t.info.tags[3]:"",2<t.info.tags.length?t.info.tags[2]:"",1<t.info.tags.length?t.info.tags[1]:"",4<t.info.tags.length?t.info.tags[4]:"",5<t.info.tags.length?t.info.tags[5]:"",0<t.info.tags.length?t.info.tags[0]:"","",function(){return t.player.currentTime}),eStat_ms.TagDS(t.player).setUrl(t.info.url),eStat_ms.TagDS(t.player).setPlayerNameVersion("DailymotionPlayer"),eStat_ms.TagDS(t.player).setDuration(t.info.duration),t.flushQueue()}}(this),window._cmsJS&&window.DS?r():(n=0,i=setInterval(function(t){return function(){return window._cmsJS&&window.DS?(r(),clearInterval(i)):n>50?(t.logger.log("Cancel eStat load."),clearInterval(i)):(t.logger.log("Can't init eStat yet..."),n+=1)}}(this),50)))):(this.info=null,void(this.player=null))},e.prototype.track=function(t){var e;if(null!=(e=this.info)?e.serial:void 0)return this.queue===!1?i.call(this,t):this.queue.push(t),this},e.prototype.flushQueue=function(){var t,e,n,r;if(this.queue===!1)return this;for(this.logger.log("Flushing queue, queue status :",this.queue),r=this.queue,t=0,e=r.length;e>t;t++)n=r[t],i.call(this,n);return this.queue=!1,this},e.prototype.stopTracking=function(){var t;if(null!=(t=this.info)?t.serial:void 0)return"undefined"!=typeof eStat_ms&&null!==eStat_ms?eStat_ms.StopMeasurement(this.player):void 0},i=function(t){var e;switch(e=null,t.state){case"play":this.firstPlay?this.firstPlay=!1:(this.liveMode||this.ended)&&(this.logger.log((this.liveMode?"Live Mode":"Video ended")+" : creating new eStat session"),eStat_ms.newStreamUI(this.player,this.info.title,0<this.info.tags.length?this.info.tags[0]:"",1<this.info.tags.length?this.info.tags[1]:"",2<this.info.tags.length?this.info.tags[2]:"",3<this.info.tags.length?this.info.tags[3]:"",4<this.info.tags.length?this.info.tags[4]:"",this.liveMode?"Live":this.info.channel),this.ended=!1),e=eStatPlayState.Play;break;case"pause":e=this.liveMode?eStatPlayState.Stop:eStatPlayState.Pause;break;case"stop":this.ended=!0,e=eStatPlayState.Stop}return t.pos||(t.pos=this.player.currentTime),this.logger.log("Track :",function(){switch(e){case eStatPlayState.Stop:return"stop";case eStatPlayState.Pause:return"pause";case eStatPlayState.Play:return"play"}}(),t.pos),eStat_ms.TagDS(this.player).sendEvent(e,t.pos)},e}(t)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o;return r=i(3),t=i(5),e=i(216),n=i(140).Location,o=function(){return this.attributes({eventsDefinitions:{}}),this.after("initialize",function(){return this.eventBusEmitter=e.getInstance({url:r.context("ed_endpoint"),v1st:r.context("v1st"),view_id:r.metadata("view_id")}),this.on(t.QUALITY_CHANGED,function(t,e){var i,r,o,s,a,u;return this.streamTech=e.streamTech,this.mimeType=e.quality.resource.type,i=null!=(s=e.quality.levels)&&null!=(a=s[0])&&null!=(u=a.url)?u[0]:void 0,i&&(r=n.parse(i),o=n.parseQueryString(r.hash,!0),o.cell)?this.cell=o.cell:void 0}),this.on(t.VIDEO_SELECTED,function(){return this.streamTech=this.mimeType=this.cell=null})}),this.registerEventDefinition=function(t,e){return this.initializeEventsDefinitionsForEvent(t),null!=e.name&&(this.attr.eventsDefinitions[t].name=e.name),null!=e.priority&&(this.attr.eventsDefinitions[t].priority=e.priority),null!=e.data?this.attr.eventsDefinitions[t].data.push(e.data):void 0},this.initializeEventsDefinitionsForEvent=function(t){return null==this.attr.eventsDefinitions[t]?this.attr.eventsDefinitions[t]={priority:"medium",data:[]}:void 0},this.sendEventToEventBus=function(t,e){var i;return null==e&&(e={}),null!=(null!=(i=this.attr.eventsDefinitions[t.type])?i.name:void 0)?this.eventBusEmitter.send(this.getEventPayload(t.type,e),this.getEventPriority(t.type)):void 0},this.getEventPriority=function(t){return null!=this.attr.eventsDefinitions[t].priority?this.attr.eventsDefinitions[t].priority:"medium"},this.getEventPayload=function(t,e){var i,n,r,o,s;if(null==e&&(e=null),i=$.extend(this.getCleanContext(),this.getCleanMetadata(),this.getTopicAttributes()),null!=this.attr.eventsDefinitions[t].data)for(s=this.attr.eventsDefinitions[t].data,r=0,o=s.length;o>r;r++)n=s[r],i=$.extend(i,n.bind(this)(e));return{name:[this.topicName,this.attr.eventsDefinitions[t].name].join("."),data:i}},this.getCleanContext=function(){return{context:{as_number:r.context("as_number"),client_type:r.context("client_type",""),country:r.context("country"),device:r.context("device"),embedder:r.context("embedder"),env:r.context("env"),integration:r.context("integration"),locale:r.context("locale"),onsite:r.context("onsite"),player_type:"html5",player_version:r.context("player_version"),referer:r.context("referer"),screen:[r.window().screen.availWidth,r.window().screen.availHeight].join("x"),version:r.context("version"),visitor_group:r.context("visitor_group")}}},this.getCleanMetadata=function(){var t;return t={metadata:{duration:r.metadata("duration",""),id:r.metadata("id",""),stream_type:r.metadata("stream_type","")}},this.streamTech&&(t.metadata.stream_tech=this.streamTech),this.mimeType&&(t.metadata.mime_type=this.mimeType),this.cell&&(t.metadata.cell=this.cell),t},this.getTopicAttributes=function(){return null}}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r;return e=i(40),n=i(3),t=i(5),r=function(){return this.onVideoSelected=function(){return this.advertising=n.metadata("advertising")},this.onPlayerSizeChanged=function(t,e){return this.width=e.width},this.videoLoadedDataEventBusData=function(){return{autoplay:e.canAutoplay()&&n.settings("autoplay"),channel:n.metadata("channel",""),explicit:n.metadata("explicit",!1),owner_username:n.metadata("owner.username",""),partner:n.metadata("partner",!1),player_width:this.width,repost:n.metadata("repost",!1),verified:n.metadata("verified",!1)}},this.after("initialize",function(){return this.registerEventDefinition(t.VIDEO_LOADED_DATA,{data:this.videoLoadedDataEventBusData}),this.on(t.VIDEO_SELECTED,this.onVideoSelected),this.width=0,this.on(n.rootNode(),t.PLAYER_SIZE_CHANGED,this.onPlayerSizeChanged)})}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n,r=function(t,e){function i(){this.constructor=t}for(var n in e)o.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},o={}.hasOwnProperty;n=function(){var t,e;return t=i(219),e=function(t){function e(t){var i,n;this.options=t,e.__super__.constructor.call(this,this.options),this.baseURL=this.options.baseURL,n=this.options.cc,i=this.options.as,this.queue=[],this.params={xid:"undefined",country:n,as:i,cell:"undefined",proxy:"undefined",comment:"undefined"}}var i;return r(e,t),e.prototype.setVideoInfo=function(t){this.logger.log("Got video info (xid:",t.xid,")"),t.mode&&(this.mode=t.mode),t.xid&&(this.params.xid=t.xid),t.cell&&(this.params.cell=t.cell),t.proxy&&(this.params.proxy=t.proxy),t.comment&&(this.params.comment=t.comment),this.params.xid&&this.mode&&this.flushQueue()},e.prototype.track=function(t){return this.logger.log("Track :",t,"(queue is "+(this.queue?"on":"off")+")"),$.isArray(t)||(t=[t]),this.queue===!1?i.call(this,t):this.queue.push(t),this},e.prototype.flushQueue=function(){var t,e,n,r;if(this.queue&&this.queue.length)return this;for(this.logger.log("Flushing queue, queue status :",this.queue),r=this.queue,t=0,e=r.length;e>t;t++)n=r[t],i.call(this,n);return this.queue=!1,this},e.prototype.trackTiming=function(t,e){return e>0&&36e5>e&&this.track([t,e/1e3]),this},i=function(t){var e,i,n,r,o;e=t[0],r=t.length>1?t[1]:void 0,n="live"===this.mode?"live.html":"vod.html",o=""+this.baseURL+n+"."+e,i=r?$.extend({},this.params,{t:r}):this.params,$.extend(i,{_n:Math.round(1e8*Math.random())}),$.get(o,i).fail(function(t){return function(){return t.logger.warn("Error",arguments)}}(this))},e}(t)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},,,,function(t,e,i){var n,r=function(t,e){function i(){this.constructor=t}for(var n in e)o.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},o={}.hasOwnProperty;n=function(){var t,e;return t=i(219),e=function(t){function e(t){var i,n,r;this.options=t,e.__super__.constructor.call(this,this.options),i=this.options.inline,n=document.getElementById("dmp-sc-frame"),r=i?(null!=n?n.contentWindow:void 0)||{}:window,"SiteCatalyst"in r?(this.clearQueue(),this.s=r.SiteCatalyst.getInstance()):(this.initQueue(),i?this._loadFromFrame(n):this._loadInPlace(r)),this.media=function(t){var e;return e=[],{open:function(i,n,r){t.queue===!1?t.s.Media.open(i,n,r):e.push({action:"open",args:[i,n,r]})},play:function(i,n){t.queue===!1?t.s.Media.play(i,n):e.push({action:"play",args:[i,n]})},stop:function(i,n){t.queue===!1?t.s.Media.stop(i,n):e.push({action:"stop",args:[i,n]})},close:function(i){t.queue===!1?t.s.Media.close(i):e.push({action:"close",args:[i]})},flushQueue:function(){var i,n,r,o,s,a;for(r=t.s,n=r.Media,o=0,s=e.length;s>o;o++){a=e[o];try{n[a.action].apply(n,a.args)}catch(u){i=u,t.logger.log(i)}}}}}(this)}var i,n;return r(e,t),e.prototype._loadFromFrame=function(t){var e,i;return null==t&&(t=null),null===t?(this.logger.log("Creating SiteCatalyst iframe"),t=document.createElement("iframe"),t.id="dmp-sc-frame",t.style.display="none",e=function(t){return function(e){return t.logger.warn("Error on loading SC plugin:",e),t.enabled=!1,t.clearQueue()}}(this),i=function(i){return function(){t.contentWindow.SiteCatalyst?(i.s=t.contentWindow.SiteCatalyst.getInstance(),i.init()):e("scFrame.contentWindow.SiteCatalyst not found")}}(this),t.onload=function(n){return function(){var r;return r=t.contentWindow.document.createElement("script"),t.contentWindow.s_account=n.options.s_account,r.src=n.options.pluginUrl,n.logger.log("loading plugin at",n.options.pluginUrl),r.onerror=function(){return e("unreacheable Sitecat lib")},r.onload=function(){return i()},t.contentWindow.document.body.appendChild(r)}}(this),document.body.appendChild(t)):this.logger.log("SiteCatalyst iframe already exists")},e.prototype._loadInPlace=function(){return this.logger.log("window.SiteCatalyst not present, loading plugin at ",this.options.pluginUrl),window.s_account=this.options.s_account,this.loadPlugin(this.options.pluginUrl,function(t){return function(){window.SiteCatalyst?t.s=window.SiteCatalyst.getInstance():(t.logger.warn("Error on loading SC plugin: no window.SiteCatalyst found"),t.enabled=!1,t.clearQueue())}}(this))},e.prototype.init=function(){e.__super__.init.call(this),this.flushQueue(),this.media.flushQueue()},e.prototype.setRSID=function(t){!1 in window||(this.s.un=t)},e.prototype.set=function(t){return $.extend(this.tempS!==!1?this.tempS:this.s,t),this},e.prototype.track=function(t){null!=t&&(this.queue===!1?i.call(this,t):this.queue.push({type:null,data:t}))},e.prototype.trackEvent=function(t,e){null!=t&&(this.queue===!1?n.call(this,t):this.queue.push({type:"event",data:t,title:e}))},e.prototype.flushQueue=function(){var t,e,r,o,s;for(this.tempS!==!1&&($.extend(this.s,this.tempS),this.tempS=!1),s=this.queue,e=0,r=s.length;r>e;e++)o=s[e],t="event"!==o.type?i:n,t.call(this,o.data,o.title);return this.queue=!1,this},e.prototype.initQueue=function(){return this.queue=[],this.tempS={},this},e.prototype.clearQueue=function(){return this.tempS=!1,this.queue=!1,this},e.prototype.reset=function(){var t,e,i;for(t={},i=e=1;75>=e;i=++e)t["prop"+i]="",t["eVar"+i]="";return this.set(t),this},i=function(t){null!=t&&this.set(t),this.s.t(),this.reset()},n=function(t,e){null!=t&&this.set(t),this.s.tl(this.s,"o",e),this.reset()},e}(t)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n,r=function(t,e){function i(){this.constructor=t}for(var n in e)o.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},o={}.hasOwnProperty;n=function(){var t,e;return t=i(219),e=function(t){function e(t){this.options=t,e.__super__.constructor.call(this,this.options),this.queue=[],this.config=null,this.mediaControl=null,this.videoElement=null}return r(e,t),e.prototype.fire=function(){var t;return t=this,function(e){return t.enabled!==!1?(t.logger.log("Fire event ",e.type),t.mediaControl.fire.call(this,e)):void 0}},e.prototype.seek=function(){var t;return t=this,function(e){return t.enabled!==!1?(t.logger.log("Seek event ",e.type),t.mediaControl.seek.call(this,e)):void 0}},e.prototype.filter=function(t){"adsonly"===t?(this.logger.log("Filter 'adsonly' => disabling Xiti"),this.enabled=!1):null===t?this.logger.log("Filter disabled"):this.logger.warn("Unknow filterName: "+t+" => Not sure if we log everything correctly...")},e.prototype.setVideoInfo=function(t,e,i){var n,r;return"undefined"!=typeof ATMedia&&null!==ATMedia&&ATMedia.init?(e&&this.logger.log("Got video info (richName:",e.xtrichname,")"),window.ATMediaReady=void 0,this._fire||(this._fire=this.fire()),this._seek||(this._seek=this.seek()),n=function(t){return function(){var e,i,n,r;for(e=["playing","pause","ended"],n=0,r=e.length;r>n;n++)i=e[n],t.videoElement.addEventListener(i,t._fire,!1);return t.videoElement.addEventListener("seeked",t._seek,!1)}}(this),r=function(t){return function(){var e,i,n,r;for(e=["playing","pause","ended"],n=0,r=e.length;r>n;n++)i=e[n],t.videoElement.removeEventListener(i,t._fire,!1);return t.videoElement.removeEventListener("seeked",t._seek,!1)}}(this),this.config=t,this.config&&ATMedia.init(this.config),null!==this.mediaControl&&null!==this.videoElement&&(r(),ATMedia.removeMediaControl(this.mediaControl)),void(null!=e&&null!=i&&(this.videoElement=i,this.mediaControl=ATMedia.addMediaControl(this.videoElement,e),n()))):void(null==window.ATMediaReady&&(window.ATMediaReady=function(n){return function(){n.logger.log("ATMediaReady! Calling setVideoInfo again"),n.setVideoInfo(t,e,i)}}(this)))},e}(t)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},,,,,,,function(t,e,i){var n,r=function(t,e){function i(){this.constructor=t}for(var n in e)o.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},o={}.hasOwnProperty,s=[].slice;n=function(){var t,e,n,o,a,u,l,h;return o=i(3),u=i(25).get("VPAIDMediaFile"),t=i(205),l=i(220),h=l.safeObject,a=l.loggedObject,n=function(t){var e,i,n;return e=o.get("cookie_root_domain"),n=864e5,i=new Date,i.setTime(i.getTime()+n),"ac_token="+t+";domain="+e+";expires="+i.toUTCString()},e=function(e){function i(t,e){var n,r,l;this.vpaidAdUnit=t,this.ac_token=e,i.__super__.constructor.call(this),h(this.vpaidAdUnit,function(t){return function(e){return t._trigger(o.ERROR,e)}}(this)),a(this.vpaidAdUnit,function(){var t;return t=1<=arguments.length?s.call(arguments,0):[],u.info.apply(u,[">>> calling"].concat(s.call(t)))});for(r in o)n=o[r],l=function(){switch(!1){case n!==o.DURATION_CHANGE:return this.onVPAIDDurationChange();case n!==o.REMAINING_TIME_CHANGE:return this.onVPAIDRemaingTimeChange();case n!==o.SKIPPABLE_REMAINING_TIME_CHANGE:return this.onVPAIDSkippableRemaingTimeChange();default:return this.onVPAIDEvent(n)}}.call(this),this._listeners[n]=l,this.vpaidAdUnit.subscribe(l,n,this)}var o,l;return r(i,e),l="VPAIDMediaFile",o=t.events,i.prototype._adStreamType=!1,i.prototype._listeners={},i.prototype.onVPAIDEvent=function(t){return function(e){return function(){var i;switch(i=1<=arguments.length?s.call(arguments,0):[],u.log("event:",t,i),!1){case t!==o.VIDEO_START:e.onVideoStart();break;case t!==o.PLAYING:e.onPlaying();break;case t!==o.PAUSED:e.onPaused();break;case t!==o.SKIPPABLE_STATE_CHANGE:e.onSkippableStateChange();break;case t!==o.STOPPED:e.onStopped()}return e._trigger.apply(e,[t].concat(s.call(i)))}}(this)},i.prototype.onVideoStart=function(){return this._adStreamType||this.mockDeprecatedVPAIDEvents(),this.handleDuration(),this.ac_token?document.cookie=n(this.ac_token):void 0},i.prototype.onPlaying=function(){return this._adStreamType?void 0:this.mockDeprecatedVPAIDEvents()},i.prototype.onPaused=function(){return this._adStreamType?void 0:this.clearMockEvents()},i.prototype.onSkippableStateChange=function(){return this.adSkippableState=this.vpaidAdUnit.getAdSkippableState()},i.prototype.onStopped=function(){var t,e,i,n;this._$videoSlot.off("."+l),this._adStreamType||this.clearMockEvents(),i=this._listeners,n=[];for(t in i)e=i[t],n.push(this.vpaidAdUnit.unsubscribe(e,t));return n},i.prototype.onVPAIDDurationChange=function(){return function(t){return function(){var e;return e=1<=arguments.length?s.call(arguments,0):[],t._$videoSlot.off("durationchange."+l),t.handleDuration()}}(this)},i.prototype.onVPAIDRemaingTimeChange=function(){return function(t){return function(){var e;return e=1<=arguments.length?s.call(arguments,0):[],clearInterval(t.remaingTimeChangeId),t._$videoSlot.off("timeupdate.remaining."+l),t.handleRemaingTime()}}(this)},i.prototype.onVPAIDSkippableRemaingTimeChange=function(){return function(t){return function(){var e;return e=1<=arguments.length?s.call(arguments,0):[],clearInterval(t.SkippableRemainingTimeChangeId),t._$videoSlot.off("timeupdate.skippable."+l),t.handleSkippableRemainingTime()}}(this)},i.prototype.handleDuration=function(t){return null==t&&(t=null),this.adDuration=t||this.vpaidAdUnit.getAdDuration(),this.adDuration>0?this._trigger(o.DURATION_CHANGE,this.adDuration):void 0},i.prototype.handleRemaingTime=function(t){return null==t&&(t=null),this.adRemainingTime=t||this.vpaidAdUnit.getAdRemainingTime(),this.adRemainingTime>=0?this._trigger(o.REMAINING_TIME_CHANGE,this.adRemainingTime):void 0},i.prototype.handleSkippableRemainingTime=function(){return this.adSkippableRemainingTime=this.vpaidAdUnit.getAdSkippableRemainingTime(),this.adSkippableRemainingTime<=0&&(clearInterval(this.SkippableRemainingTimeChangeId),this._$videoSlot.off("timeupdate.skippable."+l)),this._trigger(o.SKIPPABLE_REMAINING_TIME_CHANGE,this.adSkippableRemainingTime)},i.prototype.mockDeprecatedVPAIDEvents=function(){return(this.remaingTimeChangeId||this.SkippableRemainingTimeChangeId)&&this.clearMockEvents(),u.log("Set intervals"),this.remaingTimeChangeId=setInterval(this.handleRemaingTime.bind(this),250),this.SkippableRemainingTimeChangeId=setInterval(this.handleSkippableRemainingTime.bind(this),250)},i.prototype.clearMockEvents=function(){return u.log("Clear intervals"),clearInterval(this.remaingTimeChangeId),clearInterval(this.SkippableRemainingTimeChangeId)},i.prototype.handshakeVersion=function(t){return this.vpaidAdUnit.handshakeVersion(t)},i.prototype.initAd=function(t,e,i,n,r,o){return u.log("initAd",r,o),this._$videoSlot=$(o.videoSlot),this.vpaidAdUnit.initAd(t,e,i,n,r,o)},i.prototype.startAd=function(){return this._$videoSlot.on("loadstart."+l,function(t){return function(){return u.log("Ad is a video stream, clear intervals"),t._adStreamType=!0}}(this)).on("timeupdate.remaining."+l,function(t){return function(e){return t.handleRemaingTime(t.adDuration-e.target.currentTime)}}(this)).on("timeupdate.skippable."+l,function(t){return function(){return t.handleSkippableRemainingTime()}}(this)).on("durationchange."+l,function(t){return function(e){return t.handleDuration(e.target.duration)}}(this)),this.vpaidAdUnit.startAd()},i.prototype.stopAd=function(){return this.vpaidAdUnit.stopAd()},i.prototype.resizeAd=function(t,e,i){return this.vpaidAdUnit.resizeAd(t,e,i)},i.prototype.pauseAd=function(){return this.vpaidAdUnit.pauseAd()},i.prototype.resumeAd=function(){return this.vpaidAdUnit.resumeAd()},i.prototype.setAdVolume=function(t){return this.vpaidAdUnit.setAdVolume(t)},i.prototype.getAdVolume=function(){return this.vpaidAdUnit.getAdVolume()},i.prototype.expandAd=function(){return this.vpaidAdUnit.expandAd()},i.prototype.collapseAd=function(){return this.vpaidAdUnit.collapseAd()},i.prototype.skipAd=function(){return this.vpaidAdUnit.skipAd()},i.prototype.getAdDuration=function(){return this.adDuration},i.prototype.getAdRemainingTime=function(){return this.adRemainingTime},i.prototype.getAdSkippableState=function(){return this.adSkippableState},i.prototype.getAdSkippableRemainingTime=function(){return this.adSkippableRemainingTime},i}(t)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n,r=[].slice;n=function(){var t,e,n,o;return t=i(221).Events,o=i(25).get("Ads"),n=function(){o.warn("MediaFile : Implement me")},e=function(){function e(){this._events=new t}return e.events={LOADED:"AdLoaded",STARTED:"AdStarted",STOPPED:"AdStopped",SKIPPED:"AdSkipped",SKIPPABLE_STATE_CHANGE:"AdSkippableStateChange",SIZE_CHANGE:"AdSizeChange",LINEAR_CHANGE:"AdLinearChange",DURATION_CHANGE:"AdDurationChange",EXPANDED_CHANGE:"AdExpandedChange",REMAINING_TIME_CHANGE:"AdRemainingTimeChange",VOLUME_CHANGE:"AdVolumeChange",IMPRESSION:"AdImpression",VIDEO_START:"AdVideoStart",VIDEO_1ST_QUARTILE:"AdVideoFirstQuartile",VIDEO_MIDPOINT:"AdVideoMidpoint",VIDEO_3RD_QUARTILE:"AdVideoThirdQuartile",VIDEO_COMPLETE:"AdVideoComplete",CLICK_THRU:"AdClickThru",INTERACTION:"AdInteraction",USER_ACCEPT:"AdUserAccept",INVITATION:"AdInvitation",USER_MINIMIZE:"AdUserMinimize",USER_CLOSE:"AdUserClose",PAUSED:"AdPaused",PLAYING:"AdPlaying",LOG:"AdLog",ERROR:"AdError",SKIPPABLE_REMAINING_TIME_CHANGE:"AdSkippableRemainingTimeChange"},e.prototype.adLinear=!0,e.prototype.adWidth=0,e.prototype.adHeight=0,e.prototype.adExpanded=!1,e.prototype.adSkippableState=!1,e.prototype.adRemainingTime=0,e.prototype.adDuration=0,e.prototype.adVolume=0,e.prototype.adCompanions=[],e.prototype.adIcons=!1,e.prototype.adSkippableRemainingTime=0,e.prototype._events=null,e.prototype._videoSlot=null,e.prototype._trigger=function(){var t,e;t=1<=arguments.length?r.call(arguments,0):[],null!=(e=this._events)&&e.trigger.apply(e,t)},e.prototype.handshakeVersion=function(){return n()},e.prototype.subscribe=function(t,e,i){var n;null!=(n=this._events)&&n.on(e,t,i)},e.prototype.unsubscribe=function(t,e){var i;null!=(i=this._events)&&i.off(e,t)},e.prototype.initAd=function(){return n()},e.prototype.resizeAd=function(){return n()},e.prototype.startAd=function(){return n()},e.prototype.stopAd=function(){return n()},e.prototype.expandAd=function(){return n()},e.prototype.collapseAd=function(){return n()},e.prototype.skipAd=function(){return n()},e.prototype.getAdDuration=function(){return n()},e.prototype.getAdRemainingTime=function(){return n()},e.prototype.getAdSkippableState=function(){return n()},e.prototype.getAdSkippableRemainingTime=function(){return n()},e}()}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n,r=function(t,e){function i(){this.constructor=t}for(var n in e)o.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},o={}.hasOwnProperty,s=[].slice;n=function(){var t,e,n,o,a;return t=i(218),a=i(25).get("VASTMediaFile"),n=i(205),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),e={MEDIAFILE_NOT_FOUND:401,MEDIAFILE_TIMEOUT:402,MEDIAFILE_NOT_SUPPORTED:403,MEDIAFILE_PLAYBACK_ERROR:405},o=function(i){function o(){return o.__super__.constructor.apply(this,arguments)}var u,l,h,d,c;return r(o,i),h="VASTMediaFile",l=n.events,c=function(t){return"video/mp4"===t.mimeType?!0:!1},u=function(e,i){return new t.tracker(e,i)},d=function(i){var n,r,o,s,l,h,d,f,p,E,m,_,g,v,S;if(E=$.Deferred(),S=null,null==i)return E.reject("Empty VAST response"),E.promise();for(_=i.ads,o=0,h=_.length;h>o;o++){for(n=_[o],g=n.creatives,s=0,d=g.length;d>s;s++)if(p=g[s],"linear"===p.type){for(v=p.mediaFiles,l=0,f=v.length;f>l;l++)if(m=v[l],c(m)){S=u(n,p),E.resolve(m,S);break}if(S)break}if(S)break;E.reject("No suitable mediaFile for this ad"),n&&(r=n.errorURLTemplates)&&t.util.track(r,{ERRORCODE:e.MEDIAFILE_NOT_SUPPORTED})}return S||(a.warn("[PlayerInstream] VAST response> end of response: no preroll found"),E.reject("Empty response or unable to find a valid ad"),r&&t.util.track(r,{ERRORCODE:e.MEDIAFILE_NOT_FOUND})),E.promise()},o.prototype._tracker=null,o.prototype._rules=null,o.prototype._trigger=function(){var t,e;return t=1<=arguments.length?s.call(arguments,0):[],(e=t[0])!==l.REMAINING_TIME_CHANGE&&e!==l.SKIPPABLE_REMAINING_TIME_CHANGE&&a.log.apply(a,["event:"].concat(s.call(t))),o.__super__._trigger.apply(this,t)},o.prototype.onMediaTimeout=function(){t.util.track(this._tracker.ad.errorURLTemplates,{ERRORCODE:e.MEDIAFILE_TIMEOUT})},o.prototype.handshakeVersion=function(){},o.prototype.initAd=function(i,n,r,o,s,u){var c,f,p,E,m,_;return this._videoSlot=u.videoSlot,this._$videoSlot=$(this._videoSlot),this._rules=u.vastRules,_=u.vast,c={creativeView:function(t){return function(){return t._trigger(l.STARTED),t._trigger(l.IMPRESSION)}}(this),start:function(t){return function(){return t._trigger(l.VIDEO_START)}}(this),firstQuartile:function(t){return function(){return t._trigger(l.VIDEO_1ST_QUARTILE)}}(this),midpoint:function(t){return function(){return t._trigger(l.VIDEO_MIDPOINT)}}(this),thirdQuartile:function(t){return function(){return t._trigger(l.VIDEO_3RD_QUARTILE)}}(this),pause:function(t){return function(){return t._trigger(l.PAUSED)}}(this),resume:function(t){return function(){return t._trigger(l.PLAYING)}}(this),complete:function(t){return function(){return m(),t._trigger(l.VIDEO_COMPLETE),t._trigger(l.STOPPED)}}(this),skip:function(t){return function(){return m(),t._trigger(l.SKIPPED),t._trigger(l.STOPPED)}}(this),close:function(t){return function(){return t._trigger(l.STOPPED),m()}}(this),closeLinear:function(t){return function(){return t._trigger(l.STOPPED),m()}}(this),clickthrough:function(t){return function(e){return window.open(e),t._trigger(l.CLICK_THRU)}}(this),"skip-countdown":function(t){return function(e){t.adSkippableRemainingTime=e,t._trigger(l.SKIPPABLE_REMAINING_TIME_CHANGE,e),1>=e&&(t._tracker.removeListener("skip-countdown",c["skip-countdown"]),t._skipCountdownTimeout=setTimeout(function(){return a.log("skip-countdown timeout..."),p()},e))}}(this)},m=function(t){return function(){var e,i,n;a.log("unbinding callbacks..."),t._skipCountdownTimeout&&clearTimeout(t._skipCountdownTimeout);for(i in c)e=c[i],t._tracker.removeListener(i,e);return null!=(n=t._$videoSlot)?n.off("."+h):void 0}}(this),p=function(t){return function(){var e;return t.adSkippableState=!0,t._trigger(l.SKIPPABLE_STATE_CHANGE,t.adSkippableState),null!=(e=t._tracker)?e.removeListener("skip-countdown",c["skip-countdown"]):void 0}}(this),E=d(_).fail(function(t){return function(e){return t._trigger(l.ERROR,e)}}(this)).done(function(t){return function(e,i){var n,r;if(t._videoSlot){t._tracker=i,t._videoSlot.src=e.fileURL.trim(),t._trigger(l.LOADED);for(r in c)n=c[r],t._tracker.on(r,n);if(null===t._tracker.skipDelay){if(0===t._rules.closeButtonDisplayDelay)return p();if(-1!==t._rules.closeButtonDisplayDelay)return t._tracker.setSkipDelay(t._rules.closeButtonDisplayDelay)}}}}(this)),f=document.documentElement.hasOwnProperty("ontouchend")?"touchend":"click",this._$videoSlot?(this._$videoSlot.on("canplay."+h,function(t){return function(){return t._tracker.load()}}(this)).on("play."+h,function(t){return function(){return t._tracker.setPaused(!1)}}(this)).on("pause."+h,function(t){return function(e){return e.target.duration-e.target.currentTime>1?t._tracker.setPaused(!0):void 0}}(this)).on("volumechange."+h,function(t){return function(e){return t.adVolume=e.target.volume,t._tracker.setMuted(e.target.muted),t._trigger(l.VOLUME_CHANGE,t.adVolume)}}(this)).on("durationchange."+h,function(t){return function(e){return t.adDuration=e.target.duration,t._trigger(l.DURATION_CHANGE,t.adDuration)}}(this)).on("ended."+h,function(t){return function(){return t._tracker.complete()}}(this)).on("timeupdate."+h,function(t){return function(e){var i;return i=e.target.currentTime,t._tracker.setProgress(i),t.adRemainingTime=t.adDuration-i,t._trigger(l.REMAINING_TIME_CHANGE,t.adRemainingTime)}}(this)).on("error."+h,function(i){return function(n,r){return t.util.track(i._tracker.ad.errorURLTemplates,{ERRORCODE:e.MEDIAFILE_PLAYBACK_ERROR}),i._trigger(l.ERROR,r)
}}(this)).on(f+"."+h,function(t){return function(){return t._tracker.click(),!1}}(this)),E):E},o.prototype.resizeAd=function(){},o.prototype.startAd=function(){this._videoSlot.play()},o.prototype.stopAd=function(){var t,e,i;null!=(t=this._$videoSlot)&&t.off("."+h),null!=(e=this._videoSlot)&&e.pause(),null!=(i=this._tracker)&&i.stop(),this._tracker=null,this._videoSlot=null,this._$videoSlot=null,this._rules=null,this._events=null},o.prototype.pauseAd=function(){this._videoSlot.pause()},o.prototype.resumeAd=function(){this._videoSlot.play()},o.prototype.setAdVolume=function(t){this._videoSlot.volume=t},o.prototype.expandAd=function(){},o.prototype.collapseAd=function(){},o.prototype.skipAd=function(){this._$videoSlot.off("."+h),this._videoSlot.pause(),this._tracker.skip(),this._events=null},o.prototype.getAdVolume=function(){return this.adVolume},o.prototype.getAdDuration=function(){return this.adDuration},o.prototype.getAdRemainingTime=function(){return this.adRemainingTime},o.prototype.getAdSkippableRemainingTime=function(){return this.adSkippableRemainingTime},o}(n)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o;return n=i(3),t=i(5),e=i(44),o=i(102),r=function(){return this.attributes({seekBarSelector:null,trackBarSelector:null,duration:0}),this.willUpdateFilmstripPosition=function(){return console.error("Implement me in the component!")},this.updateFilmstrip=function(t){var e,i,n,r,o,s,a,u;return this.willUpdateFilmstripPosition(t),s=this._$trackBar.width(),a=this.$node.outerWidth(),u=Math.round(this._trackBarOffset+s*t-.5*a),e=4,o=2,r=this._trackBarOffset-e-o,n=Math.max(u,r),i=Math.min(n,this._$seekBar.width()-a-r),this.$node.css({left:i})},this.after("initialize",function(){return this._$seekBar=this.$node.closest(this.attr.seekBarSelector),this._$trackBar=this._$seekBar.find(this.attr.trackBarSelector),this._trackBarOffset=parseInt(this._$trackBar.css("margin-left"),10),this.on(n.rootNode(),t.VIDEO_DURATION_CHANGE,function(t,e){return this.attr.duration=e.duration}),this.on(n.rootNode(),[t.VIDEO_SELECTED,t.LOAD_VIDEO].join(" "),function(){return this._metadata=!1,this._canShow=!1,this.hideNode()}),this.on(n.rootNode(),t.SEEK_BAR_INTERACTION_CHANGED,function(t,e){return this._interactiveSeekbar=e.interactive,this._canShow=this._interactiveSeekbar&&this._metadata?!0:!1,this._canShow?void 0:this.hideNode()}),this.on(n.rootNode(),t.VIDEO_LOADED_METADATA,function(){return this._metadata=!0,this._canShow=this._interactiveSeekbar?!0:!1}),this.on(n.rootNode(),[t.FULLSCREEN_ENTERED,t.FULLSCREEN_EXITED].join(" "),function(){return this.hideNode()}),this.on(this.attr.seekBarSelector,[t.SEEK_BAR_MOUSE_MOVE,t.SEEK_BAR_DRAGGING].join(" "),function(t,e){return this.updateFilmstrip(e.value)}),this.on(this.attr.seekBarSelector,t.SHOW_FILMSTRIP_REQUESTED,function(){return this._canShow&&!this.unavailable?this.showNode():void 0}),this.on(this.attr.seekBarSelector,t.HIDE_FILMSTRIP_REQUESTED,function(){return this.hideNode()}),this.on("mouseenter",function(){return this.hideNode()}),this.on(n.rootNode(),t.SEEK_BAR_FOCUS,function(t,e){return this._seekBarFocused=!0,this.updateFilmstrip(e.value)}),this.on(n.rootNode(),t.SEEK_BAR_BLUR,function(){return this._seekBarFocused=!1}),this.on(n.rootNode(),t.VIDEO_TIME_UPDATE,function(t,e){var i;return this._seekBarFocused?(i=this.attr.duration>0?e.time/this.attr.duration:0,this.updateFilmstrip(i)):void 0})}),e.mixin(this,[o])}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},,function(t,e,i){var n;n=function(){var t,e,n,r;return n=i(92),t={240:{name:"240",label:"240p",tag:""},380:{name:"380",label:"380p",tag:""},480:{name:"480",label:"480p",tag:""},720:{name:"720",label:"720p",tag:"HD"},1080:{name:"1080",label:"1080p",tag:"HD"},1440:{name:"1440",label:"1440p",tag:"HD"},2160:{name:"2160",label:"2160p",tag:"4K"},source:{name:"source",label:"Source",tag:""},audio:{name:"audio",label:"Audio",tag:""}},r=function(e){return null!=t[e]?n.clone(t[e],!0):null},e=function(){function e(){this._qualities={},this.hasNumericQualities=!1}return e.AUTHORIZED_QUALITIES=t,e.normalizeQuality=r,e.createFromLevels=function(t,i){var n,r,o,s,a,u;for(a=new e,r=n=0,o=t.length;o>n;r=++n)s=t[r],u=e.normalizeQuality(s.name||this.getNumericQualityNameFromVideoSize(s.width,s.height)),u&&(s.index=r,a.addQuality(u.name,u.label,u.tag,i,s));return a},e.getNumericQualityNameFromVideoSize=function(e,i){var r,o,s,a,u,l;return s={3840:t[2160].name,2560:t[1440].name,1920:t[1080].name,1280:t[720].name,848:t[480].name,512:t[380].name,320:t[240].name},u={2160:t[2160].name,1440:t[1440].name,1080:t[1080].name,720:t[720].name,480:t[480].name,380:t[380].name,240:t[240].name},l=e>=i?{map:s,dimension:e}:{map:u,dimension:i},a=l.map,r=l.dimension,o=n.closest(n.keys(a),r),a[o]},e.prototype.addQuality=function(t,e,i,n,r){return null==r&&(r=null),this.hasQuality(t)||(this._qualities[t]={name:t,label:e,tag:i,resource:n,levels:[]}),$.isNumeric(t)&&(this.hasNumericQualities=!0),null!=r?this._qualities[t].levels.push(r):void 0},e.prototype.hasQuality=function(t){return null!=this._qualities[t]},e.prototype.hasLevels=function(t){return this.hasQuality(t)&&this._qualities[t].levels.length},e.prototype.getQualityForLevel=function(t){var e,i,r;r=this._qualities;for(e in r)if(i=r[e],n.find(i.levels,{index:t}))return this._qualities[e]},e.prototype.getQualityForName=function(t){var e;return e=this.hasQuality(t)?this._qualities[t]:null},e.prototype.getFirstAvailable=function(){return this._qualities[n.keys(this._qualities)[0]]},e.prototype.getLevelForQualityName=function(t){return this.hasLevels(t)?this._qualities[t].levels[0].index:null},e.prototype.getQualityNameOrClosestNumericQualityName=function(t){var e;return this.hasQuality(t)?t:$.isNumeric(t)&&this.hasNumericQualities?(e=this.availableQualityNames(),n.closest(e,t)):null},e.prototype.getHighestQuality=function(){return this.hasNumericQualities?this._qualities[n.max(this.availableQualityNames().map(Number))]:null},e.prototype.adaptiveSupported=function(){return!0},e.prototype.availableQualityNames=function(){return n.keys(this._qualities)},e.prototype.availableQualities=function(){var t;return t=n.map(this._qualities,function(t){var e;return e=n.clone(t),delete e.levels,e}),t.reverse(),{adaptiveSupported:this.adaptiveSupported(),qualities:t}},e}()}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o;return n=i(3),t=i(5),e=i(49),r=i(25).get("Video"),o=function(){return this.attributes({hlsSpecializationEnabled:!1}),this._startMonitoringVideoSizeChange=function(t){return null==t&&(t=1e3),clearInterval(this._sizePoller),this._sizePoller=setInterval(function(t){return function(){return t.checkStaticQualityChanged()}}(this),t)},this._stopMonitoringVideoSizeChange=function(){return clearInterval(this._sizePoller)},this.after("handleLoadeddataDataEvent",function(){return this.attr.hlsSpecializationEnabled?this.checkStaticQualityChanged():void 0}),this.after("initialize",function(){return this.on(t.QUALITY_CHANGE_CONFIRMED,function(t,i){var n;return n=i.quality.resource,n.type===e.HLS?(r.log("Enabling HLS video specialization"),this.attr.hlsSpecializationEnabled=!0):(r.log("Disabling HLS video specialization"),this.attr.hlsSpecializationEnabled=!1,this._stopMonitoringVideoSizeChange())}),this.on(t.VIDEO_PLAY,function(){return this.attr.hlsSpecializationEnabled&&"audio"!==n.metadata("media_type")?this._startMonitoringVideoSizeChange():void 0}),this.on(t.VIDEO_PAUSE,function(){return this._stopMonitoringVideoSizeChange()})}),this.before("teardown",function(){return clearInterval(this._sizePoller)})}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r;return e=i(49),t=i(140).Location,n=i(25).get("android stock mixins"),r=function(){return this.around("getVideoSrc",function(i,r,o){return i(r,o).then(function(i){var r,s,a,u;return a=t.parse(i),u=a.pathname.split("/"),r=u[u.length-1],s=-1!==r.lastIndexOf("."),s?""===a.search&&(r=null):r=function(){switch(o){case e.HLS:return"v.m3u8";case e.MP4:return"v.mp4";default:return null}}(),r?(i=i.split("#")[0],i=t.appendQueryStringParameter(i,"f="+r),n.log("Adding 'f="+r+"' qs parameter : ",i)):n.log(r+"' extension not valid : ",i),i})})}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n,r=[].slice;n=function(){var t,e,n,o,s,a,u;return o=i(3),s=i(4),t=i(5),e=i(140).Location,a=i(25).get("url resolver mixins"),n=i(49),u=function(){return this.getVideoSrc=function(i,u){var l;return l=$.Deferred(),"recorded"===o.metadata("stream_type")&&u===n.HLS?l.resolve(i):(i=e.appendQueryStringParameter(i,"redirect=0"),a.log("Resolving URL",i),$.get(i).done(l.resolve).fail(function(){var t;return t=1<=arguments.length?r.call(arguments,0):[],a.log("URL failed to resolve"),l.reject.apply(l,t)})),l.fail(function(e){return function(){return e.trigger(t.ERROR_PLAYER,{error:s.PLAYER_ERR_CDN_RESOLVER_FAILED})}}(this)),l.promise()}}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e;return t=i(5),e=function(){return this.attributes({videoTagSelector:null,videoWrapperTagSelector:null}),this.handlePlayEvent=function(){return this.videoTag.src?this.trigger(t.VIDEO_PLAY):void 0},this.handlePauseEvent=function(){return this.trigger(t.VIDEO_PAUSE,{interrupted:!1})},this.handleTogglePlaybackRequestedEvent=function(){return this.trigger(this._paused?t.PLAY_REQUESTED:t.PAUSE_REQUESTED)},this.handlePlayingEvent=function(){return this.trigger(t.VIDEO_PLAYING)},this.handleWaitingEvent=function(){return this.trigger(t.VIDEO_WAITING)},this.handleTimeUpdateEvent=function(){throw new Error("handleTimeUpdateEvent() method must be overridden")},this.handleDurationChangeEvent=function(){throw new Error("handleDurationChangeEvent() method must be overridden")},this.handlePlayRequestedEvent=function(){throw new Error("handlePlayRequestedEvent() method must be overridden")},this.handlePauseRequestedEvent=function(){throw new Error("handlePauseRequestedEvent() method must be overridden")},this.after("initialize",function(){return this.videoTag=this.select("videoTagSelector")[0],this.videoWrapperTag=this.select("videoWrapperTagSelector")[0],this.on(t.PLAY_REQUESTED,function(){return this.handlePlayRequestedEvent()}),this.on(t.PAUSE_REQUESTED,function(){return this.handlePauseRequestedEvent()}),this.on(t.TOGGLE_PLAYBACK_REQUESTED,this.handleTogglePlaybackRequestedEvent),this._paused=!0,this.on([t.VIDEO_PLAY,t.VIDEO_PLAYING].join(" "),function(){return this._paused=!1}),this.on(t.VIDEO_PAUSE,function(){return this._paused=!0})}),this.cleanUpVideoTag=function(){return this.videoTag.pause(),this.videoTag.removeAttribute("src"),this.videoTag.removeAttribute("type"),this.videoTag.load()}}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s;return e=i(44),t=i(40),n=i(21),r=i(222),s=i(223),o=function(){var i;return i=[],t.mayNotSendPlayingEventOnSeek()&&i.push(r),n.isFirefox()||i.push(s),e.mixin(this,i)}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n;return e=i(224),t=i(5),n=function(){return this.attributes({videoTagSelector:null}),this._bufferingOnSteadyPlay=function(){return this.trigger(t.VIDEO_STEADYPLAY)},this._bufferingOnBuffering=function(){return this.trigger(t.VIDEO_BUFFERING)},this._bufferingOnRebuffering=function(){return this.trigger(t.VIDEO_REBUFFERING)},this.after("bindMediaEvents",function(){var t;return t=this.select("videoTagSelector"),e.on("steadyplay",function(t){return function(){return t._bufferingOnSteadyPlay()}}(this)),e.on("buffering",function(t){return function(){return t._bufferingOnBuffering()}}(this)),e.on("rebuffering",function(t){return function(){return t._bufferingOnRebuffering()}}(this)),this.on(t,"timeupdate",e.onTimeUpdate),this.on(t,"play",e.startWatching),this.on(t,"waiting",e.onWaiting),this.on(t,"playing",e.onPlaying),this.on(t,"seeking",e.onSeek),this.on(t,["pause","ended","error"].join(" "),e.stopWatching)}),this.before("unbindMediaEvents",function(){var t;return t=this.select("videoTagSelector"),e.off("steadyplay",function(t){return function(){return t._bufferingOnSteadyPlay()}}(this)),e.off("buffering",function(t){return function(){return t._bufferingOnBuffering()}}(this)),e.off("rebuffering",function(t){return function(){return t._bufferingOnRebuffering()}}(this)),this.off(t,"timeupdate",e.onTimeUpdate),this.off(t,"play",e.startWatching),this.off(t,"waiting",e.onWaiting),this.off(t,"playing",e.onPlaying),this.off(t,"seeking",e.onSeek),this.off(t,["pause","ended","error"].join(" "),e.stopWatching),e.reset()})}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n,r=function(t,e){return function(){return t.apply(e,arguments)}};n=function(){var t,e,n,o;return e=i(92),n=i(3),o=i(25).get("Emitter"),t=function(){function t(){}var i,n;return n=null,t.getInstance=function(t){return null!=n?n:n=new i(t)},i=function(){function t(t){return null==t&&(t={}),this._reset=r(this._reset,this),this._send=r(this._send,this),this._parameters=t,this._initPrerequisites(),this._extractOptions(),this._resetEmissionState(!0),{send:this._send,reset:this._reset}}return t.prototype._priorityScale={critical:1,high:.7,medium:.5,low:.3,trivial:.1},t.prototype._maxEmissionWeight=1,t.prototype._maxTries=2,t.prototype._call=function(t){return $.ajax({url:this._edEndpoint,type:"POST",contentType:"text/plain",noAjaxExtraParameters:!0,timeout:1e3,data:t}).done(function(t){return o.log("ok"===t.status?"Response: "+t.status:"Something is wrong with your payload, fix it and resend events")}).fail(function(e){return function(i,n){var r;return r=i.status,o.log("something went wrong server side (",r,") ",e._tries+"/"+e._maxTries),(!r||r>=400||"timeout"===n)&&e._tries<e._maxTries?(e._tries++,e._call(t)):void 0}}(this))},t.prototype._emitter=function(t,i){return o.log("Send",i.events.length,"events ("+e.pluck(i.events,"name").join(", ")+")",i),this._tries=1,this._call(t)},t.prototype._sendEvents=function(){var t;if(null!=(t=this._eventsQueue)?t.length:void 0)return clearTimeout(this._immediateTimeout),this._immediateTimeout=setTimeout(function(t){return function(){return t._emitEvents()}}(this),0)},t.prototype._emitEvents=function(){var t,e;return t=(new Date).getTime(),e=this._buildPayload(t),this._emitter(JSON.stringify(e),e),this._resetEmissionState()},t.prototype._buildPayload=function(t){return{channel:"player",sent_ts:t,v1st:this._v1st,events:this._eventsQueue}},t.prototype._resetEmissionState=function(t){return null==t&&(t=!1),t||(this._lastEmissionTime=(new Date).getTime()),this._eventsQueue=[],this._emissionWeight=0,clearTimeout(this._emissionTimer)},t.prototype._scheduleNextEmission=function(t){return t>0?(clearTimeout(this._emissionTimer),this._emissionTimer=setTimeout(function(t){return function(){return t._sendEvents()}}(this),t)):this._sendEvents()},t.prototype._queueEvent=function(t){return this._eventsQueue.push(t)},t.prototype._send=function(t,e){return this._now=(new Date).getTime(),t.created_ts=this._now,t.data.view_id=this._view_id,this._queueEvent(t),this._scheduleNextEmission(this._getNextEmissionDelay(t,e))},t.prototype._getNextEmissionDelay=function(t,e){var i,n,r;return n=0,i=null!=this._lastEmissionTime?this._now-this._lastEmissionTime:-1,null!=this._priorityScale[e]?r=this._priorityScale[e]:(o.log("You might want to set an explicit priority level for ",t.type,', we set it to "trivial" for now'),r=this._priorityScale.trivial),this._emissionWeight+=r,this._emissionWeight>=this._maxEmissionWeight?i>0&&i<this._emissionMinDelay&&(n=this._emissionMinDelay-i):0>i?this._emissionTimer||(n=this._emissionMaxDelay):i<this._emissionMaxDelay&&(n=this._emissionMaxDelay-i),n},t.prototype._reset=function(){return this._lastEmissionTime=null,this._resetEmissionState(!0)},t.prototype._initPrerequisites=function(){var t;if(t=[],this._edEndpoint=null!=this._parameters.url?this._parameters.url:t.push("url"),this._v1st=this._parameters.v1st,this._view_id=this._parameters.view_id,t.length)throw new Error("Missing parameter(s) "+t.join(", ")+" in EventBusEmitter.getInstance")},t.prototype._extractOptions=function(){var t,e;if(t=(null!=(e=this._parameters)?e.options:void 0)||{},!t.emissionMinDelay&&t.emissionMaxDelay||!t.emissionMaxDelay&&t.emissionMinDelay)throw new Error("You must provide both emissionMinDelay and emissionMaxDelay in EventBus options or none at all (default will be emissionMinDelay = 500ms and emissionMaxDelay = 2000ms).");if(this._emissionMinDelay=t.emissionMinDelay||500,this._emissionMaxDelay=t.emissionMaxDelay||2e3,t.emissionMinDelay>=t.emissionMaxDelay)throw new Error("emissionMinDelay must be < emissionMaxDelay in EventBus options.")},t}(),t}()}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e){!function(i){if("object"==typeof e&&"undefined"!=typeof t)t.exports=i();else if("function"==typeof define&&define.amd)define([],i);else{var n;"undefined"!=typeof window?n=window:"undefined"!=typeof global?n=global:"undefined"!=typeof self&&(n=self),n.VMAP=i()}}(function(){return function t(e,i,n){function r(s,a){if(!i[s]){if(!e[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);throw new Error("Cannot find module '"+s+"'")}var l=i[s]={exports:{}};e[s][0].call(l.exports,function(t){var i=e[s][1][t];return r(i?i:t)},l,l.exports,t,e,i,n)}return i[s].exports}for(var o="function"==typeof require&&require,s=0;s<n.length;s++)r(n[s]);return r}({1:[function(t,e){var i,n;n=t("./adsource"),i=function(){function t(t){var e,i,r,o,s,a,u,l;for(this.timeOffset=t.getAttribute("timeOffset"),this.breakType=t.getAttribute("breakType"),this.breakId=t.getAttribute("breakId"),this.repeatAfter=t.getAttribute("repeatAfter"),this.adSource=null,this.trackingEvents=[],this.extensions=[],u=t.childNodes,r=0,s=u.length;s>r;r++)switch(e=u[r],e.localName){case"AdSource":this.adSource=new n(e);break;case"TrackingEvents":for(l=e.childNodes,o=0,a=l.length;a>o;o++)i=l[o],"Tracking"===i.localName&&this.trackingEvents.push({event:i.getAttribute("event"),uri:(i.textContent||i.text||"").trim()});break;case"Extensions":this.extensions=e.childNodes}}return t}(),e.exports=i},{"./adsource":2}],2:[function(t,e){var i;i=function(){function t(t){var e,i,n,r;for(this.id=t.getAttribute("id"),this.allowMultipleAds=t.getAttribute("allowMultipleAds"),this.followRedirects=t.getAttribute("followRedirects"),this.vastAdData=null,this.adTagURI=null,this.customData=null,r=t.childNodes,i=0,n=r.length;n>i;i++)switch(e=r[i],e.localName){case"AdTagURI":this.adTagURI={templateType:e.getAttribute("templateType"),uri:(e.textContent||e.text||"").trim()};break;case"VASTAdData":for(this.vastAdData=e.firstChild;this.vastAdData&&1!==this.vastAdData.nodeType;)this.vastAdData=this.vastAdData.nextSibling;break;case"CustomAdData":this.customData=e}}return t}(),e.exports=i},{}],3:[function(t,e){e.exports=t("./vmap")},{"./vmap":4}],4:[function(t,e){var i,n;n=t("./adbreak"),i=function(){function t(t){var e,i,r,o;if(null==(null!=t?t.documentElement:void 0)||"VMAP"!==t.documentElement.localName)throw new Error("Not a VMAP document");for(this.version=t.documentElement.getAttribute("version"),this.adBreaks=[],this.extensions=[],o=t.documentElement.childNodes,i=0,r=o.length;r>i;i++)switch(e=o[i],e.localName){case"AdBreak":this.adBreaks.push(new n(e));break;case"Extensions":this.extensions=e.childNodes}}return t}(),e.exports=i},{"./adbreak":1}]},{},[3])(3)})},function(t,e){!function(i){if("object"==typeof e&&"undefined"!=typeof t)t.exports=i();else if("function"==typeof define&&define.amd)define([],i);else{var n;n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,n.DMVAST=i()}}(function(){return function t(e,i,n){function r(s,a){if(!i[s]){if(!e[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var h=i[s]={exports:{}};e[s][0].call(h.exports,function(t){var i=e[s][1][t];return r(i?i:t)},h,h.exports,t,e,i,n)}return i[s].exports}for(var o="function"==typeof require&&require,s=0;s<n.length;s++)r(n[s]);return r}({1:[function(t,e){(function(){var t;t=function(){function t(){this.id=null,this.errorURLTemplates=[],this.impressionURLTemplates=[],this.creatives=[]}return t}(),e.exports=t}).call(this)},{}],2:[function(t,e,i){(function(){var n,r,o;r=t("./parser"),o=t("./util"),n=function(){function t(){}return t.cappingFreeLunch=0,t.cappingMinimumTimeInterval=0,t.options={withCredentials:!1,timeout:0},t.get=function(t,e,n){var o,s,a;return s=+new Date,o=i.extend=function(t,e){var i,n;for(i in e)n=e[i],t[i]=n;return t},n||("function"==typeof e&&(n=e),a={}),a=o(this.options,e),this.totalCallsTimeout<s?(this.totalCalls=1,this.totalCallsTimeout=s+36e5):this.totalCalls++,this.cappingFreeLunch>=this.totalCalls?void n(null):s-this.lastSuccessfullAd<this.cappingMinimumTimeInterval?void n(null):r.parse(t,a,function(){return function(t){return n(t)}}(this))},function(){var e,i;i=o.storage,e=Object.defineProperty,["lastSuccessfullAd","totalCalls","totalCallsTimeout"].forEach(function(n){e(t,n,{get:function(){return i.getItem(n)},set:function(t){return i.setItem(n,t)},configurable:!1,enumerable:!0})}),null==t.totalCalls&&(t.totalCalls=0),null==t.totalCallsTimeout&&(t.totalCallsTimeout=0)}(),t}(),e.exports=n}).call(this)},{"./parser":7,"./util":13}],3:[function(t,e){(function(){var t;t=function(){function t(){this.id=null,this.width=0,this.height=0,this.type=null,this.staticResource=null,this.htmlResource=null,this.iframeResource=null,this.companionClickThroughURLTemplate=null,this.trackingEvents={}}return t}(),e.exports=t}).call(this)},{}],4:[function(t,e){(function(){var t,i,n,r,o={}.hasOwnProperty,s=function(t,e){function i(){this.constructor=t}for(var n in e)o.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};t=function(){function t(){this.trackingEvents={}}return t}(),n=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.type="linear",this.duration=0,this.skipDelay=null,this.mediaFiles=[],this.videoClickThroughURLTemplate=null,this.videoClickTrackingURLTemplates=[],this.videoCustomClickURLTemplates=[],this.adParameters=null}return s(e,t),e}(t),r=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return s(e,t),e}(t),i=function(t){function e(){this.type="companion",this.variations=[],this.videoClickTrackingURLTemplates=[]}return s(e,t),e}(t),e.exports={VASTCreativeLinear:n,VASTCreativeNonLinear:r,VASTCreativeCompanion:i}}).call(this)},{}],5:[function(t,e){(function(){e.exports={client:t("./client"),tracker:t("./tracker"),parser:t("./parser"),util:t("./util")}}).call(this)},{"./client":2,"./parser":7,"./tracker":9,"./util":13}],6:[function(t,e){(function(){var t;t=function(){function t(){this.id=null,this.fileURL=null,this.deliveryType="progressive",this.mimeType=null,this.codec=null,this.bitrate=0,this.minBitrate=0,this.maxBitrate=0,this.width=0,this.height=0,this.apiFramework=null,this.scalable=null,this.maintainAspectRatio=null}return t}(),e.exports=t}).call(this)},{}],7:[function(t,e){(function(){var i,n,r,o,s,a,u,l,h,d,c=[].indexOf||function(t){for(var e=0,i=this.length;i>e;e++)if(e in this&&this[e]===t)return e;return-1};n=t("./urlhandler"),h=t("./response"),r=t("./ad"),d=t("./util"),a=t("./creative").VASTCreativeLinear,s=t("./creative").VASTCreativeCompanion,u=t("./mediafile"),o=t("./companionad"),i=t("events").EventEmitter,l=function(){function t(){}var e;return e=[],t.addURLTemplateFilter=function(t){"function"==typeof t&&e.push(t)},t.removeURLTemplateFilter=function(){return e.pop()},t.countURLTemplateFilters=function(){return e.length},t.clearUrlTemplateFilters=function(){return e=[]},t.parse=function(t,e,i){return i||("function"==typeof e&&(i=e),e={}),this._parse(t,null,e,function(t,e){return i(e)})},t.vent=new i,t.track=function(t,e){return this.vent.emit("VAST-error",e),d.track(t,e)},t.on=function(t,e){return this.vent.on(t,e)},t.once=function(t,e){return this.vent.once(t,e)},t._parse=function(t,i,r,o){var s,a,u;for(o||("function"==typeof r&&(o=r),r={}),a=0,u=e.length;u>a;a++)s=e[a],t=s(t);return null==i&&(i=[]),i.push(t),n.get(t,r,function(e){return function(n,s){var a,u,l,d,f,p,E,m,_,g,v;if(null!=n)return o(n);if(f=new h,null==(null!=s?s.documentElement:void 0)||"VAST"!==s.documentElement.nodeName)return o();for(g=s.documentElement.childNodes,p=0,m=g.length;m>p;p++)d=g[p],"Error"===d.nodeName&&f.errorURLTemplates.push(e.parseNodeText(d));for(v=s.documentElement.childNodes,E=0,_=v.length;_>E;E++)d=v[E],"Ad"===d.nodeName&&(a=e.parseAdElement(d),null!=a?f.ads.push(a):e.track(f.errorURLTemplates,{ERRORCODE:101}));for(u=function(t){var i,n,r;if(null==t&&(t=!1),f){for(r=f.ads,i=0,n=r.length;n>i;i++)if(a=r[i],null!=a.nextWrapperURL)return;return 0===f.ads.length&&(t||e.track(f.errorURLTemplates,{ERRORCODE:303}),f=null),o(null,f)}},l=f.ads.length;l--;)a=f.ads[l],null!=a.nextWrapperURL&&!function(n){var o,s;return i.length>=10||(s=n.nextWrapperURL,c.call(i,s)>=0)?(e.track(n.errorURLTemplates,{ERRORCODE:302}),f.ads.splice(f.ads.indexOf(n),1),void u()):(-1===n.nextWrapperURL.indexOf("://")&&(o=t.slice(0,t.lastIndexOf("/")),n.nextWrapperURL=""+o+"/"+n.nextWrapperURL),e._parse(n.nextWrapperURL,i,r,function(t,i){var r,o,s,a,l,h,d,c,p,E,m,_,g,v,S,T,y,A;if(o=!1,null!=t)e.track(n.errorURLTemplates,{ERRORCODE:301}),f.ads.splice(f.ads.indexOf(n),1),o=!0;else if(null==i)e.track(n.errorURLTemplates,{ERRORCODE:303}),f.ads.splice(f.ads.indexOf(n),1),o=!0;else for(f.errorURLTemplates=f.errorURLTemplates.concat(i.errorURLTemplates),a=f.ads.indexOf(n),f.ads.splice(a,1),S=i.ads,d=0,c=S.length;c>d;d++){if(l=S[d],l.errorURLTemplates=n.errorURLTemplates.concat(l.errorURLTemplates),l.impressionURLTemplates=n.impressionURLTemplates.concat(l.impressionURLTemplates),null!=n.trackingEvents)for(T=l.creatives,_=0,p=T.length;p>_;_++)if(r=T[_],"linear"===r.type)for(y=Object.keys(n.trackingEvents),g=0,E=y.length;E>g;g++)s=y[g],(h=r.trackingEvents)[s]||(h[s]=[]),r.trackingEvents[s]=r.trackingEvents[s].concat(n.trackingEvents[s]);if(null!=n.videoClickTrackingURLTemplates)for(A=l.creatives,v=0,m=A.length;m>v;v++)r=A[v],"linear"===r.type&&(r.videoClickTrackingURLTemplates=r.videoClickTrackingURLTemplates.concat(n.videoClickTrackingURLTemplates));f.ads.splice(a,0,l)}return delete n.nextWrapperURL,u(o)}))}(a);return u()}}(this))},t.childByName=function(t,e){var i,n,r,o;for(o=t.childNodes,n=0,r=o.length;r>n;n++)if(i=o[n],i.nodeName===e)return i},t.childsByName=function(t,e){var i,n,r,o,s;for(n=[],s=t.childNodes,r=0,o=s.length;o>r;r++)i=s[r],i.nodeName===e&&n.push(i);return n},t.parseAdElement=function(t){var e,i,n,r;for(r=t.childNodes,i=0,n=r.length;n>i;i++){if(e=r[i],e.id=t.getAttribute("id"),"Wrapper"===e.nodeName)return this.parseWrapperElement(e);if("InLine"===e.nodeName)return this.parseInLineElement(e)}},t.parseWrapperElement=function(t){var e,i,n,r,o,s,a;for(e=this.parseInLineElement(t),r=this.childByName(t,"VASTAdTagURI"),null!=r?e.nextWrapperURL=this.parseNodeText(r):(r=this.childByName(t,"VASTAdTagURL"),null!=r&&(e.nextWrapperURL=this.parseNodeText(this.childByName(r,"URL")))),n=null,a=e.creatives,o=0,s=a.length;s>o;o++)if(i=a[o],"linear"===i.type){n=i;break}return null!=n&&(null!=n.trackingEvents&&(e.trackingEvents=n.trackingEvents),null!=n.videoClickTrackingURLTemplates&&(e.videoClickTrackingURLTemplates=n.videoClickTrackingURLTemplates)),null!=e.nextWrapperURL?e:void 0},t.parseInLineElement=function(t){var e,i,n,o,s,a,u,l,h,d,c,f,p,E;for(e=new r,e.id=t.id,f=t.childNodes,a=0,h=f.length;h>a;a++)switch(s=f[a],s.nodeName){case"Error":this.isUrl(s)&&e.errorURLTemplates.push(this.parseNodeText(s));break;case"Impression":this.isUrl(s)&&e.impressionURLTemplates.push(this.parseNodeText(s));break;case"Creatives":for(p=this.childsByName(s,"Creative"),u=0,d=p.length;d>u;u++)for(n=p[u],E=n.childNodes,l=0,c=E.length;c>l;l++)switch(o=E[l],o.nodeName){case"Linear":i=this.parseCreativeLinearElement(o),i&&e.creatives.push(i);break;case"CompanionAds":i=this.parseCompanionAd(o),i&&e.creatives.push(i)}}return e},t.parseCreativeLinearElement=function(t){var e,i,n,r,o,s,l,h,d,c,f,p,E,m,_,g,v,S,T,y,A,D,R,b,I,N,O,C,L,P,w,V,U,k,M,x;if(n=new a,n.duration=this.parseDuration(this.parseNodeText(this.childByName(t,"Duration"))),-1===n.duration&&"Wrapper"!==t.parentNode.parentNode.parentNode.nodeName)return null;if(E=t.getAttribute("skipoffset"),null==E?n.skipDelay=null:"%"===E.charAt(E.length-1)?(f=parseInt(E,10),n.skipDelay=n.duration*(f/100)):n.skipDelay=this.parseDuration(E),v=this.childByName(t,"VideoClicks"),null!=v){for(n.videoClickThroughURLTemplate=this.parseNodeText(this.childByName(v,"ClickThrough")),w=this.childsByName(v,"ClickTracking"),T=0,R=w.length;R>T;T++)i=w[T],n.videoClickTrackingURLTemplates.push(this.parseNodeText(i));for(V=this.childsByName(v,"CustomClick"),y=0,b=V.length;b>y;y++)r=V[y],n.videoCustomClickURLTemplates.push(this.parseNodeText(r))}for(e=this.childByName(t,"AdParameters"),null!=e&&(n.adParameters=this.parseNodeText(e)),U=this.childsByName(t,"TrackingEvents"),A=0,I=U.length;I>A;A++)for(_=U[A],k=this.childsByName(_,"Tracking"),D=0,N=k.length;N>D;D++)if(m=k[D],o=m.getAttribute("event"),g=this.parseNodeText(m),null!=o&&null!=g){if("progress"===o){if(c=m.getAttribute("offset"),!c)continue;o="%"===c.charAt(c.length-1)?"progress-"+c:"progress-"+Math.round(this.parseDuration(c))}null==(S=n.trackingEvents)[o]&&(S[o]=[]),n.trackingEvents[o].push(g)}for(M=this.childsByName(t,"MediaFiles"),L=0,O=M.length;O>L;L++)for(d=M[L],x=this.childsByName(d,"MediaFile"),P=0,C=x.length;C>P;P++)h=x[P],l=new u,l.id=h.getAttribute("id"),l.fileURL=this.parseNodeText(h),l.deliveryType=h.getAttribute("delivery"),l.codec=h.getAttribute("codec"),l.mimeType=h.getAttribute("type"),l.apiFramework=h.getAttribute("apiFramework"),l.bitrate=parseInt(h.getAttribute("bitrate")||0),l.minBitrate=parseInt(h.getAttribute("minBitrate")||0),l.maxBitrate=parseInt(h.getAttribute("maxBitrate")||0),l.width=parseInt(h.getAttribute("width")||0),l.height=parseInt(h.getAttribute("height")||0),p=h.getAttribute("scalable"),p&&"string"==typeof p&&(p=p.toLowerCase(),"true"===p?l.scalable=!0:"false"===p&&(l.scalable=!1)),s=h.getAttribute("maintainAspectRatio"),s&&"string"==typeof s&&(s=s.toLowerCase(),"true"===s?l.maintainAspectRatio=!0:"false"===s&&(l.maintainAspectRatio=!1)),n.mediaFiles.push(l);return n},t.parseCompanionAd=function(t){var e,i,n,r,a,u,l,h,d,c,f,p,E,m,_,g,v,S,T,y,A,D,R,b,I,N,O,C,L;for(n=new s,b=this.childsByName(t,"Companion"),p=0,g=b.length;g>p;p++){for(i=b[p],e=new o,e.id=i.getAttribute("id")||null,e.width=i.getAttribute("width"),e.height=i.getAttribute("height"),I=this.childsByName(i,"HTMLResource"),E=0,v=I.length;v>E;E++)a=I[E],e.type=a.getAttribute("creativeType")||"text/html",e.htmlResource=this.parseNodeText(a);for(N=this.childsByName(i,"IFrameResource"),m=0,S=N.length;S>m;m++)u=N[m],e.type=u.getAttribute("creativeType")||0,e.iframeResource=this.parseNodeText(u);for(O=this.childsByName(i,"StaticResource"),_=0,T=O.length;T>_;_++)l=O[_],e.type=l.getAttribute("creativeType")||0,e.staticResource=this.parseNodeText(l);for(C=this.childsByName(i,"TrackingEvents"),D=0,y=C.length;y>D;D++)for(d=C[D],L=this.childsByName(d,"Tracking"),R=0,A=L.length;A>R;R++)h=L[R],r=h.getAttribute("event"),c=this.parseNodeText(h),null!=r&&null!=c&&(null==(f=e.trackingEvents)[r]&&(f[r]=[]),e.trackingEvents[r].push(c));e.companionClickThroughURLTemplate=this.parseNodeText(this.childByName(i,"CompanionClickThrough")),n.variations.push(e)}return n},t.parseDuration=function(t){var e,i,n,r,o;return null==t?-1:(e=t.split(":"),3!==e.length?-1:(o=e[2].split("."),r=parseInt(o[0]),2===o.length&&(r+=parseFloat("0."+o[1])),n=parseInt(60*e[1]),i=parseInt(60*e[0]*60),isNaN(i||isNaN(n||isNaN(r||n>3600||r>60)))?-1:i+n+r))},t.parseNodeText=function(t){return t&&(t.textContent||t.text||"").trim()
},t.isUrl=function(t){return/[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?//=]*)/i.test(this.parseNodeText(t))},t}(),e.exports=l}).call(this)},{"./ad":1,"./companionad":3,"./creative":4,"./mediafile":6,"./response":8,"./urlhandler":10,"./util":13,events:14}],8:[function(t,e){(function(){var t;t=function(){function t(){this.ads=[],this.errorURLTemplates=[]}return t}(),e.exports=t}).call(this)},{}],9:[function(t,e){(function(){var i,n,r,o,s,a={}.hasOwnProperty,u=function(t,e){function i(){this.constructor=t}for(var n in e)a.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};n=t("./client"),s=t("./util"),r=t("./creative").VASTCreativeLinear,i=t("events").EventEmitter,o=function(t){function e(t,e){var i,o,s;this.ad=t,this.creative=e,this.muted=!1,this.impressed=!1,this.skipable=!1,this.skipDelayDefault=-1,this.trackingEvents={},this.emitAlwaysEvents=["creativeView","start","firstQuartile","midpoint","thirdQuartile","complete","resume","pause","rewind","skip","closeLinear","close"],s=this.creative.trackingEvents;for(i in s)o=s[i],this.trackingEvents[i]=o.slice(0);this.creative instanceof r?(this.setDuration(this.creative.duration),this.skipDelay=this.creative.skipDelay,this.linear=!0,this.clickThroughURLTemplate=this.creative.videoClickThroughURLTemplate,this.clickTrackingURLTemplates=this.creative.videoClickTrackingURLTemplates):(this.skipDelay=-1,this.linear=!1),this.on("start",function(){n.lastSuccessfullAd=+new Date})}return u(e,t),e.prototype.setDuration=function(t){return this.assetDuration=t,this.quartiles={firstQuartile:Math.round(25*this.assetDuration)/100,midpoint:Math.round(50*this.assetDuration)/100,thirdQuartile:Math.round(75*this.assetDuration)/100}},e.prototype.setProgress=function(t){var e,i,n,r,o,s,a,u,l;if(o=null===this.skipDelay?this.skipDelayDefault:this.skipDelay,-1===o||this.skipable||(o>t?this.emit("skip-countdown",o-t):(this.skipable=!0,this.emit("skip-countdown",0))),this.linear&&this.assetDuration>0){if(i=[],t>0){i.push("start"),n=Math.round(t/this.assetDuration*100),i.push("progress-"+n+"%"),i.push("progress-"+Math.round(t)),l=this.quartiles;for(r in l)s=l[r],t>=s&&s+1>=t&&i.push(r)}for(a=0,u=i.length;u>a;a++)e=i[a],this.track(e,!0);t<this.progress&&this.track("rewind")}return this.progress=t},e.prototype.setMuted=function(t){return this.muted!==t&&this.track(t?"mute":"unmute"),this.muted=t},e.prototype.setPaused=function(t){return this.paused!==t&&this.track(t?"pause":"resume"),this.paused=t},e.prototype.setFullscreen=function(t){return this.fullscreen!==t&&this.track(t?"fullscreen":"exitFullscreen"),this.fullscreen=t},e.prototype.setSkipDelay=function(t){return"number"==typeof t?this.skipDelay=t:void 0},e.prototype.load=function(){return this.impressed?void 0:(this.impressed=!0,this.trackURLs(this.ad.impressionURLTemplates),this.track("creativeView"))},e.prototype.errorWithCode=function(t){return this.trackURLs(this.ad.errorURLTemplates,{ERRORCODE:t})},e.prototype.complete=function(){return this.track("complete")},e.prototype.stop=function(){return this.track(this.linear?"closeLinear":"close")},e.prototype.skip=function(){return this.track("skip"),this.trackingEvents=[]},e.prototype.click=function(){var t,e,i;return(null!=(i=this.clickTrackingURLTemplates)?i.length:void 0)&&this.trackURLs(this.clickTrackingURLTemplates),null!=this.clickThroughURLTemplate?(this.linear&&(e={CONTENTPLAYHEAD:this.progressFormated()}),t=s.resolveURLTemplates([this.clickThroughURLTemplate],e)[0],this.emit("clickthrough",t)):void 0},e.prototype.track=function(t,e){var i,n;null==e&&(e=!1),"closeLinear"===t&&null==this.trackingEvents[t]&&null!=this.trackingEvents.close&&(t="close"),n=this.trackingEvents[t],i=this.emitAlwaysEvents.indexOf(t),null!=n?(this.emit(t,""),this.trackURLs(n)):-1!==i&&this.emit(t,""),e===!0&&(delete this.trackingEvents[t],i>-1&&this.emitAlwaysEvents.splice(i,1))},e.prototype.trackURLs=function(t,e){return null==e&&(e={}),this.linear&&(e.CONTENTPLAYHEAD=this.progressFormated()),s.track(t,e)},e.prototype.progressFormated=function(){var t,e,i,n,r;return r=parseInt(this.progress),t=r/3600,t.length<2&&(t="0"+t),e=r/60%60,e.length<2&&(e="0"+e),n=r%60,n.length<2&&(n="0"+e),i=parseInt(100*(this.progress-r)),""+t+":"+e+":"+n+"."+i},e}(i),e.exports=o}).call(this)},{"./client":2,"./creative":4,"./util":13,events:14}],10:[function(t,e){(function(){var i,n,r;r=t("./urlhandlers/xmlhttprequest"),n=t("./urlhandlers/flash"),i=function(){function e(){}return e.get=function(e,i,o){return o||("function"==typeof i&&(o=i),i={}),i.urlhandler&&i.urlhandler.supported()?i.urlhandler.get(e,i,o):"undefined"==typeof window||null===window?t("./urlhandlers/node").get(e,i,o):r.supported()?r.get(e,i,o):n.supported()?n.get(e,i,o):o()},e}(),e.exports=i}).call(this)},{"./urlhandlers/flash":11,"./urlhandlers/xmlhttprequest":12}],11:[function(t,e){(function(){var t;t=function(){function t(){}return t.xdr=function(){var t;return window.XDomainRequest&&(t=new XDomainRequest),t},t.supported=function(){return!!this.xdr()},t.get=function(t,e,i){var n,r;return(r="function"==typeof window.ActiveXObject?new window.ActiveXObject("Microsoft.XMLDOM"):void 0)?(r.async=!1,n=this.xdr(),n.open("GET",t),n.timeout=e.timeout||0,n.withCredentials=e.withCredentials||!1,n.send(),n.onprogress=function(){},n.onload=function(){return r.loadXML(n.responseText),i(null,r)}):i()},t}(),e.exports=t}).call(this)},{}],12:[function(t,e){(function(){var t;t=function(){function t(){}return t.xhr=function(){var t;return t=new window.XMLHttpRequest,"withCredentials"in t?t:void 0},t.supported=function(){return!!this.xhr()},t.get=function(t,e,i){var n;try{return n=this.xhr(),n.open("GET",t),n.timeout=e.timeout||0,n.withCredentials=e.withCredentials||!1,n.send(),n.onreadystatechange=function(){return 4===n.readyState?i(null,n.responseXML):void 0}}catch(r){return i()}},t}(),e.exports=t}).call(this)},{}],13:[function(t,e){(function(){var t;t=function(){function t(){}return t.track=function(t,e){var i,n,r,o,s,a;for(n=this.resolveURLTemplates(t,e),a=[],o=0,s=n.length;s>o;o++)i=n[o],"undefined"!=typeof window&&null!==window&&(r=new Image,a.push(r.src=i));return a},t.resolveURLTemplates=function(t,e){var i,n,r,o,s,a,u,l,h;n=[],null==e&&(e={}),"CACHEBUSTING"in e||(e.CACHEBUSTING=Math.round(1e10*Math.random())),e.random=e.CACHEBUSTING;for(l=0,h=t.length;h>l;l++)if(i=t[l],a=i){for(r in e)u=e[r],o="["+r+"]",s="%%"+r+"%%",a=a.replace(o,u),a=a.replace(s,u);n.push(a)}return n},t.storage=function(){var t,e,i,n;try{i="undefined"!=typeof window&&null!==window?window.localStorage||window.sessionStorage:null}catch(r){n=r,i=null}return e=function(t){var e,i;try{if(i="__VASTUtil__",t.setItem(i,i),t.getItem(i)!==i)return!0}catch(n){return e=n,!0}return!1},(null==i||e(i))&&(t={},i={length:0,getItem:function(e){return t[e]},setItem:function(e,i){t[e]=i,this.length=Object.keys(t).length},removeItem:function(e){delete t[e],this.length=Object.keys(t).length},clear:function(){t={},this.length=0}}),i}(),t}(),e.exports=t}).call(this)},{}],14:[function(t,e){function i(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(t){return"function"==typeof t}function r(t){return"number"==typeof t}function o(t){return"object"==typeof t&&null!==t}function s(t){return void 0===t}e.exports=i,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._maxListeners=void 0,i.defaultMaxListeners=10,i.prototype.setMaxListeners=function(t){if(!r(t)||0>t||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},i.prototype.emit=function(t){var e,i,r,a,u,l;if(this._events||(this._events={}),"error"===t&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;throw TypeError('Uncaught, unspecified "error" event.')}if(i=this._events[t],s(i))return!1;if(n(i))switch(arguments.length){case 1:i.call(this);break;case 2:i.call(this,arguments[1]);break;case 3:i.call(this,arguments[1],arguments[2]);break;default:for(r=arguments.length,a=new Array(r-1),u=1;r>u;u++)a[u-1]=arguments[u];i.apply(this,a)}else if(o(i)){for(r=arguments.length,a=new Array(r-1),u=1;r>u;u++)a[u-1]=arguments[u];for(l=i.slice(),r=l.length,u=0;r>u;u++)l[u].apply(this,a)}return!0},i.prototype.addListener=function(t,e){var r;if(!n(e))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,n(e.listener)?e.listener:e),this._events[t]?o(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,o(this._events[t])&&!this._events[t].warned){var r;r=s(this._maxListeners)?i.defaultMaxListeners:this._maxListeners,r&&r>0&&this._events[t].length>r&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace())}return this},i.prototype.on=i.prototype.addListener,i.prototype.once=function(t,e){function i(){this.removeListener(t,i),r||(r=!0,e.apply(this,arguments))}if(!n(e))throw TypeError("listener must be a function");var r=!1;return i.listener=e,this.on(t,i),this},i.prototype.removeListener=function(t,e){var i,r,s,a;if(!n(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(i=this._events[t],s=i.length,r=-1,i===e||n(i.listener)&&i.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(o(i)){for(a=s;a-->0;)if(i[a]===e||i[a].listener&&i[a].listener===e){r=a;break}if(0>r)return this;1===i.length?(i.length=0,delete this._events[t]):i.splice(r,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},i.prototype.removeAllListeners=function(t){var e,i;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(i=this._events[t],n(i))this.removeListener(t,i);else for(;i.length;)this.removeListener(t,i[i.length-1]);return delete this._events[t],this},i.prototype.listeners=function(t){var e;return e=this._events&&this._events[t]?n(this._events[t])?[this._events[t]]:this._events[t].slice():[]},i.listenerCount=function(t,e){var i;return i=t._events&&t._events[e]?n(t._events[e])?1:t._events[e].length:0}},{}]},{},[5])(5)})},function(t,e,i){var n;n=function(){var t,e,n;return t=i(149),n=i(225),e=function(){function e(t){var e,i,r,o;this.options=t,this._eventReceiver=document.createElement("a"),this._measureTimeCounter=0,this._waitCounter=0,this._history=[],this._lock=[],this.session=new n,this.enabled=!0,null!=(null!=(e=this.options)?e.sampling:void 0)&&this.setSampling(this.options.sampling),this.logger=(null!=(i=this.options)&&null!=(r=i.logger)?r.log:void 0)?this.options.logger:(null!=(o=this.options)?o.logger:void 0)&&console?console:{error:function(){},log:function(){},warn:function(){}}}return e.prototype.init=function(){return this.trigger(t.SESSION_START),this.on(t.EXIT,function(){this.trigger(t.SESSION_END)}),this},e.prototype.reset=function(){var e,i,n,r;for(this.session&&this.trigger(t.SESSION_END),this._eventReceiver=document.createElement("a"),r=this._history,e=0,i=r.length;i>e;e++)n=r[e],n.once?this.one(n.events,n.callback):this.on(n.events,n.callback);return this._history=[],this.init(),this},e.prototype.setSampling=function(t){return t()!==!0?this.enabled=!1:void 0},e.prototype.on=function(t,e,i){var n,r,o,s;return"function"==typeof e&&(i=e,e=null),i?(s=$.isArray(t)?t:[t],o=function(t){return function(){$(t._eventReceiver).on(s.join(" "),$.proxy(i,t))}}(this),null===e?o():(n=!0,"sampling"in e&&!e.sampling()&&(n=!1),r="waitFor"in e,r&&n&&$(this._eventReceiver).one(e.waitFor,function(){o()}),n&&o()),this._history.push({events:s,callback:i}),this):void 0},e.prototype.one=function(t,e,i){var n;return n=$.isArray(t)?t:[t],$(this._eventReceiver).one(n.join(" "),$.proxy(i,this)),this._history.push({events:n,callback:i,once:!0}),this},e.prototype.off=function(t,e){var i,n,r,o,s;for($(this._eventReceiver).off(t,e),s=this._history,i=n=0,r=s.length;r>n;i=++n)if(o=s[i],o.events===t&&o.callback===e){this._history.splice(i,1);break}return this},e.prototype.lock=function(t){this._lock.push(t)},e.prototype.unlock=function(t){var e;e=this._lock.indexOf(t),~e&&this._lock.splice(e,1)},e.prototype.trigger=function(t,e){var i;if(i=~this._lock.indexOf(t),this.enabled&&!i)try{$(this._eventReceiver).triggerHandler(t,e)}catch(n){t=n,this.logger.error(t.name+": "+t.message)}return this.session&&this.session.log(t,e),this},e.prototype.onLoad=function(e){return this.on(t.SESSION_START,e),this},e.prototype.onUnload=function(e){return this.on(t.SESSION_END,e),this},e.prototype.measureTime=function(t,e,i,n){var r,o,s,a,u,l,h,d,c;return null==n&&(n=!1),d=c=null,s=a=null,l=null,u="mt_"+this._measureTimeCounter++,r=function(t){return($.isArray(t)?t:[t]).map(function(t){return t+"."+u})},h=r(t),o=r(e),this.on(h,function(t,e){c||(d=+new Date,c=!0,l=e)}),this.on(o,function(t){return function(e,r){var o;a||(s=+new Date,o=s-d,i.call(t,o,[l,r]),n||t.off("."+u),a=!0)}}(this)),this},e.prototype.wait=function(t,e){var i,n;n="wait_"+this._waitCounter++,t=t.map(function(t){return t+"."+n}),i=t.length,this.on(t,function(t){return function(){0===--i&&(e.call(t),t.off("."+n))}}(this))},e.prototype.loadPlugin=function(t,e){var i,n,r,o;n=!1,o=this,i=document.createElement("script"),i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){n||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(n=!0,setTimeout(function(){return"function"==typeof e&&e(),o.init()},50),i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i))},i.onerror=function(){o.enabled=!1},r=document.getElementsByTagName("script")[0],r.parentNode.insertBefore(i,r)},e._is_https="https:"===document.location.protocol,e}()}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n,r=[].slice;n=function(){var t,e,i,n,o;return i=function(t,e,i){return function(){var e;try{return t.apply(this,arguments)}catch(n){return e=n,"function"==typeof i?i(e):void 0}}},t=function(t,e,i){return function(){var n;return n=1<=arguments.length?r.call(arguments,0):[],i(e,"(",n.map(function(t){switch(typeof t){case"function":return"function";case"object":return"Object";default:return t}}).join(", "),")"),t.apply(this,n)}},o=function(){var t,e,i,n,o;i=arguments[0],o=arguments[1],t=3<=arguments.length?r.call(arguments,2):[];for(e in i)n=i[e],"function"==typeof n&&(i[e]=o.apply(null,[n,e].concat(r.call(t))))},n=function(t,e){return o(t,i,e)},e=function(e,i){return o(e,t,i)},{wrapObjectMethods:o,safeObject:n,loggedObject:e}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n,r=[].slice;n=function(){var t,e;return t=function(){function t(){}return t.prototype.on=function(t,e,i){return null==i&&(i=null),"function"==typeof e?(this.listeners||(this.listeners={}),this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push({func:e,scope:i}),this):void 0},t.prototype.off=function(t,e){var i,n,r,o;if("function"!=typeof e)this.listeners[t]=[];else if(null!=this.listeners[t])for(o=this.listeners[t],n=r=o.length-1;r>=0;n=r+=-1)i=o[n],i.func===e&&this.listeners[t].splice(n,1)},t.prototype.trigger=function(){var t,e,i,n,o,s;if(i=arguments[0],t=2<=arguments.length?r.call(arguments,1):[],null!=(o=this.listeners)?o[i]:void 0)for(s=this.listeners[i],n=s.length-1;n>=0;n+=-1)if(e=s[n],e.func.apply(e.scope,t)===!1)return},t}(),e=function(){var t,e,i,n,r,o;for(t=e=1,r=arguments.length;r>=1?r>=e:e>=r;t=r>=1?++e:--e){n=arguments[t];for(i in n)o=n[i],n.hasOwnProperty(i)&&(arguments[0][i]=o)}return arguments[0]},{Events:t,extend:e}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n;return t=i(5),e=i(25).get("Video"),n=function(){return this.handlePlayingEvent=function(){return 0},this.after("handleTimeUpdateEvent",function(){var i,n;return n=this.videoTag.currentTime,i=!this._lastTimeUpdate||n>this._lastTimeUpdate,this.waitingForPlayingEvent&&i&&(this.waitingForPlayingEvent=!1,e.log("custom video PLAYING"),this.trigger(t.VIDEO_PLAYING)),this._lastTimeUpdate=n}),this.after("handlePlayEvent",function(){return this.waitingForPlayingEvent=!0}),this.after("handleSeekedEvent",function(){return this.videoTag.paused||this.videoTag.seeking?void 0:this.waitingForPlayingEvent=!0}),this.after("handleWaitingEvent",function(){return this.waitingForPlayingEvent=!0})}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n;return t=i(5),e=i(25).get("Video"),n=function(){var t,e;return e=null,t=!1,this.attributes({videoTagSelector:null,videoWrapperTagSelector:null,delayBeforeWaiting:1e3}),this._stopWatchingForWait=function(){return clearInterval(e),e=null},this._startWatchingForWait=function(){var i;return i=this.select("videoTagSelector")[0],i.currentTime===this.lastTime||e||i.paused?void 0:(!i.paused&&t&&(t=!1,$(i).triggerHandler("playing")),this.lastTime=i.currentTime,e=setInterval(function(e){return function(){return i.currentTime===e.lastTime?(t=!0,$(i).triggerHandler("waiting"),e._stopWatchingForWait()):e.lastTime=i.currentTime}}(this),this.attr.delayBeforeWaiting))},this._doStartWatchingForWait=function(){return this._startWatchingForWait()},this._doStopWatchingForWait=function(){return this._stopWatchingForWait()},this.after("bindMediaEvents",function(){var t;return t=this.select("videoTagSelector"),this.on(t,"timeupdate",this._doStartWatchingForWait),this.on(t,["pause","ended"].join(" "),this._doStopWatchingForWait)}),this.before("unbindMediaEvents",function(){var t;return t=this.select("videoTagSelector"),this.off(t,"timeupdate",this._doStartWatchingForWait),this.off(t,["pause","ended"].join(" "),this._doStopWatchingForWait),this._stopWatchingForWait()})}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n,r=[].slice;n=function(){var t,e,n,o,s,a,u,l,h,d,c,f,p,E,m,_,g,v,S,T,y,A;return c=i(3),_=i(25).get("Buffering"),T=i(221),e=T.Events,f=T.extend,t={watcherInterval:200,steadyPlayTime:2e3,startBufferTime:2e3,minBufferTime:500},v=f({},t),S=null,d=null,A=!1,y=!1,p=null,E=null,m=null,g=new e,h=function(){var t;if(u(),p){if(!A)return E-Math.max(m,p)<v.steadyPlayTime?void _.log("Steady Play not reached yet: ignoring"):(_.log("Reached steady play : Start Tracking!"),g.trigger("steadyplay"),void(A=!0));m||(m=p),t=n(),m+v.watcherInterval>E&&t>m+v.minBufferTime&&(_.log("Got rebuffering!!"),g.trigger("rebuffering"),l(),y=!0)}},a=function(){null===S&&(_.log("Starting rebuffering watcher"),S=c.window().setInterval(h.bind(this),v.watcherInterval),y=!1)},l=function(){return null!==S?(_.log("Stoping rebuffering watcher"),c.window().clearInterval(S),S=null,A=!1,p=null,m=null,E=null):void 0},s=function(){return _.log("Starting buffering watcher"),d=c.window().setTimeout(function(){return _.log("Got buffering!!"),g.trigger("buffering"),u()},v.startBufferTime)},u=function(){return null!==d?(_.log("Stoping buffering watcher"),c.window().clearTimeout(d),d=null):void 0},o=function(){return null===S&&null===d?s():void 0},n=function(){return+c.window().Date.now()},{init:function(e){v=f({},t,e)},on:function(){var t;return t=1<=arguments.length?r.call(arguments,0):[],g.on.apply(g,t)},off:function(){var t;return t=1<=arguments.length?r.call(arguments,0):[],g.off.apply(g,t)},startWatching:function(){return y=!0},stopWatching:function(){return y=!1,l()},onTimeUpdate:function(){var t;return y&&a(),null!==S?(t=n(),p||(p=t),E=t):void 0},onPlaying:function(){return u()},onWaiting:function(){return m=n(),o()},onSeek:function(){return y=!0,l()},reset:function(){return this.stopWatching(),S=null,d=null,A=!1,y=!1,p=null,E=null,m=null}}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t;return t=function(){function t(){this.history=[],this.data={}}return t.prototype.log=function(){this.history.push(JSON.stringify(arguments))},t.prototype.hasLog=function(t){var e,i,n,r;for(r=this.history,e=0,i=r.length;i>e;e++)if(n=r[e],~n.indexOf('"'+t+'"'))return!0;return!1},t.prototype.save=function(t,e){this.data[t]=e},t.prototype.get=function(t){return t in this.data?this.data[t]:!1},t.prototype.has=function(t){return t in this.data},t}()}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))}]));