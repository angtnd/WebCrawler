__d("widget.guesslikesite.guesslikesite",["common.js.widget","common.js.cpcbll2","common.js.format","common.js.ctr"],function(m,n,k,d){d("common.js.widget");var f=d("common.js.cpcbll2"),i=d("common.js.format"),l=d("common.js.ctr");$.widget("hao123.guesslikesite",{_create:function(){var b=this.options,a=this.element;this.$row=$(".guesslike-row",a);this.$changeBtn=$(".changeBtn",a);this.$changeLink=$(".js-changeLink",a);this.$row=$(".js_guesslike-industry",a);this.screenNumber=this.typeNumber=3;this.cpcInitCache=
[{id:"cpc_gl_hot",initScreen:[]},{id:"cpc_gl_gouwu",initScreen:[]},{id:"cpc_gl_game",initScreen:[]}];this.initCPC();this.bindEvent();b.cpcClickChange&&this.burnAfterRead()},initCPC:function(){for(var b=this,a=0;a<b.typeNumber;a++){var c=b.$row.filter('[data-type="'+a+'"]').eq(0);(function(a){f.init({id:b.cpcInitCache[a].id+"0",ctx:c,success:function(c){0<c.length&&(b.cpcInitCache[a].initScreen[0]=1)}})})(a)}},bindEvent:function(){var b=this;b.$row.hover(function(){$(this).addClass("g-bg1")},function(){$(this).removeClass("g-bg1")});
b.$changeBtn.click(function(){var a=$(this).parents(".guesslike-industry"),c=a.find(".guesslike-row"),d=c.siblings(".show"),a=a.data("type"),g=(d.data("screen")+1)%c.length,c=c.eq(g);d.removeClass("show");c.addClass("show");var e=a||0,h=g||0;b.cpcInitCache[e].initScreen[h]||f.init({id:b.cpcInitCache[e].id+h,ctx:$('.guesslike-row[data-type="'+e+'"]').eq(h),success:function(a){0<a.length&&(b.cpcInitCache[e].initScreen[h]=1)}});return!1})},burnAfterRead:function(){function b(b,j){0<e[j].data.length&&
(clearTimeout(c),c=setTimeout(function(){var c=e[j].data.shift(),f=c.tit;b.attr("href",c.curl);b.text(f);b.attr("alog-custom",i(d,{recom:1}));b.attr("data-ctr",i(g,{area:a.area,type:"link",ts:+new Date,recom:1}));b.attr("data-ctr-status",0);l.callCTR(b)},500))}var a=this.options,c,d="recom:#{recom}",g="area:#{area},type:link,recom:#{recom},ts:#{ts}",e=[{id:"cpc_gl_hot3",hasRequest:0,data:[]},{id:"cpc_gl_gouwu3",hasRequest:0,data:[]},{id:"cpc_gl_game3",hasRequest:0,data:[]}];this.$changeLink.click(function(){var a=
$(this),c=a.parents(".guesslike-industry").data("type");0===e[c].hasRequest?f.init({id:e[c].id,doNotRewriteDom:!0,success:function(d){e[c].hasRequest=1;e[c].data=d.slice();b(a,c)}}):b(a,c)})},destroy:function(){$.Widget.prototype.destroy.call(this)}});return k});window.js_JfNPAKbkMY&&window.js_JfNPAKbkMY(!0);
