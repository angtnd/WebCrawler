var logo="\n"+"          :          :               \n"+"         ;;,        ,;;              \n"+"         ;;,        ,;;              \n"+"         ;;,        ,;;              \n"+"  .;;; ;`;;,  :;;;  ,;;:;;:    :;;;  \n"+" :;;;;;;;;;, ;;;;;; ,;;;;;;;  ;;;;;; \n"+" ;;: .;;;;;,:;;  ;;;,;;: `;;.,;;  ;;;\n"+",;;   ;;;;;,;;.   ;;,;;   ;;;;;.   ;;\n"+";;;   :;;;;,;;    ;;,;;   ,;;;;    ;;\n"+":;;   ;;;;;,;;`   ;;,;;   ;;;;;.   ;;\n"+" ;;,  ;;;;;,;;;  ;;;,;;: `;;,:;;  ;;;\n"+" ;;;;;;;;;;, ;;;;;; ,;;;;;;;  ;;;;;;`\n"+"  ;;;;:;;:;`  ;;;;   ;:;;;;    ;;;;  \n"+"      ;;:                            \n"+"`;;;;;;;  ;;;:  :;;,  ;;,;;``;;:     \n"+" ;;;;;;` ;;;;; ;;;;;; ;;;;;;;;;;,    \n"+"    `   ,;;   `;;  ;; ;;  ;;,  ;;    \n"+"        ;;    :;`  ,;,;;  ;;`  ;;    \n"+"        ;;    :;`  ,;,;;  ;;`  ;;    \n"+"        :;;    ;;  ;; ;;  ;;`  ;;    \n"+"      ;; ;;;;; ;;;;;: ;;  ;;`  ;;    \n"+"      ;:  ;;;,  .;;`  ;;  `;   ;,    \n";if(window.console&&console.log){console.log("%c"+logo,'font-size: 13px; color: transparent; text-shadow:0 0 15px #0669de, 0 0 15px #0669de; font-family: monospace');}
window.RavenCallback=function(raven){raven.config('http://c7748338a72341baad4b9b61855f133e@ce.globo.com/8').install();};(function(n,e){function t(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function r(n){return"undefined"==typeof n}var i={},u=n.TraceKit,c=[].slice,l="?";i.noConflict=function(){return n.TraceKit=u,i},i.wrap=function(n){function e(){try{return n.apply(this,arguments)}catch(e){throw i.report(e),e}}return e},i.report=function(){function e(n){o.push(n)}function r(n){for(var e=o.length-1;e>=0;--e)o[e]===n&&o.splice(e,1)}function u(n,e){var r=null;if(!e||i.collectWindowErrors){for(var u in o)if(t(o,u))try{o[u].apply(null,[n].concat(c.call(arguments,2)))}catch(l){r=l}if(r)throw r}}function l(e){var t=c.call(arguments,1);if(s){if(a===e)return;var r=s;s=null,a=null,u.apply(null,[r,null].concat(t))}var l=i.computeStackTrace(e);throw s=l,a=e,n.setTimeout(function(){a===e&&(s=null,a=null,u.apply(null,[l,null].concat(t)))},l.incomplete?2e3:0),e}var o=[],a=null,s=null,f=n.onerror;return n.onerror=function(n,e,t){var r=null;if(s)i.computeStackTrace.augmentStackTraceWithInitialElement(s,e,t,n),r=s,s=null,a=null;else{var c={url:e,line:t};c.func=i.computeStackTrace.guessFunctionName(c.url,c.line),c.context=i.computeStackTrace.gatherContext(c.url,c.line),r={mode:"onerror",message:n,url:document.location.href,stack:[c],useragent:navigator.userAgent}}return u(r,"from window.onerror"),f?f.apply(this,arguments):!1},l.subscribe=e,l.unsubscribe=r,l}(),i.computeStackTrace=function(){function e(e){function t(){try{return new n.XMLHttpRequest}catch(e){return new n.ActiveXObject("Microsoft.XMLHTTP")}}if(!i.remoteFetching)return"";try{var r=t();return r.open("GET",e,!1),r.send(""),r.responseText}catch(u){return""}}function u(n){if(!t(b,n)){var r="";n.indexOf(document.domain)!==-1&&(r=e(n)),b[n]=r?r.split("\n"):[]}return b[n]}function c(n,e){var t,i=/function ([^(]*)\(([^)]*)\)/,c=/['"]?([0-9A-Za-z$_]+)['"]?\s*[:=]\s*(function|eval|new Function)/,o="",a=10,s=u(n);if(!s.length)return l;for(var f=0;a>f;++f)if(o=s[e-f]+o,!r(o)){if(t=c.exec(o))return t[1];if(t=i.exec(o))return t[1]}return l}function o(n,e){var t=u(n);if(!t.length)return null;var c=[],l=Math.floor(i.linesOfContext/2),o=l+i.linesOfContext%2,a=Math.max(0,e-l-1),s=Math.min(t.length,e+o-1);e-=1;for(var f=a;s>f;++f)r(t[f])||c.push(t[f]);return c.length>0?c:null}function a(n){return n.replace(/[\-\[\]{}()*+?.,\\\^$|#]/g,"\\$&")}function s(n){return a(n).replace("<","(?:<|&lt;)").replace(">","(?:>|&gt;)").replace("&","(?:&|&amp;)").replace('"','(?:"|&quot;)').replace(/\s+/g,"\\s+")}function f(n,e){for(var t,r,i=0,c=e.length;c>i;++i)if((t=u(e[i])).length&&(t=t.join("\n"),r=n.exec(t)))return{url:e[i],line:t.substring(0,r.index).split("\n").length,column:r.index-t.lastIndexOf("\n",r.index)-1};return null}function p(n,e,t){var r,i=u(e),c=new RegExp("\\b"+a(n)+"\\b");return t-=1,i&&i.length>t&&(r=c.exec(i[t]))?r.index:null}function g(e){for(var t,r,i,u,c=[n.location.href],l=document.getElementsByTagName("script"),o=""+e,p=/^function(?:\s+([\w$]+))?\s*\(([\w\s,]*)\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/,g=/^function on([\w$]+)\s*\(event\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/,h=0;h<l.length;++h){var m=l[h];m.src&&c.push(m.src)}if(i=p.exec(o)){var d=i[1]?"\\s+"+i[1]:"",v=i[2].split(",").join("\\s*,\\s*");t=a(i[3]).replace(/;$/,";?"),r=new RegExp("function"+d+"\\s*\\(\\s*"+v+"\\s*\\)\\s*{\\s*"+t+"\\s*}")}else r=new RegExp(a(o).replace(/\s+/g,"\\s+"));if(u=f(r,c))return u;if(i=g.exec(o)){var x=i[1];if(t=s(i[2]),r=new RegExp("on"+x+"=[\\'\"]\\s*"+t+"\\s*[\\'\"]","i"),u=f(r,c[0]))return u;if(r=new RegExp(t),u=f(r,c))return u}return null}function h(n){if(!n.stack)return null;for(var e,t,r=/^\s*at (?:((?:\[object object\])?\S+) )?\(?((?:file|http|https):.*?):(\d+)(?::(\d+))?\)?\s*$/i,i=/^\s*(\S*)(?:\((.*?)\))?@((?:file|http|https).*?):(\d+)(?::(\d+))?\s*$/i,u=n.stack.split("\n"),a=[],s=/^(.*) is undefined$/.exec(n.message),f=0,g=u.length;g>f;++f){if(e=i.exec(u[f]))t={url:e[3],func:e[1]||l,args:e[2]?e[2].split(","):"",line:+e[4],column:e[5]?+e[5]:null};else{if(!(e=r.exec(u[f])))continue;t={url:e[2],func:e[1]||l,line:+e[3],column:e[4]?+e[4]:null}}!t.func&&t.line&&(t.func=c(t.url,t.line)),t.line&&(t.context=o(t.url,t.line)),a.push(t)}return a[0]&&a[0].line&&!a[0].column&&s&&(a[0].column=p(s[1],a[0].url,a[0].line)),a.length?{mode:"stack",name:n.name,message:n.message,url:document.location.href,stack:a,useragent:navigator.userAgent}:null}function m(n){for(var e,t=n.stacktrace,r=/ line (\d+), column (\d+) in (?:<anonymous function: ([^>]+)>|([^\)]+))\((.*)\) in (.*):\s*$/i,i=t.split("\n"),u=[],l=0,a=i.length;a>l;l+=2)if(e=r.exec(i[l])){var s={line:+e[1],column:+e[2],func:e[3]||e[4],args:e[5]?e[5].split(","):[],url:e[6]};if(!s.func&&s.line&&(s.func=c(s.url,s.line)),s.line)try{s.context=o(s.url,s.line)}catch(f){}s.context||(s.context=[i[l+1]]),u.push(s)}return u.length?{mode:"stacktrace",name:n.name,message:n.message,url:document.location.href,stack:u,useragent:navigator.userAgent}:null}function d(e){var r=e.message.split("\n");if(r.length<4)return null;var i,l,a,p,g=/^\s*Line (\d+) of linked script ((?:file|http|https)\S+)(?:: in function (\S+))?\s*$/i,h=/^\s*Line (\d+) of inline#(\d+) script in ((?:file|http|https)\S+)(?:: in function (\S+))?\s*$/i,m=/^\s*Line (\d+) of function script\s*$/i,d=[],v=document.getElementsByTagName("script"),x=[];for(l in v)t(v,l)&&!v[l].src&&x.push(v[l]);for(l=2,a=r.length;a>l;l+=2){var y=null;if(i=g.exec(r[l]))y={url:i[2],func:i[3],line:+i[1]};else if(i=h.exec(r[l])){y={url:i[3],func:i[4]};var w=+i[1],k=x[i[2]-1];if(k&&(p=u(y.url))){p=p.join("\n");var b=p.indexOf(k.innerText);b>=0&&(y.line=w+p.substring(0,b).split("\n").length)}}else if(i=m.exec(r[l])){var S=n.location.href.replace(/#.*$/,""),E=i[1],T=new RegExp(s(r[l+1]));p=f(T,[S]),y={url:S,line:p?p.line:E,func:""}}if(y){y.func||(y.func=c(y.url,y.line));var R=o(y.url,y.line),$=R?R[Math.floor(R.length/2)]:null;y.context=R&&$.replace(/^\s*/,"")===r[l+1].replace(/^\s*/,"")?R:[r[l+1]],d.push(y)}}return d.length?{mode:"multiline",name:e.name,message:r[0],url:document.location.href,stack:d,useragent:navigator.userAgent}:null}function v(n,e,t,r){var i={url:e,line:t};if(i.url&&i.line){n.incomplete=!1,i.func||(i.func=c(i.url,i.line)),i.context||(i.context=o(i.url,i.line));var u=/ '([^']+)' /.exec(r);if(u&&(i.column=p(u[1],i.url,i.line)),n.stack.length>0&&n.stack[0].url===i.url){if(n.stack[0].line===i.line)return!1;if(!n.stack[0].line&&n.stack[0].func===i.func)return n.stack[0].line=i.line,n.stack[0].context=i.context,!1}return n.stack.unshift(i),n.partial=!0,!0}return n.incomplete=!0,!1}function x(n,e){for(var t,r,u,o=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,a=[],s={},f=!1,h=x.caller;h&&!f;h=h.caller)if(h!==y&&h!==i.report){if(r={url:null,func:l,line:null,column:null},h.name?r.func=h.name:(t=o.exec(h.toString()))&&(r.func=t[1]),u=g(h)){r.url=u.url,r.line=u.line,r.func===l&&(r.func=c(r.url,r.line));var m=/ '([^']+)' /.exec(n.message||n.description);m&&(r.column=p(m[1],u.url,u.line))}s[""+h]?f=!0:s[""+h]=!0,a.push(r)}e&&a.splice(0,e);var d={mode:"callers",name:n.name,message:n.message,url:document.location.href,stack:a,useragent:navigator.userAgent};return v(d,n.sourceURL||n.fileName,n.line||n.lineNumber,n.message||n.description),d}function y(n,e){var t=null;e=null==e?0:+e;try{if(t=m(n))return t}catch(r){if(k)throw r}try{if(t=h(n))return t}catch(r){if(k)throw r}try{if(t=d(n))return t}catch(r){if(k)throw r}try{if(t=x(n,e+1))return t}catch(r){if(k)throw r}return{mode:"failed"}}function w(n){n=(null==n?0:+n)+1;try{throw new Error}catch(e){return y(e,n+1)}return null}var k=!1,b={};return y.augmentStackTraceWithInitialElement=v,y.guessFunctionName=c,y.gatherContext=o,y.ofCaller=w,y}(),function(){var e=function(e){var t=n[e];n[e]=function(){var n=c.call(arguments),e=n[0];return"function"==typeof e&&(n[0]=i.wrap(e)),t.apply?t.apply(this,n):t(n[0],n[1])}};e("setTimeout"),e("setInterval")}(),function(n){if(n){var t=n.event.add;n.event.add=function(e,r,u,c,l){var o;return u.handler?(o=u.handler,u.handler=i.wrap(u.handler)):(o=u,u=i.wrap(u)),u.guid=o.guid?o.guid:o.guid=n.guid++,t.call(this,e,r,u,c,l)};var r=n.fn.ready;n.fn.ready=function(n){return r.call(this,i.wrap(n))};var u=n.ajax;n.ajax=function(t,r){var c,l=["complete","error","success"];for("object"==typeof t&&(r=t,t=e),r=r||{};c=l.pop();)n.isFunction(r[c])&&(r[c]=i.wrap(r[c]));try{return u.call(this,t,r)}catch(o){throw i.report(o),o}}}}(n.jQuery),i.remoteFetching||(i.remoteFetching=!0),i.collectWindowErrors||(i.collectWindowErrors=!0),(!i.linesOfContext||i.linesOfContext<1)&&(i.linesOfContext=11),n.TraceKit=i})(window),function(n,e){"use strict";function t(n){for(var e=j.exec(n),t={},r=14;r--;)t[$[r]]=e[r]||"";return t}function r(n){return"undefined"==typeof n}function i(n){return"function"==typeof n}function u(n,e){var t,i;if(r(n.length))for(t in n)n.hasOwnProperty(t)&&e.call(null,t,n[t]);else if(i=n.length)for(t=0;i>t;t++)e.call(null,t,n[t])}function c(){if(T)return T;var n=["sentry_version=2.0","sentry_client=raven-js/"+R.VERSION];return y&&n.push("sentry_key="+y),T="?"+n.join("&")}function l(n,e){var t=[];n.stack&&n.stack.length&&u(n.stack,function(n,e){var r=o(e);r&&t.push(r)}),s(n.name,n.message,n.url,n.lineno,t,e)}function o(n){if(n.url){var e,t={filename:n.url,lineno:n.line,colno:n.column,"function":n.func||"?"},r=a(n);if(r){var i=["pre_context","context_line","post_context"];for(e=3;e--;)t[i[e]]=r[e]}return t.in_app=!(!S.includePaths.test(t.filename)||/(Raven|TraceKit)\./.test(t["function"])||/raven\.(min\.)js$/.test(t.filename)),t}}function a(n){if(n.context&&S.fetchContext){for(var e=n.context,t=~~(e.length/2),i=e.length,u=!1;i--;)if(e[i].length>300){u=!0;break}if(u){if(r(n.column))return;return[[],e[t].substr(n.column,50),[]]}return[e.slice(0,t),e[t],e.slice(t+1)]}}function s(n,e,t,r,i,u){var c,l,o;for(o=S.ignoreErrors.length;o--;)if(e===S.ignoreErrors[o])return;i&&i.length?(c={frames:i},t=t||i[0].filename):t&&(c={frames:[{filename:t,lineno:r}]}),S.ignoreUrls&&S.ignoreUrls.test(t)||(l=r?e+" at "+r:e,g(f({"sentry.interfaces.Exception":{type:n,value:e},"sentry.interfaces.Stacktrace":c,culprit:t,message:l},u)))}function f(n,e){return e?(u(e,function(e,t){n[e]=t}),n):n}function p(){var n={url:document.location.href,headers:{"User-Agent":navigator.userAgent}};return document.referrer&&(n.headers.Referer=document.referrer),n}function g(n){m()&&(n=f({project:w,logger:S.logger,site:S.site,platform:"javascript","sentry.interfaces.Http":p()},n),n.tags=f(S.tags,n.tags),n.tags||delete n.tags,x&&(n["sentry.interfaces.User"]=x),i(S.dataCallback)&&(n=S.dataCallback(n)),h(n))}function h(n){(new Image).src=v+c()+"&sentry_data="+encodeURIComponent(JSON.stringify(n))}function m(){return b?v?!0:(n.console&&console.error&&console.error("Error: Raven has not been configured."),!1):!1}function d(n){for(var e=[],t=n.length;t--;)e[t]=n[t].source;return new RegExp(e.join("|"),"i")}var v,x,y,w,k=n.Raven,b=!(!n.JSON||!n.JSON.stringify),S={logger:"javascript",ignoreErrors:[],ignoreUrls:[],includePaths:[],tags:{}},E=TraceKit.noConflict();E.remoteFetching=!1;var T,R={VERSION:"1.1.0-pre",afterLoad:function(){n.RavenCallback&&n.RavenCallback(this)},noConflict:function(){return n.Raven=k,R},config:function(n,e){var r=t(n),i=r.path.lastIndexOf("/"),c=r.path.substr(1,i);return e&&u(e,function(n,e){S[n]=e}),S.ignoreUrls=S.ignoreUrls.length?d(S.ignoreUrls):!1,S.includePaths=d(S.includePaths),S.ignoreErrors.push("Script error."),y=r.user,w=~~r.path.substr(i+1),v="//"+r.host+(r.port?":"+r.port:"")+"/"+c+"api/"+w+"/store/",r.protocol&&(v=r.protocol+":"+v),S.fetchContext&&(E.remoteFetching=!0),R},install:function(){return m()?(E.report.subscribe(l),R):void 0},context:function(n,t,r){i(n)&&(r=t||[],t=n,n=e),R.wrap(n,t).apply(this,r)},wrap:function(n,t){return i(n)&&(t=n,n=e),function(){try{t.apply(this,arguments)}catch(e){throw R.captureException(e,n),e}}},uninstall:function(){return E.report.unsubscribe(l),R},captureException:function(n,e){if("string"==typeof n)return R.captureMessage(n,e);try{E.report(n,e)}catch(t){if(n!==t)throw t}return R},captureMessage:function(n,e){return g(f({message:n},e)),R},setUser:function(n){return x=n,R}},$="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),j=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/;R.afterLoad(),n.Raven=R,"function"==typeof define&&define.amd&&define(function(){return R})}(window);libby=window.libby||{};libby.eventsArray=[];var _gaq=[];libby.loadScript=function(src,callback){var s=document.createElement("script"),ss=document.getElementsByTagName("script")[0];s.type="text/javascript";s.async=true;s.charset="utf-8";s.onload=s.onreadystatechange=function(){if(!s.readyState||(/loaded|complete/).test(s.readyState)){s=s.onload=s.onreadystatechange=null;callback&&callback.apply(s,arguments);}};s.src=src;ss.parentNode.insertBefore(s,ss);};;window.Modernizr=function(a,b,c){function x(a){j.cssText=a}
function y(a,b){return x(m.join(a+";")+(b||""))}
function z(a,b){return typeof a===b}
function A(a,b){return!!~(""+a).indexOf(b)}
function B(a,b,d){for(var e in a){var f=b[a[e]];if(f!==c)return d===!1?a[e]:z(f,"function")?f.bind(d||b):f}
return!1}
var d="2.8.3",e={},f=!0,g=b.documentElement,h="modernizr",i=b.createElement(h),j=i.style,k,l={}.toString,m=" -webkit- -moz- -o- -ms- ".split(" "),n={},o={},p={},q=[],r=q.slice,s,t=function(a,c,d,e){var f,i,j,k,l=b.createElement("div"),m=b.body,n=m||b.createElement("body");if(parseInt(d,10))while(d--)j=b.createElement("div"),j.id=e?e[d]:h+(d+1),l.appendChild(j);return f=["&#173;",'<style id="s',h,'">',a,"</style>"].join(""),l.id=h,(m?l:n).innerHTML+=f,n.appendChild(l),m||(n.style.background="",n.style.overflow="hidden",k=g.style.overflow,g.style.overflow="hidden",g.appendChild(n)),i=c(l,a),m?l.parentNode.removeChild(l):(n.parentNode.removeChild(n),g.style.overflow=k),!!i},u=function(b){var c=a.matchMedia||a.msMatchMedia;if(c)return c(b)&&c(b).matches||!1;var d;return t("@media "+b+" { #"+h+" { position: absolute; } }",function(b){d=(a.getComputedStyle?getComputedStyle(b,null):b.currentStyle)["position"]=="absolute"}),d},v={}.hasOwnProperty,w;!z(v,"undefined")&&!z(v.call,"undefined")?w=function(a,b){return v.call(a,b)}:w=function(a,b){return b in a&&z(a.constructor.prototype[b],"undefined")},Function.prototype.bind||(Function.prototype.bind=function(b){var c=this;if(typeof c!="function")throw new TypeError;var d=r.call(arguments,1),e=function(){if(this instanceof e){var a=function(){};a.prototype=c.prototype;var f=new a,g=c.apply(f,d.concat(r.call(arguments)));return Object(g)===g?g:f}
return c.apply(b,d.concat(r.call(arguments)))};return e}),n.touch=function(){var c;return"ontouchstart"in a||a.DocumentTouch&&b instanceof DocumentTouch?c=!0:t(["@media (",m.join("touch-enabled),("),h,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(a){c=a.offsetTop===9}),c};for(var C in n)w(n,C)&&(s=C.toLowerCase(),e[s]=n[C](),q.push((e[s]?"":"no-")+s));return e.addTest=function(a,b){if(typeof a=="object")for(var d in a)w(a,d)&&e.addTest(d,a[d]);else{a=a.toLowerCase();if(e[a]!==c)return e;b=typeof b=="function"?b():b,typeof f!="undefined"&&f&&(g.className+=" "+(b?"":"no-")+a),e[a]=b}
return e},x(""),i=k=null,e._version=d,e._prefixes=m,e.mq=u,e.testStyles=t,g.className=g.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(f?" js "+q.join(" "):""),e}(this,this.document),function(){var a=new Image;a.onerror=function(){Modernizr.addTest("webp",!1)},a.onload=function(){Modernizr.addTest("webp",function(){return a.width==1})},a.src="data:image/webp;base64,UklGRiwAAABXRUJQVlA4ICAAAAAUAgCdASoBAAEAL/3+/3+CAB/AAAFzrNsAAP5QAAAAAA=="}();(function(global,doc){var libby=global.libby=global.libby||{};var responsive=global.libby.responsive={};var root=doc.documentElement;var utils=global.libby.responsive.utils={root:root,slice:Array.prototype.slice,contains:(function(){return('contains'in root)?function(context,node){return context!==node&&context.contains(node);}:('compareDocumentPosition'in root)?function(context,node){return context===node||!!(context.compareDocumentPosition(node)&16);}:function(context,node){while((node=node.parentNode)){if(node===context)return true;}
return false;};}()),isFunction:function(fn){return(typeof fn==='function');},bind:function(fn,context){var args=utils.slice.call(arguments,2);return function(){return fn.apply(context||this,args.concat(utils.slice.call(arguments,0)));};},isWindow:function(obj){return obj!=null&&obj===obj.window;},getWindow:function(node){return utils.isWindow(node)?node:(node.nodeType===9)?node.defaultView||node.parentWindow:false;},extend:function(object){var obj,i,key,len;for(i=1,len=arguments.length;i<len;i++){obj=arguments[i];for(key in obj){object[key]=obj[key];}}
return object;},filter:function(array,fn){if(array.filter){return array.filter(fn);}
var filtered=[];for(var i=0,len=array.length;i<len;++i){if(fn.call(array,array[i],i))filtered.push(array[i]);}
return filtered;},binarySearch:function(array,compareFn,element){var start=0,end=array.length,pivot,comparison;while(start<end){pivot=Math.floor((start+end)/2);comparison=compareFn(array[pivot],element);if(comparison<0){end=pivot;}else if(comparison>0){start=pivot+1;}else{return pivot;}}
return start;}};libby.DeferredValue=function(){this.value=null;this.callbackList=[];};libby.DeferredValue.prototype={get:function(callback){this.value?callback(this.value):this.callbackList.push(callback);},set:function(value){this.value=value;while(this.callbackList.length>0){this.callbackList.pop()(value);}}};libby.containerKindDefer=new libby.DeferredValue();}(this,document));(function(global,doc){var utils=libby.responsive.utils;var Events=libby.responsive.Events=function(){};utils.extend(Events.prototype,{addEvent:function(eventId,fn,context,args){if(!this._evts)this._evts={};if(!this._evts[eventId])this._evts[eventId]=[];this._evts[eventId].push({fn:fn,context:context||this,args:args||[]});return this;},removeEvent:function(eventId,fn){if(!this._evts||!this._evts[eventId]){return;}
var evts=this._evts[eventId],newEvts=[];for(var i=0,len=evts.length;i<len;++i){if(evts[i].fn!==fn){newEvts.push(evts[i]);}}
this._evts[eventId]=newEvts;},fireEvent:function(eventId,args){if(!this._evts)this._evts={};var evts=this._evts[eventId];if(!evts)return;if(!args)args=[];for(var i=0,len=evts.length;i<len;i++){evts[i].fn.apply(evts[i].context,args.concat(evts[i].args));}
return this;},hasEvent:function(eventId){return(this._evts&&this._evts[eventId]&&this._evts[eventId].length);}});utils.extend(Events,{dom:{_createEventHandler:function(element,handler,context,args){var newHandler=function(event){if(!event){event=global.event;}
if(!event.target){event.target=event.srcElement||doc;}
return handler.apply(context||element,[event].concat(args));};handler.realHandler=newHandler;return newHandler;},on:function(element,type,handler,context,args){handler=this._createEventHandler(element,handler,context,args);if(element.addEventListener){element.addEventListener(type,handler,false);}else if(element.attachEvent){element.attachEvent('on'+type,handler);}},off:function(element,type,handler){if(handler.realHandler){handler=handler.realHandler;}
if(element.removeEventListener){element.removeEventListener(type,handler,false);}else if(element.detachEvent){element.detachEvent('on'+type,handler);}}}});}(this,document));(function(global,doc){var Events=libby.responsive.Events,utils=libby.responsive.utils;var HtmlNode=libby.responsive.HtmlNode=function(element){if(!(this instanceof HtmlNode)){return new HtmlNode(element);}
if(element instanceof HtmlNode){return element;}
if(element.nodeType!==1){throw Error('element should be an HTMLElement instance');}
this.element=element;var uuid=this.uuid();if(HtmlNode._instances[uuid]){return HtmlNode._instances[uuid];}else{HtmlNode._instances[uuid]=this;}};HtmlNode._uuid=1;HtmlNode._instances={};utils.extend(HtmlNode.prototype,{uuid:function(){return this.element.uniqueNumberHtmlNode||(this.element.uniqueNumberHtmlNode=HtmlNode._uuid++);},scrollTop:function(){return this.element.scrollTop;},_getComputedStyle:function(){var defaultView=this.element.ownerDocument.defaultView;return(defaultView&&defaultView.getComputedStyle)?defaultView.getComputedStyle(this.element,null):this.element.currentStyle;},css:function(style){var value=this.element.style[style];if(value==null||value==='auto'){value=this._getComputedStyle()[style];}
return(value!=null&&isFinite(value))?parseFloat(value):value;},innerHeight:function(){return this.element.offsetHeight-this.css('borderTopWidth')-this.css('boderBottomWidth');},innerWidth:function(){return this.element.offsetWidth-this.css('borderLeftWidth')-this.css('boderRightWidth');},outerHeight:function(){return this.element.offsetHeight;},offset:(function(){if(!("getBoundingClientRect"in utils.root)){return function(){return{top:0,left:0};};}
return function(){var box,root=utils.root;try{box=this.element.getBoundingClientRect();}catch(e){}
if(!box||!utils.contains(root,this.element)){return box?{top:box.top,left:box.left}:{top:0,left:0};}
var body=doc.body,win=utils.getWindow(doc),clientTop=root.clientTop||body.clientTop||0,clientLeft=root.clientLeft||body.clientLeft||0,scrollTop=win.pageYOffset||root.scrollTop,scrollLeft=win.pageXOffset||root.scrollLeft,top=box.top+scrollTop-clientTop,left=box.left+scrollLeft-clientLeft;return{top:top,left:left};};}()),on:function(event,callback){Events.dom.on(this.element,event,callback);return this;},off:function(event,callback){Events.dom.off(this.element,event,callback);return this;}});utils.extend(HtmlNode.prototype,new Events);}(this,document));(function(global,doc){var utils=libby.responsive.utils,Events=libby.responsive.Events,HtmlNode=libby.responsive.HtmlNode;var ScrollSpy=libby.responsive.ScrollSpy=function(options){this.options=utils.extend({},this.options,options);this.window=window;this.compatElement=this.getDocumentScrollElement();this.elements={};this.bound={updateVisibleElements:utils.bind(this.updateVisibleElements,this),throttledScroll:utils.bind(this.throttledScroll,this),throttledResize:utils.bind(this.throttledResize,this),onScrollPolling:utils.bind(this.onScrollPolling,this)};this.updateContainerCachedSize();this.orderedElements=[];this.scrollTimeout=null;this.resizeTimeout=null;this.scrollPollingInterval=null;this.listeningToEvents=false;this.windowScrollTop=null;};utils.extend(ScrollSpy.prototype,{options:{offset:50,useScrollEvent:true,throttlingTime:500},getDocumentScrollElement:function(){return(!doc.compatMode||doc.compatMode=='CSS1Compat')?doc.documentElement:doc.body;},getWindowScrollTop:function(){return(this.windowScrollTop=this.window.pageYOffset||this.compatElement.scrollTop);},updateContainerCachedSize:function(){this.windowHeight=this.compatElement.clientHeight;this.windowWidth=this.compatElement.clientWidth;},check:function(windowScrollTop,windowScrollBottom,updatingSize){this._updateCacheIfNeeded();var firstIdx=utils.binarySearch(this.orderedElements,function(a,b){return b-(a.topPosition+a.cachedOuterHeight);},windowScrollTop,0);for(var i=firstIdx;i<this.orderedElements.length;++i){var currentElement=this.orderedElements[i],uuid=currentElement.uuid();if(currentElement.topPosition>windowScrollBottom){break;}
if(this.elements[uuid]){currentElement.fireEvent('scrollSpyVisible',[updatingSize?'resize':'scroll']);this.clearAddedCallback(currentElement);if(currentElement.waitChange){currentElement.addEvent('scrollSpyElementChanged',this.removeElementOnChange(uuid));}else{setTimeout(this.removeElementOnChange(uuid),0);}}}
this._tryStopEventsListening();},removeElementOnChange:function(uuid){var self=this;return function(){self.remove(uuid);};},checkElementVisibility:function(element){if(this.windowScrollTop===null){this.getWindowScrollTop();}
var windowScrollTop=this.windowScrollTop,elOffset=element.topPosition;if(elOffset-this.options.offset<=(windowScrollTop+this.windowHeight)){if(elOffset+element.cachedOuterHeight+this.options.offset>=windowScrollTop){element.fireEvent('scrollSpyVisible',['visible']);this.clearAddedCallback(element);return true;}}
return false;},clearAddedCallback:function(element){if(element.spyAddedCallback){element.removeEvent('scrollSpyVisible',element.spyAddedCallback);element.spyAddedCallback=null;}},removeAll:function(){this.elements={};this.orderedElements=[];},remove:function(uuid){delete this.elements[uuid];for(var i=0,len=this.orderedElements.length;i<len;++i){if(this.orderedElements[i].uuid()===uuid){break;}}
this.orderedElements.splice(i,1);},add:function(element,callback){element=HtmlNode(element);var uuid=element.uuid();if(this.elements[uuid]){this._listenToEvents();return;}
var elementTop=element.offset().top;element.topPosition=elementTop;element.cachedOuterHeight=element.outerHeight();if(callback){element.spyAddedCallback=callback;element.addEvent('scrollSpyVisible',callback,element.element);}
if(!this.checkElementVisibility(element)){this.elements[uuid]=element;this._updateCacheIfNeeded();if(this.orderedElements.length===0){this.orderedElements.push(element);}
for(var i=0;i<this.orderedElements.length;++i){if(this.orderedElements[i].topPosition>elementTop){break;}}
this.orderedElements.splice(i,0,element);}
this._listenToEvents();},_updateCacheIfNeeded:function(){var len=this.orderedElements.length,i,el,firstEl=this.orderedElements[0],lastEl=this.orderedElements[len-1];if(len===0||(lastEl.topPosition===lastEl.offset().top&&firstEl.topPosition===firstEl.offset().top)){return;}
for(i=0;i<len;++i){el=this.orderedElements[i];el.topPosition=el.offset().top;el.cachedOuterHeight=el.outerHeight();}
this.orderedElements.sort(function(a,b){return a.topPosition-b.topPosition;});},throttledScroll:function(ev){if(this.scrollTimeout){return;}
var self=this;this.scrollTimeout=setTimeout(function(){self.scrollTimeout=null;self.updateVisibleElements();},this.options.throttlingTime);},throttledResize:function(ev){if(this.resizeTimeout){return;}
var self=this;this.resizeTimeout=setTimeout(function(){self.resizeTimeout=null;self.updateVisibleElements(true);},self.options.throttlingTime);},onScrollPolling:function(){var windowScrollTop=this.getWindowScrollTop(),windowScrollBottom;if(this.lastPollingTop!=windowScrollTop){this.check(windowScrollTop,windowScrollTop+this.windowHeight);this.lastPollingTop=windowScrollTop;}},updateVisibleElements:function(shouldUpdateSize){if(shouldUpdateSize===true){this.updateContainerCachedSize();}
var windowScrollTop=this.getWindowScrollTop(),windowScrollBottom=windowScrollTop+this.windowHeight;this.check(windowScrollTop,windowScrollBottom,shouldUpdateSize);},_listenToEvents:function(){if(this.listeningToEvents||this.orderedElements.length===0){return;}
this.listeningToEvents=true;if(this.options.useScrollEvent){Events.dom.on(this.window,'scroll',this.bound.throttledScroll);}else{this.scrollPollingInterval=setInterval(this.bound.onScrollPolling,this.options.throttlingTime);}
Events.dom.on(this.window,'load',this.bound.updateVisibleElements);Events.dom.on(this.window,'resize',this.bound.throttledResize);},_tryStopEventsListening:function(){if(!this.listeningToEvents||this.orderedElements.length>0){return;}
this.listeningToEvents=false;if(this.options.useScrollEvent){Events.dom.off(this.window,'scroll',this.bound.throttledScroll);}else{clearInterval(this.scrollPollingInterval);}
Events.dom.off(this.window,'load',this.bound.updateVisibleElements);Events.dom.off(this.window,'resize',this.bound.throttledResize);}});libby.responsive.scrollSpy=new ScrollSpy();}(this,document));(function(global,doc){var Events=libby.responsive.Events,HtmlNode=libby.responsive.HtmlNode,utils=libby.responsive.utils;var Hub=libby.responsive.Hub=function(options){this.options=utils.extend({},this.options,options);if(this.options.thumborUrl.substr(this.options.thumborUrl.length-1,1)!='/'){this.options.thumborUrl+='/';}
this.elements={};this.containerWidth=null;if(this.options.autoInit){this.init();}};utils.extend(Hub.prototype,{options:{getContainerWidth:function(){return parseInt(HtmlNode(doc.body).css('width'),10);},resizeThrottleTime:50,autoChangeImages:true,screenWidths:null,thumborUrl:'http://s2.glbimg.com/',autoInit:true,deferredContainerKind:libby.containerKindDefer,changeAllOnScroll:function(){return window.Modernizr&&Modernizr.touch;}},init:function(){if(this.containerWidth){return false;}
this.selectImageElements();this.containerWidth=this.options.getContainerWidth();this.detectChosenSize(this.containerWidth);this.spyImages();this.bindEvents();return true;},getContainerKind:function(callback){this.options.deferredContainerKind.get(callback);},selectImageElements:function(){this.elements.imageLiveNodeList=doc.getElementsByTagName('img');this.elements.pictureLiveNodeList=doc.getElementsByTagName('figure');},filterImageElements:function(){var liveImagesList=this.elements.imageLiveNodeList,pictureLiveNodeList=this.elements.pictureLiveNodeList,images=this.elements.images=[],image,i,len;for(i=0,len=liveImagesList.length;i<len;++i){image=liveImagesList[i];if(image.getAttribute('data-url-'+this.chosenSize)){images.push(HtmlNode(image));}}
for(i=0,len=pictureLiveNodeList.length;i<len;++i){image=pictureLiveNodeList[i];if(image.getAttribute('data-url-'+this.chosenSize)){images.push(HtmlNode(image));}}},spyImages:function(){if(!this.options.autoChangeImages){return;}
this.filterImageElements();var images=this.elements.images,scrollSpy=libby.responsive.scrollSpy,image,i,len;for(i=0,len=images.length;i<len;++i){image=images[i];image.waitChange=true;if(!image.hasEvent('scrollSpyVisible')){image.addEvent('scrollSpyVisible',this.loadCorrectResolutionImage,this,image);}
scrollSpy.add(image);}},forceChangeAll:function(){var images=this.elements.images,scrollSpy=libby.responsive.scrollSpy,i,len;if(!images||images.length===0){return;}
for(i=0,len=images.length;i<len;++i){this.loadCorrectResolutionImage('force',images[i]);scrollSpy.remove(images[i].uuid());}
this.elements.images=[];},bindEvents:function(){Events.dom.on(window,'resize',function(){clearTimeout(this.resizeThrottleTimer);this.resizeThrottleTimer=setTimeout(utils.bind(this.checkContainerChange,this),this.options.resizeThrottleTime);},this);},updateImages:function(){if(!this.init()){if(!this.checkContainerChange()){this.spyImages();}}},checkContainerChange:function(){var containerSize=this.options.getContainerWidth(),currentChosen=this.chosenSize,alreadySpied=false;if(this.containerWidth!=containerSize){this.detectChosenSize(containerSize);if(currentChosen!=this.chosenSize){alreadySpied=true;this.spyImages();}
this.fireEvent('onContainerChanged',[containerSize,this.containerWidth,this.chosenSize]);this.containerWidth=containerSize;}
return alreadySpied;},detectChosenSize:function(newSize){var currentWidthInfo,i;for(i=0;i<this.options.screenWidths.length;++i){currentWidthInfo=this.options.screenWidths[i];if(newSize>=currentWidthInfo[1]){this.chosenSize=currentWidthInfo[0];break;}}
if(this.options.deferredContainerKind){this.options.deferredContainerKind.set(this.chosenSize);}},loadCorrectResolutionImage:function(status,image){if(!this.options.autoChangeImages){return;}
var changeAllOnScroll=this.options.changeAllOnScroll
if(utils.isFunction(changeAllOnScroll)){changeAllOnScroll=changeAllOnScroll();}
if(changeAllOnScroll&&status==='scroll'){var _this=this;setTimeout(function(){_this.forceChangeAll()},0);}
var dataStr='data-url-'+this.chosenSize,url=image.element.getAttribute(dataStr);if(window.devicePixelRatio&&window.devicePixelRatio>1.5){retinaURL=image.element.getAttribute(dataStr+'2x');if(retinaURL){url=retinaURL;dataStr=dataStr+'2x';}}
if(window.Modernizr&&Modernizr.webp){webpURL=image.element.getAttribute(dataStr+'-webp');if(webpURL){url=webpURL;dataStr=dataStr+'-webp';}}
if(!url){return;}
var originalUrl=image.element.getAttribute('data-original-image');if(originalUrl!=null){url=url+originalUrl;}
url=this.options.thumborUrl+url;if(this.getSource(image)===url){return;}
var preloadImage=doc.createElement('img');Events.dom.on(preloadImage,'load',this.onPreloadLoaded(image));preloadImage.src=url;},onPreloadLoaded:function(image){var _this=this;return function(){var newImgSrc=this.getAttribute('src');_this.setSource(image,newImgSrc);};},getSource:function(image){if(image.element.getAttribute('data-as-back')){return image.element.rhCurrentSrc;}
return image.element.getAttribute('src');},setSource:function(image,newImgSrc){if(image.element.getAttribute('data-as-back')){image.element.style.backgroundImage="url('"+newImgSrc+"')";image.element.rhCurrentSrc=newImgSrc;}else{image.element.setAttribute('src',newImgSrc);}
image.fireEvent('scrollSpyElementChanged');}});utils.extend(Hub.prototype,new Events);}(this,document));window.RESPONSIVE_SETTINGS=window.RESPONSIVE_SETTINGS||{};RESPONSIVE_SETTINGS.autoChangeImages=true;RESPONSIVE_SETTINGS.screenWidths=[['desktop',1055],['tablet',732],['smart_horizontal',361],['smart',321],['feature',0]];RESPONSIVE_SETTINGS.thumborUrl="http://s2.glbimg.com";(function(global){var baseWidthContainer=null;var responsiveHub=global.responsiveHub=new libby.responsive.Hub({getContainerWidth:function(){if('innerWidth'in window){return window.innerWidth;}
if(!baseWidthContainer){baseWidthContainer=document.getElementById('base-container-width-element');}
if(!baseWidthContainer){baseWidthContainer=document.getElementsByTagName('body')[0];}
if(!baseWidthContainer){return 1055;}
return baseWidthContainer.offsetWidth||baseWidthContainer.clientWidth;},autoChangeImages:RESPONSIVE_SETTINGS.autoChangeImages,screenWidths:RESPONSIVE_SETTINGS.screenWidths,thumborUrl:RESPONSIVE_SETTINGS.thumborUrl,autoInit:true});}(this));(function(global){responsiveHub.addEvent('onContainerChanged',function(newSize,oldSize,containerKind){libby.eventsArray.push(['responsiveHub.onContainerChanged'].concat(Array.prototype.slice.call(arguments,0)));});}(this));