var webengage={};var _weq=_weq||{};(function(a){var b={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_f:String.fromCharCode,compressToBase64:function(r){if(r==null){return""}var t="";var i,m,o,l,n,p,q;var s=0;r=b.compress(r);while(s<r.length*2){if(s%2==0){i=r.charCodeAt(s/2)>>8;m=r.charCodeAt(s/2)&255;if(s/2+1<r.length){o=r.charCodeAt(s/2+1)>>8}else{o=NaN}}else{i=r.charCodeAt((s-1)/2)&255;if((s+1)/2<r.length){m=r.charCodeAt((s+1)/2)>>8;o=r.charCodeAt((s+1)/2)&255}else{m=o=NaN}}s+=3;l=i>>2;n=((i&3)<<4)|(m>>4);p=((m&15)<<2)|(o>>6);q=o&63;if(isNaN(m)){p=q=64}else{if(isNaN(o)){q=64}}t=t+b._keyStr.charAt(l)+b._keyStr.charAt(n)+b._keyStr.charAt(p)+b._keyStr.charAt(q)}return t},decompressFromBase64:function(u){if(u==null){return""}var z="",w=0,v,f,p,r,i,q,s,t,y=0,x=b._f;u=u.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(y<u.length){i=b._keyStr.indexOf(u.charAt(y++));q=b._keyStr.indexOf(u.charAt(y++));s=b._keyStr.indexOf(u.charAt(y++));t=b._keyStr.indexOf(u.charAt(y++));f=(i<<2)|(q>>4);p=((q&15)<<4)|(s>>2);r=((s&3)<<6)|t;if(w%2==0){v=f<<8;if(s!=64){z+=x(v|p)}if(t!=64){v=r<<8}}else{z=z+x(v|f);if(s!=64){v=p<<8}if(t!=64){z+=x(v|r)}}w+=3}return b.decompress(z)},compress:function(B){if(B==null){return""}var z,w,u={},v={},t="",D="",f="",C=2,A=3,E=2,i="",F=0,y=0,s,x=b._f;for(s=0;s<B.length;s+=1){t=B.charAt(s);if(!Object.prototype.hasOwnProperty.call(u,t)){u[t]=A++;v[t]=true}D=f+t;if(Object.prototype.hasOwnProperty.call(u,D)){f=D}else{if(Object.prototype.hasOwnProperty.call(v,f)){if(f.charCodeAt(0)<256){for(z=0;z<E;z++){F=(F<<1);if(y==15){y=0;i+=x(F);F=0}else{y++}}w=f.charCodeAt(0);for(z=0;z<8;z++){F=(F<<1)|(w&1);if(y==15){y=0;i+=x(F);F=0}else{y++}w=w>>1}}else{w=1;for(z=0;z<E;z++){F=(F<<1)|w;if(y==15){y=0;i+=x(F);F=0}else{y++}w=0}w=f.charCodeAt(0);for(z=0;z<16;z++){F=(F<<1)|(w&1);if(y==15){y=0;i+=x(F);F=0}else{y++}w=w>>1}}C--;if(C==0){C=Math.pow(2,E);E++}delete v[f]}else{w=u[f];for(z=0;z<E;z++){F=(F<<1)|(w&1);if(y==15){y=0;i+=x(F);F=0}else{y++}w=w>>1}}C--;if(C==0){C=Math.pow(2,E);E++}u[D]=A++;f=String(t)}}if(f!==""){if(Object.prototype.hasOwnProperty.call(v,f)){if(f.charCodeAt(0)<256){for(z=0;z<E;z++){F=(F<<1);if(y==15){y=0;i+=x(F);F=0}else{y++}}w=f.charCodeAt(0);for(z=0;z<8;z++){F=(F<<1)|(w&1);if(y==15){y=0;i+=x(F);F=0}else{y++}w=w>>1}}else{w=1;for(z=0;z<E;z++){F=(F<<1)|w;if(y==15){y=0;i+=x(F);F=0}else{y++}w=0}w=f.charCodeAt(0);for(z=0;z<16;z++){F=(F<<1)|(w&1);if(y==15){y=0;i+=x(F);F=0}else{y++}w=w>>1}}C--;if(C==0){C=Math.pow(2,E);E++}delete v[f]}else{w=u[f];for(z=0;z<E;z++){F=(F<<1)|(w&1);if(y==15){y=0;i+=x(F);F=0}else{y++}w=w>>1}}C--;if(C==0){C=Math.pow(2,E);E++}}w=2;for(z=0;z<E;z++){F=(F<<1)|(w&1);if(y==15){y=0;i+=x(F);F=0}else{y++}w=w>>1}while(true){F=(F<<1);if(y==15){i+=x(F);break}else{y++}}return i},decompress:function(y){if(y==null){return""}if(y==""){return null}var u=[],z,D=4,x=4,A=3,f="",G="",B,i,c,H,F,E,v,w=b._f,C={string:y,val:y.charCodeAt(0),position:32768,index:1};for(B=0;B<3;B+=1){u[B]=B}c=0;F=Math.pow(2,2);E=1;while(E!=F){H=C.val&C.position;C.position>>=1;if(C.position==0){C.position=32768;C.val=C.string.charCodeAt(C.index++)}c|=(H>0?1:0)*E;E<<=1}switch(z=c){case 0:c=0;F=Math.pow(2,8);E=1;while(E!=F){H=C.val&C.position;C.position>>=1;if(C.position==0){C.position=32768;C.val=C.string.charCodeAt(C.index++)}c|=(H>0?1:0)*E;E<<=1}v=w(c);break;case 1:c=0;F=Math.pow(2,16);E=1;while(E!=F){H=C.val&C.position;C.position>>=1;if(C.position==0){C.position=32768;C.val=C.string.charCodeAt(C.index++)}c|=(H>0?1:0)*E;E<<=1}v=w(c);break;case 2:return""}u[3]=v;i=G=v;while(true){if(C.index>C.string.length){return""}c=0;F=Math.pow(2,A);E=1;while(E!=F){H=C.val&C.position;C.position>>=1;if(C.position==0){C.position=32768;C.val=C.string.charCodeAt(C.index++)}c|=(H>0?1:0)*E;E<<=1}switch(v=c){case 0:c=0;F=Math.pow(2,8);E=1;while(E!=F){H=C.val&C.position;C.position>>=1;if(C.position==0){C.position=32768;C.val=C.string.charCodeAt(C.index++)}c|=(H>0?1:0)*E;E<<=1}u[x++]=w(c);v=x-1;D--;break;case 1:c=0;F=Math.pow(2,16);E=1;while(E!=F){H=C.val&C.position;C.position>>=1;if(C.position==0){C.position=32768;C.val=C.string.charCodeAt(C.index++)}c|=(H>0?1:0)*E;E<<=1}u[x++]=w(c);v=x-1;D--;break;case 2:return G}if(D==0){D=Math.pow(2,A);A++}if(u[v]){f=u[v]}else{if(v===x){f=i+i.charAt(0)}else{return null}}G+=f;u[x++]=i+f.charAt(0);D--;i=f;if(D==0){D=Math.pow(2,A);A++}}}};a.LZString=b})(webengage);if(!Array.prototype.indexOf){Array.prototype.indexOf=function(c,d){var b;if(this==null){throw new TypeError('"this" is null or not defined')}var e=Object(this);var a=e.length>>>0;if(a===0){return -1}var f=+d||0;if(Math.abs(f)===Infinity){f=0}if(f>=a){return -1}b=Math.max(f>=0?f:a-Math.abs(f),0);while(b<a){if(b in e&&e[b]===c){return b}b++}return -1}}if(!Date.prototype.toISOString){(function(){function a(b){if(b<10){return"0"+b}return b}Date.prototype.toISOString=function(){return this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"."+(this.getUTCMilliseconds()/1000).toFixed(3).slice(2,5)+"Z"}}())}webengage.eLog=function(f,h,d,b,j,c){if(f instanceof Error){d=f.stack||f.description;d=(d.length>900?d.substring(0,900):d);b=f.message||d.substring(0,50);h="exception"}if(h){if(c&&j){var a="{'version':'"+webengage.getWidgetVersion()+"','text':'"+d+"', 'et':'"+j+"', 'eid':'"+c+"'}"}else{var a="{'version':'"+webengage.getWidgetVersion()+"','text':'"+d+"'}"}var g=(h==="error"?"//c.webengage.com/e.jpg":"//c.webengage.com/e.jpg");if(webengage.winUnloading&&h==="error"){return}var i=new Image();i.src=g+"?event="+encodeURIComponent(b)+"&category="+_weq["webengage.licenseCode"]+"&type="+h+"&data="+encodeURIComponent(a)+"&ts="+(new Date()).getTime()}};webengage.withELog=function(c,a,b){if(typeof c==="function"){try{if(!(a instanceof Array)){a=[]}return c.apply(undefined,a)}catch(d){webengage.eLog(d);if(!b){throw d}}}else{throw new Error("WithELog : first argument not a function")}};webengage.setTimeout=function(a,b){return setTimeout(function(){webengage.withELog(a)},b)};webengage.setInterval=function(b,a){return setInterval(function(){webengage.withELog(b)},a)};webengage.setTimeout(function(){(function(d,a,f,c,e){var b=function(){var j=null,k=function(I,H,F){var G=(typeof(F)==="boolean"?F:true);for(var E in H){if(I[E]===e||G){I[E]=H[E]}}return I},w={},B=[],s=false;var A={};k(c,{events:(function(){var E={we_wk_pageDelay:function(){var F=Array.prototype.slice.call(arguments);for(var G=0;G<F.length;G++){(function(H){if(H){setTimeout(function(){c.events.publish("we_wk_pageDelay",{value:H+1})},H)}})(F[G])}},we_wk_totalTimeOnSite:function(){var F=Array.prototype.slice.call(arguments);for(var G=0;G<F.length;G++){(function(H){if(H){var I=H-(new Date().getTime()-c.util.getSessionCookie().sst);setTimeout(function(){c.events.publish("we_wk_totalTimeOnSite",{value:H+1})},I>0?I:0)}})(F[G])}},click:function(H,J,I){var G=a.getElementsByClassName(H);var F=function(){c.events.publish("click",{"class":H});if(typeof J==="function"){J()}if(!I){c.events.unbind(G.length?G[0]:G,"click",F)}};if(G){c.events.bind(G.length?G[0]:G,"click",F)}},we_wk_leaveIntent:function(L){if(d){var J=d;var I=a;var H=a.getElementsByTagName("body")[0];var K={x:0,y:0};var F=function(N){N=N?N:J.event;var O=N.relatedTarget||N.toElement;var M;if(!J.innerHeight){M=Math.min(I.documentElement.clientHeight,H.clientHeight)/5}else{M=J.innerHeight/5}if((!O||O.nodeName=="HTML")&&N.clientY<=0&&(K.y<=0||K.y<M)){c.events.unbind(H,"mouseleave",F);c.events.unbind(H,"mousemove",G);c.events.publish("we_wk_leaveIntent",true);if(typeof L==="function"){L()}}};var G=function(M){K.x=M.clientX;K.y=M.clientY};c.events.bind(H,"mouseleave",F);c.events.bind(H,"mouseleave",G)}},we_wk_scrollPercentage:function(){var H=Math.min.apply(null,arguments);var M=Math.max.apply(null,arguments);var K=a.getElementsByTagName("body")[0];function L(){return d.innerHeight||a.documentElement.clientHeight||a.body.clientHeight||0}function J(){return d.pageYOffset||a.body.scrollTop||a.documentElement.scrollTop||0}function F(){return Math.max(a.body.scrollHeight||0,a.documentElement.scrollHeight||0,a.body.offsetHeight||0,a.documentElement.offsetHeight||0,a.body.clientHeight||0,a.documentElement.clientHeight||0)}function G(){return((J()+L())/F())*100}function I(O){var N=G();if(N>=H){setTimeout(function(){c.events.publish("we_wk_scrollPercentage",{value:N})},0);if(N>=M){c.events.unbind(d,"scroll",I)}}}c.events.bind(d,"scroll",I)}};return{bind:function(F,G,H){if(F.addEventListener){F.addEventListener(G,H)}else{if(F.attachEvent){F.attachEvent("on"+G,H)}}},unbind:function(F,G,H){if(F.removeEventListener){F.removeEventListener(G,H)}else{if(F.detachEvent){F.detachEvent("on"+G,H)}}},publish:function(G,H){if(this.cache[G]){for(var F=0;F<this.cache[G].length;F++){this.cache[G][F].apply(null,[G,H])}}},subscribe:function(F,G){if(!this.cache){this.cache={}}if(!this.cache[F]){this.cache[F]=[]}this.cache[F].push(G);return[F,G]},unsubscribe:function(H){var G=H[0];if(this.cache[G]){for(var F=0;F<this.cache[G].length;F++){if(this.cache[G][F]===H[1]){this.cache[G].splice(F,1)}}}},register:function(){var G=Array.prototype.slice.call(arguments),F=G.shift();if(E[F]){E[F].apply(null,G)}},subscriber:function(F,G){A[F]=typeof G==="undefined"?{}:G;c.events.publish("storeChange")}}})()},true);c.track=function(E,F){c.events.subscribe(E,c.events.subscriber);c.events.publish(E,F);c.dump(E,F)};k(c,{util:{copy:function(G,F,E){return k(G,F,E)},loadScript:function(H,I,E,J){var G=a.createElement("script");G.type="text/javascript";G.charset="UTF-8";G.async=true;G.src=H;G.callBack=I;G.callBackArgs=E||[];G.errorCallBack=J;this.appendChild(G);if(c.BrowserDetect.ie()&&c.BrowserDetect.version()<11&&G.readyState){if(typeof I==="function"){var F=function(){if(G.readyState=="loaded"||G.readyState=="complete"){c.withELog(I,E)}};G.defer=true;G.onreadystatechange=F}}else{c.util.addListener(G,"load",function(K){c.withELog(I,E)});c.util.addListener(G,"error",function(K){if(c.getWidgetVersion()!=="3.0"){c.eLog(null,"error","could not load - "+H,"script loading error")}if(typeof J==="function"){c.withELog(J,[K])}})}},createObj:function(F){var G=c,E=F?F.split("."):[];for(var H=0;H<E.length;H++){var J=E[H],I=G[J];if(!I){I={};G[J]=I}G=I}return G},extend:function(E,F){return c.util.copy((typeof E=="string"?c.util.createObj(E):E),F)},isJqueryPresent:function(){return(d.jQuery!==e&&parseFloat("."+d.jQuery().jquery.replace(/\./g,""))>=0.13)},applyCss:function(G,F){try{for(var E in F){if(typeof F[E]=="function"){G.style[E]=F[E]()}else{G.style[E]=F[E]}}}catch(H){}return G},isArray:function(E){return(E&&E.constructor==Array)},inArray:function(E,G){for(var F=0;F<E.length;F++){if(E[F]==G){return true}}return false},getMaxZIndex:function(){if(this.maxZIndex===e){this.maxZIndex=16776271}return this.maxZIndex++},alignCenter:function(H,G,F){var E=(F=="left")?"right":"left";H.style.top=((parseInt(c.util.getElementHeight(G),10)-parseInt(c.util.getElementHeight(H),10))/2-(/Firefox/i.test(navigator.userAgent)?7:0))+"px";H.style[E]=(parseInt(c.util.getElementWidth(G),10)-parseInt(c.util.getElementWidth(H),10))/2+10+"px"},getElementWidth:function(E){if(E.clip!==e){return E.clip.width}else{if(E.style.pixelWidth){return E.style.pixelWidth}else{return E.offsetWidth}}},getElementHeight:function(E){if(E.clip!==e){return E.clip.height}else{if(E.style.pixelHeight){return E.style.pixelHeight}else{return E.offsetHeight}}},isSupportsLocalStorage:function(G){try{var E=(typeof(Storage)!=="undefined"&&"localStorage" in d&&d.localStorage!==null);if(!G&&E){d.localStorage["_we_dm_ios_sup_f_"]="true";d.localStorage.removeItem("_we_dm_ios_sup_f_")}return E}catch(F){return false}},getWindowHeight:function(){return"innerHeight" in d?d.innerHeight:a.documentElement.offsetHeight},getWindowWidth:function(){return"innerWidth" in d?d.innerWidth:a.documentElement.offsetWidth},getDocumentHeight:function(){var E=a.body,F=a.documentElement;return Math.max(E.scrollHeight,E.offsetHeight,F.clientHeight,F.scrollHeight,F.offsetHeight)},getDocumentWidth:function(){var E=a.body,F=a.documentElement;return Math.max(E.scrollWidth,E.offsetWidth,F.clientWidth,F.scrollWidth,F.offsetWidth)},getInitParamValue:function(E,I,F,H){var G=F!==e?F:null;if(E&&E[I]){var J=E[I];if(H){if(c.util.inArray(H,J)){G=J}}else{G=J}}return G},getInitParamValueAsArray:function(E,K,H,J){var I=c.util.getInitParamValue(E,K,H);if(I&&typeof(I)!="object"){I=I.split(/\s*,\s*/)}if(J&&typeof(J)=="object"){var F=[];for(var G=0;G<I.length;G++){if(c.util.inArray(J,I[G])){F[F.length]=I[G]}}I=F}return I},setCookie:function(F,L,G,N,I,E,H){if(c.util.isSupportsLocalStorage()&&!H){try{d.localStorage[F]=L;c.frameSync.set(F,L);return"ls"}catch(J){d.localStorage.removeItem(F);return c.util.setCookie(F,L,G,N,I,E,true)}}else{if(c.util.isSupportsLocalStorage(true)&&!H){d.localStorage.removeItem(F)}var K=new Date();K.setTime(K.getTime());if(G){G=G*1000*60*60*24}var M=new Date(K.getTime()+(G));a.cookie=F+"="+encodeURIComponent(L)+((G)?";expires="+M.toGMTString():"")+((N)?";path="+N:"")+((I)?";domain="+I:"")+((E)?";secure":"");return"ck"}},getCookie:function(F,H){if(c.util.isSupportsLocalStorage(true)&&!H){return(d.localStorage[F]?d.localStorage[F]:c.util.getCookie(F,true))}else{var L=a.cookie.split(";");var G="";var J="";var K="";var I=false;for(var E=0;E<L.length;E++){G=L[E].split("=");J=G[0].replace(/^\s+|\s+$/g,"");if(J==F){I=true;if(G.length>1){K=decodeURIComponent(G[1].replace(/^\s+|\s+$/g,""))}return K===null?"":K}G=null;J=""}if(!I){return null}}},addListener:function(E,F,G){if(E.addEventListener){E.addEventListener(F,G,false)}else{if(E.attachEvent){E.attachEvent("on"+F,G)}}},removeListener:function(E,F,G){if(E.removeEventListener){E.removeEventListener(F,G)}else{if(E.detachEvent){E.detachEvent("on"+F,G)}}},bindEvent:function(E,F){c.util.addListener(d,E,F)},unbindEvent:function(E,F){c.util.removeListener(d,E,F)},getCurrentTime:function(F){var I=new Date();var G=I.getTime();if(F!==e){var H=I.getTimezoneOffset()*60000;var E=G+H;G=E+(1000*F)}return G},getCurrentWeekDay:function(F){var E=t.getCurrentTime();var G=new Date(E);return G.getDay()},setWebengageCookie:function(F){var I=(function(){var J=function(){return(((1+Math.random())*65536)|0).toString(16).substring(1)};return((new Date().getTime())+J()+J()+J()+J())})();var H=F||{};var G={time:(new Date()).getTime(),luid:I};H=this.copy(H,G,false);H.lmts=(new Date()).getTime();var E=this.stringify(H);this.setWebengageCookieCache(H);this.setCookie("_we_wk_ls_",c.LZString.compressToBase64(E),99999,"/","","");if(this.firstTimeUser===e){this.firstTimeUser=true}return H},setWebengageCookieCache:function(E){if(E){if(typeof E==="string"){if(E.charAt(0)!=="{"){E=c.LZString.decompressFromBase64(E)}E=c.util.parseJSON(E)}}else{E=this.getWebengageCookieHelper()}w._we_wk_ls_=E},getWebengageCookieHelper:function(G){var E={};var F=this.getCookie("_we_wk_ls_")||this.getCookie("_we_wk_ls_",true);if(F){if(F.charAt(0)!=="{"){F=c.LZString.decompressFromBase64(F)}if(this.isSupportsLocalStorage()&&this.getCookie("_we_wk_ls_",true)){this.setCookie("_we_wk_ls_",F,-1,"/","","",true);this.setCookie("_we_wk_ls_",F,99999,"/","","")}E=new Function("return "+F)()||null}else{if(!G){E=this.setWebengageCookie()}}return E},getWebengageCookie:function(F){if(F){var E=this.getWebengageCookieHelper(F);if(E&&E.lmts&&w._we_wk_ls_&&w._we_wk_ls_["lmts"]){if(E.lmts>w._we_wk_ls_["lmts"]){w._we_wk_ls_=E;this.setWebengageCookie(w._we_wk_ls_)}}}if(w._we_wk_ls_){return w._we_wk_ls_}else{return this.getWebengageCookieHelper()}},setSessionCookie:function(H,I){var F={referrer:a.referrer,isFirstTime:this.isFirstTimeUser(),sst:(new Date()).getTime(),pvc:0,suid:(new Date().getTime()),landingPage:d.location.href};var G=H||{};G=this.copy(G,F,false);if(!this.isSupportsLocalStorage()&&G.landingPage){delete G.landingPage}G.lmts=(new Date()).getTime();var J=this.stringify(G);this.setSessionCookieCache(G);var E=this.setCookie("_we_wk_ss_",c.LZString.compressToBase64(J),"","/","","");if(this.isSupportsLocalStorage()){if(E==="ls"){this.setCookie("_we_wk_ss_lsf_",true,"","/","","",true)}else{this.setCookie("_we_wk_ss_lsf_",false,"","/","","",true)}}if(typeof I==="boolean"&&true){this.updateTSC()}return G},setSessionCookieCache:function(E){if(E){if(typeof E==="string"){if(E.charAt(0)!=="{"){E=c.LZString.decompressFromBase64(E)}E=c.util.parseJSON(E)}}else{E=this.getSessionCookieHelper()}w._we_wk_ss_=E},getSessionCookieHelper:function(I){var F={};var J=this.getCookie("_we_wk_ss_")||this.getCookie("_we_wk_ss_",true);if(J){try{if(J.charAt(0)!=="{"){J=c.LZString.decompressFromBase64(J)}if(this.isSupportsLocalStorage()){var H=this.getCookie("_we_wk_ss_lsf_",true);if(!H||H==="false"){var E=this.getCookie("_we_wk_ss_",true);if(E){this.setCookie("_we_wk_ss_",J,-1,"/","","",true);this.setSessionCookie(E)}else{throw new Error()}}}F=(new Function("return "+J)())||null}catch(G){F=this.setSessionCookie(null,true)}}else{if(!I){F=this.setSessionCookie(null,true)}}return F},getSessionCookie:function(F){if(F){var E=this.getSessionCookieHelper(F);if(E&&E.lmts&&w._we_wk_ss_&&w._we_wk_ss_["lmts"]){if(E.lmts>w._we_wk_ss_["lmts"]){w._we_wk_ss_=E;this.setSessionCookie(w._we_wk_ss_)}}}if(w._we_wk_ss_){return w._we_wk_ss_}else{return this.getSessionCookieHelper()}},updateSessionCookie:function(F){var E=this.getSessionCookie();if(E){this.copy(E,(F||{}));this.setSessionCookie(E)}else{E=this.setSessionCookie(null,true)}return E},updateTSC:function(){var E=this.getWebengageCookie();E.sc=E.sc||0;E.sc++;return this.setWebengageCookie(E)},updateTPVC:function(){var E=this.getWebengageCookie();E.tpvc=E.tpvc||0;E.tpvc++;return this.setWebengageCookie(E)},setLST:function(){var E=this.getWebengageCookie();E.lst=(new Date()).getTime();return this.setWebengageCookie(E)},setGZIPFlag:function(F){var E=this.getWebengageCookie();E.isGzip=F||false;return this.setWebengageCookie(E)},setVTD:function(){var E=this.getSessionCookie();E.vtd=1;return this.updateSessionCookie(E)},updateSessionCookieGeoData:function(){var E={country:c.GEO.country(),region:c.GEO.region(),city:c.GEO.city(),ip:c.GEO.ip(),tsD:(c.GEO.serverTimeStamp()&&!isNaN(c.GEO.serverTimeStamp())?((new Date()).getTime()-parseInt(c.GEO.serverTimeStamp(),10)):0)};return this.updateSessionCookie(E)},getClientPageUrl:function(){return d.location.href},getClientPageHost:function(){return d.location.host},escapeScopeChars:function(E){return(E+"").replace(/([,#[\]\\])/g,"$1")},escapeForRegExp:function(E){return(E+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},isFirstTimeUser:function(){return(this.firstTimeUser!==e)?this.firstTimeUser:false},escapeNewLine:function(E){return E.replace(/[\\]/g,"\\\\").replace(/[\"]/g,'\\"').replace(/[\/]/g,"\\/").replace(/[\b]/g,"\\b").replace(/[\f]/g,"\\f").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\t]/g,"\\t")},stringify:function(J){if(typeof JSON!=="undefined"&&typeof JSON.stringify==="function"){return JSON.stringify(J)}else{var H=typeof(J);if(H!=="undefined"){if(H!="object"||J===null){if(H=="string"){J='"'+this.escapeNewLine(J)+'"'}return String(J)}else{var G=[],E=(J&&J.constructor==Array),I=(J&&J instanceof Date);if(E){for(var F=0;F<J.length;F++){var K=this.stringify(J[F]);if(typeof K!=="undefined"){G.push(K)}}}else{if(I){return I.toString()}else{for(var L in J){var K=this.stringify(J[L]);if(typeof K!=="undefined"){G.push('"'+L+'":'+K)}}}}return(E?"[":"{")+String(G)+(E?"]":"}")}}}},trimStr:function(E){if(typeof E.trim==="function"){return E.trim()}else{if(typeof E==="string"){return E.replace(/^\s+|\s+$/g,"")}}return E},clientDataString:function(K){var H=function(N){var L=N;if(typeof N==="function"){try{L=N()}catch(M){L=null}}return L};if(typeof K==="object"){for(var G in K){var I=K[G];if(I===e||(typeof I!=="boolean"&&I!==0&&!I)){delete K[G];continue}if(!(I instanceof Array)){K[G]=new Array();var J=H(I);if(J===e||(typeof J!=="boolean"&&J!==0&&!J)){delete K[G]}else{K[G].push(J)}}else{var E=[];for(var F=0;F<I.length;F++){I[F]=H(I[F]);if(!(I[F]===e||(typeof I[F]!=="boolean"&&I[F]!==0&&!I[F]))){E.push(I[F])}}if(E.length>0){K[G]=E}else{delete K[G]}}}}return c.util.stringify(K)},isColorTooLight:function(F){F=F.indexOf("#")===0?F.substr(1,F.length):F;var H=parseInt(F.substr(0,2),16);var G=parseInt(F.substr(2,2),16);var E=parseInt(F.substr(4,2),16);var I=((H*299)+(G*299)+(E*299))/1000;return I>=128},isEmptyObject:function(E){for(var F in E){if(E.hasOwnProperty(F)){return false}}return true},parseJSON:function(E){return new Function("return "+E+";")()},bind:function(J,H){var K=this;var I=K.callbacks||{};if(J!==e&&typeof(H)==="function"){var L=H;H=function(){return L.apply(this,arguments)};H.cbid=(L.cbid=K.cbid++);J=(J||"").match(/\S+/g)||[""];var G=J.length;while(G--){var F=J[G];var E=I[F]||{};E[H.cbid]=H;I[F]=E}K.callbacks=I}return K},unbind:function(E,F){var G=this;if(E!==e){if(typeof(G.callbacks)==="object"&&typeof(G.callbacks[E])==="object"){if(typeof(F)==="function"&&F.cbid){delete G.callbacks[E][F.cbid]}else{delete G.callbacks[E]}}}return G},executeCallbacks:function(){var H=this;if(typeof H.enableCallbacks==="boolean"&&H.enableCallbacks){var E=arguments[0];if(E!==e&&typeof H.callbacks==="object"&&typeof H.callbacks[E]==="object"){for(var F in H.callbacks[E]){if(typeof H.callbacks[E][F]==="function"){var G=H.callbacks[E][F].apply(this,Array.prototype.slice.call(arguments,1));if(typeof G==="boolean"&&!G){return false}}}}}},markSurveyAsClosed:function(G,F){if(G){try{var E=c.util.getSessionCookie();if(E.closedSurveys===e||!E.closedSurveys){E.closedSurveys=""}if(E.closedSurveys.indexOf("##"+G)<0){E.closedSurveys+="##"+G}c.util.updateSessionCookie(E);if(F&&typeof F.dump==="function"){F.dump("close")}}catch(H){}}},markSurveyAsTaken:function(H,G,F){if(H){try{var J=true;var E=c.util.getWebengageCookie();if(E.takenSurveys===e||!E.takenSurveys){E.takenSurveys=""}if(E.takenSurveys.indexOf("##"+H)<0){E.takenSurveys+="##"+H;J=false}c.util.setWebengageCookie(E);if(G&&typeof G.dump==="function"&&F&&typeof F==="boolean"&&F){G.event=G.event||"submit";if(G.event==="submit"&&!J){G.dump(G.event)}else{if(G.event==="complete"){G.dump(G.event)}}}}catch(I){}}},markEntityAsShown:function(K,G,L,O){if(K&&G){var E=1,H=1;try{var I=c.util.getWebengageCookie(),P=c.util.getSessionCookie(),N=(("notification"===G)?(O&&O===true?"anids":"seenNIds"):(("survey"===G)?(O&&O===true?"asids":"seenSIds"):null));var F=(("notification"===G)?(O&&O===true?"anids":"snids"):(("survey"===G)?(O&&O===true?"asids":"ssids"):null));if(N&&F){I[N]=I[N]&&I[N]!==e?I[N]:"";if(I[N].indexOf("##"+K)<0){I[N]+="##"+K+"="+E}else{var M=new RegExp("##"+K+"=(\\d+)","g");I[N]=I[N].replace(M,function(Q,R){E=(+R+1);return"##"+K+"="+E})}P[F]=P[F]&&P[F]!==e?P[F]:"";if(P[F].indexOf("##"+K)<0){P[F]+="##"+K+"="+H}else{var M=new RegExp("##"+K+"=(\\d+)","g");P[F]=P[F].replace(M,function(Q,R){H=(+R+1);return"##"+K+"="+H})}c.util.updateSessionCookie(P);c.util.setWebengageCookie(I)}}catch(J){}}},markNotificationAsClicked:function(H,I,F){if(H){try{var E=c.util.getWebengageCookie();E.takenNIds=E.takenNIds&&E.takenNIds!==e?E.takenNIds:"";if(E.takenNIds.indexOf("##"+H)<0){E.takenNIds+="##"+H}c.util.setWebengageCookie(E);if(F&&typeof F.dump==="function"){F.dump("click")}}catch(G){}}},markNotificationAsClosed:function(H,F){if(H){try{var E=c.util.getSessionCookie();if(E.closedNIds===e||!E.closedNIds){E.closedNIds=""}if(E.closedNIds.indexOf("##"+H)<0){E.closedNIds+="##"+H}c.util.updateSessionCookie(E);if(F&&typeof F.dump==="function"){F.dump("close")}}catch(G){}}},setMinimizedState:function(E,G,I){var H=(E==="notification"?"minNIds":"minSIds");if(G){try{var F=c.util.getSessionCookie();if(F[H]===e||!F[H]){F[H]=""}if(I){if(F[H].indexOf("##"+G)<0){F[H]+="##"+G}}else{F[H]=F[H].replace("##"+G,"")}c.util.updateSessionCookie(F)}catch(J){}}},getMinimizedState:function(E,G){var H=(E==="notification"?"minNIds":"minSIds");var I=false;if(G){try{var F=c.util.getSessionCookie();if(F[H]!==e){if(0<=F[H].indexOf("##"+G)){I=true}}}catch(J){}}return I},getVersion:function(){return p.widgetVersion},usckwl:function(G){var F=c.util.getSessionCookie();F.pvc=(F.pvc?F.pvc+1:1);if(G&&a.referrer&&(!F.referrer||F.referrer!==a.referrer)){var E=a.referrer.match(/:\/\/(.[^\/]+)/)[1];if(!E.match(new RegExp(c.util.escapeForRegExp(G)+"$","gi"))){F.referrer=a.referrer}}c.util.updateSessionCookie(F)},getHashCode:function(J){var H=0,G,F,I=J||"",E;if(I.length==0){return H}for(G=0,E=I.length;G<E;G++){F=I.charCodeAt(G);H=((H<<5)-H)+F;H|=0}return H},getTotalTimesShown:function(K,G,F,N){var E=0;if(K&&G){var M=null,I=null;if(F){M=t.getSessionCookie();I=(("notification"===G)?(N&&N===true?"anids":"snids"):(("survey"===G)?(N&&N===true?"asids":"ssids"):null))}else{M=t.getWebengageCookie();I=(("notification"===G)?(N&&N===true?"anids":"seenNIds"):(("survey"===G)?(N&&N===true?"asids":"seenSIds"):null))}if(M&&I&&M[I]){try{var L=new RegExp("##"+K+"=(\\d+)");var H=M[I].match(L);if(H instanceof Array&&H.length>1){E=parseInt(H[1],10)}}catch(J){}}}return E},attachEventListners:function(J,E){var H=(J==="survey"?c.survey.callbacks:(J==="feedback"?c.feedback.callbacks:c.notification.callbacks));if(typeof H!==e&&H){for(var G in H){var I=H[G];if(typeof callbacks!=e&&I){for(var F in I){this.bind.apply(E,[G,I[F]])}}}}},hasSVG:function(){return !!a.createElementNS&&!!a.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect},onDocReady:function(E){if(typeof E==="function"){if(a.body){c.withELog(function(){E()});return}if(a.addEventListener){a.addEventListener("DOMContentLoaded",function(){c.withELog(function(){a.removeEventListener("DOMContentLoaded",arguments.callee,false);E()})},false)}else{if(a.attachEvent){a.attachEvent("onreadystatechange",function(){c.withELog(function(){if(a.readyState==="complete"){a.detachEvent("onreadystatechange",arguments.callee);E()}})});if(a.documentElement.doScroll&&d==d.top){(function(){c.withELog(function(){try{a.documentElement.doScroll("left")}catch(F){setTimeout(arguments.callee,0);return}E()})})()}}}}},abortAllInstances:function(E){c.withELog(function(){if(E.length>0){for(var F=0;F<E.length;F++){if(typeof E[F].abort==="function"){E[F].abort()}}}})},abortInstance:function(E){c.withELog(function(){if(E){if(typeof E.close==="function"){E.close()}else{E.onLoad(function(){this.close()})}}})},uwats:function(){if(!f["webengage.isDemoMode"]){if(!webengage_fs_configurationMap.lastWidgetCheckDate||Math.floor((Math.random()*100)+1)<=10){var E=1000*60*60*24;var G=new Date().getTime()-(7*E);if(webengage_fs_configurationMap.lastWidgetCheckDate){var F=new Date(webengage_fs_configurationMap.lastWidgetCheckDate);if(F<G){c.eLog(null,"info",F.getTime(),"widget-verified")}}else{c.eLog(null,"info","no-check-date","widget-verified")}}}},isSmallScreen:function(){var E=480,F=d.screen.availWidth;return(F<=E?true:false)},webklitWorkAround:function(E){var F=a.body.scrollTop||0;if(a.location.toString().match(/#(top)?$/)){E.body.scrollTop=0;a.body.scrollTop=F}},getWeDataContainer:function(){return p.weDataContainer},withWeJquery:function(E){c.jQSt=c.jQSt||0;switch(c.jQSt){case 1:setTimeout(function(){c.util.withWeJquery(E)},100);break;case 2:if(typeof E==="function"){E()}break;default:c.jQSt=1;c.util.loadScript.apply(p.widgetContainer,[p.weJquery,function(){$weJQuery=jQuery.noConflict(true);c.jQSt=2;if(typeof E==="function"){E()}}]);break}},tsTracking:function(F,G){if(F){var E=new Image();E.src="//"+p.tstbu+F+(G?"?"+G:"")}},isElementExists:function(F){var E=(F);if(E&&F.nodeType&&F.nodeType===1){E=(F.style&&((F.style.display&&F.style.display==="none")||(F.style.visibility&&F.style.visibility==="hidden")))?false:true}return E},onReady:function(E){if(typeof E==="function"){if(s){E()}else{B[B.length]=E}}},getServerTimeStamp:function(){var E=t.getSessionCookie();return((new Date()).getTime()+(E&&E.tsD&&!isNaN(E.tsD)?parseInt(E.tsD,10):0))},transitConvert:function(G){var F=[];function E(K){if(K===null){return null}else{if(Object.prototype.toString.call(K)==="[object String]"){if(K.charAt(0)=="~"){return"~"+K}else{return K}}else{if(Object.prototype.toString.call(K)==="[object Date]"){return"~t"+K.toISOString()}else{if(Object.prototype.toString.call(K)==="[object Array]"){var I=K.length;for(var H=0;H<I;H++){K[H]=E(K[H])}return K}else{if(Object.prototype.toString.call(K)==="[object Object]"){if(F.indexOf(K)==-1){F.push(K);for(var J in K){if(K.hasOwnProperty(J)){K[J]=E(K[J])}}return K}else{throw new Error("There is some circular references while converting data into transit format")}}else{return K}}}}}}return E(G)},withCookies:function(H,J){var E=function(K,L){if(c.frameSync.status){c.frameSync.get(K,L)}else{L()}};var G=this;var F=H[0];H.splice(0,1);var I=H.length===0?J:function(){G.withCookies(H,J)};E(F,I)}}},true);k(c,{frameSync:{storeFrameName:"wkStorageFrame",storeCBFrameName:"wkCBStorageFrame",storeFrame:null,storeCBFrame:null,callbacks:{},status:null,onMessageRecieve:function(H){H=c.util.parseJSON(H);var I=H.msg;var E=H.name;var G=H.value;switch(I){case"init":if(this.status===null){this.status=(H.value&&H.value.status)==="success";if(!this.status){this.message="Storage frame sent failed status"}if(this.status){if(H.value.webengage_fs_configurationMap){d.webengage_fs_configurationMap=H.value.webengage_fs_configurationMap;d._weq.isGzip=H.value.isGzip}}break}default:if(this.status){switch(E){case"_we_wk_ls_":c.util.setWebengageCookieCache(G);break;case"_we_wk_ss_":c.util.setSessionCookieCache(G);break}}break}if(this.status){if(this.callbacks[E]){for(var F in this.callbacks[E]){if(typeof this.callbacks[E][F]==="function"){this.callbacks[E][F](H.value,E)}}this.callbacks[E]=null}}},init:function(L){var H=c.BrowserDetect.browser(),E=c.BrowserDetect.version(),K=c.BrowserDetect.os(),J=c.BrowserDetect.device();if(!(H==="Firefox"&&J==="Desktop")){this.status=false;return L()}var I=this;if(!this.storeFrame){this.storeFrame=c.IFRAMES.create(this.storeFrameName,a.body);this.storeCBFrame=c.IFRAMES.create(this.storeCBFrameName,a.body);this.storeCBFrame.style.display="none";c.setTimeout(function(){var M=null;if(I.storeCBFrame.contentDocument){M=I.storeCBFrame.contentDocument}else{if(I.storeCBFrame.contentWindow){M=I.storeCBFrame.contentWindow.document}else{if(I.storeCBFrame.document){M=I.storeCBFrame.document}}}M.open();M.write('<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html><head><meta http-equiv="cache-control" content="max-age=0" /><meta http-equiv="cache-control" content="no-cache" /><meta http-equiv="pragma" content="no-cache" /><meta http-equiv="content-type" content="text/html; charset=utf-8"><script type="text/javascript">try{window.parent.window.name}catch(e){document.domain="'+a.domain+'";}; setTimeout(function(){if (window.attachEvent) {window.attachEvent( "onmessage", function (e) { window.parent.window.webengage.frameSync.onMessageRecieve(e.data);},false);} else {window.addEventListener( "message", function (e) { window.parent.window.webengage.frameSync.onMessageRecieve(e.data);},false);}},10);<\/script></head><body></body></html>');M.close()},10)}var G=function(N){var M=function(){if(I.status){clearTimeout(N)}if(typeof L==="function"){L()}};if(I.status!==null){M(N)}else{I.addCallback("init",M)}};var F=setTimeout(function(){I.status=false;I.message="Storage frame loading timed out";G()},15000);this.storeFrame.onload=function(M){G(F)};this.storeFrame.src="https://"+(f["webengage.licenseCode"]||"").replace(/~/g,"z")+".webengage.co/storage-frame-1.0.htm?lc="+f["webengage.licenseCode"]+"&cbf="+this.storeCBFrameName},addCallback:function(E,F){if(!this.callbacks[E]){this.callbacks[E]=[]}this.callbacks[E].push(F)},get:function(E,F){if(this.status){if(!this.callbacks[E]){d.frames[this.storeFrameName].postMessage({action:"read",name:E},"*")}if(typeof F==="function"){this.addCallback(E,F)}}},set:function(E,F){if(this.status){d.frames[this.storeFrameName].postMessage({action:"store",name:E,value:F},"*")}}}},true);k(c,{getWidgetVersion:function(){return f["webengage.widgetVersion"]||"4.0"}},true);var t=c.util;var p={widgetVersion:"4",weJquery:"//d3701cc9l7v9a6.cloudfront.net/js/jquery/jquery-1.3.2.min.js",baseWebEngageUrl:"//webengage.com",feedbackAppHost:"feedback.webengage.com",surveyAppHost:"survey.webengage.com",widgetDomain:"//d3701cc9l7v9a6.cloudfront.net",baseStaticUrl:"//d3701cc9l7v9a6.cloudfront.net",loadSurveyWidgetUrl:function(E){return"/js/widget/we-survey-widget-"+(E?E:"~483819f")+"-v-4.0.js?v=479.0"},loadSurveyWidgetUrlv3:"/js/widget/we-survey-widget.js?v=479.0",notificationWidgetScriptUrl:"/js/widget/we-notification-widget-v-4.1.js?v=479.0",findAllTakenSurveysUrl:function(){return"//survey.webengage.com/publisher-widget-loader.html?action=findAllTakenSurveys&licenseCode="+f["webengage.licenseCode"]+"&url="+encodeURIComponent(t.getClientPageUrl())},widgetContainerId:"webklipper-publisher-widget-container",feedbackImageBaseUrl:"//s3-ap-southeast-1.amazonaws.com/wk-static-files/webengage/feedbacktab/",loadFeedbackWidgetUrl:"/js/widget/we-feedback-widget-v-4.0.js?v=479.0",loadFeedbackWidgetUrlv3:"/js/widget/we-feedback-widget.js?v=479.0",gaCallbacksScriptUrl:"//d3701cc9l7v9a6.cloudfront.net/js/widget/ga-callbacks-helper.js?v=479.0",tstbu:"c.webengage.com",csUrl:"//d3701cc9l7v9a6.cloudfront.net/js/widget/we-conversion-helper-min-v-1.0.js?v=479.0"};var C={};t.extend("logger",(function(){var F={containerCss:{position:function(){return c.BrowserDetect.is_this_the_worlds_most_annoying_browser()?"absolute":"fixed"},cursor:"default",margin:0,zIndex:(t.getMaxZIndex()+1),backgroundColor:"red",right:"0px",bottom:"0px",display:"block",padding:"10px",maxWidth:"500px",textAlign:"left",lineHeight:"17px",background:"none repeat scroll 0 0 #ff9",border:"1px solid #fc6",borderBottomWidth:"0px",borderRightWidth:"0px",borderTopLeftRadius:"5px",MozBorderRadiusTopleft:"5px",WebkitBorderTopLeftRadius:"5px",boxShadow:"0 1px 0 0 rgba(255, 255, 255, 0.6) inset, 0 1px 1px rgba(0, 0, 0, 0.1)",MozBoxShadow:"0 1px 0 0 rgba(255, 255, 255, 0.6) inset, 0 1px 1px rgba(0, 0, 0, 0.1)",WebkitBoxShadow:"0 1px 0 0 rgba(255, 255, 255, 0.6) inset, 0 1px 1px rgba(0, 0, 0, 0.1)",fontFamily:"Arial, sans-serif",fontSize:"13px"},dataDivCss:{margin:"0px",padding:"0px",color:"#000",textShadow:"1px 1px #f1f1f1",textDecoration:"none",fontFamily:"inherit",fontSize:"inherit"},dataDivLinkCss:{color:"#039",textDecoration:"underline",textShadow:"1px 1px #f1f1f1",fontFamily:"inherit",fontSize:"inherit"},closeButtonCss:{color:"#039",textDecoration:"underline",textShadow:"1px 1px #f1f1f1",cursor:"pointer",cssFloat:"right",styleFloat:"right",marginRight:"5px",marginLeft:"30px"}},E=function(Q,P){var I=a.getElementById("webengage-error-messages");if(I){I.parentNode.removeChild(I)}var K=a.createElement("div");K.setAttribute("id","webengage-error-messages");K=t.applyCss(K,F.containerCss);a.body.insertBefore(K,null);var O=a.createElement("div");O=t.applyCss(O,F.closeButtonCss);O.innerHTML="x";K.appendChild(O);O.onclick=function(){this.parentNode.parentNode.removeChild(this.parentNode)};var H=a.createElement("div");H=t.applyCss(H,F.dataDivCss);K.appendChild(H);H.innerHTML=Q;var L=H.getElementsByTagName("a");if(L&&L.length>0){for(var M=0;M<L.length;M++){t.applyCss(L[M],F.dataDivLinkCss);var J=L[M].getAttribute("href");var G=J.split("#");var N=G[0];N=N.indexOf("?")<0?(N+"?"):N;N=N+"&ref=widget-message";N=G.length==2?(N+"#"+G[1]):N;L[M].setAttribute("href",N)}}c.eLog(null,P,Q,Q);setTimeout(function(){K.remove()},5000);return K};return{success:function(G){return E(G,"success")},warn:function(G){return E(G,"warn")},error:function(G){return E(G,"error")}}})());t.extend("GEO",{country:function(){return this._country||""},country_code:function(){return this._country_code||""},region:function(){return this._region||""},city:function(){return this._city||""},latitude:function(){return this._latitude||""},longitude:function(){return this._longitude||""},serverTimeStamp:function(){return this._serverTimeStamp},ip:function(){return this._ip||""},setGeoData:function(G){var F=this,E=G||{};F._country=E.geoplugin_countryName||"";F._country_code=E.geoplugin_country_code||"";F._region=E.geoplugin_region||"";F._city=E.geoplugin_city||"";F._latitude=E.geoplugin_latitude||"";F._longitude=E.geoplugin_longitude||"";F._serverTimeStamp=E.serverTimeStamp;F._ip=E.clientIp;c.getUser().country=F._country;c.getUser().city=F._city;c.getUser().ip=F._ip},isGeoLoaded:function(){return this._isLoaded?this._isLoaded:t.getSessionCookie().tsD?true:false},load:function(H,E){var F=this;if(!this.isGeoLoaded()){var G="//geoservice.webengage.com/geoip/?jsoncallback="+encodeURI("webengage.GEO.setGeoData")+(f["webengage.aip"]===true?"&aip=1":"");t.loadScript.apply(p.widgetContainer,[G,function(){t.updateSessionCookieGeoData();F._isLoaded=true;if(typeof H==="function"){H()}},null,function(){if(typeof E==="function"){E()}}])}else{F._isLoaded=true;if(typeof H==="function"){H()}}}});t.extend("BrowserDetect",(function(){var L,H,J,F,M=[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{prop:d.opera,identity:"Opera"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"Windows,Trident",identity:"Explorer",versionSearch:"rv"},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}],I=[{string:navigator.userAgent,subString:"iPhone",identity:"iOS"},{string:navigator.userAgent,subString:"iPad",identity:"iOS"},{string:navigator.userAgent,subString:"Android",identity:"Android"},{string:navigator.userAgent,subString:"Windows Phone",identity:"Windows Phone"},{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:navigator.platform,subString:"Linux",identity:"Linux"},{string:navigator.userAgent,subString:"Mobile",identity:"Mobile"}],G=[{string:navigator.userAgent,subString:"iPhone",identity:"Mobile"},{string:navigator.userAgent,subString:"iPod",identity:"Mobile"},{string:navigator.userAgent,subString:"Android,Mobile",identity:"Mobile"},{string:navigator.userAgent,subString:"Windows Phone",identity:"Mobile"},{string:navigator.userAgent,subString:"BlackBerry,Mobile",identity:"Mobile"},{string:navigator.userAgent,subString:"BB10,Mobile",identity:"Mobile"},{string:navigator.userAgent,subString:"Android",identity:"Tablet"},{string:navigator.userAgent,subString:"iPad",identity:"Tablet"},{string:navigator.userAgent,subString:"Windows,Tablet",identity:"Tablet"}],E=function(U){for(var Q=0;Q<U.length;Q++){var R=U[Q].string;var T=U[Q].prop;this._versionSearchString=U[Q].versionSearch||U[Q].identity;if(R){var S=U[Q].subString.split(",");var P=false;for(var O=0;O<S.length;O++){if(R.indexOf(S[O])==-1){P=false;break}P=true}if(P){return U[Q].identity}}else{if(T){return U[Q].identity}}}},K=function(Q){var P=Q.indexOf(this._versionSearchString);if(P==-1){return}var O=parseFloat(Q.substring(P+this._versionSearchString.length+1));if(H=="Explorer"&&7<=O){if(Q.indexOf("Trident/4")!=-1){O=8}else{if(Q.indexOf("Trident/5")!=-1){O=9}else{if(Q.indexOf("Trident/6")!=-1){O=10}}}}return O},N=function(){if(H&&J&&F){return}H=E(M)||"An unknown browser";J=K(navigator.userAgent)||K(navigator.appVersion)||"an unknown version";F=E(I)||"an unknown OS";L=E(G)||(t.isSmallScreen()?"Mobile":"Desktop")};return{browser:function(){return N()||H},version:function(){return N()||J},os:function(){return N()||F},device:function(){return N()||L},is_this_the_worlds_most_annoying_browser:function(){return(typeof a.all!=="undefined"&&!d.opera&&!d.XMLHttpRequest)},ie:function(){return N()||H=="Explorer"},isMobile:function(){var Q=this.os(),O=false,R=["iOS","Android","Windows Phone","Mobile"];for(var P=0;P<R.length;P++){if(Q==R[P]){O=true;break}}return O}}})());var y={onRun:function(E){return this.bind("run",E)},onLoad:function(E){return this.bind("load",E)},onOpen:function(E){return this.bind("open",E)},onView:function(E){return this.bind("view",E)},onSubmit:function(E){return this.bind("submit",E)},onClick:function(E){return this.bind("click",E)},onComplete:function(E){return this.bind("complete",E)},onClose:function(E){return this.bind("close",E)},onDump:function(E){return this.bind("dump",E)},bind:function(){return t.bind.apply(this,arguments)},unbind:function(){return t.unbind.apply(this,arguments)},executeCallbacks:function(){return t.executeCallbacks.apply(this,arguments)}};t.extend("",(function(){var E=function(){var I=t.getWebengageCookie(),G=t.getSessionCookie(),J={license_code:j,suid:G.suid,luid:I.luid},H={wv:t.getVersion(),tzo:(C.configurationMap.tzo||0),ust:I.time&&!isNaN(I.time)?new Date(parseInt(I.time,10)):null,lst:I.lst&&!isNaN(I.lst)?new Date(parseInt(I.lst,10)):null,sc:I.sc,tpvc:I.tpvc,ref:G.referrer,sst:G.sst&&!isNaN(G.sst)?new Date(parseInt(G.sst,10)):null,pvcs:G.pvc,pageTitle:a.title,pageURL:d.location.href,viewportHeight:t.getWindowHeight(),viewportWidth:t.getWindowWidth(),ver:2};if(G.landingPage){H.lp=G.landingPage}J.system_data=H;return J},F=function(J,L,K){var H="//c.webengage.com"+J;try{if(c.BrowserDetect.ie()){throw new Error("This browser does not support XMLHttpRequest.")}var P=d.XMLHttpRequest;if(typeof P==="undefined"){P=function(){try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(V){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(V){}try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(V){}throw new Error("This browser does not support XMLHttpRequest.")}}var Q=new P();var G=L?"POST":"GET";Q.open(G,H,true);Q.onreadystatechange=function(){if(Q.readyState==4){if(Q.status==200){if(K&&typeof K==="function"){K()}}}};Q.setRequestHeader("Content-type","application/x-www-form-urlencoded");var U=[];for(var T in L){if(L.hasOwnProperty(T)){U.push(encodeURIComponent(T)+"="+encodeURIComponent(L[T]))}}var S=U.join("&");Q.send(S)}catch(O){try{var N=a.createElement("iframe");var M="WE_XHR_POST_IFRM";a.body.appendChild(N);N.style.display="none";N.contentWindow.name=M;var I=a.createElement("form");I.target=M;I.action=H;I.method="POST";for(var T in L){var R=a.createElement("input");R.type="hidden";R.name=T;R.value=L[T];I.appendChild(R)}a.body.appendChild(I);I.submit();N.onload=function(){if(N.parentNode){N.parentNode.removeChild(N)}}}catch(O){}}};return{dump:function(G,J,K){var I=E();I.system_data=t.copy(I.system_data||{},K||{},true);I.event_data=t.copy({},(J||{}),true);I.category=K?"system":"application";I.event_name=(G||"unknown");if(f["webengage.aip"]===true){I.system_data["aip"]=1}I=t.transitConvert(I);var H=t.stringify(I);H=c.LZString.compressToBase64(H);F("/l3.jpg",{data:H})}}})());t.extend("feedback",(function(){var E=[];return{cbid:1,getMobileLoadingDiv:function(G){var F=a.createElement("div");F.id=G||p.widgetContainerId+"-loading";F=c.util.applyCss(F,{position:"fixed",left:(c.util.getWindowWidth()*0.05)+"px",width:(c.util.getWindowWidth()*0.9)+"px",opacity:"1",background:"#f9f9f9",color:"#666","z-index":c.util.getMaxZIndex(),textAlign:"center","padding-top":"20px","padding-bottom":"20px",fontFamily:"Arial, sans-serif",fontSize:"10px",display:"none"});return F},getLoadingDiv:function(G){var F=a.createElement("div");F.id=G||p.widgetContainerId+"-loading";F=c.util.applyCss(F,{fontFamily:"Arial, sans-serif",fontSize:"10px",color:"#666",textDecoration:"none",position:"absolute",textAlign:"center"});return F},getLightBoxBaseDiv:function(){var F=a.createElement("div");c.util.applyCss(F,{display:"block",margin:"0",padding:"0","z-index":c.util.getMaxZIndex(),position:"absolute",overflow:"hidden",top:"0",left:"0",height:a.body.scrollHeight+"px",width:"100%","background-color":"rgba(0, 0, 0, .85)"});F.id=p.widgetContainerId+"-base";return F},getLightBoxContainerDiv:function(){var G=a.createElement("div");c.util.applyCss(G,{display:"block",top:"0",left:"0",width:"100%",height:c.util.getWindowHeight()+"px",position:"absolute",outline:"none !important","-webkit-backface-visibility":"hidden",margin:"0",padding:"0","z-index":c.util.getMaxZIndex(),"-webkit-overflow-scrolling":"touch"});G.setAttribute("tabIndex",-1);G.id=p.widgetContainerId+"-light-box-container";var F=a.createElement("div");c.util.applyCss(F,{display:"block","text-align":"center",position:"absolute",width:"100%",height:"100%",left:"0",top:"0",outline:"none !important","-webkit-box-sizing":"border-box","-moz-box-sizing":"border-box","box-sizing":"border-box",padding:"0 8px",margin:"0","overflow-y":"auto","overflow-x":"hidden"});F.id=p.widgetContainerId+"-light-box-content";G.appendChild(F);return G},render:function(F){return c.withELog(function(){return(new function(){c.feedback.clear();var U=this;U.cbid=1;E[E.length]=U;U.abort=function(){t.abortInstance(this)};U._feedbackOptions={launchType:f["webengage.feedback.launchType"]||"",externalLinkId:f["webengage.feedback.externalLinkId"]||"",alignment:f["webengage.feedback.alignment"]||"",borderColor:f["webengage.feedback.borderColor"]||"",backgroundColor:f["webengage.feedback.backgroundColor"]||"",snapshotEnabled:f["webengage.feedback.snapshotEnabled"]||"",defaultCategory:f["webengage.feedback.defaultCategory"]||"",showAllCategories:(typeof f["webengage.feedback.showAllCategories"]==="boolean"&&!f["webengage.feedback.showAllCategories"])?false:true,showForm:f["webengage.feedback.showForm"]||false,isDemoMode:f["webengage.feedback.isDemoMode"]||f["webengage.isDemoMode"]||false,customData:f["webengage.feedback.customData"]||f["webengage.customData"]||{},formData:f["webengage.feedback.formData"]||f["webengage.formData"]||[],enableCallbacks:f["webengage.feedback.enableCallbacks"]||f["webengage.enableCallbacks"]||false,language:f["webengage.language"]||""};if(F!==e&&F.data!==e&&F.data){var an=F.data;if(an.name!==e&&an.name){U._feedbackOptions.formData.push({name:"name",value:an.name})}if(an.email!==e&&an.email){U._feedbackOptions.formData.push({name:"email",value:an.email})}if(an.category!==e&&an.category){U._feedbackOptions.formData.push({name:"category",value:an.category})}}var K={feedbackLaunchType:"launchType",feedbackExternalLinkId:"externalLinkId",feedbackButtonAlignment:"alignment",feedbackButtonBorderColor:"borderColor",feedbackButtonBackgroundColor:"backgroundColor",defaultFeedbackCategory:"defaultCategory",showAllFeedbackCategories:"showAllCategories",showFeedbackForm:"showForm",data:"customData",demo:"isDemoMode"};if(F!==e&&!t.isEmptyObject(F)){for(var G in F){var aj=K[G];if(aj!==e&&aj){F[aj]=F[G];delete F[G]}}}if(F&&F.customData){U._feedbackOptions.customData=t.copy(U._feedbackOptions.customData,F.customData,true);delete F.customData}if(F&&F.ruleData){U._feedbackOptions.ruleData=t.copy(U._feedbackOptions.ruleData,F.ruleData,true);delete F.ruleData}U._feedbackOptions=t.copy(U._feedbackOptions,(F?F:{}),true);U.enableCallbacks=(typeof U._feedbackOptions.enableCallbacks==="boolean"?U._feedbackOptions.enableCallbacks:false);t.copy(U,y,true);U.onLoad((U._feedbackOptions.onLoad||f["webengage.feedback.onLoad"]));U.onSubmit((U._feedbackOptions.onSubmit||f["webengage.feedback.onSubmit"]));U.onClose((U._feedbackOptions.onClose||f["webengage.feedback.onClose"]));U.onOpen((U._feedbackOptions.onOpen||f["webengage.feedback.onOpen"]));t.attachEventListners("feedback",U);var aa=(c.BrowserDetect.isMobile()||t.isSmallScreen());var ai=((typeof(C.feedback.config.showMobile)=="undefined")?true:C.feedback.config.showMobile);if((C.feedback&&(C.feedback.isEnabled||U._feedbackOptions.isDemoMode)&&(a.location.protocol=="http:"||(a.location.protocol=="https:"&&C.sslEnabled))&&!C.isFQuotaOver)&&((aa&&ai)||!aa)){var V=C.feedback.config,ae={alignment:["right","left"],launchTypes:["feedbackButton","externalLink"],containerCss:{margin:0,padding:0,position:(c.BrowserDetect.is_this_the_worlds_most_annoying_browser()?"absolute":"fixed"),border:"5px solid #ccc",backgroundColor:"#f9f9f9",borderWidth:"1px",borderStyle:"solid"},containerRightCss:{right:"0px",borderRightWidth:"0px"},containerLeftCss:{left:"0px",borderLeftWidth:"0px"},commonCss:{margin:0,padding:0,cursor:"pointer",backgroundColor:"transparent",backgroundRepeat:"no-repeat",backgroundPosition:"center 0",display:"block",paddingBottom:"7px",paddingLeft:"3px",paddingRight:"3px",paddingTop:"7px"},tabCssWithIcon:{backgroundPosition:"center bottom",paddingBottom:"33px"},closeCommonCss:{height:"22px",width:"22px",cursor:"pointer",backgroundRepeat:"no-repeat",backgroundPosition:"0 0",position:"absolute",top:"-14px",backgroundImage:"url('"+p.baseStaticUrl+"/images/icons/feedback-widget-close.png')",backgroundColor:"transparent",display:"none"},leftCloseCss:{right:"-14px"},rightCloseCss:{left:"-14px"},feedbackBgImageForDarkBackground:p.baseStaticUrl+"/images/webengage/icons/feedback-tab-bg-dark.png",feedbackBgImageForLightBackground:p.baseStaticUrl+"/images/webengage/icons/feedback-tab-bg-light.png",feedbackTextImage:p.feedbackImageBaseUrl+V.imgPath,sizeCss:{height:V.imgHeight+"px",width:V.imgWidth+"px"},leftCss:{cssFloat:"right",styleFloat:"right"},rightCss:{cssFloat:"left",styleFloat:"left"},loadingCss:{fontFamily:"Arial, sans-serif",fontSize:"10px",color:"#666",textDecoration:"none",position:"absolute",textAlign:"center"},maxWidth:"450px",maxHeight:(c.BrowserDetect.ie()?"349px":"345px")},ag={getButtonCssBasedOnConfig:function(ap,aq){var ao={};ao=t.copy(ao,ae.sizeCss);if(ap=="left"){ao=t.copy(ao,ae.leftCss)}else{ao=t.copy(ao,ae.rightCss)}if(aq){ao=t.copy(ao,ae.tabCssWithIcon)}return ao},getContainerCssBasedOnConfig:function(ap){var ao={};ao=t.copy(ao,ae.containerCss);if(ap=="right"){ao=t.copy(ao,ae.containerRightCss)}else{ao=t.copy(ao,ae.containerLeftCss)}return ao},getCloseCssBasedOnConfig:function(ap){var ao={};if(ap=="right"){ao=t.copy(ao,ae.rightCloseCss)}else{ao=t.copy(ao,ae.leftCloseCss)}return ao},getButtonCssBasedOnBackgroundColor:function(ap){var ao={};if(t.isColorTooLight(ap)){ao=t.copy(ao,{backgroundImage:("url('"+ae.feedbackBgImageForLightBackground+"')")})}else{ao=t.copy(ao,{backgroundImage:("url('"+ae.feedbackBgImageForDarkBackground+"')")})}return ao},getCustomTextImageCss:function(){var ao={};ao=t.copy(ao,{backgroundImage:("url('"+ae.feedbackTextImage+"')")});return ao}},ad=(V.closeImg===e||V.closeImg===null||V.closeImg==="")?(p.baseStaticUrl+"/images/icons/feedback-widget-close.png"):("//s3-ap-southeast-1.amazonaws.com/"+V.closeImg),ac=t.getInitParamValue(U._feedbackOptions,"alignment",V.alignment,ae.alignment),N=t.getInitParamValueAsArray(U._feedbackOptions,"launchType",V.launchType,ae.launchTypes),M=t.getInitParamValueAsArray(U._feedbackOptions,"externalLinkId",V.externalLinkId),S=t.getInitParamValue(U._feedbackOptions,"backgroundColor",V.backgroundColor),al=t.getInitParamValue(U._feedbackOptions,"borderColor",V.borderColor),af=t.getInitParamValue(U._feedbackOptions,"snapshotEnabled",((V.snapshotEnabled===e)?true:V.snapshotEnabled)),ah=t.inArray(N,ae.launchTypes[0]),W=V.imgWidth,P=V.imgHeight,T=V.showWeIcon;S=S.indexOf("#")===0?S:("#"+S);al=al.indexOf("#")===0?al:("#"+al);var Z=a.createElement("div");p.widgetContainer.appendChild(Z);Z.setAttribute("id",p.widgetContainerId+"-content");var am=Z.style;am.borderColor=al;Z=t.applyCss(Z,ae.containerCss);Z=t.applyCss(Z,ag.getContainerCssBasedOnConfig(ac));var ak=f["webengage.feedback.tab"]||"bubble";if((ak==="bubble")&&(c.BrowserDetect.isMobile()||t.isSmallScreen())){var L=a.body.clientWidth/d.screen.availWidth;am.background="transparent";am.border="0px";if(L>2){am.width="130px";am.height="130px";am.bottom="30px";if(ac==="right"){am.right="30px"}else{am.left="30px"}}else{am.width="58px";am.height="58px";am.bottom="15px";if(ac==="right"){am.right="15px"}else{am.left="15px"}}am.boxSizing="border-box"}else{Z.style.width=(parseInt(W)+3+3)+"px";var I=(parseInt(P)+7+7+(T?(3+26):0))+"px";am.top=(("innerHeight" in d?d.innerHeight:a.documentElement.clientHeight)-parseInt(P))/2+"px"}am.zIndex=(t.getMaxZIndex()+1);var R=a.createElement("div");Z.appendChild(R);R.id=p.widgetContainerId+"-close-div";R=t.applyCss(R,ae.closeCommonCss);R=t.applyCss(R,ag.getCloseCssBasedOnConfig(ac));R.style.backgroundImage="url('"+ad+"')";if(c.BrowserDetect.is_this_the_worlds_most_annoying_browser()){R.style.backgroundImage="";R.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true, sizingMethod=crop src='"+ad+"')"}var ab=a.createElement("div");Z.appendChild(ab);ab.setAttribute("id",p.widgetContainerId+"-content-expand-collapse");var Y=ab.style;ab=t.applyCss(ab,ae.commonCss);ab=t.applyCss(ab,ag.getButtonCssBasedOnConfig(ac,T));if((ak==="bubble")&&(c.BrowserDetect.isMobile()||t.isSmallScreen())){var Q=(L>2)?'viewBox="0 0 80 80" style="padding:15px 20px;"':'viewBox="0 0 180 180" style="padding:7px;"';var X='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns" width="40px" height="40px" '+Q+' version="1.1"><title>180 - iPhone 6 Plus</title><desc>Created with Sketch.</desc><defs/><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage"><g id="180---iPhone-6-Plus" sketch:type="MSArtboardGroup" fill="#1A1918"><g id="Imported-Layers" sketch:type="MSLayerGroup" transform="translate(11.000000, 17.000000)"><path d="M137.853,52.283 C135.333462,22.50325 102.805731,0.973875 65.1838846,4.134375 C27.5620385,7.319375 -0.917307692,34.012125 1.57776923,63.76125 C3.29619231,84.2065 19.1839615,100.7685 41.1687692,108.100125 C38.7042692,115.156125 34.185,122.518375 26.1555,129.24975 C26.1555,129.24975 55.5582692,128.2575 72.8892692,111.934375 C73.3418077,111.90375 73.7882308,111.916 74.253,111.87925 C111.880962,108.71875 140.348077,82.032125 137.853,52.283" id="Fill-1" sketch:type="MSShapeGroup"/><path d="M157.373308,102.74075 C158.296731,90.993 152.621654,79.98025 143.136692,72.415875 C135.266192,96.10125 111.434538,114.457875 81.4875,119.308875 C88.5874615,127.932875 99.7235769,134.015 112.596462,135.20325 C118.491692,135.74225 124.172885,135.20325 129.407654,133.77 C139.400192,139.307 151.312962,145.19925 151.312962,145.19925 C147.215654,141.42625 143.864423,131.8835 142.213269,127.89 C150.799269,122.01 156.578308,113.12875 157.373308,102.74075" id="Fill-2" sketch:type="MSShapeGroup"/></g></g></g></svg>';ab.innerHTML=X;Y.height="100%";Y.width="100%";Y.borderRadius="75px";Y.background="#fff";Y.border="1px solid #ccc";Y.mozBoxShadow="1px 1px 8px #888888";Y.webkitBoxShadow="1px 1px 8px #888888";Y.boxShadow="1px 1px 8px #888888";Y.padding="0";Y.boxSizing="border-box";if(L>2){Y.fontSize=(L*13)+"px";Y.lineHeight="1.5em"}else{Y.textAlign="center"}}else{ab=t.applyCss(ab,ag.getButtonCssBasedOnBackgroundColor(S));if(c.BrowserDetect.is_this_the_worlds_most_annoying_browser()){Y.backgroundImage="";var H=(t.isColorTooLight(S)?ae.feedbackBgImageForLightBackground:ae.feedbackBgImageForDarkBackground);Y.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true, sizingMethod=crop src='"+H+"')"}Y.backgroundColor=S}Y.zIndex=t.getMaxZIndex()+1;if(!ah){Z.style.display="none"}var O=a.createElement("div");ab.appendChild(O);O.style.margin="0px";O.style.padding="0px";if((ak==="bubble")&&(c.BrowserDetect.isMobile()||t.isSmallScreen())){O.style.width="20%";O.style.width="20%";if(c.BrowserDetect.is_this_the_worlds_most_annoying_browser()){O.style.backgroundImage="";Y.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true, sizingMethod=crop src='"+ae.feedbackTextImage+"')"}}else{O.style.width=parseInt(W)+"px";O.style.height=parseInt(P)+"px";O=t.applyCss(O,ag.getCustomTextImageCss());if(c.BrowserDetect.is_this_the_worlds_most_annoying_browser()){O.style.backgroundImage="";Y.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true, sizingMethod=crop src='"+ae.feedbackTextImage+"')"}}R.style.zIndex=t.getMaxZIndex()+1;U.close=function(){try{Z.removeChild(a.getElementById(p.widgetContainerId+"-loading"))}catch(ao){}try{Z.removeChild(a.getElementById(p.widgetContainerId+"-content"))}catch(ao){}try{a.getElementById(p.widgetContainerId+"-content-expand-collapse").isCurrentlyOpen=false}catch(ao){}R.style.display="none";Z.style.width=(parseInt(W)+3+3)+"px";if(!ah){ab.style.display="none"}};R.onclick=function(){c.withELog(function(){U.close()})};function J(){if(f["webengage.feedback.custom"]){Z.style.display="block";Z.style.border="none";Z.style["background-color"]="transparent";Z.style.position="static";Z.style.overflow="visible";Z.style.width="0px";Z.style.height="0px"}else{if(c.BrowserDetect.isMobile()||t.isSmallScreen()){Z.style.display="block";var ar=c.feedback.getLightBoxBaseDiv();p.weDataContainer.appendChild(ar);var aq=c.feedback.getLightBoxContainerDiv();p.weDataContainer.appendChild(aq);var ap=c.feedback.getMobileLoadingDiv();ap.innerHTML="Loading<br/>please wait ...";p.weDataContainer.appendChild(ap);var at=c.util.getElementHeight(ap);var au=c.util.getWindowHeight();ap.style.top=(au-at)/2+"px";ap.style.display="block"}else{Z.style.display="block";Z.style.width="300px";var ap=c.feedback.getLoadingDiv();ap=t.applyCss(ap,ae.loadingCss);ap.innerHTML="Loading<br/>please wait ...";Z.appendChild(ap);t.alignCenter(ap,Z,ac);R.style.display="block"}}U.feedbackLoadStartTime=new Date();var ao=p.widgetDomain+(c.BrowserDetect.is_this_the_worlds_most_annoying_browser()?p.loadFeedbackWidgetUrlv3:p.loadFeedbackWidgetUrl);c.feedbackLoadStartTime=new Date();t.withWeJquery(function(){var av=a.createElement("script");av.type="text/javascript";av.src=ao;p.widgetContainer.appendChild(av)})}ab.onclick=function(){c.withELog(function(){J()})};if(M&&M.length>0){(function(){for(var ap=0;ap<M.length;ap++){var aq=M[ap];var ao=a.getElementById(aq);if(ao){ao.onclick=function(ar){var at=ar||d.event;at.cancelBubble=true;if(at.stopPropagation){at.stopPropagation()}if(at.preventDefault){at.preventDefault()}else{at.returnValue=false}ab.onclick();return false}}}})()}a.$FeedbackWidgetInitializer={containerId:p.widgetContainerId,licenseCode:j,appHost:p.feedbackAppHost,minWidth:(parseInt(W)+3+3)+"px",maxWidth:ae.maxWidth,minHeight:I,maxHeight:ae.maxHeight,showFeedbackButton:ah,buttonAlignment:ac,borderColor:al.substring(1),snapshotEnabled:af,currentInstance:U,mobileLBEnabled:(c.BrowserDetect.isMobile()||t.isSmallScreen()),widgetLanguage:U._feedbackOptions.language};if(U._feedbackOptions.showForm==true){ab.onclick()}}else{if(C.feedback&&C.feedback.isEnabled&&a.location.protocol=="https:"&&!C.sslEnabled){c.eLog(null,"error","Feedback - Widget turned off for SSL encrypted page","Feedback - Widget turned off for SSL encrypted page")}}})})},clear:function(){c.withELog(function(){try{p.widgetContainer.removeChild(a.getElementById(p.widgetContainerId+"-content"))}catch(F){}E=[];a.$FeedbackWidgetInitializer=null})},abort:function(){t.abortAllInstances(E)},attachEventListner:function(){var F=this,G=arguments;c.withELog(function(){t.bind.apply(F,G);if(E.length>0){for(var H=0;H<E.length;H++){E[H].enableCallbacks=true;t.bind.apply(E[H],G)}}})}}})());t.extend("ruleExecutor.constants",{SEARCH_ENGINE_REGEXP:{google:{pattern:"^(?:http(s)?://)?(www\\.)?google\\..*/.*$",queryParam:"q"},yahoo:{pattern:"^(?:http(s)?://)?(?:([a-z]{2})\\.)?search\\.yahoo\\.com/.*$",queryParam:"p"},bing:{pattern:"^(?:http(s)?://)?((?:www|[a-z]{2})\\.)?bing\\.com/search\\?.*$",queryParam:"q"},ask:{pattern:"^(?:http(s)?://)?www\\.ask\\.com/.*$",queryParam:"q"},baidu:{pattern:"^(?:http(s)?://)?www\\.baidu\\.com/.*$",queryParam:"wd"},yandex:{pattern:"^(?:http(s)?://)?www\\.yandex\\.com/.*$",queryParam:"text"},duckduckgo:{pattern:"^(?:http(s)?://)?www\\.duckduckgo\\.com/.*$",queryParam:"q"}},SOCIAL_MEDIA_REGEX:"^(?:http(s)?://)?(.*.)?(facebook|twitter|t|pinterest)\\.(com|co)/.*$",XPATH_PLUGIN_FILE:"//d3701cc9l7v9a6.cloudfront.net/js/jquery/wgxpath.install.js"});t.extend("ruleExecutor.dependencies",{XPATH:function(F,G,E){c.XPATH.util.loadXPath(G,E)},GEO:function(F,G,E){c.GEO.load(G,E)}});t.extend("XPATH.util",(function(){return{loadXPath:function(G,F){if((c.BrowserDetect.browser()==="Explorer")&&(!a.evaluate)){var E="//d3701cc9l7v9a6.cloudfront.net/js/jquery/wgxpath.install.js";t.loadScript.apply(p.widgetContainer,[E,function(){wgxpath.install();if(typeof G==="function"){G()}},null,function(){if(typeof F==="function"){F()}}])}else{if(typeof G==="function"){G()}}},isXpathLoaded:function(){return(a.evaluate?true:false)},getXPathElement:function(H){var E=null;if(H&&H.indexOf("|")>-1){var G=H.split("|");H=G[0]+"/@"+G[1]}try{var F=a.evaluate(H,a,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null);E=(F&&F.singleNodeValue&&c.util.isElementExists(F.singleNodeValue))?F.singleNodeValue:null}catch(I){}return E},evaluateXPathQuery:function(F){var E=c.XPATH.util.getXPathElement(F);if(E){return E.textContent}else{return null}}}})());t.extend("ruleExecutor.dependency.util",{xPathExists:function(){if(c.XPATH.util.isXpathLoaded()){return true}else{var E={};E.type="XPATH";throw E}},geoDataExists:function(){if(c.GEO.isGeoLoaded()){return true}else{var E={};E.type="GEO";throw E}}});t.extend("ruleExecutor.util",(function(E){return{isMatches:function(H,F){if(H){if(H instanceof Array){for(var I=0;I<H.length;I++){if(c.ruleExecutor.util.isMatches(H[I],F)){return true}}}else{if(F instanceof Array){for(var G=0;G<F.length;G++){if(H.match(new RegExp(F[G],"mgi"))){return true}}}else{if(H.match(new RegExp(F,"mgi"))){return true}}}}return false},getCurrentTimeInSec:function(I){var H=new Date(I);var F=H.getHours();var J=H.getMinutes();var G=H.getSeconds();return(F*60*60+J*60+G)},getClientTime:function(){var F=t.getCurrentTime();return c.ruleExecutor.util.getCurrentTimeInSec(F)},getClientDayOfWeek:function(){return t.getCurrentWeekDay()},getPublisherTime:function(){var F=t.getCurrentTime(p.publisherTimeZoneOffset);return c.ruleExecutor.util.getCurrentTimeInSec(F)},getEventData:function(G,F){if(G==="on_exit"||G==="we_wk_on_exit"){G="we_wk_leaveIntent"}if(G==="we_wk_time"||G==="time"){G="we_wk_pageDelay"}if(G==="totalTimeOnSite"){G="we_wk_totalTimeOnSite"}try{if(A.hasOwnProperty(G)){if(F){return A[G][F]||null}else{return A[G]||null}}}catch(H){return null}},isContainsSearchTerms:function(H,I){var G=false;if(typeof H!=="function"||!I||!(I instanceof Array)||I.length<=0){return false}var F=H();if(typeof F!==e&&F){for(var J=0;J<I.length;J++){G=c.ruleExecutor.util.isContains(F,c.ruleExecutor.util.jsTokenizer(I[J]," "),"contains_all");if(typeof G==="boolean"&&G){break}}}return G},isContains:function(K,O,G){var N=K;if(typeof(K)==="function"){N=K()}var M=false;var H=G||"contains_any";if(N!==e&&N){var F=[];if(N instanceof Array){for(var L=0;L<N.length;L++){F[N[L].toLowerCase()]=true}}else{F[N]=true}if(O!==e&&O){if(O instanceof Array){if(H=="contains_all"){for(var J=0;J<O.length;J++){if(F[O[J].toLowerCase()]==true){M=true;continue}M=false;break}}else{for(var I=0;I<O.length;I++){if(F[O[I].toLowerCase()]==true){M=true;break}}}}else{M=F[O.toLowerCase()]==true}}}return M},getReferrers:function(){var G=[];if(a.referrer){G[G.length]=a.referrer.toLowerCase()}var F=t.getSessionCookie();if(F&&F.referrer&&(!a.referrer||F.referrer!=a.referrer)){G[G.length]=F.referrer.toLowerCase()}return G},getCountry:function(){if(c.ruleExecutor.dependency.util.geoDataExists()){return t.getSessionCookie().country||null}},getRegion:function(){if(c.ruleExecutor.dependency.util.geoDataExists()){return t.getSessionCookie().region||null}},getCity:function(){if(c.ruleExecutor.dependency.util.geoDataExists()){return t.getSessionCookie().city||null}},getSearchEngineMatchResult:function(){var I=c.ruleExecutor.util.getReferrers();var F={isSER:false};for(var H in E.SEARCH_ENGINE_REGEXP){for(var G=0;G<I.length;G++){if(c.ruleExecutor.util.isMatches(I[G],E.SEARCH_ENGINE_REGEXP[H].pattern)!=false){F.isSER=true;F.url=I[G];F.queryParam=E.SEARCH_ENGINE_REGEXP[H].queryParam;break}}if(F.isSER===true){break}}return F},isSearchEngineReference:function(){return(c.ruleExecutor.util.getSearchEngineMatchResult()).isSER},isSocialMediaReference:function(){return c.ruleExecutor.util.isMatches(c.ruleExecutor.util.getReferrers(),E.SOCIAL_MEDIA_REGEX)},isFirstTime:function(){var F=t.getSessionCookie();return(F&&(typeof F.isFirstTime==="boolean"&&F.isFirstTime))?true:false},getSearchTerms:function(){var H=null;var F=c.ruleExecutor.util.getSearchEngineMatchResult();if(F.isSER){var G=decodeURI(c.ruleExecutor.util.getParamValue(F.url,F.queryParam));if(G){H=c.ruleExecutor.util.jsTokenizer(G," ")}}return H},jsTokenizer:function(I,K){var J=[];if(I!==e&&I){var H=t.escapeForRegExp(",\r\n");if(K!==e&&K){if(K instanceof Array){H=t.escapeForRegExp(K.join(""))}else{H=t.escapeForRegExp(K)}}I=I.replace(new RegExp("["+H+"]","g"),"\n");var F=I.split(/\n/g);for(var G=0;G<F.length;G++){if(F[G]!=""){J[J.length]=F[G]}}}return J},getParamValue:function(G,I){var J="";var H=new RegExp("[\\?&]"+I+"=([^&#]*)");var F=H.exec(G);if(F!==null){J=F[1]}return J},escapeForRegExp:function(F){return t.escapeForRegExp(F)},getTotalPageView:function(){var F=t.getSessionCookie();return(F&&F.pvc)?F.pvc:1},sampling:function(F){var G=this.entityId||F;if(G){var H=t.getWebengageCookie(),I=t.getHashCode(G+H.luid);return Math.abs(I%100)}return 0},getSessionCookieReferer:function(){var F=t.getSessionCookie();var G=F.referrer;if(!G){return null}return G},getXpathStringResult:function(F){if(c.ruleExecutor.dependency.util.xPathExists()){return c.XPATH.util.evaluateXPathQuery(F)}},getXpathIntegerResult:function(G){if(c.ruleExecutor.dependency.util.xPathExists()){var F=c.XPATH.util.evaluateXPathQuery(G);if(F){return parseFloat(F)}else{return null}}},loadDependency:function(F,H,J,G){var I=c.ruleExecutor.dependencies[F];if(I&&(typeof I==="function")){I(H,J,G)}else{if(G&&typeof G=="function"){G()}}},eventTrigger:function(){for(var G in c.notification.qualifyingNotifications){var H=c.notification.qualifyingNotifications[G];if(c.ruleExecutor.execute(G,H.ruleR2Code)){c.notification.render({notificationId:G,forcedRender:true,skipRules:true});c.notification.qualifyingNotifications={}}}for(var G in c.survey.qualifyingSurveys){var F=c.survey.qualifyingSurveys[G];if(c.ruleExecutor.execute(G,F.ruleR2Code)){c.survey.render({surveyId:G,forcedRender:true,skipRules:true});c.survey.qualifyingSurveys={}}}}}})(c.ruleExecutor.constants));t.extend("ruleExecutor",(function(I,H){var E={};var G=function(){E={referer:I.getReferrers,url:t.getClientPageUrl(),cookie:function(L){return t.getCookie(L,true)},country:I.getCountry,region:I.getRegion,city:I.getCity,time:"",isFirstTime:I.isFirstTime,isSER:I.isSearchEngineReference,isSMR:I.isSocialMediaReference,searchTerms:I.getSearchTerms,os:c.BrowserDetect.os,device:c.BrowserDetect.device,browser:c.BrowserDetect.browser,browser_version:c.BrowserDetect.version,endUserTime:I.getClientTime,publisherTime:I.getPublisherTime,totalPageView:I.getTotalPageView,sampling:I.sampling,contentXPathString:I.getXpathStringResult,contentXPathInteger:I.getXpathIntegerResult,contentXPathNode:I.getXpathStringResult,isDirectVisitor:I.getSessionCookieReferer,dayOfWeek:I.getClientDayOfWeek,event:I.getEventData};var K={};for(var J in E){if(E.hasOwnProperty(J)){K["we_wk_"+J]=E[J]}}t.copy(E,K)};var F=[];G();return{execute:function(K,M,J){var L=t.copy({},E);L=t.copy(L,(J?J:{}),true);L.entityId=K;M=(M!==e)?M:true;return(new Function("_weUtil","_ruleUtil","_constants","operands","return ("+M+");")(t,I,H,L))},executeEvent:function(K,M){var J;try{J=c.ruleExecutor.execute(null,K,A)}catch(L){J=false}if(J){M()}else{F.push({ruleCode:K,callback:M})}},pushToQueue:function(J,K){F.push({ruleCode:J,callback:K})},storeListener:function(){var J=F.splice(0,F.length);while(J.length!=0){var K=J.splice(0,1);c.ruleExecutor.executeEvent(K[0]["ruleCode"],K[0]["callback"])}},getStore:function(){},loadOperands:function(){G()}}})(c.ruleExecutor.util,c.ruleExecutor.constants));t.extend("survey",(function(){var I=[],J=function(S,M){if(S!==e&&S){var T=this,P=C.survey.config,R=P.theme||"",N="320px",W="1px",V=a.createElement("div");if(T._surveyOptions.width){var Q=parseInt(T._surveyOptions.width,10);if(!isNaN(Q)){N=Q+"px"}}T.height=W;T.width=N;T.surveyConfigDto=P;T.theme=R;T.surveyEId=S;T._weProperties=p;T.showOnExit=(typeof M==="boolean"?M:false);T.isMobileSurvey=(typeof isMobileSurvey=="boolean"?isMobileSurvey:false);var U=T._surveyOptions.scope[S]||T._surveyOptions.scope.all||null;if(U){T.scope=(U.scope?U.scope:"");T.scopeType=(U.scopeType?U.scopeType:"")}p.widgetContainer.appendChild(V);V.setAttribute("id",p.widgetContainerId+"-survey-content");a.$SurveyWidgetInitializer={currentInstance:T,containerId:p.widgetContainerId,licenseCode:j,appHost:p.surveyAppHost,width:parseInt(N,10)};var O=p.widgetDomain+(c.BrowserDetect.is_this_the_worlds_most_annoying_browser()?p.loadSurveyWidgetUrlv3:p.loadSurveyWidgetUrl(T.layoutAttributes.id));t.withWeJquery(function(){var X=a.createElement("script");X.type="text/javascript";X.src=O;X.onload=function(){setTimeout(function(){if(a.$SurveyWidgetInitializer.currentInstance.surveyEId===S){$weJQuery.loadSurveyForm()}},10)};p.widgetContainer.appendChild(X)})}},H=function(Q,S,M){if(Q!==e&&Q){if(typeof Q==="object"){if(Q instanceof Array){for(var O=0;O<Q.length;O++){H(Q[O],S,M)}}else{var P=Q.scope;if(P){var R=Q.surveyIds;if(R!==e&&R instanceof Array&&R.length>0){for(var N=0;N<R.length;N++){M[R[N]]={scope:P,scopeType:(Q.scopeType||"")}}}else{M.all={scope:P,scopeType:(Q.scopeType||"")}}}}}else{M.all={scope:Q,scopeType:(S||"")}}}},E=function(T,O,Y){if(T&&T.length>0){var ao=(new Array()).concat(T);var ar=ao[0],ac=t.getSessionCookie(),ai=t.getWebengageCookie(),ab=t.getInitParamValue(Y._surveyOptions,"alignment",C.survey.config.alignment,["left","right"]),aa=ar,af=O[aa].ruleCode,U,X=O[aa].pageRuleCode,ak=O[aa].sessionRuleCode,al=O[aa].eventRuleCode,ag=t.copy({},O[aa]["la"]),P=O[aa].startTimestamp,S=O[aa].endTimestamp,R=(!Y._surveyOptions.skipRules&&typeof O[aa].showOnExit==="boolean")?O[aa].showOnExit:false,V=((Y._surveyOptions.skipRules||R)?0:(O[aa].totalTimeOnSite?O[aa].totalTimeOnSite-((new Date()).getTime()-(ac.sst||0)):0)),aq=((Y._surveyOptions.skipRules||R)?0:((parseInt(Y._surveyOptions.delay,10)>=0)?parseInt(Y._surveyOptions.delay,10):Math.max(V,O[aa].timeSpent))),am=O[aa].maxTimesPerUser,Q=Y._surveyOptions.scope[aa]||Y._surveyOptions.scope.all||null,ah=aa+(Q&&Q.scope&&(Q.scopeType+"").toUpperCase()!="GLOBAL"?"["+t.escapeScopeChars(Q.scope)+"]":""),an=t.escapeForRegExp(ah),N=O[aa].mobile,M=O[aa].sampling||100;if(!Y._surveyOptions.isDemoMode){switch(true){case (X&&ak&&true):U=X+" && "+ak;break;case (X&&true):U=X;break;case (ak&&true):U=ak;break}if(typeof N!=="undefined"&&N&&!c.BrowserDetect.isMobile()){T.splice(0,1);return E(T,O,Y)}if(!Y._surveyOptions.forcedRender&&((ac&&ac.closedSurveys!==e&&(ac.closedSurveys.match("##"+an+"##")||ac.closedSurveys.match("##"+an+"$")))||(ai&&ai.takenSurveys!==e&&(ai.takenSurveys.match("##"+an+"##")||ai.takenSurveys.match("##"+an+"$"))))){ao.splice(0,1);return E(ao,O,Y)}var ae=c.util.getTotalTimesShown(aa,"survey");if(!Y._surveyOptions.forcedRender&&am!==e){if(am<=ae){ao.splice(0,1);return E(ao,O,Y)}}var W={timeSpent:aq,showOnExit:R,maxTimesPerUser:am,startTimestamp:P,endTimestamp:S,ruleCode:af,ruleR1Code:U,ruleR2Code:al,layoutAttributes:ag,sampling:M};G(aa,W,Y,function(){ao.splice(0,1);return E(ao,O,Y)})}else{var W={timeSpent:aq,showOnExit:R,maxTimesPerUser:am,startTimestamp:P,endTimestamp:S,ruleCode:af,ruleR1Code:U,ruleR2Code:al,layoutAttributes:ag,sampling:M};if(!Y.surveysToExecuteData){Y.surveysToExecuteData={}}Y.surveysToExecuteData[aa]=W;ao.splice(0,1);return E(ao,O,Y)}}else{if(Y.surveysToExecuteData){var ap=null;var aj=[];for(var ar in Y.surveysToExecuteData){var ad=ar;aj[aj.length]=ad;ap=((ap==null||ap>Y.surveysToExecuteData[ad]["timeSpent"])?Y.surveysToExecuteData[ad]["timeSpent"]:ap)}var Z=Y.startExecutionTime?(new Date()).getTime()-Y.startExecutionTime:0;Y.totalTimeElapsed=Y.totalTimeElapsed+Z;Y.minTimespentVal=(ap-Z<0)?0:ap-Z;return K(aj,Y.surveysToExecuteData,Y,O)}}},G=function(O,N,R,T){try{if(N.startTimestamp||N.endTimestamp){if(c.ruleExecutor.dependency.util.geoDataExists()){var Q=t.getServerTimeStamp(),S=N.startTimestamp,M=N.endTimestamp;if(M<Q||Q<S){return T()}}}if((R._surveyOptions.skipRules)||(!N.ruleR1Code)||(c.ruleExecutor.execute(O,N.ruleR1Code,R._surveyOptions.ruleData))){if(!R.surveysToExecuteData){R.surveysToExecuteData={}}R.surveysToExecuteData[O]=N}return T()}catch(P){if(P&&P.type){c.ruleExecutor.util.loadDependency(P.type,N,function(){G(O,N,R,T)},T)}else{c.eLog(P);T()}}},L=function(O,P,N,T,Q,R){if(Q.rendered||(N&&Q.pfsId&&Q.pfsId!==O)){return}if(Q.pfsId&&Q.pfsId===O){var S=0;var U=setInterval(function(){S++;if(typeof Q.animateSurvey==="function"){clearInterval(U);Q.animateSurvey()}if(S>25){clearInterval(U)}},200)}else{var M=0;var V=0;if(!N){if(arguments&&arguments[0]){V=P||0}M=Q.totalTimeElapsed+Q.minTimespentVal}else{Q.pfsId=O}c.setTimeout(function(){Q.layoutAttributes=R;J.apply(Q,[O,N])},((V-M)<0?0:(V-M)))}},F=function(S,O){var R=this;for(var P=0;P<S.length;P++){var Q=S[P];var N=O[Q].sampling||100;var M=c.ruleExecutor.util.sampling(Q);if(N>=M){return Q}else{c.util.markEntityAsShown(Q,"survey",R,true);c.setTimeout(function(){R.dump("abs_view",{id:Q})},10)}}},K=function(M,O,P,N){c.setTimeout(function(){var T;var R=function(Z){for(var W=0;W<Z.length;W++){var Y=Z[W];var V=N[Y];if(typeof T==="undefined"){T=V.order}if(T===V.order){var X=(function(aa){return function(){var ac=O[aa].sampling||100;var ab=c.ruleExecutor.util.sampling(aa);if(ac>=ab){L(aa,(O[aa]["timeSpent"]||0),O[aa]["showOnExit"],O[aa]["maxTimesPerUser"],P,O[aa]["layoutAttributes"])}else{c.util.markEntityAsShown(aa,"survey",P,true);c.setTimeout(function(){P.dump("abs_view",{id:aa})},10)}}})(Y);if(P._surveyOptions.skipRules||!(V.ruleR2Code||V.eventRuleCode)){X();return}if(O[Y]["showOnExit"]){L(Y,(O[Y]["timeSpent"]||0),O[Y]["showOnExit"],O[Y]["maxTimesPerUser"],P,O[Y]["layoutAttributes"])}c.ruleExecutor.pushToQueue(V.ruleR2Code||V.eventRuleCode,X)}}c.events.publish("storeChange")};if(!P._surveyOptions.forcedRender){var Q=[];for(var U=0;U<M.length;U++){if(U>0){Q[Q.length]="&"}Q[Q.length]="surveyIds="+M[U]}var S=p.findAllTakenSurveysUrl()+"&"+Q.join("")+(P._surveyOptions.scope?"&scope="+encodeURIComponent(t.stringify(P._surveyOptions.scope)):"");t.loadScript.apply(p.widgetContainer,[S,function(W,Y,X){var ac=[],Z={};if(typeof we_notToExecuteSurveyIdsMap!="undefined"){if(we_notToExecuteSurveyIdsMap.takenSurveyIds!==e&&we_notToExecuteSurveyIdsMap.takenSurveyIds.length>0){for(var V=0;V<we_notToExecuteSurveyIdsMap.takenSurveyIds.length;V++){var ad=P._surveyOptions.scope[we_notToExecuteSurveyIdsMap.takenSurveyIds[V]]||P._surveyOptions.scope.all||null;var af=(ad&&ad.scope?ad.scope:"");var ab=(ad&&ad.scopeType?ad.scopeType:"");Z[we_notToExecuteSurveyIdsMap.takenSurveyIds[V]]=true;t.markSurveyAsTaken((we_notToExecuteSurveyIdsMap.takenSurveyIds[V]+(af&&(ab+"").toUpperCase()!="GLOBAL"?"["+t.escapeScopeChars(af)+"]":"")))}}if(we_notToExecuteSurveyIdsMap.inactiveSurveyIds!==e&&we_notToExecuteSurveyIdsMap.inactiveSurveyIds.length>0){for(var aa=0;aa<we_notToExecuteSurveyIdsMap.inactiveSurveyIds.length;aa++){Z[we_notToExecuteSurveyIdsMap.inactiveSurveyIds[aa]]=true}}}for(var ae=0;ae<Y.length;ae++){if(!Z[Y[ae]]){ac[ac.length]=Y[ae]}}R(ac)},[O,M,P.totalTimeElapsed]])}else{R(M)}},P.minTimespentVal)};return{cbid:1,render:function(M){return c.withELog(function(){return(new function(){c.survey.clear();var Q=this;Q.cbid=1;I[I.length]=Q;Q.abort=function(){t.abortInstance(this)};var O={surveyId:f["webengage.survey.surveyId"]||"",skipRules:f["webengage.survey.skipRules"]||false,forcedRender:f["webengage.survey.forcedRender"]||false,delay:f["webengage.survey.delay"]||-1,customData:t.copy({},f["webengage.survey.customData"]||f["webengage.customData"]||{}),ruleData:t.copy({},f["webengage.survey.ruleData"]||f["webengage.ruleData"]||{}),isDemoMode:f["webengage.survey.isDemoMode"]||f["webengage.isDemoMode"]||false,alignment:f["webengage.survey.alignment"]||"",scope:f["webengage.survey.scope"]||f["webengage.scope"]||"",scopeType:f["webengage.survey.scopeType"]||f["webengage.scopeType"]||"",enableCallbacks:f["webengage.survey.enableCallbacks"]||f["webengage.enableCallbacks"]||false,width:f["webengage.survey.width"]};var W={showAllClosedAndTakenSurveys:"forcedRender",data:"customData",demo:"isDemoMode"};if(M!==e&&!t.isEmptyObject(M)){for(var N in M){var R=W[N];if(R!==e&&R){M[R]=M[N];delete M[N]}}}if(M&&M.customData){O.customData=t.copy(O.customData,M.customData,true);delete M.customData}if(M&&M.ruleData){O.ruleData=t.copy(O.ruleData,M.ruleData,true);delete M.ruleData}Q._surveyOptions=t.copy(O,(M?M:{}),true);Q._surveyOptions.forcedRender=typeof Q._surveyOptions.forcedRender==="boolean"?Q._surveyOptions.forcedRender:false;if(Q._surveyOptions.forcedRender){Q._surveyOptions.scope=(new Date()).getTime();Q._surveyOptions.scopeType="session"}var P={};H(Q._surveyOptions.scope,Q._surveyOptions.scopeType,P);Q._surveyOptions.scope=P||"";Q.enableCallbacks=(typeof Q._surveyOptions.enableCallbacks==="boolean"?Q._surveyOptions.enableCallbacks:false);if(C.survey&&(C.survey.isEnabled||Q._surveyOptions.isDemoMode)&&!t.isEmptyObject(C.survey.ruleMap)&&(a.location.protocol=="http:"||(a.location.protocol=="https:"&&C.sslEnabled))&&!C.isSRQuotaOver){t.copy(Q,y,true);Q.onLoad((Q._surveyOptions.onLoad||f["webengage.survey.onLoad"]));Q.onSubmit((Q._surveyOptions.onSubmit||f["webengage.survey.onSubmit"]));Q.onClose((Q._surveyOptions.onClose||f["webengage.survey.onClose"]));Q.onOpen((Q._surveyOptions.onOpen||f["webengage.survey.onOpen"]));Q.onComplete((Q._surveyOptions.onComplete||f["webengage.survey.onComplete"]));Q.dump=function(ab,Y){var aa=this;var X={id:aa.surveyEId,layoutId:aa.layout},Z={};t.copy(X,(Y||{}),true);X.tvc=t.getTotalTimesShown(X.id,"survey",false,(ab==="abs_view"?true:false));X.tvcs=t.getTotalTimesShown(X.id,"survey",true,(ab==="abs_view"?true:false));if(aa.showOnExit){X.showOnExit=aa.showOnExit}if(!t.isEmptyObject(aa._surveyOptions.ruleData)){X.ruleData=aa._surveyOptions.ruleData}if(!t.isEmptyObject(aa._surveyOptions.customData)){Z=aa._surveyOptions.customData}this.executeCallbacks("dump",X,ab);c.dump("survey_"+ab,Z,X)};t.attachEventListners("survey",Q);Q.totalTimeElapsed=0;var S=C.survey.ruleMap,V=C.survey.order,T=Q._surveyOptions.surveyId;if(T&&S[T]){var U=[];U[0]=T;V=U}Q.startExecutionTime=(new Date()).getTime();E(V,S,Q)}else{if(C.survey&&C.survey.isEnabled&&a.location.protocol=="https:"&&!C.sslEnabled){c.eLog(null,"error","Survey - Widget turned off for SSL encrypted page","Survey - Widget turned off for SSL encrypted page")}}})})},clear:function(){c.withELog(function(){try{if(a.getElementById(p.widgetContainerId+"-base")){var M=a.getElementsByTagName("webengagedata")[0]}else{p.widgetContainer.removeChild(a.getElementById(p.widgetContainerId+"-survey-content"))}}catch(N){}a.$SurveyWidgetInitializer=null;I=[]})},abort:function(){t.abortAllInstances(I)},attachEventListner:function(){var M=this,N=arguments;c.withELog(function(){t.bind.apply(M,N);if(I.length>0){for(var O=0;O<I.length;O++){I[O].enableCallbacks=true;t.bind.apply(I[O],N)}}})}}})());t.extend("IFRAMES",(function(){var E=[];return{create:function(H,J,L){this.remove(H);var M=L||{};var F;try{F=a.createElement('<iframe name="'+H+'">')}catch(K){F=a.createElement("iframe");F.name=H}F.id=H;if(c.BrowserDetect.is_this_the_worlds_most_annoying_browser()){F.src="javascript:void(0);"}F.frameBorder=M.frameBorder||"0";F.marginHeight=M.marginHeight||"0";F.marginWidth=M.marginWidth||"0";F.allowTransparency=M.allowTransparency||"true";var G=F.style;G.zIndex=(t.getMaxZIndex()+1);G.position="absolute";G.backgroundColor=M.backgroundColor||"transparent";G.bottom=M.bottom||"0px";G.right=M.right||"0px";G.border=M.border||"none";G.overflow=M.overflow||"hidden";G.visibility=M.visibility||"hidden";var I=J||p.widgetContainer;I.appendChild(F);E[H]=F;try{F.contentWindow.name}catch(K){c.eLog(K);F.src='javascript:(function () {document.open();document.domain="'+a.domain+'";document.close();})();'}if(typeof(M.onload)==="function"){t.addListener(F,"load",M.onload)}return F},get:function(F){return E[F]},resize:function(G,F,H){var I=c.IFRAMES.get(G);I.style.height=F+"px"},remove:function(F){var G=c.IFRAMES.get(F);if(G){if(G.parentNode){G.parentNode.removeChild(G)}}if(d.frames[F]){delete d.frames[F]}delete E[F]},creatCallbackFrame:function(I,G,L,F){var K={};if(typeof(F)==="function"){K.onload=function(){c.withELog(function(){var O=E[I];if(!O.widgetCallBackStatus||O.widgetCallBackStatus===0){O.widgetCallBackStatus=1}else{if(O.widgetCallBackStatus===1){O.contentWindow.location="about:blank";O.widgetCallBackStatus=2}else{if(O.widgetCallBackStatus===2){var P=(new Date()).getTime()+"CB";if(!c.IFRAMES.CB){c.IFRAMES.CB={}}c.IFRAMES.CB[P]=function(Q){setTimeout(function(){if(Q!==e&&Q!==""){try{var S=t.parseJSON(Q);if(S!==null){if(S.eventName!==e){F(S.eventName,S.data)}}}catch(R){c.eLog(R)}}O.widgetCallBackStatus=0;c.IFRAMES.remove(I);O=c.IFRAMES.creatCallbackFrame(I,G,L,F)},10)};try{var M=O.contentWindow.name;c.IFRAMES.CB[P](M)}catch(N){c.eLog(N);O.src="javascript:(function () {document.write('<script>var _data=window.name;document.domain=\""+a.domain+'";setTimeout(function(){window.parent.webengage.IFRAMES.CB["'+P+"\"](_data);}, 10);<\/script>')})();"}}}}})}}var J=c.IFRAMES.create(I,G,K);var H=J.style;H.height=0;H.width=0;if(L){J.src=L}return J}}})());t.extend("notification",(function(){var J=[],I,F=function(R,Q,P,L){var T=this;if(R||T._notificationOptions.previewJson!==e){T.notificationId=T.notificationEId=R;T.showOnExit=L;T.layout=Q||(T._notificationOptions.previewJson&&T._notificationOptions.previewJson.layout?T._notificationOptions.previewJson.layout:"");var S=T.executeCallbacks("run",T);if(typeof S==="boolean"&&!S){return}var N=c.IFRAMES.create(p.widgetContainerId+"-notification-frame",p.widgetContainer);N.style.top="-1000px";N.style.left="-1000px";var V=t.getSessionCookie();var O=null;if(N.contentDocument){O=N.contentDocument}else{if(N.contentWindow){O=N.contentWindow.document}else{if(N.document){O=N.document}}}O.open();var M=(T.layout===""?"notification-base.css":T.layout+"-notification-base.css");var K=(c.BrowserDetect.ie()&&c.BrowserDetect.version()<8)?'<link rel="stylesheet" type="text/css" href="//d3701cc9l7v9a6.cloudfront.net/css/responsive/assets/css/font/webengage/widget-font-ie7/ie7.css?v=479.0" media="screen"/><script type="text/javascript" src="//d3701cc9l7v9a6.cloudfront.net/css/responsive/assets/css/font/webengage/widget-font-ie7/ie7.js?v=479.0"><\/script><style type="text/css">.icon-large{font-size:1.3333333333333333em;margin-top:-4px;padding-top:3px;margin-bottom:-4px;padding-bottom:3px;vertical-align:middle;}.icon-extra-large{font-size:2em;margin-top:-4px;padding-top:3px;margin-bottom:-4px;padding-bottom:3px;vertical-align:middle;}</style>':"";var U=(c.BrowserDetect.ie()&&c.BrowserDetect.version()===8)?'<style type="text/css">.icon-large{font-size:1.3333333333333333em;margin-top:-4px;padding-top:3px;margin-bottom:-4px;padding-bottom:3px;vertical-align:middle;}.icon-extra-large{font-size:2em;margin-top:-4px;padding-top:3px;margin-bottom:-4px;padding-bottom:3px;vertical-align:middle;}</style>':"";O.write('<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html><head><meta http-equiv="cache-control" content="max-age=0" /><meta http-equiv="cache-control" content="no-cache" /><meta http-equiv="pragma" content="no-cache" /><meta http-equiv="content-type" content="text/html; charset=utf-8"/><link id="widget-font-id" rel="stylesheet" type="text/css" href="//d3701cc9l7v9a6.cloudfront.net/css/responsive/assets/css/font/webengage/widget-font.css?v=479.0" media="screen"/><link rel="stylesheet" type="text/css" href="//d3701cc9l7v9a6.cloudfront.net/css/webengage/notification/'+M+'?v=479.0" media="screen"/>'+K+U+'<script type="text/javascript">try{window.parent.window.name}catch(e){document.domain="'+a.domain+'";};<\/script><script type="text/javascript" src="//d3701cc9l7v9a6.cloudfront.net/js/jquery/jquery-1.3.2.min.js"><\/script></head><body class="notification-body"><script type="text/javascript">window.onload = function () { (function(d){ var _script = d.createElement("script"); _script.type = "text/javascript"; _script.src = "'+p.widgetDomain+p.notificationWidgetScriptUrl+'"; d.body.appendChild(_script); })(document);};<\/script></body></html>');O.close();c.setTimeout(function(){if(T._notificationOptions.previewJson!==e){O.$NotificationWidgetInitializer={currentInstance:T,notificationVersion:P,containerId:p.widgetContainerId,licenseCode:j,appHost:p.baseWebEngageUrl,widgetDomain:p.widgetDomain,previewJson:T._notificationOptions.previewJson}}else{O.$NotificationWidgetInitializer={currentInstance:T,notificationVersion:P,containerId:p.widgetContainerId,licenseCode:j,appHost:p.baseWebEngageUrl,widgetDomain:p.widgetDomain,browser:c.BrowserDetect.browser(),browserVersion:c.BrowserDetect.version(),os:c.BrowserDetect.os(),country:V.country||"",city:V.city||"",region:V.region||"",pageTitle:a.title,ip:V.ip,referrer:a.referrer}}},0)}},E=function(P,L,R){if(P&&P.length>0){var V=(new Array()).concat(P);var ae=V[0],Z=t.getWebengageCookie(),T=t.getSessionCookie(),K=ae,ab=L[K].layout,N=(webengage_fs_configurationMap.config.notificationConfig.wl?"W":"N")+L[K].version,Y=L[K].ruleCode,M=(!R._notificationOptions.skipRules&&typeof L[K].showOnExit==="boolean"?L[K].showOnExit:false),O=((R._notificationOptions.skipRules||M)?0:((L[K].totalTimeOnSite?L[K].totalTimeOnSite-((new Date()).getTime()-(T.sst||0)):0))),ad=((R._notificationOptions.skipRules||M)?0:((parseInt(R._notificationOptions.delay,10)>=0)?parseInt(R._notificationOptions.delay,10):Math.max(O,L[K].timespent))),Q=L[K].skipTargetPage,W=L[K].actionLinks,ac=L[K].maxTimesPerUser,U=L[K].mobile;if(!R._notificationOptions.isDemoMode){if(typeof U!=="undefined"&&U&&!c.BrowserDetect.isMobile()){V.splice(0,1);return E(V,L,R)}if(!R._notificationOptions.forcedRender&&((T&&T.closedNIds!==e&&T.closedNIds.indexOf("##"+K)>=0)||(Z&&Z.takenNIds!==e&&Z.takenNIds.indexOf("##"+K)>=0))){V.splice(0,1);return E(V,L,R)}if(Q&&W instanceof Array&&W.length>0){for(var aa in W){var S=a.createElement("a");S.href=W[aa];W[aa]="^"+t.escapeForRegExp(S.href)+"$";S=null}if(c.ruleExecutor.util.isMatches(t.getClientPageUrl(),W)){V.splice(0,1);return E(V,L,R)}}var X=c.util.getTotalTimesShown(K,"notification");if(!R._notificationOptions.isDemoMode&&!R._notificationOptions.forcedRender&&ac!==e){if(ac<=X){V.splice(0,1);return E(V,L,R)}}L[K]["timeSpent"]=ad;L[K]["showOnExit"]=M;H(K,L[K],R,function(){V.splice(0,1);return E(V,L,R)})}else{L[K]["timeSpent"]=ad;L[K]["showOnExit"]=M;G(K,L[K],R)}}else{c.events.publish("storeChange")}},H=function(P,K,Q,T){try{if(K.startTimestamp||K.endTimestamp){if(c.ruleExecutor.dependency.util.geoDataExists()){var R=t.getServerTimeStamp(),O=K.startTimestamp,L=K.endTimestamp;if(L<R||R<O){return T()}}}if((Q._notificationOptions.skipRules)||(!K.ruleR1Code)||(c.ruleExecutor.execute(P,K.ruleR1Code,Q._notificationOptions.ruleData))){var M=Q.startExecutionTime?(new Date()).getTime()-Q.startExecutionTime:0;Q.totalTimeElapsed=Q.totalTimeElapsed+M;if(typeof I==="undefined"){I=K.order}if(I===K.order){var S=(function(V,W,U){return function(){var Y=W.sampling||100;var X=c.ruleExecutor.util.sampling(V);if(Y>=X){return G(V,W,U)}else{c.util.markEntityAsShown(V,"notification",U,true);c.setTimeout(function(){U.dump("abs_view",{id:V})},10);return T()}}})(P,K,Q);if(Q._notificationOptions.skipRules||!K.ruleR2Code){S();return}if(K.showOnExit){G(P,K,Q)}c.ruleExecutor.pushToQueue(K.ruleR2Code,S)}}return T()}catch(N){if(N&&N.type){c.ruleExecutor.util.loadDependency(N.type,K,function(){H(P,K,Q,T)},T)}else{c.eLog(N);T()}}},G=function(O,M,N){if(N.rendered||(M.showOnExit&&N.pfnId&&N.pfnId!==O)){return}var L=M.timeSpent||0;var Q=(function(T,R,S){return function(){t.withWeJquery(function(){c.setTimeout(function(){F.apply(S,[T,R.layout,R.version,R.showOnExit])},(R.showOnExit?0:((L-S.totalTimeElapsed)<0?0:(L-S.totalTimeElapsed))))})}})(O,M,N);if(N.pfnId&&N.pfnId===O){var K=0;var P=setInterval(function(){K++;if(typeof N.animateNotification==="function"){clearInterval(P);N.animateNotification()}if(K>25){clearInterval(P)}},200)}else{if(M.showOnExit){N.pfnId=O}c.GEO.load(Q,Q)}};return{cbid:1,render:function(K){return c.withELog(function(){return(new function(){c.notification.clear();var Q=this;Q.cbid=1;J[J.length]=Q;Q.abort=function(){t.abortInstance(this)};var M={notificationId:f["webengage.notification.notificationId"]||"",skipRules:f["webengage.notification.skipRules"]||false,delay:f["webengage.notification.delay"]||-1,isDemoMode:f["webengage.notification.isDemoMode"]||f["webengage.isDemoMode"]||false,customData:t.copy({},f["webengage.notification.customData"]||f["webengage.customData"]||{}),ruleData:t.copy({},f["webengage.notification.ruleData"]||f["webengage.ruleData"]||{}),tokens:f["webengage.notification.tokens"]||f["webengage.tokens"]||{},previewJson:f["webengage.notification.previewJson"],forcedRender:f["webengage.notification.forcedRender"]||false,enableCallbacks:f["webengage.notification.enableCallbacks"]||f["webengage.enableCallbacks"]||false};var N={data:"customData",demo:"isDemoMode"};if(K!==e&&!t.isEmptyObject(K)){for(var L in K){var R=N[L];if(R!==e&&R){K[R]=K[L];delete K[L]}}}if(K&&K.customData){M.customData=t.copy(M.customData,K.customData,true);delete K.customData}if(K&&K.ruleData){M.ruleData=t.copy(M.ruleData,K.ruleData,true);delete K.ruleData}Q._notificationOptions=t.copy(M,(K?K:{}),true);Q.enableCallbacks=(typeof Q._notificationOptions.enableCallbacks==="boolean"?Q._notificationOptions.enableCallbacks:false);t.copy(Q,y,true);Q.onRun((Q._notificationOptions.onRun||f["webengage.notification.onRun"]));Q.onLoad((Q._notificationOptions.onLoad||f["webengage.notification.onLoad"]));Q.onClick((Q._notificationOptions.onClick||f["webengage.notification.onClick"]));Q.onClose((Q._notificationOptions.onClose||f["webengage.notification.onClose"]));Q.onOpen((Q._notificationOptions.onOpen||f["webengage.notification.onOpen"]));t.attachEventListners("notification",Q);Q.dump=function(Y,V){var X=this;var U={id:X.notificationId,layoutId:X.layout},W={};t.copy(U,V||{},true);U.tvc=t.getTotalTimesShown(U.id,"notification",false,(Y==="abs_view"?true:false));U.tvcs=t.getTotalTimesShown(U.id,"notification",true,(Y==="abs_view"?true:false));if(!t.isEmptyObject(X._notificationOptions.tokens)){U.tokens=t.copy({},X._notificationOptions.tokens)}if(!t.isEmptyObject(X._notificationOptions.ruleData)){U.ruleData=X._notificationOptions.ruleData}if(X.clickedCTA){U.cta=X.clickedCTA}this.executeCallbacks("dump",U,Y);if(!t.isEmptyObject(X._notificationOptions.customData)){W=X._notificationOptions.customData}c.dump("notification_"+Y,W,U)};if(Q._notificationOptions.previewJson!==e){t.withWeJquery(function(){F.apply(Q)})}else{if(C.notification&&(C.notification.isEnabled||Q._notificationOptions.isDemoMode)&&(a.location.protocol=="http:"||(a.location.protocol=="https:"&&C.sslEnabled))&&!C.isNQuotaOver){var S=C.notification.order,O=C.notification.ruleMap;Q.totalTimeElapsed=0;var P=Q._notificationOptions.notificationId;if(P&&O[P]){var T=[];T[0]=P;S=T}Q.startExecutionTime=(new Date()).getTime();E(S,O,Q)}else{if(C.notification&&C.notification.isEnabled&&a.location.protocol=="https:"&&!C.sslEnabled){c.eLog(null,"error","Notification - Widget turned off for SSL encrypted page","Notification - Widget turned off for SSL encrypted page")}}}})})},getNotificationFrame:function(){return a.getElementById(p.widgetContainerId+"-notification-frame")},resize:function(M){var L=a.getElementById(p.widgetContainerId+"-notification-frame");L.height=M.height||L.contentWindow.document.body.scrollHeight;L.width=M.width||L.contentWindow.document.body.scrollWidth;var K=L.style;K.visibility="visible";K.height=parseInt(M.height||L.contentWindow.document.body.scrollHeight)+"px";K.width=parseInt(M.width||L.contentWindow.document.body.scrollWidth)+"px";K.top="auto";K.bottom="0px";K.left="auto";if("right"==M.launchType){K.right="0px"}else{K.left="0px"}},clear:function(){var K=this;c.withELog(function(){try{c.IFRAMES.remove(p.widgetContainerId+"-notification-frame")}catch(L){}J=[]})},abort:function(){t.abortAllInstances(J)},attachEventListner:function(){var K=this,L=arguments;c.withELog(function(){t.bind.apply(K,L);if(J.length>0){for(var M=0;M<J.length;M++){J[M].enableCallbacks=true;t.bind.apply(J[M],L)}}})}}})());t.extend("",{abort:function(){c.withELog(function(){c.feedback.abort();c.survey.abort();c.notification.abort()})}});t.extend("",{init:function(E){var F=function(G){if(E[G]!==e&&E[G]){f["webengage."+G]=E[G]}};F("licenseCode");F("language");F("isDemoMode");F("delay");f["webengage.widgetVersion"]="3.0";if(f["webengage.licenseCode"]!==e&&f["webengage.licenseCode"]){t.onDocReady(function(){c.frameSync.init(function(){c.util.withCookies(["_we_wk_ls_","_we_wk_ss_"],r)})})}return c}});t.extend("",{onReady:function(E){if(E!==e&&typeof E==="function"){f["webengage.oldOnReady"]=E}}});t.extend("",{render:function(E){if(E){if(E.showFeedbackByDefault!==e&&!E.showFeedbackByDefault){f["webengage.feedback.defaultRender"]=false}if(E.showSurveyByDefault!==e&&!E.showSurveyByDefault){f["webengage.survey.defaultRender"]=false}if(E.showNotificationByDefault!==e&&!E.showNotificationByDefault){f["webengage.notification.defaultRender"]=false}}l()}});var r=function(){j=f["webengage.licenseCode"];var O=a.createElement("webengagedata");a.body.insertBefore(O,null);p.weDataContainer=O;try{var F=a.createElement("style");var J=a.createTextNode("#webklipper-publisher-widget-container, #webklipper-publisher-widget-container * {overflow:visible; -webkit-box-sizing: content-box; -moz-box-sizing: content-box;  box-sizing: content-box;}");F.type="text/css";if(F.styleSheet){F.styleSheet.cssText=J.nodeValue}else{F.appendChild(J)}p.weDataContainer.appendChild(F)}catch(U){}var R=a.createElement("div");R.setAttribute("id",p.widgetContainerId);p.weDataContainer.appendChild(R);p.widgetContainer=R;var V=c.BrowserDetect.browser(),T=c.BrowserDetect.device();try{if(V==="Firefox"&&T==="Desktop"){var L=t.getCookie("_we_wk_luid_",true),H=t.getCookie("_we_wk_suid_",true),G=w._we_wk_ls_,K=w._we_wk_ss_,E=c.LZString.decompressFromBase64(t.getCookie("_we_wk_ls_")||t.getCookie("_we_wk_ls_",true)||""),I=c.LZString.decompressFromBase64(t.getCookie("_we_wk_ss_lsf_",true)==="false"?t.getCookie("_we_wk_ss_",true):t.getCookie("_we_wk_ss_")||""),P=[],M=0,N=0;if(E){E=t.parseJSON(E)}if(I){I=t.parseJSON(I)}if(c.frameSync.status){if(G&&L&&G.luid!==L){P.push("WE-L:"+G.luid+" "+L);M|=1}if(K&&H&&String(K.suid)!==H){P.push("WE-S:"+K.suid+" "+H);N|=1}}else{c.eLog(null,"exception","",c.frameSync.message)}if(E&&L&&E.luid!==L){P.push("LS-L:"+E.luid+" "+L);M|=2}if(I&&H&&String(I.suid)!==H){P.push("LS-S:"+I.suid+" "+H);N|=2}}}catch(U){}var Q=t.getWebengageCookie(true);if(!Q){Q=t.setWebengageCookie()}else{if(!Q.luid){Q=t.setWebengageCookie(Q)}}var S=t.getSessionCookie(true);if(!S||!S.suid){S=t.setSessionCookie(S,true);Q=t.updateTSC()}try{if(V==="Firefox"&&T==="Desktop"){if(L&&Q.luid!==L){P.push("MG-L:"+Q.luid+" "+L);t.setCookie("_we_wk_luid_",Q.luid,99999,"/","","",true);M|=4}else{if(!L){t.setCookie("_we_wk_luid_",Q.luid,99999,"/","","",true)}}if(H&&String(S.suid)!==H){P.push("MG-S:"+S.suid+" "+H);t.setCookie("_we_wk_suid_",S.suid,"","/","","",true);N|=4}else{if(!H){t.setCookie("_we_wk_suid_",S.suid,"","/","","",true)}}if(P.length>0){P.push("FS.S:"+(c.frameSync.message||"Loaded"));P.push("LP:"+S.landingPage.substring(0,100));P.push("N-WS-L:"+(G?"OBJ":"NULL"));P.push("N-WS-S:"+(K?"OBJ":"NULL"));P.push("N-LS-L:"+(E?"OBJ":"NULL"));P.push("N-LS-S:"+(I?"OBJ":"NULL"));c.eLog(null,"exception",P.join("\n"),"("+M+N+") Storage UID mismatch")}}}catch(U){}Q=t.updateTPVC();if(typeof Q.isGzip==="undefined"){if(typeof f.isGzip!="undefined"){Q=t.setGZIPFlag((f.isGzip?true:false));n(Q.isGzip,Q.luid,S.suid)}else{t.loadScript.apply(p.widgetContainer,["//z.webengage.com/gz.js",function(){Q=t.setGZIPFlag((typeof f.isGzip!="undefined"&&f.isGzip?true:false));n(Q.isGzip,Q.luid,S.suid)}])}}else{n(Q.isGzip,Q.luid,S.suid)}};var n=function(F,G,E){d.webengage.setTimeout(function(){var K=(F?"webengage-zfiles":"webengage-files"),H=Math.floor((new Date()).getTime()/60000);var I="//s3.amazonaws.com/"+K+"/webengage/"+j+"/v4.js?r="+H+"&u="+G+"|"+E;var J=function(){var L=c.setInterval(function(){if(typeof webengage_fs_configurationMap!=="undefined"&&webengage_fs_configurationMap.config){clearInterval(L);if(((webengage_fs_configurationMap.sites!==e&&webengage_fs_configurationMap.sites)||(webengage_fs_configurationMap.domain!==e&&webengage_fs_configurationMap.domain))&&!f["webengage.isDemoMode"]){var T=false;var N=t.getClientPageHost(),Q;if(N.match(/\:[\d]*$/)){Q=N.substring(N.indexOf(":")+1,N.length);N=N.substring(0,N.indexOf(":"))}var Z=[];var U=[];if(webengage_fs_configurationMap.sites===e||!webengage_fs_configurationMap.sites){webengage_fs_configurationMap.sites={};webengage_fs_configurationMap.sites[webengage_fs_configurationMap.domain]="DOMAIN"}for(var X in webengage_fs_configurationMap.sites){var V=X,Y;if(webengage_fs_configurationMap.sites[X]=="DOMAIN"){Z[Z.length]=V;if(V.match(/^www\./i)){V=V.substring(4,V.length)}if(V.match(/\:[\d]*$/)){Y=V.substring(V.indexOf(":")+1,V.length);V=V.substring(0,V.indexOf(":"))}if((N.match(new RegExp(t.escapeForRegExp(V)+"$","gi"))&&(!Y||Y==Q))){T=true;break}}else{if(webengage_fs_configurationMap.sites[X]=="REGEXP"){var P=V;U[U.length]=V;if((t.getClientPageUrl().match(P))){T=true;break}}}}for(var X in webengage_fs_configurationMap.events){var M=webengage_fs_configurationMap.events[X],S=[X];if(M){if(M instanceof Array){S=S.concat(M)}else{S.push(M)}}c.events.register.apply(null,S);c.events.subscribe(X,c.events.subscriber)}c.events.subscribe("storeChange",c.ruleExecutor.storeListener);T=(f["webengage.notification.previewJson"]?true:T);if(!T){var R='The <a style="color: #00f;" href="http://webengage.com/" target="_blank">WebEngage (Survey, Feedback &amp; Notification)</a> widget on this page is incorrectly configured. It is meant for use only on ';if(Z.length>0){R+="<b>"+Z.join(", ")+"</b>"}if(U.length>0){if(Z.length>0){R+=(" and ")}R+=("pages with URLs that matches following regular expression(s) <b>"+U.join(", ")+"</b>")}c.logger.error(R+".");return}}p.publisherTimeZoneOffset=webengage_fs_configurationMap.tzo;t.copy(C,(function(aa){return{configurationMap:aa?aa:{}}})(webengage_fs_configurationMap));var W=t.getSessionCookie(),O=t.getWebengageCookie();if(!f["webengage.isDemoMode"]&&!W.vtd){c.dump("visitor_new_session",null,{lp:a.location.href});t.setVTD();t.setLST()}v(K)}},1)};if(typeof webengage_fs_configurationMap!=="undefined"&&webengage_fs_configurationMap){J()}else{t.loadScript.apply(p.widgetContainer,[I,J,null,function(){}])}},(f["webengage.delay"]&&parseInt(f["webengage.delay"])>0?parseInt(f["webengage.delay"]):0))},D=function(I,E,G,H){var F="//s3.amazonaws.com/"+I+"/webengage/"+j+"/"+E[G]+".js?r="+H[G];t.loadScript.apply(p.widgetContainer,[F,function(){if(G==(E.length-1)){g()}else{D.apply(this,[I,E,(G+1),H])}}])},i=function(L){var G=f["webengage.customWidgetCode.ruleData"]||f["webengage.ruleData"]||{};var F=[];var H=[];if(webengage_fs_configurationMap.cwcRuleList){var J=webengage_fs_configurationMap.cwcRuleList;for(var I=0;I<J.length;I++){var K=J[I].ruleCode;if(K){if(!c.ruleExecutor.execute(J[I].cwcEncId,K,G)){continue}}var E=F.length;F[E]=J[I].cwcEncId;H[E]=J[I].lastModifiedTimestamp}}if(F.length>0){D.apply(this,[L,F,0,H])}else{g()}},v=function(E){if((a.location.protocol=="http:"||(a.location.protocol=="https:"&&webengage_fs_configurationMap.sslEnabled))){t.usckwl(webengage_fs_configurationMap.domain);if(webengage_fs_configurationMap.cwcRuleList&&webengage_fs_configurationMap.cwcRuleList.length>0){i(E)}else{g()}}else{if(a.location.protocol=="https:"&&!C.sslEnabled){c.eLog(null,"error","Widget turned off for SSL encrypted page","CustomWidgetCode - Widget turned off for SSL encrypted page")}}},g=function(){(function(F){t.extend("widgetConfiguration",{});if(F&&F.config){t.copy(C,{feedback:{isEnabled:(typeof F.config.enableFeedback=="boolean"&&F.config.enableFeedback),config:F.config.feedbackConfig?F.config.feedbackConfig:{}}},true);t.copy(C,{survey:{isEnabled:(typeof F.config.enableSurvey=="boolean"&&F.config.enableSurvey),config:F.config.surveyConfig?F.config.surveyConfig:{},order:[],ruleMap:{}}},true);(function(I){if(F.surveyRuleList){var G=F.surveyRuleList;for(var H=0;H<G.length;H++){I.order[H]=G[H].surveyEncId;I.ruleMap[G[H].surveyEncId]=G[H];I.ruleMap[G[H].surveyEncId]["showOnExit"]=G[H].pf}}})(C.survey);t.copy(C,{notification:{isEnabled:(typeof F.config.enableNotification=="boolean"&&F.config.enableNotification),order:[],ruleMap:{}}},true);(function(H){if(F.notificationRuleList){var I=F.notificationRuleList;for(var G=0;G<I.length;G++){H.order[G]=I[G].notificationEncId;H.ruleMap[I[G].notificationEncId]={events:I[G].events,ruleR1Code:(function(){var J="";var L=I[G].pageRuleCode,K=I[G].sessionRuleCode;switch(true){case (L&&K&&true):J=L+" && "+K;break;case (L&&true):J=L;break;case (K&&true):J=K;break}return J})(),ruleR2Code:I[G].eventRuleCode,ruleCode:I[G].ruleCode,timespent:parseInt(I[G].timeSpent)!="NaN"?parseInt(I[G].timeSpent):0,totalTimeOnSite:parseInt(I[G].totalTimeOnSite)!="NaN"?parseInt(I[G].totalTimeOnSite):0,actionLinks:I[G].actionLinks||[],skipTargetPage:typeof(I[G].skipTargetPage)=="boolean"?I[G].skipTargetPage:false,maxTimesPerUser:I[G].maxTimesPerUser,startTimestamp:I[G].startTimestamp,endTimestamp:I[G].endTimestamp,layout:I[G].layout,version:((typeof I[G].v!="undefined")?I[G].v:0),showOnExit:I[G].pf,mobile:I[G].mobile,sampling:I[G].sampling,order:I[G].order}}}})(C.notification);t.copy(C,{sslEnabled:(F.sslEnabled?F.sslEnabled:false),isSRQuotaOver:(F.isSRQ?F.isSRQ:false),isNQuotaOver:(F.isNQ?F.isNQ:false),isFQuotaOver:(F.isFQ?F.isFQ:false)},true);t.uwats(F.lastWidgetCheckDate)}function E(){var G=[];s=true;if(f["webengage.oldOnReady"]!==e&&typeof f["webengage.oldOnReady"]==="function"){G[G.length]=f["webengage.oldOnReady"];G[G.length]=B}else{if(f["webengage.onReady"]!==e&&typeof f["webengage.onReady"]==="function"){G[G.length]=f["webengage.onReady"]}G[G.length]=B;G[G.length]=l}var H=function(K){for(var J=0,I=K.length;J<I;J++){if(typeof K[J]==="function"){c.withELog(function(){K[J].call(c)},null,true)}else{if(t.isArray(K[J])){H(K[J])}}}};H(G);c.util.addListener(d,"beforeunload",function(){c.withELog(function(){c.winUnloading=true;if(c.BrowserDetect.ie()&&c.BrowserDetect.version()<11){t.setWebengageCookie(t.getWebengageCookie());t.updateSessionCookie(t.getSessionCookie())}})})}if(F&&F.goals!==e&&F.goals instanceof Array){t.loadScript.apply(p.widgetContainer,[p.csUrl,function(){if(c.goals&&typeof c.goals.init==="function"){c.goals.init(F)}}])}if(F&&F.GAEnabled){if((f["GA.universalAnalyticsFunction"]&&typeof d[f["GA.universalAnalyticsFunction"]]==="function")||typeof d.ga==="function"||d._gaq){t.loadScript.apply(p.widgetContainer,[p.gaCallbacksScriptUrl,E,null,E])}else{c.eLog(f["webengage.licenseCode"],"error","_gaq/ga undefined - not loading ga-callback-helper","_gaq/ga undefined");E()}}else{E()}})(C.configurationMap)},l=function(){var E=function(G){var F=typeof f["webengage."+G+".defaultRender"]==="boolean"?f["webengage."+G+".defaultRender"]:f["webengage.defaultRender"];return(typeof F==="boolean"?F:true)};if(E("feedback")){setTimeout(function(){c.feedback.render()},1)}if(E("survey")){setTimeout(function(){c.survey.render()},1)}if(E("notification")){setTimeout(function(){c.notification.render()},1)}};if(d.webengageWidgetInit!==e&&typeof d.webengageWidgetInit==="function"){d.webengageWidgetInit()}else{var o=a.getElementsByTagName("webengage")[0];if(o&&o.attributes){var m=o.attributes;f["webengage.licenseCode"]=m.license.value;f["webengage.language"]=(m.language?m.language.value:"");if(m.feedbackButtonAlignment){f["webengage.feedback.alignment"]=m.feedbackButtonAlignment.value}if(m.feedbackExternalLinkId){f["webengage.feedback.externalLinkId"]=m.feedbackExternalLinkId.value}}if(f["webengage.licenseCode"]!==e&&f["webengage.licenseCode"]){t.onDocReady(function(){t.onDocReady(function(){c.frameSync.init(function(){c.util.withCookies(["_we_wk_ls_","_we_wk_ss_"],r)})})})}}var q=function(E){try{return sessionStorage.getItem(E)}catch(F){return null}};var x=function(E,F){try{sessionStorage.setItem(E,F)}catch(G){}};if(location.search.indexOf("libraryScript")>-1||q("webengage-library")=="true"){var h=new RegExp("[\\?&]libraryScript=([^&#]*)");var u=h.exec(location.search);var z;if(u!=null){z=decodeURIComponent(u[1]);x("webengage-library-script",z)}else{if(q("webengage-library-script")){z=q("webengage-library-script")}}x("webengage-library","true");if(z){c.util.withWeJquery(function(){c.util.loadScript.apply(p.widgetContainer,["//d3701cc9l7v9a6.cloudfront.net/js/library/"+z+".js?v=479.0",function(){c.feedback.abort();c.survey.abort();c.notification.abort();x("webengage-library","true")}])})}}};if(navigator.appName=="Microsoft Internet Explorer"){if(a.body&&(a.body.readyState=="loaded"||a.body.readyState=="complete")){b()}else{if(d.addEventListener){d.addEventListener("load",function(){b()},false)}else{if(d.attachEvent){d.attachEvent("onload",function(){b()})}}}}else{b()}c.getUser=function(){var g=c.util.getSessionCookie();return{pageUrl:d.location.href,pageTitle:a.title,referrer:(a.referrer||""),browser:c.BrowserDetect.browser(),browserVersion:c.BrowserDetect.version(),platform:c.BrowserDetect.os(),ip:(g?g.ip:""),city:(g?g.city:""),country:(g?g.country:"")}};c.reload=function(){c.feedback.clear();c.survey.clear();c.notification.clear();var g=a.getElementsByTagName("webengagedata")[0];if(g){g.parentNode.removeChild(g)}(function(j){var i=j.createElement("script");i.type="text/javascript";i.async=true;i.src=(j.location.protocol=="https:"?"https://ssl.widgets.webengage.com":"http://cdn.widgets.webengage.com")+"/js/widget/webengage-min-v-4.0.js";var h=j.getElementById("_webengage_script_tag");h.parentNode.insertBefore(i,h)})(a)}})(window,document,_weq,webengage)},10);