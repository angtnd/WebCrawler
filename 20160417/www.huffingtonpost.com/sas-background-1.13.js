var sasBackground={d:document,w:window,c:SmartBackgroundConfig,timer:0,closed:!1,addElement:function(t,e,i){var s=this.d.createElement(t);for(var a in i)s.setAttribute(a,i[a]);return e.appendChild(s),s},hasFlash:function(){try{if(new ActiveXObject("ShockwaveFlash.ShockwaveFlash"))return!0}catch(t){if(void 0!=navigator.mimeTypes["application/x-shockwave-flash"]&&navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin)return!0}return!1},sasOpen:function(t){"_blank"==this.c.creative.clickTarget?this.w.open(t):this.d.location=t},addClickMap:function(){if(this.c.clickMap.pageWidth){if(this.c.other.fakeBodyIdTag&&this.d.getElementById(this.c.other.fakeBodyIdTag)){var t=this.d.getElementById(this.c.other.fakeBodyIdTag);t.insertBefore(this.relDiv,t.firstChild)}var e=this.addElement("div",this.relDiv,{id:"sas-clickMap1_"+this.c.insertionId}),i=this.addElement("a",e,{id:"sas-clickMap11_"+this.c.insertionId,"class":"sas-clickMapLeftRight_"+this.c.insertionId,href:this.c.creative.clickUrl,target:this.c.creative.clickTarget});"fixed"==this.c.background.attachment&&(i.style.position="fixed");var s=this.addElement("div",this.relDiv,{id:"sas-clickMap2_"+this.c.insertionId}),a=this.addElement("a",s,{id:"sas-clickMap22_"+this.c.insertionId,"class":"sas-clickMapLeftRight_"+this.c.insertionId,href:this.c.creative.clickUrl,target:this.c.creative.clickTarget});if("fixed"==this.c.background.attachment&&(a.style.position="fixed"),this.c.clickMap.topPartHeight){this.addElement("a",this.relDiv,{id:"sas-clickMap3_"+this.c.insertionId,href:this.c.creative.clickUrl,target:this.c.creative.clickTarget})}}else sasBackground.c.other.fakeBodyIdTag?(this.fakeBodyIdTagObject=this.d.getElementById(this.c.other.fakeBodyIdTag),this.fakeBodyIdTagObject.onclick=function(t){var e=t?t:event;if(e){var i=e.target?e.target:e.srcElement;i.id==sasBackground.c.other.fakeBodyIdTag&&sasBackground.sasOpen(""+sasBackground.c.creative.clickUrl)}}):this.d.onclick=function(t){if(0==sasBackground.closed){var e=t?t:event;if(!e)return;var i=e.target?e.target:e.srcElement,s=navigator.userAgent;if(s.match(/iPad/i)&&3==i.nodeType&&(i=i.parentNode),(!i||"BODY"!=i.tagName)&&"BODY"!=i.parentNode.tagName)return;sasBackground.sasOpen(""+sasBackground.c.creative.clickUrl)}}},addCss:function(){var t=this.c.other.important?"!important":"",e=-Math.floor(this.c.creative.width/2)+this.c.other.horizontalOffset,i=this.c.other.verticalOffset?this.c.other.verticalOffset+"px":0,s=this.c.elementOffset.contentVerticalOffset?"padding-top:"+this.c.elementOffset.contentVerticalOffset+"px "+t+";":"",a=this.c.clickMap.verticalOffset?this.c.clickMap.verticalOffset+"px":0;this.d.body.style.overflowX="hidden";var c=this.d.createElement("style");c.type="text/css";var n=["#sas-relDiv_"+this.c.insertionId+"{position:relative;width:1px;margin:0 auto;overflow:visible;}","#sas-relDiv_"+this.c.insertionId+" #sas-backgroundDiv_"+this.c.insertionId+" img{max-width:none}","#sas-backgroundDiv_"+this.c.insertionId+"{width:"+this.c.creative.width+"px;height:"+this.c.creative.height+"px;position:absolute;z-index:"+this.c.other.zIndex+";top:"+i+";left:"+e+"px}","#sas-backgroundDivBackup_"+this.c.insertionId+"{width:"+this.c.creative.backup.width+"px;height:"+this.c.creative.backup.height+"px;position:absolute;z-index:"+this.c.other.zIndex+";top:"+i+";left:"+e+"px}","#sas_closeButton_"+this.c.insertionId+"{position:"+("fixed"==this.c.background.attachment?"fixed":"absolute")+";top:30px;right:30px;cursor:pointer;font;font-family: Arial,sans-serif; font-size:"+this.c.close.linkFontSize+"px;z-index:"+(this.c.clickMap.zIndex+this.c.other.zIndex+9999)+";color:#"+this.c.close.linkColor+"}",".sas_defaultCloseButton_"+this.c.insertionId+"{margin-left:10px;z-index:"+(this.c.clickMap.zIndex+this.c.other.zIndex+9999)+";width:27px;height:27px;-webkit-tap-highlight-color: rgba(0,0,0,0);-webkit-user-select:none;cursor:pointer;}",".sas-clickMapLeftRight_"+this.c.insertionId+"{width:"+this.c.clickMap.width+"px;height:"+this.c.clickMap.height+"px;z-index:"+this.c.clickMap.zIndex+";display:block;outline:0;border:"+(this.c.clickMap.testBorderLine?"1px dashed black":"none")+";}","#sas-clickMap1_"+this.c.insertionId+"{position:absolute;top:"+a+";left:-"+(Math.floor(this.c.clickMap.pageWidth/2)+this.c.clickMap.width-this.c.clickMap.horizontalOffset)+"px;z-index:"+this.c.clickMap.zIndex+";}","#sas-clickMap2_"+this.c.insertionId+"{position:absolute;top:"+a+";left:"+(Math.floor(this.c.clickMap.pageWidth/2)+this.c.clickMap.horizontalOffset)+"px;z-index:"+this.c.clickMap.zIndex+";}","#sas-clickMap3_"+this.c.insertionId+"{width:"+this.c.clickMap.pageWidth+"px;height:"+this.c.clickMap.topPartHeight+"px;position:absolute;top:"+a+";left:-"+(Math.floor(this.c.clickMap.pageWidth/2)-this.c.clickMap.horizontalOffset)+"px;display:block;z-index:"+this.c.clickMap.zIndex+";outline:0;border:"+(this.c.clickMap.testBorderLine?"1px dashed black":"none")+";}"].join("\r\n");1==this.c.creative.type||!this.hasFlash()&&2==this.c.creative.type?(this.hasFlash()||2!=this.c.creative.type||(this.c.creative.url=this.c.creative.backup.url),n+="\r\n"+(this.c.other.fakeBodyIdTag?"#"+this.c.other.fakeBodyIdTag:"body")+"{background: #"+this.c.background.color+' url("'+this.c.creative.url+'") '+this.c.background.repeat+" "+this.c.background.position+" "+this.c.background.attachment+" "+t+";cursor:"+(this.c.other.forcePointerCursor?"pointer":"default")+" "+t+";"+s+"}",n+="\r\n"+(this.c.other.fakeBodyIdTag?"#"+this.c.other.fakeBodyIdTag:"body")+" > *{cursor: auto "+t+";}",this.d.body.style.backgroundSize="auto"):(n+="\r\nbody{background-color: #"+this.c.background.color+";cursor:"+(this.c.other.forcePointerCursor?"pointer":"default")+";"+s+"}","fixed"==this.c.background.attachment&&(n+="\r\n#sas-backgroundDiv2_"+this.c.insertionId+"{position:fixed}")),""!=this.c.elementOffset.elementId&&(n+="\r\n"+("id"==this.c.elementOffset.elementType?"#":".")+this.c.elementOffset.elementId+"{margin-top:"+this.c.elementOffset.value+"px "+t+"}"),c.styleSheet?c.styleSheet.cssText=n:c.appendChild(this.d.createTextNode(n)),"undefined"!=typeof sas_ajax&&sas_ajax&&this.c.formatId?sas_appendToContainer(this.c.formatId,c):this.d.getElementsByTagName("head")[0].appendChild(c)},close:function(){if(this.closed=!0,clearTimeout(this.timer),this.relDiv&&this.relDiv.parentNode.removeChild(this.relDiv),this.closeButton&&this.closeButton.parentNode.removeChild(this.closeButton),this.c.other.fakeBodyIdTag&&this.d.getElementById(this.c.other.fakeBodyIdTag)?(this.d.getElementById(this.c.other.fakeBodyIdTag).style.backgroundImage="none",this.d.getElementById(this.c.other.fakeBodyIdTag).style.backgroundColor="transparent"):(this.d.body.style.backgroundImage="none",this.d.body.style.backgroundColor="transparent"),this.c.other.forcePointerCursor&&(this.d.body.style.cursor="default"),""!=this.c.elementOffset.elementId)if("id"==this.c.elementOffset.elementType&&this.d.getElementById(this.c.elementOffset.elementId))this.d.getElementById(this.c.elementOffset.elementId).style.marginTop=0;else for(var t=this.d.getElementsByClassName(this.c.elementOffset.elementId),e=0;e<t.length;e++)t[e].style.marginTop="0";this.c.elementOffset.contentVerticalOffset&&(this.c.other.fakeBodyIdTag&&this.d.getElementById(this.c.other.fakeBodyIdTag)?this.d.getElementById(this.c.other.fakeBodyIdTag).style.paddingTop=0:this.d.body.style.paddingTop=0)},addCreative:function(){var t=this.addElement("div",this.relDiv,{id:"sas-backgroundDiv_"+this.c.insertionId}),e=this.addElement("div",t,{id:"sas-backgroundDiv2_"+this.c.insertionId});if(0==this.c.creative.type){var i=this.addElement("iframe",e,{src:"about:blank",width:this.c.creative.width,height:this.c.creative.height,frameBorder:"0",scrolling:"no",marginheight:"0",marginwidth:"0"}),s=i.contentWindow||i,a=i.contentDocument||i.contentWindow.document;a.open("text/html","replace"),a.sasClickFunc=function(t,e){return function(){function i(){try{var t=e.getElementsByTagName("A");t[0]&&t[0].href&&(sasBackground.c.creative.clickUrl=sasBackground.c.creative.clickUrl+encodeURIComponent(t[0].href),sasBackground.c.creative.clickTarget=t[0].target,sasBackground.addClickMap())}catch(i){}}sasBackground.c.creative.oryginalClickUrl||(!function(i,s){function a(){if(!o){o=!0;for(var e=0;e<n.length;e++)n[e].fn.call(t,n[e].ctx);n=[]}}function c(){"complete"===e.readyState&&a()}i=i||"docReady",s=s||t;var n=[],o=!1,r=!1;s[i]=function(i,s){return o?void setTimeout(function(){i(s)},1):(n.push({fn:i,ctx:s}),void("complete"===e.readyState||!e.attachEvent&&"interactive"===e.readyState?setTimeout(a,1):r||(e.addEventListener?(e.addEventListener("DOMContentLoaded",a,!1),t.addEventListener("load",a,!1)):(e.attachEvent("onreadystatechange",c),t.attachEvent("onload",a)),r=!0)))}}("docReady2",t),t.docReady2(function(){i()}))}}(s,a),a.write('<!DOCTYPE html><head><script type="text/javascript">var inDapIF=false;<\/script></head><body style="padding:0;margin:0"><script type="text/javascript">document.sasClickFunc();<\/script>'+this.c.creative.agencyCode+"</body></html>");var c=sas.utils.getIEVersion();(!c||c>9)&&a.close()}else if(2==this.c.creative.type)e.innerHTML=this.flash({movie:this.c.creative.url,wmode:this.c.creative.wMode,allowscriptaccess:"always",allowfullscreen:"true",flashvars:this.c.creative.flashVars},"",this.c.creative.width,this.c.creative.height);else if(4==this.c.creative.type){var n=this.c.creative.url+(this.c.creative.url.indexOf("?")<0?"?":"&")+"sasfid="+this.c.formatId;this.addElement("iframe",e,{src:n,width:this.c.creative.width,height:this.c.creative.height,frameBorder:"0",scrolling:"no",marginheight:"0",marginwidth:"0"})}},flash:function(t,e,i,s){var a="";for(var c in t)a+='<param name="'+c+'" value="'+t[c]+'" />';return'<object type="application/x-shockwave-flash" name="'+e+'" id="'+e+'" width="'+i+'" height="'+s+'" data="'+t.movie+'">'+a+"</object>"},addCloseButton:function(){if(this.closeButton=this.addElement("div",this.d.body,{id:"sas_closeButton_"+this.c.insertionId}),""!=this.c.close.linkText&&(this.closeButton.innerHTML=this.c.close.linkText),this.c.close.defaultButton){this.addElement("img",this.closeButton,{"class":"sas_defaultCloseButton_"+this.c.insertionId,src:("https:"==this.d.location.protocol?"https://static":"http://ak-ns")+".sascdn.com/diff/templates/images/close_54x54.png"})}this.closeButton.onclick=function(){sasBackground.close()}},addFixes:function(){!function(){if(!sasBackground.d.getElementsByClassName){var t=[].indexOf||function(t){for(var e=0;e<this.length;e++)if(this[e]===t)return e;return-1};getElementsByClassName=function(e,i){var s=sasBackground.d.querySelectorAll?i.querySelectorAll("."+e):function(){for(var s=i.getElementsByTagName("*"),a=[],c=0;c<s.length;c++)s[c].className&&(" "+s[c].className+" ").indexOf(" "+e+" ")>-1&&-1===t.call(a,s[c])&&a.push(s[c]);return a}();return s},sasBackground.d.getElementsByClassName=function(t){return getElementsByClassName(t,sasBackground.d)},Element.prototype.getElementsByClassName=function(t){return getElementsByClassName(t,this)}}}(),function(t,e){"use strict";function i(){if(!c){c=!0;for(var t=0;t<a.length;t++)a[t].fn.call(sasBackground.w,a[t].ctx);a=[]}}function s(){"complete"===sasBackground.d.readyState&&i()}t=t||"docReady",e=e||sasBackground.w;var a=[],c=!1,n=!1;e[t]=function(t,e){return c?void setTimeout(function(){t(e)},1):(a.push({fn:t,ctx:e}),void("complete"===sasBackground.d.readyState||!sasBackground.d.attachEvent&&"interactive"===sasBackground.d.readyState?setTimeout(i,1):n||(sasBackground.d.addEventListener?(sasBackground.d.addEventListener("DOMContentLoaded",i,!1),sasBackground.w.addEventListener("load",i,!1)):(sasBackground.d.attachEvent("onreadystatechange",s),sasBackground.w.attachEvent("onload",i)),n=!0)))}}("docReady",sasBackground)},tracking:function(t){var e=new Image;e.src=t},cleanFix:function(){sas_addCleanListener("sas_"+this.c.formatId,function(){try{sasBackground.relDiv&&sasBackground.relDiv.parentNode.removeChild(sasBackground.relDiv)}catch(t){}})},init:function(){"undefined"!=typeof inDapIF&&inDapIF?(this.d=window.parent.document,this.w=window.parent):"undefined"!=typeof sas_in_iframe_popout&&sas_in_iframe_popout&&(this.d=sas_topmost_iframe().ownerDocument,this.w=top.window),this.addFixes(),this.addCss(),this.relDiv=this.d.createElement("div"),this.relDiv.setAttribute("id","sas-relDiv_"+this.c.insertionId),this.d.body.insertBefore(this.relDiv,this.d.body.firstChild),"undefined"!=typeof sas_ajax&&sas_ajax&&this.cleanFix(),(2==this.c.creative.type&&this.hasFlash()||0==this.c.creative.type||4==this.c.creative.type)&&this.addCreative(),this.c.other.trackingUrl&&this.tracking(this.c.other.trackingUrl),this.c.creative.oryginalClickUrl&&sasBackground.docReady(function(){sasBackground.addClickMap()}),(this.c.close.label||this.c.close.defaultButton)&&this.addCloseButton(),this.c.other.duration&&(this.timer=setTimeout(function(){sasBackground.close()},1e3*this.c.other.duration))}};sasBackground.init();