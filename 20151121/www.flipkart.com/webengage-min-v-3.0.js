var webengage=webengage||{};var _weq=_weq||{};(function(a){var b={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_f:String.fromCharCode,compressToBase64:function(r){if(r==null){return""}var t="";var i,m,o,l,n,p,q;var s=0;r=b.compress(r);while(s<r.length*2){if(s%2==0){i=r.charCodeAt(s/2)>>8;m=r.charCodeAt(s/2)&255;if(s/2+1<r.length){o=r.charCodeAt(s/2+1)>>8}else{o=NaN}}else{i=r.charCodeAt((s-1)/2)&255;if((s+1)/2<r.length){m=r.charCodeAt((s+1)/2)>>8;o=r.charCodeAt((s+1)/2)&255}else{m=o=NaN}}s+=3;l=i>>2;n=((i&3)<<4)|(m>>4);p=((m&15)<<2)|(o>>6);q=o&63;if(isNaN(m)){p=q=64}else{if(isNaN(o)){q=64}}t=t+b._keyStr.charAt(l)+b._keyStr.charAt(n)+b._keyStr.charAt(p)+b._keyStr.charAt(q)}return t},decompressFromBase64:function(u){if(u==null){return""}var z="",w=0,v,f,p,r,i,q,s,t,y=0,x=b._f;u=u.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(y<u.length){i=b._keyStr.indexOf(u.charAt(y++));q=b._keyStr.indexOf(u.charAt(y++));s=b._keyStr.indexOf(u.charAt(y++));t=b._keyStr.indexOf(u.charAt(y++));f=(i<<2)|(q>>4);p=((q&15)<<4)|(s>>2);r=((s&3)<<6)|t;if(w%2==0){v=f<<8;if(s!=64){z+=x(v|p)}if(t!=64){v=r<<8}}else{z=z+x(v|f);if(s!=64){v=p<<8}if(t!=64){z+=x(v|r)}}w+=3}return b.decompress(z)},compress:function(B){if(B==null){return""}var z,w,u={},v={},t="",D="",f="",C=2,A=3,E=2,i="",F=0,y=0,s,x=b._f;for(s=0;s<B.length;s+=1){t=B.charAt(s);if(!Object.prototype.hasOwnProperty.call(u,t)){u[t]=A++;v[t]=true}D=f+t;if(Object.prototype.hasOwnProperty.call(u,D)){f=D}else{if(Object.prototype.hasOwnProperty.call(v,f)){if(f.charCodeAt(0)<256){for(z=0;z<E;z++){F=(F<<1);if(y==15){y=0;i+=x(F);F=0}else{y++}}w=f.charCodeAt(0);for(z=0;z<8;z++){F=(F<<1)|(w&1);if(y==15){y=0;i+=x(F);F=0}else{y++}w=w>>1}}else{w=1;for(z=0;z<E;z++){F=(F<<1)|w;if(y==15){y=0;i+=x(F);F=0}else{y++}w=0}w=f.charCodeAt(0);for(z=0;z<16;z++){F=(F<<1)|(w&1);if(y==15){y=0;i+=x(F);F=0}else{y++}w=w>>1}}C--;if(C==0){C=Math.pow(2,E);E++}delete v[f]}else{w=u[f];for(z=0;z<E;z++){F=(F<<1)|(w&1);if(y==15){y=0;i+=x(F);F=0}else{y++}w=w>>1}}C--;if(C==0){C=Math.pow(2,E);E++}u[D]=A++;f=String(t)}}if(f!==""){if(Object.prototype.hasOwnProperty.call(v,f)){if(f.charCodeAt(0)<256){for(z=0;z<E;z++){F=(F<<1);if(y==15){y=0;i+=x(F);F=0}else{y++}}w=f.charCodeAt(0);for(z=0;z<8;z++){F=(F<<1)|(w&1);if(y==15){y=0;i+=x(F);F=0}else{y++}w=w>>1}}else{w=1;for(z=0;z<E;z++){F=(F<<1)|w;if(y==15){y=0;i+=x(F);F=0}else{y++}w=0}w=f.charCodeAt(0);for(z=0;z<16;z++){F=(F<<1)|(w&1);if(y==15){y=0;i+=x(F);F=0}else{y++}w=w>>1}}C--;if(C==0){C=Math.pow(2,E);E++}delete v[f]}else{w=u[f];for(z=0;z<E;z++){F=(F<<1)|(w&1);if(y==15){y=0;i+=x(F);F=0}else{y++}w=w>>1}}C--;if(C==0){C=Math.pow(2,E);E++}}w=2;for(z=0;z<E;z++){F=(F<<1)|(w&1);if(y==15){y=0;i+=x(F);F=0}else{y++}w=w>>1}while(true){F=(F<<1);if(y==15){i+=x(F);break}else{y++}}return i},decompress:function(y){if(y==null){return""}if(y==""){return null}var u=[],z,D=4,x=4,A=3,f="",G="",B,i,c,H,F,E,v,w=b._f,C={string:y,val:y.charCodeAt(0),position:32768,index:1};for(B=0;B<3;B+=1){u[B]=B}c=0;F=Math.pow(2,2);E=1;while(E!=F){H=C.val&C.position;C.position>>=1;if(C.position==0){C.position=32768;C.val=C.string.charCodeAt(C.index++)}c|=(H>0?1:0)*E;E<<=1}switch(z=c){case 0:c=0;F=Math.pow(2,8);E=1;while(E!=F){H=C.val&C.position;C.position>>=1;if(C.position==0){C.position=32768;C.val=C.string.charCodeAt(C.index++)}c|=(H>0?1:0)*E;E<<=1}v=w(c);break;case 1:c=0;F=Math.pow(2,16);E=1;while(E!=F){H=C.val&C.position;C.position>>=1;if(C.position==0){C.position=32768;C.val=C.string.charCodeAt(C.index++)}c|=(H>0?1:0)*E;E<<=1}v=w(c);break;case 2:return""}u[3]=v;i=G=v;while(true){if(C.index>C.string.length){return""}c=0;F=Math.pow(2,A);E=1;while(E!=F){H=C.val&C.position;C.position>>=1;if(C.position==0){C.position=32768;C.val=C.string.charCodeAt(C.index++)}c|=(H>0?1:0)*E;E<<=1}switch(v=c){case 0:c=0;F=Math.pow(2,8);E=1;while(E!=F){H=C.val&C.position;C.position>>=1;if(C.position==0){C.position=32768;C.val=C.string.charCodeAt(C.index++)}c|=(H>0?1:0)*E;E<<=1}u[x++]=w(c);v=x-1;D--;break;case 1:c=0;F=Math.pow(2,16);E=1;while(E!=F){H=C.val&C.position;C.position>>=1;if(C.position==0){C.position=32768;C.val=C.string.charCodeAt(C.index++)}c|=(H>0?1:0)*E;E<<=1}u[x++]=w(c);v=x-1;D--;break;case 2:return G}if(D==0){D=Math.pow(2,A);A++}if(u[v]){f=u[v]}else{if(v===x){f=i+i.charAt(0)}else{return null}}G+=f;u[x++]=i+f.charAt(0);D--;i=f;if(D==0){D=Math.pow(2,A);A++}}}};a.LZString=b})(webengage);webengage.eLog=function(f,h,d,b,j,c){if(f instanceof Error){d=f.stack||f.description;d=(d.length>900?d.substring(0,900):d);b=f.message||d.substring(0,50);h="exception"}if(h){if(c&&j){var a="{'version':'"+webengage.getWidgetVersion()+"','text':'"+d+"', 'et':'"+j+"', 'eid':'"+c+"'}"}else{var a="{'version':'"+webengage.getWidgetVersion()+"','text':'"+d+"'}"}var g=(h==="error"?"//c.webengage.com/e.jpg":"//c.webengage.com/e.jpg");if(webengage.winUnloading&&h==="error"){return}var i=new Image();i.src=g+"?event="+encodeURIComponent(b)+"&category="+_weq["webengage.licenseCode"]+"&type="+h+"&data="+encodeURIComponent(a)+"&ts="+(new Date()).getTime()}};webengage.withELog=function(c,a,b){if(typeof c==="function"){try{if(!(a instanceof Array)){a=[]}return c.apply(undefined,a)}catch(d){webengage.eLog(d);if(!b){throw d}}}else{throw new Error("WithELog : first argument not a function")}};webengage.setTimeout=function(a,b){return setTimeout(function(){webengage.withELog(a)},b)};webengage.setInterval=function(b,a){return setInterval(function(){webengage.withELog(b)},a)};webengage.setTimeout(function(){(function(d,a,f,c,e){var b=function(){var j=null,k=function(J,I,G){var H=(typeof(G)==="boolean"?G:true);for(var F in I){if(J[F]===e||H){J[F]=I[F]}}return J},w={},C=[],s=false;var B={};k(c,{events:(function(){var F={we_wk_pageDelay:function(){var G=Array.prototype.slice.call(arguments);for(var H=0;H<G.length;H++){(function(I){if(I){setTimeout(function(){c.events.publish("we_wk_pageDelay",{value:I+1})},I)}})(G[H])}},we_wk_totalTimeOnSite:function(){var G=Array.prototype.slice.call(arguments);for(var H=0;H<G.length;H++){(function(I){if(I){var J=I-(new Date().getTime()-c.util.getSessionCookie().sst);setTimeout(function(){c.events.publish("we_wk_totalTimeOnSite",{value:I+1})},J>0?J:0)}})(G[H])}},click:function(I,K,J){var H=a.getElementsByClassName(I);var G=function(){c.events.publish("click",{"class":I});if(typeof K==="function"){K()}if(!J){c.events.unbind(H.length?H[0]:H,"click",G)}};if(H){c.events.bind(H.length?H[0]:H,"click",G)}},we_wk_leaveIntent:function(M){if(d){var K=d;var J=a;var I=a.getElementsByTagName("body")[0];var L={x:0,y:0};var G=function(O){O=O?O:K.event;var P=O.relatedTarget||O.toElement;var N;if(!K.innerHeight){N=Math.min(J.documentElement.clientHeight,I.clientHeight)/5}else{N=K.innerHeight/5}if((!P||P.nodeName=="HTML")&&O.clientY<=0&&(L.y<=0||L.y<N)){c.events.unbind(I,"mouseleave",G);c.events.unbind(I,"mousemove",H);c.events.publish("we_wk_leaveIntent",true);if(typeof M==="function"){M()}}};var H=function(N){L.x=N.clientX;L.y=N.clientY};c.events.bind(I,"mouseleave",G);c.events.bind(I,"mouseleave",H)}},we_wk_scrollPercentage:function(){var I=Math.min.apply(null,arguments);var N=Math.max.apply(null,arguments);var L=a.getElementsByTagName("body")[0];function M(){return d.innerHeight||a.documentElement.clientHeight||a.body.clientHeight||0}function K(){return d.pageYOffset||a.body.scrollTop||a.documentElement.scrollTop||0}function G(){return Math.max(a.body.scrollHeight||0,a.documentElement.scrollHeight||0,a.body.offsetHeight||0,a.documentElement.offsetHeight||0,a.body.clientHeight||0,a.documentElement.clientHeight||0)}function H(){return((K()+M())/G())*100}function J(P){var O=H();if(O>=I){setTimeout(function(){c.events.publish("we_wk_scrollPercentage",{value:O})},0);if(O>=N){c.events.unbind(d,"scroll",J)}}}c.events.bind(d,"scroll",J)}};return{bind:function(G,H,I){if(G.addEventListener){G.addEventListener(H,I)}else{if(G.attachEvent){G.attachEvent("on"+H,I)}}},unbind:function(G,H,I){if(G.removeEventListener){G.removeEventListener(H,I)}else{if(G.detachEvent){G.detachEvent("on"+H,I)}}},publish:function(H,I){if(this.cache[H]){for(var G=0;G<this.cache[H].length;G++){this.cache[H][G].apply(null,[H,I])}}},subscribe:function(G,H){if(!this.cache){this.cache={}}if(!this.cache[G]){this.cache[G]=[]}this.cache[G].push(H);return[G,H]},unsubscribe:function(I){var H=I[0];if(this.cache[H]){for(var G=0;G<this.cache[H].length;G++){if(this.cache[H][G]===I[1]){this.cache[H].splice(G,1)}}}},register:function(){var H=Array.prototype.slice.call(arguments),G=H.shift();if(F[G]){F[G].apply(null,H)}},subscriber:function(G,H){B[G]=typeof H==="undefined"?{}:H;c.events.publish("storeChange")}}})()},true);c.track=function(F,G){c.events.subscribe(F,c.events.subscriber);c.events.publish(F,G);c.dump(F,G)};k(c,{util:{copy:function(H,G,F){return k(H,G,F)},loadScript:function(I,J,F,K){var H=a.createElement("script");H.type="text/javascript";H.charset="UTF-8";H.async=true;H.src=I;H.callBack=J;H.callBackArgs=F||[];H.errorCallBack=K;this.appendChild(H);if(c.BrowserDetect.ie()&&c.BrowserDetect.version()<11&&H.readyState){if(typeof J==="function"){var G=function(){if(H.readyState=="loaded"||H.readyState=="complete"){c.withELog(J,F)}};H.defer=true;H.onreadystatechange=G}}else{c.util.addListener(H,"load",function(L){c.withELog(J,F)});c.util.addListener(H,"error",function(L){if(c.getWidgetVersion()!=="3.0"){c.eLog(null,"error","could not load - "+I,"script loading error")}if(typeof K==="function"){c.withELog(K,[L])}})}},createObj:function(G){var H=c,F=G?G.split("."):[];for(var I=0;I<F.length;I++){var K=F[I],J=H[K];if(!J){J={};H[K]=J}H=J}return H},extend:function(F,G){return c.util.copy((typeof F=="string"?c.util.createObj(F):F),G)},isJqueryPresent:function(){return(d.jQuery!==e&&parseFloat("."+d.jQuery().jquery.replace(/\./g,""))>=0.13)},applyCss:function(H,G){try{for(var F in G){if(typeof G[F]=="function"){H.style[F]=G[F]()}else{H.style[F]=G[F]}}}catch(I){}return H},isArray:function(F){return(F&&F.constructor==Array)},inArray:function(F,H){for(var G=0;G<F.length;G++){if(F[G]==H){return true}}return false},indexOfArray:function(L,H,I){if(L.indexOf){return L.indexOf(H,I)}var G;if(L==null){throw new TypeError('"array" is null or not defined')}var J=Object(L);var F=J.length>>>0;if(F===0){return -1}var K=+I||0;if(Math.abs(K)===Infinity){K=0}if(K>=F){return -1}G=Math.max(K>=0?K:F-Math.abs(K),0);while(G<F){if(G in J&&J[G]===H){return G}G++}return -1},toDateISOString:function(F){if(F.toISOString){return F.toISOString()}function G(H){if(H<10){return"0"+H}return H}return F.getUTCFullYear()+"-"+G(F.getUTCMonth()+1)+"-"+G(F.getUTCDate())+"T"+G(F.getUTCHours())+":"+G(F.getUTCMinutes())+":"+G(F.getUTCSeconds())+"."+(F.getUTCMilliseconds()/1000).toFixed(3).slice(2,5)+"Z"},getMaxZIndex:function(){if(this.maxZIndex===e){this.maxZIndex=16776271}return this.maxZIndex++},alignCenter:function(I,H,G){var F=(G=="left")?"right":"left";I.style.top=((parseInt(c.util.getElementHeight(H),10)-parseInt(c.util.getElementHeight(I),10))/2-(/Firefox/i.test(navigator.userAgent)?7:0))+"px";I.style[F]=(parseInt(c.util.getElementWidth(H),10)-parseInt(c.util.getElementWidth(I),10))/2+10+"px"},getElementWidth:function(F){if(F.clip!==e){return F.clip.width}else{if(F.style.pixelWidth){return F.style.pixelWidth}else{return F.offsetWidth}}},getElementHeight:function(F){if(F.clip!==e){return F.clip.height}else{if(F.style.pixelHeight){return F.style.pixelHeight}else{return F.offsetHeight}}},isSupportsLocalStorage:function(H){try{var F=(typeof(Storage)!=="undefined"&&"localStorage" in d&&d.localStorage!==null);if(!H&&F){d.localStorage["_we_dm_ios_sup_f_"]="true";d.localStorage.removeItem("_we_dm_ios_sup_f_")}return F}catch(G){return false}},getWindowHeight:function(){return"innerHeight" in d?d.innerHeight:a.documentElement.offsetHeight},getWindowWidth:function(){return"innerWidth" in d?d.innerWidth:a.documentElement.offsetWidth},getDocumentHeight:function(){var F=a.body,G=a.documentElement;return Math.max(F.scrollHeight,F.offsetHeight,G.clientHeight,G.scrollHeight,G.offsetHeight)},getDocumentWidth:function(){var F=a.body,G=a.documentElement;return Math.max(F.scrollWidth,F.offsetWidth,G.clientWidth,G.scrollWidth,G.offsetWidth)},getInitParamValue:function(F,J,G,I){var H=G!==e?G:null;if(F&&F[J]){var K=F[J];if(I){if(c.util.inArray(I,K)){H=K}}else{H=K}}return H},getInitParamValueAsArray:function(F,L,I,K){var J=c.util.getInitParamValue(F,L,I);if(J&&typeof(J)!="object"){J=J.split(/\s*,\s*/)}if(K&&typeof(K)=="object"){var G=[];for(var H=0;H<J.length;H++){if(c.util.inArray(K,J[H])){G[G.length]=J[H]}}J=G}return J},setCookie:function(G,M,H,O,J,F,I){if(c.util.isSupportsLocalStorage()&&!I){try{d.localStorage[G]=M;c.frameSync.set(G,M);return"ls"}catch(K){d.localStorage.removeItem(G);return c.util.setCookie(G,M,H,O,J,F,true)}}else{if(c.util.isSupportsLocalStorage(true)&&!I){d.localStorage.removeItem(G)}var L=new Date();L.setTime(L.getTime());if(H){H=H*1000*60*60*24}var N=new Date(L.getTime()+(H));a.cookie=G+"="+encodeURIComponent(M)+((H)?";expires="+N.toGMTString():"")+((O)?";path="+O:"")+((J)?";domain="+J:"")+((F)?";secure":"");return"ck"}},getCookie:function(G,I){if(c.util.isSupportsLocalStorage(true)&&!I){return(d.localStorage[G]?d.localStorage[G]:c.util.getCookie(G,true))}else{var M=a.cookie.split(";");var H="";var K="";var L="";var J=false;for(var F=0;F<M.length;F++){H=M[F].split("=");K=H[0].replace(/^\s+|\s+$/g,"");if(K==G){J=true;if(H.length>1){L=decodeURIComponent(H[1].replace(/^\s+|\s+$/g,""))}return L===null?"":L}H=null;K=""}if(!J){return null}}},addListener:function(F,G,H){if(F.addEventListener){F.addEventListener(G,H,false)}else{if(F.attachEvent){F.attachEvent("on"+G,H)}}},removeListener:function(F,G,H){if(F.removeEventListener){F.removeEventListener(G,H)}else{if(F.detachEvent){F.detachEvent("on"+G,H)}}},bindEvent:function(F,G){c.util.addListener(d,F,G)},unbindEvent:function(F,G){c.util.removeListener(d,F,G)},getCurrentTime:function(G){var J=new Date();var H=J.getTime();if(G!==e){var I=J.getTimezoneOffset()*60000;var F=H+I;H=F+(1000*G)}return H},getCurrentWeekDay:function(G){var F=t.getCurrentTime();var H=new Date(F);return H.getDay()},setWebengageCookie:function(G){var J=(function(){var K=function(){return(((1+Math.random())*65536)|0).toString(16).substring(1)};return((new Date().getTime())+K()+K()+K()+K())})();var I=G||{};var H={time:(new Date()).getTime(),luid:J};I=this.copy(I,H,false);I.lmts=(new Date()).getTime();var F=this.stringify(I);this.setWebengageCookieCache(I);this.setCookie("_we_wk_ls_",c.LZString.compressToBase64(F),99999,"/","","");if(this.firstTimeUser===e){this.firstTimeUser=true}return I},setWebengageCookieCache:function(F){if(F){if(typeof F==="string"){if(F.charAt(0)!=="{"){F=c.LZString.decompressFromBase64(F)}F=c.util.parseJSON(F)}}else{F=this.getWebengageCookieHelper()}w._we_wk_ls_=F},getWebengageCookieHelper:function(H){var F={};var G=this.getCookie("_we_wk_ls_")||this.getCookie("_we_wk_ls_",true);if(G){if(G.charAt(0)!=="{"){G=c.LZString.decompressFromBase64(G)}if(this.isSupportsLocalStorage()&&this.getCookie("_we_wk_ls_",true)){this.setCookie("_we_wk_ls_",G,-1,"/","","",true);this.setCookie("_we_wk_ls_",G,99999,"/","","")}F=new Function("return "+G)()||null}else{if(!H){F=this.setWebengageCookie()}}return F},getWebengageCookie:function(G){if(G){var F=this.getWebengageCookieHelper(G);if(F&&F.lmts&&w._we_wk_ls_&&w._we_wk_ls_["lmts"]){if(F.lmts>w._we_wk_ls_["lmts"]){w._we_wk_ls_=F;this.setWebengageCookie(w._we_wk_ls_)}}}if(w._we_wk_ls_){return w._we_wk_ls_}else{return this.getWebengageCookieHelper()}},setSessionCookie:function(I,J){var G={referrer:a.referrer,isFirstTime:this.isFirstTimeUser(),sst:(new Date()).getTime(),pvc:0,suid:(new Date().getTime()),landingPage:d.location.href};var H=I||{};H=this.copy(H,G,false);if(!this.isSupportsLocalStorage()&&H.landingPage){delete H.landingPage}H.lmts=(new Date()).getTime();H.chckURL=d.location.href.substring(0,100);var K=this.stringify(H);this.setSessionCookieCache(H);var F=this.setCookie("_we_wk_ss_",c.LZString.compressToBase64(K),"","/","","");if(this.isSupportsLocalStorage()){if(F==="ls"){this.setCookie("_we_wk_ss_lsf_",true,"","/","","",true)}else{this.setCookie("_we_wk_ss_lsf_",false,"","/","","",true)}}if(typeof J==="boolean"&&true){this.updateTSC()}return H},setSessionCookieCache:function(F){if(F){if(typeof F==="string"){if(F.charAt(0)!=="{"){F=c.LZString.decompressFromBase64(F)}F=c.util.parseJSON(F)}}else{F=this.getSessionCookieHelper()}w._we_wk_ss_=F},getSessionCookieHelper:function(J){var G={};var K=this.getCookie("_we_wk_ss_")||this.getCookie("_we_wk_ss_",true);if(K){try{if(K.charAt(0)!=="{"){K=c.LZString.decompressFromBase64(K)}if(this.isSupportsLocalStorage()){var I=this.getCookie("_we_wk_ss_lsf_",true);if(!I||I==="false"){var F=this.getCookie("_we_wk_ss_",true);if(F){this.setCookie("_we_wk_ss_",K,-1,"/","","",true);this.setSessionCookie(F)}else{throw new Error()}}}G=(new Function("return "+K)())||null}catch(H){G=this.setSessionCookie(null,true)}}else{if(!J){G=this.setSessionCookie(null,true)}}return G},getSessionCookie:function(G){if(G){var F=this.getSessionCookieHelper(G);if(F&&F.lmts&&w._we_wk_ss_&&w._we_wk_ss_["lmts"]){if(F.lmts>w._we_wk_ss_["lmts"]){w._we_wk_ss_=F;this.setSessionCookie(w._we_wk_ss_)}}}if(w._we_wk_ss_){return w._we_wk_ss_}else{return this.getSessionCookieHelper()}},updateSessionCookie:function(G){var F=this.getSessionCookie();if(F){this.copy(F,(G||{}));this.setSessionCookie(F)}else{F=this.setSessionCookie(null,true)}return F},updateTSC:function(){var F=this.getWebengageCookie();F.sc=F.sc||0;F.sc++;return this.setWebengageCookie(F)},updateTPVC:function(){var F=this.getWebengageCookie();F.tpvc=F.tpvc||0;F.tpvc++;return this.setWebengageCookie(F)},setLST:function(){var F=this.getWebengageCookie();F.lst=(new Date()).getTime();return this.setWebengageCookie(F)},setGZIPFlag:function(G){var F=this.getWebengageCookie();F.isGzip=G||false;return this.setWebengageCookie(F)},setVTD:function(){var F=this.getSessionCookie();F.vtd=1;return this.updateSessionCookie(F)},updateSessionCookieGeoData:function(){var F={country:c.GEO.country(),region:c.GEO.region(),city:c.GEO.city(),ip:c.GEO.ip(),tsD:(c.GEO.serverTimeStamp()&&!isNaN(c.GEO.serverTimeStamp())?((new Date()).getTime()-parseInt(c.GEO.serverTimeStamp(),10)):0)};return this.updateSessionCookie(F)},getClientPageUrl:function(){return d.location.href},getClientPageHost:function(){return d.location.host},escapeScopeChars:function(F){return(F+"").replace(/([,#[\]\\])/g,"$1")},escapeForRegExp:function(F){return(F+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},isFirstTimeUser:function(){return(this.firstTimeUser!==e)?this.firstTimeUser:false},escapeNewLine:function(F){return F.replace(/[\\]/g,"\\\\").replace(/[\"]/g,'\\"').replace(/[\/]/g,"\\/").replace(/[\b]/g,"\\b").replace(/[\f]/g,"\\f").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\t]/g,"\\t")},stringify:function(K){if(typeof JSON!=="undefined"&&typeof JSON.stringify==="function"){return JSON.stringify(K)}else{var I=typeof(K);if(I!=="undefined"){if(I!="object"||K===null){if(I=="string"){K='"'+this.escapeNewLine(K)+'"'}return String(K)}else{var H=[],F=(K&&K.constructor==Array),J=(K&&K instanceof Date);if(F){for(var G=0;G<K.length;G++){var L=this.stringify(K[G]);if(typeof L!=="undefined"){H.push(L)}}}else{if(J){return J.toString()}else{for(var M in K){var L=this.stringify(K[M]);if(typeof L!=="undefined"){H.push('"'+M+'":'+L)}}}}return(F?"[":"{")+String(H)+(F?"]":"}")}}}},trimStr:function(F){if(typeof F.trim==="function"){return F.trim()}else{if(typeof F==="string"){return F.replace(/^\s+|\s+$/g,"")}}return F},clientDataString:function(L){var I=function(O){var M=O;if(typeof O==="function"){try{M=O()}catch(N){M=null}}return M};if(typeof L==="object"){for(var H in L){var J=L[H];if(J===e||(typeof J!=="boolean"&&J!==0&&!J)){delete L[H];continue}if(!(J instanceof Array)){L[H]=new Array();var K=I(J);if(K===e||(typeof K!=="boolean"&&K!==0&&!K)){delete L[H]}else{L[H].push(K)}}else{var F=[];for(var G=0;G<J.length;G++){J[G]=I(J[G]);if(!(J[G]===e||(typeof J[G]!=="boolean"&&J[G]!==0&&!J[G]))){F.push(J[G])}}if(F.length>0){L[H]=F}else{delete L[H]}}}}return c.util.stringify(L)},isColorTooLight:function(G){G=G.indexOf("#")===0?G.substr(1,G.length):G;var I=parseInt(G.substr(0,2),16);var H=parseInt(G.substr(2,2),16);var F=parseInt(G.substr(4,2),16);var J=((I*299)+(H*299)+(F*299))/1000;return J>=128},isEmptyObject:function(F){for(var G in F){if(F.hasOwnProperty(G)){return false}}return true},parseJSON:function(F){return new Function("return "+F+";")()},bind:function(K,I){var L=this;var J=L.callbacks||{};if(K!==e&&typeof(I)==="function"){var M=I;I=function(){return M.apply(this,arguments)};I.cbid=(M.cbid=L.cbid++);K=(K||"").match(/\S+/g)||[""];var H=K.length;while(H--){var G=K[H];var F=J[G]||{};F[I.cbid]=I;J[G]=F}L.callbacks=J}return L},unbind:function(F,G){var H=this;if(F!==e){if(typeof(H.callbacks)==="object"&&typeof(H.callbacks[F])==="object"){if(typeof(G)==="function"&&G.cbid){delete H.callbacks[F][G.cbid]}else{delete H.callbacks[F]}}}return H},executeCallbacks:function(){var I=this;if(typeof I.enableCallbacks==="boolean"&&I.enableCallbacks){var F=arguments[0];if(F!==e&&typeof I.callbacks==="object"&&typeof I.callbacks[F]==="object"){for(var G in I.callbacks[F]){if(typeof I.callbacks[F][G]==="function"){var H=I.callbacks[F][G].apply(this,Array.prototype.slice.call(arguments,1));if(typeof H==="boolean"&&!H){return false}}}}}},markSurveyAsClosed:function(H,G){if(H){try{var F=c.util.getSessionCookie();if(F.closedSurveys===e||!F.closedSurveys){F.closedSurveys=""}if(F.closedSurveys.indexOf("##"+H)<0){F.closedSurveys+="##"+H}c.util.updateSessionCookie(F);if(G&&typeof G.dump==="function"){G.dump("close")}}catch(I){}}},markSurveyAsTaken:function(I,H,G){if(I){try{var K=true;var F=c.util.getWebengageCookie();if(F.takenSurveys===e||!F.takenSurveys){F.takenSurveys=""}if(F.takenSurveys.indexOf("##"+I)<0){F.takenSurveys+="##"+I;K=false}c.util.setWebengageCookie(F);if(H&&typeof H.dump==="function"&&G&&typeof G==="boolean"&&G){H.event=H.event||"submit";if(H.event==="submit"&&!K){H.dump(H.event)}else{if(H.event==="complete"){H.dump(H.event)}}}}catch(J){}}},markEntityAsShown:function(L,H,M,P){if(L&&H){var F=1,I=1;try{var J=c.util.getWebengageCookie(),Q=c.util.getSessionCookie(),O=(("notification"===H)?(P&&P===true?"anids":"seenNIds"):(("survey"===H)?(P&&P===true?"asids":"seenSIds"):null));var G=(("notification"===H)?(P&&P===true?"anids":"snids"):(("survey"===H)?(P&&P===true?"asids":"ssids"):null));if(O&&G){J[O]=J[O]&&J[O]!==e?J[O]:"";if(J[O].indexOf("##"+L)<0){J[O]+="##"+L+"="+F}else{var N=new RegExp("##"+c.util.escapeForRegExp(L)+"=(\\d+)","g");J[O]=J[O].replace(N,function(R,S){F=(+S+1);return"##"+L+"="+F})}Q[G]=Q[G]&&Q[G]!==e?Q[G]:"";if(Q[G].indexOf("##"+L)<0){Q[G]+="##"+L+"="+I}else{var N=new RegExp("##"+c.util.escapeForRegExp(L)+"=(\\d+)","g");Q[G]=Q[G].replace(N,function(R,S){I=(+S+1);return"##"+L+"="+I})}c.util.updateSessionCookie(Q);c.util.setWebengageCookie(J)}}catch(K){}}},markNotificationAsClicked:function(I,J,G){if(I){try{var F=c.util.getWebengageCookie();F.takenNIds=F.takenNIds&&F.takenNIds!==e?F.takenNIds:"";if(F.takenNIds.indexOf("##"+I)<0){F.takenNIds+="##"+I}c.util.setWebengageCookie(F);if(G&&typeof G.dump==="function"){G.dump("click")}}catch(H){}}},markNotificationAsClosed:function(I,G){if(I){try{var F=c.util.getSessionCookie();if(F.closedNIds===e||!F.closedNIds){F.closedNIds=""}if(F.closedNIds.indexOf("##"+I)<0){F.closedNIds+="##"+I}c.util.updateSessionCookie(F);if(G&&typeof G.dump==="function"){G.dump("close")}}catch(H){}}},setMinimizedState:function(F,H,J){var I=(F==="notification"?"minNIds":"minSIds");if(H){try{var G=c.util.getSessionCookie();if(G[I]===e||!G[I]){G[I]=""}if(J){if(G[I].indexOf("##"+H)<0){G[I]+="##"+H}}else{G[I]=G[I].replace("##"+H,"")}c.util.updateSessionCookie(G)}catch(K){}}},getMinimizedState:function(F,H){var I=(F==="notification"?"minNIds":"minSIds");var J=false;if(H){try{var G=c.util.getSessionCookie();if(G[I]!==e){if(0<=G[I].indexOf("##"+H)){J=true}}}catch(K){}}return J},getVersion:function(){return p.widgetVersion},usckwl:function(H){var G=c.util.getSessionCookie();G.pvc=(G.pvc?G.pvc+1:1);if(H&&a.referrer&&(!G.referrer||G.referrer!==a.referrer)){var F=a.referrer.match(/:\/\/(.[^\/]+)/)[1];if(!F.match(new RegExp(c.util.escapeForRegExp(H)+"$","gi"))){G.referrer=a.referrer}}c.util.updateSessionCookie(G)},getHashCode:function(K){var I=0,H,G,J=K||"",F;if(J.length==0){return I}for(H=0,F=J.length;H<F;H++){G=J.charCodeAt(H);I=((I<<5)-I)+G;I|=0}return I},getTotalTimesShown:function(L,H,G,O){var F=0;if(L&&H){var N=null,J=null;if(G){N=t.getSessionCookie();J=(("notification"===H)?(O&&O===true?"anids":"snids"):(("survey"===H)?(O&&O===true?"asids":"ssids"):null))}else{N=t.getWebengageCookie();J=(("notification"===H)?(O&&O===true?"anids":"seenNIds"):(("survey"===H)?(O&&O===true?"asids":"seenSIds"):null))}if(N&&J&&N[J]){try{var M=new RegExp("##"+L+"=(\\d+)");var I=N[J].match(M);if(I instanceof Array&&I.length>1){F=parseInt(I[1],10)}}catch(K){}}}return F},attachEventListners:function(K,F){var I=(K==="survey"?c.survey.callbacks:(K==="feedback"?c.feedback.callbacks:c.notification.callbacks));if(typeof I!==e&&I){for(var H in I){var J=I[H];if(typeof callbacks!=e&&J){for(var G in J){this.bind.apply(F,[H,J[G]])}}}}},hasSVG:function(){return !!a.createElementNS&&!!a.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect},onDocReady:function(F){if(typeof F==="function"){if(a.body){c.withELog(function(){F()});return}if(a.addEventListener){a.addEventListener("DOMContentLoaded",function(){c.withELog(function(){a.removeEventListener("DOMContentLoaded",arguments.callee,false);F()})},false)}else{if(a.attachEvent){a.attachEvent("onreadystatechange",function(){c.withELog(function(){if(a.readyState==="complete"){a.detachEvent("onreadystatechange",arguments.callee);F()}})});if(a.documentElement.doScroll&&d==d.top){(function(){c.withELog(function(){try{a.documentElement.doScroll("left")}catch(G){setTimeout(arguments.callee,0);return}F()})})()}}}}},abortAllInstances:function(F){c.withELog(function(){if(F.length>0){for(var G=0;G<F.length;G++){if(typeof F[G].abort==="function"){F[G].abort()}}}})},abortInstance:function(F){c.withELog(function(){if(F){if(typeof F.close==="function"){F.close()}else{F.onLoad(function(){this.close()})}}})},uwats:function(){if(!f["webengage.isDemoMode"]){if(!webengage_fs_configurationMap.lastWidgetCheckDate||Math.floor((Math.random()*100)+1)<=10){var F=1000*60*60*24;var H=new Date().getTime()-(7*F);if(webengage_fs_configurationMap.lastWidgetCheckDate){var G=new Date(webengage_fs_configurationMap.lastWidgetCheckDate);if(G<H){c.eLog(null,"info",G.getTime(),"widget-verified")}}else{c.eLog(null,"info","no-check-date","widget-verified")}}}},isSmallScreen:function(){var F=480,G=d.screen.availWidth;return(G<=F?true:false)},webklitWorkAround:function(F){var G=a.body.scrollTop||0;if(a.location.toString().match(/#(top)?$/)){F.body.scrollTop=0;a.body.scrollTop=G}},getWeDataContainer:function(){return p.weDataContainer},withWeJquery:function(F){c.jQSt=c.jQSt||0;switch(c.jQSt){case 1:setTimeout(function(){c.util.withWeJquery(F)},100);break;case 2:if(typeof F==="function"){F()}break;default:c.jQSt=1;c.util.loadScript.apply(p.widgetContainer,[p.weJquery,function(){$weJQuery=jQuery.noConflict(true);c.jQSt=2;if(typeof F==="function"){F()}}]);break}},tsTracking:function(G,H){if(G){var F=new Image();F.src="//"+p.tstbu+G+(H?"?"+H:"")}},isElementExists:function(G){var F=(G);if(F&&G.nodeType&&G.nodeType===1){F=(G.style&&((G.style.display&&G.style.display==="none")||(G.style.visibility&&G.style.visibility==="hidden")))?false:true}return F},onReady:function(F){if(typeof F==="function"){if(s){F()}else{C[C.length]=F}}},getServerTimeStamp:function(){var F=t.getSessionCookie();return((new Date()).getTime()+(F&&F.tsD&&!isNaN(F.tsD)?parseInt(F.tsD,10):0))},transitConvert:function(H){var G=[];function F(L){if(L===null){return null}else{if(Object.prototype.toString.call(L)==="[object String]"){if(L.charAt(0)=="~"){return"~"+L}else{return L}}else{if(Object.prototype.toString.call(L)==="[object Date]"){return"~t"+t.toDateISOString(L)}else{if(Object.prototype.toString.call(L)==="[object Array]"){var J=L.length;for(var I=0;I<J;I++){L[I]=F(L[I])}return L}else{if(Object.prototype.toString.call(L)==="[object Object]"){if(t.indexOfArray(G,L)==-1){G.push(L);for(var K in L){if(L.hasOwnProperty(K)){L[K]=F(L[K])}}return L}else{throw new Error("There is some circular references while converting data into transit format")}}else{return L}}}}}}return F(H)},withCookies:function(I,K){var F=function(L,M){if(c.frameSync.status){c.frameSync.get(L,M)}else{M()}};var H=this;var G=I[0];I.splice(0,1);var J=I.length===0?K:function(){H.withCookies(I,K)};F(G,J)}}},true);k(c,{frameSync:{storeFrameName:"wkStorageFrame",storeCBFrameName:"wkCBStorageFrame",storeFrame:null,storeCBFrame:null,callbacks:{},status:null,onMessageRecieve:function(J){J=c.util.parseJSON(J);var K=J.msg;var F=J.name;var I=J.value;switch(K){case"init":if(this.status===null){this.status=(J.value&&J.value.status)==="success";if(!this.status){this.message="Storage frame sent failed status";if(I&&typeof I.unloading!=="undefined"){this.message+=" [un-"+I.unloading+"]"}if(I&&typeof I.localStorage!=="undefined"){this.message+=" [ls-"+I.localStorage+"]"}if(I&&typeof I.v4Load!=="undefined"){this.message+=" [v4-"+I.v4Load+"]"}if(J.value.timing){var H=J.value.timing;this.data="[we.co] load "+((H[1]-H[0])/1000)+"s\n[v4] load "+((H[2]-H[1])/1000)+"s"}}if(this.status){if(J.value.webengage_fs_configurationMap){d.webengage_fs_configurationMap=J.value.webengage_fs_configurationMap;d._weq.isGzip=J.value.isGzip}}break}default:if(this.status){switch(F){case"_we_wk_ls_":c.util.setWebengageCookieCache(I);break;case"_we_wk_ss_":c.util.setSessionCookieCache(I);break}}break}if(this.status!==null){if(this.callbacks[F]){for(var G in this.callbacks[F]){if(typeof this.callbacks[F][G]==="function"){this.callbacks[F][G](J.value,F)}}this.callbacks[F]=null}}},init:function(N){var I=c.BrowserDetect.browser(),L=c.BrowserDetect.version(),H=c.BrowserDetect.os(),F=c.BrowserDetect.device(),O="[we.co] Storage frame loading timed out",M=false;if(!(I==="Firefox"&&F==="Desktop")){this.status=false;return N()}var K=this;if(!this.storeFrame){this.storeFrame=c.IFRAMES.create(this.storeFrameName,a.body);this.storeCBFrame=c.IFRAMES.create(this.storeCBFrameName,a.body);this.storeCBFrame.style.display="none";c.setTimeout(function(){var P=null;if(K.storeCBFrame.contentDocument){P=K.storeCBFrame.contentDocument}else{if(K.storeCBFrame.contentWindow){P=K.storeCBFrame.contentWindow.document}else{if(K.storeCBFrame.document){P=K.storeCBFrame.document}}}P.open();P.write('<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html><head><meta http-equiv="cache-control" content="max-age=0" /><meta http-equiv="cache-control" content="no-cache" /><meta http-equiv="pragma" content="no-cache" /><meta http-equiv="content-type" content="text/html; charset=utf-8"><script type="text/javascript">try{window.parent.window.name}catch(e){document.domain="'+a.domain+'";}; setTimeout(function(){if (window.attachEvent) {window.attachEvent( "onmessage", function (e) { window.parent.window.webengage.frameSync.onMessageRecieve(e.data);},false);} else {window.addEventListener( "message", function (e) { window.parent.window.webengage.frameSync.onMessageRecieve(e.data);},false);}},10);<\/script></head><body></body></html>');P.close()},10)}var J=function(Q){var P=function(){if(K.status!==null){clearTimeout(Q)}if(!K.message){K.message=O}K.message+=" M"+Math.round(((new Date()).getTime()-K.sfts)/5000);if(typeof N==="function"){N()}};if(K.status!==null){if(!M){M=true;P(Q)}}else{K.addCallback("init",P)}};var G=setTimeout(function(){K.status=false;J(null)},40000);this.storeFrame.onload=function(P){O="[v4] Storage frame loading timed out";J(G)};this.sfts=(new Date()).getTime();this.storeFrame.src="https://"+(f["webengage.licenseCode"]||"").replace(/~/g,"z")+".webengage.co/storage-frame-1.8.htm?lc="+f["webengage.licenseCode"]+"&cbf="+this.storeCBFrameName+"#"+this.sfts},addCallback:function(F,G){if(!this.callbacks[F]){this.callbacks[F]=[]}this.callbacks[F].push(G)},get:function(F,G){if(this.status){if(!this.callbacks[F]){d.frames[this.storeFrameName].postMessage({action:"read",name:F},"*")}if(typeof G==="function"){this.addCallback(F,G)}}},set:function(F,G){if(this.status){d.frames[this.storeFrameName].postMessage({action:"store",name:F,value:G},"*")}}}},true);k(c,{getWidgetVersion:function(){return f["webengage.widgetVersion"]||"4.0"}},true);var t=c.util;var p={widgetVersion:"4",weJquery:"//d3701cc9l7v9a6.cloudfront.net/js/jquery/jquery-1.3.2.min.js",baseWebEngageUrl:"//webengage.com",feedbackAppHost:"feedback.webengage.com",surveyAppHost:"survey.webengage.com",widgetDomain:"//d3701cc9l7v9a6.cloudfront.net",baseStaticUrl:"//d3701cc9l7v9a6.cloudfront.net",loadSurveyWidgetUrl:function(F){return"/js/widget/we-survey-widget-"+(F?F:"~483819f")+"-v-4.0.js?v=483.0"},loadSurveyWidgetUrlv3:"/js/widget/we-survey-widget.js?v=483.0",notificationWidgetScriptUrl:"/js/widget/we-notification-widget-v-4.1.js?v=483.0",findAllTakenSurveysUrl:function(){return"//survey.webengage.com/publisher-widget-loader.html?action=findAllTakenSurveys&licenseCode="+f["webengage.licenseCode"]+"&url="+encodeURIComponent(t.getClientPageUrl())},widgetContainerId:"webklipper-publisher-widget-container",feedbackImageBaseUrl:"//s3-ap-southeast-1.amazonaws.com/wk-static-files/webengage/feedbacktab/",loadFeedbackWidgetUrl:"/js/widget/we-feedback-widget-v-4.0.js?v=483.0",loadFeedbackWidgetUrlv3:"/js/widget/we-feedback-widget.js?v=483.0",gaCallbacksScriptUrl:"//d3701cc9l7v9a6.cloudfront.net/js/widget/ga-callbacks-helper.js?v=483.0",tstbu:"c.webengage.com",csUrl:"//d3701cc9l7v9a6.cloudfront.net/js/widget/we-conversion-helper-min-v-1.0.js?v=483.0"};var D={};t.extend("logger",(function(){var G={containerCss:{position:function(){return c.BrowserDetect.is_this_the_worlds_most_annoying_browser()?"absolute":"fixed"},cursor:"default",margin:0,zIndex:(t.getMaxZIndex()+1),backgroundColor:"red",right:"0px",bottom:"0px",display:"block",padding:"10px",maxWidth:"500px",textAlign:"left",lineHeight:"17px",background:"none repeat scroll 0 0 #ff9",border:"1px solid #fc6",borderBottomWidth:"0px",borderRightWidth:"0px",borderTopLeftRadius:"5px",MozBorderRadiusTopleft:"5px",WebkitBorderTopLeftRadius:"5px",boxShadow:"0 1px 0 0 rgba(255, 255, 255, 0.6) inset, 0 1px 1px rgba(0, 0, 0, 0.1)",MozBoxShadow:"0 1px 0 0 rgba(255, 255, 255, 0.6) inset, 0 1px 1px rgba(0, 0, 0, 0.1)",WebkitBoxShadow:"0 1px 0 0 rgba(255, 255, 255, 0.6) inset, 0 1px 1px rgba(0, 0, 0, 0.1)",fontFamily:"Arial, sans-serif",fontSize:"13px"},dataDivCss:{margin:"0px",padding:"0px",color:"#000",textShadow:"1px 1px #f1f1f1",textDecoration:"none",fontFamily:"inherit",fontSize:"inherit"},dataDivLinkCss:{color:"#039",textDecoration:"underline",textShadow:"1px 1px #f1f1f1",fontFamily:"inherit",fontSize:"inherit"},closeButtonCss:{color:"#039",textDecoration:"underline",textShadow:"1px 1px #f1f1f1",cursor:"pointer",cssFloat:"right",styleFloat:"right",marginRight:"5px",marginLeft:"30px"}},F=function(R,Q){var J=a.getElementById("webengage-error-messages");if(J){J.parentNode.removeChild(J)}var L=a.createElement("div");L.setAttribute("id","webengage-error-messages");L=t.applyCss(L,G.containerCss);a.body.insertBefore(L,null);var P=a.createElement("div");P=t.applyCss(P,G.closeButtonCss);P.innerHTML="x";L.appendChild(P);P.onclick=function(){this.parentNode.parentNode.removeChild(this.parentNode)};var I=a.createElement("div");I=t.applyCss(I,G.dataDivCss);L.appendChild(I);I.innerHTML=R;var M=I.getElementsByTagName("a");if(M&&M.length>0){for(var N=0;N<M.length;N++){t.applyCss(M[N],G.dataDivLinkCss);var K=M[N].getAttribute("href");var H=K.split("#");var O=H[0];O=O.indexOf("?")<0?(O+"?"):O;O=O+"&ref=widget-message";O=H.length==2?(O+"#"+H[1]):O;M[N].setAttribute("href",O)}}c.eLog(null,Q,R,R);setTimeout(function(){L.remove()},5000);return L};return{success:function(H){return F(H,"success")},warn:function(H){return F(H,"warn")},error:function(H){return F(H,"error")}}})());t.extend("GEO",{country:function(){return this._country||""},country_code:function(){return this._country_code||""},region:function(){return this._region||""},city:function(){return this._city||""},latitude:function(){return this._latitude||""},longitude:function(){return this._longitude||""},serverTimeStamp:function(){return this._serverTimeStamp},ip:function(){return this._ip||""},setGeoData:function(H){var G=this,F=H||{};G._country=F.geoplugin_countryName||"";G._country_code=F.geoplugin_country_code||"";G._region=F.geoplugin_region||"";G._city=F.geoplugin_city||"";G._latitude=F.geoplugin_latitude||"";G._longitude=F.geoplugin_longitude||"";G._serverTimeStamp=F.serverTimeStamp;G._ip=F.clientIp;c.getUser().country=G._country;c.getUser().city=G._city;c.getUser().ip=G._ip},isGeoLoaded:function(){return this._isLoaded?this._isLoaded:t.getSessionCookie().tsD?true:false},load:function(I,F){var G=this;if(!this.isGeoLoaded()){var H="//geoservice.webengage.com/geoip/?jsoncallback="+encodeURI("webengage.GEO.setGeoData")+(f["webengage.aip"]===true?"&aip=1":"");t.loadScript.apply(p.widgetContainer,[H,function(){t.updateSessionCookieGeoData();G._isLoaded=true;if(typeof I==="function"){I()}},null,function(){if(typeof F==="function"){F()}}])}else{G._isLoaded=true;if(typeof I==="function"){I()}}}});t.extend("BrowserDetect",(function(){var M,I,K,G,N=[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{prop:d.opera,identity:"Opera"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"Windows,Trident",identity:"Explorer",versionSearch:"rv"},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}],J=[{string:navigator.userAgent,subString:"iPhone",identity:"iOS"},{string:navigator.userAgent,subString:"iPad",identity:"iOS"},{string:navigator.userAgent,subString:"Android",identity:"Android"},{string:navigator.userAgent,subString:"Windows Phone",identity:"Windows Phone"},{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:navigator.platform,subString:"Linux",identity:"Linux"},{string:navigator.userAgent,subString:"Mobile",identity:"Mobile"}],H=[{string:navigator.userAgent,subString:"iPhone",identity:"Mobile"},{string:navigator.userAgent,subString:"iPod",identity:"Mobile"},{string:navigator.userAgent,subString:"Android,Mobile",identity:"Mobile"},{string:navigator.userAgent,subString:"Windows Phone",identity:"Mobile"},{string:navigator.userAgent,subString:"BlackBerry,Mobile",identity:"Mobile"},{string:navigator.userAgent,subString:"BB10,Mobile",identity:"Mobile"},{string:navigator.userAgent,subString:"Android",identity:"Tablet"},{string:navigator.userAgent,subString:"iPad",identity:"Tablet"},{string:navigator.userAgent,subString:"Windows,Tablet",identity:"Tablet"}],F=function(V){for(var R=0;R<V.length;R++){var S=V[R].string;var U=V[R].prop;this._versionSearchString=V[R].versionSearch||V[R].identity;if(S){var T=V[R].subString.split(",");var Q=false;for(var P=0;P<T.length;P++){if(S.indexOf(T[P])==-1){Q=false;break}Q=true}if(Q){return V[R].identity}}else{if(U){return V[R].identity}}}},L=function(R){var Q=R.indexOf(this._versionSearchString);if(Q==-1){return}var P=parseFloat(R.substring(Q+this._versionSearchString.length+1));if(I=="Explorer"&&7<=P){if(R.indexOf("Trident/4")!=-1){P=8}else{if(R.indexOf("Trident/5")!=-1){P=9}else{if(R.indexOf("Trident/6")!=-1){P=10}}}}return P},O=function(){if(I&&K&&G){return}I=F(N)||"An unknown browser";K=L(navigator.userAgent)||L(navigator.appVersion)||"an unknown version";G=F(J)||"an unknown OS";M=F(H)||(t.isSmallScreen()?"Mobile":"Desktop")};return{browser:function(){return O()||I},version:function(){return O()||K},os:function(){return O()||G},device:function(){return O()||M},is_this_the_worlds_most_annoying_browser:function(){return(typeof a.all!=="undefined"&&!d.opera&&!d.XMLHttpRequest)},ie:function(){return O()||I=="Explorer"},isMobile:function(){var R=this.os(),P=false,S=["iOS","Android","Windows Phone","Mobile"];for(var Q=0;Q<S.length;Q++){if(R==S[Q]){P=true;break}}return P}}})());var y={onRun:function(F){return this.bind("run",F)},onLoad:function(F){return this.bind("load",F)},onOpen:function(F){return this.bind("open",F)},onView:function(F){return this.bind("view",F)},onSubmit:function(F){return this.bind("submit",F)},onClick:function(F){return this.bind("click",F)},onComplete:function(F){return this.bind("complete",F)},onClose:function(F){return this.bind("close",F)},onDump:function(F){return this.bind("dump",F)},bind:function(){return t.bind.apply(this,arguments)},unbind:function(){return t.unbind.apply(this,arguments)},executeCallbacks:function(){return t.executeCallbacks.apply(this,arguments)}};t.extend("",(function(){var F=function(){var J=t.getWebengageCookie(),H=t.getSessionCookie(),K={license_code:j,suid:H.suid,luid:J.luid},I={wv:t.getVersion(),tzo:(D.configurationMap.tzo||0),ust:J.time&&!isNaN(J.time)?new Date(parseInt(J.time,10)):null,lst:J.lst&&!isNaN(J.lst)?new Date(parseInt(J.lst,10)):null,sc:J.sc,tpvc:J.tpvc,ref:H.referrer,sst:H.sst&&!isNaN(H.sst)?new Date(parseInt(H.sst,10)):null,pvcs:H.pvc,pageTitle:a.title,pageURL:d.location.href,viewportHeight:t.getWindowHeight(),viewportWidth:t.getWindowWidth(),ver:2};if(H.landingPage){I.lp=H.landingPage}K.system_data=I;return K},G=function(K,M,L){var I="//c.webengage.com"+K;try{if(c.BrowserDetect.ie()){throw new Error("This browser does not support XMLHttpRequest.")}var Q=d.XMLHttpRequest;if(typeof Q==="undefined"){Q=function(){try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(W){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(W){}try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(W){}throw new Error("This browser does not support XMLHttpRequest.")}}var R=new Q();var H=M?"POST":"GET";R.open(H,I,true);R.onreadystatechange=function(){if(R.readyState==4){if(R.status==200){if(L&&typeof L==="function"){L()}}}};R.setRequestHeader("Content-type","application/x-www-form-urlencoded");var V=[];for(var U in M){if(M.hasOwnProperty(U)){V.push(encodeURIComponent(U)+"="+encodeURIComponent(M[U]))}}var T=V.join("&");R.send(T)}catch(P){try{var O=a.createElement("iframe");var N="WE_XHR_POST_IFRM";a.body.appendChild(O);O.style.display="none";O.contentWindow.name=N;var J=a.createElement("form");J.target=N;J.action=I;J.method="POST";for(var U in M){var S=a.createElement("input");S.type="hidden";S.name=U;S.value=M[U];J.appendChild(S)}a.body.appendChild(J);J.submit();O.onload=function(){if(O.parentNode){O.parentNode.removeChild(O)}}}catch(P){}}};return{dump:function(H,I,K){function J(){var M=F();M.system_data=t.copy(M.system_data||{},K||{},true);M.event_data=t.copy({},(I||{}),true);M.category=K?"system":"application";M.event_name=(H||"unknown");if(f["webengage.aip"]===true){M.system_data["aip"]=1}M=t.transitConvert(M);var L=t.stringify(M);L=c.LZString.compressToBase64(L);G("/l3.jpg",{data:L})}c.util.onReady(J)}}})());t.extend("feedback",(function(){var F=[];return{cbid:1,getMobileLoadingDiv:function(H){var G=a.createElement("div");G.id=H||p.widgetContainerId+"-loading";G=c.util.applyCss(G,{position:"fixed",left:(c.util.getWindowWidth()*0.05)+"px",width:(c.util.getWindowWidth()*0.9)+"px",opacity:"1",background:"#f9f9f9",color:"#666","z-index":c.util.getMaxZIndex(),textAlign:"center","padding-top":"20px","padding-bottom":"20px",fontFamily:"Arial, sans-serif",fontSize:"10px",display:"none"});return G},getLoadingDiv:function(H){var G=a.createElement("div");G.id=H||p.widgetContainerId+"-loading";G=c.util.applyCss(G,{fontFamily:"Arial, sans-serif",fontSize:"10px",color:"#666",textDecoration:"none",position:"absolute",textAlign:"center"});return G},getLightBoxBaseDiv:function(){var G=a.createElement("div");c.util.applyCss(G,{display:"block",margin:"0",padding:"0","z-index":c.util.getMaxZIndex(),position:"absolute",overflow:"hidden",top:"0",left:"0",height:a.body.scrollHeight+"px",width:"100%","background-color":"rgba(0, 0, 0, .85)"});G.id=p.widgetContainerId+"-base";return G},getLightBoxContainerDiv:function(){var H=a.createElement("div");c.util.applyCss(H,{display:"block",top:"0",left:"0",width:"100%",height:c.util.getWindowHeight()+"px",position:"absolute",outline:"none !important","-webkit-backface-visibility":"hidden",margin:"0",padding:"0","z-index":c.util.getMaxZIndex(),"-webkit-overflow-scrolling":"touch"});H.setAttribute("tabIndex",-1);H.id=p.widgetContainerId+"-light-box-container";var G=a.createElement("div");c.util.applyCss(G,{display:"block","text-align":"center",position:"absolute",width:"100%",height:"100%",left:"0",top:"0",outline:"none !important","-webkit-box-sizing":"border-box","-moz-box-sizing":"border-box","box-sizing":"border-box",padding:"0 8px",margin:"0","overflow-y":"auto","overflow-x":"hidden"});G.id=p.widgetContainerId+"-light-box-content";H.appendChild(G);return H},render:function(G){return c.withELog(function(){return(new function(){c.feedback.clear();var V=this;V.cbid=1;F[F.length]=V;V.abort=function(){t.abortInstance(this)};V._feedbackOptions={launchType:f["webengage.feedback.launchType"]||"",externalLinkId:f["webengage.feedback.externalLinkId"]||"",alignment:f["webengage.feedback.alignment"]||"",borderColor:f["webengage.feedback.borderColor"]||"",backgroundColor:f["webengage.feedback.backgroundColor"]||"",snapshotEnabled:f["webengage.feedback.snapshotEnabled"]||"",defaultCategory:f["webengage.feedback.defaultCategory"]||"",showAllCategories:(typeof f["webengage.feedback.showAllCategories"]==="boolean"&&!f["webengage.feedback.showAllCategories"])?false:true,showForm:f["webengage.feedback.showForm"]||false,isDemoMode:f["webengage.feedback.isDemoMode"]||f["webengage.isDemoMode"]||false,customData:f["webengage.feedback.customData"]||f["webengage.customData"]||{},formData:f["webengage.feedback.formData"]||f["webengage.formData"]||[],enableCallbacks:f["webengage.feedback.enableCallbacks"]||f["webengage.enableCallbacks"]||false,language:f["webengage.language"]||""};if(G!==e&&G.data!==e&&G.data){var ao=G.data;if(ao.name!==e&&ao.name){V._feedbackOptions.formData.push({name:"name",value:ao.name})}if(ao.email!==e&&ao.email){V._feedbackOptions.formData.push({name:"email",value:ao.email})}if(ao.category!==e&&ao.category){V._feedbackOptions.formData.push({name:"category",value:ao.category})}}var L={feedbackLaunchType:"launchType",feedbackExternalLinkId:"externalLinkId",feedbackButtonAlignment:"alignment",feedbackButtonBorderColor:"borderColor",feedbackButtonBackgroundColor:"backgroundColor",defaultFeedbackCategory:"defaultCategory",showAllFeedbackCategories:"showAllCategories",showFeedbackForm:"showForm",data:"customData",demo:"isDemoMode"};if(G!==e&&!t.isEmptyObject(G)){for(var H in G){var ak=L[H];if(ak!==e&&ak){G[ak]=G[H];delete G[H]}}}if(G&&G.customData){V._feedbackOptions.customData=t.copy(V._feedbackOptions.customData,G.customData,true);delete G.customData}if(G&&G.ruleData){V._feedbackOptions.ruleData=t.copy(V._feedbackOptions.ruleData,G.ruleData,true);delete G.ruleData}V._feedbackOptions=t.copy(V._feedbackOptions,(G?G:{}),true);V.enableCallbacks=(typeof V._feedbackOptions.enableCallbacks==="boolean"?V._feedbackOptions.enableCallbacks:false);t.copy(V,y,true);V.onLoad((V._feedbackOptions.onLoad||f["webengage.feedback.onLoad"]));V.onSubmit((V._feedbackOptions.onSubmit||f["webengage.feedback.onSubmit"]));V.onClose((V._feedbackOptions.onClose||f["webengage.feedback.onClose"]));V.onOpen((V._feedbackOptions.onOpen||f["webengage.feedback.onOpen"]));t.attachEventListners("feedback",V);var ab=(c.BrowserDetect.isMobile()||t.isSmallScreen());var aj=(D.feedback?((typeof(D.feedback.config.showMobile)==="undefined")?true:D.feedback.config.showMobile):false);if((D.feedback&&(D.feedback.isEnabled||V._feedbackOptions.isDemoMode)&&(a.location.protocol=="http:"||(a.location.protocol=="https:"&&D.sslEnabled))&&!D.isFQuotaOver)&&((ab&&aj)||!ab)){var W=D.feedback.config,af={alignment:["right","left"],launchTypes:["feedbackButton","externalLink"],containerCss:{margin:0,padding:0,position:(c.BrowserDetect.is_this_the_worlds_most_annoying_browser()?"absolute":"fixed"),border:"5px solid #ccc",backgroundColor:"#f9f9f9",borderWidth:"1px",borderStyle:"solid"},containerRightCss:{right:"0px",borderRightWidth:"0px"},containerLeftCss:{left:"0px",borderLeftWidth:"0px"},commonCss:{margin:0,padding:0,cursor:"pointer",backgroundColor:"transparent",backgroundRepeat:"no-repeat",backgroundPosition:"center 0",display:"block",paddingBottom:"7px",paddingLeft:"3px",paddingRight:"3px",paddingTop:"7px"},tabCssWithIcon:{backgroundPosition:"center bottom",paddingBottom:"33px"},closeCommonCss:{height:"22px",width:"22px",cursor:"pointer",backgroundRepeat:"no-repeat",backgroundPosition:"0 0",position:"absolute",top:"-14px",backgroundImage:"url('"+p.baseStaticUrl+"/images/icons/feedback-widget-close.png')",backgroundColor:"transparent",display:"none"},leftCloseCss:{right:"-14px"},rightCloseCss:{left:"-14px"},feedbackBgImageForDarkBackground:p.baseStaticUrl+"/images/webengage/icons/feedback-tab-bg-dark.png",feedbackBgImageForLightBackground:p.baseStaticUrl+"/images/webengage/icons/feedback-tab-bg-light.png",feedbackTextImage:p.feedbackImageBaseUrl+W.imgPath,sizeCss:{height:W.imgHeight+"px",width:W.imgWidth+"px"},leftCss:{cssFloat:"right",styleFloat:"right"},rightCss:{cssFloat:"left",styleFloat:"left"},loadingCss:{fontFamily:"Arial, sans-serif",fontSize:"10px",color:"#666",textDecoration:"none",position:"absolute",textAlign:"center"},maxWidth:"450px",maxHeight:(c.BrowserDetect.ie()?"349px":"345px")},ah={getButtonCssBasedOnConfig:function(aq,ar){var ap={};ap=t.copy(ap,af.sizeCss);if(aq=="left"){ap=t.copy(ap,af.leftCss)}else{ap=t.copy(ap,af.rightCss)}if(ar){ap=t.copy(ap,af.tabCssWithIcon)}return ap},getContainerCssBasedOnConfig:function(aq){var ap={};ap=t.copy(ap,af.containerCss);if(aq=="right"){ap=t.copy(ap,af.containerRightCss)}else{ap=t.copy(ap,af.containerLeftCss)}return ap},getCloseCssBasedOnConfig:function(aq){var ap={};if(aq=="right"){ap=t.copy(ap,af.rightCloseCss)}else{ap=t.copy(ap,af.leftCloseCss)}return ap},getButtonCssBasedOnBackgroundColor:function(aq){var ap={};if(t.isColorTooLight(aq)){ap=t.copy(ap,{backgroundImage:("url('"+af.feedbackBgImageForLightBackground+"')")})}else{ap=t.copy(ap,{backgroundImage:("url('"+af.feedbackBgImageForDarkBackground+"')")})}return ap},getCustomTextImageCss:function(){var ap={};ap=t.copy(ap,{backgroundImage:("url('"+af.feedbackTextImage+"')")});return ap}},ae=(W.closeImg===e||W.closeImg===null||W.closeImg==="")?(p.baseStaticUrl+"/images/icons/feedback-widget-close.png"):("//s3-ap-southeast-1.amazonaws.com/"+W.closeImg),ad=t.getInitParamValue(V._feedbackOptions,"alignment",W.alignment,af.alignment),O=t.getInitParamValueAsArray(V._feedbackOptions,"launchType",W.launchType,af.launchTypes),N=t.getInitParamValueAsArray(V._feedbackOptions,"externalLinkId",W.externalLinkId),T=t.getInitParamValue(V._feedbackOptions,"backgroundColor",W.backgroundColor),am=t.getInitParamValue(V._feedbackOptions,"borderColor",W.borderColor),ag=t.getInitParamValue(V._feedbackOptions,"snapshotEnabled",((W.snapshotEnabled===e)?true:W.snapshotEnabled)),ai=t.inArray(O,af.launchTypes[0]),X=W.imgWidth,Q=W.imgHeight,U=W.showWeIcon;T=T.indexOf("#")===0?T:("#"+T);am=am.indexOf("#")===0?am:("#"+am);var aa=a.createElement("div");p.widgetContainer.appendChild(aa);aa.setAttribute("id",p.widgetContainerId+"-content");var an=aa.style;an.borderColor=am;aa=t.applyCss(aa,af.containerCss);aa=t.applyCss(aa,ah.getContainerCssBasedOnConfig(ad));var al=f["webengage.feedback.tab"]||"bubble";if((al==="bubble")&&(c.BrowserDetect.isMobile()||t.isSmallScreen())){var M=a.body.clientWidth/d.screen.availWidth;an.background="transparent";an.border="0px";if(M>2){an.width="130px";an.height="130px";an.bottom="30px";if(ad==="right"){an.right="30px"}else{an.left="30px"}}else{an.width="58px";an.height="58px";an.bottom="15px";if(ad==="right"){an.right="15px"}else{an.left="15px"}}an.boxSizing="border-box"}else{aa.style.width=(parseInt(X)+3+3)+"px";var J=(parseInt(Q)+7+7+(U?(3+26):0))+"px";an.top=(("innerHeight" in d?d.innerHeight:a.documentElement.clientHeight)-parseInt(Q))/2+"px"}an.zIndex=(t.getMaxZIndex()+1);var S=a.createElement("div");aa.appendChild(S);S.id=p.widgetContainerId+"-close-div";S=t.applyCss(S,af.closeCommonCss);S=t.applyCss(S,ah.getCloseCssBasedOnConfig(ad));S.style.backgroundImage="url('"+ae+"')";if(c.BrowserDetect.is_this_the_worlds_most_annoying_browser()){S.style.backgroundImage="";S.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true, sizingMethod=crop src='"+ae+"')"}var ac=a.createElement("div");aa.appendChild(ac);ac.setAttribute("id",p.widgetContainerId+"-content-expand-collapse");var Z=ac.style;ac=t.applyCss(ac,af.commonCss);ac=t.applyCss(ac,ah.getButtonCssBasedOnConfig(ad,U));if((al==="bubble")&&(c.BrowserDetect.isMobile()||t.isSmallScreen())){var R=(M>2)?'viewBox="0 0 80 80" style="padding:15px 20px;"':'viewBox="0 0 180 180" style="padding:7px;"';var Y='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns" width="40px" height="40px" '+R+' version="1.1"><title>180 - iPhone 6 Plus</title><desc>Created with Sketch.</desc><defs/><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage"><g id="180---iPhone-6-Plus" sketch:type="MSArtboardGroup" fill="#1A1918"><g id="Imported-Layers" sketch:type="MSLayerGroup" transform="translate(11.000000, 17.000000)"><path d="M137.853,52.283 C135.333462,22.50325 102.805731,0.973875 65.1838846,4.134375 C27.5620385,7.319375 -0.917307692,34.012125 1.57776923,63.76125 C3.29619231,84.2065 19.1839615,100.7685 41.1687692,108.100125 C38.7042692,115.156125 34.185,122.518375 26.1555,129.24975 C26.1555,129.24975 55.5582692,128.2575 72.8892692,111.934375 C73.3418077,111.90375 73.7882308,111.916 74.253,111.87925 C111.880962,108.71875 140.348077,82.032125 137.853,52.283" id="Fill-1" sketch:type="MSShapeGroup"/><path d="M157.373308,102.74075 C158.296731,90.993 152.621654,79.98025 143.136692,72.415875 C135.266192,96.10125 111.434538,114.457875 81.4875,119.308875 C88.5874615,127.932875 99.7235769,134.015 112.596462,135.20325 C118.491692,135.74225 124.172885,135.20325 129.407654,133.77 C139.400192,139.307 151.312962,145.19925 151.312962,145.19925 C147.215654,141.42625 143.864423,131.8835 142.213269,127.89 C150.799269,122.01 156.578308,113.12875 157.373308,102.74075" id="Fill-2" sketch:type="MSShapeGroup"/></g></g></g></svg>';ac.innerHTML=Y;Z.height="100%";Z.width="100%";Z.borderRadius="75px";Z.background="#fff";Z.border="1px solid #ccc";Z.mozBoxShadow="1px 1px 8px #888888";Z.webkitBoxShadow="1px 1px 8px #888888";Z.boxShadow="1px 1px 8px #888888";Z.padding="0";Z.boxSizing="border-box";if(M>2){Z.fontSize=(M*13)+"px";Z.lineHeight="1.5em"}else{Z.textAlign="center"}}else{ac=t.applyCss(ac,ah.getButtonCssBasedOnBackgroundColor(T));if(c.BrowserDetect.is_this_the_worlds_most_annoying_browser()){Z.backgroundImage="";var I=(t.isColorTooLight(T)?af.feedbackBgImageForLightBackground:af.feedbackBgImageForDarkBackground);Z.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true, sizingMethod=crop src='"+I+"')"}Z.backgroundColor=T}Z.zIndex=t.getMaxZIndex()+1;if(!ai){aa.style.display="none"}var P=a.createElement("div");ac.appendChild(P);P.style.margin="0px";P.style.padding="0px";if((al==="bubble")&&(c.BrowserDetect.isMobile()||t.isSmallScreen())){P.style.width="20%";P.style.width="20%";if(c.BrowserDetect.is_this_the_worlds_most_annoying_browser()){P.style.backgroundImage="";Z.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true, sizingMethod=crop src='"+af.feedbackTextImage+"')"}}else{P.style.width=parseInt(X)+"px";P.style.height=parseInt(Q)+"px";P=t.applyCss(P,ah.getCustomTextImageCss());if(c.BrowserDetect.is_this_the_worlds_most_annoying_browser()){P.style.backgroundImage="";Z.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true, sizingMethod=crop src='"+af.feedbackTextImage+"')"}}S.style.zIndex=t.getMaxZIndex()+1;V.close=function(){try{aa.removeChild(a.getElementById(p.widgetContainerId+"-loading"))}catch(ap){}try{aa.removeChild(a.getElementById(p.widgetContainerId+"-content"))}catch(ap){}try{a.getElementById(p.widgetContainerId+"-content-expand-collapse").isCurrentlyOpen=false}catch(ap){}S.style.display="none";aa.style.width=(parseInt(X)+3+3)+"px";if(!ai){ac.style.display="none"}};S.onclick=function(){c.withELog(function(){V.close()})};function K(){if(f["webengage.feedback.custom"]){aa.style.display="block";aa.style.border="none";aa.style["background-color"]="transparent";aa.style.position="static";aa.style.overflow="visible";aa.style.width="0px";aa.style.height="0px"}else{if(c.BrowserDetect.isMobile()||t.isSmallScreen()){aa.style.display="block";var at=c.feedback.getLightBoxBaseDiv();p.weDataContainer.appendChild(at);var ar=c.feedback.getLightBoxContainerDiv();p.weDataContainer.appendChild(ar);var aq=c.feedback.getMobileLoadingDiv();aq.innerHTML="Loading<br/>please wait ...";p.weDataContainer.appendChild(aq);var au=c.util.getElementHeight(aq);var av=c.util.getWindowHeight();aq.style.top=(av-au)/2+"px";aq.style.display="block"}else{aa.style.display="block";aa.style.width="300px";var aq=c.feedback.getLoadingDiv();aq=t.applyCss(aq,af.loadingCss);aq.innerHTML="Loading<br/>please wait ...";aa.appendChild(aq);t.alignCenter(aq,aa,ad);S.style.display="block"}}V.feedbackLoadStartTime=new Date();var ap=p.widgetDomain+(c.BrowserDetect.is_this_the_worlds_most_annoying_browser()?p.loadFeedbackWidgetUrlv3:p.loadFeedbackWidgetUrl);c.feedbackLoadStartTime=new Date();t.withWeJquery(function(){var aw=a.createElement("script");aw.type="text/javascript";aw.src=ap;p.widgetContainer.appendChild(aw)})}ac.onclick=function(){c.withELog(function(){K()})};if(N&&N.length>0){(function(){for(var aq=0;aq<N.length;aq++){var ar=N[aq];var ap=a.getElementById(ar);if(ap){ap.onclick=function(at){var au=at||d.event;au.cancelBubble=true;if(au.stopPropagation){au.stopPropagation()}if(au.preventDefault){au.preventDefault()}else{au.returnValue=false}ac.onclick();return false}}}})()}a.$FeedbackWidgetInitializer={containerId:p.widgetContainerId,licenseCode:j,appHost:p.feedbackAppHost,minWidth:(parseInt(X)+3+3)+"px",maxWidth:af.maxWidth,minHeight:J,maxHeight:af.maxHeight,showFeedbackButton:ai,buttonAlignment:ad,borderColor:am.substring(1),snapshotEnabled:ag,currentInstance:V,mobileLBEnabled:(c.BrowserDetect.isMobile()||t.isSmallScreen()),widgetLanguage:V._feedbackOptions.language};if(V._feedbackOptions.showForm==true){ac.onclick()}}else{if(D.feedback&&D.feedback.isEnabled&&a.location.protocol=="https:"&&!D.sslEnabled){c.eLog(null,"error","Feedback - Widget turned off for SSL encrypted page","Feedback - Widget turned off for SSL encrypted page")}}})})},clear:function(){c.withELog(function(){try{p.widgetContainer.removeChild(a.getElementById(p.widgetContainerId+"-content"))}catch(G){}F=[];a.$FeedbackWidgetInitializer=null})},abort:function(){t.abortAllInstances(F)},attachEventListner:function(){var G=this,H=arguments;c.withELog(function(){t.bind.apply(G,H);if(F.length>0){for(var I=0;I<F.length;I++){F[I].enableCallbacks=true;t.bind.apply(F[I],H)}}})}}})());t.extend("ruleExecutor.constants",{SEARCH_ENGINE_REGEXP:{google:{pattern:"^(?:http(s)?://)?(www\\.)?google\\..*/.*$",queryParam:"q"},yahoo:{pattern:"^(?:http(s)?://)?(?:([a-z]{2})\\.)?search\\.yahoo\\.com/.*$",queryParam:"p"},bing:{pattern:"^(?:http(s)?://)?((?:www|[a-z]{2})\\.)?bing\\.com/search\\?.*$",queryParam:"q"},ask:{pattern:"^(?:http(s)?://)?www\\.ask\\.com/.*$",queryParam:"q"},baidu:{pattern:"^(?:http(s)?://)?www\\.baidu\\.com/.*$",queryParam:"wd"},yandex:{pattern:"^(?:http(s)?://)?www\\.yandex\\.com/.*$",queryParam:"text"},duckduckgo:{pattern:"^(?:http(s)?://)?www\\.duckduckgo\\.com/.*$",queryParam:"q"}},SOCIAL_MEDIA_REGEX:"^(?:http(s)?://)?(.*.)?(facebook|twitter|t|pinterest)\\.(com|co)/.*$",XPATH_PLUGIN_FILE:"//d3701cc9l7v9a6.cloudfront.net/js/jquery/wgxpath.install.js"});t.extend("ruleExecutor.dependencies",{XPATH:function(G,H,F){c.XPATH.util.loadXPath(H,F)},GEO:function(G,H,F){c.GEO.load(H,F)}});t.extend("XPATH.util",(function(){return{loadXPath:function(H,G){if((c.BrowserDetect.browser()==="Explorer")&&(!a.evaluate)){var F="//d3701cc9l7v9a6.cloudfront.net/js/jquery/wgxpath.install.js";t.loadScript.apply(p.widgetContainer,[F,function(){wgxpath.install();if(typeof H==="function"){H()}},null,function(){if(typeof G==="function"){G()}}])}else{if(typeof H==="function"){H()}}},isXpathLoaded:function(){return(a.evaluate?true:false)},getXPathElement:function(I){var F=null;if(I&&I.indexOf("|")>-1){var H=I.split("|");I=H[0]+"/@"+H[1]}try{var G=a.evaluate(I,a,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null);F=(G&&G.singleNodeValue&&c.util.isElementExists(G.singleNodeValue))?G.singleNodeValue:null}catch(J){}return F},evaluateXPathQuery:function(G){var F=c.XPATH.util.getXPathElement(G);if(F){return F.textContent}else{return null}}}})());t.extend("ruleExecutor.dependency.util",{xPathExists:function(){if(c.XPATH.util.isXpathLoaded()){return true}else{var F={};F.type="XPATH";throw F}},geoDataExists:function(){if(c.GEO.isGeoLoaded()){return true}else{var F={};F.type="GEO";throw F}}});t.extend("ruleExecutor.util",(function(F){return{isMatches:function(I,G){if(I){if(I instanceof Array){for(var J=0;J<I.length;J++){if(c.ruleExecutor.util.isMatches(I[J],G)){return true}}}else{if(G instanceof Array){for(var H=0;H<G.length;H++){if(I.match(new RegExp(G[H],"mgi"))){return true}}}else{if(I.match(new RegExp(G,"mgi"))){return true}}}}return false},getCurrentTimeInSec:function(J){var I=new Date(J);var G=I.getHours();var K=I.getMinutes();var H=I.getSeconds();return(G*60*60+K*60+H)},getClientTime:function(){var G=t.getCurrentTime();return c.ruleExecutor.util.getCurrentTimeInSec(G)},getClientDayOfWeek:function(){return t.getCurrentWeekDay()},getPublisherTime:function(){var G=t.getCurrentTime(p.publisherTimeZoneOffset);return c.ruleExecutor.util.getCurrentTimeInSec(G)},getEventData:function(H,G){if(H==="on_exit"||H==="we_wk_on_exit"){H="we_wk_leaveIntent"}if(H==="we_wk_time"||H==="time"){H="we_wk_pageDelay"}if(H==="totalTimeOnSite"){H="we_wk_totalTimeOnSite"}try{if(B.hasOwnProperty(H)){if(G){return B[H][G]||null}else{return B[H]||null}}}catch(I){return null}},isContainsSearchTerms:function(I,J){var H=false;if(typeof I!=="function"||!J||!(J instanceof Array)||J.length<=0){return false}var G=I();if(typeof G!==e&&G){for(var K=0;K<J.length;K++){H=c.ruleExecutor.util.isContains(G,c.ruleExecutor.util.jsTokenizer(J[K]," "),"contains_all");if(typeof H==="boolean"&&H){break}}}return H},isContains:function(L,P,H){var O=L;if(typeof(L)==="function"){O=L()}var N=false;var I=H||"contains_any";if(O!==e&&O){var G=[];if(O instanceof Array){for(var M=0;M<O.length;M++){G[O[M].toLowerCase()]=true}}else{G[O]=true}if(P!==e&&P){if(P instanceof Array){if(I=="contains_all"){for(var K=0;K<P.length;K++){if(G[P[K].toLowerCase()]==true){N=true;continue}N=false;break}}else{for(var J=0;J<P.length;J++){if(G[P[J].toLowerCase()]==true){N=true;break}}}}else{N=G[P.toLowerCase()]==true}}}return N},getReferrers:function(){var H=[];if(a.referrer){H[H.length]=a.referrer.toLowerCase()}var G=t.getSessionCookie();if(G&&G.referrer&&(!a.referrer||G.referrer!=a.referrer)){H[H.length]=G.referrer.toLowerCase()}return H},getCountry:function(){if(c.ruleExecutor.dependency.util.geoDataExists()){return t.getSessionCookie().country||null}},getRegion:function(){if(c.ruleExecutor.dependency.util.geoDataExists()){return t.getSessionCookie().region||null}},getCity:function(){if(c.ruleExecutor.dependency.util.geoDataExists()){return t.getSessionCookie().city||null}},getSearchEngineMatchResult:function(){var J=c.ruleExecutor.util.getReferrers();var G={isSER:false};for(var I in F.SEARCH_ENGINE_REGEXP){for(var H=0;H<J.length;H++){if(c.ruleExecutor.util.isMatches(J[H],F.SEARCH_ENGINE_REGEXP[I].pattern)!=false){G.isSER=true;G.url=J[H];G.queryParam=F.SEARCH_ENGINE_REGEXP[I].queryParam;break}}if(G.isSER===true){break}}return G},isSearchEngineReference:function(){return(c.ruleExecutor.util.getSearchEngineMatchResult()).isSER},isSocialMediaReference:function(){return c.ruleExecutor.util.isMatches(c.ruleExecutor.util.getReferrers(),F.SOCIAL_MEDIA_REGEX)},isFirstTime:function(){var G=t.getSessionCookie();return(G&&(typeof G.isFirstTime==="boolean"&&G.isFirstTime))?true:false},getSearchTerms:function(){var I=null;var G=c.ruleExecutor.util.getSearchEngineMatchResult();if(G.isSER){var H=decodeURI(c.ruleExecutor.util.getParamValue(G.url,G.queryParam));if(H){I=c.ruleExecutor.util.jsTokenizer(H," ")}}return I},jsTokenizer:function(J,L){var K=[];if(J!==e&&J){var I=t.escapeForRegExp(",\r\n");if(L!==e&&L){if(L instanceof Array){I=t.escapeForRegExp(L.join(""))}else{I=t.escapeForRegExp(L)}}J=J.replace(new RegExp("["+I+"]","g"),"\n");var G=J.split(/\n/g);for(var H=0;H<G.length;H++){if(G[H]!=""){K[K.length]=G[H]}}}return K},getParamValue:function(H,J){var K="";var I=new RegExp("[\\?&]"+J+"=([^&#]*)");var G=I.exec(H);if(G!==null){K=G[1]}return K},escapeForRegExp:function(G){return t.escapeForRegExp(G)},getTotalPageView:function(){var G=t.getSessionCookie();return(G&&G.pvc)?G.pvc:1},sampling:function(G){var H=this.entityId||G;if(H){var I=t.getWebengageCookie(),J=t.getHashCode(H+I.luid);return Math.abs(J%100)}return 0},getSessionCookieReferer:function(){var G=t.getSessionCookie();var H=G.referrer;if(!H){return null}return H},getXpathStringResult:function(G){if(c.ruleExecutor.dependency.util.xPathExists()){return c.XPATH.util.evaluateXPathQuery(G)}},getXpathIntegerResult:function(H){if(c.ruleExecutor.dependency.util.xPathExists()){var G=c.XPATH.util.evaluateXPathQuery(H);if(G){return parseFloat(G)}else{return null}}},loadDependency:function(G,I,K,H){var J=c.ruleExecutor.dependencies[G];if(J&&(typeof J==="function")){J(I,K,H)}else{if(H&&typeof H=="function"){H()}}},eventTrigger:function(){for(var H in c.notification.qualifyingNotifications){var I=c.notification.qualifyingNotifications[H];if(c.ruleExecutor.execute(H,I.ruleR2Code)){c.notification.render({notificationId:H,forcedRender:true,skipRules:true});c.notification.qualifyingNotifications={}}}for(var H in c.survey.qualifyingSurveys){var G=c.survey.qualifyingSurveys[H];if(c.ruleExecutor.execute(H,G.ruleR2Code)){c.survey.render({surveyId:H,forcedRender:true,skipRules:true});c.survey.qualifyingSurveys={}}}}}})(c.ruleExecutor.constants));t.extend("ruleExecutor",(function(J,I){var F={};var H=function(){F={referer:J.getReferrers,url:t.getClientPageUrl(),cookie:function(M){return t.getCookie(M,true)},country:J.getCountry,region:J.getRegion,city:J.getCity,time:"",isFirstTime:J.isFirstTime,isSER:J.isSearchEngineReference,isSMR:J.isSocialMediaReference,searchTerms:J.getSearchTerms,os:c.BrowserDetect.os,device:c.BrowserDetect.device,browser:c.BrowserDetect.browser,browser_version:c.BrowserDetect.version,endUserTime:J.getClientTime,publisherTime:J.getPublisherTime,totalPageView:J.getTotalPageView,sampling:J.sampling,contentXPathString:J.getXpathStringResult,contentXPathInteger:J.getXpathIntegerResult,contentXPathNode:J.getXpathStringResult,isDirectVisitor:J.getSessionCookieReferer,dayOfWeek:J.getClientDayOfWeek,event:J.getEventData};var L={};for(var K in F){if(F.hasOwnProperty(K)){L["we_wk_"+K]=F[K]}}t.copy(F,L)};var G=[];H();return{execute:function(L,N,K){var M=t.copy({},F);M=t.copy(M,(K?K:{}),true);M.entityId=L;N=(N!==e)?N:true;return(new Function("_weUtil","_ruleUtil","_constants","operands","return ("+N+");")(t,J,I,M))},executeEvent:function(L,N){var K;try{K=c.ruleExecutor.execute(null,L,B)}catch(M){K=false}if(K){N()}else{G.push({ruleCode:L,callback:N})}},pushToQueue:function(K,L){G.push({ruleCode:K,callback:L})},storeListener:function(){var K=G.splice(0,G.length);while(K.length!=0){var L=K.splice(0,1);c.ruleExecutor.executeEvent(L[0]["ruleCode"],L[0]["callback"])}},getStore:function(){},loadOperands:function(){H()}}})(c.ruleExecutor.util,c.ruleExecutor.constants));t.extend("survey",(function(){var J=[],K=function(T,N){if(T!==e&&T){var U=this,Q=D.survey.config,S=Q.theme||"",O="320px",X="1px",W=a.createElement("div");if(U._surveyOptions.width){var R=parseInt(U._surveyOptions.width,10);if(!isNaN(R)){O=R+"px"}}U.height=X;U.width=O;U.surveyConfigDto=Q;U.theme=S;U.surveyEId=T;U._weProperties=p;U.showOnExit=(typeof N==="boolean"?N:false);U.isMobileSurvey=(typeof isMobileSurvey=="boolean"?isMobileSurvey:false);var V=U._surveyOptions.scope[T]||U._surveyOptions.scope.all||null;if(V){U.scope=(V.scope?V.scope:"");U.scopeType=(V.scopeType?V.scopeType:"")}p.widgetContainer.appendChild(W);W.setAttribute("id",p.widgetContainerId+"-survey-content");a.$SurveyWidgetInitializer={currentInstance:U,containerId:p.widgetContainerId,licenseCode:j,appHost:p.surveyAppHost,width:parseInt(O,10)};var P=p.widgetDomain+(c.BrowserDetect.is_this_the_worlds_most_annoying_browser()?p.loadSurveyWidgetUrlv3:p.loadSurveyWidgetUrl(U.layoutAttributes.id));t.withWeJquery(function(){var Y=a.createElement("script");Y.type="text/javascript";Y.src=P;Y.onload=function(){setTimeout(function(){if(a.$SurveyWidgetInitializer.currentInstance.surveyEId===T){$weJQuery.loadSurveyForm()}},10)};p.widgetContainer.appendChild(Y)})}},I=function(R,T,N){if(R!==e&&R){if(typeof R==="object"){if(R instanceof Array){for(var P=0;P<R.length;P++){I(R[P],T,N)}}else{var Q=R.scope;if(Q){var S=R.surveyIds;if(S!==e&&S instanceof Array&&S.length>0){for(var O=0;O<S.length;O++){N[S[O]]={scope:Q,scopeType:(R.scopeType||"")}}}else{N.all={scope:Q,scopeType:(R.scopeType||"")}}}}}else{N.all={scope:R,scopeType:(T||"")}}}},F=function(U,P,Z){if(U&&U.length>0){var ap=(new Array()).concat(U);var at=ap[0],ad=t.getSessionCookie(),aj=t.getWebengageCookie(),ac=t.getInitParamValue(Z._surveyOptions,"alignment",D.survey.config.alignment,["left","right"]),ab=at,ag=P[ab].ruleCode,V,Y=P[ab].pageRuleCode,al=P[ab].sessionRuleCode,am=P[ab].eventRuleCode,ah=t.copy({},P[ab]["la"]),Q=P[ab].startTimestamp,T=P[ab].endTimestamp,S=(!Z._surveyOptions.skipRules&&typeof P[ab].showOnExit==="boolean")?P[ab].showOnExit:false,W=((Z._surveyOptions.skipRules||S)?0:(P[ab].totalTimeOnSite?P[ab].totalTimeOnSite-((new Date()).getTime()-(ad.sst||0)):0)),ar=((Z._surveyOptions.skipRules||S)?0:((parseInt(Z._surveyOptions.delay,10)>=0)?parseInt(Z._surveyOptions.delay,10):Math.max(W,P[ab].timeSpent))),an=P[ab].maxTimesPerUser,R=Z._surveyOptions.scope[ab]||Z._surveyOptions.scope.all||null,ai=ab+(R&&R.scope&&(R.scopeType+"").toUpperCase()!="GLOBAL"?"["+t.escapeScopeChars(R.scope)+"]":""),ao=t.escapeForRegExp(ai),O=P[ab].mobile,N=P[ab].sampling||100;if(!Z._surveyOptions.isDemoMode){switch(true){case (Y&&al&&true):V=Y+" && "+al;break;case (Y&&true):V=Y;break;case (al&&true):V=al;break}if(typeof O!=="undefined"&&O&&!c.BrowserDetect.isMobile()){U.splice(0,1);return F(U,P,Z)}if(!Z._surveyOptions.forcedRender&&((ad&&ad.closedSurveys!==e&&(ad.closedSurveys.match("##"+ao+"##")||ad.closedSurveys.match("##"+ao+"$")))||(aj&&aj.takenSurveys!==e&&(aj.takenSurveys.match("##"+ao+"##")||aj.takenSurveys.match("##"+ao+"$"))))){ap.splice(0,1);return F(ap,P,Z)}var af=c.util.getTotalTimesShown(ao,"survey");if(!Z._surveyOptions.forcedRender&&an!==e){if(an<=af){ap.splice(0,1);return F(ap,P,Z)}}var X={timeSpent:ar,showOnExit:S,maxTimesPerUser:an,startTimestamp:Q,endTimestamp:T,ruleCode:ag,ruleR1Code:V,ruleR2Code:am,layoutAttributes:ah,sampling:N};H(ab,X,Z,function(){ap.splice(0,1);return F(ap,P,Z)})}else{var X={timeSpent:ar,showOnExit:S,maxTimesPerUser:an,startTimestamp:Q,endTimestamp:T,ruleCode:ag,ruleR1Code:V,ruleR2Code:am,layoutAttributes:ah,sampling:N};if(!Z.surveysToExecuteData){Z.surveysToExecuteData={}}Z.surveysToExecuteData[ab]=X;ap.splice(0,1);return F(ap,P,Z)}}else{if(Z.surveysToExecuteData){var aq=null;var ak=[];for(var at in Z.surveysToExecuteData){var ae=at;ak[ak.length]=ae;aq=((aq==null||aq>Z.surveysToExecuteData[ae]["timeSpent"])?Z.surveysToExecuteData[ae]["timeSpent"]:aq)}var aa=Z.startExecutionTime?(new Date()).getTime()-Z.startExecutionTime:0;Z.totalTimeElapsed=Z.totalTimeElapsed+aa;Z.minTimespentVal=(aq-aa<0)?0:aq-aa;return L(ak,Z.surveysToExecuteData,Z,P)}}},H=function(P,O,S,U){try{if(O.startTimestamp||O.endTimestamp){if(c.ruleExecutor.dependency.util.geoDataExists()){var R=t.getServerTimeStamp(),T=O.startTimestamp,N=O.endTimestamp;if(N<R||R<T){return U()}}}if((S._surveyOptions.skipRules)||(!O.ruleR1Code)||(c.ruleExecutor.execute(P,O.ruleR1Code,S._surveyOptions.ruleData))){if(!S.surveysToExecuteData){S.surveysToExecuteData={}}S.surveysToExecuteData[P]=O}return U()}catch(Q){if(Q&&Q.type){c.ruleExecutor.util.loadDependency(Q.type,O,function(){H(P,O,S,U)},U)}else{c.eLog(Q);U()}}},M=function(P,Q,O,U,R,S){if(R.rendered||(O&&R.pfsId&&R.pfsId!==P)){return}if(R.pfsId&&R.pfsId===P){var T=0;var V=setInterval(function(){T++;if(typeof R.animateSurvey==="function"){clearInterval(V);R.animateSurvey()}if(T>25){clearInterval(V)}},200)}else{var N=0;var W=0;if(!O){if(arguments&&arguments[0]){W=Q||0}N=R.totalTimeElapsed+R.minTimespentVal}else{R.pfsId=P}c.setTimeout(function(){R.layoutAttributes=S;K.apply(R,[P,O])},((W-N)<0?0:(W-N)))}},G=function(T,P){var S=this;for(var Q=0;Q<T.length;Q++){var R=T[Q];var O=P[R].sampling||100;var N=c.ruleExecutor.util.sampling(R);if(O>=N){return R}else{c.util.markEntityAsShown(R,"survey",S,true);c.setTimeout(function(){S.dump("abs_view",{id:R})},10)}}},L=function(N,P,Q,O){c.setTimeout(function(){var U;var S=function(aa){for(var X=0;X<aa.length;X++){var Z=aa[X];var W=O[Z];if(typeof U==="undefined"){U=W.order}if(U===W.order){var Y=(function(ab){return function(){var ad=P[ab].sampling||100;var ac=c.ruleExecutor.util.sampling(ab);if(ad>=ac){M(ab,(P[ab]["timeSpent"]||0),P[ab]["showOnExit"],P[ab]["maxTimesPerUser"],Q,P[ab]["layoutAttributes"])}else{c.util.markEntityAsShown(ab,"survey",Q,true);c.setTimeout(function(){Q.dump("abs_view",{id:ab})},10)}}})(Z);if(Q._surveyOptions.skipRules||!(W.ruleR2Code||W.eventRuleCode)){Y();return}if(P[Z]["showOnExit"]){M(Z,(P[Z]["timeSpent"]||0),P[Z]["showOnExit"],P[Z]["maxTimesPerUser"],Q,P[Z]["layoutAttributes"])}c.ruleExecutor.pushToQueue(W.ruleR2Code||W.eventRuleCode,Y)}}c.events.publish("storeChange")};if(!Q._surveyOptions.forcedRender){var R=[];for(var V=0;V<N.length;V++){if(V>0){R[R.length]="&"}R[R.length]="surveyIds="+N[V]}var T=p.findAllTakenSurveysUrl()+"&"+R.join("")+(Q._surveyOptions.scope?"&scope="+encodeURIComponent(t.stringify(Q._surveyOptions.scope)):"");t.loadScript.apply(p.widgetContainer,[T,function(X,Z,Y){var ad=[],aa={};if(typeof we_notToExecuteSurveyIdsMap!="undefined"){if(we_notToExecuteSurveyIdsMap.takenSurveyIds!==e&&we_notToExecuteSurveyIdsMap.takenSurveyIds.length>0){for(var W=0;W<we_notToExecuteSurveyIdsMap.takenSurveyIds.length;W++){var ae=Q._surveyOptions.scope[we_notToExecuteSurveyIdsMap.takenSurveyIds[W]]||Q._surveyOptions.scope.all||null;var ag=(ae&&ae.scope?ae.scope:"");var ac=(ae&&ae.scopeType?ae.scopeType:"");aa[we_notToExecuteSurveyIdsMap.takenSurveyIds[W]]=true;t.markSurveyAsTaken((we_notToExecuteSurveyIdsMap.takenSurveyIds[W]+(ag&&(ac+"").toUpperCase()!="GLOBAL"?"["+t.escapeScopeChars(ag)+"]":"")))}}if(we_notToExecuteSurveyIdsMap.inactiveSurveyIds!==e&&we_notToExecuteSurveyIdsMap.inactiveSurveyIds.length>0){for(var ab=0;ab<we_notToExecuteSurveyIdsMap.inactiveSurveyIds.length;ab++){aa[we_notToExecuteSurveyIdsMap.inactiveSurveyIds[ab]]=true}}}for(var af=0;af<Z.length;af++){if(!aa[Z[af]]){ad[ad.length]=Z[af]}}S(ad)},[P,N,Q.totalTimeElapsed]])}else{S(N)}},Q.minTimespentVal)};return{cbid:1,render:function(N){return c.withELog(function(){return(new function(){c.survey.clear();var R=this;R.cbid=1;J[J.length]=R;R.abort=function(){t.abortInstance(this)};var P={surveyId:f["webengage.survey.surveyId"]||"",skipRules:f["webengage.survey.skipRules"]||false,forcedRender:f["webengage.survey.forcedRender"]||false,delay:f["webengage.survey.delay"]||-1,customData:t.copy({},f["webengage.survey.customData"]||f["webengage.customData"]||{}),ruleData:t.copy({},f["webengage.survey.ruleData"]||f["webengage.ruleData"]||{}),isDemoMode:f["webengage.survey.isDemoMode"]||f["webengage.isDemoMode"]||false,alignment:f["webengage.survey.alignment"]||"",scope:f["webengage.survey.scope"]||f["webengage.scope"]||"",scopeType:f["webengage.survey.scopeType"]||f["webengage.scopeType"]||"",enableCallbacks:f["webengage.survey.enableCallbacks"]||f["webengage.enableCallbacks"]||false,width:f["webengage.survey.width"]};var X={showAllClosedAndTakenSurveys:"forcedRender",data:"customData",demo:"isDemoMode"};if(N!==e&&!t.isEmptyObject(N)){for(var O in N){var S=X[O];if(S!==e&&S){N[S]=N[O];delete N[O]}}}if(N&&N.customData){P.customData=t.copy(P.customData,N.customData,true);delete N.customData}if(N&&N.ruleData){P.ruleData=t.copy(P.ruleData,N.ruleData,true);delete N.ruleData}R._surveyOptions=t.copy(P,(N?N:{}),true);R._surveyOptions.forcedRender=typeof R._surveyOptions.forcedRender==="boolean"?R._surveyOptions.forcedRender:false;if(R._surveyOptions.forcedRender){R._surveyOptions.scope=(new Date()).getTime();R._surveyOptions.scopeType="session"}var Q={};I(R._surveyOptions.scope,R._surveyOptions.scopeType,Q);R._surveyOptions.scope=Q||"";R.enableCallbacks=(typeof R._surveyOptions.enableCallbacks==="boolean"?R._surveyOptions.enableCallbacks:false);if(D.survey&&(D.survey.isEnabled||R._surveyOptions.isDemoMode)&&!t.isEmptyObject(D.survey.ruleMap)&&(a.location.protocol=="http:"||(a.location.protocol=="https:"&&D.sslEnabled))&&!D.isSRQuotaOver){t.copy(R,y,true);R.onLoad((R._surveyOptions.onLoad||f["webengage.survey.onLoad"]));R.onSubmit((R._surveyOptions.onSubmit||f["webengage.survey.onSubmit"]));R.onClose((R._surveyOptions.onClose||f["webengage.survey.onClose"]));R.onOpen((R._surveyOptions.onOpen||f["webengage.survey.onOpen"]));R.onComplete((R._surveyOptions.onComplete||f["webengage.survey.onComplete"]));R.dump=function(ac,Z){var ab=this;var Y={id:ab.surveyEId,layoutId:ab.layout},aa={};t.copy(Y,(Z||{}),true);Y.tvc=t.getTotalTimesShown(Y.id,"survey",false,(ac==="abs_view"?true:false));Y.tvcs=t.getTotalTimesShown(Y.id,"survey",true,(ac==="abs_view"?true:false));if(ab.showOnExit){Y.showOnExit=ab.showOnExit}if(!t.isEmptyObject(ab._surveyOptions.ruleData)){Y.ruleData=ab._surveyOptions.ruleData}if(!t.isEmptyObject(ab._surveyOptions.customData)){aa=ab._surveyOptions.customData}this.executeCallbacks("dump",Y,ac);c.dump("survey_"+ac,aa,Y)};t.attachEventListners("survey",R);R.totalTimeElapsed=0;var T=D.survey.ruleMap,W=D.survey.order,U=R._surveyOptions.surveyId;if(U&&T[U]){var V=[];V[0]=U;W=V}R.startExecutionTime=(new Date()).getTime();F(W,T,R)}else{if(D.survey&&D.survey.isEnabled&&a.location.protocol=="https:"&&!D.sslEnabled){c.eLog(null,"error","Survey - Widget turned off for SSL encrypted page","Survey - Widget turned off for SSL encrypted page")}}})})},clear:function(){c.withELog(function(){try{if(a.getElementById(p.widgetContainerId+"-base")){var N=a.getElementsByTagName("webengagedata")[0]}else{p.widgetContainer.removeChild(a.getElementById(p.widgetContainerId+"-survey-content"))}}catch(O){}a.$SurveyWidgetInitializer=null;J=[]})},abort:function(){t.abortAllInstances(J)},attachEventListner:function(){var N=this,O=arguments;c.withELog(function(){t.bind.apply(N,O);if(J.length>0){for(var P=0;P<J.length;P++){J[P].enableCallbacks=true;t.bind.apply(J[P],O)}}})}}})());t.extend("IFRAMES",(function(){var F=[];return{create:function(I,K,M){this.remove(I);var N=M||{};var G;try{G=a.createElement('<iframe name="'+I+'">')}catch(L){G=a.createElement("iframe");G.name=I}G.id=I;if(c.BrowserDetect.is_this_the_worlds_most_annoying_browser()){G.src="javascript:void(0);"}G.frameBorder=N.frameBorder||"0";G.marginHeight=N.marginHeight||"0";G.marginWidth=N.marginWidth||"0";G.allowTransparency=N.allowTransparency||"true";var H=G.style;H.zIndex=(t.getMaxZIndex()+1);H.position="absolute";H.backgroundColor=N.backgroundColor||"transparent";H.bottom=N.bottom||"0px";H.right=N.right||"0px";H.border=N.border||"none";H.overflow=N.overflow||"hidden";H.visibility=N.visibility||"hidden";var J=K||p.widgetContainer;J.appendChild(G);F[I]=G;try{G.contentWindow.name}catch(L){c.eLog(L);G.src='javascript:(function () {document.open();document.domain="'+a.domain+'";document.close();})();'}if(typeof(N.onload)==="function"){t.addListener(G,"load",N.onload)}return G},get:function(G){return F[G]},resize:function(H,G,I){var J=c.IFRAMES.get(H);J.style.height=G+"px"},remove:function(G){var H=c.IFRAMES.get(G);if(H){if(H.parentNode){H.parentNode.removeChild(H)}}if(d.frames[G]){delete d.frames[G]}delete F[G]},creatCallbackFrame:function(J,H,M,G){var L={};if(typeof(G)==="function"){L.onload=function(){c.withELog(function(){var P=F[J];if(!P.widgetCallBackStatus||P.widgetCallBackStatus===0){P.widgetCallBackStatus=1}else{if(P.widgetCallBackStatus===1){P.contentWindow.location="about:blank";P.widgetCallBackStatus=2}else{if(P.widgetCallBackStatus===2){var Q=(new Date()).getTime()+"CB";if(!c.IFRAMES.CB){c.IFRAMES.CB={}}c.IFRAMES.CB[Q]=function(R){setTimeout(function(){if(R!==e&&R!==""){try{var T=t.parseJSON(R);if(T!==null){if(T.eventName!==e){G(T.eventName,T.data)}}}catch(S){c.eLog(S)}}P.widgetCallBackStatus=0;c.IFRAMES.remove(J);P=c.IFRAMES.creatCallbackFrame(J,H,M,G)},10)};try{var N=P.contentWindow.name;c.IFRAMES.CB[Q](N)}catch(O){c.eLog(O);P.src="javascript:(function () {document.write('<script>var _data=window.name;document.domain=\""+a.domain+'";setTimeout(function(){window.parent.webengage.IFRAMES.CB["'+Q+"\"](_data);}, 10);<\/script>')})();"}}}}})}}var K=c.IFRAMES.create(J,H,L);var I=K.style;I.height=0;I.width=0;if(M){K.src=M}return K}}})());t.extend("notification",(function(){var K=[],J,G=function(S,R,Q,M){var U=this;if(S||U._notificationOptions.previewJson!==e){U.notificationId=U.notificationEId=S;U.showOnExit=M;U.layout=R||(U._notificationOptions.previewJson&&U._notificationOptions.previewJson.layout?U._notificationOptions.previewJson.layout:"");var T=U.executeCallbacks("run",U);if(typeof T==="boolean"&&!T){return}var O=c.IFRAMES.create(p.widgetContainerId+"-notification-frame",p.widgetContainer);O.style.top="-1000px";O.style.left="-1000px";var W=t.getSessionCookie();var P=null;if(O.contentDocument){P=O.contentDocument}else{if(O.contentWindow){P=O.contentWindow.document}else{if(O.document){P=O.document}}}P.open();var N=(U.layout===""?"notification-base.css":U.layout+"-notification-base.css");var L=(c.BrowserDetect.ie()&&c.BrowserDetect.version()<8)?'<link rel="stylesheet" type="text/css" href="//d3701cc9l7v9a6.cloudfront.net/css/responsive/assets/css/font/webengage/widget-font-ie7/ie7.css?v=483.0" media="screen"/><script type="text/javascript" src="//d3701cc9l7v9a6.cloudfront.net/css/responsive/assets/css/font/webengage/widget-font-ie7/ie7.js?v=483.0"><\/script><style type="text/css">.icon-large{font-size:1.3333333333333333em;margin-top:-4px;padding-top:3px;margin-bottom:-4px;padding-bottom:3px;vertical-align:middle;}.icon-extra-large{font-size:2em;margin-top:-4px;padding-top:3px;margin-bottom:-4px;padding-bottom:3px;vertical-align:middle;}</style>':"";var V=(c.BrowserDetect.ie()&&c.BrowserDetect.version()===8)?'<style type="text/css">.icon-large{font-size:1.3333333333333333em;margin-top:-4px;padding-top:3px;margin-bottom:-4px;padding-bottom:3px;vertical-align:middle;}.icon-extra-large{font-size:2em;margin-top:-4px;padding-top:3px;margin-bottom:-4px;padding-bottom:3px;vertical-align:middle;}</style>':"";P.write('<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html><head><meta http-equiv="cache-control" content="max-age=0" /><meta http-equiv="cache-control" content="no-cache" /><meta http-equiv="pragma" content="no-cache" /><meta http-equiv="content-type" content="text/html; charset=utf-8"/><link id="widget-font-id" rel="stylesheet" type="text/css" href="//d3701cc9l7v9a6.cloudfront.net/css/responsive/assets/css/font/webengage/widget-font.css?v=483.0" media="screen"/><link rel="stylesheet" type="text/css" href="//d3701cc9l7v9a6.cloudfront.net/css/webengage/notification/'+N+'?v=483.0" media="screen"/>'+L+V+'<script type="text/javascript">try{window.parent.window.name}catch(e){document.domain="'+a.domain+'";};<\/script><script type="text/javascript" src="//d3701cc9l7v9a6.cloudfront.net/js/jquery/jquery-1.3.2.min.js"><\/script></head><body class="notification-body"><script type="text/javascript">window.onload = function () { (function(d){ var _script = d.createElement("script"); _script.type = "text/javascript"; _script.src = "'+p.widgetDomain+p.notificationWidgetScriptUrl+'"; d.body.appendChild(_script); })(document);};<\/script></body></html>');P.close();c.setTimeout(function(){if(U._notificationOptions.previewJson!==e){P.$NotificationWidgetInitializer={currentInstance:U,notificationVersion:Q,containerId:p.widgetContainerId,licenseCode:j,appHost:p.baseWebEngageUrl,widgetDomain:p.widgetDomain,previewJson:U._notificationOptions.previewJson}}else{P.$NotificationWidgetInitializer={currentInstance:U,notificationVersion:Q,containerId:p.widgetContainerId,licenseCode:j,appHost:p.baseWebEngageUrl,widgetDomain:p.widgetDomain,browser:c.BrowserDetect.browser(),browserVersion:c.BrowserDetect.version(),os:c.BrowserDetect.os(),country:W.country||"",city:W.city||"",region:W.region||"",pageTitle:a.title,ip:W.ip,referrer:a.referrer}}},0)}},F=function(Q,M,S){if(Q&&Q.length>0){var W=(new Array()).concat(Q);var af=W[0],aa=t.getWebengageCookie(),U=t.getSessionCookie(),L=af,ac=M[L].layout,O=(webengage_fs_configurationMap.config.notificationConfig.wl?"W":"N")+M[L].version,Z=M[L].ruleCode,N=(!S._notificationOptions.skipRules&&typeof M[L].showOnExit==="boolean"?M[L].showOnExit:false),P=((S._notificationOptions.skipRules||N)?0:((M[L].totalTimeOnSite?M[L].totalTimeOnSite-((new Date()).getTime()-(U.sst||0)):0))),ae=((S._notificationOptions.skipRules||N)?0:((parseInt(S._notificationOptions.delay,10)>=0)?parseInt(S._notificationOptions.delay,10):Math.max(P,M[L].timespent))),R=M[L].skipTargetPage,X=M[L].actionLinks,ad=M[L].maxTimesPerUser,V=M[L].mobile;if(!S._notificationOptions.isDemoMode){if(typeof V!=="undefined"&&V&&!c.BrowserDetect.isMobile()){W.splice(0,1);return F(W,M,S)}if(!S._notificationOptions.forcedRender&&((U&&U.closedNIds!==e&&U.closedNIds.indexOf("##"+L)>=0)||(aa&&aa.takenNIds!==e&&aa.takenNIds.indexOf("##"+L)>=0))){W.splice(0,1);return F(W,M,S)}if(R&&X instanceof Array&&X.length>0){for(var ab in X){var T=a.createElement("a");T.href=X[ab];X[ab]="^"+t.escapeForRegExp(T.href)+"$";T=null}if(c.ruleExecutor.util.isMatches(t.getClientPageUrl(),X)){W.splice(0,1);return F(W,M,S)}}var Y=c.util.getTotalTimesShown(L,"notification");if(!S._notificationOptions.isDemoMode&&!S._notificationOptions.forcedRender&&ad!==e){if(ad<=Y){W.splice(0,1);return F(W,M,S)}}M[L]["timeSpent"]=ae;M[L]["showOnExit"]=N;I(L,M[L],S,function(){W.splice(0,1);return F(W,M,S)})}else{M[L]["timeSpent"]=ae;M[L]["showOnExit"]=N;H(L,M[L],S)}}else{c.events.publish("storeChange")}},I=function(Q,L,R,U){try{if(L.startTimestamp||L.endTimestamp){if(c.ruleExecutor.dependency.util.geoDataExists()){var S=t.getServerTimeStamp(),P=L.startTimestamp,M=L.endTimestamp;if(M<S||S<P){return U()}}}if((R._notificationOptions.skipRules)||(!L.ruleR1Code)||(c.ruleExecutor.execute(Q,L.ruleR1Code,R._notificationOptions.ruleData))){var N=R.startExecutionTime?(new Date()).getTime()-R.startExecutionTime:0;R.totalTimeElapsed=R.totalTimeElapsed+N;if(typeof J==="undefined"){J=L.order}if(J===L.order){var T=(function(W,X,V){return function(){var Z=X.sampling||100;var Y=c.ruleExecutor.util.sampling(W);if(Z>=Y){return H(W,X,V)}else{c.util.markEntityAsShown(W,"notification",V,true);c.setTimeout(function(){V.dump("abs_view",{id:W})},10);return U()}}})(Q,L,R);if(R._notificationOptions.skipRules||!L.ruleR2Code){T();return}if(L.showOnExit){H(Q,L,R)}c.ruleExecutor.pushToQueue(L.ruleR2Code,T)}}return U()}catch(O){if(O&&O.type){c.ruleExecutor.util.loadDependency(O.type,L,function(){I(Q,L,R,U)},U)}else{c.eLog(O);U()}}},H=function(P,N,O){if(O.rendered||(N.showOnExit&&O.pfnId&&O.pfnId!==P)){return}var M=N.timeSpent||0;var R=(function(U,S,T){return function(){t.withWeJquery(function(){c.setTimeout(function(){G.apply(T,[U,S.layout,S.version,S.showOnExit])},(S.showOnExit?0:((M-T.totalTimeElapsed)<0?0:(M-T.totalTimeElapsed))))})}})(P,N,O);if(O.pfnId&&O.pfnId===P){var L=0;var Q=setInterval(function(){L++;if(typeof O.animateNotification==="function"){clearInterval(Q);O.animateNotification()}if(L>25){clearInterval(Q)}},200)}else{if(N.showOnExit){O.pfnId=P}c.GEO.load(R,R)}};return{cbid:1,render:function(L){return c.withELog(function(){return(new function(){c.notification.clear();var R=this;R.cbid=1;K[K.length]=R;R.abort=function(){t.abortInstance(this)};var N={notificationId:f["webengage.notification.notificationId"]||"",skipRules:f["webengage.notification.skipRules"]||false,delay:f["webengage.notification.delay"]||-1,isDemoMode:f["webengage.notification.isDemoMode"]||f["webengage.isDemoMode"]||false,customData:t.copy({},f["webengage.notification.customData"]||f["webengage.customData"]||{}),ruleData:t.copy({},f["webengage.notification.ruleData"]||f["webengage.ruleData"]||{}),tokens:f["webengage.notification.tokens"]||f["webengage.tokens"]||{},previewJson:f["webengage.notification.previewJson"],forcedRender:f["webengage.notification.forcedRender"]||false,enableCallbacks:f["webengage.notification.enableCallbacks"]||f["webengage.enableCallbacks"]||false};var O={data:"customData",demo:"isDemoMode"};if(L!==e&&!t.isEmptyObject(L)){for(var M in L){var S=O[M];if(S!==e&&S){L[S]=L[M];delete L[M]}}}if(L&&L.customData){N.customData=t.copy(N.customData,L.customData,true);delete L.customData}if(L&&L.ruleData){N.ruleData=t.copy(N.ruleData,L.ruleData,true);delete L.ruleData}R._notificationOptions=t.copy(N,(L?L:{}),true);R.enableCallbacks=(typeof R._notificationOptions.enableCallbacks==="boolean"?R._notificationOptions.enableCallbacks:false);t.copy(R,y,true);R.onRun((R._notificationOptions.onRun||f["webengage.notification.onRun"]));R.onLoad((R._notificationOptions.onLoad||f["webengage.notification.onLoad"]));R.onClick((R._notificationOptions.onClick||f["webengage.notification.onClick"]));R.onClose((R._notificationOptions.onClose||f["webengage.notification.onClose"]));R.onOpen((R._notificationOptions.onOpen||f["webengage.notification.onOpen"]));t.attachEventListners("notification",R);R.dump=function(Z,W){var Y=this;var V={id:Y.notificationId,layoutId:Y.layout},X={};t.copy(V,W||{},true);V.tvc=t.getTotalTimesShown(V.id,"notification",false,(Z==="abs_view"?true:false));V.tvcs=t.getTotalTimesShown(V.id,"notification",true,(Z==="abs_view"?true:false));if(!t.isEmptyObject(Y._notificationOptions.tokens)){V.tokens=t.copy({},Y._notificationOptions.tokens)}if(!t.isEmptyObject(Y._notificationOptions.ruleData)){V.ruleData=Y._notificationOptions.ruleData}if(Y.clickedCTA){V.cta=Y.clickedCTA}this.executeCallbacks("dump",V,Z);if(!t.isEmptyObject(Y._notificationOptions.customData)){X=Y._notificationOptions.customData}c.dump("notification_"+Z,X,V)};if(R._notificationOptions.previewJson!==e){t.withWeJquery(function(){G.apply(R)})}else{if(D.notification&&(D.notification.isEnabled||R._notificationOptions.isDemoMode)&&(a.location.protocol=="http:"||(a.location.protocol=="https:"&&D.sslEnabled))&&!D.isNQuotaOver){var T=D.notification.order,P=D.notification.ruleMap;R.totalTimeElapsed=0;var Q=R._notificationOptions.notificationId;if(Q&&P[Q]){var U=[];U[0]=Q;T=U}R.startExecutionTime=(new Date()).getTime();F(T,P,R)}else{if(D.notification&&D.notification.isEnabled&&a.location.protocol=="https:"&&!D.sslEnabled){c.eLog(null,"error","Notification - Widget turned off for SSL encrypted page","Notification - Widget turned off for SSL encrypted page")}}}})})},getNotificationFrame:function(){return a.getElementById(p.widgetContainerId+"-notification-frame")},resize:function(N){var M=a.getElementById(p.widgetContainerId+"-notification-frame");M.height=N.height||M.contentWindow.document.body.scrollHeight;M.width=N.width||M.contentWindow.document.body.scrollWidth;var L=M.style;L.visibility="visible";L.height=parseInt(N.height||M.contentWindow.document.body.scrollHeight)+"px";L.width=parseInt(N.width||M.contentWindow.document.body.scrollWidth)+"px";L.top="auto";L.bottom="0px";L.left="auto";if("right"==N.launchType){L.right="0px"}else{L.left="0px"}},clear:function(){var L=this;c.withELog(function(){try{c.IFRAMES.remove(p.widgetContainerId+"-notification-frame")}catch(M){}K=[]})},abort:function(){t.abortAllInstances(K)},attachEventListner:function(){var L=this,M=arguments;c.withELog(function(){t.bind.apply(L,M);if(K.length>0){for(var N=0;N<K.length;N++){K[N].enableCallbacks=true;t.bind.apply(K[N],M)}}})}}})());t.extend("",{abort:function(){c.withELog(function(){c.feedback.abort();c.survey.abort();c.notification.abort()})}});t.extend("",{init:function(F){var G=function(H){if(F[H]!==e&&F[H]){f["webengage."+H]=F[H]}};G("licenseCode");G("language");G("isDemoMode");G("delay");f["webengage.widgetVersion"]="3.0";if(f["webengage.licenseCode"]!==e&&f["webengage.licenseCode"]){t.onDocReady(function(){c.frameSync.init(function(){c.util.withCookies(["_we_wk_ls_","_we_wk_ss_"],r)})})}return c}});t.extend("",{onReady:function(F){if(F!==e&&typeof F==="function"){f["webengage.oldOnReady"]=F}}});t.extend("",{render:function(F){if(F){if(F.showFeedbackByDefault!==e&&!F.showFeedbackByDefault){f["webengage.feedback.defaultRender"]=false}if(F.showSurveyByDefault!==e&&!F.showSurveyByDefault){f["webengage.survey.defaultRender"]=false}if(F.showNotificationByDefault!==e&&!F.showNotificationByDefault){f["webengage.notification.defaultRender"]=false}}l()}});var r=function(){j=f["webengage.licenseCode"];var U=a.createElement("webengagedata");a.body.insertBefore(U,null);p.weDataContainer=U;try{var I=a.createElement("style");var N=a.createTextNode("#webklipper-publisher-widget-container, #webklipper-publisher-widget-container * {overflow:visible; -webkit-box-sizing: content-box; -moz-box-sizing: content-box;  box-sizing: content-box;}");I.type="text/css";if(I.styleSheet){I.styleSheet.cssText=N.nodeValue}else{I.appendChild(N)}p.weDataContainer.appendChild(I)}catch(aa){}var X=a.createElement("div");X.setAttribute("id",p.widgetContainerId);p.weDataContainer.appendChild(X);p.widgetContainer=X;var ac=c.BrowserDetect.browser(),Z=c.BrowserDetect.device();try{if(ac==="Firefox"&&Z==="Desktop"){var ab=t.getCookie("_we_wk_chck_"+f["webengage.licenseCode"]+"_",true),ad=ab?ab.split("|"):[null,null,null,0,0],S=ad[0],K=ad[1],P={luid:"NP",tpvc:"NP"},M={suid:"NP",pvc:"NP",landingPage:"NP",chckURL:"NP"},Q=t.getCookie("_we_wk_ss_lsf_",true),J=w._we_wk_ls_,O=w._we_wk_ss_,G=c.LZString.decompressFromBase64(t.getCookie("_we_wk_ls_")||""),L=c.LZString.decompressFromBase64(t.getCookie("_we_wk_ss_")||""),F=c.LZString.decompressFromBase64(t.getCookie("_we_wk_ls_",true)||""),H=c.LZString.decompressFromBase64(t.getCookie("_we_wk_ss_",true)||""),V=[],R=0,T=0;ad[3]=parseInt(ad[3]||0);ad[4]=parseInt(ad[4]||0);G=G?t.parseJSON(G):null;L=L?t.parseJSON(L):null;F=F?t.parseJSON(F):null;H=H?t.parseJSON(H):null;if(c.frameSync.status){if(J&&S&&J.luid!==S){R|=1}if(O&&K&&String(O.suid)!==K){T|=1}}else{c.eLog(null,"exception",c.frameSync.data||"",c.frameSync.message);ad[3]+=1}if(G&&S&&G.luid!==S){R|=2}if(L&&K&&String(L.suid)!==K){T|=2}}}catch(aa){}var W=t.getWebengageCookie(true);if(!W){W=t.setWebengageCookie()}else{if(!W.luid){W=t.setWebengageCookie(W)}}var Y=t.getSessionCookie(true);if(!Y||!Y.suid){Y=t.setSessionCookie(Y,true);W=t.updateTSC()}try{if(ac==="Firefox"&&Z==="Desktop"){if(S&&W.luid!==S){ad[0]=W.luid;R|=4}else{if(!S){ad[0]=W.luid}}if(K&&String(Y.suid)!==K){ad[1]=Y.suid;T|=4}else{if(!K){ad[1]=Y.suid}}if(R>0||T>0){J=J||P;G=G||P;F=F||P;O=O||M;L=L||M;H=H||M;V.push("WLS:"+[J.luid,O.suid,J.tpvc,O.pvc,O.landingPage.substring(0,60),O.chckURL.substring(0,60)].join(" "));V.push("LLS:"+[G.luid,L.suid,G.tpvc,L.pvc,L.landingPage.substring(0,60),L.chckURL.substring(0,60)].join(" "));V.push("LCK:"+[F.luid,H.suid,F.tpvc,H.pvc,H.landingPage.substring(0,60),H.chckURL.substring(0,60)].join(" "));V.push("MG:"+[W.luid,Y.suid,W.tpvc,Y.pvc,Y.landingPage.substring(0,60),Y.chckURL.substring(0,60)].join(" "));V.push("VCK:"+[S,K,"NP",ad[4],"NP",ad[2]].join(" "));V.push("FS.S:"+(c.frameSync.message||"Loaded"));V.push("PSF:"+ad[3]);V.push("DR:"+a.referrer);V.push("LSF:"+Q);c.eLog(null,"exception",V.join("\n"),"("+R+T+") Storage UID mismatch")}ad[2]=d.location.href.substring(0,60);ad[4]+=1;t.onReady(function(){t.setCookie("_we_wk_chck_"+f["webengage.licenseCode"]+"_",ad.join("|"),"","/",webengage_fs_configurationMap.domain,"",true)})}}catch(aa){}W=t.updateTPVC();if(typeof W.isGzip==="undefined"){if(typeof f.isGzip!="undefined"){W=t.setGZIPFlag((f.isGzip?true:false));n(W.isGzip,W.luid,Y.suid)}else{t.loadScript.apply(p.widgetContainer,["//z.webengage.com/gz.js",function(){W=t.setGZIPFlag((typeof f.isGzip!="undefined"&&f.isGzip?true:false));n(W.isGzip,W.luid,Y.suid)}])}}else{n(W.isGzip,W.luid,Y.suid)}};var n=function(G,H,F){d.webengage.setTimeout(function(){var L=(G?"webengage-zfiles":"webengage-files"),I=Math.floor((new Date()).getTime()/60000);var J="//s3.amazonaws.com/"+L+"/webengage/"+j+"/v4.js?r="+I+"&u="+H+"|"+F;var K=function(){var M=c.setInterval(function(){if(typeof webengage_fs_configurationMap!=="undefined"&&webengage_fs_configurationMap.config){clearInterval(M);if(((webengage_fs_configurationMap.sites!==e&&webengage_fs_configurationMap.sites)||(webengage_fs_configurationMap.domain!==e&&webengage_fs_configurationMap.domain))&&!f["webengage.isDemoMode"]){var U=false;var O=t.getClientPageHost(),R;if(O.match(/\:[\d]*$/)){R=O.substring(O.indexOf(":")+1,O.length);O=O.substring(0,O.indexOf(":"))}var aa=[];var V=[];if(webengage_fs_configurationMap.sites===e||!webengage_fs_configurationMap.sites){webengage_fs_configurationMap.sites={};webengage_fs_configurationMap.sites[webengage_fs_configurationMap.domain]="DOMAIN"}for(var Y in webengage_fs_configurationMap.sites){var W=Y,Z;if(webengage_fs_configurationMap.sites[Y]=="DOMAIN"){aa[aa.length]=W;if(W.match(/^www\./i)){W=W.substring(4,W.length)}if(W.match(/\:[\d]*$/)){Z=W.substring(W.indexOf(":")+1,W.length);W=W.substring(0,W.indexOf(":"))}if((O.match(new RegExp(t.escapeForRegExp(W)+"$","gi"))&&(!Z||Z==R))){U=true;break}}else{if(webengage_fs_configurationMap.sites[Y]=="REGEXP"){var Q=W;V[V.length]=W;if((t.getClientPageUrl().match(Q))){U=true;break}}}}for(var Y in webengage_fs_configurationMap.events){var N=webengage_fs_configurationMap.events[Y],T=[Y];if(N){if(N instanceof Array){T=T.concat(N)}else{T.push(N)}}c.events.register.apply(null,T);c.events.subscribe(Y,c.events.subscriber)}c.events.subscribe("storeChange",c.ruleExecutor.storeListener);U=(f["webengage.notification.previewJson"]?true:U);if(!U){var S='The <a style="color: #00f;" href="http://webengage.com/" target="_blank">WebEngage (Survey, Feedback &amp; Notification)</a> widget on this page is incorrectly configured. It is meant for use only on ';if(aa.length>0){S+="<b>"+aa.join(", ")+"</b>"}if(V.length>0){if(aa.length>0){S+=(" and ")}S+=("pages with URLs that matches following regular expression(s) <b>"+V.join(", ")+"</b>")}c.logger.error(S+".");return}}p.publisherTimeZoneOffset=webengage_fs_configurationMap.tzo;t.copy(D,(function(ab){return{configurationMap:ab?ab:{}}})(webengage_fs_configurationMap));var X=t.getSessionCookie(),P=t.getWebengageCookie();if(!f["webengage.isDemoMode"]&&!X.vtd){c.dump("visitor_new_session",null,{lp:a.location.href});t.setVTD();t.setLST()}v(L)}},1)};if(typeof webengage_fs_configurationMap!=="undefined"&&webengage_fs_configurationMap){K()}else{t.loadScript.apply(p.widgetContainer,[J,K,null,function(){}])}},(f["webengage.delay"]&&parseInt(f["webengage.delay"])>0?parseInt(f["webengage.delay"]):0))},E=function(J,F,H,I){var G="//s3.amazonaws.com/"+J+"/webengage/"+j+"/"+F[H]+".js?r="+I[H];t.loadScript.apply(p.widgetContainer,[G,function(){if(H==(F.length-1)){g()}else{E.apply(this,[J,F,(H+1),I])}}])},i=function(M){var H=f["webengage.customWidgetCode.ruleData"]||f["webengage.ruleData"]||{};var G=[];var I=[];if(webengage_fs_configurationMap.cwcRuleList){var K=webengage_fs_configurationMap.cwcRuleList;for(var J=0;J<K.length;J++){var L=K[J].ruleCode;if(L){if(!c.ruleExecutor.execute(K[J].cwcEncId,L,H)){continue}}var F=G.length;G[F]=K[J].cwcEncId;I[F]=K[J].lastModifiedTimestamp}}if(G.length>0){E.apply(this,[M,G,0,I])}else{g()}},v=function(F){if((a.location.protocol=="http:"||(a.location.protocol=="https:"&&webengage_fs_configurationMap.sslEnabled))){t.usckwl(webengage_fs_configurationMap.domain);if(webengage_fs_configurationMap.cwcRuleList&&webengage_fs_configurationMap.cwcRuleList.length>0){i(F)}else{g()}}else{if(a.location.protocol=="https:"&&!D.sslEnabled){c.eLog(null,"error","Widget turned off for SSL encrypted page","CustomWidgetCode - Widget turned off for SSL encrypted page")}}},g=function(){(function(G){t.extend("widgetConfiguration",{});if(G&&G.config){t.copy(D,{feedback:{isEnabled:(typeof G.config.enableFeedback=="boolean"&&G.config.enableFeedback),config:G.config.feedbackConfig?G.config.feedbackConfig:{}}},true);t.copy(D,{survey:{isEnabled:(typeof G.config.enableSurvey=="boolean"&&G.config.enableSurvey),config:G.config.surveyConfig?G.config.surveyConfig:{},order:[],ruleMap:{}}},true);(function(K){if(G.surveyRuleList){var I=G.surveyRuleList;for(var J=0;J<I.length;J++){K.order[J]=I[J].surveyEncId;K.ruleMap[I[J].surveyEncId]=I[J];K.ruleMap[I[J].surveyEncId]["showOnExit"]=I[J].pf}}})(D.survey);t.copy(D,{notification:{isEnabled:(typeof G.config.enableNotification=="boolean"&&G.config.enableNotification),order:[],ruleMap:{}}},true);(function(J){if(G.notificationRuleList){var K=G.notificationRuleList;for(var I=0;I<K.length;I++){J.order[I]=K[I].notificationEncId;J.ruleMap[K[I].notificationEncId]={events:K[I].events,ruleR1Code:(function(){var L="";var N=K[I].pageRuleCode,M=K[I].sessionRuleCode;switch(true){case (N&&M&&true):L=N+" && "+M;break;case (N&&true):L=N;break;case (M&&true):L=M;break}return L})(),ruleR2Code:K[I].eventRuleCode,ruleCode:K[I].ruleCode,timespent:parseInt(K[I].timeSpent)!="NaN"?parseInt(K[I].timeSpent):0,totalTimeOnSite:parseInt(K[I].totalTimeOnSite)!="NaN"?parseInt(K[I].totalTimeOnSite):0,actionLinks:K[I].actionLinks||[],skipTargetPage:typeof(K[I].skipTargetPage)=="boolean"?K[I].skipTargetPage:false,maxTimesPerUser:K[I].maxTimesPerUser,startTimestamp:K[I].startTimestamp,endTimestamp:K[I].endTimestamp,layout:K[I].layout,version:((typeof K[I].v!="undefined")?K[I].v:0),showOnExit:K[I].pf,mobile:K[I].mobile,sampling:K[I].sampling,order:K[I].order}}}})(D.notification);t.copy(D,{sslEnabled:(G.sslEnabled?G.sslEnabled:false),isSRQuotaOver:(G.isSRQ?G.isSRQ:false),isNQuotaOver:(G.isNQ?G.isNQ:false),isFQuotaOver:(G.isFQ?G.isFQ:false)},true);t.uwats(G.lastWidgetCheckDate)}function H(){function L(N){var P=N.split("."),Q=c;for(var O=0;O<P.length;O++){if(typeof Q==="undefined"){break}else{Q=Q[P[O]]}}return Q}if(c.__queue&&c.__queue.length>0){for(var J=0;J<c.__queue.length;J++){var K=c.__queue[J];if(K&&K[0]){var M=L(K[0]),I=K[1];if(M&&typeof M==="function"){M.apply(null,I)}}}c.__queue=[]}}function F(){var I=[];s=true;if(f["webengage.oldOnReady"]!==e&&typeof f["webengage.oldOnReady"]==="function"){I[I.length]=f["webengage.oldOnReady"];I[I.length]=H;I[I.length]=C}else{if(f["webengage.onReady"]!==e&&typeof f["webengage.onReady"]==="function"){I[I.length]=f["webengage.onReady"]}I[I.length]=H;I[I.length]=C;I[I.length]=l}var J=function(M){for(var L=0,K=M.length;L<K;L++){if(typeof M[L]==="function"){try{M[L].call(c)}catch(N){setTimeout(function(){throw N},1)}}else{if(t.isArray(M[L])){J(M[L])}}}};J(I);c.util.addListener(d,"beforeunload",function(){c.withELog(function(){c.winUnloading=true;if(c.BrowserDetect.ie()&&c.BrowserDetect.version()<11){t.setWebengageCookie(t.getWebengageCookie());t.updateSessionCookie(t.getSessionCookie())}})})}if(G&&G.goals!==e&&G.goals instanceof Array){t.loadScript.apply(p.widgetContainer,[p.csUrl,function(){if(c.goals&&typeof c.goals.init==="function"){c.goals.init(G)}}])}if(G&&G.GAEnabled){if((f["GA.universalAnalyticsFunction"]&&typeof d[f["GA.universalAnalyticsFunction"]]==="function")||typeof d.ga==="function"||d._gaq){t.loadScript.apply(p.widgetContainer,[p.gaCallbacksScriptUrl,F,null,F])}else{c.eLog(f["webengage.licenseCode"],"error","_gaq/ga undefined - not loading ga-callback-helper","_gaq/ga undefined");F()}}else{F()}})(D.configurationMap)},l=function(){var F=function(H){var G=typeof f["webengage."+H+".defaultRender"]==="boolean"?f["webengage."+H+".defaultRender"]:f["webengage.defaultRender"];return(typeof G==="boolean"?G:true)};if(F("feedback")){setTimeout(function(){c.feedback.render()},1)}if(F("survey")){setTimeout(function(){c.survey.render()},1)}if(F("notification")){setTimeout(function(){c.notification.render()},1)}};if(d.webengageWidgetInit!==e&&typeof d.webengageWidgetInit==="function"){try{d.webengageWidgetInit()}catch(z){setTimeout(function(){throw z},1)}}else{var o=a.getElementsByTagName("webengage")[0];if(o&&o.attributes){var m=o.attributes;f["webengage.licenseCode"]=m.license.value;f["webengage.language"]=(m.language?m.language.value:"");if(m.feedbackButtonAlignment){f["webengage.feedback.alignment"]=m.feedbackButtonAlignment.value}if(m.feedbackExternalLinkId){f["webengage.feedback.externalLinkId"]=m.feedbackExternalLinkId.value}}if(f["webengage.licenseCode"]!==e&&f["webengage.licenseCode"]){t.onDocReady(function(){t.onDocReady(function(){c.frameSync.init(function(){c.util.withCookies(["_we_wk_ls_","_we_wk_ss_"],r)})})})}}var q=function(F){try{return sessionStorage.getItem(F)}catch(G){return null}};var x=function(F,G){try{sessionStorage.setItem(F,G)}catch(H){}};if(location.search.indexOf("libraryScript")>-1||q("webengage-library")=="true"){var h=new RegExp("[\\?&]libraryScript=([^&#]*)");var u=h.exec(location.search);var A;if(u!=null){A=decodeURIComponent(u[1]);x("webengage-library-script",A)}else{if(q("webengage-library-script")){A=q("webengage-library-script")}}x("webengage-library","true");if(A){c.util.withWeJquery(function(){c.util.loadScript.apply(p.widgetContainer,["//d3701cc9l7v9a6.cloudfront.net/js/library/"+A+".js?v=483.0",function(){c.feedback.abort();c.survey.abort();c.notification.abort();x("webengage-library","true")}])})}}};if(navigator.appName=="Microsoft Internet Explorer"){if(a.body&&(a.body.readyState=="loaded"||a.body.readyState=="complete")){b()}else{if(d.addEventListener){d.addEventListener("load",function(){b()},false)}else{if(d.attachEvent){d.attachEvent("onload",function(){b()})}}}}else{b()}c.getUser=function(){var g=c.util.getSessionCookie();return{pageUrl:d.location.href,pageTitle:a.title,referrer:(a.referrer||""),browser:c.BrowserDetect.browser(),browserVersion:c.BrowserDetect.version(),platform:c.BrowserDetect.os(),ip:(g?g.ip:""),city:(g?g.city:""),country:(g?g.country:"")}};c.reload=function(){c.feedback.clear();c.survey.clear();c.notification.clear();var g=a.getElementsByTagName("webengagedata")[0];if(g){g.parentNode.removeChild(g)}(function(j){var i=j.createElement("script");i.type="text/javascript";i.async=true;i.src=(j.location.protocol=="https:"?"https://ssl.widgets.webengage.com":"http://cdn.widgets.webengage.com")+"/js/widget/webengage-min-v-4.0.js";var h=j.getElementById("_webengage_script_tag");h.parentNode.insertBefore(i,h)})(a)}})(window,document,_weq,webengage)},10);