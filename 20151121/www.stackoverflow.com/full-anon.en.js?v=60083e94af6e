"use strict";function moveScroller(){var e=$("#scroller").width(),t=function(){var t=$(window).scrollTop(),n=$("#scroller-anchor").offset().top,r=$("#scroller");t>n?r.height()>$(window).height()?r.css({"position":"fixed","top":"","bottom":"0px","width":e}):r.css({"position":"fixed","top":"0px","bottom":"","width":e}):n>=t&&r.css({"position":"relative","top":"","bottom":""})};$(window).scroll(t).resize(t),t()}function sanitizeAndSplitTags(e,t,n){e=$.trim(e).replace(/([A-Za-z0-9])\+(?=[A-Za-z0-9])/g,"$1 ");for(var r=e.split(/[\s|,;]+/),i=[],a=0;a<r.length;a++){var o=r[a].toLowerCase();StackExchange.options.site.nonAsciiTags||(o=StackExchange.helpers.noDiacritics(o)),o=o.replace(/_/g,"-");var s="[^a-z0-9.#+"+(t?"*":"")+(StackExchange.options.site.nonAsciiTags?"0-9,A-Z,_,a-z,Âª,Âµ,Âº,Ã-Ã,Ã-Ã¶,Ã¸-Ë,Ë-Ë,Ë -Ë¤,Ë¬,Ë®,Í°-Í´,Í¶-Í·,Íº-Í½,Î,Î-Î,Î,Î-Î¡,Î£-Ïµ,Ï·-Ò,Ò-Ô£,Ô±-Õ,Õ,Õ¡-Ö,×-×ª,×°-×²,Ø¡-Ù,Ù -Ù©,Ù®-Ù¯,Ù±-Û,Û,Û¥-Û¦,Û®-Û¼,Û¿,Ü,Ü-Ü¯,Ý-Þ¥,Þ±,ß-ßª,ß´-ßµ,ßº,à¤-à¤¹,à¤½,à¥,à¥-à¥¡,à¥¦-à¥¯,à¥±-à¥²,à¥»-à¥¿,à¦-à¦,à¦-à¦,à¦-à¦¨,à¦ª-à¦°,à¦²,à¦¶-à¦¹,à¦½,à§,à§-à§,à§-à§¡,à§¦-à§±,à¨-à¨,à¨-à¨,à¨-à¨¨,à¨ª-à¨°,à¨²-à¨³,à¨µ-à¨¶,à¨¸-à¨¹,à©-à©,à©,à©¦-à©¯,à©²-à©´,àª-àª,àª-àª,àª-àª¨,àªª-àª°,àª²-àª³,àªµ-àª¹,àª½,à«,à« -à«¡,à«¦-à«¯,à¬-à¬,à¬-à¬,à¬-à¬¨,à¬ª-à¬°,à¬²-à¬³,à¬µ-à¬¹,à¬½,à­-à­,à­-à­¡,à­¦-à­¯,à­±,à®,à®-à®,à®-à®,à®-à®,à®-à®,à®,à®-à®,à®£-à®¤,à®¨-à®ª,à®®-à®¹,à¯,à¯¦-à¯¯,à°-à°,à°-à°,à°-à°¨,à°ª-à°³,à°µ-à°¹,à°½,à±-à±,à± -à±¡,à±¦-à±¯,à²-à²,à²-à²,à²-à²¨,à²ª-à²³,à²µ-à²¹,à²½,à³,à³ -à³¡,à³¦-à³¯,à´-à´,à´-à´,à´-à´¨,à´ª-à´¹,à´½,àµ -àµ¡,àµ¦-àµ¯,àµº-àµ¿,à¶-à¶,à¶-à¶±,à¶³-à¶»,à¶½,à·-à·,à¸-à¸°,à¸²-à¸³,à¹-à¹,à¹-à¹,àº-àº,àº,àº-àº,àº,àº,àº-àº,àº-àº,àº¡-àº£,àº¥,àº§,àºª-àº«,àº­-àº°,àº²-àº³,àº½,à»-à»,à»,à»-à»,à»-à»,à¼,à¼ -à¼©,à½-à½,à½-à½¬,à¾-à¾,á-áª,á¿-á,á-á,á-á,á¡,á¥-á¦,á®-á°,áµ-á,á,á-á,á -á,á-áº,á¼,á-á,á-á¢,á¨-á¹,á-á,á-á,á-á,á,á-á,á -á,á-á,á-á°,á²-áµ,á¸-á¾,á,á-á,á-á,á-á,á-á,á-á,á-á,á -á´,á-á¬,á¯-á¶,á-á,á -áª,á-á,á-á,á -á±,á-á,á -á¬,á®-á°,á-á³,á,á,á -á©,á -á ,á  -á¡·,á¢-á¢¨,á¢ª,á¤-á¤,á¥-á¥­,á¥°-á¥´,á¦-á¦©,á§-á§,á§-á§,á¨-á¨,á¬-á¬³,á­-á­,á­-á­,á®-á® ,á®®-á®¹,á°-á°£,á±-á±,á±-á±½,á´-á¶¿,á¸-á¼,á¼-á¼,á¼ -á½,á½-á½,á½-á½,á½,á½,á½,á½-á½½,á¾-á¾´,á¾¶-á¾¼,á¾¾,á¿-á¿,á¿-á¿,á¿-á¿,á¿-á¿,á¿ -á¿¬,á¿²-á¿´,á¿¶-á¿¼,â¿-â,â,â±,â¿,â-â,â,â,â-â,â,â-â,â¤,â¦,â¨,âª-â­,â¯-â¹,â¼-â¿,â-â,â,â-â,â°-â°®,â°°-â±,â± -â±¯,â±±-â±½,â²-â³¤,â´-â´¥,â´°-âµ¥,âµ¯,â¶-â¶,â¶ -â¶¦,â¶¨-â¶®,â¶°-â¶¶,â¶¸-â¶¾,â·-â·,â·-â·,â·-â·,â·-â·,â¸¯,ã-ã,ã±-ãµ,ã»-ã¼,ã-ã,ã-ã,ã¡-ãº,ã¼-ã¿,ã-ã­,ã±-ã,ã -ã·,ã°-ã¿,ã-ä¶µ,ä¸-é¿,ê-ê,ê-ê,ê-ê«,ê-ê,ê¢-ê®,ê¿-ê,ê-ê,ê¢-ê,ê-ê,ê»-ê ,ê -ê ,ê -ê ,ê -ê ¢,ê¡-ê¡³,ê¢-ê¢³,ê£-ê£,ê¤-ê¤¥,ê¤°-ê¥,ê¨-ê¨¨,ê©-ê©,ê©-ê©,ê©-ê©,ê°-í£,ï¤-ï¨­,ï¨°-ï©ª,ï©°-ï«,ï¬-ï¬,ï¬-ï¬,ï¬,ï¬-ï¬¨,ï¬ª-ï¬¶,ï¬¸-ï¬¼,ï¬¾,ï­-ï­,ï­-ï­,ï­-ï®±,ï¯-ï´½,ïµ-ï¶,ï¶-ï·,ï·°-ï·»,ï¸³-ï¸´,ï¹-ï¹,ï¹°-ï¹´,ï¹¶-ï»¼,ï¼-ï¼,ï¼¡-ï¼º,ï¼¿,ï½-ï½,ï½¦-ï¾¾,ï¿-ï¿,ï¿-ï¿,ï¿-ï¿,ï¿-ï¿":"")+"-]";o=o.replace(new RegExp(s,"g"),""),o=o.replace(/^[#+-]+/,""),o=o.replace(/[.-]+$/,""),o.length>0&&(-1==i.indexOf(o)||n&&("or"==o||"and"==o||"not"==o))&&i.push(o)}return i}function initTagRenderer(e,t){window.tagRenderer||(window.tagRendererRaw=function(n,r,i){r=r||"",i=i||"a";var a="";r||(e&&$.inArray(n,e)>-1?a="required-tag":t&&$.inArray(n,t)>-1&&(a="moderator-tag"));var o=$("<"+i+">").addClass("post-tag").addClass(a).text(n);return"a"===i.toLowerCase()&&o.attr({"rel":"tag","href":r+"/questions/tagged/"+encodeURIComponent(n),"title":function(e){return"show questions tagged '"+e.tag+"'"}({"tag":n})}),o.outerHTML()},window.tagRenderer=function(e,t,n){return $(tagRendererRaw(e,t,n))})}function showFadingHelpText(e){e.wrap('<div class="dno" />').show().parent().fadeIn("slow",function(){$(this).children().unwrap()})}function initFadingHelpText(){var e={"wmd-input":"#how-to-format","tagnames":"#how-to-tag","tag-editor":"#how-to-tag","title":"#how-to-title","wmd-input-42":"#how-to-format","edit-comment":"#how-to-comment"},t=$(".wmd-input, #tagnames, #title, .tag-editor input, #wmd-input-42, .edit-comment"),n=function(t){var n=$(t);return n.parent().hasClass("tag-editor")?e["tag-editor"]:n.hasClass("wmd-input")?e["wmd-input"]:n.hasClass("edit-comment")?e["edit-comment"]:e[$(t).attr("id")]};t.focus(function(){var e=n(this);t.each(function(){var t=n(this);t!=e&&$(t).hide()});var r=$(e);r.is(":visible")||showFadingHelpText(r)})}!function(e){function t(){}function n(e,t){if(a)return t.indexOf(e);for(var n=t.length;n--;)if(t[n]===e)return n;return-1}var r=t.prototype,i=[],a=i.indexOf?!0:!1;r.getListeners=function(e){var t=this._events||(this._events={});return t[e]||(t[e]=[])},r.addListener=function(e,t){var r=this.getListeners(e);return-1===n(t,r)&&r.push(t),this},r.removeListener=function(e,t){var r=this.getListeners(e),i=n(t,r);return-1!==i&&(r.splice(i,1),0===r.length&&(this._events[e]=null)),this},r.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},r.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},r.manipulateListeners=function(e,t,n){var r,i,a=e?this.removeListener:this.addListener,o=e?this.removeListeners:this.addListeners;if("object"==typeof t)for(r in t)t.hasOwnProperty(r)&&(i=t[r])&&("function"==typeof i?a.call(this,r,i):o.call(this,r,i));else for(r=n.length;r--;)a.call(this,t,n[r]);return this},r.removeEvent=function(e){return e?this._events[e]=null:this._events=null,this},r.emitEvent=function(e,t){for(var n=this.getListeners(e),r=n.length;r--;)n[r].apply(null,t||i)===!0&&this.removeListener(e,n[r]);return this},"function"==typeof define&&define.amd?define(function(){return t}):e.EventEmitter=t}(this);var StackExchange=StackExchange||{};StackExchange.realtime=function(){function e(e){var i=e.split(","),a=i.length,o=M%a,s=i[o];if(null!=s&&0!=s.indexOf("ws://")&&0!=s.indexOf("wss://")&&(s=("https:"===document.location.protocol?"wss://":"ws://")+s),"WebSocket"in window||"MozWebSocket"in window){if(D)try{n("closing WebSocket"),D.close()}catch(c){}if(!D){try{D="WebSocket"in window?new WebSocket(s):new MozWebSocket(s)}catch(c){return n("Sockets disabled - "+c.message),void 0}D.onopen=function(){if(B||(B=!0),M=0,n("WebSocket opened"),D&&1==D.readyState){var e="",i=StackExchange.options;if(i){var e="|";i.routeName&&(e+=i.routeName.toString()),e+="|",i.user&&i.user.userId&&(e+=i.user.userId.toString()),e+="|",i.user&&i.user.accountId&&(e+=i.user.accountId.toString()),e+="|",i.user&&i.user.rep&&(e+=i.user.rep.toString()),e=e+"|"+window.location.host+"|",i.serverTime&&(e+=i.serverTime.toString()),e+="|",n("analytic: "+e),D.send(e)}}t(),r(),setInterval(L,6e4)},D.onmessage=function(e){var t=$.parseJSON(e.data);H.emitEvent(t.action,[t.data])},D.onclose=function(){D=null,n("WebSocket closed"),5>M&&j>0&&(M++,j--,n("reconnect attempt:"+M+" max retries:"+j),setTimeout(function(){StackExchange.realtime.init(e)},(new Date).getTime()%50/20*1e3))},D.onerror=function(){n("WebSocket failed"),D=null}}}}function t(){if(null!=D&&1==D.readyState)for(var e=0,t=N.length;t>e;e++)n("sending "+N[e]),D.send(N[e])}function n(e){(StackExchange&&StackExchange.options&&StackExchange.options.enableLogging||$&&$.cookie&&$.cookie("devlog"))&&console.log("realtime: "+e)}function r(){H.addListener("hb",function(e){D.send(e)})}function i(e,n){N.push(e),n=n===!1?!1:!0,n&&t()}function a(e,t){H.addListener(e,t),i(e)}function o(e,t){H.removeListener(e,t),s(e)}function s(e){n("unsubscribing "+e);var t=$.inArray(e,N);-1!=t&&(N.splice(t,1),null!=D&&1==D.readyState&&D.send("-"+e))}function c(e,t){var n=e+"-question-"+t;s(n)}function u(e,t){var n=e+"-question-"+t;i(n),H.addListener(n,function(e){var t=$.parseJSON(e);if(t.acctid!=StackExchange.options.user.accountId)switch(t.a){case"score":b(t);break;case"comment-add":d(t);break;case"answer-add":y(t);break;case"accept":l(t);break;case"unaccept":l(t,!0);break;case"post-edit":S(t)}})}function l(e,t){1!=$("#vote-accepted-"+e.answerid).length&&($(".vote-accepted-on").remove(),t||$('.vote input[value="'+e.answerid+'"]').parent().append($("<span>",{"class":"vote-accepted-on","title":"The question owner accepted this as the best answer","text":"accepted"})))}function d(e){0==$("#comment-"+e.commentid).length&&StackExchange.comments.realtimeMessage(e.id)}function p(e,t,r,a,o,s,c){var u=e+"-"+t;O=r,U=s,i(u),H.addListener(u,function(e){n("received (active) on "+u);var r=$.parseJSON(e);if(null!=o)for(var i=0;i<o.length;i++)if(-1==$.inArray(o[i],r.tags))return;_(r,a,t),null!=c&&c(r)})}function f(e){i(e+"-qcnt-feed"),H.addListener(e+"-qcnt-feed",function(e){$("div#q-cnt").html(e)}),i(e+"-evc-feed"),H.addListener(e+"-evc-feed",function(e){$("div#evc-cnt").html(e)}),i(e+"-acnt-feed"),H.addListener(e+"-acnt-feed",function(e){$("div#a-cnt").html(e)})}function h(e){var t=e+"-review-dashboard-update";i(t),H.addListener(t,function(e){var t=$.parseJSON(e),n=$('.dashboard-activity[data-review-task="'+t.i+'"]');0==n.find('.dashboard-user[data-user="'+t.u+'"]').length&&(n.find(".dashboard-user:nth-child(6)").remove(),n.css("overflow","hidden"),n.children().css({"left":"-44px"}),n.prepend(t.html).children().animate({"left":0},function(){n.css("overflow","visible")}))})}function g(){if(null!=StackExchange.options.user.accountId){var e=StackExchange.options.user.accountId+"-topbar";i(e),H.addListener(e,function(e){StackExchange.topbar.handleRealtimeMessage(e)})}}function m(e){if(null!=StackExchange.options.user.accountId){var t=e+"-"+StackExchange.options.user.userId+"-reputation";i(t),H.addListener(t,function(e){k(e)})}}function v(e){var t=e+"-suggested-edits-count-update";i(t),H.addListener(t,function(){w()})}function b(e){var t=$('.vote input[value="'+e.id+'"]').siblings(".vote-count-post");t.text()!=e.score&&(t.text(e.score),0==$(":animated").length&&t.fadeTo("fast",.7).fadeTo("fast",1),StackExchange.question.canViewVoteCounts()&&StackExchange.vote.bindFetchVoteCounts())}function k(e){var t=$("#hlinks .reputation-score, .links-container .reputation");t.text()!=e.score&&(0==$(":animated").length&&t.fadeTo("fast",.8).fadeTo("fast",1),t.text(e).attr("title",function(e){return"your reputation: "+e.reputation}({"reputation":e})),t.trigger("reputationchange"))}function w(){$.ajax({"type":"POST","url":"/review/suggested-edit-count","data":{"fkey":StackExchange.options.user.fkey},"dataType":"json","success":function(e){e&&e.count&&x(e.count)}})}function x(e){var t=$(".suggested-edits-count");t.text()!=e&&(0==$(":animated").length&&t.fadeTo("fast",.5).fadeTo("fast",1),t.text(e))}function y(e){if(0==$("#answer-"+e.answerid).length&&(R.push(e.answerid),StackExchange.cardiologist)){if(StackExchange.cardiologist.isHeartBeating()){var t=StackExchange.helpers.DelayedReaction(E,5e3);t.trigger()}else E();StackExchange.cardiologist.notifiedOfNewAnswer()}}function E(){$("#new-answer-activity").remove(),$("#answers-header").prepend(F)}function S(e){var t=$(".question[data-questionid="+e.id+"], .answer[data-answerid="+e.id+"]"),n=$('<div class="new-post-activity" data-postid="'+e.id+'">an edit has been made to this post; click to load</div>');t.find(".new-post-activity[data-postid="+e.id+"]").length>0||t.prepend(n.click(function(){$(".new-post-activity[data-postid="+e.id+"]").remove(),0==$("#review-content").length&&$.get("/posts/ajax-load-realtime/{postIdsSemiColonDelimited}?title=true".formatUnicorn({"postIdsSemiColonDelimited":e.id}),z(t.find(".postcell, .answercell"),e)),$(document).trigger("refreshEdit",e.id)}))}function C(){$("#tabs").show(),$("#new-answer-activity").remove();var e=$("#answers #answers-header"),t=e.find(".answers-subheader h2"),n=parseInt(t.text())+R.length;isNaN(n)&&(n=R.length),t.text(function(e){return 1==e.answerCount?e.answerCount+" Answer":e.answerCount+" Answers"}({"answerCount":n})),$.ajax({"url":"/posts/ajax-load-realtime/{postIdsSemiColonDelimited}".formatUnicorn({"postIdsSemiColonDelimited":R.join(";")})}).done(function(t){var n=$('<div class="dno" />').append(t);n.insertAfter(e).fadeIn(400,function(){n.removeClass("dno"),styleCode(),StackExchange.vote.init($(".question").data("questionid")),n.find(".answer").each(function(){StackExchange.comments.init({"post":$(this)})})})}),StackExchange.question.bindSuggestedEditPopupLinks(),L(),R=[]}function _(e,t,n){null!=StackExchange.options.user.accountId&&StackExchange.tagPreferences.isIgnored(e.body)||(e.fetch&&$.ajax({"url":"/posts/"+e.id+"/"+n}).done(function(t){e.body=t,P[e.id]={"id":e.id,"body":e.body,"index":(new Date).getTime(),"siteid":e.siteid}}),P[e.id]={"id":e.id,"body":e.body,"index":(new Date).getTime(),"siteid":e.siteid},$(".new-post-activity").remove(),$("#question-mini-list, #questions").prepend(V),$(".tag-sponsorship").length>0&&$("#question-mini-list, #questions").css("margin-top","0px"),t&&q())}function T(e,t){return e.index<t.index?-1:e.index>t.index?1:0}function q(){var e=[];for(var t in P)P.hasOwnProperty(t)&&e.push(P[t]);for(var n=e.sort(T),r=0;r<n.length;r++){var i=n[r];$("#question-summary-"+i.id).remove(),$(i.body).prependTo("#question-mini-list, #questions").hide().fadeIn()}A(0),null!=StackExchange.options.user.accountId&&StackExchange.tagPreferences.applyPrefs(!0,O),styleCode(),L(),$(".new-post-activity").remove(),P={}}function A(e){var t=document.title.replace(/^\(\d*\*?\) /,"");e>0&&(t="("+e+") "+t),window.setTimeout(function(){$(document).attr("title",t)},200)}function L(){for(var e=$("span.relativetime, span.relativetime-clean"),t=0;t<e.length;t++)if(e[t].title){var n=I(e[t].title);n&&(e[t].innerHTML=n)}}function I(e){if(null!=e&&20==e.length){e=e.substr(0,10)+"T"+e.substr(11,10);var t=new Date(e),n=((new Date).getTime()-t.getTime())/1e3+StackExchange.options.serverTimeOffsetSec,r=Math.floor(n/86400);if(!(isNaN(r)||0>r||r>=31))return 0==r&&(2>n&&"just now"||60>n&&(U?function(e){return e.seconds+"s ago"}({"seconds":Math.floor(n)}):function(e){return e.seconds+" secs ago"}({"seconds":Math.floor(n)}))||120>n&&(U?"1m ago":"1 min ago")||3600>n&&(U?function(e){return e.minutes+"m ago"}({"minutes":Math.floor(n/60)}):function(e){return e.minutes+" mins ago"}({"minutes":Math.floor(n/60)}))||7200>n&&(U?"1h ago":"1 hour ago")||86400>n&&(U?function(e){return 1==e.hours,e.hours+"h ago"}({"hours":Math.floor(n/3600)}):function(e){return 1==e.hours?e.hours+" hour ago":e.hours+" hours ago"}({"hours":Math.floor(n/3600)})))}}var D,O,P={},R=[],M=0,N=[],j=10,B=!1,U=!1,H=new EventEmitter,F=function(){var e=Object.keys(R).length;return 0==e&&$("#new-answer-activity").remove(),$('<div id="new-answer-activity">'+function(e){return 1==e.count?e.count+" new answer to this question":e.count+" new answers to this question"}({"count":e})+"</div>").click(function(){StackExchange.realtime.expandAnswers()})},z=function(e,t){return function(n){var r=$(n).filter(".question, .answer"),i=r.find(".postcell, .answercell"),a=e.closest(".question"),o=a.length>0,s=$("h1 a.question-hyperlink"),c=r.data("title"),u=o&&$.trim(s.text())!=c,l=$(".question-status"),d=150,p=function(e,t){return function(){return $.Deferred(function(n){null==t||t()?e.animate({"opacity":0},d).promise().done(function(){n.resolve()}):n.resolve()})}},f=p(s,function(){return u}),h=p(e),g=p(l);$.when(f(),h(),g()).done(function(){u&&s.text(c).animate({"opacity":1},d);var t=function(e,t){return new $.Deferred(function(n){t.css({"opacity":0}),e.replaceWith(t),t.animate({"opacity":1},d,function(){n.resolve()})})};t(e,i).done(function(){styleCode(),StackExchange.question.bindSuggestedEditPopupLinks(),o&&StackExchange.inlineTagEditing&&StackExchange.inlineTagEditing.init()});var r=$(n).find(".question-status:last");r.length?(l.length||(l=$("<div>").addClass("question-status").insertAfter(a)),t(l,r)):l.remove()}),window.history.pushState(t,"new post","#"+t.id)}},V=function(){var e=Object.keys(P).length;return A(e),$('<div class="new-post-activity">'+function(e){return 1==e.count?e.count+" question with new activity":e.count+" questions with new activity"}({"count":e})+"</div>").click(function(){StackExchange.realtime.expandActiveQuestions()})};return{"init":e,"expandActiveQuestions":q,"expandAnswers":C,"subscribeToActiveQuestions":p,"subscribeToQuestion":u,"unsubscribeToQuestion":c,"subscribeToReputationNotifications":m,"subscribeToSuggestedEdits":v,"updateRelativeDates":L,"subscribeToReviewDashboard":h,"subscribeToTopBarNotifications":g,"subscribeToCounts":f,"genericSubscribe":a,"genericUnsubscribe":o}}(),function(){function e(e,t){for(var n=[],r=[],i={"tag":null,"endOrBlock":function(){r.length&&n.push(r),r=[]},"pushToAndBlock":function(){r.push(i.tag)}},a=0;a<e.length;a++)i.tag=e[a],t(i);return i.tag=null,i.endOrBlock(),n}function t(t,n){switch(n){case"and":return e(t,function(e){switch(e.tag){case"and":break;case"or":e.endOrBlock();break;default:e.pushToAndBlock()}});case"or":return e(t,function(e){switch(e.tag){case"and":e.and=!0;break;case"or":e.and=!1;break;default:e.and||e.endOrBlock(),e.pushToAndBlock(),e.and=!1}});default:throw"unknown mode "+n}}function n(e,n){r(e.token);var o="t_"+e.token,s=e.layout+"-"+e.sort;g[o]=s;var u=h[s];u||(h[s]=u=new c(i(e.layout,e.sort),a(e.layout,e.sort)));var l,d=t(e.requiredTags,e.mode),p=e.filter;p&&(l=function(e){return e.flags&&e.flags.indexOf(p)>=0}),u.subscribe(e.token,d,function(e,t){n({"token":t,"questions":[$(e.body)]})},l)}function r(e){var t="t_"+e,n=g[t];if(n){var r=h[n];if(!r)return StackExchange.debug.log("should have a multiplexer for "+n+" but don't -- that's a bug"),void 0;r.unsubscribe(e),delete g[t]}}function i(e,t){return function(n,r){r._socket_listeners=r._socket_listeners||{};var i=o(n,e,t),a=function(e){r(JSON.parse(e))};r._socket_listeners["t_"+n]=a,StackExchange.realtime.genericSubscribe(i,a)}}function a(e,t){return function(n,r){if(!r._socket_listeners)throw"cannot remove callback that was not added";var i=r._socket_listeners["t_"+n];if(!i)throw"cannot remove callback that was not added";delete r._socket_listeners["t_"+n];var a=o(n,e,t);StackExchange.realtime.genericUnsubscribe(a,i)}}function o(e,t,n){return StackExchange.options.site.id+"-newnav-"+t+"-questions-"+n+"-tag-"+e}function s(e,t,n){for(var r in e)e.hasOwnProperty(r)&&t.call(n,r,e[r])}function c(e,t){this.subscriptions={},this.layers={"socketLayer":{},"middleLayer":[],"tabLayer":[]},this.manageInputs={"add":e,"remove":t},this.listeners={}}function u(e){var t=e.outputs[0],n=t.node.inputs[t.index];return n[0]}function l(e){if(this.inputs=[],this.outputs=[],this.must_dedupe=e.must_dedupe,e.filter)if("none"===e.filter)this.filter=null;else{if("function"!=typeof e.filter)throw'filter must be "none" or function';this.filter=e.filter}}function d(e){return e.map(function(e){return e=e.slice(),e.sort(),e})}function p(e,t){for(var n=0,r=0;n<e.length&&r<t.length;)e[n]===t[r]?(n++,r++):r++;return n===e.length}function f(e,t){for(var n=0;n<e.length;n++)if(p(e[n],t))return!0;return!1}var h={},g={};StackExchange.realtime.newnav_multiplex={"subscribe":n,"unsubscribe":r},c.prototype.subscribe=function(e,t,n,r){this.unsubscribe(e),this.subscriptions["t_"+e]={"query":d(t),"callback":n,"filter":r},this.dirty()},c.prototype.unsubscribe=function(e){var t="t_"+e,n=this.subscriptions[t];n&&(delete this.subscriptions[t],this.dirty())},c.prototype.dirty=function(){this.refreshInputs()},c.prototype.refreshInputs=function(){var e=[];s(this.subscriptions,function(t,n){var r=t.substring(2),i={"must_dedupe":!0},a=n.filter;a&&(i.filter=function(e,t){return a(t,r)});var o=new l(i);o.addOutputFunction(function(e){n.callback.call(null,e,r)}),n.query.forEach(function(e){o.addInput([e])}),e.push(o)});var t=[],n={};e.forEach(function(e){e.inputs.forEach(function(r,i){var a="t_"+r[0].join("|");n[a]||(n[a]=new l({"must_dedupe":!1}),t.push(n[a])),n[a].addOutput(e,i)})});for(var r,i={},a=t.slice();a.length;){r={};var o,c=-1;a.forEach(function(e){u(e).forEach(function(e){var t="t_"+e,n=(r[t]||0)+1;r[t]=n,n>c&&(c=n,o=e)})});var d=new l({"must_dedupe":!1,"filter":"none"});i["t_"+o]=d,a=a.filter(function(e){return-1==u(e).indexOf(o)?!0:(e.addInput([[o]]),d.addOutput(e,0),!1)})}var p=[],f=[],h=this.layers;for(var g in h.socketLayer)h.socketLayer.hasOwnProperty(g)&&!i[g]&&f.push(g.substring(2));for(var g in i)i.hasOwnProperty(g)&&!h.socketLayer[g]&&p.push(g.substring(2));var m=this.manageInputs,v=this;f.forEach(function(e){m.remove(e,v.listener(e))}),p.forEach(function(e){m.add(e,v.listener(e))}),this.layers.tabLayer=e,this.layers.middleLayer=t,this.layers.socketLayer=i},c.prototype.listener=function(e){var t="t_"+e;if(!this.listeners[t]){var n=this;this.listeners[t]=function(r){var i=n.layers.socketLayer[t];i?i.receive(0,r):StackExchange.debug.log("Multiplexer received question on "+e+" channel. Nobody's listening there.")}}return this.listeners[t]},l.prototype.receive=function(e,t){if(this.must_dedupe){var n=t.tags.slice();n.sort();for(var r=0;r<this.inputs.length;r++)if(f(this.inputs[r],n)){if(r!==e)return;break}if(r===this.inputs.length)throw"deduping found no matching input"}this.outputs.forEach(function(e){(!this.filter||this.filter(e,t))&&(e.func?e.func.call(e.context,t):e.node.receive(e.index,t))},this)},l.prototype.filter=function(e,t){if(e.func)return!0;var n=t.tags.slice();return n.sort(),f(e.node.inputs[e.index],n)},l.prototype.addOutput=function(e,t){this.outputs.push({"node":e,"index":t})},l.prototype.addOutputFunction=function(e,t){this.outputs.push({"func":e,"context":t})},l.prototype.addInput=function(e){var t=this.inputs.length;return this.inputs.push(d(e)),t}}(),StackExchange.anonymous={},StackExchange.topbar=function(){function e(e){StackExchange.options.enableLogging&&console.log("topbar: "+e)}function t(e){for(var t=0;t<m.length;t++){var n=m[t].$button;if(n&&n[0]==e)return!0}return!1}function n(){for(var e=0;e<m.length;e++)m[e].toggle(!1)}function r(t){var n;if(t&&(n=JSON.parse(t))){e("realtime message - "+t);for(var r in n)for(var i=0;i<m.length;i++)if(r==m[i].name){m[i].handleRealtimeMessage(n[r]);break}}}var i=klass({"name":"","url":"","cssClass":"","button":null,"$dialog":null,"$loadingPlaceholder":null,"$preloadedDialog":null,"hasRead":!1}).statics({"$corral":$(".js-topbar-dialog-corral")}).methods({"isLoading":function(){return null!=this.$loadingPlaceholder},"isLoaded":function(){return null!=this.$dialog},"isVisible":function(){var e=this.$dialog||this.$loadingPlaceholder;return null!=e&&e.is(":visible")},"toggle":function(e,t){if("boolean"!=typeof e)throw new Error("showOrHide is a required parameter");if(!e){if(this.isLoading())return this.showOrHide(!1),void 0;if(!this.isLoaded())return}if(this.isLoaded()||this.isLoading()?(e||t||!this.hasRead||this.markAsRead(),this.showOrHide(e)):this.$preloadedDialog?this.loadChildContent():this.loadDialog(),e)for(var n=0;n<m.length;n++)this.button!=m[n]&&m[n].toggle(!1,t)},"showOrHide":function(e){var t=this.$dialog||this.$loadingPlaceholder;t&&t.toggle(e),e&&this.$dialog&&(this.hasRead=!0)},"loadChildContent":function(){var e=this.$preloadedDialog.find(".child-content");if(this.$dialog=this.$preloadedDialog,this.positionDialogUnderButton(),this.showOrHide(!0),this.url){$("<div>",{"class":"child-content-loading"}).addSpinner().appendTo(e);var t=this;this.fetchUrl().done(function(n){e.html(n),t.afterLoad()})}},"loadDialog":function(){if(!this.isLoading()){this.$loadingPlaceholder=this.getLoadingPlaceholder().appendTo(i.$corral),this.positionDialogUnderButton(),this.showOrHide(!0);var e=this;this.fetchUrl().done(function(t){e.$dialog=$(t).appendTo(i.$corral),e.afterLoad();var n=e.$loadingPlaceholder.is(":visible");e.positionDialogUnderButton(),e.showOrHide(n)}).always(function(){e.$loadingPlaceholder.remove(),e.$loadingPlaceholder=null})}},"afterLoad":function(){this.$dialog.find(".js-close-button").click(function(){StackExchange.topbar.hideAll()}),StackExchange.gps.bindTrackClicks(this.$dialog)},"getLoadingPlaceholder":function(){var e=$("<div/>").append(StackExchange.helpers.getSpinnerImg()).html(),t=this.cssClass+(StackExchange.options.user.isAnonymousNetworkWide?" anon":""),n=['<div class="topbar-dialog ',t,' dno">','<div class="header">',e,"</div>",'<div class="modal-content"/>',"</div>"];return $(n.join(""))},"positionDialogUnderButton":function(){var e=this.button.$button.outerHeight(),t=this.button.$button.offset().left-m[0].$button.offset().left;(this.$dialog||this.$loadingPlaceholder).css({"top":e,"left":t})},"fetchUrl":function(){e("fetching "+this.url);var t=$.ajax({"type":"GET","url":this.url,"dataType":"html"});return t},"markAsRead":function(){this.button.markAsRead(),this.isLoaded()&&this.$dialog.find(".unread-item").removeClass("unread-item")},"handleRealtimeMessage":function(){this.clearLoadedDialog()},"clearLoadedDialog":function(){this.isLoaded()&&(this.$dialog.remove(),this.$dialog=null,this.hasRead=!1)}}),a=klass({"name":"","selector":"","dialog":null,"$button":null,"onClass":"","unreadCountPrefix":"","queuedUnreadCount":0,"showsOnMouseOver":!1}).methods({"initialize":function(){this.dialog.name=name,this.dialog.button=this,v.push(this.dialog);var e=this;this.$button=$(this.selector),this.$button.click(function(){return e.toggle(),!1}),this.showsOnMouseOver&&this.$button.mouseover(function(){e.showOnMouseOver()}),this.onClass="topbar-icon-on"+(this.onClass?" ":"")+this.onClass},"toggle":function(e,t){e="boolean"==typeof e?e:!this.$button.hasClass(this.onClass),this.$button.toggleClass(this.onClass,e),this.dialog.toggle(e,t)},"showOnMouseOver":function(){for(var e=!1,t=0;t<m.length;t++){var n=m[t];if(n!=this&&n.showsOnMouseOver&&n.isOn()){e=!0;break}}e&&this.toggle(!0,!0)},"isOn":function(){return this.$button.hasClass(this.onClass)},"markAsRead":function(){this.$button.find(".unread-count").fadeOut();var e=this.$button.data("unread-class");e&&this.$button.removeClass(e),this.dequeuePendingUnreadCount()},"dequeuePendingUnreadCount":function(){this.queuedUnreadCount&&(this.setUnreadCount(this.queuedUnreadCount),this.queuedUnreadCount=0,this.dialog.clearLoadedDialog())},"setUnreadCount":function(e){if(void 0===e);else if(0>=e)this.queuedUnreadCount=0,this.isOn()||this.markAsRead();else if(e>0)if(this.isOn())this.queuedUnreadCount=e;else{var t=this.$button.find(".unread-count");t.text(this.unreadCountPrefix+e).fadeIn(),this.addUnreadClass(),this.dialog.clearLoadedDialog()}},"addUnreadClass":function(){var e=this.$button.data("unread-class");e&&this.$button.addClass(e)},"handleRealtimeMessage":function(){}}),o=i.extend({"url":"/topbar/site-switcher/site-list","cssClass":"siteSwitcher-dialog","$searchItems":null,"$pinnedSiteSearchItems":null,"isPreloaded":!0,"$preloadedDialog":i.$corral.find(".siteSwitcher-dialog")}).methods({"afterLoad":function(){this.$dialog.find("#js-site-filter-txt").typeWatch({"highlight":!1,"wait":250,"captureLength":-1,"callback":$.proxy(this.filterSites,this)}),this.$searchItems=this.$dialog.find(".js-other-sites li").clone().map(function(){return{"title":$(".site-icon",this).attr("title").toLowerCase(),"description":$(".site-desc",this).text().toLowerCase(),"hostname":$("a",this).first().attr("href"),"li":this}});var e=this.$dialog;this.$dialog.find("#js-site-filter-txt").focus(function(){var t=e.offset().top+e.height(),n=e.find(".other-sites li:nth-child(2)"),r=n.offset().top+n.height();r>t&&e.animate({"scrollTop":e.scrollTop()+r-t},750)}),StackExchange.options.user.isAnonymous&&!StackExchange.options.user.isAnonymousOnThisSite||!$(".pinned-site-editor-container").length||($(".js-found-sites").css({"width":$("#js-site-search-txt").outerWidth()}),$(".js-found-sites").hide(),this.$dialog.find("#js-site-search-txt").typeWatch({"highlight":!1,"wait":100,"captureLength":-1,"callback":$.proxy(this.findSitesToPin,this)}),this.$dialog.find("#edit-pinned-sites").click($.proxy(this.editPinnedSites,this)),this.$dialog.find("#cancel-pinned-sites").click({"forceListRefresh":$("#save-pinned-sites-btn").is(":enabled")},this.cancelSiteListEdits),this.$dialog.find("#pin-site-btn").click($.proxy(this.pinSite,this)),this.$dialog.on("click",".remove-pinned-site-link",function(){return $(this).parent().remove(),$("#save-pinned-sites-btn").enable(),$("#reset-pinned-sites").show(),!1}),this.$dialog.find("#save-pinned-sites-btn").click($.proxy(this.savePinnedSites,this)),this.$dialog.find("#reset-pinned-sites").click($.proxy(this.resetPinnedSites,this))),this.supr()},"showOrHide":function(e){this.supr(e)},"pinSite":function(){$("#pin-site-btn").disable();var e=$("#js-site-search-txt").val(),t=$.grep(this.$pinnedSiteSearchItems,function(t){return t.sitename===e});if(!t.length)return $("#pin-site-btn").enable(),void 0;var n=t[0],r=$(".pinned-site-link").map(function(e,t){return $(t).data("id")}).toArray();if(r.indexOf(n.siteid)>-1)return $("#pin-site-btn").enable(),void 0;var i=this;$.ajax({"type":"GET","url":"/topbar/site-switcher/pin-site","data":{"siteId":n.siteid},"dataType":"html"}).done(function(e){var t=$(e);t.hide(),$(".pinned-site-list").append(t),t.fadeIn("slow"),$("#js-site-search-txt").val(""),$("#save-pinned-sites-btn").enable(),i.toggleSiteListResetLink(!0)}).fail(function(){$("#pin-site-btn").parent().showErrorMessage("Something bad happened; please try again"),$("#pin-site-btn").enable()})},"savePinnedSites":function(){var e=$(".pinned-site-list li .pinned-site-link").map(function(e,t){return $(t).data("id")}).toArray(),t=!$("#reset-pinned-sites").is(":visible")||!e.length;return this.toggleSiteListResetLink(!t),$.ajax({"type":"POST","url":"/topbar/site-switcher/save-pinned-sites","data":{"siteIds":t?[]:e,"fkey":StackExchange.options.user.fkey},"dataType":"html","traditional":!0}).done($.proxy(function(e){$(".my-sites").html(e),this.cancelSiteListEdits(!1),$(".pinned-site-list").data("custom-list",!t),StackExchange.using("gps",function(){StackExchange.gps.track("site_switcher.edit",{})})},this)).fail(function(){$("#save-pinned-sites-btn").parent().showErrorMessage("Something bad happened; please try again")}),!1},"resetPinnedSites":function(){var e=this;return $.ajax({"type":"GET","url":"/topbar/site-switcher/default-active-sites","dataType":"html"}).done(function(t){$(".pinned-site-list").html(t),$("#save-pinned-sites-btn").enable(),e.toggleSiteListResetLink(!1)}).error(function(){$("#reset-pinned-sites").parent().showErrorMessage("Something bad happened; please try again")}),!1},"doSearch":function(e,t,n){var r;t=t.toLowerCase();var i=[];return $.each(e,function(e,n){var r={"index":e,"li":n.li,"item":n},a=n.title.indexOf(t);n.title==t?r.priority=1:0==a?r.priority=2:a>-1?r.priority=3:n.description.indexOf(t)>-1?r.priority=4:n.hostname.indexOf(t)>-1&&(r.priority=5),r.priority&&i.push(r)}),r=i.sort(function(e,t){return e.priority-t.priority||e.index-t.index}),n&&StackExchange.using("gps",function(){StackExchange.gps.track("sitesearch.submit",{"term":t,"numresults":i.length},!1)}),r},"_findSitesToPin":function(e){var t=$(".js-found-sites"),n=this.$pinnedSiteSearchItems;if(t.empty(),""===e)return t.hide(),$("#pin-site-btn").disable(),void 0;if(n=this.doSearch(n,e,!1),n.length){t.show(),$("#pin-site-btn").enable();var r=$(".pinned-site-link").map(function(e,t){return $(t).data("id")}).toArray();$.each(n,function(e,n){var i=$('<li class="pinned-site-candidate">'+n.item.sitename+"</li>");r.indexOf(n.item.siteid)>-1?i.addClass("already-pinned-site"):i.click(function(){var e=$(this).text();return $("#js-site-search-txt").val(e),$(".js-found-sites").hide(),!1}),i.appendTo(t)})}},"findSitesToPin":function(e){if(this.$pinnedSiteSearchItems)return this._findSitesToPin(e),void 0;var t=this;$.ajax({"type":"GET","url":"/topbar/site-switcher/all-pinnable-sites","dataType":"json"}).done(function(n){t.$pinnedSiteSearchItems=n,t._findSitesToPin(e)})},"filterSites":function(e){var t=$(".js-other-sites"),n=this.$searchItems;t.empty(),""!=e&&(n=this.doSearch(n,e,!0)),t.append(n.map(function(e){return this&&this.li||e.li}))},"editPinnedSites":function(){$(".header").not("#your-communities-header").css("opacity",.2),$(".modal-content").not("#your-communities-section").css("opacity",.2),$(".my-sites").hide(),$(".pinned-site-editor-container").show(),$("#edit-pinned-sites").hide(),$("#cancel-pinned-sites").show();var e=$(".pinned-site-list");if(""===e.html().trim()){var t=$("<div/>").append(StackExchange.helpers.getSpinnerImg()).html();e.append('<li style="text-align:center;">'+t+"</li>"),$.ajax({"type":"GET","url":"/topbar/site-switcher/current-pinned-sites","dataType":"html"}).done(function(t){e.html(t)}).fail(function(){e.showErrorMessage("Something bad happened; please try again")}).always(function(){e.find(".ajax-loader").remove()})}this.toggleSiteListResetLink("true"===e.data("custom-list").toString().toLowerCase());var n=$(".sortable"),r=this;return n.data("isSortable")||StackExchange.loadJqueryUi().done(function(){n.sortable({"axis":"y","update":function(){$("#save-pinned-sites-btn").enable(),r.toggleSiteListResetLink(!0)}}).disableSelection().data("isSortable",!0)}),!1},"toggleSiteListResetLink":function(e){$("#reset-pinned-sites").toggle(e)},"cancelSiteListEdits":function(e){return $(".header").not("#your-communities-header").css("opacity",1),$(".modal-content").not("#your-communities-section").css("opacity",1),$(".my-sites").show(),$("#edit-pinned-sites").show(),$(".pinned-site-editor-container").hide(),$("#cancel-pinned-sites").hide(),$("#save-pinned-sites-btn").disable(),e&&($(".pinned-site-list").empty(),$(".js-found-sites").hide(),$("#js-site-search-txt").val(""),$("#pin-site-btn").disable()),!1
}}),s=a.extend({"name":"SiteSwitcher","selector":".js-site-switcher-button","dialog":new o,"showsOnMouseOver":!0,"onClass":"icon-site-switcher-on"}),c=i.extend({"url":"/topbar/inbox","cssClass":"inbox-dialog"}),u=a.extend({"name":"Inbox","selector":".js-inbox-button","dialog":new c,"showsOnMouseOver":!0}).methods({"handleRealtimeMessage":function(e){this.setUnreadCount(e.UnreadInboxCount)}}),l=i.extend({"url":"/topbar/achievements","cssClass":"achievements-dialog"}).methods({"afterLoad":function(){this.alignRep(),this.bindDateGroupToggles(),this.displayUtcTime(),this.bindGpsTracker(),this.supr()},"alignRep":function(){var e=this.$dialog.find(".js-items .js-faux-column"),t=0;e.filter(".js-rep-change").each(function(){var e=$.trim($(this).text()).length;e>t&&(t=e)}),t>0&&e.width(6*(t+1))},"bindDateGroupToggles":function(){this.$dialog.find(".js-date-group-toggle").click(function(){var e=$(this),t=e.closest(".js-date-group"),n=t.find(".js-items"),r=t.find(".rep-site-container");e.find(".date-group-toggle").toggleClass("toggle-hidden"),n.add(r).fadeToggle("fast")}),this.$dialog.find(".rep-site-container").on("click",function(e){e.stopImmediatePropagation()})},"displayUtcTime":function(){var e=this.$dialog,t=function(){var t=new Date;t.setTime(t.getTime()+1e3*StackExchange.options.serverTimeOffsetSec);var n=t.getUTCHours(),r=t.getUTCMinutes();10>n&&(n="0"+n),10>r&&(r="0"+r),e.find(".js-utc-time").text(n+":"+r)};t(),setInterval(t,6e4)},"bindGpsTracker":function(){var e=$("#js-gps-container.js-empty-achiev");e.find("a:first").addClass("js-gps-track").data("gps-track","achievements_popup.click({ item_type:6 })"),e.find("a:last").addClass("js-gps-track").data("gps-track","achievements_popup.click({ item_type:7 })"),StackExchange.gps.bindTrackClicks(e)}}),d=a.extend({"name":"Achievements","selector":".js-achievements-button","dialog":new l,"unreadCountPrefix":"+","showsOnMouseOver":!0}).methods({"handleRealtimeMessage":function(e){var t=0===(e.UnreadRepCount||0)&&e.UnreadNonRepCount>0;t?this.addUnreadClass():this.setUnreadCount(e.UnreadRepCount)}}),p=i.extend({"cssClass":"help-dialog"}).methods({"loadDialog":function(){this.$dialog=$(".js-help-dialog").appendTo(i.$corral),this.positionDialogUnderButton(),this.showOrHide(!0)}}),f=a.extend({"name":"Help","selector":".js-help-button","dialog":new p}),h=i.extend({"url":"/topbar/mod-inbox","cssClass":"modInbox-dialog"}).methods({}),g=a.extend({"name":"ModInbox","selector":".js-mod-inbox-button","dialog":new h}),m=[],v=[];return{"init":function(){window.devicePixelRatio>=1.5&&$(".js-avatar-me").attr("src",function(e,t){return t.replace("?s=24","?s=48")}),m.push(new s),m.push(new u),m.push(new d),m.push(new f),StackExchange.options.user.isModerator&&m.push(new g),$(document).click(function(e){t(e.target)||$.contains(i.$corral[0],e.target)||n()})},"hideAll":n,"handleRealtimeMessage":r}}(),StackExchange.notify=function(){function e(e,t){var n=$("#dismissed-messages");n.val(n.val()+"~"+e+(t?" "+t:"")+"~")}function t(e,t){var n=$("#dismissed-messages").val();return n?new RegExp("~"+e+(t?" "+t:"")+"~").test(n):!1}function n(e,t,n){var r=parseInt($("body").css("margin-top").match(/\d+/)),i=t*r/e;n?$("body:not(.no-message-slide)").animate({"marginTop":i+"px"},"fast","linear"):$("body:not(.no-message-slide)").css("marginTop",i+"px")}var r=0,i=-1,a="m",o=function(t,a){var o=$("#notify-"+t+(a?"-"+a:""));t==i?c():t>i&&$.post("/messages/mark-as-read",{"messagetypeid":t,"id":a?a:null}),e(t,a),r--,o.fadeOut("fast",function(){n(r+1,r,!0),o.remove()})},s=function(e){if(r++,t(e.messageTypeId,e.id))return!1;var n="";e.messageTypeId&&(n=' id="notify-'+e.messageTypeId+(e.id?"-"+e.id:"")+'"');var i="<div"+n+' style="display:none"><span class="notify-close">'+$("<a>&times;</a>").attr("title","dismiss this notification").outerHTML()+'</span><span class="notify-text">'+e.text+"</span>";if(e.showProfile){var a=encodeURIComponent("/users/"+e.userId+"?tab=badges&sort=recent");i+=" "+function(e){return'See your <a href="'+e.url+'">profile</a>.'}({"url":"/messages/mark-as-read?messagetypeid="+e.messageTypeId+"&returnurl="+a})}i+="</div>";var s=$(i);return s.find(".notify-close").click(function(){e.close&&e.close(),o(e.messageTypeId,e.id)}),$("#notify-container").append(s),!0},c=function(e){$.cookie(a,e?e:"0",{"expires":90,"path":"/"})},u=function(){$("#notify-container div").fadeIn("slow")},l=function(){$("body:not(.no-message-slide)").animate({"marginTop":"2.5em"},"fast","linear")},d=function(e,t){var n=$('<div class="link-more">').append($("<a>").text(function(e){return 1==e.numNotifications?"view "+e.numNotifications+" more notification":"view "+e.numNotifications+" more notifications"}({"numNotifications":e})));$("#notify-container").append(n),n.click(function(){n.detach();for(var e=0;e<t.length;e++)s(t[e]);u()})};return{"showMessages":function(e,t){for(var i=0,a=t?2:e.length,o=0;a>o&&o<e.length;o++)s(e[o])&&i++;if(n(r,i,!1),u(),t&&i<e.length){var c=e.slice(a);d(e.length-i,c)}},"show":function(e,t){l(),s({"text":e,"messageTypeId":t}),u()},"close":o,"getMessageText":function(e){return $("#notify-"+e+" .notify-text").text()}}}();var styleCode=function(){function e(e){var t=$("#prettify-lang").text();return""!=t?(e.addClass(t),!0):!1}return function(){"undefined"!=typeof MathJax&&MathJax.Hub.Queue(["Typeset",MathJax.Hub]),StackExchange.ifUsing("snippets",function(){StackExchange.snippets.redraw&&StackExchange.snippets.redraw()});var t=!1;if($("pre code").parent().each(function(){$(this).hasClass("prettyprint-override")&&($(this).removeClass("prettyprint-override").addClass("prettyprint"),t=!0),$(this).hasClass("prettyprint")||e($(this))&&($(this).addClass("prettyprint"),t=!0)}),t){if("undefined"!=typeof jtab)return jtab.renderimplicit(),void 0;StackExchange.using("prettify",function(){StackExchange.prettify.applyCodeStyling()})}$(".spoiler").click(function(){$(this).toggleClass("spoiler")})}}();styleCode.updateLangdivDelayed=StackExchange.helpers.DelayedReaction(function(e){var t=$("#prettify-lang");t.length&&$.get("/api/tags/langdiv",{"tags":e.join(" ")}).done(function(e){e?t.replaceWith(e):t.empty(),StackExchange.MarkdownEditor.refreshAllPreviews(),styleCode()})},1500,{"sliding":!0}),StackExchange.helpers.MagicPopup=function(e){function t(t,r){if($.contains(document.documentElement,t)){var a=$("<div id='"+e.id+"'/>").html(r),o=$("<div />").css({"overflow":"hidden","position":"absolute","z-index":1002,"width":1,"height":1,"top":0,"left":0}).append(a).appendTo("body");window.MathJax&&MathJax.Hub.Typeset(a.attr("id"));var s=e.showing(t,a),c={"left":s.left};s.hasOwnProperty("bottom")?(c.bottom=s.bottom,c.top="auto"):c.top=0|s.top;var u;e.shown&&(u=function(){e.shown(t,a)}),o.css(c).animate({"height":a.outerHeight()+8,"width":a.outerWidth()+8},300,u),n=function(){o.stop().remove(),e.removed&&e.removed(t,a),i=null,n=null},i=StackExchange.helpers.DelayedReaction(n,5);var l=o;s.additional&&(l=l.add(s.additional)),l.hover(i.cancel,i.trigger)}}var n,r,i,a,o={},s=StackExchange.helpers.DelayedReaction(function(r,i){if(!a&&r){var s;e.cache&&"c_"+r in o?s=$.Deferred().resolve(o["c_"+r]):(s=$.ajax({"type":"GET","url":r,"dataType":"html"}),e.cache&&s.done(function(e){o["c_"+r]=e})),s.done(function(e){n&&n(),""!=e&&t(i,e)})}},500);$(document).delegate(e.selector,{"mouseenter":function(){return i&&this===r?(i.cancel(),void 0):(r=this,s.trigger(e.getUrl(this),this),a=!1,!1)},"mouseleave":function(){a=!0,s.cancel(),i&&i.trigger()}})},StackExchange.tagmenu=function(){function e(e){var t=$(e),n=t.attr("href"),r=t.data("tag-menu-tagname");if(!(r||n&&"/"==n.charAt(0)))return null;var i=r||t.text();return i.indexOf("*")>-1?null:(t.attr("title",""),"/tags/"+encodeURIComponent(i)+"/subscriber-info")}function t(e,t){var n=$(e),r=n.offset(),i=n.outerHeight(),a={"left":r.left},o=r.top+i,s=r.left+t.outerWidth();t.height()+o>$(window).height()+$(window).scrollTop()?a.bottom=$(window).height()-r.top-8:a.top=o;var c=Math.max(1024,$(window).width());return s>c&&(a.left-=s-c),a}var n,r,i=function(i){n=i,r||(r=!0,StackExchange.options.isMobile||(StackExchange.helpers.MagicPopup({"selector":".post-tag:not(.user-tag,.no-tag-menu,.invalid-tag)","id":"tag-menu","getUrl":e,"showing":t,"shown":function(e,t){n&&n(t,$(e).text())}}),$("#interesting-tags .post-tag").addClass("user-tag")))};return{"init":i,"showing":t}}(),StackExchange.usermenu=function(){function e(e,t){var n=$(e),r=n.find("img:last"),a=r.offset(),o=r.height(),s=r.width(),c=Math.max(s,o),u=64*o/c,l=64*s/c,d=t.find("img:first").css({"width":l,"height":u}),p=d.offset();d.css("visibility","hidden"),i=r.clone().css({"position":"absolute","zIndex":1003,"left":a.left,"top":a.top,"width":s,"height":o}).appendTo("body");var f=function(){return d[0].complete?(d.css("visibility","visible"),i.fadeOutAndRemove(),void 0):(setTimeout(f,100),void 0)};return i.animate({"width":l,"height":u,"top":a.top+p.top},200,f),t.trigger("userhovershowing",e),{"top":a.top,"left":a.left-p.left,"additional":i}}function t(e,t){t.trigger("userhovershown")}function n(e){$(e).trigger("userhoverremoved"),i.remove()}var r,i,a=function(){function i(e){var t=$(e),n=t.closest(".user-hover"),r=n.find(".user-details a").attr("href"),i=new RegExp("/users/([^/]+).*$"),a=i.exec(r);return a?"/users/user-info/"+a[1]:null}r||(r=!0,StackExchange.options.isMobile||StackExchange.helpers.MagicPopup({"selector":".user-hover .user-gravatar48, .user-hover .user-gravatar32","getUrl":i,"cache":!0,"id":"user-menu","showing":e,"shown":t,"removed":n}))};return{"init":a}}(),StackExchange.chatAd=function(){function e(){var e=$(".question .post-taglist .post-tag");return e.length?e.map(function(e,t){return $(t).text()}).get().join(" "):null}function t(e){return 10>e?"0"+e:e}function n(e){var n=new Date;return n.setTime(1e3*e),[n.getUTCFullYear(),"-",t(n.getUTCMonth()+1),"-",t(n.getUTCDate())," ",t(n.getUTCHours()),":",t(n.getUTCMinutes()),":",t(n.getUTCSeconds()),"Z"].join("")}function r(e){var n=Math.floor((new Date).getTime()/1e3),r=n-e,i=r%60,a=Math.floor(r/60),o=Math.floor(r/3600);if(1>r)return"just now";if(60>r)return function(e){return 1==e.seconds?e.seconds+" sec ago":e.seconds+" secs ago"}({"seconds":i});if(3600>r)return function(e){return 1==e.minutes?e.minutes+" min ago":e.minutes+" mins ago"}({"minutes":a});if(86400>r)return function(e){return 1==e.hours?e.hours+" hour ago":e.hours+" hours ago"}({"hours":o});var s=Math.floor(r/86400);if(1==s)return"yesterday";if(2>=s)return function(e){return e.days+" days ago"}({"days":s});var c=new Date(1e3*e);return function(e){return e.month+" "+e.date+" at "+e.hours+":"+e.minutes}({"month":v[c.getMonth()],"date":c.getDate(),"hours":c.getHours(),"minutes":t(c.getMinutes())})}function i(e){var t=$("<div />");return t.text(e),t.html().replace('"',"&quot;")}function a(){f&&$.get(f,null,function(e,t,n){d(e,t,n)})}function o(e){if("!"==e.charAt(0)){var t=e.substr(1);if(/^https?:\/\/i.stack.imgur.com\//.test(t)){var n=/\?/.test(t)?"&":"?";t+=n+"g&s=32"}return t}return"https://www.gravatar.com/avatar/"+e+"?s=23&d=identicon&r=PG"}function s(e){for(var t=$('<div class="ad502-users" />'),n=0;n<e.length&&7>n;n++){var i=e[n],a=i.name;i.lastPost&&(a+=": "+r(i.lastPost));var s=p+"/users/"+i.id,c=$('<a href="'+s+'" />');$("<img height='23' width='23' />").attr("title",a).attr("src",o(i.emailhash)).appendTo(c),t.append(c)}return t}function c(e){return $('<div class="ad502-users"><img src="'+p+"/rooms/users/"+e+'.jpeg" /></div>')}function u(e){var t=e.user,n=e.userid;return n?'<a href="'+p+"/users/"+n+'">'+i(t)+"</a>":i(t)}function l(){f&&(m>=h&&window.setTimeout(a,1e3*h),h+=g)}function d(e){var t=$("#ad502-rooms");if(e.error)return l(),void 0;t.html("");for(var a=e.rooms,o=0;o<a.length&&2>o;o++){var d=a[o],f=p+"/rooms/"+d.id,h=$('<div class="ad502-room"></div>');h.append($('<h3 class="ad502-room-h3"><span class="ad502-room-title" title="'+i(d.name)+'"><a href="'+f+'">'+i(d.name)+"</a></span></h3>")),d.messages&&d.messages.length>0&&h.append($('<span title="'+n(d.lastPost)+'" class="ad502-last-message">'+r(d.lastPost)+" - "+u(d.messages[0])+"</span><br>")),d.singleImage?h.append(c(d.id)):h.append(s(d.users)),t.append(h)}e.activeUsers>1?$("#h-chat-link").text(function(e){return 1==e.num,e.num+" People Chatting"}({"num":e.activeUsers})):$("#h-chat-link").text("Visit Chat"),$("#h-chat-link").attr("title",function(e){return 1==e.users&&1==e.rooms?e.users+" user active in "+e.rooms+" room the last 60 minutes":1==e.users?e.users+" user active in "+e.rooms+" rooms the last 60 minutes":1==e.rooms?e.users+" users active in "+e.rooms+" room the last 60 minutes":e.users+" users active in "+e.rooms+" rooms the last 60 minutes"}({"users":e.activeUsers,"rooms":e.activeRooms})),l()}var p,f,h=180,g=30,m=480,v=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return/^\/questions\/\d+/i.test(window.location.pathname)&&(m=0),{"init":function(t){if(p=t.chatUrl,f=t.reloadUrl,t.tagBased){var n=e();if(!n)return;f&&(f+=(/\?/.test(f)?"&":"?")+"tags="+encodeURIComponent(n))}null===t.preloadData?a():d(t.preloadData,null,null)}}}(),StackExchange.helpers.noDiacritics=function(){var e={"Ã Ã¥Ã¡Ã¢Ã¤Ã£Ã¥ÄÉáµá¶":"a","Ã¦Ç£Ç½á´áµ":"ae","Ã§ÄÄÄ":"c","ÄÆÃ°Ã":"d","Ã¨Ã©ÃªÃ«ÄÇá´áµ":"e","â":"f","ÄÄáµ·":"g","Ä¥É¥Ê®á¶£":"h","Ã¬Ã­Ã®Ã¯Ä±á´áµ":"i","Äµ":"j","Ê":"k","Å":"l","É¯É°áµá¶­á´":"m","Ã±Å":"n","Ã²Ã³Ã´ÃµÃ¶Ã¸Å":"o","ÅÉ¶á´":"oe","ÅÉ¹ÉºÉ»Ê´Êµ":"r","ÅÅÅ¡Å":"s","Ã":"ss","Ê":"t","Ã":"th","Ã¹ÃºÃ»Ã¼Å­Å¯":"u","Êá¶º":"v","Ê":"w","Ã½Å¸Ã¿Ê":"y","Å¼ÅºÅ¾":"z"};return function(t){for(var n in e)e.hasOwnProperty(n)&&(t=t.replace(new RegExp("["+n+"]","g"),e[n]));return t}}(),StackExchange.question=function(){function e(){var e="hashchange.highlightDestination";$(window).off(e).on(e,function(){var e=window.location.href;if(!(e.indexOf("#")<0)){var t=decodeURI(e).match(/#(\d+|comment(\d+)_(\d+))/i);t&&(t[2]?f(t[2],t[3]):p(t[1]))}}).trigger(e)}var t,n,r,i=function(){return $("div .cite-link")},a=function(e,t){return e?function(e){return"share link to this question on "+e.socialNetwork}({"socialNetwork":t}):function(e){return"share link to this answer on "+e.socialNetwork}({"socialNetwork":t})},o=function(e,t,n,r,i,o){return $("<a>",{"id":"share-"+r+"-"+e,"class":"share-"+r,"title":a(t,n),"text":i,"data-svc":o})},s=function(e){var t=null!=e;e||(e=$("div.question div.post-menu a.short-link"));var n=e.closest(".post-menu, .help-menu");if(e.hasClass("share-link"))n.find(".close-share-tip").click();else{e.addClass("share-link");var r=e.attr("id").substring("link-post-".length),i=e.closest(".col-section").length?"section":e.closest("div.question").length?"question":"answer",a=e.closest("div.question").length,s="http://"+document.location.host+e.attr("href"),c=("answer"==i?"Answer:":"")+$("#question-header a").text(),u='<div class="share-tip" style="display:none">'+(a?"share a link to this question":"share a link to this answer")+'<input type="text" style="display:block; width:292px;" value="'+s+'">';StackExchange.options.site.enableSocialMediaInSharePopup&&(u+=$("<div>",{"id":"share-icons"}).append(o(r,a,"Google+","gp","share [g+]",1)).append(o(r,a,"Facebook","fb","share [fb]",2)).append(o(r,a,"Twitter","tw","share [tw]",3)).prop("outerHTML")),StackExchange.gps.track("share.show",{"location":a?1:2}),u+='<a class="close-share-tip" style="float:right">close</a></div>';var l=$(u);if(StackExchange.options.site.enableSocialMediaInSharePopup){var d="2";StackExchange.share.gplus($("#share-gp-"+r,l),s,c,d),StackExchange.share.facebook($("#share-fb-"+r,l),s,c,d),StackExchange.share.twitter($("#share-tw-"+r,l),s,c,d),$("#share-icons a",l).click(function(){l.fadeOutAndRemove(),StackExchange.gps.track("share.click",{"location":a?1:2,"service":$(this).data("svc")})})}l.appendTo(n).fadeIn(t?"fast":0).bind("removing",function(){e.removeClass("share-link")}).find(".close-share-tip").click(function(){l.fadeOutAndRemove()}).end().find("input[type=text]").select()}},c=function(e){var t=$("#post-form h2:first"),n=t.wrap("<div />").parent(),r=n.wrap("<div />").parent(),i=$("<div />").prependTo(r),a=r.height(),o=$("<div />"),s=$(e),c=parseInt(t.css("margin-bottom")),u=$("#content"),l=$("#wmd-input").outerWidth(),d=1e3,p=u.offset().left>t.offset().left-5&&"visible"!=u.css("overflow-x");o.css({"height":0,"overflowY":"hidden"}).appendTo(n).append(s),r.css({"height":a,"position":"relative"}),n.css({"position":"absolute","bottom":-c,"width":l}),i.addClass("answer-help-background").css({"position":"absolute","bottom":-c,"height":0,"width":l}),p&&(i.css("left",0),n.animate({"paddingLeft":5},d)),o.animate({"height":s.height()+c+10},d),i.animate({"height":s.height()+c+10+a},d),$("<div style='float:right;margin-top:20px;'><a href='#'>ok</a></div>").hide().prependTo(n).fadeIn(1e3).find("a").one("click",function(e){var r=$(this).parent();setTimeout(function(){r.remove()},1),o.animate({"height":0},d,function(){o.add(i).remove(),t.unwrap().unwrap(),t.text("Your Answer")}),i.animate({"height":0},d),p&&n.animate({"paddingLeft":0},d),e.preventDefault()})},u=function(){$.get("/posts/answer-help").then(c)},l=function(){$.get("/posts/answer-ban-warning").then(c).then(function(){var e=$("#post-form h2:first");e.text("WAIT!"),$("#qualityBanWarningShown").val("true")})},d=function(e){var t=e?e.closest(".question"):$(".question"),n=t.data("questionid");if(!n)throw new Error("getQuestionId could not find an id");return n},p=function(e){h($(".answer[data-answerid="+e+"]"))},f=function(e,t){var n="#comment-"+e,r=$(n);if(r.length)h(r);else{var i=$("#comments-link-"+t);i.length&&StackExchange.comments.loadAll(i).done(function(){h($(n))})}},h=function(e){var n=r;e.css({"backgroundColor":t}).animate({"backgroundColor":n},2e3,"linear",function(){$(this).css("background-color","")}),e.is(".comment")&&e[0].scrollIntoView(!0)},g=function(e){e=e||{},$(".post-menu a.short-link").live("click",function(t){return t.ctrlKey||t.metaKey?void 0:(s($(this),e.showCitation),!1)}),$(".bottom-share-links a").live("click",function(){var e=$(this).attr("href"),t=null;e&&e.length&&(e.indexOf("%3fsgp%3d")>=0?t=1:e.indexOf("%3fsfb%3d")>=0?t=2:e.indexOf("%3fstw%3d")>=0?t=3:e.indexOf("%3fsem%3d")>=0&&(t=4)),t&&StackExchange.gps.track("share.click",{"location":3,"service":t},!0)});var t=$(".bottom-notice");t&&t.length&&!t.data("bn")&&t.data("loc")&&t.data("bn","bn").find("a").live("click",function(){var e=0,n=t.data("loc"),r=$(this).attr("href");$(this).hasClass("post-tag")?e=1:/\/ask$/.test(r)?e=2:/\/tags$/.test(r)?e=4:/\/unanswered$/.test(r)?e=5:(/\/questions$/.test(r)||/\/questions[?\/]/.test(r))&&(e=3),StackExchange.gps.track("next_action.click",{"type":e,"location":n},!0)})},m=function(e,t,n,r){var i,a,o=document.title,s=0;e.attr("autocomplete","off"),r=r||function(){};var c=function(c){var u=e.val();if(!(""==u||u==i&&c!==!0||StackExchange.options.site.newTitleSearchBoxEnabled&&$(".title-float-selected:visible").length>0)){for(var l=u.split(" "),d=0,p=0;p<l.length;p++)$.trim(l[p]).length>0&&d++;var f=(new Date).getTime(),h=(f-s)/1e3;(c===!0||!(3>d||5>h)||e.hasClass("edit-field-overlayed"))&&(s=f,i=u,n&&(document.title=u?u+" - "+n:o),t.empty(),StackExchange.helpers.addSpinner(t),a&&a.fadeOutAndRemove(),$.ajax({"url":"/search/titles","dataType":"json","data":{"title":u},"success":function(e){e&&e.content&&(t.html(e.content),setTimeout(function(){r(t.find(".answer-link a").attr("target","_blank"))},1))},"complete":function(){StackExchange.helpers.removeSpinner(t)}}))}},u=!1;return t.mouseenter(function(){u=!0}).mouseleave(function(){u=!1}),e.keyup(c).blur(function(){var e=function(){s=0,c()};u?t.one("mouseleave",e):e()}),function(e){s=0,c(e)}},v=function(){try{localStorage.removeItem("nextPrevTrackState"),localStorage.removeItem("nextPrevTrackState2"),localStorage.removeItem("nextPrevState")}catch(e){}};return{"initTitleSearch":m,"showShareTip":s,"getQuestionId":d,"initShareLinks":g,"canViewVoteCounts":function(){return n},"init":function(a){n=a.canViewVoteCounts,StackExchange.question.fullInit?StackExchange.question.fullInit(a):StackExchange.question.bindAnonymousVoteDisclaimers(),StackExchange.comments.init({"autoShowCommentHelp":a.autoShowCommentHelp}),g(a),a.showAnswerBanWarning&&$("#wmd-input").one("focus",l),a.showAnswerHelp&&!a.showAnswerBanWarning&&$("#wmd-input").one("focus",u),a.focusPostEditor&&($("#wmd-input").focus(),$("#post-form")[0].scrollIntoView(!0)),a.showCitation&&i().live("click",function(){var e=$(this).closest(".post-menu");e.find(".close-share-tip").click(),citation.show($(this))}),r=a.backgroundColor,t=a.highlightColor,e(),v()}}}(),StackExchange.question.bindAnonymousVoteDisclaimers=function(){function e(e){var t=$(this),n=t.closest("div.vote"),r=t.prop("className"),i=/vote-up/.test(r),a=/vote-down/.test(r),o=/star/.test(r),s=t.closest(".answer").length;if(e.preventDefault(),i||a){if(StackExchange.options.inReadOnly)return n.showErrorMessage("Voting isn't available in read-only mode.",{"transient":!0}),void 0;var c=n.find("input").val();if(StackExchange.options.isMobile){StackExchange.helpers.fireAndForget("/posts/popup/anon-vote/"+c+"?voteTypeId="+(i?2:3));var u="Thank you for your feedback.<br />"+(s?function(e){return"Please "+e.startAnchor+"log in or register"+e.endAnchor+" to vote for this answer."}({"startAnchor":'<a href="/users/login?returnurl='+escape(document.location)+'">',"endAnchor":"</a>"}):function(e){return"Please "+e.startAnchor+"log in or register"+e.endAnchor+" to vote for this question."}({"startAnchor":'<a href="/users/login?returnurl='+escape(document.location)+'">',"endAnchor":"</a>"}));StackExchange.helpers.showMessage(t,u,{"type":"info","position":{"my":"left top","at":"right center"},"css":{"margin-left":"-10px"}})}else{var l="anon-vote-popup-"+c;if(n.is(":working")||$("."+l).length)return;n.data("working",!0),$(".anon-vote-popup").fadeOutAndRemove(),StackExchange.helpers.removeMessages();var d=$('<div class="anon-vote-popup vote-popup popup">'+function(e){return"Sending feedback"+e.nbsp}({"nbsp":"&nbsp;"})+"</div>").addClass(l).addSpinner();d.appendTo("body").center().fadeIn("fast"),StackExchange.using("gps",function(){StackExchange.gps.track("vote_popup.show",{"type":s?2:1})}),$.ajax({"type":"POST","url":"/posts/popup/anon-vote/"+c+"?voteTypeId="+(i?2:3),"dataType":"html","success":function(e){d.html(e)},"error":function(){d.remove()},"complete":function(){n.data("working",!1)}})}}else if(o){if(StackExchange.options.inReadOnly)return n.showErrorMessage("Favoriting isn't available in read-only mode.",{"transient":!0}),void 0;$(".anon-vote-popup").fadeOutAndRemove();var u=s?function(e){return"Please "+e.startAnchor+"log in or register"+e.endAnchor+" to favorite this answer."}({"startAnchor":'<a href="/users/login?ssrc=fav_answer&returnurl='+escape(document.location)+'">',"endAnchor":"</a>"}):function(e){return"Please "+e.startAnchor+"log in or register"+e.endAnchor+" to favorite this question."}({"startAnchor":'<a href="/users/login?ssrc=fav_question&returnurl='+escape(document.location)+'">',"endAnchor":"</a>"});StackExchange.using("gps",function(){StackExchange.gps.track("favorite_popup.show",{})}),StackExchange.helpers.showMessage(t,u,{"type":"info","position":{"my":"left top","at":"right center"},"css":{"margin-left":"-10px"}})}}$(".vote-up-off, .vote-down-off, .star-off:not(.disabled)").each(function(){var t=$(this);t.data("bound-anonymous")||(t.data("bound-anonymous",!0),t.click(e))}),StackExchange.question.bindFetchAcceptedAnswerDates()},StackExchange.question.bindFetchAcceptedAnswerDates=function(){$(".load-accepted-answer-date").hover(function(){var e=$(this);if(!e.is(":working")){e.working(!0);var t=e.closest(".answer").data("answerid");if(!t)return e.attr("title",""),void 0;var n="/posts/"+t+"/accepted-answer-date";$.get(n,function(t){e.attr("title",t)})}})},StackExchange.comments=function(){function e(e,t){this.postId=e,this.jDiv=t,this.jtBody=t.find(" > table > tbody"),this.jCommentsLink=$("#comments-link-"+e)}function t(e){var t=$("#comments-"+e);if(t.length){var r=n(t),i=r.jCommentsLink,a=r.jtBody,o=a.data("remaining-comments-count")||0;o++,i.data("comments-count",o),i.attr("title","expand to show all comments on this post, or add one of your own"),r.setCommentsMenu(o),i.removeClass("disabled-link"),a.data("remaining-comments-count",o),i.show().fadeTo("fast",.7).fadeTo("fast",1)}}function n(t){var n=t.constructor===$?t:$(t),r=n.closest(".question, .answer, div[id^='post-']").find(".comments"),i=r.attr("id").replace(/^comments-/,"");if(u[i])return u[i];var a=new e(i,r);return u[i]=a,a}function r(e){return 0===window.location.pathname.indexOf("/review")?0:e.closest(".question").length?1:e.closest(".answer").length?2:0}function i(e){var t=$(this),i=t.closest(".question, .answer, div[id^='post-']"),o=i.find(".comments"),s=o.find(" > table > tbody"),c=0==s.data("remaining-comments-count"),u=t.hasClass("disabled-link"),l=t.parent(),d=l.data("rep");c&&l.data("anon")&&(StackExchange.options.isMobile?StackExchange.helpers.showMessage(l,function(e){return 1==e.rep,"Commenting requires an account with "+e.rep+" reputation"}({"rep":d}),{"type":"info","position":{"dimissible":!0,"my":"left top","at":"right center"}}):a(l.attr("id").replace("comments-link-",""),r(t))),c&&l.data("reg")&&StackExchange.helpers.showMessage(l,function(e){return 1==e.rep,"You must have "+e.linkStart+e.rep+" reputation"+e.linkEnd+" to comment"}({"rep":d,"linkStart":"<a href='/help/privileges/comment'>","linkEnd":"</a>"}),{"type":"info","position":{"dimissible":!0,"my":"left top","at":"right center"}}),t.hasClass("js-show-link")&&StackExchange.using("gps",function(){StackExchange.gps.track("comment.show")});var p=!1;if(t.hasClass("js-add-link")){p=!0;var f="other";i.hasClass("question")?f="question":i.hasClass("answer")&&(f="answer");var h=c?"all_shown":"hidden";StackExchange.using("gps",function(){StackExchange.gps.track("comment.add",{"location":f,"type":h})})}u||(e.preventDefault(),n(this).addShow(!1,p))}function a(e,t){var n="anon-vote-popup-"+e;if(!$("."+n).length){$(".anon-vote-popup").fadeOutAndRemove(),StackExchange.helpers.removeMessages();var r=$('<div class="anon-vote-popup comment-popup popup">'+function(e){return"Loading"+e.nbsp}({"nbsp":"&nbsp;"})+"</div>").addClass(n).addSpinner();r.appendTo("body").center().fadeIn("fast"),StackExchange.using("gps",function(){StackExchange.gps.track("comment_popup.show",{"type":t})}),$.ajax({"type":"POST","url":"/posts/popup/anon-comment/"+e,"dataType":"html","success":function(e){r.html(e)},"error":function(){r.remove()}})}}function o(e){var t=e&&e.post||document;u={},$(t).off("click","a.js-add-link",i).on("click","a.js-add-link",i),$(t).off("click","a.js-show-link",i).on("click","a.js-show-link",i),t==document&&c(),s(null,!0)}function s(t,n){n||(d=t),t=t||d||{};for(var r in t)t.hasOwnProperty(r)&&(e.prototype[r]=t[r])}function c(){if(0!=$(".question[data-questionid]").length){var e=StackExchange.question.getQuestionId();$(".comment .comment-date > span").each(function(){var t=$(this),n=t.closest(".answer"),r=n&&n.length?n.data("answerid"):0,i=t.closest(".comment").attr("id").substr("comment-".length),a=r?r:e,o="#comment"+i+"_"+a;location.href.indexOf("/questions/")>0?t.wrap('<a class="comment-link" href="{hash}"></a>'.formatUnicorn({"hash":o})):t.wrap('<a class="comment-link" href="/q/{pid}/{hash}"></a>'.formatUnicorn({"hash":o,"pid":a}))})}}var u={},l=function(){};e.prototype={"checkDiscussion":l,"ensureInput":l,"saveEditingComments":l,"restoreEditingComments":l,"isInputShown":function(){var e=this.jDiv.find('form[id^="add-comment-"]');return e.children().length&&e.is(":visible")},"commentsShown":function(){this.jtBody.data("remaining-comments-count",0)},"addShow":function(e,t){var n=this,r=this.loadAllComments().done(function(){n.checkDiscussion()});if(t){var i=this.ensureInput();i&&!e&&i.focus()}r.done(function(){i&&i.length>0&&n.jCommentsLink.hide()})},"ajax":function(e,t,n,r){n&&!r&&StackExchange.helpers.addSpinner(n,{"margin-left":"10px"});var i=this;return $.ajax(e).fail(function(e){var a=e.responseText;(!a||a.indexOf("<html")>=0)&&(a=t||"An error occured"),StackExchange.helpers.showErrorMessage(n||i.jDiv,a,{"transient":409==e.status}),n&&!r&&StackExchange.helpers.removeSpinner()}).done(StackExchange.helpers.removeSpinner).promise()},"setCommentsMenu":function(e){var t="",n="";e>0&&(n=function(e){return 1==e.count?"show <b>"+e.count+"</b> more comment":"show <b>"+e.count+"</b> more comments"}({"count":e})),this.isInputShown()||!this.jtBody.data("cansee")&&!this.jtBody.data("canpost")||(t="add a comment"),t.length||n||!this.jtBody.data("comments-unavailable")||(t="comments disabled on deleted / locked posts / reviews"),StackExchange.options.inReadOnly&&(t="");var r=this.jCommentsLink.find(".js-add-link"),i=this.jCommentsLink.find(".js-show-link");r.html(t),i.html(n),t.length?r.removeClass("dno"):r.addClass("dno"),n.length?i.removeClass("dno"):i.addClass("dno"),t.length&&n.length?this.jCommentsLink.find(".js-link-separator").removeClass("dno"):this.jCommentsLink.find(".js-link-separator").addClass("dno"),this.jtBody.data("addlink-disabled")&&r.addClass("disabled-link")},"showComments":function(e,t){this.saveEditingComments(t),this.jtBody.html(e),this.restoreEditingComments(),this.setCommentsMenu(0),"undefined"!=typeof MathJax&&MathJax.Hub.Queue(["Typeset",MathJax.Hub]),c(),this.commentsShown()},"loadAllComments":function(e,t){this.jDiv.removeClass("dno");var n=0==this.jtBody.data("remaining-comments-count");if(!e&&n)return $.Deferred().resolve().promise();var r=this;return this.ajax({"type":"GET","url":"/posts/"+this.postId+"/comments"+(t||""),"dataType":"html"},"An error occurred while fetching comments").done(function(e){r.showComments(e)}).promise()}};var d;return{"init":o,"loadAll":function(e,t){return n(e).loadAllComments(!0,t)},"realtimeMessage":t,"extendPostUi":s,"uiForPost":n}}(),StackExchange.share=function(){function e(e,t,n){window.open(e,t,n)||(window.location.href=e)}function t(e,t,n){n="undefined"!=typeof n?n:"1",t+="="+n;var r=e.indexOf("?"),i=e.indexOf("#");return-1==r?-1==i?e+"?"+t:e.substring(0,i)+"?"+t+e.substring(i):-1==i?e+"&"+t:e.substring(0,i)+"&"+t+e.substring(i)}return{"gplus":function(n,r,i,a){r=t(r,"sgp",a),n.click(function(){e("https://plus.google.com/share?url="+encodeURIComponent(r),"sharegplus","toolbar=1,status=1,resizable=1,scrollbars=1,width=600,height=500")})},"twitter":function(n,r,i,a){r=t(r,"stw",a);var o=117;i.length>o&&(i=i.substring(0,o-3)+"..."),n.click(function(){e("http://twitter.com/share?url="+encodeURIComponent(r)+"&ref=twitbtn&text="+encodeURIComponent(i),"sharetwitter","toolbar=1,status=1,resizable=1,scrollbars=1,width=800,height=526")})},"facebook":function(n,r,i,a){r=t(r,"sfb",a),n.click(function(){e("http://www.facebook.com/sharer.php?u="+encodeURIComponent(r)+"&ref=fbshare&t="+encodeURIComponent(i),"sharefacebook","toolbar=1,status=1,resizable=1,scrollbars=1,width=626,height=436")})}}}(),$.fn.extend({"postId":function(){var e=this.first();return e.hasClass("answer")&&e.hasClass("question")||(e=e.closest(".answer, .question")),parseInt(e.find(".vote input")[0].value)}}),StackExchange.newsletterAd=function(){function e(e){var t=$('<div class="popup newsletter-popup lightbox-panel" style="display:block"></div>').append($("<div />",{"class":"popup-close"}).append("<a>&times;</a>",{"title":"close this popup (or hit Esc)"})).append(e);$("body").loadPopup({"lightbox":!0,"html":t,"target":$("body")})}function t(){var t=StackExchange.options.site.name,n=$(['<div style="text-align: left;">','<h2 style="margin-bottom: 15px;">',function(e){return"Subscribe to the "+e.site+" weekly newsletter"}({"site":t}),"</h2>",'<p><strong><a href="/users/login?ssrc=news&returnurl=/newsletter/signup/redirect">',function(e){return"Create an account on "+e.site+e.endAnchor+" or "+e.loginAnchor+"log in"+e.endAnchor+" if you already have one."}({"site":t,"loginAnchor":'<a href="/users/login?ssrc=news&returnurl=/newsletter/signup/redirect">',"endAnchor":"</a>"}),"</strong></p>",'<form><label for="newsletter-email-input">',"Or, send newsletter emails to:","</label> ",$("<input>",{"type":"email","id":"newsletter-email-input","maxlength":"100","title":"your email address","placeholder":"email address"}).outerHTML()," ",$("<input>",{"type":"submit","id":"newsletter-email-submit","value":"Subscribe"}).outerHTML(),"</form>",$("#newsletter-ad .privacy-policy-agreement").parent().html(),"</div>"].join(""));
n.find("form").submit(function(){var e=$(this),t=e.find("#newsletter-email-input"),n=e.find("#newsletter-email-submit"),r=$.trim(t.val());return 0==r.length?!1:(StackExchange.helpers.addSpinner(e),$.ajax({"url":"/newsletter/signup/anon","type":"POST","dataType":"json","data":{"fkey":StackExchange.options.user.fkey,"email":r},"success":function(r){"confirmed"!=r.status||r.error?"unconfirmed"!=r.status||r.error?e.showErrorMessage(r.error||function(e){return"there was a problem signing up for the newsletter"+e.br+"please try again later"}({"br":"<br />"})):(t.attr("disabled",!0),n.replaceWith('<span style="line-height: 120%; text-align: center;"><strong>Subscribed!</strong></span>'),e.append("<br /><br/><p><em>Please click the link in the confirmation email to activate your subscription.</em></p>"),$("#newsletter-signup-container").replaceWith('<span style="line-height: 120%;"><strong>Success!</strong> Please click the link in the confirmation email to activate your subscription.</span>')):(t.attr("disabled",!0),n.replaceWith('<span style="line-height: 120%; text-align: center;"><strong>Subscribed!</strong></span>'),$("#newsletter-signup-container").replaceWith('<div style="line-height: 200%; text-align: center;"><strong>Subscribed!</strong></div>'))},"error":function(){e.showErrorMessage(function(e){return"there was a problem signing up for the newsletter"+e.br+"please try again later"}({"br":"<br />"}))},"complete":function(){StackExchange.helpers.removeSpinner(e)}}),!1)}),e(n)}function n(){$("#newsletter-signup").click(function(){var e=$(this);return StackExchange.options.user.isAnonymous?(t(),!1):(StackExchange.helpers.addSpinner("#newsletter-signup-container"),$.ajax({"url":"/newsletter/signup","type":"POST","dataType":"json","data":{"fkey":StackExchange.options.user.fkey},"success":function(t){t.url?window.location.href=t.url:"confirmed"==t.status?$("#newsletter-signup-container").replaceWith('<div style="line-height: 200%; text-align: center;"><strong>Subscribed!</strong></div>'):"unconfirmed"==t.status?$("#newsletter-signup-container").replaceWith('<span style="line-height: 120%;"><strong>Success!</strong> Please click the link in the confirmation email to activate your subscription.</span>'):e.parent().showErrorMessage(function(e){return"there was a problem signing up for the newsletter"+e.br+"please try again later"}({"br":"<br />"}))},"error":function(){e.parent().showErrorMessage(function(e){return"there was a problem signing up for the newsletter"+e.br+"please try again later"}({"br":"<br />"}))},"complete":function(){StackExchange.helpers.removeSpinner("#newsletter-signup-container")}}),void 0)}),$("#newsletter-preview").click(function(){var t=$(window).height(),n=Math.min(600,t-100),r=['<div id="newsleter-preview-pane" style="overflow: hidden; width: 660px; height: ',n,'px;">','<iframe src="',$(this).attr("href"),'&suppressPromotion=true" width="660" height="',n,'" frameborder="0"></iframe>',"</div>"].join("");return e(r),!1})}return{"init":n,"loader":function(e,t){var e=t||e,n=$(".newuser-greeting");$.ajax({"url":"/newsletter/targetted/ajax","data":{"domain":e},"success":function(e){$("#newsletter-ad").remove(),n.empty().append($(e))},"complete":function(){n.attr("class","").attr("style","")}}),t||(window.sessionStorage.tNewsletter=e+"-continued")}}}(),function(e,t,n,r){var i=!("selectionStart"in e("<input type='text' />")[0]);e.fn.caret=function(e,a){var o,s,c=this[0];if("object"==typeof e&&"number"==typeof e.start&&"number"==typeof e.end)o=e.start,s=e.end;else if("number"==typeof e&&"number"==typeof a)o=e,s=a;else if("string"==typeof e)(o=c.value.indexOf(e))>-1?s=o+e[t]:o=null;else if("[object RegExp]"===Object.prototype.toString.call(e)){var u=e.exec(c.value);null!=u&&(o=u.index,s=o+u[0][t])}if("undefined"!=typeof o){if(i){var l=this[0].createTextRange();l.collapse(!0),l.moveStart("character",o),l.moveEnd("character",s-o),l.select()}else this[0].selectionStart=o,this[0].selectionEnd=s;return this[0].focus(),this}if(i){var d=document.selection;if("textarea"!=this[0].tagName.toLowerCase()){var p=this.val(),f=d[n]()[r]();f.moveEnd("character",p[t]);var h=""==f.text?p[t]:p.lastIndexOf(f.text);f=d[n]()[r](),f.moveStart("character",-p[t]);var g=f.text[t]}else{var f=d[n](),m=f[r]();m.moveToElementText(this[0]),m.setEndPoint("EndToEnd",f);var h=m.text[t]-f.text[t],g=h+f.text[t]}}else var h=c.selectionStart,g=c.selectionEnd;var v=c.value.substring(h,g);return{"start":h,"end":g,"text":v,"replace":function(e){return c.value.substring(0,h)+e+c.value.substring(g,c.value[t])}}}}(jQuery,"length","createRange","duplicate"),StackExchange.nocaptcha=function(){function e(e,n){var r=['<div class="popup captcha-popup lightbox-panel" style="display: block; text-align: left;">','<div class="popup-close">',$("<a>",{"title":"close this popup (or hit Esc)","text":"Ã"}).prop("outerHTML"),"</div>",e,"</div>"].join("");$("body").loadPopup({"target":$("body"),"html":r,"lightbox":!0,"loaded":function(e){t(e,n)}})}function t(e,t){var n=e.find("form:first");StackExchange.helpers.enableSubmitButton(n),n.submit(function(){return StackExchange.helpers.disableSubmitButton(n),n.find('input[type="submit"]').addSpinnerAfter(),$.ajax({"url":"/nocaptcha","type":"POST","dataType":"json","data":n.serialize(),"success":function(r){r.captchaError?(StackExchange.helpers.removeSpinner(),StackExchange.helpers.enableSubmitButton(n),n.find(".form-error").html(r.captchaError),Recaptcha.reload()):(e.find(".popup-close a").click(),t(r))},"error":function(){StackExchange.helpers.removeSpinner(),StackExchange.helpers.enableSubmitButton(n),StackExchange.helpers.showErrorMessage(n,"An error occurred submitting the CAPTCHA")}}),!1})}return{"init":e}}(),StackExchange.captcha=function(){function e(e,n){var r=['<div class="popup captcha-popup lightbox-panel" style="display: block; text-align: left;">','<div class="popup-close">',$("<a>",{"title":"close this popup (or hit Esc)","text":"Ã"}).prop("outerHTML"),"</div>",e,"</div>"].join("");$("body").loadPopup({"html":r,"target":$("body"),"lightbox":!0,"loaded":function(e){t(e,n)}})}function t(e,t){var n=e.find("form:first");$.getScript("https://www.google.com/recaptcha/api/js/recaptcha_ajax.js",function(){Recaptcha.create(StackExchange.options.site.recaptchaPublicKey,"recaptcha",{"theme":"clean","lang":StackExchange.options.site.recaptchaAudioLang,"custom_translations":{"visual_challenge":"Get a visual challenge","audio_challenge":"Get an audio challenge","refresh_btn":"Get a new challenge","instructions_visual":"Type the text:","instructions_audio":"Type what you hear:","help_btn":"Help","play_again":"Play sound again","cant_hear_this":"Download sound as MP3","incorrect_try_again":"Incorrect. Try again.","image_alt_text":"reCAPTCHA challenge image","privacy_and_terms":"Privacy & Terms"},"callback":Recaptcha.focus_response_field}),StackExchange.helpers.enableSubmitButton(n),n.submit(function(){return StackExchange.helpers.disableSubmitButton(n),n.find('input[type="submit"]').addSpinnerAfter(),$.ajax({"url":"/captcha","type":"POST","dataType":"json","data":n.serialize(),"success":function(r){r.captchaError?(StackExchange.helpers.removeSpinner(),StackExchange.helpers.enableSubmitButton(n),n.find(".form-error").html(r.captchaError),Recaptcha.reload()):(e.find(".popup-close a").click(),t(r))},"error":function(){StackExchange.helpers.removeSpinner(),StackExchange.helpers.enableSubmitButton(n),StackExchange.helpers.showErrorMessage(n,"An error occurred submitting the CAPTCHA")}}),!1})})}return{"init":e}}(),StackExchange.gps=function(){function e(e){return m?!0:(m=!0,e&&t()?(StackExchange.gps.sendPending=o,StackExchange.gps.track=s,u(),o(),n(".tagged-questions-page, .questions-page, .tags-page",".js-gps-related-tags .post-tag","related_tags.click",", item_type:1"),n(".question-page",".js-gps-related-questions .spacer","related_questions.click"),n(".question-page .post-taglist",".post-tag","question_tags.click",", location:1"),n(".question-page #sidebar .tagged",".post-tag","question_tags.click",", location:2"),r(),!0):(StackExchange.gps.track=function(e,t,n,r){r&&r()},delete StackExchange._gps_track,!1))}function t(){if(!window.localStorage)return!1;try{if(window.localStorage["gps-probe"]="1","1"!=window.localStorage["gps-probe"])return!1;window.localStorage.removeItem("gps-probe")}catch(e){return!1}return!0}function n(e,t,n,r){$(e).find(t).each(function(e){$(this).addClass("js-gps-track").data("gps-track",n+"({ position:"+(e+1)+r+" })")})}function r(e){var t=$(e||document).find(".js-gps-track").off("click.gps").one("click.gps",function(){var e=$.trim($(this).data("gps-track"));if(e)for(var t=i(e),n=0;n<t.length;n++){var r=t[n];StackExchange.gps.track(r[0],r[1],!0)}});h("bindTrackClicks bound {0} elements in {1}",t.length,e||"document")}function i(e){for(var t=[],n=e.match(/([a-z._]+)(\([^)]+\))?/gi),r=0;r<n.length;r++){var i=n[r];if(i.indexOf("{")<0)t.push([i,{}]);else{for(var a=i.match(/([a-z._]+)\s*\(\s*\{([^}]+)\}\s*\)/i),o=a[1],s=$.trim(a[2]),c=s.match(/[^,]+/gi),u={},l=0;l<c.length;l++){var d=c[l],p=d.indexOf(":"),f=$.trim(d.substr(0,p)),h=$.trim(d.substr(p+1)),g=parseInt(h);u[f]=0/0!=g?g:h}t.push([o,u])}}return t}function a(e,t){$(e).on("click",t+" a[href]:not(.question-hyperlink, .answer-hyperlink)",function(){var e=$(this),t=e.attr("href");StackExchange.helpers.isInNetwork(t)||("undefined"==typeof ga?h("outbound link clicked "+t):ga("send","event","outbound","click",t,{"useBeacon":!0}))})}function o(e){var t=l();if(t.length>0){for(var n=(new Date).getTime(),r=[],i=0;i<t.length&&r.length<20;i++){var a=t[i],o=n-a.now;0>o||o>36e5?p(a):r.push(a)}r.length>0?f(r,e):e&&e()}}function s(e,t,n,r){var i={"evt":e,"properties":t||{},"now":(new Date).getTime()};d(i),navigator&&navigator.sendBeacon&&(n=!1),n?(r&&r(),window.setTimeout(o,1e4)):o(r)}function c(e){e&&StackExchange.options&&StackExchange.options.user&&(e.properties&&!e.properties.user_type&&(e.properties.user_type=StackExchange.options.user.user_type),!e.ab&&StackExchange.options.user.ab&&(e.ab=StackExchange.options.user.ab))}function u(){StackExchange._gps_track&&($.each(StackExchange._gps_track,function(e,t){d(t)}),delete StackExchange._gps_track)}function l(){var e=localStorage[g];return e?JSON.parse(e):[]}function d(e){c(e);var t,n=localStorage[g];if(n){var r=JSON.parse(n);r.push(e),t=JSON.stringify(r)}else t=JSON.stringify([e]);h("addToPending "+JSON.stringify(e)),localStorage[g]=t}function p(e){var t=localStorage[g];if(t){for(var n=JSON.parse(t),r=JSON.stringify(e),i=-1,a=0;a<n.length;a++){var o=JSON.stringify(n[a]);if(r==o){i=a;break}}if(-1!=i)return n.splice(i,1),0==n.length?(localStorage.removeItem(g),void 0):(localStorage[g]=JSON.stringify(n),void 0)}}function f(e,t){$.isArray(e)||(e=[e]);for(var n=0;n<e.length;n++){var r=JSON.stringify(e[n]);v[r]&&(e.splice(n,1),n--)}for(var n=0;n<e.length;n++){var r=JSON.stringify(e[n]);v[r]=!0}var i=JSON.stringify(e);if(navigator&&navigator.sendBeacon)try{if(h("sending (beacon): "+i),navigator&&navigator.sendBeacon("/gps/event",i)){for(var n=0;n<e.length;n++){p(e[n]);var r=JSON.stringify(e[n]);delete v[r]}return t&&t(),void 0}}catch(a){h(a)}h("sending (AJAX): "+i),$.ajax({"type":"POST","url":"/gps/event","data":{"data":i},"success":function(){for(var t=0;t<e.length;t++)p(e[t])},"complete":function(){for(var n=0;n<e.length;n++){var r=JSON.stringify(e[n]);delete v[r]}t&&t()}})}function h(e){if((StackExchange.options&&StackExchange.options.enableLogging2||$.cookie("devlog"))&&"string"==typeof e){if(arguments.length>1){var t=Array.prototype.slice.call(arguments,1);e=String.prototype.formatUnicorn.apply(e,t)}console.log("gps: "+e)}}var g="gps-pending",m=!1,v={},b=StackExchange.gps.track,k=StackExchange.gps.sendPending;return{"init":e,"bindTrackClicks":r,"track":b,"sendPending":k,"trackOutboundClicks":a}}(),StackExchange.openid=function(){function e(e,t){return e?(t&&$(e).data("ssrc",t),$(e).data("ssrc")):d}function t(t,n){var r=e(n);t&&StackExchange.gps.track("openid.click",{"openid_provider":t,"location":r},!0),StackExchange.gps.track("signup.start",{"openid_provider":t,"location":r},!0)}function n(n,r,i){var o=decodeURIComponent(r),d="unknown";i&&i.length?d=i:(0===o.indexOf("/questions/")&&(d="question_page"),"/questions/ask"===o&&(d="question_ask"));var p=$(n);e(p,d);var f=p.find(".new-login-left"),h=p.find(".new-login-right"),g=f.find(".show-more-options");g.click(function(){return g.hide(),h.show(),!1});var m=h.find(".hide-more-options");m.click(function(){return g.show(),h.hide(),!1}),p.removeClass("dno"),a(p,h);var v=f.find(".google-login");v.click(function(){t("Google",p),c(p)});var b=f.find(".facebook-login");b.click(function(){t("Facebook",p),s(p)});var k=f.find(".stackexchange-login");k.click(u(function(){t("Stack Exchange",p),StackExchange.navPrevention.stop(),window.location="/users/signup?ssrc="+encodeURIComponent(d)+"&returnUrl="+encodeURIComponent(o)})),p.find(".submit-openid").click(function(){l(p,o)})}function r(n,r,i,a,o){var u=decodeURIComponent(r);e(n,i);var d=n.find(".google-login");d.click(function(){t("Google",n),c(n)});var p=n.find(".facebook-login");p.click(function(){t("Facebook",n),s(n)});var f=n.find(".stackexchange-login");f.click(function(){t("Stack Exchange",n),window.location="/users/signup?ssrc="+encodeURIComponent(i)+"&returnUrl="+encodeURIComponent(u)}),n.find(".submit-openid").click(function(){l(n,u,a,o)})}function i(e,n){var r=$(e),i=r.find(".google-login");i.click(function(){t("Google",r),c(r)});var a=r.find(".facebook-login");a.click(function(){t("Facebook",r),s(r)});var o=r.find(".stackexchange-login");o.click(function(){t("Stack Exchange",r),window.location="/users/signup?ssrc=about&returnUrl="+encodeURIComponent(n)}),r.find(".submit-openid").click(function(){l(r,n)})}function a(e,t){var n=t.find(".option-extra-fields");n.hide();var r=t.find(".yahoo-button");r.click(function(){n.hide(),o(e,"yahoo")});var i=function(r){var i="."+r+"-option";n.show(),n.find("> div:not("+i+")").hide(),n.find(i+", .extra-field-container").show(),t.find(".extra-field").val("").focus();var a=t.find(".extra-field-submit");a.unbind("click"),a.click(function(){o(e,r,t.find(".extra-field").val())})},a=t.find(".blogger-button");a.click(function(){i("blogger")});var s=t.find(".aol-button");s.click(function(){i("aol")})}function o(t,n,r){var i=p[n];r&&(i=i.replace("{username}",r)),t.find(".ssrc").val(e(t)),t.find(".use-facebook").val(""),t.find(".use-google").val(""),t.find(".manual-openid").val(i),t.find(".submit-openid").click()}function s(t){t.find(".ssrc").val(e(t)),t.find(".use-facebook").val("true"),t.find(".use-google").val(""),t.find(".manual-openid").val(""),t.find(".submit-openid").click()}function c(t){t.find(".ssrc").val(e(t)),t.find(".use-google").val("true"),t.find(".use-facebook").val(""),t.find(".manual-openid").val(""),t.find(".submit-openid").click()}function u(e){return function(){StackExchange.using("editor",function(){StackExchange.cardiologist.ensureDraftSaved(e)})}}function l(t,n,r,i){var a=t.find(".manual-openid").val(),o=t.find(".use-facebook").val(),s=t.find(".use-google").val();u(function(){var c=!!StackExchange.options.site.isChildMeta,u=(c?StackExchange.options.site.parentUrl:"")+"/users/authenticate?returnurl="+encodeURIComponent(n),l=$('<form method="post" action="'+u+'"></form>');if(a){var d=$('<input type="hidden" name="openid_identifier" />');l.append(d),d.val(a)}else{var p=$('<input type="hidden" name="oauth_version" />'),f=$('<input type="hidden" name="oauth_server" />');l.append(p),l.append(f),p.val("2.0"),o?f.val("https://www.facebook.com/v2.0/dialog/oauth"):s&&f.val("https://accounts.google.com/o/oauth2/auth")}l.append("<input type='hidden' name='fkey' value='"+StackExchange.options.user.fkey+"' />"),$('<input type="hidden" name="ssrc" />').val(e(t)).appendTo(l),r&&i&&($('<input type="hidden" name="anon_vote_type" />').val(r).appendTo(l),$('<input type="hidden" name="anon_vote_hash" />').val(i).appendTo(l)),StackExchange.navPrevention.stop(),l.hide().appendTo("body").submit()})()}var d="unknown",p={"yahoo":"http://yahoo.com/","google":"https://www.google.com/accounts/o8/id","aol":"http://openid.aol.com/{username}","blogger":"http://{username}.blogspot.com/"};return{"initPostLogin":n,"initAnonPopup":r,"initTourSignup":i}}();var UniversalAuth=function(){return{"performAuth":function(){if(UniversalAuth.enabled()){var e=$.cookie("uauth");null!=e&&($.post("/users/login/universal/request",function(e){$.each(e,function(e,t){var n="//"+t.Host+"/users/login/universal.gif?authToken="+encodeURIComponent(t.Token)+"&nonce="+encodeURIComponent(t.Nonce);$(document).ready(function(){$("#footer").append('<img style="display:none" src="'+n+'"></img>')})})},"json"),$.cookie("uauth",null,{"path":"/","domain":document.domain}))}},"enabled":function(){return!0}}}();StackExchange.newnav={"init":function(e,t,n,r){StackExchange.newnav.shows=e,StackExchange.newnav.sorts=t,StackExchange.newnav.sortsByShow=n,StackExchange.newnav.config=r},"viewModels":{},"controllers":{}},StackExchange.newnav.viewModels.questionList=function(e,t,n,r,i,a,o,s,c){function u(){return!U||""==U}function l(){return 0===(0|e)}function d(){var e,t=0;1==O&&(t|=1),(4==D||0==D)&&(D=0,t|=2),M&&""!=M.trim()||(t|=4),M&&M.trim().indexOf(" ")<0&&(t|=8);var n=StackExchange.newnav.sorts[O].caption,r=StackExchange.newnav.shows[D].caption;switch(t){case 0:e=function(e){return e.sort+" "+e.show+" questions (multiple tags)"}({"sort":n,"show":r});break;case 1:e=function(e){return e.show+" questions (multiple tags)"}({"show":r});break;case 2:e=function(e){return e.sort+" questions (multiple tags)"}({"sort":n});break;case 3:e="newest (multiple tags)";break;case 4:e=function(e){return e.show+" by "+e.sort+" questions"}({"sort":n,"show":r}),2==O&&(2==D||3==D?e=r:1==D&&(e="hot today"));break;case 5:e=r;break;case 6:e=n;break;case 7:default:e="newest";break;case 8:e=function(e){return e.sort+" "+e.show+" '"+e.tag+"' questions"}({"sort":n,"show":r,"tag":M});break;case 9:e=function(e){return e.show+" '"+e.tag+"' questions"}({"show":r,"tag":M});break;case 10:e=function(e){return e.sort+" '"+e.tag+"' questions"}({"sort":n,"tag":M});break;case 11:e=M}return e}function p(){return l()?"home":u()?d():U}function f(e){$.extend(j,e)}function h(){return l()?!1:N}function g(){if(l())return null;var e={"name":U,"uri":k()};return N=!1,e}function m(e,t,n){if(l())return"/";if(n)switch(10*e+t){case 0:return"/questions/tagged/{tags}?sort=active";case 1:return"/questions/tagged/{tags}";case 2:return"/questions/tagged/{tags}?sort=hot";case 3:return"/questions/tagged/{tags}?sort=votes";case 4:return"/questions/tagged/{tags}?sort=linked";case 5:return"/questions/tagged/{tags}";case 6:return"/questions/tagged/{tags}";case 10:return"/questions/tagged/{tags}?filter=today&sort=active";case 11:return"/questions/tagged/{tags}?filter=today";case 12:return"/questions/tagged/{tags}?filter=today&sort=hot";case 13:return"/questions/tagged/{tags}?filter=today&sort=votes";case 14:return"/questions/tagged/{tags}?filter=today&sort=linked";case 15:return"/questions/tagged/{tags}?filter=today";case 16:return"/questions/tagged/{tags}?filter=today";case 20:return"/questions/tagged/{tags}?filter=week&sort=active";case 21:return"/questions/tagged/{tags}?filter=week";case 22:return"/questions/tagged/{tags}?filter=week&sort=hot";case 23:return"/questions/tagged/{tags}?filter=week&sort=votes";case 24:return"/questions/tagged/{tags}?filter=week&sort=linked";case 25:return"/questions/tagged/{tags}?filter=week";case 26:return"/questions/tagged/{tags}?filter=week";case 30:return"/questions/tagged/{tags}?filter=month&sort=active";case 31:return"/questions/tagged/{tags}?filter=month";case 32:return"/questions/tagged/{tags}?filter=month&sort=hot";case 33:return"/questions/tagged/{tags}?filter=month&sort=votes";case 34:return"/questions/tagged/{tags}?filter=month&sort=linked";case 35:return"/questions/tagged/{tags}?filter=month";case 36:return"/questions/tagged/{tags}?filter=month";case 50:return"/questions/tagged/{tags}?filter=no-answer&sort=active";case 51:return"/questions/tagged/{tags}?filter=no-answer";case 52:return"/questions/tagged/{tags}?filter=no-answer&sort=hot";case 53:return"/questions/tagged/{tags}?filter=no-answer&sort=votes";case 54:return"/questions/tagged/{tags}?filter=no-answer&sort=linked";case 55:return"/questions/tagged/{tags}?filter=no-answer";case 56:return"/questions/tagged/{tags}?filter=no-answer";case 60:return"/questions/tagged/{tags}?filter=bounties&sort=active";case 61:return"/questions/tagged/{tags}?filter=bounties";case 62:return"/questions/tagged/{tags}?filter=bounties&sort=hot";case 63:return"/questions/tagged/{tags}?filter=bounties&sort=votes";case 64:return"/questions/tagged/{tags}?filter=bounties&sort=linked";case 65:return"/questions/tagged/{tags}?filter=bounties&sort=ending";case 66:return"/questions/tagged/{tags}?filter=bounties&sort=size";case 70:return"/questions/tagged/{tags}?filter=need-answers&sort=active";case 71:return"/questions/tagged/{tags}?filter=need-answers";case 72:return"/questions/tagged/{tags}?filter=need-answers&sort=hot";case 73:return"/questions/tagged/{tags}?filter=need-answers&sort=votes";case 74:return"/questions/tagged/{tags}?filter=need-answers&sort=linked";case 75:return"/questions/tagged/{tags}?filter=need-answers";case 76:return"/questions/tagged/{tags}?filter=need-answers"}else switch(10*e+t){case 0:return"/questions/active";case 1:return"/questions";case 2:return"/questions/hot";case 3:return"/questions/votes";case 4:return"/questions/linked";case 5:return"/questions/hot";case 6:return"/questions/hot";case 10:return"/questions/today/active";case 11:return"/questions/today";case 12:return"/questions/today/hot";case 13:return"/questions/today/votes";case 14:return"/questions/today/linked";case 15:return"/questions/today";case 16:return"/questions/today";case 20:return"/questions/week/active";case 21:return"/questions/week";case 22:return"/questions/week/hot";case 23:return"/questions/week/votes";case 24:return"/questions/week/linked";case 25:return"/questions/week";case 26:return"/questions/week";case 30:return"/questions/month/active";case 31:return"/questions/month";case 32:return"/questions/month/hot";case 33:return"/questions/month/votes";case 34:return"/questions/month/linked";case 35:return"/questions/month";case 36:return"/questions/month";case 50:return"/questions/no-answer/active";case 51:return"/questions/no-answer";case 52:return"/questions/no-answer/hot";case 53:return"/questions/no-answer/votes";case 54:return"/questions/no-answer/linked";case 55:return"/questions/no-answer";case 56:return"/questions/no-answer";case 60:return"/questions/bounties/active";case 61:return"/questions/bounties";case 62:return"/questions/bounties/hot";case 63:return"/questions/bounties/votes";case 64:return"/questions/bounties/linked";case 65:return"/questions/bounties/ending";case 66:return"/questions/bounties/size";case 70:return"/questions/need-answers/active";case 71:return"/questions/need-answers";case 72:return"/questions/need-answers/hot";case 73:return"/questions/need-answers/votes";case 74:return"/questions/need-answers/linked";case 75:return"/questions/need-answers";case 76:return"/questions/need-answers"}}function v(e,t){var n={"tags":M,"showId":D,"sortId":O,"compose":P,"orCompose":R,"isExpanded":I,"fastpage":!1,"peripherals":!1,"hash":null,"page":1,"pagesize":15};$.extend(n,e),4==n.showId&&(n.showId=0);var r=n.tags.length>0,i=m(n.showId,n.sortId,r);r&&(i=i.formatUnicorn({"tags":encodeURIComponent(n.tags)}));var a=function(e,t){i=StackExchange.helpers.updateQueryStringParameter(i,e,t)};return n.tags.length>1&&n.compose&&a("mode",n.orCompose?"any":"all"),n.page>1&&(a("page",n.page),15!=n.pagesize&&a("pagesize",n.pagesize)),t||(a("page",n.page),a("pagesize",n.pagesize),(n.isExpanded===!0||n.isExpanded===!1)&&a("layout",n.isExpanded?"expanded":"compact"),n.fastpage&&a("fastpage","true"),n.peripherals&&a("peripherals","true")),i}function b(e){return v(e,!1)}function k(e){return v(e,!0)}function w(){return JSON.stringify({"dirty":A.isDirty(),"id":A.id,"name":A.getName(),"isExpanded":I,"isSelected":L,"showId":D,"sortId":O,"tags":M,"compose":P,"orCompose":R,"uniqueId":_uniqueId},null,"  ")}function x(){L&&j.onCriteriaChanged(A)}function y(e){I!=e&&(I=e,x())}function E(e){e!==L&&(L=e)}function S(t){0!=e&&U!=t&&(N=!0,U=t)}function C(e){l()||O==e||(N=!0,O=e,x())}function _(e,t){l()||D==e||(N=!0,4==e&&(e=0),D=e,O=t,x())}function T(e,t){l()||M==e||(N=!0,M=e,P=t,x())}function q(e){!l()&&R!=e&&P&&(N=!0,R=e,x())}var A,L=!1,I=n,D=0|r,O=0|i,P=o,R=s,M=a?a:"",N=null==c?!0:c,j={"onCriteriaChanged":function(){return null}},B=!1,U=t;return A={"id":e,"isHome":l,"isDirty":h,"init":f,"save":g,"getVisible":function(){return L},"setVisible":E,"getIsExpanded":function(){return I},"setIsExpanded":y,"generateUri":b,"generateCustomUri":v,"generateDeepLink":k,"toString":w,"getName":p,"setName":S,"getShowId":function(){return D},"setShowId":_,"getSortId":function(){return O},"setSortId":C,"getTags":function(){return M},"setTags":T,"getTagsArray":function(){return(M||"").split(/\s+/).filter(function(e){return""!=e})},"getTagComposition":function(){return R},"setTagComposition":q,"getTagComposable":function(){return P},"getAutoFocus":function(){return B},"setAutoFocus":function(e){B=e}}},StackExchange.newnav.viewModels.questionList.parseCanonicalUri=function(e){function t(e){var t={},n=e.split("?");if(!n[1])return t;var r=n[1].split("&");return r.forEach(function(e){var n=e.split("=");t[n[0]]=decodeURIComponent(n[1])}),t}var n,r,i,a,o,s,c=!1,u=t(e),l=/^\/questions\/tagged\/([^\/?]+)/i;if((s=l.exec(e))&&s[1]){switch(i=decodeURIComponent(s[1]),u.sort){case"active":n=0;break;default:case"newest":n=1;break;case"hot":n=2;break;case"votes":n=3;break;case"mostlinked":n=4;break;case"ending":n=5;break;case"size":n=6}switch(u.filter){default:case"all":r=0;break;case"today":r=1;break;case"week":r=2;break;case"month":r=3;break;case"needanswers":r=7;break;case"no-answer":r=5;break;case"bounties":r=6}}else{var d=e.split("?")[0].substring("/questions".length);switch(d){case"":r=0,n=1;break;case"/active":r=0,n=0;break;case"/bounties":r=6,n=1;break;case"/bounties/active":r=6,n=0;break;case"/bounties/ending":r=6,n=5;break;case"/bounties/hot":r=6,n=2;break;case"/bounties/linked":r=6,n=4;break;case"/bounties/size":r=6,n=6;break;case"/bounties/votes":r=6,n=3;break;case"/hot":r=0,n=2;break;case"/linked":r=0,n=4;break;case"/month":r=3,n=1;break;case"/month/active":r=3,n=0;break;case"/month/hot":r=3,n=2;break;case"/month/linked":r=3,n=4;break;case"/month/votes":r=3,n=3;break;case"/need-answers":r=7,n=1;break;case"/need-answers/active":r=7,n=0;break;case"/need-answers/hot":r=7,n=2;break;case"/need-answers/linked":r=7,n=4;break;case"/need-answers/votes":r=7,n=3;break;case"/no-answer":r=5,n=1;break;case"/no-answer/active":r=5,n=0;break;case"/no-answer/hot":r=5,n=2;break;case"/no-answer/linked":r=5,n=4;break;case"/no-answer/votes":r=5,n=3;break;case"/today":r=1,n=1;break;case"/today/active":r=1,n=0;break;case"/today/hot":r=1,n=2;break;case"/today/linked":r=1,n=4;break;case"/today/votes":r=1,n=3;break;case"/votes":r=0,n=3;break;case"/week":r=2,n=1;break;case"/week/active":r=2,n=0;break;case"/week/hot":r=2,n=2;break;case"/week/linked":r=2,n=4;break;case"/week/votes":r=2,n=3}}return a=u.mode,c=!!a,c&&(o="any"==a.toLowerCase()),{"sortId":n,"showId":r,"tags":i,"orCompose":o,"compose":c}},StackExchange.newnav.viewModels.questionList.load=function(e,t,n){try{var r=t.name,i=StackExchange.newnav.viewModels.questionList.parseCanonicalUri(t.uri);return StackExchange.newnav.viewModels.questionList(e,r,n,i.showId,i.sortId,i.tags,i.compose,i.orCompose,!1)}catch(a){return null}},StackExchange.newnav.viewModels.navigation=function(){function e(){M.onNavigationChanged(D)}function t(t){$.extend(M,t),P.forEach(function(e){e.init(M)}),e()}function n(e){I&&I.id==e.id||(I=e,P.forEach(function(t){t.setVisible(t.id==e.id)}),M.onListSelected(e))}function r(t){var n={};$.extend(t,{"getRealtimeCounts":function(){return Object.keys(n).length},"updateRealtimePost":function(r){var i=/question-summary-(\d+)/i.exec(r.closest(".question-summary").attr("id"));if(i&&i[1]){var a=t.getRealtimeCounts(),o=i[1];n[o]={"id":o,"index":(new Date).getTime(),"body":r.outerHTML()};var s=t.getRealtimeCounts();s!=a&&e()}},"setRealtimePosts":function(t){n=$.extend({},t,n),e()},"getRealtimePosts":function(){return $.extend({},n)},"clearRealtimePosts":function(){var r=t.getRealtimeCounts();r>0&&(n={},e())}}),P.push(t),M.onListAdded(t)}function i(t){var i=P.reduce(function(e,t){return Math.max(e,t.id)},-1)+1;if(0==i)t={"showId":0,"sortId":1,"tags":""};else{t=$.extend({},{"showId":0,"sortId":1,"tags":""},t);var a=StackExchange.newnav.sortsByShow[t.showId];a||(t.showId=0,a=StackExchange.newnav.sortsByShow[0]),-1==a.indexOf(t.sortId)&&(t.sortId=a[0])}var o=StackExchange.newnav.viewModels.questionList(i,null,R,t.showId,t.sortId,t.tags);o.init(M),r(o),n(o),o.setAutoFocus(!0),e()}function a(t){var i=o(t);if(null!=i){var a,s=P.reduce(function(e,t){return Math.max(e,t.id)},-1)+1;a=0==s?{"showId":0,"sortId":1,"tags":""}:{"showId":i.getShowId(),"sortId":i.getSortId(),"tags":i.getTags()};var c=StackExchange.newnav.sortsByShow[a.showId];c||(a.showId=0,c=StackExchange.newnav.sortsByShow[0]),-1==c.indexOf(a.sortId)&&(a.sortId=c[0]);var u=StackExchange.newnav.viewModels.questionList(s,null,R,a.showId,a.sortId,a.tags);u.init(M),r(u),n(u),u.setAutoFocus(!0),e()}}function o(e){return e=0|e,0>e?void 0:P.filter(function(t){return t.id==e})[0]}function s(t){var r=o(t);if(r){var i=P.indexOf(r),a=P.indexOf(I);O={"page":1},i!==a&&(n(r),r.setAutoFocus(!1),e())}}function c(e){if(null==localStorage.getItem("newNav")){var t={"isExpanded":!1,"questionLists":[]},a=StackExchange.newnav.viewModels.questionList(1,null,!1,0,3);a.init(M),t.questionLists.push(a.save()),a=StackExchange.newnav.viewModels.questionList(2,null,!1,0,0),a.init(M),t.questionLists.push(a.save()),localStorage.setItem("newNav",JSON.stringify(t))}var o;try{o=JSON.parse(localStorage.getItem("newNav"))}catch(s){console.log(s)}null==o&&(o={"isExpanded":!1,"questionLists":[]}),P=[],i();if(o.questionLists.forEach(function(e,t){var n=StackExchange.newnav.viewModels.questionList.load(t+1,e,R);n&&r(n)}),e.extraList){var c=e.extraList,u=P.reduce(function(e,t){return Math.max(e,t.id)},-1)+1,l=StackExchange.newnav.viewModels.questionList(u,c.name,R,c.show,c.sort,c.tags,c.compose,c.orCompose,!0),d=l.generateDeepLink(),p=P.filter(function(e){return e.generateDeepLink()==d});p.length>0?n(p[0]):(l.init(M),r(l),n(l))}return I}function u(t){var n=JSON.parse(localStorage.getItem("newNav")).questionLists||[],r=[],i=I.generateDeepLink();P.forEach(function(e){if(!e.isHome()){var a=e.generateDeepLink();if(i!=a||t){var o=!1;n.forEach(function(e,t){!o&&e&&e.uri==a&&(o=!0,r.push(e),n[t]=null)})}else r.push(I.save())}}),localStorage.setItem("newNav",JSON.stringify({"questionLists":r})),e()}function l(t){var r=o(t);if(r&&!(r.id<1)){var i=P.indexOf(r),a=P.indexOf(I);i==a&&(a==P.length-1?n(P[a-1]):n(P[a+1])),P.splice(i,1),M.onListRemoved(r),u(!0),e()}}function d(t){var n=o(t);if(n&&!(n.id<1)){var r=P.indexOf(n);if(r!=P.length-1){var i=P[r];P[r]=P[r+1],P[r+1]=i,e()}}}function p(t){var n=o(t);if(n&&!(n.id<1)){var r=P.indexOf(n);if(!(2>r)){var i=P[r];P[r]=P[r-1],P[r-1]=i,e()}}}function f(t,n){var r=o(t);r&&r.getName()!=n&&(r.setName(n),e())}function h(t){t!=R&&(R=t,P.forEach(function(e){e.setIsExpanded(t)}),e())}function g(t){if(I&&!I.isHome()){var n=0==t.filter(function(e){var t=e.toLowerCase();return"and"==t||"or"==t||"not"==t}).length&&t.length>1;I.setTags(t.join(" "),n),e()}}function m(){return!I||I.isHome()?null:I.getTags()}function v(){return!I||I.isHome()?null:StackExchange.newnav.sortsByShow[I.getShowId()]}function b(){return!I||I.isHome()?null:I.getShowId()}function k(e,t){if(!t||t.isHome()||!StackExchange.newnav.shows[e])return!1;var n=t.getSortId(),r=StackExchange.newnav.sortsByShow[e];return-1==r.indexOf(n)?t.setShowId(e,r[0]):t.setShowId(e,n),!0
}function w(t){k(t,I)&&e()}function x(){return!I||I.isHome()?null:I.getSortId()}function y(t){I&&!I.isHome()&&(I.setSortId(t),e())}function E(){return I&&!I.isHome()&&I.getTagComposable()?I.getTagComposition():null}function S(t){I&&!I.isHome()&&I.getTagComposable()&&(I.setTagComposition(t),e())}function C(){return!I||I.isHome()?null:I.getTagComposable()}function _(){return!I||I.isHome()?!1:I.isDirty()}function T(e,t){var n=!1,r=JSON.parse(localStorage.getItem("newNav")).questionLists||[];return r.forEach(function(r){n||r.uri!=e||t&&r.name||(n=!0)}),n}function q(e){return e?T(e):!0}function A(e){if(e&&T(e,!0)){var t=null;P.forEach(function(n){t||n.generateDeepLink()!=e||n.name||n.isDirty()||(t=n)}),t&&0!=t.id&&l(t.id)}}function L(e){if(e){var t=StackExchange.newnav.viewModels.questionList.load(0,{"uri":e});t&&(i({"showId":t.getShowId(),"sortId":t.getSortId(),"tags":t.getTags()}),u())}}var I,D,O,P=[],R=StackExchange.newnav.config.isExpanded,M={"onNavigationChanged":function(){},"onListAdded":function(){},"onListRemoved":function(){},"onListSelected":function(){}},N={"page":1,"pagesize":15};return D={"init":t,"load":c,"addList":i,"removeList":l,"renameList":f,"selectList":s,"saveList":u,"moveListRight":d,"moveListLeft":p,"setIsExpanded":h,"getIsExpanded":function(){return R},"getShowId":b,"setShowId":w,"getSortId":x,"setSortId":y,"getSorts":v,"getTags":m,"setTags":g,"getTagComposition":E,"setTagComposition":S,"hasTagComposition":C,"tabs":function(){return P},"onHome":function(){return I.isHome()},"generateCustomUri":function(e){return I?I.generateCustomUri($.extend(D.getPaging(),e||{})):""},"getTitle":function(){if(!I||I.isHome())return StackExchange.options.site.name;var e=I.getRealtimeCounts();return e>0?function(e){return 1==e.realtimeCount,"("+e.realtimeCount+") "+e.pageTitle+" - "+e.siteName}({"realtimeCount":e,"pageTitle":I.getName(),"siteName":StackExchange.options.site.name}):function(e){return e.pageTitle+" - "+e.siteName}({"pageTitle":I.getName(),"siteName":StackExchange.options.site.name})},"isModified":_,"setPaging":function(e){if(I){if("string"==typeof e){for(var t,n=/(?:[&?])(page(?:size)?)=(\d+)/gi,r={};t=n.exec(e);)r[t[1].toLowerCase()]=+t[2];e=r}var i=$.extend({},N,e),a=$.extend({},N,O);(i.page!==a.page||i.pagesize!==a.pageSize)&&(O=i,M.onListSelected(I))}},"getPaging":function(){return $.extend({},N,O)},"listExists":q,"addListByUri":L,"removeListByUri":A,"getCurrent":function(){return I},"getAutoFocus":function(){return console.log("Autofocus:",I.generateDeepLink(),I.getAutoFocus()),I.getAutoFocus()},"duplicateList":a}},StackExchange.newnav.controllers.unifiedQuestionListController=function(e){function t(){$('.help-popup input[type="checkbox"]').each(function(t,n){var r=$(n),i=e.listExists(r.attr("name"));r.prop("checked",i)})}function n(e){if(null!=StackExchange.options.user.accountId&&e){var t=e.getTagsArray(),n=t.filter(RegExp.prototype.test.bind(/^(?:and|or|not)$/i)).length,r=n?null:t;StackExchange.tagPreferences.applyPrefs(!0,r)}}function r(e,t){return e.index<t.index?-1:e.index>t.index?1:0}function i(e){var t=e.getTagsArray().filter(function(e){return!f[e]}),n=StackExchange.newnav.sorts[e.getSortId()].realtimeName,r="newest"==n,i="active"==n;w.popstate||e.clearRealtimePosts(),StackExchange.options.realtime&&StackExchange.options.realtime.tagged&&(r||i)&&t.length?StackExchange.realtime.newnav_multiplex.subscribe({"token":e.realtimeToken||(e.realtimeToken=(new Date).getTime()^e.id),"layout":e.getIsExpanded()?"expanded":"compact","sort":n,"filter":StackExchange.newnav.shows[e.getShowId()].realtimeName,"requiredTags":t.length?t:null,"mode":e.getTagComposition()?"or":"and"},function(t){for(var n=0;n<t.questions.length;n++)e.updateRealtimePost(t.questions[n])}):a(e)}function a(e){e.realtimeToken&&(w.popstate||e.clearRealtimePosts(),StackExchange.realtime.newnav_multiplex.unsubscribe(e.realtimeToken))}function o(e){var t=$(".tabs-list");t.find(".intellitab").remove();var n=t.find(":first-child");if($(".new-post-activity").remove(),e.tabs().forEach(function(t,r,i){var a=$($("#tmpl-tab-item").html());a.closest(".intellitab").attr("data-id",t.id);var o=t.getName(),s=o;t.isDirty()&&(o="*"+o);var c=t.getRealtimeCounts();c>0&&(o="({count}) {name}".formatUnicorn({"count":c,"name":o})),a.find("a:first").attr("href",t.generateDeepLink()),a.find(".tab-name").text(o),a.find(".tab-name").attr("title",s),a.find(".tab-full-name").val(s),t.getVisible()&&a.addClass("selected").find("a:first").addClass("youarehere"),t.isHome()&&(a.find(".menu-switcher").remove(),a.find(".tab-full-name").remove()),1==r&&a.find(".move-left-tab").addClass("disabled"),r==i.length-1&&a.find(".move-right-tab").addClass("disabled"),a.insertBefore(n),t.getVisible()&&t.getRealtimeCounts()>0&&e.getPaging().page<2&&($("#question-mini-list, #questions").prepend(function(){var e=t.getRealtimeCounts(),n=1===t.getSortId()?function(e){return 1==e.count?e.count+" new question":e.count+" new questions"}({"count":e}):function(e){return 1==e.count?e.count+" question with new activity":e.count+" questions with new activity"}({"count":e});return $('<div class="new-post-activity">'+n+"</div>").data("questionList",t)}),u(),w.update(t,$("body").html(),e.getPaging()))}),e.onHome())$(".tab-show").hide(),$(".tab-sort").hide(),$(".tab-tag-filter").hide(),$(".tab-save").hide(),$(".question-list-layout").hide(),$(".tab-tag-callout").show(),$(".tabs-list-container .add-tab, .tabs-list-container .bounties-tab").attr("href","/questions/bounties/ending");else{$(".tab-show").show(),$(".tab-show li[data-tab-options]").each(function(){var t=$(this),n=t.data("tab-options");t[e.getShowId()===n.showId?"addClass":"removeClass"]("selected").find("a:first").attr("href",e.generateCustomUri(n))}),$(".tab-sort").show();var r=e.getSorts();$(".tab-sort li[data-tab-options]").each(function(){var t=$(this),n=t.data("tab-options");t[-1===r.indexOf(n.sortId)?"addClass":"removeClass"]("disabled")[e.getSortId()===n.sortId?"addClass":"removeClass"]("selected").find("a:first").attr("href",e.generateCustomUri(n))}),$(".tab-tag-filter").show();var i=function(){e.getAutoFocus()?$(".tab-tag-filter .tag-filter").focus():$(".tab-tag-filter .tag-filter").blur()};if(h){if(!k){var a=$(".tab-tag-filter .tag-filter")[0],o=e.getTags().trim();a.value.trim()!=o&&(a.func_clear(),a.func_add(o)),i()}}else StackExchange.using("tagEditor",function(){$(".tab-tag-filter .tag-filter").val(e.getTags()),StackExchange.tagEditor($(".tab-tag-filter .tag-filter"),null,!1,{"excerpts":!1,"invalid":f,"operators":/^(?:and|or|not)$/i,"tagMenus":!0}),StackExchange.helpers.genericBindOverlayEvents($(".tab-tag-filter .tag-editor"),$(".tab-tag-filter .tag-filter"),function(){return""===$(".tab-tag-filter .tag-filter").val()}),i()}),h=!0;var s=!1;$("#search input[name='q']").val(e.getTags().trim().split(" ").reduce(function(e,t){return t?"not"==t?(s=!s,e):(e.length>0&&(e+=" "),"and"==t||"or"==t?e+=t:(s&&(e+="-"),e+="["+t+"]"),s=!1,e):e},"")),e.hasTagComposition()?($(".tag-filter-isany").show().find("a[data-tab-options]").each(function(){var t=$(this);t.attr("href",e.generateCustomUri(t.data("tab-options")))}),e.getTagComposition()?($(".tag-filter-isany .any").addClass("selected"),$(".tag-filter-isany .all").removeClass("selected")):($(".tag-filter-isany .all").addClass("selected"),$(".tag-filter-isany .any").removeClass("selected"))):$(".tag-filter-isany").hide(),$(".tab-save").show(),e.isModified()?$(".tab-save").removeClass("disabled"):$(".tab-save").addClass("disabled"),$(".question-list-layout").show().find("a[data-tab-options]").each(function(){var t=$(this);t.attr("href",e.generateCustomUri(t.data("tab-options")))}),e.getIsExpanded()?($(".question-list-layout .expanded").addClass("selected"),$(".question-list-layout .collapsed").removeClass("selected")):($(".question-list-layout .expanded").removeClass("selected"),$(".question-list-layout .collapsed").addClass("selected")),$(".tab-tag-callout").hide();var c=e.getTags();(""==c||c.indexOf(" ")>-1)&&$("div.excerpt.question").hide(),$(".tabs-list-container .add-tab, .tabs-list-container .bounties-tab").attr("href",e.generateCustomUri({"showId":6,"sortId":5}))}$("a.disabled, .disabled a").attr("href",null)}function s(e,t,n,r){var i,a=$.Deferred();if(t&&(i=t.warningTags)){var o=!1;if(i.split(/\s+/).forEach(function(e){o|=!f[e],f[e]=!0}),o){var s=$(".tab-tag-filter .tag-filter")[0],c=s.value;s.func_clear(),s.func_add(c)}a.reject(r,"tag-warnings")}else a.resolve(e,t,n,r);return a.promise()}function c(e,t){var r=$(t);$("#sidebar").html(r.filter("#sidebar").html()),$(".pager, .page-sizer, #permalink").remove(),r.find(".page-sizer").insertBefore("#loading-overlay"),r.find(".pager").insertBefore("#loading-overlay"),r.filter("#permalink").insertAfter("#sidebar");var i=$(".bounties-tab");r.find(".bounties-tab").insertAfter(i).attr("href",i.attr("href")),i.remove(),StackExchange.helpers.bindShowMoreHotNetworkQuestions(),n(e)}function u(){document.title=($("#mainbar").data("title-prefix")||"")+e.getTitle()}function l(e,t){var r=$(t).find("#qlist-wrapper");$("#qlist-wrapper").html(r.html()),n(e)}function d(e){var t=$("#sidebar").removeSpinner();e&&t.addSpinner()}function p(e){var t=$("#loading-overlay").addClass("dno").removeSpinner();e&&t.removeClass("dno").addSpinner()}var f=$.extend({"javascropt":!0},StackExchange.newnav.config.invalidTags),h=!1,g=null,m={"showing":!1,"show":function(e){this.hide(),e&&e.filter(".dropdown").show(),$(".intellitab").not(":first").addClass("dropdown-enabled"),this.showing=!0},"hide":function(){this.showing=!1,$(".intellitab").removeClass("dropdown-enabled"),$(".newnav .tab-parameters .dropdown").hide()},"toggle":function(e){this.showing?this.hide():this.show(e)}};$(document).on("click",".disabled, .disabled *",function(e){return e.preventDefault(),e.stopImmediatePropagation(),!1}),$(document).on("click",".tabs-list .remove-tab",function(t){var n=$(t.target).closest(".intellitab").data("id");m.hide(),e.removeList(+n),t.stopImmediatePropagation(),t.preventDefault()}),$(document).on("click",".tabs-list .move-right-tab",function(t){var n=$(t.target);if(!n.hasClass("disabled")){var r=$(t.target).closest(".intellitab").data("id");m.hide(),e.moveListRight(+r)}t.stopImmediatePropagation(),t.preventDefault()}),$(document).on("click",".tabs-list .move-left-tab",function(t){var n=$(t.target);if(!n.hasClass("disabled")){var r=n.closest(".intellitab").data("id");m.hide(),e.moveListLeft(+r)}t.stopImmediatePropagation(),t.preventDefault()});var v=function(e){var t=$(e.target).closest(".intellitab");0!=t.data("id")&&(m.hide(),t.addClass("renaming"),t.find("a").hide(),t.find("input.tab-full-name").show().focus().select(),g=t,e.stopImmediatePropagation(),e.preventDefault())},b=function(t){if(g){if(t){var n=g.data("id");e.renameList(n,g.find("input.tab-full-name").val())}g.removeClass("renaming"),g.find("a").show(),g.find("input.tab-full-name").hide(),g=null}};$(document).on("click",".tabs-list .rename-tab",v),$(document).on("dblclick",".tabs-list .intellitab",v),$(document).on("keyup","input.tab-full-name",function(e){if(g){if(13==e.which)b(!0);else{if(27!=e.which)return;b(!1)}e.stopImmediatePropagation()}}),$(document).on("blur","input.tab-full-name",function(){b(!0)}),$(document).on("click",".tabs-list .menu-switcher",function(e){m.toggle(),e.stopImmediatePropagation(),e.preventDefault()}),$(document).on("click",".tabs-list .intellitab",function(t){var n=$(t.target);if(!n.closest(".menu-switcher").length){var r=n.closest(".intellitab").data("id");e.selectList(+r),t.preventDefault()}}),$(document).on("click",".tabs-list-container .add-tab",function(t){$(t.target).closest(".intellitab");e.addList({}),t.preventDefault()}),$(document).on("click",".tabs-list-container .duplicate-tab",function(t){var n=$(t.target).closest(".intellitab"),r=n.data("id");0!=r&&(e.duplicateList(r),t.preventDefault(),t.stopImmediatePropagation())}),$(document).on("click",".tag-filter-isany .any, .tag-filter-isany .all",function(t){var n=e.getTagComposition(),r=$(t.target).hasClass("any");e.setTagComposition(r),t.preventDefault(),n!=r&&$.post("/users/save-preference",{"key":121,"value":r?"or":"and","fkey":StackExchange.options.user.fkey})}),$(document).on("click",".question-list-layout a",function(t){var n=$(t.target).hasClass("expanded");e.setIsExpanded(n),t.preventDefault(),$.post("/users/save-preference",{"key":120,"value":n?"true":"false","fkey":StackExchange.options.user.fkey})}),$(document).on("click",".tab-show li[data-tab-options] a",function(t){var n=$(t.target).closest("li[data-tab-options]").data("tab-options").showId;m.hide(),e.setShowId(+n),t.preventDefault()}),$(document).on("click",".tab-sort li[data-tab-options] a",function(t){var n=$(t.target).closest("li[data-tab-options]").data("tab-options").sortId;m.hide(),e.setSortId(+n),t.preventDefault()}),$(document).on("click",".tab-save a",function(t){$(t.target).closest(".tab-save").hasClass("disabled")||e.saveList()}),$(document).on("click",".tab-show li[data-id] a",function(t){var n=$(t.target).closest("li[data-id]").data("id");e.setShowId(+n),t.preventDefault()});var k=!1;$(document).on("tageditor:renderedchange",".tag-filter",function(t,n){k=!0,e.setTags(n),k=!1}),$(document).on("click",".newnav .filter-switcher",function(e){m.toggle($(e.target).parent().find("ul.dropdown")),e.stopImmediatePropagation(),e.preventDefault()}),$(document).on("hover",".newnav .filter-switcher",function(e){m.showing&&m.show($(e.target).closest(".tab-show, .tab-sort").find("ul.dropdown"))}),$(document).on("hover",".newnav .intellitab",function(){m.showing&&(m.hide(),m.show())}),$(document).on("click",function(e){m.showing&&!$(e.target).closest("ul.dropdown").length&&(m.hide(),e.stopImmediatePropagation())}),$(document).on("keypress",".tab-tag-filter .tag-editor",function(e){13==e.which&&$(".tab-tag-filter .tag-filter")[0].func_finish()}),$(document).on("change",'.help-popup input[type="checkbox"]',function(n){var r=$(n.target);r.prop("checked")?e.addListByUri(r.prop("name")):e.removeListByUri(r.prop("name")),t()}),$(document).on("click",".help-tab",function(e){$("#prototype").loadPopup({"html":$("#tmpl-help-popup").html(),"insert":function(e){e.insertAfter("#prototype.subheader")},"lightbox":!0,"dontShow":!0}).done(function(e,t){e.show(),t.fadeIn("fast")}),t(),e.preventDefault()}),$(document).on("click",".pager a, .page-sizer a",function(t){var n=$(t.target).closest("a"),r=n.attr("href");e.setPaging(r),$("html, body").animate({"scrollTop":$(".tabs-list").position().top},200),t.stopImmediatePropagation(),t.preventDefault(),$.post("/users/save-preference",{"key":10,"value":e.getPaging().pagesize,"fkey":StackExchange.options.user.fkey})}),$(document).on("click","#hide-restore-tabs",function(){$.post("/newnav/toggle-restore-tabs/false",{"fkey":StackExchange.options.user.fkey}).done(function(){StackExchange.helpers.closePopups(),$(".help-tab").remove()})}),$(document).on("click",".new-post-activity",function(){var t=e.getCurrent(),i=t.getRealtimePosts();t.clearRealtimePosts();var a=[];for(var o in i)i.hasOwnProperty(o)&&a.push(i[o]);for(var s=a.sort(r),c=0;c<s.length;c++){var l=s[c];$("#question-summary-"+l.id).remove(),$(l.body).prependTo("#question-mini-list, #questions")}n(t),styleCode(),StackExchange.realtime.updateRelativeDates(),$(".new-post-activity").remove(),$(".no-posts").remove(),u(),w.update(t,$("body").html(),e.getPaging());for(var c=0;c<s.length;c++){var l=s[c];$("#question-summary-"+l.id).hide().fadeIn()}}),e.load(StackExchange.newnav.config);var w=function(){function t(t,n){return{"id":t.id,"tags":t.getTagsArray(),"orCompose":t.getTagComposition(),"showId":t.getShowId(),"sortId":t.getSortId(),"expanded":t.getIsExpanded(),"paging":e.getPaging(),"realtimePosts":t.getRealtimePosts(),"body":n}}function n(e,n,i,a){r.popstate||window.history[e](t(n,i),document.title,n.generateDeepLink(a))}var r={"popstate":null,"update":function(){},"push":function(){}};return window.history?(r.update=n.bind(null,"replaceState"),r.push=n.bind(null,"pushState"),$(window).on("popstate",function(t){var n=t.originalEvent,i=r.popstate=n.state;if(i){e.selectList(i.id),e.setTags(i.tags),e.setTagComposition(i.orCompose),e.setShowId(i.showId),e.setSortId(i.sortId),e.setIsExpanded(i.expanded),e.setPaging(i.paging);var a=e.getCurrent();a&&a.setRealtimePosts(i.realtimePosts),r.popstate=null}}),r):r}();u(),e.setPaging(location.search),w.update(e.getCurrent(),$("body").html(),e.getPaging());var x=function(){function e(e,t,r){if(r=r||$.Deferred(),w.popstate&&w.popstate.body)r.resolve(t,w.popstate.body,"popstate",r);else{var i=t.generateCustomUri(e),a=$.get(i);n.push(a),a.always(function(){var e=n.indexOf(a);e>=0&&n.splice(e,1)}).done(r.resolve.bind(null,t)).fail(r.reject.bind(null,t))}return r.promise()}function t(){for(;n.length;){var e=n.pop();e.aborted=!0,e.abort()}r.cancel()}var n=[],r=StackExchange.helpers.DelayedReaction(e,2e3,{"sliding":!0});return{"full":function(n,r){return t(),p(!0),d(!0),e($.extend({},r),n).always(function(){p(!1),d(!1)}).pipe(s).done(function(e,t){w.popstate||e.clearRealtimePosts(),u(),w.push(e,t,r),l(e,t),c(e,t)})},"fast":function(n,i){return t(),p(!0),e($.extend({},i,{"fastpage":!0}),n).always(p.bind(null,!1)).pipe(s).done(function(e,t){w.popstate||e.clearRealtimePosts(),u(),l(e,t),w.push(e,$("body").html(),i)}).pipe(function(){var e=$.Deferred();return r.trigger($.extend({},i,{"peripherals":!0}),n,e),d(!0),e.promise()}).always(d.bind(null,!1)).pipe(s).done(function(e,t){c(e,t),w.update(e,$("body").html(),i)})}}}();e.init({"onNavigationChanged":function(e){o(e)},"onCriteriaChanged":function(t){x.fast(t,e.getPaging()).done(i)},"onListSelected":function(t){StackExchange.tagPreferences.resetDontApplyCache(),x.full(t,e.getPaging()).done(i)},"onListAdded":i,"onListRemoved":a}),e.tabs().forEach(i)},StackExchange.ready(function(){function e(){try{$.cookie("fkey",StackExchange.options.user.fkey,{"path":"/","expires":1/144})}catch(e){}}if(StackExchange.options.user.isAnonymous){var t=/\bfkey=/i;$(document).ajaxSend(function(n,r,i){"post"===i.type.toLowerCase()&&(t.test(i.url)||t.test(i.data))&&e()}),$(document).on("submit","form",function(){var t=$(this);"post"===t.attr("method").toLowerCase()&&t.find("input[name='fkey']").length&&e()})}});