(function(a,b){function cy(a){return f.isWindow(a)?a:a.nodeType===9?a.defaultView||a.parentWindow:!1}function cv(a){if(!ck[a]){var b=c.body,d=f("<"+a+">").appendTo(b),e=d.css("display");d.remove();if(e==="none"||e===""){cl||(cl=c.createElement("iframe"),cl.frameBorder=cl.width=cl.height=0),b.appendChild(cl);if(!cm||!cl.createElement)cm=(cl.contentWindow||cl.contentDocument).document,cm.write((c.compatMode==="CSS1Compat"?"<!doctype html>":"")+"<html><body>"),cm.close();d=cm.createElement(a),cm.body.appendChild(d),e=f.css(d,"display"),b.removeChild(cl)}ck[a]=e}return ck[a]}function cu(a,b){var c={};f.each(cq.concat.apply([],cq.slice(0,b)),function(){c[this]=a});return c}function ct(){cr=b}function cs(){setTimeout(ct,0);return cr=f.now()}function cj(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}function ci(){try{return new a.XMLHttpRequest}catch(b){}}function cc(a,c){a.dataFilter&&(c=a.dataFilter(c,a.dataType));var d=a.dataTypes,e={},g,h,i=d.length,j,k=d[0],l,m,n,o,p;for(g=1;g<i;g++){if(g===1)for(h in a.converters)typeof h=="string"&&(e[h.toLowerCase()]=a.converters[h]);l=k,k=d[g];if(k==="*")k=l;else if(l!=="*"&&l!==k){m=l+" "+k,n=e[m]||e["* "+k];if(!n){p=b;for(o in e){j=o.split(" ");if(j[0]===l||j[0]==="*"){p=e[j[1]+" "+k];if(p){o=e[o],o===!0?n=p:p===!0&&(n=o);break}}}}!n&&!p&&f.error("No conversion from "+m.replace(" "," to ")),n!==!0&&(c=n?n(c):p(o(c)))}}return c}function cb(a,c,d){var e=a.contents,f=a.dataTypes,g=a.responseFields,h,i,j,k;for(i in g)i in d&&(c[g[i]]=d[i]);while(f[0]==="*")f.shift(),h===b&&(h=a.mimeType||c.getResponseHeader("content-type"));if(h)for(i in e)if(e[i]&&e[i].test(h)){f.unshift(i);break}if(f[0]in d)j=f[0];else{for(i in d){if(!f[0]||a.converters[i+" "+f[0]]){j=i;break}k||(k=i)}j=j||k}if(j){j!==f[0]&&f.unshift(j);return d[j]}}function ca(a,b,c,d){if(f.isArray(b))f.each(b,function(b,e){c||bE.test(a)?d(a,e):ca(a+"["+(typeof e=="object"||f.isArray(e)?b:"")+"]",e,c,d)});else if(!c&&b!=null&&typeof b=="object")for(var e in b)ca(a+"["+e+"]",b[e],c,d);else d(a,b)}function b_(a,c){var d,e,g=f.ajaxSettings.flatOptions||{};for(d in c)c[d]!==b&&((g[d]?a:e||(e={}))[d]=c[d]);e&&f.extend(!0,a,e)}function b$(a,c,d,e,f,g){f=f||c.dataTypes[0],g=g||{},g[f]=!0;var h=a[f],i=0,j=h?h.length:0,k=a===bT,l;for(;i<j&&(k||!l);i++)l=h[i](c,d,e),typeof l=="string"&&(!k||g[l]?l=b:(c.dataTypes.unshift(l),l=b$(a,c,d,e,l,g)));(k||!l)&&!g["*"]&&(l=b$(a,c,d,e,"*",g));return l}function bZ(a){return function(b,c){typeof b!="string"&&(c=b,b="*");if(f.isFunction(c)){var d=b.toLowerCase().split(bP),e=0,g=d.length,h,i,j;for(;e<g;e++)h=d[e],j=/^\+/.test(h),j&&(h=h.substr(1)||"*"),i=a[h]=a[h]||[],i[j?"unshift":"push"](c)}}}function bC(a,b,c){var d=b==="width"?a.offsetWidth:a.offsetHeight,e=b==="width"?bx:by,g=0,h=e.length;if(d>0){if(c!=="border")for(;g<h;g++)c||(d-=parseFloat(f.css(a,"padding"+e[g]))||0),c==="margin"?d+=parseFloat(f.css(a,c+e[g]))||0:d-=parseFloat(f.css(a,"border"+e[g]+"Width"))||0;return d+"px"}d=bz(a,b,b);if(d<0||d==null)d=a.style[b]||0;d=parseFloat(d)||0;if(c)for(;g<h;g++)d+=parseFloat(f.css(a,"padding"+e[g]))||0,c!=="padding"&&(d+=parseFloat(f.css(a,"border"+e[g]+"Width"))||0),c==="margin"&&(d+=parseFloat(f.css(a,c+e[g]))||0);return d+"px"}function bp(a,b){b.src?f.ajax({url:b.src,async:!1,dataType:"script"}):f.globalEval((b.text||b.textContent||b.innerHTML||"").replace(bf,"/*$0*/")),b.parentNode&&b.parentNode.removeChild(b)}function bo(a){var b=c.createElement("div");bh.appendChild(b),b.innerHTML=a.outerHTML;return b.firstChild}function bn(a){var b=(a.nodeName||"").toLowerCase();b==="input"?bm(a):b!=="script"&&typeof a.getElementsByTagName!="undefined"&&f.grep(a.getElementsByTagName("input"),bm)}function bm(a){if(a.type==="checkbox"||a.type==="radio")a.defaultChecked=a.checked}function bl(a){return typeof a.getElementsByTagName!="undefined"?a.getElementsByTagName("*"):typeof a.querySelectorAll!="undefined"?a.querySelectorAll("*"):[]}function bk(a,b){var c;if(b.nodeType===1){b.clearAttributes&&b.clearAttributes(),b.mergeAttributes&&b.mergeAttributes(a),c=b.nodeName.toLowerCase();if(c==="object")b.outerHTML=a.outerHTML;else if(c!=="input"||a.type!=="checkbox"&&a.type!=="radio"){if(c==="option")b.selected=a.defaultSelected;else if(c==="input"||c==="textarea")b.defaultValue=a.defaultValue}else a.checked&&(b.defaultChecked=b.checked=a.checked),b.value!==a.value&&(b.value=a.value);b.removeAttribute(f.expando)}}function bj(a,b){if(b.nodeType===1&&!!f.hasData(a)){var c,d,e,g=f._data(a),h=f._data(b,g),i=g.events;if(i){delete h.handle,h.events={};for(c in i)for(d=0,e=i[c].length;d<e;d++)f.event.add(b,c+(i[c][d].namespace?".":"")+i[c][d].namespace,i[c][d],i[c][d].data)}h.data&&(h.data=f.extend({},h.data))}}function bi(a,b){return f.nodeName(a,"table")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function U(a){var b=V.split("|"),c=a.createDocumentFragment();if(c.createElement)while(b.length)c.createElement(b.pop());return c}function T(a,b,c){b=b||0;if(f.isFunction(b))return f.grep(a,function(a,d){var e=!!b.call(a,d,a);return e===c});if(b.nodeType)return f.grep(a,function(a,d){return a===b===c});if(typeof b=="string"){var d=f.grep(a,function(a){return a.nodeType===1});if(O.test(b))return f.filter(b,d,!c);b=f.filter(b,d)}return f.grep(a,function(a,d){return f.inArray(a,b)>=0===c})}function S(a){return!a||!a.parentNode||a.parentNode.nodeType===11}function K(){return!0}function J(){return!1}function n(a,b,c){var d=b+"defer",e=b+"queue",g=b+"mark",h=f._data(a,d);h&&(c==="queue"||!f._data(a,e))&&(c==="mark"||!f._data(a,g))&&setTimeout(function(){!f._data(a,e)&&!f._data(a,g)&&(f.removeData(a,d,!0),h.fire())},0)}function m(a){for(var b in a){if(b==="data"&&f.isEmptyObject(a[b]))continue;if(b!=="toJSON")return!1}return!0}function l(a,c,d){if(d===b&&a.nodeType===1){var e="data-"+c.replace(k,"-$1").toLowerCase();d=a.getAttribute(e);if(typeof d=="string"){try{d=d==="true"?!0:d==="false"?!1:d==="null"?null:f.isNumeric(d)?parseFloat(d):j.test(d)?f.parseJSON(d):d}catch(g){}f.data(a,c,d)}else d=b}return d}function h(a){var b=g[a]={},c,d;a=a.split(/\s+/);for(c=0,d=a.length;c<d;c++)b[a[c]]=!0;return b}var c=a.document,d=a.navigator,e=a.location,f=function(){function J(){if(!e.isReady){try{c.documentElement.doScroll("left")}catch(a){setTimeout(J,1);return}e.ready()}}var e=function(a,b){return new e.fn.init(a,b,h)},f=a.jQuery,g=a.$,h,i=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,j=/\S/,k=/^\s+/,l=/\s+$/,m=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,n=/^[\],:{}\s]*$/,o=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,p=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,q=/(?:^|:|,)(?:\s*\[)+/g,r=/(webkit)[ \/]([\w.]+)/,s=/(opera)(?:.*version)?[ \/]([\w.]+)/,t=/(msie) ([\w.]+)/,u=/(mozilla)(?:.*? rv:([\w.]+))?/,v=/-([a-z]|[0-9])/ig,w=/^-ms-/,x=function(a,b){return(b+"").toUpperCase()},y=d.userAgent,z,A,B,C=Object.prototype.toString,D=Object.prototype.hasOwnProperty,E=Array.prototype.push,F=Array.prototype.slice,G=String.prototype.trim,H=Array.prototype.indexOf,I={};e.fn=e.prototype={constructor:e,init:function(a,d,f){var g,h,j,k;if(!a)return this;if(a.nodeType){this.context=this[0]=a,this.length=1;return this}if(a==="body"&&!d&&c.body){this.context=c,this[0]=c.body,this.selector=a,this.length=1;return this}if(typeof a=="string"){a.charAt(0)!=="<"||a.charAt(a.length-1)!==">"||a.length<3?g=i.exec(a):g=[null,a,null];if(g&&(g[1]||!d)){if(g[1]){d=d instanceof e?d[0]:d,k=d?d.ownerDocument||d:c,j=m.exec(a),j?e.isPlainObject(d)?(a=[c.createElement(j[1])],e.fn.attr.call(a,d,!0)):a=[k.createElement(j[1])]:(j=e.buildFragment([g[1]],[k]),a=(j.cacheable?e.clone(j.fragment):j.fragment).childNodes);return e.merge(this,a)}h=c.getElementById(g[2]);if(h&&h.parentNode){if(h.id!==g[2])return f.find(a);this.length=1,this[0]=h}this.context=c,this.selector=a;return this}return!d||d.jquery?(d||f).find(a):this.constructor(d).find(a)}if(e.isFunction(a))return f.ready(a);a.selector!==b&&(this.selector=a.selector,this.context=a.context);return e.makeArray(a,this)},selector:"",jquery:"1.7.1",length:0,size:function(){return this.length},toArray:function(){return F.call(this,0)},get:function(a){return a==null?this.toArray():a<0?this[this.length+a]:this[a]},pushStack:function(a,b,c){var d=this.constructor();e.isArray(a)?E.apply(d,a):e.merge(d,a),d.prevObject=this,d.context=this.context,b==="find"?d.selector=this.selector+(this.selector?" ":"")+c:b&&(d.selector=this.selector+"."+b+"("+c+")");return d},each:function(a,b){return e.each(this,a,b)},ready:function(a){e.bindReady(),A.add(a);return this},eq:function(a){a=+a;return a===-1?this.slice(a):this.slice(a,a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(F.apply(this,arguments),"slice",F.call(arguments).join(","))},map:function(a){return this.pushStack(e.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:E,sort:[].sort,splice:[].splice},e.fn.init.prototype=e.fn,e.extend=e.fn.extend=function(){var a,c,d,f,g,h,i=arguments[0]||{},j=1,k=arguments.length,l=!1;typeof i=="boolean"&&(l=i,i=arguments[1]||{},j=2),typeof i!="object"&&!e.isFunction(i)&&(i={}),k===j&&(i=this,--j);for(;j<k;j++)if((a=arguments[j])!=null)for(c in a){d=i[c],f=a[c];if(i===f)continue;l&&f&&(e.isPlainObject(f)||(g=e.isArray(f)))?(g?(g=!1,h=d&&e.isArray(d)?d:[]):h=d&&e.isPlainObject(d)?d:{},i[c]=e.extend(l,h,f)):f!==b&&(i[c]=f)}return i},e.extend({noConflict:function(b){a.$===e&&(a.$=g),b&&a.jQuery===e&&(a.jQuery=f);return e},isReady:!1,readyWait:1,holdReady:function(a){a?e.readyWait++:e.ready(!0)},ready:function(a){if(a===!0&&!--e.readyWait||a!==!0&&!e.isReady){if(!c.body)return setTimeout(e.ready,1);e.isReady=!0;if(a!==!0&&--e.readyWait>0)return;A.fireWith(c,[e]),e.fn.trigger&&e(c).trigger("ready").off("ready")}},bindReady:function(){if(!A){A=e.Callbacks("once memory");if(c.readyState==="complete")return setTimeout(e.ready,1);if(c.addEventListener)c.addEventListener("DOMContentLoaded",B,!1),a.addEventListener("load",e.ready,!1);else if(c.attachEvent){c.attachEvent("onreadystatechange",B),a.attachEvent("onload",e.ready);var b=!1;try{b=a.frameElement==null}catch(d){}c.documentElement.doScroll&&b&&J()}}},isFunction:function(a){return e.type(a)==="function"},isArray:Array.isArray||function(a){return e.type(a)==="array"},isWindow:function(a){return a&&typeof a=="object"&&"setInterval"in a},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return a==null?String(a):I[C.call(a)]||"object"},isPlainObject:function(a){if(!a||e.type(a)!=="object"||a.nodeType||e.isWindow(a))return!1;try{if(a.constructor&&!D.call(a,"constructor")&&!D.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}var d;for(d in a);return d===b||D.call(a,d)},isEmptyObject:function(a){for(var b in a)return!1;return!0},error:function(a){throw new Error(a)},parseJSON:function(b){if(typeof b!="string"||!b)return null;b=e.trim(b);if(a.JSON&&a.JSON.parse)return a.JSON.parse(b);if(n.test(b.replace(o,"@").replace(p,"]").replace(q,"")))return(new Function("return "+b))();e.error("Invalid JSON: "+b)},parseXML:function(c){var d,f;try{a.DOMParser?(f=new DOMParser,d=f.parseFromString(c,"text/xml")):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(c))}catch(g){d=b}(!d||!d.documentElement||d.getElementsByTagName("parsererror").length)&&e.error("Invalid XML: "+c);return d},noop:function(){},globalEval:function(b){b&&j.test(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(w,"ms-").replace(v,x)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toUpperCase()===b.toUpperCase()},each:function(a,c,d){var f,g=0,h=a.length,i=h===b||e.isFunction(a);if(d){if(i){for(f in a)if(c.apply(a[f],d)===!1)break}else for(;g<h;)if(c.apply(a[g++],d)===!1)break}else if(i){for(f in a)if(c.call(a[f],f,a[f])===!1)break}else for(;g<h;)if(c.call(a[g],g,a[g++])===!1)break;return a},trim:G?function(a){return a==null?"":G.call(a)}:function(a){return a==null?"":(a+"").replace(k,"").replace(l,"")},makeArray:function(a,b){var c=b||[];if(a!=null){var d=e.type(a);a.length==null||d==="string"||d==="function"||d==="regexp"||e.isWindow(a)?E.call(c,a):e.merge(c,a)}return c},inArray:function(a,b,c){var d;if(b){if(H)return H.call(b,a,c);d=b.length,c=c?c<0?Math.max(0,d+c):c:0;for(;c<d;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,c){var d=a.length,e=0;if(typeof c.length=="number")for(var f=c.length;e<f;e++)a[d++]=c[e];else while(c[e]!==b)a[d++]=c[e++];a.length=d;return a},grep:function(a,b,c){var d=[],e;c=!!c;for(var f=0,g=a.length;f<g;f++)e=!!b(a[f],f),c!==e&&d.push(a[f]);return d},map:function(a,c,d){var f,g,h=[],i=0,j=a.length,k=a instanceof e||j!==b&&typeof j=="number"&&(j>0&&a[0]&&a[j-1]||j===0||e.isArray(a));if(k)for(;i<j;i++)f=c(a[i],i,d),f!=null&&(h[h.length]=f);else for(g in a)f=c(a[g],g,d),f!=null&&(h[h.length]=f);return h.concat.apply([],h)},guid:1,proxy:function(a,c){if(typeof c=="string"){var d=a[c];c=a,a=d}if(!e.isFunction(a))return b;var f=F.call(arguments,2),g=function(){return a.apply(c,f.concat(F.call(arguments)))};g.guid=a.guid=a.guid||g.guid||e.guid++;return g},access:function(a,c,d,f,g,h){var i=a.length;if(typeof c=="object"){for(var j in c)e.access(a,j,c[j],f,g,d);return a}if(d!==b){f=!h&&f&&e.isFunction(d);for(var k=0;k<i;k++)g(a[k],c,f?d.call(a[k],k,g(a[k],c)):d,h);return a}return i?g(a[0],c):b},now:function(){return(new Date).getTime()},uaMatch:function(a){a=a.toLowerCase();var b=r.exec(a)||s.exec(a)||t.exec(a)||a.indexOf("compatible")<0&&u.exec(a)||[];return{browser:b[1]||"",version:b[2]||"0"}},sub:function(){function a(b,c){return new a.fn.init(b,c)}e.extend(!0,a,this),a.superclass=this,a.fn=a.prototype=this(),a.fn.constructor=a,a.sub=this.sub,a.fn.init=function(d,f){f&&f instanceof e&&!(f instanceof a)&&(f=a(f));return e.fn.init.call(this,d,f,b)},a.fn.init.prototype=a.fn;var b=a(c);return a},browser:{}}),e.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(a,b){I["[object "+b+"]"]=b.toLowerCase()}),z=e.uaMatch(y),z.browser&&(e.browser[z.browser]=!0,e.browser.version=z.version),e.browser.webkit&&(e.browser.safari=!0),j.test("Ã ")&&(k=/^[\s\xA0]+/,l=/[\s\xA0]+$/),h=e(c),c.addEventListener?B=function(){c.removeEventListener("DOMContentLoaded",B,!1),e.ready()}:c.attachEvent&&(B=function(){c.readyState==="complete"&&(c.detachEvent("onreadystatechange",B),e.ready())});return e}(),g={};f.Callbacks=function(a){a=a?g[a]||h(a):{};var c=[],d=[],e,i,j,k,l,m=function(b){var d,e,g,h,i;for(d=0,e=b.length;d<e;d++)g=b[d],h=f.type(g),h==="array"?m(g):h==="function"&&(!a.unique||!o.has(g))&&c.push(g)},n=function(b,f){f=f||[],e=!a.memory||[b,f],i=!0,l=j||0,j=0,k=c.length;for(;c&&l<k;l++)if(c[l].apply(b,f)===!1&&a.stopOnFalse){e=!0;break}i=!1,c&&(a.once?e===!0?o.disable():c=[]:d&&d.length&&(e=d.shift(),o.fireWith(e[0],e[1])))},o={add:function(){if(c){var a=c.length;m(arguments),i?k=c.length:e&&e!==!0&&(j=a,n(e[0],e[1]))}return this},remove:function(){if(c){var b=arguments,d=0,e=b.length;for(;d<e;d++)for(var f=0;f<c.length;f++)if(b[d]===c[f]){i&&f<=k&&(k--,f<=l&&l--),c.splice(f--,1);if(a.unique)break}}return this},has:function(a){if(c){var b=0,d=c.length;for(;b<d;b++)if(a===c[b])return!0}return!1},empty:function(){c=[];return this},disable:function(){c=d=e=b;return this},disabled:function(){return!c},lock:function(){d=b,(!e||e===!0)&&o.disable();return this},locked:function(){return!d},fireWith:function(b,c){d&&(i?a.once||d.push([b,c]):(!a.once||!e)&&n(b,c));return this},fire:function(){o.fireWith(this,arguments);return this},fired:function(){return!!e}};return o};var i=[].slice;f.extend({Deferred:function(a){var b=f.Callbacks("once memory"),c=f.Callbacks("once memory"),d=f.Callbacks("memory"),e="pending",g={resolve:b,reject:c,notify:d},h={done:b.add,fail:c.add,progress:d.add,state:function(){return e},isResolved:b.fired,isRejected:c.fired,then:function(a,b,c){i.done(a).fail(b).progress(c);return this},always:function(){i.done.apply(i,arguments).fail.apply(i,arguments);return this},pipe:function(a,b,c){return f.Deferred(function(d){f.each({done:[a,"resolve"],fail:[b,"reject"],progress:[c,"notify"]},function(a,b){var c=b[0],e=b[1],g;f.isFunction(c)?i[a](function(){g=c.apply(this,arguments),g&&f.isFunction(g.promise)?g.promise().then(d.resolve,d.reject,d.notify):d[e+"With"](this===i?d:this,[g])}):i[a](d[e])})}).promise()},promise:function(a){if(a==null)a=h;else for(var b in h)a[b]=h[b];return a}},i=h.promise({}),j;for(j in g)i[j]=g[j].fire,i[j+"With"]=g[j].fireWith;i.done(function(){e="resolved"},c.disable,d.lock).fail(function(){e="rejected"},b.disable,d.lock),a&&a.call(i,i);return i},when:function(a){function m(a){return function(b){e[a]=arguments.length>1?i.call(arguments,0):b,j.notifyWith(k,e)}}function l(a){return function(c){b[a]=arguments.length>1?i.call(arguments,0):c,--g||j.resolveWith(j,b)}}var b=i.call(arguments,0),c=0,d=b.length,e=Array(d),g=d,h=d,j=d<=1&&a&&f.isFunction(a.promise)?a:f.Deferred(),k=j.promise();if(d>1){for(;c<d;c++)b[c]&&b[c].promise&&f.isFunction(b[c].promise)?b[c].promise().then(l(c),j.reject,m(c)):--g;g||j.resolveWith(j,b)}else j!==a&&j.resolveWith(j,d?[a]:[]);return k}}),f.support=function(){var b,d,e,g,h,i,j,k,l,m,n,o,p,q=c.createElement("div"),r=c.documentElement;q.setAttribute("className","t"),q.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>",d=q.getElementsByTagName("*"),e=q.getElementsByTagName("a")[0];if(!d||!d.length||!e)return{};g=c.createElement("select"),h=g.appendChild(c.createElement("option")),i=q.getElementsByTagName("input")[0],b={leadingWhitespace:q.firstChild.nodeType===3,tbody:!q.getElementsByTagName("tbody").length,htmlSerialize:!!q.getElementsByTagName("link").length,style:/top/.test(e.getAttribute("style")),hrefNormalized:e.getAttribute("href")==="/a",opacity:/^0.55/.test(e.style.opacity),cssFloat:!!e.style.cssFloat,checkOn:i.value==="on",optSelected:h.selected,getSetAttribute:q.className!=="t",enctype:!!c.createElement("form").enctype,html5Clone:c.createElement("nav").cloneNode(!0).outerHTML!=="<:nav></:nav>",submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0},i.checked=!0,b.noCloneChecked=i.cloneNode(!0).checked,g.disabled=!0,b.optDisabled=!h.disabled;try{delete q.test}catch(s){b.deleteExpando=!1}!q.addEventListener&&q.attachEvent&&q.fireEvent&&(q.attachEvent("onclick",function(){b.noCloneEvent=!1}),q.cloneNode(!0).fireEvent("onclick")),i=c.createElement("input"),i.value="t",i.setAttribute("type","radio"),b.radioValue=i.value==="t",i.setAttribute("checked","checked"),q.appendChild(i),k=c.createDocumentFragment(),k.appendChild(q.lastChild),b.checkClone=k.cloneNode(!0).cloneNode(!0).lastChild.checked,b.appendChecked=i.checked,k.removeChild(i),k.appendChild(q),q.innerHTML="",a.getComputedStyle&&(j=c.createElement("div"),j.style.width="0",j.style.marginRight="0",q.style.width="2px",q.appendChild(j),b.reliableMarginRight=(parseInt((a.getComputedStyle(j,null)||{marginRight:0}).marginRight,10)||0)===0);if(q.attachEvent)for(o in{submit:1,change:1,focusin:1})n="on"+o,p=n in q,p||(q.setAttribute(n,"return;"),p=typeof q[n]=="function"),b[o+"Bubbles"]=p;k.removeChild(q),k=g=h=j=q=i=null,f(function(){var a,d,e,g,h,i,j,k,m,n,o,r=c.getElementsByTagName("body")[0];!r||(j=1,k="position:absolute;top:0;left:0;width:1px;height:1px;margin:0;",m="visibility:hidden;border:0;",n="style='"+k+"border:5px solid #000;padding:0;'",o="<div "+n+"><div></div></div>"+"<table "+n+" cellpadding='0' cellspacing='0'>"+"<tr><td></td></tr></table>",a=c.createElement("div"),a.style.cssText=m+"width:0;height:0;position:static;top:0;margin-top:"+j+"px",r.insertBefore(a,r.firstChild),q=c.createElement("div"),a.appendChild(q),q.innerHTML="<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>",l=q.getElementsByTagName("td"),p=l[0].offsetHeight===0,l[0].style.display="",l[1].style.display="none",b.reliableHiddenOffsets=p&&l[0].offsetHeight===0,q.innerHTML="",q.style.width=q.style.paddingLeft="1px",f.boxModel=b.boxModel=q.offsetWidth===2,typeof q.style.zoom!="undefined"&&(q.style.display="inline",q.style.zoom=1,b.inlineBlockNeedsLayout=q.offsetWidth===2,q.style.display="",q.innerHTML="<div style='width:4px;'></div>",b.shrinkWrapBlocks=q.offsetWidth!==2),q.style.cssText=k+m,q.innerHTML=o,d=q.firstChild,e=d.firstChild,h=d.nextSibling.firstChild.firstChild,i={doesNotAddBorder:e.offsetTop!==5,doesAddBorderForTableAndCells:h.offsetTop===5},e.style.position="fixed",e.style.top="20px",i.fixedPosition=e.offsetTop===20||e.offsetTop===15,e.style.position=e.style.top="",d.style.overflow="hidden",d.style.position="relative",i.subtractsBorderForOverflowNotVisible=e.offsetTop===-5,i.doesNotIncludeMarginInBodyOffset=r.offsetTop!==j,r.removeChild(a),q=a=null,f.extend(b,i))});return b}();var j=/^(?:\{.*\}|\[.*\])$/,k=/([A-Z])/g;f.extend({cache:{},uuid:0,expando:"jQuery"+(f.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(a){a=a.nodeType?f.cache[a[f.expando]]:a[f.expando];return!!a&&!m(a)},data:function(a,c,d,e){if(!!f.acceptData(a)){var g,h,i,j=f.expando,k=typeof c=="string",l=a.nodeType,m=l?f.cache:a,n=l?a[j]:a[j]&&j,o=c==="events";if((!n||!m[n]||!o&&!e&&!m[n].data)&&k&&d===b)return;n||(l?a[j]=n=++f.uuid:n=j),m[n]||(m[n]={},l||(m[n].toJSON=f.noop));if(typeof c=="object"||typeof c=="function")e?m[n]=f.extend(m[n],c):m[n].data=f.extend(m[n].data,c);g=h=m[n],e||(h.data||(h.data={}),h=h.data),d!==b&&(h[f.camelCase(c)]=d);if(o&&!h[c])return g.events;k?(i=h[c],i==null&&(i=h[f.camelCase(c)])):i=h;return i}},removeData:function(a,b,c){if(!!f.acceptData(a)){var d,e,g,h=f.expando,i=a.nodeType,j=i?f.cache:a,k=i?a[h]:h;if(!j[k])return;if(b){d=c?j[k]:j[k].data;if(d){f.isArray(b)||(b in d?b=[b]:(b=f.camelCase(b),b in d?b=[b]:b=b.split(" ")));for(e=0,g=b.length;e<g;e++)delete d[b[e]];if(!(c?m:f.isEmptyObject)(d))return}}if(!c){delete j[k].data;if(!m(j[k]))return}f.support.deleteExpando||!j.setInterval?delete j[k]:j[k]=null,i&&(f.support.deleteExpando?delete a[h]:a.removeAttribute?a.removeAttribute(h):a[h]=null)}},_data:function(a,b,c){return f.data(a,b,c,!0)},acceptData:function(a){if(a.nodeName){var b=f.noData[a.nodeName.toLowerCase()];if(b)return b!==!0&&a.getAttribute("classid")===b}return!0}}),f.fn.extend({data:function(a,c){var d,e,g,h=null;if(typeof a=="undefined"){if(this.length){h=f.data(this[0]);if(this[0].nodeType===1&&!f._data(this[0],"parsedAttrs")){e=this[0].attributes;for(var i=0,j=e.length;i<j;i++)g=e[i].name,g.indexOf("data-")===0&&(g=f.camelCase(g.substring(5)),l(this[0],g,h[g]));f._data(this[0],"parsedAttrs",!0)}}return h}if(typeof a=="object")return this.each(function(){f.data(this,a)});d=a.split("."),d[1]=d[1]?"."+d[1]:"";if(c===b){h=this.triggerHandler("getData"+d[1]+"!",[d[0]]),h===b&&this.length&&(h=f.data(this[0],a),h=l(this[0],a,h));return h===b&&d[1]?this.data(d[0]):h}return this.each(function(){var b=f(this),e=[d[0],c];b.triggerHandler("setData"+d[1]+"!",e),f.data(this,a,c),b.triggerHandler("changeData"+d[1]+"!",e)})},removeData:function(a){return this.each(function(){f.removeData(this,a)})}}),f.extend({_mark:function(a,b){a&&(b=(b||"fx")+"mark",f._data(a,b,(f._data(a,b)||0)+1))},_unmark:function(a,b,c){a!==!0&&(c=b,b=a,a=!1);if(b){c=c||"fx";var d=c+"mark",e=a?0:(f._data(b,d)||1)-1;e?f._data(b,d,e):(f.removeData(b,d,!0),n(b,c,"mark"))}},queue:function(a,b,c){var d;if(a){b=(b||"fx")+"queue",d=f._data(a,b),c&&(!d||f.isArray(c)?d=f._data(a,b,f.makeArray(c)):d.push(c));return d||[]}},dequeue:function(a,b){b=b||"fx";var c=f.queue(a,b),d=c.shift(),e={};d==="inprogress"&&(d=c.shift()),d&&(b==="fx"&&c.unshift("inprogress"),f._data(a,b+".run",e),d.call(a,function(){f.dequeue(a,b)},e)),c.length||(f.removeData(a,b+"queue "+b+".run",!0),n(a,b,"queue"))}}),f.fn.extend({queue:function(a,c){typeof a!="string"&&(c=a,a="fx");if(c===b)return f.queue(this[0],a);return this.each(function(){var b=f.queue(this,a,c);a==="fx"&&b[0]!=="inprogress"&&f.dequeue(this,a)})},dequeue:function(a){return this.each(function(){f.dequeue(this,a)})},delay:function(a,b){a=f.fx?f.fx.speeds[a]||a:a,b=b||"fx";return this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,c){function m(){--h||d.resolveWith(e,[e])}typeof a!="string"&&(c=a,a=b),a=a||"fx";var d=f.Deferred(),e=this,g=e.length,h=1,i=a+"defer",j=a+"queue",k=a+"mark",l;while(g--)if(l=f.data(e[g],i,b,!0)||(f.data(e[g],j,b,!0)||f.data(e[g],k,b,!0))&&f.data(e[g],i,f.Callbacks("once memory"),!0))h++,l.add(m);m();return d.promise()}});var o=/[\n\t\r]/g,p=/\s+/,q=/\r/g,r=/^(?:button|input)$/i,s=/^(?:button|input|object|select|textarea)$/i,t=/^a(?:rea)?$/i,u=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,v=f.support.getSetAttribute,w,x,y;f.fn.extend({attr:function(a,b){return f.access(this,a,b,!0,f.attr)},removeAttr:function(a){return this.each(function(){f.removeAttr(this,a)})},prop:function(a,b){return f.access(this,a,b,!0,f.prop)},removeProp:function(a){a=f.propFix[a]||a;return this.each(function(){try{this[a]=b,delete this[a]}catch(c){}})},addClass:function(a){var b,c,d,e,g,h,i;if(f.isFunction(a))return this.each(function(b){f(this).addClass(a.call(this,b,this.className))});if(a&&typeof a=="string"){b=a.split(p);for(c=0,d=this.length;c<d;c++){e=this[c];if(e.nodeType===1)if(!e.className&&b.length===1)e.className=a;else{g=" "+e.className+" ";for(h=0,i=b.length;h<i;h++)~g.indexOf(" "+b[h]+" ")||(g+=b[h]+" ");e.className=f.trim(g)}}}return this},removeClass:function(a){var c,d,e,g,h,i,j;if(f.isFunction(a))return this.each(function(b){f(this).removeClass(a.call(this,b,this.className))});if(a&&typeof a=="string"||a===b){c=(a||"").split(p);for(d=0,e=this.length;d<e;d++){g=this[d];if(g.nodeType===1&&g.className)if(a){h=(" "+g.className+" ").replace(o," ");for(i=0,j=c.length;i<j;i++)h=h.replace(" "+c[i]+" "," ");g.className=f.trim(h)}else g.className=""}}return this},toggleClass:function(a,b){var c=typeof a,d=typeof b=="boolean";if(f.isFunction(a))return this.each(function(c){f(this).toggleClass(a.call(this,c,this.className,b),b)});return this.each(function(){if(c==="string"){var e,g=0,h=f(this),i=b,j=a.split(p);while(e=j[g++])i=d?i:!h.hasClass(e),h[i?"addClass":"removeClass"](e)}else if(c==="undefined"||c==="boolean")this.className&&f._data(this,"__className__",this.className),this.className=this.className||a===!1?"":f._data(this,"__className__")||""})},hasClass:function(a){var b=" "+a+" ",c=0,d=this.length;for(;c<d;c++)if(this[c].nodeType===1&&(" "+this[c].className+" ").replace(o," ").indexOf(b)>-1)return!0;return!1},val:function(a){var c,d,e,g=this[0];{if(!!arguments.length){e=f.isFunction(a);return this.each(function(d){var g=f(this),h;if(this.nodeType===1){e?h=a.call(this,d,g.val()):h=a,h==null?h="":typeof h=="number"?h+="":f.isArray(h)&&(h=f.map(h,function(a){return a==null?"":a+""})),c=f.valHooks[this.nodeName.toLowerCase()]||f.valHooks[this.type];if(!c||!("set"in c)||c.set(this,h,"value")===b)this.value=h}})}if(g){c=f.valHooks[g.nodeName.toLowerCase()]||f.valHooks[g.type];if(c&&"get"in c&&(d=c.get(g,"value"))!==b)return d;d=g.value;return typeof d=="string"?d.replace(q,""):d==null?"":d}}}}),f.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{get:function(a){var b,c,d,e,g=a.selectedIndex,h=[],i=a.options,j=a.type==="select-one";if(g<0)return null;c=j?g:0,d=j?g+1:i.length;for(;c<d;c++){e=i[c];if(e.selected&&(f.support.optDisabled?!e.disabled:e.getAttribute("disabled")===null)&&(!e.parentNode.disabled||!f.nodeName(e.parentNode,"optgroup"))){b=f(e).val();if(j)return b;h.push(b)}}if(j&&!h.length&&i.length)return f(i[g]).val();return h},set:function(a,b){var c=f.makeArray(b);f(a).find("option").each(function(){this.selected=f.inArray(f(this).val(),c)>=0}),c.length||(a.selectedIndex=-1);return c}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(a,c,d,e){var g,h,i,j=a.nodeType;if(!!a&&j!==3&&j!==8&&j!==2){if(e&&c in f.attrFn)return f(a)[c](d);if(typeof a.getAttribute=="undefined")return f.prop(a,c,d);i=j!==1||!f.isXMLDoc(a),i&&(c=c.toLowerCase(),h=f.attrHooks[c]||(u.test(c)?x:w));if(d!==b){if(d===null){f.removeAttr(a,c);return}if(h&&"set"in h&&i&&(g=h.set(a,d,c))!==b)return g;a.setAttribute(c,""+d);return d}if(h&&"get"in h&&i&&(g=h.get(a,c))!==null)return g;g=a.getAttribute(c);return g===null?b:g}},removeAttr:function(a,b){var c,d,e,g,h=0;if(b&&a.nodeType===1){d=b.toLowerCase().split(p),g=d.length;for(;h<g;h++)e=d[h],e&&(c=f.propFix[e]||e,f.attr(a,e,""),a.removeAttribute(v?e:c),u.test(e)&&c in a&&(a[c]=!1))}},attrHooks:{type:{set:function(a,b){if(r.test(a.nodeName)&&a.parentNode)f.error("type property can't be changed");else if(!f.support.radioValue&&b==="radio"&&f.nodeName(a,"input")){var c=a.value;a.setAttribute("type",b),c&&(a.value=c);return b}}},value:{get:function(a,b){if(w&&f.nodeName(a,"button"))return w.get(a,b);return b in a?a.value:null},set:function(a,b,c){if(w&&f.nodeName(a,"button"))return w.set(a,b,c);a.value=b}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(a,c,d){var e,g,h,i=a.nodeType;if(!!a&&i!==3&&i!==8&&i!==2){h=i!==1||!f.isXMLDoc(a),h&&(c=f.propFix[c]||c,g=f.propHooks[c]);return d!==b?g&&"set"in g&&(e=g.set(a,d,c))!==b?e:a[c]=d:g&&"get"in g&&(e=g.get(a,c))!==null?e:a[c]}},propHooks:{tabIndex:{get:function(a){var c=a.getAttributeNode("tabindex");return c&&c.specified?parseInt(c.value,10):s.test(a.nodeName)||t.test(a.nodeName)&&a.href?0:b}}}}),f.attrHooks.tabindex=f.propHooks.tabIndex,x={get:function(a,c){var d,e=f.prop(a,c);return e===!0||typeof e!="boolean"&&(d=a.getAttributeNode(c))&&d.nodeValue!==!1?c.toLowerCase():b},set:function(a,b,c){var d;b===!1?f.removeAttr(a,c):(d=f.propFix[c]||c,d in a&&(a[d]=!0),a.setAttribute(c,c.toLowerCase()));return c}},v||(y={name:!0,id:!0},w=f.valHooks.button={get:function(a,c){var d;d=a.getAttributeNode(c);return d&&(y[c]?d.nodeValue!=="":d.specified)?d.nodeValue:b},set:function(a,b,d){var e=a.getAttributeNode(d);e||(e=c.createAttribute(d),a.setAttributeNode(e));return e.nodeValue=b+""}},f.attrHooks.tabindex.set=w.set,f.each(["width","height"],function(a,b){f.attrHooks[b]=f.extend(f.attrHooks[b],{set:function(a,c){if(c===""){a.setAttribute(b,"auto");return c}}})}),f.attrHooks.contenteditable={get:w.get,set:function(a,b,c){b===""&&(b="false"),w.set(a,b,c)}}),f.support.hrefNormalized||f.each(["href","src","width","height"],function(a,c){f.attrHooks[c]=f.extend(f.attrHooks[c],{get:function(a){var d=a.getAttribute(c,2);return d===null?b:d}})}),f.support.style||(f.attrHooks.style={get:function(a){return a.style.cssText.toLowerCase()||b},set:function(a,b){return a.style.cssText=""+b}}),f.support.optSelected||(f.propHooks.selected=f.extend(f.propHooks.selected,{get:function(a){var b=a.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex);return null}})),f.support.enctype||(f.propFix.enctype="encoding"),f.support.checkOn||f.each(["radio","checkbox"],function(){f.valHooks[this]={get:function(a){return a.getAttribute("value")===null?"on":a.value}}}),f.each(["radio","checkbox"],function(){f.valHooks[this]=f.extend(f.valHooks[this],{set:function(a,b){if(f.isArray(b))return a.checked=f.inArray(f(a).val(),b)>=0}})});var z=/^(?:textarea|input|select)$/i,A=/^([^\.]*)?(?:\.(.+))?$/,B=/\bhover(\.\S+)?\b/,C=/^key/,D=/^(?:mouse|contextmenu)|click/,E=/^(?:focusinfocus|focusoutblur)$/,F=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,G=function(a){var b=F.exec(a);b&&(b[1]=(b[1]||"").toLowerCase(),b[3]=b[3]&&new RegExp("(?:^|\\s)"+b[3]+"(?:\\s|$)"));return b},H=function(a,b){var c=a.attributes||{};return(!b[1]||a.nodeName.toLowerCase()===b[1])&&(!b[2]||(c.id||{}).value===b[2])&&(!b[3]||b[3].test((c["class"]||{}).value))},I=function(a){return f.event.special.hover?a:a.replace(B,"mouseenter$1 mouseleave$1")};f.event={add:function(a,c,d,e,g){var h,i,j,k,l,m,n,o,p,q,r,s;if(!(a.nodeType===3||a.nodeType===8||!c||!d||!(h=f._data(a)))){d.handler&&(p=d,d=p.handler),d.guid||(d.guid=f.guid++),j=h.events,j||(h.events=j={}),i=h.handle,i||(h.handle=i=function(a){return typeof f!="undefined"&&(!a||f.event.triggered!==a.type)?f.event.dispatch.apply(i.elem,arguments):b},i.elem=a),c=f.trim(I(c)).split(" ");for(k=0;k<c.length;k++){l=A.exec(c[k])||[],m=l[1],n=(l[2]||"").split(".").sort(),s=f.event.special[m]||{},m=(g?s.delegateType:s.bindType)||m,s=f.event.special[m]||{},o=f.extend({type:m,origType:l[1],data:e,handler:d,guid:d.guid,selector:g,quick:G(g),namespace:n.join(".")},p),r=j[m];if(!r){r=j[m]=[],r.delegateCount=0;if(!s.setup||s.setup.call(a,e,n,i)===!1)a.addEventListener?a.addEventListener(m,i,!1):a.attachEvent&&a.attachEvent("on"+m,i)}s.add&&(s.add.call(a,o),o.handler.guid||(o.handler.guid=d.guid)),g?r.splice(r.delegateCount++,0,o):r.push(o),f.event.global[m]=!0}a=null}},global:{},remove:function(a,b,c,d,e){var g=f.hasData(a)&&f._data(a),h,i,j,k,l,m,n,o,p,q,r,s;if(!!g&&!!(o=g.events)){b=f.trim(I(b||"")).split(" ");for(h=0;h<b.length;h++){i=A.exec(b[h])||[],j=k=i[1],l=i[2];if(!j){for(j in o)f.event.remove(a,j+b[h],c,d,!0);continue}p=f.event.special[j]||{},j=(d?p.delegateType:p.bindType)||j,r=o[j]||[],m=r.length,l=l?new RegExp("(^|\\.)"+l.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):null;for(n=0;n<r.length;n++)s=r[n],(e||k===s.origType)&&(!c||c.guid===s.guid)&&(!l||l.test(s.namespace))&&(!d||d===s.selector||d==="**"&&s.selector)&&(r.splice(n--,1),s.selector&&r.delegateCount--,p.remove&&p.remove.call(a,s));r.length===0&&m!==r.length&&((!p.teardown||p.teardown.call(a,l)===!1)&&f.removeEvent(a,j,g.handle),delete o[j])}f.isEmptyObject(o)&&(q=g.handle,q&&(q.elem=null),f.removeData(a,["events","handle"],!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(c,d,e,g){if(!e||e.nodeType!==3&&e.nodeType!==8){var h=c.type||c,i=[],j,k,l,m,n,o,p,q,r,s;if(E.test(h+f.event.triggered))return;h.indexOf("!")>=0&&(h=h.slice(0,-1),k=!0),h.indexOf(".")>=0&&(i=h.split("."),h=i.shift(),i.sort());if((!e||f.event.customEvent[h])&&!f.event.global[h])return;c=typeof c=="object"?c[f.expando]?c:new f.Event(h,c):new f.Event(h),c.type=h,c.isTrigger=!0,c.exclusive=k,c.namespace=i.join("."),c.namespace_re=c.namespace?new RegExp("(^|\\.)"+i.join("\\.(?:.*\\.)?")+"(\\.|$)"):null,o=h.indexOf(":")<0?"on"+h:"";if(!e){j=f.cache;for(l in j)j[l].events&&j[l].events[h]&&f.event.trigger(c,d,j[l].handle.elem,!0);return}c.result=b,c.target||(c.target=e),d=d!=null?f.makeArray(d):[],d.unshift(c),p=f.event.special[h]||{};if(p.trigger&&p.trigger.apply(e,d)===!1)return;r=[[e,p.bindType||h]];if(!g&&!p.noBubble&&!f.isWindow(e)){s=p.delegateType||h,m=E.test(s+h)?e:e.parentNode,n=null;for(;m;m=m.parentNode)r.push([m,s]),n=m;n&&n===e.ownerDocument&&r.push([n.defaultView||n.parentWindow||a,s])}for(l=0;l<r.length&&!c.isPropagationStopped();l++)m=r[l][0],c.type=r[l][1],q=(f._data(m,"events")||{})[c.type]&&f._data(m,"handle"),q&&q.apply(m,d),q=o&&m[o],q&&f.acceptData(m)&&q.apply(m,d)===!1&&c.preventDefault();c.type=h,!g&&!c.isDefaultPrevented()&&(!p._default||p._default.apply(e.ownerDocument,d)===!1)&&(h!=="click"||!f.nodeName(e,"a"))&&f.acceptData(e)&&o&&e[h]&&(h!=="focus"&&h!=="blur"||c.target.offsetWidth!==0)&&!f.isWindow(e)&&(n=e[o],n&&(e[o]=null),f.event.triggered=h,e[h](),f.event.triggered=b,n&&(e[o]=n));return c.result}},dispatch:function(c){c=f.event.fix(c||a.event);var d=(f._data(this,"events")||{})[c.type]||[],e=d.delegateCount,g=[].slice.call(arguments,0),h=!c.exclusive&&!c.namespace,i=[],j,k,l,m,n,o,p,q,r,s,t;g[0]=c,c.delegateTarget=this;if(e&&!c.target.disabled&&(!c.button||c.type!=="click")){m=f(this),m.context=this.ownerDocument||this;for(l=c.target;l!=this;l=l.parentNode||this){o={},q=[],m[0]=l;for(j=0;j<e;j++)r=d[j],s=r.selector,o[s]===b&&(o[s]=r.quick?H(l,r.quick):m.is(s)),o[s]&&q.push(r);q.length&&i.push({elem:l,matches:q})}}d.length>e&&i.push({elem:this,matches:d.slice(e)});for(j=0;j<i.length&&!c.isPropagationStopped();j++){p=i[j],c.currentTarget=p.elem;for(k=0;k<p.matches.length&&!c.isImmediatePropagationStopped();k++){r=p.matches[k];if(h||!c.namespace&&!r.namespace||c.namespace_re&&c.namespace_re.test(r.namespace))c.data=r.data,c.handleObj=r,n=((f.event.special[r.origType]||{}).handle||r.handler).apply(p.elem,g),n!==b&&(c.result=n,n===!1&&(c.preventDefault(),c.stopPropagation()))}}return c.result},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){a.which==null&&(a.which=b.charCode!=null?b.charCode:b.keyCode);return a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,d){var e,f,g,h=d.button,i=d.fromElement;a.pageX==null&&d.clientX!=null&&(e=a.target.ownerDocument||c,f=e.documentElement,g=e.body,a.pageX=d.clientX+(f&&f.scrollLeft||g&&g.scrollLeft||0)-(f&&f.clientLeft||g&&g.clientLeft||0),a.pageY=d.clientY+(f&&f.scrollTop||g&&g.scrollTop||0)-(f&&f.clientTop||g&&g.clientTop||0)),!a.relatedTarget&&i&&(a.relatedTarget=i===a.target?d.toElement:i),!a.which&&h!==b&&(a.which=h&1?1:h&2?3:h&4?2:0);return a}},fix:function(a){if(a[f.expando])return a;var d,e,g=a,h=f.event.fixHooks[a.type]||{},i=h.props?this.props.concat(h.props):this.props;a=f.Event(g);for(d=i.length;d;)e=i[--d],a[e]=g[e];a.target||(a.target=g.srcElement||c),a.target.nodeType===3&&(a.target=a.target.parentNode),a.metaKey===b&&(a.metaKey=a.ctrlKey);return h.filter?h.filter(a,g):a},special:{ready:{setup:f.bindReady},load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(a,b,c){f.isWindow(this)&&(this.onbeforeunload=c)},teardown:function(a,b){this.onbeforeunload===b&&(this.onbeforeunload=null)}}},simulate:function(a,b,c,d){var e=f.extend(new f.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?f.event.trigger(e,null,b):f.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},f.event.handle=f.event.dispatch,f.removeEvent=c.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){a.detachEvent&&a.detachEvent("on"+b,c)},f.Event=function(a,b){if(!(this instanceof f.Event))return new f.Event(a,b);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||a.returnValue===!1||a.getPreventDefault&&a.getPreventDefault()?K:J):this.type=a,b&&f.extend(this,b),this.timeStamp=a&&a.timeStamp||f.now(),this[f.expando]=!0},f.Event.prototype={preventDefault:function(){this.isDefaultPrevented=K;var a=this.originalEvent;!a||(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=K;var a=this.originalEvent;!a||(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=K,this.stopPropagation()},isDefaultPrevented:J,isPropagationStopped:J,isImmediatePropagationStopped:J},f.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){f.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c=this,d=a.relatedTarget,e=a.handleObj,g=e.selector,h;if(!d||d!==c&&!f.contains(c,d))a.type=e.origType,h=e.handler.apply(this,arguments),a.type=b;return h}}}),f.support.submitBubbles||(f.event.special.submit={setup:function(){if(f.nodeName(this,"form"))return!1;f.event.add(this,"click._submit keypress._submit",function(a){var c=a.target,d=f.nodeName(c,"input")||f.nodeName(c,"button")?c.form:b;d&&!d._submit_attached&&(f.event.add(d,"submit._submit",function(a){this.parentNode&&!a.isTrigger&&f.event.simulate("submit",this.parentNode,a,!0)}),d._submit_attached=!0)})},teardown:function(){if(f.nodeName(this,"form"))return!1;f.event.remove(this,"._submit")}}),f.support.changeBubbles||(f.event.special.change={setup:function(){if(z.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio")f.event.add(this,"propertychange._change",function(a){a.originalEvent.propertyName==="checked"&&(this._just_changed=!0)}),f.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1,f.event.simulate("change",this,a,!0))});return!1}f.event.add(this,"beforeactivate._change",function(a){var b=a.target;z.test(b.nodeName)&&!b._change_attached&&(f.event.add(b,"change._change",function(a){this.parentNode&&!a.isSimulated&&!a.isTrigger&&f.event.simulate("change",this.parentNode,a,!0)}),b._change_attached=!0)})},handle:function(a){var b=a.target;if(this!==b||a.isSimulated||a.isTrigger||b.type!=="radio"&&b.type!=="checkbox")return a.handleObj.handler.apply(this,arguments)},teardown:function(){f.event.remove(this,"._change");return z.test(this.nodeName)}}),f.support.focusinBubbles||f.each({focus:"focusin",blur:"focusout"},function(a,b){var d=0,e=function(a){f.event.simulate(b,a.target,f.event.fix(a),!0)};f.event.special[b]={setup:function(){d++===0&&c.addEventListener(a,e,!0)},teardown:function(){--d===0&&c.removeEventListener(a,e,!0)}}}),f.fn.extend({on:function(a,c,d,e,g){var h,i;if(typeof a=="object"){typeof c!="string"&&(d=c,c=b);for(i in a)this.on(i,c,d,a[i],g);return this}d==null&&e==null?(e=c,d=c=b):e==null&&(typeof c=="string"?(e=d,d=b):(e=d,d=c,c=b));if(e===!1)e=J;else if(!e)return this;g===1&&(h=e,e=function(a){f().off(a);return h.apply(this,arguments)},e.guid=h.guid||(h.guid=f.guid++));return this.each(function(){f.event.add(this,a,e,d,c)})},one:function(a,b,c,d){return this.on.call(this,a,b,c,d,1)},off:function(a,c,d){if(a&&a.preventDefault&&a.handleObj){var e=a.handleObj;f(a.delegateTarget).off(e.namespace?e.type+"."+e.namespace:e.type,e.selector,e.handler);return this}if(typeof a=="object"){for(var g in a)this.off(g,c,a[g]);return this}if(c===!1||typeof c=="function")d=c,c=b;d===!1&&(d=J);return this.each(function(){f.event.remove(this,a,d,c)})},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},live:function(a,b,c){f(this.context).on(a,this.selector,b,c);return this},die:function(a,b){f(this.context).off(a,this.selector||"**",b);return this},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return arguments.length==1?this.off(a,"**"):this.off(b,a,c)},trigger:function(a,b){return this.each(function(){f.event.trigger(a,b,this)})},triggerHandler:function(a,b){if(this[0])return f.event.trigger(a,b,this[0],!0)},toggle:function(a){var b=arguments,c=a.guid||f.guid++,d=0,e=function(c){var e=(f._data(this,"lastToggle"+a.guid)||0)%d;f._data(this,"lastToggle"+a.guid,e+1),c.preventDefault();return b[e].apply(this,arguments)||!1};e.guid=c;while(d<b.length)b[d++].guid=c;return this.click(e)},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),f.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){f.fn[b]=function(a,c){c==null&&(c=a,a=null);return arguments.length>0?this.on(b,null,a,c):this.trigger(b)},f.attrFn&&(f.attrFn[b]=!0),C.test(b)&&(f.event.fixHooks[b]=f.event.keyHooks),D.test(b)&&(f.event.fixHooks[b]=f.event.mouseHooks)}),function(){function x(a,b,c,e,f,g){for(var h=0,i=e.length;h<i;h++){var j=e[h];if(j){var k=!1;j=j[a];while(j){if(j[d]===c){k=e[j.sizset];break}if(j.nodeType===1){g||(j[d]=c,j.sizset=h);if(typeof b!="string"){if(j===b){k=!0;break}}else if(m.filter(b,[j]).length>0){k=j;break}}j=j[a]}e[h]=k}}}function w(a,b,c,e,f,g){for(var h=0,i=e.length;h<i;h++){var j=e[h];if(j){var k=!1;j=j[a];while(j){if(j[d]===c){k=e[j.sizset];break}j.nodeType===1&&!g&&(j[d]=c,j.sizset=h);if(j.nodeName.toLowerCase()===b){k=j;break}j=j[a]}e[h]=k}}}var a=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,d="sizcache"+(Math.random()+"").replace(".",""),e=0,g=Object.prototype.toString,h=!1,i=!0,j=/\\/g,k=/\r\n/g,l=/\W/;[0,0].sort(function(){i=!1;return 0});var m=function(b,d,e,f){e=e||[],d=d||c;var h=d;if(d.nodeType!==1&&d.nodeType!==9)return[];if(!b||typeof b!="string")return e;var i,j,k,l,n,q,r,t,u=!0,v=m.isXML(d),w=[],x=b;do{a.exec(""),i=a.exec(x);if(i){x=i[3],w.push(i[1]);if(i[2]){l=i[3];break}}}while(i);if(w.length>1&&p.exec(b))if(w.length===2&&o.relative[w[0]])j=y(w[0]+w[1],d,f);else{j=o.relative[w[0]]?[d]:m(w.shift(),d);while(w.length)b=w.shift(),o.relative[b]&&(b+=w.shift()),j=y(b,j,f)}else{!f&&w.length>1&&d.nodeType===9&&!v&&o.match.ID.test(w[0])&&!o.match.ID.test(w[w.length-1])&&(n=m.find(w.shift(),d,v),d=n.expr?m.filter(n.expr,n.set)[0]:n.set[0]);if(d){n=f?{expr:w.pop(),set:s(f)}:m.find(w.pop(),w.length===1&&(w[0]==="~"||w[0]==="+")&&d.parentNode?d.parentNode:d,v),j=n.expr?m.filter(n.expr,n.set):n.set,w.length>0?k=s(j):u=!1;while(w.length)q=w.pop(),r=q,o.relative[q]?r=w.pop():q="",r==null&&(r=d),o.relative[q](k,r,v)}else k=w=[]}k||(k=j),k||m.error(q||b);if(g.call(k)==="[object Array]")if(!u)e.push.apply(e,k);else if(d&&d.nodeType===1)for(t=0;k[t]!=null;t++)k[t]&&(k[t]===!0||k[t].nodeType===1&&m.contains(d,k[t]))&&e.push(j[t]);else for(t=0;k[t]!=null;t++)k[t]&&k[t].nodeType===1&&e.push(j[t]);else s(k,e);l&&(m(l,h,e,f),m.uniqueSort(e));return e};m.uniqueSort=function(a){if(u){h=i,a.sort(u);if(h)for(var b=1;b<a.length;b++)a[b]===a[b-1]&&a.splice(b--,1)}return a},m.matches=function(a,b){return m(a,null,null,b)},m.matchesSelector=function(a,b){return m(b,null,null,[a]).length>0},m.find=function(a,b,c){var d,e,f,g,h,i;if(!a)return[];for(e=0,f=o.order.length;e<f;e++){h=o.order[e];if(g=o.leftMatch[h].exec(a)){i=g[1],g.splice(1,1);if(i.substr(i.length-1)!=="\\"){g[1]=(g[1]||"").replace(j,""),d=o.find[h](g,b,c);if(d!=null){a=a.replace(o.match[h],"");break}}}}d||(d=typeof b.getElementsByTagName!="undefined"?b.getElementsByTagName("*"):[]);return{set:d,expr:a}},m.filter=function(a,c,d,e){var f,g,h,i,j,k,l,n,p,q=a,r=[],s=c,t=c&&c[0]&&m.isXML(c[0]);while(a&&c.length){for(h in o.filter)if((f=o.leftMatch[h].exec(a))!=null&&f[2]){k=o.filter[h],l=f[1],g=!1,f.splice(1,1);if(l.substr(l.length-1)==="\\")continue;s===r&&(r=[]);if(o.preFilter[h]){f=o.preFilter[h](f,s,d,r,e,t);if(!f)g=i=!0;else if(f===!0)continue}if(f)for(n=0;(j=s[n])!=null;n++)j&&(i=k(j,f,n,s),p=e^i,d&&i!=null?p?g=!0:s[n]=!1:p&&(r.push(j),g=!0));if(i!==b){d||(s=r),a=a.replace(o.match[h],"");if(!g)return[];break}}if(a===q)if(g==null)m.error(a);else break;q=a}return s},m.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)};var n=m.getText=function(a){var b,c,d=a.nodeType,e="";if(d){if(d===1||d===9){if(typeof a.textContent=="string")return a.textContent;if(typeof a.innerText=="string")return a.innerText.replace(k,"");for(a=a.firstChild;a;a=a.nextSibling)e+=n(a)}else if(d===3||d===4)return a.nodeValue}else for(b=0;c=a[b];b++)c.nodeType!==8&&(e+=n(c));return e},o=m.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute("href")},type:function(a){return a.getAttribute("type")}},relative:{"+":function(a,b){var c=typeof b=="string",d=c&&!l.test(b),e=c&&!d;d&&(b=b.toLowerCase());for(var f=0,g=a.length,h;f<g;f++)if(h=a[f]){while((h=h.previousSibling)&&h.nodeType!==1);a[f]=e||h&&h.nodeName.toLowerCase()===b?h||!1:h===b}e&&m.filter(b,a,!0)},">":function(a,b){var c,d=typeof b=="string",e=0,f=a.length;if(d&&!l.test(b)){b=b.toLowerCase();for(;e<f;e++){c=a[e];if(c){var g=c.parentNode;a[e]=g.nodeName.toLowerCase()===b?g:!1}}}else{for(;e<f;e++)c=a[e],c&&(a[e]=d?c.parentNode:c.parentNode===b);d&&m.filter(b,a,!0)}},"":function(a,b,c){var d,f=e++,g=x;typeof b=="string"&&!l.test(b)&&(b=b.toLowerCase(),d=b,g=w),g("parentNode",b,f,a,d,c)},"~":function(a,b,c){var d,f=e++,g=x;typeof b=="string"&&!l.test(b)&&(b=b.toLowerCase(),d=b,g=w),g("previousSibling",b,f,a,d,c)}},find:{ID:function(a,b,c){if(typeof b.getElementById!="undefined"&&!c){var d=b.getElementById(a[1]);return d&&d.parentNode?[d]:[]}},NAME:function(a,b){if(typeof b.getElementsByName!="undefined"){var c=[],d=b.getElementsByName(a[1]);for(var e=0,f=d.length;e<f;e++)d[e].getAttribute("name")===a[1]&&c.push(d[e]);return c.length===0?null:c}},TAG:function(a,b){if(typeof b.getElementsByTagName!="undefined")return b.getElementsByTagName(a[1])}},preFilter:{CLASS:function(a,b,c,d,e,f){a=" "+a[1].replace(j,"")+" ";if(f)return a;for(var g=0,h;(h=b[g])!=null;g++)h&&(e^(h.className&&(" "+h.className+" ").replace(/[\t\n\r]/g," ").indexOf(a)>=0)?c||d.push(h):c&&(b[g]=!1));return!1},ID:function(a){return a[1].replace(j,"")},TAG:function(a,b){return a[1].replace(j,"").toLowerCase()},CHILD:function(a){if(a[1]==="nth"){a[2]||m.error(a[0]),a[2]=a[2].replace(/^\+|\s*/g,"");var b=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(a[2]==="even"&&"2n"||a[2]==="odd"&&"2n+1"||!/\D/.test(a[2])&&"0n+"+a[2]||a[2]);a[2]=b[1]+(b[2]||1)-0,a[3]=b[3]-0}else a[2]&&m.error(a[0]);a[0]=e++;return a},ATTR:function(a,b,c,d,e,f){var g=a[1]=a[1].replace(j,"");!f&&o.attrMap[g]&&(a[1]=o.attrMap[g]),a[4]=(a[4]||a[5]||"").replace(j,""),a[2]==="~="&&(a[4]=" "+a[4]+" ");return a},PSEUDO:function(b,c,d,e,f){if(b[1]==="not")if((a.exec(b[3])||"").length>1||/^\w/.test(b[3]))b[3]=m(b[3],null,null,c);else{var g=m.filter(b[3],c,d,!0^f);d||e.push.apply(e,g);return!1}else if(o.match.POS.test(b[0])||o.match.CHILD.test(b[0]))return!0;return b},POS:function(a){a.unshift(!0);return a}},filters:{enabled:function(a){return a.disabled===!1&&a.type!=="hidden"},disabled:function(a){return a.disabled===!0},checked:function(a){return a.checked===!0},selected:function(a){a.parentNode&&a.parentNode.selectedIndex;return a.selected===!0},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},has:function(a,b,c){return!!m(c[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},text:function(a){var b=a.getAttribute("type"),c=a.type;return a.nodeName.toLowerCase()==="input"&&"text"===c&&(b===c||b===null)},radio:function(a){return a.nodeName.toLowerCase()==="input"&&"radio"===a.type},checkbox:function(a){return a.nodeName.toLowerCase()==="input"&&"checkbox"===a.type},file:function(a){return a.nodeName.toLowerCase()==="input"&&"file"===a.type},password:function(a){return a.nodeName.toLowerCase()==="input"&&"password"===a.type},submit:function(a){var b=a.nodeName.toLowerCase();return(b==="input"||b==="button")&&"submit"===a.type},image:function(a){return a.nodeName.toLowerCase()==="input"&&"image"===a.type},reset:function(a){var b=a.nodeName.toLowerCase();return(b==="input"||b==="button")&&"reset"===a.type},button:function(a){var b=a.nodeName.toLowerCase();return b==="input"&&"button"===a.type||b==="button"},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)},focus:function(a){return a===a.ownerDocument.activeElement}},setFilters:{first:function(a,b){return b===0},last:function(a,b,c,d){return b===d.length-1},even:function(a,b){return b%2===0},odd:function(a,b){return b%2===1},lt:function(a,b,c){return b<c[3]-0},gt:function(a,b,c){return b>c[3]-0},nth:function(a,b,c){return c[3]-0===b},eq:function(a,b,c){return c[3]-0===b}},filter:{PSEUDO:function(a,b,c,d){var e=b[1],f=o.filters[e];if(f)return f(a,c,b,d);if(e==="contains")return(a.textContent||a.innerText||n([a])||"").indexOf(b[3])>=0;if(e==="not"){var g=b[3];for(var h=0,i=g.length;h<i;h++)if(g[h]===a)return!1;return!0}m.error(e)},CHILD:function(a,b){var c,e,f,g,h,i,j,k=b[1],l=a;switch(k){case"only":case"first":while(l=l.previousSibling)if(l.nodeType===1)return!1;if(k==="first")return!0;l=a;case"last":while(l=l.nextSibling)if(l.nodeType===1)return!1;return!0;case"nth":c=b[2],e=b[3];if(c===1&&e===0)return!0;f=b[0],g=a.parentNode;if(g&&(g[d]!==f||!a.nodeIndex)){i=0;for(l=g.firstChild;l;l=l.nextSibling)l.nodeType===1&&(l.nodeIndex=++i);g[d]=f}j=a.nodeIndex-e;return c===0?j===0:j%c===0&&j/c>=0}},ID:function(a,b){return a.nodeType===1&&a.getAttribute("id")===b},TAG:function(a,b){return b==="*"&&a.nodeType===1||!!a.nodeName&&a.nodeName.toLowerCase()===b},CLASS:function(a,b){return(" "+(a.className||a.getAttribute("class"))+" ").indexOf(b)>-1},ATTR:function(a,b){var c=b[1],d=m.attr?m.attr(a,c):o.attrHandle[c]?o.attrHandle[c](a):a[c]!=null?a[c]:a.getAttribute(c),e=d+"",f=b[2],g=b[4];return d==null?f==="!=":!f&&m.attr?d!=null:f==="="?e===g:f==="*="?e.indexOf(g)>=0:f==="~="?(" "+e+" ").indexOf(g)>=0:g?f==="!="?e!==g:f==="^="?e.indexOf(g)===0:f==="$="?e.substr(e.length-g.length)===g:f==="|="?e===g||e.substr(0,g.length+1)===g+"-":!1:e&&d!==!1},POS:function(a,b,c,d){var e=b[2],f=o.setFilters[e];if(f)return f(a,c,b,d)}}},p=o.match.POS,q=function(a,b){return"\\"+(b-0+1)};for(var r in o.match)o.match[r]=new RegExp(o.match[r].source+/(?![^\[]*\])(?![^\(]*\))/.source),o.leftMatch[r]=new RegExp(/(^(?:.|\r|\n)*?)/.source+o.match[r].source.replace(/\\(\d+)/g,q));var s=function(a,b){a=Array.prototype.slice.call(a,0);if(b){b.push.apply(b,a);return b}return a};try{Array.prototype.slice.call(c.documentElement.childNodes,0)[0].nodeType}catch(t){s=function(a,b){var c=0,d=b||[];if(g.call(a)==="[object Array]")Array.prototype.push.apply(d,a);else if(typeof a.length=="number")for(var e=a.length;c<e;c++)d.push(a[c]);else for(;a[c];c++)d.push(a[c]);return d}}var u,v;c.documentElement.compareDocumentPosition?u=function(a,b){if(a===b){h=!0;return 0}if(!a.compareDocumentPosition||!b.compareDocumentPosition)return a.compareDocumentPosition?-1:1;return a.compareDocumentPosition(b)&4?-1:1}:(u=function(a,b){if(a===b){h=!0;return 0}if(a.sourceIndex&&b.sourceIndex)return a.sourceIndex-b.sourceIndex;var c,d,e=[],f=[],g=a.parentNode,i=b.parentNode,j=g;if(g===i)return v(a,b);if(!g)return-1;if(!i)return 1;while(j)e.unshift(j),j=j.parentNode;j=i;while(j)f.unshift(j),j=j.parentNode;c=e.length,d=f.length;for(var k=0;k<c&&k<d;k++)if(e[k]!==f[k])return v(e[k],f[k]);return k===c?v(a,f[k],-1):v(e[k],b,1)},v=function(a,b,c){if(a===b)return c;var d=a.nextSibling;while(d){if(d===b)return-1;d=d.nextSibling}return 1}),function(){var a=c.createElement("div"),d="script"+(new Date).getTime(),e=c.documentElement;a.innerHTML="<a name='"+d+"'/>",e.insertBefore(a,e.firstChild),c.getElementById(d)&&(o.find.ID=function(a,c,d){if(typeof c.getElementById!="undefined"&&!d){var e=c.getElementById(a[1]);return e?e.id===a[1]||typeof e.getAttributeNode!="undefined"&&e.getAttributeNode("id").nodeValue===a[1]?[e]:b:[]}},o.filter.ID=function(a,b){var c=typeof a.getAttributeNode!="undefined"&&a.getAttributeNode("id");return a.nodeType===1&&c&&c.nodeValue===b}),e.removeChild(a),e=a=null}(),function(){var a=c.createElement("div");a.appendChild(c.createComment("")),a.getElementsByTagName("*").length>0&&(o.find.TAG=function(a,b){var c=b.getElementsByTagName(a[1]);if(a[1]==="*"){var d=[];for(var e=0;c[e];e++)c[e].nodeType===1&&d.push(c[e]);c=d}return c}),a.innerHTML="<a href='#'></a>",a.firstChild&&typeof a.firstChild.getAttribute!="undefined"&&a.firstChild.getAttribute("href")!=="#"&&(o.attrHandle.href=function(a){return a.getAttribute("href",2)}),a=null}(),c.querySelectorAll&&function(){var a=m,b=c.createElement("div"),d="__sizzle__";b.innerHTML="<p class='TEST'></p>";if(!b.querySelectorAll||b.querySelectorAll(".TEST").length!==0){m=function(b,e,f,g){e=e||c;if(!g&&!m.isXML(e)){var h=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(b);if(h&&(e.nodeType===1||e.nodeType===9)){if(h[1])return s(e.getElementsByTagName(b),f);if(h[2]&&o.find.CLASS&&e.getElementsByClassName)return s(e.getElementsByClassName(h[2]),f)}if(e.nodeType===9){if(b==="body"&&e.body)return s([e.body],f);if(h&&h[3]){var i=e.getElementById(h[3]);if(!i||!i.parentNode)return s([],f);if(i.id===h[3])return s([i],f)}try{return s(e.querySelectorAll(b),f)}catch(j){}}else if(e.nodeType===1&&e.nodeName.toLowerCase()!=="object"){var k=e,l=e.getAttribute("id"),n=l||d,p=e.parentNode,q=/^\s*[+~]/.test(b);l?n=n.replace(/'/g,"\\$&"):e.setAttribute("id",n),q&&p&&(e=e.parentNode);try{if(!q||p)return s(e.querySelectorAll("[id='"+n+"'] "+b),f)}catch(r){}finally{l||k.removeAttribute("id")}}}return a(b,e,f,g)};for(var e in a)m[e]=a[e];b=null}}(),function(){var a=c.documentElement,b=a.matchesSelector||a.mozMatchesSelector||a.webkitMatchesSelector||a.msMatchesSelector;if(b){var d=!b.call(c.createElement("div"),"div"),e=!1;try{b.call(c.documentElement,"[test!='']:sizzle")}catch(f){e=!0}m.matchesSelector=function(a,c){c=c.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!m.isXML(a))try{if(e||!o.match.PSEUDO.test(c)&&!/!=/.test(c)){var f=b.call(a,c);if(f||!d||a.document&&a.document.nodeType!==11)return f}}catch(g){}return m(c,null,null,[a]).length>0}}}(),function(){var a=c.createElement("div");a.innerHTML="<div class='test e'></div><div class='test'></div>";if(!!a.getElementsByClassName&&a.getElementsByClassName("e").length!==0){a.lastChild.className="e";if(a.getElementsByClassName("e").length===1)return;o.order.splice(1,0,"CLASS"),o.find.CLASS=function(a,b,c){if(typeof b.getElementsByClassName!="undefined"&&!c)return b.getElementsByClassName(a[1])},a=null}}(),c.documentElement.contains?m.contains=function(a,b){return a!==b&&(a.contains?a.contains(b):!0)}:c.documentElement.compareDocumentPosition?m.contains=function(a,b){return!!(a.compareDocumentPosition(b)&16)}:m.contains=function(){return!1},m.isXML=function(a){var b=(a?a.ownerDocument||a:0).documentElement;return b?b.nodeName!=="HTML":!1};var y=function(a,b,c){var d,e=[],f="",g=b.nodeType?[b]:b;while(d=o.match.PSEUDO.exec(a))f+=d[0],a=a.replace(o.match.PSEUDO,"");a=o.relative[a]?a+"*":a;for(var h=0,i=g.length;h<i;h++)m(a,g[h],e,c);return m.filter(f,e)};m.attr=f.attr,m.selectors.attrMap={},f.find=m,f.expr=m.selectors,f.expr[":"]=f.expr.filters,f.unique=m.uniqueSort,f.text=m.getText,f.isXMLDoc=m.isXML,f.contains=m.contains}();var L=/Until$/,M=/^(?:parents|prevUntil|prevAll)/,N=/,/,O=/^.[^:#\[\.,]*$/,P=Array.prototype.slice,Q=f.expr.match.POS,R={children:!0,contents:!0,next:!0,prev:!0};f.fn.extend({find:function(a){var b=this,c,d;if(typeof a!="string")return f(a).filter(function(){for(c=0,d=b.length;c<d;c++)if(f.contains(b[c],this))return!0});var e=this.pushStack("","find",a),g,h,i;for(c=0,d=this.length;c<d;c++){g=e.length,f.find(a,this[c],e);if(c>0)for(h=g;h<e.length;h++)for(i=0;i<g;i++)if(e[i]===e[h]){e.splice(h--,1);break}}return e},has:function(a){var b=f(a);return this.filter(function(){for(var a=0,c=b.length;a<c;a++)if(f.contains(this,b[a]))return!0})},not:function(a){return this.pushStack(T(this,a,!1),"not",a)},filter:function(a){return this.pushStack(T(this,a,!0),"filter",a)},is:function(a){return!!a&&(typeof a=="string"?Q.test(a)?f(a,this.context).index(this[0])>=0:f.filter(a,this).length>0:this.filter(a).length>0)},closest:function(a,b){var c=[],d,e,g=this[0];if(f.isArray(a)){var h=1;while(g&&g.ownerDocument&&g!==b){for(d=0;d<a.length;d++)f(g).is(a[d])&&c.push({selector:a[d],elem:g,level:h});g=g.parentNode,h++}return c}var i=Q.test(a)||typeof a!="string"?f(a,b||this.context):0;for(d=0,e=this.length;d<e;d++){g=this[d];while(g){if(i?i.index(g)>-1:f.find.matchesSelector(g,a)){c.push(g);break}g=g.parentNode;if(!g||!g.ownerDocument||g===b||g.nodeType===11)break}}c=c.length>1?f.unique(c):c;return this.pushStack(c,"closest",a)},index:function(a){if(!a)return this[0]&&this[0].parentNode?this.prevAll().length:-1;if(typeof a=="string")return f.inArray(this[0],f(a));return f.inArray(a.jquery?a[0]:a,this)},add:function(a,b){var c=typeof a=="string"?f(a,b):f.makeArray(a&&a.nodeType?[a]:a),d=f.merge(this.get(),c);return this.pushStack(S(c[0])||S(d[0])?d:f.unique(d))},andSelf:function(){return this.add(this.prevObject)}}),f.each({parent:function(a){var b=a.parentNode;return b&&b.nodeType!==11?b:null},parents:function(a){return f.dir(a,"parentNode")},parentsUntil:function(a,b,c){return f.dir(a,"parentNode",c)},next:function(a){return f.nth(a,2,"nextSibling")},prev:function(a){return f.nth(a,2,"previousSibling")},nextAll:function(a){return f.dir(a,"nextSibling")},prevAll:function(a){return f.dir(a,"previousSibling")},nextUntil:function(a,b,c){return f.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return f.dir(a,"previousSibling",c)},siblings:function(a){return f.sibling(a.parentNode.firstChild,a)},children:function(a){return f.sibling(a.firstChild)},contents:function(a){return f.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:f.makeArray(a.childNodes)}},function(a,b){f.fn[a]=function(c,d){var e=f.map(this,b,c);L.test(a)||(d=c),d&&typeof d=="string"&&(e=f.filter(d,e)),e=this.length>1&&!R[a]?f.unique(e):e,(this.length>1||N.test(d))&&M.test(a)&&(e=e.reverse());return this.pushStack(e,a,P.call(arguments).join(","))}}),f.extend({filter:function(a,b,c){c&&(a=":not("+a+")");return b.length===1?f.find.matchesSelector(b[0],a)?[b[0]]:[]:f.find.matches(a,b)},dir:function(a,c,d){var e=[],g=a[c];while(g&&g.nodeType!==9&&(d===b||g.nodeType!==1||!f(g).is(d)))g.nodeType===1&&e.push(g),g=g[c];return e},nth:function(a,b,c,d){b=b||1;var e=0;for(;a;a=a[c])if(a.nodeType===1&&++e===b)break;return a},sibling:function(a,b){var c=[];for(;a;a=a.nextSibling)a.nodeType===1&&a!==b&&c.push(a);return c}});var V="abbr|article|aside|audio|canvas|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",W=/ jQuery\d+="(?:\d+|null)"/g,X=/^\s+/,Y=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,Z=/<([\w:]+)/,$=/<tbody/i,_=/<|&#?\w+;/,ba=/<(?:script|style)/i,bb=/<(?:script|object|embed|option|style)/i,bc=new RegExp("<(?:"+V+")","i"),bd=/checked\s*(?:[^=]|=\s*.checked.)/i,be=/\/(java|ecma)script/i,bf=/^\s*<!(?:\[CDATA\[|\-\-)/,bg={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},bh=U(c);bg.optgroup=bg.option,bg.tbody=bg.tfoot=bg.colgroup=bg.caption=bg.thead,bg.th=bg.td,f.support.htmlSerialize||(bg._default=[1,"div<div>","</div>"]),f.fn.extend({text:function(a){if(f.isFunction(a))return this.each(function(b){var c=f(this);c.text(a.call(this,b,c.text()))});if(typeof a!="object"&&a!==b)return this.empty().append((this[0]&&this[0].ownerDocument||c).createTextNode(a));return f.text(this)},wrapAll:function(a){if(f.isFunction(a))return this.each(function(b){f(this).wrapAll(a.call(this,b))});if(this[0]){var b=f(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstChild&&a.firstChild.nodeType===1)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){if(f.isFunction(a))return this.each(function(b){f(this).wrapInner(a.call(this,b))});return this.each(function(){var b=f(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=f.isFunction(a);return this.each(function(c){f(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){f.nodeName(this,"body")||f(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){this.nodeType===1&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,!0,function(a){this.nodeType===1&&this.insertBefore(a,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this)});if(arguments.length){var a=f.clean(arguments);a.push.apply(a,this.toArray());return this.pushStack(a,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this.nextSibling)});if(arguments.length){var a=this.pushStack(this,"after",arguments);a.push.apply(a,f.clean(arguments));return a}},remove:function(a,b){for(var c=0,d;(d=this[c])!=null;c++)if(!a||f.filter(a,[d]).length)!b&&d.nodeType===1&&(f.cleanData(d.getElementsByTagName("*")),f.cleanData([d])),d.parentNode&&d.parentNode.removeChild(d);return this},empty:function()
{for(var a=0,b;(b=this[a])!=null;a++){b.nodeType===1&&f.cleanData(b.getElementsByTagName("*"));while(b.firstChild)b.removeChild(b.firstChild)}return this},clone:function(a,b){a=a==null?!1:a,b=b==null?a:b;return this.map(function(){return f.clone(this,a,b)})},html:function(a){if(a===b)return this[0]&&this[0].nodeType===1?this[0].innerHTML.replace(W,""):null;if(typeof a=="string"&&!ba.test(a)&&(f.support.leadingWhitespace||!X.test(a))&&!bg[(Z.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(Y,"<$1></$2>");try{for(var c=0,d=this.length;c<d;c++)this[c].nodeType===1&&(f.cleanData(this[c].getElementsByTagName("*")),this[c].innerHTML=a)}catch(e){this.empty().append(a)}}else f.isFunction(a)?this.each(function(b){var c=f(this);c.html(a.call(this,b,c.html()))}):this.empty().append(a);return this},replaceWith:function(a){if(this[0]&&this[0].parentNode){if(f.isFunction(a))return this.each(function(b){var c=f(this),d=c.html();c.replaceWith(a.call(this,b,d))});typeof a!="string"&&(a=f(a).detach());return this.each(function(){var b=this.nextSibling,c=this.parentNode;f(this).remove(),b?f(b).before(a):f(c).append(a)})}return this.length?this.pushStack(f(f.isFunction(a)?a():a),"replaceWith",a):this},detach:function(a){return this.remove(a,!0)},domManip:function(a,c,d){var e,g,h,i,j=a[0],k=[];if(!f.support.checkClone&&arguments.length===3&&typeof j=="string"&&bd.test(j))return this.each(function(){f(this).domManip(a,c,d,!0)});if(f.isFunction(j))return this.each(function(e){var g=f(this);a[0]=j.call(this,e,c?g.html():b),g.domManip(a,c,d)});if(this[0]){i=j&&j.parentNode,f.support.parentNode&&i&&i.nodeType===11&&i.childNodes.length===this.length?e={fragment:i}:e=f.buildFragment(a,this,k),h=e.fragment,h.childNodes.length===1?g=h=h.firstChild:g=h.firstChild;if(g){c=c&&f.nodeName(g,"tr");for(var l=0,m=this.length,n=m-1;l<m;l++)d.call(c?bi(this[l],g):this[l],e.cacheable||m>1&&l<n?f.clone(h,!0,!0):h)}k.length&&f.each(k,bp)}return this}}),f.buildFragment=function(a,b,d){var e,g,h,i,j=a[0];b&&b[0]&&(i=b[0].ownerDocument||b[0]),i.createDocumentFragment||(i=c),a.length===1&&typeof j=="string"&&j.length<512&&i===c&&j.charAt(0)==="<"&&!bb.test(j)&&(f.support.checkClone||!bd.test(j))&&(f.support.html5Clone||!bc.test(j))&&(g=!0,h=f.fragments[j],h&&h!==1&&(e=h)),e||(e=i.createDocumentFragment(),f.clean(a,i,e,d)),g&&(f.fragments[j]=h?e:1);return{fragment:e,cacheable:g}},f.fragments={},f.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){f.fn[a]=function(c){var d=[],e=f(c),g=this.length===1&&this[0].parentNode;if(g&&g.nodeType===11&&g.childNodes.length===1&&e.length===1){e[b](this[0]);return this}for(var h=0,i=e.length;h<i;h++){var j=(h>0?this.clone(!0):this).get();f(e[h])[b](j),d=d.concat(j)}return this.pushStack(d,a,e.selector)}}),f.extend({clone:function(a,b,c){var d,e,g,h=f.support.html5Clone||!bc.test("<"+a.nodeName)?a.cloneNode(!0):bo(a);if((!f.support.noCloneEvent||!f.support.noCloneChecked)&&(a.nodeType===1||a.nodeType===11)&&!f.isXMLDoc(a)){bk(a,h),d=bl(a),e=bl(h);for(g=0;d[g];++g)e[g]&&bk(d[g],e[g])}if(b){bj(a,h);if(c){d=bl(a),e=bl(h);for(g=0;d[g];++g)bj(d[g],e[g])}}d=e=null;return h},clean:function(a,b,d,e){var g;b=b||c,typeof b.createElement=="undefined"&&(b=b.ownerDocument||b[0]&&b[0].ownerDocument||c);var h=[],i;for(var j=0,k;(k=a[j])!=null;j++){typeof k=="number"&&(k+="");if(!k)continue;if(typeof k=="string")if(!_.test(k))k=b.createTextNode(k);else{k=k.replace(Y,"<$1></$2>");var l=(Z.exec(k)||["",""])[1].toLowerCase(),m=bg[l]||bg._default,n=m[0],o=b.createElement("div");b===c?bh.appendChild(o):U(b).appendChild(o),o.innerHTML=m[1]+k+m[2];while(n--)o=o.lastChild;if(!f.support.tbody){var p=$.test(k),q=l==="table"&&!p?o.firstChild&&o.firstChild.childNodes:m[1]==="<table>"&&!p?o.childNodes:[];for(i=q.length-1;i>=0;--i)f.nodeName(q[i],"tbody")&&!q[i].childNodes.length&&q[i].parentNode.removeChild(q[i])}!f.support.leadingWhitespace&&X.test(k)&&o.insertBefore(b.createTextNode(X.exec(k)[0]),o.firstChild),k=o.childNodes}var r;if(!f.support.appendChecked)if(k[0]&&typeof(r=k.length)=="number")for(i=0;i<r;i++)bn(k[i]);else bn(k);k.nodeType?h.push(k):h=f.merge(h,k)}if(d){g=function(a){return!a.type||be.test(a.type)};for(j=0;h[j];j++)if(e&&f.nodeName(h[j],"script")&&(!h[j].type||h[j].type.toLowerCase()==="text/javascript"))e.push(h[j].parentNode?h[j].parentNode.removeChild(h[j]):h[j]);else{if(h[j].nodeType===1){var s=f.grep(h[j].getElementsByTagName("script"),g);h.splice.apply(h,[j+1,0].concat(s))}d.appendChild(h[j])}}return h},cleanData:function(a){var b,c,d=f.cache,e=f.event.special,g=f.support.deleteExpando;for(var h=0,i;(i=a[h])!=null;h++){if(i.nodeName&&f.noData[i.nodeName.toLowerCase()])continue;c=i[f.expando];if(c){b=d[c];if(b&&b.events){for(var j in b.events)e[j]?f.event.remove(i,j):f.removeEvent(i,j,b.handle);b.handle&&(b.handle.elem=null)}g?delete i[f.expando]:i.removeAttribute&&i.removeAttribute(f.expando),delete d[c]}}}});var bq=/alpha\([^)]*\)/i,br=/opacity=([^)]*)/,bs=/([A-Z]|^ms)/g,bt=/^-?\d+(?:px)?$/i,bu=/^-?\d/,bv=/^([\-+])=([\-+.\de]+)/,bw={position:"absolute",visibility:"hidden",display:"block"},bx=["Left","Right"],by=["Top","Bottom"],bz,bA,bB;f.fn.css=function(a,c){if(arguments.length===2&&c===b)return this;return f.access(this,a,c,!0,function(a,c,d){return d!==b?f.style(a,c,d):f.css(a,c)})},f.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=bz(a,"opacity","opacity");return c===""?"1":c}return a.style.opacity}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":f.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,c,d,e){if(!!a&&a.nodeType!==3&&a.nodeType!==8&&!!a.style){var g,h,i=f.camelCase(c),j=a.style,k=f.cssHooks[i];c=f.cssProps[i]||i;if(d===b){if(k&&"get"in k&&(g=k.get(a,!1,e))!==b)return g;return j[c]}h=typeof d,h==="string"&&(g=bv.exec(d))&&(d=+(g[1]+1)*+g[2]+parseFloat(f.css(a,c)),h="number");if(d==null||h==="number"&&isNaN(d))return;h==="number"&&!f.cssNumber[i]&&(d+="px");if(!k||!("set"in k)||(d=k.set(a,d))!==b)try{j[c]=d}catch(l){}}},css:function(a,c,d){var e,g;c=f.camelCase(c),g=f.cssHooks[c],c=f.cssProps[c]||c,c==="cssFloat"&&(c="float");if(g&&"get"in g&&(e=g.get(a,!0,d))!==b)return e;if(bz)return bz(a,c)},swap:function(a,b,c){var d={};for(var e in b)d[e]=a.style[e],a.style[e]=b[e];c.call(a);for(e in b)a.style[e]=d[e]}}),f.curCSS=f.css,f.each(["height","width"],function(a,b){f.cssHooks[b]={get:function(a,c,d){var e;if(c){if(a.offsetWidth!==0)return bC(a,b,d);f.swap(a,bw,function(){e=bC(a,b,d)});return e}},set:function(a,b){if(!bt.test(b))return b;b=parseFloat(b);if(b>=0)return b+"px"}}}),f.support.opacity||(f.cssHooks.opacity={get:function(a,b){return br.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/100+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=f.isNumeric(b)?"alpha(opacity="+b*100+")":"",g=d&&d.filter||c.filter||"";c.zoom=1;if(b>=1&&f.trim(g.replace(bq,""))===""){c.removeAttribute("filter");if(d&&!d.filter)return}c.filter=bq.test(g)?g.replace(bq,e):g+" "+e}}),f(function(){f.support.reliableMarginRight||(f.cssHooks.marginRight={get:function(a,b){var c;f.swap(a,{display:"inline-block"},function(){b?c=bz(a,"margin-right","marginRight"):c=a.style.marginRight});return c}})}),c.defaultView&&c.defaultView.getComputedStyle&&(bA=function(a,b){var c,d,e;b=b.replace(bs,"-$1").toLowerCase(),(d=a.ownerDocument.defaultView)&&(e=d.getComputedStyle(a,null))&&(c=e.getPropertyValue(b),c===""&&!f.contains(a.ownerDocument.documentElement,a)&&(c=f.style(a,b)));return c}),c.documentElement.currentStyle&&(bB=function(a,b){var c,d,e,f=a.currentStyle&&a.currentStyle[b],g=a.style;f===null&&g&&(e=g[b])&&(f=e),!bt.test(f)&&bu.test(f)&&(c=g.left,d=a.runtimeStyle&&a.runtimeStyle.left,d&&(a.runtimeStyle.left=a.currentStyle.left),g.left=b==="fontSize"?"1em":f||0,f=g.pixelLeft+"px",g.left=c,d&&(a.runtimeStyle.left=d));return f===""?"auto":f}),bz=bA||bB,f.expr&&f.expr.filters&&(f.expr.filters.hidden=function(a){var b=a.offsetWidth,c=a.offsetHeight;return b===0&&c===0||!f.support.reliableHiddenOffsets&&(a.style&&a.style.display||f.css(a,"display"))==="none"},f.expr.filters.visible=function(a){return!f.expr.filters.hidden(a)});var bD=/%20/g,bE=/\[\]$/,bF=/\r?\n/g,bG=/#.*$/,bH=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,bI=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,bJ=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,bK=/^(?:GET|HEAD)$/,bL=/^\/\//,bM=/\?/,bN=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,bO=/^(?:select|textarea)/i,bP=/\s+/,bQ=/([?&])_=[^&]*/,bR=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,bS=f.fn.load,bT={},bU={},bV,bW,bX=["*/"]+["*"];try{bV=e.href}catch(bY){bV=c.createElement("a"),bV.href="",bV=bV.href}bW=bR.exec(bV.toLowerCase())||[],f.fn.extend({load:function(a,c,d){if(typeof a!="string"&&bS)return bS.apply(this,arguments);if(!this.length)return this;var e=a.indexOf(" ");if(e>=0){var g=a.slice(e,a.length);a=a.slice(0,e)}var h="GET";c&&(f.isFunction(c)?(d=c,c=b):typeof c=="object"&&(c=f.param(c,f.ajaxSettings.traditional),h="POST"));var i=this;f.ajax({url:a,type:h,dataType:"html",data:c,complete:function(a,b,c){c=a.responseText,a.isResolved()&&(a.done(function(a){c=a}),i.html(g?f("<div>").append(c.replace(bN,"")).find(g):c)),d&&i.each(d,[c,b,a])}});return this},serialize:function(){return f.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?f.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||bO.test(this.nodeName)||bI.test(this.type))}).map(function(a,b){var c=f(this).val();return c==null?null:f.isArray(c)?f.map(c,function(a,c){return{name:b.name,value:a.replace(bF,"\r\n")}}):{name:b.name,value:c.replace(bF,"\r\n")}}).get()}}),f.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){f.fn[b]=function(a){return this.on(b,a)}}),f.each(["get","post"],function(a,c){f[c]=function(a,d,e,g){f.isFunction(d)&&(g=g||e,e=d,d=b);return f.ajax({type:c,url:a,data:d,success:e,dataType:g})}}),f.extend({getScript:function(a,c){return f.get(a,b,c,"script")},getJSON:function(a,b,c){return f.get(a,b,c,"json")},ajaxSetup:function(a,b){b?b_(a,f.ajaxSettings):(b=a,a=f.ajaxSettings),b_(a,b);return a},ajaxSettings:{url:bV,isLocal:bJ.test(bW[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":bX},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a.String,"text html":!0,"text json":f.parseJSON,"text xml":f.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:bZ(bT),ajaxTransport:bZ(bU),ajax:function(a,c){function w(a,c,l,m){if(s!==2){s=2,q&&clearTimeout(q),p=b,n=m||"",v.readyState=a>0?4:0;var o,r,u,w=c,x=l?cb(d,v,l):b,y,z;if(a>=200&&a<300||a===304){if(d.ifModified){if(y=v.getResponseHeader("Last-Modified"))f.lastModified[k]=y;if(z=v.getResponseHeader("Etag"))f.etag[k]=z}if(a===304)w="notmodified",o=!0;else try{r=cc(d,x),w="success",o=!0}catch(A){w="parsererror",u=A}}else{u=w;if(!w||a)w="error",a<0&&(a=0)}v.status=a,v.statusText=""+(c||w),o?h.resolveWith(e,[r,w,v]):h.rejectWith(e,[v,w,u]),v.statusCode(j),j=b,t&&g.trigger("ajax"+(o?"Success":"Error"),[v,d,o?r:u]),i.fireWith(e,[v,w]),t&&(g.trigger("ajaxComplete",[v,d]),--f.active||f.event.trigger("ajaxStop"))}}typeof a=="object"&&(c=a,a=b),c=c||{};var d=f.ajaxSetup({},c),e=d.context||d,g=e!==d&&(e.nodeType||e instanceof f)?f(e):f.event,h=f.Deferred(),i=f.Callbacks("once memory"),j=d.statusCode||{},k,l={},m={},n,o,p,q,r,s=0,t,u,v={readyState:0,setRequestHeader:function(a,b){if(!s){var c=a.toLowerCase();a=m[c]=m[c]||a,l[a]=b}return this},getAllResponseHeaders:function(){return s===2?n:null},getResponseHeader:function(a){var c;if(s===2){if(!o){o={};while(c=bH.exec(n))o[c[1].toLowerCase()]=c[2]}c=o[a.toLowerCase()]}return c===b?null:c},overrideMimeType:function(a){s||(d.mimeType=a);return this},abort:function(a){a=a||"abort",p&&p.abort(a),w(0,a);return this}};h.promise(v),v.success=v.done,v.error=v.fail,v.complete=i.add,v.statusCode=function(a){if(a){var b;if(s<2)for(b in a)j[b]=[j[b],a[b]];else b=a[v.status],v.then(b,b)}return this},d.url=((a||d.url)+"").replace(bG,"").replace(bL,bW[1]+"//"),d.dataTypes=f.trim(d.dataType||"*").toLowerCase().split(bP),d.crossDomain==null&&(r=bR.exec(d.url.toLowerCase()),d.crossDomain=!(!r||r[1]==bW[1]&&r[2]==bW[2]&&(r[3]||(r[1]==="http:"?80:443))==(bW[3]||(bW[1]==="http:"?80:443)))),d.data&&d.processData&&typeof d.data!="string"&&(d.data=f.param(d.data,d.traditional)),b$(bT,d,c,v);if(s===2)return!1;t=d.global,d.type=d.type.toUpperCase(),d.hasContent=!bK.test(d.type),t&&f.active++===0&&f.event.trigger("ajaxStart");if(!d.hasContent){d.data&&(d.url+=(bM.test(d.url)?"&":"?")+d.data,delete d.data),k=d.url;if(d.cache===!1){var x=f.now(),y=d.url.replace(bQ,"$1_="+x);d.url=y+(y===d.url?(bM.test(d.url)?"&":"?")+"_="+x:"")}}(d.data&&d.hasContent&&d.contentType!==!1||c.contentType)&&v.setRequestHeader("Content-Type",d.contentType),d.ifModified&&(k=k||d.url,f.lastModified[k]&&v.setRequestHeader("If-Modified-Since",f.lastModified[k]),f.etag[k]&&v.setRequestHeader("If-None-Match",f.etag[k])),v.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+(d.dataTypes[0]!=="*"?", "+bX+"; q=0.01":""):d.accepts["*"]);for(u in d.headers)v.setRequestHeader(u,d.headers[u]);if(d.beforeSend&&(d.beforeSend.call(e,v,d)===!1||s===2)){v.abort();return!1}for(u in{success:1,error:1,complete:1})v[u](d[u]);p=b$(bU,d,c,v);if(!p)w(-1,"No Transport");else{v.readyState=1,t&&g.trigger("ajaxSend",[v,d]),d.async&&d.timeout>0&&(q=setTimeout(function(){v.abort("timeout")},d.timeout));try{s=1,p.send(l,w)}catch(z){if(s<2)w(-1,z);else throw z}}return v},param:function(a,c){var d=[],e=function(a,b){b=f.isFunction(b)?b():b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};c===b&&(c=f.ajaxSettings.traditional);if(f.isArray(a)||a.jquery&&!f.isPlainObject(a))f.each(a,function(){e(this.name,this.value)});else for(var g in a)ca(g,a[g],c,e);return d.join("&").replace(bD,"+")}}),f.extend({active:0,lastModified:{},etag:{}});var cd=f.now(),ce=/(\=)\?(&|$)|\?\?/i;f.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return f.expando+"_"+cd++}}),f.ajaxPrefilter("json jsonp",function(b,c,d){var e=b.contentType==="application/x-www-form-urlencoded"&&typeof b.data=="string";if(b.dataTypes[0]==="jsonp"||b.jsonp!==!1&&(ce.test(b.url)||e&&ce.test(b.data))){var g,h=b.jsonpCallback=f.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,i=a[h],j=b.url,k=b.data,l="$1"+h+"$2";b.jsonp!==!1&&(j=j.replace(ce,l),b.url===j&&(e&&(k=k.replace(ce,l)),b.data===k&&(j+=(/\?/.test(j)?"&":"?")+b.jsonp+"="+h))),b.url=j,b.data=k,a[h]=function(a){g=[a]},d.always(function(){a[h]=i,g&&f.isFunction(i)&&a[h](g[0])}),b.converters["script json"]=function(){g||f.error(h+" was not called");return g[0]},b.dataTypes[0]="json";return"script"}}),f.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){f.globalEval(a);return a}}}),f.ajaxPrefilter("script",function(a){a.cache===b&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),f.ajaxTransport("script",function(a){if(a.crossDomain){var d,e=c.head||c.getElementsByTagName("head")[0]||c.documentElement;return{send:function(f,g){d=c.createElement("script"),d.async="async",a.scriptCharset&&(d.charset=a.scriptCharset),d.src=a.url,d.onload=d.onreadystatechange=function(a,c){if(c||!d.readyState||/loaded|complete/.test(d.readyState))d.onload=d.onreadystatechange=null,e&&d.parentNode&&e.removeChild(d),d=b,c||g(200,"success")},e.insertBefore(d,e.firstChild)},abort:function(){d&&d.onload(0,1)}}}});var cf=a.ActiveXObject?function(){for(var a in ch)ch[a](0,1)}:!1,cg=0,ch;f.ajaxSettings.xhr=a.ActiveXObject?function(){return!this.isLocal&&ci()||cj()}:ci,function(a){f.extend(f.support,{ajax:!!a,cors:!!a&&"withCredentials"in a})}(f.ajaxSettings.xhr()),f.support.ajax&&f.ajaxTransport(function(c){if(!c.crossDomain||f.support.cors){var d;return{send:function(e,g){var h=c.xhr(),i,j;c.username?h.open(c.type,c.url,c.async,c.username,c.password):h.open(c.type,c.url,c.async);if(c.xhrFields)for(j in c.xhrFields)h[j]=c.xhrFields[j];c.mimeType&&h.overrideMimeType&&h.overrideMimeType(c.mimeType),!c.crossDomain&&!e["X-Requested-With"]&&(e["X-Requested-With"]="XMLHttpRequest");try{for(j in e)h.setRequestHeader(j,e[j])}catch(k){}h.send(c.hasContent&&c.data||null),d=function(a,e){var j,k,l,m,n;try{if(d&&(e||h.readyState===4)){d=b,i&&(h.onreadystatechange=f.noop,cf&&delete ch[i]);if(e)h.readyState!==4&&h.abort();else{j=h.status,l=h.getAllResponseHeaders(),m={},n=h.responseXML,n&&n.documentElement&&(m.xml=n),m.text=h.responseText;try{k=h.statusText}catch(o){k=""}!j&&c.isLocal&&!c.crossDomain?j=m.text?200:404:j===1223&&(j=204)}}}catch(p){e||g(-1,p)}m&&g(j,k,m,l)},!c.async||h.readyState===4?d():(i=++cg,cf&&(ch||(ch={},f(a).unload(cf)),ch[i]=d),h.onreadystatechange=d)},abort:function(){d&&d(0,1)}}}});var ck={},cl,cm,cn=/^(?:toggle|show|hide)$/,co=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,cp,cq=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]],cr;f.fn.extend({show:function(a,b,c){var d,e;if(a||a===0)return this.animate(cu("show",3),a,b,c);for(var g=0,h=this.length;g<h;g++)d=this[g],d.style&&(e=d.style.display,!f._data(d,"olddisplay")&&e==="none"&&(e=d.style.display=""),e===""&&f.css(d,"display")==="none"&&f._data(d,"olddisplay",cv(d.nodeName)));for(g=0;g<h;g++){d=this[g];if(d.style){e=d.style.display;if(e===""||e==="none")d.style.display=f._data(d,"olddisplay")||""}}return this},hide:function(a,b,c){if(a||a===0)return this.animate(cu("hide",3),a,b,c);var d,e,g=0,h=this.length;for(;g<h;g++)d=this[g],d.style&&(e=f.css(d,"display"),e!=="none"&&!f._data(d,"olddisplay")&&f._data(d,"olddisplay",e));for(g=0;g<h;g++)this[g].style&&(this[g].style.display="none");return this},_toggle:f.fn.toggle,toggle:function(a,b,c){var d=typeof a=="boolean";f.isFunction(a)&&f.isFunction(b)?this._toggle.apply(this,arguments):a==null||d?this.each(function(){var b=d?a:f(this).is(":hidden");f(this)[b?"show":"hide"]()}):this.animate(cu("toggle",3),a,b,c);return this},fadeTo:function(a,b,c,d){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){function g(){e.queue===!1&&f._mark(this);var b=f.extend({},e),c=this.nodeType===1,d=c&&f(this).is(":hidden"),g,h,i,j,k,l,m,n,o;b.animatedProperties={};for(i in a){g=f.camelCase(i),i!==g&&(a[g]=a[i],delete a[i]),h=a[g],f.isArray(h)?(b.animatedProperties[g]=h[1],h=a[g]=h[0]):b.animatedProperties[g]=b.specialEasing&&b.specialEasing[g]||b.easing||"swing";if(h==="hide"&&d||h==="show"&&!d)return b.complete.call(this);c&&(g==="height"||g==="width")&&(b.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],f.css(this,"display")==="inline"&&f.css(this,"float")==="none"&&(!f.support.inlineBlockNeedsLayout||cv(this.nodeName)==="inline"?this.style.display="inline-block":this.style.zoom=1))}b.overflow!=null&&(this.style.overflow="hidden");for(i in a)j=new f.fx(this,b,i),h=a[i],cn.test(h)?(o=f._data(this,"toggle"+i)||(h==="toggle"?d?"show":"hide":0),o?(f._data(this,"toggle"+i,o==="show"?"hide":"show"),j[o]()):j[h]()):(k=co.exec(h),l=j.cur(),k?(m=parseFloat(k[2]),n=k[3]||(f.cssNumber[i]?"":"px"),n!=="px"&&(f.style(this,i,(m||1)+n),l=(m||1)/j.cur()*l,f.style(this,i,l+n)),k[1]&&(m=(k[1]==="-="?-1:1)*m+l),j.custom(l,m,n)):j.custom(l,h,""));return!0}var e=f.speed(b,c,d);if(f.isEmptyObject(a))return this.each(e.complete,[!1]);a=f.extend({},a);return e.queue===!1?this.each(g):this.queue(e.queue,g)},stop:function(a,c,d){typeof a!="string"&&(d=c,c=a,a=b),c&&a!==!1&&this.queue(a||"fx",[]);return this.each(function(){function h(a,b,c){var e=b[c];f.removeData(a,c,!0),e.stop(d)}var b,c=!1,e=f.timers,g=f._data(this);d||f._unmark(!0,this);if(a==null)for(b in g)g[b]&&g[b].stop&&b.indexOf(".run")===b.length-4&&h(this,g,b);else g[b=a+".run"]&&g[b].stop&&h(this,g,b);for(b=e.length;b--;)e[b].elem===this&&(a==null||e[b].queue===a)&&(d?e[b](!0):e[b].saveState(),c=!0,e.splice(b,1));(!d||!c)&&f.dequeue(this,a)})}}),f.each({slideDown:cu("show",1),slideUp:cu("hide",1),slideToggle:cu("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){f.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),f.extend({speed:function(a,b,c){var d=a&&typeof a=="object"?f.extend({},a):{complete:c||!c&&b||f.isFunction(a)&&a,duration:a,easing:c&&b||b&&!f.isFunction(b)&&b};d.duration=f.fx.off?0:typeof d.duration=="number"?d.duration:d.duration in f.fx.speeds?f.fx.speeds[d.duration]:f.fx.speeds._default;if(d.queue==null||d.queue===!0)d.queue="fx";d.old=d.complete,d.complete=function(a){f.isFunction(d.old)&&d.old.call(this),d.queue?f.dequeue(this,d.queue):a!==!1&&f._unmark(this)};return d},easing:{linear:function(a,b,c,d){return c+d*a},swing:function(a,b,c,d){return(-Math.cos(a*Math.PI)/2+.5)*d+c}},timers:[],fx:function(a,b,c){this.options=b,this.elem=a,this.prop=c,b.orig=b.orig||{}}}),f.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this),(f.fx.step[this.prop]||f.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null))return this.elem[this.prop];var a,b=f.css(this.elem,this.prop);return isNaN(a=parseFloat(b))?!b||b==="auto"?0:b:a},custom:function(a,c,d){function h(a){return e.step(a)}var e=this,g=f.fx;this.startTime=cr||cs(),this.end=c,this.now=this.start=a,this.pos=this.state=0,this.unit=d||this.unit||(f.cssNumber[this.prop]?"":"px"),h.queue=this.options.queue,h.elem=this.elem,h.saveState=function(){e.options.hide&&f._data(e.elem,"fxshow"+e.prop)===b&&f._data(e.elem,"fxshow"+e.prop,e.start)},h()&&f.timers.push(h)&&!cp&&(cp=setInterval(g.tick,g.interval))},show:function(){var a=f._data(this.elem,"fxshow"+this.prop);this.options.orig[this.prop]=a||f.style(this.elem,this.prop),this.options.show=!0,a!==b?this.custom(this.cur(),a):this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur()),f(this.elem).show()},hide:function(){this.options.orig[this.prop]=f._data(this.elem,"fxshow"+this.prop)||f.style(this.elem,this.prop),this.options.hide=!0,this.custom(this.cur(),0)},step:function(a){var b,c,d,e=cr||cs(),g=!0,h=this.elem,i=this.options;if(a||e>=i.duration+this.startTime){this.now=this.end,this.pos=this.state=1,this.update(),i.animatedProperties[this.prop]=!0;for(b in i.animatedProperties)i.animatedProperties[b]!==!0&&(g=!1);if(g){i.overflow!=null&&!f.support.shrinkWrapBlocks&&f.each(["","X","Y"],function(a,b){h.style["overflow"+b]=i.overflow[a]}),i.hide&&f(h).hide();if(i.hide||i.show)for(b in i.animatedProperties)f.style(h,b,i.orig[b]),f.removeData(h,"fxshow"+b,!0),f.removeData(h,"toggle"+b,!0);d=i.complete,d&&(i.complete=!1,d.call(h))}return!1}i.duration==Infinity?this.now=e:(c=e-this.startTime,this.state=c/i.duration,this.pos=f.easing[i.animatedProperties[this.prop]](this.state,c,0,1,i.duration),this.now=this.start+(this.end-this.start)*this.pos),this.update();return!0}},f.extend(f.fx,{tick:function(){var a,b=f.timers,c=0;for(;c<b.length;c++)a=b[c],!a()&&b[c]===a&&b.splice(c--,1);b.length||f.fx.stop()},interval:13,stop:function(){clearInterval(cp),cp=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(a){f.style(a.elem,"opacity",a.now)},_default:function(a){a.elem.style&&a.elem.style[a.prop]!=null?a.elem.style[a.prop]=a.now+a.unit:a.elem[a.prop]=a.now}}}),f.each(["width","height"],function(a,b){f.fx.step[b]=function(a){f.style(a.elem,b,Math.max(0,a.now)+a.unit)}}),f.expr&&f.expr.filters&&(f.expr.filters.animated=function(a){return f.grep(f.timers,function(b){return a===b.elem}).length});var cw=/^t(?:able|d|h)$/i,cx=/^(?:body|html)$/i;"getBoundingClientRect"in c.documentElement?f.fn.offset=function(a){var b=this[0],c;if(a)return this.each(function(b){f.offset.setOffset(this,a,b)});if(!b||!b.ownerDocument)return null;if(b===b.ownerDocument.body)return f.offset.bodyOffset(b);try{c=b.getBoundingClientRect()}catch(d){}var e=b.ownerDocument,g=e.documentElement;if(!c||!f.contains(g,b))return c?{top:c.top,left:c.left}:{top:0,left:0};var h=e.body,i=cy(e),j=g.clientTop||h.clientTop||0,k=g.clientLeft||h.clientLeft||0,l=i.pageYOffset||f.support.boxModel&&g.scrollTop||h.scrollTop,m=i.pageXOffset||f.support.boxModel&&g.scrollLeft||h.scrollLeft,n=c.top+l-j,o=c.left+m-k;return{top:n,left:o}}:f.fn.offset=function(a){var b=this[0];if(a)return this.each(function(b){f.offset.setOffset(this,a,b)});if(!b||!b.ownerDocument)return null;if(b===b.ownerDocument.body)return f.offset.bodyOffset(b);var c,d=b.offsetParent,e=b,g=b.ownerDocument,h=g.documentElement,i=g.body,j=g.defaultView,k=j?j.getComputedStyle(b,null):b.currentStyle,l=b.offsetTop,m=b.offsetLeft;while((b=b.parentNode)&&b!==i&&b!==h){if(f.support.fixedPosition&&k.position==="fixed")break;c=j?j.getComputedStyle(b,null):b.currentStyle,l-=b.scrollTop,m-=b.scrollLeft,b===d&&(l+=b.offsetTop,m+=b.offsetLeft,f.support.doesNotAddBorder&&(!f.support.doesAddBorderForTableAndCells||!cw.test(b.nodeName))&&(l+=parseFloat(c.borderTopWidth)||0,m+=parseFloat(c.borderLeftWidth)||0),e=d,d=b.offsetParent),f.support.subtractsBorderForOverflowNotVisible&&c.overflow!=="visible"&&(l+=parseFloat(c.borderTopWidth)||0,m+=parseFloat(c.borderLeftWidth)||0),k=c}if(k.position==="relative"||k.position==="static")l+=i.offsetTop,m+=i.offsetLeft;f.support.fixedPosition&&k.position==="fixed"&&(l+=Math.max(h.scrollTop,i.scrollTop),m+=Math.max(h.scrollLeft,i.scrollLeft));return{top:l,left:m}},f.offset={bodyOffset:function(a){var b=a.offsetTop,c=a.offsetLeft;f.support.doesNotIncludeMarginInBodyOffset&&(b+=parseFloat(f.css(a,"marginTop"))||0,c+=parseFloat(f.css(a,"marginLeft"))||0);return{top:b,left:c}},setOffset:function(a,b,c){var d=f.css(a,"position");d==="static"&&(a.style.position="relative");var e=f(a),g=e.offset(),h=f.css(a,"top"),i=f.css(a,"left"),j=(d==="absolute"||d==="fixed")&&f.inArray("auto",[h,i])>-1,k={},l={},m,n;j?(l=e.position(),m=l.top,n=l.left):(m=parseFloat(h)||0,n=parseFloat(i)||0),f.isFunction(b)&&(b=b.call(a,c,g)),b.top!=null&&(k.top=b.top-g.top+m),b.left!=null&&(k.left=b.left-g.left+n),"using"in b?b.using.call(a,k):e.css(k)}},f.fn.extend({position:function(){if(!this[0])return null;var a=this[0],b=this.offsetParent(),c=this.offset(),d=cx.test(b[0].nodeName)?{top:0,left:0}:b.offset();c.top-=parseFloat(f.css(a,"marginTop"))||0,c.left-=parseFloat(f.css(a,"marginLeft"))||0,d.top+=parseFloat(f.css(b[0],"borderTopWidth"))||0,d.left+=parseFloat(f.css(b[0],"borderLeftWidth"))||0;return{top:c.top-d.top,left:c.left-d.left}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||c.body;while(a&&!cx.test(a.nodeName)&&f.css(a,"position")==="static")a=a.offsetParent;return a})}}),f.each(["Left","Top"],function(a,c){var d="scroll"+c;f.fn[d]=function(c){var e,g;if(c===b){e=this[0];if(!e)return null;g=cy(e);return g?"pageXOffset"in g?g[a?"pageYOffset":"pageXOffset"]:f.support.boxModel&&g.document.documentElement[d]||g.document.body[d]:e[d]}return this.each(function(){g=cy(this),g?g.scrollTo(a?f(g).scrollLeft():c,a?c:f(g).scrollTop()):this[d]=c})}}),f.each(["Height","Width"],function(a,c){var d=c.toLowerCase();f.fn["inner"+c]=function(){var a=this[0];return a?a.style?parseFloat(f.css(a,d,"padding")):this[d]():null},f.fn["outer"+c]=function(a){var b=this[0];return b?b.style?parseFloat(f.css(b,d,a?"margin":"border")):this[d]():null},f.fn[d]=function(a){var e=this[0];if(!e)return a==null?null:this;if(f.isFunction(a))return this.each(function(b){var c=f(this);c[d](a.call(this,b,c[d]()))});if(f.isWindow(e)){var g=e.document.documentElement["client"+c],h=e.document.body;return e.document.compatMode==="CSS1Compat"&&g||h&&h["client"+c]||g}if(e.nodeType===9)return Math.max(e.documentElement["client"+c],e.body["scroll"+c],e.documentElement["scroll"+c],e.body["offset"+c],e.documentElement["offset"+c]);if(a===b){var i=f.css(e,d),j=parseFloat(i);return f.isNumeric(j)?j:i}return this.css(d,typeof a=="string"?a:a+"px")}}),a.jQuery=a.$=f,typeof define=="function"&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return f})})(window);(function($)
{if($.fn.dotdotdot)
{return;}
$.fn.dotdotdot=function(o)
{if(this.length==0)
{debug(true,'No element found for "'+this.selector+'".');return this;}
if(this.length>1)
{return this.each(function()
{$(this).dotdotdot(o);});}
var $dot=this;if($dot.data('dotdotdot'))
{$dot.trigger('destroy.dot');}
$dot.bind_events=function()
{$dot.bind('update.dot',function(e,c)
{e.preventDefault();e.stopPropagation();opts.maxHeight=(typeof opts.height=='number')?opts.height:getTrueInnerHeight($dot);opts.maxHeight+=opts.tolerance;if(typeof c!='undefined')
{if(typeof c=='string'||c instanceof HTMLElement)
{c=$('<div />').append(c).contents();}
if(c instanceof $)
{orgContent=c;}}
$inr=$dot.wrapInner('<div class="dotdotdot" />').children();$inr.empty().append(orgContent.clone(true)).css({'height':'auto','width':'auto','border':'none','padding':0,'margin':0});var after=false,trunc=false;if(conf.afterElement)
{after=conf.afterElement.clone(true);conf.afterElement.remove();}
if(test($inr,opts))
{if(opts.wrap=='children')
{trunc=children($inr,opts,after);}
else
{trunc=ellipsis($inr,$dot,$inr,opts,after);}}
$inr.replaceWith($inr.contents());$inr=null;if($.isFunction(opts.callback))
{opts.callback.call($dot[0],trunc,orgContent);}
conf.isTruncated=trunc;return trunc;}).bind('isTruncated.dot',function(e,fn)
{e.preventDefault();e.stopPropagation();if(typeof fn=='function')
{fn.call($dot[0],conf.isTruncated);}
return conf.isTruncated;}).bind('originalContent.dot',function(e,fn)
{e.preventDefault();e.stopPropagation();if(typeof fn=='function')
{fn.call($dot[0],orgContent);}
return orgContent;}).bind('destroy.dot',function(e)
{e.preventDefault();e.stopPropagation();$dot.unwatch().unbind_events().empty().append(orgContent).data('dotdotdot',false);});return $dot;};$dot.unbind_events=function()
{$dot.unbind('.dot');return $dot;};$dot.watch=function()
{$dot.unwatch();if(opts.watch=='window')
{var $window=$(window),_wWidth=$window.width(),_wHeight=$window.height();$window.bind('resize.dot'+conf.dotId,function()
{if(_wWidth!=$window.width()||_wHeight!=$window.height()||!opts.windowResizeFix)
{_wWidth=$window.width();_wHeight=$window.height();if(watchInt)
{clearInterval(watchInt);}
watchInt=setTimeout(function()
{$dot.trigger('update.dot');},10);}});}
else
{watchOrg=getSizes($dot);watchInt=setInterval(function()
{var watchNew=getSizes($dot);if(watchOrg.width!=watchNew.width||watchOrg.height!=watchNew.height)
{$dot.trigger('update.dot');watchOrg=getSizes($dot);}},100);}
return $dot;};$dot.unwatch=function()
{$(window).unbind('resize.dot'+conf.dotId);if(watchInt)
{clearInterval(watchInt);}
return $dot;};var orgContent=$dot.contents(),opts=$.extend(true,{},$.fn.dotdotdot.defaults,o),conf={},watchOrg={},watchInt=null,$inr=null;conf.afterElement=getElement(opts.after,$dot);conf.isTruncated=false;conf.dotId=dotId++;$dot.data('dotdotdot',true).bind_events().trigger('update.dot');if(opts.watch)
{$dot.watch();}
return $dot;};$.fn.dotdotdot.defaults={'ellipsis':'... ','wrap':'word','lastCharacter':{'remove':[' ',',',';','.','!','?'],'noEllipsis':[]},'tolerance':0,'callback':null,'after':null,'height':null,'watch':false,'windowResizeFix':true,'debug':false};var dotId=1;function children($elem,o,after)
{var $elements=$elem.children(),isTruncated=false;$elem.empty();for(var a=0,l=$elements.length;a<l;a++)
{var $e=$elements.eq(a);$elem.append($e);if(after)
{$elem.append(after);}
if(test($elem,o))
{$e.remove();isTruncated=true;break;}
else
{if(after)
{after.remove();}}}
return isTruncated;}
function ellipsis($elem,$d,$i,o,after)
{var $elements=$elem.contents(),isTruncated=false;$elem.empty();var notx='table, thead, tbody, tfoot, tr, col, colgroup, object, embed, param, ol, ul, dl, select, optgroup, option, textarea, script, style';for(var a=0,l=$elements.length;a<l;a++)
{if(isTruncated)
{break;}
var e=$elements[a],$e=$(e);if(typeof e=='undefined')
{continue;}
$elem.append($e);if(after)
{var func=($elem.is(notx))?'after':'append';$elem[func](after);}
if(e.nodeType==3)
{if(test($i,o))
{isTruncated=ellipsisElement($e,$d,$i,o,after);}}
else
{isTruncated=ellipsis($e,$d,$i,o,after);}
if(!isTruncated)
{if(after)
{after.remove();}}}
return isTruncated;}
function ellipsisElement($e,$d,$i,o,after)
{var isTruncated=false,e=$e[0];if(typeof e=='undefined')
{return false;}
var seporator=(o.wrap=='letter')?'':' ',textArr=getTextContent(e).split(seporator),position=-1,midPos=-1,startPos=0,endPos=textArr.length-1;while(startPos<=endPos)
{var m=Math.floor((startPos+endPos)/2);if(m==midPos)
{break;}
midPos=m;setTextContent(e,textArr.slice(0,midPos+1).join(seporator)+o.ellipsis);if(!test($i,o))
{position=midPos;startPos=midPos;}
else
{endPos=midPos;}}
if(position!=-1)
{var txt=textArr.slice(0,position+1).join(seporator);isTruncated=true;while($.inArray(txt.slice(-1),o.lastCharacter.remove)>-1)
{txt=txt.slice(0,-1);}
if($.inArray(txt.slice(-1),o.lastCharacter.noEllipsis)<0)
{txt+=o.ellipsis;}
setTextContent(e,txt);}
else
{var $w=$e.parent();$e.remove();$n=$w.contents().eq(-1);isTruncated=ellipsisElement($n,$d,$i,o,after);}
return isTruncated;}
function test($i,o)
{return $i.innerHeight()>o.maxHeight;}
function getSizes($d)
{return{'width':$d.innerWidth(),'height':$d.innerHeight()};}
function setTextContent(e,content)
{if(e.innerText)
{e.innerText=content;}
else if(e.nodeValue)
{e.nodeValue=content;}
else if(e.textContent)
{e.textContent=content;}}
function getTextContent(e)
{if(e.innerText)
{return e.innerText;}
else if(e.nodeValue)
{return e.nodeValue;}
else if(e.textContent)
{return e.textContent;}
else
{return"";}}
function getElement(e,$i)
{if(typeof e=='undefined')
{return false;}
if(!e)
{return false;}
if(typeof e=='string')
{e=$(e,$i);return(e.length)?e:false;}
if(typeof e=='object')
{return(typeof e.jquery=='undefined')?false:e;}
return false;}
function getTrueInnerHeight($el)
{var h=$el.innerHeight(),a=['paddingTop','paddingBottom'];for(z=0,l=a.length;z<l;z++){var m=parseInt($el.css(a[z]),10);if(isNaN(m))
{m=0;}
h-=m;}
return h;}
function debug(d,m)
{if(!d)
{return false;}
if(typeof m=='string')
{m='dotdotdot: '+m;}
else
{m=['dotdotdot:',m];}
if(window.console&&window.console.log)
{window.console.log(m);}
return false;}
var _orgHtml=$.fn.html;$.fn.html=function(str){if(typeof str!='undefined')
{if(this.data('dotdotdot'))
{if(typeof str!='function')
{return this.trigger('update',[str]);}}
return _orgHtml.call(this,str);}
return _orgHtml.call(this);};var _orgText=$.fn.text;$.fn.text=function(str){if(typeof str!='undefined')
{if(this.data('dotdotdot'))
{var temp=$('<div />');temp.text(str);str=temp.html();temp.remove();return this.trigger('update',[str]);}
return _orgText.call(this,str);}
return _orgText.call(this);};})(jQuery);libby.Events=function(){};libby.Events.prototype={addEvent:function(eventId,fn,context,args){if(!this._evts)this._evts={};if(!this._evts[eventId])this._evts[eventId]=[];this._evts[eventId].push({fn:fn,context:context||this,args:args||[]});return this;},fireEvent:function(eventId,args){if(!this._evts)this._evts={};var evts=this._evts[eventId];if(!evts)return;if(!args)args=[];for(var i=0,len=evts.length;i<len;i++){evts[i].fn.apply(evts[i].context,args.concat(evts[i].args));}
return this;},hasEvent:function(eventId){return(this._evts&&this._evts[eventId]&&this._evts[eventId].length);}};libby.Events.prototype.constructor=libby.Events;(function(global){global.libby.EventsArray=function(eventsArray,events){this.events=events;for(var i=0;i<eventsArray.length;i++){this.fireEventData(eventsArray[i]);}};global.libby.EventsArray.prototype={constructor:global.libby.EventsArray,fireEventData:function(eventData){if(eventData.fn){eventData.fn();}else{this.events.trigger(eventData[0],eventData.slice(1,eventData.length));}},push:function(eventData){this.fireEventData(eventData);}};}(window));(function(a,b){function c(b,c){var e=b.nodeName.toLowerCase();if("area"===e){var f=b.parentNode,g=f.name,h;return!b.href||!g||f.nodeName.toLowerCase()!=="map"?!1:(h=a("img[usemap=#"+g+"]")[0],!!h&&d(h))}return(/input|select|textarea|button|object/.test(e)?!b.disabled:"a"==e?b.href||c:c)&&d(b)}function d(b){return!a(b).parents().andSelf().filter(function(){return a.curCSS(this,"visibility")==="hidden"||a.expr.filters.hidden(this)}).length}a.ui=a.ui||{};if(a.ui.version)return;a.extend(a.ui,{version:"1.8.20",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}}),a.fn.extend({propAttr:a.fn.prop||a.fn.attr,_focus:a.fn.focus,focus:function(b,c){return typeof b=="number"?this.each(function(){var d=this;setTimeout(function(){a(d).focus(),c&&c.call(d)},b)}):this._focus.apply(this,arguments)},scrollParent:function(){var b;return a.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?b=this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.curCSS(this,"position",1))&&/(auto|scroll)/.test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0):b=this.parents().filter(function(){return/(auto|scroll)/.test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0),/fixed/.test(this.css("position"))||!b.length?a(document):b},zIndex:function(c){if(c!==b)return this.css("zIndex",c);if(this.length){var d=a(this[0]),e,f;while(d.length&&d[0]!==document){e=d.css("position");if(e==="absolute"||e==="relative"||e==="fixed"){f=parseInt(d.css("zIndex"),10);if(!isNaN(f)&&f!==0)return f}d=d.parent()}}return 0},disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),a.each(["Width","Height"],function(c,d){function h(b,c,d,f){return a.each(e,function(){c-=parseFloat(a.curCSS(b,"padding"+this,!0))||0,d&&(c-=parseFloat(a.curCSS(b,"border"+this+"Width",!0))||0),f&&(c-=parseFloat(a.curCSS(b,"margin"+this,!0))||0)}),c}var e=d==="Width"?["Left","Right"]:["Top","Bottom"],f=d.toLowerCase(),g={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+d]=function(c){return c===b?g["inner"+d].call(this):this.each(function(){a(this).css(f,h(this,c)+"px")})},a.fn["outer"+d]=function(b,c){return typeof b!="number"?g["outer"+d].call(this,b):this.each(function(){a(this).css(f,h(this,b,!0,c)+"px")})}}),a.extend(a.expr[":"],{data:function(b,c,d){return!!a.data(b,d[3])},focusable:function(b){return c(b,!isNaN(a.attr(b,"tabindex")))},tabbable:function(b){var d=a.attr(b,"tabindex"),e=isNaN(d);return(e||d>=0)&&c(b,!e)}}),a(function(){var b=document.body,c=b.appendChild(c=document.createElement("div"));c.offsetHeight,a.extend(c.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),a.support.minHeight=c.offsetHeight===100,a.support.selectstart="onselectstart"in c,b.removeChild(c).style.display="none"}),a.extend(a.ui,{plugin:{add:function(b,c,d){var e=a.ui[b].prototype;for(var f in d)e.plugins[f]=e.plugins[f]||[],e.plugins[f].push([c,d[f]])},call:function(a,b,c){var d=a.plugins[b];if(!d||!a.element[0].parentNode)return;for(var e=0;e<d.length;e++)a.options[d[e][0]]&&d[e][1].apply(a.element,c)}},contains:function(a,b){return document.compareDocumentPosition?a.compareDocumentPosition(b)&16:a!==b&&a.contains(b)},hasScroll:function(b,c){if(a(b).css("overflow")==="hidden")return!1;var d=c&&c==="left"?"scrollLeft":"scrollTop",e=!1;return b[d]>0?!0:(b[d]=1,e=b[d]>0,b[d]=0,e)},isOverAxis:function(a,b,c){return a>b&&a<b+c},isOver:function(b,c,d,e,f,g){return a.ui.isOverAxis(b,d,f)&&a.ui.isOverAxis(c,e,g)}})})(jQuery);;(function(a,b){if(a.cleanData){var c=a.cleanData;a.cleanData=function(b){for(var d=0,e;(e=b[d])!=null;d++)try{a(e).triggerHandler("remove")}catch(f){}c(b)}}else{var d=a.fn.remove;a.fn.remove=function(b,c){return this.each(function(){return c||(!b||a.filter(b,[this]).length)&&a("*",this).add([this]).each(function(){try{a(this).triggerHandler("remove")}catch(b){}}),d.call(a(this),b,c)})}}a.widget=function(b,c,d){var e=b.split(".")[0],f;b=b.split(".")[1],f=e+"-"+b,d||(d=c,c=a.Widget),a.expr[":"][f]=function(c){return!!a.data(c,b)},a[e]=a[e]||{},a[e][b]=function(a,b){arguments.length&&this._createWidget(a,b)};var g=new c;g.options=a.extend(!0,{},g.options),a[e][b].prototype=a.extend(!0,g,{namespace:e,widgetName:b,widgetEventPrefix:a[e][b].prototype.widgetEventPrefix||b,widgetBaseClass:f},d),a.widget.bridge(b,a[e][b])},a.widget.bridge=function(c,d){a.fn[c]=function(e){var f=typeof e=="string",g=Array.prototype.slice.call(arguments,1),h=this;return e=!f&&g.length?a.extend.apply(null,[!0,e].concat(g)):e,f&&e.charAt(0)==="_"?h:(f?this.each(function(){var d=a.data(this,c),f=d&&a.isFunction(d[e])?d[e].apply(d,g):d;if(f!==d&&f!==b)return h=f,!1}):this.each(function(){var b=a.data(this,c);b?b.option(e||{})._init():a.data(this,c,new d(e,this))}),h)}},a.Widget=function(a,b){arguments.length&&this._createWidget(a,b)},a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:!1},_createWidget:function(b,c){a.data(c,this.widgetName,this),this.element=a(c),this.options=a.extend(!0,{},this.options,this._getCreateOptions(),b);var d=this;this.element.bind("remove."+this.widgetName,function(){d.destroy()}),this._create(),this._trigger("create"),this._init()},_getCreateOptions:function(){return a.metadata&&a.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName),this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled "+"ui-state-disabled")},widget:function(){return this.element},option:function(c,d){var e=c;if(arguments.length===0)return a.extend({},this.options);if(typeof c=="string"){if(d===b)return this.options[c];e={},e[c]=d}return this._setOptions(e),this},_setOptions:function(b){var c=this;return a.each(b,function(a,b){c._setOption(a,b)}),this},_setOption:function(a,b){return this.options[a]=b,a==="disabled"&&this.widget()[b?"addClass":"removeClass"](this.widgetBaseClass+"-disabled"+" "+"ui-state-disabled").attr("aria-disabled",b),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_trigger:function(b,c,d){var e,f,g=this.options[b];d=d||{},c=a.Event(c),c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase(),c.target=this.element[0],f=c.originalEvent;if(f)for(e in f)e in c||(c[e]=f[e]);return this.element.trigger(c,d),!(a.isFunction(g)&&g.call(this.element[0],c,d)===!1||c.isDefaultPrevented())}}})(jQuery);;(function(a,b){a.ui=a.ui||{};var c=/left|center|right/,d=/top|center|bottom/,e="center",f={},g=a.fn.position,h=a.fn.offset;a.fn.position=function(b){if(!b||!b.of)return g.apply(this,arguments);b=a.extend({},b);var h=a(b.of),i=h[0],j=(b.collision||"flip").split(" "),k=b.offset?b.offset.split(" "):[0,0],l,m,n;return i.nodeType===9?(l=h.width(),m=h.height(),n={top:0,left:0}):i.setTimeout?(l=h.width(),m=h.height(),n={top:h.scrollTop(),left:h.scrollLeft()}):i.preventDefault?(b.at="left top",l=m=0,n={top:b.of.pageY,left:b.of.pageX}):(l=h.outerWidth(),m=h.outerHeight(),n=h.offset()),a.each(["my","at"],function(){var a=(b[this]||"").split(" ");a.length===1&&(a=c.test(a[0])?a.concat([e]):d.test(a[0])?[e].concat(a):[e,e]),a[0]=c.test(a[0])?a[0]:e,a[1]=d.test(a[1])?a[1]:e,b[this]=a}),j.length===1&&(j[1]=j[0]),k[0]=parseInt(k[0],10)||0,k.length===1&&(k[1]=k[0]),k[1]=parseInt(k[1],10)||0,b.at[0]==="right"?n.left+=l:b.at[0]===e&&(n.left+=l/2),b.at[1]==="bottom"?n.top+=m:b.at[1]===e&&(n.top+=m/2),n.left+=k[0],n.top+=k[1],this.each(function(){var c=a(this),d=c.outerWidth(),g=c.outerHeight(),h=parseInt(a.curCSS(this,"marginLeft",!0))||0,i=parseInt(a.curCSS(this,"marginTop",!0))||0,o=d+h+(parseInt(a.curCSS(this,"marginRight",!0))||0),p=g+i+(parseInt(a.curCSS(this,"marginBottom",!0))||0),q=a.extend({},n),r;b.my[0]==="right"?q.left-=d:b.my[0]===e&&(q.left-=d/2),b.my[1]==="bottom"?q.top-=g:b.my[1]===e&&(q.top-=g/2),f.fractions||(q.left=Math.round(q.left),q.top=Math.round(q.top)),r={left:q.left-h,top:q.top-i},a.each(["left","top"],function(c,e){a.ui.position[j[c]]&&a.ui.position[j[c]][e](q,{targetWidth:l,targetHeight:m,elemWidth:d,elemHeight:g,collisionPosition:r,collisionWidth:o,collisionHeight:p,offset:k,my:b.my,at:b.at})}),a.fn.bgiframe&&c.bgiframe(),c.offset(a.extend(q,{using:b.using}))})},a.ui.position={fit:{left:function(b,c){var d=a(window),e=c.collisionPosition.left+c.collisionWidth-d.width()-d.scrollLeft();b.left=e>0?b.left-e:Math.max(b.left-c.collisionPosition.left,b.left)},top:function(b,c){var d=a(window),e=c.collisionPosition.top+c.collisionHeight-d.height()-d.scrollTop();b.top=e>0?b.top-e:Math.max(b.top-c.collisionPosition.top,b.top)}},flip:{left:function(b,c){if(c.at[0]===e)return;var d=a(window),f=c.collisionPosition.left+c.collisionWidth-d.width()-d.scrollLeft(),g=c.my[0]==="left"?-c.elemWidth:c.my[0]==="right"?c.elemWidth:0,h=c.at[0]==="left"?c.targetWidth:-c.targetWidth,i=-2*c.offset[0];b.left+=c.collisionPosition.left<0?g+h+i:f>0?g+h+i:0},top:function(b,c){if(c.at[1]===e)return;var d=a(window),f=c.collisionPosition.top+c.collisionHeight-d.height()-d.scrollTop(),g=c.my[1]==="top"?-c.elemHeight:c.my[1]==="bottom"?c.elemHeight:0,h=c.at[1]==="top"?c.targetHeight:-c.targetHeight,i=-2*c.offset[1];b.top+=c.collisionPosition.top<0?g+h+i:f>0?g+h+i:0}}},a.offset.setOffset||(a.offset.setOffset=function(b,c){/static/.test(a.curCSS(b,"position"))&&(b.style.position="relative");var d=a(b),e=d.offset(),f=parseInt(a.curCSS(b,"top",!0),10)||0,g=parseInt(a.curCSS(b,"left",!0),10)||0,h={top:c.top-e.top+f,left:c.left-e.left+g};"using"in c?c.using.call(b,h):d.css(h)},a.fn.offset=function(b){var c=this[0];return!c||!c.ownerDocument?null:b?this.each(function(){a.offset.setOffset(this,b)}):h.call(this)}),function(){var b=document.getElementsByTagName("body")[0],c=document.createElement("div"),d,e,g,h,i;d=document.createElement(b?"div":"body"),g={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},b&&a.extend(g,{position:"absolute",left:"-1000px",top:"-1000px"});for(var j in g)d.style[j]=g[j];d.appendChild(c),e=b||document.documentElement,e.insertBefore(d,e.firstChild),c.style.cssText="position: absolute; left: 10.7432222px; top: 10.432325px; height: 30px; width: 201px;",h=a(c).offset(function(a,b){return b}).offset(),d.innerHTML="",e.removeChild(d),i=h.top+h.left+(b?2e3:0),f.fractions=i>21&&i<22}()})(jQuery);;(function(a,b){var c=0;a.widget("ui.autocomplete",{options:{appendTo:"body",autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null},pending:0,_create:function(){var b=this,c=this.element[0].ownerDocument,d;this.isMultiLine=this.element.is("textarea"),this.element.addClass("ui-autocomplete-input").attr("autocomplete","off").attr({role:"textbox","aria-autocomplete":"list","aria-haspopup":"true"}).bind("keydown.autocomplete",function(c){if(b.options.disabled||b.element.propAttr("readOnly"))return;d=!1;var e=a.ui.keyCode;switch(c.keyCode){case e.PAGE_UP:b._move("previousPage",c);break;case e.PAGE_DOWN:b._move("nextPage",c);break;case e.UP:b._keyEvent("previous",c);break;case e.DOWN:b._keyEvent("next",c);break;case e.ENTER:case e.NUMPAD_ENTER:b.menu.active&&(d=!0,c.preventDefault());case e.TAB:if(!b.menu.active)return;b.menu.select(c);break;case e.ESCAPE:b.element.val(b.term),b.close(c);break;default:clearTimeout(b.searching),b.searching=setTimeout(function(){b.term!=b.element.val()&&(b.selectedItem=null,b.search(null,c))},b.options.delay)}}).bind("keypress.autocomplete",function(a){d&&(d=!1,a.preventDefault())}).bind("focus.autocomplete",function(){if(b.options.disabled)return;b.selectedItem=null,b.previous=b.element.val()}).bind("blur.autocomplete",function(a){if(b.options.disabled)return;clearTimeout(b.searching),b.closing=setTimeout(function(){b.close(a),b._change(a)},150)}),this._initSource(),this.menu=a("<ul></ul>").addClass("ui-autocomplete").appendTo(a(this.options.appendTo||"body",c)[0]).mousedown(function(c){var d=b.menu.element[0];a(c.target).closest(".ui-menu-item").length||setTimeout(function(){a(document).one("mousedown",function(c){c.target!==b.element[0]&&c.target!==d&&!a.ui.contains(d,c.target)&&b.close()})},1),setTimeout(function(){clearTimeout(b.closing)},13)}).menu({focus:function(a,c){var d=c.item.data("item.autocomplete");!1!==b._trigger("focus",a,{item:d})&&/^key/.test(a.originalEvent.type)&&b.element.val(d.value)},selected:function(a,d){var e=d.item.data("item.autocomplete"),f=b.previous;b.element[0]!==c.activeElement&&(b.element.focus(),b.previous=f,setTimeout(function(){b.previous=f,b.selectedItem=e},1)),!1!==b._trigger("select",a,{item:e})&&b.element.val(e.value),b.term=b.element.val(),b.close(a),b.selectedItem=e},blur:function(a,c){b.menu.element.is(":visible")&&b.element.val()!==b.term&&b.element.val(b.term)}}).zIndex(this.element.zIndex()+1).css({top:0,left:0}).hide().data("menu"),a.fn.bgiframe&&this.menu.element.bgiframe(),b.beforeunloadHandler=function(){b.element.removeAttr("autocomplete")},a(window).bind("beforeunload",b.beforeunloadHandler)},destroy:function(){this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete").removeAttr("role").removeAttr("aria-autocomplete").removeAttr("aria-haspopup"),this.menu.element.remove(),a(window).unbind("beforeunload",this.beforeunloadHandler),a.Widget.prototype.destroy.call(this)},_setOption:function(b,c){a.Widget.prototype._setOption.apply(this,arguments),b==="source"&&this._initSource(),b==="appendTo"&&this.menu.element.appendTo(a(c||"body",this.element[0].ownerDocument)[0]),b==="disabled"&&c&&this.xhr&&this.xhr.abort()},_initSource:function(){var b=this,c,d;a.isArray(this.options.source)?(c=this.options.source,this.source=function(b,d){d(a.ui.autocomplete.filter(c,b.term))}):typeof this.options.source=="string"?(d=this.options.source,this.source=function(c,e){b.xhr&&b.xhr.abort(),b.xhr=a.ajax({url:d,data:c,dataType:"json",success:function(a,b){e(a)},error:function(){e([])}})}):this.source=this.options.source},search:function(a,b){a=a!=null?a:this.element.val(),this.term=this.element.val();if(a.length<this.options.minLength)return this.close(b);clearTimeout(this.closing);if(this._trigger("search",b)===!1)return;return this._search(a)},_search:function(a){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.source({term:a},this._response())},_response:function(){var a=this,b=++c;return function(d){b===c&&a.__response(d),a.pending--,a.pending||a.element.removeClass("ui-autocomplete-loading")}},__response:function(a){!this.options.disabled&&a&&a.length?(a=this._normalize(a),this._suggest(a),this._trigger("open")):this.close()},close:function(a){clearTimeout(this.closing),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.deactivate(),this._trigger("close",a))},_change:function(a){this.previous!==this.element.val()&&this._trigger("change",a,{item:this.selectedItem})},_normalize:function(b){return b.length&&b[0].label&&b[0].value?b:a.map(b,function(b){return typeof b=="string"?{label:b,value:b}:a.extend({label:b.label||b.value,value:b.value||b.label},b)})},_suggest:function(b){var c=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(c,b),this.menu.deactivate(),this.menu.refresh(),c.show(),this._resizeMenu(),c.position(a.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(new a.Event("mouseover"))},_resizeMenu:function(){var a=this.menu.element;a.outerWidth(Math.max(a.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(b,c){var d=this;a.each(c,function(a,c){d._renderItem(b,c)})},_renderItem:function(b,c){return a("<li></li>").data("item.autocomplete",c).append(a("<a></a>").text(c.label)).appendTo(b)},_move:function(a,b){if(!this.menu.element.is(":visible")){this.search(null,b);return}if(this.menu.first()&&/^previous/.test(a)||this.menu.last()&&/^next/.test(a)){this.element.val(this.term),this.menu.deactivate();return}this.menu[a](b)},widget:function(){return this.menu.element},_keyEvent:function(a,b){if(!this.isMultiLine||this.menu.element.is(":visible"))this._move(a,b),b.preventDefault()}}),a.extend(a.ui.autocomplete,{escapeRegex:function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},filter:function(b,c){var d=new RegExp(a.ui.autocomplete.escapeRegex(c),"i");return a.grep(b,function(a){return d.test(a.label||a.value||a)})}})})(jQuery),function(a){a.widget("ui.menu",{_create:function(){var b=this;this.element.addClass("ui-menu ui-widget ui-widget-content ui-corner-all").attr({role:"listbox","aria-activedescendant":"ui-active-menuitem"}).click(function(c){if(!a(c.target).closest(".ui-menu-item a").length)return;c.preventDefault(),b.select(c)}),this.refresh()},refresh:function(){var b=this,c=this.element.children("li:not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","menuitem");c.children("a").addClass("ui-corner-all").attr("tabindex",-1).mouseenter(function(c){b.activate(c,a(this).parent())}).mouseleave(function(){b.deactivate()})},activate:function(a,b){this.deactivate();if(this.hasScroll()){var c=b.offset().top-this.element.offset().top,d=this.element.scrollTop(),e=this.element.height();c<0?this.element.scrollTop(d+c):c>=e&&this.element.scrollTop(d+c-e+b.height())}this.active=b.eq(0).children("a").addClass("ui-state-hover").attr("id","ui-active-menuitem").end(),this._trigger("focus",a,{item:b})},deactivate:function(){if(!this.active)return;this.active.children("a").removeClass("ui-state-hover").removeAttr("id"),this._trigger("blur"),this.active=null},next:function(a){this.move("next",".ui-menu-item:first",a)},previous:function(a){this.move("prev",".ui-menu-item:last",a)},first:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},last:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},move:function(a,b,c){if(!this.active){this.activate(c,this.element.children(b));return}var d=this.active[a+"All"](".ui-menu-item").eq(0);d.length?this.activate(c,d):this.activate(c,this.element.children(b))},nextPage:function(b){if(this.hasScroll()){if(!this.active||this.last()){this.activate(b,this.element.children(".ui-menu-item:first"));return}var c=this.active.offset().top,d=this.element.height(),e=this.element.children(".ui-menu-item").filter(function(){var b=a(this).offset().top-c-d+a(this).height();return b<10&&b>-10});e.length||(e=this.element.children(".ui-menu-item:last")),this.activate(b,e)}else this.activate(b,this.element.children(".ui-menu-item").filter(!this.active||this.last()?":first":":last"))},previousPage:function(b){if(this.hasScroll()){if(!this.active||this.first()){this.activate(b,this.element.children(".ui-menu-item:last"));return}var c=this.active.offset().top,d=this.element.height(),e=this.element.children(".ui-menu-item").filter(function(){var b=a(this).offset().top-c+d-a(this).height();return b<10&&b>-10});e.length||(e=this.element.children(".ui-menu-item:first")),this.activate(b,e)}else this.activate(b,this.element.children(".ui-menu-item").filter(!this.active||this.first()?":last":":first"))},hasScroll:function(){return this.element.height()<this.element[a.fn.prop?"prop":"attr"]("scrollHeight")},select:function(a){this._trigger("selected",a,{item:this.active})}})}(jQuery);;(function($,undefined){function Datepicker(){this.debug=!1,this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},$.extend(this._defaults,this.regional[""]),this.dpDiv=bindHover($('<div id="'+this._mainDivId+'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>'))}function bindHover(a){var b="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return a.bind("mouseout",function(a){var c=$(a.target).closest(b);if(!c.length)return;c.removeClass("ui-state-hover ui-datepicker-prev-hover ui-datepicker-next-hover")}).bind("mouseover",function(c){var d=$(c.target).closest(b);if($.datepicker._isDisabledDatepicker(instActive.inline?a.parent()[0]:instActive.input[0])||!d.length)return;d.parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),d.addClass("ui-state-hover"),d.hasClass("ui-datepicker-prev")&&d.addClass("ui-datepicker-prev-hover"),d.hasClass("ui-datepicker-next")&&d.addClass("ui-datepicker-next-hover")})}function extendRemove(a,b){$.extend(a,b);for(var c in b)if(b[c]==null||b[c]==undefined)a[c]=b[c];return a}function isArray(a){return a&&($.browser.safari&&typeof a=="object"&&a.length||a.constructor&&a.constructor.toString().match(/\Array\(\)/))}$.extend($.ui,{datepicker:{version:"1.8.20"}});var PROP_NAME="datepicker",dpuuid=(new Date).getTime(),instActive;$.extend(Datepicker.prototype,{markerClassName:"hasDatepicker",maxRows:4,log:function(){this.debug&&console.log.apply("",arguments)},_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(a){return extendRemove(this._defaults,a||{}),this},_attachDatepicker:function(target,settings){var inlineSettings=null;for(var attrName in this._defaults){var attrValue=target.getAttribute("date:"+attrName);if(attrValue){inlineSettings=inlineSettings||{};try{inlineSettings[attrName]=eval(attrValue)}catch(err){inlineSettings[attrName]=attrValue}}}var nodeName=target.nodeName.toLowerCase(),inline=nodeName=="div"||nodeName=="span";target.id||(this.uuid+=1,target.id="dp"+this.uuid);var inst=this._newInst($(target),inline);inst.settings=$.extend({},settings||{},inlineSettings||{}),nodeName=="input"?this._connectDatepicker(target,inst):inline&&this._inlineDatepicker(target,inst)},_newInst:function(a,b){var c=a[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1");return{id:c,input:a,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:b,dpDiv:b?bindHover($('<div class="'+this._inlineClass+' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>')):this.dpDiv}},_connectDatepicker:function(a,b){var c=$(a);b.append=$([]),b.trigger=$([]);if(c.hasClass(this.markerClassName))return;this._attachments(c,b),c.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp).bind("setData.datepicker",function(a,c,d){b.settings[c]=d}).bind("getData.datepicker",function(a,c){return this._get(b,c)}),this._autoSize(b),$.data(a,PROP_NAME,b),b.settings.disabled&&this._disableDatepicker(a)},_attachments:function(a,b){var c=this._get(b,"appendText"),d=this._get(b,"isRTL");b.append&&b.append.remove(),c&&(b.append=$('<span class="'+this._appendClass+'">'+c+"</span>"),a[d?"before":"after"](b.append)),a.unbind("focus",this._showDatepicker),b.trigger&&b.trigger.remove();var e=this._get(b,"showOn");(e=="focus"||e=="both")&&a.focus(this._showDatepicker);if(e=="button"||e=="both"){var f=this._get(b,"buttonText"),g=this._get(b,"buttonImage");b.trigger=$(this._get(b,"buttonImageOnly")?$("<img/>").addClass(this._triggerClass).attr({src:g,alt:f,title:f}):$('<button type="button"></button>').addClass(this._triggerClass).html(g==""?f:$("<img/>").attr({src:g,alt:f,title:f}))),a[d?"before":"after"](b.trigger),b.trigger.click(function(){return $.datepicker._datepickerShowing&&$.datepicker._lastInput==a[0]?$.datepicker._hideDatepicker():$.datepicker._datepickerShowing&&$.datepicker._lastInput!=a[0]?($.datepicker._hideDatepicker(),$.datepicker._showDatepicker(a[0])):$.datepicker._showDatepicker(a[0]),!1})}},_autoSize:function(a){if(this._get(a,"autoSize")&&!a.inline){var b=new Date(2009,11,20),c=this._get(a,"dateFormat");if(c.match(/[DM]/)){var d=function(a){var b=0,c=0;for(var d=0;d<a.length;d++)a[d].length>b&&(b=a[d].length,c=d);return c};b.setMonth(d(this._get(a,c.match(/MM/)?"monthNames":"monthNamesShort"))),b.setDate(d(this._get(a,c.match(/DD/)?"dayNames":"dayNamesShort"))+20-b.getDay())}a.input.attr("size",this._formatDate(a,b).length)}},_inlineDatepicker:function(a,b){var c=$(a);if(c.hasClass(this.markerClassName))return;c.addClass(this.markerClassName).append(b.dpDiv).bind("setData.datepicker",function(a,c,d){b.settings[c]=d}).bind("getData.datepicker",function(a,c){return this._get(b,c)}),$.data(a,PROP_NAME,b),this._setDate(b,this._getDefaultDate(b),!0),this._updateDatepicker(b),this._updateAlternate(b),b.settings.disabled&&this._disableDatepicker(a),b.dpDiv.css("display","block")},_dialogDatepicker:function(a,b,c,d,e){var f=this._dialogInst;if(!f){this.uuid+=1;var g="dp"+this.uuid;this._dialogInput=$('<input type="text" id="'+g+'" style="position: absolute; top: -100px; width: 0px; z-index: -10;"/>'),this._dialogInput.keydown(this._doKeyDown),$("body").append(this._dialogInput),f=this._dialogInst=this._newInst(this._dialogInput,!1),f.settings={},$.data(this._dialogInput[0],PROP_NAME,f)}extendRemove(f.settings,d||{}),b=b&&b.constructor==Date?this._formatDate(f,b):b,this._dialogInput.val(b),this._pos=e?e.length?e:[e.pageX,e.pageY]:null;if(!this._pos){var h=document.documentElement.clientWidth,i=document.documentElement.clientHeight,j=document.documentElement.scrollLeft||document.body.scrollLeft,k=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[h/2-100+j,i/2-150+k]}return this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),f.settings.onSelect=c,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),$.blockUI&&$.blockUI(this.dpDiv),$.data(this._dialogInput[0],PROP_NAME,f),this},_destroyDatepicker:function(a){var b=$(a),c=$.data(a,PROP_NAME);if(!b.hasClass(this.markerClassName))return;var d=a.nodeName.toLowerCase();$.removeData(a,PROP_NAME),d=="input"?(c.append.remove(),c.trigger.remove(),b.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):(d=="div"||d=="span")&&b.removeClass(this.markerClassName).empty()},_enableDatepicker:function(a){var b=$(a),c=$.data(a,PROP_NAME);if(!b.hasClass(this.markerClassName))return;var d=a.nodeName.toLowerCase();if(d=="input")a.disabled=!1,c.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""});else if(d=="div"||d=="span"){var e=b.children("."+this._inlineClass);e.children().removeClass("ui-state-disabled"),e.find("select.ui-datepicker-month, select.ui-datepicker-year").removeAttr("disabled")}this._disabledInputs=$.map(this._disabledInputs,function(b){return b==a?null:b})},_disableDatepicker:function(a){var b=$(a),c=$.data(a,PROP_NAME);if(!b.hasClass(this.markerClassName))return;var d=a.nodeName.toLowerCase();if(d=="input")a.disabled=!0,c.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"});else if(d=="div"||d=="span"){var e=b.children("."+this._inlineClass);e.children().addClass("ui-state-disabled"),e.find("select.ui-datepicker-month, select.ui-datepicker-year").attr("disabled","disabled")}this._disabledInputs=$.map(this._disabledInputs,function(b){return b==a?null:b}),this._disabledInputs[this._disabledInputs.length]=a},_isDisabledDatepicker:function(a){if(!a)return!1;for(var b=0;b<this._disabledInputs.length;b++)if(this._disabledInputs[b]==a)return!0;return!1},_getInst:function(a){try{return $.data(a,PROP_NAME)}catch(b){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(a,b,c){var d=this._getInst(a);if(arguments.length==2&&typeof b=="string")return b=="defaults"?$.extend({},$.datepicker._defaults):d?b=="all"?$.extend({},d.settings):this._get(d,b):null;var e=b||{};typeof b=="string"&&(e={},e[b]=c);if(d){this._curInst==d&&this._hideDatepicker();var f=this._getDateDatepicker(a,!0),g=this._getMinMaxDate(d,"min"),h=this._getMinMaxDate(d,"max");extendRemove(d.settings,e),g!==null&&e.dateFormat!==undefined&&e.minDate===undefined&&(d.settings.minDate=this._formatDate(d,g)),h!==null&&e.dateFormat!==undefined&&e.maxDate===undefined&&(d.settings.maxDate=this._formatDate(d,h)),this._attachments($(a),d),this._autoSize(d),this._setDate(d,f),this._updateAlternate(d),this._updateDatepicker(d)}},_changeDatepicker:function(a,b,c){this._optionDatepicker(a,b,c)},_refreshDatepicker:function(a){var b=this._getInst(a);b&&this._updateDatepicker(b)},_setDateDatepicker:function(a,b){var c=this._getInst(a);c&&(this._setDate(c,b),this._updateDatepicker(c),this._updateAlternate(c))},_getDateDatepicker:function(a,b){var c=this._getInst(a);return c&&!c.inline&&this._setDateFromField(c,b),c?this._getDate(c):null},_doKeyDown:function(a){var b=$.datepicker._getInst(a.target),c=!0,d=b.dpDiv.is(".ui-datepicker-rtl");b._keyEvent=!0;if($.datepicker._datepickerShowing)switch(a.keyCode){case 9:$.datepicker._hideDatepicker(),c=!1;break;case 13:var e=$("td."+$.datepicker._dayOverClass+":not(."+$.datepicker._currentClass+")",b.dpDiv);e[0]&&$.datepicker._selectDay(a.target,b.selectedMonth,b.selectedYear,e[0]);var f=$.datepicker._get(b,"onSelect");if(f){var g=$.datepicker._formatDate(b);f.apply(b.input?b.input[0]:null,[g,b])}else $.datepicker._hideDatepicker();return!1;case 27:$.datepicker._hideDatepicker();break;case 33:$.datepicker._adjustDate(a.target,a.ctrlKey?-$.datepicker._get(b,"stepBigMonths"):-$.datepicker._get(b,"stepMonths"),"M");break;case 34:$.datepicker._adjustDate(a.target,a.ctrlKey?+$.datepicker._get(b,"stepBigMonths"):+$.datepicker._get(b,"stepMonths"),"M");break;case 35:(a.ctrlKey||a.metaKey)&&$.datepicker._clearDate(a.target),c=a.ctrlKey||a.metaKey;break;case 36:(a.ctrlKey||a.metaKey)&&$.datepicker._gotoToday(a.target),c=a.ctrlKey||a.metaKey;break;case 37:(a.ctrlKey||a.metaKey)&&$.datepicker._adjustDate(a.target,d?1:-1,"D"),c=a.ctrlKey||a.metaKey,a.originalEvent.altKey&&$.datepicker._adjustDate(a.target,a.ctrlKey?-$.datepicker._get(b,"stepBigMonths"):-$.datepicker._get(b,"stepMonths"),"M");break;case 38:(a.ctrlKey||a.metaKey)&&$.datepicker._adjustDate(a.target,-7,"D"),c=a.ctrlKey||a.metaKey;break;case 39:(a.ctrlKey||a.metaKey)&&$.datepicker._adjustDate(a.target,d?-1:1,"D"),c=a.ctrlKey||a.metaKey,a.originalEvent.altKey&&$.datepicker._adjustDate(a.target,a.ctrlKey?+$.datepicker._get(b,"stepBigMonths"):+$.datepicker._get(b,"stepMonths"),"M");break;case 40:(a.ctrlKey||a.metaKey)&&$.datepicker._adjustDate(a.target,7,"D"),c=a.ctrlKey||a.metaKey;break;default:c=!1}else a.keyCode==36&&a.ctrlKey?$.datepicker._showDatepicker(this):c=!1;c&&(a.preventDefault(),a.stopPropagation())},_doKeyPress:function(a){var b=$.datepicker._getInst(a.target);if($.datepicker._get(b,"constrainInput")){var c=$.datepicker._possibleChars($.datepicker._get(b,"dateFormat")),d=String.fromCharCode(a.charCode==undefined?a.keyCode:a.charCode);return a.ctrlKey||a.metaKey||d<" "||!c||c.indexOf(d)>-1}},_doKeyUp:function(a){var b=$.datepicker._getInst(a.target);if(b.input.val()!=b.lastVal)try{var c=$.datepicker.parseDate($.datepicker._get(b,"dateFormat"),b.input?b.input.val():null,$.datepicker._getFormatConfig(b));c&&($.datepicker._setDateFromField(b),$.datepicker._updateAlternate(b),$.datepicker._updateDatepicker(b))}catch(d){$.datepicker.log(d)}return!0},_showDatepicker:function(a){a=a.target||a,a.nodeName.toLowerCase()!="input"&&(a=$("input",a.parentNode)[0]);if($.datepicker._isDisabledDatepicker(a)||$.datepicker._lastInput==a)return;var b=$.datepicker._getInst(a);$.datepicker._curInst&&$.datepicker._curInst!=b&&($.datepicker._curInst.dpDiv.stop(!0,!0),b&&$.datepicker._datepickerShowing&&$.datepicker._hideDatepicker($.datepicker._curInst.input[0]));var c=$.datepicker._get(b,"beforeShow"),d=c?c.apply(a,[a,b]):{};if(d===!1)return;extendRemove(b.settings,d),b.lastVal=null,$.datepicker._lastInput=a,$.datepicker._setDateFromField(b),$.datepicker._inDialog&&(a.value=""),$.datepicker._pos||($.datepicker._pos=$.datepicker._findPos(a),$.datepicker._pos[1]+=a.offsetHeight);var e=!1;$(a).parents().each(function(){return e|=$(this).css("position")=="fixed",!e}),e&&$.browser.opera&&($.datepicker._pos[0]-=document.documentElement.scrollLeft,$.datepicker._pos[1]-=document.documentElement.scrollTop);var f={left:$.datepicker._pos[0],top:$.datepicker._pos[1]};$.datepicker._pos=null,b.dpDiv.empty(),b.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),$.datepicker._updateDatepicker(b),f=$.datepicker._checkOffset(b,f,e),b.dpDiv.css({position:$.datepicker._inDialog&&$.blockUI?"static":e?"fixed":"absolute",display:"none",left:f.left+"px",top:f.top+"px"});if(!b.inline){var g=$.datepicker._get(b,"showAnim"),h=$.datepicker._get(b,"duration"),i=function(){var a=b.dpDiv.find("iframe.ui-datepicker-cover");if(!!a.length){var c=$.datepicker._getBorders(b.dpDiv);a.css({left:-c[0],top:-c[1],width:b.dpDiv.outerWidth(),height:b.dpDiv.outerHeight()})}};b.dpDiv.zIndex($(a).zIndex()+1),$.datepicker._datepickerShowing=!0,$.effects&&$.effects[g]?b.dpDiv.show(g,$.datepicker._get(b,"showOptions"),h,i):b.dpDiv[g||"show"](g?h:null,i),(!g||!h)&&i(),b.input.is(":visible")&&!b.input.is(":disabled")&&b.input.focus(),$.datepicker._curInst=b}},_updateDatepicker:function(a){var b=this;b.maxRows=4;var c=$.datepicker._getBorders(a.dpDiv);instActive=a,a.dpDiv.empty().append(this._generateHTML(a));var d=a.dpDiv.find("iframe.ui-datepicker-cover");!d.length||d.css({left:-c[0],top:-c[1],width:a.dpDiv.outerWidth(),height:a.dpDiv.outerHeight()}),a.dpDiv.find("."+this._dayOverClass+" a").mouseover();var e=this._getNumberOfMonths(a),f=e[1],g=17;a.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),f>1&&a.dpDiv.addClass("ui-datepicker-multi-"+f).css("width",g*f+"em"),a.dpDiv[(e[0]!=1||e[1]!=1?"add":"remove")+"Class"]("ui-datepicker-multi"),a.dpDiv[(this._get(a,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),a==$.datepicker._curInst&&$.datepicker._datepickerShowing&&a.input&&a.input.is(":visible")&&!a.input.is(":disabled")&&a.input[0]!=document.activeElement&&a.input.focus();if(a.yearshtml){var h=a.yearshtml;setTimeout(function(){h===a.yearshtml&&a.yearshtml&&a.dpDiv.find("select.ui-datepicker-year:first").replaceWith(a.yearshtml),h=a.yearshtml=null},0)}},_getBorders:function(a){var b=function(a){return{thin:1,medium:2,thick:3}[a]||a};return[parseFloat(b(a.css("border-left-width"))),parseFloat(b(a.css("border-top-width")))]},_checkOffset:function(a,b,c){var d=a.dpDiv.outerWidth(),e=a.dpDiv.outerHeight(),f=a.input?a.input.outerWidth():0,g=a.input?a.input.outerHeight():0,h=document.documentElement.clientWidth+$(document).scrollLeft(),i=document.documentElement.clientHeight+$(document).scrollTop();return b.left-=this._get(a,"isRTL")?d-f:0,b.left-=c&&b.left==a.input.offset().left?$(document).scrollLeft():0,b.top-=c&&b.top==a.input.offset().top+g?$(document).scrollTop():0,b.left-=Math.min(b.left,b.left+d>h&&h>d?Math.abs(b.left+d-h):0),b.top-=Math.min(b.top,b.top+e>i&&i>e?Math.abs(e+g):0),b},_findPos:function(a){var b=this._getInst(a),c=this._get(b,"isRTL");while(a&&(a.type=="hidden"||a.nodeType!=1||$.expr.filters.hidden(a)))a=a[c?"previousSibling":"nextSibling"];var d=$(a).offset();return[d.left,d.top]},_hideDatepicker:function(a){var b=this._curInst;if(!b||a&&b!=$.data(a,PROP_NAME))return;if(this._datepickerShowing){var c=this._get(b,"showAnim"),d=this._get(b,"duration"),e=function(){$.datepicker._tidyDialog(b)};$.effects&&$.effects[c]?b.dpDiv.hide(c,$.datepicker._get(b,"showOptions"),d,e):b.dpDiv[c=="slideDown"?"slideUp":c=="fadeIn"?"fadeOut":"hide"](c?d:null,e),c||e(),this._datepickerShowing=!1;var f=this._get(b,"onClose");f&&f.apply(b.input?b.input[0]:null,[b.input?b.input.val():"",b]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),$.blockUI&&($.unblockUI(),$("body").append(this.dpDiv))),this._inDialog=!1}},_tidyDialog:function(a){a.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(a){if(!$.datepicker._curInst)return;var b=$(a.target),c=$.datepicker._getInst(b[0]);(b[0].id!=$.datepicker._mainDivId&&b.parents("#"+$.datepicker._mainDivId).length==0&&!b.hasClass($.datepicker.markerClassName)&&!b.closest("."+$.datepicker._triggerClass).length&&$.datepicker._datepickerShowing&&(!$.datepicker._inDialog||!$.blockUI)||b.hasClass($.datepicker.markerClassName)&&$.datepicker._curInst!=c)&&$.datepicker._hideDatepicker()},_adjustDate:function(a,b,c){var d=$(a),e=this._getInst(d[0]);if(this._isDisabledDatepicker(d[0]))return;this._adjustInstDate(e,b+(c=="M"?this._get(e,"showCurrentAtPos"):0),c),this._updateDatepicker(e)},_gotoToday:function(a){var b=$(a),c=this._getInst(b[0]);if(this._get(c,"gotoCurrent")&&c.currentDay)c.selectedDay=c.currentDay,c.drawMonth=c.selectedMonth=c.currentMonth,c.drawYear=c.selectedYear=c.currentYear;else{var d=new Date;c.selectedDay=d.getDate(),c.drawMonth=c.selectedMonth=d.getMonth(),c.drawYear=c.selectedYear=d.getFullYear()}this._notifyChange(c),this._adjustDate(b)},_selectMonthYear:function(a,b,c){var d=$(a),e=this._getInst(d[0]);e["selected"+(c=="M"?"Month":"Year")]=e["draw"+(c=="M"?"Month":"Year")]=parseInt(b.options[b.selectedIndex].value,10),this._notifyChange(e),this._adjustDate(d)},_selectDay:function(a,b,c,d){var e=$(a);if($(d).hasClass(this._unselectableClass)||this._isDisabledDatepicker(e[0]))return;var f=this._getInst(e[0]);f.selectedDay=f.currentDay=$("a",d).html(),f.selectedMonth=f.currentMonth=b,f.selectedYear=f.currentYear=c,this._selectDate(a,this._formatDate(f,f.currentDay,f.currentMonth,f.currentYear))},_clearDate:function(a){var b=$(a),c=this._getInst(b[0]);this._selectDate(b,"")},_selectDate:function(a,b){var c=$(a),d=this._getInst(c[0]);b=b!=null?b:this._formatDate(d),d.input&&d.input.val(b),this._updateAlternate(d);var e=this._get(d,"onSelect");e?e.apply(d.input?d.input[0]:null,[b,d]):d.input&&d.input.trigger("change"),d.inline?this._updateDatepicker(d):(this._hideDatepicker(),this._lastInput=d.input[0],typeof d.input[0]!="object"&&d.input.focus(),this._lastInput=null)},_updateAlternate:function(a){var b=this._get(a,"altField");if(b){var c=this._get(a,"altFormat")||this._get(a,"dateFormat"),d=this._getDate(a),e=this.formatDate(c,d,this._getFormatConfig(a));$(b).each(function(){$(this).val(e)})}},noWeekends:function(a){var b=a.getDay();return[b>0&&b<6,""]},iso8601Week:function(a){var b=new Date(a.getTime());b.setDate(b.getDate()+4-(b.getDay()||7));var c=b.getTime();return b.setMonth(0),b.setDate(1),Math.floor(Math.round((c-b)/864e5)/7)+1},parseDate:function(a,b,c){if(a==null||b==null)throw"Invalid arguments";b=typeof b=="object"?b.toString():b+"";if(b=="")return null;var d=(c?c.shortYearCutoff:null)||this._defaults.shortYearCutoff;d=typeof d!="string"?d:(new Date).getFullYear()%100+parseInt(d,10);var e=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,f=(c?c.dayNames:null)||this._defaults.dayNames,g=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort,h=(c?c.monthNames:null)||this._defaults.monthNames,i=-1,j=-1,k=-1,l=-1,m=!1,n=function(b){var c=s+1<a.length&&a.charAt(s+1)==b;return c&&s++,c},o=function(a){var c=n(a),d=a=="@"?14:a=="!"?20:a=="y"&&c?4:a=="o"?3:2,e=new RegExp("^\\d{1,"+d+"}"),f=b.substring(r).match(e);if(!f)throw"Missing number at position "+r;return r+=f[0].length,parseInt(f[0],10)},p=function(a,c,d){var e=$.map(n(a)?d:c,function(a,b){return[[b,a]]}).sort(function(a,b){return-(a[1].length-b[1].length)}),f=-1;$.each(e,function(a,c){var d=c[1];if(b.substr(r,d.length).toLowerCase()==d.toLowerCase())return f=c[0],r+=d.length,!1});if(f!=-1)return f+1;throw"Unknown name at position "+r},q=function(){if(b.charAt(r)!=a.charAt(s))throw"Unexpected literal at position "+r;r++},r=0;for(var s=0;s<a.length;s++)if(m)a.charAt(s)=="'"&&!n("'")?m=!1:q();else switch(a.charAt(s)){case"d":k=o("d");break;case"D":p("D",e,f);break;case"o":l=o("o");break;case"m":j=o("m");break;case"M":j=p("M",g,h);break;case"y":i=o("y");break;case"@":var t=new Date(o("@"));i=t.getFullYear(),j=t.getMonth()+1,k=t.getDate();break;case"!":var t=new Date((o("!")-this._ticksTo1970)/1e4);i=t.getFullYear(),j=t.getMonth()+1,k=t.getDate();break;case"'":n("'")?q():m=!0;break;default:q()}if(r<b.length)throw"Extra/unparsed characters found in date: "+b.substring(r);i==-1?i=(new Date).getFullYear():i<100&&(i+=(new Date).getFullYear()-(new Date).getFullYear()%100+(i<=d?0:-100));if(l>-1){j=1,k=l;do{var u=this._getDaysInMonth(i,j-1);if(k<=u)break;j++,k-=u}while(!0)}var t=this._daylightSavingAdjust(new Date(i,j-1,k));if(t.getFullYear()!=i||t.getMonth()+1!=j||t.getDate()!=k)throw"Invalid date";return t},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*24*60*60*1e7,formatDate:function(a,b,c){if(!b)return"";var d=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,e=(c?c.dayNames:null)||this._defaults.dayNames,f=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort,g=(c?c.monthNames:null)||this._defaults.monthNames,h=function(b){var c=m+1<a.length&&a.charAt(m+1)==b;return c&&m++,c},i=function(a,b,c){var d=""+b;if(h(a))while(d.length<c)d="0"+d;return d},j=function(a,b,c,d){return h(a)?d[b]:c[b]},k="",l=!1;if(b)for(var m=0;m<a.length;m++)if(l)a.charAt(m)=="'"&&!h("'")?l=!1:k+=a.charAt(m);else switch(a.charAt(m)){case"d":k+=i("d",b.getDate(),2);break;case"D":k+=j("D",b.getDay(),d,e);break;case"o":k+=i("o",Math.round(((new Date(b.getFullYear(),b.getMonth(),b.getDate())).getTime()-(new Date(b.getFullYear(),0,0)).getTime())/864e5),3);break;case"m":k+=i("m",b.getMonth()+1,2);break;case"M":k+=j("M",b.getMonth(),f,g);break;case"y":k+=h("y")?b.getFullYear():(b.getYear()%100<10?"0":"")+b.getYear()%100;break;case"@":k+=b.getTime();break;case"!":k+=b.getTime()*1e4+this._ticksTo1970;break;case"'":h("'")?k+="'":l=!0;break;default:k+=a.charAt(m)}return k},_possibleChars:function(a){var b="",c=!1,d=function(b){var c=e+1<a.length&&a.charAt(e+1)==b;return c&&e++,c};for(var e=0;e<a.length;e++)if(c)a.charAt(e)=="'"&&!d("'")?c=!1:b+=a.charAt(e);else switch(a.charAt(e)){case"d":case"m":case"y":case"@":b+="0123456789";break;case"D":case"M":return null;case"'":d("'")?b+="'":c=!0;break;default:b+=a.charAt(e)}return b},_get:function(a,b){return a.settings[b]!==undefined?a.settings[b]:this._defaults[b]},_setDateFromField:function(a,b){if(a.input.val()==a.lastVal)return;var c=this._get(a,"dateFormat"),d=a.lastVal=a.input?a.input.val():null,e,f;e=f=this._getDefaultDate(a);var g=this._getFormatConfig(a);try{e=this.parseDate(c,d,g)||f}catch(h){this.log(h),d=b?"":d}a.selectedDay=e.getDate(),a.drawMonth=a.selectedMonth=e.getMonth(),a.drawYear=a.selectedYear=e.getFullYear(),a.currentDay=d?e.getDate():0,a.currentMonth=d?e.getMonth():0,a.currentYear=d?e.getFullYear():0,this._adjustInstDate(a)},_getDefaultDate:function(a){return this._restrictMinMax(a,this._determineDate(a,this._get(a,"defaultDate"),new Date))},_determineDate:function(a,b,c){var d=function(a){var b=new Date;return b.setDate(b.getDate()+a),b},e=function(b){try{return $.datepicker.parseDate($.datepicker._get(a,"dateFormat"),b,$.datepicker._getFormatConfig(a))}catch(c){}var d=(b.toLowerCase().match(/^c/)?$.datepicker._getDate(a):null)||new Date,e=d.getFullYear(),f=d.getMonth(),g=d.getDate(),h=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,i=h.exec(b);while(i){switch(i[2]||"d"){case"d":case"D":g+=parseInt(i[1],10);break;case"w":case"W":g+=parseInt(i[1],10)*7;break;case"m":case"M":f+=parseInt(i[1],10),g=Math.min(g,$.datepicker._getDaysInMonth(e,f));break;case"y":case"Y":e+=parseInt(i[1],10),g=Math.min(g,$.datepicker._getDaysInMonth(e,f))}i=h.exec(b)}return new Date(e,f,g)},f=b==null||b===""?c:typeof b=="string"?e(b):typeof b=="number"?isNaN(b)?c:d(b):new Date(b.getTime());return f=f&&f.toString()=="Invalid Date"?c:f,f&&(f.setHours(0),f.setMinutes(0),f.setSeconds(0),f.setMilliseconds(0)),this._daylightSavingAdjust(f)},_daylightSavingAdjust:function(a){return a?(a.setHours(a.getHours()>12?a.getHours()+2:0),a):null},_setDate:function(a,b,c){var d=!b,e=a.selectedMonth,f=a.selectedYear,g=this._restrictMinMax(a,this._determineDate(a,b,new Date));a.selectedDay=a.currentDay=g.getDate(),a.drawMonth=a.selectedMonth=a.currentMonth=g.getMonth(),a.drawYear=a.selectedYear=a.currentYear=g.getFullYear(),(e!=a.selectedMonth||f!=a.selectedYear)&&!c&&this._notifyChange(a),this._adjustInstDate(a),a.input&&a.input.val(d?"":this._formatDate(a))},_getDate:function(a){var b=!a.currentYear||a.input&&a.input.val()==""?null:this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return b},_generateHTML:function(a){var b=new Date;b=this._daylightSavingAdjust(new Date(b.getFullYear(),b.getMonth(),b.getDate()));var c=this._get(a,"isRTL"),d=this._get(a,"showButtonPanel"),e=this._get(a,"hideIfNoPrevNext"),f=this._get(a,"navigationAsDateFormat"),g=this._getNumberOfMonths(a),h=this._get(a,"showCurrentAtPos"),i=this._get(a,"stepMonths"),j=g[0]!=1||g[1]!=1,k=this._daylightSavingAdjust(a.currentDay?new Date(a.currentYear,a.currentMonth,a.currentDay):new Date(9999,9,9)),l=this._getMinMaxDate(a,"min"),m=this._getMinMaxDate(a,"max"),n=a.drawMonth-h,o=a.drawYear;n<0&&(n+=12,o--);if(m){var p=this._daylightSavingAdjust(new Date(m.getFullYear(),m.getMonth()-g[0]*g[1]+1,m.getDate()));p=l&&p<l?l:p;while(this._daylightSavingAdjust(new Date(o,n,1))>p)n--,n<0&&(n=11,o--)}a.drawMonth=n,a.drawYear=o;var q=this._get(a,"prevText");q=f?this.formatDate(q,this._daylightSavingAdjust(new Date(o,n-i,1)),this._getFormatConfig(a)):q;var r=this._canAdjustMonth(a,-1,o,n)?'<a class="ui-datepicker-prev ui-corner-all" onclick="DP_jQuery_'+dpuuid+".datepicker._adjustDate('#"+a.id+"', -"+i+", 'M');\""+' title="'+q+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"e":"w")+'">'+q+"</span></a>":e?"":'<a class="ui-datepicker-prev ui-corner-all ui-state-disabled" title="'+q+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"e":"w")+'">'+q+"</span></a>",s=this._get(a,"nextText");s=f?this.formatDate(s,this._daylightSavingAdjust(new Date(o,n+i,1)),this._getFormatConfig(a)):s;var t=this._canAdjustMonth(a,1,o,n)?'<a class="ui-datepicker-next ui-corner-all" onclick="DP_jQuery_'+dpuuid+".datepicker._adjustDate('#"+a.id+"', +"+i+", 'M');\""+' title="'+s+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"w":"e")+'">'+s+"</span></a>":e?"":'<a class="ui-datepicker-next ui-corner-all ui-state-disabled" title="'+s+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"w":"e")+'">'+s+"</span></a>",u=this._get(a,"currentText"),v=this._get(a,"gotoCurrent")&&a.currentDay?k:b;u=f?this.formatDate(u,v,this._getFormatConfig(a)):u;var w=a.inline?"":'<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" onclick="DP_jQuery_'+dpuuid+'.datepicker._hideDatepicker();">'+this._get(a,"closeText")+"</button>",x=d?'<div class="ui-datepicker-buttonpane ui-widget-content">'+(c?w:"")+(this._isInRange(a,v)?'<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" onclick="DP_jQuery_'+dpuuid+".datepicker._gotoToday('#"+a.id+"');\""+">"+u+"</button>":"")+(c?"":w)+"</div>":"",y=parseInt(this._get(a,"firstDay"),10);y=isNaN(y)?0:y;var z=this._get(a,"showWeek"),A=this._get(a,"dayNames"),B=this._get(a,"dayNamesShort"),C=this._get(a,"dayNamesMin"),D=this._get(a,"monthNames"),E=this._get(a,"monthNamesShort"),F=this._get(a,"beforeShowDay"),G=this._get(a,"showOtherMonths"),H=this._get(a,"selectOtherMonths"),I=this._get(a,"calculateWeek")||this.iso8601Week,J=this._getDefaultDate(a),K="";for(var L=0;L<g[0];L++){var M="";this.maxRows=4;for(var N=0;N<g[1];N++){var O=this._daylightSavingAdjust(new Date(o,n,a.selectedDay)),P=" ui-corner-all",Q="";if(j){Q+='<div class="ui-datepicker-group';if(g[1]>1)switch(N){case 0:Q+=" ui-datepicker-group-first",P=" ui-corner-"+(c?"right":"left");break;case g[1]-1:Q+=" ui-datepicker-group-last",P=" ui-corner-"+(c?"left":"right");break;default:Q+=" ui-datepicker-group-middle",P=""}Q+='">'}Q+='<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix'+P+'">'+(/all|left/.test(P)&&L==0?c?t:r:"")+(/all|right/.test(P)&&L==0?c?r:t:"")+this._generateMonthYearHeader(a,n,o,l,m,L>0||N>0,D,E)+'</div><table class="ui-datepicker-calendar"><thead>'+"<tr>";var R=z?'<th class="ui-datepicker-week-col">'+this._get(a,"weekHeader")+"</th>":"";for(var S=0;S<7;S++){var T=(S+y)%7;R+="<th"+((S+y+6)%7>=5?' class="ui-datepicker-week-end"':"")+">"+'<span title="'+A[T]+'">'+C[T]+"</span></th>"}Q+=R+"</tr></thead><tbody>";var U=this._getDaysInMonth(o,n);o==a.selectedYear&&n==a.selectedMonth&&(a.selectedDay=Math.min(a.selectedDay,U));var V=(this._getFirstDayOfMonth(o,n)-y+7)%7,W=Math.ceil((V+U)/7),X=j?this.maxRows>W?this.maxRows:W:W;this.maxRows=X;var Y=this._daylightSavingAdjust(new Date(o,n,1-V));for(var Z=0;Z<X;Z++){Q+="<tr>";var _=z?'<td class="ui-datepicker-week-col">'+this._get(a,"calculateWeek")(Y)+"</td>":"";for(var S=0;S<7;S++){var ba=F?F.apply(a.input?a.input[0]:null,[Y]):[!0,""],bb=Y.getMonth()!=n,bc=bb&&!H||!ba[0]||l&&Y<l||m&&Y>m;_+='<td class="'+((S+y+6)%7>=5?" ui-datepicker-week-end":"")+(bb?" ui-datepicker-other-month":"")+(Y.getTime()==O.getTime()&&n==a.selectedMonth&&a._keyEvent||J.getTime()==Y.getTime()&&J.getTime()==O.getTime()?" "+this._dayOverClass:"")+(bc?" "+this._unselectableClass+" ui-state-disabled":"")+(bb&&!G?"":" "+ba[1]+(Y.getTime()==k.getTime()?" "+this._currentClass:"")+(Y.getTime()==b.getTime()?" ui-datepicker-today":""))+'"'+((!bb||G)&&ba[2]?' title="'+ba[2]+'"':"")+(bc?"":' onclick="DP_jQuery_'+dpuuid+".datepicker._selectDay('#"+a.id+"',"+Y.getMonth()+","+Y.getFullYear()+', this);return false;"')+">"+(bb&&!G?"&#xa0;":bc?'<span class="ui-state-default">'+Y.getDate()+"</span>":'<a class="ui-state-default'+(Y.getTime()==b.getTime()?" ui-state-highlight":"")+(Y.getTime()==k.getTime()?" ui-state-active":"")+(bb?" ui-priority-secondary":"")+'" href="#">'+Y.getDate()+"</a>")+"</td>",Y.setDate(Y.getDate()+1),Y=this._daylightSavingAdjust(Y)}Q+=_+"</tr>"}n++,n>11&&(n=0,o++),Q+="</tbody></table>"+(j?"</div>"+(g[0]>0&&N==g[1]-1?'<div class="ui-datepicker-row-break"></div>':""):""),M+=Q}K+=M}return K+=x+($.browser.msie&&parseInt($.browser.version,10)<7&&!a.inline?'<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"></iframe>':""),a._keyEvent=!1,K},_generateMonthYearHeader:function(a,b,c,d,e,f,g,h){var i=this._get(a,"changeMonth"),j=this._get(a,"changeYear"),k=this._get(a,"showMonthAfterYear"),l='<div class="ui-datepicker-title">',m="";if(f||!i)m+='<span class="ui-datepicker-month">'+g[b]+"</span>";else{var n=d&&d.getFullYear()==c,o=e&&e.getFullYear()==c;m+='<select class="ui-datepicker-month" onchange="DP_jQuery_'+dpuuid+".datepicker._selectMonthYear('#"+a.id+"', this, 'M');\" "+">";for(var p=0;p<12;p++)(!n||p>=d.getMonth())&&(!o||p<=e.getMonth())&&(m+='<option value="'+p+'"'+(p==b?' selected="selected"':"")+">"+h[p]+"</option>");m+="</select>"}k||(l+=m+(f||!i||!j?"&#xa0;":""));if(!a.yearshtml){a.yearshtml="";if(f||!j)l+='<span class="ui-datepicker-year">'+c+"</span>";else{var q=this._get(a,"yearRange").split(":"),r=(new Date).getFullYear(),s=function(a){var b=a.match(/c[+-].*/)?c+parseInt(a.substring(1),10):a.match(/[+-].*/)?r+parseInt(a,10):parseInt(a,10);return isNaN(b)?r:b},t=s(q[0]),u=Math.max(t,s(q[1]||""));t=d?Math.max(t,d.getFullYear()):t,u=e?Math.min(u,e.getFullYear()):u,a.yearshtml+='<select class="ui-datepicker-year" onchange="DP_jQuery_'+dpuuid+".datepicker._selectMonthYear('#"+a.id+"', this, 'Y');\" "+">";for(;t<=u;t++)a.yearshtml+='<option value="'+t+'"'+(t==c?' selected="selected"':"")+">"+t+"</option>";a.yearshtml+="</select>",l+=a.yearshtml,a.yearshtml=null}}return l+=this._get(a,"yearSuffix"),k&&(l+=(f||!i||!j?"&#xa0;":"")+m),l+="</div>",l},_adjustInstDate:function(a,b,c){var d=a.drawYear+(c=="Y"?b:0),e=a.drawMonth+(c=="M"?b:0),f=Math.min(a.selectedDay,this._getDaysInMonth(d,e))+(c=="D"?b:0),g=this._restrictMinMax(a,this._daylightSavingAdjust(new Date(d,e,f)));a.selectedDay=g.getDate(),a.drawMonth=a.selectedMonth=g.getMonth(),a.drawYear=a.selectedYear=g.getFullYear(),(c=="M"||c=="Y")&&this._notifyChange(a)},_restrictMinMax:function(a,b){var c=this._getMinMaxDate(a,"min"),d=this._getMinMaxDate(a,"max"),e=c&&b<c?c:b;return e=d&&e>d?d:e,e},_notifyChange:function(a){var b=this._get(a,"onChangeMonthYear");b&&b.apply(a.input?a.input[0]:null,[a.selectedYear,a.selectedMonth+1,a])},_getNumberOfMonths:function(a){var b=this._get(a,"numberOfMonths");return b==null?[1,1]:typeof b=="number"?[1,b]:b},_getMinMaxDate:function(a,b){return this._determineDate(a,this._get(a,b+"Date"),null)},_getDaysInMonth:function(a,b){return 32-this._daylightSavingAdjust(new Date(a,b,32)).getDate()},_getFirstDayOfMonth:function(a,b){return(new Date(a,b,1)).getDay()},_canAdjustMonth:function(a,b,c,d){var e=this._getNumberOfMonths(a),f=this._daylightSavingAdjust(new Date(c,d+(b<0?b:e[0]*e[1]),1));return b<0&&f.setDate(this._getDaysInMonth(f.getFullYear(),f.getMonth())),this._isInRange(a,f)},_isInRange:function(a,b){var c=this._getMinMaxDate(a,"min"),d=this._getMinMaxDate(a,"max");return(!c||b.getTime()>=c.getTime())&&(!d||b.getTime()<=d.getTime())},_getFormatConfig:function(a){var b=this._get(a,"shortYearCutoff");return b=typeof b!="string"?b:(new Date).getFullYear()%100+parseInt(b,10),{shortYearCutoff:b,dayNamesShort:this._get(a,"dayNamesShort"),dayNames:this._get(a,"dayNames"),monthNamesShort:this._get(a,"monthNamesShort"),monthNames:this._get(a,"monthNames")}},_formatDate:function(a,b,c,d){b||(a.currentDay=a.selectedDay,a.currentMonth=a.selectedMonth,a.currentYear=a.selectedYear);var e=b?typeof b=="object"?b:this._daylightSavingAdjust(new Date(d,c,b)):this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return this.formatDate(this._get(a,"dateFormat"),e,this._getFormatConfig(a))}}),$.fn.datepicker=function(a){if(!this.length)return this;$.datepicker.initialized||($(document).mousedown($.datepicker._checkExternalClick).find("body").append($.datepicker.dpDiv),$.datepicker.initialized=!0);var b=Array.prototype.slice.call(arguments,1);return typeof a!="string"||a!="isDisabled"&&a!="getDate"&&a!="widget"?a=="option"&&arguments.length==2&&typeof arguments[1]=="string"?$.datepicker["_"+a+"Datepicker"].apply($.datepicker,[this[0]].concat(b)):this.each(function(){typeof a=="string"?$.datepicker["_"+a+"Datepicker"].apply($.datepicker,[this].concat(b)):$.datepicker._attachDatepicker(this,a)}):$.datepicker["_"+a+"Datepicker"].apply($.datepicker,[this[0]].concat(b))},$.datepicker=new Datepicker,$.datepicker.initialized=!1,$.datepicker.uuid=(new Date).getTime(),$.datepicker.version="1.8.20",window["DP_jQuery_"+dpuuid]=$})(jQuery);;jQuery.effects||function(a,b){function c(b){var c;return b&&b.constructor==Array&&b.length==3?b:(c=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(b))?[parseInt(c[1],10),parseInt(c[2],10),parseInt(c[3],10)]:(c=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(b))?[parseFloat(c[1])*2.55,parseFloat(c[2])*2.55,parseFloat(c[3])*2.55]:(c=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(b))?[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]:(c=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(b))?[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]:(c=/rgba\(0, 0, 0, 0\)/.exec(b))?e.transparent:e[a.trim(b).toLowerCase()]}function d(b,d){var e;do{e=a.curCSS(b,d);if(e!=""&&e!="transparent"||a.nodeName(b,"body"))break;d="backgroundColor"}while(b=b.parentNode);return c(e)}function h(){var a=document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle,b={},c,d;if(a&&a.length&&a[0]&&a[a[0]]){var e=a.length;while(e--)c=a[e],typeof a[c]=="string"&&(d=c.replace(/\-(\w)/g,function(a,b){return b.toUpperCase()}),b[d]=a[c])}else for(c in a)typeof a[c]=="string"&&(b[c]=a[c]);return b}function i(b){var c,d;for(c in b)d=b[c],(d==null||a.isFunction(d)||c in g||/scrollbar/.test(c)||!/color/i.test(c)&&isNaN(parseFloat(d)))&&delete b[c];return b}function j(a,b){var c={_:0},d;for(d in b)a[d]!=b[d]&&(c[d]=b[d]);return c}function k(b,c,d,e){typeof b=="object"&&(e=c,d=null,c=b,b=c.effect),a.isFunction(c)&&(e=c,d=null,c={});if(typeof c=="number"||a.fx.speeds[c])e=d,d=c,c={};return a.isFunction(d)&&(e=d,d=null),c=c||{},d=d||c.duration,d=a.fx.off?0:typeof d=="number"?d:d in a.fx.speeds?a.fx.speeds[d]:a.fx.speeds._default,e=e||c.complete,[b,c,d,e]}function l(b){return!b||typeof b=="number"||a.fx.speeds[b]?!0:typeof b=="string"&&!a.effects[b]?!0:!1}a.effects={},a.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","borderColor","color","outlineColor"],function(b,e){a.fx.step[e]=function(a){a.colorInit||(a.start=d(a.elem,e),a.end=c(a.end),a.colorInit=!0),a.elem.style[e]="rgb("+Math.max(Math.min(parseInt(a.pos*(a.end[0]-a.start[0])+a.start[0],10),255),0)+","+Math.max(Math.min(parseInt(a.pos*(a.end[1]-a.start[1])+a.start[1],10),255),0)+","+Math.max(Math.min(parseInt(a.pos*(a.end[2]-a.start[2])+a.start[2],10),255),0)+")"}});var e={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]},f=["add","remove","toggle"],g={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};a.effects.animateClass=function(b,c,d,e){return a.isFunction(d)&&(e=d,d=null),this.queue(function(){var g=a(this),k=g.attr("style")||" ",l=i(h.call(this)),m,n=g.attr("class")||"";a.each(f,function(a,c){b[c]&&g[c+"Class"](b[c])}),m=i(h.call(this)),g.attr("class",n),g.animate(j(l,m),{queue:!1,duration:c,easing:d,complete:function(){a.each(f,function(a,c){b[c]&&g[c+"Class"](b[c])}),typeof g.attr("style")=="object"?(g.attr("style").cssText="",g.attr("style").cssText=k):g.attr("style",k),e&&e.apply(this,arguments),a.dequeue(this)}})})},a.fn.extend({_addClass:a.fn.addClass,addClass:function(b,c,d,e){return c?a.effects.animateClass.apply(this,[{add:b},c,d,e]):this._addClass(b)},_removeClass:a.fn.removeClass,removeClass:function(b,c,d,e){return c?a.effects.animateClass.apply(this,[{remove:b},c,d,e]):this._removeClass(b)},_toggleClass:a.fn.toggleClass,toggleClass:function(c,d,e,f,g){return typeof d=="boolean"||d===b?e?a.effects.animateClass.apply(this,[d?{add:c}:{remove:c},e,f,g]):this._toggleClass(c,d):a.effects.animateClass.apply(this,[{toggle:c},d,e,f])},switchClass:function(b,c,d,e,f){return a.effects.animateClass.apply(this,[{add:c,remove:b},d,e,f])}}),a.extend(a.effects,{version:"1.8.20",save:function(a,b){for(var c=0;c<b.length;c++)b[c]!==null&&a.data("ec.storage."+b[c],a[0].style[b[c]])},restore:function(a,b){for(var c=0;c<b.length;c++)b[c]!==null&&a.css(b[c],a.data("ec.storage."+b[c]))},setMode:function(a,b){return b=="toggle"&&(b=a.is(":hidden")?"show":"hide"),b},getBaseline:function(a,b){var c,d;switch(a[0]){case"top":c=0;break;case"middle":c=.5;break;case"bottom":c=1;break;default:c=a[0]/b.height}switch(a[1]){case"left":d=0;break;case"center":d=.5;break;case"right":d=1;break;default:d=a[1]/b.width}return{x:d,y:c}},createWrapper:function(b){if(b.parent().is(".ui-effects-wrapper"))return b.parent();var c={width:b.outerWidth(!0),height:b.outerHeight(!0),"float":b.css("float")},d=a("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),e=document.activeElement;return b.wrap(d),(b[0]===e||a.contains(b[0],e))&&a(e).focus(),d=b.parent(),b.css("position")=="static"?(d.css({position:"relative"}),b.css({position:"relative"})):(a.extend(c,{position:b.css("position"),zIndex:b.css("z-index")}),a.each(["top","left","bottom","right"],function(a,d){c[d]=b.css(d),isNaN(parseInt(c[d],10))&&(c[d]="auto")}),b.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),d.css(c).show()},removeWrapper:function(b){var c,d=document.activeElement;return b.parent().is(".ui-effects-wrapper")?(c=b.parent().replaceWith(b),(b[0]===d||a.contains(b[0],d))&&a(d).focus(),c):b},setTransition:function(b,c,d,e){return e=e||{},a.each(c,function(a,c){var f=b.cssUnit(c);f[0]>0&&(e[c]=f[0]*d+f[1])}),e}}),a.fn.extend({effect:function(b,c,d,e){var f=k.apply(this,arguments),g={options:f[1],duration:f[2],callback:f[3]},h=g.options.mode,i=a.effects[b];return a.fx.off||!i?h?this[h](g.duration,g.callback):this.each(function(){g.callback&&g.callback.call(this)}):i.call(this,g)},_show:a.fn.show,show:function(a){if(l(a))return this._show.apply(this,arguments);var b=k.apply(this,arguments);return b[1].mode="show",this.effect.apply(this,b)},_hide:a.fn.hide,hide:function(a){if(l(a))return this._hide.apply(this,arguments);var b=k.apply(this,arguments);return b[1].mode="hide",this.effect.apply(this,b)},__toggle:a.fn.toggle,toggle:function(b){if(l(b)||typeof b=="boolean"||a.isFunction(b))return this.__toggle.apply(this,arguments);var c=k.apply(this,arguments);return c[1].mode="toggle",this.effect.apply(this,c)},cssUnit:function(b){var c=this.css(b),d=[];return a.each(["em","px","%","pt"],function(a,b){c.indexOf(b)>0&&(d=[parseFloat(c),b])}),d}}),a.easing.jswing=a.easing.swing,a.extend(a.easing,{def:"easeOutQuad",swing:function(b,c,d,e,f){return a.easing[a.easing.def](b,c,d,e,f)},easeInQuad:function(a,b,c,d,e){return d*(b/=e)*b+c},easeOutQuad:function(a,b,c,d,e){return-d*(b/=e)*(b-2)+c},easeInOutQuad:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b+c:-d/2*(--b*(b-2)-1)+c},easeInCubic:function(a,b,c,d,e){return d*(b/=e)*b*b+c},easeOutCubic:function(a,b,c,d,e){return d*((b=b/e-1)*b*b+1)+c},easeInOutCubic:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b+c:d/2*((b-=2)*b*b+2)+c},easeInQuart:function(a,b,c,d,e){return d*(b/=e)*b*b*b+c},easeOutQuart:function(a,b,c,d,e){return-d*((b=b/e-1)*b*b*b-1)+c},easeInOutQuart:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b*b+c:-d/2*((b-=2)*b*b*b-2)+c},easeInQuint:function(a,b,c,d,e){return d*(b/=e)*b*b*b*b+c},easeOutQuint:function(a,b,c,d,e){return d*((b=b/e-1)*b*b*b*b+1)+c},easeInOutQuint:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b*b*b+c:d/2*((b-=2)*b*b*b*b+2)+c},easeInSine:function(a,b,c,d,e){return-d*Math.cos(b/e*(Math.PI/2))+d+c},easeOutSine:function(a,b,c,d,e){return d*Math.sin(b/e*(Math.PI/2))+c},easeInOutSine:function(a,b,c,d,e){return-d/2*(Math.cos(Math.PI*b/e)-1)+c},easeInExpo:function(a,b,c,d,e){return b==0?c:d*Math.pow(2,10*(b/e-1))+c},easeOutExpo:function(a,b,c,d,e){return b==e?c+d:d*(-Math.pow(2,-10*b/e)+1)+c},easeInOutExpo:function(a,b,c,d,e){return b==0?c:b==e?c+d:(b/=e/2)<1?d/2*Math.pow(2,10*(b-1))+c:d/2*(-Math.pow(2,-10*--b)+2)+c},easeInCirc:function(a,b,c,d,e){return-d*(Math.sqrt(1-(b/=e)*b)-1)+c},easeOutCirc:function(a,b,c,d,e){return d*Math.sqrt(1-(b=b/e-1)*b)+c},easeInOutCirc:function(a,b,c,d,e){return(b/=e/2)<1?-d/2*(Math.sqrt(1-b*b)-1)+c:d/2*(Math.sqrt(1-(b-=2)*b)+1)+c},easeInElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(b==0)return c;if((b/=e)==1)return c+d;g||(g=e*.3);if(h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return-(h*Math.pow(2,10*(b-=1))*Math.sin((b*e-f)*2*Math.PI/g))+c},easeOutElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(b==0)return c;if((b/=e)==1)return c+d;g||(g=e*.3);if(h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return h*Math.pow(2,-10*b)*Math.sin((b*e-f)*2*Math.PI/g)+d+c},easeInOutElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(b==0)return c;if((b/=e/2)==2)return c+d;g||(g=e*.3*1.5);if(h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return b<1?-0.5*h*Math.pow(2,10*(b-=1))*Math.sin((b*e-f)*2*Math.PI/g)+c:h*Math.pow(2,-10*(b-=1))*Math.sin((b*e-f)*2*Math.PI/g)*.5+d+c},easeInBack:function(a,c,d,e,f,g){return g==b&&(g=1.70158),e*(c/=f)*c*((g+1)*c-g)+d},easeOutBack:function(a,c,d,e,f,g){return g==b&&(g=1.70158),e*((c=c/f-1)*c*((g+1)*c+g)+1)+d},easeInOutBack:function(a,c,d,e,f,g){return g==b&&(g=1.70158),(c/=f/2)<1?e/2*c*c*(((g*=1.525)+1)*c-g)+d:e/2*((c-=2)*c*(((g*=1.525)+1)*c+g)+2)+d},easeInBounce:function(b,c,d,e,f){return e-a.easing.easeOutBounce(b,f-c,0,e,f)+d},easeOutBounce:function(a,b,c,d,e){return(b/=e)<1/2.75?d*7.5625*b*b+c:b<2/2.75?d*(7.5625*(b-=1.5/2.75)*b+.75)+c:b<2.5/2.75?d*(7.5625*(b-=2.25/2.75)*b+.9375)+c:d*(7.5625*(b-=2.625/2.75)*b+.984375)+c},easeInOutBounce:function(b,c,d,e,f){return c<f/2?a.easing.easeInBounce(b,c*2,0,e,f)*.5+d:a.easing.easeOutBounce(b,c*2-f,0,e,f)*.5+e*.5+d}})}(jQuery);;(function(a,b){a.effects.bounce=function(b){return this.queue(function(){var c=a(this),d=["position","top","bottom","left","right"],e=a.effects.setMode(c,b.options.mode||"effect"),f=b.options.direction||"up",g=b.options.distance||20,h=b.options.times||5,i=b.duration||250;/show|hide/.test(e)&&d.push("opacity"),a.effects.save(c,d),c.show(),a.effects.createWrapper(c);var j=f=="up"||f=="down"?"top":"left",k=f=="up"||f=="left"?"pos":"neg",g=b.options.distance||(j=="top"?c.outerHeight({margin:!0})/3:c.outerWidth({margin:!0})/3);e=="show"&&c.css("opacity",0).css(j,k=="pos"?-g:g),e=="hide"&&(g=g/(h*2)),e!="hide"&&h--;if(e=="show"){var l={opacity:1};l[j]=(k=="pos"?"+=":"-=")+g,c.animate(l,i/2,b.options.easing),g=g/2,h--}for(var m=0;m<h;m++){var n={},p={};n[j]=(k=="pos"?"-=":"+=")+g,p[j]=(k=="pos"?"+=":"-=")+g,c.animate(n,i/2,b.options.easing).animate(p,i/2,b.options.easing),g=e=="hide"?g*2:g/2}if(e=="hide"){var l={opacity:0};l[j]=(k=="pos"?"-=":"+=")+g,c.animate(l,i/2,b.options.easing,function(){c.hide(),a.effects.restore(c,d),a.effects.removeWrapper(c),b.callback&&b.callback.apply(this,arguments)})}else{var n={},p={};n[j]=(k=="pos"?"-=":"+=")+g,p[j]=(k=="pos"?"+=":"-=")+g,c.animate(n,i/2,b.options.easing).animate(p,i/2,b.options.easing,function(){a.effects.restore(c,d),a.effects.removeWrapper(c),b.callback&&b.callback.apply(this,arguments)})}c.queue("fx",function(){c.dequeue()}),c.dequeue()})}})(jQuery);;var JSON;if(!JSON){JSON={};}
(function(){'use strict';function f(n){return n<10?'0'+n:n;}
if(typeof Date.prototype.toJSON!=='function'){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+'-'+
f(this.getUTCMonth()+1)+'-'+
f(this.getUTCDate())+'T'+
f(this.getUTCHours())+':'+
f(this.getUTCMinutes())+':'+
f(this.getUTCSeconds())+'Z':null;};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf();};}
var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={'\b':'\\b','\t':'\\t','\n':'\\n','\f':'\\f','\r':'\\r','"':'\\"','\\':'\\\\'},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==='string'?c:'\\u'+('0000'+a.charCodeAt(0).toString(16)).slice(-4);})+'"':'"'+string+'"';}
function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==='object'&&typeof value.toJSON==='function'){value=value.toJSON(key);}
if(typeof rep==='function'){value=rep.call(holder,key,value);}
switch(typeof value){case'string':return quote(value);case'number':return isFinite(value)?String(value):'null';case'boolean':case'null':return String(value);case'object':if(!value){return'null';}
gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==='[object Array]'){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||'null';}
v=partial.length===0?'[]':gap?'[\n'+gap+partial.join(',\n'+gap)+'\n'+mind+']':'['+partial.join(',')+']';gap=mind;return v;}
if(rep&&typeof rep==='object'){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==='string'){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?': ':':')+v);}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?': ':':')+v);}}}}
v=partial.length===0?'{}':gap?'{\n'+gap+partial.join(',\n'+gap)+'\n'+mind+'}':'{'+partial.join(',')+'}';gap=mind;return v;}}
if(typeof JSON.stringify!=='function'){JSON.stringify=function(value,replacer,space){var i;gap='';indent='';if(typeof space==='number'){for(i=0;i<space;i+=1){indent+=' ';}}else if(typeof space==='string'){indent=space;}
rep=replacer;if(replacer&&typeof replacer!=='function'&&(typeof replacer!=='object'||typeof replacer.length!=='number')){throw new Error('JSON.stringify');}
return str('',{'':value});};}
if(typeof JSON.parse!=='function'){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==='object'){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v;}else{delete value[k];}}}}
return reviver.call(holder,key,value);}
text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return'\\u'+
('0000'+a.charCodeAt(0).toString(16)).slice(-4);});}
if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,'@').replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,']').replace(/(?:^|:|,)(?:\s*\[)+/g,''))){j=eval('('+text+')');return typeof reviver==='function'?walk({'':j},''):j;}
throw new SyntaxError('JSON.parse');};}}());(function(a){a.libby=a.libby||{}})(this);(function(a){a.libby.jsonp={get:function(c){var b=document.getElementsByTagName("head")[0],d=document.createElement("script");d.type="text/javascript";d.async=!0;d.src=c;b.appendChild(d)}}})(this);(function(a){a.libby.event={_evts:{},on:function(c,b){this._evts[c]||(this._evts[c]=[]);this._evts[c].push(b)},fire:function(c,b){var d=this._evts[c];if(d)for(var a=0,f=d.length;a<f;a++)d[a].apply(null,b||[])}}})(this);(function(a){var c=Array.prototype.slice;a.libby.dataSource={_data:{},register:function(b,d){b in this._data||(this._data[b]={});this._data[b].source=d;return this},registerJsonp:function(b,d,c,f){return this.register(b,function(b){a[c]=b;f&&(d+=(d.indexOf("?")>-1?"&":"?")+"_="+(new Date).getTime());libby.jsonp.get(d)})},subscribe:function(b,d){if(this._data[b].data)d.apply(this,this._data[b].data);else libby.event.on(b,d);return this},update:function(b){var d=this;delete this._data[b].data;this._data[b].source.call(this,function(){d._notifier.apply(d,[b].concat(c.call(arguments)))});return this},_notifier:function(b){var d=c.call(arguments,1);this._data[b].data=d;libby.event.fire(b,d)}}})(this);(function(a){a.libby.defer=function(c){var b=!1,d=[],a=function(){for(var a=c.apply(this,arguments),i=d,e=0;e<i.length;e++){var g=i[e];g.fn.apply(g.bind,g.args)}b=!0;return a};a.reset=function(){d=[];b=!1};a.register=function(c,a,e){c={fn:c,bind:a||void 0,args:e||[]};if(b)c.fn.apply(c.bind,c.args);else{a:{a=c.fn;for(e=d.length;e--;)if(d[e].fn===a){a=!0;break a}a=!1}a||d.push(c)}};return a}})(this);(function(a){a.libby.cookie={create:function(c,b,a,h){b=encodeURIComponent(b);if(a){var f=new Date;f.setTime(f.getTime()+a*6E4);b+="; expires="+f.toGMTString()}document.cookie=c+"="+b+"; path=/"+(h?"; domain="+h:"");return this},_escapeRegExp:function(a){return a.replace(/[-[\]{}()*+?.\\^$|,#\s]/g,"\\$&")},read:function(a){return(a=document.cookie.match(RegExp("(?:;|^)\\s*"+this._escapeRegExp(a)+"=([^;]*)")))?decodeURIComponent(a[1]):null},erase:function(a,b){return this.create(a,"",-1,b)}}})(this);(function(a){a.libby.module=a.libby.module||{modules:{},pathForId:function(c,b){return a.libby.module.modules[c]||b},add:function(c){for(var b in c)c.hasOwnProperty(b)&&(a.libby.module.modules[b]=c[b])}}})(typeof exports!="undefined"?exports:this);(function(c){c.libby=c.libby||{};var f=c.libby.objectRemap=function(a,b){var g={};c.each(b,function(b,c){f.set(g,c,f.get(a,b))});return g};c.extend(c.libby.objectRemap,{get:function(a,b){for(var c=b.split("."),e=a[c.shift()],d=0;d<c.length;d++)e=e[c[d]];return e},set:function(a,b,f){for(var b=b.split("."),e=0;e<b.length-1;e++){var d=b[e];if(!(d in a)||!c.isPlainObject(a[d]))a[d]={};a=a[d]}a[b[b.length-1]]=f}})})(jQuery);(function(c){var f=Array.prototype.slice;c.widget("libby.widgetBase",{options:{pubsub:null},_super:function(a){return this._superApply(a,f.call(arguments,1))},_superApply:function(a,b){return c.libby.widgetBase.prototype[a].apply(this,b)},_create:function(){this.elements={}},_bind:function(a,b){(this.options.pubsub||this.element).bind(a+"."+this.widgetName,c.proxy(b,this))},_trigger:function(a,b){(this.options.pubsub||this.element).trigger(a,b)},_classFor:function(a){return this.widgetBaseClass+(a?"-"+a:"")},activate:function(){},deactivate:function(){}})})(jQuery);(function(a,c){var b={};a.globoapi=a.globoapi||{};a.globoapi.citySearch={minLength:3,cache:{},url:"http://api.globo.com/citysearch/",callProperCallbacks:function(a,d){for(var c=b[a],e=c.callbacks,g=0;g<e.length;g++)e[g](d,a);c.callbacks=[]},search:function(a,b){a.length<this.minLength||(this._isCallingApiForTerm(a)?this.registerCallbackForTerm(a,b):this._register(a,b))},registerCallbackForTerm:function(a,d){b[a]||(b[a]={callbacks:[]});b[a].callbacks.push(d)},_isCallingApiForTerm:function(a){return!(!b[a]||!b[a].scriptElement)},_register:function(a,d){this.registerCallbackForTerm(a,d);if(this.cache[a])this.callProperCallbacks(a,this.cache[a]);else{var h=c.getElementsByTagName("head")[0],e=c.createElement("script");e.type="text/javascript";e.src=this.url+a+"?_time="+(new Date).getTime();h.appendChild(e);b[a].scriptElement=e}}};a.globoapi_citySearch_callback=function(a,d){var h=b[a],e=h.scriptElement;globoapi.citySearch.cache[a]=d;delete h.scriptElement;c.getElementsByTagName("head")[0].removeChild(e);globoapi.citySearch.callProperCallbacks(a,d)}})(this,document);(function(a){a.globoapi=a.globoapi||{};a=a.globoapi.finance={eventName:"globoapi.finance",onSuccess:function(a){libby.dataSource.subscribe(this.eventName,a)},update:function(){libby.dataSource.update(this.eventName)}};libby.dataSource.registerJsonp(a.eventName,"http://api.globo.com/finance.jsonp","globoapi_finance_callback",!0)})(this);(function(a,c){a.globoapi=a.globoapi||{};a.globoapi.fipeSearch={minLength:3,cache:{},callbackName:null,url:"http://api.globo.com/fipe/",search:function(a,c,d){c.length<this.minLength||this._register(a,c,d)},_cacheKey:function(a,c){return a+"_"+c},_createCallback:function(a){return"jsonpFipe_"+(window.encodeURIComponent||window.escape)(a).replace(/[-_.!~*'()%]/g,"_")},_register:function(b,f,d){var h=this._cacheKey(b,f),e=this.cache[h],g=this.callbackName||this._createCallback(f),j=c.getElementsByTagName("head")[0],i=c.createElement("script"),k=this.cache;e?d(b,f,e):(a[g]=function(c){k[h]=c;d(b,f,c);try{delete a[g]}catch(e){}a[g]=null;j.removeChild(i)},i.type="text/javascript",i.src=this.url+b+"/"+f+".jsonp?callback="+g,j.appendChild(i))}}})(this,document);(function(a){var c,b=a.JSON&&JSON.stringify&&JSON.parse;a.globoapi=a.globoapi||{};a.globoapi.geo={url:"http://api.globo.com/geo",getScript:function(){libby.jsonp.get(this.url+"?_time="+(new Date).getTime())},onSuccess:function(a){if(this._success===!0)a.call(this,c);else libby.event.on("geoSuccess",a)},onNotFound:function(a){if(this._success===!1)a.call(this);else libby.event.on("geoNotFound",a)}};a.globoapi_geo_callback=function(a){a==null?(globoapi.geo._success=!1,libby.event.fire("geoNotFound")):(globoapi.geo._success=!0,c=a,libby.event.fire("geoSuccess",[a]),b&&libby.cookie.create("globoapi.geo.geolocation",JSON.stringify(a),null,"globo.com"))};var f=libby.cookie.read("globoapi.geo.geolocation");!b||f==null?a.globoapi.geo.getScript():a.globoapi_geo_callback(JSON.parse(f))})(this,document);(function(a){a.globoapi=a.globoapi||{};a.globoapi.horoscope={_processEventName:function(a){var b=/\.?complete/ig,a="globoapi.horoscope"+(a?"."+a:"");return b.test(a)?a.replace(b,""):a+".summary"},onSuccess:function(a,b){b==null&&(b=a,a="");libby.dataSource.subscribe(this._processEventName(a),b)},update:function(a){libby.dataSource.update(this._processEventName(a))}};libby.dataSource.registerJsonp("globoapi.horoscope","http://api.globo.com/horoscope.jsonp","globoapi_horoscope_callback",!0);libby.dataSource.registerJsonp("globoapi.horoscope.summary","http://api.globo.com/horoscope/summary.jsonp","globoapi_horoscope_callback",!0);for(var a=["cancer","touro","leao","aquario","sagitario","libra","peixes","virgem","aries","capricornio","escorpiao","gemeos"],c=a.length;c--;){var b=a[c];libby.dataSource.registerJsonp("globoapi.horoscope."+b+".summary","http://api.globo.com/horoscope/"+b+"/summary.jsonp","globoapi_horoscope_callback",!0);libby.dataSource.registerJsonp("globoapi.horoscope."+b,"http://api.globo.com/horoscope/"+b+".jsonp","globoapi_horoscope_callback",!0)}})(this);(function(a){a.globoapi=a.globoapi||{};var c=a.globoapi.novelaNews={eventName:"globoapi.novelaNews",url:"http://c.api.globo.com/novelas/",onSuccess:function(a){libby.event.on(this.eventName,a)},update:function(a){libby.jsonp.get(this.url+a+".jsonp")}};a.globoapi_novela_news_callback=function(a){libby.event.fire(c.eventName,[a])}})(this);(function(a){a.globoapi=a.globoapi||{};var c=a.globoapi.regionalNews={eventName:"globoapi.regionalNews",url:"http://c.api.globo.com/news/",onSuccess:function(a){libby.event.on(this.eventName,a)},update:function(a){libby.jsonp.get(this.url+a+".jsonp")}};a.globoapi_regional_news_callback=function(a){libby.event.fire(c.eventName,[a])}})(this);(function(a){a.globoapi=a.globoapi||{};a.globoapi.round={_processEventName:function(a){return"globoapi.round"+(a?"."+a:"")},onSuccess:function(a,b){libby.dataSource.subscribe(this._processEventName(a),b)},update:function(a){libby.dataSource.update(this._processEventName(a))}};libby.dataSource.registerJsonp("globoapi.round.brasileirao.current","http://api.globo.com/round/brasileirao/current.jsonp","globoapi_round_brasileirao_callback",!0);for(a=1;a<38;a++)libby.dataSource.registerJsonp("globoapi.round.brasileirao."+
a,"http://api.globo.com/round/brasileirao/"+a+".jsonp","globoapi_round_brasileirao_callback",!0)})(this);(function(a){a.globoapi=a.globoapi||{};var c=a.globoapi.soccerNews={eventName:"globoapi.soccerNews",url:"http://c.api.globo.com/soccer/",onSuccess:function(a){libby.event.on(this.eventName,a)},update:function(a){libby.jsonp.get(this.url+a+".jsonp")}};a.globoapi_soccer_news_callback=function(a){libby.event.fire(c.eventName,[a])}})(this);(function($){$.widget('responsive.touchDragger',{options:{scrollBar:null,offset:0},_resetScroll:function(){this.originalOffset=this._getTransformValues();this.maxScroll=this.element.height()+this.options.offset;this.offset=0;this.previousY=0;this.prePreviousY=0;},_getElementPageY:function(ev){if(ev.originalEvent.touches.length>0){return ev.originalEvent.touches[0].pageY;}else{return ev.originalEvent.pageY;}},_create:function(){this.element[0].style.webkitTransform='translate3d(0,0,0)';this._resetScroll();this._findElements();this._bindEvents();},_findElements:function(){this.elements={};this.elements.scrollBar=this.options.scrollBar;},_bindEvents:function(){this.elements.scrollBar.click(function(e){e.preventDefault();});this.elements.scrollBar.bind('touchstart.touchDragger',$.proxy(this._onTouchStart,this));this.elements.scrollBar.bind('touchmove.touchDragger',$.proxy(this._onTouchMove,this));this.elements.scrollBar.bind('touchend.touchDragger',$.proxy(this._onTouchEnd,this));},_onTouchStart:function(ev){ev.preventDefault();this.originalOffset=this._getTransformValues();this.offset=this._getElementPageY(ev);this.element.removeClass('animate');this.element.trigger("moving");},_onTouchMove:function(ev){ev.stopPropagation();ev.preventDefault();var pageY=this._getElementPageY(ev);var newMargin=this.originalOffset.y-(this.offset-pageY);this.prePreviousY=this.previousY;this.previousY=pageY;if(newMargin>0||newMargin<=-1*this.maxScroll){return;}
this._setTransformValues({x:this.originalOffset.x,y:newMargin,z:this.originalOffset.z});},open:function(){if(!this.element.hasClass("animate")){this.element.addClass('animate');}
var values=this._getTransformValues();values.y=0;this._setTransformValues(values);this.element.trigger("opened");},close:function(){if(!this.element.hasClass("animate")){this.element.addClass('animate');}
var values=this._getTransformValues();values.y=-1*this.maxScroll;this._setTransformValues(values);this.element.trigger("closed");},toggle:function(){var values=this._getTransformValues();if(values.y===0){this.close();}else{this.open();}},fastClose:function(){if(!this.element.hasClass("animate")){this.element.removeClass('animate');}
var values=this._getTransformValues();values.y=-1*this.maxScroll;this._setTransformValues(values);this.element.trigger("closed");},_onTouchEnd:function(ev){ev.preventDefault();this.element.addClass('animate');if(this.prePreviousY<=this.previousY){this._setTransformValues({x:this.originalOffset.x,y:0,z:this.originalOffset.z});this.element.trigger("opened");}else{this._setTransformValues({x:this.originalOffset.x,y:-1*this.maxScroll,z:this.originalOffset.z});this.element.trigger("closed");}
this._resetScroll();},_getTransformValues:function(){var match=/translate3d\((-?\d+)(?:px)?,\s*(-?\d+)(?:px)?,\s*(-?\d+)(?:px)?\)/.exec(this.element[0].style.webkitTransform);return{x:parseInt(match[1],10),y:parseInt(match[2],10),z:parseInt(match[3],10)};},_setTransformValues:function(values){this.element[0].style.webkitTransform="translate3d("+values.x.toString()+"px, "+values.y.toString()+"px, "+values.z.toString()+"px)";},_destroy:function(){this.elements.scrollBar.unbind('touchGragger');}});})(jQuery);(function(){var loadedStyles,loadedTeams;loadedStyles={};loadedTeams={};window.libby=window.libby||{};window.libby.SoccerTeams=(function(){function SoccerTeams(soccerApiUrl){this.head=$('head');this.path=soccerApiUrl||'http://api.globo.com/soccer_teams/';}
SoccerTeams.prototype.loadStyle=function(kind){if(loadedStyles[kind]){return;}
loadedStyles[kind]=true;return this.head.append($("<link rel=\"stylesheet\" href=\""+this.path+kind+".css\" type=\"text/css\" media=\"screen\" />"));};SoccerTeams.prototype.loadTeams=function(kind,callback){var _this=this;if(loadedTeams[kind]){return callback(loadedTeams[kind]);}
return $.ajax({url:""+this.path+kind+".jsonp",dataType:'jsonp',cache:true,jsonpCallback:'soccerTeams',success:function(data){return _this._onTeamsReady(data,callback,kind);}});};SoccerTeams.prototype._onTeamsReady=function(data,callback,kind){loadedTeams[kind]=data;return callback(data);};return SoccerTeams;})();}).call(this);(function($){$.easing=$.easing||{};$.easing.easeInOutCubic=function(x,t,b,c,d){if((t/=d/2)<1)return c/2*t*t*t+b;return c/2*((t-=2)*t*t+2)+b;};var easeIn=$.easing.easeIn=function(p){return Math.pow(p,2);};$.easing.easeOut=function(p){return 1-easeIn(1-p);};}(jQuery));;(function($)
{var defaults={duration:1000,clickHandler:null}
function startHandler(event)
{var $elem=jQuery(this);settings=jQuery.extend({},defaults,event.data);if(typeof $elem.data("events")!="undefined"&&typeof $elem.data("events").click!="undefined")
{for(var c in $elem.data("events").click)
{if($elem.data("events").click[c].namespace=="")
{var handler=$elem.data("events").click[c].handler
$elem.data("taphold_click_handler",handler);$elem.unbind("click",handler);break;}}}
else if(typeof settings.clickHandler=="function")
{$elem.data("taphold_click_handler",settings.clickHandler);}
$elem.data("taphold_triggered",false);$elem.data("taphold_clicked",false);$elem.data("taphold_cancelled",false);$elem.data("taphold_timer",setTimeout(function()
{if(!$elem.data("taphold_cancelled")&&!$elem.data("taphold_clicked"))
{$elem.trigger(jQuery.extend(event,jQuery.Event("taphold")));$elem.data("taphold_triggered",true);}},settings.duration));}
function stopHandler(event)
{var $elem=jQuery(this);if($elem.data("taphold_cancelled")){return;}
clearTimeout($elem.data("taphold_timer"));if(!$elem.data("taphold_triggered")&&!$elem.data("taphold_clicked"))
{if(typeof $elem.data("taphold_click_handler")=="function")
{$elem.data("taphold_click_handler")(jQuery.extend(event,jQuery.Event("click")));}
$elem.data("taphold_clicked",true);}}
function leaveHandler(event)
{$(this).data("taphold_cancelled",true);}
var touchSupported=("ontouchstart"in window)||("onmsgesturechange"in window);var taphold=$.event.special.taphold={setup:function(data)
{$(this).bind((touchSupported?"touchstart":"mousedown"),data,startHandler).bind((touchSupported?"touchend":"mouseup"),stopHandler).bind((touchSupported?"touchmove touchcancel":"mouseleave"),leaveHandler);},teardown:function(namespaces)
{$(this).unbind((touchSupported?"touchstart":"mousedown"),startHandler).unbind((touchSupported?"touchend":"mouseup"),stopHandler).unbind((touchSupported?"touchmove touchcancel":"mouseleave"),leaveHandler);}};})(jQuery);(function(window){var HomeMobileClicks=function(){this.fireClick=true;};HomeMobileClicks.prototype.init=function(){var that=this;window.libby.containerKindDefer.get(function(containerKind){that.isSmall=(containerKind==="smart"||containerKind==="smart_horizontal"||containerKind==="feature");if(that.isSmall){that.bind();}});};HomeMobileClicks.prototype.resetClick=function(e){e.preventDefault();e.stopImmediatePropagation();return false;};HomeMobileClicks.prototype.controlFireClick=function(e){var that=this;that.fireClick=false;setTimeout(function(){that.fireClick=true;},1000);};HomeMobileClicks.prototype.bind=function(){var that=this;$(document).on("taphold",{duration:300},function(e){that.controlFireClick(e);}).on("touchmove",function(e){that.controlFireClick(e);}).on('click','a',function(e){if(!that.fireClick){that.resetClick(e);}});};window.HomeMobileClicks=HomeMobileClicks;})(window);(function(window,document){var ColumnsAdapter=function(){this.currentSize='smart';this.gatherElements();this.bindEvents();};ColumnsAdapter.prototype.gatherElements=function(){this.elements={};this.elements.showMore=document.querySelectorAll('.columns .show-more');this.elements.firstColumns=document.querySelectorAll('#container-columns .area');this.elements.secondColumns=document.querySelectorAll('.columns.second-area .area');this.elements.widgets=document.querySelectorAll('#container-columns .widget');};ColumnsAdapter.prototype.isSmart=function(size){if(!size){size=this.currentSize;}
return size.indexOf('smart')>=0||size.indexOf('feature')>=0;};ColumnsAdapter.prototype.onShowMoreClick=function(ev){var el=ev.currentTarget.parentElement;el.className=el.className.replace(' closed ','');};ColumnsAdapter.prototype.changeWidgets=function(){var targetElements=this.elements.secondColumns;if(this.isSmart()){targetElements=this.elements.firstColumns;}
for(var i=this.elements.widgets.length-1;i>=0;i--){var el=this.elements.widgets[i];el.parentNode.removeChild(el);targetElements[i].appendChild(el);}};ColumnsAdapter.prototype.bindEvents=function(){var self=this;for(var i=this.elements.showMore.length-1;i>=0;i--){this.elements.showMore[i].addEventListener('click',this.onShowMoreClick);}
window.libby.containerKindDefer.get(function(containerKind){if(!self.isSmart(containerKind)){self.currentSize=containerKind;self.changeWidgets.apply(self);}});window.libby.pubsub.on("responsiveHub.onContainerChanged",function(e,min,max,sizeName){if(sizeName!=self.currentSize){self.currentSize=sizeName;self.changeWidgets.apply(self);}});};window.ColumnsAdapter=ColumnsAdapter;})(window,document);(function($,global){$.widget('glb.topglobocom3',{options:{animationTime:200,size:"desktop"},_create:function(){this.tabsContainer=this.element.find('div.tabs-container');this.tabContents=this.element.find('div.tab-content');this._setNumbers();if(window.libby&&libby.TopGloboHeightFix){new libby.TopGloboHeightFix();}
this._collectElements();try{this._bindTouchEvent();}catch(e){}},_setNumbers:function(){var ols=this.tabContents.find('ol');ols.each(function(){var numbers=$(this).find('.number'),i=1;numbers.each(function(){$(this).text(i);++i;});});},_bindTouchEvent:function(){if(this.options.size=='smart'||this.options.size=='smart_horizontal'||this.options.size=='feature'){this.iscroll=new IScroll(this.element.find('.mais-vistas')[0],{scrollX:true,scrollY:false,eventPassthrough:true,snap:'ol',momentum:false,bounce:false,click:true,bindToWrapper:true});this.iscroll.on('scrollEnd',$.proxy(this._onTouchEnd,this));}},_collectElements:function(){this.elements={};this.elements.stepMarkers=this.element.find('.step-marker li a');this.elements.pagerLiElements=this.element.find(".pages li");},setMarker:function(pos){this.elements.stepMarkers.find('.ball.active').removeClass('active');this.elements.stepMarkers.eq(pos).find('.ball').addClass('active');},_onTouchEnd:function(){var page=this.iscroll.currentPage.pageX;this.elements.pagerLiElements.removeClass('selected');this.elements.pagerLiElements.eq(page).addClass('selected');this.setMarker(page);}});}(jQuery,this));(function($,global){var mostSeen=$('#mais-vistas');var chamada=mostSeen.find('.border').first();var chamadaHeight=chamada.height();var isCorrectHeight=function(el){return el.innerHeight()<=chamadaHeight;};var updateHeight=function(){mostSeen.find('a').each(function(i,el){var newSz;el=$(el);el.css('font-size','');newSz=parseFloat(el.css('font-size'));while(!isCorrectHeight(el)){newSz-=1;if(newSz<10){break;}
el.css('font-size',newSz+'px');}});};global.libby=global.libby||{};global.libby.TopGloboHeightFix=function(){updateHeight();if(libby.pubsub){libby.pubsub.on('responsiveHub.onContainerChanged',updateHeight);}};})(jQuery,this);$.widget('libby.boxPrevisaoTempo',$.libby.widgetBase,{options:{weatherUrl:'http://g1.globo.com/previsao-do-tempo/',weatherApiUrl:'http://api.g1.globo.com/tempo/cidade-resumida/',trimCityNameAtIndex:22,defaultGeolocation:{country:{code:'BR'},city:{code:'sao-paulo',name:'SÃ£o Paulo'},state:{code:'SP',name:'SÃ£o Paulo'}}},_create:function(){window.glb=window.glb||{};window.glb.preferences=window.glb.preferences||[];this._super('_create');globoapi.geo.onSuccess($.proxy(this._withGeolocation,this));globoapi.geo.onNotFound($.proxy(this._onGeolocationNotFound,this));},_withGeolocation:function(geolocation){var self=this;window.glb.preferences.push(['get',{product:this._storageProductName(),key:this._storageKeyName(),callback:function(value){if(value){var city=JSON.parse(value);self.geolocation=city;}else{if(geolocation.city.code===null){self._onGeolocationNotFound();return;}
var majorLocation=(geolocation.country.code.toLowerCase()=='br')?geolocation.state.code:geolocation.country.ptSlug;geolocation.slug=self._createSlug(majorLocation,geolocation.city.code);self.geolocation=geolocation;}
self._callWeatherApi(self.geolocation.slug,self._withWeather);}}]);},_onGeolocationNotFound:function(){this._withGeolocation(this.options.defaultGeolocation);},_callWeatherApi:function(slug,callback){var url=this._createUrl(this.options.weatherApiUrl,slug,'jsonp');$.ajax({url:url,dataType:'jsonp',cache:true,jsonpCallback:'g1_previsao_cidade',success:$.proxy(callback,this)});this._weatherNotFoundFallback();},_weatherNotFoundFallback:function(){if(!this.triedFallback&&!this.element.hasClass('loaded')){var self=this;setTimeout(function(){if(!self.element.hasClass('loaded')){self.triedFallback=true;self._onGeolocationNotFound();}},1200);}},_withWeather:function(data){this._render();this._createWidgets();this._bindEvents();if(window.Modernizr&&Modernizr.touch){this._bindTouchEvents();}
this.update(data,true);},_createSlug:function(state,city){return state.toLowerCase().replace(/\s+/,'-')+'/'+city.toLowerCase().replace(/\s+/,'-');},_createUrl:function(domain,slug,type){return domain+slug+'.'+type;},_render:function(){this.element.addClass(this._classFor()).addClass('loaded');var tooltipClass=this._classFor('tooltip');var html=['<a class="link-complete-weather" href="#">','<div class="weather-icon"></div>','<div class="weather-info">','<div class="weather-location"></div>','<span class="min-temperature"></span><span class="label">MIN</span>','<span class="max-temperature"></span><span class="label">MAX</span>','</div>','</a>','<div class="',tooltipClass,'"></div>'];this.element.html(html.join(''));this.elements.linkCompleteWeather=this.element.find('.link-complete-weather');this.elements.maxTemperature=this.element.find('.max-temperature');this.elements.minTemperature=this.element.find('.min-temperature');this.elements.iconTemperature=this.element.find('.weather-icon');this.elements.weatherLocation=this.element.find('.weather-location');this.elements.tooltip=this.element.find('.'+tooltipClass);},_createWidgets:function(){this.element.boxPrevisaoTempoAnalytics({pubsub:this.element});this.elements.tooltip.boxPrevisaoTempoTooltip({pubsub:this.element,weatherUrl:this.options.weatherUrl});},_bindEvents:function(){this.element.bind('mouseenter',$.proxy(function(){this.elements.tooltip.boxPrevisaoTempoTooltip('activate');},this));this.element.bind('mouseleave',$.proxy(function(){this.elements.tooltip.boxPrevisaoTempoTooltip('deactivate');},this));this._bind('cityForecast',$.proxy(this._onForecast,this));this._bind('locationSelected',$.proxy(this._onLocationSelected,this));},_bindTouchEvents:function(){this.elements.linkCompleteWeather.bind('click',function(ev){ev.preventDefault();});this.element.unbind('mouseenter');this.element.unbind('mouseleave');var active=false;this.element.bind('touchstart',$.proxy(function(){active=!active;this.elements.tooltip.boxPrevisaoTempoTooltip(active?'activate':'deactivate');},this));},_getButtonLabel:function(city,state){return city;},_storageKeyName:function(){return'previsao-tempo';},_storageProductName:function(){return'jornalismo';},update:function(data,noCookie){if(!data)return;if(!noCookie){window.glb.preferences.push(['put',{product:this._storageProductName(),key:this._storageKeyName(),value:JSON.stringify(this.geolocation)}]);}
var weather=data.previsoes[0];this.elements.maxTemperature.html(weather.temperatura.maxima+'&deg;');this.elements.minTemperature.html(weather.temperatura.minima+'&deg;');this.elements.iconTemperature.attr('class','').attr('class','weather-icon weather-icon'+weather.icone);this.elements.weatherLocation.html(this._getButtonLabel(data.nome,data.prefixo));var url=this._createUrl(this.options.weatherUrl,this.geolocation.slug,'html');this._trigger('cityForecast',[this.geolocation,weather,url]);},_onForecast:function(ev,geolocation,weather,weatherDetailsUrl){this.elements.linkCompleteWeather.attr('href',weatherDetailsUrl);},_onLocationSelected:function(ev,geolocation){this.geolocation=geolocation;this._callWeatherApi(geolocation.slug,$.proxy(function(data){this.update(data,false);},this));}});(function(global){$.widget('libby.boxPrevisaoTempoAnalytics',$.libby.widgetBase,{_create:function(){this._super('_create');this.actualLocation={};this._bindEvents();},_bindEvents:function(){this._bind('cityForecast',this._onCityForecast);this._bind('locationSelected',this._onLocationSelected);this._bind('changeCity',this._onChangeCity);},_onCityForecast:function(ev,geolocation){this.actualLocation=geolocation;},_onChangeCity:function(ev){global._gaq.push(['_trackEvent','Clima','Intencao de troca',this.actualLocation.state.code+'/'+this.actualLocation.city.name]);},_onLocationSelected:function(ev,geolocation){global._gaq.push(['_trackEvent','Clima','Troca finalizada',geolocation.state.code+'/'+geolocation.city.name]);}});})(window);(function($,global){var ESC_KEYCODE=27;$.widget('libby.boxPrevisaoTempoTooltip',$.libby.widgetBase,{options:{weatherUrl:'http://g1.globo.com/previsao-do-tempo/',citySearchApiUrl:'http://api.globo.com/citysearch/'},_create:function(){this._super('_create');this.isBlocked=false;this.hasOpacitySupport=$.support.opacity;this._render();this._bindEvents();this._createWidgets();},_render:function(){var detailClass=this._classFor("detail");var citySearchClass=this._classFor("citySearch");var html=['<div class="submenu-n1">','<div class="menu-seta-balao"></div>','<div class="menu-canto-te"></div>','<div class="menu-canto-td"></div>','<div class="conteudo-subitens-bg clearfix">','<div class="conteudo-subitens-bg2 clearfix">','<div class="conteudo-subitens clearfix">','<div class="submenu-n1-content">','<div class="',detailClass,'">','</div>','<div class="',citySearchClass,'">','</div>','</div>','</div>','</div>','</div>','<div class="menu-canto-re"></div>','<div class="menu-canto-rd"></div>','</div>'];this.element.html(html.join(''));this.elements.submenu=this.element.find('.submenu-n1');this.elements.tooltipDetail=this.element.find('.'+detailClass);this.elements.tooltipCitySearch=this.element.find('.'+citySearchClass);},_createWidgets:function(){this.elements.tooltipDetail.boxPrevisaoTempoTooltipDetail({pubsub:this.options.pubsub,weatherUrl:this.options.weatherUrl});this.elements.tooltipCitySearch.boxPrevisaoTempoTooltipSearch({pubsub:this.options.pubsub,citySearchApiUrl:this.options.citySearchApiUrl});},_bindEvents:function(){this._bind("changeCity",$.proxy(this._onChangeCity,this));this._bind("locationSelected",$.proxy(this._onLocationSelected,this));this._bind("cancelCitySearch",$.proxy(this._onCancelCitySearch,this));$(document).bind('keydown',$.proxy(this._exitOnEsc,this)).bind('click',$.proxy(this._exitOnClickout,this));},_exitOnEsc:function(ev){if(ev.keyCode==ESC_KEYCODE&&this.isBlocked){this._onCancelCitySearch();}},_exitOnClickout:function(ev){if(this.isBlocked&&!$(ev.target).closest('.'+this.element.attr('class')).length){this._onCancelCitySearch();}},_onChangeCity:function(ev){this.elements.tooltipCitySearch.boxPrevisaoTempoTooltipSearch("activate");this.elements.tooltipDetail.boxPrevisaoTempoTooltipDetail("deactivate");this.isBlocked=true;},_onCancelCitySearch:function(ev){this.isBlocked=false;this.deactivate();},_onLocationSelected:function(ev){this._onCancelCitySearch();},_onComplete:function(visibility){return $.proxy(function(){this.elements.tooltipDetail.boxPrevisaoTempoTooltipDetail("activate");this.elements.tooltipCitySearch.boxPrevisaoTempoTooltipSearch("deactivate");this.elements.submenu.css("visibility",visibility);},this);},activate:function(){if(this.isBlocked)return;if(this.hasOpacitySupport){this.elements.submenu.stop(true).animate({opacity:1},{duration:200,queue:false});}
this._onComplete("visible")();},deactivate:function(){if(this.isBlocked)return;var onComplete=this._onComplete("hidden");if(this.hasOpacitySupport){this.elements.submenu.stop(true).animate({opacity:0},{duration:200,complete:onComplete,queue:false});}else{onComplete();}}});})(jQuery,this);$.widget('libby.boxPrevisaoTempoTooltipDetail',$.libby.widgetBase,{options:{weatherUrl:""},_create:function(){this._super('_create');this._render();this._bindEvents();},_render:function(){var html=['<span class="complete-weather-text"></span>','<a class="complete-weather-link" href="#">previsÃ£o completa âº</a>','<div class="tooltip-change-city">','<button class="btn-change-city" type="button">Trocar a cidade?</button>','</div>'];this.element.html(html.join(''));this.elements.changeCityButton=this.element.find('.btn-change-city');this.elements.completeWeatherLink=this.element.find('.complete-weather-link');this.elements.completeWeatherText=this.element.find('.complete-weather-text');},_bindEvents:function(){this.elements.changeCityButton.click($.proxy(this._changeCity,this));this._bind("cityForecast",$.proxy(this._onCityForecast,this));},_changeCity:function(){this._trigger("changeCity");},_onCityForecast:function(ev,geolocation,weather,completeWeatherUrl){this.elements.completeWeatherLink.attr('href',completeWeatherUrl);this.elements.completeWeatherText.text(weather.frase_completa);},activate:function(){this.element.show();this.element.parents('.glb-submenu-n1').css('width',this.element.outerWidth()+10);this.element.parents('.submenu-n1').css('width',this.element.outerWidth()+10);},deactivate:function(){this.element.hide();}});$.widget('libby.boxPrevisaoTempoTooltipSearch',$.libby.widgetBase,{_create:function(){this._super('_create');this._render();this._createWidgets();this._bindEvents();},_render:function(){var inputId=this._classFor("input-search");var html=['<input id="',inputId,'" value="" class="input-search" type="text" />','<div class="previsao-label">','<span>Cidade atual:</span>','<strong></strong>','</div>','<div class="search-suggestions libby-scrollbar"></div>','<button class="btn-close-tooltip" type="button">cancelar</button>'];this.element.html(html.join(''));this.elements.cancelButton=this.element.find('.btn-close-tooltip');this.elements.inputSearch=this.element.find('.input-search');this.elements.suggestions=this.element.find('.search-suggestions');this.elements.helpMessage=this.element.find('.previsao-label');this.elements.currentLocation=this.elements.helpMessage.find('strong');},_createWidgets:function(){var self=this;this.elements.inputSearch.boxPrevisaoTempoTooltipSearchInput();this.elements.inputSearch.autocomplete({minLength:3,autoFocus:true,appendTo:this.elements.suggestions,source:function(request,response){$.ajax({url:self.options.citySearchApiUrl+request.term+'.jsonp',dataType:'jsonp',jsonpCallback:'citySearch',success:function(result){response($.map(result.results,function(item){var cityCode=item.slug.split('/')[1];return{label:item.city+', '+item.state,value:item.city,city:{code:cityCode||item.city,name:item.city},state:{code:item.state},slug:item.slug};}));}});}});},_bindEvents:function(){this.elements.cancelButton.click($.proxy(this._cancelSearch,this));this.elements.inputSearch.bind('autocompleteselect',$.proxy(this._locationSelected,this));this.elements.inputSearch.bind('autocompleteopen',$.proxy(this._autocompleteOpen,this));this.elements.inputSearch.bind('autocompleteclose',$.proxy(this._autocompleteClose,this));this.elements.inputSearch.bind('boxPrevisaoTempoTooltipSearchInputClear',$.proxy(this._clearInput,this));this._bind('cityForecast',$.proxy(this._onCityForecast,this));},_locationSelected:function(ev,option){this._trigger('locationSelected',option.item);},_onCityForecast:function(ev,item){var label=item.label||(item.city.name+', '+(item.state.code||item.contry.name));this.elements.currentLocation.html(label);},_clearInput:function(){this.elements.inputSearch.autocomplete('search','');this.elements.inputSearch.autocomplete('close');},_cancelSearch:function(){this._trigger('cancelCitySearch');},_autocompleteOpen:function(){this.elements.suggestions.show();this.elements.helpMessage.hide();},_autocompleteClose:function(){this.elements.suggestions.hide();this.elements.helpMessage.show();},activate:function(){this.element.show();this.element.parents('.glb-submenu-n1').css('width',this.element.outerWidth()+10);this.element.parents('.submenu-n1').css('width',this.element.outerWidth()+10);this.elements.inputSearch.boxPrevisaoTempoTooltipSearchInput('activate');},deactivate:function(){this.elements.inputSearch.boxPrevisaoTempoTooltipSearchInput('deactivate');this.element.hide();}});$.widget('libby.boxPrevisaoTempoTooltipSearchInput',$.libby.widgetBase,{_create:function(){this._super('_create');this._render();this._bindEvents();},_render:function(){var elementId=this.element.attr('id');this.elements.container=$('<div class="tooltip-search"></div>');this.elements.placeholder=$('<label for="'+elementId+'">PrevisÃ£o do tempo para qual cidade?</label>');this.elements.clearButton=$('<button class="btn-clear-search" type="button">limpar busca</button>');this.element.replaceWith(this.elements.container);this.elements.container.append(this.element,this.elements.placeholder,this.elements.clearButton);},_bindEvents:function(){this._bind('keydown',$.proxy(this._delayedTogglePlaceholder,this));this._bind('focus',$.proxy(this._focusPlaceholder,this));this._bind('blur',$.proxy(this._blurPlaceholder,this));this.elements.clearButton.click($.proxy(this._clearInput,this));},_delayedTogglePlaceholder:function(){setTimeout($.proxy(this._togglePlaceholder,this),0);this.disablePlaceholder();},_togglePlaceholder:function(){if(this.element.val().length>0){this.elements.clearButton.removeClass('disabled');}else{this.elements.clearButton.addClass('disabled');}},_blurPlaceholder:function(){this.elements.placeholder.removeClass('soft');if(this.element.val().length==0){this.enablePlaceholder();}},_focusPlaceholder:function(){this.elements.placeholder.addClass('soft');},enablePlaceholder:function(){this.elements.placeholder.removeClass('disabled');},disablePlaceholder:function(){this.elements.placeholder.addClass('disabled');},_clearInput:function(){this._clearSearch();this._trigger('boxPrevisaoTempoTooltipSearchInputClear');},_clearSearch:function(){this.element.val('');this.element.focus();this._togglePlaceholder();},activate:function(){this._blurPlaceholder();this.element.focus();},deactivate:function(){this._clearInput();}});(function($){$.widget('libby.agrupadorDestaqueGloboTVComCanais',{options:{automaticNextTime:5000,fadeAnimationTime:600,size:"desktop"},_create:function(){window._gaq=window._gaq||[];this._gaEventSent=false;this._gaEventTries=0;this._size=this.options.size;this._collectElements();this._bindEvents();this._resizeTitleArea();this._initVariables();if(!(this._size==='desktop')){this._stopAnimation();if(this.pages===4&&this._size==='tablet'){this._gaSendEvent();}}
try{this._bindTouchEvent();}catch(e){}},_gaSendEvent:function(){if(!this._gaEventSent){if($('script[src*="ga.js"]').length>0){window._gaq.push(['_trackPageview','/use/V/P/publicidade-quarto-video']);this._gaEventSent=true;}else{this._gaEventTries++;if(this._gaEventTries>5){return;}
setTimeout($.proxy(function(){this._gaSendEvent();},this),300);}}},_hasTouch:function(){return window.Modernizr&&Modernizr.touch;},_resizeTitleArea:function(){var titles=this.elements.titleItems.find('a .title');for(var i=titles.length-1;i>=0;i--){if(titles.eq(i).height()>=40){this.elements.titleArea.addClass('more-lines');break;}}},_collectElements:function(){this.elements={};this.elements.navigationButtons=this.element.find('.navigation-buttons');this.elements.navigationLeft=this.elements.navigationButtons.find('.left');this.elements.navigationRight=this.elements.navigationButtons.find('.right');this.elements.stepMarkers=this.element.find('.step-marker li a');this.elements.imageArea=this.element.find(".image-area");this.elements.imageElement=this.elements.imageArea.find('img');this.elements.imageItems=this.elements.imageArea.find("li");this.elements.titleArea=this.element.find(".title-area");this.elements.titleItems=this.elements.titleArea.find("li");this.elements.goLeftButton=this.element.find(".pages .left");this.elements.goRightButton=this.element.find(".pages .right");this.elements.pagerLiElements=this.element.find(".pages li");this.pages=this.elements.imageItems.length;},_initVariables:function(){this.setCurrentPosition(0);this.ellapsedTime=0;this.elements.imageItems.not('.active').css({'opacity':0});if(!this._hasTouch()){this._startAutomaticNextTimer();}},_repositionImages:function(){var areaHeight=this.elements.imageArea.height();this.elements.imageElement.each(function(i,el){var img=$(el),imgHeight=img.height();if(imgHeight>areaHeight){img.css('margin-top',-((imgHeight-areaHeight)/2));}});},_startAutomaticNextTimer:function(){this.startTimerTime=(new Date()).getTime();this.automaticNext=setTimeout($.proxy(function(){this._resetAnimationTimer();if(!this.animationStopped){this.setCurrentPosition(this.currentPosition+1);this.switchImages();this._startAutomaticNextTimer();}},this),this.options.automaticNextTime-this.ellapsedTime);},_resetAnimationTimer:function(){this.ellapsedTime=0;clearTimeout(this.automaticNext);},_bindEvents:function(){if(!this._hasTouch()){this.element.bind('mouseenter',$.proxy(this._onMouseEnter,this));this.element.bind('mouseleave',$.proxy(this._onMouseLeave,this));}
this.elements.navigationLeft.bind('click',$.proxy(this._onClickNext(-1),this));this.elements.navigationRight.bind('click',$.proxy(this._onClickNext(1),this));this.elements.stepMarkers.bind('click',$.proxy(this._onClickStep,this));if(window.libby&&libby.pubsub){libby.pubsub.on('responsiveHub.onContainerChanged',$.proxy(this._handleContainerChanged,this));}},_bindTouchEvent:function(){this.iscroll=new IScroll(this.elements.imageArea[0],{scrollX:true,scrollY:false,snap:'li a',momentum:false,bounce:false,eventPassthrough:true,useTransform:false,HWCompositing:false,bindToWrapper:true});this.iscroll.on('scrollEnd',$.proxy(this._onTouchEnd,this));this.elements.goLeftButton.on("click",$.proxy(this._moveLeft,this));this.elements.goRightButton.on("click",$.proxy(this._moveRight,this));},_onTouchEnd:function(){var page=this.iscroll.currentPage.pageX;this.elements.pagerLiElements.removeClass('selected');this.elements.pagerLiElements.eq(page).addClass('selected');this.setMarker(page);},_moveLeft:function(ev){ev.preventDefault();this._goTo(this.iscroll.currentPage.pageX-1);},_moveRight:function(ev){ev.preventDefault();this._goTo(this.iscroll.currentPage.pageX+1);},_goTo:function(pos){if(pos<0||pos>this.pages-1){return;}
this.iscroll.goToPage(pos,0,400);this._onTouchEnd();},_handleContainerChanged:function(ev,newSize,oldSize,format){this._size=format;if(this._size=='desktop'){this.iscroll.goToPage(0,0,0);this.animationStopped=false;this._initVariables();}else{this._stopAnimation();}},_stopAnimation:function(){this.animationStopped=true;this.elements.imageItems.css({'opacity':1});},_onMouseEnter:function(){this.ellapsedTime+=(new Date()).getTime()-this.startTimerTime;clearTimeout(this.automaticNext);},_onMouseLeave:function(){if(this.animationStopped){return;}
this._startAutomaticNextTimer();},_onClickNext:function(toNext){return $.proxy(function(ev){if(ev){ev.preventDefault();}
this._resetAnimationTimer();this.setCurrentPosition(this.currentPosition+toNext);this.switchImages();},this);},_onClickStep:function(ev){ev.preventDefault();if(this._size==='smart'||this._size==='smart_horizontal'||this._size==='feature'){return;}
var currentItem=$(ev.currentTarget);this.setCurrentPosition($(currentItem).parents('li').index());this.switchImages();},setCurrentPosition:function(newPos){if(newPos>this.pages-1){newPos=0;}else if(newPos<0){newPos=this.pages-1;}
this.oldPosition=this.currentPosition||0;this.currentPosition=newPos;},setMarker:function(pos){this.elements.stepMarkers.find('.ball.active').removeClass('active');this.elements.stepMarkers.eq(pos).find('.ball').addClass('active');if(pos===3){this._gaSendEvent();}},switchImages:function(){if(this.currentPosition===3){this._gaSendEvent();}
this.elements.titleItems.removeClass('active');this.elements.titleItems.eq(this.currentPosition).addClass('active');var oldImage=this.elements.imageItems.eq(this.oldPosition),currentImage=this.elements.imageItems.eq(this.currentPosition),fadeAnimationOptions={duration:this.options.fadeAnimationTime,easing:'linear'};oldImage.removeClass('active').stop(true).animate({'opacity':0},fadeAnimationOptions);currentImage.addClass('active').stop(true).animate({'opacity':1},fadeAnimationOptions);this.setMarker(this.currentPosition);}});}(jQuery));(function(global,$){var libby=global.libby||{},reHashHref=/^#/,reAbsoluteHref=/^https?:\/\//,reRelativeHref=/^\//,log=function(message){linksInstance.debug&&global.console&&console.log&&console.log(message);};var analyticsConfig={setDomainVar:function(){return window.glb&&glb.analyticsConfig&&glb.analyticsConfig.setDomainVar;},waitForAnalyticsTime:function(){return window.glb&&glb.analyticsConfig&&glb.analyticsConfig.waitForAnalyticsTime;},clicksAsEvents:function(){return window.glb&&glb.analyticsConfig&&glb.analyticsConfig.clicksAsEvents;}};window._gaq=window._gaq||[];libby.analytics=libby.analytics||{};var linksInstance=libby.analytics.links={debug:false,modules:[],debugMode:function(activate){if(activate&&!this.debug){global._gaq.originalPush=global._gaq.push;global._gaq.push=function(op){log(op);global._gaq.originalPush(op);};this.debug=true;}else if(!activate&&this.debug){global._gaq.push=global._gaq.originalPush;this.debug=false;}},register:function(module){this.modules.push(module);log('Debug analytic mode');},clear:function(){this.modules=[];linksInstance.hitData=null;},generateAnalytics:function(link,value){var url=(typeof link==='string')?link:link.attr('href');if(!url){return;}
var isHashUrl=reHashHref.test(url),context={link:link,url:url,trackingCode:[isHashUrl?'/use':'/out']};if(value){context.trackingCode.push(value);}
linksInstance._process(context);if(context.trackingCode[1]){var domain=null,isAbsoluteUrl=reAbsoluteHref.test(url),urlTracking=url.replace(reAbsoluteHref,'').replace(reRelativeHref,'').replace(reHashHref,'');if(isAbsoluteUrl){domain=urlTracking.split('/')[0];}else if(!isHashUrl){domain=window.location.hostname;urlTracking=domain+'/'+urlTracking;}
context.trackingCode.push(urlTracking);var key=context.trackingCode.join('/').replace(/\/{2}/,'/');this._recordOutboundLink(key,domain,context.trackingCode);}},tryWaitForClick:function(link){var url=link.attr('href');if(reHashHref.test(url)){return false;}
linksInstance.hitData={callbackCalled:false,timeoutHandler:null,url:url};linksInstance.hitData.timeoutHandler=setTimeout(linksInstance._createHitCallback('timeout'),analyticsConfig.waitForAnalyticsTime());_gaq.push(['_set','hitCallback',linksInstance._createHitCallback('completed')]);return true;},isHandlingClick:function(){return!!linksInstance.hitData;},_redirectWithReferrer:function(url){var anchor=$('<a>').attr('href',url),element=anchor[0];anchor.appendTo(document.body);if(document.createEvent){var evt=document.createEvent("MouseEvents");evt.initMouseEvent('click',true,true,window,0,0,0,0,0,false,false,false,false,0,null);return!element.dispatchEvent(evt);}
element.click();return true;},_createHitCallback:function(reason){var initialTime=null,hitData=linksInstance.hitData;try{initialTime=window.performance&&performance.now();}catch(e){}
return function(){if(hitData.callbackCalled){return;}
hitData.callbackCalled=true;if(hitData.timeoutHandler){clearTimeout(hitData.timeoutHandler);hitData.timeoutHandler=null;}
_gaq.push(['_set','hitCallback',null]);var currentTime=null,timeWaited=-1;try{currentTime=window.performance&&performance.now();}catch(e){}
if(currentTime&&initialTime){timeWaited=currentTime-initialTime;timeWaited=timeWaited-(timeWaited%25);}
linksInstance._redirectWithReferrer(hitData.url);try{localStorage.setItem('analytics-wait-time',reason+"|"+timeWaited);}catch(e){}};},_process:function(context){$.each(this.modules,function(i){this(context);});},_recordOutboundLink:function(key,domain,parts){log(key);if(analyticsConfig.setDomainVar()&&domain){_gaq.push(['_setCustomVar',15,'Domains',domain,3]);}
if(analyticsConfig.clicksAsEvents()){var mainPart=parts[1];_gaq.push(['_trackEvent',mainPart.category,mainPart.action,mainPart.label]);}else{_gaq.push(['_trackPageview',key]);}}};$(document).delegate('a','click',function(ev){var isMeta=ev.ctrlKey||ev.metaKey,linkElement=$(this);log('click');if(linksInstance.debug){ev.preventDefault();}
if(!isMeta&&analyticsConfig.waitForAnalyticsTime()){if(linksInstance.isHandlingClick()){return;}
var willWait=linksInstance.tryWaitForClick(linkElement);if(willWait){ev.preventDefault();}}
linksInstance.generateAnalytics(linkElement);});global.libby=libby;})(this,jQuery);(function(global){var shouldIgnore=function(context){return typeof context.link=="string"||context.link.parents(".analytics-busca").length>0||context.link.parents(".opec").length>0;};var getArea=function(context){if(shouldIgnore(context)){return;}
var analyticsAreas=[],container=context.link.parents('.analytics-area'),patternClass=/analytics-id-(\w+)/g,patternId=/analytics-(\w+)/,classMatch;if(context.link.hasClass("analytics-play")){analyticsAreas.push("play");}
container.push(context.link);container.each(function(i){var current=$(this),classStr=current.attr("class"),maxIterations=10,tmpArray=[];while(maxIterations>0&&classStr&&(classMatch=patternClass.exec(classStr))){tmpArray.unshift(classMatch[1]);maxIterations--;}
analyticsAreas=analyticsAreas.concat(tmpArray);if(tmpArray.length===0){var idStr=current.attr("id");if(idStr){var valueArea=idStr.match(patternId);if(valueArea&&valueArea.length>1){analyticsAreas.push(valueArea[1]);}}}});if(!(context.link.parents(".game-area").length>0)&&!(context.link.parents(".lst-nav li").hasClass("on")&&!context.link.parents(".lst-nav li").hasClass("assistindo"))){context.trackingCode.push(analyticsAreas.reverse().join("/"));}};var getProduct=function(context){if(shouldIgnore(context)){return;}
var classesByProduct,container=context.link,productElement=container.parents(".glb-area-colunas"),franjaElement=container.parents(".franja-inferior, .agrupador-sextuplo"),destaqueElement,keysToPush=[],customPattern=/analytics-id-(\w+)/;if(productElement.length){destaqueElement=container.parents(".destaque");if(destaqueElement.hasClass("destaque-secundario")){classesByProduct="D";}else if(destaqueElement.hasClass("destaque-terciario")){classesByProduct=destaqueElement.parent().find('.destaque-terciario').index(destaqueElement)+1;}
var productCodes=['J','E','M'],idx=container.parents('section.area').index();if(idx>=0&&idx<productCodes.length){context.trackingCode.push(productCodes[idx]);}
context.trackingCode.push(classesByProduct);}else{classesByProduct={"noticias":"J","esportes":"E","entretenimento":"M","tecnologia":"T","videos":"V","agrupador-tematico-carrossel":"M","tvglobo":"G","tvg":"G","gshow":"G","famosos-style":"F","glb-hl-style-noticia":"J","glb-hl-style-esporte":"E","glb-hl-style-entretenimento":"M","glb-hl-style-rede-globo":"G","glb-menu-noticias":"J","glb-menu-esporte":"E","glb-menu-esportes":"E","glb-menu-entretenimento":"M","top-menu-home":"T"};productElement=container.parents('.chamada, .analytics-product, .destaque-topo').first();var allMyParents=container.parentsUntil(productElement),customTagItem='analytics-custom-product';if(productElement.length&&!(container.parents(".lst-nav li").hasClass("on")&&!container.parents(".lst-nav li").hasClass("assistindo"))){for(var key in classesByProduct){if(productElement.hasClass('analytics-multi-product')){if(productElement.hasClass(key)||allMyParents.filter('.'+key).length>0){keysToPush.push(classesByProduct[key]);}}else if(productElement.hasClass(key)||productElement.find('.'+key).length){keysToPush.push(classesByProduct[key]);break;}}
var customParents=allMyParents.filter('.analytics-custom-product'),iCustomParents=customParents.length-1,varValue;for(;iCustomParents>=0;--iCustomParents){varValue=customParents[iCustomParents].className&&customParents[iCustomParents].className.match(customPattern)[1];if(varValue){keysToPush.push(varValue);}}
if(keysToPush.length===0&&container.parents(".diretorio-indice").length>0){keysToPush.push("O");}
if(keysToPush.length>0){context.trackingCode=context.trackingCode.concat(keysToPush);}}
if(franjaElement.length){destaqueElement=container.parents(".destaques li, .destaque li, aside.links li, .widget-agenda li");if(destaqueElement.length){context.trackingCode.push(destaqueElement.index()+1);}}}};global.libby.analytics.links.register(getArea);global.libby.analytics.links.register(getProduct);})(this);(function(window){var refresher,lastCommand;window.preventRefresh={captureRefresher:function(){if(!refresher){if(glb.Refresher){refresher=glb.Refresher.getInstance();}else if(glb.SmartRefresher){refresher=glb.SmartRefresher.getInstance();}
if(lastCommand){lastCommand.call(this);}}},prevent:function(){if(refresher){refresher.stop();}else{lastCommand=this.prevent;}},allow:function(){if(refresher){refresher.start();}else{lastCommand=this.allow;}}};})(window);window.glb=window.glb||{};glb.Refresher=(function(){var instance;var simpleExtend=function(object,other){for(var key in other){if(other.hasOwnProperty(key)){object[key]=other[key];}}
return object;};function make(config){var __priv={timeout:null,timer:null};var __pub={timeout:null,onBeforeRefresh:function(){},onRemainDecrease:function(){},onBeforeStart:function(){},onBeforeStop:function(){},onStart:function(){},onStop:function(){}};var __private__={init:function(config){simpleExtend(__pub,config);__public__.start();return __public__;},decreaseRemain:function(){__priv.timeout--;__pub.onRemainDecrease(__priv.timeout,__pub.timeout);if(__priv.timeout===0){__public__.refresh();}}};var __public__={options:__pub,reconf:function(config){simpleExtend(__pub,config);},start:function(){__priv.timeout=this.options.timeout;if(this.options.onBeforeStart(this.options.timeout)!==false){clearInterval(__priv.timer);__priv.timer=setInterval(function(){__private__.decreaseRemain();},1000);this.options.onStart(this.options.timeout);}},refresh:function(){if(this.options.onBeforeRefresh(this.options.timeout)!==false){location.reload();}},stop:function(){if(this.options.onBeforeStop(__priv.timeout,this.options.timeout)!==false){clearInterval(__priv.timer);this.options.onStop(__priv.timeout,this.options.timeout);}},getInfo:function(){__pub.remain=__priv.timeout;return __pub;}};return __private__.init(config);}
return{getInstance:function(config){if(typeof instance==="undefined"){instance=make(config);}else{instance.reconf(config);}
return instance;}};})();(function(window,document,Math){var rAF=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(callback){window.setTimeout(callback,1000/60);};var utils=(function(){var me={};var _elementStyle=document.createElement('div').style;var _vendor=(function(){var vendors=['t','webkitT','MozT','msT','OT'],transform,i=0,l=vendors.length;for(;i<l;i++){transform=vendors[i]+'ransform';if(transform in _elementStyle)return vendors[i].substr(0,vendors[i].length-1);}
return false;})();function _prefixStyle(style){if(_vendor===false)return false;if(_vendor==='')return style;return _vendor+style.charAt(0).toUpperCase()+style.substr(1);}
me.getTime=Date.now||function getTime(){return new Date().getTime();};me.extend=function(target,obj){for(var i in obj){target[i]=obj[i];}};me.addEvent=function(el,type,fn,capture){el.addEventListener(type,fn,!!capture);};me.removeEvent=function(el,type,fn,capture){el.removeEventListener(type,fn,!!capture);};me.prefixPointerEvent=function(pointerEvent){return window.MSPointerEvent?'MSPointer'+pointerEvent.charAt(9).toUpperCase()+pointerEvent.substr(10):pointerEvent;};me.momentum=function(current,start,time,lowerMargin,wrapperSize,deceleration){var distance=current-start,speed=Math.abs(distance)/time,destination,duration;deceleration=deceleration===undefined?0.0006:deceleration;destination=current+(speed*speed)/(2*deceleration)*(distance<0?-1:1);duration=speed/deceleration;if(destination<lowerMargin){destination=wrapperSize?lowerMargin-(wrapperSize/2.5*(speed/8)):lowerMargin;distance=Math.abs(destination-current);duration=distance/speed;}else if(destination>0){destination=wrapperSize?wrapperSize/2.5*(speed/8):0;distance=Math.abs(current)+destination;duration=distance/speed;}
return{destination:Math.round(destination),duration:duration};};var _transform=_prefixStyle('transform');me.extend(me,{hasTransform:_transform!==false,hasPerspective:_prefixStyle('perspective')in _elementStyle,hasTouch:'ontouchstart'in window,hasPointer:window.PointerEvent||window.MSPointerEvent,hasTransition:_prefixStyle('transition')in _elementStyle});me.isBadAndroid=/Android /.test(window.navigator.appVersion)&&!(/Chrome\/\d/.test(window.navigator.appVersion));me.extend(me.style={},{transform:_transform,transitionTimingFunction:_prefixStyle('transitionTimingFunction'),transitionDuration:_prefixStyle('transitionDuration'),transitionDelay:_prefixStyle('transitionDelay'),transformOrigin:_prefixStyle('transformOrigin')});me.hasClass=function(e,c){var re=new RegExp("(^|\\s)"+c+"(\\s|$)");return re.test(e.className);};me.addClass=function(e,c){if(me.hasClass(e,c)){return;}
var newclass=e.className.split(' ');newclass.push(c);e.className=newclass.join(' ');};me.removeClass=function(e,c){if(!me.hasClass(e,c)){return;}
var re=new RegExp("(^|\\s)"+c+"(\\s|$)",'g');e.className=e.className.replace(re,' ');};me.offset=function(el){var left=-el.offsetLeft,top=-el.offsetTop;while(el=el.offsetParent){left-=el.offsetLeft;top-=el.offsetTop;}
return{left:left,top:top};};me.preventDefaultException=function(el,exceptions){for(var i in exceptions){if(exceptions[i].test(el[i])){return true;}}
return false;};me.extend(me.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,pointerdown:3,pointermove:3,pointerup:3,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3});me.extend(me.ease={},{quadratic:{style:'cubic-bezier(0.25, 0.46, 0.45, 0.94)',fn:function(k){return k*(2-k);}},circular:{style:'cubic-bezier(0.1, 0.57, 0.1, 1)',fn:function(k){return Math.sqrt(1-(--k*k));}},back:{style:'cubic-bezier(0.175, 0.885, 0.32, 1.275)',fn:function(k){var b=4;return(k=k-1)*k*((b+1)*k+b)+1;}},bounce:{style:'',fn:function(k){if((k/=1)<(1/2.75)){return 7.5625*k*k;}else if(k<(2/2.75)){return 7.5625*(k-=(1.5/2.75))*k+0.75;}else if(k<(2.5/2.75)){return 7.5625*(k-=(2.25/2.75))*k+0.9375;}else{return 7.5625*(k-=(2.625/2.75))*k+0.984375;}}},elastic:{style:'',fn:function(k){var f=0.22,e=0.4;if(k===0){return 0;}
if(k==1){return 1;}
return(e*Math.pow(2,-10*k)*Math.sin((k-f/4)*(2*Math.PI)/f)+1);}}});me.tap=function(e,eventName){var ev=document.createEvent('Event');ev.initEvent(eventName,true,true);ev.pageX=e.pageX;ev.pageY=e.pageY;e.target.dispatchEvent(ev);};me.click=function(e){var target=e.target,ev;if(!(/(SELECT|INPUT|TEXTAREA)/i).test(target.tagName)){ev=document.createEvent('MouseEvents');ev.initMouseEvent('click',true,true,e.view,1,target.screenX,target.screenY,target.clientX,target.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,0,null);ev._constructed=true;target.dispatchEvent(ev);}};return me;})();function IScroll(el,options){this.wrapper=typeof el=='string'?document.querySelector(el):el;this.scroller=this.wrapper.children[0];this.scrollerStyle=this.scroller.style;this.options={resizeScrollbars:true,mouseWheelSpeed:20,snapThreshold:0.334,startX:0,startY:0,scrollY:true,directionLockThreshold:5,momentum:true,bounce:true,bounceTime:600,bounceEasing:'',preventDefault:true,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:true,useTransition:true,useTransform:true};for(var i in options){this.options[i]=options[i];}
this.translateZ=this.options.HWCompositing&&utils.hasPerspective?' translateZ(0)':'';this.options.useTransition=utils.hasTransition&&this.options.useTransition;this.options.useTransform=utils.hasTransform&&this.options.useTransform;this.options.eventPassthrough=this.options.eventPassthrough===true?'vertical':this.options.eventPassthrough;this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault;this.options.scrollY=this.options.eventPassthrough=='vertical'?false:this.options.scrollY;this.options.scrollX=this.options.eventPassthrough=='horizontal'?false:this.options.scrollX;this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough;this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold;this.options.bounceEasing=typeof this.options.bounceEasing=='string'?utils.ease[this.options.bounceEasing]||utils.ease.circular:this.options.bounceEasing;this.options.resizePolling=this.options.resizePolling===undefined?60:this.options.resizePolling;if(this.options.tap===true){this.options.tap='tap';}
if(this.options.shrinkScrollbars=='scale'){this.options.useTransition=false;}
this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1;this.x=0;this.y=0;this.directionX=0;this.directionY=0;this._events={};this._init();this.refresh();this.scrollTo(this.options.startX,this.options.startY);this.enable();}
IScroll.prototype={version:'5.1.3',_init:function(){this._initEvents();if(this.options.scrollbars||this.options.indicators){this._initIndicators();}
if(this.options.mouseWheel){this._initWheel();}
if(this.options.snap){this._initSnap();}
if(this.options.keyBindings){this._initKeys();}},destroy:function(){this._initEvents(true);this._execEvent('destroy');},_transitionEnd:function(e){if(e.target!=this.scroller||!this.isInTransition){return;}
this._transitionTime();if(!this.resetPosition(this.options.bounceTime)){this.isInTransition=false;this._execEvent('scrollEnd');}},_start:function(e){if(utils.eventType[e.type]!=1){if(e.button!==0){return;}}
if(!this.enabled||(this.initiated&&utils.eventType[e.type]!==this.initiated)){return;}
if(this.options.preventDefault&&!utils.isBadAndroid&&!utils.preventDefaultException(e.target,this.options.preventDefaultException)){e.preventDefault();}
var point=e.touches?e.touches[0]:e,pos;this.initiated=utils.eventType[e.type];this.moved=false;this.distX=0;this.distY=0;this.directionX=0;this.directionY=0;this.directionLocked=0;this._transitionTime();this.startTime=utils.getTime();if(this.options.useTransition&&this.isInTransition){this.isInTransition=false;pos=this.getComputedPosition();this._translate(Math.round(pos.x),Math.round(pos.y));this._execEvent('scrollEnd');}else if(!this.options.useTransition&&this.isAnimating){this.isAnimating=false;this._execEvent('scrollEnd');}
this.startX=this.x;this.startY=this.y;this.absStartX=this.x;this.absStartY=this.y;this.pointX=point.pageX;this.pointY=point.pageY;this._execEvent('beforeScrollStart');},_move:function(e){if(!this.enabled||utils.eventType[e.type]!==this.initiated){return;}
if(this.options.preventDefault){e.preventDefault();}
var point=e.touches?e.touches[0]:e,deltaX=point.pageX-this.pointX,deltaY=point.pageY-this.pointY,timestamp=utils.getTime(),newX,newY,absDistX,absDistY;this.pointX=point.pageX;this.pointY=point.pageY;this.distX+=deltaX;this.distY+=deltaY;absDistX=Math.abs(this.distX);absDistY=Math.abs(this.distY);if(timestamp-this.endTime>300&&(absDistX<10&&absDistY<10)){return;}
if(!this.directionLocked&&!this.options.freeScroll){if(absDistX>absDistY+this.options.directionLockThreshold){this.directionLocked='h';}else if(absDistY>=absDistX+this.options.directionLockThreshold){this.directionLocked='v';}else{this.directionLocked='n';}}
if(this.directionLocked=='h'){if(this.options.eventPassthrough=='vertical'){e.preventDefault();}else if(this.options.eventPassthrough=='horizontal'){this.initiated=false;return;}
deltaY=0;}else if(this.directionLocked=='v'){if(this.options.eventPassthrough=='horizontal'){e.preventDefault();}else if(this.options.eventPassthrough=='vertical'){this.initiated=false;return;}
deltaX=0;}
deltaX=this.hasHorizontalScroll?deltaX:0;deltaY=this.hasVerticalScroll?deltaY:0;newX=this.x+deltaX;newY=this.y+deltaY;if(newX>0||newX<this.maxScrollX){newX=this.options.bounce?this.x+deltaX/3:newX>0?0:this.maxScrollX;}
if(newY>0||newY<this.maxScrollY){newY=this.options.bounce?this.y+deltaY/3:newY>0?0:this.maxScrollY;}
this.directionX=deltaX>0?-1:deltaX<0?1:0;this.directionY=deltaY>0?-1:deltaY<0?1:0;if(!this.moved){this._execEvent('scrollStart');}
this.moved=true;this._translate(newX,newY);if(timestamp-this.startTime>300){this.startTime=timestamp;this.startX=this.x;this.startY=this.y;}},_end:function(e){if(!this.enabled||utils.eventType[e.type]!==this.initiated){return;}
if(this.options.preventDefault&&!utils.preventDefaultException(e.target,this.options.preventDefaultException)){e.preventDefault();}
var point=e.changedTouches?e.changedTouches[0]:e,momentumX,momentumY,duration=utils.getTime()-this.startTime,newX=Math.round(this.x),newY=Math.round(this.y),distanceX=Math.abs(newX-this.startX),distanceY=Math.abs(newY-this.startY),time=0,easing='';this.isInTransition=0;this.initiated=0;this.endTime=utils.getTime();if(this.resetPosition(this.options.bounceTime)){return;}
this.scrollTo(newX,newY);if(!this.moved){if(this.options.tap){utils.tap(e,this.options.tap);}
if(this.options.click){utils.click(e);}
this._execEvent('scrollCancel');return;}
if(this._events.flick&&duration<200&&distanceX<100&&distanceY<100){this._execEvent('flick');return;}
if(this.options.momentum&&duration<300){momentumX=this.hasHorizontalScroll?utils.momentum(this.x,this.startX,duration,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:newX,duration:0};momentumY=this.hasVerticalScroll?utils.momentum(this.y,this.startY,duration,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{destination:newY,duration:0};newX=momentumX.destination;newY=momentumY.destination;time=Math.max(momentumX.duration,momentumY.duration);this.isInTransition=1;}
if(this.options.snap){var snap=this._nearestSnap(newX,newY);this.currentPage=snap;time=this.options.snapSpeed||Math.max(Math.max(Math.min(Math.abs(newX-snap.x),1000),Math.min(Math.abs(newY-snap.y),1000)),300);newX=snap.x;newY=snap.y;this.directionX=0;this.directionY=0;easing=this.options.bounceEasing;}
if(newX!=this.x||newY!=this.y){if(newX>0||newX<this.maxScrollX||newY>0||newY<this.maxScrollY){easing=utils.ease.quadratic;}
this.scrollTo(newX,newY,time,easing);return;}
this._execEvent('scrollEnd');},_resize:function(){var that=this;clearTimeout(this.resizeTimeout);this.resizeTimeout=setTimeout(function(){that.refresh();},this.options.resizePolling);},resetPosition:function(time){var x=this.x,y=this.y;time=time||0;if(!this.hasHorizontalScroll||this.x>0){x=0;}else if(this.x<this.maxScrollX){x=this.maxScrollX;}
if(!this.hasVerticalScroll||this.y>0){y=0;}else if(this.y<this.maxScrollY){y=this.maxScrollY;}
if(x==this.x&&y==this.y){return false;}
this.scrollTo(x,y,time,this.options.bounceEasing);return true;},disable:function(){this.enabled=false;},enable:function(){this.enabled=true;},refresh:function(){var rf=this.wrapper.offsetHeight;this.wrapperWidth=this.wrapper.clientWidth;this.wrapperHeight=this.wrapper.clientHeight;this.scrollerWidth=this.scroller.offsetWidth;this.scrollerHeight=this.scroller.offsetHeight;this.maxScrollX=this.wrapperWidth-this.scrollerWidth;this.maxScrollY=this.wrapperHeight-this.scrollerHeight;this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0;this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0;if(!this.hasHorizontalScroll){this.maxScrollX=0;this.scrollerWidth=this.wrapperWidth;}
if(!this.hasVerticalScroll){this.maxScrollY=0;this.scrollerHeight=this.wrapperHeight;}
this.endTime=0;this.directionX=0;this.directionY=0;this.wrapperOffset=utils.offset(this.wrapper);this._execEvent('refresh');this.resetPosition();},on:function(type,fn){if(!this._events[type]){this._events[type]=[];}
this._events[type].push(fn);},off:function(type,fn){if(!this._events[type]){return;}
var index=this._events[type].indexOf(fn);if(index>-1){this._events[type].splice(index,1);}},_execEvent:function(type){if(!this._events[type]){return;}
var i=0,l=this._events[type].length;if(!l){return;}
for(;i<l;i++){this._events[type][i].apply(this,[].slice.call(arguments,1));}},scrollBy:function(x,y,time,easing){x=this.x+x;y=this.y+y;time=time||0;this.scrollTo(x,y,time,easing);},scrollTo:function(x,y,time,easing){easing=easing||utils.ease.circular;this.isInTransition=this.options.useTransition&&time>0;if(!time||(this.options.useTransition&&easing.style)){this._transitionTimingFunction(easing.style);this._transitionTime(time);this._translate(x,y);}else{this._animate(x,y,time,easing.fn);}},scrollToElement:function(el,time,offsetX,offsetY,easing){el=el.nodeType?el:this.scroller.querySelector(el);if(!el){return;}
var pos=utils.offset(el);pos.left-=this.wrapperOffset.left;pos.top-=this.wrapperOffset.top;if(offsetX===true){offsetX=Math.round(el.offsetWidth/2-this.wrapper.offsetWidth/2);}
if(offsetY===true){offsetY=Math.round(el.offsetHeight/2-this.wrapper.offsetHeight/2);}
pos.left-=offsetX||0;pos.top-=offsetY||0;pos.left=pos.left>0?0:pos.left<this.maxScrollX?this.maxScrollX:pos.left;pos.top=pos.top>0?0:pos.top<this.maxScrollY?this.maxScrollY:pos.top;time=time===undefined||time===null||time==='auto'?Math.max(Math.abs(this.x-pos.left),Math.abs(this.y-pos.top)):time;this.scrollTo(pos.left,pos.top,time,easing);},_transitionTime:function(time){time=time||0;this.scrollerStyle[utils.style.transitionDuration]=time+'ms';if(!time&&utils.isBadAndroid){this.scrollerStyle[utils.style.transitionDuration]='0.001s';}
if(this.indicators){for(var i=this.indicators.length;i--;){this.indicators[i].transitionTime(time);}}},_transitionTimingFunction:function(easing){this.scrollerStyle[utils.style.transitionTimingFunction]=easing;if(this.indicators){for(var i=this.indicators.length;i--;){this.indicators[i].transitionTimingFunction(easing);}}},_translate:function(x,y){if(this.options.useTransform){this.scrollerStyle[utils.style.transform]='translate('+x+'px,'+y+'px)'+this.translateZ;}else{x=Math.round(x);y=Math.round(y);this.scrollerStyle.left=x+'px';this.scrollerStyle.top=y+'px';}
this.x=x;this.y=y;if(this.indicators){for(var i=this.indicators.length;i--;){this.indicators[i].updatePosition();}}},_initEvents:function(remove){var eventType=remove?utils.removeEvent:utils.addEvent,target=this.options.bindToWrapper?this.wrapper:window;eventType(window,'orientationchange',this);eventType(window,'resize',this);if(this.options.click){eventType(this.wrapper,'click',this,true);}
if(!this.options.disableMouse){eventType(this.wrapper,'mousedown',this);eventType(target,'mousemove',this);eventType(target,'mousecancel',this);eventType(target,'mouseup',this);}
if(utils.hasPointer&&!this.options.disablePointer){eventType(this.wrapper,utils.prefixPointerEvent('pointerdown'),this);eventType(target,utils.prefixPointerEvent('pointermove'),this);eventType(target,utils.prefixPointerEvent('pointercancel'),this);eventType(target,utils.prefixPointerEvent('pointerup'),this);}
if(utils.hasTouch&&!this.options.disableTouch){eventType(this.wrapper,'touchstart',this);eventType(target,'touchmove',this);eventType(target,'touchcancel',this);eventType(target,'touchend',this);}
eventType(this.scroller,'transitionend',this);eventType(this.scroller,'webkitTransitionEnd',this);eventType(this.scroller,'oTransitionEnd',this);eventType(this.scroller,'MSTransitionEnd',this);},getComputedPosition:function(){var matrix=window.getComputedStyle(this.scroller,null),x,y;if(this.options.useTransform){matrix=matrix[utils.style.transform].split(')')[0].split(', ');x=+(matrix[12]||matrix[4]);y=+(matrix[13]||matrix[5]);}else{x=+matrix.left.replace(/[^-\d.]/g,'');y=+matrix.top.replace(/[^-\d.]/g,'');}
return{x:x,y:y};},_initIndicators:function(){var interactive=this.options.interactiveScrollbars,customStyle=typeof this.options.scrollbars!='string',indicators=[],indicator;var that=this;this.indicators=[];if(this.options.scrollbars){if(this.options.scrollY){indicator={el:createDefaultScrollbar('v',interactive,this.options.scrollbars),interactive:interactive,defaultScrollbars:true,customStyle:customStyle,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenX:false};this.wrapper.appendChild(indicator.el);indicators.push(indicator);}
if(this.options.scrollX){indicator={el:createDefaultScrollbar('h',interactive,this.options.scrollbars),interactive:interactive,defaultScrollbars:true,customStyle:customStyle,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenY:false};this.wrapper.appendChild(indicator.el);indicators.push(indicator);}}
if(this.options.indicators){indicators=indicators.concat(this.options.indicators);}
for(var i=indicators.length;i--;){this.indicators.push(new Indicator(this,indicators[i]));}
function _indicatorsMap(fn){for(var i=that.indicators.length;i--;){fn.call(that.indicators[i]);}}
if(this.options.fadeScrollbars){this.on('scrollEnd',function(){_indicatorsMap(function(){this.fade();});});this.on('scrollCancel',function(){_indicatorsMap(function(){this.fade();});});this.on('scrollStart',function(){_indicatorsMap(function(){this.fade(1);});});this.on('beforeScrollStart',function(){_indicatorsMap(function(){this.fade(1,true);});});}
this.on('refresh',function(){_indicatorsMap(function(){this.refresh();});});this.on('destroy',function(){_indicatorsMap(function(){this.destroy();});delete this.indicators;});},_initWheel:function(){utils.addEvent(this.wrapper,'wheel',this);utils.addEvent(this.wrapper,'mousewheel',this);utils.addEvent(this.wrapper,'DOMMouseScroll',this);this.on('destroy',function(){utils.removeEvent(this.wrapper,'wheel',this);utils.removeEvent(this.wrapper,'mousewheel',this);utils.removeEvent(this.wrapper,'DOMMouseScroll',this);});},_wheel:function(e){if(!this.enabled){return;}
e.preventDefault();e.stopPropagation();var wheelDeltaX,wheelDeltaY,newX,newY,that=this;if(this.wheelTimeout===undefined){that._execEvent('scrollStart');}
clearTimeout(this.wheelTimeout);this.wheelTimeout=setTimeout(function(){that._execEvent('scrollEnd');that.wheelTimeout=undefined;},400);if('deltaX'in e){if(e.deltaMode===1){wheelDeltaX=-e.deltaX*this.options.mouseWheelSpeed;wheelDeltaY=-e.deltaY*this.options.mouseWheelSpeed;}else{wheelDeltaX=-e.deltaX;wheelDeltaY=-e.deltaY;}}else if('wheelDeltaX'in e){wheelDeltaX=e.wheelDeltaX/120*this.options.mouseWheelSpeed;wheelDeltaY=e.wheelDeltaY/120*this.options.mouseWheelSpeed;}else if('wheelDelta'in e){wheelDeltaX=wheelDeltaY=e.wheelDelta/120*this.options.mouseWheelSpeed;}else if('detail'in e){wheelDeltaX=wheelDeltaY=-e.detail/3*this.options.mouseWheelSpeed;}else{return;}
wheelDeltaX*=this.options.invertWheelDirection;wheelDeltaY*=this.options.invertWheelDirection;if(!this.hasVerticalScroll){wheelDeltaX=wheelDeltaY;wheelDeltaY=0;}
if(this.options.snap){newX=this.currentPage.pageX;newY=this.currentPage.pageY;if(wheelDeltaX>0){newX--;}else if(wheelDeltaX<0){newX++;}
if(wheelDeltaY>0){newY--;}else if(wheelDeltaY<0){newY++;}
this.goToPage(newX,newY);return;}
newX=this.x+Math.round(this.hasHorizontalScroll?wheelDeltaX:0);newY=this.y+Math.round(this.hasVerticalScroll?wheelDeltaY:0);if(newX>0){newX=0;}else if(newX<this.maxScrollX){newX=this.maxScrollX;}
if(newY>0){newY=0;}else if(newY<this.maxScrollY){newY=this.maxScrollY;}
this.scrollTo(newX,newY,0);},_initSnap:function(){this.currentPage={};if(typeof this.options.snap=='string'){this.options.snap=this.scroller.querySelectorAll(this.options.snap);}
this.on('refresh',function(){var i=0,l,m=0,n,cx,cy,x=0,y,stepX=this.options.snapStepX||this.wrapperWidth,stepY=this.options.snapStepY||this.wrapperHeight,el;this.pages=[];if(!this.wrapperWidth||!this.wrapperHeight||!this.scrollerWidth||!this.scrollerHeight){return;}
if(this.options.snap===true){cx=Math.round(stepX/2);cy=Math.round(stepY/2);while(x>-this.scrollerWidth){this.pages[i]=[];l=0;y=0;while(y>-this.scrollerHeight){this.pages[i][l]={x:Math.max(x,this.maxScrollX),y:Math.max(y,this.maxScrollY),width:stepX,height:stepY,cx:x-cx,cy:y-cy};y-=stepY;l++;}
x-=stepX;i++;}}else{el=this.options.snap;l=el.length;n=-1;for(;i<l;i++){if(i===0||el[i].offsetLeft<=el[i-1].offsetLeft){m=0;n++;}
if(!this.pages[m]){this.pages[m]=[];}
x=Math.max(-el[i].offsetLeft,this.maxScrollX);y=Math.max(-el[i].offsetTop,this.maxScrollY);cx=x-Math.round(el[i].offsetWidth/2);cy=y-Math.round(el[i].offsetHeight/2);this.pages[m][n]={x:x,y:y,width:el[i].offsetWidth,height:el[i].offsetHeight,cx:cx,cy:cy};if(x>this.maxScrollX){m++;}}}
this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0);if(this.options.snapThreshold%1===0){this.snapThresholdX=this.options.snapThreshold;this.snapThresholdY=this.options.snapThreshold;}else{this.snapThresholdX=Math.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width*this.options.snapThreshold);this.snapThresholdY=Math.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height*this.options.snapThreshold);}});this.on('flick',function(){var time=this.options.snapSpeed||Math.max(Math.max(Math.min(Math.abs(this.x-this.startX),1000),Math.min(Math.abs(this.y-this.startY),1000)),300);this.goToPage(this.currentPage.pageX+this.directionX,this.currentPage.pageY+this.directionY,time);});},_nearestSnap:function(x,y){if(!this.pages.length){return{x:0,y:0,pageX:0,pageY:0};}
var i=0,l=this.pages.length,m=0;if(Math.abs(x-this.absStartX)<this.snapThresholdX&&Math.abs(y-this.absStartY)<this.snapThresholdY){return this.currentPage;}
if(x>0){x=0;}else if(x<this.maxScrollX){x=this.maxScrollX;}
if(y>0){y=0;}else if(y<this.maxScrollY){y=this.maxScrollY;}
for(;i<l;i++){if(x>=this.pages[i][0].cx){x=this.pages[i][0].x;break;}}
l=this.pages[i].length;for(;m<l;m++){if(y>=this.pages[0][m].cy){y=this.pages[0][m].y;break;}}
if(i==this.currentPage.pageX){i+=this.directionX;if(i<0){i=0;}else if(i>=this.pages.length){i=this.pages.length-1;}
x=this.pages[i][0].x;}
if(m==this.currentPage.pageY){m+=this.directionY;if(m<0){m=0;}else if(m>=this.pages[0].length){m=this.pages[0].length-1;}
y=this.pages[0][m].y;}
return{x:x,y:y,pageX:i,pageY:m};},goToPage:function(x,y,time,easing){easing=easing||this.options.bounceEasing;if(x>=this.pages.length){x=this.pages.length-1;}else if(x<0){x=0;}
if(y>=this.pages[x].length){y=this.pages[x].length-1;}else if(y<0){y=0;}
var posX=this.pages[x][y].x,posY=this.pages[x][y].y;time=time===undefined?this.options.snapSpeed||Math.max(Math.max(Math.min(Math.abs(posX-this.x),1000),Math.min(Math.abs(posY-this.y),1000)),300):time;this.currentPage={x:posX,y:posY,pageX:x,pageY:y};this.scrollTo(posX,posY,time,easing);},next:function(time,easing){var x=this.currentPage.pageX,y=this.currentPage.pageY;x++;if(x>=this.pages.length&&this.hasVerticalScroll){x=0;y++;}
this.goToPage(x,y,time,easing);},prev:function(time,easing){var x=this.currentPage.pageX,y=this.currentPage.pageY;x--;if(x<0&&this.hasVerticalScroll){x=0;y--;}
this.goToPage(x,y,time,easing);},_initKeys:function(e){var keys={pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40};var i;if(typeof this.options.keyBindings=='object'){for(i in this.options.keyBindings){if(typeof this.options.keyBindings[i]=='string'){this.options.keyBindings[i]=this.options.keyBindings[i].toUpperCase().charCodeAt(0);}}}else{this.options.keyBindings={};}
for(i in keys){this.options.keyBindings[i]=this.options.keyBindings[i]||keys[i];}
utils.addEvent(window,'keydown',this);this.on('destroy',function(){utils.removeEvent(window,'keydown',this);});},_key:function(e){if(!this.enabled){return;}
var snap=this.options.snap,newX=snap?this.currentPage.pageX:this.x,newY=snap?this.currentPage.pageY:this.y,now=utils.getTime(),prevTime=this.keyTime||0,acceleration=0.250,pos;if(this.options.useTransition&&this.isInTransition){pos=this.getComputedPosition();this._translate(Math.round(pos.x),Math.round(pos.y));this.isInTransition=false;}
this.keyAcceleration=now-prevTime<200?Math.min(this.keyAcceleration+acceleration,50):0;switch(e.keyCode){case this.options.keyBindings.pageUp:if(this.hasHorizontalScroll&&!this.hasVerticalScroll){newX+=snap?1:this.wrapperWidth;}else{newY+=snap?1:this.wrapperHeight;}
break;case this.options.keyBindings.pageDown:if(this.hasHorizontalScroll&&!this.hasVerticalScroll){newX-=snap?1:this.wrapperWidth;}else{newY-=snap?1:this.wrapperHeight;}
break;case this.options.keyBindings.end:newX=snap?this.pages.length-1:this.maxScrollX;newY=snap?this.pages[0].length-1:this.maxScrollY;break;case this.options.keyBindings.home:newX=0;newY=0;break;case this.options.keyBindings.left:newX+=snap?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.up:newY+=snap?1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.right:newX-=snap?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.down:newY-=snap?1:5+this.keyAcceleration>>0;break;default:return;}
if(snap){this.goToPage(newX,newY);return;}
if(newX>0){newX=0;this.keyAcceleration=0;}else if(newX<this.maxScrollX){newX=this.maxScrollX;this.keyAcceleration=0;}
if(newY>0){newY=0;this.keyAcceleration=0;}else if(newY<this.maxScrollY){newY=this.maxScrollY;this.keyAcceleration=0;}
this.scrollTo(newX,newY,0);this.keyTime=now;},_animate:function(destX,destY,duration,easingFn){var that=this,startX=this.x,startY=this.y,startTime=utils.getTime(),destTime=startTime+duration;function step(){var now=utils.getTime(),newX,newY,easing;if(now>=destTime){that.isAnimating=false;that._translate(destX,destY);if(!that.resetPosition(that.options.bounceTime)){that._execEvent('scrollEnd');}
return;}
now=(now-startTime)/duration;easing=easingFn(now);newX=(destX-startX)*easing+startX;newY=(destY-startY)*easing+startY;that._translate(newX,newY);if(that.isAnimating){rAF(step);}}
this.isAnimating=true;step();},handleEvent:function(e){switch(e.type){case'touchstart':case'pointerdown':case'MSPointerDown':case'mousedown':this._start(e);break;case'touchmove':case'pointermove':case'MSPointerMove':case'mousemove':this._move(e);break;case'touchend':case'pointerup':case'MSPointerUp':case'mouseup':case'touchcancel':case'pointercancel':case'MSPointerCancel':case'mousecancel':this._end(e);break;case'orientationchange':case'resize':this._resize();break;case'transitionend':case'webkitTransitionEnd':case'oTransitionEnd':case'MSTransitionEnd':this._transitionEnd(e);break;case'wheel':case'DOMMouseScroll':case'mousewheel':this._wheel(e);break;case'keydown':this._key(e);break;case'click':if(!e._constructed){e.preventDefault();e.stopPropagation();}
break;}}};function createDefaultScrollbar(direction,interactive,type){var scrollbar=document.createElement('div'),indicator=document.createElement('div');if(type===true){scrollbar.style.cssText='position:absolute;z-index:9999';indicator.style.cssText='-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px';}
indicator.className='iScrollIndicator';if(direction=='h'){if(type===true){scrollbar.style.cssText+=';height:7px;left:2px;right:2px;bottom:0';indicator.style.height='100%';}
scrollbar.className='iScrollHorizontalScrollbar';}else{if(type===true){scrollbar.style.cssText+=';width:7px;bottom:2px;top:2px;right:1px';indicator.style.width='100%';}
scrollbar.className='iScrollVerticalScrollbar';}
scrollbar.style.cssText+=';overflow:hidden';if(!interactive){scrollbar.style.pointerEvents='none';}
scrollbar.appendChild(indicator);return scrollbar;}
function Indicator(scroller,options){this.wrapper=typeof options.el=='string'?document.querySelector(options.el):options.el;this.wrapperStyle=this.wrapper.style;this.indicator=this.wrapper.children[0];this.indicatorStyle=this.indicator.style;this.scroller=scroller;this.options={listenX:true,listenY:true,interactive:false,resize:true,defaultScrollbars:false,shrink:false,fade:false,speedRatioX:0,speedRatioY:0};for(var i in options){this.options[i]=options[i];}
this.sizeRatioX=1;this.sizeRatioY=1;this.maxPosX=0;this.maxPosY=0;if(this.options.interactive){if(!this.options.disableTouch){utils.addEvent(this.indicator,'touchstart',this);utils.addEvent(window,'touchend',this);}
if(!this.options.disablePointer){utils.addEvent(this.indicator,utils.prefixPointerEvent('pointerdown'),this);utils.addEvent(window,utils.prefixPointerEvent('pointerup'),this);}
if(!this.options.disableMouse){utils.addEvent(this.indicator,'mousedown',this);utils.addEvent(window,'mouseup',this);}}
if(this.options.fade){this.wrapperStyle[utils.style.transform]=this.scroller.translateZ;this.wrapperStyle[utils.style.transitionDuration]=utils.isBadAndroid?'0.001s':'0ms';this.wrapperStyle.opacity='0';}}
Indicator.prototype={handleEvent:function(e){switch(e.type){case'touchstart':case'pointerdown':case'MSPointerDown':case'mousedown':this._start(e);break;case'touchmove':case'pointermove':case'MSPointerMove':case'mousemove':this._move(e);break;case'touchend':case'pointerup':case'MSPointerUp':case'mouseup':case'touchcancel':case'pointercancel':case'MSPointerCancel':case'mousecancel':this._end(e);break;}},destroy:function(){if(this.options.interactive){utils.removeEvent(this.indicator,'touchstart',this);utils.removeEvent(this.indicator,utils.prefixPointerEvent('pointerdown'),this);utils.removeEvent(this.indicator,'mousedown',this);utils.removeEvent(window,'touchmove',this);utils.removeEvent(window,utils.prefixPointerEvent('pointermove'),this);utils.removeEvent(window,'mousemove',this);utils.removeEvent(window,'touchend',this);utils.removeEvent(window,utils.prefixPointerEvent('pointerup'),this);utils.removeEvent(window,'mouseup',this);}
if(this.options.defaultScrollbars){this.wrapper.parentNode.removeChild(this.wrapper);}},_start:function(e){var point=e.touches?e.touches[0]:e;e.preventDefault();e.stopPropagation();this.transitionTime();this.initiated=true;this.moved=false;this.lastPointX=point.pageX;this.lastPointY=point.pageY;this.startTime=utils.getTime();if(!this.options.disableTouch){utils.addEvent(window,'touchmove',this);}
if(!this.options.disablePointer){utils.addEvent(window,utils.prefixPointerEvent('pointermove'),this);}
if(!this.options.disableMouse){utils.addEvent(window,'mousemove',this);}
this.scroller._execEvent('beforeScrollStart');},_move:function(e){var point=e.touches?e.touches[0]:e,deltaX,deltaY,newX,newY,timestamp=utils.getTime();if(!this.moved){this.scroller._execEvent('scrollStart');}
this.moved=true;deltaX=point.pageX-this.lastPointX;this.lastPointX=point.pageX;deltaY=point.pageY-this.lastPointY;this.lastPointY=point.pageY;newX=this.x+deltaX;newY=this.y+deltaY;this._pos(newX,newY);e.preventDefault();e.stopPropagation();},_end:function(e){if(!this.initiated){return;}
this.initiated=false;e.preventDefault();e.stopPropagation();utils.removeEvent(window,'touchmove',this);utils.removeEvent(window,utils.prefixPointerEvent('pointermove'),this);utils.removeEvent(window,'mousemove',this);if(this.scroller.options.snap){var snap=this.scroller._nearestSnap(this.scroller.x,this.scroller.y);var time=this.options.snapSpeed||Math.max(Math.max(Math.min(Math.abs(this.scroller.x-snap.x),1000),Math.min(Math.abs(this.scroller.y-snap.y),1000)),300);if(this.scroller.x!=snap.x||this.scroller.y!=snap.y){this.scroller.directionX=0;this.scroller.directionY=0;this.scroller.currentPage=snap;this.scroller.scrollTo(snap.x,snap.y,time,this.scroller.options.bounceEasing);}}
if(this.moved){this.scroller._execEvent('scrollEnd');}},transitionTime:function(time){time=time||0;this.indicatorStyle[utils.style.transitionDuration]=time+'ms';if(!time&&utils.isBadAndroid){this.indicatorStyle[utils.style.transitionDuration]='0.001s';}},transitionTimingFunction:function(easing){this.indicatorStyle[utils.style.transitionTimingFunction]=easing;},refresh:function(){this.transitionTime();if(this.options.listenX&&!this.options.listenY){this.indicatorStyle.display=this.scroller.hasHorizontalScroll?'block':'none';}else if(this.options.listenY&&!this.options.listenX){this.indicatorStyle.display=this.scroller.hasVerticalScroll?'block':'none';}else{this.indicatorStyle.display=this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?'block':'none';}
if(this.scroller.hasHorizontalScroll&&this.scroller.hasVerticalScroll){utils.addClass(this.wrapper,'iScrollBothScrollbars');utils.removeClass(this.wrapper,'iScrollLoneScrollbar');if(this.options.defaultScrollbars&&this.options.customStyle){if(this.options.listenX){this.wrapper.style.right='8px';}else{this.wrapper.style.bottom='8px';}}}else{utils.removeClass(this.wrapper,'iScrollBothScrollbars');utils.addClass(this.wrapper,'iScrollLoneScrollbar');if(this.options.defaultScrollbars&&this.options.customStyle){if(this.options.listenX){this.wrapper.style.right='2px';}else{this.wrapper.style.bottom='2px';}}}
var r=this.wrapper.offsetHeight;if(this.options.listenX){this.wrapperWidth=this.wrapper.clientWidth;if(this.options.resize){this.indicatorWidth=Math.max(Math.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||1)),8);this.indicatorStyle.width=this.indicatorWidth+'px';}else{this.indicatorWidth=this.indicator.clientWidth;}
this.maxPosX=this.wrapperWidth-this.indicatorWidth;if(this.options.shrink=='clip'){this.minBoundaryX=-this.indicatorWidth+8;this.maxBoundaryX=this.wrapperWidth-8;}else{this.minBoundaryX=0;this.maxBoundaryX=this.maxPosX;}
this.sizeRatioX=this.options.speedRatioX||(this.scroller.maxScrollX&&(this.maxPosX/this.scroller.maxScrollX));}
if(this.options.listenY){this.wrapperHeight=this.wrapper.clientHeight;if(this.options.resize){this.indicatorHeight=Math.max(Math.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),8);this.indicatorStyle.height=this.indicatorHeight+'px';}else{this.indicatorHeight=this.indicator.clientHeight;}
this.maxPosY=this.wrapperHeight-this.indicatorHeight;if(this.options.shrink=='clip'){this.minBoundaryY=-this.indicatorHeight+8;this.maxBoundaryY=this.wrapperHeight-8;}else{this.minBoundaryY=0;this.maxBoundaryY=this.maxPosY;}
this.maxPosY=this.wrapperHeight-this.indicatorHeight;this.sizeRatioY=this.options.speedRatioY||(this.scroller.maxScrollY&&(this.maxPosY/this.scroller.maxScrollY));}
this.updatePosition();},updatePosition:function(){var x=this.options.listenX&&Math.round(this.sizeRatioX*this.scroller.x)||0,y=this.options.listenY&&Math.round(this.sizeRatioY*this.scroller.y)||0;if(!this.options.ignoreBoundaries){if(x<this.minBoundaryX){if(this.options.shrink=='scale'){this.width=Math.max(this.indicatorWidth+x,8);this.indicatorStyle.width=this.width+'px';}
x=this.minBoundaryX;}else if(x>this.maxBoundaryX){if(this.options.shrink=='scale'){this.width=Math.max(this.indicatorWidth-(x-this.maxPosX),8);this.indicatorStyle.width=this.width+'px';x=this.maxPosX+this.indicatorWidth-this.width;}else{x=this.maxBoundaryX;}}else if(this.options.shrink=='scale'&&this.width!=this.indicatorWidth){this.width=this.indicatorWidth;this.indicatorStyle.width=this.width+'px';}
if(y<this.minBoundaryY){if(this.options.shrink=='scale'){this.height=Math.max(this.indicatorHeight+y*3,8);this.indicatorStyle.height=this.height+'px';}
y=this.minBoundaryY;}else if(y>this.maxBoundaryY){if(this.options.shrink=='scale'){this.height=Math.max(this.indicatorHeight-(y-this.maxPosY)*3,8);this.indicatorStyle.height=this.height+'px';y=this.maxPosY+this.indicatorHeight-this.height;}else{y=this.maxBoundaryY;}}else if(this.options.shrink=='scale'&&this.height!=this.indicatorHeight){this.height=this.indicatorHeight;this.indicatorStyle.height=this.height+'px';}}
this.x=x;this.y=y;if(this.scroller.options.useTransform){this.indicatorStyle[utils.style.transform]='translate('+x+'px,'+y+'px)'+this.scroller.translateZ;}else{this.indicatorStyle.left=x+'px';this.indicatorStyle.top=y+'px';}},_pos:function(x,y){if(x<0){x=0;}else if(x>this.maxPosX){x=this.maxPosX;}
if(y<0){y=0;}else if(y>this.maxPosY){y=this.maxPosY;}
x=this.options.listenX?Math.round(x/this.sizeRatioX):this.scroller.x;y=this.options.listenY?Math.round(y/this.sizeRatioY):this.scroller.y;this.scroller.scrollTo(x,y);},fade:function(val,hold){if(hold&&!this.visible){return;}
clearTimeout(this.fadeTimeout);this.fadeTimeout=null;var time=val?250:500,delay=val?0:300;val=val?'1':'0';this.wrapperStyle[utils.style.transitionDuration]=time+'ms';this.fadeTimeout=setTimeout((function(val){this.wrapperStyle.opacity=val;this.visible=+val;}).bind(this,val),delay);}};IScroll.utils=utils;if(typeof module!='undefined'&&module.exports){module.exports=IScroll;}else{window.IScroll=IScroll;}})(window,document,Math);var glb=glb||{};glb.cookie={create:function(name,value,minutes,domain){var date,expires;if(minutes){date=new Date();date.setTime(date.getTime()+(minutes*60*1000));expires='; expires='+date.toGMTString();}else{expires='';}
domain=(domain)?'; domain='+domain:'';document.cookie=name+'='+value+expires+'; path=/'+domain;},read:function(name){var nameEQ=name+'=';var ca=document.cookie.split(';');for(var i=0;i<ca.length;i++){var c=ca[i];while(c.charAt(0)==' ')c=c.substring(1,c.length);if(c.indexOf(nameEQ)===0)return c.substring(nameEQ.length,c.length);}
return null;},erase:function(name){this.create(name,'',-1);}};(function(global){global.libby=global.libby||{};global.libby.iScrollSwiper=function(element,options){if(this.constructor!=global.libby.iScrollSwiper){return new global.libby.iScrollSwiper(element,options);}
this.initialize(element,options);return this;};global.libby.iScrollSwiper.prototype={constructor:global.libby.iScrollSwiper,options:{bounce:false,momentum:false,vScroll:false,hScroll:true,hScrollbar:false,vScrollbar:false,snap:true},initialize:function(element,options){var optKey,defaultOpts=global.libby.iScrollSwiper.prototype.options;options=options||{};this.options=options;for(optKey in defaultOpts){if(!(optKey in this.options)){this.options[optKey]=defaultOpts[optKey];}}
this.options.onBeforeScrollStartOriginal=this.options.onBeforeScrollStart;this.options.onBeforeScrollMoveOriginal=this.options.onBeforeScrollMove;this.options.onBeforeScrollStart=this._onBeforeScrollStart.bind(this);this.options.onBeforeScrollMove=this._onBeforeScrollMove.bind(this);this.element=element;this.scroller=new iScroll(element,this.options);$(this.scroller.scroller).on('click','a',this._handleLinkClick.bind(this));},_handleLinkClick:function(e){if(this.scroller.moved){e.preventDefault();}},_onBeforeScrollStart:function(e){if(this.options.onBeforeScrollStartOriginal){this.options.onBeforeScrollStartOriginal();}
var point=(e.touches&&e.touches[0])||e;this.startPointX=point.pageX;},_onBeforeScrollMove:function(e){if(this.options.onBeforeScrollMoveOriginal){this.options.onBeforeScrollMoveOriginal();}
var point=(e.touches&&e.touches[0])||e,deltaX=point.pageX-this.startPointX;if(Math.abs(deltaX)>20){e.preventDefault();}}};}(this));(function($,window){$.safeXDR=function(url,parameters,complete){if(complete){get(url,parameters,complete);}else{getByImage(url,parameters);}};function getByImage(url,parameters){parameters.nocache=new Date().getTime();var imageSrc=url+"?"+$.param(parameters);var image=new Image();image.src=imageSrc;}
function get(url,parameters,complete){function parseAndInvokeCallback(response){try{response=JSON.parse(response);}catch(err){}
complete(response);}
if(isIE()){getByXDomainRequest(url,parameters,parseAndInvokeCallback);}else{getByAjax(url,parameters,parseAndInvokeCallback);}}
function getByAjax(url,parameters,complete){$.ajax({url:url,type:'GET',data:parameters,cache:false,timeout:500,success:function(response){complete(response);},error:function(){complete();}});}
function getByXDomainRequest(url,parameters,complete){parameters.nocache=new Date().getTime();var xdr=new XDomainRequest();if(!xdr){return complete();}
xdr.onload=function(){complete(xdr.responseText);};xdr.onerror=function(){complete();};xdr.onprogress=function(){};xdr.ontimeout=function(){complete();};xdr.timeout=500;xdr.open('GET',url+"?"+$.param(parameters));xdr.send();}
function isIE(){return window.XDomainRequest;}}(jQuery,window));!function(a,b){typeof module!="undefined"?module.exports=b():typeof define=="function"&&typeof define.amd=="object"?define(b):this[a]=b()}("kizzy",function(){function a(){}function p(){return+(new Date)}function q(a,b){a._[b]&&a._[b].e&&a._[b].e<p()&&a.remove(b)}function r(a){return typeof a=="number"&&isFinite(a)}function s(a){return localStorage[a]}function t(a,b){return localStorage[a]=b,b}function u(a){delete localStorage[a]}function v(){localStorage.clear()}function w(a){var b=j.childNodes,c,d=null;for(var e=0,f=b.length;e<f;e++){c=b.item(e);if(c.getAttribute("key")==a){d=c;break}}return d}function x(a){var b=w(a),c=null;return b&&(c=b.getAttribute("value")),c}function y(a,b){var c=w(a);return c?c.setAttribute("value",b):(c=i.createNode(1,"item",""),c.setAttribute("key",a),c.setAttribute("value",b),j.appendChild(c)),h.save(d),b}function z(a){w(a)&&j.removeChild(node),h.save(d)}function A(){while(j.firstChild)j.removeChild(j.firstChild);h.save(d)}function B(){this._={}}function C(a){this.ns=a,this._=JSON.parse(m(a)||"{}")}function D(a){return new C(a)}var b,c=document,d=c.domain,e=0,f=function(){return 1};try{b=!!localStorage||!!globalStorage,localStorage||(localStorage=globalStorage[d]),e=1}catch(g){e=0;try{if(c.documentElement.addBehavior){e=0,b=1;var h=c.documentElement;h.addBehavior("#default#userData"),h.load(d);var i=h.xmlDocument,j=i.documentElement}}catch(k){b=!1}}var l=a,m=a,n=a,o=a;return b&&(l=e?t:y,m=e?s:x,n=e?u:z,o=e?v:A,f=function(a){try{var b=JSON.stringify(a._);return b=="{}"?n(a.ns):l(a.ns,b),1}catch(c){return 0}}),B.prototype={set:function(a,b,c){return this._[a]={value:b,e:r(c)?p()+c:0},f(this)||this.remove(a),b},get:function(a){return q(this,a),this._[a]?this._[a].value:undefined},remove:function(a){delete this._[a],f(this)},clear:function(){this._={},f(this)},clearExpireds:function(){for(var a in this._)q(this,a);f(this)}},C.prototype=B.prototype,D.remove=n,D.clear=o,D});(function(global){var ONE_DAY_EXPIRATION_TIME=86400000;var ab={server:'',get:function(parameters,callback){var experimentName=parameters.experiment;var defaultValue=parameters.defaultValue;var increment=typeof parameters.increment==="undefined"?true:parameters.increment;var path=increment?"ab/":"ab/version/";var key,userId;if(parameters.userId){userId=parameters.userId;key="user"+userId+":"+experimentName;}else{key="ab:"+experimentName;}
var url=ab.server+path+experimentName;var requestParameters={};if(userId){requestParameters.user_id=userId;}
if(parameters.version){requestParameters.alternative=parameters.version;}
$.safeXDR(url,requestParameters,function(response){if(response){setCache(key,response);if(callback){callback(response.result);}}else{returnCacheIfError(key,defaultValue,callback);}});},conversion:function(parameters){var url=ab.server+"convert/"+parameters.experiment+"/"+parameters.version;$.safeXDR(url,{});}};function returnCacheIfError(key,defaultValue,callback){var response=getCache(key)||{result:defaultValue};if(callback){callback(response.result);}}
function getCache(key){return cache().get(key);}
function setCache(key,value){cache().set(key,value,ONE_DAY_EXPIRATION_TIME);}
function cache(){return kizzy('globoAB');}
global.globoAB=ab;}(this));(function($){$.fn.delayClickOn=function(selector,callback){callback=callback||function(){};this.delegate(selector,'click',function(e){if(this.shouldGo){return true;}
callback();if(e.ctrlKey||e.metaKey){return true;}
e.preventDefault();var link=$(this);window.setTimeout(function(){link.performClick();},200);return true;});};$.fn.performClick=function(){var element=this[0],evt;element.shouldGo=true;if(document.createEvent){document.createEvent("MouseEvents");evt.initMouseEvent('click',true,true,window,0,0,0,0,0,false,false,false,false,0,null);element.dispatchEvent(evt);}else if(document.createEventObject){evt=document.createEventObject();element.fireEvent('onclick',evt);element.click();}else{var url=$(this).attr('href');var newForm=$('<form method="GET"></form>').attr('action',url);$('body').append(newForm);newForm.submit();}};}(jQuery));(function($,global){var CookieJar={create:function(name,value,minutes,domain){value=encodeURIComponent(value);if(minutes){var date=new Date;date.setTime(date.getTime()+(minutes*60*1000));value+='; expires='+date.toGMTString();}
domain=(domain)?'; domain='+domain:'';document.cookie=name+'='+value+'; path=/'+domain;return this;},_escapeRegExp:function(regexp){return regexp.replace(/[-[\]{}()*+?.\\^$|,#\s]/g,'\\$&');},read:function(name){var match=document.cookie.match(new RegExp('(?:;|^)\\s*'+this._escapeRegExp(name)+'=([^;]*)'));return(match)?decodeURIComponent(match[1]):null;},erase:function(name,domain){return this.create(name,'',-1,domain);}};global.AbTest={_countConversion:function(){globoAB.conversion({experiment:AbTestInfo.name,version:AbTestInfo.version});},_onVersionAcquired:function(version){var expirationTime=60*24*30;CookieJar.create('ab_id',AbTestInfo.id,expirationTime,document.location.host);CookieJar.create('ab_version',version,expirationTime,document.location.host);},start:function(serverPath){if(!global.AbTestInfo){CookieJar.erase('ab_version',document.location.host);CookieJar.erase('ab_id',document.location.host);return;}
var userId=CookieJar.read('__utma'),currentId=CookieJar.read('ab_id');globoAB.server=serverPath;if(currentId==AbTestInfo.id){globoAB.get({experiment:AbTestInfo.name,defaultValue:"a",userId:userId},$.proxy(this._onVersionAcquired,this));}else{globoAB.get({experiment:AbTestInfo.name,defaultValue:"a",userId:userId},$.proxy(this._onVersionAcquired,this));}
$(document).delayClickOn('.-ab-test-box a',$.proxy(this._countConversion,this));}};}(jQuery,window));(function(global){global.libby=global.libby||{};global.libby.ScrollAnalyzer=function(options){if(this.constructor!=global.libby.ScrollAnalyzer){return new global.libby.ScrollAnalyzer(options);}
this.initialize(options);return this;};global.libby.ScrollAnalyzer.prototype={constructor:global.libby.ScrollAnalyzer,options:{marks:[25,50,75,100],elements:[],labelMapper:function(element){var label=element.label;if(!label&&element.getAttribute){label=element.getAttribute('data-scroll-label')||element.getAttribute('class');}
return label;},onElementShown:null},initialize:function(options){var optKey,defaultOpts=this.options;this.options={};options=options||{};for(optKey in defaultOpts){this.options[optKey]=options[optKey]||defaultOpts[optKey];}
this.marks=this.calculateMarks();this.spyScrolling();},getDocument:function(){return document.body;},calculateMarks:function(){var el=this.getDocument(),len=this.options.marks.length,resultMarks=[],mark,i;for(i=0;i<len;++i){mark={'label':this.options.marks[i]+'%','position':parseInt(el.clientHeight*(this.options.marks[i]/100),10)-1};resultMarks.push(mark);}
return resultMarks;},newElement:function(mark){var el=document.createElement('div');el.style.position="absolute";el.style.left=0;el.style.top=mark.position+"px";el.style.background="transparent";el.style.width="1px";el.style.height="1px";return el;},showMarks:function(){var len=this.marks.length,i,el;for(i=0;i<this.marks.length;++i){el=this.markElements[i];el.style.background="red";el.style.width="100%";el.style.height="20px";el.style.opacity=".4";el.appendChild(document.createTextNode(this.marks[i].label));}
for(i=0;i<this.options.elements.length;++i){el=this.options.elements[i];el.style.background="red";el.style.minHeight="20px";}},spyScrolling:function(){var scrollSpy=libby.responsive.scrollSpy,self=this,i,el;self.markElements=[];for(i=0;i<this.marks.length;++i){el=self.newElement(this.marks[i]);self.markElements.push(self.getDocument().appendChild(el));scrollSpy.add(el,this.elementShownCallback(this.marks[i]));}
for(i=0;i<this.options.elements.length;++i){el=this.options.elements[i];scrollSpy.add(el,this.elementShownCallback(el));}},elementShownCallback:function(element){var self=this;return function(){self.onElementShown(self.options.labelMapper(element),element);};},onElementShown:function(label,element){if(element.clientHeight===0){return;}
var shouldTrack=true;if(this.options.onElementShown){shouldTrack=(this.options.onElementShown(label,element)!==false);}
if(global._gaq&&shouldTrack){global._gaq.push(['_trackEvent',"Scroll Vertical",'Home',label,0,true]);}}};})(window);if(window.globoAB){globoAB.server='http://globo-ab.globo.com/';}
libby.soccerTeams=new libby.SoccerTeams('http://c.api.globo.com/soccer_teams/');libby.pubsub=$(document);libby.weatherDeferred=new libby.DeferredValue();new window.ColumnsAdapter();$('#libby-box-previsao-tempo').boxPrevisaoTempo({weatherUrl:'http://g1.globo.com/previsao-do-tempo/',weatherApiUrl:'http://api.g1.globo.com/tempo/cidade-resumida/'}).on('cityForecast',function(ev,cityData,weatherData,url){libby.weatherDeferred.set({cityData:cityData,weatherData:weatherData,url:url});});libby.pubsub.on("loaded-agrupador-destaque-globotv-com-canais",function(){libby.containerKindDefer.get(function(containerKind){$('div.libby-agrupador-destaque-globotv-com-canais').agrupadorDestaqueGloboTVComCanais({size:containerKind});});});libby.pubsub.on("responsiveHub.onContainerChanged",function(){$("br").after(" ");});libby.containerKindDefer.get(function(containerKind){var elementsPerPage=(containerKind=='smart'||containerKind=='smart_horizontal'||containerKind=='feature')?2:3;$('#topglobocom3').topglobocom3({size:containerKind});if(containerKind!="desktop"){$("br").after(" ");}});libby.eventsArray=new libby.EventsArray(libby.eventsArray,libby.pubsub);AbTest.start('http://globo-ab.globo.com/');(function(global,$){global.libby=global.libby||{};global.libby.personalizaveisManager={targets:{},newsUpdatedId:'widgetsPersonalizaveis.newsUpdated',updatePhotosId:'widgetsPersonalizaveis.updatePhotos',init:function(){libby.event.on(this.newsUpdatedId,$.proxy(this._onNewsUpdated,this));},_onNewsUpdated:function(evtData){var target=this.targets[evtData.name];target=this.targets[evtData.name]=target||[];target[evtData.photoIdx]=evtData.isAvailable;var shownPhotos=[];for(var widgetName in this.targets){var photos=this.targets[widgetName];for(var i=0,len=photos.length;i<len;++i){if(shownPhotos[i]===undefined){shownPhotos[i]=true;}
shownPhotos[i]=shownPhotos[i]&&(!!photos[i]);}}
libby.event.fire(this.updatePhotosId,[shownPhotos]);},listenUpdatePhotos:function(callback){libby.event.on(this.updatePhotosId,callback);},fireNewsUpdated:function(name,photoIdx,isAvailable){libby.event.fire(this.newsUpdatedId,[{name:name,photoIdx:photoIdx,isAvailable:isAvailable}]);}};})(window,jQuery);(function(){libby.personalizaveisManager.init();})();(function($){$.widget("home.widgetPersonalizaveis",$.libby.widgetBase,{options:{animationTime:150,coverAnimationTime:200,loadingDelay:500,lockTimeout:1500},_create:function(){var self=this;window.glb=window.glb||{};window.glb.preferences=window.glb.preferences||[];this._super('_create');this._createLoadingMarkup();libby.personalizaveisManager.listenUpdatePhotos($.proxy(this._onUpdatePhotos,this));this._initContainerWatcher();var newsService=this._getNewsService();newsService.onSuccess($.proxy(this._onNewsReady,this));this._getAvailableChoices($.proxy(function(){this._getCurrentChoice(function(value){this._trigger('initialChoice',value);this._getAvailableNews($.proxy(function(){self._createBasicMarkup();self._initChoices(function(){self._updateElements(value);});},self));});},this));this.element.widgetPersonalizavelAnalytics();},_getChoicesData:function(){throw'_getChoicesData should be overriden';},_getChoiceOptions:function(){throw'_getChoiceOptions should be overriden';},_getNewsService:function(){throw'_getNewsService should be overriden';},_renderChoices:function(choicesData){throw'_renderChoices should be overriden';},_bindChoiceEvents:function(element,choicesData){throw'_bindChoiceEvents should be overriden';},_getDefaultChoice:function(callback){throw'_getDefaultChoice should be overriden';},_getCssClass:function(){throw'_getCssClass should be overriden';},_getChangeText:function(){throw'_getChangeText should be overriden';},_getSelectText:function(){throw'_getSelectText should be overriden';},_storageKeyName:function(){throw'_storageKeyName should be overriden';},_storageProductName:function(){throw'_storageProductName should be overriden';},_getAnalyticsData:function(){throw'_getAnalyticsData should be overriden';},_initContainerWatcher:function(){this.responsiveType="desktop";if(window.responsiveHub){this.responsiveType=responsiveHub.chosenSize;}
if(libby.pubsub){libby.pubsub.on('responsiveHub.onContainerChanged',$.proxy(function(ev,lastContainerSize,actualContainerSize,type){this.responsiveType=type;if(this.elements.choices&&this.elements.choices.is(':visible')){this._closeChoices();this._showCoverWithMenuOpened();}},this));}},_initChoices:function(readyCallback){if(this.elements.choices){if(readyCallback){readyCallback();}
return;}
this._getAvailableChoices($.proxy(function(data){this._onChoicesReady(data);if(readyCallback){readyCallback();}},this));},loadingShow:function(callback){var self=this;this.elements.loading.fadeIn("normal",callback);},loadingHide:function(){this.elements.loading.fadeOut();},_isLoadingVisible:function(){return this.elements.loading.is(':visible');},_getAvailableChoices:function(callback){if(this.availableChoices){callback(this.availableChoices);return;}
this.loadingShow();this._getChoiceOptions($.proxy(function(data){this.loadingHide();this.availableChoices=data;callback(data);},this));},_onChoicesReady:function(choicesData){this._renderChoices(choicesData);this._applyPIE(this.elements.changeChoiceButton);},_getAvailableNews:function(callback){var self=this;this._getCurrentChoice(function(currentChoice){var newsService=self._getNewsService();self.currentNewsOnSuccessCallback=callback;self.loadingShow(function(){newsService.update(currentChoice.slug);});});},_onNewsReady:function(newsData){if(this.currentNewsOnSuccessCallback){this.currentNewsOnSuccessCallback();this.currentNewsOnSuccessCallback=null;}
var self=this;$.each(newsData,function(idx,el){el.idx=idx;});newsData.sort(function(a,b){var photoOrder=(a.foto?0:1)-(b.foto?0:1);if(photoOrder!==0){return photoOrder;}
return a.idx-b.idx;});var links=$("#bloco-principal a, .glb-area-colunas a"),len=newsData.length,highlightsLen=this.elements.highlightItems.length;for(var i=0,j=0;i<len&&j<highlightsLen;++i){var highlight=this.elements.highlightItems.eq(j);var news=newsData[i];if(this._canIUse(links,news)){var imgEl=highlight.find('img'),contentArea=highlight.find('span.conteudo p');highlight.find('a').attr('href',news.url);contentArea.text(news.titulo);this._handleImageLoading(imgEl,highlight,j,news.foto);++j;}}
this._getCurrentChoice(function(currentChoice){self.elements.highlightsTitle.text(currentChoice.name);self.elements.highlightsLink.attr('href',currentChoice.url);self.loadingHide();});},_canIUse:function(links,news){return!links.is('[href="'+news.url+'"]');},_handleImageLoading:function(imgEl,highlight,idx,src){var self=this;highlight.removeClass('com-foto');imgEl.hide();if(!src){imgEl.attr('src','');this._firePhotoUpdated(idx,false);return;}
imgEl.bind('load',function(){imgEl.unbind('load');imgEl.unbind('error');self._firePhotoUpdated(idx,true);});imgEl.bind('error',function(e){imgEl.unbind('load');imgEl.unbind('error');imgEl.attr('src','');self._firePhotoUpdated(idx,false);});imgEl.attr('src',src);},_firePhotoUpdated:function(idx,isVisible){libby.personalizaveisManager.fireNewsUpdated(this.widgetBaseClass,idx,isVisible);this._fitText();},_fitText:function(){if($.fn.dotdotdot){this.elements.highlights.find('span.conteudo p').dotdotdot();}},_onUpdatePhotos:function(shownPhotos){var images=this.elements.highlightImages;if(!images){return;}
for(var i=0,len=shownPhotos.length;i<len;++i){var toShow=shownPhotos[i],img=images.eq(i),isVisible=img.is(':visible');if(toShow==isVisible){continue;}
var highlight=img.parents('li').first();if(toShow){highlight.addClass('com-foto');}else{highlight.removeClass('com-foto');}
images.eq(i).toggle(toShow);}},_getStoredSlug:function(callback){window.glb.preferences.push(['get',{product:this._storageProductName(),key:this._storageKeyName(),callback:function(value){callback.apply(this,[(value)?value.toUpperCase():null]);}}]);},_getCurrentChoice:function(callback){var self=this;if(this.currentChoice){return callback.apply(this,[this.currentChoice]);}
var onChoiceResponse=function(choice){self.element.data("selectedChoice",choice);return callback.apply(self,[choice]);};this._getStoredChoice(function(choice){if(!choice){choice=self._getDefaultChoice(function(choice){onChoiceResponse(choice);});}
if(choice!=='wait'){onChoiceResponse(choice);}});},_getStoredChoice:function(callback){var self=this;this._getStoredSlug(function(value){if(!value){return callback.apply(this,[null]);}
if(self._getStoredSlugCustom){return callback.apply(this,[self._getStoredSlugCustom(value)]);}
for(var i=0,len=self.availableChoices.length;i<len;++i){var choice=self.availableChoices[i];if(choice.slug.toUpperCase()==value){return callback.apply(this,[choice]);}}
return callback.apply(this,[null]);});},lockSaveOptions:function(){var self=this;this.isSavingChoice=true;this.lockTimeoutHandler=setTimeout(function(){self.isSavingChoice=false;self.lockTimeoutHandler=null;},this.options.lockTimeout);},unlockSaveOptions:function(){if(this.lockTimeoutHandler){clearTimeout(this.lockTimeoutHandler);}
this.isSavingChoice=false;},_saveChoice:function(choiceObj,additionalData){var self=this;this._getCurrentChoice(function(currentChoice){if(self.isSavingChoice){return;}
if((!currentChoice)&&(choiceObj===currentChoice)){return;}
if(!choiceObj){choiceObj=currentChoice;}
if(!choiceObj){return;}
self.currentChoice=choiceObj;window.glb.preferences.push(['put',{product:self._storageProductName(),key:self._storageKeyName(),value:choiceObj.slug}]);if(additionalData){for(el in additionalData){window.glb.preferences.push(['put',{product:self._storageProductName(),key:el,value:choiceObj[additionalData[el]]}]);}}
self._updateElements(choiceObj);if(choiceObj.slug!=currentChoice.slug){self.lockSaveOptions();self._getAvailableNews($.proxy(function(){self.unlockSaveOptions();},self));}});},_updateElements:function(choiceObj){this.elements.footerLink.attr("href",choiceObj.url);this.elements.footerLink.find("h4").text("mais "+choiceObj.name.toLowerCase());},_createBasicMarkup:function(){if(this.elements.highlights){return;}
var highlightsHtml=function(id){return['<li class="destaque destaque-terciario destaque-terciario-medio-foto-lado">','<div class="chamada chamada-principal  mobile-grid-full">','<a class="foto" href="#">','<span class="borda-foto">','<span></span>','<img title="" alt="" src="">','</span>','<span class="conteudo"><p></p></span>','</a>','</div>','</li>'].join('');};var html=['<div class="widget-highlights '+this._getCssClass()+'">','<div class="area-topo">','<a href="#" class="titulo">','<div>','<span class="choice-marker"><span></span></span>','<span class="area-selecionada"></span>','</div>','<span class="borda"></span>','</a>','</div>','<ul>',highlightsHtml(1),'<li class="separator"></li>',highlightsHtml(2),'<li class="separator"></li>','</ul>','<div class="bottom-area">','<div class="trocar-button-responsive">','<label></label>','</div>','<a class="mais" href="#"><h4></h4><span>&rsaquo;</span></a>','<div class="trocar-button"></div>','</div>','</div>'];this.element.append(html.join(''));this.elements.highlights=this.element.find('.widget-highlights');this.elements.highlightItems=this.elements.highlights.find('li.destaque');this.elements.highlightsTitle=this.elements.highlights.find('.area-topo .area-selecionada');this.elements.highlightsLink=this.elements.highlights.find('.area-topo a.titulo');this.elements.highlightsMarker=this.elements.highlights.find('.area-topo a.titulo .choice-marker span');this.elements.highlightImages=this.elements.highlightItems.find('img');this.elements.changeChoiceButton=this.element.find("div.trocar-button");this.elements.changeChoiceResponsiveButton=this.element.find("div.trocar-button-responsive label");this.elements.footerLink=this.elements.highlights.find(".mais");this._applyPIE(this.elements.highlights);},_applyPIE:function(element){if(!window.PIE){return;}
element.find('.css3pie').each(function(){PIE.attach(this);});},_createLoadingMarkup:function(){if(this.elements.loading){return;}
this.element.append('<div class="loading config-area"></div>');this.elements.loading=this.element.find('.loading');this._applyPIE(this.elements.loading);}});})(jQuery);(function(global){$.widget('libby.widgetPersonalizavelAnalytics',$.libby.widgetBase,{_create:function(){this._super("_create");this._bindEvents();},_bindEvents:function(){this._bind("onOptionSelected",this._onOptionSelected);this._bind("onChangeOption",this._onChangeOption);this._bind("onCloseChoicesArea",this._onCloseChoicesArea);},_optionValue:function(data){var optionValue=data.value;if(data.type=="estado"){if(optionValue=="Brasil"){optionValue='Todos';}}else if(data.type=="time"&&optionValue=="Todos os times"){optionValue='Todos';}
return optionValue;},_onCloseChoicesArea:function(e,data,cookieValue){if(!cookieValue){global._gaq.push(['_trackEvent',data.category,'Fechar '+data.type,'NÃ£o selecionado']);}},_onChangeOption:function(e,data){global._gaq.push(['_trackEvent',data.category,'IntenÃ§Ã£o troca '+data.type,this._optionValue(data)]);},_onOptionSelected:function(e,data){global._gaq.push(['_trackEvent',data.category,'Troca '+data.type,this._optionValue(data)]);}});})(window);(function($){$.widget('home.servicosSelect',$.libby.widgetBase,{options:{name:'servicosSelect',placeholder:'',values:[],select:null},_create:function(){this._super('_create');this._createElements();this._bindEvents();this.changeValues(this.options.values);},_createElements:function(){this.elements={};var html=['<input type="hidden" name="',this.options.name,'" />','<a href="#" class="selected-option"></a>','<span class="select-arrow"></span>','<div class="overlay">','<ul>','</ul>','</div>'];this.element.prepend(html.join(''));this.elements.input=this.element.find('input');this.elements.overlay=this.element.find('.overlay');this.elements.listArea=this.element.find('ul');this.elements.selectedOption=this.element.find('.selected-option');this.element.addClass('libby-servicos-select libby-scrollbar');},_bindEvents:function(){this.element.click($.proxy(this.toggle,this));this.element.delegate('li a','click',$.proxy(function(e){var el=$(e.currentTarget);this.selectElement(el.text(),el.data('value'),true);},this));this._bindSelectEvent();},_bindSelectEvent:function(){if(this.options.select instanceof Function){this.element.unbind('servicosSelectSelect');this._bind('servicosSelectSelect',this.options.select);}},_setOption:function(key,value){$.libby.widgetBase.prototype._setOption.apply(this,arguments);if(key==='values'){this.changeValues(value);}else if(key==='select'){this._bindSelectEvent();}},toggle:function(e){e.preventDefault();if(this.options.values.length===0){return;}
if(this.element.hasClass('visible')){this.close();}else{this.open();}},open:function(){this.element.addClass('visible');$(document).bind('click.servicos-select',$.proxy(function(e){if($(e.target).closest('.libby-servicos-select').length===0){this.close();}},this));},close:function(){this.element.removeClass('visible');$(document).unbind('click.servicos-select');},selectElement:function(name,value,fireEvent){this.elements.selectedOption.text(name);this.elements.input.val(value);if(fireEvent&&value&&this.options.select instanceof Function){this._trigger('servicosSelectSelect',[name,value]);}},changeValues:function(values){this.options.values=values;if(values.length===0){this.element.addClass('disabled');}else{this.element.removeClass('disabled');}
this.selectElement(this.options.placeholder,'');var html=[];for(var i=0,len=values.length;i<len;++i){var value=values[i];html.push('<li>','<a href="#" data-value="',value.value,'">',value.title,'</a>','</li>');}
this.elements.listArea.empty();this.elements.listArea.append(html.join(''));},reset:function(){this.selectElement(this.options.placeholder,'');}});})(jQuery);(function(global,$){$.widget('libby.customizationChooseMenu',{options:{pubsub:null,title:'',chooseComponentName:'customizationMenuNoticias'},_create:function(){this.elements={};this._createElements();this._bindEvents();this._createComponents();},_createElements:function(){var chooseMenuHTML=['<div class="button">',this.options.title,'</div>','<div style="display:none" class="floating-box css3pie">','<div class="header"><h3>',this.options.title,'</h3><div class="close-button"></div></div>','<div class="choose-area"></div>','<div class="tip-container"><span class="tip"></span></div>','</div>'].join('');this.element.addClass('customization-choose-menu');this.element.html(chooseMenuHTML);this.elements.floatingBox=this.element.find('.floating-box');this.elements.openButton=this.element.find('.button');this.elements.closeButton=this.element.find('.close-button');this.elements.chooseComponent=this.element.find('.choose-area');},_bindEvents:function(){this.elements.openButton.bind('click',$.proxy(this._onToggleFloatBoxOpened,this));this.elements.closeButton.bind('click',$.proxy(this._onToggleFloatBoxOpened,this));this.options.pubsub.bind('optionSelected',$.proxy(this._onOptionSelected,this));},_createComponents:function(){this.elements.chooseComponent[this.options.chooseComponentName]({pubsub:this.options.pubsub});},_onToggleFloatBoxOpened:function(ev){ev.preventDefault();if(this.elements.floatingBox.is(':visible')){this.options.pubsub.trigger('chooseMenuClose');}else{this.options.pubsub.trigger('chooseMenuOpen');}
this.elements.floatingBox.fadeToggle("normal");},_onOptionSelected:function(ev){this.elements.floatingBox.fadeOut("normal");}});})(window,jQuery);(function(global,$){$.widget('libby.customizationMenuNoticias',{options:{pubsub:null},_create:function(){this.elements={};this._createElements();this._createComponents();this._bindEvents();},_createElements:function(){var regionsMenuHTML=['<div class="states-flags">','<h4>Selecione primeiro seu estado:</h4>','<ul class="flags-board loading"></ul>','</div>','<div class="select-region" style="display:none">','<h4><span class="flag-icon"></span><span class="state-selected-name"></span></h4>','<div class="select"></div>','<div><a class="action-back" href="#">&lsaquo; VOLTAR</a></div>','</div>'].join('');this.element.addClass('customization-menu-noticias');this.element.html(regionsMenuHTML);this.elements.flagsView=this.element.find('.states-flags');this.elements.flagsBoard=this.element.find('.flags-board');this.elements.selectRegionView=this.element.find('.select-region');this.elements.stateIcon=this.elements.selectRegionView.find('.flag-icon');this.elements.stateLabel=this.elements.selectRegionView.find('.state-selected-name');this.elements.regionsSelect=this.elements.selectRegionView.find('.select');this.elements.backButton=this.elements.selectRegionView.find('.action-back');},_createComponents:function(){this.elements.regionsSelect.servicosSelect({name:'region',placeholder:'escolha uma opÃ§Ã£o'});},_bindEvents:function(){this.options.pubsub.bind('choicesReady',$.proxy(this._onChoicesReady,this));this.elements.backButton.bind('click',$.proxy(this._onBackButtonClicked,this));},_onBackButtonClicked:function(ev){ev.preventDefault();this.elements.flagsView.show();this.elements.selectRegionView.hide();},_onChoicesReady:function(ev,choicesData){this.elements.flagsBoard.removeClass('loading');this.states={};var choicesHTML=[];var len=Math.min(27,choicesData.length);for(var i=0;i<len;++i){var state=choicesData[i];choicesHTML=choicesHTML.concat(['<li>','<a class="css3pie" title="',state.name,'" href="#" data-slug="',state.slug.toLowerCase(),'">','<div class="state-flag ',state.slug.toLowerCase(),'"></div>','<div class="state-border"><div class="sigla-uf">',state.slug,'</div></div>','</a>','</li>']);this.states[state.slug.toLowerCase()]=state;}
this.elements.flagsBoard.html(choicesHTML.join(''));this._bindFlagsEvents();},_bindFlagsEvents:function(){this.elements.flagsBoard.find('li > a').bind('click',$.proxy(this._onSelectFlag,this));},_onSelectFlag:function(ev){ev.preventDefault();var selectedSlug=this._getEventTarget(ev).data('slug'),selectedState=this.states[selectedSlug];if(this._hasRegions(selectedState)){this._showRegions(selectedState);}else{this._triggerOptionSelected(selectedState);}},_getEventTarget:function(event){return $((event.currentTarget)?event.currentTarget:event.srcElement);},_hasRegions:function(state){if(state.regions){return JSON.stringify(state.regions).length>2;}
return false;},_showRegions:function(selectedState){this.elements.stateIcon.attr('class','state-flag '+selectedState.slug.toLowerCase());this.elements.stateLabel.text(selectedState.name);var selectOptionsValues=$.map(selectedState.regions,function(value,key){return{title:value.name,value:key};});this.elements.regionsSelect.servicosSelect({select:$.proxy(this._onRegionSelected(selectedState),this),values:selectOptionsValues});this.elements.flagsView.hide();this.elements.selectRegionView.show();},_onRegionSelected:function(selectedState){return function(element,title,regionSlug){this._triggerOptionSelected(selectedState.regions[regionSlug]);};},_triggerOptionSelected:function(selectedRegion){var selectedState=selectedRegion.state||selectedRegion.slug;this.elements.flagsBoard.find('li a').removeClass('selected');this.elements.flagsBoard.find("a[data-slug='"+selectedState.toLowerCase()+"']").addClass("selected");this.options.pubsub.trigger('optionSelected',selectedRegion);}});})(window,jQuery);(function(global,$){$.widget('libby.customizationResponsiveMenu',{options:{pubsub:null,title:''},_responsiveLabel:function(){throw'_responsiveLabel should be overriden';},_create:function(){this.elements={};this._bindEvents();},_bindEvents:function(){this.options.pubsub.bind('choicesReady',$.proxy(this._onChoicesReady,this));},_onChoicesReady:function(ev,choices){var parsedChoices=this._parseChoices(choices);this._createMenu(parsedChoices);},_createMenu:function(choices){this._createBasicSelectMarkup();for(var i=0;i<choices.length;i++){this.elements.select.append(this._createMarkupForChoice(choices[i]));}},_createBasicSelectMarkup:function(){this.element.html('<span>'+this._responsiveLabel()+'</span><select></select>');this.elements.select=this.element.find('select');this.elements.select.bind('change',$.proxy(this._onChoiceSelectedInMenu,this));},_onChoiceSelectedInMenu:function(ev){this.options.pubsub.trigger('optionSelected',this.objects[this.elements.select.val()]);},_createMarkupForChoice:function(choice){if(this._hasGroups(choice)){optgroup=this._createOptGroup(choice);for(var i=0;i<choice.optgroup.length;i++){optgroup.append(this._createOption(choice.optgroup[i]));}
return optgroup;}else{return this._createOption(choice);}},_hasGroups:function(choice){return choice.optgroup&&choice.optgroup.length>0;},_createOptGroup:function(data){return $('<optgroup label="'+data.text+'"></optgroup>');},_createOption:function(data){return $('<option value="'+data.value+'">'+data.text+'</option>');},_parseChoices:function(originalChoices){this.objects={};for(var i=0;i<originalChoices.length;i++){this.objects[originalChoices[i].value]=originalChoices[i];if(originalChoices[i].optgroup&&originalChoices[i].optgroup.length>0){for(var x=0;x<originalChoices[i].optgroup.length;x++){this.objects[originalChoices[i].optgroup[x].value]=originalChoices[i].optgroup[x];}}}
return originalChoices;}});})(window,jQuery);(function(global,$){$.widget('libby.customizationResponsiveMenuNoticias',$.libby.customizationResponsiveMenu,{_responsiveLabel:function(){return'MUDAR REGIÃO';},_parseChoices:function(originalChoices){var options=[],currentOption;this.objects={};for(var i=0;i<originalChoices.length;i++){currentOption={value:originalChoices[i].slug,text:originalChoices[i].name,optgroup:[]};if(this._hasRegions(originalChoices[i])){currentOption.optgroup=$.map(originalChoices[i].regions,function(value,key){return{value:originalChoices[i].slug+"/"+key,text:value.name};});}
options.push(currentOption);this.objects[originalChoices[i].slug]=originalChoices[i];}
return options;},_onChoiceSelectedInMenu:function(ev){var values=this.elements.select.val().split("/");if(values.length>1){this.options.pubsub.trigger('optionSelected',this.objects[values[0]].regions[values[1]]);}else{this.options.pubsub.trigger('optionSelected',this.objects[values[0]]);}},_hasRegions:function(state){if(state.regions){return JSON.stringify(state.regions).length>2;}
return false;}});})(window,jQuery);(function($){$.widget("home.personalizaveisNoticias",$.home.widgetPersonalizaveis,{_create:function(){var self=this;this._initStates();this.selectedState={};window.glb=window.glb||{};window.glb.preferences=window.glb.preferences||[];window.glb.preferences.push(['get',{product:this._storageProductName(),key:this._storageKeyName(),callback:function(value){if(value){$.home.widgetPersonalizaveis.prototype._create.call(self,arguments);}else{globoapi.geo.onSuccess($.proxy(self._geoLocate,self));globoapi.geo.onNotFound($.proxy(self._geoLocate,self));}}}]);},_geoLocate:function(geo){if(geo){this._defineGeoLocatedState(geo.state.code);}
$.home.widgetPersonalizaveis.prototype._create.call(this);},_defineGeoLocatedState:function(state){for(var i=0;i<this.availableStates.length;++i){if(this.availableStates[i].slug.toUpperCase()==state.toUpperCase()){this._getDefaultChoice=function(){return this.availableStates[i];};break;}}},_storageKeyName:function(){return'regiao';},_storageProductName:function(){return'jornalismo';},_getAnalyticsData:function(event){var self=this;this._getCurrentChoice(function(currentChoice){var value=currentChoice.name;if(currentChoice.state){value=currentChoice.state+"/"+value;}else{value=currentChoice.slug+"/"+value;}
self._trigger(event,{category:"Meu estado",type:"estado",value:value});});},_initStates:function(){var self=this;this.availableStates=[];var widgetStatesData=this.element.data('widgetData');for(var key in widgetStatesData){widgetStatesData[key].slug=key;for(var region in widgetStatesData[key].regions){widgetStatesData[key].regions[region].slug=widgetStatesData[key].slug+"/"+region;widgetStatesData[key].regions[region].state=key;}
this.availableStates.push(widgetStatesData[key]);}
this.availableStates=this.availableStates.sort(function(item,item2){return self._normalizeString(item.name)<self._normalizeString(item2.name)?-1:1;});},_getChoicesData:function(){return{title:'Meu estado'};},_getCssClass:function(){return'glb-hl-style-noticia';},_getChangeText:function(){return'ESCOLHA SUA REGIÃO';},_getSelectText:function(){return'selecione seu estado';},_getNewsService:function(){return globoapi.regionalNews;},_getChoiceOptions:function(callback){callback(this.availableStates);},_getDefaultChoice:function(){return{slug:'SP',name:'SÃ£o Paulo',url:'http://g1.globo.com/sao-paulo/'};},_getStoredSlugCustom:function(slug){var choice,i;slug=slug.split("/");for(i=0,len=this.availableChoices.length;i<len;++i){choice=this.availableChoices[i];if(choice.slug.toUpperCase()==slug[0]){if(slug[1]){return choice.regions[slug[1].toLowerCase()];}
return choice;}}
return null;},_optionSelected:function(ev,option){this._changeState(option);this._getAnalyticsData("onOptionSelected");},_renderChoices:function(choicesData){this.elements.changeChoiceButton.customizationChooseMenu({chooseComponentName:"customizationMenuNoticias",title:this._getChangeText(),pubsub:this.element});this.elements.changeChoiceResponsiveButton.customizationResponsiveMenuNoticias({title:this._getChangeText(),pubsub:this.element});this.element.trigger("choicesReady",[choicesData]);this.element.bind("optionSelected",$.proxy(this._optionSelected,this));this.element.bind('chooseMenuOpen',$.proxy(function(){this._getAnalyticsData('onChangeOption');},this));this.element.bind('chooseMenuClose',$.proxy(function(){this._getAnalyticsData('onCloseChoicesArea');},this));},_changeState:function(state){if(!state){state=this._getCurrentChoice();}
if(state.regionSlug){state.slug+="/"+regionSlug;}
this._saveChoice(state);},_updateElements:function(region){var slug=region.state||region.slug;$.home.widgetPersonalizaveis.prototype._updateElements.call(this,region);this.elements.highlightsMarker.attr("class",slug.toLowerCase());},_normalizeString:function(s){var r=s.toLowerCase();non_asciis={'a':'[Ã Ã¡Ã¢Ã£Ã¤Ã¥]','ae':'Ã¦','c':'Ã§','e':'[Ã¨Ã©ÃªÃ«]','i':'[Ã¬Ã­Ã®Ã¯]','n':'Ã±','o':'[Ã²Ã³Ã´ÃµÃ¶]','oe':'Å','u':'[Ã¹ÃºÃ»Å±Ã¼]','y':'[Ã½Ã¿]'};for(var i in non_asciis){r=r.replace(new RegExp(non_asciis[i],'g'),i);}
return r;}});})(jQuery);(function($){$('div.libby-widgets-personalizaveis-noticias').personalizaveisNoticias();})(jQuery);(function($){$.widget("libby.widgetEconomia",$.libby.widgetBase,{_create:function(){this._super("_create");this._bindEvents();},_createElements:function(){var html=['<div class="libby-home-widgetBase-container-top css3pie"></div>','<div class="libby-home-widgetBase-container css3pie">','<div class="header">','<span class="logo"></span>','</div>','<div class="content">','<div class="finance-index normal">','<a href="http://g1.globo.com/economia/mercados/">','<h4></h4>','<div class="percentage">','<div class="up-down-ico"></div>','<span class="pctchng"></span><sup>%</sup>','</div>','<div class="points"></div>','</a>','</div>','<div class="currencies normal">','<table celspacing="0" celpadding="0">','<thead>','<tr>','<th>moedas</th>','<th>compra</th>','</tr>','</thead>','<tbody>','<tr>','<td>DÃ³lar com.</td>','<td class="value">R$ <span class="dolar"></span></td>','</tr>','<tr>','<td>Euro</td>','<td class="value">R$ <span class="euro"></span></td>','</tr>','<tr>','<td>Libra</td>','<td class="value">R$ <span class="libra"></span></td>','</tr>','</tbody>','</table>','</div>','<div class="resume">','<div class="ibvp">','<h4>ibovespa</h4>','<span class="right">','<span class="pct"></span><small></small>','</span>','</div>','<div>','<h4>dÃ³lar com.</h4>','<span class="right">','<span class="dlr"></span><small>(compra)</small>','</span>','</div>','</div>','</div>','<div class="footer">','<div class="status"></div>','<div class="label">atualizado: <span class="datetime"></span></div>','</div>','</div>'];this.element.html(html.join(''));this.elements.content=this.element.find('.content');this.elements.percentage=this.elements.content.find(".percentage");this.elements.displayName=this.elements.content.find('.normal h4');this.elements.pctchng=this.elements.content.find('.pctchng');this.elements.upDownIco=this.elements.content.find('.up-down-ico');this.elements.points=this.elements.content.find('.points');this.elements.dolar=this.elements.content.find('.dolar');this.elements.euro=this.elements.content.find('.euro');this.elements.libra=this.elements.content.find('.libra');this.elements.resume=this.elements.content.find('.resume');this.elements.resumePercent=this.elements.resume.find('.ibvp .pct');this.elements.resumePoints=this.elements.resume.find('.ibvp small');this.elements.resumeDolar=this.elements.resume.find('.dlr');this.elements.footer=this.element.find('.footer');this.elements.statusPregao=this.elements.footer.find('.status');this.elements.timeNow=this.elements.footer.find('.datetime');},_bindEvents:function(){globoapi.finance.onSuccess($.proxy(this._updateInformation,this));globoapi.finance.update();},_updateInformation:function(currencyInfo){var pctchngResume;this._createElements();this.elements.displayName.text(currencyInfo.displayName);this.elements.pctchng.text(currencyInfo.pctchng);this.elements.points.text(currencyInfo.cfLast+'pts ('+currencyInfo.cfNetchng+')');this.elements.dolar.text(currencyInfo.currency.dolar);this.elements.euro.text(currencyInfo.currency.euro);this.elements.libra.text(currencyInfo.currency.libra);if(currencyInfo.pctchngVariation=="up"){this.elements.upDownIco.text("+");pctchngResume='+';}else{this.elements.upDownIco.text("-");pctchngResume='-';}
this.elements.resumePoints.text(currencyInfo.cfLast+' pts');this.elements.resumePercent.text(pctchngResume+currencyInfo.pctchng+'%');this.elements.resumeDolar.text('R$ '+currencyInfo.currency.dolar);this.elements.resumePercent.addClass(currencyInfo.pctchngVariation);this.elements.percentage.addClass(currencyInfo.pctchngVariation);this.elements.timeNow.text(currencyInfo.timeNow.replace(/\/20\d{2}/,""));if(currencyInfo.isOpen){this.elements.statusPregao.text("pregÃ£o em andamento");}else{this.elements.statusPregao.text("pregÃ£o encerrado");}
this.element.addClass('loaded');this.elements.content.show();}});})(jQuery);(function($){$("#libby-home-widget-economia").widgetEconomia();}(jQuery));(function(global,$){$.widget('libby.customizationMenuNovelas',{options:{pubsub:null},_create:function(){this.elements={};this._createElements();this._bindEvents();},_createElements:function(){this.element.html('<ul class="loading"></ul>');this.elements.options=this.element.find('ul');},_bindEvents:function(){this.options.pubsub.bind('choicesReady',$.proxy(this._onChoicesReady,this));this.options.pubsub.bind('defaultChoice',$.proxy(this._onDefaultChoice,this));this.options.pubsub.bind('optionSelected',$.proxy(this._onOptionSelected,this));},_onChoicesReady:function(ev,choices){this._renderOptions(choices);this._bindChoicesEvents();this._stopLoading();},_stopLoading:function(){this.elements.options.removeClass('loading');},_renderOptions:function(choices){var novela;for(var i=0;i<choices.length;i++){novela=choices[i];var option=$(['<li>','<a href="#',novela.slug,'" class="css3pie ',novela.slug,'">','<span>',novela.name,'</span>','</a>','</li>'].join(''));option.data('novela',novela);this.elements[novela.slug]=option;this.elements.options.append(option);}},_onDefaultChoice:function(ev,novelaSlug){var novela=this.elements[novelaSlug].data('novela');this._chooseNovela(novela);},_bindChoicesEvents:function(){this.elements.options.find('a').bind('click',$.proxy(this._onClickToChooseNovela,this));},_onClickToChooseNovela:function(ev){ev.preventDefault();var novela=this._getEventTarget(ev).parents('li').data('novela');this._chooseNovela(novela);},_chooseNovela:function(novela){this.options.pubsub.trigger('optionSelected',novela);},_getEventTarget:function(event){return $((event.currentTarget)?event.currentTarget:event.srcElement);},_onOptionSelected:function(ev,novela){this.elements.options.find('li').removeClass('selected');this.elements[novela.slug].addClass('selected');}});})(window,jQuery);(function(global,$){$.widget('libby.customizationResponsiveMenuNovelas',$.libby.customizationResponsiveMenu,{_responsiveLabel:function(){return'MUDAR NOVELA';},_parseChoices:function(originalChoices){var options=[],currentOption;this.objects={};for(var i=0;i<originalChoices.length;i++){currentOption={value:originalChoices[i].slug,text:originalChoices[i].name,optgroup:[]};options.push(currentOption);this.objects[originalChoices[i].slug]=originalChoices[i];}
return options;}});})(window,jQuery);(function($){$.widget("home.personalizaveisNovelas",$.home.widgetPersonalizaveis,{_create:function(){this._initNovelas();$.home.widgetPersonalizaveis.prototype._create.call(this,arguments);},_storageKeyName:function(){return'novela';},_storageProductName:function(){return'entretenimento';},_initNovelas:function(){this.availableNovelas=this.element.data('widgetData')||[];for(var i=0,len=this.availableNovelas.length;i<len;++i){var novela=this.availableNovelas[i];if(novela['default']==1){this.defaultNovela=novela;}}
if(!this.defaultNovela){this.defaultNovela=this.availableNovelas[0];}},_getAnalyticsData:function(event){var self=this;this._getCurrentChoice(function(currentChoice){var value=currentChoice.name;self._trigger(event,{category:"Minha novela",type:"novela",value:value});});},_getCoverData:function(){return{title:'sua novela <strong>favorita</strong>',subtitle:'Personalize com a sua<br />novela predileta'};},_getChoicesData:function(){return{title:'Minha novela favorita'};},_getCssClass:function(){return'glb-hl-style-entretenimento';},_getChangeText:function(){return'ESCOLHA SUA NOVELA';},_getSelectText:function(){return'selecione sua novela';},_getNewsService:function(){return globoapi.novelaNews;},_getChoiceOptions:function(callback){callback(this.availableNovelas);},_getDefaultChoice:function(){return this.defaultNovela;},_optionSelected:function(ev,novela){this._changeNovela(novela);this._getAnalyticsData("onOptionSelected");},_renderChoices:function(choicesData){this.elements.changeChoiceButton.customizationChooseMenu({chooseComponentName:"customizationMenuNovelas",title:this._getChangeText(),pubsub:this.element});this.elements.changeChoiceResponsiveButton.customizationResponsiveMenuNovelas({title:this._getChangeText(),pubsub:this.element});this.element.trigger("choicesReady",[choicesData]);this.element.bind("optionSelected",$.proxy(this._optionSelected,this));this.element.bind('chooseMenuOpen',$.proxy(function(){this._getAnalyticsData('onChangeOption');},this));this.element.bind('chooseMenuClose',$.proxy(function(){this._getAnalyticsData('onCloseChoicesArea');},this));},_changeNovela:function(novela){this._saveChoice(novela);},_updateElements:function(novela){var img=new Image(),self=this;$.home.widgetPersonalizaveis.prototype._updateElements.call(this,novela);img.onload=function(){self.elements.highlightsMarker.empty().append(this);};img.src=novela.logo;}});})(jQuery);(function($){$('div.libby-widgets-personalizaveis-novelas').personalizaveisNovelas();})(jQuery);(function($){$.widget("libby.widgetHoroscopo",$.libby.widgetBase,{options:{speed:150,horoscopeUrl:'http://horoscopo.ego.globo.com/signos/{sign}'},_create:function(){this._super("_create");this._bindEvents();this._createWidgets();},_createElements:function(){var contentContainerClass=this._classFor("content");var currentSignContainerClass=this._classFor("currentSignContainer");var currentSignImageClass=this._classFor("currentSignImage");var currentSignOverviewContainerClass=this._classFor("currentSignOverview");var html=['<div class="libby-home-widgetBase-container css3pie">','<div class="header">','<div class="provider"></div>','</div>','<div class="content">','<div class="',contentContainerClass,'">','<a class="',currentSignContainerClass,'">','<div class="before-title">','<strong class="title"></strong>','<span class="period"></span>','</div>','<span class="',currentSignImageClass,'"></span>','<span class="',currentSignOverviewContainerClass,'">','<strong class="title"></strong>','<span class="period"></span>','<span class="description"></span>','<span class="complete">previsÃ£o completa âº</span>','</span>','</a>','</div>','</div>','<div class="footer"></div>','</div>'];this.element.append(html.join(''));var content=this.element;this.elements.contentContainer=content.find('.'+contentContainerClass);this.elements.currentSignContainer=content.find('.'+currentSignContainerClass);this.elements.currentSignImage=content.find('.'+currentSignImageClass);this.elements.currentSignTitle=content.find('.'+currentSignContainerClass+' .title');this.elements.currentSignPeriod=content.find('.'+currentSignContainerClass+' .period');this.elements.currentSignOverview=content.find('.'+currentSignOverviewContainerClass+' .description');this.elements.currentSignContainer.click($.proxy(function(ev){var sign=this.elements.currentSignOverview.data('sign');this._trigger("onSelectedSign",sign);},this));this.elements.footer=content.find('.footer');this.elements.footer.append(this.menuElement);},_bindEvents:function(){this._bind('onSignLoaded',this._onSignLoaded);this._bind('onHoroscopeData',this._onHoroscopeData);this._bind('onSignSelected',this._onSignSelected);},_createWidgets:function(){this.menuElement=$('<div></div>').widgetHoroscopoMenu({pubsub:this.element});this.element.widgetHoroscopoDataSource();this.element.widgetHoroscopoAnalytics();},_onSignLoaded:function(ev,sign){this.element.addClass('loaded');this._createElements();this._showSign(sign);},_onSignSelected:function(ev,sign){var self=this;this.elements.contentContainer.show();if(this.horoscopeData){this._showSign(this.horoscopeData[sign.slug]);}else{setTimeout(function(){self._onSignSelected(ev,sign);},100);}},_showSign:function(sign){var sign_periods={aries:'21/03 a 19/04',touro:'20/04 a 20/05',gemeos:'21/05 a 21/06',cancer:'22/06 a 22/07',leao:'23/07 a 22/08',virgem:'23/08 a 22/09',libra:'23/09 a 22/10',escorpiao:'23/10 a 21/11',sagitario:'22/11 a 21/12',capricornio:'22/12 a 19/01',aquario:'20/01 a 18/02',peixes:'19/02 a 20/03'}
var changeSign=$.proxy(function(){this.elements.currentSignImage.attr('class','libby-widgetHoroscopo-currentSignImage '+this._classFor(sign.slug));this.elements.currentSignContainer.attr('href',this.options.horoscopeUrl.replace(/\{sign\}/g,sign.slug));this.elements.currentSignPeriod.text(sign_periods[sign.slug]);this.elements.currentSignTitle.text(sign.name);this.elements.currentSignOverview.text(sign.description);this.elements.currentSignOverview.data('sign',sign.slug);if($.fn.dotdotdot){this.elements.currentSignOverview.dotdotdot({watch:'window'});}},this);this.elements.contentContainer.stop(true).animate({opacity:0},this.options.speed,changeSign).animate({opacity:1},this.options.speed);},_onHoroscopeData:function(ev,horoscope){this.horoscopeData=horoscope;}});})(jQuery);(function($){$.widget("libby.widgetHoroscopoMenu",$.libby.widgetBase,{options:{horoscopeUrl:'http://horoscopo.ego.globo.com/signos/{sign}'},_create:function(){this._super("_create");this._bindEvents();},_createElements:function(){var currentSign,signOption,html=$('<div class="desktop-menu"></div>');htmlResponsive=$(['<label class="button-select-responsive">','<span>MUDAR SIGNO</span>','<select></select>','</div>'].join(''));this.signsClass=this._classFor("signs");this.signSelectedClass=this._classFor("signSelected");this.menuOptions={};this.element.append(html);this.element.append(htmlResponsive);this.elements.responsiveMenu=this.element.find('.button-select-responsive select');this.elements.responsiveMenu.bind('change',$.proxy(this._onChangeSign,this));this.tooltip=$('<span class="tooltip"><span class="name"></span><span class="arrow"></span></span>');html.append(this.tooltip);$.each(this.signs,$.proxy(function(i,sign){sign=sign.name;currentSign=$('<a href="#'+sign+'"></a>');currentSign.addClass(this.signsClass+' '+this._classFor(sign));currentSign.data("sign_slug",sign);currentSign.click($.proxy(function(ev){ev.preventDefault();ev.stopPropagation();if(this.currentSign==sign)return;this._trigger("onSignSelected",[{slug:sign}]);},this));signOption=$('<option value="'+sign+'"></option>');this.elements[sign]=currentSign;this.menuOptions[sign]=signOption;this.elements.responsiveMenu.append(signOption);html.append(currentSign);},this));},_bindEvents:function(){this._bind("onSignLoaded",this._onSignLoaded);this._bind("onSignSelected",this._onSignLoaded);this._bind("onHoroscopeData",this._onHoroscopeData);this._bind("onSignsAvailable",this._onSignsAvailable);this.element.on('mouseenter','.'+this._classFor("signs"),$.proxy(function(ev){var target=$(ev.currentTarget),sign=target.data('tooltip'),targetPos=target.offset(),targetWidth=target.outerWidth();this.tooltip.find('.name').text(sign);this.tooltip.show();var tooltipWidth=this.tooltip.outerWidth(),tooltipHeight=this.tooltip.outerHeight(true);this.tooltip.offset({left:targetPos.left-(tooltipWidth/2)+(targetWidth/2),top:targetPos.top-tooltipHeight});},this));this.element.on('mouseleave','.'+this._classFor("signs"),$.proxy(function(ev){this.tooltip.hide();},this));},_onSignLoaded:function(ev,sign){this.currentSign=sign.slug;this._markSign(sign.slug);},_onHoroscopeData:function(ev,horoscopeData){$.each(horoscopeData,$.proxy(function(i,sign){this.elements[sign.slug].data("tooltip",sign.name);this.menuOptions[sign.slug].text(sign.name);},this));},_onSignsAvailable:function(ev,signs){this.signs=signs;this._createElements();},_onChangeSign:function(ev){this._trigger("onSignSelected",[{slug:this.elements.responsiveMenu.val()}]);},_markSign:function(slug){this.element.find('.'+this.signsClass).removeClass(this.signSelectedClass);this.elements[slug].addClass(this.signSelectedClass);this.elements.responsiveMenu.blur();}});})(jQuery);(function($){$.widget("libby.widgetHoroscopoDataSource",$.libby.widgetBase,{_create:function(){window.glb=window.glb||{};window.glb.preferences=window.glb.preferences||[];var self=this;this._super("_create");this._loadSigns();this._findPreferredSign(function(sign){globoapi.horoscope.onSuccess('complete',$.proxy(self._allHoroscopesLoaded,self));globoapi.horoscope.onSuccess('complete.'+sign,$.proxy(self._signLoaded,self));globoapi.horoscope.update('complete.'+sign);});this._bindEvents();},_loadSigns:function(){this.signs=[{name:"aries",end:'0419',period:'21/03 a 19/04'},{name:"touro",end:'0520',period:'20/04 a 20/05'},{name:"gemeos",end:'0621',period:'21/05 a 21/06'},{name:"cancer",end:'0722',period:'22/06 a 22/07'},{name:"leao",end:'0822',period:'23/07 a 22/08'},{name:"virgem",end:'0922',period:'23/08 a 22/09'},{name:"libra",end:'1022',period:'23/09 a 22/10'},{name:"escorpiao",end:'1121',period:'23/10 a 21/11'},{name:"sagitario",end:'1221',period:'22/11 a 21/12'},{name:"capricornio",end:'0119',period:'22/12 a 19/01'},{name:"aquario",end:'0218',period:'20/01 a 18/02'},{name:"peixes",end:'0320',period:'19/02 a 20/03'}];this._trigger("onSignsAvailable",[this.signs]);},_findPreferredSign:function(callback){var self=this;window.glb.preferences.push(['get',{product:'entretenimento',key:'signo',callback:function(preferredSign){if(preferredSign){return callback.apply(this,[preferredSign]);}
var sortedSigns=self.signs.slice(0);sortedSigns.sort(function(a,b){return a.end.localeCompare(b.end);});var d=new Date(),month=''+(d.getMonth()+1),day=''+d.getDate(),month_year=(month.length==1?'0'+month:month)+(day.length==1?'0'+day:day);for(var i=0,len=sortedSigns.length;i<len;++i){if(month_year<sortedSigns[i].end){return callback.apply(this,[sortedSigns[i].name]);}}}}]);},_bindEvents:function(){this._bind("onSignSelected",this._onSignSelected);},_onSignSelected:function(ev,sign){window.glb.preferences.push(['put',{product:'entretenimento',key:'signo',value:sign.slug}]);},_signLoaded:function(sign){this._trigger("onSignLoaded",sign);globoapi.horoscope.update('complete');},_allHoroscopesLoaded:function(horoscopeData){this._trigger("onHoroscopeData",horoscopeData);}});})(jQuery);(function(global){$.widget('libby.widgetHoroscopoAnalytics',$.libby.widgetBase,{_create:function(){this._super("_create");this._bindEvents();},_bindEvents:function(){this._bind("onSignSelected",this._onSignSelected);},_onSignSelected:function(ev,sign){global._gaq.push(['_trackEvent','Horoscopo','Troca Signo',sign.slug]);}});})(window);(function($){$("#libby-home-widget-horoscopo").widgetHoroscopo();})(jQuery);(function(global,$){var TAB_KEY=9;$.widget('home.servicosAutocomplete',$.libby.widgetBase,{options:{autocompleteOptions:{minLength:3,autoFocus:true},onClear:null},_create:function(){this._super('_create');this._render();this._bindEvents();this._toggleClearButton();this.createAutocomplete();},_render:function(){var html=['<span type="button" class="libby-servicos-autocomplete-clear-button"></span>','<div class="libby-servicos-autocomplete"></div>'];var elements=$(html.join(''));this.elements.autocompleteContainer=elements.filter('.libby-servicos-autocomplete');this.elements.clearButton=elements.filter('.libby-servicos-autocomplete-clear-button');this.element.after(elements);this.elements.container=this.element.parent();},_bindEvents:function(){this._bindClearButtonRelatedEvents();this._bindAutocompleteRelatedEvents();},_bindClearButtonRelatedEvents:function(){this.elements.clearButton.mousedown($.proxy(this._onMousedownClearButton,this));this._bind('keydown',this._delayedToggleClearButton);this._bind('focus',this._toggleClearButton);this._bind('blur',function(e){this._disable('clearButton');if(!this.element.data('autocomplete').menu.element.is(':visible')){this._disable('container');}});this._bindClearEvent();},_bindClearEvent:function(){if(this.options.onClear instanceof Function){this._bind('servicosAutocompleteClear',this.options.onClear);}},_setOption:function(key,value){$.libby.widgetBase.prototype._setOption.apply(this,arguments);if(key==='onClear'){this._bindClearEvent();}},_bindAutocompleteRelatedEvents:function(){this._bind('autocompletecreate',function(){this._disable('container');});this._bind('autocompletesearch',function(){this._enable('container');});this._bind('autocompleteclose',function(){this._disable('container');});},createAutocomplete:function(){this.element.autocomplete($.extend(true,{appendTo:this.elements.autocompleteContainer},this.options.autocompleteOptions));},_delayedToggleClearButton:function(e){if(e.keyCode!==TAB_KEY){setTimeout($.proxy(this._toggleClearButton,this),10);}},_toggleClearButton:function(){if(this.element.val().length>0){this._enable('clearButton');}else{this._disable('clearButton');}},_onMousedownClearButton:function(){this.element.val('').autocomplete('search','').autocomplete('close');this._disable('container');this._disable('clearButton');this._trigger('servicosAutocompleteClear');},_disable:function(element){this.elements[element].addClass('disabled');},_enable:function(element){this.elements[element].removeClass('disabled');}});}(this,jQuery));(function($){$.fn.placeholder=function(options){if($.placeholder.placeholderAvailable){return this;}
return this.each(function(){new $.placeholder(this,$.extend({},$.placeholder.options,options));});};$.placeholder=function(element,options){this.inputElement=$(element);this.placeholderTxt=this.inputElement.attr('placeholder');if(!this.placeholderTxt){return null;}
var previousElement=this.inputElement.data('placeholder');if(previousElement){previousElement.placeholderElement.text(this.placeholderTxt);return previousElement;}
this.inputElement.data('placeholder',this);this.options=options;this.placeholderElement=this._createPlaceholder();this._bindEvents();return this;};$.placeholder.options={color:'#999',leftPadding:12};$.placeholder.placeholderAvailable=('placeholder'in document.createElement('input'));$.placeholder.currentId=0;$.placeholder.prototype={remove:function(){this.inputElement.removeData('placeholder');if(this.placeholderElement){this.placeholderElement.remove();}},_shouldShow:function(){return this.inputElement.val()===''&&!this.inputElement.attr('defaultValue');},_bindEvents:function(){var self=this;this.inputElement.focus(function(){self.placeholderElement.hide();}).blur(function(){if(self._shouldShow()){self.placeholderElement.show();}});},_generateId:function(){return'ph_gen_id_'+$.placeholder.currentId++;},_createPlaceholder:function(){this.container=this.inputElement.offsetParent();var elementId=this.inputElement.attr('id');if(!elementId){elementId=this._generateId();this.inputElement.attr('id',elementId);}
var element=$('<label>').attr('for',elementId).css({color:this.options.color,position:'absolute',cursor:'text',zIndex:parseInt(this.inputElement.attr('zIndex')||0,5)+10,left:0}).addClass(this.inputElement.attr('class')).addClass('placeholder-polyfill').text(this.placeholderTxt);this.container.append(element);var inputH=this.inputElement.outerHeight();var myH=element.height();var pos=this.inputElement.offset();element.offset({left:pos.left+this.options.leftPadding,top:pos.top+(inputH/2)-(myH/2)});if(!this._shouldShow()){element.hide();}
return element;}};})(jQuery);(function($){$.widget("home.widgetServicos",$.libby.widgetBase,{_create:function(){this._super("_create");this.element.empty();var content=$('<div>').addClass('content-widget-servicos').appendTo(this.element);var bodyElements=this._fillBody();if($.isArray(bodyElements)){$.each(bodyElements,function(){content.append(this);});}else{content.append(bodyElements);}
if(window.PIE){this.element.find('.css3pie').each(function(){PIE.attach(this);});}
this.element.find("input[type='text']").placeholder();content.append("<a href='"+this._goToLink()+"' class='responsive-button'>"+this._responsiveText()+"</a>");},_fillBody:function(){throw'$.home.widgetServicos._fillBody should be overriden';},_responsiveText:function(){throw'$.home.widgetServicos._responsiveText should be overriden';},_storageKey:function(){throw'$.home.widgetServicos._storageKey should be overriden';},_instructions:function(){throw'$.home.widgetServicos._instructions should be overriden';},_instructionsResponsive:function(){throw'$.home.widgetServicos._instructionsResponsive should be overriden';},_setItem:function(label,url){if(window.localStorage){stored_objects=this._getLastItems();if(!stored_objects){stored_objects=[];}
for(var i=0;i<stored_objects.length;i++){if(stored_objects[i].url===url){return;}}
stored_objects.push({label:label,url:url});try{localStorage.setItem(this._storageKey(),JSON.stringify(stored_objects.slice(-2)));}catch(e){}}},_getLastItems:function(){if(window.localStorage){try{return JSON.parse(localStorage.getItem(this._storageKey()));}catch(e){}}
return[];},_renderLastSelected:function(){var items=this._getLastItems(),options=[],more_element=this.element.find('.more'),html;if(items&&items.length>0){html='<p>Ãºltimos buscados</p>';for(var i=items.length-1;i>=0;i--){options.push('<a href="'+items[i].url+'">'+items[i].label+'</a>');}
html+=options.join(', ');more_element.append("<div class='last'>"+html+"</div>");}
more_element.append("<div class='instructions'>"+this._instructions()+"</div>");more_element.append("<div class='instructions responsive'>"+this._instructionsResponsive()+"</div>");},_hasTouch:function(){return window.Modernizr&&Modernizr.touch;}});})(jQuery);(function($){$("div.box-widget-servicos input[type='text']").placeholder();}(jQuery));(function(){(function($){return $.widget('home.servicosZap',$.home.widgetServicos,{_create:function(){$.home.widgetServicos.prototype._create.call(this,arguments);this._runWidget();this.element.addClass('analytics-area analytics-id-J');return this._renderLastSelected();},_goToLink:function(){return"http://www.zapimoveis.com.br/lancamentos/imoveis/?utm_source=globo.com&utm_medium=box-busca-lancamentos&utm_campaign=Lancamentos";},_responsiveText:function(){return"PESQUISAR";},_instructions:function(){return"Os melhores lanÃ§amentos imobiliÃ¡rios em todas as regiÃµes";},_instructionsResponsive:function(){return"Compre, venda ou alugue!";},_runWidget:function(){},_fillBody:function(){return'<a class="area-topo" href="http://www.zapimoveis.com.br/lancamentos/imoveis/?utm_source=globo.com&utm_medium=box-busca-lancamentos&utm_campaign=Lancamentos">\n    <span class="logo"></span>\n    <span class="widget-icon"></span>\n    <h3>BUSCANDO UM NOVO IMÃVEL?</h3>\n</a>\n<div class="more"></div>\n<a href="http://www.zapimoveis.com.br/lancamentos/imoveis/?utm_source=globo.com&utm_medium=box-busca-lancamentos&utm_campaign=Lancamentos" class="main-link">Encontre o seu aqui</a>\n<a class="product" href="http://www.zap.com.br/anuncieb/anunciezap/anuncie-imoveis-home.aspx?utm_source=globo.com&utm_medium=box-busca-anuncieimoveis&utm_campaign=anuncie-imoveis">anuncie seu imÃ³vel no zap &rsaquo;</a>';}});})(jQuery);}).call(this);jQuery('div.libby-widget-servicos-zap').servicosZap();(function($){$.widget('home.servicosFipe',$.home.widgetServicos,{_create:function(){$.home.widgetServicos.prototype._create.call(this,arguments);this._runWidget();this.element.addClass('analytics-area analytics-id-J');this._renderLastSelected();},_goToLink:function(){return"http://g1.globo.com/carros/tabela-fipe/";},_runWidget:function(){this._collectElements();this._bindEvents();this._initComponents();},_storageKey:function(){return"widgetFipe";},_instructions:function(){return"Procure carros, motos e caminhÃµes";},_instructionsResponsive:function(){return"carros, motos e caminhÃµes";},_responsiveText:function(){return"PESQUISAR";},_fillBody:function(){var html=['<a class="area-topo" href="http://g1.globo.com/carros/tabela-fipe/">','<span class="widget-icon"></span>','<h3>AVALIE SEU VEÃCULO</h3>','</a>','<div class="form-container">','<form id="libby-servicos-fipe-form" method="get" action="http://g1.globo.com/carros/tabela-fipe/index.html">','<div class="user-input-area">','<input type="hidden" name="cod_fipe" />','<input type="hidden" name="categoria" />','<div class="libby-servicos-autocomplete-container libby-scrollbar">','<input type="text" class="vehicle-input" autocomplete="off" placeholder="ex.: Palio, Ford, etc"/>','</div>','<div class="more"></div>','</div>','<div class="select-area">','<a class="reset-search" href="#">refazer pesquisa</a>','</div>','</form>','</div>','<a class="product" href="http://g1.globo.com/carros/tabela-fipe/">todos os veÃ­culos &rsaquo;</a>'];return $(html.join(''));},_initComponents:function(){this.elements.selectArea.servicosSelect({name:'detailsTipo',placeholder:'selecione o ano',select:$.proxy(this._modelSelect,this)});this.elements.vehicleInput.servicosAutocomplete({autocompleteOptions:{select:$.proxy(this._autocompleteSelect,this),source:$.proxy(this._autocompleteSource,this),minLength:3},onClear:$.proxy(this.resetSelection,this)});},_autocompleteSource:function(request,response){globoapi.fipeSearch.search("carros",request.term,$.proxy(function(category,term,data){if(term!=this.currentTerm()){return;}
var autocompleteData=$.map(data.items,$.proxy(function(item){return{label:this._createLabel(item),original:item};},this));autocompleteData=autocompleteData||[];response(autocompleteData);},this));},_createLabel:function(item){return item.marca+' '+item.modelo;},_autocompleteSelect:function(widget,data){var self=this;if(!data||!data.item){return;}
this.currentVehicle=data.item.original;var selectValues=$.map(this.currentVehicle.valores_fipe,function(value){return{title:value.tipo,value:value.tipo};});this.elements.selectArea.servicosSelect({values:selectValues});this.elements.hiddenCode.val(this.currentVehicle.cod_fipe);this.elements.category.val("carro");this.elements.vehicleInput.blur();this.element.addClass("moving");this.elements.form.animate({"margin-left":-this.selectAreaSize},250,function(){self.elements.form.addClass("select-year");self.element.removeClass("moving");});},_collectElements:function(){this.elements={};this.elements.form=this.element.find('form');this.elements.innerDiv=this.element.find('.content-widget-servicos');this.elements.vehicleInput=this.element.find('input.vehicle-input');this.elements.selectArea=this.element.find('.select-area');this.elements.hiddenCode=this.element.find('input[name="cod_fipe"]');this.elements.category=this.element.find('input[name="categoria"]');this.elements.resetSelect=this.element.find('.select-area .reset-search');this.selectAreaSize=this.elements.selectArea.width();},_bindEvents:function(){this.elements.form.bind('submit',$.proxy(this._onFormSubmit,this));this.elements.vehicleInput.bind('focus',$.proxy(this._onInputFocus,this));this.elements.vehicleInput.bind('blur',$.proxy(this._onInputBlur,this));this.elements.resetSelect.bind('click',$.proxy(this.resetSelection,this));},_onFormSubmit:function(e){if(!this.shouldSubmit){e.preventDefault();return;}
this._setItem(this.currentVehicle.modelo,this.elements.form.attr('action')+'?'+this.elements.form.serialize());},_onInputFocus:function(){this.elements.vehicleInput.addClass('focus');},_onInputBlur:function(){this.elements.vehicleInput.removeClass('focus');},_modelSelect:function(){this.shouldSubmit=true;this.elements.form.submit();},resetSelection:function(e,force){var self=this;this.element.addClass("moving");self.elements.form.removeClass("select-year");this.elements.vehicleInput.val('');this.elements.vehicleInput.trigger('blur');this.elements.form.animate({"margin-left":"0"},250,function(){self.element.removeClass("moving");});this.elements.selectArea.servicosSelect({values:[]});},currentTerm:function(){return this.elements.vehicleInput.val();}});})(jQuery);(function(global,$){$.widget('home.servicosFipeAnalytics',$.libby.widgetBase,{_create:function(){this._super('_create');this.formElement=this.element.find('form');this._bindEvents();},_bindEvents:function(){this.formElement.bind('submit',$.proxy(this._onSubmit,this));},_onSubmit:function(e){if(!e.isDefaultPrevented()){var form=this.formElement;global._gaq.push(['_trackPageview','/out/C/J/'+form.attr('action').replace(/^http:\/\//,'')+'?'+form.serialize()]);}}});}(this,jQuery));jQuery('div.libby-widget-servicos-fipe').servicosFipe().servicosFipeAnalytics();(function(){(function($){return $.widget('home.servicosLoterias',$.home.widgetServicos,{_create:function(){$.home.widgetServicos.prototype._create.call(this,arguments);this._runWidget();return this.element.addClass('analytics-area analytics-id-J');},_runWidget:function(){this._collectElements();return $.ajax({url:this.element.data('lotteries-url'),dataType:'jsonp',jsonpCallback:'lotteries',success:$.proxy(this._onLotteryResult,this)});},_goToLink:function(){return"http://g1.globo.com/loterias/";},_responsiveText:function(){return"<p>confira os</p> NÃMEROS";},_collectElements:function(){this.elements={};this.elements.subtitleArea=this.element.find('.area-topo h4');return this.elements.infoArea=this.element.find('.info');},_stripZeros:function(total,divide){return(total/divide).toFixed(0);},_toMoneyNotation:function(value){return value.toFixed(2).replace('.',',').replace(/(\d)(?=(\d{3})+\,)/g,"$1.");},_humanizeMoney:function(value){var text;if(value>1&&value<1000){text="<strong>value</strong>";}else if(value>999&&value<1000000){text="<strong>"+(this._stripZeros(value,1000))+" mil</strong>";}else if(value>999999&&(value/1000000)<2){text="<strong>"+(this._stripZeros(value,1000000))+" milhÃ£o</strong>";}else if(value>999999&&(value/1000000)>=2&&(text="<strong>"+(this._stripZeros(value,1000000))+" milhÃµes</strong>")){}else if(value>999999999&&(value/1000000000)<2){text="<strong>"+(this._stripZeros(value,1000000))+" bilhÃ£o</strong>";}else{text="<strong>"+(this._stripZeros(value,1000000))+" bilhÃµes</strong>";}
return"R$ "+text;},_onLotteryResult:function(result){if(result.dias_ate_o_proximo>1){return this._renderCurrent(result);}else{return this._renderNext(result);}},_renderCurrent:function(result){var subtitle,title,value,winner_title;this.elements.subtitleArea.text("concurso "+result.numero);this.elements.infoArea.addClass('current');if(result.ganhadores===0){title="ACUMULOU!";subtitle="valor acumulado";value=this._toMoneyNotation(result.valor_acumulado);}else{winner_title=result.ganhadores>1?'GANHADORES':'GANHADOR';title=""+result.ganhadores+" "+winner_title;subtitle="valor do prÃªmio";value=this._toMoneyNotation(result.valor_acumulado);}
this.elements.infoArea.append(""+title+"\n<div class='value'>\n    "+subtitle+"\n    <strong>\n        R$ "+value+"\n    </strong>\n</div>");return this.elements.infoArea.append("<a class='product' href='http://g1.globo.com/loterias/megasena.html'>confira os nÃºmeros &rsaquo;</a>");},_renderNext:function(result){this.elements.subtitleArea.text("prÃ³ximo sorteio");this.elements.infoArea.addClass('next');return this.elements.infoArea.append("prÃªmio estimado\n<div class='value'>\n    "+(this._humanizeMoney(result.premio))+"\n</div>\n<div class='date'>\n    a ser realizado\n    <strong>\n        "+(result.dias_ate_o_proximo===0?'hoje':'amanhÃ£')+",\n        "+result.data_exibicao+"\n    </strong>\n</div>");},_fillBody:function(){return'<a class="area-topo" href="http://g1.globo.com/loterias/">\n    <span class="widget-icon"></span>\n    <h3>MEGA SENA</h3>\n    <h4></h4>\n</a>\n\n<div class="info">\n</div>\n\n<div class="more">\n    <p>confira tambÃ©m</p>\n    <div>\n        <a href="http://g1.globo.com/loterias/lotofacil.html">LotofÃ¡cil</a>,\n        <a href="http://g1.globo.com/loterias/timemania.html">Timemania</a>,\n        <a href="http://g1.globo.com/loterias/quina.html">Quina</a>\n    </div>\n</div>';}});})(jQuery);}).call(this);jQuery('div.libby-widget-servicos-loterias').servicosLoterias();(function(){var addScript,createShopping,getData,getId,initVitrine,shopping,shoppingOptions;getData=function(shopping,dataAttr){return shopping.data(dataAttr);};getId=function(shopping){return shopping.attr('id');};addScript=function(url){var optionsAjax;optionsAjax={url:url,dataType:"script",cache:true};return $.ajax(optionsAjax);};createShopping=function(shopping){var brandingColor,options,responsive,sitepage,url;url=getData(shopping,'url');if(url==null){url="http://vitrines.globo.com/vitrine/vitrine.min.js";}
sitepage=getData(shopping,'sitepage');responsive=getData(shopping,'responsive')==='on';brandingColor=getData(shopping,'branding-color');if(sitepage==null){sitepage="globocom/home";}
options={sitepage:sitepage,container:getId(shopping)};if(brandingColor!==""){options.text_color=brandingColor;}
addScript(url);return options;};initVitrine=function(options){return $(function(){window.globoComVitrine=new Vitrine(options);return window.globoComVitrine.init();});};shopping=$('#glb-shopping-widget');shoppingOptions=createShopping(shopping);initVitrine(shoppingOptions);}).call(this);(function(global,$){var SERIE_A='a';$.widget('libby.customizationMenuTimes',{options:{pubsub:null},_create:function(){this.elements={};this._createElements();this._bindEvents();},_createElements:function(){var teamSelectBasicHTML=['<div>','<ul class="teams loading"></ul>','<div class="series-menu">','<ul>','<li class="choose-serie-a"><a href="#" data-series="A">sÃ©rie a</a></li>','<li class="choose-serie-b"><a href="#" data-series="B">sÃ©rie b</a></li>','</ul>','</div>','</div>'].join('');this.element.html(teamSelectBasicHTML);this.elements.seriesMenu=this.element.find('.series-menu');this.elements.teams=this.element.find('.teams');},_bindEvents:function(){this._bindElementsEvents();this._bindExternalEvents();},_bindElementsEvents:function(){this.elements.seriesMenu.find('a').bind('click',$.proxy(this._onClickInSeriesMenu,this));},_bindExternalEvents:function(){this.options.pubsub.bind('choicesReady',$.proxy(this._onChoicesReady,this));this.options.pubsub.bind('defaultChoice',$.proxy(this._onDefaultChoice,this));this.options.pubsub.bind('optionSelected',$.proxy(this._onOptionSelected,this));},_onChoicesReady:function(ev,availableTeams){this._renderTeamsChoices(availableTeams);this._selectSerie(SERIE_A);this._bindTeamsEvents(availableTeams);this._stopLoading();},_renderTeamsChoices:function(teams){for(var i=0;i<teams.length;i++){var team=teams[i];teamHTML=$(['<li class="serie-',team.series.toLowerCase(),'">','<a ','title="',team.name,'"',' class="css3pie team-flag" href="#',team.slug.toLowerCase(),'">','<span class="',team.slug.toLowerCase(),'"></span>','</a>','</li>'].join(''));teamHTML.find('a').data('team',team);this.elements[team.slug]=teamHTML;this.elements.teams.append(teamHTML);}},_selectSerie:function(serie){var serieToChoose=this.elements.seriesMenu.find('.choose-serie-'+serie);this.elements.seriesMenu.find('li').removeClass('selected');serieToChoose.addClass('selected');this._showOnlyTeamsOfSerie(serie);},_bindTeamsEvents:function(){this.elements.teams.find('li.serie-a a, li.serie-b a').bind('click',$.proxy(this._onClickToChooseTeam,this));},_showOnlyTeamsOfSerie:function(serie){this.elements.teams.find('li.serie-a, li.serie-b').hide();this.elements.teams.find('li.serie-'+serie).show();},_stopLoading:function(){this.elements.teams.removeClass('loading');},_onDefaultChoice:function(ev,teamSlug){var team=this.elements[teamSlug].find('a').data('team');this._markTeamChoiceAsSelected(team);},_markTeamChoiceAsSelected:function(team){var optionElement=this.elements.teams.find('li a'+' .'+team.slug).parents('li');this._selectSerie(team.series.toLowerCase());this.elements.teams.find('li').removeClass('selected');optionElement.addClass('selected');},_onClickInSeriesMenu:function(ev){ev.preventDefault();var selectedSerie=this._getEventTarget(ev).data('series');this._selectSerie(selectedSerie.toLowerCase());},_onClickToChooseTeam:function(ev){ev.preventDefault();var team=this._getEventTarget(ev).data('team');this.options.pubsub.trigger('optionSelected',[team]);},_getEventTarget:function(event){return $((event.currentTarget)?event.currentTarget:event.srcElement);},_onOptionSelected:function(ev,team){this._markTeamChoiceAsSelected(team);}});})(window,jQuery);(function(global,$){$.widget('libby.customizationResponsiveMenuTimes',$.libby.customizationResponsiveMenu,{_responsiveLabel:function(){return'MUDAR TIME';},_parseChoices:function(originalChoices){var options=[],currentOption,serieA={value:'A',text:'SÃ©rie A',optgroup:[]},serieB={value:'B',text:'SÃ©rie B',optgroup:[]};options.push(serieA);options.push(serieB);this.objects={};for(var i=0;i<originalChoices.length;i++){currentOption={value:originalChoices[i].slug,text:originalChoices[i].name};if(originalChoices[i].series=='A'){serieA.optgroup.push(currentOption);}else{serieB.optgroup.push(currentOption);}
this.objects[originalChoices[i].slug]=originalChoices[i];}
return options;}});})(window,jQuery);(function($){$.widget("home.personalizaveisTimes",$.home.widgetPersonalizaveis,{_create:function(){var self=this;window.glb=window.glb||{};window.glb.preferences=window.glb.preferences||[];window.glb.preferences.push(['get',{product:this._storageProductName(),key:this._storageKeyName(),callback:function(value){if(value){$.home.widgetPersonalizaveis.prototype._create.call(self,arguments);}else{self._getABTestGroup(function(version){self._abTestGroup=version;self._widgetWasVisible=false;if(self._abTestGroup==="excelsior"){self._teamOnExcelsior();}else if(self._abTestGroup==="smart"){self._teamOnExcelsior(true);}});globoapi.geo.onSuccess($.proxy(self._geoLocate,self));globoapi.geo.onNotFound($.proxy(self._geoLocate,self));}}}]);},_abTestExperiment:"excelsior-home-smart",_getABTestGroup:function(callback){if(!globoAB){callback("control");return;}
globoAB.get({experiment:this._abTestExperiment,defaultValue:"control",increment:false},callback);},_teamOnExcelsior:function(smart){var self=this;self._getExcelsiorTeams(smart,function(teams){var team;if(typeof teams!=="undefined"&&teams.length>0){team=self._matchExcelsiorWithAvailableTeams(teams);}
self._defaultExcelsiorTeam=team;self.defaultTeam=team;});},_matchExcelsiorWithAvailableTeams:function(teams){var availableIdList={},i;for(i=0;i<this.availableTeams.length;i++){availableIdList[this.availableTeams[i].id]=this.availableTeams[i];}
for(i=0;i<teams.length;i++){var idTeam=parseInt(teams[i].match(/[^\/]+$/)[0]);if(availableIdList.hasOwnProperty(idTeam)){return availableIdList[idTeam];}}},_getExcelsiorTeams:function(smart,callback){var url="http://excelsior.globo.com/profile/ge?class=http://semantica.globo.com/esportes/Equipe&limit=10";var TIMEOUT=300;var timedOut=false;var timeoutId;var reportError=function(error){if(!Raven){return;}
Raven.captureException(error,{logger:"excelsior"});};var responseHandler=function(result){if(!timedOut){callback(result);}else{reportError(new Error("TIMEOUT"));}
clearTimeout(timeoutId);};url=smart?url+"&smart=true":url;$.ajax({url:url,dataType:"jsonp",success:responseHandler,error:function(jqXHR,message,error){if(timedOut){return;}
callback([]);reportError(error);}});timeoutId=setTimeout(function(){timedOut=true;},TIMEOUT);},_geoLocate:function(geo){if(geo){this._defineGeoLocatedTeam(geo.state.code);}
$.home.widgetPersonalizaveis.prototype._create.call(this);},_defineGeoLocatedTeam:function(state){this._defaultState=function(){return state;};},_getRandomTeamFromState:function(state){var teamsByState={},random;for(var i=0;i<this.availableTeams.length;++i){var currentTeam=this.availableTeams[i];if(currentTeam.state){if(!teamsByState[currentTeam.state]){teamsByState[currentTeam.state]=[];}
teamsByState[currentTeam.state].push(currentTeam);}}
if(!teamsByState[state]){state="SP";}
random=this._getRandomArbitrary(0,teamsByState[state].length);return teamsByState[state][random];},_getRandomArbitrary:function(min,max){return parseInt(Math.random()*(max-min)+min,10);},_storageKeyName:function(){return'time';},_storageProductName:function(){return'esportes';},_getAnalyticsData:function(event){var self=this;this._getCurrentChoice(function(currentChoice){self._trigger(event,{category:"Meu time",type:"time",value:currentChoice.name,slug:currentChoice.slug,id:currentChoice.id});});},_getCoverData:function(){return{title:'seu time <strong>do coraÃ§Ã£o</strong>',subtitle:'Personalize com as notÃ­cias<br />do seu time'};},_getChoicesData:function(){return{title:'Meu time'};},_getCssClass:function(){return'glb-hl-style-esporte';},_getChangeText:function(){return'ESCOLHA SEU TIME';},_getSelectText:function(){return'selecione seu time';},_getNewsService:function(){return globoapi.soccerNews;},_getChoiceOptions:function(callback){var self=this;if(window.libby&&libby.soccerTeams){libby.soccerTeams.loadStyle('ab');libby.soccerTeams.loadTeams('ab',function(teams){self._onTeamsReady(teams,callback);});}},_onTeamsReady:function(teams,callback){for(var i=0,len=teams.length;i<len;++i){var team=teams[i];teams[i]={"id":team.equipe_id,"name":team.nome_popular,"series":team.serie.toUpperCase(),"slug":team.slug,"url":team.permalink,"state":team.state};}
this.availableTeams=teams;if(this.onAvailableTeamsCallback){this.onAvailableTeamsCallback(teams);this.onAvailableTeamsCallback=null;}
callback(teams);},_withAvailableTeams:function(callback){if(this.availableTeams){return callback(this.availableTeams);}
this.onAvailableTeamsCallback=callback;},_defaultState:function(){return"SP";},_getDefaultChoice:function(callback){if(this.defaultTeam){return this.defaultTeam;}
if(this._defaultExcelsiorTeam){callback(this._defaultExcelsiorTeam);}
var self=this;this._withAvailableTeams(function(){self.defaultTeam=self._getRandomTeamFromState(self._defaultState());callback(self.defaultTeam);});return'wait';},_createBasicMarkup:function(){if(this.elements.highlights){return;}
var highlightsHtml=function(id){return['<li class="destaque destaque-terciario destaque-terciario-medio-foto-lado">','<div class="chamada chamada-principal mobile-grid-full">','<a class="foto" href="#">','<span class="borda-foto">','<span></span>','<img title="" alt="" src="">','</span>','<span class="conteudo"><p></p></span>','</a>','</div>','</li>'].join('');};var html=['<div class="widget-highlights '+this._getCssClass()+'">','<div class="area-topo">','<a href="#" class="titulo">','<div>','<span class="choice-marker"><span></span></span>','<span class="area-selecionada"></span>','</div>','<span class="borda"></span>','</a>','</div>','<ul>',highlightsHtml(1),'<li class="separator"></li>',highlightsHtml(2),'<li class="separator"></li>','</ul>','<div class="bottom-area">','<div class="trocar-button-responsive"></div>','<a class="mais" href="#"><h4></h4><span>&rsaquo;</span></a>','<div class="trocar-button"></div>','</div>','</div>'];this.element.append(html.join(''));this.elements.highlights=this.element.find('.widget-highlights');this.elements.highlightItems=this.elements.highlights.find('li.destaque');this.elements.highlightsTitle=this.elements.highlights.find('.area-topo .area-selecionada');this.elements.highlightsLink=this.elements.highlights.find('.area-topo a.titulo');this.elements.highlightsMarker=this.elements.highlights.find('.area-topo a.titulo .choice-marker span');this.elements.highlightImages=this.elements.highlightItems.find('img');this.elements.changeChoiceButton=this.element.find("div.trocar-button");this.elements.changeChoiceResponsiveButton=this.element.find("div.trocar-button-responsive");this.elements.footerLink=this.elements.highlights.find(".mais");this._applyPIE(this.elements.highlights);},_registerTestABConversionListeners:function(){var self=this;if(globoAB){$("a:not(.team-flag)",this.element).click(function(){if(self._abTestGroup&&self._widgetWasVisible){globoAB.conversion({experiment:self._abTestExperiment,version:self._abTestGroup});}});if(window.libby&&libby.responsive&&libby.responsive.scrollSpy){libby.responsive.scrollSpy.add(this.element[0],function(){if(self._abTestGroup&&self._widgetWasVisible===false){self._widgetWasVisible=true;globoAB.get({experiment:self._abTestExperiment,version:self._abTestGroup});}});}}},_renderChoices:function(choicesData){this.elements.changeChoiceButton.customizationChooseMenu({chooseComponentName:"customizationMenuTimes",title:this._getChangeText(),pubsub:this.element});this.elements.changeChoiceResponsiveButton.customizationResponsiveMenuTimes({title:this._getChangeText(),pubsub:this.element});this.element.trigger("choicesReady",[choicesData]);this.element.bind("optionSelected",$.proxy(this._optionSelected,this));this.element.bind('chooseMenuOpen',$.proxy(function(){this._getAnalyticsData('onChangeOption');},this));this.element.bind('chooseMenuClose',$.proxy(function(){this._getAnalyticsData('onCloseChoicesArea');},this));this._registerTestABConversionListeners();},_optionSelected:function(ev,team){this._changeTeam(team);},_changeTeam:function(team){this._saveChoice(team,{'time_url':'url'});this._getAnalyticsData("onOptionSelected");},_updateElements:function(team){$.home.widgetPersonalizaveis.prototype._updateElements.call(this,team);this.elements.highlightsMarker.attr("class",team.slug.toLowerCase());}});})(jQuery);(function($){$('div.libby-widgets-personalizaveis-times').personalizaveisTimes();})(jQuery);(function($){var freezeClasses=function(el){el.data('frozen-class',el.attr('class'));};var setClass=function(el,_class){el.attr('class',el.data('frozen-class')+(_class?' '+_class:''));};$.widget('libby.widgetBrasileirao',$.libby.widgetBase,{options:{duration:150,domain:'http://globoesporte.globo.com',teamUrl:'/futebol/times/{slug}/'},_create:function(){this._super('_create');if(window.libby&&libby.soccerTeams){libby.soccerTeams.loadStyle('a_45x45');}
this._createWidgets();this._bindEvents();},_createWidgets:function(){this.element.widgetBrasileiraoDataSource();this.element.widgetBrasileiraoAnalytics();this.element.widgetBrasileiraoCustomization();this.menuElement=$('<div></div>').widgetBrasileiraoMenu({pubsub:this.element});},_createElements:function(){var year=(new Date()).getFullYear();var html=['<div class="libby-home-widgetBase-container-top css3pie"></div>','<div class="libby-home-widgetBase-container css3pie">','<div class="header">','<h3 class="title">','<a href="http://globoesporte.globo.com/futebol/brasileirao-serie-a/">','brasileirÃ£o <span>',year,'</span>','</a>','</h3>','<div class="round"><span></span>Âª rodada</div>','</div>','<div class="content">','<div class="left-team">','<div class="goals"></div>','<a href="#" title="" class="shield soccer-teams sz45x45"><span class="team-shield"></span></a>','<span class="classification"></span>','<div class="next-round-position-ico"></div>','</div>','<div class="versus-ico"></div>','<div class="right-team">','<div class="goals"></div>','<a href="#" title="" class="shield soccer-teams sz45x45"><span class="team-shield"></span></a>','<span class="classification"></span>','<div class="next-round-position-ico"></div>','</div>','<div class="game-details">','<span class="sub"><a href="#">confira como foi a partida âº</a></span>','</div>','</div>','<div class="footer"></div>','</div>'];this.element.append(html.join(''));this.elements.header=this.element.find('.header');this.elements.content=this.element.find('.content');freezeClasses(this.elements.content);this.elements.footer=this.element.find('.footer');this.elements.leftTeam={};this.elements.rightTeam={};var leftTeam=this.elements.content.find('.left-team');this.elements.leftTeam.goals=leftTeam.find('.goals');this.elements.leftTeam.shield=leftTeam.find('.shield');this.elements.leftTeam.teamShield=leftTeam.find('.shield span');this.elements.leftTeam.classification=leftTeam.find('.classification');this.elements.leftTeam.positionIcon=leftTeam.find('.next-round-position-ico');freezeClasses(this.elements.leftTeam.shield);freezeClasses(this.elements.leftTeam.teamShield);freezeClasses(this.elements.leftTeam.positionIcon);var rightTeam=this.elements.content.find('.right-team');this.elements.rightTeam.goals=rightTeam.find('.goals');this.elements.rightTeam.shield=rightTeam.find('.shield');this.elements.rightTeam.teamShield=rightTeam.find('.shield span');this.elements.rightTeam.classification=rightTeam.find('.classification');this.elements.rightTeam.positionIcon=rightTeam.find('.next-round-position-ico');freezeClasses(this.elements.rightTeam.shield);freezeClasses(this.elements.rightTeam.teamShield);freezeClasses(this.elements.rightTeam.positionIcon);var gameDetails=this.elements.content.find('.game-details');this.elements.subDetail=gameDetails.find('.sub');this.elements.roundNumber=this.elements.header.find('.round span');this.elements.footer.append(this.menuElement);},_bindEvents:function(){this._bind('onRoundLoaded',$.proxy(this._onRoundLoaded,this));this._bind('onSelectedGame',$.proxy(this._onSelectedGame,this));},_onRoundLoaded:function(event,round){this._createElements();this.element.addClass('loaded');this.round=round;this.elements.roundNumber.text(round.round_number);this.setGame(0);},_onSelectedGame:function(event,game,index){this.setGame(index);},_isValidGoal:function(goal){return isFinite(parseInt(goal,10));},_setTeam:function(team,teamData,goals,gameStatus){team.goals.text(this._isValidGoal(goals)?goals:'');setClass(team.teamShield,teamData.nome.slug);team.shield.attr('title',teamData.nome.popular);team.shield.attr('href',this.options.domain+this.options.teamUrl.replace(/\{slug\}/g,teamData.nome.slug));team.classification.text(teamData.classificacao);var iconClass=(gameStatus==='prÃ© jogo')?'':(teamData.variacao>0)?'up':(teamData.variacao<0)?'down':'stay';setClass(team.positionIcon,iconClass);},_setGameDetails:function(game){var gameStatus=game.status.toLowerCase(),sub,subElement;switch(gameStatus){case'pÃ³s jogo':setClass(this.elements.content,'after-game');sub='veja como foi âº';subElement=$('<a class="sub" href="'+game.urls.confronto+'">'+sub+'</a>');break;case'em andamento':setClass(this.elements.content,'during-game');sub='acompanhe em tempo real âº';subElement=$('<a class="sub" href="'+game.urls.realtime+'">'+sub+'</a>');break;default:setClass(this.elements.content,'');var date=game.data.match(/^(\d+)-(\d+)-(\d+).*$/);var hour=game.horario.hora;var minute=game.horario.minuto;var fullDate=date[3]+'/'+date[2];if(hour&&minute){fullDate+=((parseInt(hour,10)===1)?' Ã  ':' Ã s ')+hour+':'+minute;}
var stadium='';if(game.local&&game.local.nome&&game.local.nome.popular){stadium='<span class="sep"> - </span>'+game.local.nome.popular;}
subElement=$('<span class="sub"><strong>'+fullDate+'</strong>'+stadium+'</span>');}
this.elements.subDetail.replaceWith(subElement);this.elements.subDetail=subElement;},setGame:function(index){if(!this.round)return;var changeContent=$.proxy(function(){var game=this.round.games[index];game.status=game.status.toLowerCase();var leftTeam=this.round.teams[game.mandante];var rightTeam=this.round.teams[game.visitante];this._setTeam(this.elements.leftTeam,leftTeam,game.placar.mandante,game.status);this._setTeam(this.elements.rightTeam,rightTeam,game.placar.visitante,game.status);this._setGameDetails(game);},this);if($.support.opacity){this.elements.content.stop(true).animate({opacity:0},this.options.duration,changeContent).animate({opacity:1},this.options.duration);}else{changeContent();}}});}(jQuery));(function($){$.widget('libby.widgetBrasileiraoMenu',$.libby.widgetBase,{_create:function(){this._super('_create');this._bindEvents();},_bindEvents:function(){this._bind('onRoundLoaded',this._onRoundLoaded);this._bind('onSelectedGame',this._onSelectedGame);},_onRoundLoaded:function(e,round){var that=this;this._createElements(round);this._bindElementsEvents(round.games);this._activateItem(0);window['cq']=window['cq']||[];window['cq'].push({'ready':function(){window.glb.preferences.get({key:"time",product:"esportes",callback:function(teamName){var linkIndex=that._findGameIndexWithTeamName(round,teamName);var game=round.games[linkIndex];that._trigger('onSelectedGame',[game,linkIndex,null]);}});}});},_findGameIndexWithTeamName:function(round,teamName){var teamIndex=0;teamName=(typeof teamName!=="undefined"&&teamName)?teamName.toLowerCase():"";if(teamName){$.each(round.games,function(i){var team1Name=round.teams[this.mandante].nome.popular;var team2Name=round.teams[this.visitante].nome.popular;if(team1Name.toLowerCase()===teamName||team2Name.toLowerCase()===teamName){teamIndex=i;return;}});}
return teamIndex;},_createElements:function(round){var gamesAnalytics=[];var html=['<ul>'];var responsiveHtml=['<label class="responsive-team-select">','<span>SELECIONE O JOGO</span>','<select>'];$.each(round.games,function(i){var team1Name=round.teams[this.mandante].nome;var team2Name=round.teams[this.visitante].nome;var linkTitle=team1Name.popular+' x '+team2Name.popular;var shortNameTeam1=team1Name.sigla.toUpperCase();var shortNameTeam2=team2Name.sigla.toUpperCase();gamesAnalytics.push(shortNameTeam1+'x'+shortNameTeam2);html.push('<li>','<a href="#',shortNameTeam1,'x',shortNameTeam2,'" title="',linkTitle,'">','<span>',shortNameTeam1,'</span><b></b><span>',shortNameTeam2,'</span>','</a>','</li>');responsiveHtml.push('<option value="',i,'">',linkTitle,'</option>');});html.push('</ul>');responsiveHtml.push('</select></label>');this.element.html(html.join(''));this.element.append(responsiveHtml.join(''));this.elements.items=this.element.find('a');this.gamesAnalytics=gamesAnalytics;},_changeGame:function(linkIndex,games){if(linkIndex===this.index)return;this.index=linkIndex;var game=games[linkIndex];this._trigger('onSelectedGame',[game,linkIndex,this.gamesAnalytics[linkIndex]]);},_bindElementsEvents:function(games){this.element.delegate('a','click',$.proxy(function(event){event.preventDefault();event.stopPropagation();var linkIndex=$.inArray(event.currentTarget,this.elements.items);this._changeGame(linkIndex,games);},this));this.element.on('change','select',$.proxy(function(){var el=$(event.target);event.preventDefault();event.stopPropagation();var linkIndex=$(event.target).val();this._changeGame(linkIndex,games);},this));},_onSelectedGame:function(event,game,index){this._activateItem(index);},_activateItem:function(index){this.elements.items.removeClass('active').eq(index).addClass('active');}});})(jQuery);(function($){$.widget('libby.widgetBrasileiraoDataSource',$.libby.widgetBase,{_create:function(){this._super('_create');var selectedRound=this.element.find('input[name=rodada_selecionada]').val();if(!selectedRound){selectedRound='current';}
globoapi.round.onSuccess('brasileirao.'+selectedRound,$.proxy(this._roundLoaded,this));globoapi.round.update('brasileirao.'+selectedRound);},_roundLoaded:function(games){this._trigger('onRoundLoaded',games);}});})(jQuery);(function(global){$.widget('libby.widgetBrasileiraoAnalytics',$.libby.widgetBase,{_create:function(){this._super("_create");this._bindEvents();},_bindEvents:function(){this._bind("onSelectedGame",this._onSelectGame);},_onSelectGame:function(ev,game,gameIndex,element){if(!element){return;}
global._gaq.push(['_trackEvent','Futebol','Jogo Selecionado',element]);}});})(window);(function($){$.widget('libby.widgetBrasileiraoCustomization',$.libby.widgetBase,{options:{cookieName:'p.time',customTeamSelector:'div.libby-widgets-personalizaveis-times'},_create:function(){this._super('_create');this.customTeamElement=$(this.options.customTeamSelector);this._bindEvents();},_bindEvents:function(){this._bind('onSelectedGame',this._onSelectedGame);this._bind('onRoundLoaded',this._onRoundLoaded);this.customTeamElement.bind('onOptionSelected',$.proxy(this._onTeamSelected,this));},_onTeamSelected:function(e,data){if(this.ignoreTeamChanges){return;}
this._triggerGameSelected(data.slug);},_onRoundLoaded:function(e,round){this.round=round;setTimeout($.proxy(function(){this._triggerGameSelected();},this),0);},_onSelectedGame:function(e,game,gameIndex,element){if(element){this.ignoreTeamChanges=true;}},_detectGameIndex:function(slug){if(!slug){slug=libby.cookie.read(this.options.cookieName);}
if(!slug){return 0;}
for(var i=0,len=this.round.games.length;i<len;++i){var game=this.round.games[i],homeTeam=this.round.teams[game.mandante],guestTeam=this.round.teams[game.visitante];if(homeTeam.nome.slug==slug||guestTeam.nome.slug==slug){return i;}}
return 0;},_triggerGameSelected:function(slug){if(!this.round){return;}
var gameIdx=this._detectGameIndex(slug);this._trigger('onSelectedGame',[this.round.games[gameIdx],gameIdx]);}});})(jQuery);(function($){$("#libby-home-widget-brasileirao").widgetBrasileirao();})(jQuery);(function($){if(!$.fn.on){$.fn.on=function(events,selector,data,handler){var self=this;var args=arguments.length;if(args>3){return self.delegate(selector,events,data,handler);}
else if(args>2){if(typeof selector==='string'){return self.delegate(selector,events,data);}
else{return self.bind(events,selector,data);}}
else{return self.bind(events,selector);}};$.fn.off=function(events,selector,handler){var self=this;var args=arguments.length;if(typeof selector==='string'){if(args>2){return self.undelegate(selector,events,handler);}else if(args>1){return self.undelegate(selector,events);}else{return self.undelegate();}}
else{if(args>1){handler=selector;return self.unbind(events,handler);}else if(args>0){return self.unbind(events);}else{return self.unbind();}}};}})(this.jQuery);(function(w,$,undefined){w.tapHandling=false;w.tappy=true;var tap=function($els){return $els.each(function(){var $el=$(this),resetTimer,startY,startX,cancel,scrollTolerance=10;function trigger(e){$(e.target).trigger("tap",[e,$(e.target).attr("href")]);}
function getCoords(e){var ev=e.originalEvent||e,touches=ev.touches||ev.targetTouches;if(touches){return[touches[0].pageX,touches[0].pageY];}
else{return null;}}
function start(e){if(e.touches&&e.touches.length>1||e.targetTouches&&e.targetTouches.length>1){return false;}
var coords=getCoords(e);startX=coords[0];startY=coords[1];}
function move(e){if(!cancel){var coords=getCoords(e);if(coords&&(Math.abs(startY-coords[1])>scrollTolerance||Math.abs(startX-coords[0])>scrollTolerance)){cancel=true;}}}
function end(e){clearTimeout(resetTimer);resetTimer=setTimeout(function(){w.tapHandling=false;cancel=false;},1000);if((e.which&&e.which>1)||e.shiftKey||e.altKey||e.metaKey||e.ctrlKey){return;}
e.preventDefault();if(cancel||w.tapHandling&&w.tapHandling!==e.type){cancel=false;return;}
w.tapHandling=e.type;trigger(e);}
$el.bind("touchstart.tappy MSPointerDown.tappy",start).bind("touchmove.tappy MSPointerMove.tappy",move).bind("touchend.tappy MSPointerUp.tappy",end).bind("click.tappy",end);});};var untap=function($els){return $els.unbind(".tappy");};if($.event&&$.event.special){$.event.special.tap={add:function(handleObj){tap($(this));},remove:function(handleObj){untap($(this));}};}
else{var oldBind=$.fn.bind,oldUnbind=$.fn.unbind;$.fn.bind=function(evt){if(/(^| )tap( |$)/.test(evt)){tap(this);}
return oldBind.apply(this,arguments);};$.fn.unbind=function(evt){if(/(^| )tap( |$)/.test(evt)){untap(this);}
return oldUnbind.apply(this,arguments);};}}(this,jQuery));(function(){var HeaderProduto,shouldNotAutoLoad,bind=function(fn,me){return function(){return fn.apply(me,arguments);};};HeaderProduto=(function(){function HeaderProduto(container){this.container=container;this.onFloatingLogoClick=bind(this.onFloatingLogoClick,this);this.defaultSearchFormAsProxy=bind(this.defaultSearchFormAsProxy,this);this.containerKind='desktop';this.isTouchable='ontouchstart'in window||navigator.msMaxTouchPoints||(window.DocumentTouch&&document instanceof window.DocumentTouch);this.gatherElements();this.findContainerKind();this.verifyReguaExists();this.verifyShowtimeExists();this.bindEvents();}
HeaderProduto.prototype.gatherElements=function(){this.elements={};this.elements.cube=this.container.find('.cube');this.elements.menuButton=this.container.find('.menu-button');this.elements.searchContainer=this.container.find('.search-area');this.elements.glassContainer=this.container.find('.glass-container');this.elements.input=this.container.find('.search');this.elements.scrollAnim=$('html, body');this.elements.$html=$('html');this.elements.window=$(window);return this.elements.document=$(document);};HeaderProduto.prototype.addClassToHtml=function(htmlClass){if((htmlClass!=null)&&htmlClass){return this.elements.$html.addClass(htmlClass);}};HeaderProduto.prototype.removeClassToHtml=function(htmlClass){if((htmlClass!=null)&&htmlClass){return this.elements.$html.removeClass(htmlClass);}};HeaderProduto.prototype.verifyElmExists=function(elmSelector,htmlClassWhenExists,htmlClassWhenDoesntExists){if(document.querySelector(elmSelector)){return this.addClassToHtml(htmlClassWhenExists);}else{return this.addClassToHtml(htmlClassWhenDoesntExists);}};HeaderProduto.prototype.verifyReguaExists=function(){return this.verifyElmExists("#regua-navegacao",null,"has-not-regua");};HeaderProduto.prototype.verifyShowtimeExists=function(){return this.verifyElmExists(".showtime","has-showtime");};HeaderProduto.prototype.findContainerKind=function(){if(window.responsiveHub){responsiveHub.getContainerKind((function(_this){return function(containerKind){_this.containerKind=containerKind;return _this.changedContainerKind();};})(this));return responsiveHub.addEvent('onContainerChanged',(function(_this){return function(newWidth,oldWidth,containerKind){if(_this.containerKind!==containerKind){_this.containerKind=containerKind;return _this.changedContainerKind();}};})(this));}else{return this.changedContainerKind();}};HeaderProduto.prototype.changedContainerKind=function(){if(this.isDesktop()){return this.destroyMobileSearch();}else{this.createMobileSearch();return this.bindMobileEvents();}};HeaderProduto.prototype.isSmart=function(){return this.containerKind.indexOf('smart')>-1;};HeaderProduto.prototype.isDesktop=function(){return this.containerKind.indexOf('desktop')>-1&&!this.isTouchable;};HeaderProduto.prototype.bindMobileEvents=function(){this.elements.menuButton.off().on('tap',(function(_this){return function(){return _this.elements.document.trigger("glb.menu.open");};})(this));return this.elements.searchContainer.off().on('tap',(function(_this){return function(){_this.elements.cube.addClass('show-bottom');return _this.elements.mobileInput[0].focus();};})(this));};HeaderProduto.prototype.bindEvents=function(){if(!this.isDesktop()){this.bindMobileEvents();}
return this.container.delegate('#frmBuscaMobile, #frmBuscaScroll','submit',this.defaultSearchFormAsProxy).delegate('.floating-bar .logo-area','click',this.onFloatingLogoClick);};HeaderProduto.prototype.defaultSearchFormAsProxy=function(ev){var $buscaPadraoForm,$form,$inputBuscaPadrao;ev.preventDefault();$form=$(ev.target);$buscaPadraoForm=this.container.find('#busca-padrao form');$inputBuscaPadrao=$buscaPadraoForm.find('#busca-campo');$inputBuscaPadrao.val($form.find('input[type="text"]').val());return $buscaPadraoForm.trigger('submit');};HeaderProduto.prototype.onFloatingLogoClick=function(ev){var scrollTop;ev.preventDefault();scrollTop=this.elements.window.scrollTop();return this.elements.scrollAnim.animate({scrollTop:0},Math.max(scrollTop*0.3,200));};HeaderProduto.prototype.destroyMobileSearch=function(){this.elements.cube.removeClass('show-bottom');if(this.elements.mobileSearch!=null){this.elements.mobileSearch.detach();}
return this.elements.mobileSearch=null;};HeaderProduto.prototype.createMobileSearch=function(){if(this.elements.mobileSearch!=null){return;}
this.elements.formAction=this.container.find('#busca-padrao:first form').attr('action');this.elements.mobileSearch=$("<div class='face bottom'>\n    <form id='frmBuscaMobile' action='"+this.elements.formAction+"'>\n        <div class='input-container'>\n            <input type='text' class='search-input' name='q' />\n        </div>\n        <div class='close-container'>\n            <div class='close'></div>\n        </div>\n    </form>\n</div>");this.elements.cube.append(this.elements.mobileSearch);this.elements.mobileInput=this.elements.mobileSearch.find('input[type="text"]');this.elements.closeContainer=this.elements.mobileSearch.find('.close-container');return this.elements.closeContainer.off().on('tap',(function(_this){return function(ev){return _this.elements.cube.removeClass('show-bottom');};})(this));};return HeaderProduto;})();window.glb=window.glb||{};window.glb.HeaderProduto=HeaderProduto;window.loadHeaderProduto=function(){return window.glb.currentHeader=new HeaderProduto($('#header-produto'));};shouldNotAutoLoad=(window.noAutoLoadHeaderProduto!=null)&&window.noAutoLoadHeaderProduto;if(!shouldNotAutoLoad){window.loadHeaderProduto();}}).call(this);(function(){var classes,htmlTag,ieMatcher,mainVersion,newClasses,result,ua;htmlTag=document.getElementsByTagName('html')[0];classes=htmlTag.className;ua=navigator.userAgent;ieMatcher=/MSIE\s(\d+)/;result=ua.match(ieMatcher);mainVersion=null;newClasses='';if(result){mainVersion=result[1];if(classes.indexOf('is-ie')<0){newClasses+=' is-ie';}
if(classes.indexOf('is-ie'+mainVersion)<0){newClasses+=' is-ie'+mainVersion;}
htmlTag.className+=newClasses;}}).call(this);(function(){var Sticky,bind=function(fn,me){return function(){return fn.apply(me,arguments);};};Sticky=(function(){function Sticky(element){this.element=element;this.updatePosition=bind(this.updatePosition,this);this.refresh=bind(this.refresh,this);this.offset=50;this.isSticky=false;this.isOnFloating=false;this.gatherElements();this.measureElement();this.findContainerKind();}
Sticky.prototype.findContainerKind=function(){if(window.responsiveHub){responsiveHub.getContainerKind((function(_this){return function(containerKind){_this.containerKind=containerKind;return _this.refresh();};})(this));return responsiveHub.addEvent('onContainerChanged',(function(_this){return function(newWidth,oldWidth,containerKind){if(_this.containerKind!==containerKind){_this.containerKind=containerKind;return _this.refresh();}};})(this));}else{return this.refresh();}};Sticky.prototype.gatherElements=function(){this.elements={};this.elements.window=$(window);this.elements.body=$('body');this.elements.bar=this.element.find('#glbbarrawidget');this.elements.floatingBar=this.element.find('.floating-bar');return this.elements.headerBar=this.elements.floatingBar.find('.header-bar');};Sticky.prototype.measureElement=function(){return this.height=this.element.height();};Sticky.prototype.resetSticky=function(){this.unbindEvents();if(this.isSticky){this.element.removeClass('sticky');this.elements.bar.append(this.bar.detach());this.bar.css('height','').css('margin-top','');this.isOnFloating=false;return this.isSticky=false;}};Sticky.prototype.monitorScroll=function(){this.unbindEvents();return this.elements.window.unbind('scroll.sticky').bind('scroll.sticky',this.updatePosition);};Sticky.prototype.unbindEvents=function(){return this.elements.window.unbind('scroll.sticky');};Sticky.prototype.clearTimer=function(){if(this.timer!=null){clearTimeout(this.timer);}
return this.timer=null;};Sticky.prototype.refresh=function(){if(this.containerKind!=='desktop'){return this.resetSticky();}else{this.monitorScroll();return this.updatePosition();}};Sticky.prototype.updatePosition=function(){var scrollTop;scrollTop=this.elements.window.scrollTop();if((!this.bar)||this.bar.length===0){this.bar=this.elements.bar.find('#barra-globocom');}
if(scrollTop>this.height+this.offset){if(!this.isSticky){this.clearTimer();this.elements.floatingBar.prepend(this.bar.detach());this.element.addClass('sticky');this.isSticky=true;$(document).trigger('header_fixed');return this.isSticky;}}else if(this.isSticky){this.element.removeClass('sticky');this.clearTimer();this.timer=setTimeout((function(_this){return function(){_this.elements.bar.append(_this.bar.detach());_this.bar.css('height','').css('margin-top','');return _this.isOnFloating=false;};})(this),150);return this.isSticky=false;}};return Sticky;})();$(function(){return new Sticky($('#header-produto'));});}).call(this);(function(){var HeaderTracking;HeaderTracking=(function(){function HeaderTracking(container){this.container=container;this.logo=this.container.find(".logo");this.formBusca=this.container.find("#frmBusca");this.formBuscaMobile=this.container.find("#frmBuscaMobile");this.buscaCampo=this.formBusca.find("#busca-campo");this.buscaCampoMobile=this.container.find(".search-input");this.shouldTrack=!window.noTrackingMenuWeb;this.headerFramework=document.documentElement.className.indexOf('has-regua')>-1;this.bind();}
HeaderTracking.prototype.trackGA=function(category,action,label,noninteraction){if((typeof _gaq!=="undefined"&&_gaq!==null)&&this.shouldTrack){return _gaq.push(["_trackEvent",category,action,label,0,noninteraction]);}else{return console.log([category,action,label,noninteraction]);}};HeaderTracking.prototype.bind=function(){var headerFramework,logo,trackGa;trackGa=(function(_this){return function(category,action,label,noninteraction){return _this.trackGA(category,action,label,noninteraction);};})(this);logo=this.logo;headerFramework=this.headerFramework;if(this.container.hasClass("header-home")){this.container.find(".logo-area, .logo-produto").on("click",function(){var portalName;portalName=window.REGUA_SETTINGS.portalName||$(this).text();if(headerFramework){return trackGa("header_framework","marca","clique | "+portalName,false);}else{return trackGa("Header","Clique no Item","Logo do produto",false);}});}
if(this.container.hasClass("header-editoria")){this.logo.on("click",(function(_this){return function(){if(headerFramework){return trackGa("header_framework","editoria","clique | "+(_this.logo.html()),false);}else{return trackGa("Header","Clique no Item",_this.logo.html(),false);}};})(this));this.container.find(".logo-afiliada-primeiro").on("click",(function(_this){return function(){return trackGa("header_framework","Clique no Item",_this.logo.html()+" > logo 1",false);};})(this));this.container.find(".logo-afiliada-extra").on("click",(function(_this){return function(){return trackGa("header_framework","Clique no Item",_this.logo.html()+" > logo 2",false);};})(this));}
if(this.container.hasClass("header-subeditoria")){this.container.find(".link-subtitulo").on("click",function(){var link;link=$(this);if(headerFramework){return trackGa("header_framework","editoria","clique | "+(logo.html())+" > "+(link.text().trim()),false);}else{return trackGa("SubHeader","Clique no Item",link.text().trim(),false);}});}
this.container.find(".search-area .glass").on("click",(function(_this){return function(){return trackGa("Busca","Abrir busca","Abrir busca",true);};})(this));this.container.find(".close-container .close").on("click",(function(_this){return function(){return trackGa("Busca","Fechar busca","Fechar busca",true);};})(this));this.formBusca.on("click",(function(_this){return function(){return trackGa("Busca","Item buscado",_this.buscaCampo.val(),false);};})(this));return this.formBuscaMobile.on("click",(function(_this){return function(){return trackGa("Busca","Item buscado",_this.buscaCampoMobile.val(),false);};})(this));};return HeaderTracking;})();$(function(){return new HeaderTracking($('#header-produto'));});}).call(this);var localStoragePollyfillObject={_data:{},setItem:function(id,val){return this._data[id]=String(val);},getItem:function(id){return this._data.hasOwnProperty(id)?this._data[id]:undefined;},removeItem:function(id){return delete this._data[id];},clear:function(){return this._data={};}};if('localStorage'in window){try{localStorage.setItem('test',1);}catch(error){window.localStorage=localStoragePollyfillObject;}}else{window.localStorage=localStoragePollyfillObject;}
(function($){if(!$.fn.on){$.fn.on=function(events,selector,data,handler){var self=this;var args=arguments.length;if(args>3){return self.delegate(selector,events,data,handler);}
else if(args>2){if(typeof selector==='string'){return self.delegate(selector,events,data);}
else{return self.bind(events,selector,data);}}
else{return self.bind(events,selector);}};$.fn.off=function(events,selector,handler){var self=this;var args=arguments.length;if(typeof selector==='string'){if(args>2){return self.undelegate(selector,events,handler);}else if(args>1){return self.undelegate(selector,events);}else{return self.undelegate();}}
else{if(args>1){handler=selector;return self.unbind(events,handler);}else if(args>0){return self.unbind(events);}else{return self.unbind();}}};}})(this.jQuery);(function(w,$,undefined){w.tapHandling=false;w.tappy=true;var tap=function($els){return $els.each(function(){var $el=$(this),resetTimer,startY,startX,cancel,scrollTolerance=10;function trigger(e){$(e.target).trigger("tap",[e,$(e.target).attr("href")]);}
function getCoords(e){var ev=e.originalEvent||e,touches=ev.touches||ev.targetTouches;if(touches){return[touches[0].pageX,touches[0].pageY];}
else{return null;}}
function start(e){if(e.touches&&e.touches.length>1||e.targetTouches&&e.targetTouches.length>1){return false;}
var coords=getCoords(e);startX=coords[0];startY=coords[1];}
function move(e){if(!cancel){var coords=getCoords(e);if(coords&&(Math.abs(startY-coords[1])>scrollTolerance||Math.abs(startX-coords[0])>scrollTolerance)){cancel=true;}}}
function end(e){clearTimeout(resetTimer);resetTimer=setTimeout(function(){w.tapHandling=false;cancel=false;},1000);if((e.which&&e.which>1)||e.shiftKey||e.altKey||e.metaKey||e.ctrlKey){return;}
e.preventDefault();if(cancel||w.tapHandling&&w.tapHandling!==e.type){cancel=false;return;}
w.tapHandling=e.type;trigger(e);}
$el.bind("touchstart.tappy MSPointerDown.tappy",start).bind("touchmove.tappy MSPointerMove.tappy",move).bind("touchend.tappy MSPointerUp.tappy",end).bind("click.tappy",end);});};var untap=function($els){return $els.unbind(".tappy");};if($.event&&$.event.special){$.event.special.tap={add:function(handleObj){tap($(this));},remove:function(handleObj){untap($(this));}};}
else{var oldBind=$.fn.bind,oldUnbind=$.fn.unbind;$.fn.bind=function(evt){if(/(^| )tap( |$)/.test(evt)){tap(this);}
return oldBind.apply(this,arguments);};$.fn.unbind=function(evt){if(/(^| )tap( |$)/.test(evt)){untap(this);}
return oldUnbind.apply(this,arguments);};}}(this,jQuery));(function(){'use strict';var Swiper=function(container,params){if(!(this instanceof Swiper))return new Swiper(container,params);var defaults={direction:'horizontal',touchEventsTarget:'container',initialSlide:0,speed:300,autoplay:false,autoplayDisableOnInteraction:true,freeMode:false,freeModeMomentum:true,freeModeMomentumRatio:1,freeModeMomentumBounce:true,freeModeMomentumBounceRatio:1,freeModeSticky:false,setWrapperSize:false,virtualTranslate:false,effect:'slide',coverflow:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:true},cube:{slideShadows:true,shadow:true,shadowOffset:20,shadowScale:0.94},fade:{crossFade:false},parallax:false,scrollbar:null,scrollbarHide:true,keyboardControl:false,mousewheelControl:false,mousewheelReleaseOnEdges:false,mousewheelInvert:false,mousewheelForceToAxis:false,hashnav:false,spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:'column',slidesPerGroup:1,centeredSlides:false,touchRatio:1,touchAngle:45,simulateTouch:true,shortSwipes:true,longSwipes:true,longSwipesRatio:0.5,longSwipesMs:300,followFinger:true,onlyExternal:false,threshold:0,touchMoveStopPropagation:true,pagination:null,paginationClickable:false,paginationHide:false,paginationBulletRender:null,resistance:true,resistanceRatio:0.85,nextButton:null,prevButton:null,watchSlidesProgress:false,watchSlidesVisibility:false,grabCursor:false,preventClicks:true,preventClicksPropagation:true,slideToClickedSlide:false,lazyLoading:false,lazyLoadingInPrevNext:false,lazyLoadingOnTransitionStart:false,preloadImages:true,updateOnImagesReady:true,loop:false,loopAdditionalSlides:0,loopedSlides:null,control:undefined,controlInverse:false,allowSwipeToPrev:true,allowSwipeToNext:true,swipeHandler:null,noSwiping:true,noSwipingClass:'swiper-no-swiping',slideClass:'swiper-slide',slideActiveClass:'swiper-slide-active',slideVisibleClass:'swiper-slide-visible',slideDuplicateClass:'swiper-slide-duplicate',slideNextClass:'swiper-slide-next',slidePrevClass:'swiper-slide-prev',wrapperClass:'swiper-wrapper',bulletClass:'swiper-pagination-bullet',bulletActiveClass:'swiper-pagination-bullet-active',buttonDisabledClass:'swiper-button-disabled',paginationHiddenClass:'swiper-pagination-hidden',observer:false,observeParents:false,a11y:false,prevSlideMessage:'Previous slide',nextSlideMessage:'Next slide',firstSlideMessage:'This is the first slide',lastSlideMessage:'This is the last slide',runCallbacksOnInit:true};var initialVirtualTranslate=params&&params.virtualTranslate;params=params||{};for(var def in defaults){if(typeof params[def]==='undefined'){params[def]=defaults[def];}
else if(typeof params[def]==='object'){for(var deepDef in defaults[def]){if(typeof params[def][deepDef]==='undefined'){params[def][deepDef]=defaults[def][deepDef];}}}}
var s=this;s.version='3.0.8';s.params=params;s.classNames=[];var $;if(typeof Dom7==='undefined'){$=window.Dom7||window.Zepto||window.jQuery;}
else{$=Dom7;}
if(!$)return;s.$=$;s.container=$(container);if(s.container.length===0)return;if(s.container.length>1){s.container.each(function(){new Swiper(this,params);});return;}
s.container[0].swiper=s;s.container.data('swiper',s);s.classNames.push('swiper-container-'+s.params.direction);if(s.params.freeMode){s.classNames.push('swiper-container-free-mode');}
if(!s.support.flexbox){s.classNames.push('swiper-container-no-flexbox');s.params.slidesPerColumn=1;}
if(s.params.parallax||s.params.watchSlidesVisibility){s.params.watchSlidesProgress=true;}
if(['cube','coverflow'].indexOf(s.params.effect)>=0){if(s.support.transforms3d){s.params.watchSlidesProgress=true;s.classNames.push('swiper-container-3d');}
else{s.params.effect='slide';}}
if(s.params.effect!=='slide'){s.classNames.push('swiper-container-'+s.params.effect);}
if(s.params.effect==='cube'){s.params.resistanceRatio=0;s.params.slidesPerView=1;s.params.slidesPerColumn=1;s.params.slidesPerGroup=1;s.params.centeredSlides=false;s.params.spaceBetween=0;s.params.virtualTranslate=true;s.params.setWrapperSize=false;}
if(s.params.effect==='fade'){s.params.slidesPerView=1;s.params.slidesPerColumn=1;s.params.slidesPerGroup=1;s.params.watchSlidesProgress=true;s.params.spaceBetween=0;if(typeof initialVirtualTranslate==='undefined'){s.params.virtualTranslate=true;}}
if(s.params.grabCursor&&s.support.touch){s.params.grabCursor=false;}
s.wrapper=s.container.children('.'+s.params.wrapperClass);if(s.params.pagination){s.paginationContainer=$(s.params.pagination);if(s.params.paginationClickable){s.paginationContainer.addClass('swiper-pagination-clickable');}}
function isH(){return s.params.direction==='horizontal';}
s.rtl=isH()&&(s.container[0].dir.toLowerCase()==='rtl'||s.container.css('direction')==='rtl');if(s.rtl){s.classNames.push('swiper-container-rtl');}
if(s.rtl){s.wrongRTL=s.wrapper.css('display')==='-webkit-box';}
if(s.params.slidesPerColumn>1){s.classNames.push('swiper-container-multirow');}
if(s.device.android){s.classNames.push('swiper-container-android');}
s.container.addClass(s.classNames.join(' '));s.translate=0;s.progress=0;s.velocity=0;s.lockSwipeToNext=function(){s.params.allowSwipeToNext=false;};s.lockSwipeToPrev=function(){s.params.allowSwipeToPrev=false;};s.lockSwipes=function(){s.params.allowSwipeToNext=s.params.allowSwipeToPrev=false;};s.unlockSwipeToNext=function(){s.params.allowSwipeToNext=true;};s.unlockSwipeToPrev=function(){s.params.allowSwipeToPrev=true;};s.unlockSwipes=function(){s.params.allowSwipeToNext=s.params.allowSwipeToPrev=true;};if(s.params.grabCursor){s.container[0].style.cursor='move';s.container[0].style.cursor='-webkit-grab';s.container[0].style.cursor='-moz-grab';s.container[0].style.cursor='grab';}
s.imagesToLoad=[];s.imagesLoaded=0;s.loadImage=function(imgElement,src,checkForComplete,callback){var image;function onReady(){if(callback)callback();}
if(!imgElement.complete||!checkForComplete){if(src){image=new window.Image();image.onload=onReady;image.onerror=onReady;image.src=src;}else{onReady();}}else{onReady();}};s.preloadImages=function(){s.imagesToLoad=s.container.find('img');function _onReady(){if(typeof s==='undefined'||s===null)return;if(s.imagesLoaded!==undefined)s.imagesLoaded++;if(s.imagesLoaded===s.imagesToLoad.length){if(s.params.updateOnImagesReady)s.update();s.emit('onImagesReady',s);}}
for(var i=0;i<s.imagesToLoad.length;i++){s.loadImage(s.imagesToLoad[i],(s.imagesToLoad[i].currentSrc||s.imagesToLoad[i].getAttribute('src')),true,_onReady);}};s.autoplayTimeoutId=undefined;s.autoplaying=false;s.autoplayPaused=false;function autoplay(){s.autoplayTimeoutId=setTimeout(function(){if(s.params.loop){s.fixLoop();s._slideNext();}
else{if(!s.isEnd){s._slideNext();}
else{if(!params.autoplayStopOnLast){s._slideTo(0);}
else{s.stopAutoplay();}}}},s.params.autoplay);}
s.startAutoplay=function(){if(typeof s.autoplayTimeoutId!=='undefined')return false;if(!s.params.autoplay)return false;if(s.autoplaying)return false;s.autoplaying=true;s.emit('onAutoplayStart',s);autoplay();};s.stopAutoplay=function(internal){if(!s.autoplayTimeoutId)return;if(s.autoplayTimeoutId)clearTimeout(s.autoplayTimeoutId);s.autoplaying=false;s.autoplayTimeoutId=undefined;s.emit('onAutoplayStop',s);};s.pauseAutoplay=function(speed){if(s.autoplayPaused)return;if(s.autoplayTimeoutId)clearTimeout(s.autoplayTimeoutId);s.autoplayPaused=true;if(speed===0){s.autoplayPaused=false;autoplay();}
else{s.wrapper.transitionEnd(function(){if(!s)return;s.autoplayPaused=false;if(!s.autoplaying){s.stopAutoplay();}
else{autoplay();}});}};s.minTranslate=function(){return(-s.snapGrid[0]);};s.maxTranslate=function(){return(-s.snapGrid[s.snapGrid.length-1]);};s.updateContainerSize=function(){var width,height;if(typeof s.params.width!=='undefined'){width=s.params.width;}
else{width=s.container[0].clientWidth;}
if(typeof s.params.height!=='undefined'){height=s.params.height;}
else{height=s.container[0].clientHeight;}
if(width===0&&isH()||height===0&&!isH()){return;}
s.width=width;s.height=height;s.size=isH()?s.width:s.height;};s.updateSlidesSize=function(){s.slides=s.wrapper.children('.'+s.params.slideClass);s.snapGrid=[];s.slidesGrid=[];s.slidesSizesGrid=[];var spaceBetween=s.params.spaceBetween,slidePosition=0,i,prevSlideSize=0,index=0;if(typeof spaceBetween==='string'&&spaceBetween.indexOf('%')>=0){spaceBetween=parseFloat(spaceBetween.replace('%',''))/100*s.size;}
s.virtualSize=-spaceBetween;if(s.rtl)s.slides.css({marginLeft:'',marginTop:''});else s.slides.css({marginRight:'',marginBottom:''});var slidesNumberEvenToRows;if(s.params.slidesPerColumn>1){if(Math.floor(s.slides.length/s.params.slidesPerColumn)===s.slides.length/s.params.slidesPerColumn){slidesNumberEvenToRows=s.slides.length;}
else{slidesNumberEvenToRows=Math.ceil(s.slides.length/s.params.slidesPerColumn)*s.params.slidesPerColumn;}}
var slideSize;var slidesPerColumn=s.params.slidesPerColumn;var slidesPerRow=slidesNumberEvenToRows/slidesPerColumn;var numFullColumns=slidesPerRow-(s.params.slidesPerColumn*slidesPerRow-s.slides.length);for(i=0;i<s.slides.length;i++){slideSize=0;var slide=s.slides.eq(i);if(s.params.slidesPerColumn>1){var newSlideOrderIndex;var column,row;if(s.params.slidesPerColumnFill==='column'){column=Math.floor(i/slidesPerColumn);row=i-column*slidesPerColumn;if(column>numFullColumns||(column===numFullColumns&&row===slidesPerColumn-1)){if(++row>=slidesPerColumn){row=0;column++;}}
newSlideOrderIndex=column+row*slidesNumberEvenToRows/slidesPerColumn;slide.css({'-webkit-box-ordinal-group':newSlideOrderIndex,'-moz-box-ordinal-group':newSlideOrderIndex,'-ms-flex-order':newSlideOrderIndex,'-webkit-order':newSlideOrderIndex,'order':newSlideOrderIndex});}
else{row=Math.floor(i/slidesPerRow);column=i-row*slidesPerRow;}
slide.css({'margin-top':(row!==0&&s.params.spaceBetween)&&(s.params.spaceBetween+'px')}).attr('data-swiper-column',column).attr('data-swiper-row',row);}
if(slide.css('display')==='none')continue;if(s.params.slidesPerView==='auto'){slideSize=isH()?slide.outerWidth(true):slide.outerHeight(true);}
else{slideSize=(s.size-(s.params.slidesPerView-1)*spaceBetween)/s.params.slidesPerView;if(isH()){s.slides[i].style.width=slideSize+'px';}
else{s.slides[i].style.height=slideSize+'px';}}
s.slides[i].swiperSlideSize=slideSize;s.slidesSizesGrid.push(slideSize);if(s.params.centeredSlides){slidePosition=slidePosition+slideSize/2+prevSlideSize/2+spaceBetween;if(i===0)slidePosition=slidePosition-s.size/2-spaceBetween;if(Math.abs(slidePosition)<1/1000)slidePosition=0;if((index)%s.params.slidesPerGroup===0)s.snapGrid.push(slidePosition);s.slidesGrid.push(slidePosition);}
else{if((index)%s.params.slidesPerGroup===0)s.snapGrid.push(slidePosition);s.slidesGrid.push(slidePosition);slidePosition=slidePosition+slideSize+spaceBetween;}
s.virtualSize+=slideSize+spaceBetween;prevSlideSize=slideSize;index++;}
s.virtualSize=Math.max(s.virtualSize,s.size);var newSlidesGrid;if(s.rtl&&s.wrongRTL&&(s.params.effect==='slide'||s.params.effect==='coverflow')){s.wrapper.css({width:s.virtualSize+s.params.spaceBetween+'px'});}
if(!s.support.flexbox||s.params.setWrapperSize){if(isH())s.wrapper.css({width:s.virtualSize+s.params.spaceBetween+'px'});else s.wrapper.css({height:s.virtualSize+s.params.spaceBetween+'px'});}
if(s.params.slidesPerColumn>1){s.virtualSize=(slideSize+s.params.spaceBetween)*slidesNumberEvenToRows;s.virtualSize=Math.ceil(s.virtualSize/s.params.slidesPerColumn)-s.params.spaceBetween;s.wrapper.css({width:s.virtualSize+s.params.spaceBetween+'px'});if(s.params.centeredSlides){newSlidesGrid=[];for(i=0;i<s.snapGrid.length;i++){if(s.snapGrid[i]<s.virtualSize+s.snapGrid[0])newSlidesGrid.push(s.snapGrid[i]);}
s.snapGrid=newSlidesGrid;}}
if(!s.params.centeredSlides){newSlidesGrid=[];for(i=0;i<s.snapGrid.length;i++){if(s.snapGrid[i]<=s.virtualSize-s.size){newSlidesGrid.push(s.snapGrid[i]);}}
s.snapGrid=newSlidesGrid;if(Math.floor(s.virtualSize-s.size)>Math.floor(s.snapGrid[s.snapGrid.length-1])){s.snapGrid.push(s.virtualSize-s.size);}}
if(s.snapGrid.length===0)s.snapGrid=[0];if(s.params.spaceBetween!==0){if(isH()){if(s.rtl)s.slides.css({marginLeft:spaceBetween+'px'});else s.slides.css({marginRight:spaceBetween+'px'});}
else s.slides.css({marginBottom:spaceBetween+'px'});}
if(s.params.watchSlidesProgress){s.updateSlidesOffset();}};s.updateSlidesOffset=function(){for(var i=0;i<s.slides.length;i++){s.slides[i].swiperSlideOffset=isH()?s.slides[i].offsetLeft:s.slides[i].offsetTop;}};s.updateSlidesProgress=function(translate){if(typeof translate==='undefined'){translate=s.translate||0;}
if(s.slides.length===0)return;if(typeof s.slides[0].swiperSlideOffset==='undefined')s.updateSlidesOffset();var offsetCenter=s.params.centeredSlides?-translate+s.size/2:-translate;if(s.rtl)offsetCenter=s.params.centeredSlides?translate-s.size/2:translate;var containerBox=s.container[0].getBoundingClientRect();var sideBefore=isH()?'left':'top';var sideAfter=isH()?'right':'bottom';s.slides.removeClass(s.params.slideVisibleClass);for(var i=0;i<s.slides.length;i++){var slide=s.slides[i];var slideCenterOffset=(s.params.centeredSlides===true)?slide.swiperSlideSize/2:0;var slideProgress=(offsetCenter-slide.swiperSlideOffset-slideCenterOffset)/(slide.swiperSlideSize+s.params.spaceBetween);if(s.params.watchSlidesVisibility){var slideBefore=-(offsetCenter-slide.swiperSlideOffset-slideCenterOffset);var slideAfter=slideBefore+s.slidesSizesGrid[i];var isVisible=(slideBefore>=0&&slideBefore<s.size)||(slideAfter>0&&slideAfter<=s.size)||(slideBefore<=0&&slideAfter>=s.size);if(isVisible){s.slides.eq(i).addClass(s.params.slideVisibleClass);}}
slide.progress=s.rtl?-slideProgress:slideProgress;}};s.updateProgress=function(translate){if(typeof translate==='undefined'){translate=s.translate||0;}
var translatesDiff=s.maxTranslate()-s.minTranslate();if(translatesDiff===0){s.progress=0;s.isBeginning=s.isEnd=true;}
else{s.progress=(translate-s.minTranslate())/(translatesDiff);s.isBeginning=s.progress<=0;s.isEnd=s.progress>=1;}
if(s.isBeginning)s.emit('onReachBeginning',s);if(s.isEnd)s.emit('onReachEnd',s);if(s.params.watchSlidesProgress)s.updateSlidesProgress(translate);s.emit('onProgress',s,s.progress);};s.updateActiveIndex=function(){var translate=s.rtl?s.translate:-s.translate;var newActiveIndex,i,snapIndex;for(i=0;i<s.slidesGrid.length;i++){if(typeof s.slidesGrid[i+1]!=='undefined'){if(translate>=s.slidesGrid[i]&&translate<s.slidesGrid[i+1]-(s.slidesGrid[i+1]-s.slidesGrid[i])/2){newActiveIndex=i;}
else if(translate>=s.slidesGrid[i]&&translate<s.slidesGrid[i+1]){newActiveIndex=i+1;}}
else{if(translate>=s.slidesGrid[i]){newActiveIndex=i;}}}
if(newActiveIndex<0||typeof newActiveIndex==='undefined')newActiveIndex=0;snapIndex=Math.floor(newActiveIndex/s.params.slidesPerGroup);if(snapIndex>=s.snapGrid.length)snapIndex=s.snapGrid.length-1;if(newActiveIndex===s.activeIndex){return;}
s.snapIndex=snapIndex;s.previousIndex=s.activeIndex;s.activeIndex=newActiveIndex;s.updateClasses();};s.updateClasses=function(){s.slides.removeClass(s.params.slideActiveClass+' '+s.params.slideNextClass+' '+s.params.slidePrevClass);var activeSlide=s.slides.eq(s.activeIndex);activeSlide.addClass(s.params.slideActiveClass);activeSlide.next('.'+s.params.slideClass).addClass(s.params.slideNextClass);activeSlide.prev('.'+s.params.slideClass).addClass(s.params.slidePrevClass);if(s.bullets&&s.bullets.length>0){s.bullets.removeClass(s.params.bulletActiveClass);var bulletIndex;if(s.params.loop){bulletIndex=Math.ceil(s.activeIndex-s.loopedSlides)/s.params.slidesPerGroup;if(bulletIndex>s.slides.length-1-s.loopedSlides*2){bulletIndex=bulletIndex-(s.slides.length-s.loopedSlides*2);}
if(bulletIndex>s.bullets.length-1)bulletIndex=bulletIndex-s.bullets.length;}
else{if(typeof s.snapIndex!=='undefined'){bulletIndex=s.snapIndex;}
else{bulletIndex=s.activeIndex||0;}}
if(s.paginationContainer.length>1){s.bullets.each(function(){if($(this).index()===bulletIndex)$(this).addClass(s.params.bulletActiveClass);});}
else{s.bullets.eq(bulletIndex).addClass(s.params.bulletActiveClass);}}
if(!s.params.loop){if(s.params.prevButton){if(s.isBeginning){$(s.params.prevButton).addClass(s.params.buttonDisabledClass);if(s.params.a11y&&s.a11y)s.a11y.disable($(s.params.prevButton));}
else{$(s.params.prevButton).removeClass(s.params.buttonDisabledClass);if(s.params.a11y&&s.a11y)s.a11y.enable($(s.params.prevButton));}}
if(s.params.nextButton){if(s.isEnd){$(s.params.nextButton).addClass(s.params.buttonDisabledClass);if(s.params.a11y&&s.a11y)s.a11y.disable($(s.params.nextButton));}
else{$(s.params.nextButton).removeClass(s.params.buttonDisabledClass);if(s.params.a11y&&s.a11y)s.a11y.enable($(s.params.nextButton));}}}};s.updatePagination=function(){if(!s.params.pagination)return;if(s.paginationContainer&&s.paginationContainer.length>0){var bulletsHTML='';var numberOfBullets=s.params.loop?Math.ceil((s.slides.length-s.loopedSlides*2)/s.params.slidesPerGroup):s.snapGrid.length;for(var i=0;i<numberOfBullets;i++){if(s.params.paginationBulletRender){bulletsHTML+=s.params.paginationBulletRender(i,s.params.bulletClass);}
else{bulletsHTML+='<span class="'+s.params.bulletClass+'"></span>';}}
s.paginationContainer.html(bulletsHTML);s.bullets=s.paginationContainer.find('.'+s.params.bulletClass);}};s.update=function(updateTranslate){s.updateContainerSize();s.updateSlidesSize();s.updateProgress();s.updatePagination();s.updateClasses();if(s.params.scrollbar&&s.scrollbar){s.scrollbar.set();}
function forceSetTranslate(){newTranslate=Math.min(Math.max(s.translate,s.maxTranslate()),s.minTranslate());s.setWrapperTranslate(newTranslate);s.updateActiveIndex();s.updateClasses();}
if(updateTranslate){var translated,newTranslate;if(s.params.freeMode){forceSetTranslate();}
else{if(s.params.slidesPerView==='auto'&&s.isEnd&&!s.params.centeredSlides){translated=s.slideTo(s.slides.length-1,0,false,true);}
else{translated=s.slideTo(s.activeIndex,0,false,true);}
if(!translated){forceSetTranslate();}}}};s.onResize=function(forceUpdatePagination){s.updateContainerSize();s.updateSlidesSize();s.updateProgress();if(s.params.slidesPerView==='auto'||s.params.freeMode||forceUpdatePagination)s.updatePagination();if(s.params.scrollbar&&s.scrollbar){s.scrollbar.set();}
if(s.params.freeMode){var newTranslate=Math.min(Math.max(s.translate,s.maxTranslate()),s.minTranslate());s.setWrapperTranslate(newTranslate);s.updateActiveIndex();s.updateClasses();}
else{s.updateClasses();if(s.params.slidesPerView==='auto'&&s.isEnd&&!s.params.centeredSlides){s.slideTo(s.slides.length-1,0,false,true);}
else{s.slideTo(s.activeIndex,0,false,true);}}};var desktopEvents=['mousedown','mousemove','mouseup'];if(window.navigator.pointerEnabled)desktopEvents=['pointerdown','pointermove','pointerup'];else if(window.navigator.msPointerEnabled)desktopEvents=['MSPointerDown','MSPointerMove','MSPointerUp'];s.touchEvents={start:s.support.touch||!s.params.simulateTouch?'touchstart':desktopEvents[0],move:s.support.touch||!s.params.simulateTouch?'touchmove':desktopEvents[1],end:s.support.touch||!s.params.simulateTouch?'touchend':desktopEvents[2]};if(window.navigator.pointerEnabled||window.navigator.msPointerEnabled){(s.params.touchEventsTarget==='container'?s.container:s.wrapper).addClass('swiper-wp8-'+s.params.direction);}
s.initEvents=function(detach){var actionDom=detach?'off':'on';var action=detach?'removeEventListener':'addEventListener';var touchEventsTarget=s.params.touchEventsTarget==='container'?s.container[0]:s.wrapper[0];var target=s.support.touch?touchEventsTarget:document;var moveCapture=s.params.nested?true:false;if(s.browser.ie){touchEventsTarget[action](s.touchEvents.start,s.onTouchStart,false);target[action](s.touchEvents.move,s.onTouchMove,moveCapture);target[action](s.touchEvents.end,s.onTouchEnd,false);}
else{if(s.support.touch){touchEventsTarget[action](s.touchEvents.start,s.onTouchStart,false);touchEventsTarget[action](s.touchEvents.move,s.onTouchMove,moveCapture);touchEventsTarget[action](s.touchEvents.end,s.onTouchEnd,false);}
if(params.simulateTouch&&!s.device.ios&&!s.device.android){touchEventsTarget[action]('mousedown',s.onTouchStart,false);document[action]('mousemove',s.onTouchMove,moveCapture);document[action]('mouseup',s.onTouchEnd,false);}}
if(s.params.nextButton){$(s.params.nextButton)[actionDom]('click',s.onClickNext);if(s.params.a11y&&s.a11y)$(s.params.nextButton)[actionDom]('keydown',s.a11y.onEnterKey);}
if(s.params.prevButton){$(s.params.prevButton)[actionDom]('click',s.onClickPrev);if(s.params.a11y&&s.a11y)$(s.params.prevButton)[actionDom]('keydown',s.a11y.onEnterKey);}
if(s.params.pagination&&s.params.paginationClickable){$(s.paginationContainer)[actionDom]('click','.'+s.params.bulletClass,s.onClickIndex);}
if(s.params.preventClicks||s.params.preventClicksPropagation)touchEventsTarget[action]('click',s.preventClicks,true);};s.attachEvents=function(detach){s.initEvents();};s.detachEvents=function(){s.initEvents(true);};s.allowClick=true;s.preventClicks=function(e){if(!s.allowClick){if(s.params.preventClicks)e.preventDefault();if(s.params.preventClicksPropagation&&s.animating){e.stopPropagation();e.stopImmediatePropagation();}}};s.onClickNext=function(e){e.preventDefault();s.slideNext();};s.onClickPrev=function(e){e.preventDefault();s.slidePrev();};s.onClickIndex=function(e){e.preventDefault();var index=$(this).index()*s.params.slidesPerGroup;if(s.params.loop)index=index+s.loopedSlides;s.slideTo(index);};function findElementInEvent(e,selector){var el=$(e.target);if(!el.is(selector)){if(typeof selector==='string'){el=el.parents(selector);}
else if(selector.nodeType){var found;el.parents().each(function(index,_el){if(_el===selector)found=selector;});if(!found)return undefined;else return selector;}}
if(el.length===0){return undefined;}
return el[0];}
s.updateClickedSlide=function(e){var slide=findElementInEvent(e,'.'+s.params.slideClass);var slideFound=false;if(slide){for(var i=0;i<s.slides.length;i++){if(s.slides[i]===slide)slideFound=true;}}
if(slide&&slideFound){s.clickedSlide=slide;s.clickedIndex=$(slide).index();}
else{s.clickedSlide=undefined;s.clickedIndex=undefined;return;}
if(s.params.slideToClickedSlide&&s.clickedIndex!==undefined&&s.clickedIndex!==s.activeIndex){var slideToIndex=s.clickedIndex,realIndex;if(s.params.loop){realIndex=$(s.clickedSlide).attr('data-swiper-slide-index');if(slideToIndex>s.slides.length-s.params.slidesPerView){s.fixLoop();slideToIndex=s.wrapper.children('.'+s.params.slideClass+'[data-swiper-slide-index="'+realIndex+'"]').eq(0).index();setTimeout(function(){s.slideTo(slideToIndex);},0);}
else if(slideToIndex<s.params.slidesPerView-1){s.fixLoop();var duplicatedSlides=s.wrapper.children('.'+s.params.slideClass+'[data-swiper-slide-index="'+realIndex+'"]');slideToIndex=duplicatedSlides.eq(duplicatedSlides.length-1).index();setTimeout(function(){s.slideTo(slideToIndex);},0);}
else{s.slideTo(slideToIndex);}}
else{s.slideTo(slideToIndex);}}};var isTouched,isMoved,touchStartTime,isScrolling,currentTranslate,startTranslate,allowThresholdMove,formElements='input, select, textarea, button',lastClickTime=Date.now(),clickTimeout,velocities=[],allowMomentumBounce;s.animating=false;s.touches={startX:0,startY:0,currentX:0,currentY:0,diff:0};var isTouchEvent,startMoving;s.onTouchStart=function(e){if(e.originalEvent)e=e.originalEvent;isTouchEvent=e.type==='touchstart';if(!isTouchEvent&&'which'in e&&e.which===3)return;if(s.params.noSwiping&&findElementInEvent(e,'.'+s.params.noSwipingClass)){s.allowClick=true;return;}
if(s.params.swipeHandler){if(!findElementInEvent(e,s.params.swipeHandler))return;}
isTouched=true;isMoved=false;isScrolling=undefined;startMoving=undefined;s.touches.startX=s.touches.currentX=e.type==='touchstart'?e.targetTouches[0].pageX:e.pageX;s.touches.startY=s.touches.currentY=e.type==='touchstart'?e.targetTouches[0].pageY:e.pageY;touchStartTime=Date.now();s.allowClick=true;s.updateContainerSize();s.swipeDirection=undefined;if(s.params.threshold>0)allowThresholdMove=false;if(e.type!=='touchstart'){var preventDefault=true;if($(e.target).is(formElements))preventDefault=false;if(document.activeElement&&$(document.activeElement).is(formElements)){document.activeElement.blur();}
if(preventDefault){e.preventDefault();}}
s.emit('onTouchStart',s,e);};s.onTouchMove=function(e){if(e.originalEvent)e=e.originalEvent;if(isTouchEvent&&e.type==='mousemove')return;if(e.preventedByNestedSwiper)return;if(s.params.onlyExternal){isMoved=true;s.allowClick=false;return;}
if(isTouchEvent&&document.activeElement){if(e.target===document.activeElement&&$(e.target).is(formElements)){isMoved=true;s.allowClick=false;return;}}
s.emit('onTouchMove',s,e);if(e.targetTouches&&e.targetTouches.length>1)return;s.touches.currentX=e.type==='touchmove'?e.targetTouches[0].pageX:e.pageX;s.touches.currentY=e.type==='touchmove'?e.targetTouches[0].pageY:e.pageY;if(typeof isScrolling==='undefined'){var touchAngle=Math.atan2(Math.abs(s.touches.currentY-s.touches.startY),Math.abs(s.touches.currentX-s.touches.startX))*180/Math.PI;isScrolling=isH()?touchAngle>s.params.touchAngle:(90-touchAngle>s.params.touchAngle);}
if(isScrolling){s.emit('onTouchMoveOpposite',s,e);}
if(typeof startMoving==='undefined'&&s.browser.ieTouch){if(s.touches.currentX!==s.touches.startX||s.touches.currentY!==s.touches.startY){startMoving=true;}}
if(!isTouched)return;if(isScrolling){isTouched=false;return;}
if(!startMoving&&s.browser.ieTouch){return;}
s.allowClick=false;s.emit('onSliderMove',s,e);e.preventDefault();if(s.params.touchMoveStopPropagation&&!s.params.nested){e.stopPropagation();}
if(!isMoved){if(params.loop){s.fixLoop();}
startTranslate=s.getWrapperTranslate();s.setWrapperTransition(0);if(s.animating){s.wrapper.trigger('webkitTransitionEnd transitionend oTransitionEnd MSTransitionEnd msTransitionEnd');}
if(s.params.autoplay&&s.autoplaying){if(s.params.autoplayDisableOnInteraction){s.stopAutoplay();}
else{s.pauseAutoplay();}}
allowMomentumBounce=false;if(s.params.grabCursor){s.container[0].style.cursor='move';s.container[0].style.cursor='-webkit-grabbing';s.container[0].style.cursor='-moz-grabbin';s.container[0].style.cursor='grabbing';}}
isMoved=true;var diff=s.touches.diff=isH()?s.touches.currentX-s.touches.startX:s.touches.currentY-s.touches.startY;diff=diff*s.params.touchRatio;if(s.rtl)diff=-diff;s.swipeDirection=diff>0?'prev':'next';currentTranslate=diff+startTranslate;var disableParentSwiper=true;if((diff>0&&currentTranslate>s.minTranslate())){disableParentSwiper=false;if(s.params.resistance)currentTranslate=s.minTranslate()-1+Math.pow(-s.minTranslate()+startTranslate+diff,s.params.resistanceRatio);}
else if(diff<0&&currentTranslate<s.maxTranslate()){disableParentSwiper=false;if(s.params.resistance)currentTranslate=s.maxTranslate()+1-Math.pow(s.maxTranslate()-startTranslate-diff,s.params.resistanceRatio);}
if(disableParentSwiper){e.preventedByNestedSwiper=true;}
if(!s.params.allowSwipeToNext&&s.swipeDirection==='next'&&currentTranslate<startTranslate){currentTranslate=startTranslate;}
if(!s.params.allowSwipeToPrev&&s.swipeDirection==='prev'&&currentTranslate>startTranslate){currentTranslate=startTranslate;}
if(!s.params.followFinger)return;if(s.params.threshold>0){if(Math.abs(diff)>s.params.threshold||allowThresholdMove){if(!allowThresholdMove){allowThresholdMove=true;s.touches.startX=s.touches.currentX;s.touches.startY=s.touches.currentY;currentTranslate=startTranslate;s.touches.diff=isH()?s.touches.currentX-s.touches.startX:s.touches.currentY-s.touches.startY;return;}}
else{currentTranslate=startTranslate;return;}}
if(s.params.freeMode||s.params.watchSlidesProgress){s.updateActiveIndex();}
if(s.params.freeMode){if(velocities.length===0){velocities.push({position:s.touches[isH()?'startX':'startY'],time:touchStartTime});}
velocities.push({position:s.touches[isH()?'currentX':'currentY'],time:(new window.Date()).getTime()});}
s.updateProgress(currentTranslate);s.setWrapperTranslate(currentTranslate);};s.onTouchEnd=function(e){if(e.originalEvent)e=e.originalEvent;s.emit('onTouchEnd',s,e);if(!isTouched)return;if(s.params.grabCursor&&isMoved&&isTouched){s.container[0].style.cursor='move';s.container[0].style.cursor='-webkit-grab';s.container[0].style.cursor='-moz-grab';s.container[0].style.cursor='grab';}
var touchEndTime=Date.now();var timeDiff=touchEndTime-touchStartTime;if(s.allowClick){s.updateClickedSlide(e);s.emit('onTap',s,e);if(timeDiff<300&&(touchEndTime-lastClickTime)>300){if(clickTimeout)clearTimeout(clickTimeout);clickTimeout=setTimeout(function(){if(!s)return;if(s.params.paginationHide&&s.paginationContainer.length>0&&!$(e.target).hasClass(s.params.bulletClass)){s.paginationContainer.toggleClass(s.params.paginationHiddenClass);}
s.emit('onClick',s,e);},300);}
if(timeDiff<300&&(touchEndTime-lastClickTime)<300){if(clickTimeout)clearTimeout(clickTimeout);s.emit('onDoubleTap',s,e);}}
lastClickTime=Date.now();setTimeout(function(){if(s)s.allowClick=true;},0);if(!isTouched||!isMoved||!s.swipeDirection||s.touches.diff===0||currentTranslate===startTranslate){isTouched=isMoved=false;return;}
isTouched=isMoved=false;var currentPos;if(s.params.followFinger){currentPos=s.rtl?s.translate:-s.translate;}
else{currentPos=-currentTranslate;}
if(s.params.freeMode){if(currentPos<-s.minTranslate()){s.slideTo(s.activeIndex);return;}
else if(currentPos>-s.maxTranslate()){if(s.slides.length<s.snapGrid.length){s.slideTo(s.snapGrid.length-1);}
else{s.slideTo(s.slides.length-1);}
return;}
if(s.params.freeModeMomentum){if(velocities.length>1){var lastMoveEvent=velocities.pop(),velocityEvent=velocities.pop();var distance=lastMoveEvent.position-velocityEvent.position;var time=lastMoveEvent.time-velocityEvent.time;s.velocity=distance/time;s.velocity=s.velocity/2;if(Math.abs(s.velocity)<0.02){s.velocity=0;}
if(time>150||(new window.Date().getTime()-lastMoveEvent.time)>300){s.velocity=0;}}else{s.velocity=0;}
velocities.length=0;var momentumDuration=1000*s.params.freeModeMomentumRatio;var momentumDistance=s.velocity*momentumDuration;var newPosition=s.translate+momentumDistance;if(s.rtl)newPosition=-newPosition;var doBounce=false;var afterBouncePosition;var bounceAmount=Math.abs(s.velocity)*20*s.params.freeModeMomentumBounceRatio;if(newPosition<s.maxTranslate()){if(s.params.freeModeMomentumBounce){if(newPosition+s.maxTranslate()<-bounceAmount){newPosition=s.maxTranslate()-bounceAmount;}
afterBouncePosition=s.maxTranslate();doBounce=true;allowMomentumBounce=true;}
else{newPosition=s.maxTranslate();}}
else if(newPosition>s.minTranslate()){if(s.params.freeModeMomentumBounce){if(newPosition-s.minTranslate()>bounceAmount){newPosition=s.minTranslate()+bounceAmount;}
afterBouncePosition=s.minTranslate();doBounce=true;allowMomentumBounce=true;}
else{newPosition=s.minTranslate();}}
else if(s.params.freeModeSticky){var j=0,nextSlide;for(j=0;j<s.snapGrid.length;j+=1){if(s.snapGrid[j]>-newPosition){nextSlide=j;break;}}
if(Math.abs(s.snapGrid[nextSlide]-newPosition)<Math.abs(s.snapGrid[nextSlide-1]-newPosition)||s.swipeDirection==='next'){newPosition=s.snapGrid[nextSlide];}else{newPosition=s.snapGrid[nextSlide-1];}
if(!s.rtl)newPosition=-newPosition;}
if(s.velocity!==0){if(s.rtl){momentumDuration=Math.abs((-newPosition-s.translate)/s.velocity);}
else{momentumDuration=Math.abs((newPosition-s.translate)/s.velocity);}}
else if(s.params.freeModeSticky){s.slideReset();return;}
if(s.params.freeModeMomentumBounce&&doBounce){s.updateProgress(afterBouncePosition);s.setWrapperTransition(momentumDuration);s.setWrapperTranslate(newPosition);s.onTransitionStart();s.animating=true;s.wrapper.transitionEnd(function(){if(!s||!allowMomentumBounce)return;s.emit('onMomentumBounce',s);s.setWrapperTransition(s.params.speed);s.setWrapperTranslate(afterBouncePosition);s.wrapper.transitionEnd(function(){if(!s)return;s.onTransitionEnd();});});}else if(s.velocity){s.updateProgress(newPosition);s.setWrapperTransition(momentumDuration);s.setWrapperTranslate(newPosition);s.onTransitionStart();if(!s.animating){s.animating=true;s.wrapper.transitionEnd(function(){if(!s)return;s.onTransitionEnd();});}}else{s.updateProgress(newPosition);}
s.updateActiveIndex();}
if(!s.params.freeModeMomentum||timeDiff>=s.params.longSwipesMs){s.updateProgress();s.updateActiveIndex();}
return;}
var i,stopIndex=0,groupSize=s.slidesSizesGrid[0];for(i=0;i<s.slidesGrid.length;i+=s.params.slidesPerGroup){if(typeof s.slidesGrid[i+s.params.slidesPerGroup]!=='undefined'){if(currentPos>=s.slidesGrid[i]&&currentPos<s.slidesGrid[i+s.params.slidesPerGroup]){stopIndex=i;groupSize=s.slidesGrid[i+s.params.slidesPerGroup]-s.slidesGrid[i];}}
else{if(currentPos>=s.slidesGrid[i]){stopIndex=i;groupSize=s.slidesGrid[s.slidesGrid.length-1]-s.slidesGrid[s.slidesGrid.length-2];}}}
var ratio=(currentPos-s.slidesGrid[stopIndex])/groupSize;if(timeDiff>s.params.longSwipesMs){if(!s.params.longSwipes){s.slideTo(s.activeIndex);return;}
if(s.swipeDirection==='next'){if(ratio>=s.params.longSwipesRatio)s.slideTo(stopIndex+s.params.slidesPerGroup);else s.slideTo(stopIndex);}
if(s.swipeDirection==='prev'){if(ratio>(1-s.params.longSwipesRatio))s.slideTo(stopIndex+s.params.slidesPerGroup);else s.slideTo(stopIndex);}}
else{if(!s.params.shortSwipes){s.slideTo(s.activeIndex);return;}
if(s.swipeDirection==='next'){s.slideTo(stopIndex+s.params.slidesPerGroup);}
if(s.swipeDirection==='prev'){s.slideTo(stopIndex);}}};s._slideTo=function(slideIndex,speed){return s.slideTo(slideIndex,speed,true,true);};s.slideTo=function(slideIndex,speed,runCallbacks,internal){if(typeof runCallbacks==='undefined')runCallbacks=true;if(typeof slideIndex==='undefined')slideIndex=0;if(slideIndex<0)slideIndex=0;s.snapIndex=Math.floor(slideIndex/s.params.slidesPerGroup);if(s.snapIndex>=s.snapGrid.length)s.snapIndex=s.snapGrid.length-1;var translate=-s.snapGrid[s.snapIndex];if(!s.params.allowSwipeToNext&&translate<s.translate&&translate<s.minTranslate()){return false;}
if(!s.params.allowSwipeToPrev&&translate>s.translate&&translate>s.maxTranslate()){return false;}
if(s.params.autoplay&&s.autoplaying){if(internal||!s.params.autoplayDisableOnInteraction){s.pauseAutoplay(speed);}
else{s.stopAutoplay();}}
s.updateProgress(translate);for(var i=0;i<s.slidesGrid.length;i++){if(-translate>=s.slidesGrid[i]){slideIndex=i;}}
if(typeof speed==='undefined')speed=s.params.speed;s.previousIndex=s.activeIndex||0;s.activeIndex=slideIndex;if(translate===s.translate){s.updateClasses();return false;}
s.updateClasses();s.onTransitionStart(runCallbacks);var translateX=isH()?translate:0,translateY=isH()?0:translate;if(speed===0){s.setWrapperTransition(0);s.setWrapperTranslate(translate);s.onTransitionEnd(runCallbacks);}
else{s.setWrapperTransition(speed);s.setWrapperTranslate(translate);if(!s.animating){s.animating=true;s.wrapper.transitionEnd(function(){if(!s)return;s.onTransitionEnd(runCallbacks);});}}
return true;};s.onTransitionStart=function(runCallbacks){if(typeof runCallbacks==='undefined')runCallbacks=true;if(s.lazy)s.lazy.onTransitionStart();if(runCallbacks){s.emit('onTransitionStart',s);if(s.activeIndex!==s.previousIndex){s.emit('onSlideChangeStart',s);}}};s.onTransitionEnd=function(runCallbacks){s.animating=false;s.setWrapperTransition(0);if(typeof runCallbacks==='undefined')runCallbacks=true;if(s.lazy)s.lazy.onTransitionEnd();if(runCallbacks){s.emit('onTransitionEnd',s);if(s.activeIndex!==s.previousIndex){s.emit('onSlideChangeEnd',s);}}
if(s.params.hashnav&&s.hashnav){s.hashnav.setHash();}};s.slideNext=function(runCallbacks,speed,internal){if(s.params.loop){if(s.animating)return false;s.fixLoop();var clientLeft=s.container[0].clientLeft;return s.slideTo(s.activeIndex+s.params.slidesPerGroup,speed,runCallbacks,internal);}
else return s.slideTo(s.activeIndex+s.params.slidesPerGroup,speed,runCallbacks,internal);};s._slideNext=function(speed){return s.slideNext(true,speed,true);};s.slidePrev=function(runCallbacks,speed,internal){if(s.params.loop){if(s.animating)return false;s.fixLoop();var clientLeft=s.container[0].clientLeft;return s.slideTo(s.activeIndex-1,speed,runCallbacks,internal);}
else return s.slideTo(s.activeIndex-1,speed,runCallbacks,internal);};s._slidePrev=function(speed){return s.slidePrev(true,speed,true);};s.slideReset=function(runCallbacks,speed,internal){return s.slideTo(s.activeIndex,speed,runCallbacks);};s.setWrapperTransition=function(duration,byController){s.wrapper.transition(duration);if(s.params.effect!=='slide'&&s.effects[s.params.effect]){s.effects[s.params.effect].setTransition(duration);}
if(s.params.parallax&&s.parallax){s.parallax.setTransition(duration);}
if(s.params.scrollbar&&s.scrollbar){s.scrollbar.setTransition(duration);}
if(s.params.control&&s.controller){s.controller.setTransition(duration,byController);}
s.emit('onSetTransition',s,duration);};s.setWrapperTranslate=function(translate,updateActiveIndex,byController){var x=0,y=0,z=0;if(isH()){x=s.rtl?-translate:translate;}
else{y=translate;}
if(!s.params.virtualTranslate){if(s.support.transforms3d)s.wrapper.transform('translate3d('+x+'px, '+y+'px, '+z+'px)');else s.wrapper.transform('translate('+x+'px, '+y+'px)');}
s.translate=isH()?x:y;if(updateActiveIndex)s.updateActiveIndex();if(s.params.effect!=='slide'&&s.effects[s.params.effect]){s.effects[s.params.effect].setTranslate(s.translate);}
if(s.params.parallax&&s.parallax){s.parallax.setTranslate(s.translate);}
if(s.params.scrollbar&&s.scrollbar){s.scrollbar.setTranslate(s.translate);}
if(s.params.control&&s.controller){s.controller.setTranslate(s.translate,byController);}
s.emit('onSetTranslate',s,s.translate);};s.getTranslate=function(el,axis){var matrix,curTransform,curStyle,transformMatrix;if(typeof axis==='undefined'){axis='x';}
if(s.params.virtualTranslate){return s.rtl?-s.translate:s.translate;}
curStyle=window.getComputedStyle(el,null);if(window.WebKitCSSMatrix){transformMatrix=new window.WebKitCSSMatrix(curStyle.webkitTransform==='none'?'':curStyle.webkitTransform);}
else{transformMatrix=curStyle.MozTransform||curStyle.OTransform||curStyle.MsTransform||curStyle.msTransform||curStyle.transform||curStyle.getPropertyValue('transform').replace('translate(','matrix(1, 0, 0, 1,');matrix=transformMatrix.toString().split(',');}
if(axis==='x'){if(window.WebKitCSSMatrix)
curTransform=transformMatrix.m41;else if(matrix.length===16)
curTransform=parseFloat(matrix[12]);else
curTransform=parseFloat(matrix[4]);}
if(axis==='y'){if(window.WebKitCSSMatrix)
curTransform=transformMatrix.m42;else if(matrix.length===16)
curTransform=parseFloat(matrix[13]);else
curTransform=parseFloat(matrix[5]);}
if(s.rtl&&curTransform)curTransform=-curTransform;return curTransform||0;};s.getWrapperTranslate=function(axis){if(typeof axis==='undefined'){axis=isH()?'x':'y';}
return s.getTranslate(s.wrapper[0],axis);};s.observers=[];function initObserver(target,options){options=options||{};var ObserverFunc=window.MutationObserver||window.WebkitMutationObserver;var observer=new ObserverFunc(function(mutations){mutations.forEach(function(mutation){s.onResize(true);s.emit('onObserverUpdate',s,mutation);});});observer.observe(target,{attributes:typeof options.attributes==='undefined'?true:options.attributes,childList:typeof options.childList==='undefined'?true:options.childList,characterData:typeof options.characterData==='undefined'?true:options.characterData});s.observers.push(observer);}
s.initObservers=function(){if(s.params.observeParents){var containerParents=s.container.parents();for(var i=0;i<containerParents.length;i++){initObserver(containerParents[i]);}}
initObserver(s.container[0],{childList:false});initObserver(s.wrapper[0],{attributes:false});};s.disconnectObservers=function(){for(var i=0;i<s.observers.length;i++){s.observers[i].disconnect();}
s.observers=[];};s.createLoop=function(){s.wrapper.children('.'+s.params.slideClass+'.'+s.params.slideDuplicateClass).remove();var slides=s.wrapper.children('.'+s.params.slideClass);s.loopedSlides=parseInt(s.params.loopedSlides||s.params.slidesPerView,10);s.loopedSlides=s.loopedSlides+s.params.loopAdditionalSlides;if(s.loopedSlides>slides.length){s.loopedSlides=slides.length;}
var prependSlides=[],appendSlides=[],i;slides.each(function(index,el){var slide=$(this);if(index<s.loopedSlides)appendSlides.push(el);if(index<slides.length&&index>=slides.length-s.loopedSlides)prependSlides.push(el);slide.attr('data-swiper-slide-index',index);});for(i=0;i<appendSlides.length;i++){s.wrapper.append($(appendSlides[i].cloneNode(true)).addClass(s.params.slideDuplicateClass));}
for(i=prependSlides.length-1;i>=0;i--){s.wrapper.prepend($(prependSlides[i].cloneNode(true)).addClass(s.params.slideDuplicateClass));}};s.destroyLoop=function(){s.wrapper.children('.'+s.params.slideClass+'.'+s.params.slideDuplicateClass).remove();s.slides.removeAttr('data-swiper-slide-index');};s.fixLoop=function(){var newIndex;if(s.activeIndex<s.loopedSlides){newIndex=s.slides.length-s.loopedSlides*3+s.activeIndex;newIndex=newIndex+s.loopedSlides;s.slideTo(newIndex,0,false,true);}
else if((s.params.slidesPerView==='auto'&&s.activeIndex>=s.loopedSlides*2)||(s.activeIndex>s.slides.length-s.params.slidesPerView*2)){newIndex=-s.slides.length+s.activeIndex+s.loopedSlides;newIndex=newIndex+s.loopedSlides;s.slideTo(newIndex,0,false,true);}};s.appendSlide=function(slides){if(s.params.loop){s.destroyLoop();}
if(typeof slides==='object'&&slides.length){for(var i=0;i<slides.length;i++){if(slides[i])s.wrapper.append(slides[i]);}}
else{s.wrapper.append(slides);}
if(s.params.loop){s.createLoop();}
if(!(s.params.observer&&s.support.observer)){s.update(true);}};s.prependSlide=function(slides){if(s.params.loop){s.destroyLoop();}
var newActiveIndex=s.activeIndex+1;if(typeof slides==='object'&&slides.length){for(var i=0;i<slides.length;i++){if(slides[i])s.wrapper.prepend(slides[i]);}
newActiveIndex=s.activeIndex+slides.length;}
else{s.wrapper.prepend(slides);}
if(s.params.loop){s.createLoop();}
if(!(s.params.observer&&s.support.observer)){s.update(true);}
s.slideTo(newActiveIndex,0,false);};s.removeSlide=function(slidesIndexes){if(s.params.loop){s.destroyLoop();s.slides=s.wrapper.children('.'+s.params.slideClass);}
var newActiveIndex=s.activeIndex,indexToRemove;if(typeof slidesIndexes==='object'&&slidesIndexes.length){for(var i=0;i<slidesIndexes.length;i++){indexToRemove=slidesIndexes[i];if(s.slides[indexToRemove])s.slides.eq(indexToRemove).remove();if(indexToRemove<newActiveIndex)newActiveIndex--;}
newActiveIndex=Math.max(newActiveIndex,0);}
else{indexToRemove=slidesIndexes;if(s.slides[indexToRemove])s.slides.eq(indexToRemove).remove();if(indexToRemove<newActiveIndex)newActiveIndex--;newActiveIndex=Math.max(newActiveIndex,0);}
if(s.params.loop){s.createLoop();}
if(!(s.params.observer&&s.support.observer)){s.update(true);}
if(s.params.loop){s.slideTo(newActiveIndex+s.loopedSlides,0,false);}
else{s.slideTo(newActiveIndex,0,false);}};s.removeAllSlides=function(){var slidesIndexes=[];for(var i=0;i<s.slides.length;i++){slidesIndexes.push(i);}
s.removeSlide(slidesIndexes);};s.effects={fade:{setTranslate:function(){for(var i=0;i<s.slides.length;i++){var slide=s.slides.eq(i);var offset=slide[0].swiperSlideOffset;var tx=-offset;if(!s.params.virtualTranslate)tx=tx-s.translate;var ty=0;if(!isH()){ty=tx;tx=0;}
var slideOpacity=s.params.fade.crossFade?Math.max(1-Math.abs(slide[0].progress),0):1+Math.min(Math.max(slide[0].progress,-1),0);slide.css({opacity:slideOpacity}).transform('translate3d('+tx+'px, '+ty+'px, 0px)');}},setTransition:function(duration){s.slides.transition(duration);if(s.params.virtualTranslate&&duration!==0){var eventTriggered=false;s.slides.transitionEnd(function(){if(eventTriggered)return;if(!s)return;eventTriggered=true;s.animating=false;var triggerEvents=['webkitTransitionEnd','transitionend','oTransitionEnd','MSTransitionEnd','msTransitionEnd'];for(var i=0;i<triggerEvents.length;i++){s.wrapper.trigger(triggerEvents[i]);}});}}},cube:{setTranslate:function(){var wrapperRotate=0,cubeShadow;if(s.params.cube.shadow){if(isH()){cubeShadow=s.wrapper.find('.swiper-cube-shadow');if(cubeShadow.length===0){cubeShadow=$('<div class="swiper-cube-shadow"></div>');s.wrapper.append(cubeShadow);}
cubeShadow.css({height:s.width+'px'});}
else{cubeShadow=s.container.find('.swiper-cube-shadow');if(cubeShadow.length===0){cubeShadow=$('<div class="swiper-cube-shadow"></div>');s.container.append(cubeShadow);}}}
for(var i=0;i<s.slides.length;i++){var slide=s.slides.eq(i);var slideAngle=i*90;var round=Math.floor(slideAngle/360);if(s.rtl){slideAngle=-slideAngle;round=Math.floor(-slideAngle/360);}
var progress=Math.max(Math.min(slide[0].progress,1),-1);var tx=0,ty=0,tz=0;if(i%4===0){tx=-round*4*s.size;tz=0;}
else if((i-1)%4===0){tx=0;tz=-round*4*s.size;}
else if((i-2)%4===0){tx=s.size+round*4*s.size;tz=s.size;}
else if((i-3)%4===0){tx=-s.size;tz=3*s.size+s.size*4*round;}
if(s.rtl){tx=-tx;}
if(!isH()){ty=tx;tx=0;}
var transform='rotateX('+(isH()?0:-slideAngle)+'deg) rotateY('+(isH()?slideAngle:0)+'deg) translate3d('+tx+'px, '+ty+'px, '+tz+'px)';if(progress<=1&&progress>-1){wrapperRotate=i*90+progress*90;if(s.rtl)wrapperRotate=-i*90-progress*90;}
slide.transform(transform);if(s.params.cube.slideShadows){var shadowBefore=isH()?slide.find('.swiper-slide-shadow-left'):slide.find('.swiper-slide-shadow-top');var shadowAfter=isH()?slide.find('.swiper-slide-shadow-right'):slide.find('.swiper-slide-shadow-bottom');if(shadowBefore.length===0){shadowBefore=$('<div class="swiper-slide-shadow-'+(isH()?'left':'top')+'"></div>');slide.append(shadowBefore);}
if(shadowAfter.length===0){shadowAfter=$('<div class="swiper-slide-shadow-'+(isH()?'right':'bottom')+'"></div>');slide.append(shadowAfter);}
var shadowOpacity=slide[0].progress;if(shadowBefore.length)shadowBefore[0].style.opacity=-slide[0].progress;if(shadowAfter.length)shadowAfter[0].style.opacity=slide[0].progress;}}
s.wrapper.css({'-webkit-transform-origin':'50% 50% -'+(s.size/2)+'px','-moz-transform-origin':'50% 50% -'+(s.size/2)+'px','-ms-transform-origin':'50% 50% -'+(s.size/2)+'px','transform-origin':'50% 50% -'+(s.size/2)+'px'});if(s.params.cube.shadow){if(isH()){cubeShadow.transform('translate3d(0px, '+(s.width/2+s.params.cube.shadowOffset)+'px, '+(-s.width/2)+'px) rotateX(90deg) rotateZ(0deg) scale('+(s.params.cube.shadowScale)+')');}
else{var shadowAngle=Math.abs(wrapperRotate)-Math.floor(Math.abs(wrapperRotate)/90)*90;var multiplier=1.5-(Math.sin(shadowAngle*2*Math.PI/360)/2+Math.cos(shadowAngle*2*Math.PI/360)/2);var scale1=s.params.cube.shadowScale,scale2=s.params.cube.shadowScale/multiplier,offset=s.params.cube.shadowOffset;cubeShadow.transform('scale3d('+scale1+', 1, '+scale2+') translate3d(0px, '+(s.height/2+offset)+'px, '+(-s.height/2/scale2)+'px) rotateX(-90deg)');}}
var zFactor=(s.isSafari||s.isUiWebView)?(-s.size/2):0;s.wrapper.transform('translate3d(0px,0,'+zFactor+'px) rotateX('+(isH()?0:wrapperRotate)+'deg) rotateY('+(isH()?-wrapperRotate:0)+'deg)');},setTransition:function(duration){s.slides.transition(duration).find('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left').transition(duration);if(s.params.cube.shadow&&!isH()){s.container.find('.swiper-cube-shadow').transition(duration);}}},coverflow:{setTranslate:function(){var transform=s.translate;var center=isH()?-transform+s.width/2:-transform+s.height/2;var rotate=isH()?s.params.coverflow.rotate:-s.params.coverflow.rotate;var translate=s.params.coverflow.depth;for(var i=0,length=s.slides.length;i<length;i++){var slide=s.slides.eq(i);var slideSize=s.slidesSizesGrid[i];var slideOffset=slide[0].swiperSlideOffset;var offsetMultiplier=(center-slideOffset-slideSize/2)/slideSize*s.params.coverflow.modifier;var rotateY=isH()?rotate*offsetMultiplier:0;var rotateX=isH()?0:rotate*offsetMultiplier;var translateZ=-translate*Math.abs(offsetMultiplier);var translateY=isH()?0:s.params.coverflow.stretch*(offsetMultiplier);var translateX=isH()?s.params.coverflow.stretch*(offsetMultiplier):0;if(Math.abs(translateX)<0.001)translateX=0;if(Math.abs(translateY)<0.001)translateY=0;if(Math.abs(translateZ)<0.001)translateZ=0;if(Math.abs(rotateY)<0.001)rotateY=0;if(Math.abs(rotateX)<0.001)rotateX=0;var slideTransform='translate3d('+translateX+'px,'+translateY+'px,'+translateZ+'px)  rotateX('+rotateX+'deg) rotateY('+rotateY+'deg)';slide.transform(slideTransform);slide[0].style.zIndex=-Math.abs(Math.round(offsetMultiplier))+1;if(s.params.coverflow.slideShadows){var shadowBefore=isH()?slide.find('.swiper-slide-shadow-left'):slide.find('.swiper-slide-shadow-top');var shadowAfter=isH()?slide.find('.swiper-slide-shadow-right'):slide.find('.swiper-slide-shadow-bottom');if(shadowBefore.length===0){shadowBefore=$('<div class="swiper-slide-shadow-'+(isH()?'left':'top')+'"></div>');slide.append(shadowBefore);}
if(shadowAfter.length===0){shadowAfter=$('<div class="swiper-slide-shadow-'+(isH()?'right':'bottom')+'"></div>');slide.append(shadowAfter);}
if(shadowBefore.length)shadowBefore[0].style.opacity=offsetMultiplier>0?offsetMultiplier:0;if(shadowAfter.length)shadowAfter[0].style.opacity=(-offsetMultiplier)>0?-offsetMultiplier:0;}}
if(s.browser.ie){var ws=s.wrapper[0].style;ws.perspectiveOrigin=center+'px 50%';}},setTransition:function(duration){s.slides.transition(duration).find('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left').transition(duration);}}};s.lazy={initialImageLoaded:false,loadImageInSlide:function(index,loadInDuplicate){if(typeof index==='undefined')return;if(typeof loadInDuplicate==='undefined')loadInDuplicate=true;if(s.slides.length===0)return;var slide=s.slides.eq(index);var img=slide.find('.swiper-lazy:not(.swiper-lazy-loaded):not(.swiper-lazy-loading)');if(slide.hasClass('swiper-lazy')&&!slide.hasClass('swiper-lazy-loaded')&&!slide.hasClass('swiper-lazy-loading')){img.add(slide[0]);}
if(img.length===0)return;img.each(function(){var _img=$(this);_img.addClass('swiper-lazy-loading');var background=_img.attr('data-background');var src=_img.attr('data-src');s.loadImage(_img[0],(src||background),false,function(){if(background){_img.css('background-image','url('+background+')');_img.removeAttr('data-background');}
else{_img.attr('src',src);_img.removeAttr('data-src');}
_img.addClass('swiper-lazy-loaded').removeClass('swiper-lazy-loading');slide.find('.swiper-lazy-preloader, .preloader').remove();if(s.params.loop&&loadInDuplicate){var slideOriginalIndex=slide.attr('data-swiper-slide-index');if(slide.hasClass(s.params.slideDuplicateClass)){var originalSlide=s.wrapper.children('[data-swiper-slide-index="'+slideOriginalIndex+'"]:not(.'+s.params.slideDuplicateClass+')');s.lazy.loadImageInSlide(originalSlide.index(),false);}
else{var duplicatedSlide=s.wrapper.children('.'+s.params.slideDuplicateClass+'[data-swiper-slide-index="'+slideOriginalIndex+'"]');s.lazy.loadImageInSlide(duplicatedSlide.index(),false);}}
s.emit('onLazyImageReady',s,slide[0],_img[0]);});s.emit('onLazyImageLoad',s,slide[0],_img[0]);});},load:function(){var i;if(s.params.watchSlidesVisibility){s.wrapper.children('.'+s.params.slideVisibleClass).each(function(){s.lazy.loadImageInSlide($(this).index());});}
else{if(s.params.slidesPerView>1){for(i=s.activeIndex;i<s.activeIndex+s.params.slidesPerView;i++){if(s.slides[i])s.lazy.loadImageInSlide(i);}}
else{s.lazy.loadImageInSlide(s.activeIndex);}}
if(s.params.lazyLoadingInPrevNext){if(s.params.slidesPerView>1){for(i=s.activeIndex+s.params.slidesPerView;i<s.activeIndex+s.params.slidesPerView+s.params.slidesPerView;i++){if(s.slides[i])s.lazy.loadImageInSlide(i);}
for(i=s.activeIndex-s.params.slidesPerView;i<s.activeIndex;i++){if(s.slides[i])s.lazy.loadImageInSlide(i);}}
else{var nextSlide=s.wrapper.children('.'+s.params.slideNextClass);if(nextSlide.length>0)s.lazy.loadImageInSlide(nextSlide.index());var prevSlide=s.wrapper.children('.'+s.params.slidePrevClass);if(prevSlide.length>0)s.lazy.loadImageInSlide(prevSlide.index());}}},onTransitionStart:function(){if(s.params.lazyLoading){if(s.params.lazyLoadingOnTransitionStart||(!s.params.lazyLoadingOnTransitionStart&&!s.lazy.initialImageLoaded)){s.lazy.load();}}},onTransitionEnd:function(){if(s.params.lazyLoading&&!s.params.lazyLoadingOnTransitionStart){s.lazy.load();}}};s.scrollbar={set:function(){if(!s.params.scrollbar)return;var sb=s.scrollbar;sb.track=$(s.params.scrollbar);sb.drag=sb.track.find('.swiper-scrollbar-drag');if(sb.drag.length===0){sb.drag=$('<div class="swiper-scrollbar-drag"></div>');sb.track.append(sb.drag);}
sb.drag[0].style.width='';sb.drag[0].style.height='';sb.trackSize=isH()?sb.track[0].offsetWidth:sb.track[0].offsetHeight;sb.divider=s.size/s.virtualSize;sb.moveDivider=sb.divider*(sb.trackSize/s.size);sb.dragSize=sb.trackSize*sb.divider;if(isH()){sb.drag[0].style.width=sb.dragSize+'px';}
else{sb.drag[0].style.height=sb.dragSize+'px';}
if(sb.divider>=1){sb.track[0].style.display='none';}
else{sb.track[0].style.display='';}
if(s.params.scrollbarHide){sb.track[0].style.opacity=0;}},setTranslate:function(){if(!s.params.scrollbar)return;var diff;var sb=s.scrollbar;var translate=s.translate||0;var newPos;var newSize=sb.dragSize;newPos=(sb.trackSize-sb.dragSize)*s.progress;if(s.rtl&&isH()){newPos=-newPos;if(newPos>0){newSize=sb.dragSize-newPos;newPos=0;}
else if(-newPos+sb.dragSize>sb.trackSize){newSize=sb.trackSize+newPos;}}
else{if(newPos<0){newSize=sb.dragSize+newPos;newPos=0;}
else if(newPos+sb.dragSize>sb.trackSize){newSize=sb.trackSize-newPos;}}
if(isH()){if(s.support.transforms3d){sb.drag.transform('translate3d('+(newPos)+'px, 0, 0)');}
else{sb.drag.transform('translateX('+(newPos)+'px)');}
sb.drag[0].style.width=newSize+'px';}
else{if(s.support.transforms3d){sb.drag.transform('translate3d(0px, '+(newPos)+'px, 0)');}
else{sb.drag.transform('translateY('+(newPos)+'px)');}
sb.drag[0].style.height=newSize+'px';}
if(s.params.scrollbarHide){clearTimeout(sb.timeout);sb.track[0].style.opacity=1;sb.timeout=setTimeout(function(){sb.track[0].style.opacity=0;sb.track.transition(400);},1000);}},setTransition:function(duration){if(!s.params.scrollbar)return;s.scrollbar.drag.transition(duration);}};s.controller={setTranslate:function(translate,byController){var controlled=s.params.control;var multiplier,controlledTranslate;function setControlledTranslate(c){translate=c.rtl&&c.params.direction==='horizontal'?-s.translate:s.translate;multiplier=(c.maxTranslate()-c.minTranslate())/(s.maxTranslate()-s.minTranslate());controlledTranslate=(translate-s.minTranslate())*multiplier+c.minTranslate();if(s.params.controlInverse){controlledTranslate=c.maxTranslate()-controlledTranslate;}
c.updateProgress(controlledTranslate);c.setWrapperTranslate(controlledTranslate,false,s);c.updateActiveIndex();}
if(s.isArray(controlled)){for(var i=0;i<controlled.length;i++){if(controlled[i]!==byController&&controlled[i]instanceof Swiper){setControlledTranslate(controlled[i]);}}}
else if(controlled instanceof Swiper&&byController!==controlled){setControlledTranslate(controlled);}},setTransition:function(duration,byController){var controlled=s.params.control;var i;function setControlledTransition(c){c.setWrapperTransition(duration,s);if(duration!==0){c.onTransitionStart();c.wrapper.transitionEnd(function(){if(!controlled)return;c.onTransitionEnd();});}}
if(s.isArray(controlled)){for(i=0;i<controlled.length;i++){if(controlled[i]!==byController&&controlled[i]instanceof Swiper){setControlledTransition(controlled[i]);}}}
else if(controlled instanceof Swiper&&byController!==controlled){setControlledTransition(controlled);}}};s.hashnav={init:function(){if(!s.params.hashnav)return;s.hashnav.initialized=true;var hash=document.location.hash.replace('#','');if(!hash)return;var speed=0;for(var i=0,length=s.slides.length;i<length;i++){var slide=s.slides.eq(i);var slideHash=slide.attr('data-hash');if(slideHash===hash&&!slide.hasClass(s.params.slideDuplicateClass)){var index=slide.index();s.slideTo(index,speed,s.params.runCallbacksOnInit,true);}}},setHash:function(){if(!s.hashnav.initialized||!s.params.hashnav)return;document.location.hash=s.slides.eq(s.activeIndex).attr('data-hash')||'';}};function handleKeyboard(e){if(e.originalEvent)e=e.originalEvent;var kc=e.keyCode||e.charCode;if(!s.params.allowSwipeToNext&&(isH()&&kc===39||!isH()&&kc===40)){return false;}
if(!s.params.allowSwipeToPrev&&(isH()&&kc===37||!isH()&&kc===38)){return false;}
if(e.shiftKey||e.altKey||e.ctrlKey||e.metaKey){return;}
if(document.activeElement&&document.activeElement.nodeName&&(document.activeElement.nodeName.toLowerCase()==='input'||document.activeElement.nodeName.toLowerCase()==='textarea')){return;}
if(kc===37||kc===39||kc===38||kc===40){var inView=false;if(s.container.parents('.swiper-slide').length>0&&s.container.parents('.swiper-slide-active').length===0){return;}
var windowScroll={left:window.pageXOffset,top:window.pageYOffset};var windowWidth=window.innerWidth;var windowHeight=window.innerHeight;var swiperOffset=s.container.offset();if(s.rtl)swiperOffset.left=swiperOffset.left-s.container[0].scrollLeft;var swiperCoord=[[swiperOffset.left,swiperOffset.top],[swiperOffset.left+s.width,swiperOffset.top],[swiperOffset.left,swiperOffset.top+s.height],[swiperOffset.left+s.width,swiperOffset.top+s.height]];for(var i=0;i<swiperCoord.length;i++){var point=swiperCoord[i];if(point[0]>=windowScroll.left&&point[0]<=windowScroll.left+windowWidth&&point[1]>=windowScroll.top&&point[1]<=windowScroll.top+windowHeight){inView=true;}}
if(!inView)return;}
if(isH()){if(kc===37||kc===39){if(e.preventDefault)e.preventDefault();else e.returnValue=false;}
if((kc===39&&!s.rtl)||(kc===37&&s.rtl))s.slideNext();if((kc===37&&!s.rtl)||(kc===39&&s.rtl))s.slidePrev();}
else{if(kc===38||kc===40){if(e.preventDefault)e.preventDefault();else e.returnValue=false;}
if(kc===40)s.slideNext();if(kc===38)s.slidePrev();}}
s.disableKeyboardControl=function(){$(document).off('keydown',handleKeyboard);};s.enableKeyboardControl=function(){$(document).on('keydown',handleKeyboard);};s.mousewheel={event:false,lastScrollTime:(new window.Date()).getTime()};if(s.params.mousewheelControl){if(document.onmousewheel!==undefined){s.mousewheel.event='mousewheel';}
if(!s.mousewheel.event){try{new window.WheelEvent('wheel');s.mousewheel.event='wheel';}catch(e){}}
if(!s.mousewheel.event){s.mousewheel.event='DOMMouseScroll';}}
function handleMousewheel(e){if(e.originalEvent)e=e.originalEvent;var we=s.mousewheel.event;var delta=0;if(e.detail)delta=-e.detail;else if(we==='mousewheel'){if(s.params.mousewheelForceToAxis){if(isH()){if(Math.abs(e.wheelDeltaX)>Math.abs(e.wheelDeltaY))delta=e.wheelDeltaX;else return;}
else{if(Math.abs(e.wheelDeltaY)>Math.abs(e.wheelDeltaX))delta=e.wheelDeltaY;else return;}}
else{delta=e.wheelDelta;}}
else if(we==='DOMMouseScroll')delta=-e.detail;else if(we==='wheel'){if(s.params.mousewheelForceToAxis){if(isH()){if(Math.abs(e.deltaX)>Math.abs(e.deltaY))delta=-e.deltaX;else return;}
else{if(Math.abs(e.deltaY)>Math.abs(e.deltaX))delta=-e.deltaY;else return;}}
else{delta=Math.abs(e.deltaX)>Math.abs(e.deltaY)?-e.deltaX:-e.deltaY;}}
if(s.params.mousewheelInvert)delta=-delta;if(!s.params.freeMode){if((new window.Date()).getTime()-s.mousewheel.lastScrollTime>60){if(delta<0){if(!s.isEnd)s.slideNext();else if(s.params.mousewheelReleaseOnEdges)return true;}
else{if(!s.isBeginning)s.slidePrev();else if(s.params.mousewheelReleaseOnEdges)return true;}}
s.mousewheel.lastScrollTime=(new window.Date()).getTime();}
else{var position=s.getWrapperTranslate()+delta;if(position>0)position=0;if(position<s.maxTranslate())position=s.maxTranslate();s.setWrapperTransition(0);s.setWrapperTranslate(position);s.updateProgress();s.updateActiveIndex();if(s.params.freeModeSticky){clearTimeout(s.mousewheel.timeout);s.mousewheel.timeout=setTimeout(function(){s.slideReset();},300);}
if(position===0||position===s.maxTranslate())return;}
if(s.params.autoplay)s.stopAutoplay();if(e.preventDefault)e.preventDefault();else e.returnValue=false;return false;}
s.disableMousewheelControl=function(){if(!s.mousewheel.event)return false;s.container.off(s.mousewheel.event,handleMousewheel);return true;};s.enableMousewheelControl=function(){if(!s.mousewheel.event)return false;s.container.on(s.mousewheel.event,handleMousewheel);return true;};function setParallaxTransform(el,progress){el=$(el);var p,pX,pY;p=el.attr('data-swiper-parallax')||'0';pX=el.attr('data-swiper-parallax-x');pY=el.attr('data-swiper-parallax-y');if(pX||pY){pX=pX||'0';pY=pY||'0';}
else{if(isH()){pX=p;pY='0';}
else{pY=p;pX='0';}}
if((pX).indexOf('%')>=0){pX=parseInt(pX,10)*progress+'%';}
else{pX=pX*progress+'px';}
if((pY).indexOf('%')>=0){pY=parseInt(pY,10)*progress+'%';}
else{pY=pY*progress+'px';}
el.transform('translate3d('+pX+', '+pY+',0px)');}
s.parallax={setTranslate:function(){s.container.children('[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]').each(function(){setParallaxTransform(this,s.progress);});s.slides.each(function(){var slide=$(this);slide.find('[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]').each(function(){var progress=Math.min(Math.max(slide[0].progress,-1),1);setParallaxTransform(this,progress);});});},setTransition:function(duration){if(typeof duration==='undefined')duration=s.params.speed;s.container.find('[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]').each(function(){var el=$(this);var parallaxDuration=parseInt(el.attr('data-swiper-parallax-duration'),10)||duration;if(duration===0)parallaxDuration=0;el.transition(parallaxDuration);});}};s._plugins=[];for(var plugin in s.plugins){var p=s.plugins[plugin](s,s.params[plugin]);if(p)s._plugins.push(p);}
s.callPlugins=function(eventName){for(var i=0;i<s._plugins.length;i++){if(eventName in s._plugins[i]){s._plugins[i][eventName](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);}}};function normalizeEventName(eventName){if(eventName.indexOf('on')!==0){if(eventName[0]!==eventName[0].toUpperCase()){eventName='on'+eventName[0].toUpperCase()+eventName.substring(1);}
else{eventName='on'+eventName;}}
return eventName;}
s.emitterEventListeners={};s.emit=function(eventName){if(s.params[eventName]){s.params[eventName](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);}
var i;if(s.emitterEventListeners[eventName]){for(i=0;i<s.emitterEventListeners[eventName].length;i++){s.emitterEventListeners[eventName][i](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);}}
if(s.callPlugins)s.callPlugins(eventName,arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);};s.on=function(eventName,handler){eventName=normalizeEventName(eventName);if(!s.emitterEventListeners[eventName])s.emitterEventListeners[eventName]=[];s.emitterEventListeners[eventName].push(handler);return s;};s.off=function(eventName,handler){var i;eventName=normalizeEventName(eventName);if(typeof handler==='undefined'){s.emitterEventListeners[eventName]=[];return s;}
if(!s.emitterEventListeners[eventName]||s.emitterEventListeners[eventName].length===0)return;for(i=0;i<s.emitterEventListeners[eventName].length;i++){if(s.emitterEventListeners[eventName][i]===handler)s.emitterEventListeners[eventName].splice(i,1);}
return s;};s.once=function(eventName,handler){eventName=normalizeEventName(eventName);var _handler=function(){handler(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);s.off(eventName,_handler);};s.on(eventName,_handler);return s;};s.a11y={makeFocusable:function($el){$el[0].tabIndex='0';return $el;},addRole:function($el,role){$el.attr('role',role);return $el;},addLabel:function($el,label){$el.attr('aria-label',label);return $el;},disable:function($el){$el.attr('aria-disabled',true);return $el;},enable:function($el){$el.attr('aria-disabled',false);return $el;},onEnterKey:function(event){if(event.keyCode!==13)return;if($(event.target).is(s.params.nextButton)){s.onClickNext(event);if(s.isEnd){s.a11y.notify(s.params.lastSlideMsg);}
else{s.a11y.notify(s.params.nextSlideMsg);}}
else if($(event.target).is(s.params.prevButton)){s.onClickPrev(event);if(s.isBeginning){s.a11y.notify(s.params.firstSlideMsg);}
else{s.a11y.notify(s.params.prevSlideMsg);}}},liveRegion:$('<span class="swiper-notification" aria-live="assertive" aria-atomic="true"></span>'),notify:function(message){var notification=s.a11y.liveRegion;if(notification.length===0)return;notification.html('');notification.html(message);},init:function(){if(s.params.nextButton){var nextButton=$(s.params.nextButton);s.a11y.makeFocusable(nextButton);s.a11y.addRole(nextButton,'button');s.a11y.addLabel(nextButton,s.params.nextSlideMsg);}
if(s.params.prevButton){var prevButton=$(s.params.prevButton);s.a11y.makeFocusable(prevButton);s.a11y.addRole(prevButton,'button');s.a11y.addLabel(prevButton,s.params.prevSlideMsg);}
$(s.container).append(s.a11y.liveRegion);},destroy:function(){if(s.a11y.liveRegion&&s.a11y.liveRegion.length>0)s.a11y.liveRegion.remove();}};s.init=function(){if(s.params.loop)s.createLoop();s.updateContainerSize();s.updateSlidesSize();s.updatePagination();if(s.params.scrollbar&&s.scrollbar){s.scrollbar.set();}
if(s.params.effect!=='slide'&&s.effects[s.params.effect]){if(!s.params.loop)s.updateProgress();s.effects[s.params.effect].setTranslate();}
if(s.params.loop){s.slideTo(s.params.initialSlide+s.loopedSlides,0,s.params.runCallbacksOnInit);}
else{s.slideTo(s.params.initialSlide,0,s.params.runCallbacksOnInit);if(s.params.initialSlide===0){if(s.parallax&&s.params.parallax)s.parallax.setTranslate();if(s.lazy&&s.params.lazyLoading){s.lazy.load();s.lazy.initialImageLoaded=true;}}}
s.attachEvents();if(s.params.observer&&s.support.observer){s.initObservers();}
if(s.params.preloadImages&&!s.params.lazyLoading){s.preloadImages();}
if(s.params.autoplay){s.startAutoplay();}
if(s.params.keyboardControl){if(s.enableKeyboardControl)s.enableKeyboardControl();}
if(s.params.mousewheelControl){if(s.enableMousewheelControl)s.enableMousewheelControl();}
if(s.params.hashnav){if(s.hashnav)s.hashnav.init();}
if(s.params.a11y&&s.a11y)s.a11y.init();s.emit('onInit',s);};s.cleanupStyles=function(){s.container.removeClass(s.classNames.join(' ')).removeAttr('style');s.wrapper.removeAttr('style');if(s.slides&&s.slides.length){s.slides.removeClass([s.params.slideVisibleClass,s.params.slideActiveClass,s.params.slideNextClass,s.params.slidePrevClass].join(' ')).removeAttr('style').removeAttr('data-swiper-column').removeAttr('data-swiper-row');}
if(s.paginationContainer&&s.paginationContainer.length){s.paginationContainer.removeClass(s.params.paginationHiddenClass);}
if(s.bullets&&s.bullets.length){s.bullets.removeClass(s.params.bulletActiveClass);}
if(s.params.prevButton)$(s.params.prevButton).removeClass(s.params.buttonDisabledClass);if(s.params.nextButton)$(s.params.nextButton).removeClass(s.params.buttonDisabledClass);if(s.params.scrollbar&&s.scrollbar){if(s.scrollbar.track&&s.scrollbar.track.length)s.scrollbar.track.removeAttr('style');if(s.scrollbar.drag&&s.scrollbar.drag.length)s.scrollbar.drag.removeAttr('style');}};s.destroy=function(deleteInstance,cleanupStyles){s.detachEvents();s.stopAutoplay();if(s.params.loop){s.destroyLoop();}
if(cleanupStyles){s.cleanupStyles();}
s.disconnectObservers();if(s.params.keyboardControl){if(s.disableKeyboardControl)s.disableKeyboardControl();}
if(s.params.mousewheelControl){if(s.disableMousewheelControl)s.disableMousewheelControl();}
if(s.params.a11y&&s.a11y)s.a11y.destroy();s.emit('onDestroy');if(deleteInstance!==false)s=null;};s.init();return s;};Swiper.prototype={isSafari:(function(){var ua=navigator.userAgent.toLowerCase();return(ua.indexOf('safari')>=0&&ua.indexOf('chrome')<0&&ua.indexOf('android')<0);})(),isUiWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent),isArray:function(arr){return Object.prototype.toString.apply(arr)==='[object Array]';},browser:{ie:window.navigator.pointerEnabled||window.navigator.msPointerEnabled,ieTouch:(window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>1)||(window.navigator.pointerEnabled&&window.navigator.maxTouchPoints>1),},device:(function(){var ua=navigator.userAgent;var android=ua.match(/(Android);?[\s\/]+([\d.]+)?/);var ipad=ua.match(/(iPad).*OS\s([\d_]+)/);var ipod=ua.match(/(iPod)(.*OS\s([\d_]+))?/);var iphone=!ipad&&ua.match(/(iPhone\sOS)\s([\d_]+)/);return{ios:ipad||iphone||ipad,android:android};})(),support:{touch:(window.Modernizr&&Modernizr.touch===true)||(function(){return!!(('ontouchstart'in window)||window.DocumentTouch&&document instanceof DocumentTouch);})(),transforms3d:(window.Modernizr&&Modernizr.csstransforms3d===true)||(function(){var div=document.createElement('div').style;return('webkitPerspective'in div||'MozPerspective'in div||'OPerspective'in div||'MsPerspective'in div||'perspective'in div);})(),flexbox:(function(){var div=document.createElement('div').style;var styles=('alignItems webkitAlignItems webkitBoxAlign msFlexAlign mozBoxAlign webkitFlexDirection msFlexDirection mozBoxDirection mozBoxOrient webkitBoxDirection webkitBoxOrient').split(' ');for(var i=0;i<styles.length;i++){if(styles[i]in div)return true;}})(),observer:(function(){return('MutationObserver'in window||'WebkitMutationObserver'in window);})()},plugins:{}};var swiperDomPlugins=['jQuery','Zepto','Dom7'];function addLibraryPlugin(lib){lib.fn.swiper=function(params){var firstInstance;lib(this).each(function(){var s=new Swiper(this,params);if(!firstInstance)firstInstance=s;});return firstInstance;};}
for(var i=0;i<swiperDomPlugins.length;i++){if(window[swiperDomPlugins[i]]){addLibraryPlugin(window[swiperDomPlugins[i]]);}}
var domLib;if(typeof Dom7==='undefined'){domLib=window.Dom7||window.Zepto||window.jQuery;}
else{domLib=Dom7;}
if(domLib){if(!('transitionEnd'in domLib.fn)){domLib.fn.transitionEnd=function(callback){var events=['webkitTransitionEnd','transitionend','oTransitionEnd','MSTransitionEnd','msTransitionEnd'],i,j,dom=this;function fireCallBack(e){if(e.target!==this)return;callback.call(this,e);for(i=0;i<events.length;i++){dom.off(events[i],fireCallBack);}}
if(callback){for(i=0;i<events.length;i++){dom.on(events[i],fireCallBack);}}
return this;};}
if(!('transform'in domLib.fn)){domLib.fn.transform=function(transform){for(var i=0;i<this.length;i++){var elStyle=this[i].style;elStyle.webkitTransform=elStyle.MsTransform=elStyle.msTransform=elStyle.MozTransform=elStyle.OTransform=elStyle.transform=transform;}
return this;};}
if(!('transition'in domLib.fn)){domLib.fn.transition=function(duration){if(typeof duration!=='string'){duration=duration+'ms';}
for(var i=0;i<this.length;i++){var elStyle=this[i].style;elStyle.webkitTransitionDuration=elStyle.MsTransitionDuration=elStyle.msTransitionDuration=elStyle.MozTransitionDuration=elStyle.OTransitionDuration=elStyle.transitionDuration=duration;}
return this;};}}
window.Swiper=Swiper;})();if(typeof(module)!=='undefined')
{module.exports=window.Swiper;}
else if(typeof define==='function'&&define.amd){define([],function(){'use strict';return window.Swiper;});}
(function(global,factory){if(typeof exports==="object"&&exports){factory(exports);}else if(typeof define==="function"&&define.amd){define(['exports'],factory);}else{factory(global.Mustache={});}}(this,function(mustache){var Object_toString=Object.prototype.toString;var isArray=Array.isArray||function(object){return Object_toString.call(object)==='[object Array]';};function isFunction(object){return typeof object==='function';}
function escapeRegExp(string){return string.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");}
var RegExp_test=RegExp.prototype.test;function testRegExp(re,string){return RegExp_test.call(re,string);}
var nonSpaceRe=/\S/;function isWhitespace(string){return!testRegExp(nonSpaceRe,string);}
var entityMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':'&quot;',"'":'&#39;',"/":'&#x2F;'};function escapeHtml(string){return String(string).replace(/[&<>"'\/]/g,function(s){return entityMap[s];});}
var whiteRe=/\s*/;var spaceRe=/\s+/;var equalsRe=/\s*=/;var curlyRe=/\s*\}/;var tagRe=/#|\^|\/|>|\{|&|=|!/;function parseTemplate(template,tags){if(!template)
return[];var sections=[];var tokens=[];var spaces=[];var hasTag=false;var nonSpace=false;function stripSpace(){if(hasTag&&!nonSpace){while(spaces.length)
delete tokens[spaces.pop()];}else{spaces=[];}
hasTag=false;nonSpace=false;}
var openingTagRe,closingTagRe,closingCurlyRe;function compileTags(tags){if(typeof tags==='string')
tags=tags.split(spaceRe,2);if(!isArray(tags)||tags.length!==2)
throw new Error('Invalid tags: '+tags);openingTagRe=new RegExp(escapeRegExp(tags[0])+'\\s*');closingTagRe=new RegExp('\\s*'+escapeRegExp(tags[1]));closingCurlyRe=new RegExp('\\s*'+escapeRegExp('}'+tags[1]));}
compileTags(tags||mustache.tags);var scanner=new Scanner(template);var start,type,value,chr,token,openSection;while(!scanner.eos()){start=scanner.pos;value=scanner.scanUntil(openingTagRe);if(value){for(var i=0,valueLength=value.length;i<valueLength;++i){chr=value.charAt(i);if(isWhitespace(chr)){spaces.push(tokens.length);}else{nonSpace=true;}
tokens.push(['text',chr,start,start+1]);start+=1;if(chr==='\n')
stripSpace();}}
if(!scanner.scan(openingTagRe))
break;hasTag=true;type=scanner.scan(tagRe)||'name';scanner.scan(whiteRe);if(type==='='){value=scanner.scanUntil(equalsRe);scanner.scan(equalsRe);scanner.scanUntil(closingTagRe);}else if(type==='{'){value=scanner.scanUntil(closingCurlyRe);scanner.scan(curlyRe);scanner.scanUntil(closingTagRe);type='&';}else{value=scanner.scanUntil(closingTagRe);}
if(!scanner.scan(closingTagRe))
throw new Error('Unclosed tag at '+scanner.pos);token=[type,value,start,scanner.pos];tokens.push(token);if(type==='#'||type==='^'){sections.push(token);}else if(type==='/'){openSection=sections.pop();if(!openSection)
throw new Error('Unopened section "'+value+'" at '+start);if(openSection[1]!==value)
throw new Error('Unclosed section "'+openSection[1]+'" at '+start);}else if(type==='name'||type==='{'||type==='&'){nonSpace=true;}else if(type==='='){compileTags(value);}}
openSection=sections.pop();if(openSection)
throw new Error('Unclosed section "'+openSection[1]+'" at '+scanner.pos);return nestTokens(squashTokens(tokens));}
function squashTokens(tokens){var squashedTokens=[];var token,lastToken;for(var i=0,numTokens=tokens.length;i<numTokens;++i){token=tokens[i];if(token){if(token[0]==='text'&&lastToken&&lastToken[0]==='text'){lastToken[1]+=token[1];lastToken[3]=token[3];}else{squashedTokens.push(token);lastToken=token;}}}
return squashedTokens;}
function nestTokens(tokens){var nestedTokens=[];var collector=nestedTokens;var sections=[];var token,section;for(var i=0,numTokens=tokens.length;i<numTokens;++i){token=tokens[i];switch(token[0]){case'#':case'^':collector.push(token);sections.push(token);collector=token[4]=[];break;case'/':section=sections.pop();section[5]=token[2];collector=sections.length>0?sections[sections.length-1][4]:nestedTokens;break;default:collector.push(token);}}
return nestedTokens;}
function Scanner(string){this.string=string;this.tail=string;this.pos=0;}
Scanner.prototype.eos=function(){return this.tail==="";};Scanner.prototype.scan=function(re){var match=this.tail.match(re);if(!match||match.index!==0)
return'';var string=match[0];this.tail=this.tail.substring(string.length);this.pos+=string.length;return string;};Scanner.prototype.scanUntil=function(re){var index=this.tail.search(re),match;switch(index){case-1:match=this.tail;this.tail="";break;case 0:match="";break;default:match=this.tail.substring(0,index);this.tail=this.tail.substring(index);}
this.pos+=match.length;return match;};function Context(view,parentContext){this.view=view;this.cache={'.':this.view};this.parent=parentContext;}
Context.prototype.push=function(view){return new Context(view,this);};Context.prototype.lookup=function(name){var cache=this.cache;var value;if(name in cache){value=cache[name];}else{var context=this,names,index,lookupHit=false;while(context){if(name.indexOf('.')>0){value=context.view;names=name.split('.');index=0;while(value!=null&&index<names.length){if(index===names.length-1&&value!=null)
lookupHit=(typeof value==='object')&&value.hasOwnProperty(names[index]);value=value[names[index++]];}}else if(context.view!=null&&typeof context.view==='object'){value=context.view[name];lookupHit=context.view.hasOwnProperty(name);}
if(lookupHit)
break;context=context.parent;}
cache[name]=value;}
if(isFunction(value))
value=value.call(this.view);return value;};function Writer(){this.cache={};}
Writer.prototype.clearCache=function(){this.cache={};};Writer.prototype.parse=function(template,tags){var cache=this.cache;var tokens=cache[template];if(tokens==null)
tokens=cache[template]=parseTemplate(template,tags);return tokens;};Writer.prototype.render=function(template,view,partials){var tokens=this.parse(template);var context=(view instanceof Context)?view:new Context(view);return this.renderTokens(tokens,context,partials,template);};Writer.prototype.renderTokens=function(tokens,context,partials,originalTemplate){var buffer='';var token,symbol,value;for(var i=0,numTokens=tokens.length;i<numTokens;++i){value=undefined;token=tokens[i];symbol=token[0];if(symbol==='#')value=this._renderSection(token,context,partials,originalTemplate);else if(symbol==='^')value=this._renderInverted(token,context,partials,originalTemplate);else if(symbol==='>')value=this._renderPartial(token,context,partials,originalTemplate);else if(symbol==='&')value=this._unescapedValue(token,context);else if(symbol==='name')value=this._escapedValue(token,context);else if(symbol==='text')value=this._rawValue(token);if(value!==undefined)
buffer+=value;}
return buffer;};Writer.prototype._renderSection=function(token,context,partials,originalTemplate){var self=this;var buffer='';var value=context.lookup(token[1]);function subRender(template){return self.render(template,context,partials);}
if(!value)return;if(isArray(value)){for(var j=0,valueLength=value.length;j<valueLength;++j){buffer+=this.renderTokens(token[4],context.push(value[j]),partials,originalTemplate);}}else if(typeof value==='object'||typeof value==='string'||typeof value==='number'){buffer+=this.renderTokens(token[4],context.push(value),partials,originalTemplate);}else if(isFunction(value)){if(typeof originalTemplate!=='string')
throw new Error('Cannot use higher-order sections without the original template');value=value.call(context.view,originalTemplate.slice(token[3],token[5]),subRender);if(value!=null)
buffer+=value;}else{buffer+=this.renderTokens(token[4],context,partials,originalTemplate);}
return buffer;};Writer.prototype._renderInverted=function(token,context,partials,originalTemplate){var value=context.lookup(token[1]);if(!value||(isArray(value)&&value.length===0))
return this.renderTokens(token[4],context,partials,originalTemplate);};Writer.prototype._renderPartial=function(token,context,partials){if(!partials)return;var value=isFunction(partials)?partials(token[1]):partials[token[1]];if(value!=null)
return this.renderTokens(this.parse(value),context,partials,value);};Writer.prototype._unescapedValue=function(token,context){var value=context.lookup(token[1]);if(value!=null)
return value;};Writer.prototype._escapedValue=function(token,context){var value=context.lookup(token[1]);if(value!=null)
return mustache.escape(value);};Writer.prototype._rawValue=function(token){return token[1];};mustache.name="mustache.js";mustache.version="2.0.0";mustache.tags=["{{","}}"];var defaultWriter=new Writer();mustache.clearCache=function(){return defaultWriter.clearCache();};mustache.parse=function(template,tags){return defaultWriter.parse(template,tags);};mustache.render=function(template,view,partials){return defaultWriter.render(template,view,partials);};mustache.to_html=function(template,view,partials,send){var result=mustache.render(template,view,partials);if(isFunction(send)){send(result);}else{return result;}};mustache.escape=escapeHtml;mustache.Scanner=Scanner;mustache.Context=Context;mustache.Writer=Writer;}));;window.ModernizrWithPrefixed=function(a,b,c){function w(a){i.cssText=a}function x(a,b){return w(prefixes.join(a+";")+(b||""))}function y(a,b){return typeof a===b}function z(a,b){return!!~(""+a).indexOf(b)}function A(a,b){for(var d in a){var e=a[d];if(!z(e,"-")&&i[e]!==c)return b=="pfx"?e:!0}return!1}function B(a,b,d){for(var e in a){var f=b[a[e]];if(f!==c)return d===!1?a[e]:y(f,"function")?f.bind(d||b):f}return!1}function C(a,b,c){var d=a.charAt(0).toUpperCase()+a.slice(1),e=(a+" "+m.join(d+" ")+d).split(" ");return y(b,"string")||y(b,"undefined")?A(e,b):(e=(a+" "+n.join(d+" ")+d).split(" "),B(e,b,c))}var d="2.8.3",e={},f=b.documentElement,g="modernizr",h=b.createElement(g),i=h.style,j,k={}.toString,l="Webkit Moz O ms",m=l.split(" "),n=l.toLowerCase().split(" "),o={},p={},q={},r=[],s=r.slice,t,u={}.hasOwnProperty,v;!y(u,"undefined")&&!y(u.call,"undefined")?v=function(a,b){return u.call(a,b)}:v=function(a,b){return b in a&&y(a.constructor.prototype[b],"undefined")},Function.prototype.bind||(Function.prototype.bind=function(b){var c=this;if(typeof c!="function")throw new TypeError;var d=s.call(arguments,1),e=function(){if(this instanceof e){var a=function(){};a.prototype=c.prototype;var f=new a,g=c.apply(f,d.concat(s.call(arguments)));return Object(g)===g?g:f}return c.apply(b,d.concat(s.call(arguments)))};return e});for(var D in o)v(o,D)&&(t=D.toLowerCase(),e[t]=o[D](),r.push((e[t]?"":"no-")+t));return e.addTest=function(a,b){if(typeof a=="object")for(var d in a)v(a,d)&&e.addTest(d,a[d]);else{a=a.toLowerCase();if(e[a]!==c)return e;b=typeof b=="function"?b():b,typeof enableClasses!="undefined"&&enableClasses&&(f.className+=" "+(b?"":"no-")+a),e[a]=b}return e},w(""),h=j=null,e._version=d,e._domPrefixes=n,e._cssomPrefixes=m,e.testProp=function(a){return A([a])},e.testAllProps=C,e.prefixed=function(a,b,c){return b?C(a,b,c):C(a,"pfx")},e}(this,this.document);String.prototype.endsWith=String.prototype.endsWith||function(suffix){'use strict';return this.indexOf(suffix,this.length-suffix.length)!==-1;};window.jqueryAjaxCache=window.jqueryAjaxCache||(function($,window,document,undefined){'use strict';var hasLocalstorage,storage,defaultExpirationMins,jqueryAjaxCache;hasLocalstorage=(function(){var mod='modernizr';try{localStorage.setItem(mod,mod);localStorage.removeItem(mod);return true;}catch(e){return false;}})();storage={save:function(key,data,expirationMin){if(!hasLocalstorage){return false;}
var expirationMS=expirationMin*60*1000;var record={value:data,timestamp:new Date().getTime()+expirationMS};localStorage.setItem(key,JSON.stringify(record));return data;},load:function(key){if(!hasLocalstorage){return false;}
var record=JSON.parse(localStorage.getItem(key));if(!record){return false;}
return(new Date().getTime()<record.timestamp&&record.value);}};defaultExpirationMins=15;jqueryAjaxCache={ajax:function(url,callback,cacheKey,extraContext,type){var ajaxData,cacheData,ajaxContext,isJsonData,isXmlData;cacheKey=(typeof cacheKey!=='undefined')?cacheKey:url;if(typeof type==='undefined'||!type){type=url.split('.');type=type[type.length-1];}
isJsonData=(type==='json'||type==='jsonp');isXmlData=(type==='xml'||type==='svg');ajaxData=storage.load(cacheKey);if(ajaxData){if(isJsonData){ajaxData=JSON.parse(ajaxData);}
callback(ajaxData);return;}
ajaxContext=$.extend({url:url,jsonp:false,cache:true,success:function(data){ajaxData=data;},error:function(e){console.error(e);},complete:function(){if(ajaxData){if(isJsonData){cacheData=JSON.stringify(ajaxData);}
else if(isXmlData){cacheData=ajaxData=new XMLSerializer().serializeToString(ajaxData);}
storage.save(cacheKey,cacheData,defaultExpirationMins);}
callback(ajaxData);}},extraContext);return $.ajax(ajaxContext);},get:function(url,callback,cacheKey,type){return this.ajax(url,callback,cacheKey,{},type);},getJSON:function(url,callback,cacheKey){var type=url.endsWith('jsonp')?'jsonp':'json';return this.ajax(url,callback,cacheKey,{dataType:type,jsonpCallback:(type==='jsonp')?'globoapiMenusCallback':null},type);}};return jqueryAjaxCache;})(jQuery,this,this.document);(function(global){'use strict';var $document=$(document);var MenuWebTracker=function($menu_root,on_mobile){this.attr={item_selector:'.menu-item',link_selector:'.menu-item-link',title_selector:'.menu-item-title',item_back_selector:'.menu-item-back',item_highlighted_selector:'.menu-item-highlighted',product_selector:'.menu-carousel-item',item_highlighted_class:'menu-item-highlighted',event_namespace:'.ga_tracking',accent_matcher:null,translate_table:null,shouldTrack:!window.noTrackingMenuWeb,track_item_events_flag:false,onMobile:on_mobile||false};this.attr.menuFramework=on_mobile&&(document.documentElement.className.indexOf('has-regua')>-1);this.cache_dom($menu_root);this.prepare_translation();this.listen_events();};MenuWebTracker.prototype={cache_dom:function($menu_root){var dom={};dom.$menu_button=$('.menu-button');dom.$menu_root=$menu_root;this.dom=dom;},listen_events:function(){var that=this;var originalShouldTrack;var shouldNotTrackOtherEvents=function(){originalShouldTrack=that.attr.shouldTrack;that.attr.shouldTrack=false;setTimeout(function(){that.attr.shouldTrack=originalShouldTrack;},300);};var $item;var dom=this.dom;var attr=this.attr;var item_selector=attr.item_selector;var item_back_selector=attr.item_back_selector;var event_namespace=attr.event_namespace;var ns=function(event_name){return event_name+event_namespace;};dom.$menu_button.on(ns('click'),function(e){that.track_menu_shown(e);});dom.$menu_root.on(ns('click'),item_selector,function(e){that.track_item_events(e);});dom.$menu_root.on(ns('click'),item_back_selector,function(){$item=$(this);that.track_item_back_events($item);});$document.on('glb.menu.item-personalizado',function(e,productName,choice){that.register_event('item','clique | top itens | '+productName+' | personalizado | '+choice);shouldNotTrackOtherEvents();});$document.on('glb.menu.navegacional',function(e,productName,widget,choice){that.register_event('item','clique | estrutura | '+productName+' | '+widget+' > '+choice);shouldNotTrackOtherEvents();});$document.on('glb.menu.personalizacao',function(e,productName,widget,choice){that.register_event('interacoes','personalizacao | '+productName+' | '+widget+' | '+choice,0,true);shouldNotTrackOtherEvents();});$document.on('glb.menu.marca_click',function(e,productName){that.register_event('marca','clique | '+productName);});$document.on('glb.menu.marca_navigation',function(e,productName){that.register_event('marca','interacao | '+productName,0,true);});$document.on('glb.menu.swipe',function(e,direction){that.register_event('interacoes','swipe | '+direction,0,true);});},register_event:function(){var base=['_trackEvent'];if(this.attr.menuFramework){base.push('menu_framework');}
else{base.push('Menu');}
var args=Array.prototype.slice.call(arguments,0);var params=base.concat(args);if(global._gaq&&this.attr.shouldTrack){global._gaq.push(params);}},track_menu_shown:function(){if(!this.attr.menuFramework){this.register_event('exibicao','menu exibido',0,true);}},prepare_translation:function(){var attr=this.attr;var in_chrs='Ã Ã¡Ã¢Ã£Ã¤Ã§Ã¨Ã©ÃªÃ«Ã¬Ã­Ã®Ã¯Ã±Ã²Ã³Ã´ÃµÃ¶Ã¹ÃºÃ»Ã¼Ã½Ã¿ÃÃÃÃÃÃÃÃÃÃÃÃÃÃÃÃÃÃÃÃÃÃÃÃÃ';var out_chrs='aaaaaceeeeiiiinooooouuuuyyAAAAACEEEEIIIINOOOOOUUUUY';var table={},i;for(i=0;i<in_chrs.length;i++){table[in_chrs[i]]=out_chrs[i];}
attr.accent_matcher=new RegExp('['+in_chrs+']','g');attr.translate_table=table;},accent_replacer:function(character){return this.attr.translate_table[character]||character;},strip_accents:function(text){var that=this;return text.replace(this.attr.accent_matcher,function(character){return that.accent_replacer(character);});},track_item_events:function(event){var attr=this.attr,acceptable_items=[attr.item_selector,attr.link_selector,attr.title_selector].join(', '),$trackable_item=$(event.target).filter(acceptable_items),$menu_item,$menu_items_highlighted,menu_item_highlighted_order,$product_item,$link,$path,label,originalLabel,parent_link_text,product_name;if(attr.track_item_events_flag){return;}
attr.track_item_events_flag=true;setTimeout(function(){attr.track_item_events_flag=false;},300);if($trackable_item.length){$menu_item=$trackable_item.closest(attr.item_selector);$link=$menu_item.children(attr.link_selector);$path=$menu_item.parents(attr.item_selector);label=$.trim($link.text());$product_item=$menu_item.parents(attr.product_selector);product_name=$product_item.attr('data-produto');$path.each(function(){parent_link_text=$(this).children(attr.link_selector).text();label=$.trim(parent_link_text)+' > '+label;});label=this.strip_accents(label.toLowerCase());if($menu_item.hasClass(attr.item_highlighted_class)&&attr.menuFramework){$menu_items_highlighted=$menu_item.parent().find(attr.item_highlighted_selector);menu_item_highlighted_order=$menu_items_highlighted.index($menu_item)+1;label='clique | top itens | '+product_name+' | posicao '+menu_item_highlighted_order+' | '+label;this.register_event('item',label);return;}
originalLabel=label;label='clique | estrutura | '+product_name+' | '+label;if($link.attr('href')){if(attr.menuFramework){this.register_event('item',label);}
else{this.register_event('Links clicaveis',originalLabel);}}else{if(attr.menuFramework){this.register_event('item agregador',label,0,true);}
else{this.register_event('Links nao clicaveis',originalLabel,0,true);}}}},track_item_back_events:function($item){var attr=this.attr,$product_item=$item.parents(attr.product_selector),product_name=$product_item.attr('data-produto'),label='interacao | back | '+product_name+' | '+$.trim($item.text());this.register_event('item',label,0,true);},destroy:function(){var dom=this.dom;var event_namespace=this.attr.event_namespace;dom.$menu_button.off(event_namespace);dom.$menu_root.off(event_namespace);}};if(!global.glb){global.glb={};}
global.glb.MenuWebTracker=MenuWebTracker;})(this);(function(global){'use strict';try{new CustomEvent('test');}catch(e){var CE=function(event,params){var evt;params=params||{bubbles:false,cancelable:false,detail:undefined};evt=document.createEvent('CustomEvent');evt.initCustomEvent(event,params.bubbles,params.cancelable,params.detail);return evt;};CE.prototype=window.Event.prototype;window.CustomEvent=CE;}
var getStyle=function(el,styleProp){var defaultView;if(typeof el==='undefined'||el===null){return null;}
defaultView=el.ownerDocument.defaultView;if(defaultView&&defaultView.getComputedStyle){return defaultView.getComputedStyle(el,null).getPropertyValue(styleProp);}
return $(el).css(styleProp);};var $document=$(document),$html=$('html'),rAF=ModernizrWithPrefixed.prefixed('requestAnimationFrame',window)||function(callback){window.setTimeout(callback,1000/60);},cAF=ModernizrWithPrefixed.prefixed('cancelAnimationFrame',window)||window.clearTimeout;var MenuWebCarousel=function(){var globoApiHostDefault;this.menuContainer=$('#menu-container');this.reguaContainer=$('#regua-navegacao');this.initCalled=false;this.animationCalled=true;this.rafScrolling=null;this.settings=window.REGUA_SETTINGS||{};globoApiHostDefault='http://c.api.globo.com';this.settings.globoapiHost=this.settings.globoapiHost||globoApiHostDefault;this.attr={itemsCreated:false,menuPersonalized:false,globoapiHost:this.settings.globoapiHost,portals:{name:this.settings.portalName||'',all:this.settings.portalsList||[],links:this.settings.portalsLinkList||[]},templates:{partial:$('#menu-dinamico-template').html(),items:$('#menu-rounder-template').html(),carousel:$('#menu-carousel-template').html(),custom:$('#menu-custom-template').html()},customItems:{ge:{menu:'.menu-carousel-ge',label:'Escolha seu time',labelSlug:'escolha-seu-time',link:'#',rotaUrl:'http://globoesporte.globo.com/mosaico/mosaico/49/50/29/mosaico.jsonp'}},animationEndEventNames:{'WebkitAnimation':'webkitAnimationEnd','MozAnimation':'animationend','OAnimation':'oAnimationEnd','msAnimation':'MSAnimationEnd','animation':'animationend'},lastTime:null,lastTimeUrl:null,timeCores:{'atlÃ©tico-mg':'000000','atlÃ©tico-pr':'a80000','avaÃ­':'0099cc','chapecoense':'177d49','corinthians':'000000','coritiba':'177d49','cruzeiro':'0099cc','figueirense':'000000','flamengo':'a80000','fluminense':'177d49','goiÃ¡s':'177d49','grÃªmio':'0099cc','internacional':'a80000','joinville':'a80000','palmeiras':'177d49','ponte preta':'000000','santos':'000000','sÃ£o paulo':'a80000','sport':'a80000','vasco':'000000','abc':'000000','amÃ©rica-mg':'177d49','atlÃ©tico-go':'a80000','bahia':'104175','boa esporte':'a80000','botafogo':'000000','bragantino':'000000','cearÃ¡':'000000','crb':'a80000','criciÃºma':'000000','luverdense':'177d49','macaÃ©':'0099cc','mogi mirim':'a80000','nÃ¡utico':'a80000','oeste':'a80000','paranÃ¡':'a80000','paysandu':'0099cc','sampaio':'177d49','santa cruz':'a80000','vitÃ³ria':'a80000','arsenal':'cc0000','atlÃ©tico de madri':'171796','barcelona':'a40030','bayern de munique':'c0005b','benfica':'000000','borussia dortmund':'000000','chelsea':'034694','inter de milÃ£o':'0053a4','juventus':'000000','liverpool':'cc0000','manchester city':'5cbfeb','manchester united':'da020e','milan':'cc0000','paris saint germain':'002561','porto':'0059b1','real madrid':'ffffff','roma':'7f0000','shakhtar donetsk':'ff532c','tottenham':'000066','valencia':'f87100'}};this.attr.portals.len=this.attr.portals.all.length;this.createCarouselHtml();this.bind();};MenuWebCarousel.prototype.init=function(){if(this.initCalled){return;}
this.initCalled=true;this.onInitProcess=true;this.cacheVariables();this.refreshPositionOfMenuContainer();this.initSwiper();this.resetMenusLevel();this.resetMenuWebAnimation();this.bindAfterInit();this.createCarouselMenusItemsHtml();this.notifyReady();};MenuWebCarousel.prototype.restore=function(){this.carouselVisible=true;this.refreshMenuLinks();this.menuContainer.trigger('personalizeMenuRequest');};MenuWebCarousel.prototype.resetAction=function(){this.menuContainer.addClass('menu-no-animation');this.resetMenusLevel();this.resetMenuVerticalScroll();this.containerHeader.removeAttr('style');this.containerBody.removeAttr('style');this.menuContainer.removeClass('menu-no-animation');};MenuWebCarousel.prototype.reset=function(){this.carouselVisible=false;this.menuContainer.addClass('menu-invisible');this.resetAction();this.refresh();this.setHorizontalCarouselsToInitialPage();this.menuContainer.removeClass('menu-invisible');};MenuWebCarousel.prototype.isLowHeightDevice=function(){return window.innerHeight<450;};MenuWebCarousel.prototype.isIos=function(){return/(iPad|iPhone|iPod)/g.test(window.navigator.userAgent);};MenuWebCarousel.prototype.isIphone4=function(){var isIos;if(typeof window.isPortrait==='undefined'){window.isPortrait=window.innerWidth<=window.innerHeight;}
isIos=this.isIos();return isIos&&(window.innerWidth===320&&window.isPortrait||window.innerWidth===480&&!window.isPortrait);};MenuWebCarousel.prototype.isIos7=function(){return!!navigator.userAgent.match(/(iPad|iPhone);.*CPU.*OS 7_\d/i);};MenuWebCarousel.prototype.isIos9=function(){return!!navigator.userAgent.match(/(iPad|iPhone);.*CPU.*OS 9_\d/i);};MenuWebCarousel.prototype.isAndroidBrowser=function(){var nua=navigator.userAgent;return((nua.indexOf('Mozilla/5.0')>-1&&nua.indexOf('Android ')>-1&&nua.indexOf('AppleWebKit')>-1)&&(nua.indexOf('Chrome')===-1));};MenuWebCarousel.prototype.isAndroidBrowserWebview=function(){var nua=navigator.userAgent;return(nua.indexOf('AndroidBrowserWebview')>-1);};MenuWebCarousel.prototype.capitalizeString=function(str){return str[0].toUpperCase()+str.substring(1,str.length);};MenuWebCarousel.prototype.moveHighlightedItems=function(menuRoot){if(menuRoot&&menuRoot.length>0){menuRoot.children('.menu-item-highlighted').detach().slice(0,3).prependTo(menuRoot);}};MenuWebCarousel.prototype.mergeBrokenColumns=function(){var $second_columns=this.menuElms.menuRoot.find('.menu-submenu-column-2');$second_columns.each(function(){var $second_column=$(this);var $children=$second_column.children().remove();var $first_column=$second_column.prev();$first_column.append($children);});};MenuWebCarousel.prototype.hideMenuAddon=function(){if(!this.menuElms.menuAddons){this.menuElms.menuAddons=this.menuElms.menuRounder.find('.menu-addon');}
this.menuElms.menuAddons.css('display','none');};MenuWebCarousel.prototype.removerAcentos=function(newStringComAcento){var letra,expressaoRegular,string=newStringComAcento,mapaAcentosHex={a:/[\xE0-\xE6]/g,e:/[\xE8-\xEB]/g,i:/[\xEC-\xEF]/g,o:/[\xF2-\xF6]/g,u:/[\xF9-\xFC]/g,c:/\xE7/g,n:/\xF1/g};for(letra in mapaAcentosHex){expressaoRegular=mapaAcentosHex[letra];string=string.replace(expressaoRegular,letra);}
return string;};MenuWebCarousel.prototype.slugify=function(text){text=text.toString().toLowerCase().split(' ').join('-');return this.removerAcentos(text);};MenuWebCarousel.prototype.getMenuExtraContext=function(item,deepness){var k,subitem;deepness=(typeof deepness!=='undefined')?deepness:1;item.deepness=deepness;item.tituloSlug=this.slugify(item.titulo);item.hasSubmenuBroken=false;item.hasChildren=false;item.shouldBeLink=(item.link.trim()!=='')?item:false;if(item.quebra){item.quebra={deepness:deepness};}
if(item.children.length>0){item.shouldBeLink=false;item.hasChildren=item;for(k=0;k<item.children.length;k++){subitem=item.children[k];if(subitem.quebra){item.hasSubmenuBroken=true;}
item.children[k]=this.getMenuExtraContext(subitem,deepness+1);}}
return item;};MenuWebCarousel.prototype.getPortalIndex=function(portal){var i;for(i=0;i<this.attr.portals.len;i++){if(this.attr.portals.name[i]===portal){return i;}}
return-1;};MenuWebCarousel.prototype.getMenuHtml=function(portal,menuData,portalIndex){var i,items=[],menu;portalIndex=(typeof portalIndex!=='undefined')?portalIndex:this.getPortalIndex(portal);if(menuData){for(i=0;i<menuData.length;i++){items.push(this.getMenuExtraContext(menuData[i]));}}
else{return null;}
menu=Mustache.render(this.attr.templates.items,{index:portalIndex,items:items},{recursive_partial:this.attr.templates.partial});menu=$(menu).find('.menu-root').html();return menu;};MenuWebCarousel.prototype.createCarouselHtml=function(){var i,menu,link,portal,carouselHtml,data={portals:[]};Mustache.parse(this.attr.templates.carousel);Mustache.parse(this.attr.templates.items);for(i=0;i<this.attr.portals.len;i++){portal=this.attr.portals.all[i];link=this.attr.portals.links[i];menu=Mustache.render(this.attr.templates.items,{index:i,items:[]},{recursive_partial:''});data.portals.push({name:portal,menu:menu,link:link,index:i,active:(portal===this.attr.portals.name)});}
carouselHtml=Mustache.render(this.attr.templates.carousel,data);this.menuContainer.html(carouselHtml);};MenuWebCarousel.prototype.sortDataMenuIndex=function(){var i,itemHeader,itemBody;for(i=0;i<this.attr.portals.len;i++){itemHeader=this.currentItemsHeader.eq(i);itemBody=this.currentItemsBody.eq(i);if(itemHeader&&itemHeader.length>0){itemHeader.find('.menu-carousel-link').attr('data-index',i);}
if(itemBody&&itemBody.length>0){itemBody.find('.menu-cascade').attr('data-menu-index',i);}}};MenuWebCarousel.prototype.carouselItemsCreated=function(){var i,portal,menuRoot;for(i=0;i<this.attr.portals.len;i++){portal=this.attr.portals.all[i];menuRoot=this.menuElms.menuRoot.eq(i);this.moveHighlightedItems(menuRoot);}
this.mergeBrokenColumns();this.hideMenuAddon();this.attr.itemsCreated=true;if(this.attr.menuRemoved){this.refreshMenuDataAfterRemovals();}
this.reset();if(this.detections.isAndroidBrowserWebview){this.menuElms.menuArrowNavegacaoIcon=this.containerBody.find('.menu-item-arrow .regua-navegacao-icon');this.menuElms.menuArrowNavegacaoIcon.replaceWith('<svg class="regua-navegacao-icon"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#regua-arrow"></use></svg>');}
this.personalizeMenu();this.onInitProcess=false;};MenuWebCarousel.prototype.refreshMenuDataAfterRemovals=function(){var forceUpdate=true;this.cacheCarouselItemsVariables(forceUpdate);this.cacheMenuElmsVariables(forceUpdate);this.sortDataMenuIndex();this.menuWeb.cache_dom();this.menuWeb.attrPerMenu=[];this.menuWeb.init_deepness();};MenuWebCarousel.prototype.createCarouselMenusItemsHtml=function(){var i,portal,menu,menuRoot,that=this;if(this.attr.itemsCreated){return;}
jqueryAjaxCache.getJSON(this.attr.globoapiHost+'/menus/all.jsonp',function(menusData){that.attr.menuRemoved=false;for(i=0;i<that.attr.portals.len;i++){portal=that.attr.portals.all[i];menu=that.getMenuHtml(portal,menusData[portal],i);menuRoot=that.menuElms.menuRoot.eq(i);if(menu){menuRoot.html(menu);}
else{that.currentItemsHeader.filter('[data-produto="'+portal+'"]').remove();that.currentItemsBody.filter('[data-produto="'+portal+'"]').remove();that.attr.menuRemoved=true;}}
that.carouselItemsCreated();});};MenuWebCarousel.prototype.cacheCarouselItemsVariablesWithSuffix=function(suffix,forceUpdate){var capitalizedSuffix,container,currentItems,screenWidth;forceUpdate=(typeof forceUpdate!=='undefined'&&forceUpdate);capitalizedSuffix=this.capitalizeString(suffix);container=(!forceUpdate&&this['container'+capitalizedSuffix])||$('#menu-carousel-'+suffix);currentItems=(!forceUpdate&&this['currentItems'+capitalizedSuffix])||container.find('.menu-carousel-item');screenWidth=(!forceUpdate&&this['screenWidth'+capitalizedSuffix])||container.outerWidth(false);this['screenCenter'+capitalizedSuffix]=screenWidth/2;this['itemWidth'+capitalizedSuffix]=currentItems.first().outerWidth(false);this['container'+capitalizedSuffix]=container;this['currentItems'+capitalizedSuffix]=currentItems;if(suffix==='header'&&!this.currentLinksHeader){this.currentLinksHeader=currentItems.find('.menu-carousel-link');this.currentLinksHeaderFirst=this.currentLinksHeader.first();this.currentLinksShadowHeader=currentItems.find('.menu-carousel-link-shadow');this.currentLinksShadowHeaderFirst=this.currentLinksShadowHeader.first();}};MenuWebCarousel.prototype.cacheCarouselItemsVariables=function(forceUpdate){this.cacheCarouselItemsVariablesWithSuffix('header',forceUpdate);this.cacheCarouselItemsVariablesWithSuffix('body',forceUpdate);};MenuWebCarousel.prototype.refreshPositionOfMenuContainer=function(){if(this.detections.isIos9){$html.addClass('is-ios9');}};MenuWebCarousel.prototype.cacheMenuElmsVariables=function(forceUpdate){forceUpdate=(typeof forceUpdate!=='undefined'&&forceUpdate);this.menuElms=this.menuElms||{};this.menuElms.menuRounder=(!forceUpdate&&this.menuElms.menuRounder)||this.menuContainer.find('.menu-rounder');this.menuElms.menuCascade=(!forceUpdate&&this.menuElms.menuCascade)||this.menuContainer.find('.menu-cascade');this.menuElms.menuRoot=(!forceUpdate&&this.menuElms.menuRoot)||this.menuContainer.find('.menu-root');this.menuElms.menuSizesInfo=(!forceUpdate&&this.menuElms.menuSizesInfo)||$('#menu-carousel-header-sizes-infos')[0];this.menuElms.menuVerticalScroll=(!forceUpdate&&this.menuElms.menuVerticalScroll)||this.menuElms.menuRoot.find('.menu-submenu-vertical-scroll');this.menuElms.menuItemsHighlighted=null;this.menuElms.count=this.menuElms.menuCascade.length;};MenuWebCarousel.prototype.cacheVariables=function(forceUpdate){this.currentLinksHeader=null;this.cacheCarouselItemsVariables(forceUpdate);this.cacheMenuElmsVariables(forceUpdate);this.swiperHeader=null;this.swiperBody=null;this.scrollInfo={resize:false,transitionAnimationTime:100,initialActivePage:{header:this.currentItemsHeader.index(this.currentItemsHeader.filter('.menu-carousel-item-active')),body:this.currentItemsBody.index(this.currentItemsBody.filter('.menu-carousel-item-active'))},thresholdX:5,thresholdY:5,swiperMoving:false,lastTimeLinkClicked:null,snapSpeed:300,resetTimeout:500,spaceBetween:0,defaultSpaceBetween:0,maxScale:1,defaultScaleMinHeader:0.72,scaleMinHeader:0.72,scaleMaxHeader:1,lastScale:null,defaultDurationPercentage:0.3,scaleSpeed:0,initialScaleHeaderPerc:1,scaleHeaderPerc:1,scaleDeltaY:75,dropShadowMaxRange:20,propDeltaY:1.72};this.scrollInfo.scaleMaxBody=1-this.scrollInfo.scaleMinHeader;this.previousMenuLevel=0;this.menuLevel=0;this.elmsHeights={};this.menusLevel={};this.direction=null;this.animationEnd='webkitAnimationEnd oanimationend msAnimationEnd animationend';this.styleProps={transitionDuration:ModernizrWithPrefixed.prefixed('transitionDuration'),transform:ModernizrWithPrefixed.prefixed('transform'),boxShadow:ModernizrWithPrefixed.prefixed('boxShadow')};this.detections={isIos:this.isIos(),isAndroidBrowser:this.isAndroidBrowser(),isAndroidBrowserWebview:this.isAndroidBrowserWebview(),isIos7:this.isIos7(),isIos9:this.isIos9(),isIphone4:this.isIphone4(),isLowHeightDevice:this.isLowHeightDevice()};};MenuWebCarousel.prototype.debounce=function(func,wait,immediate){var timeout;return function(){var context=this,args=arguments;var later=function(){timeout=null;if(!immediate){func.apply(context,args);}};var callNow=immediate&&!timeout;clearTimeout(timeout);timeout=setTimeout(later,wait);if(callNow){func.apply(context,args);}};};MenuWebCarousel.prototype.refresh=function(){if(this.scrollInfo.resize||this.onInitProcess){this.refreshBrandsSpaces();this.cacheCarouselItemsVariables();this.refreshHeights();this.refreshCurrentHeaderScale(0);this.refreshHorizontalCarousels();}};MenuWebCarousel.prototype.injectExtraWidth=function(container){var menuBrand=container.find('.menu-brands').first(),width=parseInt(menuBrand.css('width'),10);width+=5;menuBrand.css('width',width);};MenuWebCarousel.prototype.refreshHorizontalCarousels=function(){var that=this;if(this.swiperHeader!==null){this.swiperHeader.update();}
if(this.swiperBody!==null){this.swiperBody.update();}
setTimeout(function(){if(that.detections.isAndroidBrowserWebview){that.injectExtraWidth(that.containerHeader);that.injectExtraWidth(that.containerBody);}},500);};MenuWebCarousel.prototype.setHorizontalCarouselsToPage=function(page,delay){delay=delay||0;this.swiperHeader.slideTo(page,delay);this.swiperBody.slideTo(page,delay);};MenuWebCarousel.prototype.setHorizontalCarouselsToInitialPage=function(delay){this.setHorizontalCarouselsToPage(this.scrollInfo.initialActivePage.header,delay);};MenuWebCarousel.prototype.setHorizontalCarouselsToCurrentPage=function(delay){this.setHorizontalCarouselsToPage(this.swiperHeader.activeIndex,delay);};MenuWebCarousel.prototype.notifyReady=function(){document.dispatchEvent(new CustomEvent('glb.menu-carousel.ready'));$document.trigger('glb.menu-carousel.ready');};MenuWebCarousel.prototype.slideToHeaderLink=function(menuLink){var page,menuCarouselItem,productName,activePage=this.swiperBody.activeIndex,currentTimeLinkClicked=new Date();page=parseInt(menuLink.attr('data-index'),10);menuCarouselItem=menuLink.parents('.menu-carousel-item');productName=menuCarouselItem.attr('data-produto');if(page===activePage&&!this.scrollInfo.swiperMoving){$document.trigger('glb.menu.marca_click',[productName]);window.location.href=menuLink.attr('href');return true;}
this.setHorizontalCarouselsToPage(page,this.scrollInfo.snapSpeed);$document.trigger('glb.menu.marca_navigation',[productName]);this.scrollInfo.lastTimeLinkClicked=currentTimeLinkClicked;return false;};MenuWebCarousel.prototype.resetMenusActive=function(){this.menuElms.menuRoot.find('.is-activated.menu-item').removeClass('is-activated');};MenuWebCarousel.prototype.resetMenusLevel=function(){var menuIndex,page,menuCascade,menuRoot,removeClassByRegex=function(index,css){return(css.match(/\bmenu-level-\d+/g)||[]).join(' ');};for(page=0;page<this.menuElms.count;page++){menuCascade=this.menuElms.menuCascade.eq(page);menuRoot=this.menuElms.menuRoot.eq(page);this.menusLevel[page]=0;menuRoot.removeClass(removeClassByRegex).addClass('menu-level-0');menuIndex=parseInt(menuCascade.attr('data-menu-index'),10);this.menuWeb.move_to_level(0,menuIndex,false);}};MenuWebCarousel.prototype.resetMenuWebAnimation=function(){this.menuWeb.attr.menu_animation_duration=0;};MenuWebCarousel.prototype.getFromActiveSubmenu=function(sel){var page=this.swiperBody.activeIndex,level=this.menuLevel,menuRoot=this.menuElms.menuRoot.eq(page);return menuRoot.find('.is-activated.menu-item > .menu-submenu-level'+level+' > '+sel);};MenuWebCarousel.prototype.refreshMenuLevel=function(deepness){var that=this,page=this.swiperHeader.activeIndex,menuRoot=this.menuElms.menuRoot.eq(this.swiperBody.activeIndex),forceRefreshOnAndroidBrowser=function(menuRoot){if(that.detections.isAndroidBrowserWebview){that.forceRepainting(menuRoot);}};if(typeof deepness==='undefined'){this.menuLevel=this.menusLevel[page];return;}
this.previousMenuLevel=this.menusLevel[page]||0;this.menuLevel=this.menusLevel[page]=deepness||0;if(this.menuLevel===0&&this.previousMenuLevel>0){setTimeout(function(){menuRoot.addClass('menu-level-'+that.menuLevel);forceRefreshOnAndroidBrowser(menuRoot);},this.scrollInfo.transitionAnimationTime);}
else{menuRoot.addClass('menu-level-'+this.menuLevel);forceRefreshOnAndroidBrowser(menuRoot);}
if(this.menuLevel!==0||this.previousMenuLevel!==0){if(this.previousMenuLevel===0&&this.menuLevel>0){setTimeout(function(){menuRoot.removeClass('menu-level-'+that.previousMenuLevel);forceRefreshOnAndroidBrowser(menuRoot);},this.scrollInfo.transitionAnimationTime);}
else{menuRoot.removeClass('menu-level-'+this.previousMenuLevel);forceRefreshOnAndroidBrowser(menuRoot);}}};MenuWebCarousel.prototype.resetMenuVerticalScroll=function(){this.menuElms.menuRoot.scrollTop(0);this.menuElms.menuVerticalScroll.scrollTop(0);};MenuWebCarousel.prototype.forceRepainting=function($elm){$elm.hide().show(0);setTimeout(function(){$elm.css({'overflow':'','display':''});});};MenuWebCarousel.prototype.refreshMenuLinks=function(){this.forceRepainting(this.currentLinksHeaderFirst);this.forceRepainting(this.currentLinksShadowHeaderFirst);};MenuWebCarousel.prototype.refreshMenuVerticalScroll=function(nextMenuLevel){if(this.menuLevel>nextMenuLevel){this.getFromActiveSubmenu('.menu-submenu-vertical-scroll').scrollTop(0);}};MenuWebCarousel.prototype.verticalScrollTouchStartEvent=function(e){var page=this.swiperHeader.activeIndex,menuElmScroll;if(this.menuLevel===0){menuElmScroll=this.menuElms.menuRoot.eq(page);}
else{menuElmScroll=this.getFromActiveSubmenu('.menu-submenu-vertical-scroll').last();}
this.scrollInfo.initialScrollPage=page;this.scrollInfo.initialElmScroll=menuElmScroll;this.scrollInfo.initialScrollTop=menuElmScroll.scrollTop();this.scrollInfo.initialPageX=e.originalEvent.touches[0].pageX;this.scrollInfo.initialPageY=e.originalEvent.touches[0].pageY;this.scrollInfo.initialScaleHeaderPerc=this.scrollInfo.scaleHeaderPerc;this.scrollInfo.initialScaleHeaderPerc=this.scrollInfo.scaleHeaderPerc;this.scrollInfo.headerScaleActive=false;};MenuWebCarousel.prototype.getMaxScroll=function(elm){var scrollHeight=(typeof elm.prop!=='undefined'&&elm.prop)?elm.prop('scrollHeight'):elm.attr('scrollHeight'),elmHeight=elm.outerHeight(true);return scrollHeight-elmHeight;};MenuWebCarousel.prototype.verticalScrollTouchMoveEvent=function(e){var pageX=e.originalEvent.touches[0].pageX,pageY=e.originalEvent.touches[0].pageY,menuElmScroll=this.scrollInfo.initialElmScroll,scrollY=menuElmScroll.scrollTop(),deltaX=this.scrollInfo.initialPageX-pageX,deltaY=this.scrollInfo.initialPageY-pageY,deltaScrollY=scrollY-this.scrollInfo.initialScrollTop,absDeltaX=Math.abs(deltaX),absDeltaY=Math.abs(deltaY),maxScrollY=this.getMaxScroll(menuElmScroll);if(absDeltaY<this.scrollInfo.propDeltaY*absDeltaX||absDeltaY<=this.scrollInfo.thresholdY){return true;}
if(deltaY!==0&&(scrollY===maxScrollY&&deltaY>0||scrollY===0&&deltaY<0)&&deltaScrollY===0){this.refreshCurrentHeaderScale(deltaY);}
if(!this.scrollInfo.headerScaleActive){this.scrollInfo.headerScaleActive=true;this.stepAnimation(this.stepHeaderScale,[]);}};MenuWebCarousel.prototype.verticalScrollTouchEndEvent=function(){var that=this;that.scrollInfo.headerScaleActive=false;setTimeout(function(){that.cancelLastAnimation();},100);};MenuWebCarousel.prototype.stepHeaderScale=function(){var menuElmScroll=this.scrollInfo.initialElmScroll,pageY=menuElmScroll.scrollTop(),deltaY=pageY-this.scrollInfo.initialScrollTop;if(deltaY!==0){this.refreshCurrentHeaderScale(deltaY);}};MenuWebCarousel.prototype.refreshCurrentHeaderScale=function(deltaY){var newPerc,percTop,top,deltaYPerc,diffScale=this.scrollInfo.scaleMaxHeader-this.scrollInfo.scaleMinHeader,initialPerc=this.scrollInfo.initialScaleHeaderPerc,duration;deltaYPerc=Math.abs(deltaY/this.scrollInfo.scaleDeltaY);if(deltaYPerc>1){deltaYPerc=1;}
deltaYPerc=deltaYPerc*diffScale;newPerc=(deltaY>0)?initialPerc-deltaYPerc:initialPerc+deltaYPerc;if(newPerc<this.scrollInfo.scaleMinHeader||this.scrollInfo.forceMinHeader){newPerc=this.scrollInfo.scaleMinHeader;}
else if(newPerc>this.scrollInfo.scaleMaxHeader){newPerc=this.scrollInfo.scaleMaxHeader;}
percTop=1-newPerc;top=this.scrollInfo.topMaxBody*percTop/this.scrollInfo.scaleMaxBody;duration=this.scrollInfo.scaleSpeed;this.scale3d(this.containerHeader[0],newPerc,duration);this.translateTop(this.containerBody[0],-top,duration);this.scrollInfo.scaleHeaderPerc=newPerc;};MenuWebCarousel.prototype.refreshHeights=function(){this.elmsHeights.reguaContainer=this.reguaContainer.outerHeight(false);this.elmsHeights.menuContainer=this.menuContainer.outerHeight(false);this.elmsHeights.menuHeader=this.containerHeader.outerHeight(false);this.elmsHeights.menuBody=this.elmsHeights.menuContainer-this.elmsHeights.menuHeader;this.scrollInfo.topMaxBody=this.scrollInfo.scaleMaxBody*this.elmsHeights.menuHeader;};MenuWebCarousel.prototype.initSwiper=function(){var that=this,currentTranslate,deltaX,absDeltaX,swiperOptions={initialSlide:this.scrollInfo.initialActivePage.header,runCallbacksOnInit:false,resistance:true,resistanceRatio:0,threshold:0,spaceBetween:this.scrollInfo.spaceBetween,setWrapperSize:true,slideActiveClass:'menu-carousel-item-active',centeredSlides:true,speed:that.scrollInfo.snapSpeed,longSwipesMs:that.scrollInfo.snapSpeed,onTouchStart:function(swiper){that.scrollInfo.initialSwiperTranslation=swiper.translate;},onSliderMove:function(swiper){currentTranslate=swiper.translate;deltaX=that.scrollInfo.initialSwiperTranslation-currentTranslate;absDeltaX=Math.abs(deltaX);if(absDeltaX>that.scrollInfo.thresholdX&&!that.scrollInfo.swiperMoving){that.scrollInfo.swiperMoving=true;that.scrollInfo.startPosition=swiper.activeIndex;that.swiperHeader.container.addClass('swiper-moving');}},onTouchEnd:function(){that.swiperHeader.container.removeClass('swiper-moving');},onSlideChangeStart:function(){that.swiperHeader.container.removeClass('swiper-moving');},onSlideChangeEnd:function(swiper){that.scrollInfo.endPosition=swiper.activeIndex;if(that.scrollInfo.swiperMoving){if(that.scrollInfo.endPosition>that.scrollInfo.startPosition){$document.trigger('glb.menu.swipe',['direita']);}
else if(that.scrollInfo.endPosition<that.scrollInfo.startPosition){$document.trigger('glb.menu.swipe',['esquerda']);}}
that.scrollInfo.swiperMoving=false;that.swiperHeader.container.removeClass('swiper-moving');}};this.swiperHeader=new Swiper(this.containerHeader[0],$.extend({slidesPerView:'auto'},swiperOptions));this.swiperBody=new Swiper(this.containerBody[0],$.extend({slidesPerView:1,control:this.swiperHeader,onSlideChangeEnd:function(){that.refreshMenuLevel();}},swiperOptions));this.swiperHeader.params.control=this.swiperBody;};MenuWebCarousel.prototype.transitionDuration=function(el,duration){if(typeof duration!=='undefined'&&duration!==null){el.style[this.styleProps.transitionDuration]=duration+'ms';}};MenuWebCarousel.prototype.transform=function(el,op,duration){if(!el){return;}
this.transitionDuration(el,duration);el.style[this.styleProps.transform]=op;};MenuWebCarousel.prototype.boxShadow=function(el,range,duration){if(!el){return;}
this.transitionDuration(el,duration);el.style[this.styleProps.boxShadow]='rgba(0, 0, 0, 0.1) 0 '+range+'px '+range+'px';};MenuWebCarousel.prototype.scale3d=function(el,scale,duration){this.transform(el,'scale3d('+scale+', '+scale+', 1)',duration);};MenuWebCarousel.prototype.translate3d=function(el,x,y,duration){this.transform(el,'translate3d('+x+'px, '+y+'px, 0)',duration);};MenuWebCarousel.prototype.translateTop=function(el,top,duration){this.translate3d(el,0,parseInt(top,10),duration);};MenuWebCarousel.prototype.stepAnimation=function(callback,params){var that=this;callback.apply(this,params);if(this.rafScrolling){cAF(this.rafScrolling);}
this.rafScrolling=rAF(function(){that.stepAnimation(callback,params);});};MenuWebCarousel.prototype.cancelLastAnimation=function(){if(this.rafScrolling){cAF(this.rafScrolling);return true;}
return false;};MenuWebCarousel.prototype.refreshSubmenuClass=function(){if(this.menuLevel!==0){this.containerBody.addClass('is-carousel-submenu-active');}else{this.containerBody.removeClass('is-carousel-submenu-active');}};MenuWebCarousel.prototype.refreshBrandsSpaces=function(){this.scrollInfo.spaceBetween=parseInt(getStyle(this.menuElms.menuSizesInfo,'padding'),10);this.scrollInfo.scaleMinHeader=parseFloat(getStyle(this.menuElms.menuSizesInfo,'opacity'),10);if(isNaN(this.scrollInfo.spaceBetween)){this.scrollInfo.spaceBetween=this.scrollInfo.defaultSpaceBetween;}
if(isNaN(this.scrollInfo.scaleMinHeader)){this.scrollInfo.scaleMinHeader=this.scrollInfo.defaultScaleMinHeader;}
this.scrollInfo.forceMinHeader=parseInt(getStyle(this.menuElms.menuSizesInfo,'margin'),10);this.scrollInfo.forceMinHeader=(this.scrollInfo.forceMinHeader===1);this.scrollInfo.forceMinHeader=this.scrollInfo.forceMinHeader||this.isLowHeightDevice();if(this.scrollInfo.spaceBetween<0){this.scrollInfo.spaceBetween=0;}
this.swiperHeader.params.spaceBetween=this.scrollInfo.spaceBetween;};MenuWebCarousel.prototype.bindAfterInit=function(){var that=this;$(window).on('resize',this.debounce(function(){that.scrollInfo.resize=true;if(that.carouselVisible){that.resetAction();that.menuContainer.addClass('menu-no-animation');that.refresh();that.menuContainer.removeClass('menu-no-animation');that.setHorizontalCarouselsToCurrentPage();}
else{that.reset();}
setTimeout(function(){that.resetMenusActive();},that.scrollInfo.transitionAnimationTime);that.scrollInfo.resize=false;},250));this.currentLinksHeader.bind('tap',function(){return that.slideToHeaderLink($(this));});this.menuElms.menuCascade.on('touchstart',function(e){that.verticalScrollTouchStartEvent(e);});this.menuElms.menuCascade.on('touchmove',function(e){that.verticalScrollTouchMoveEvent(e);});this.menuElms.menuCascade.on('touchend',function(e){that.verticalScrollTouchEndEvent(e);});};MenuWebCarousel.prototype.bind=function(){var that=this;this.menuContainer.on('menu_ready',function(e,menuWeb){that.menuWeb=menuWeb;that.init();});this.menuContainer.on('menu_shown',function(){document.dispatchEvent(new CustomEvent('glb.menu-carousel.shown.before'));that.restore();document.dispatchEvent(new CustomEvent('glb.menu-carousel.shown.after'));});this.menuContainer.on('menu_off',function(){document.dispatchEvent(new CustomEvent('glb.menu-carousel.off.before'));setTimeout(function(){that.reset();document.dispatchEvent(new CustomEvent('glb.menu-carousel.off.after'));},that.scrollInfo.resetTimeout);});this.menuContainer.on('menu_pre_move',function(e,deepness){that.refreshMenuVerticalScroll(deepness);});this.menuContainer.on('menu_moved',function(e,deepness){that.refreshMenuLevel(deepness);that.refreshSubmenuClass();});};MenuWebCarousel.prototype._bindClickAbas=function(that){var self=$(that.target),$abas=self.closest('.gui-abas-wrapper'),pos=$abas.find('.gui-abas-item').index(self);$abas.find('.ativo').removeClass('ativo');self.addClass('ativo');$abas.find('.gui-abas-content').eq(pos).addClass('ativo');};MenuWebCarousel.prototype._initAbas=function(){var self=this,_bindClickAbasProxy=function(that){self._bindClickAbas(that);};this.menuElms.timesPersonalizadoAbasItem.on('click',_bindClickAbasProxy);this.menuElms.timesNavegacionalAbasItem.on('click',_bindClickAbasProxy);this._bindEscudos();};MenuWebCarousel.prototype._getTimeUrlUsingTimeName=function(time){var i,escudo,timeUrl=null;if(typeof this.menuElms.timesPersonalizadoEscudos!=='undefined'&&this.menuElms.timesPersonalizadoEscudos){for(i=0;i<this.menuElms.timesPersonalizadoEscudos.length;i++){escudo=this.menuElms.timesPersonalizadoEscudos[i];if(escudo.title.toLowerCase()===time){timeUrl=escudo.href;break;}}}
return timeUrl;};MenuWebCarousel.prototype._trocarTimeSelecionado=function(time,timeUrl){this.attr.lastTime=time;this.attr.lastTimeUrl=timeUrl;if(typeof this.menuElms.menuTrocarLabel!=='undefined'&&this.menuElms.menuTrocarLabel!==null){this.menuElms.menuTrocarLabel.remove();}
if(typeof time!=='undefined'&&time!==null){time=time.toLowerCase();if(typeof timeUrl==='undefined'||timeUrl===null){timeUrl=this._getTimeUrlUsingTimeName(time);}
if(typeof timeUrl!=='undefined'&&timeUrl!==null){this.menuElms.menuTrocarLabel=$('<a style="color:#'+this.attr.timeCores[time]+'" class="menu-item menu-time-escolhido" href="'+timeUrl+'">'+time+'</a>');this.menuElms.timesPersonalizadoItem.before(this.menuElms.menuTrocarLabel);if(typeof this.menuElms.menuTrocarLink==='undefined'||this.menuElms.menuTrocarLink===null){this.menuElms.timesPersonalizadoItem.addClass('menu-item-escolha-seu-time');this.menuElms.menuTrocarLink=this.menuElms.timesPersonalizadoItem.find('.menu-item-link').addClass('menu-trocar-link');this.menuElms.menuTrocarTitle=this.menuElms.timesPersonalizadoItem.find('.menu-item-title').text('trocar').addClass('menu-time-trocar');this._bindTrocar(this.menuElms.menuTrocarLink,this.menuElms.menuTrocarLabel);}}}};MenuWebCarousel.prototype._recuperaTime=function(){var that=this;$.ajax({type:'GET',url:'http://cocoon.globo.com/preferences/esportes?callback=equipe',cache:true,jsonpCallback:'equipe',contentType:'application/json',dataType:'jsonp',success:function(data){that._trocarTimeSelecionado(data.time,data.time_url);},error:function(){console.error('NÃ£o foi possÃ­vel obter o seu time.');}});};MenuWebCarousel.prototype._bindTrocar=function(menuTrocarLink,menuTrocarLabel){menuTrocarLink.off().on('click',function(){$document.trigger('glb.menu.personalizacao',['ge','times',menuTrocarLink.text().trim()]);});menuTrocarLabel.off().on('click',function(){$document.trigger('glb.menu.item-personalizado',['ge',menuTrocarLabel.text().trim()]);});};MenuWebCarousel.prototype._bindEscudos=function(){var time,timeUrl,self=this;this.menuElms.timesPersonalizadoEscudos.on('click',function(e){e.preventDefault();time=this.title;timeUrl=this.href;self._trocarTimeSelecionado(time,timeUrl);self._voltarAbaAposCliqueEmEscudo(this);self._saveTime(time,timeUrl);});this.menuElms.timesNavegacionalEscudos.on('click',function(){$document.trigger('glb.menu.navegacional',['ge','times',this.title]);});};MenuWebCarousel.prototype._voltarAbaAposCliqueEmEscudo=function(escudo){var menuSubmenu,menuItemBack;$document.trigger('glb.menu.personalizacao',['ge','times',escudo.title]);menuSubmenu=$(escudo).parents('.menu-submenu');menuItemBack=menuSubmenu.find('.menu-item-back');menuItemBack.click();};MenuWebCarousel.prototype._saveTime=function(time,timeUrl){var that=this;$.ajax({type:'GET',url:'http://cocoon.globo.com/preferences/esportes/time?value='+time,cache:true,jsonpCallback:'time',contentType:'application/json',dataType:'jsonp',success:function(){that._saveTimeUrl(timeUrl);},error:function(){console.error('NÃ£o foi possÃ­vel salvar o seu time');}});};MenuWebCarousel.prototype._saveTimeUrl=function(timeUrl){$.ajax({type:'GET',url:'http://cocoon.globo.com/preferences/esportes/time_url?value='+timeUrl,cache:true,jsonpCallback:'time_url',contentType:'application/json',dataType:'jsonp',error:function(){console.error('NÃ£o foi possÃ­vel salvar a url do time');}});};MenuWebCarousel.prototype.includeComponents=function(label,labelSlug,rotaUrl){var $containerPersonalizadoItem,$containerCustomItem,$containerTimes,$route=rotaUrl,$labelSlug=labelSlug,that=this;$containerPersonalizadoItem=$('#menu-1-'+labelSlug);$containerCustomItem=$containerPersonalizadoItem.find('.menu-submenu ul');if($labelSlug==='escolha-seu-time'){that.menuElms.timesPersonalizadoItem=$containerPersonalizadoItem;that.menuElms.timesNavegacionalItem=$('#menu-1-times');this._recuperaTime();}
this.menuContainer.one('personalizeMenuRequest',function(){$.ajax({type:'GET',url:$route,cache:true,jsonpCallback:'data',contentType:'application/json',dataType:'jsonp',success:function(data){$containerCustomItem.html(data);if($labelSlug==='escolha-seu-time'){$containerTimes=that.menuElms.timesNavegacionalMosaicoContainer=that.menuElms.timesNavegacionalItem.find('.menu-submenu ul');$containerTimes.html(data);that.menuElms.timesPersonalizadoMosaicoContainer=$containerCustomItem;that.menuElms.timesPersonalizadoAbasItem=that.menuElms.timesPersonalizadoItem.find('.gui-abas-item');that.menuElms.timesPersonalizadoAbasItem.first().addClass('ativo');that.menuElms.timesPersonalizadoAbasContent=that.menuElms.timesPersonalizadoItem.find('.gui-abas-content');that.menuElms.timesPersonalizadoAbasContent.first().addClass('ativo');that.menuElms.timesPersonalizadoEscudos=that.menuElms.timesPersonalizadoItem.find('.glb-ge-mosaico-list-item a');that.menuElms.timesNavegacionalAbasItem=that.menuElms.timesNavegacionalItem.find('.gui-abas-item');that.menuElms.timesNavegacionalAbasItem.first().addClass('ativo');that.menuElms.timesNavegacionalAbasContent=that.menuElms.timesNavegacionalItem.find('.gui-abas-content');that.menuElms.timesNavegacionalAbasContent.first().addClass('ativo');that.menuElms.timesNavegacionalEscudos=that.menuElms.timesNavegacionalItem.find('.glb-ge-mosaico-list-item a');that._initAbas();that._trocarTimeSelecionado(that.attr.lastTime,that.attr.lastTimeUrl);}},error:function(e){console.log(e.message);}});});};MenuWebCarousel.prototype.includeCustomItem=function(menu,label,labelSlug,mylink,rotaUrl){var item=[{agrupador:false,children:[],deepness:1,destacado:true,hasChildren:true,hasSubmenuBroken:false,link:mylink,quebra:false,separador:false,shouldBeLink:true,titulo:label,tituloSlug:labelSlug}];var customItem=Mustache.render(this.attr.templates.custom,{index:0,items:item},{recursive_partial:this.attr.templates.partial});$(menu).find('.menu-root').prepend(customItem);this.includeComponents(label,labelSlug,rotaUrl);};MenuWebCarousel.prototype.personalizeMenu=function(){var that=this;if(this.attr.menuPersonalized){return;}
this.attr.menuPersonalized=true;$.each(this.attr.customItems,function(ind,val){that.includeCustomItem(val.menu,val.label,val.labelSlug,val.link,val.rotaUrl);});};if(!global.glb){global.glb={};}
global.glb.MenuWebCarousel=MenuWebCarousel;})(this);(function(global){'use strict';var MenuWebDesktop=function(options){this.version='{{ version }}';this.attr={hover_class:'is-hovered',active_class:'is-activated',father_class:'is-father',floated_class:'is-floated',ready_class:'is-menu-ready',desktop_class:'is-menu-desktop',column_break_class:'menu-item-submenu-broken',item_selector:'.menu-item',link_selector:'.menu-item-link',title_selector:'.menu-item-title',menu_leave_timeout:200,submenu_leave_timeout:350,animation_duration:300,submenu_with_break_aditional:90,column_width:null,activation_stack:[],submenu_opened:null,$submenu_to_open:null,hover_item:null,};$.extend(this.attr,options);this.timers={};this.cache_dom();this.move_markup();this.init_tracking();this.createProxies();this.listen_events();this.mark_as_ready();};MenuWebDesktop.prototype={cache_dom:function(){var dom={};dom.$window=$(window);dom.$document=$(document);dom.$html=$('html');dom.$body=$('body');dom.$menu_button=$('.menu-button');dom.$menu_container=$('#menu-container');dom.$previous_container_sibling=dom.$menu_container.prev();dom.$menu_cascade=dom.$menu_container.find('#menu-cascade');dom.$menu_addon=dom.$menu_container.find('#menu-addon');dom.$menu_root=dom.$menu_cascade.children('.menu-root');this.dom=dom;},move_markup:function(){var dom=this.dom;dom.$body.append(dom.$menu_container.detach());},init_tracking:function(){this.attr.tracking=new global.glb.MenuWebTracker(this.dom.$menu_root);},createProxies:function(){var proxies={};var proxy_name;proxies.reveal_menu=$.proxy(this,'reveal_menu');proxies.hide_menu=$.proxy(this,'hide_menu');proxies.cancel_menu_leave_timeout=$.proxy(this,'cancel_menu_leave_timeout');proxies.enter_item=$.proxy(this,'enter_item');proxies.set_hover=$.proxy(this,'set_hover');proxies.leave_item=$.proxy(this,'leave_item');proxies.cancel_submenu_leave_timeout=$.proxy(this,'cancel_submenu_leave_timeout');for(proxy_name in proxies){if(proxies.hasOwnProperty(proxy_name)){this['prx_'+proxy_name]=proxies[proxy_name];}}},listen_events:function(){var dom=this.dom;var item_selector=this.attr.item_selector;dom.$document.on('header_fixed.menu_web',this.prx_hide_menu);dom.$menu_button.on('mouseenter.menu_web',this.prx_reveal_menu).on('mouseleave.menu_web',this.prx_hide_menu);dom.$menu_container.on('mouseenter.menu_web',this.prx_cancel_menu_leave_timeout).on('mouseleave.menu_web',this.prx_hide_menu);dom.$menu_addon.on('mouseenter.menu_web',this.prx_cancel_submenu_leave_timeout);dom.$menu_cascade.on('mouseover.menu_web',item_selector,this.prx_enter_item).on('mouseleave.menu_web',item_selector,this.prx_leave_item).find(item_selector).on('mouseenter.menu_web',this.prx_set_hover);},mark_as_ready:function(){var dom=this.dom;var attr=this.attr;var classes=attr.desktop_class+' '+attr.ready_class;dom.$html.addClass(classes);dom.$menu_container.trigger('menu_ready');},reveal_menu:function(event){var $menu_button=$(event.target).closest('.menu-button');var menu_button_offset=$menu_button.offset();var top=menu_button_offset.top;var left=menu_button_offset.left;var height=$menu_button.height();var top_distance;var scroll;var dom=this.dom;var attr=this.attr;this.cancel_menu_leave_timeout();if($menu_button.closest('.floating-bar')[0]){scroll=dom.$window.scrollTop();top_distance=top-scroll+height+20;dom.$menu_container.addClass(attr.floated_class);}else{top_distance=top+height+24;dom.$menu_container.removeClass(attr.floated_class);}
dom.$menu_container.css({'top':top_distance,'left':left-14,'display':'block'});this.measure_column_width();this.open_first_item();dom.$menu_container.trigger('menu_shown');},open_first_item:function(){var $first_menu_item_with_submenu=this.dom.$menu_root.children('.is-father').eq(0);var event={};if($first_menu_item_with_submenu.length>0){event.target=$first_menu_item_with_submenu[0];this.set_hover(event);this.enter_item(event);}},measure_column_width:function(){var attr=this.attr;var dom=this.dom;attr.column_width=dom.$menu_root.width();dom.$menu_cascade.width(attr.column_width);this.measure_column_width=$.noop;},hide_menu:function(){this.cancel_menu_leave_timeout();this.timers.menu_leave_timeout=this._late(function(){var attr=this.attr;this.dom.$menu_container.hide().trigger('menu_leave_timeout');attr.activation_stack=[];attr.submenu_opened=null;attr.$submenu_to_open=null;this.change_columns();this.timers.menu_leave_timeout=null;this._cancel_late(this.timers.submenu_leave_timeout);this._cancel_late(this.timers.submenu_closing_timeout);this.dom.$menu_root.find(attr.item_selector).filter('.'+attr.active_class+', .'+attr.hover_class).removeClass(attr.active_class+' '+attr.hover_class);},this.attr.menu_leave_timeout);},cancel_menu_leave_timeout:function(){this._cancel_late(this.timers.menu_leave_timeout);this.timers.menu_leave_timeout=null;},cancel_submenu_leave_timeout:function(){this._cancel_late(this.timers.submenu_leave_timeout);this._cancel_late(this.timers.submenu_closing_timeout);},set_hover:function(event){var attr=this.attr;var $target=$(event.target);var $menu_item=$target.closest(attr.item_selector);var is_father=this._is_father($menu_item);var is_stack_head=this._is_stack_head($menu_item[0]);var has_submenu_opened_at_same_level;var has_submenu_opened_under;var is_in_broken_submenu;var submenu_opened_deepness;var menu_item_deepness;$menu_item.addClass(attr.hover_class);attr.hover_item=$menu_item[0];is_in_broken_submenu=$menu_item.parents('.'+attr.column_break_class).length>0;if(is_father&&!is_stack_head&&!is_in_broken_submenu){has_submenu_opened_at_same_level=attr.submenu_opened&&$menu_item.siblings().filter(attr.submenu_opened).length>0;submenu_opened_deepness=$(attr.submenu_opened).parents(attr.item_selector).length;menu_item_deepness=$menu_item.parents(attr.item_selector).length;has_submenu_opened_under=attr.submenu_opened&&submenu_opened_deepness>menu_item_deepness;if(has_submenu_opened_at_same_level||has_submenu_opened_under){attr.$submenu_to_open=$menu_item;}}else{attr.$submenu_to_open=null;}},enter_item:function(event){var attr=this.attr;var $stack_head=this._stack_head();var $target=$(event.target);var $menu_item=$target.closest(attr.item_selector);var $menu_item_parents=$menu_item.parents();var is_inside_submenu;var is_father=this._is_father($menu_item);var is_stack_head=this._is_stack_head($menu_item[0]);var has_submenu_opened_at_same_level;var has_submenu_opened_under;var is_in_broken_submenu;var submenu_opened_deepness;var menu_item_deepness;var is_already_opened;if($stack_head){is_inside_submenu=$menu_item_parents.filter($stack_head).length>0;if(is_inside_submenu||is_stack_head){this._cancel_late(this.timers.submenu_leave_timeout);}}
is_in_broken_submenu=$menu_item.parents('.'+attr.column_break_class).length>0;is_already_opened=attr.submenu_opened&&attr.submenu_opened[0]===$menu_item[0];if(is_father&&!is_stack_head&&!is_in_broken_submenu){has_submenu_opened_at_same_level=attr.submenu_opened&&$menu_item.siblings().filter(attr.submenu_opened).length>0;submenu_opened_deepness=$(attr.submenu_opened).parents(attr.item_selector).length;menu_item_deepness=$menu_item.parents(attr.item_selector).length;has_submenu_opened_under=attr.submenu_opened&&submenu_opened_deepness>menu_item_deepness;if(!has_submenu_opened_at_same_level&&!has_submenu_opened_under){this._cancel_late(this.timers.submenu_closing_timeout);this.activate_submenu($menu_item);}}},activate_submenu:function($menu_item){var attr=this.attr;var aditional=0;attr.$submenu_to_open=null;attr.submenu_opened=$menu_item[0];$menu_item.addClass(attr.active_class);if($menu_item.hasClass(attr.column_break_class)){aditional=attr.submenu_with_break_aditional;}
attr.activation_stack.push($menu_item);this.change_columns(aditional);},leave_item:function(event){var attr=this.attr;var $target=$(event.target);var $menu_item=$target.closest(attr.item_selector);var $submenu_to_open=attr.$submenu_to_open;var $menu_item_parents=$menu_item.parents();var $stack_head=this._stack_head();var is_submenu_to_open=($submenu_to_open&&$submenu_to_open[0]===$menu_item[0]);var is_father=this._is_father($menu_item);var is_inside_submenu;$menu_item.removeClass(attr.hover_class);attr.hover_item=null;if(is_father){if(!is_submenu_to_open){this.deactivate_menu_item($menu_item);}else{attr.$submenu_to_open=null;}}else{is_inside_submenu=($stack_head&&$menu_item_parents.filter($stack_head).length>0);if(is_inside_submenu){this.deactivate_menu_item($menu_item);}}},deactivate_menu_item:function($menu_item){var attr=this.attr;this._cancel_late(this.timers.submenu_leave_timeout);this.timers.submenu_leave_timeout=this._late(function(){var $stack_head=this._stack_head();var is_hovering_an_item=(attr.hover_item!==null);var is_going_up=false;var $items_to_deactivate=$menu_item;var is_going_down=false;var to_open_is_father;var to_open_is_inside_current_submenu;var hover_is_not_inside_stack_head;var i;var stack_item;if(is_hovering_an_item){hover_is_not_inside_stack_head=$(attr.hover_item).parents().filter($stack_head).length===0;if(hover_is_not_inside_stack_head){is_going_up=true;}}
if(attr.$submenu_to_open){to_open_is_father=attr.$submenu_to_open.hasClass(attr.father_class);to_open_is_inside_current_submenu=(attr.$submenu_to_open.parents().filter($stack_head).length>0);if(to_open_is_father&&to_open_is_inside_current_submenu){is_going_down=true;}}
if(is_going_down){this.activate_submenu(attr.$submenu_to_open);return;}
if(is_going_up){$items_to_deactivate=$();for(i=attr.activation_stack.length;i>0;i--){stack_item=attr.activation_stack[i-1];$items_to_deactivate=$items_to_deactivate.add(stack_item);if($(stack_item).siblings().filter(attr.hover_item).length>0){break;}}}
attr.activation_stack=attr.activation_stack.slice(0,-$items_to_deactivate.length);if(attr.$submenu_to_open){this.deactivate_submenus($items_to_deactivate);}else{this.change_columns();this.timers.submenu_closing_timeout=this._late(function(){this.deactivate_submenus($items_to_deactivate);},attr.animation_duration);}},attr.submenu_leave_timeout);},deactivate_submenus:function($menu_item){var attr=this.attr;var $stack_head=this._stack_head();attr.submenu_opened=($stack_head||null);$menu_item.removeClass(attr.active_class+' '+attr.hover_class);if(attr.$submenu_to_open){this.activate_submenu(attr.$submenu_to_open);}},change_columns:function(aditional){var attr=this.attr;var new_width;aditional=aditional||0;new_width=attr.column_width*(attr.activation_stack.length+1);this.dom.$menu_cascade.width(new_width+aditional);},_is_father:function($menu_item){var attr=this.attr;return $menu_item.hasClass(attr.father_class);},_stack_head:function(){var attr=this.attr;var activation_stack=attr.activation_stack;return activation_stack[activation_stack.length-1];},_is_stack_head:function($menu_item){var $stack_head=this._stack_head();return $stack_head&&($menu_item===$stack_head[0]);},_cancel_late:function(id){window.clearTimeout(id);},_late:function(fn,timeout){return window.setTimeout($.proxy(fn,this),timeout);},destroy:function(){var attr=this.attr;var dom=this.dom;var timers=this.timers;var timer_name;var item_selector=attr.item_selector;dom.$previous_container_sibling.after(dom.$menu_container.detach());dom.$document.off('.menu_web');dom.$menu_button.off('.menu_web');dom.$menu_container.off('.menu_web');dom.$menu_addon.off('.menu_web');dom.$menu_cascade.off('.menu_web').find(item_selector).off('.menu_web');dom.$menu_root.off('.menu_web');dom.$html.removeClass(attr.desktop_class+' '+attr.ready_class);for(timer_name in timers){if(timers.hasOwnProperty(timer_name)){window.clearTimeout(timers[timer_name]);}}
attr.tracking.destroy();return MenuWebDesktop;}};if(!global.glb){global.glb={};}
global.glb.MenuWebDesktop=MenuWebDesktop;})(this);(function(global){'use strict';var MenuWebTouch=function(options){this.version='{{ version }}';this.$document=$(document);this.attr={pushing_class:'is-menu-pushing',pushed_class:'is-menu-pushed',touch_class:'is-menu-touch',hover_class:'is-hovered',active_class:'is-activated',back_class:'menu-item-back',father_class:'is-father',auto_created_class:'is-auto-created',ready_class:'is-menu-ready',menu_button_selector:'.menu-button',container_selector:'#menu-container',menu_rounder_selector:'.menu-rounder',menu_cascade_selector:'.menu-cascade',menu_area_selector:'.menu-area',root_selector:'.menu-root',submenu_selector:'.menu-submenu',item_selector:'.menu-item',link_selector:'.menu-item-link',title_selector:'.menu-item-title',submenu_title_selector:'.menu-submenu-title',back_selector:'.menu-item-back',father_selector:'.is-father',activated_selector:'.is-activated',hovered_selector:'.is-hovered',second_column_selector:'.menu-submenu-column-2',clickable_item_selector:'.menu-item, .menu-item-back',event_namespace:'.menu_touch',menu_animation_duration:300,submenu_animation_duration:300,testing_mode:false,menu_width:null,menu_opened:false,items_created:false,second_columns:[],is_mouse_capable:false,is_scrolls_capable:false};this.attr.menuFramework=(document.documentElement.className.indexOf('has-regua')>-1);this.attrPerMenu=[];$.extend(this.attr,options);this.cache_dom();this.init_tracking();this.init_deepness();this.move_to_body();this.move_overlay_to_body();this.create_proxies();this.merge_broken_columns();this.listen_events();this.notify_of_boot();this.force_menu_bind();};MenuWebTouch.prototype={cache_dom:function(){var attr=this.attr;var dom={};dom.$html=$('html');dom.$window=$(window);dom.$body=(attr.testing_mode?$('#fake-body'):$('body'));dom.$menu_button=$(attr.menu_button_selector);dom.$menu_container=$(attr.container_selector);dom.$menu_area=$(attr.menu_area_selector);dom.$previous_container_sibling=dom.$menu_container.prev();dom.$overlay=$('#menu-content-overlay');dom.$header=$('#header-produto');this.dom=dom;this.cache_menu_rounder_dom();},cache_menu_rounder_dom:function(){this.dom.$menu_rounder=this.dom.$menu_container.find(this.attr.menu_rounder_selector);this.dom.$menu_cascade=this.dom.$menu_container.find(this.attr.menu_cascade_selector);this.dom.$menu_root=this.dom.$menu_cascade.children(this.attr.root_selector);this.attr.number_of_menus=this.dom.$menu_root.length;},init_tracking:function(){var onMobile=true;this.attr.tracking=new global.glb.MenuWebTracker(this.dom.$menu_root,onMobile);},init_deepness:function(){var i;for(i=0;i<this.attr.number_of_menus;i++){this.attrPerMenu.push({deepness:0});}},move_to_body:function(){this.dom.$menu_container.detach().prependTo(this.dom.$body);},move_overlay_to_body:function(){this.dom.$overlay.detach().prependTo(this.dom.$body);},create_proxies:function(){var proxies={};var proxy_name;proxies.reveal_menu=$.proxy(this,'reveal_menu');proxies.collapse_menu=$.proxy(this,'collapse_menu');proxies.reset_menu=$.proxy(this,'reset_menu');proxies.reveal_submenu=$.proxy(this,'reveal_submenu');proxies.hide_submenu=$.proxy(this,'hide_submenu');proxies.enter_item=$.proxy(this,'enter_item');proxies.leave_item=$.proxy(this,'leave_item');proxies.refresh=$.proxy(this,'refresh');for(proxy_name in proxies){if(proxies.hasOwnProperty(proxy_name)){this['prx_'+proxy_name]=proxies[proxy_name];}}},merge_broken_columns:function(){var attr=this.attr;var second_columns=attr.second_columns;var $second_columns=this.dom.$menu_root.find(attr.second_column_selector);$second_columns.each(function(){var $second_column=$(this);var $children=$second_column.children().remove();var $first_column=$second_column.prev();$first_column.append($children);second_columns.push({'first_column':$first_column,'second_column':$second_column.remove(),'children':$children});});},debounce:function(func,wait,immediate){var timeout;return function(){var context=this,args=arguments;var later=function(){timeout=null;if(!immediate){func.apply(context,args);}};var callNow=immediate&&!timeout;clearTimeout(timeout);timeout=setTimeout(later,wait);if(callNow){func.apply(context,args);}};},refresh:function(){this.attr.menu_width=this.dom.$menu_cascade.first().outerWidth(false);},listen_events:function(){var dom=this.dom;var attr=this.attr;var event_namespace=attr.event_namespace;var might_be_mouse=false;var ns=function(event,extras){var parts=[event,event_namespace];if(extras){parts.push(extras);}
return parts.join('');};dom.$body.one(ns('mousedown'),$.proxy(function(){might_be_mouse=false;}));dom.$body.on(ns('mousemove'),$.proxy(function(){if(might_be_mouse){attr.is_mouse_capable=true;dom.$body.off(ns('mousemove'));dom.$menu_rounder.on(ns('mouseenter'),attr.clickable_item_selector,this.prx_enter_item).on(ns('mouseleave'),attr.clickable_item_selector,this.prx_leave_item);}
might_be_mouse=true;},this));dom.$overlay.on(ns('click'),this.prx_collapse_menu);dom.$menu_root.on(ns('click'),attr.father_selector,this.prx_reveal_submenu).on(ns('click'),attr.back_selector,this.prx_hide_submenu);dom.$window.on('resize',this.debounce(this.prx_refresh,250));this.$document.on('glb.menu.open',this.prx_reveal_menu);this.$document.on('glb.menu.close',this.prx_collapse_menu);},notify_of_boot:function(){var attr=this.attr;var dom=this.dom;var classes=this._join(attr.touch_class,attr.ready_class);dom.$html.addClass(classes);dom.$menu_container.trigger('menu_ready',[this]);},check_scrolls_support:function(){var doc=global.document;var doc_element=doc.documentElement;var is_mouse_capable=this.attr.is_mouse_capable;var is_scrolls_capable=(is_mouse_capable||'WebkitOverflowScrolling'in doc_element.style||'msOverflowStyle'in doc_element.style||(function(){var ua=global.navigator.userAgent,webkit=ua.match(/AppleWebKit\/([0-9]+)/),wkversion=webkit&&webkit[1],wkLte534=webkit&&wkversion>=534;return(ua.match(/Android ([0-9]+)/)&&RegExp.$1>=3&&wkLte534||ua.match(/ Version\/([0-9]+)/)&&RegExp.$1>=0&&global.blackberry&&wkLte534||ua.indexOf('PlayBook')>-1&&wkLte534&&ua.indexOf('Android 2')>-1||ua.match(/Firefox\/([0-9]+)/)&&RegExp.$1>=4||ua.match(/wOSBrowser\/([0-9]+)/)&&RegExp.$1>=233&&wkLte534||ua.match(/NokiaBrowser\/([0-9\.]+)/)&&parseFloat(RegExp.$1)===7.3&&webkit&&wkversion>=533);})());this.attr.is_scrolls_capable=is_scrolls_capable;this.dom.$html.addClass((is_scrolls_capable?'has-':'has-not-')+'native-scrolls');},reveal_menu:function(){var dom=this.dom;var attr=this.attr;var classes=this._join(attr.pushing_class,attr.pushed_class);if(!attr.menu_opened){this.check_scrolls_support();dom.$html.addClass(classes);this.refresh();dom.$menu_container.trigger('menu_shown');if(attr.menu_animation_duration>0){setTimeout(function(){attr.menu_opened=true;},attr.menu_animation_duration);}
else{attr.menu_opened=true;}}},force_menu_bind:function(){var self=this;var menu_button=this.dom.$menu_button;if(!this.dom.$header.hasClass('header-navegacao')){menu_button.on('click',function(){self.reveal_menu();return false;});}},collapse_menu:function(){var attr=this.attr,that=this;if(attr.menu_opened){attr.menu_opened=false;this.dom.$html.removeClass(attr.pushed_class);if(attr.menu_animation_duration>0){setTimeout(this.prx_reset_menu,attr.menu_animation_duration);setTimeout(function(){that.dom.$menu_container.trigger('menu_off');},attr.menu_animation_duration);}
else{this.reset_menu();this.dom.$menu_container.trigger('menu_off');}}},reveal_submenu:function(event){var attr=this.attr;var $target=$(event.target);var $closest_active=$target.closest(attr.activated_selector);var $menu_item=$target.closest(attr.item_selector);var is_father=$menu_item.hasClass(attr.father_class);var is_not_bubbled=($closest_active[0]!==$menu_item[0]);if(is_father&&is_not_bubbled){$menu_item.addClass(attr.active_class);this.navigate('forward',$menu_item);event.preventDefault();}},hide_submenu:function(event){var attr=this.attr;var $back_item=$(event.target);var $parent_menu_item=$back_item.parents(attr.activated_selector).first();$parent_menu_item.removeClass(attr.hover_class);this.navigate('back',$parent_menu_item);setTimeout(function(){$parent_menu_item.removeClass(attr.active_class);},attr.submenu_animation_duration);},navigate:function(deepness_direction,reference_menu_item){var modifier,direction_map={'back':-1,'forward':1},menu_index,$menu_cascade=(reference_menu_item)?reference_menu_item.parents(this.attr.menu_cascade_selector):null;if(deepness_direction in direction_map){modifier=direction_map[deepness_direction];menu_index=parseInt($menu_cascade.attr('data-menu-index'),10);this.move_to_level(this.attrPerMenu[menu_index].deepness+modifier,menu_index);}},move_to_level:function(deepness,menu_index,trigger_moved){var left,$menu_cascade,dom=this.dom,attr=this.attr;trigger_moved=(typeof trigger_moved!=='undefined')?trigger_moved:true;deepness=(deepness>=0?deepness:0);if(typeof menu_index!=='undefined'&&menu_index!==null&&this.attrPerMenu[menu_index]){this.attrPerMenu[menu_index].deepness=deepness;$menu_cascade=dom.$menu_cascade.eq(menu_index);}
else{$menu_cascade=dom.$menu_cascade;}
if(trigger_moved){dom.$menu_container.trigger('menu_pre_move',[deepness]);}
left=deepness*attr.menu_width;if(!this.attr.menuFramework){dom.$body.scrollTop(0);}
dom.$menu_rounder.scrollTop(0);$menu_cascade.css('left',-(left));if(trigger_moved){dom.$menu_container.trigger('menu_moved',[deepness]);}},enter_item:function(event){var attr=this.attr;$(event.target).closest(attr.clickable_item_selector).addClass(attr.hover_class);},leave_item:function(event){var attr=this.attr;$(event.target).closest(attr.clickable_item_selector).removeClass(attr.hover_class);},reset_menu:function(){var i;var dom=this.dom;var attr=this.attr;attr.menu_opened=false;attr.items_created=false;for(i=0;i<this.attr.number_of_menus;i++){this.move_to_level(0,i);}
dom.$html.removeClass(this._join(attr.pushing_class,attr.pushed_class));dom.$menu_root.find(attr.activated_selector).removeClass(attr.active_class);dom.$menu_root.find(attr.hovered_selector).removeClass(attr.hover_class);dom.$menu_container.trigger('menu_reset');},destroy:function(){var dom=this.dom;var attr=this.attr;var event_namespace=attr.event_namespace;var second_columns=attr.second_columns;var second_column_data;var $first_column;var $second_column;var $children;dom.$body.off(event_namespace);dom.$overlay.off(event_namespace);dom.$menu_button.off(event_namespace);dom.$menu_root.off(event_namespace);attr.tracking.destroy();this.reset_menu();while(second_columns.length>0){second_column_data=second_columns.shift();$first_column=second_column_data.first_column;$second_column=second_column_data.second_column;$children=second_column_data.children;$second_column.append($children.remove());$first_column.after($second_column);}
dom.$html.removeClass(this._join(attr.touch_class,attr.ready_class));dom.$previous_container_sibling.after(dom.$menu_container.remove());dom.$menu_container.after(dom.$overlay.remove());return MenuWebTouch;},_join:function(){var args=Array.prototype.slice.call(arguments,0);return args.join(' ');}};if(!global.glb){global.glb={};}
global.glb.MenuWebTouch=MenuWebTouch;})(this);(function(definition){'use strict';var global=window;var module_id=global.menu_web_module_id||'menu_web';var glb=global.glb||{};if(glb&&glb.runner==='function'){global.glb.runner.push(definition);}else if(typeof global.define==='function'&&global.define.amd){global.define(module_id,[],definition);}else{glb[module_id]=definition();global.glb=glb;}})(function(){'use strict';var is_touchable=('ontouchstart'in window||navigator.msMaxTouchPoints||(window.DocumentTouch&&document instanceof window.DocumentTouch));var min_width=960;var hasRegua=(document.documentElement.className.indexOf('has-regua')>-1);if(is_touchable||$(window).width()<min_width){if(hasRegua){glb.currentMenuWebCarousel=new glb.MenuWebCarousel();}
glb.currentMenuWeb=new glb.MenuWebTouch();}else{glb.currentMenuWeb=new glb.MenuWebDesktop();}
return glb.currentMenuWeb;});var localStoragePollyfillObject={_data:{},setItem:function(id,val){return this._data[id]=String(val);},getItem:function(id){return this._data.hasOwnProperty(id)?this._data[id]:undefined;},removeItem:function(id){return delete this._data[id];},clear:function(){return this._data={};}};if('localStorage'in window){try{localStorage.setItem('test',1);}catch(error){window.localStorage=localStoragePollyfillObject;}}else{window.localStorage=localStoragePollyfillObject;};window.ModernizrWithPrefixed=function(a,b,c){function w(a){i.cssText=a}function x(a,b){return w(prefixes.join(a+";")+(b||""))}function y(a,b){return typeof a===b}function z(a,b){return!!~(""+a).indexOf(b)}function A(a,b){for(var d in a){var e=a[d];if(!z(e,"-")&&i[e]!==c)return b=="pfx"?e:!0}return!1}function B(a,b,d){for(var e in a){var f=b[a[e]];if(f!==c)return d===!1?a[e]:y(f,"function")?f.bind(d||b):f}return!1}function C(a,b,c){var d=a.charAt(0).toUpperCase()+a.slice(1),e=(a+" "+m.join(d+" ")+d).split(" ");return y(b,"string")||y(b,"undefined")?A(e,b):(e=(a+" "+n.join(d+" ")+d).split(" "),B(e,b,c))}var d="2.8.3",e={},f=b.documentElement,g="modernizr",h=b.createElement(g),i=h.style,j,k={}.toString,l="Webkit Moz O ms",m=l.split(" "),n=l.toLowerCase().split(" "),o={},p={},q={},r=[],s=r.slice,t,u={}.hasOwnProperty,v;!y(u,"undefined")&&!y(u.call,"undefined")?v=function(a,b){return u.call(a,b)}:v=function(a,b){return b in a&&y(a.constructor.prototype[b],"undefined")},Function.prototype.bind||(Function.prototype.bind=function(b){var c=this;if(typeof c!="function")throw new TypeError;var d=s.call(arguments,1),e=function(){if(this instanceof e){var a=function(){};a.prototype=c.prototype;var f=new a,g=c.apply(f,d.concat(s.call(arguments)));return Object(g)===g?g:f}return c.apply(b,d.concat(s.call(arguments)))};return e});for(var D in o)v(o,D)&&(t=D.toLowerCase(),e[t]=o[D](),r.push((e[t]?"":"no-")+t));return e.addTest=function(a,b){if(typeof a=="object")for(var d in a)v(a,d)&&e.addTest(d,a[d]);else{a=a.toLowerCase();if(e[a]!==c)return e;b=typeof b=="function"?b():b,typeof enableClasses!="undefined"&&enableClasses&&(f.className+=" "+(b?"":"no-")+a),e[a]=b}return e},w(""),h=j=null,e._version=d,e._domPrefixes=n,e._cssomPrefixes=m,e.testProp=function(a){return A([a])},e.testAllProps=C,e.prefixed=function(a,b,c){return b?C(a,b,c):C(a,"pfx")},e}(this,this.document);(function(w,$,undefined){w.tapHandling=false;w.tappy=true;var tap=function($els){return $els.each(function(){var $el=$(this),resetTimer,startY,startX,cancel,scrollTolerance=10;function trigger(e){$(e.target).trigger("tap",[e,$(e.target).attr("href")]);}
function getCoords(e){var ev=e.originalEvent||e,touches=ev.touches||ev.targetTouches;if(touches){return[touches[0].pageX,touches[0].pageY];}
else{return null;}}
function start(e){if(e.touches&&e.touches.length>1||e.targetTouches&&e.targetTouches.length>1){return false;}
var coords=getCoords(e);startX=coords[0];startY=coords[1];}
function move(e){if(!cancel){var coords=getCoords(e);if(coords&&(Math.abs(startY-coords[1])>scrollTolerance||Math.abs(startX-coords[0])>scrollTolerance)){cancel=true;}}}
function end(e){clearTimeout(resetTimer);resetTimer=setTimeout(function(){w.tapHandling=false;cancel=false;},1000);if((e.which&&e.which>1)||e.shiftKey||e.altKey||e.metaKey||e.ctrlKey){return;}
e.preventDefault();if(cancel||w.tapHandling&&w.tapHandling!==e.type){cancel=false;return;}
w.tapHandling=e.type;trigger(e);}
$el.bind("touchstart.tappy MSPointerDown.tappy",start).bind("touchmove.tappy MSPointerMove.tappy",move).bind("touchend.tappy MSPointerUp.tappy",end).bind("click.tappy",end);});};var untap=function($els){return $els.unbind(".tappy");};if($.event&&$.event.special){$.event.special.tap={add:function(handleObj){tap($(this));},remove:function(handleObj){untap($(this));}};}
else{var oldBind=$.fn.bind,oldUnbind=$.fn.unbind;$.fn.bind=function(evt){if(/(^| )tap( |$)/.test(evt)){tap(this);}
return oldBind.apply(this,arguments);};$.fn.unbind=function(evt){if(/(^| )tap( |$)/.test(evt)){untap(this);}
return oldUnbind.apply(this,arguments);};}}(this,jQuery));"use strict";window.suggestjs=window.suggestjs||(function($){var settings={};var cache={suggestions:[],featuredContents:[]};var defaultDiacriticsRemovalap=[{'base':'A','letters':'\u0041\u24B6\uFF21\u00C0\u00C1\u00C2\u1EA6\u1EA4\u1EAA\u1EA8\u00C3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\u00C4\u01DE\u1EA2\u00C5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F'},{'base':'AA','letters':'\uA732'},{'base':'AE','letters':'\u00C6\u01FC\u01E2'},{'base':'AO','letters':'\uA734'},{'base':'AU','letters':'\uA736'},{'base':'AV','letters':'\uA738\uA73A'},{'base':'AY','letters':'\uA73C'},{'base':'B','letters':'\u0042\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181'},{'base':'C','letters':'\u0043\u24B8\uFF23\u0106\u0108\u010A\u010C\u00C7\u1E08\u0187\u023B\uA73E'},{'base':'D','letters':'\u0044\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779'},{'base':'DZ','letters':'\u01F1\u01C4'},{'base':'Dz','letters':'\u01F2\u01C5'},{'base':'E','letters':'\u0045\u24BA\uFF25\u00C8\u00C9\u00CA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\u00CB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E'},{'base':'F','letters':'\u0046\u24BB\uFF26\u1E1E\u0191\uA77B'},{'base':'G','letters':'\u0047\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E'},{'base':'H','letters':'\u0048\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D'},{'base':'I','letters':'\u0049\u24BE\uFF29\u00CC\u00CD\u00CE\u0128\u012A\u012C\u0130\u00CF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197'},{'base':'J','letters':'\u004A\u24BF\uFF2A\u0134\u0248'},{'base':'K','letters':'\u004B\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2'},{'base':'L','letters':'\u004C\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780'},{'base':'LJ','letters':'\u01C7'},{'base':'Lj','letters':'\u01C8'},{'base':'M','letters':'\u004D\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C'},{'base':'N','letters':'\u004E\u24C3\uFF2E\u01F8\u0143\u00D1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4'},{'base':'NJ','letters':'\u01CA'},{'base':'Nj','letters':'\u01CB'},{'base':'O','letters':'\u004F\u24C4\uFF2F\u00D2\u00D3\u00D4\u1ED2\u1ED0\u1ED6\u1ED4\u00D5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\u00D6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\u00D8\u01FE\u0186\u019F\uA74A\uA74C'},{'base':'OI','letters':'\u01A2'},{'base':'OO','letters':'\uA74E'},{'base':'OU','letters':'\u0222'},{'base':'OE','letters':'\u008C\u0152'},{'base':'oe','letters':'\u009C\u0153'},{'base':'P','letters':'\u0050\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754'},{'base':'Q','letters':'\u0051\u24C6\uFF31\uA756\uA758\u024A'},{'base':'R','letters':'\u0052\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782'},{'base':'S','letters':'\u0053\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784'},{'base':'T','letters':'\u0054\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786'},{'base':'TZ','letters':'\uA728'},{'base':'U','letters':'\u0055\u24CA\uFF35\u00D9\u00DA\u00DB\u0168\u1E78\u016A\u1E7A\u016C\u00DC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244'},{'base':'V','letters':'\u0056\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245'},{'base':'VY','letters':'\uA760'},{'base':'W','letters':'\u0057\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72'},{'base':'X','letters':'\u0058\u24CD\uFF38\u1E8A\u1E8C'},{'base':'Y','letters':'\u0059\u24CE\uFF39\u1EF2\u00DD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE'},{'base':'Z','letters':'\u005A\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762'},{'base':'a','letters':'\u0061\u24D0\uFF41\u1E9A\u00E0\u00E1\u00E2\u1EA7\u1EA5\u1EAB\u1EA9\u00E3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\u00E4\u01DF\u1EA3\u00E5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250'},{'base':'aa','letters':'\uA733'},{'base':'ae','letters':'\u00E6\u01FD\u01E3'},{'base':'ao','letters':'\uA735'},{'base':'au','letters':'\uA737'},{'base':'av','letters':'\uA739\uA73B'},{'base':'ay','letters':'\uA73D'},{'base':'b','letters':'\u0062\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253'},{'base':'c','letters':'\u0063\u24D2\uFF43\u0107\u0109\u010B\u010D\u00E7\u1E09\u0188\u023C\uA73F\u2184'},{'base':'d','letters':'\u0064\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A'},{'base':'dz','letters':'\u01F3\u01C6'},{'base':'e','letters':'\u0065\u24D4\uFF45\u00E8\u00E9\u00EA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\u00EB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD'},{'base':'f','letters':'\u0066\u24D5\uFF46\u1E1F\u0192\uA77C'},{'base':'g','letters':'\u0067\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F'},{'base':'h','letters':'\u0068\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265'},{'base':'hv','letters':'\u0195'},{'base':'i','letters':'\u0069\u24D8\uFF49\u00EC\u00ED\u00EE\u0129\u012B\u012D\u00EF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131'},{'base':'j','letters':'\u006A\u24D9\uFF4A\u0135\u01F0\u0249'},{'base':'k','letters':'\u006B\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3'},{'base':'l','letters':'\u006C\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747'},{'base':'lj','letters':'\u01C9'},{'base':'m','letters':'\u006D\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F'},{'base':'n','letters':'\u006E\u24DD\uFF4E\u01F9\u0144\u00F1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5'},{'base':'nj','letters':'\u01CC'},{'base':'o','letters':'\u006F\u24DE\uFF4F\u00F2\u00F3\u00F4\u1ED3\u1ED1\u1ED7\u1ED5\u00F5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\u00F6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\u00F8\u01FF\u0254\uA74B\uA74D\u0275'},{'base':'oi','letters':'\u01A3'},{'base':'ou','letters':'\u0223'},{'base':'oo','letters':'\uA74F'},{'base':'p','letters':'\u0070\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755'},{'base':'q','letters':'\u0071\u24E0\uFF51\u024B\uA757\uA759'},{'base':'r','letters':'\u0072\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783'},{'base':'s','letters':'\u0073\u24E2\uFF53\u00DF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B'},{'base':'t','letters':'\u0074\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787'},{'base':'tz','letters':'\uA729'},{'base':'u','letters':'\u0075\u24E4\uFF55\u00F9\u00FA\u00FB\u0169\u1E79\u016B\u1E7B\u016D\u00FC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289'},{'base':'v','letters':'\u0076\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C'},{'base':'vy','letters':'\uA761'},{'base':'w','letters':'\u0077\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73'},{'base':'x','letters':'\u0078\u24E7\uFF58\u1E8B\u1E8D'},{'base':'y','letters':'\u0079\u24E8\uFF59\u1EF3\u00FD\u0177\u1EF9\u0233\u1E8F\u00FF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF'},{'base':'z','letters':'\u007A\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763'}];var diacriticsMap={};for(var i=0;i<defaultDiacriticsRemovalap.length;i++){var letters=defaultDiacriticsRemovalap[i].letters;for(var j=0;j<letters.length;j++){diacriticsMap[letters[j]]=defaultDiacriticsRemovalap[i].base;}}
var _prepararResultadoPreSuggest=function(size,data,callback){var preSuggestList=[];for(var i=0;i<data.suggestions.length;i++){preSuggestList.push({term:data.suggestions[i].text,score:data.suggestions[i].score});};callback(_seleciona(['term'],preSuggestList).slice(0,size));};var _removeAcentos=function(termo){return termo.replace(/[^\u0000-\u007E]/g,function(a){return diacriticsMap[a]||a;});}
var _todosTermosIniciamAlgumaPalavra=function(termo,frase){var termos=_removeAcentos(termo).toLowerCase().split(/[^\w]+/);var palavras=_removeAcentos(frase).toLowerCase().split(/[^\w]+/);var result=true;for(var i=0;i<termos.length;i++){result=result&&_algumaPalavraIniciaCom(termos[i],palavras);}
return result;};var _algumaPalavraIniciaCom=function(termo,palavras){for(var i=0;i<palavras.length;i++){if(palavras[i].indexOf(termo)==0){return true;}}
return false;};var _iniciaCom=function(termo,frase){return _removeAcentos(frase).toLowerCase().indexOf(_removeAcentos(termo).toLowerCase())==0;};var _seleciona=function(campos,lista){var result=[];for(var i=0;i<lista.length;i++){var obj={};for(var j=0;j<campos.length;j++){obj[campos[j]]=lista[i][campos[j]];}
result.push(obj);}
return result;};var _pesoPrioridade=function(a,b){var aPrioritario=$.inArray(a.publisher.toLowerCase(),settings.prioritarios)!=-1;var bPrioritario=$.inArray(b.publisher.toLowerCase(),settings.prioritarios)!=-1;if(aPrioritario&&!bPrioritario){return-1;}else if(!aPrioritario&&bPrioritario){return 1;}else{return b.score-a.score;}};var _buscarTermosComPrefixo=function(termo,size,callback){var suggestions=[];var featuredContents=[];for(var i=0;i<cache.suggestions.length;i++){if(_iniciaCom(termo,cache.suggestions[i].term)){suggestions.push(cache.suggestions[i]);}}
for(var i=0;i<cache.featuredContents.length;i++){if(_todosTermosIniciamAlgumaPalavra(termo,cache.featuredContents[i].term)||_todosTermosIniciamAlgumaPalavra(termo,cache.featuredContents[i].parent)){featuredContents.push(cache.featuredContents[i]);}}
suggestions.sort(function(a,b){return b.score-a.score});featuredContents.sort(_pesoPrioridade);callback({"suggestions":_seleciona(['term'],suggestions).slice(0,size.suggestions),"featured_content":_seleciona(['term','product','parent','url','publisher','thumbnail'],featuredContents).slice(0,size.featured_contents)});};var _termoExiste=function(term,list){for(var i=0;i<list.length;i++){if(list[i].term==term){return true;}}
return false;};var _urlExiste=function(url,list){for(var i=0;i<list.length;i++){if(list[i].url==url){return true;}}
return false;};var _preencherCache=function(data){for(var i=0;i<data.suggestions.length;i++){if(!_termoExiste(data.suggestions[i].text,cache.suggestions)){cache.suggestions.push({term:data.suggestions[i].text,score:data.suggestions[i].score});}};for(var i=0;i<data.featured_content.length;i++){if(!_urlExiste(data.featured_content[i].url,cache.featuredContents)){cache.featuredContents.push({term:data.featured_content[i].title,score:data.featured_content[i].score,product:data.featured_content[i].product,publisher:data.featured_content[i].publisher,"parent":data.featured_content[i].parent,url:data.featured_content[i].url,thumbnail:data.featured_content[i].thumbnail});}};};var _sequence=0;var _found={};return{clearCache:function(){cache={suggestions:[],featuredContents:[]};_found={};},init:function(config){config.prioritarios=typeof config.prioritarios!=='undefined'?config.prioritarios:[];var prioritarios=[];for(i=0;i<config.prioritarios.length;i++){prioritarios.push(config.prioritarios[i].toLowerCase());}
settings.dominio=config.dominio;settings.prioritarios=prioritarios;this.urlDeBusca=undefined;},getUrlBusca:function(){if(typeof this.urlDeBusca==='undefined'){if(typeof settings.dominio!=='undefined'){var regexp_url=/^(?:http:\/\/)?(.*?)(?:\/)?(?:busca)?(?:\/)?$/g;this.urlDeBusca="http://"+regexp_url.exec(settings.dominio)[1]+"/busca";}else{this.urlDeBusca="/busca";}}
return this.urlDeBusca;},preSuggest:function(size,callback){var url=this.getUrlBusca();$.get(url+"/suggest",{score:true,size:size},function(data){_prepararResultadoPreSuggest(size,data,callback);});},suggest:function(termo,size,callback){if(!size.hasOwnProperty('suggestions')&&size.hasOwnProperty('featured_contents')){size={suggestions:size.featured_contents,featured_contents:size.featured_contents};}else if(size.hasOwnProperty('suggestions')&&!size.hasOwnProperty('featured_contents')){size={suggestions:size.suggestions,featured_contents:size.suggestions};}else if(!size.hasOwnProperty('suggestions')&&!size.hasOwnProperty('featured_contents')){if(typeof size=="object"){size={suggestions:3,featured_contents:7}}else{size={suggestions:size,featured_contents:size}}}
_buscarTermosComPrefixo(termo,size,callback);var api_size=size.suggestions>size.featured_contents?size.suggestions:size.featured_contents;var key=JSON.stringify(size)+JSON.stringify(termo);if(!_found[key]){_found[key]=true;_sequence++;var seq=_sequence;var url=this.getUrlBusca();$.get(url+"/suggest",{q:termo,score:true,size:api_size,prioritarios:settings.prioritarios.join()},function(data){_preencherCache(data);if(seq>=_sequence){_buscarTermosComPrefixo(termo,size,callback);}});}}};})(jQuery);String.prototype.endsWith=String.prototype.endsWith||function(suffix){return this.indexOf(suffix,this.length-suffix.length)!==-1;};window.jqueryAjaxCache=window.jqueryAjaxCache||(function($,window,document,undefined){'use strict';var hasLocalstorage,storage,defaultExpirationMins,jqueryAjaxCache;hasLocalstorage=(function(){var mod='modernizr';try{localStorage.setItem(mod,mod);localStorage.removeItem(mod);return true;}catch(e){return false;}})();storage={save:function(key,data,expirationMin){if(!hasLocalstorage){return false;}
var expirationMS=expirationMin*60*1000;var record={value:data,timestamp:new Date().getTime()+expirationMS}
localStorage.setItem(key,JSON.stringify(record));return data;},load:function(key){if(!hasLocalstorage){return false;}
var record=JSON.parse(localStorage.getItem(key));if(!record){return false;}
return(new Date().getTime()<record.timestamp&&record.value);}};defaultExpirationMins=15;jqueryAjaxCache={ajax:function(url,callback,cacheKey,extraContext,type){var ajaxData,cacheData,ajaxContext,isJsonData,isXmlData;cacheKey=(typeof cacheKey!=="undefined")?cacheKey:url;if(typeof type==="undefined"||!type){type=url.split(".");type=type[type.length-1];}
isJsonData=(type=="json"||type=="jsonp");isXmlData=(type=="xml"||type=="svg");ajaxData=storage.load(cacheKey);if(ajaxData){if(isJsonData){ajaxData=JSON.parse(ajaxData);}
callback(ajaxData);return;}
ajaxContext=$.extend({url:url,jsonp:false,cache:true,success:function(data){ajaxData=data;},error:function(e){console.error(e);},complete:function(){if(ajaxData){if(isJsonData){cacheData=JSON.stringify(ajaxData);}
else if(isXmlData){cacheData=ajaxData=new XMLSerializer().serializeToString(ajaxData);}
storage.save(cacheKey,cacheData,defaultExpirationMins);}
callback(ajaxData);}},extraContext);return $.ajax(ajaxContext);},get:function(url,callback,cacheKey,type){return this.ajax(url,callback,cacheKey,{},type);},getJSON:function(url,callback,cacheKey){var type=url.endsWith("jsonp")?"jsonp":"json";return this.ajax(url,callback,cacheKey,{dataType:type,jsonpCallback:(type=="jsonp")?'globoapiMenusCallback':null},type);}};return jqueryAjaxCache;})(jQuery,this,this.document);(function(undefined){var moment,VERSION='2.9.0',globalScope=(typeof global!=='undefined'&&(typeof window==='undefined'||window===global.window))?global:this,oldGlobalMoment,round=Math.round,hasOwnProperty=Object.prototype.hasOwnProperty,i,YEAR=0,MONTH=1,DATE=2,HOUR=3,MINUTE=4,SECOND=5,MILLISECOND=6,locales={},momentProperties=[],hasModule=(typeof module!=='undefined'&&module&&module.exports),aspNetJsonRegex=/^\/?Date\((\-?\d+)/i,aspNetTimeSpanJsonRegex=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,isoDurationRegex=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,formattingTokens=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,localFormattingTokens=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,parseTokenOneOrTwoDigits=/\d\d?/,parseTokenOneToThreeDigits=/\d{1,3}/,parseTokenOneToFourDigits=/\d{1,4}/,parseTokenOneToSixDigits=/[+\-]?\d{1,6}/,parseTokenDigits=/\d+/,parseTokenWord=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,parseTokenTimezone=/Z|[\+\-]\d\d:?\d\d/gi,parseTokenT=/T/i,parseTokenOffsetMs=/[\+\-]?\d+/,parseTokenTimestampMs=/[\+\-]?\d+(\.\d{1,3})?/,parseTokenOneDigit=/\d/,parseTokenTwoDigits=/\d\d/,parseTokenThreeDigits=/\d{3}/,parseTokenFourDigits=/\d{4}/,parseTokenSixDigits=/[+-]?\d{6}/,parseTokenSignedNumber=/[+-]?\d+/,isoRegex=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,isoFormat='YYYY-MM-DDTHH:mm:ssZ',isoDates=[['YYYYYY-MM-DD',/[+-]\d{6}-\d{2}-\d{2}/],['YYYY-MM-DD',/\d{4}-\d{2}-\d{2}/],['GGGG-[W]WW-E',/\d{4}-W\d{2}-\d/],['GGGG-[W]WW',/\d{4}-W\d{2}/],['YYYY-DDD',/\d{4}-\d{3}/]],isoTimes=[['HH:mm:ss.SSSS',/(T| )\d\d:\d\d:\d\d\.\d+/],['HH:mm:ss',/(T| )\d\d:\d\d:\d\d/],['HH:mm',/(T| )\d\d:\d\d/],['HH',/(T| )\d\d/]],parseTimezoneChunker=/([\+\-]|\d\d)/gi,proxyGettersAndSetters='Date|Hours|Minutes|Seconds|Milliseconds'.split('|'),unitMillisecondFactors={'Milliseconds':1,'Seconds':1e3,'Minutes':6e4,'Hours':36e5,'Days':864e5,'Months':2592e6,'Years':31536e6},unitAliases={ms:'millisecond',s:'second',m:'minute',h:'hour',d:'day',D:'date',w:'week',W:'isoWeek',M:'month',Q:'quarter',y:'year',DDD:'dayOfYear',e:'weekday',E:'isoWeekday',gg:'weekYear',GG:'isoWeekYear'},camelFunctions={dayofyear:'dayOfYear',isoweekday:'isoWeekday',isoweek:'isoWeek',weekyear:'weekYear',isoweekyear:'isoWeekYear'},formatFunctions={},relativeTimeThresholds={s:45,m:45,h:22,d:26,M:11},ordinalizeTokens='DDD w W M D d'.split(' '),paddedTokens='M D H h m s w W'.split(' '),formatTokenFunctions={M:function(){return this.month()+1;},MMM:function(format){return this.localeData().monthsShort(this,format);},MMMM:function(format){return this.localeData().months(this,format);},D:function(){return this.date();},DDD:function(){return this.dayOfYear();},d:function(){return this.day();},dd:function(format){return this.localeData().weekdaysMin(this,format);},ddd:function(format){return this.localeData().weekdaysShort(this,format);},dddd:function(format){return this.localeData().weekdays(this,format);},w:function(){return this.week();},W:function(){return this.isoWeek();},YY:function(){return leftZeroFill(this.year()%100,2);},YYYY:function(){return leftZeroFill(this.year(),4);},YYYYY:function(){return leftZeroFill(this.year(),5);},YYYYYY:function(){var y=this.year(),sign=y>=0?'+':'-';return sign+leftZeroFill(Math.abs(y),6);},gg:function(){return leftZeroFill(this.weekYear()%100,2);},gggg:function(){return leftZeroFill(this.weekYear(),4);},ggggg:function(){return leftZeroFill(this.weekYear(),5);},GG:function(){return leftZeroFill(this.isoWeekYear()%100,2);},GGGG:function(){return leftZeroFill(this.isoWeekYear(),4);},GGGGG:function(){return leftZeroFill(this.isoWeekYear(),5);},e:function(){return this.weekday();},E:function(){return this.isoWeekday();},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),true);},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),false);},H:function(){return this.hours();},h:function(){return this.hours()%12||12;},m:function(){return this.minutes();},s:function(){return this.seconds();},S:function(){return toInt(this.milliseconds()/100);},SS:function(){return leftZeroFill(toInt(this.milliseconds()/10),2);},SSS:function(){return leftZeroFill(this.milliseconds(),3);},SSSS:function(){return leftZeroFill(this.milliseconds(),3);},Z:function(){var a=this.utcOffset(),b='+';if(a<0){a=-a;b='-';}
return b+leftZeroFill(toInt(a/60),2)+':'+leftZeroFill(toInt(a)%60,2);},ZZ:function(){var a=this.utcOffset(),b='+';if(a<0){a=-a;b='-';}
return b+leftZeroFill(toInt(a/60),2)+leftZeroFill(toInt(a)%60,2);},z:function(){return this.zoneAbbr();},zz:function(){return this.zoneName();},x:function(){return this.valueOf();},X:function(){return this.unix();},Q:function(){return this.quarter();}},deprecations={},lists=['months','monthsShort','weekdays','weekdaysShort','weekdaysMin'],updateInProgress=false;function dfl(a,b,c){switch(arguments.length){case 2:return a!=null?a:b;case 3:return a!=null?a:b!=null?b:c;default:throw new Error('Implement me');}}
function hasOwnProp(a,b){return hasOwnProperty.call(a,b);}
function defaultParsingFlags(){return{empty:false,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:false,invalidMonth:null,invalidFormat:false,userInvalidated:false,iso:false};}
function printMsg(msg){if(moment.suppressDeprecationWarnings===false&&typeof console!=='undefined'&&console.warn){console.warn('Deprecation warning: '+msg);}}
function deprecate(msg,fn){var firstTime=true;return extend(function(){if(firstTime){printMsg(msg);firstTime=false;}
return fn.apply(this,arguments);},fn);}
function deprecateSimple(name,msg){if(!deprecations[name]){printMsg(msg);deprecations[name]=true;}}
function padToken(func,count){return function(a){return leftZeroFill(func.call(this,a),count);};}
function ordinalizeToken(func,period){return function(a){return this.localeData().ordinal(func.call(this,a),period);};}
function monthDiff(a,b){var wholeMonthDiff=((b.year()-a.year())*12)+(b.month()-a.month()),anchor=a.clone().add(wholeMonthDiff,'months'),anchor2,adjust;if(b-anchor<0){anchor2=a.clone().add(wholeMonthDiff-1,'months');adjust=(b-anchor)/(anchor-anchor2);}else{anchor2=a.clone().add(wholeMonthDiff+1,'months');adjust=(b-anchor)/(anchor2-anchor);}
return-(wholeMonthDiff+adjust);}
while(ordinalizeTokens.length){i=ordinalizeTokens.pop();formatTokenFunctions[i+'o']=ordinalizeToken(formatTokenFunctions[i],i);}
while(paddedTokens.length){i=paddedTokens.pop();formatTokenFunctions[i+i]=padToken(formatTokenFunctions[i],2);}
formatTokenFunctions.DDDD=padToken(formatTokenFunctions.DDD,3);function meridiemFixWrap(locale,hour,meridiem){var isPm;if(meridiem==null){return hour;}
if(locale.meridiemHour!=null){return locale.meridiemHour(hour,meridiem);}else if(locale.isPM!=null){isPm=locale.isPM(meridiem);if(isPm&&hour<12){hour+=12;}
if(!isPm&&hour===12){hour=0;}
return hour;}else{return hour;}}
function Locale(){}
function Moment(config,skipOverflow){if(skipOverflow!==false){checkOverflow(config);}
copyConfig(this,config);this._d=new Date(+config._d);if(updateInProgress===false){updateInProgress=true;moment.updateOffset(this);updateInProgress=false;}}
function Duration(duration){var normalizedInput=normalizeObjectUnits(duration),years=normalizedInput.year||0,quarters=normalizedInput.quarter||0,months=normalizedInput.month||0,weeks=normalizedInput.week||0,days=normalizedInput.day||0,hours=normalizedInput.hour||0,minutes=normalizedInput.minute||0,seconds=normalizedInput.second||0,milliseconds=normalizedInput.millisecond||0;this._milliseconds=+milliseconds+
seconds*1e3+
minutes*6e4+
hours*36e5;this._days=+days+
weeks*7;this._months=+months+
quarters*3+
years*12;this._data={};this._locale=moment.localeData();this._bubble();}
function extend(a,b){for(var i in b){if(hasOwnProp(b,i)){a[i]=b[i];}}
if(hasOwnProp(b,'toString')){a.toString=b.toString;}
if(hasOwnProp(b,'valueOf')){a.valueOf=b.valueOf;}
return a;}
function copyConfig(to,from){var i,prop,val;if(typeof from._isAMomentObject!=='undefined'){to._isAMomentObject=from._isAMomentObject;}
if(typeof from._i!=='undefined'){to._i=from._i;}
if(typeof from._f!=='undefined'){to._f=from._f;}
if(typeof from._l!=='undefined'){to._l=from._l;}
if(typeof from._strict!=='undefined'){to._strict=from._strict;}
if(typeof from._tzm!=='undefined'){to._tzm=from._tzm;}
if(typeof from._isUTC!=='undefined'){to._isUTC=from._isUTC;}
if(typeof from._offset!=='undefined'){to._offset=from._offset;}
if(typeof from._pf!=='undefined'){to._pf=from._pf;}
if(typeof from._locale!=='undefined'){to._locale=from._locale;}
if(momentProperties.length>0){for(i in momentProperties){prop=momentProperties[i];val=from[prop];if(typeof val!=='undefined'){to[prop]=val;}}}
return to;}
function absRound(number){if(number<0){return Math.ceil(number);}else{return Math.floor(number);}}
function leftZeroFill(number,targetLength,forceSign){var output=''+Math.abs(number),sign=number>=0;while(output.length<targetLength){output='0'+output;}
return(sign?(forceSign?'+':''):'-')+output;}
function positiveMomentsDifference(base,other){var res={milliseconds:0,months:0};res.months=other.month()-base.month()+
(other.year()-base.year())*12;if(base.clone().add(res.months,'M').isAfter(other)){--res.months;}
res.milliseconds=+other-+(base.clone().add(res.months,'M'));return res;}
function momentsDifference(base,other){var res;other=makeAs(other,base);if(base.isBefore(other)){res=positiveMomentsDifference(base,other);}else{res=positiveMomentsDifference(other,base);res.milliseconds=-res.milliseconds;res.months=-res.months;}
return res;}
function createAdder(direction,name){return function(val,period){var dur,tmp;if(period!==null&&!isNaN(+period)){deprecateSimple(name,'moment().'+name+'(period, number) is deprecated. Please use moment().'+name+'(number, period).');tmp=val;val=period;period=tmp;}
val=typeof val==='string'?+val:val;dur=moment.duration(val,period);addOrSubtractDurationFromMoment(this,dur,direction);return this;};}
function addOrSubtractDurationFromMoment(mom,duration,isAdding,updateOffset){var milliseconds=duration._milliseconds,days=duration._days,months=duration._months;updateOffset=updateOffset==null?true:updateOffset;if(milliseconds){mom._d.setTime(+mom._d+milliseconds*isAdding);}
if(days){rawSetter(mom,'Date',rawGetter(mom,'Date')+days*isAdding);}
if(months){rawMonthSetter(mom,rawGetter(mom,'Month')+months*isAdding);}
if(updateOffset){moment.updateOffset(mom,days||months);}}
function isArray(input){return Object.prototype.toString.call(input)==='[object Array]';}
function isDate(input){return Object.prototype.toString.call(input)==='[object Date]'||input instanceof Date;}
function compareArrays(array1,array2,dontConvert){var len=Math.min(array1.length,array2.length),lengthDiff=Math.abs(array1.length-array2.length),diffs=0,i;for(i=0;i<len;i++){if((dontConvert&&array1[i]!==array2[i])||(!dontConvert&&toInt(array1[i])!==toInt(array2[i]))){diffs++;}}
return diffs+lengthDiff;}
function normalizeUnits(units){if(units){var lowered=units.toLowerCase().replace(/(.)s$/,'$1');units=unitAliases[units]||camelFunctions[lowered]||lowered;}
return units;}
function normalizeObjectUnits(inputObject){var normalizedInput={},normalizedProp,prop;for(prop in inputObject){if(hasOwnProp(inputObject,prop)){normalizedProp=normalizeUnits(prop);if(normalizedProp){normalizedInput[normalizedProp]=inputObject[prop];}}}
return normalizedInput;}
function makeList(field){var count,setter;if(field.indexOf('week')===0){count=7;setter='day';}
else if(field.indexOf('month')===0){count=12;setter='month';}
else{return;}
moment[field]=function(format,index){var i,getter,method=moment._locale[field],results=[];if(typeof format==='number'){index=format;format=undefined;}
getter=function(i){var m=moment().utc().set(setter,i);return method.call(moment._locale,m,format||'');};if(index!=null){return getter(index);}
else{for(i=0;i<count;i++){results.push(getter(i));}
return results;}};}
function toInt(argumentForCoercion){var coercedNumber=+argumentForCoercion,value=0;if(coercedNumber!==0&&isFinite(coercedNumber)){if(coercedNumber>=0){value=Math.floor(coercedNumber);}else{value=Math.ceil(coercedNumber);}}
return value;}
function daysInMonth(year,month){return new Date(Date.UTC(year,month+1,0)).getUTCDate();}
function weeksInYear(year,dow,doy){return weekOfYear(moment([year,11,31+dow-doy]),dow,doy).week;}
function daysInYear(year){return isLeapYear(year)?366:365;}
function isLeapYear(year){return(year%4===0&&year%100!==0)||year%400===0;}
function checkOverflow(m){var overflow;if(m._a&&m._pf.overflow===-2){overflow=m._a[MONTH]<0||m._a[MONTH]>11?MONTH:m._a[DATE]<1||m._a[DATE]>daysInMonth(m._a[YEAR],m._a[MONTH])?DATE:m._a[HOUR]<0||m._a[HOUR]>24||(m._a[HOUR]===24&&(m._a[MINUTE]!==0||m._a[SECOND]!==0||m._a[MILLISECOND]!==0))?HOUR:m._a[MINUTE]<0||m._a[MINUTE]>59?MINUTE:m._a[SECOND]<0||m._a[SECOND]>59?SECOND:m._a[MILLISECOND]<0||m._a[MILLISECOND]>999?MILLISECOND:-1;if(m._pf._overflowDayOfYear&&(overflow<YEAR||overflow>DATE)){overflow=DATE;}
m._pf.overflow=overflow;}}
function isValid(m){if(m._isValid==null){m._isValid=!isNaN(m._d.getTime())&&m._pf.overflow<0&&!m._pf.empty&&!m._pf.invalidMonth&&!m._pf.nullInput&&!m._pf.invalidFormat&&!m._pf.userInvalidated;if(m._strict){m._isValid=m._isValid&&m._pf.charsLeftOver===0&&m._pf.unusedTokens.length===0&&m._pf.bigHour===undefined;}}
return m._isValid;}
function normalizeLocale(key){return key?key.toLowerCase().replace('_','-'):key;}
function chooseLocale(names){var i=0,j,next,locale,split;while(i<names.length){split=normalizeLocale(names[i]).split('-');j=split.length;next=normalizeLocale(names[i+1]);next=next?next.split('-'):null;while(j>0){locale=loadLocale(split.slice(0,j).join('-'));if(locale){return locale;}
if(next&&next.length>=j&&compareArrays(split,next,true)>=j-1){break;}
j--;}
i++;}
return null;}
function loadLocale(name){var oldLocale=null;if(!locales[name]&&hasModule){try{oldLocale=moment.locale();require('./locale/'+name);moment.locale(oldLocale);}catch(e){}}
return locales[name];}
function makeAs(input,model){var res,diff;if(model._isUTC){res=model.clone();diff=(moment.isMoment(input)||isDate(input)?+input:+moment(input))-(+res);res._d.setTime(+res._d+diff);moment.updateOffset(res,false);return res;}else{return moment(input).local();}}
extend(Locale.prototype,{set:function(config){var prop,i;for(i in config){prop=config[i];if(typeof prop==='function'){this[i]=prop;}else{this['_'+i]=prop;}}
this._ordinalParseLenient=new RegExp(this._ordinalParse.source+'|'+/\d{1,2}/.source);},_months:'January_February_March_April_May_June_July_August_September_October_November_December'.split('_'),months:function(m){return this._months[m.month()];},_monthsShort:'Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'.split('_'),monthsShort:function(m){return this._monthsShort[m.month()];},monthsParse:function(monthName,format,strict){var i,mom,regex;if(!this._monthsParse){this._monthsParse=[];this._longMonthsParse=[];this._shortMonthsParse=[];}
for(i=0;i<12;i++){mom=moment.utc([2000,i]);if(strict&&!this._longMonthsParse[i]){this._longMonthsParse[i]=new RegExp('^'+this.months(mom,'').replace('.','')+'$','i');this._shortMonthsParse[i]=new RegExp('^'+this.monthsShort(mom,'').replace('.','')+'$','i');}
if(!strict&&!this._monthsParse[i]){regex='^'+this.months(mom,'')+'|^'+this.monthsShort(mom,'');this._monthsParse[i]=new RegExp(regex.replace('.',''),'i');}
if(strict&&format==='MMMM'&&this._longMonthsParse[i].test(monthName)){return i;}else if(strict&&format==='MMM'&&this._shortMonthsParse[i].test(monthName)){return i;}else if(!strict&&this._monthsParse[i].test(monthName)){return i;}}},_weekdays:'Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday'.split('_'),weekdays:function(m){return this._weekdays[m.day()];},_weekdaysShort:'Sun_Mon_Tue_Wed_Thu_Fri_Sat'.split('_'),weekdaysShort:function(m){return this._weekdaysShort[m.day()];},_weekdaysMin:'Su_Mo_Tu_We_Th_Fr_Sa'.split('_'),weekdaysMin:function(m){return this._weekdaysMin[m.day()];},weekdaysParse:function(weekdayName){var i,mom,regex;if(!this._weekdaysParse){this._weekdaysParse=[];}
for(i=0;i<7;i++){if(!this._weekdaysParse[i]){mom=moment([2000,1]).day(i);regex='^'+this.weekdays(mom,'')+'|^'+this.weekdaysShort(mom,'')+'|^'+this.weekdaysMin(mom,'');this._weekdaysParse[i]=new RegExp(regex.replace('.',''),'i');}
if(this._weekdaysParse[i].test(weekdayName)){return i;}}},_longDateFormat:{LTS:'h:mm:ss A',LT:'h:mm A',L:'MM/DD/YYYY',LL:'MMMM D, YYYY',LLL:'MMMM D, YYYY LT',LLLL:'dddd, MMMM D, YYYY LT'},longDateFormat:function(key){var output=this._longDateFormat[key];if(!output&&this._longDateFormat[key.toUpperCase()]){output=this._longDateFormat[key.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(val){return val.slice(1);});this._longDateFormat[key]=output;}
return output;},isPM:function(input){return((input+'').toLowerCase().charAt(0)==='p');},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(hours,minutes,isLower){if(hours>11){return isLower?'pm':'PM';}else{return isLower?'am':'AM';}},_calendar:{sameDay:'[Today at] LT',nextDay:'[Tomorrow at] LT',nextWeek:'dddd [at] LT',lastDay:'[Yesterday at] LT',lastWeek:'[Last] dddd [at] LT',sameElse:'L'},calendar:function(key,mom,now){var output=this._calendar[key];return typeof output==='function'?output.apply(mom,[now]):output;},_relativeTime:{future:'in %s',past:'%s ago',s:'a few seconds',m:'a minute',mm:'%d minutes',h:'an hour',hh:'%d hours',d:'a day',dd:'%d days',M:'a month',MM:'%d months',y:'a year',yy:'%d years'},relativeTime:function(number,withoutSuffix,string,isFuture){var output=this._relativeTime[string];return(typeof output==='function')?output(number,withoutSuffix,string,isFuture):output.replace(/%d/i,number);},pastFuture:function(diff,output){var format=this._relativeTime[diff>0?'future':'past'];return typeof format==='function'?format(output):format.replace(/%s/i,output);},ordinal:function(number){return this._ordinal.replace('%d',number);},_ordinal:'%d',_ordinalParse:/\d{1,2}/,preparse:function(string){return string;},postformat:function(string){return string;},week:function(mom){return weekOfYear(mom,this._week.dow,this._week.doy).week;},_week:{dow:0,doy:6},firstDayOfWeek:function(){return this._week.dow;},firstDayOfYear:function(){return this._week.doy;},_invalidDate:'Invalid date',invalidDate:function(){return this._invalidDate;}});function removeFormattingTokens(input){if(input.match(/\[[\s\S]/)){return input.replace(/^\[|\]$/g,'');}
return input.replace(/\\/g,'');}
function makeFormatFunction(format){var array=format.match(formattingTokens),i,length;for(i=0,length=array.length;i<length;i++){if(formatTokenFunctions[array[i]]){array[i]=formatTokenFunctions[array[i]];}else{array[i]=removeFormattingTokens(array[i]);}}
return function(mom){var output='';for(i=0;i<length;i++){output+=array[i]instanceof Function?array[i].call(mom,format):array[i];}
return output;};}
function formatMoment(m,format){if(!m.isValid()){return m.localeData().invalidDate();}
format=expandFormat(format,m.localeData());if(!formatFunctions[format]){formatFunctions[format]=makeFormatFunction(format);}
return formatFunctions[format](m);}
function expandFormat(format,locale){var i=5;function replaceLongDateFormatTokens(input){return locale.longDateFormat(input)||input;}
localFormattingTokens.lastIndex=0;while(i>=0&&localFormattingTokens.test(format)){format=format.replace(localFormattingTokens,replaceLongDateFormatTokens);localFormattingTokens.lastIndex=0;i-=1;}
return format;}
function getParseRegexForToken(token,config){var a,strict=config._strict;switch(token){case'Q':return parseTokenOneDigit;case'DDDD':return parseTokenThreeDigits;case'YYYY':case'GGGG':case'gggg':return strict?parseTokenFourDigits:parseTokenOneToFourDigits;case'Y':case'G':case'g':return parseTokenSignedNumber;case'YYYYYY':case'YYYYY':case'GGGGG':case'ggggg':return strict?parseTokenSixDigits:parseTokenOneToSixDigits;case'S':if(strict){return parseTokenOneDigit;}
case'SS':if(strict){return parseTokenTwoDigits;}
case'SSS':if(strict){return parseTokenThreeDigits;}
case'DDD':return parseTokenOneToThreeDigits;case'MMM':case'MMMM':case'dd':case'ddd':case'dddd':return parseTokenWord;case'a':case'A':return config._locale._meridiemParse;case'x':return parseTokenOffsetMs;case'X':return parseTokenTimestampMs;case'Z':case'ZZ':return parseTokenTimezone;case'T':return parseTokenT;case'SSSS':return parseTokenDigits;case'MM':case'DD':case'YY':case'GG':case'gg':case'HH':case'hh':case'mm':case'ss':case'ww':case'WW':return strict?parseTokenTwoDigits:parseTokenOneOrTwoDigits;case'M':case'D':case'd':case'H':case'h':case'm':case's':case'w':case'W':case'e':case'E':return parseTokenOneOrTwoDigits;case'Do':return strict?config._locale._ordinalParse:config._locale._ordinalParseLenient;default:a=new RegExp(regexpEscape(unescapeFormat(token.replace('\\','')),'i'));return a;}}
function utcOffsetFromString(string){string=string||'';var possibleTzMatches=(string.match(parseTokenTimezone)||[]),tzChunk=possibleTzMatches[possibleTzMatches.length-1]||[],parts=(tzChunk+'').match(parseTimezoneChunker)||['-',0,0],minutes=+(parts[1]*60)+toInt(parts[2]);return parts[0]==='+'?minutes:-minutes;}
function addTimeToArrayFromToken(token,input,config){var a,datePartArray=config._a;switch(token){case'Q':if(input!=null){datePartArray[MONTH]=(toInt(input)-1)*3;}
break;case'M':case'MM':if(input!=null){datePartArray[MONTH]=toInt(input)-1;}
break;case'MMM':case'MMMM':a=config._locale.monthsParse(input,token,config._strict);if(a!=null){datePartArray[MONTH]=a;}else{config._pf.invalidMonth=input;}
break;case'D':case'DD':if(input!=null){datePartArray[DATE]=toInt(input);}
break;case'Do':if(input!=null){datePartArray[DATE]=toInt(parseInt(input.match(/\d{1,2}/)[0],10));}
break;case'DDD':case'DDDD':if(input!=null){config._dayOfYear=toInt(input);}
break;case'YY':datePartArray[YEAR]=moment.parseTwoDigitYear(input);break;case'YYYY':case'YYYYY':case'YYYYYY':datePartArray[YEAR]=toInt(input);break;case'a':case'A':config._meridiem=input;break;case'h':case'hh':config._pf.bigHour=true;case'H':case'HH':datePartArray[HOUR]=toInt(input);break;case'm':case'mm':datePartArray[MINUTE]=toInt(input);break;case's':case'ss':datePartArray[SECOND]=toInt(input);break;case'S':case'SS':case'SSS':case'SSSS':datePartArray[MILLISECOND]=toInt(('0.'+input)*1000);break;case'x':config._d=new Date(toInt(input));break;case'X':config._d=new Date(parseFloat(input)*1000);break;case'Z':case'ZZ':config._useUTC=true;config._tzm=utcOffsetFromString(input);break;case'dd':case'ddd':case'dddd':a=config._locale.weekdaysParse(input);if(a!=null){config._w=config._w||{};config._w['d']=a;}else{config._pf.invalidWeekday=input;}
break;case'w':case'ww':case'W':case'WW':case'd':case'e':case'E':token=token.substr(0,1);case'gggg':case'GGGG':case'GGGGG':token=token.substr(0,2);if(input){config._w=config._w||{};config._w[token]=toInt(input);}
break;case'gg':case'GG':config._w=config._w||{};config._w[token]=moment.parseTwoDigitYear(input);}}
function dayOfYearFromWeekInfo(config){var w,weekYear,week,weekday,dow,doy,temp;w=config._w;if(w.GG!=null||w.W!=null||w.E!=null){dow=1;doy=4;weekYear=dfl(w.GG,config._a[YEAR],weekOfYear(moment(),1,4).year);week=dfl(w.W,1);weekday=dfl(w.E,1);}else{dow=config._locale._week.dow;doy=config._locale._week.doy;weekYear=dfl(w.gg,config._a[YEAR],weekOfYear(moment(),dow,doy).year);week=dfl(w.w,1);if(w.d!=null){weekday=w.d;if(weekday<dow){++week;}}else if(w.e!=null){weekday=w.e+dow;}else{weekday=dow;}}
temp=dayOfYearFromWeeks(weekYear,week,weekday,doy,dow);config._a[YEAR]=temp.year;config._dayOfYear=temp.dayOfYear;}
function dateFromConfig(config){var i,date,input=[],currentDate,yearToUse;if(config._d){return;}
currentDate=currentDateArray(config);if(config._w&&config._a[DATE]==null&&config._a[MONTH]==null){dayOfYearFromWeekInfo(config);}
if(config._dayOfYear){yearToUse=dfl(config._a[YEAR],currentDate[YEAR]);if(config._dayOfYear>daysInYear(yearToUse)){config._pf._overflowDayOfYear=true;}
date=makeUTCDate(yearToUse,0,config._dayOfYear);config._a[MONTH]=date.getUTCMonth();config._a[DATE]=date.getUTCDate();}
for(i=0;i<3&&config._a[i]==null;++i){config._a[i]=input[i]=currentDate[i];}
for(;i<7;i++){config._a[i]=input[i]=(config._a[i]==null)?(i===2?1:0):config._a[i];}
if(config._a[HOUR]===24&&config._a[MINUTE]===0&&config._a[SECOND]===0&&config._a[MILLISECOND]===0){config._nextDay=true;config._a[HOUR]=0;}
config._d=(config._useUTC?makeUTCDate:makeDate).apply(null,input);if(config._tzm!=null){config._d.setUTCMinutes(config._d.getUTCMinutes()-config._tzm);}
if(config._nextDay){config._a[HOUR]=24;}}
function dateFromObject(config){var normalizedInput;if(config._d){return;}
normalizedInput=normalizeObjectUnits(config._i);config._a=[normalizedInput.year,normalizedInput.month,normalizedInput.day||normalizedInput.date,normalizedInput.hour,normalizedInput.minute,normalizedInput.second,normalizedInput.millisecond];dateFromConfig(config);}
function currentDateArray(config){var now=new Date();if(config._useUTC){return[now.getUTCFullYear(),now.getUTCMonth(),now.getUTCDate()];}else{return[now.getFullYear(),now.getMonth(),now.getDate()];}}
function makeDateFromStringAndFormat(config){if(config._f===moment.ISO_8601){parseISO(config);return;}
config._a=[];config._pf.empty=true;var string=''+config._i,i,parsedInput,tokens,token,skipped,stringLength=string.length,totalParsedInputLength=0;tokens=expandFormat(config._f,config._locale).match(formattingTokens)||[];for(i=0;i<tokens.length;i++){token=tokens[i];parsedInput=(string.match(getParseRegexForToken(token,config))||[])[0];if(parsedInput){skipped=string.substr(0,string.indexOf(parsedInput));if(skipped.length>0){config._pf.unusedInput.push(skipped);}
string=string.slice(string.indexOf(parsedInput)+parsedInput.length);totalParsedInputLength+=parsedInput.length;}
if(formatTokenFunctions[token]){if(parsedInput){config._pf.empty=false;}
else{config._pf.unusedTokens.push(token);}
addTimeToArrayFromToken(token,parsedInput,config);}
else if(config._strict&&!parsedInput){config._pf.unusedTokens.push(token);}}
config._pf.charsLeftOver=stringLength-totalParsedInputLength;if(string.length>0){config._pf.unusedInput.push(string);}
if(config._pf.bigHour===true&&config._a[HOUR]<=12){config._pf.bigHour=undefined;}
config._a[HOUR]=meridiemFixWrap(config._locale,config._a[HOUR],config._meridiem);dateFromConfig(config);checkOverflow(config);}
function unescapeFormat(s){return s.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(matched,p1,p2,p3,p4){return p1||p2||p3||p4;});}
function regexpEscape(s){return s.replace(/[-\/\\^$*+?.()|[\]{}]/g,'\\$&');}
function makeDateFromStringAndArray(config){var tempConfig,bestMoment,scoreToBeat,i,currentScore;if(config._f.length===0){config._pf.invalidFormat=true;config._d=new Date(NaN);return;}
for(i=0;i<config._f.length;i++){currentScore=0;tempConfig=copyConfig({},config);if(config._useUTC!=null){tempConfig._useUTC=config._useUTC;}
tempConfig._pf=defaultParsingFlags();tempConfig._f=config._f[i];makeDateFromStringAndFormat(tempConfig);if(!isValid(tempConfig)){continue;}
currentScore+=tempConfig._pf.charsLeftOver;currentScore+=tempConfig._pf.unusedTokens.length*10;tempConfig._pf.score=currentScore;if(scoreToBeat==null||currentScore<scoreToBeat){scoreToBeat=currentScore;bestMoment=tempConfig;}}
extend(config,bestMoment||tempConfig);}
function parseISO(config){var i,l,string=config._i,match=isoRegex.exec(string);if(match){config._pf.iso=true;for(i=0,l=isoDates.length;i<l;i++){if(isoDates[i][1].exec(string)){config._f=isoDates[i][0]+(match[6]||' ');break;}}
for(i=0,l=isoTimes.length;i<l;i++){if(isoTimes[i][1].exec(string)){config._f+=isoTimes[i][0];break;}}
if(string.match(parseTokenTimezone)){config._f+='Z';}
makeDateFromStringAndFormat(config);}else{config._isValid=false;}}
function makeDateFromString(config){parseISO(config);if(config._isValid===false){delete config._isValid;moment.createFromInputFallback(config);}}
function map(arr,fn){var res=[],i;for(i=0;i<arr.length;++i){res.push(fn(arr[i],i));}
return res;}
function makeDateFromInput(config){var input=config._i,matched;if(input===undefined){config._d=new Date();}else if(isDate(input)){config._d=new Date(+input);}else if((matched=aspNetJsonRegex.exec(input))!==null){config._d=new Date(+matched[1]);}else if(typeof input==='string'){makeDateFromString(config);}else if(isArray(input)){config._a=map(input.slice(0),function(obj){return parseInt(obj,10);});dateFromConfig(config);}else if(typeof(input)==='object'){dateFromObject(config);}else if(typeof(input)==='number'){config._d=new Date(input);}else{moment.createFromInputFallback(config);}}
function makeDate(y,m,d,h,M,s,ms){var date=new Date(y,m,d,h,M,s,ms);if(y<1970){date.setFullYear(y);}
return date;}
function makeUTCDate(y){var date=new Date(Date.UTC.apply(null,arguments));if(y<1970){date.setUTCFullYear(y);}
return date;}
function parseWeekday(input,locale){if(typeof input==='string'){if(!isNaN(input)){input=parseInt(input,10);}
else{input=locale.weekdaysParse(input);if(typeof input!=='number'){return null;}}}
return input;}
function substituteTimeAgo(string,number,withoutSuffix,isFuture,locale){return locale.relativeTime(number||1,!!withoutSuffix,string,isFuture);}
function relativeTime(posNegDuration,withoutSuffix,locale){var duration=moment.duration(posNegDuration).abs(),seconds=round(duration.as('s')),minutes=round(duration.as('m')),hours=round(duration.as('h')),days=round(duration.as('d')),months=round(duration.as('M')),years=round(duration.as('y')),args=seconds<relativeTimeThresholds.s&&['s',seconds]||minutes===1&&['m']||minutes<relativeTimeThresholds.m&&['mm',minutes]||hours===1&&['h']||hours<relativeTimeThresholds.h&&['hh',hours]||days===1&&['d']||days<relativeTimeThresholds.d&&['dd',days]||months===1&&['M']||months<relativeTimeThresholds.M&&['MM',months]||years===1&&['y']||['yy',years];args[2]=withoutSuffix;args[3]=+posNegDuration>0;args[4]=locale;return substituteTimeAgo.apply({},args);}
function weekOfYear(mom,firstDayOfWeek,firstDayOfWeekOfYear){var end=firstDayOfWeekOfYear-firstDayOfWeek,daysToDayOfWeek=firstDayOfWeekOfYear-mom.day(),adjustedMoment;if(daysToDayOfWeek>end){daysToDayOfWeek-=7;}
if(daysToDayOfWeek<end-7){daysToDayOfWeek+=7;}
adjustedMoment=moment(mom).add(daysToDayOfWeek,'d');return{week:Math.ceil(adjustedMoment.dayOfYear()/7),year:adjustedMoment.year()};}
function dayOfYearFromWeeks(year,week,weekday,firstDayOfWeekOfYear,firstDayOfWeek){var d=makeUTCDate(year,0,1).getUTCDay(),daysToAdd,dayOfYear;d=d===0?7:d;weekday=weekday!=null?weekday:firstDayOfWeek;daysToAdd=firstDayOfWeek-d+(d>firstDayOfWeekOfYear?7:0)-(d<firstDayOfWeek?7:0);dayOfYear=7*(week-1)+(weekday-firstDayOfWeek)+daysToAdd+1;return{year:dayOfYear>0?year:year-1,dayOfYear:dayOfYear>0?dayOfYear:daysInYear(year-1)+dayOfYear};}
function makeMoment(config){var input=config._i,format=config._f,res;config._locale=config._locale||moment.localeData(config._l);if(input===null||(format===undefined&&input==='')){return moment.invalid({nullInput:true});}
if(typeof input==='string'){config._i=input=config._locale.preparse(input);}
if(moment.isMoment(input)){return new Moment(input,true);}else if(format){if(isArray(format)){makeDateFromStringAndArray(config);}else{makeDateFromStringAndFormat(config);}}else{makeDateFromInput(config);}
res=new Moment(config);if(res._nextDay){res.add(1,'d');res._nextDay=undefined;}
return res;}
moment=function(input,format,locale,strict){var c;if(typeof(locale)==='boolean'){strict=locale;locale=undefined;}
c={};c._isAMomentObject=true;c._i=input;c._f=format;c._l=locale;c._strict=strict;c._isUTC=false;c._pf=defaultParsingFlags();return makeMoment(c);};moment.suppressDeprecationWarnings=false;moment.createFromInputFallback=deprecate('moment construction falls back to js Date. This is '+'discouraged and will be removed in upcoming major '+'release. Please refer to '+'https://github.com/moment/moment/issues/1407 for more info.',function(config){config._d=new Date(config._i+(config._useUTC?' UTC':''));});function pickBy(fn,moments){var res,i;if(moments.length===1&&isArray(moments[0])){moments=moments[0];}
if(!moments.length){return moment();}
res=moments[0];for(i=1;i<moments.length;++i){if(moments[i][fn](res)){res=moments[i];}}
return res;}
moment.min=function(){var args=[].slice.call(arguments,0);return pickBy('isBefore',args);};moment.max=function(){var args=[].slice.call(arguments,0);return pickBy('isAfter',args);};moment.utc=function(input,format,locale,strict){var c;if(typeof(locale)==='boolean'){strict=locale;locale=undefined;}
c={};c._isAMomentObject=true;c._useUTC=true;c._isUTC=true;c._l=locale;c._i=input;c._f=format;c._strict=strict;c._pf=defaultParsingFlags();return makeMoment(c).utc();};moment.unix=function(input){return moment(input*1000);};moment.duration=function(input,key){var duration=input,match=null,sign,ret,parseIso,diffRes;if(moment.isDuration(input)){duration={ms:input._milliseconds,d:input._days,M:input._months};}else if(typeof input==='number'){duration={};if(key){duration[key]=input;}else{duration.milliseconds=input;}}else if(!!(match=aspNetTimeSpanJsonRegex.exec(input))){sign=(match[1]==='-')?-1:1;duration={y:0,d:toInt(match[DATE])*sign,h:toInt(match[HOUR])*sign,m:toInt(match[MINUTE])*sign,s:toInt(match[SECOND])*sign,ms:toInt(match[MILLISECOND])*sign};}else if(!!(match=isoDurationRegex.exec(input))){sign=(match[1]==='-')?-1:1;parseIso=function(inp){var res=inp&&parseFloat(inp.replace(',','.'));return(isNaN(res)?0:res)*sign;};duration={y:parseIso(match[2]),M:parseIso(match[3]),d:parseIso(match[4]),h:parseIso(match[5]),m:parseIso(match[6]),s:parseIso(match[7]),w:parseIso(match[8])};}else if(duration==null){duration={};}else if(typeof duration==='object'&&('from'in duration||'to'in duration)){diffRes=momentsDifference(moment(duration.from),moment(duration.to));duration={};duration.ms=diffRes.milliseconds;duration.M=diffRes.months;}
ret=new Duration(duration);if(moment.isDuration(input)&&hasOwnProp(input,'_locale')){ret._locale=input._locale;}
return ret;};moment.version=VERSION;moment.defaultFormat=isoFormat;moment.ISO_8601=function(){};moment.momentProperties=momentProperties;moment.updateOffset=function(){};moment.relativeTimeThreshold=function(threshold,limit){if(relativeTimeThresholds[threshold]===undefined){return false;}
if(limit===undefined){return relativeTimeThresholds[threshold];}
relativeTimeThresholds[threshold]=limit;return true;};moment.lang=deprecate('moment.lang is deprecated. Use moment.locale instead.',function(key,value){return moment.locale(key,value);});moment.locale=function(key,values){var data;if(key){if(typeof(values)!=='undefined'){data=moment.defineLocale(key,values);}
else{data=moment.localeData(key);}
if(data){moment.duration._locale=moment._locale=data;}}
return moment._locale._abbr;};moment.defineLocale=function(name,values){if(values!==null){values.abbr=name;if(!locales[name]){locales[name]=new Locale();}
locales[name].set(values);moment.locale(name);return locales[name];}else{delete locales[name];return null;}};moment.langData=deprecate('moment.langData is deprecated. Use moment.localeData instead.',function(key){return moment.localeData(key);});moment.localeData=function(key){var locale;if(key&&key._locale&&key._locale._abbr){key=key._locale._abbr;}
if(!key){return moment._locale;}
if(!isArray(key)){locale=loadLocale(key);if(locale){return locale;}
key=[key];}
return chooseLocale(key);};moment.isMoment=function(obj){return obj instanceof Moment||(obj!=null&&hasOwnProp(obj,'_isAMomentObject'));};moment.isDuration=function(obj){return obj instanceof Duration;};for(i=lists.length-1;i>=0;--i){makeList(lists[i]);}
moment.normalizeUnits=function(units){return normalizeUnits(units);};moment.invalid=function(flags){var m=moment.utc(NaN);if(flags!=null){extend(m._pf,flags);}
else{m._pf.userInvalidated=true;}
return m;};moment.parseZone=function(){return moment.apply(null,arguments).parseZone();};moment.parseTwoDigitYear=function(input){return toInt(input)+(toInt(input)>68?1900:2000);};moment.isDate=isDate;extend(moment.fn=Moment.prototype,{clone:function(){return moment(this);},valueOf:function(){return+this._d-((this._offset||0)*60000);},unix:function(){return Math.floor(+this/1000);},toString:function(){return this.clone().locale('en').format('ddd MMM DD YYYY HH:mm:ss [GMT]ZZ');},toDate:function(){return this._offset?new Date(+this):this._d;},toISOString:function(){var m=moment(this).utc();if(0<m.year()&&m.year()<=9999){if('function'===typeof Date.prototype.toISOString){return this.toDate().toISOString();}else{return formatMoment(m,'YYYY-MM-DD[T]HH:mm:ss.SSS[Z]');}}else{return formatMoment(m,'YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]');}},toArray:function(){var m=this;return[m.year(),m.month(),m.date(),m.hours(),m.minutes(),m.seconds(),m.milliseconds()];},isValid:function(){return isValid(this);},isDSTShifted:function(){if(this._a){return this.isValid()&&compareArrays(this._a,(this._isUTC?moment.utc(this._a):moment(this._a)).toArray())>0;}
return false;},parsingFlags:function(){return extend({},this._pf);},invalidAt:function(){return this._pf.overflow;},utc:function(keepLocalTime){return this.utcOffset(0,keepLocalTime);},local:function(keepLocalTime){if(this._isUTC){this.utcOffset(0,keepLocalTime);this._isUTC=false;if(keepLocalTime){this.subtract(this._dateUtcOffset(),'m');}}
return this;},format:function(inputString){var output=formatMoment(this,inputString||moment.defaultFormat);return this.localeData().postformat(output);},add:createAdder(1,'add'),subtract:createAdder(-1,'subtract'),diff:function(input,units,asFloat){var that=makeAs(input,this),zoneDiff=(that.utcOffset()-this.utcOffset())*6e4,anchor,diff,output,daysAdjust;units=normalizeUnits(units);if(units==='year'||units==='month'||units==='quarter'){output=monthDiff(this,that);if(units==='quarter'){output=output/3;}else if(units==='year'){output=output/12;}}else{diff=this-that;output=units==='second'?diff/1e3:units==='minute'?diff/6e4:units==='hour'?diff/36e5:units==='day'?(diff-zoneDiff)/864e5:units==='week'?(diff-zoneDiff)/6048e5:diff;}
return asFloat?output:absRound(output);},from:function(time,withoutSuffix){return moment.duration({to:this,from:time}).locale(this.locale()).humanize(!withoutSuffix);},fromNow:function(withoutSuffix){return this.from(moment(),withoutSuffix);},calendar:function(time){var now=time||moment(),sod=makeAs(now,this).startOf('day'),diff=this.diff(sod,'days',true),format=diff<-6?'sameElse':diff<-1?'lastWeek':diff<0?'lastDay':diff<1?'sameDay':diff<2?'nextDay':diff<7?'nextWeek':'sameElse';return this.format(this.localeData().calendar(format,this,moment(now)));},isLeapYear:function(){return isLeapYear(this.year());},isDST:function(){return(this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset());},day:function(input){var day=this._isUTC?this._d.getUTCDay():this._d.getDay();if(input!=null){input=parseWeekday(input,this.localeData());return this.add(input-day,'d');}else{return day;}},month:makeAccessor('Month',true),startOf:function(units){units=normalizeUnits(units);switch(units){case'year':this.month(0);case'quarter':case'month':this.date(1);case'week':case'isoWeek':case'day':this.hours(0);case'hour':this.minutes(0);case'minute':this.seconds(0);case'second':this.milliseconds(0);}
if(units==='week'){this.weekday(0);}else if(units==='isoWeek'){this.isoWeekday(1);}
if(units==='quarter'){this.month(Math.floor(this.month()/3)*3);}
return this;},endOf:function(units){units=normalizeUnits(units);if(units===undefined||units==='millisecond'){return this;}
return this.startOf(units).add(1,(units==='isoWeek'?'week':units)).subtract(1,'ms');},isAfter:function(input,units){var inputMs;units=normalizeUnits(typeof units!=='undefined'?units:'millisecond');if(units==='millisecond'){input=moment.isMoment(input)?input:moment(input);return+this>+input;}else{inputMs=moment.isMoment(input)?+input:+moment(input);return inputMs<+this.clone().startOf(units);}},isBefore:function(input,units){var inputMs;units=normalizeUnits(typeof units!=='undefined'?units:'millisecond');if(units==='millisecond'){input=moment.isMoment(input)?input:moment(input);return+this<+input;}else{inputMs=moment.isMoment(input)?+input:+moment(input);return+this.clone().endOf(units)<inputMs;}},isBetween:function(from,to,units){return this.isAfter(from,units)&&this.isBefore(to,units);},isSame:function(input,units){var inputMs;units=normalizeUnits(units||'millisecond');if(units==='millisecond'){input=moment.isMoment(input)?input:moment(input);return+this===+input;}else{inputMs=+moment(input);return+(this.clone().startOf(units))<=inputMs&&inputMs<=+(this.clone().endOf(units));}},min:deprecate('moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548',function(other){other=moment.apply(null,arguments);return other<this?this:other;}),max:deprecate('moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548',function(other){other=moment.apply(null,arguments);return other>this?this:other;}),zone:deprecate('moment().zone is deprecated, use moment().utcOffset instead. '+'https://github.com/moment/moment/issues/1779',function(input,keepLocalTime){if(input!=null){if(typeof input!=='string'){input=-input;}
this.utcOffset(input,keepLocalTime);return this;}else{return-this.utcOffset();}}),utcOffset:function(input,keepLocalTime){var offset=this._offset||0,localAdjust;if(input!=null){if(typeof input==='string'){input=utcOffsetFromString(input);}
if(Math.abs(input)<16){input=input*60;}
if(!this._isUTC&&keepLocalTime){localAdjust=this._dateUtcOffset();}
this._offset=input;this._isUTC=true;if(localAdjust!=null){this.add(localAdjust,'m');}
if(offset!==input){if(!keepLocalTime||this._changeInProgress){addOrSubtractDurationFromMoment(this,moment.duration(input-offset,'m'),1,false);}else if(!this._changeInProgress){this._changeInProgress=true;moment.updateOffset(this,true);this._changeInProgress=null;}}
return this;}else{return this._isUTC?offset:this._dateUtcOffset();}},isLocal:function(){return!this._isUTC;},isUtcOffset:function(){return this._isUTC;},isUtc:function(){return this._isUTC&&this._offset===0;},zoneAbbr:function(){return this._isUTC?'UTC':'';},zoneName:function(){return this._isUTC?'Coordinated Universal Time':'';},parseZone:function(){if(this._tzm){this.utcOffset(this._tzm);}else if(typeof this._i==='string'){this.utcOffset(utcOffsetFromString(this._i));}
return this;},hasAlignedHourOffset:function(input){if(!input){input=0;}
else{input=moment(input).utcOffset();}
return(this.utcOffset()-input)%60===0;},daysInMonth:function(){return daysInMonth(this.year(),this.month());},dayOfYear:function(input){var dayOfYear=round((moment(this).startOf('day')-moment(this).startOf('year'))/864e5)+1;return input==null?dayOfYear:this.add((input-dayOfYear),'d');},quarter:function(input){return input==null?Math.ceil((this.month()+1)/3):this.month((input-1)*3+this.month()%3);},weekYear:function(input){var year=weekOfYear(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return input==null?year:this.add((input-year),'y');},isoWeekYear:function(input){var year=weekOfYear(this,1,4).year;return input==null?year:this.add((input-year),'y');},week:function(input){var week=this.localeData().week(this);return input==null?week:this.add((input-week)*7,'d');},isoWeek:function(input){var week=weekOfYear(this,1,4).week;return input==null?week:this.add((input-week)*7,'d');},weekday:function(input){var weekday=(this.day()+7-this.localeData()._week.dow)%7;return input==null?weekday:this.add(input-weekday,'d');},isoWeekday:function(input){return input==null?this.day()||7:this.day(this.day()%7?input:input-7);},isoWeeksInYear:function(){return weeksInYear(this.year(),1,4);},weeksInYear:function(){var weekInfo=this.localeData()._week;return weeksInYear(this.year(),weekInfo.dow,weekInfo.doy);},get:function(units){units=normalizeUnits(units);return this[units]();},set:function(units,value){var unit;if(typeof units==='object'){for(unit in units){this.set(unit,units[unit]);}}
else{units=normalizeUnits(units);if(typeof this[units]==='function'){this[units](value);}}
return this;},locale:function(key){var newLocaleData;if(key===undefined){return this._locale._abbr;}else{newLocaleData=moment.localeData(key);if(newLocaleData!=null){this._locale=newLocaleData;}
return this;}},lang:deprecate('moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.',function(key){if(key===undefined){return this.localeData();}else{return this.locale(key);}}),localeData:function(){return this._locale;},_dateUtcOffset:function(){return-Math.round(this._d.getTimezoneOffset()/15)*15;}});function rawMonthSetter(mom,value){var dayOfMonth;if(typeof value==='string'){value=mom.localeData().monthsParse(value);if(typeof value!=='number'){return mom;}}
dayOfMonth=Math.min(mom.date(),daysInMonth(mom.year(),value));mom._d['set'+(mom._isUTC?'UTC':'')+'Month'](value,dayOfMonth);return mom;}
function rawGetter(mom,unit){return mom._d['get'+(mom._isUTC?'UTC':'')+unit]();}
function rawSetter(mom,unit,value){if(unit==='Month'){return rawMonthSetter(mom,value);}else{return mom._d['set'+(mom._isUTC?'UTC':'')+unit](value);}}
function makeAccessor(unit,keepTime){return function(value){if(value!=null){rawSetter(this,unit,value);moment.updateOffset(this,keepTime);return this;}else{return rawGetter(this,unit);}};}
moment.fn.millisecond=moment.fn.milliseconds=makeAccessor('Milliseconds',false);moment.fn.second=moment.fn.seconds=makeAccessor('Seconds',false);moment.fn.minute=moment.fn.minutes=makeAccessor('Minutes',false);moment.fn.hour=moment.fn.hours=makeAccessor('Hours',true);moment.fn.date=makeAccessor('Date',true);moment.fn.dates=deprecate('dates accessor is deprecated. Use date instead.',makeAccessor('Date',true));moment.fn.year=makeAccessor('FullYear',true);moment.fn.years=deprecate('years accessor is deprecated. Use year instead.',makeAccessor('FullYear',true));moment.fn.days=moment.fn.day;moment.fn.months=moment.fn.month;moment.fn.weeks=moment.fn.week;moment.fn.isoWeeks=moment.fn.isoWeek;moment.fn.quarters=moment.fn.quarter;moment.fn.toJSON=moment.fn.toISOString;moment.fn.isUTC=moment.fn.isUtc;function daysToYears(days){return days*400/146097;}
function yearsToDays(years){return years*146097/400;}
extend(moment.duration.fn=Duration.prototype,{_bubble:function(){var milliseconds=this._milliseconds,days=this._days,months=this._months,data=this._data,seconds,minutes,hours,years=0;data.milliseconds=milliseconds%1000;seconds=absRound(milliseconds/1000);data.seconds=seconds%60;minutes=absRound(seconds/60);data.minutes=minutes%60;hours=absRound(minutes/60);data.hours=hours%24;days+=absRound(hours/24);years=absRound(daysToYears(days));days-=absRound(yearsToDays(years));months+=absRound(days/30);days%=30;years+=absRound(months/12);months%=12;data.days=days;data.months=months;data.years=years;},abs:function(){this._milliseconds=Math.abs(this._milliseconds);this._days=Math.abs(this._days);this._months=Math.abs(this._months);this._data.milliseconds=Math.abs(this._data.milliseconds);this._data.seconds=Math.abs(this._data.seconds);this._data.minutes=Math.abs(this._data.minutes);this._data.hours=Math.abs(this._data.hours);this._data.months=Math.abs(this._data.months);this._data.years=Math.abs(this._data.years);return this;},weeks:function(){return absRound(this.days()/7);},valueOf:function(){return this._milliseconds+
this._days*864e5+
(this._months%12)*2592e6+
toInt(this._months/12)*31536e6;},humanize:function(withSuffix){var output=relativeTime(this,!withSuffix,this.localeData());if(withSuffix){output=this.localeData().pastFuture(+this,output);}
return this.localeData().postformat(output);},add:function(input,val){var dur=moment.duration(input,val);this._milliseconds+=dur._milliseconds;this._days+=dur._days;this._months+=dur._months;this._bubble();return this;},subtract:function(input,val){var dur=moment.duration(input,val);this._milliseconds-=dur._milliseconds;this._days-=dur._days;this._months-=dur._months;this._bubble();return this;},get:function(units){units=normalizeUnits(units);return this[units.toLowerCase()+'s']();},as:function(units){var days,months;units=normalizeUnits(units);if(units==='month'||units==='year'){days=this._days+this._milliseconds/864e5;months=this._months+daysToYears(days)*12;return units==='month'?months:months/12;}else{days=this._days+Math.round(yearsToDays(this._months/12));switch(units){case'week':return days/7+this._milliseconds/6048e5;case'day':return days+this._milliseconds/864e5;case'hour':return days*24+this._milliseconds/36e5;case'minute':return days*24*60+this._milliseconds/6e4;case'second':return days*24*60*60+this._milliseconds/1000;case'millisecond':return Math.floor(days*24*60*60*1000)+this._milliseconds;default:throw new Error('Unknown unit '+units);}}},lang:moment.fn.lang,locale:moment.fn.locale,toIsoString:deprecate('toIsoString() is deprecated. Please use toISOString() instead '+'(notice the capitals)',function(){return this.toISOString();}),toISOString:function(){var years=Math.abs(this.years()),months=Math.abs(this.months()),days=Math.abs(this.days()),hours=Math.abs(this.hours()),minutes=Math.abs(this.minutes()),seconds=Math.abs(this.seconds()+this.milliseconds()/1000);if(!this.asSeconds()){return'P0D';}
return(this.asSeconds()<0?'-':'')+'P'+
(years?years+'Y':'')+
(months?months+'M':'')+
(days?days+'D':'')+
((hours||minutes||seconds)?'T':'')+
(hours?hours+'H':'')+
(minutes?minutes+'M':'')+
(seconds?seconds+'S':'');},localeData:function(){return this._locale;},toJSON:function(){return this.toISOString();}});moment.duration.fn.toString=moment.duration.fn.toISOString;function makeDurationGetter(name){moment.duration.fn[name]=function(){return this._data[name];};}
for(i in unitMillisecondFactors){if(hasOwnProp(unitMillisecondFactors,i)){makeDurationGetter(i.toLowerCase());}}
moment.duration.fn.asMilliseconds=function(){return this.as('ms');};moment.duration.fn.asSeconds=function(){return this.as('s');};moment.duration.fn.asMinutes=function(){return this.as('m');};moment.duration.fn.asHours=function(){return this.as('h');};moment.duration.fn.asDays=function(){return this.as('d');};moment.duration.fn.asWeeks=function(){return this.as('weeks');};moment.duration.fn.asMonths=function(){return this.as('M');};moment.duration.fn.asYears=function(){return this.as('y');};moment.locale('en',{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(number){var b=number%10,output=(toInt(number%100/10)===1)?'th':(b===1)?'st':(b===2)?'nd':(b===3)?'rd':'th';return number+output;}});function makeGlobal(shouldDeprecate){if(typeof ender!=='undefined'){return;}
oldGlobalMoment=globalScope.moment;if(shouldDeprecate){globalScope.moment=deprecate('Accessing Moment through the global scope is '+'deprecated, and will be removed in an upcoming '+'release.',moment);}else{globalScope.moment=moment;}}
if(hasModule){module.exports=moment;}else if(typeof define==='function'&&define.amd){define(function(require,exports,module){if(module.config&&module.config()&&module.config().noGlobal===true){globalScope.moment=oldGlobalMoment;}
return moment;});makeGlobal(true);}else{makeGlobal();}}).call(this);(function(factory){if(typeof define==='function'&&define.amd){define(['moment'],factory);}else if(typeof exports==='object'){module.exports=factory(require('../moment'));}else{factory((typeof global!=='undefined'?global:this).moment);}}(function(moment){return moment.defineLocale('pt-br',{months:'janeiro_fevereiro_marÃ§o_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro'.split('_'),monthsShort:'jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez'.split('_'),weekdays:'domingo_segunda-feira_terÃ§a-feira_quarta-feira_quinta-feira_sexta-feira_sÃ¡bado'.split('_'),weekdaysShort:'dom_seg_ter_qua_qui_sex_sÃ¡b'.split('_'),weekdaysMin:'dom_2Âª_3Âª_4Âª_5Âª_6Âª_sÃ¡b'.split('_'),longDateFormat:{LT:'HH:mm',LTS:'LT:ss',L:'DD/MM/YYYY',LL:'D [de] MMMM [de] YYYY',LLL:'D [de] MMMM [de] YYYY [Ã s] LT',LLLL:'dddd, D [de] MMMM [de] YYYY [Ã s] LT'},calendar:{sameDay:'[Hoje Ã s] LT',nextDay:'[AmanhÃ£ Ã s] LT',nextWeek:'dddd [Ã s] LT',lastDay:'[Ontem Ã s] LT',lastWeek:function(){return(this.day()===0||this.day()===6)?'[Ãltimo] dddd [Ã s] LT':'[Ãltima] dddd [Ã s] LT';},sameElse:'L'},relativeTime:{future:'em %s',past:'hÃ¡ %s',s:'segundos',m:'um minuto',mm:'%d minutos',h:'uma hora',hh:'%d horas',d:'um dia',dd:'%d dias',M:'um mÃªs',MM:'%d meses',y:'um ano',yy:'%d anos'},ordinalParse:/\d{1,2}Âº/,ordinal:'%dÂº'});}));(function(){var $body,$document,$html,$window,ReguaNavegacaoBusca,shouldNotAutoLoad,bind=function(fn,me){return function(){return fn.apply(me,arguments);};};$window=$(window);$document=$(document);$html=$("html");$body=$("body");ReguaNavegacaoBusca=(function(){function ReguaNavegacaoBusca(){this.suggestLoader=bind(this.suggestLoader,this);this.submitForm=bind(this.submitForm,this);this.preSuggest=bind(this.preSuggest,this);this.eventTyping=bind(this.eventTyping,this);this.eventClose=bind(this.eventClose,this);this.eventOpen=bind(this.eventOpen,this);this.buscaClose=bind(this.buscaClose,this);this.buscaOpen=bind(this.buscaOpen,this);this.formAction=bind(this.formAction,this);this.scrolled=bind(this.scrolled,this);this.trackBlurTouchStart=bind(this.trackBlurTouchStart,this);this.blurOnTouchStart=bind(this.blurOnTouchStart,this);this.init=bind(this.init,this);if(window.glb.currentReguaNavegacao!=null){this.init();}else{this.waitForReguaNavegacaoToInit((function(_this){return function(){return _this.init();};})(this));}}
ReguaNavegacaoBusca.prototype.cacheVariables=function(){this.regua=$('#regua-navegacao');this.aba=$('#regua-tab-busca');this.search_header=this.aba.find('.regua-search-header');this.search_form=this.aba.find('.regua-search-form');this.search_input=this.aba.find('.regua-search-input');this.search_button_go=this.aba.find('.search-button-go');this.search_buttons=this.aba.find('.regua-search-buttons-container');this.search_clear_button=this.aba.find('.regua-search-clear-button');this.suggest=this.aba.find('.regua-suggest');this.container_results=this.aba.find('.regua-container-search-body');this.pre_suggest=this.aba.find('.regua-pre-suggest');this.container_suggest=this.aba.find('.regua-container-suggest');this.settings=window.REGUA_SETTINGS;this.touchstart=0;return this.posTop=0;};ReguaNavegacaoBusca.prototype.init=function(){if(this.initCalled){return;}
this.cacheVariables();this.aba.detach().prependTo($body);this.eventOpen();this.eventClose();this.eventTyping();this.preSuggest();this.formAction();this.bind();this.scrolled();this.hideReguaOnFocus();return this.blurOnTouchStart();};ReguaNavegacaoBusca.prototype.blurOnTouchStart=function(){return this.aba.on('touchstart',this.trackBlurTouchStart);};ReguaNavegacaoBusca.prototype.trackBlurTouchStart=function(){return this.search_input.blur();};ReguaNavegacaoBusca.prototype.waitForReguaNavegacaoToInit=function(callback){return $document.on("glb.regua.init",callback);};ReguaNavegacaoBusca.prototype.getUserAgent=function(){if(window.getUserAgent){return window.getUserAgent();}
return window.navigator.userAgent;};ReguaNavegacaoBusca.prototype.isAndroid=function(){var ua;ua=this.getUserAgent();if(ua.match(/(Android)/g)){return true;}
return false;};ReguaNavegacaoBusca.prototype.isOnApp=function(){return $html.hasClass("glb-on-app");};ReguaNavegacaoBusca.prototype.hideReguaOnFocus=function(){if(this.isAndroid()&&!this.isOnApp()){this.search_input.on('focus',(function(_this){return function(){return setTimeout(function(){return $html.addClass('regua-slide-down');});};})(this));return this.search_input.on('blur',(function(_this){return function(){return $html.removeClass('regua-slide-down');};})(this));}};ReguaNavegacaoBusca.prototype.bind=function(){this.search_button_go.on("click",(function(_this){return function(e){var query;query=_this.search_input.val();_this.submitForm(query);return false;};})(this));return this.search_form.on("submit",(function(_this){return function(){var query;query=_this.search_input.val();return $document.trigger("glb.busca.searched",[query]);};})(this));};ReguaNavegacaoBusca.prototype.scrolled=function(){var scrolledEvent;scrolledEvent=(function(_this){return function(){var distance;_this.search_input.blur();distance=_this.container_results.scrollTop();if(distance>10){_this.search_header.addClass('scrolled');}else{_this.search_header.removeClass('scrolled');}};})(this);this.container_results.on("touchmove",scrolledEvent);return this.container_results.on("scroll",scrolledEvent);};ReguaNavegacaoBusca.prototype.formAction=function(){var buscaPath,portal;portal=this.settings.portalHome;if(portal){buscaPath='busca/';return this.aba.find('form').attr('action',portal+buscaPath);}};ReguaNavegacaoBusca.prototype.isIosGreaterThanSeven=function(){return!!navigator.userAgent.match(/(iPad|iPhone);.*CPU.*OS [8-9]_\d/i);};ReguaNavegacaoBusca.prototype.buscaOpen=function(){return this.aba.addClass('regua-busca-open');};ReguaNavegacaoBusca.prototype.buscaClose=function(){return this.aba.removeClass('regua-busca-open');};ReguaNavegacaoBusca.prototype.eventOpen=function(){var open;open=(function(_this){return function(){_this.buscaOpen();return false;};})(this);return $document.on("glb.busca.open",open);};ReguaNavegacaoBusca.prototype.eventClose=function(){var close;close=(function(_this){return function(){_this.buscaClose();return false;};})(this);return $document.on("glb.busca.close",close);};ReguaNavegacaoBusca.prototype.eventTyping=function(){var keyup;keyup=(function(_this){return function(e){var query;query=_this.search_input.val();if(query.length||e.keycode){_this.search_buttons.addClass('animate');_this.suggestLoader(query);return _this.search_clear_button.on('click',function(){_this.search_input.val('');_this.search_buttons.removeClass('animate');_this.pre_suggest.fadeIn('fast');return _this.container_suggest.hide();});}else{_this.search_buttons.removeClass('animate');_this.pre_suggest.fadeIn('fast');return _this.container_suggest.hide();}};})(this);return this.search_input.on('keyup paste cut input',keyup);};ReguaNavegacaoBusca.prototype.preSuggest=function(){var portal,suggestUrl,urlQuery;portal=this.settings.portalName;if(portal==='famosos'){portal='ego';}
urlQuery=portal||'g1';suggestUrl=this.settings.suggestUrl||"";if(suggestUrl.length){suggestjs.init({prioritarios:[urlQuery],dominio:this.settings.suggestUrl.replace(/.*?:\/\//g,"")});}else{suggestjs.init({prioritarios:[urlQuery]});}
suggestjs.preSuggest(10,(function(_this){return function(data){var content,htmlOut,i;htmlOut='';htmlOut+='<li class="regua-list-label">mais buscados:</li>';i=0;while(i<data.length){content=data[i];htmlOut+="<li class=\"pre-suggest-item\">";htmlOut+="<a href=\"#\" class=\"regua-pre-suggest-item-link\">";htmlOut+="<div class=\"regua-table\">";htmlOut+="<div class=\"regua-table-cell pre-suggest-icon-container\">";htmlOut+="<svg class=\"regua-pre-suggest-icon\"><use xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#eixo-icone-busca\"></use></svg>";htmlOut+="</div>";htmlOut+="<div class=\"regua-table-cell regua-pre-suggest-text-container\">";htmlOut+="<div class=\"regua-pre-suggest-text\">"+content.term+"</div>";htmlOut+="</div></div></a></li>";i++;}
_this.pre_suggest.fadeIn('fast');_this.pre_suggest.html(htmlOut);return $('.regua-pre-suggest-item-link').on("click",function(e){var term;term=$(e.target).text();_this.submitForm(term);return false;});};})(this));};ReguaNavegacaoBusca.prototype.submitForm=function(query){if(query!==''){this.search_input.val(query);this.search_form.submit();}else{this.search_form.submit();}
return false;};ReguaNavegacaoBusca.prototype.suggestLoader=function(query){suggestjs.suggest(query,{suggestions:7,featured_contents:3},(function(_this){return function(response){var content,htmlOut,i,primary_product,secondary_product;htmlOut='';i=0;while(i<response.featured_content.length){content=response.featured_content[i];if(content.publisher){primary_product='regua-suggest-nav-'+content.publisher;}else{primary_product='';}
if(content.product){secondary_product='regua-suggest-nav-'+content.product;}else{secondary_product='';}
htmlOut+='<li class="'+primary_product.toLowerCase()+' '+secondary_product.toLowerCase()+'">';htmlOut+='<a class="feature-content-link regua-nav-item-link" href="'+content.url+'">';htmlOut+='<div class="regua-table">';htmlOut+='<div class="regua-table-cell regua-suggest-icon-container">';htmlOut+='<div class="regua-icon-block regua-nav-icon-block">';htmlOut+='<svg class="regua-navegacao-icon">';htmlOut+='<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#eixo-icone-busca"></use>';htmlOut+='</svg>';htmlOut+='</div>';htmlOut+='</div>';htmlOut+='<div class="regua-table-cell regua-suggest-text-container">';htmlOut+='<div class="regua-suggest-nav-text">'+content.term+'</div>';htmlOut+='<div class="regua-suggest-nav-desc">em <span class="regua-parent">'+content.parent+'</span></div>';htmlOut+='</div></div></a></li>';i++;}
i=0;while(i<response.suggestions.length){content=response.suggestions[i];htmlOut+='<li class="regua-suggest-item">';htmlOut+='<a class="regua-suggest-link-result regua-pre-suggest-item-link" href="#">';htmlOut+='<div class="regua-table">';htmlOut+='<div class="regua-table-cell regua-suggest-icon-container">';htmlOut+='<div class="regua-icon-block regua-nav-icon-block">';htmlOut+='<svg class="regua-navegacao-icon">';htmlOut+='<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#eixo-icone-busca"></use>';htmlOut+='</svg>';htmlOut+='</div>';htmlOut+='</div>';htmlOut+='<div class="regua-table-cell regua-suggest-text-container">';htmlOut+='<div class="regua-suggest-text">'+content.term+'</div>';htmlOut+='</div></div></a></li>';i++;}
htmlOut+='<li class="regua-suggest-item">';htmlOut+='<a class="regua-pre-suggest-item-link regua-suggest-link-result-single" href="#">';htmlOut+='<div class="regua-table">';htmlOut+='<div class="regua-table-cell regua-suggest-icon-container">';htmlOut+='<div class="regua-icon-block">';htmlOut+='<svg class="regua-navegacao-icon">';htmlOut+='<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#eixo-icone-busca"></use>';htmlOut+='</svg>';htmlOut+='</div>';htmlOut+='</div>';htmlOut+='<div class="regua-table-cell suggest-text-container">';htmlOut+='<div class="regua-suggest-text regua-suggest-search-by"><span>buscar por</span> <span class="regua-suggest-search-by-term">'+query+'</span></div>';htmlOut+='</div></div></a></li>';if(query.length>=2){_this.pre_suggest.hide();_this.search_buttons.addClass('animate');_this.container_suggest.fadeIn('fast');_this.suggest.html(htmlOut);$(window).scrollTop(0);$('.regua-suggest-link-result-single').on("click",function(e){var term;term=$(e.currentTarget).find('.regua-suggest-search-by-term').text();_this.submitForm(term);return false;});$('.regua-suggest-link-result').on("click",function(e){var term;term=$(e.currentTarget).text();_this.submitForm(term);return false;});_this.aba.find('.feature-content-link').on("click",function(){var link;link=$(this).attr("href").trim();return $document.trigger("glb.busca.featureContent",[link]);});}};})(this));};return ReguaNavegacaoBusca;})();window.glb=window.glb||{};window.glb.ReguaNavegacaoBusca=ReguaNavegacaoBusca;window.loadReguaBusca=function(){if($html.hasClass("has-regua")){return window.glb.currentReguaNavegacaoBusca=new window.glb.ReguaNavegacaoBusca();}};shouldNotAutoLoad=(window.noAutoLoadReguaNavegacao!=null)&&window.noAutoLoadReguaNavegacao;if(!shouldNotAutoLoad){window.loadReguaBusca();}}).call(this);(function(){var $body,$document,$html,$window,ReguaNavegacao,debounce,html,shouldNotAutoLoad,bind=function(fn,me){return function(){return fn.apply(me,arguments);};};$window=$(window);$document=$(document);$html=$("html");html=$html[0];$body=$("body");debounce=function(func,wait,immediate){var timeout;timeout=null;return function(){var args,callNow,context,later;context=this;args=arguments;later=function(){timeout=null;if(!immediate){return func.apply(context,args);}};callNow=immediate&&!timeout;clearTimeout(timeout);timeout=setTimeout(later,wait);if(callNow){return func.apply(context,args);}};};ReguaNavegacao=(function(){function ReguaNavegacao(isTouchable){this.isTouchable=isTouchable;this.changeCurrentActiveItem=bind(this.changeCurrentActiveItem,this);this.addClass=window.glb.addClass;this.removeClass=window.glb.removeClass;this.hasClass=window.glb.hasClass;this.cacheVariables();this.getSvg();this.changeDom();this.aplicarEventosNaRegua();this.bind();this.refresh();this.setVersion();this.triggerReguaInit();}
ReguaNavegacao.prototype.setVersion=function(){return this.version="1.3.3";};ReguaNavegacao.prototype.cacheVariables=function(){this.settings=window.REGUA_SETTINGS;this.container=$('#regua-navegacao');this.reguaNavegacaoFooterHtml="<div class=\"regua-navegacao-footer\"></div>";this.portal={name:this.settings!=null?this.settings.portalName:"",home:this.settings!=null?this.trimUrl(this.settings.portalHome):""};this.svgSpriteName=this.settings.svgSpriteName;this.svgSpritePath=this.settings.staticUrl+"regua-navegacao/img/sprites/"+this.svgSpriteName;this.elements={};this.elements.svgContainer=$('#regua-svg-container');this.elements.reguaLista=this.container.find('.regua-lista');this.elements.reguaListaItems=this.elements.reguaLista.find('.regua-navegacao-item');this.elements.reguaListaLinks=this.elements.reguaListaItems.find('.regua-navegacao-link');this.elements.homeItem=this.elements.reguaListaItems.first();this.elements.activeItem=this.elements.homeItem[0];this.createReguaListaMap();this.homeScroll=0;this.heights={container:this.container.outerHeight(true)};this.numberOfItens=this.elements.reguaListaItems.length;this.itemIsActive="home";this.isIOS=/(iPad|iPhone|iPod)/g.test(window.navigator.userAgent);this.isIphone6Plus=this.isIOS&&(window.innerWidth===414&&window.isPortrait||window.innerWidth===736&&!window.isPortrait);this.reguaCacheKey="regua-sprite-svg";};ReguaNavegacao.prototype.createReguaListaMap=function(){var i,len,listaItem,ref,results;this.elements.reguaListaMap={};ref=this.elements.reguaListaItems;results=[];for(i=0,len=ref.length;i<len;i++){listaItem=ref[i];results.push(this.elements.reguaListaMap[listaItem.id]=listaItem);}
return results;};ReguaNavegacao.prototype.createStyleSheet=function(){var style;if(this.style){$(this.style).remove();}
style=document.createElement("style");style.setAttribute("media","screen");style.appendChild(document.createTextNode(""));style.className="regua-navegaca-extra-styles";document.head.appendChild(style);this.style=style;return this.sheet=style.sheet;};ReguaNavegacao.prototype.refreshIsPortrait=function(){window.isPortrait=window.innerWidth<=window.innerHeight;return this.isLandscape=!window.isPortrait;};ReguaNavegacao.prototype.refreshAbsPosition=function(){this.heights.window=window.innerHeight;if(this.isIphone6Plus&&this.isLandscape){return this.container.css({'position':'absolute','top':(this.heights.window+$window.scrollTop()-this.heights.container)+"px"});}else{return this.container.css({'position':'','top':''});}};ReguaNavegacao.prototype.refresh=function(){this.refreshIsPortrait();return this.refreshAbsPosition();};ReguaNavegacao.prototype.bind=function(){$window.on("resize",debounce((function(_this){return function(){return _this.refresh();};})(this),250));return $window.on("scroll",(function(_this){return function(){return _this.refreshAbsPosition();};})(this));};ReguaNavegacao.prototype.getSvg=function(){var addSpriteNameToCache,checkSpriteNameInCache,writeSvgInline;addSpriteNameToCache=(function(_this){return function(){var record;record=localStorage.getItem(_this.reguaCacheKey);if(!record){return;}
record=JSON.parse(record);record.spriteName=_this.svgSpriteName;localStorage.setItem(_this.reguaCacheKey,JSON.stringify(record));};})(this);checkSpriteNameInCache=(function(_this){return function(){var record;record=localStorage.getItem(_this.reguaCacheKey);if(!record){return;}
record=JSON.parse(record);if(record.spriteName!==_this.svgSpriteName){localStorage.removeItem(_this.reguaCacheKey);}};})(this);writeSvgInline=(function(_this){return function(svgContent){addSpriteNameToCache();return _this.elements.svgContainer.html(svgContent);};})(this);if((typeof jqueryAjaxCache!=="undefined"&&jqueryAjaxCache!==null)&&(jqueryAjaxCache.get!=null)){checkSpriteNameInCache();jqueryAjaxCache.get(this.svgSpritePath,writeSvgInline,this.reguaCacheKey);return;}
$.get(this.svgSpritePath,writeSvgInline);};ReguaNavegacao.prototype.changeDom=function(){this.container.detach().prependTo($body);$body.append(this.reguaNavegacaoFooterHtml);};ReguaNavegacao.prototype.trimUrl=function(url){if(!url){return"";}
return url.trim().replace(/\/$/g,'');};ReguaNavegacao.prototype.getCurrentLocation=function(){return this.trimUrl(window.location.protocol+'//'+window.location.host+window.location.pathname);};ReguaNavegacao.prototype.onHomeOfProduct=function(){return this.portal.home===this.getCurrentLocation();};ReguaNavegacao.prototype.elIsHomeTab=function(el){return el.id==="regua-navegacao-item-home";};ReguaNavegacao.prototype.onHomeTab=function(){return this.elIsHomeTab(this.elements.activeItem);};ReguaNavegacao.prototype.anchorTop=function(){return $body.animate({scrollTop:0},'500');};ReguaNavegacao.prototype.changeCurrentActiveItem=function(newItem){var oldItem;if(newItem==null){return;}
this.removeClass(this.elements.activeItem,'active');oldItem=this.elements.activeItem;this.elements.activeItem=newItem;this.addClass(this.elements.activeItem,'active');if(this.elIsHomeTab(oldItem)){this.homeScroll=$window.scrollTop();}
if(this.onHomeTab()){return this.removeClass(html,"regua-navegacao-tab--visible");}else{return this.addClass(html,"regua-navegacao-tab--visible");}};ReguaNavegacao.prototype.triggerEventsNaRegua=function(navItem,navTarget){if(navItem.id===("regua-navegacao-item-"+this.itemIsActive)){return;}
$document.trigger("glb."+this.itemIsActive+".close");if(navTarget!=="home"){$document.trigger("glb."+navTarget+".open");}
this.itemIsActive=navTarget;};ReguaNavegacao.prototype.changeReguaItems=function(navItemId){var navItem,navTarget;navItem=this.elements.reguaListaMap[navItemId];if(this.hasClass(navItem,"active")){if(this.onHomeTab()){if(this.onHomeOfProduct()){this.anchorTop();}else{window.location.href=this.portal.home;}}
return false;}
navTarget=navItemId.replace("regua-navegacao-item-","");$document.trigger("glb.regua.clicked",[navTarget]);this.addClass(html,"regua-navegacao-tab--fixed");this.changeCurrentActiveItem(navItem);this.triggerEventsNaRegua(navItem,navTarget);if(this.onHomeTab()){$window.scrollTop(this.homeScroll);this.removeClass(html,"regua-navegacao-tab--fixed");}else{setTimeout((function(_this){return function(){$window.scrollTop(0);return _this.removeClass(html,"regua-navegacao-tab--fixed");};})(this),500);}
return false;};ReguaNavegacao.prototype.aplicarEventosNaRegua=function(){var changeReguaItemsProxy,onReguaNavegacaoItemClicked;changeReguaItemsProxy=(function(_this){return function(navItem){return _this.changeReguaItems(navItem.id);};})(this);onReguaNavegacaoItemClicked=function(){return changeReguaItemsProxy(this);};if(this.isTouchable){if(this.isIOS){this.elements.reguaListaItems.on('tap',onReguaNavegacaoItemClicked);}else{this.elements.reguaListaItems.on('touchend',onReguaNavegacaoItemClicked);}}else{this.elements.reguaListaItems.on('click',onReguaNavegacaoItemClicked);}
$document.on("glb.regua.change",(function(_this){return function(e,item){return _this.changeReguaItems("regua-navegacao-item-"+item);};})(this));};ReguaNavegacao.prototype.triggerReguaInit=function(){$document.trigger("glb.regua.init");};return ReguaNavegacao;})();window.glb=window.glb||{};window.glb.ReguaNavegacao=ReguaNavegacao;window.loadReguaNavegacao=function(){var animationEnd,animationEndEventNames,refreshHasReguaEvent,triggerHasNotRegua,triggerHasRegua;triggerHasRegua=function(){$html.removeClass("has-not-regua").addClass("has-regua");return $document.trigger("has-regua");};triggerHasNotRegua=function(){$html.removeClass("has-regua").addClass("has-not-regua");return $document.trigger("remove-regua");};if(document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1")){$html.addClass("svg-support");if((window.glb.reguaShouldStart!=null)&&window.glb.reguaShouldStart()){window.glb.currentReguaNavegacao=new window.glb.ReguaNavegacao(window.isTouchable);triggerHasRegua();}else{window.glb.currentReguaNavegacao=null;triggerHasNotRegua();}}else{$html.removeClass("svg-support");window.glb.currentReguaNavegacao=null;triggerHasNotRegua();}
refreshHasReguaEvent=function(event){if(event.animationName==='media-mobile'){if(window.glb.reguaShouldStart()){return triggerHasRegua();}}else if(event.animationName==='media-not-mobile'){return triggerHasNotRegua();}};animationEndEventNames={'WebkitAnimation':'webkitAnimationEnd','MozAnimation':'animationend','OAnimation':'oAnimationEnd','msAnimation':'MSAnimationEnd','animation':'animationend'};animationEnd=animationEndEventNames[ModernizrWithPrefixed.prefixed('animation')];return document.addEventListener(animationEnd,refreshHasReguaEvent,false);};shouldNotAutoLoad=(window.noAutoLoadReguaNavegacao!=null)&&window.noAutoLoadReguaNavegacao;if(!shouldNotAutoLoad){window.loadReguaNavegacao();}}).call(this);(function(){var $body,$document,$html,$window,ReguaTracking,shouldNotAutoLoad;$html=$("html");$body=$("body");$window=$(window);$document=$(document);ReguaTracking=(function(){function ReguaTracking(){this.shouldTrack=!window.noTrackingMenuWeb;this.trackFlag=false;this.bind();}
ReguaTracking.prototype.trackGa=function(category,action,label,noninteraction){if(this.trackFlag){return;}
this.trackFlag=true;setTimeout((function(_this){return function(){return _this.trackFlag=false;};})(this),300);if((typeof _gaq!=="undefined"&&_gaq!==null)&&this.shouldTrack){return _gaq.push(["_trackEvent",category,action,label,0,noninteraction]);}else{return console.log([category,action,label,noninteraction]);}};ReguaTracking.prototype.bind=function(){$document.on("glb.regua.clicked",(function(_this){return function(e,element){return _this.trackGa("regua_framework","eixos","clique | "+element,true);};})(this));$document.on("glb.busca.searched",(function(_this){return function(e,query){return _this.trackGa("busca_framework","item buscado",query);};})(this));$document.on("glb.busca.featureContent",(function(_this){return function(e,link){return _this.trackGa("busca_framework","suggests","clique | navegacional | "+link);};})(this));$document.on("glb.usuario.login",(function(_this){return function(){return _this.trackGa("usuario_framework","login","interacao | login");};})(this));$document.on("glb.usuario.isAlreadyLogged",(function(_this){return function(){return _this.trackGa("usuario_framework","login","logado");};})(this));$document.on("glb.usuario.logout",(function(_this){return function(){return _this.trackGa("usuario_framework","login","clique | logout");};})(this));$document.on("glb.usuario.notificationClicked",(function(_this){return function(e,linkLocation){return _this.trackGa("usuario_framework","notificacoes","clique | "+linkLocation);};})(this));$document.on("glb.usuario.profileLinkClicked",(function(_this){return function(e,linkText){return _this.trackGa("usuario_framework","minha conta","clique | links | "+linkText);};})(this));};return ReguaTracking;})();window.glb=window.glb||{};window.glb.ReguaTracking=ReguaTracking;window.loadReguaTracking=function(){if($html.hasClass("has-regua")){return window.glb.currentReguaTracking=new window.glb.ReguaTracking();}};shouldNotAutoLoad=(window.noAutoLoadReguaNavegacao!=null)&&window.noAutoLoadReguaNavegacao;if(!shouldNotAutoLoad){window.loadReguaTracking();}}).call(this);(function(){var $body,$document,$html,$window,ReguaUser,cAF,debounce,rAF,shouldNotAutoLoad,bind=function(fn,me){return function(){return fn.apply(me,arguments);};};$html=$("html");$body=$("body");$window=$(window);$document=$(document);debounce=function(func,wait,immediate){var timeout;timeout=null;return function(){var args,callNow,context,later;context=this;args=arguments;later=function(){timeout=null;if(!immediate){return func.apply(context,args);}};callNow=immediate&&!timeout;clearTimeout(timeout);timeout=setTimeout(later,wait);if(callNow){return func.apply(context,args);}};};rAF=ModernizrWithPrefixed.prefixed('requestAnimationFrame',window)||function(callback){return window.setTimeout(callback,1000/60);};cAF=ModernizrWithPrefixed.prefixed('cancelAnimationFrame',window)||window.clearTimeout;ReguaUser=(function(){function ReguaUser(){this.setUserDataInfo=bind(this.setUserDataInfo,this);this.onNotifications=bind(this.onNotifications,this);this.onLogin=bind(this.onLogin,this);this.changeTabActive=bind(this.changeTabActive,this);this.verticalScrollEvent=bind(this.verticalScrollEvent,this);this.initCalled=false;this.bind();if(window.glb.currentReguaNavegacao!=null){this.init();}else{this.waitForReguaNavegacaoToInit((function(_this){return function(){return _this.init();};})(this));}}
ReguaUser.prototype.waitForReguaNavegacaoToInit=function(callback){return $document.on("glb.regua.init",callback);};ReguaUser.prototype.init=function(){if(this.initCalled){return;}
this.initCalled=true;this.userIsOpen=false;this.usuarioTriggered=false;this.setupMomentJs();this.cacheDom();this.cacheVariables();this.container.detach().prependTo($body);return this.waitForBarraLoad((function(_this){return function(){_this.barra=window.glb['barra'];_this.barra.options.habilitarAnalytics=false;_this.common=_this.barra['common'];_this.bindAfterInit();_this.loadBarraNotifications();return _this.refreshPositionFixed();};})(this));};ReguaUser.prototype.waitForBarraLoad=function(callback){if(this.timeoutCtrl){clearTimeout(this.timeoutCtrl);}
if((window.glb['barra']!=null)&&(window.glb['barra']['common']!=null)){callback();return;}
this.timeoutCtrl=setTimeout((function(_this){return function(){return _this.waitForBarraLoad(callback);};})(this),10);};ReguaUser.prototype.setupMomentJs=function(){return moment.locale("pt-br");};ReguaUser.prototype.momentFromNow=function(dateVal){var valStr;valStr=moment(dateVal).fromNow();if(valStr.indexOf("segundo")!==-1){return"agora hÃ¡ pouco";}
if(valStr.indexOf("um dia")!==-1){return"ontem";}
return valStr;};ReguaUser.prototype.cacheDom=function(){this.container=$("#regua-user-container");this.elements={};this.elements.reguaContainer=$("#regua-navegacao");this.elements.userButton=this.elements.reguaContainer.find(".usuario-button");this.elements.userControls=$("#regua-user-controls");this.elements.userTabs=$("#regua-user-tabs");this.elements.userLogin=null;this.elements.userPopinIframe=null;this.elements.userTabsLabels=$("#tab-labels");this.createLabelTabsFixed();this.elements.userInnerTabs=this.elements.userTabs.find(".regua-tab");this.elements.userInnerTabsLabels=this.elements.userTabs.find(".tab-label");this.elements.contentsArea=this.elements.userTabs.find(".regua-content");this.elements.userProfileList=$("#regua-user-profile-list");this.elements.notificationsApps=$("#regua-user-profile-notifications");return this.elements.userLogoutArea=$("#regua-user-logout");};ReguaUser.prototype.createLabelTabsFixed=function(){return this.elements.userTabsLabelsFixed=this.elements.userTabsLabels.clone().attr("id","tab-labels-fixed").addClass("tab-labels-fixed").insertAfter(this.elements.userTabsLabels);};ReguaUser.prototype.cacheVariables=function(){this.settings=window.REGUA_SETTINGS;this.staticUrl=this.settings.staticUrl;this.userMalePicture=this.staticUrl+"regua-navegacao/img/user/avatar-masculino.png";this.userFemalePicture=this.staticUrl+"regua-navegacao/img/user/avatar-feminino.png";this.userNoGenderPicture=this.staticUrl+"regua-navegacao/img/user/avatar-usuario.png";this.rafScrolling=null;this.timeoutAnimation=null;this.timeoutCtrl=null;this.userLoadedInfo=false;this.userPopinOpened=false;this.scrollInfo={lastTop:0,propDeltaY:1.72,fixed:false,fixedShown:false,fixedThreshold:6};this.tabIndex=2;this.styleProps={transitionDuration:ModernizrWithPrefixed.prefixed('transitionDuration'),transform:ModernizrWithPrefixed.prefixed('transform')};this.heights={};this.addFbUrl="https://meuperfil.globo.com/perfil/home";this.addFbLinkTag="<a class=\"add-fb\" href=\""+this.addFbUrl+"\"><span class=\"plus-sign\"></span><span class=\"fb-logo\"></span></a>";this.addServicesUrl="https://meuperfil.globo.com/perfil/lista_servicos?exibicao=TOTAL";this.addServicesLinkTag="<a class=\"add-service\" href=\""+this.addServicesUrl+"\">adicione serviÃ§os<span class=\"add-service-arrow\"><svg class=\"regua-navegacao-icon\"><use xlink:href=\"#regua-arrow\" /></svg></span></a>";return this.profileTypeColors={"default":"#0669de","cadastrouniversalchannel":"#830181","clubemaisvocÃª":"#608CD2","domingÃ£odofaustÃ£o-girocomsejÃ£oloroza":"#22699A","maisvocÃªrepÃ³rter":"#608CD2","musica.com.br":"#E73E2C","newslettergnt":"#5D0851","parceriaamericanas.com":"#ea0001","parceriacartacapital":"#ae1c1f","parceriachefsclub":"#39B60E","parceriaeditoraglobo":"#0669de","parceriaexclusivafloresonline":"#3AA935","parceriaexclusivapais&filhos":"#E30613","parceriamagazineluiza":"#0083CA","parcerianetshoes":"#5a2d82","parcerianicephotos":"#D10246","parceriaoglobo":"#1E96C8","parceriapanini":"#CE2900","parceriaricardoeletro":"#C91300","parceriashoptime":"#F79F1A","parceriawalmart":"#1A75CE","receitas.com":"#ff6600","santaajuda-participaÃ§Ã£o":"#5D0851","vcnoglobovideochat":"#0669de","vcnomaisvocÃª":"#608CD2","vcnosuperbonitatransforma":"#5D0851","vcnotitÃ£":"#2C3769","vocÃªntvxuxa":"#541098","vocÃªnoaltashoras":"#30B6D2","vocÃªnocaldeirÃ£o":"#557FEB","vocÃªnocasseta":"#EC7D00","vocÃªnovÃ­deoshow":"#2190DB","vcadastrosÃ³ciopremierefc":"#3E673B","cartolafc":"#FF7400","euatleta":"#FF6600","gamefutebol":"#3EA909","musadobrasileirÃ£o2011":"#3B9C00","vcnoesporte":"#8CB712","aventuranofantÃ¡stico":"#2C629C","baixatudo-newsletter":"#333333","extra":"#ED1E00","newsletter-globonews":"#B91414","newslettercidadeesoluÃ§Ãµes":"#B91414","newsletterprofissÃ£orepÃ³rter":"#0F50A9","newslettertvglobodigital.com":"#2C3769","oglobo-comentÃ¡rios":"#1E96C8","vcnaglobominas":"#2C3769","vcnaglobonews":"#B91414","vcnobomdiabrasil":"#D44C01","vcnofantÃ¡stico":"#2C629C","vcnog1":"#A80000","vcnogloboesporte":"#3B9C00","vcnogloborepÃ³rter":"#1F2E48","vcnojornaldaglobo":"#16257B","vcnoprofissÃ£orepÃ³rter":"#0F50A9","vcnoradarrj":"#A80000","vcnorjtv":"#A80000","vcnosptv":"#A80000"};};ReguaUser.prototype.transitionDuration=function(el,duration){if(duration!=null){return el.style[this.styleProps.transitionDuration]=duration+'ms';}};ReguaUser.prototype.transform=function(el,op,duration){if(el==null){return;}
this.transitionDuration(el,duration);return el.style[this.styleProps.transform]=op;};ReguaUser.prototype.translate3d=function(el,x,y,duration){return this.transform(el,'translate3d('+x+'px, '+y+'px, 0)',duration);};ReguaUser.prototype.translateTop=function(el,top,duration){return this.translate3d(el,0,parseInt(top,10),duration);};ReguaUser.prototype.triggerUsuarioOpen=function(){var shouldChangeToUserTab;shouldChangeToUserTab=window.location.hash.indexOf("regua-tab-user")!==-1;if(shouldChangeToUserTab){this.usuarioTriggered=true;$document.trigger("glb.regua.change",["usuario"]);window.location.hash=window.location.hash.replace("&regua-tab-user","");window.location.hash=window.location.hash.replace("regua-tab-user","");if(window.location.hash===""||window.location.hash==="#"){return window.location.hash="header-produto";}}};ReguaUser.prototype.setUsarioOpenOnHash=function(){var hash;hash=window.location.hash.trim();if(hash!==""&&hash!=="#"){return window.location.hash+="&regua-tab-user";}else{return window.location.hash="regua-tab-user";}};ReguaUser.prototype.cadunUserLoginSucceeded=function(){if(!this.usuarioTriggered){$document.trigger("glb.usuario.login");this.setUsarioOpenOnHash();return window.location.reload();}};ReguaUser.prototype.bind=function(){$document.on("glb.usuario.open",(function(_this){return function(){if((_this.userData==null)||(_this.userData.name==null)){_this.showUserLogin();}
_this.container.addClass("user-open");_this.userIsOpen=true;if(_this.elements.notificationsCount!=null){_this.elements.notificationsCount.css("display","none");}
return _this.refresh();};})(this));$document.on("glb.usuario.close",(function(_this){return function(){_this.userIsOpen=false;return _this.container.removeClass("user-open");};})(this));return $window.on("resize",debounce((function(_this){return function(){return _this.refresh();};})(this),250));};ReguaUser.prototype.verticalScrollEvent=function(e){this.scrollInfo.lastTop=this.container.scrollTop();if(this.scrollInfo.lastTop<=this.heights.userHeader&&this.scrollInfo.fixed){this.scrollInfo.fixed=false;return this.container.removeClass("inner-tabs-fixed");}else if(this.scrollInfo.lastTop>this.heights.userHeader&&!this.scrollInfo.fixed){this.scrollInfo.fixed=true;return this.container.addClass("inner-tabs-fixed");}};ReguaUser.prototype.changeTabActive=function(tabIndex){this.elements.userTabs.removeClass("regua-user-tab-"+this.tabIndex);this.tabIndex=tabIndex;return this.elements.userTabs.addClass("regua-user-tab-"+this.tabIndex);};ReguaUser.prototype.changeToNotificationTab=function(){return this.changeTabActive(1);};ReguaUser.prototype.bindAfterInit=function(){var changeTabActiveProxy;this.common.bindEvent(window,"message",(function(_this){return function(msg){if("barra::close"===msg.data){return _this.cadunUserLoginSucceeded();}};})(this));changeTabActiveProxy=(function(_this){return function(tab){return _this.changeTabActive(tab);};})(this);this.elements.userInnerTabsLabels.bind('tap',function(){var tabIndex;tabIndex=parseInt($(this).attr("data-index"),10);return changeTabActiveProxy(tabIndex);});return this.container.on('scroll',this.verticalScrollEvent);};ReguaUser.prototype.bindOnNotifications=function(){var barra;barra=this.barra;return this.elements.notificationsApps.on("click",".notification-link",function(ev){var anchor,href;anchor=this;$(anchor).parents(".notification-item").removeClass("notification-new");barra.notifications.linkSpy(anchor,ev.originalEvent);href=$(anchor).attr("href");return $document.trigger("glb.usuario.notificationClicked",[href]);});};ReguaUser.prototype.bindOnServices=function(){var barra,linkTrack;barra=this.barra;if(this.elements.userLogoutLinkElm!=null){this.elements.userLogoutLinkElm.on("click",function(ev){return $document.trigger("glb.usuario.logout");});linkTrack=function(ev){var $link,linkText;$link=$(this);linkText=$link.text().trim();return $document.trigger("glb.usuario.profileLinkClicked",[linkText]);};this.elements.userLogoutArea.on("click","a",linkTrack);return this.elements.userProfileList.on("click","a",linkTrack);}};ReguaUser.prototype.removeUselessLinks=function(){this.elements.userLogoutArea.find(".hover-button a").first().remove();return this.elements.userLogoutArea.find(".hover-button .float-box a").first().remove();};ReguaUser.prototype.onLogin=function(userData){this.elements.userControls.html("");this.userData=userData;if((this.userData!=null)&&(this.userData.name!=null)){this.fetchNotificationsCount();this.fetchNotifications();this.container.removeClass("user-not-logged").addClass("user-logged");this.createLinksLogout();$document.trigger("glb.usuario.isAlreadyLogged");}else{this.container.removeClass("user-logged").addClass("user-not-logged");this.barra.nonlogged.addItems(this.elements.userControls.get(0));this.userLoadedInfo=true;if(this.userIsOpen){this.showUserLogin();}}
this.triggerUsuarioOpen();this.bindOnServices();return this.removeUselessLinks();};ReguaUser.prototype.onNotifications=function(notificationsData){if(!notificationsData||!notificationsData['pings']){this.notifications=[];}else{this.notifications=notificationsData['pings'];}
this.common['addClass'](this.elements.userControls.get(0),'notifications-loaded');return this.createNotificationsApps(this.notifications);};ReguaUser.prototype.refresh=function(){return this.refreshHeights();};ReguaUser.prototype.refreshHeights=function(){this.heights.container=this.container.height();this.heights.userControls=this.elements.userControls.outerHeight(true);this.heights.userTabsLabels=this.elements.userTabsLabels.height();return this.heights.userHeader=this.heights.userControls;};ReguaUser.prototype.isIos7=function(){return!!navigator.userAgent.match(/(iPad|iPhone);.*CPU.*OS 7_\d/i);};ReguaUser.prototype.isAndroidBrowser=function(){var nua;nua=navigator.userAgent;return(nua.indexOf('Mozilla/5.0')>-1&&nua.indexOf('Android ')>-1&&nua.indexOf('AppleWebKit')>-1)&&!(nua.indexOf('Chrome')>-1);};ReguaUser.prototype.refreshPositionFixed=function(){if(this.isIos7()||this.isAndroidBrowser()){this.container.addClass("regua-user--notfixed");}};ReguaUser.prototype.createLinksLogout=function(){this.barra.nonlogged.addItems(this.elements.userLogoutArea.get(0));this.elements.userLogoutLink="<a id=\"regua-user-logout-link\" href=\""+this.barra['options']['logoutUrl']+"?url="+document.location.href+"\" class=\"regua-user-logout-link\">sair</a>";this.elements.userLogoutArea.append(this.elements.userLogoutLink);return this.elements.userLogoutLinkElm=$("#regua-user-logout-link");};ReguaUser.prototype.showUserLogin=function(){var userPopinIframe;if(!this.elements.userLogin||this.elements.userLogin.length===0){this.elements.userLogin=$("#barra-item-login");}
userPopinIframe=$("#login-popin-iframe");if(this.elements.userLogin&&this.elements.userLogin.length>0&&this.userLoadedInfo&&(!this.userPopinOpened||userPopinIframe.attr("src").indexOf("login")===-1)){this.elements.userLogin.click();return this.userPopinOpened=true;}};ReguaUser.prototype.setUserDataInfo=function(count){var countHtml;if(this.userData.facebookId!=null){this.userData.photo="http://graph.facebook.com/"+this.userData.facebookId+"/picture?type=large";}else{if(this.userData.isMale!=null){this.userData.photo=this.userData.isMale?this.userMalePicture:this.userFemalePicture;}else{this.userData.photo=this.userNoGenderPicture;}}
this.userData.firstName=this.userData.name.split(" ")[0];countHtml=count<=100?""+count:"+100";this.elements.notificationsCount=$("<span id=\"notification-count\" class=\"notification-count\"><span class=\"notification-number\">"+countHtml+"</span></span>");this.elements.userProfilePicture=$("<span id=\"user-profile-picture\" class=\"user-profile user-profile-picture\"><img src=\""+this.userData.photo+"\"></span>");this.elements.userProfileName=$("<span id=\"user-profile-name\" class=\"user-profile user-profile-name\" title=\""+this.userData.name+"\">"+this.userData.firstName+"</span>");this.elements.userProfileEmail=$("<span id=\"user-profile-email\" class=\"user-profile user-profile-email\">"+this.userData.email+"</span>");this.elements.userControls.append(this.elements.userProfilePicture).append(this.elements.userProfileName).append(this.elements.userProfileEmail);if((count!=null)&&count>0){this.changeToNotificationTab();this.elements.userButton.append(this.elements.notificationsCount);}
this.createNotificationsProfileTypes(this.userData.lastServices);return this.refresh();};ReguaUser.prototype.loadBarraNotifications=function(){this.barra.component=this.barra.component||{};this.barra.component.barraDiv=this.barra.component.barraDiv||{className:''};return this.barra.auth.getUserData(this.onLogin);};ReguaUser.prototype.fetchNotificationsCount=function(){return this.common['jsonpGet'](this.barra['options']['notificationsCountPath'],this.setUserDataInfo,{callbackName:'pingNotificationCount'});};ReguaUser.prototype.fetchNotifications=function(){return this.common['jsonpGet'](this.barra['options']['notificationsPath'],this.onNotifications,{callbackName:'pingNotifications'});};ReguaUser.prototype.createNotificationsApps=function(notifications){var i,len,notification,notificationClass,notificationItem,notificationItemHtml,notificationTime;notificationItemHtml="";if(notifications!=null){for(i=0,len=notifications.length;i<len;i++){notification=notifications[i];notificationClass=!notification.lido?'notification-new':'';notificationTime=this.momentFromNow(notification.data);notificationItem="<li data-categoria=\""+notification.categoria+"\" data-quantidade=\""+notification.quantidade+"\"\n    data-servico=\""+notification.servico+"\" class=\"notification-item "+notificationClass+"\">\n  <a class=\"notification-link\" href=\""+notification.url+"\">\n    "+[notification.thumb?"<img src=\""+notification.thumb+"\" alt=\""+notification.servico+" icone\" class=\"notification-icon\">":void 0]+"\n    <span class=\"notification-text\">\n        <span class=\"notification-title\">"+notification.texto+"</span>\n        <span class=\"notification-time\">"+notificationTime+"</span>\n    </span>\n  </a>\n</li>";notificationItemHtml+=notificationItem;}}
if(notificationItemHtml){this.elements.notificationsApps.append(notificationItemHtml);return this.bindOnNotifications();}else{this.elements.notificationsApps.addClass("empty-notifications");return this.elements.notificationsApps.after(this.addServicesLinkTag);}};ReguaUser.prototype.getProfileTypeColor=function(profileType){var color,profileSlug;profileSlug=profileType.name.toLowerCase().replace(/\s/g,"");color=this.profileTypeColors[profileSlug];if(!color){color=this.profileTypeColors["default"];}
return color;};ReguaUser.prototype.createNotificationsProfileTypes=function(myProfileTypes){var i,len,profileItem,profileItemHtml,profileType;profileItemHtml="";if(myProfileTypes!=null){for(i=0,len=myProfileTypes.length;i<len;i++){profileType=myProfileTypes[i];profileType.color=this.getProfileTypeColor(profileType);profileItem="<li class=\"notifications-my-profile-item\">\n  <a class=\"notifications-my-profile-item-link\" href=\""+profileType.url+"\">\n    "+[profileType.logo?"<span class=\"notifications-my-profile-icon\"><img class=\"mission-control-icon\" src=\""+profileType.logo+"\"></span>":void 0]+"\n    <span class=\"notifications-my-profile-title\" style=\"color: "+profileType.color+";\">"+profileType.name+"</span>\n  </a>\n</li>";profileItemHtml+=profileItem;}}
if(profileItemHtml){this.elements.userProfileList.append(profileItemHtml);return this.elements.userProfileList.append(this.addServicesLinkTag.replace("adicione serviÃ§os","todos os serviÃ§os"));}else{return this.elements.userProfileList.append(this.addServicesLinkTag);}};return ReguaUser;})();window.glb=window.glb||{};window.glb.ReguaUser=ReguaUser;window.loadReguaUser=function(){if($html.hasClass("has-regua")){return window.glb.currentReguaUser=new window.glb.ReguaUser();}};shouldNotAutoLoad=(window.noAutoLoadReguaNavegacao!=null)&&window.noAutoLoadReguaNavegacao;if(!shouldNotAutoLoad){window.loadReguaUser();}}).call(this);if('function'!==typeof Array.prototype.reduce){Array.prototype.reduce=function(callback,opt_initialValue){'use strict';if(null===this||'undefined'===typeof this){throw new TypeError('Array.prototype.reduce called on null or undefined');}
if('function'!==typeof callback){throw new TypeError(callback+' is not a function');}
var index=0,length=this.length>>>0,value,isValueSet=false;if(1<arguments.length){value=opt_initialValue;isValueSet=true;}
for(;length>index;++index){if(!this.hasOwnProperty(index))continue;if(isValueSet){value=callback(value,this[index],index,this);}else{value=this[index];isValueSet=true;}}
if(!isValueSet){throw new TypeError('Reduce of empty array with no initial value');}
return value;};}
(function(){var root=this;var fuzzy={};if(typeof exports!=='undefined'){module.exports=fuzzy;}else{root.fuzzy=fuzzy;}
fuzzy.simpleFilter=function(pattern,array){return array.filter(function(string){return fuzzy.test(pattern,string);});};fuzzy.test=function(pattern,string){return fuzzy.match(pattern,string)!==null;};fuzzy.match=function(pattern,string,opts){opts=opts||{};var patternIdx=0,result=[],len=string.length,totalScore=0,currScore=0,pre=opts.pre||'',post=opts.post||'',compareString=opts.caseSensitive&&string||string.toLowerCase(),ch,compareChar;pattern=opts.caseSensitive&&pattern||pattern.toLowerCase();if(opts.transform){compareString=opts.transform(compareString);}
for(var idx=0;idx<len;idx++){ch=string[idx];if(compareString[idx]===pattern[patternIdx]){ch=pre+ch+post;patternIdx+=1;currScore+=1+currScore;}else{currScore=0;}
totalScore+=currScore;result[result.length]=ch;}
if(patternIdx===pattern.length){return{rendered:result.join(''),score:totalScore};}
return null;};fuzzy.filter=function(pattern,arr,opts){opts=opts||{};return arr.reduce(function(prev,element,idx,arr){var str=element;if(opts.extract){str=opts.extract(element);}
var rendered=fuzzy.match(pattern,str,opts);if(rendered!=null){prev[prev.length]={string:rendered.rendered,score:rendered.score,index:idx,original:element};}
return prev;},[]).sort(function(a,b){var compare=b.score-a.score;if(compare)return compare;return a.index-b.index;});};}());(function(global){var MathUtils={linearLeastSquares:function(points){var n=points.length;if(n===0){return null;}
var sum_x=0,sum_y=0,sum_xy=0,sum_x_squared=0,i=0,point,x,y;for(;i<n;++i){point=points[i];x=point[0];y=point[1];sum_x+=x;sum_y+=y;sum_xy+=x*y;sum_x_squared+=x*x;}
var B=((n*sum_xy)-(sum_x*sum_y))/((n*sum_x_squared)-(sum_x*sum_x));var a=(sum_y/n)-((B/n)*sum_x);return[B,a];},distance:function(point1,point2){return Math.sqrt((point1[0]-point2[0])*(point1[0]-point2[0])+(point1[1]-point2[1])*(point1[1]-point2[1]));}};global.MathUtils=MathUtils;}(this));(function($){var translateTable=[['a',/[Ã¡Ã£Ã Ã¤Ã¢]/gi],['e',/[Ã©Ã¨ÃªÃ«]/gi],['i',/[Ã­Ã¬Ã¯Ã®]/gi],['o',/[Ã³Ã²ÃµÃ¶Ã´]/gi],['u',/[ÃºÃ¹Ã¼Ã»]/gi],['n',/Ã±/gi],['c',/Ã§/gi]];var translate=function(term){for(var i=0;i<translateTable.length;++i){term=term.replace(translateTable[i][1],translateTable[i][0]);}
return term;};var trim=function(term){if(!term){return"";}
return term.replace(/^\s*|\s*$/g,'');};$.widget('home.submenuWidgetMenu',{options:{trackingTime:100,maxTopLinks:10},_create:function(){this.currentMenuItemElement=null;this.trackingSubMenu=false;this.menuName=this.element.attr('class').replace(/\s*analytics.*?($|\s)/,'');this.topLinks=[];this.trackingPoints=[];this.firstKeyEvent=true;this.boundOnKeyEvent=$.proxy(this.onKeyEvent,this);window.glb=window.glb||{};glb.preferences=glb.preferences||[];this.searchChars=[];this._collectElements();this._initTopSubMenu();this._bindEvents();},_collectElements:function(){this.submenuElements=this.element.find('.submenu > li');this.firstColumnArea=this.element.find('.first-column');this.firstLink=this.firstColumnArea.find('li.has-children a').first();this.topSubMenu=this.submenuElements.filter('[data-menu-id="'+this.firstLink.data('menu-id')+'"]').find('.top-link');this.topSubMenuLinks=this.topSubMenu.find('> div');this.searchLink=this.firstColumnArea.find('li.has-children.search-item a').first();this.searchSubMenu=this.submenuElements.filter('.search-area');this.allLinks=this.element.find('.submenu a, .first-column a[href]');},_bindEvents:function(){if(Modernizr&&Modernizr.touch){this.element.on('click','.first-column a',$.proxy(this._onClickSubMenu,this));}else{this.element.on('mouseenter','.first-column a',$.proxy(this._onMouseEnter,this));this.element.on('mouseleave','.first-column a',$.proxy(this._onMouseLeave,this));}
this.element.on('click','.submenu a, .first-column a[href]',$.proxy(this._onLinkClick,this));},_initTopSubMenu:function(){glb.preferences.push(['get',{product:'home',key:'topmenu_'+this.menuName,callback:$.proxy(this._onCocoonData,this)}]);},_updateTopLinks:function(){glb.preferences.push(['put',{product:'home',key:'topmenu_'+this.menuName,asImg:true,value:JSON.stringify(this.topLinks)}]);},_onCocoonData:function(data){var parsedData=null;try{parsedData=JSON.parse(data);}catch(e){}
if(parsedData&&$.isArray(parsedData)){this.topLinks=parsedData;}
this._renderUserTopLinks(this.topLinks.slice(0,10),this.topSubMenuLinks,this.topSubMenu);},_onLinkClick:function(ev){var anchor=$(ev.currentTarget),href=anchor.attr('href'),topLink,idx;this.currentTarget=anchor;if(this.searchChars.length>0){var searchTerm=this.searchChars.join('');window._gaq&&_gaq.push(['_trackEvent','Menu','Searched and Clicked Link',searchTerm]);}
for(idx=this.topLinks.length-1;idx>=0;idx--){topLink=this.topLinks[idx];if(topLink.url==href){topLink.count+=1;break;}}
if(idx<0){this.topLinks.push({url:href,count:1});}else{this.topLinks=this.topLinks.sort(function(t1,t2){return t2.count-t1.count;});}
this._updateTopLinks();},_onClickSubMenu:function(ev){var linkElement=$(ev.currentTarget);if(!this.currentMenuItemElement){ev.preventDefault();ev.stopImmediatePropagation();}else if(this.currentMenuItemElement[0]!==linkElement[0]){ev.preventDefault();ev.stopImmediatePropagation();}
this.currentMenuItemElement=linkElement;this.updateSubMenu(linkElement);},_onMouseEnter:function(ev){var linkElement=$(ev.currentTarget);this.currentMenuItemElement=linkElement;if(this.previousLink){if(this.ignoreEventCount<1){this.ignoreEventCount++;return;}}
if(!this.trackingSubMenu){this.updateSubMenu(linkElement);}},_onMouseLeave:function(ev){var linkElement=$(ev.currentTarget);this.currentMenuItemElement=null;if(!this.trackingSubMenu){this._trackSubMenuMouseMovement(linkElement);}},_renderUserTopLinks:function(linksToAdd,existingElements,appendToElement,forceRecreate){if(!forceRecreate&&linksToAdd.length===0){return;}
var i,len,topLink,existingLink,allLinksMap={},topLinksMap={},newItems=[],currentLink,currentLinkHref,label;for(i=0,len=this.allLinks.length;i<len;++i){currentLink=this.allLinks.eq(i);currentLinkHref=currentLink.attr('href');if(!allLinksMap[currentLinkHref]){allLinksMap[currentLinkHref]=currentLink;}}
for(i=0,len=linksToAdd.length;i<len;++i){topLink=linksToAdd[i];existingLink=allLinksMap[topLink.url];if(!existingLink&&!topLink.label){continue;}
if(topLinksMap[topLink.url]){continue;}
label=trim(topLink.label||existingLink.text());if(!label){continue;}
topLinksMap[topLink.url]=true;label=label[0].toUpperCase()+label.slice(1);if(label=='Primeira PÃ¡gina'){var topLevelLi=this.element.find('a[data-menu-id="'+existingLink.parents('li').first().data('menu-id')+'"]');label=label+" ("+trim(topLevelLi.text())+")";}
var divString='<div>'+'<div class="bullet"></div>'+'<a href="'+topLink.url+'">'+'<span class="titulo">'+label+'</span>'+'</a>'+'</div>';newItems.push(divString);}
for(i=0,len=existingElements.length;i<len&&newItems.length<this.options.maxTopLinks;++i){topLink=existingElements.eq(i);if(topLinksMap[topLink.find('a').attr('href')]){continue;}
newItems.push($('<span>').append(topLink).html());}
appendToElement.html($(newItems.join('')));},resetSelected:function(){var self=this;if(this.firstLink.length>0){setTimeout(function(){self.updateSubMenu(self.firstLink);},150);}
this.mouseMoveArea={el:this.firstColumnArea,offset:this.firstColumnArea.offset(),width:this.firstColumnArea.outerWidth(),height:this.firstColumnArea.outerHeight()};this.mouseMoveArea.startPoint=[this.mouseMoveArea.offset.left+this.mouseMoveArea.width,this.mouseMoveArea.offset.top];this.mouseMoveArea.endPoint=[this.mouseMoveArea.offset.left+this.mouseMoveArea.width,this.mouseMoveArea.offset.top+this.mouseMoveArea.height];this.mouseMoveArea.el.bind('mousemove',$.proxy(function(e){this.trackingPoints.push([e.pageX,e.pageY]);},this));this.searchChars=[];this.ignoreEventCount=0;this.subMenuFocus=0;this.firstKeyEvent=true;this.extraLinks=this.element.find('.extra a.searchable');$(document).on('keydown',this.boundOnKeyEvent);},resetEvents:function(){if(this.mouseMoveArea&&this.mouseMoveArea.el){this.mouseMoveArea.el.unbind('mousemove');}
this.trackingPoints=[];$(document).off('keydown',this.boundOnKeyEvent);if(this.searchChars.length>0){var searchTerm=this.searchChars.join('');window._gaq&&_gaq.push(['_trackEvent','Menu','Searched and Closed',searchTerm]);}
this.searchChars=[];this.updateSearchLinks();},onKeyEvent:function(ev){var code=ev.which,ch=String.fromCharCode(code),importantChars="AZ09",aCharCode=importantChars.charCodeAt(0),zCharCode=importantChars.charCodeAt(1),zeroCharCode=importantChars.charCodeAt(2),nineCharCode=importantChars.charCodeAt(3),shouldPrevent=true,nextListItem=null,nextSubItemList=null,isMovementAction=false,i,len;if(ev.ctrlKey||ev.metaKey||ev.altKey){return;}
if(code===27){if(this.searchChars.length>0){this.searchChars=[];}else{this.element.parents('.widget-menu').widgetMenu('hideItem',this.element);}}else if(code===8){this.searchChars.splice(this.searchChars.length-1,1);}else if(code===32){this.searchChars.push(' ');}else if((code>=aCharCode&&code<=zCharCode)||(code>=zeroCharCode&&code<=nineCharCode)){this.searchChars.push(ch);if(this.firstKeyEvent){this.firstKeyEvent=false;window._gaq.push(['_trackEvent','Menu','Started Search']);}}else if((code>=37&&code<=40)||code===13){isMovementAction=true;if(code===37){this.updateSubMenuItem(null);}else if(code===39){this.subMenuFocus=1;if(!this.currentSubMenuItem){nextSubItemList=this.currentSubMenu.find('a').first();}}else if(code===38){if(this.subMenuFocus===0){nextListItem=this.currentLink.parents('li').first().prev();}else{nextSubItemList=this.currentSubMenuItem.parent().prev().find('a');}}else if(code===40){if(this.subMenuFocus===0){nextListItem=this.currentLink.parents('li').first().next();}else{nextSubItemList=this.currentSubMenuItem.parent().next().find('a');}}else if(code===13){if(this.subMenuFocus===0){this.subMenuFocus=1;nextSubItemList=this.currentSubMenu.find('a').first();}else{if(this.currentSubMenuItem.length>0){this.currentSubMenuItem[0].click();}}}}else{shouldPrevent=false;}
if(!shouldPrevent){return;}
ev.preventDefault();if(isMovementAction){if(nextListItem){nextListItem=nextListItem.find('a');if(nextListItem.is(':visible')){this.updateSubMenu(nextListItem);}}else if(nextSubItemList&&nextSubItemList.length>0){this.updateSubMenuItem(nextSubItemList);}}else{this.updateSearchLinks();}},_addMatchingLinks:function(links,searchString,foundLinks){var i,len,matches;matches=fuzzy.filter(searchString,$.makeArray(links),{pre:'<strong>',post:'</strong>',transform:function(el){return translate(el);},extract:function(el){el=$(el);return el.attr('title')||el.text();}});for(i=0,len=matches.length;i<len;++i){foundLinks.push({url:$(matches[i].original).attr('href'),label:matches[i].string});}},updateSearchLinks:function(){if(this.searchChars.length===0){this.searchLink.removeClass('visible');if(this.previousLink){this.updateSubMenu(this.previousLink);this.previousLink=null;}
return;}
var searchString=this.searchChars.join(''),foundLinks=[];this._addMatchingLinks(this.extraLinks,searchString,foundLinks);this._addMatchingLinks(this.allLinks,searchString,foundLinks);this._renderUserTopLinks(foundLinks.slice(0,10),[],this.searchSubMenu,true);if(this.currentLink!==this.searchLink){this.previousLink=this.currentLink;}
this.searchLink.addClass('visible');this.searchLink.html('<span class="titulo">busca \''+searchString.toLowerCase()+'\'</span>');this.updateSubMenu(this.searchLink);this.subMenuFocus=1;this.updateSubMenuItem(this.currentSubMenu.find('a').first());},updateSubMenu:function(link){this.trackingPoints=[];var menuId=link.data('menu-id'),submenu=this.submenuElements.filter('[data-menu-id="'+menuId+'"]');if(submenu.length===0){return;}
this.submenuElements.removeClass('visible');submenu.addClass('visible');link.parents('ul').find('.active').removeClass('active');link.addClass('active');this.currentLink=link;this.currentSubMenu=submenu;this.updateSubMenuItem();},updateSubMenuItem:function(link){if(this.currentSubMenu){this.currentSubMenu.find('a.active').removeClass('active');}
this.currentSubMenuItem=link;if(link){link.addClass('active');}else{this.subMenuFocus=0;}},_trackSubMenuMouseMovement:function(link){this.trackingSubMenu=false;var hoveredItem=this.currentMenuItemElement;if(hoveredItem&&hoveredItem[0]==link[0]){return;}
if(this.trackingPoints.length<2){if(hoveredItem){this.updateSubMenu(hoveredItem);}
return;}
if(this.trackingPoints.length>5){this.trackingPoints=this.trackingPoints.slice(this.trackingPoints.length-5);}
var components=MathUtils.linearLeastSquares(this.trackingPoints),firstPoint=this.trackingPoints[0],lastPoint=this.trackingPoints[this.trackingPoints.length-1],goingRight=lastPoint[0]>firstPoint[0],targetStart=this.mouseMoveArea.startPoint,targetEnd=this.mouseMoveArea.endPoint;var minSlope=(targetStart[1]-firstPoint[1])/(targetStart[0]-firstPoint[0]),maxSlope=(targetEnd[1]-firstPoint[1])/(targetEnd[0]-firstPoint[0]),slope=components[0];this.trackingPoints=[];if(goingRight&&!isNaN(slope)&&slope>minSlope&&slope<maxSlope){this.trackingSubMenu=true;setTimeout($.proxy(function(){this._trackSubMenuMouseMovement(link);},this),this.options.trackingTime);}else{if(hoveredItem){this.updateSubMenu(hoveredItem);}}}});})(jQuery);(function($){var hasOpacity=$.support.opacity;$.widget("home.widgetMenu",{options:{fadeDuration:200,trackingTime:100,mouseMoveArea:'header',floatingBox:'.float-box',columnsSelector:'.menu-columns > ul:visible, .extra:visible',isNestedMenu:false},_create:function(){this.currentMenuItemElement=null;if(this.element.is('.nested')){this.options.isNestedMenu=true;}
this._collectElements();this._bindEvents();this._initComponents();this.recalculateSize();},_collectElements:function(){this.elements={};this.elements.triggerLis=this.element.find('> li');this.elements.mouseMoveArea=$(this.options.mouseMoveArea);this.elements.floatingBoxes=this.elements.triggerLis.find(this.options.floatingBox);this.elements.mainBlock=$('#bloco-principal');},_bindEvents:function(){this.elements.triggerLis.each($.proxy(function(i,el){this._bindTriggerEvents($(el));},this));},_initComponents:function(){if(!this.options.isNestedMenu){return;}
this.elements.triggerLis.submenuWidgetMenu();},recalculateSize:function(){var self=this,colSel=this.options.columnsSelector;this.elements.floatingBoxes.each(function(){var floatBox=$(this),columns=floatBox.find(colSel),totalWidth=0,maxHeight=-1;columns.each(function(){var el=$(this),height=el.height();totalWidth+=el.outerWidth();if(el.is('.submenu')){el.find('li').each(function(){var liElement=$(this),height=liElement.height();maxHeight=(height>maxHeight)?height:maxHeight;});}
else if(el.is('.extra')){el.css('height','auto');height=el.height();maxHeight=(height>maxHeight)?height:maxHeight;}
else{height=el.height();maxHeight=(height>maxHeight)?height:maxHeight;}});if(!self.options.isNestedMenu){floatBox.css('width',totalWidth);}
columns.css('height',maxHeight);});},_bindTriggerEvents:function(li){var submenu=li.find(this.options.floatingBox),menuInitialTimeout=null,self=this;if(!submenu.length){return;}
if(hasOpacity){submenu.css("opacity","0");}
if(window.Modernizr&&Modernizr.touch){li.find("> a").on("click",function(ev){e.stopPropagation();if(!self.goToLink){ev.preventDefault();}});li.find("> a").on("touchstart",$.proxy(function(e){if(document.body.offsetWidth<732){return true;}
e.stopPropagation();e.preventDefault();if(this.elements.liShowing){this.hideItem(this.elements.liShowing);if(this.elements.liShowing==li){this.elements.liShowing=null;self.goToLink=true;e.currentTarget.click();return;}}
this.showItem(li);this.elements.liShowing=li;},this));var onTouchBlock=function(e){if(this.elements.liShowing){this.hideItem(this.elements.liShowing);this.elements.liShowing=null;e.preventDefault();}};var headerFlag=false;var onTouchHeader=function(e){if(!headerFlag){headerFlag=true;setTimeout(function(){headerFlag=false;},100);}
var $target=$(e.target);if($target.attr("id")==="home-menu"||$target.parents("#home-menu").length>0){return;}
onTouchBlock.call(this,e);};this.elements.mainBlock.on('click',$.proxy(onTouchBlock,this));this.elements.mainBlock.on('touchstart',$.proxy(onTouchBlock,this));this.elements.mouseMoveArea.on('click',$.proxy(onTouchHeader,this));this.elements.mouseMoveArea.on('touchstart',$.proxy(onTouchHeader,this));}else{li.hover($.proxy(function(){li.data('hovering',true);if(!this.tracking){menuInitialTimeout=setTimeout($.proxy(function(){menuInitialTimeout=null;this.showItem(li);},this),this.options.fadeDuration);}},this),$.proxy(function(){li.data('hovering',false);if(!this.tracking){if(menuInitialTimeout){clearTimeout(menuInitialTimeout);menuInitialTimeout=null;return;}
this.trackMouseMovement(li);}},this));}},preventInteraction:function(){this.interactionPrevented=true;},allowInteraction:function(){this.interactionPrevented=false;},hideItem:function(el,forced){if(this.interactionPrevented&&!forced){return;}
var submenu=el.find(this.options.floatingBox);this.elements.mainBlock.removeClass('blocked');if(hasOpacity){submenu.stop(true).animate({opacity:0},{duration:this.options.fadeDuration,complete:function(){submenu.css("visibility","hidden");submenu.removeClass('visible');}});}else{submenu.css("visibility","hidden");submenu.removeClass('visible');}
if(this.options.isNestedMenu){el.submenuWidgetMenu('resetEvents');}},showItem:function(el,forced){if(this.interactionPrevented&&!forced){return;}
var submenu=el.find(this.options.floatingBox),submenuEl=submenu[0];this.elements.mainBlock.addClass('blocked');if(hasOpacity){submenu.css("visibility","visible");submenu.stop(true).animate({opacity:1},{duration:this.options.fadeDuration});}else{submenu.css("visibility","visible");}
submenu.addClass('visible');if(window.PIE&&!submenuEl.hasPie){var tabEl,headerLinkEl;setTimeout(function(){PIE.attach(submenuEl);(tabEl=submenu.find('.tab')[0])&&PIE.attach(tabEl);(headerLinkEl=submenu.find('.header a')[0])&&PIE.attach(headerLinkEl);submenuEl.hasPie=true;},0);}
if(this.options.isNestedMenu){submenu.addClass('opened')
el.submenuWidgetMenu('resetSelected');}},currentHover:function(){for(var i=0,len=this.elements.triggerLis.length;i<len;++i){var li=this.elements.triggerLis.eq(i);if(li.data('hovering')){return li;}}
return null;},includeWidget:function(key,func){var extra=this.element.find('li.'+key+' .extra');if(!this.options.isNestedMenu){extra.css('width',188);}
else{var floatBox=this.element.find('li.'+key+' .float-box');floatBox.removeClass('sem-widget');floatBox.addClass('com-widget');}
func(this.element,extra);extra.addClass('enabled');this.recalculateSize();},trackMouseMovement:function(currentLi){this.tracking=true;var trackingPoints=[];this.elements.mouseMoveArea.mousemove(function(e){trackingPoints.push([e.pageX,e.pageY]);});setTimeout($.proxy(function(){this.elements.mouseMoveArea.unbind('mousemove');this.tracking=false;var hoveredItem=this.currentHover();if(hoveredItem&&hoveredItem[0]==currentLi[0]){return;}
if(trackingPoints.length<2){this.hideItem(currentLi);if(hoveredItem){this.showItem(hoveredItem);}
return;}
var components=MathUtils.linearLeastSquares(trackingPoints),firstPoint=trackingPoints[0],lastPoint=trackingPoints[trackingPoints.length-1],distance=MathUtils.distance(firstPoint,lastPoint),factor=Math.abs(components[0])*distance,goingDown=(lastPoint[1]-firstPoint[1])>0;if(goingDown&&factor>=2.7){this.trackMouseMovement(currentLi);}else{this.hideItem(currentLi);if(hoveredItem){this.showItem(hoveredItem);}}},this),this.options.trackingTime);}});})(jQuery);(function($){var hasOpacity=$.support.opacity;$.widget("home.widgetMenuTouch",{options:{fadeDuration:400},_create:function(){if(this.element.hasClass('nested')){this.element.widgetMenu();return;}
this._createNewFloatBoxList();this._collectElements();this._defineSizes();this._bindEvents();this._setPagesPosition();},_defineSizes:function(){var $lis=this.elements.floatBoxes.find("> li"),size=$(window).width();$lis.css("width",size+"px");this.elements.floatBoxes.css("width",($lis.length*size)+"px");},_createNewFloatBoxList:function(){var $wrapper=$("<li class='float-boxes-wrapper' />"),$ul=$("<ul class='float-boxes' />"),$pages=$("<ul />"),$divWrapper=$("<div />");this.element.find("> li").each(function(){var $li=$("<li />").addClass($(this).attr("class").split(" ")[0]);var $page=$("<li><div></div></li>");$pages.append($page);$li.append($(this).find(".float-box").remove());$ul.append($li);});$divWrapper.append($ul);$divWrapper.append($("<div class='pages' />").append($pages));$divWrapper.append($("<a class='hide-bar' href='#'><span href='#'></span></a>"));$wrapper.append($divWrapper);this.element.append($wrapper);},includeWidget:function(key,func){var extra=this.element.find('li.'+key+' .extra');func(this.element,extra);extra.addClass('enabled');},_setPagesPosition:function(){this.elements.pages.css("left",((this.elements.floatBoxWrapper.width()/2)-(this.elements.pages.width()/2))+"px");},_collectElements:function(){this.elements={};this.elements.floatBoxWrapper=this.element.find(".float-boxes-wrapper");this.elements.floatBoxDivWrapper=this.elements.floatBoxWrapper.find("> div");this.elements.floatBoxes=this.elements.floatBoxWrapper.find(".float-boxes");this.elements.triggerLis=this.element.find('> li');this.elements.pages=this.element.find('.pages');this.elements.hide_bar=this.element.find('.hide-bar');},_bindEvents:function(){var self=this;this.scroller=new iScroll(this.elements.floatBoxDivWrapper[0],{vScroll:false,hScrollbar:false,vScrollbar:false,momentum:false,snap:true,bounce:false,onTouchEnd:function(){self._onTouchEnd(this.currPageX);}});this.elements.triggerLis.each($.proxy(function(i,el){this._bindTriggerEvents($(el));},this));libby.pubsub.on('responsiveHub.onContainerChanged',function(){self._defineSizes();self._setPagesPosition();self.scroller.refresh();if(self.elements.liShowing){self.scroller.scrollToPage(self.elements.liShowing.index(),0,0);}});this.elements.floatBoxDivWrapper.touchDragger({scrollBar:this.elements.hide_bar,offset:-34});this.elements.floatBoxDivWrapper.on("closed",function(){self._afterClose();});this.elements.floatBoxDivWrapper.on("opened",function(){self._afterOpen();});this.elements.floatBoxDivWrapper.on("moving",function(){self.elements.floatBoxWrapper.removeClass("closed");});this.elements.floatBoxDivWrapper.touchDragger("fastClose");},_onTouchEnd:function(index){this._selectIndex(index);},_selectIndex:function(index){this._unselectIndex();this.elements.triggerLis.eq(index).addClass("selected");this.elements.liShowing=this.elements.triggerLis.eq(index);this.elements.pages.find("li").eq(index).addClass("selected");},_unselectIndex:function(){this.elements.triggerLis.removeClass("selected");this.elements.pages.find("li").removeClass("selected");},_bindTriggerEvents:function(li){li.find("> a").bind("click",$.proxy(function(e){e.preventDefault();e.stopPropagation();if(this.elements.floatBoxes.is(":animated")){return;}
if(this.elements.liShowing&&this.elements.liShowing[0]==li[0]){this._closeMenu();}else{this.showItem(li);}},this));},_bindDocumentClose:function(){$(document).on('touchstart.menuWidgetTouch',$.proxy(this._onDocumentTouch,this));},_unbindDocumentClose:function(){$(document).off('touchstart.menuWidgetTouch');},_onDocumentTouch:function(e){var parentEl=this.element[0].parentNode,target=e.originalEvent.target||e.originalEvent.touches[0].target;while(target){if(target==parentEl){return;}
target=target.parentNode;}
this._closeMenu();},_closeMenu:function(speed){this.elements.floatBoxDivWrapper.touchDragger("close");this._afterClose();},_afterClose:function(){this.elements.floatBoxWrapper.addClass("closed");if(this.elements.liShowing){this.elements.liShowing.removeClass("selected");this.elements.liShowing=null;this.scroller.scrollToPage(0,0,0);this._unselectIndex();}
this._unbindDocumentClose();},_afterOpen:function(){this.elements.floatBoxWrapper.removeClass("closed");if(!this.elements.liShowing){this._selectIndex(0);}
this._bindDocumentClose();},_openMenu:function(){this.elements.floatBoxDivWrapper.touchDragger("open");this._afterOpen();},showItem:function(el){var speed=this.options.fadeDuration;if(this.elements.floatBoxWrapper.hasClass("closed")){this._openMenu();speed=0;}
this.scroller.scrollToPage(el.index(),0,speed);this._selectIndex(el.index());}});})(jQuery);(function($){var hasOpacity=$.support.opacity;$.widget("home.widgetMenuTouchSmart",{_create:function(){this._prepareElements();this._collectElements();this._addCloseButton();this._bindEvents();},_prepareElements:function(){var $menuWrapper=$("<div class='menu-wrapper' />");var $menuContainer=$("<div class='menu-container' />");$menuContainer.append(this.element.find(" > nav, .complementos").remove());$menuWrapper.append("<a href='#'>MENU<span></span></a>");$menuWrapper.append($menuContainer);this.element.append($menuWrapper);},_collectElements:function(){this.elements={};this.elements.menuWrapper=this.element.find(".menu-wrapper");this.elements.nav=this.elements.menuWrapper.find("nav");this.elements.menuToggle=this.elements.menuWrapper.find("> a");},_bindEvents:function(){var self=this;this.elements.menuToggle.bind("click",function(e){self.elements.menuWrapper.toggleClass("open");});this.elements.menuWrapper.find("span.close").bind("click",function(e){self.elements.menuWrapper.removeClass("open");});},_addCloseButton:function(){this.elements.nav.append("<span class='close'>FECHAR MENU <span></span></span>");}});})(jQuery);(function(){var $,ApiData,ChangeItem,ImageCrop,Trocador,__bind=function(fn,me){return function(){return fn.apply(me,arguments);};},__hasProp={}.hasOwnProperty;$=window.jQuery;ImageCrop=(function(){function ImageCrop(image,targetSize,callback){this.callback=callback;this.resize=__bind(this.resize,this);this.image=$(image);this.targetWidth=targetSize[0];this.targetHeight=targetSize[1];if(this.image.width()>0&&this.image.height()>0){this.resize();}else{this.image.load(this.resize);}}
ImageCrop.prototype.resize=function(){var finalWidth,sourceHeight,sourceWidth;sourceWidth=this.image[0].width;sourceHeight=this.image[0].height;if(this.targetWidth/sourceWidth>this.targetHeight/sourceHeight){this.image.width(this.targetWidth);}else{this.image.height(this.targetHeight);finalWidth=(sourceWidth/sourceHeight)*this.targetHeight;this.image.css('margin-left',(this.targetWidth-finalWidth)/2);}
if(this.callback){return this.callback();}};return ImageCrop;})();ApiData=(function(){ApiData.prototype.areaMap={news:'noticias',sports:'esportes',etc:'entretenimento'};function ApiData(){var area,_ref;this.callbacks={};this.data={};this.usedItems={};this.requestsFired={};this.updateExcludeLinks();_ref=this.areaMap;for(area in _ref){if(!__hasProp.call(_ref,area))continue;this.doRequest(area);}}
ApiData.prototype.updateExcludeLinks=function(){var link,_i,_len,_ref;this.excludedLinks={};_ref=$('#bloco-principal a, .container.columns a');for(_i=0,_len=_ref.length;_i<_len;_i++){link=_ref[_i];this.excludedLinks[link.href]=true;}
return null;};ApiData.prototype.doRequest=function(area){var url,_this=this;if(this.requestsFired[area]){return;}
this.requestsFired[area]=true;url="http://recomendacao.globo.com/rec/v2/user/?client_id=home&limit=50&content_id="+this.areaMap[area];return $.ajax({url:url,jsonpCallback:"recomendacao_"+area,cache:true,dataType:'jsonp',success:function(response){return _this.onRequestReady(area,response);}});};ApiData.prototype.onRequestReady=function(area,response){var callback,_i,_len,_ref;if(!response){return;}
this.data[area]=response;if(this.callbacks[area]){_ref=this.callbacks[area];for(_i=0,_len=_ref.length;_i<_len;_i++){callback=_ref[_i];callback(this.data[area]);}
return this.callbacks[area]=null;}};ApiData.prototype.getItems=function(area,callback){var data;this.doRequest(area);data=this.data[area];if(data){return callback(data);}
if(!this.callbacks[area]){this.callbacks[area]=[];}
return this.callbacks[area].push(callback);};ApiData.prototype.getOneItem=function(area,withPhoto,callback){var _this=this;return this.getItems(area,function(data){var cleanLink,item,_i,_len;for(_i=0,_len=data.length;_i<_len;_i++){item=data[_i];cleanLink=item.url.replace(/#.*$/,'');if(_this.getVisited(item.url)){continue;}
if(withPhoto&&!item.photos.original){continue;}
if(_this.usedItems[item.url]){continue;}
if(_this.excludedLinks[cleanLink]){continue;}
_this.usedItems[item.url]=true;return callback(item);}});};ApiData.prototype.getVisited=function(url){var urlInList,visited,_i,_len,_ref;if(!this.visited){visited=localStorage.getItem('visitedPages');this.visited=visited?JSON.parse(visited):[];if(!this.visited.slice){this.visited=[];}
this.visitedMap={};_ref=this.visited;for(_i=0,_len=_ref.length;_i<_len;_i++){urlInList=_ref[_i];this.visitedMap[urlInList]=true;}}
return this.visitedMap[url];};ApiData.prototype.addVisitedUrl=function(url){var current_url,i,_i,_len,_ref;if(this.getVisited(url)){_ref=this.visited;for(i=_i=0,_len=_ref.length;_i<_len;i=++_i){current_url=_ref[i];if(current_url===url){this.visited.splice(i,1);break;}}}
this.visitedMap[url]=true;this.visited.unshift(url);if(this.visited.length>100){this.visited.splice(100);}
try{return localStorage.setItem('visitedPages',JSON.stringify(this.visited));}catch(_error){}};return ApiData;})();ChangeItem=(function(){function ChangeItem(newsEl,apiData){var imgEl,link;this.apiData=apiData;this.onApiData=__bind(this.onApiData,this);this.recalculateArea=__bind(this.recalculateArea,this);this.changed=false;this.newsEl=$(newsEl);imgEl=this.newsEl.find('img');this.hasImage=imgEl.length>0;if(this.hasImage){this.imgWidth=imgEl.width();this.imgHeight=imgEl.height();}
link=this.newsEl.find('a');this.url=link.attr('href');if(this.apiData.getVisited(this.url)){this.change();}
window.responsiveHub.addEvent('onContainerChanged',this.recalculateArea);}
ChangeItem.prototype.recalculateArea=function(newWidth,oldWidth,containerKind){var borderEl,imgEl;if(!(this.hasImage&&this.changed)){return;}
imgEl=this.newsEl.find('img');borderEl=imgEl.closest('.borda-foto');this.imgWidth=borderEl.width();this.imgHeight=borderEl.height();return new ImageCrop(imgEl,[this.imgWidth,this.imgHeight]);};ChangeItem.prototype.onClick=function(){this.apiData.addVisitedUrl(this.url);return this.change();};ChangeItem.prototype.change=function(){var area,sectionEl;sectionEl=this.newsEl.closest('section');area=sectionEl[0].className.match(/\s+(.*?)-column/)[1];return this.apiData.getOneItem(area,this.hasImage,this.onApiData);};ChangeItem.prototype.onApiData=function(item){var clonned,imgEl,link,newImage,textEl,_this=this;clonned=this.newsEl.clone();clonned.addClass('changed');textEl=clonned.find('.conteudo p');textEl.text(item.title);textEl.dotdotdot();link=clonned.find('a');link.attr('href',item.url);link.attr('title','');imgEl=this.newsEl.find('img');if(imgEl.length>0){newImage=new Image();new ImageCrop(newImage,[this.imgWidth,this.imgHeight],function(){return _this.onImageLoaded(clonned,item);});newImage.src=item.photos.original;return clonned.find('img').replaceWith(newImage);}else{return this.onImageLoaded(clonned,item);}};ChangeItem.prototype.onImageLoaded=function(clonned,item){var _this=this;return libby.responsive.scrollSpy.add(this.newsEl[0],function(){return _this.runAnimation(clonned,item);});};ChangeItem.prototype.runAnimation=function(clonned,item){var _this=this;if(!this.animationContainer){this.animationContainer=$('<div class="animation-container"></div>');this.animationContainer.insertAfter(this.newsEl).append(this.newsEl);}
clonned.data('changeItemInstance',this);clonned.addClass('in');this.newsEl.addClass('out');this.animationContainer.addClass('animating');this.animationContainer.css({width:""+(this.newsEl.outerWidth())+"px",height:""+(this.newsEl.outerHeight())+"px"});clonned.insertAfter(this.newsEl);return setTimeout(function(){_this.animationContainer.addClass('animation-run');return clonned.on('transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd',function(){if(_this.newsEl[0]===clonned[0]){return;}
_this.animationContainer.removeClass('animation-run animating');_this.animationContainer.css({width:'',height:''});_this.newsEl.remove();clonned.removeClass('in');_this.newsEl=clonned;_this.url=item.url;return _this.changed=true;});},0);};return ChangeItem;})();Trocador=(function(){function Trocador(userId){var _this=this;this.userId=userId;if(!window.globoAB){return;}
this.columns=$('.container.columns');this.experiment='home-troca-colunas-recomendacao-interno';this.version='sem-troca';globoAB.get({experiment:this.experiment,defaultValue:this.version,userId:this.userId},function(version){_this.version=version;if(_this.version==='com-troca'){return _this.runChanges();}});this.bindEvents();}
Trocador.prototype.runChanges=function(){var el,_i,_len,_ref,_results;this.apiData=new ApiData();_ref=this.columns.find('section .destaque:not(.changed)');_results=[];for(_i=0,_len=_ref.length;_i<_len;_i++){el=_ref[_i];_results.push($(el).data('changeItemInstance',new ChangeItem(el,this.apiData)));}
return _results;};Trocador.prototype.bindEvents=function(){var _this=this;return this.columns.on('click','section .destaque',function(ev){var instance,target;globoAB.conversion({experiment:_this.experiment,version:_this.version});target=$(ev.currentTarget);instance=target.data('changeItemInstance');if(instance){return instance.onClick();}});};return Trocador;})();window.libby.pubsub.on('userLoggedIn',function(ev,userData){var isFinal,_base;isFinal=!!window.location.href.match(/(.globo.com)|(local.globoi?.com)/);if(isFinal&&userData&&(userData.email.match(/(.*@corp\.globo\.com|fab.*@spam\.la)/))){window.glb||(window.glb={});(_base=window.glb).preferences||(_base.preferences=[]);return window.glb.preferences.push(['get',{product:'home',key:'column-experiment',callback:function(experimentFlag){if(experimentFlag&&experimentFlag.match(/false|0/i)){return;}
return new Trocador(userData.email);}}]);}});}).call(this);var DestaqueUber=(function($,window){var $uber,$thisuber,intervalNav,timeInterval=30000;function init(){$uber=$('.box-destaque-uber');_changeGrid();_hoverHighlight();_hasOpecBanner();};var _changeGrid=function(){var $outerGlbconteudo=$uber.parents('.glb-conteudo');if(!$outerGlbconteudo.hasClass('conteudo-uber')){$outerGlbconteudo.addClass('conteudo-uber');}
_buildPagination();};var _hoverHighlight=function(){$('.box-destaque-uber > .geui-box-foto-animada a').on('mouseenter',function(){$('.destaques-secundarios',$(this).parents('.box-destaque-uber')).css('opacity',0.5);}).on('mouseleave',function(){$('.destaques-secundarios',$(this).parents('.box-destaque-uber')).removeAttr('style');});$('.box-destaque-uber .destaques-secundarios .chamada').on('mouseenter',function(){$('.destaques-primario',$(this).parents('.box-destaque-uber')).css('opacity',0.5);$(this).siblings().css('opacity',0.5);}).on('mouseleave',function(){$('.destaques-primario',$(this).parents('.box-destaque-uber')).removeAttr('style');$(this).siblings().css('opacity',0.5).removeAttr('style');});};var _hasOpecBanner=function(){var opecBanner=setInterval(function(){if($('.conteudo-uber .destaque-publicidade').length>=1){$('.box-destaque-uber').addClass('banner-opec');clearInterval(opecBanner);}},500);};var _movePage=function(){nowActive=$('.conteudo-uber .box-destaque-uber.active');nowActiveBullet=$('.conteudo-uber .bullet.active');if($(this).hasClass('fa-angle-left')){if($('.box-destaque-uber.active').prev('.box-destaque-uber').length==1){$('.box-destaque-uber.active').prev('.box-destaque-uber').addClass('active');$('.conteudo-uber .nav-uber-indicator .bullet.active').prev('.bullet').addClass('active');}else{$('.box-destaque-uber').last().addClass('active');$('.conteudo-uber .nav-uber-indicator .bullet').last().addClass('active');}}else{if($('.box-destaque-uber.active').next('.box-destaque-uber').length==1){$('.box-destaque-uber.active').next('.box-destaque-uber').addClass('active');$('.conteudo-uber .nav-uber-indicator .bullet.active').next('.bullet').addClass('active');}else{$('.box-destaque-uber').first().addClass('active');$('.conteudo-uber .nav-uber-indicator .bullet').first().addClass('active');}}
nowActive.removeClass('active');nowActiveBullet.removeClass('active');};var _bindIntervalNav=function(){$('.conteudo-uber').mouseenter(function(e){e.preventDefault();$(this).addClass('hoverNav');}).mouseleave(function(e){e.preventDefault();$(this).removeClass('hoverNav');});intervalNav=setInterval(function(){if(!$('.conteudo-uber').hasClass('hoverNav')){_movePage();}},timeInterval);};var _bindBtnsPagination=function(){var nowActive='';var nowActiveBullet='';$('.nav-uber-indicator .bullet').on('click',function(e){e.preventDefault();if(!$(this).hasClass('active')){$('.conteudo-uber .box-destaque-uber.active').removeClass('active');$($('.conteudo-uber .box-destaque-uber')[$(this).attr('data-order')]).addClass('active');$('.conteudo-uber .nav-uber-indicator .bullet.active').removeClass('active');$(this).addClass('active');}})
$('i.fa',$('.conteudo-uber')).on('click',function(e){e.preventDefault();_movePage();});};var _buildPagination=function(){var htmlNav='<i class="fa fa-angle-left animado"></i><i class="fa fa-angle-right animado"></i>';var htmlBalls='<div class="nav-uber-indicator"></div>';var htmlBullets='<span class="bullet" data-order="number"></span>';$uber.first().addClass('active');if($('.box-destaque-uber').length>=2&&$('.conteudo-uber i.fa').length==0){$('.conteudo-uber').append(htmlNav);$('.conteudo-uber').append(htmlBalls);$.each($('.box-destaque-uber'),function(ind,val){$('.nav-uber-indicator').append(htmlBullets.replace('number',ind));});$('.conteudo-uber .bullet').first().addClass('active');_bindBtnsPagination();_bindIntervalNav();}};return{init:init};})(jQuery,window);$(function(){DestaqueUber.init();});var DestaqueUberFh=(function($,window){var $uber,$stepMarkers,$pagerLiElements,$thisuber,iscroll,intervalNav,timeInterval=30000;function init(){$uber=$('.box-destaque-uber-fh');if($uber.length>0){_getElements();_changeGrid();_hoverHighlight();_hasOpecBanner();try{_initIscroll();}catch(e){}}}
var _getElements=function(){$stepMarkers=$uber.find('.step-marker li a');$pagerLiElements=$uber.find('.pages li');};var _onTouchEnd=function(){var page=iscroll.currentPage.pageX;$pagerLiElements.removeClass('selected');$pagerLiElements.eq(page).addClass('selected');$stepMarkers.find('.ball.active').removeClass('active');$stepMarkers.eq(page).find('.ball').addClass('active');};var _initIscroll=function(){iscroll=new IScroll('.box-destaque-uber-fh',{scroller:'.box-destaque-uber-container',scrollX:true,scrollY:false,momentum:false,bounce:false,snap:'article',snapSpeed:400,click:true,eventPassthrough:true,useTransform:false,HWCompositing:false});iscroll.on('scrollEnd',_onTouchEnd);};var _changeGrid=function(){var $outerGlbconteudo=$uber.parents('.glb-conteudo');if(!$outerGlbconteudo.hasClass('conteudo-uber')){$outerGlbconteudo.addClass('conteudo-uber');}
_buildPagination();};var _hoverHighlight=function(){$('.box-destaque-uber-fh > .geui-box-foto-animada a').on('mouseenter',function(){$('.destaques-secundarios',$(this).parents('.box-destaque-uber-fh')).addClass('opacity-50');}).on('mouseleave',function(){$('.destaques-secundarios',$(this).parents('.box-destaque-uber-fh')).removeClass('opacity-50');});$('.box-destaque-uber-fh .destaques-secundarios .chamada').on('mouseenter',function(){$('.destaques-primario',$(this).parents('.box-destaque-uber-fh')).addClass('opacity-50');$(this).siblings().addClass('opacity-50');}).on('mouseleave',function(){$('.destaques-primario',$(this).parents('.box-destaque-uber-fh')).removeClass('opacity-50');$(this).siblings().removeClass('opacity-50');});};var _hasOpecBanner=function(){var opecBanner=setInterval(function(){if($('.conteudo-uber .destaque-publicidade').length>=1){$('.box-destaque-uber-fh').addClass('banner-opec');clearInterval(opecBanner);}},500);};var _movePage=function(){nowActive=$('.conteudo-uber .box-destaque-uber-fh.active');nowActiveBullet=$('.conteudo-uber .bullet.active');if($(this).hasClass('fa-angle-left')){if($('.box-destaque-uber-fh.active').prev('.box-destaque-uber-fh').length==1){$('.box-destaque-uber-fh.active').prev('.box-destaque-uber-fh').addClass('active');$('.conteudo-uber .nav-uber-indicator .bullet.active').prev('.bullet').addClass('active');}else{$('.box-destaque-uber-fh').last().addClass('active');$('.conteudo-uber .nav-uber-indicator .bullet').last().addClass('active');}}else{if($('.box-destaque-uber-fh.active').next('.box-destaque-uber-fh').length==1){$('.box-destaque-uber-fh.active').next('.box-destaque-uber-fh').addClass('active');$('.conteudo-uber .nav-uber-indicator .bullet.active').next('.bullet').addClass('active');}else{$('.box-destaque-uber-fh').first().addClass('active');$('.conteudo-uber .nav-uber-indicator .bullet').first().addClass('active');}}
nowActive.removeClass('active');nowActiveBullet.removeClass('active');};var _bindIntervalNav=function(){$('.conteudo-uber').mouseenter(function(e){e.preventDefault();$(this).addClass('hoverNav');}).mouseleave(function(e){e.preventDefault();$(this).removeClass('hoverNav');});intervalNav=setInterval(function(){if(!$('.conteudo-uber').hasClass('hoverNav')){_movePage();}},timeInterval);};var _bindBtnsPagination=function(){var nowActive='';var nowActiveBullet='';$('.nav-uber-indicator .bullet').on('click',function(e){e.preventDefault();if(!$(this).hasClass('active')){$('.conteudo-uber .box-destaque-uber-fh.active').removeClass('active');$($('.conteudo-uber .box-destaque-uber-fh')[$(this).attr('data-order')]).addClass('active');$('.conteudo-uber .nav-uber-indicator .bullet.active').removeClass('active');$(this).addClass('active');}});$('i.fa',$('.conteudo-uber')).on('click',function(e){e.preventDefault();_movePage();});};var _buildPagination=function(){var htmlNav='<i class="fa fa-angle-left animado"></i><i class="fa fa-angle-right animado"></i>';var htmlBalls='<div class="nav-uber-indicator"></div>';var htmlBullets='<span class="bullet" data-order="number"></span>';$uber.first().addClass('active');if($('.box-destaque-uber-fh').length>=2&&$('.conteudo-uber i.fa').length===0){$('.conteudo-uber').append(htmlNav);$('.conteudo-uber').append(htmlBalls);$.each($('.box-destaque-uber-fh'),function(ind,val){$('.nav-uber-indicator').append(htmlBullets.replace('number',ind));});$('.conteudo-uber .bullet').first().addClass('active');_bindBtnsPagination();_bindIntervalNav();}};return{init:init};})(jQuery,window);$(function(){DestaqueUberFh.init();});libby.containerKindDefer.get(function(containerKind){if(window.Modernizr&&Modernizr.touch){$('#home-menu').widgetMenuTouch();}else{$('#home-menu').widgetMenu();}});(function(){var EsportesMenuWidget,menuWidget,_this=this;EsportesMenuWidget=(function(){function EsportesMenuWidget(){var _this=this;this.onTeamsReady=function(teams){_this.teams=teams;return EsportesMenuWidget.prototype.onTeamsReady.apply(_this,arguments);};this.add=function(menu,extra){_this.menu=menu;_this.extra=extra;return EsportesMenuWidget.prototype.add.apply(_this,arguments);};this.getTeams();}
EsportesMenuWidget.prototype.add=function(menu,extra){this.menu=menu;this.extra=extra;this.extra.append(this.html);this.allBtns=this.extra.find(".btn");this.allLis=this.extra.find("li");return this.bindEvents();};EsportesMenuWidget.prototype.getTeams=function(){if(window.libby&&libby.soccerTeams){libby.soccerTeams.loadStyle('ab');return libby.soccerTeams.loadTeams('ab',this.onTeamsReady);}};EsportesMenuWidget.prototype.onTeamsReady=function(teams){this.teams=teams;this.render();return jQuery('.nested.widget-menu').widgetMenu('includeWidget','globoesporte',this.add);};EsportesMenuWidget.prototype.bindEvents=function(){var _this=this;this.extra.on('click','a.btn.serie-a',function(ev){return _this.onBtnClick(ev,'a');});return this.extra.on('click','a.btn.serie-b',function(ev){return _this.onBtnClick(ev,'b');});};EsportesMenuWidget.prototype.onBtnClick=function(ev,serie){ev.preventDefault();this.allBtns.removeClass('current');this.allBtns.filter(".serie-"+serie).addClass('current');this.allLis.removeClass('visible');return this.allLis.filter("[data-serie='"+serie+"']").addClass('visible');};EsportesMenuWidget.prototype.render=function(){var team,teamLis,_i,_len,_ref;teamLis="";_ref=this.teams;for(_i=0,_len=_ref.length;_i<_len;_i++){team=_ref[_i];teamLis+="<li data-serie=\""+team.serie+"\" class=\""+(team.serie==='a'?'visible':'')+"\">\n    <a class=\"searchable\" href=\""+team.permalink+"\" title=\""+team.nome_popular+"\">\n        "+team.nome_popular+"\n        <div class=\""+team.slug+"\"></div>\n    </a>\n</li>";}
return this.html="<div class=\"buttons-area\">\n    <a href=\"#\" class=\"btn serie-a current\">SÃRIE A</a>\n    <a href=\"#\" class=\"btn serie-b\">SÃRIE B</a>\n</div>\n<ul class=\"shields soccer-teams\">\n    "+teamLis+"\n</ul>";};return EsportesMenuWidget;})();menuWidget=new EsportesMenuWidget();}).call(this);(function(){var NewsMenuWidget,menuWidget,_this=this;NewsMenuWidget=(function(){function NewsMenuWidget(){var _base,_this=this;this.onStates=function(states){_this.states=states;return NewsMenuWidget.prototype.onStates.apply(_this,arguments);};this.onMouseEnter=function(ev){return NewsMenuWidget.prototype.onMouseEnter.apply(_this,arguments);};this.onGeolocation=function(geo){return NewsMenuWidget.prototype.onGeolocation.apply(_this,arguments);};this.onMenuState=function(data){return NewsMenuWidget.prototype.onMenuState.apply(_this,arguments);};this.onSelectedState=function(data){return NewsMenuWidget.prototype.onSelectedState.apply(_this,arguments);};this.onStateClick=function(ev){return NewsMenuWidget.prototype.onStateClick.apply(_this,arguments);};this.add=function(menu,extra){_this.menu=menu;_this.extra=extra;return NewsMenuWidget.prototype.add.apply(_this,arguments);};window.glb||(window.glb={});(_base=window.glb).preferences||(_base.preferences=[]);this.animationDuration=500;this.animationTargetHeight=42;this.originalHeight=0;this.geoReturned=false;this.getSelectedState();}
NewsMenuWidget.prototype.add=function(menu,extra){this.menu=menu;this.extra=extra;this.bindEvents();return this.extra.append(this.html);};NewsMenuWidget.prototype.bindEvents=function(){return this.extra.on('click','a.searchable',this.onStateClick);};NewsMenuWidget.prototype.onStateClick=function(ev){return glb.preferences.push(['put',{product:'home',key:'menu_estado',value:$(ev.currentTarget).data('uf'),asImg:true}]);};NewsMenuWidget.prototype.getSelectedState=function(){glb.preferences.push(['get',{product:'home',key:'menu_estado',callback:function(){}}]);return glb.preferences.push(['get',{product:'jornalismo',key:'regiao',callback:this.onSelectedState}]);};NewsMenuWidget.prototype.getMenuState=function(){return glb.preferences.push(['get',{product:'home',key:'menu_estado',callback:this.onMenuState}]);};NewsMenuWidget.prototype.getGeolocation=function(){globoapi.geo.onSuccess(this.onGeolocation);globoapi.geo.onNotFound(this.onGeolocation);return setTimeout(this.onGeolocation,1000);};NewsMenuWidget.prototype.onSelectedState=function(data){if(data){this.onGeolocation({state:{code:data.split('/')[0]}});return;}
return this.getMenuState();};NewsMenuWidget.prototype.onMenuState=function(data){if(data){this.onGeolocation({state:{code:data}});return;}
return this.getGeolocation();};NewsMenuWidget.prototype.onGeolocation=function(geo){if(this.geoReturned){return;}
this.geoReturned=true;this.geo=geo;if(!this.geo){this.geo={state:{code:"SP"}};}
return this.getStates();};NewsMenuWidget.prototype.onMouseEnter=function(ev){var colSel,floatBox,oldHeight,realHeight;floatBox=this.extra.parents('.float-box');colSel=this.menu.data('widgetMenu').options.columnsSelector;oldHeight=this.extra.height();this.originalHeight=oldHeight;this.extra.css('height','auto');realHeight=this.extra.height();this.extra.css('height',oldHeight);if(realHeight+this.animationTargetHeight>oldHeight){floatBox.find(colSel).animate({height:this.extra.height()+this.animationTargetHeight},{duration:this.animationDuration,easing:'easeOutCubic'});}
return this.extra.off('mouseenter',this.onMouseEnter);};NewsMenuWidget.prototype.getStates=function(){return $.getJSON('/libby/aplicacoes/cadastro_estados/estados/regioes_ordenado.json',this.onStates);};NewsMenuWidget.prototype.onStates=function(states){this.states=states;this.render();return jQuery('.nested.widget-menu').widgetMenu('includeWidget','g1',this.add);};NewsMenuWidget.prototype.render=function(){var myRegion,myRegionHtml,state,statesHtml,_i,_len,_ref;statesHtml="";myRegionHtml="";_ref=this.states;for(_i=0,_len=_ref.length;_i<_len;_i++){state=_ref[_i];statesHtml+="<li class=\"\">\n    <a href=\""+state.url+"\" title=\""+state.name+"\" data-uf=\""+(state.sigla.toUpperCase())+"\" class=\"searchable\">\n        <div class=\"state-flag "+(state.sigla.toLowerCase())+"\"></div>\n        <div class=\"state-border\"><div class=\"sigla-uf\">"+state.sigla+"</div></div>\n    </a>\n</li>";if(state.sigla===this.geo.state.code){myRegion=state;}}
if(myRegion){myRegionHtml="<div class=\"my-state-button-container analytics-custom-product analytics-id-suggest\">\n    <a class=\"my-state-button-area\" href=\""+myRegion.url+"\">\n        <div>\n            <div class=\"nav-arrow\"></div>\n            <div class=\"text-area\">\n                <div>procurando por</div>\n                <span>"+myRegion.name+"?</span>\n            </div>\n        </div>\n    </a>\n</div>";}
return this.html="<h4>seu estado</h4>\n"+myRegionHtml+"\n<ul class=\"flags-board\">"+statesHtml+"</ul>";};return NewsMenuWidget;})();menuWidget=new NewsMenuWidget;}).call(this);(function(){var NovelasMenuWidget,menuWidget,_this=this;NovelasMenuWidget=(function(){function NovelasMenuWidget(){var _this=this;this.onNovelas=function(novelas){_this.novelas=novelas;return NovelasMenuWidget.prototype.onNovelas.apply(_this,arguments);};this.add=function(menu,extra){_this.menu=menu;_this.extra=extra;return NovelasMenuWidget.prototype.add.apply(_this,arguments);};this.getNovelas();}
NovelasMenuWidget.prototype.add=function(menu,extra){this.menu=menu;this.extra=extra;return this.extra.append(this.html);};NovelasMenuWidget.prototype.getNovelas=function(){return $.getJSON('/libby/aplicacoes/cadastro_novelas/all_novelas.json',this.onNovelas);};NovelasMenuWidget.prototype.onNovelas=function(novelas){this.novelas=novelas;this.render();return jQuery('.nested.widget-menu').widgetMenu('includeWidget','gshow',this.add);};NovelasMenuWidget.prototype.render=function(){var novela,novelasHtml,_i,_len,_ref;novelasHtml="";_ref=this.novelas;for(_i=0,_len=_ref.length;_i<_len;_i++){novela=_ref[_i];novelasHtml+="<li class=\"novela\">\n    <a href=\""+novela.url+"\" class=\"searchable\">\n        <span class='borda-novela'>\n            <span></span>\n            <img src=\""+novela.logo_tv+"\"></img>\n        </span>\n        <span class=\"name\">"+novela.name+"</span>\n    </a>\n</li>";}
return this.html="<h4>novelas</h4>\n<ul class=\"novelas-list\">"+novelasHtml+"</ul>";};return NovelasMenuWidget;})();menuWidget=new NovelasMenuWidget;}).call(this);(function(window){var defaults={'pageContainerId':'home-pagecontent','staticPath':'http://s.glbimg.com/gl/ba/'},common={};var MobileHeaderHome=function(glb,options){common=glb['barra']['common'];this.options=common['extend'](common['clone'](defaults),options);this.pageContainer=common['getById'](this.options['pageContainerId']);this.pushMenu=common['getById']('home-push-menu');this.menuOpener=common['getById']('open-menu');this.searchForm=common['getById']('search-form');this.searchInput=common['getById']('search-globo');this.searchContainer=common['getById']('search-container');this.openSearch=common['getById']('open-search');this.closeSearch=common['getById']('close-search');this.pageBody=this.pageBody||common['getByTagName']('body');this.pageHtml=this.pageHtml||common['getByTagName']('html');};MobileHeaderHome.prototype.init=function(){this.bindEvents();};MobileHeaderHome.prototype.closeMenu=function(){var self=this;common['removeClass'](this.pageContainer,'content-pushed');common['removeClass'](this.pushMenu,'show-email');setTimeout(function(){common['removeClass'](self.pageBody,'lock-body');common['removeClass'](self.pageHtml,'lock-body');},300);this.pageContainer['style']['height']='';};MobileHeaderHome.prototype.openMenu=function(){if(document['documentElement']&&document['documentElement']['clientHeight']){this.pageContainer['style']['height']=document['documentElement']['clientHeight']+'px';}
common['addClass'](this.pageContainer,'content-pushed');common['addClass'](this.pageBody,'lock-body');common['addClass'](this.pageHtml,'lock-body');common['removeClass'](this.pushMenu,'show-email');};MobileHeaderHome.prototype.bindEvents=function(){var self=this,emailLink=common['getById']('home-push-menu-show-email'),emailHideLink=common['getById']('home-push-menu-hide-email');this.menuOpener['onclick']=function(ev){common.preventDefault(ev);if(common['hasClass'](self.pageBody,'lock-body')){self.closeMenu();self.pageContainer['onclick']=null;}else{self.openMenu();if(ev['stopPropagation']){ev['stopPropagation']();self.pageContainer['onclick']=function(ev){if(common['hasClass'](self.pageContainer,'content-pushed')){common.preventDefault(ev);self.closeMenu();}};}}};this.searchForm['onsubmit']=function(ev){common['removeClass'](self.searchContainer,'showing');};emailHideLink['onclick']=emailLink['onclick']=function(ev){common.preventDefault(ev);common['toggleClass'](self.pushMenu,'show-email');};this.openSearch['onclick']=function(ev){common['addClass'](self.searchContainer,'showing');self.searchInput['focus']();};this.closeSearch['onclick']=function(ev){common['removeClass'](self.searchContainer,'showing');self.searchInput['focus']();self.searchInput['blur']();};};window.MobileHeaderHome=MobileHeaderHome;})(window);glb.Refresher.getInstance({'timeout':300,onBeforeRefresh:function(timeout){if(window.glb.hasEventRefresh){window._gaq=window._gaq||[];window._gaq.push(['_trackEvent','Refresh','Refresh',document.referrer,0,true]);}}});preventRefresh.captureRefresher();var glb_realtime_map={site:'home',categories:['portal'],url:'http://www.globo.com/'};$.ajax({url:'http://s.glbimg.com/bu/rt/js/glb-rt-min.js',dataType:'script',cache:true,success:function(){$.glbrealtime({data:{'49':{'spt':'famosos-etc','sel':'.famosos-etc .menu-columns >ul a','ctx':'#home-menu','reg':'menu'},'agrupador destaque globotv canais':{'spt':'agrupador destaque globotv','sel':'.libby-agrupador-destaque-globotv-com-canais a','ctx':'#area-widgets-direita-topo','reg':'video'},'45':{'spt':'globoesporte','sel':'.globoesporte .menu-columns >ul a','ctx':'#home-menu','reg':'menu'},'42':{'spt':'widget aeroportos','sel':'.libby-widget-servicos-aeroportos a','ctx':'section.globo-servicos','reg':'servicos'},'famosos':{'spt':'destaque horizontal famosos','sel':'a','ctx':'section.area.central .agrupador-super-wide-quadruplo-com-widget.famosos-style','reg':'franja famosos'},'39':{'spt':'widget fipe','sel':'.libby-widget-servicos-fipe a','ctx':'section.globo-servicos','reg':'servicos'},'47':{'spt':'gshow','sel':'.gshow .menu-columns >ul a','ctx':'#home-menu','reg':'menu'},'38':{'spt':'videos mais vistos','sel':'li a','ctx':'section.top-videos','reg':'videos mais vistos'},'musica-triplo':{'spt':'destaque horizontal musica','sel':'a','ctx':'section.area.central .agrupador-musica-triplo','reg':'franja musica'},'40':{'spt':'widget loterias','sel':'.libby-widget-servicos-loterias a','ctx':'section.globo-servicos','reg':'servicos'},'46':{'spt':'tecnologia','sel':'.tecnologia .menu-columns >ul a','ctx':'#home-menu','reg':'menu'},'32':{'spt':'mais vistas jornalismo','sel':'ol.noticias a','ctx':'#mais-vistas','reg':'mais vistas'},'24':{'spt':'jornalismo secundario {0}','sel':'div.destaque-terciario a','ctx':'.glb-area-colunas .news-column','reg':'coluna jornalismo'},'25':{'spt':'coluna esportes principal {0}','sel':'div.destaque-secundario a','ctx':'.glb-area-colunas .sports-column','reg':'coluna esportes'},'26':{'spt':'coluna esportes secundario {0}','sel':'div.destaque-terciario a','ctx':'.glb-area-colunas .sports-column','reg':'coluna esportes'},'27':{'spt':'coluna entretenimento principal {0}','sel':'div.destaque-secundario a','ctx':'.glb-area-colunas .etc-column','reg':'coluna entretenimento'},'mais entretenimento':{'spt':'destaque horizontal mais entretenimento','sel':'a','ctx':'section.area.central .agrupador-sextuplo','reg':'franja mais entretenimento'},'48':{'spt':'videos','sel':'.videos a','ctx':'#home-menu','reg':'menu'},'22':{'spt':'topo agrupador de links','sel':'.destaque-agrupador-links a','ctx':'#bloco-principal div.analytics-area.analytics-id-A','reg':'topo'},'urgente':{'spt':'destaque urgente','sel':'a','ctx':'#urgente','reg':'urgente'},'33':{'spt':'mais vistas esporte','sel':'ol.esportes a','ctx':'#mais-vistas','reg':'mais vistas'},'gshow':{'spt':'destaque horizontal gshow','sel':'a','ctx':'section.area.central .agrupador-super-wide-quadruplo-com-widget.gshow','reg':'franja gshow'},'musica-playlist':{'spt':'destaque horizontal musica','sel':'a','ctx':'section.area.central .agrupador-super-wide-com-widget-musica-playlist','reg':'franja musica'},'23':{'spt':'jornalismo principal {0}','sel':'div.destaque-secundario a','ctx':'.glb-area-colunas .news-column','reg':'coluna jornalismo'},'28':{'spt':'coluna entretenimento secundario {0}','sel':'div.destaque-terciario a','ctx':'.glb-area-colunas .etc-column','reg':'coluna entretenimento'},'43':{'spt':'links','sel':'.box-widget-servicos a','ctx':'section.globo-servicos','reg':'servicos'},'tecnologia e games quadruplo':{'spt':'destaque horizontal tecnologia e games','sel':'li >a','ctx':'section.area.central .agrupador-quadruplo-tecnologia','reg':'franja tecnologia e games'},'34':{'spt':'mais vistas entretenimento','sel':'ol.entretenimento a','ctx':'#mais-vistas','reg':'mais vistas'},'0':{'spt':'topo jornalismo','sel':'.destaque-primeiro-scroll.glb-hl-style-noticia a','ctx':'#bloco-principal div.analytics-area.analytics-id-A','reg':'topo'},'2':{'spt':'topo esportes','sel':'.destaque-primeiro-scroll.glb-hl-style-esporte a','ctx':'#bloco-principal div.analytics-area.analytics-id-A','reg':'topo'},'musica':{'spt':'destaque horizontal musica','sel':'a','ctx':'section.area.central .agrupador-musica','reg':'franja musica'},'4':{'spt':'topo entretenimento','sel':'.destaque-primeiro-scroll.glb-hl-style-entretenimento a','ctx':'#bloco-principal div.analytics-area.analytics-id-A','reg':'topo'},'6':{'spt':'topo rede globo','sel':'.destaque-primeiro-scroll.glb-hl-style-rede-globo a','ctx':'#bloco-principal div.analytics-area.analytics-id-A','reg':'topo'},'44':{'spt':'g1','sel':'.g1 .menu-columns >ul a','ctx':'#home-menu','reg':'menu'}},debug:false});}});(function($){var context=$(".assinante-responsive"),drop=context.find('select'),sendTo=context.find('a');function triggerNativeClick(element){if(document.createEvent){var evt=document.createEvent("MouseEvents");evt.initMouseEvent('click',true,true,window,0,0,0,0,0,false,false,false,false,0,null);return!element.dispatchEvent(evt);}
element.click();return true;}
drop.bind('change',$.proxy(function(ev){ev.preventDefault();var val=drop.val();if(val&&val!='#'){sendTo.attr('href',val);triggerNativeClick(sendTo[0]);}},this));}(jQuery));libby.containerKindDefer.get(function(containerKind){var areaTopVideos=$('.area.topglobocom .top-videos');if(areaTopVideos.length>0){areaTopVideos.widgetTopVideos({url:'http://api.globo.com/videos/top.jsonp',size:containerKind});}});var glb=window.glb||{},onLogin,barraLoaded;glb.barra={noinit:true,triggerWindowsOnHover:true};onLogin=function(userData){var authArea=document.getElementById('assinante-menu'),tooltipOptions,mobileHeaderHome;authArea.innerHTML="";if(userData&&('name'in userData)){libby.pubsub.trigger('userLoggedIn',userData);tooltipOptions={header:"seu acesso mudou!",title:"Acesse aqui seu globomail e outros serviÃ§os globo.com"};glb.barra.logged.addItems(authArea,userData);authArea.className+=' logged';}else{tooltipOptions={header:"seu acesso mudou!",title:"FaÃ§a seu login para acessar o globomail e outros serviÃ§os globo.com"};glb.barra.nonlogged.addItems(authArea);}
glb.barra.analytics.trackAllOut(authArea);mobileHeaderHome=new MobileHeaderHome(glb);mobileHeaderHome.init();};barraLoaded=function(){glb.barra.component=glb.barra.component||{};glb.barra.component.barraDiv=glb.barra.component.barraDiv||{className:''};if(!glb.barra.component.addCadunJs){glb.barra.auth.getUserData(onLogin);}else{window['cq']=window['cq']||[];window['cq'].push({'userInfoAvailable':function(){onLogin(Cadun.user.me);}});glb.barra.component.addCadunJs();}};libby.loadScript('http://s.glbimg.com/gl/ba/js/barra-globocom.min.js?nocache1',barraLoaded);(function($){if($.fn.dotdotdot){$('.columns .chamada .conteudo p').dotdotdot({watch:'window'});}}(jQuery));$(document).ready(function($){var scrollEventChance=0;if(window.glb&&glb.analyticsConfig&&glb.analyticsConfig.scrollEventChance){scrollEventChance=glb.analyticsConfig.scrollEventChance;}
if(parseInt(Math.random()*100)>=scrollEventChance)return;var classesMap={'.glb-area-colunas':'Colunas','.box-widgets-personalizaveis:eq(0)':'PersonalizaÃ§Ã£o Colunas','.libby-home-widgetBase:eq(0)':'Widget Colunas','section.agrupador-quadruplo-tecnologia':'Franja Tecnologia','section.agrupador-sextuplo':'Franja Sextupla','section.agrupador-super-wide-quadruplo-com-widget.famosos-style':'Franja Famosos','section.agrupador-super-wide-quadruplo-com-widget.gshow':'Franja GSHOW','section.agrupador-musica-triplo':'Franja MÃºsica','section.topglobocom':'Top Globo','section.globo-servicos':'Widgets ServiÃ§os','#glb-shopping-widget':'Globo Shopping','section.diretorio':'DiretÃ³rio','footer':'Footer'};var allClasses=[];for(var key in classesMap){if(!classesMap.hasOwnProperty(key)){continue;}
allClasses.push(key);}
var scrollAnalyzer=new libby.ScrollAnalyzer({marks:[],elements:$(allClasses.join(',')),labelMapper:function(element){element=$(element);for(var key in classesMap){if(!classesMap.hasOwnProperty(key)){continue;}
var selector=key.replace(/:eq.*$/,'');if(element.is(selector)){return classesMap[key];}}
return element.attr('class');}});});