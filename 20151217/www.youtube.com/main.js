function init(){elems.mainContainer=getById("mainContent"),elems.exit=getById("exit"),elems.frames=document.getElementsByClassName("copy"),elems.video={},elems.video.vid=getById("video"),elems.exit=getById("exit"),elems.share=getById("shareButton"),elems.socialBox=getByClass("share",1),elems.socialLinks=getByClass("social"),elems.autoplay=!0,elems.isClick=!1,elems.buttonSize=.75,elems.bannerClicked=0,elems.stopLoopId,addVideoTracking(),checkVideoReady(),elems.socialUrls={mail:"mailto:%20?subject=Devenez%20l%27un%20des%20prochains%20visages%20de%20la%20campagne%20Google%20Moteur%20de%20RÃ©ussites&body=Rejoignez%20le%20mouvement%20%23moteurdereussites%20en%20participant%20au%20concours%20organisÃ©%20par%20Google.%20Racontez%20votre%20histoire%20et%20tentez%20de%20devenir%20l%27un%20des%20visages%20de%20la%20prochaine%20campagne%20publicitaire.:%20https%3A%2F%2Fmoteurdereussites.withgoogle.com%2Fracontez-votre-reussite%2F",gPlus:"https://plus.google.com/share?url=https%3A%2F%2Fmoteurdereussites.withgoogle.com%2Fracontez-votre-reussite%2F",facebook:"https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fmoteurdereussites.withgoogle.com%2Fracontez-votre-reussite%2F&t=Participez%20au%20concours%20%23MoteurDeReussites%20pour%20tenter%20de%20devenir%20l%27un%20des%20visages%20de%20la%20prochaine%20campagne%20Google%20!%20https%3A%2F%2Fg.co%2FMoteurDeReussites",twitter:"https://twitter.com/intent/tweet?source=https%3A%2F%2Fmoteurdereussites.withgoogle.com%2Fracontez-votre-reussite%2F&text=Participez%20au%20concours%20%23MoteurDeReussites%20pour%20tenter%20de%20devenir%20l%27un%20des%20visages%20de%20la%20prochaine%20campagne%20Google%20!%20https%3A%2F%2Fg.co%2FMoteurDeReussites",linkedIn:"http://www.linkedin.com/shareArticle?mini=true&url=https%3A%2F%2Fmoteurdereussites.withgoogle.com%2Fracontez-votre-reussite%2F&title=Devenez%20l%27un%20des%20prochains%20visages%20de%20la%20campagne%20Google%20Moteur%20de%20R%C3%A9ussites&summary=Rejoignez%20le%20mouvement%20%23moteurdereussites%20en%20participant%20au%20concours%20organis%C3%A9%20par%20Google.%20Racontez%20votre%20histoire%20et%20tentez%20de%20devenir%20l%27un%20des%20visages%20de%20la%20prochaine%20campagne%20publicitaire.&source=https%3A%2F%2Fmoteurdereussites.withgoogle.com%2Fracontez-votre-reussite%2F"}}function checkVideoReady(){var e=setInterval(function(){elems.video.vid.readyState>=2&&(clearInterval(e),play(),elems.stopLoopId=setTimeout(loop,15e3))},100)}function play(){addListeners(),introLine()}function addListeners(){for(var e=0;e<elems.socialLinks.length;e++)elems.socialLinks[e].addEventListener("click",socialClicks,!0),0==e&&elems.socialLinks[e].setAttribute("data-href",elems.socialUrls[elems.socialLinks[e].id]);elems.exit.addEventListener("click",exitClickHandler,!1),elems.video.vid.addEventListener("ended",videoEndHandler,!1),elems.exit.addEventListener("mouseover",doButtonOver,!1),elems.exit.addEventListener("mouseout",doButtonOut,!1),elems.share.addEventListener("mouseover",showShareIcons,!1)}function showShareIcons(){elems.socialBox.addEventListener("mouseout",hideShareIcons,!1),$(elems.share,.5,{opacity:0}),$(elems.socialBox,0,{width:180,height:30,position:"relative"});for(var e=0;e<elems.socialLinks.length;e++)$(elems.socialLinks[e],.5,{opacity:1,x:40+32*e,ease:"easeInOutCubic"})}function hideShareIcons(e){for(var t=e.relatedTarget;null!=t;){if(t==this)return;t=t.parentNode}$(elems.share,.5,{delay:.25,opacity:1,ease:"easeInOutCubic"}),$(elems.socialBox,0,{width:30,height:30});for(var o=0;o<elems.socialLinks.length;o++)$(elems.socialLinks[o],.5,{opacity:0,x:0,ease:"easeInOutCubic"})}function introLine(){elems.video.vid.play(),0===elems.bannerClicked&&($("googleLogo",.25,{opacity:1,ease:"easeInOutQuad"}),$("googleLogo",.5,{delay:.75,x:-347,ease:"easeInOutQuad"}),$("lineOne",.5,{delay:.75,x:200,ease:"easeInOutQuad"}),removeClass("lineOne","out",.85),removeClass("lineOne","small",.85),setTimeout(shrinkCopy,1750),setTimeout(doCopy,3750))}function shrinkCopy(){$("googleLogo",.5,{scale:.45,y:102,x:-210,ease:"easeInOutQuad"}),$("lineOne",.5,{scale:.44,y:102,x:108,ease:"easeInOutQuad"}),addClass("lineOne","small")}function doCopy(){if(0===elems.bannerClicked){var e=0,t=0,o=.5,i=1,n=elems.frames.length;for(elems.buttonSize=.75,$("button",0,{scale:elems.buttonSize,x:-133}),$("button",.5,{delay:.25,opacity:1,scale:elems.buttonSize,x:-133,ease:"easeOutSine"});n>e;)$(elems.frames[e],o,{y:30,delay:t,opacity:1,ease:"easeOutCubic"}),t+=i,e!=n-1&&($(elems.frames[e],o,{y:30,delay:t,opacity:0,ease:"easeInOutCubic"}),t+=i),e++}}function doButtonOver(){replaceClass("button","active",0)}function doButtonOut(){replaceClass("button","",0)}function loop(){for(var e=document.getElementsByTagName("div"),t=e.length-1;t>=0;t--)"mainContent"!=e[t].id&&(e[t].style.transition="all 0s",e[t].style.opacity=0);addClass("lineOne","out"),setTimeout(function(){for(var t=e.length-1;t>=0;t--)e[t].removeAttribute("style")},100),setTimeout(function(){replayHandler(),play()},200)}function exitClickHandler(){clearTimeout(elems.stopLoopId),elems.video.vid.pause(),elems.bannerClicked=1,elems.buttonSize=1,elems.video.vid.readyState>0&&(elems.video.vid.currentTime=0),copyLines=elems.frames.length,addClass("lineOne","small",0),$("button",0,{scale:.75,x:-133,opacity:1}),$("lineFour",0,{y:30,opacity:1}),$("googleLogo",0,{scale:.45,y:102,x:-210}),$("lineOne",0,{scale:.44,y:102,x:108}),getById("lineTwo").innerHTML="",getById("lineThree").innerHTML="",getById("lineThreeA").innerHTML="",$("lineTwo",0,{opacity:0}),$("lineThree",0,{opacity:0}),$("lineThreeA",0,{opacity:0}),Enabler.exit("background")}function replayHandler(e){Enabler.counter("Replay video",!0),elems.video.vid.currentTime=.1,elems.video.vid.play()}function videoEndHandler(e){elems.video.vid.currentTime=0,elems.video.vid.pause(),elems.isClick=!0}function addVideoTracking(){e=document.createElement("source"),e.setAttribute("type","video/mp4"),e.setAttribute("src",Enabler.getUrl("video/MDRF_BackgroundMovie.mp4")),elems.video.vid.appendChild(e);var e=document.createElement("source");e.setAttribute("type","video/webm"),e.setAttribute("src",Enabler.getUrl("video/MDRF_BackgroundMovie.WebM")),elems.video.vid.appendChild(e),Enabler.loadModule(studio.module.ModuleId.VIDEO,function(){studio.video.Reporter.attach("Background Video",elems.video.vid)}.bind(this))}function pageLoadedHandler(){Enabler.isVisible()?init():Enabler.addEventListener(studio.events.StudioEvent.VISIBLE,init)}!function(e){"use strict";function t(e,o){var i=o.indexOf(".");return"undefined"==typeof e?!1:i>-1?t(e[o.substring(0,i)],o.substr(i+1)):e[o]}function o(e){var t=0;for(t=0;t<e.length;t++)if("undefined"!=typeof document.body.style[e[t]])return e[t];return null}function i(e,t,o){if("string"==typeof t&&(t=t.split(".")),t.length>1){var n=t.shift();i(e[n]="[object Object]"===Object.prototype.toString.call(e[n])?e[n]:{},t,o)}else e[t[0]]=o}var n=[],s={easeInSine:"0.47, 0, 0.745, 0.715",easeOutSine:"0.39, 0.575, 0.565, 1",easeInOutSine:"0.445, 0.05, 0.55, 0.95",easeInQuad:"0.55, 0.085, 0.68, 0.53",easeOutQuad:"0.25, 0.46, 0.45, 0.94",easeInOutQuad:"0.455, 0.03, 0.515, 0.955",easeInCubic:"0.55, 0.055, 0.675, 0.19",easeOutCubic:"0.215, 0.61, 0.355, 1",easeInOutCubic:"0.645, 0.045, 0.355, 1",easeInQuart:"0.895, 0.03, 0.685, 0.22",easeOutQuart:"0.165, 0.84, 0.44, 1",easeInOutQuart:"0.77, 0, 0.175, 1",easeInQuint:"0.755, 0.05, 0.855, 0.06",easeOutQuint:"0.23, 1, 0.32, 1",easeInOutQuint:"0.86, 0, 0.07, 1",easeInExpo:"0.95, 0.05, 0.795, 0.035",easeOutExpo:"0.19, 1, 0.22, 1",easeInOutExpo:"1, 0, 0, 1",easeInCirc:"0.6, 0.04, 0.98, 0.335",easeOutCirc:"0.075, 0.82, 0.165, 1",easeInOutCirc:"0.785, 0.135, 0.15, 0.86",easeOutBack:"0.175, 0.885, 0.32, 1.275",easeInBack:"0.6, -0.28, 0.735, 0.045",linear:"0, 0, 1, 1"},a=["transform","msTransform","webkitTransform","mozTransform","oTransform"],l=["transition","msTransition","webkitTransition","mozTransition","oTransition"],r=o(a),d=o(l),u=["top","left","right","bottom"],c=window;c.getById=function(e){return c.document.getElementById(e)},c.getByClass=function(e,t){return void 0!==t?c.document.getElementsByClassName(e)[t-1]:c.document.getElementsByClassName(e)},c.$=function(e,o,a){function l(){setTimeout(function(){void 0!=a.onComplete&&a.onComplete()},(a.delay||0)+1e3*o||75)}var c,m,p,g;for(c="string"==typeof e?document.querySelector("#"+e):e,g=0;g<u.length;g++)m=t(a,u[g]),p=t(c.style,u[g]),void 0!=m&&void 0===p&&(void 0===p||0===p)&&i(c.style,u[g],0);n.unshift(!1),setTimeout(function(){var e,t,i=c.style,u=a,m=u.ease,p=u.scale,g=(u.scaleX||p||null,u.scaleY||p||null,u.rotate||null,u.top||null,u.left||null,""),y="linear";i.webkitBackfaceVisibility=i.backface||"hidden",i.animationFillMode="both",-1!=u.ease&&(y=s.hasOwnProperty(u.ease)?"cubic-bezier("+s[m]+")":"cubic-bezier("+u.ease+")"),i.position=u.position||"absolute","undefined"!=typeof u.x&&(g=g+" translateX("+u.x+"px)"),"undefined"!=typeof u.y&&(g=g+" translateY("+u.y+"px)"),"undefined"!=typeof u.z&&(g=g+" translateZ("+u.z+"px)"),"undefined"!=typeof u.scale&&(g=g+" scale("+u.scale+", "+u.scale+")"),"undefined"!=typeof u.scaleY&&(g=g+" scaleY("+u.scaleY+")"),"undefined"!=typeof u.scaleX&&(g=g+" scaleX("+u.scaleX+")"),"undefined"!=typeof u.skewY&&(g=g+" skewY("+u.skewY+"deg)"),"undefined"!=typeof u.skewX&&(g=g+" skewX("+u.skewX+"deg)"),"undefined"!=typeof u.rotate&&(g=g+" rotate("+u.rotate+"deg)"),"undefined"!=typeof u.rotateX&&(g=g+" rotateX("+u.rotateX+"deg)"),"undefined"!=typeof u.rotateY&&(g=g+" rotateY("+u.rotateY+"deg)"),"undefined"!=typeof u.rotateZ&&(g=g+" rotateZ("+u.rotateZ+"deg)"),i[r]=g,i[d]="all "+o+"s",i.transitionTimingFunction=y,i.opacity=u.alpha||u.opacity,i.top=u.top+"px",i.left=u.left+"px",i.bottom=u.bottom+"px",i.right=u.right+"px",i.width=u.width+"px",i.height=u.height+"px",i.marginTop=u.marginTop+"px",i.marginRight=u.marginRight+"px",i.marginBottom=u.marginBottom+"px",i.marginLeft=u.marginLeft+"px",i.paddingTop=u.paddingTop+"px",i.paddingRight=u.paddingRight+"px",i.paddingBottom=u.paddingBottom+"px",i.paddingLeft=u.paddingLeft+"px",i.backgroundColor=u.backgroundColor,e="undefined"!=typeof u.backgroundX?u.backgroundX:0,t="undefined"!=typeof u.backgroundY?u.backgroundY:0,0!=t&&0!=e&&(i.backgroundPosition=e+"px "+t+"px"),n.pop(),l()},1e3*a.delay),a.onStart&&a.onStart()},c.addClass=function(e,t,o){var i=o||0;e="string"==typeof e?document.querySelector("#"+e):e,setTimeout(function(){e.className=e.className+" "+t},1e3*i)},c.replaceClass=function(e,t,o){var i=o||0;e="string"==typeof e?document.querySelector("#"+e):e,setTimeout(function(){e.className=t},1e3*i)},c.removeClass=function(e,t,o){var i=o||0,n=t;e="string"==typeof e?document.querySelector("#"+e):e,setTimeout(function(){e.className=e.className.replace(n,"")},1e3*i)}}();var elems={},socialClicks=function(e){switch(e.target.id){case"mail":Enabler.counter("mail");break;case"gPlus":Enabler.exit("gPlus");break;case"facebook":Enabler.exit("facebook");break;case"twitter":Enabler.exit("twitter");break;case"linkedIn":Enabler.exit("linkedIn")}clearTimeout(elems.stopLoopId),elems.video.vid.pause(),elems.bannerClicked=1,elems.buttonSize=1,elems.video.vid.readyState>0&&(elems.video.vid.currentTime=0),copyLines=elems.frames.length,addClass("lineOne","small",0),$("button",0,{scale:.75,x:-133,opacity:1}),$("lineFour",0,{y:30,opacity:1}),$("googleLogo",0,{scale:.45,y:102,x:-210}),$("lineOne",0,{scale:.44,y:102,x:108}),getById("lineTwo").innerHTML="",getById("lineThree").innerHTML="",getById("lineThreeA").innerHTML="",$("lineTwo",0,{opacity:0}),$("lineThree",0,{opacity:0}),$("lineThreeA",0,{opacity:0}),"mail"!=e.target.id||(location.href=this.getAttribute("data-href"))};window.onload=function(){Enabler.isInitialized()?pageLoadedHandler():Enabler.addEventListener(studio.events.StudioEvent.INIT,pageLoadedHandler)};