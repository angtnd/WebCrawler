ï»¿var sasBackground={d:document,w:window,c:SmartBackgroundConfig,timer:0,closed:false,addElement:function(e,d,a){var b=this.d.createElement(e);for(var c in a){b.setAttribute(c,a[c])}d.appendChild(b);return b},hasFlash:function(){try{if(new ActiveXObject("ShockwaveFlash.ShockwaveFlash")){return true}}catch(a){if(undefined!=navigator.mimeTypes["application/x-shockwave-flash"]&&(navigator.mimeTypes["application/x-shockwave-flash"]).enabledPlugin){return true}}return false},sasOpen:function(a){if(this.c.creative.clickTarget=="_blank"){this.w.open(a)}else{this.d.location=a}},addClickMap:function(){if(this.c.clickMap.pageWidth){if(this.c.other.fakeBodyIdTag&&this.d.getElementById(this.c.other.fakeBodyIdTag)){var f=this.d.getElementById(this.c.other.fakeBodyIdTag);f.insertBefore(this.relDiv,f.firstChild)}var a=this.addElement("div",this.relDiv,{id:"sas-clickMap1_"+this.c.insertionId});var b=this.addElement("a",a,{id:"sas-clickMap11_"+this.c.insertionId,"class":"sas-clickMapLeftRight_"+this.c.insertionId,href:this.c.creative.clickUrl,target:this.c.creative.clickTarget});if(this.c.background.attachment=="fixed"){b.style.position="fixed"}var c=this.addElement("div",this.relDiv,{id:"sas-clickMap2_"+this.c.insertionId});var d=this.addElement("a",c,{id:"sas-clickMap22_"+this.c.insertionId,"class":"sas-clickMapLeftRight_"+this.c.insertionId,href:this.c.creative.clickUrl,target:this.c.creative.clickTarget});if(this.c.background.attachment=="fixed"){d.style.position="fixed"}if(this.c.clickMap.topPartHeight){var e=this.addElement("a",this.relDiv,{id:"sas-clickMap3_"+this.c.insertionId,href:this.c.creative.clickUrl,target:this.c.creative.clickTarget})}}else{if(sasBackground.c.other.fakeBodyIdTag){this.fakeBodyIdTagObject=this.d.getElementById(this.c.other.fakeBodyIdTag);this.fakeBodyIdTagObject.onclick=function(g){var h=g?g:event;if(!h){return}var i=h.target?h.target:h.srcElement;if(i.id!=sasBackground.c.other.fakeBodyIdTag){return}sasBackground.sasOpen(""+sasBackground.c.creative.clickUrl)}}else{this.d.onclick=function(g){if(sasBackground.closed==false){var h=g?g:event;if(!h){return}var i=h.target?h.target:h.srcElement;var j=navigator.userAgent;if(j.match(/iPad/i)){if(i.nodeType==3){i=i.parentNode}}if((!i||i.tagName!="BODY")&&i.parentNode.tagName!="BODY"){return}sasBackground.sasOpen(""+sasBackground.c.creative.clickUrl)}}}}},addCss:function(){var f=this.c.other.important?"!important":"";var a=(-(Math.floor(this.c.creative.width/2)))+this.c.other.horizontalOffset;var b=(this.c.other.verticalOffset)?this.c.other.verticalOffset+"px":0;var d=this.c.elementOffset.contentVerticalOffset?"padding-top:"+this.c.elementOffset.contentVerticalOffset+"px "+f+";":"";var c=(this.c.clickMap.verticalOffset)?this.c.clickMap.verticalOffset+"px":0;this.d.body.style.overflowX="hidden";var e=this.d.createElement("style");e.type="text/css";var g=["#sas-relDiv_"+this.c.insertionId+"{position:relative;width:1px;margin:0 auto;overflow:visible;}","#sas-relDiv_"+this.c.insertionId+" #sas-backgroundDiv_"+this.c.insertionId+" img{max-width:none}","#sas-backgroundDiv_"+this.c.insertionId+"{width:"+this.c.creative.width+"px;height:"+this.c.creative.height+"px;position:absolute;z-index:"+this.c.other.zIndex+";top:"+b+";left:"+a+"px}","#sas-backgroundDivBackup_"+this.c.insertionId+"{width:"+this.c.creative.backup.width+"px;height:"+this.c.creative.backup.height+"px;position:absolute;z-index:"+this.c.other.zIndex+";top:"+b+";left:"+a+"px}","#sas_closeButton_"+this.c.insertionId+"{position:"+(this.c.background.attachment=="fixed"?"fixed":"absolute")+";top:30px;right:30px;cursor:pointer;font;font-family: Arial,sans-serif; font-size:"+(this.c.close.linkFontSize)+"px;z-index:"+(this.c.clickMap.zIndex+this.c.other.zIndex+9999)+";color:#"+this.c.close.linkColor+"}",".sas_defaultCloseButton_"+this.c.insertionId+"{margin-left:10px;z-index:"+(this.c.clickMap.zIndex+this.c.other.zIndex+9999)+";width:27px;height:27px;-webkit-tap-highlight-color: rgba(0,0,0,0);-webkit-user-select:none;cursor:pointer;}",".sas-clickMapLeftRight_"+this.c.insertionId+"{width:"+this.c.clickMap.width+"px;height:"+this.c.clickMap.height+"px;z-index:"+this.c.clickMap.zIndex+";display:block;outline:0;border:"+(this.c.clickMap.testBorderLine?"1px dashed black":"none")+";}","#sas-clickMap1_"+this.c.insertionId+"{position:absolute;top:"+c+";left:-"+(Math.floor(this.c.clickMap.pageWidth/2)+this.c.clickMap.width-this.c.clickMap.horizontalOffset)+"px;z-index:"+this.c.clickMap.zIndex+";}","#sas-clickMap2_"+this.c.insertionId+"{position:absolute;top:"+c+";left:"+(Math.floor(this.c.clickMap.pageWidth/2)+this.c.clickMap.horizontalOffset)+"px;z-index:"+this.c.clickMap.zIndex+";}","#sas-clickMap3_"+this.c.insertionId+"{width:"+this.c.clickMap.pageWidth+"px;height:"+this.c.clickMap.topPartHeight+"px;position:absolute;top:"+c+";left:-"+(Math.floor(this.c.clickMap.pageWidth/2)-this.c.clickMap.horizontalOffset)+"px;display:block;z-index:"+this.c.clickMap.zIndex+";outline:0;border:"+(this.c.clickMap.testBorderLine?"1px dashed black":"none")+";}",].join("\r\n");if(this.c.creative.type==1||(!this.hasFlash()&&this.c.creative.type==2)){if(!this.hasFlash()&&this.c.creative.type==2){this.c.creative.url=this.c.creative.backup.url}g+="\r\n"+((this.c.other.fakeBodyIdTag)?"#"+this.c.other.fakeBodyIdTag:"body")+"{background: #"+this.c.background.color+' url("'+this.c.creative.url+'") '+this.c.background.repeat+" "+this.c.background.position+" "+this.c.background.attachment+" "+f+";cursor:"+(this.c.other.forcePointerCursor?"pointer":"default")+" "+f+";"+d+"}";g+="\r\n"+((this.c.other.fakeBodyIdTag)?"#"+this.c.other.fakeBodyIdTag:"body")+" > *{cursor: auto "+f+";}";this.d.body.style.backgroundSize="auto"}else{g+="\r\nbody{background-color: #"+this.c.background.color+";cursor:"+(this.c.other.forcePointerCursor?"pointer":"default")+";"+d+"}";if(this.c.background.attachment=="fixed"){g+="\r\n#sas-backgroundDiv2_"+this.c.insertionId+"{position:fixed}"}}if(this.c.elementOffset.elementId!=""){g+="\r\n"+(this.c.elementOffset.elementType=="id"?"#":".")+this.c.elementOffset.elementId+"{margin-top:"+this.c.elementOffset.value+"px "+f+"}"}if(e.styleSheet){e.styleSheet.cssText=g}else{e.appendChild(this.d.createTextNode(g))}if(typeof(sas_ajax)!="undefined"&&sas_ajax&&this.c.formatId){sas_appendToContainer(this.c.formatId,e)}else{this.d.getElementsByTagName("head")[0].appendChild(e)}},close:function(){this.closed=true;clearTimeout(this.timer);if(this.relDiv){this.relDiv.parentNode.removeChild(this.relDiv)}if(this.closeButton){this.closeButton.parentNode.removeChild(this.closeButton)}if(this.c.other.fakeBodyIdTag&&this.d.getElementById(this.c.other.fakeBodyIdTag)){this.d.getElementById(this.c.other.fakeBodyIdTag).style.backgroundImage="none";this.d.getElementById(this.c.other.fakeBodyIdTag).style.backgroundColor="transparent"}else{this.d.body.style.backgroundImage="none";this.d.body.style.backgroundColor="transparent"}if(this.c.other.forcePointerCursor){this.d.body.style.cursor="default"}if(this.c.elementOffset.elementId!=""){if(this.c.elementOffset.elementType=="id"&&this.d.getElementById(this.c.elementOffset.elementId)){this.d.getElementById(this.c.elementOffset.elementId).style.marginTop=0}else{var b=this.d.getElementsByClassName(this.c.elementOffset.elementId);for(var a=0;a<b.length;a++){b[a].style.marginTop="0"}}}if(this.c.elementOffset.contentVerticalOffset){if(this.c.other.fakeBodyIdTag&&this.d.getElementById(this.c.other.fakeBodyIdTag)){this.d.getElementById(this.c.other.fakeBodyIdTag).style.paddingTop=0}else{this.d.body.style.paddingTop=0}}},addCreative:function(){var a=this.addElement("div",this.relDiv,{id:"sas-backgroundDiv_"+this.c.insertionId});var b=this.addElement("div",a,{id:"sas-backgroundDiv2_"+this.c.insertionId});if(this.c.creative.type==0){var f=this.addElement("iframe",b,{src:"about:blank",width:this.c.creative.width,height:this.c.creative.height,frameBorder:"0",scrolling:"no",marginheight:"0",marginwidth:"0"});var c=f.contentWindow.document;c.open("text/html","replace");c.write('<!DOCTYPE html><head></head><body style="padding:0;margin:0">'+this.c.creative.agencyCode+'<script type="text/javascript">try{function findUrl(){var myWin = window.parent;var tableOfA = document.getElementsByTagName("A");if(tableOfA[0].href){myWin.sasBackground.c.creative.clickUrl = myWin.sasBackground.c.creative.clickUrl + encodeURIComponent(tableOfA[0].href);myWin.sasBackground.c.creative.clickTarget = tableOfA[0].target;myWin.sasBackground.addClickMap();}}if(window.addEventListener) window.addEventListener("load", function(){findUrl()}, false);else window.attachEvent("onload", function(){findUrl()});}catch(e){}</script></body></html>');c.close()}else{if(this.c.creative.type==2){b.innerHTML=this.flash({movie:this.c.creative.url,wmode:this.c.creative.wMode,allowscriptaccess:"always",allowfullscreen:"true",flashvars:this.c.creative.flashVars},"",this.c.creative.width,this.c.creative.height)}else{if(this.c.creative.type==4){var e=this.c.creative.url+(this.c.creative.url.indexOf("?")<0?"?":"&")+"sasfid="+this.c.formatId;var f=this.addElement("iframe",b,{src:e,width:this.c.creative.width,height:this.c.creative.height,frameBorder:"0",scrolling:"no",marginheight:"0",marginwidth:"0"})}}}},flash:function(d,c,f,a){var e="";for(var b in d){e+='<param name="'+b+'" value="'+d[b]+'" />'}return'<object type="application/x-shockwave-flash" name="'+c+'" id="'+c+'" width="'+f+'" height="'+a+'" data="'+d.movie+'">'+e+"</object>"},addCloseButton:function(){this.closeButton=this.addElement("div",this.d.body,{id:"sas_closeButton_"+this.c.insertionId});if(this.c.close.linkText!=""){this.closeButton.innerHTML=this.c.close.linkText}if(this.c.close.defaultButton){var a=this.addElement("img",this.closeButton,{"class":"sas_defaultCloseButton_"+this.c.insertionId,src:(this.d.location.protocol=="https:"?"https://static":"http://ak-ns")+".sascdn.com/diff/templates/images/close_54x54.png"})}this.closeButton.onclick=function(){sasBackground.close()}},addFixes:function(){(function(){if(!sasBackground.d.getElementsByClassName){var a=[].indexOf||function(c){for(var b=0;b<this.length;b++){if(this[b]===c){return b}}return -1};getElementsByClassName=function(b,c){var d=sasBackground.d.querySelectorAll?c.querySelectorAll("."+b):(function(){var e=c.getElementsByTagName("*"),f=[],g=0;for(;g<e.length;g++){if(e[g].className&&(" "+e[g].className+" ").indexOf(" "+b+" ")>-1&&a.call(f,e[g])===-1){f.push(e[g])}}return f})();return d};sasBackground.d.getElementsByClassName=function(b){return getElementsByClassName(b,sasBackground.d)};Element.prototype.getElementsByClassName=function(b){return getElementsByClassName(b,this)}}})()},tracking:function(b){var a=new Image();a.src=b},cleanFix:function(){sas_addCleanListener("sas_"+this.c.formatId,function(){try{if(sasBackground.relDiv){sasBackground.relDiv.parentNode.removeChild(sasBackground.relDiv)}}catch(a){}})},init:function(){if(typeof(inDapIF)!="undefined"&&inDapIF){this.d=window.parent.document;this.w=window.parent}else{if("undefined"!=typeof sas_in_iframe_popout&&sas_in_iframe_popout){this.d=sas_topmost_iframe().ownerDocument;this.w=top.window}}this.addFixes();this.addCss();this.relDiv=this.d.createElement("div");this.relDiv.setAttribute("id","sas-relDiv_"+this.c.insertionId);this.d.body.insertBefore(this.relDiv,this.d.body.firstChild);if("undefined"!=typeof sas_ajax&&sas_ajax){this.cleanFix()}if((this.c.creative.type==2&&this.hasFlash())||this.c.creative.type==0||this.c.creative.type==4){this.addCreative()}if(this.c.other.trackingUrl){this.tracking(this.c.other.trackingUrl)}if(this.c.creative.oryginalClickUrl){if("undefined"!=typeof sas_ajax&&sas_ajax){this.addClickMap()}else{if(this.w.addEventListener){this.w.addEventListener("load",function(){sasBackground.addClickMap()},false)}else{this.w.attachEvent("onload",function(){sasBackground.addClickMap()})}}}if(this.c.close.label||this.c.close.defaultButton){this.addCloseButton()}if(this.c.other.duration){this.timer=setTimeout(function(){sasBackground.close()},this.c.other.duration*1000)}}};sasBackground.init();