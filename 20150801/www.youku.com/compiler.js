window.nova_init_hook_main_login_status=function(){};var loadScript=function(e,i,t){var r=document.createElement("script"),o=document.getElementsByTagName("head")[0];r.type="text/javascript",r.src=e,r.onload=r.onreadystatechange=function(){this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(i&&"function"==typeof i&&i(),t&&o.removeChild(r))},o.appendChild(r)},cmsModuleHtmlCallback=function(e,i){var t=YOUKU_HOME;if(e&&i){var r=t.STATUS_AREA["m_"+e]||"middle";t.Dom_appendModule(jQuery(i),r),toTop.getOnTop()}},toTop={MAXCOUNT_TOTOP:3,STEP_ANI:200,isAni:!0,$btns:null,$box:null,$dragmodules:null,$modulesOnTop:null,slideTimer:400,aniTimer:void 0,boxOffset:null,firstOffset:null,unitHeight:150,ClassRowIndex:"yk-row-index dragmodule",ClassOnTop:"dragmodule-top",ID_ORIGIN:"_origin",init:function(e){var i=this;i.isAni="boolean"==typeof e?e:!0,i.$box=jQuery(".s-body .yk-con"),i.$box.css("position","relative"),i.getOnTop()},getOnTop:function(){var e=this;e.$dragmodules=e.$box.find(".dragmodule").parent(),e.$btns=e.$dragmodules.find(".act-list .item-totop"),e.$dragmodules.removeClass(e.ClassOnTop),e.$modulesOnTop=jQuery("."+e.ClassOnTop).parent(),e.firstOffset=YOUKU_HOME.$drawer_top8.position().top+YOUKU_HOME.$drawer_top8.height(),YOUKU_HOME.$drawer_subscribe&&0!==YOUKU_HOME.$drawer_subscribe.length&&(e.firstOffset=YOUKU_HOME.$drawer_subscribe.position().top+YOUKU_HOME.$drawer_subscribe.height()),e.bindAct()},bindAct:function(){var e=this;e.$btns.html("ç½®é¡¶"),e.$modulesOnTop.find(".act-list .item-totop").html("åæ¶ç½®é¡¶"),YOUKU_HOME.LOGINSTATUS?(e.$btns.unbind("click").click(e.toTopDriver),e.$modulesOnTop.find(".act-list .item-totop").unbind("click").click(e.cancelTopDriver)):e.$btns.unbind("click").bind("click",YOUKU_HOME.Act_mylogin)},toTopDriver:function(e){var i=toTop,t=e||window.event;t.preventDefault&&(t.preventDefault(),t.stopPropagation());var r=jQuery(t.target);jQuery(".yk-drawer-act").removeClass("yk-drawer-act-hover"),YOUKU_HOME.LOGINSTATUS?i.toTopAct(r):YOUKU_HOME.mylogin()},cancelTopDriver:function(e){var i=toTop,t=e||window.event;t.preventDefault&&(t.preventDefault(),t.stopPropagation());var r=jQuery(t.target);jQuery(".yk-drawer-act").removeClass("yk-drawer-act-hover"),YOUKU_HOME.LOGINSTATUS?i.cancelTopAct(r,!0):YOUKU_HOME.Act_mylogin()},toTopAct:function(e){var i=toTop,t=e.parents(".dragmodule").parent(),r=YOUKU_HOME.$drawer_subscribe||YOUKU_HOME.$drawer_top8,o=i.firstOffset,a=t.attr("id"),n=t.height(),d=t.width(),s=parseInt(t.css("margin-bottom").split("px")[0]),c=t.position();i.getOnTop();var l=0===jQuery("#"+a+i.ID_ORIGIN).length?jQuery("<div></div>").attr("id",a+i.ID_ORIGIN):jQuery("#"+a+i.ID_ORIGIN);if(YOUKU_HOME.isIE||!i.isAni)return l.insertBefore(t).hide(),e.parents(".dragmodule").addClass(i.ClassOnTop),t.insertAfter(r),i.getOnTop(),void YOUKU_HOME.Post_personalData({mod_id:a,action:"top_mod"});if(Math.abs(c.top-o)<i.STEP_ANI)l.insertBefore(t).hide(),t.insertAfter(r),e.parents(".dragmodule").addClass(i.ClassOnTop),i.getOnTop();else{var u=t.clone().css({position:"absolute",top:c.top+"px",width:d+"px",height:n+"px",zIndex:200,display:"none"}).appendTo(i.$box);i.aniTimer=i.slideTimer*Math.round((c.top-i.firstOffset)/i.unitHeight),i.aniTimer>800&&(i.aniTimer=800),e.parents(".dragmodule").addClass(i.ClassOnTop),l.css({height:n+s+"px",marginBottom:0,width:d+"px",overflow:"hidden",visibility:"hidden"}).insertBefore(t),t.css({height:0,marginBottom:0,opacity:0}).insertAfter(r),i.getOnTop(),YOUKU_HOME.Post_personalData({mod_id:a,action:"top_mod"}),l.animate({height:0},i.slideTimer,function(){jQuery(this).css({visibility:"hidden",display:"none"})}),t.animate({height:n+s+"px",opacity:1},i.slideTimer,function(){jQuery(this).css({height:n+"px",marginBottom:s+"px"})}),u.css({display:"block",opacity:1}).animate({opacity:.2,top:o+"px"},i.aniTimer,function(){jQuery(this).remove()})}},cancelTopAct:function(e,i){var t,r,o=toTop,a=e.parents(".dragmodule").parent(),n=a.attr("id"),d=jQuery("#"+n+o.ID_ORIGIN);i&&YOUKU_HOME.Post_personalData({mod_id:n,action:"ctop_mod"}),e.parents(".dragmodule").removeClass(o.ClassOnTop),t=0!==d.length?jQuery(d.prevAll(":visible")[0]):YOUKU_HOME.$drawer_hidden.prev(),r=t.position().top+t.height()-a.height();var s=a.height(),c=a.width(),l=parseInt(a.css("margin-bottom").split("px")[0]),u=a.position();if(YOUKU_HOME.isIE||!o.isAni){a.insertAfter(t);try{d.remove()}catch(_){}return void o.getOnTop()}if(Math.abs(u.top-r)<o.STEP_ANI)a.insertAfter(t),o.getOnTop();else{var m=a.clone().attr("id",n+"_clone").css({position:"absolute",top:u.top+"px",width:c+"px",height:s+"px",zIndex:200,display:"none"}).appendTo(o.$box);o.$box.css("position","relative"),o.aniTimer=o.slideTimer*Math.round(Math.abs((u.top-r)/o.unitHeight)),o.aniTimer>800&&(o.aniTimer=800);var p=jQuery("<div></div>").css({height:s+l+"px",marginBottom:0,width:c+"px",overflow:"hidden",visibility:"hidden"}).insertAfter(a);a.css({height:0}).insertAfter(t),p.animate({height:0},o.slideTimer,function(){jQuery(this).remove()}),a.animate({height:s+"px",marginBottom:l+"px"},o.slideTimer,function(){d.remove(),o.getOnTop()}),m.css({display:"block",opacity:1}).animate({opacity:.2,top:r+"px"},o.aniTimer,function(){jQuery(this).remove()})}}},YOUKU_HOME={UA:null,MAXTIMER:3e3,MAXTIMER_GETSUBREC:2e3,MAXCOUNT_GETSUBREC:3,MAXCOUNT_GETSUB:3,MAXCOUNT_POSTPERSONAL:3,MAXCOUNT_TOTOP:3,REG_ID:"2",REGEXP_ID:null,REG_QUATE:new RegExp("&amp;","g"),URL_JQUERY:"http://static.youku.com/js/jquery.js",URL_HSLIDER:"http://r3.ykimg.com/05100000551D0EC26737B363E00BE98B.js?hslider",URL_GETPERSONAL:"http://www.youku.com/index/personal/fun_getCloudData?cloudvar=",URL_SETPERSONAL:"http://www.youku.com/index/personal/fun_changeCloudData?",URL_GETSUBSCRIBE:"http://www.youku.com/index/getUserFeedsForIndexMix",URL_GETSUBSCRIBEREC:"http://ykrec.youku.com/uploader/packed/list.json",URL_GETMODULE:"http://module.youku.com/",URL_GETRECOMMEND:"http://ykrec.youku.com/personal/packed/list.json",URL_GETUSERINFO:"http://nc.youku.com/index/getUserinfo",URL_GETSUBVLINK:" http://nc.youku.com/index_playWaitLogPage",URL_GETFRIENDSHIPS:"http://yws.youku.com/friendships/js_show.json",VAR_GETPERSONAL_ALL:"all",VAR_GETPERSONAL_CUSTOM:"customized",VAR_GETPERSONAL_TOP:"top",VAR_GETPERSONAL_HIDE:"hide",VAR_NUM_SUBRECUSER:20,VAR_NUM_SUBRECVIDEO:10,VAR_NUM_SUBRECMOREUSER:5,VAR_HEIGHT_SUBINIT:105,VAR_TRYFREQUENCY:300,ID_DRAWERSUB:"yk-slide-u-subscribe",ID_DRAWERSUBREC:"",ID_AD_BOTTOM:"m_206045",ID_DRAWER_HIDDEN:"m_206263",ID_TOP8:"m_205805",CLASS_DRAWER_HIDDEN:"yk-drawer-hidden",CLASS_ON_TOP:"dragmodule-top",CLASS_HIDDEN_SHOW:"yk-drawer-hidden-show",LOGINSTATUS:!1,COUNT_GETSUBREC:0,COUNT_GETSUB:0,COUNT_POSTPERSONAL:0,STATUS_AREA:{},isIE:!1,isSubRecInited:!1,isHiddenInited:!1,isLazyLoaded:!1,cookieUid:"",cookieYsuid:"",loadingstyle:"position:fixed;_position:absolute;z-index: 9999;width: 100%;height:100%;top: 0;margin-top:550px;background:#fff;",loadingicon:"<i class='ico-loading-64'></i>",prestyleStr:"body{height:100%;overflow:hidden;overflow-y:scroll;} .s-body .s-main .yk-con > div{height: 0;overflow:hidden;} #m_205805{height: auto;} ",sidestyle:"",$body:{},$drawers:{},$drawer_top8:{},$drawer_subscribe:"",$drawer_subscribeRec:"",$drawer_hidden:"",$drawer_ad_bottom:{},$dom_subRecBox:{},$dom_subRecLoading:{},$dom_subRecShowmore:{},$dom_act_totophide:{},dom_docHead:null,dom_docBody:null,arr_customized:[],arr_hidden:[],arr_top:[],arr_dom_append:[],arr_subRecU:[],arr_extraChannel:["m_206624","m_206229","m_206184","m_206234","m_206237","m_206240","m_206243","m_206246","m_206249","m_206252","m_206255","m_206268","m_206272","m_206275","m_206278","m_206281","m_206284","m_206287","m_206290","m_206293","m_206296","m_206299"],arr_sub_followed:[],data_subRec:[],var_end_subRec:0,var_start_subRec:0,prevScrollTop:0,preinit:function(){var e=YOUKU_HOME;document.body.scrollTop=0,e.LOGINSTATUS=islogin(),e.UA=e.Util_getUA(),e.isIE=e.UA.ie&&parseInt(e.UA.ie)<10,e.LOGINSTATUS&&(e.prestyle=document.createElement("style"),e.loading=document.createElement("div"),e.dom_docBody=document.body,e.isIE?(e.prestyle.type="text/css",e.dom_docHead=document.getElementsByTagName("head")[0],e.prestyle&&e.prestyle.styleSheet&&(e.prestyle.styleSheet.cssText=e.prestyleStr)):(e.dom_docHead=document.head,e.prestyle.innerHTML=e.prestyleStr),e.loading.innerHTML=e.loadingicon,e.loading.style.cssText=e.loadingstyle,e.dom_docHead.appendChild(e.prestyle),e.dom_docBody.appendChild(e.loading)),"undefined"==typeof window.jQuery?loadScript(e.URL_JQUERY,function(){jQuery.noConflict(),jQuery(document).ready(function(){e.init()})}):(jQuery.noConflict(),jQuery(document).ready(function(){e.init()}))},enableCookie:function(){jQuery.extend({cookie:function(e,i,t){if("undefined"==typeof i){var r=null;if(document.cookie&&""!=document.cookie)for(var o=document.cookie.split(";"),a=0;a<o.length;a++){var n=jQuery.trim(o[a]);if(n.substring(0,e.length+1)==e+"="){r=decodeURIComponent(n.substring(e.length+1));break}}return r}t=t||{},null===i&&(i="",t.expires=-1);var d="";if(t.expires&&("number"==typeof t.expires||t.expires.toUTCString)){var s;"number"==typeof t.expires?(s=new Date,s.setTime(s.getTime()+24*t.expires*60*60*1e3)):s=t.expires,d=";expires="+s.toUTCString()}var c=t.path?";path="+t.path:"",l=t.domain?";domain="+t.domain:"",u=t.secure?";secure":"";document.cookie=[e,"=",encodeURIComponent(i),d,c,l,u].join("")}})},init:function(){var e=YOUKU_HOME;document.body.scrollTop=0,window.update_login_status_hook_ykhome=function(){islogin()&&location.reload()},e.enableCookie(),e.$body=jQuery(".s-body .s-main .yk-con"),e.$drawer_top8=jQuery("#"+e.ID_TOP8),e.$drawer_hidden=jQuery("#"+e.ID_DRAWER_HIDDEN),e.$drawer_ad_bottom=jQuery("#"+e.ID_AD_BOTTOM),e.cookieUid=get_username("all").userid,e.cookieYsuid=jQuery.cookie("__ysuid"),e.LOGINSTATUS?e.Get_personalData():e.Dom_generateHiddenDrawer(),e.Dom_generateSubscribeRecDrawer(),e.Bind_global()},Bind_global:function(){var e,i,t=YOUKU_HOME,r=document.documentElement?document.documentElement.clientWidth:document.body.clientWidth,o=jQuery(document);t.$drawers=t.$body.find(">div[name=m_pos]:visible"),jQuery("body").on("click",t.Act_hideAllPanel),jQuery(window).scroll(function(){var a=o.scrollTop();t.isHiddenInited||(e=t.$drawer_hidden.offset().top,r>=e-a&&(t.Dom_generateHiddenDrawer(),t.isHiddenInited=!0)),t.isSubRecInited||(i=t.$drawer_subscribeRec.offset().top,r>=i-a&&(t.Dom_fillSubscribeRecDrawer(),t.Get_subscribeRec(!0),t.isSubRecInited=!0)),t.LOGINSTATUS&&(a-t.prevScrollTop>=150||!t.isLazyLoaded)&&(t.prevScrollTop=a,jQuery.each(t.$drawers,function(e,i){var o=jQuery(i);if(0!==o.length&&!o.attr("lazy-loaded")){var a=o.offset().top;jQuery(document).scrollTop()+r>=a&&t.Util_showLazyImg(o)}}))}),t.Bind_drawerAct(),t.Bind_addChannelAct(),toTop.init()},Bind_subRecAct:function(){var e=YOUKU_HOME,i="rec-act-sub-done";e.$dom_subRecShowmore.bind("click",function(i){var t=i||window.event;t.preventDefault&&(t.preventDefault(),t.stopPropagation()),e.Act_showMoreSubRec()}),e.$drawer_subscribeRec.on("click",".rec-act-sub",function(){var t=jQuery(this),r=jQuery(this).attr("rec_id");if(!t.hasClass(i))try{{QUcenter.follow(r,"13-3",function(o){if(1===o||2===o||1001===o||1002===o){if("undefined"!=typeof sidebar)try{sidebar.isExistInRecList(r),e.isIE||e.Ani_flyToSidebar(t)}catch(a){}t.addClass(i),t.html("å·²è®¢é")}else-2===o?e.Act_mylogin():-3===o&&e.Act_mylogin({type:"zhundingyue",uaction:"login",callBack:function(){}})})}}catch(o){}})},Bind_addChannelAct:function(){var e=YOUKU_HOME;e.$drawer_hidden.on("click",".hidden-hint",function(){e.Act_toggleAddChannel()}).on("click",".hidden-item",function(){var i=jQuery(this);if(!e.LOGINSTATUS)return void e.Act_mylogin();var t=i.attr("mod_id");0!==jQuery("#"+t).length?e.Dom_showModule(jQuery("#"+t),!0):(e.STATUS_AREA[t]="middle",e.Get_singleModule(t)),e.Post_personalData({mod_id:t,action:"add_mod"});var r=jQuery.inArray(t,e.arr_hidden),o=jQuery.inArray(t,e.arr_extraChannel);-1!==r&&e.arr_hidden.splice(r,1),-1!==o&&e.arr_extraChannel.splice(o,1),e.Dom_generateHiddenDrawer()})},Bind_drawerAct:function(){var e=YOUKU_HOME;e.$dom_act_totophide=jQuery(".yk-drawer-act"),e.$body.on("click",".yk-drawer .yk-drawer-act",e.Act_showDrawerAct).on("click",".yk-drawer-act .act-list .item-hide",e.Act_hideModule)},Act_hideAllPanel:function(){jQuery(".yk-drawer-act").removeClass("yk-drawer-act-hover"),jQuery(".yk-header .dropdown").removeClass("dropdown-open")},Act_toggleAddChannel:function(){var e=YOUKU_HOME,i=e.$drawer_hidden.find(".act-hide"),t=e.$drawer_hidden.find(".hidden-list");e.$drawer_hidden.hasClass(e.CLASS_HIDDEN_SHOW)?(e.isIE&&(t.hide(),i.html("å±å¼"),e.$drawer_hidden.removeClass(e.CLASS_HIDDEN_SHOW)),t.slideUp(300,function(){i.html("å±å¼"),e.$drawer_hidden.removeClass(e.CLASS_HIDDEN_SHOW)})):(e.isIE&&(t.show(),i.html("æ¶èµ·"),e.$drawer_hidden.addClass(e.CLASS_HIDDEN_SHOW)),t.slideDown(300,function(){i.html("æ¶èµ·"),e.$drawer_hidden.addClass(e.CLASS_HIDDEN_SHOW)}))},Act_hideModule:function(){var e=YOUKU_HOME;if(e.LOGINSTATUS){var i,t=jQuery(this).parents(".yk-drawer").parent(),r=jQuery(this).parents(".yk-drawer").attr("data-cname"),o=jQuery("<div></div>"),a=t.attr("id");YOUKU_HOME.Post_personalData({mod_id:a,action:"hide_mod"}),jQuery(".yk-row-hidden").length&&(e.isIE?jQuery(".yk-row-hidden").remove():jQuery(".yk-row-hidden").slideUp(500,function(){jQuery(this).remove()})),o.addClass("yk-row-hidden").append('<span class="ico-notice"></span><span class="hidden-title hideModName">'+r+'</span><span>å·²éèï¼</span><span class="cancel-hide-txt undoHidden">æ¤é</span><span class="hidden-btn"></span>'),e.isIE?(t.after(o).hide(),toTop.getOnTop(),o.show(),i=setTimeout(function(){o.remove()},1e4)):(t.after(o).slideUp(500,function(){toTop.getOnTop()}),o.slideDown(300,function(){var e=jQuery(this);i=setTimeout(function(){e.slideUp(500,function(){jQuery(this).remove()})},1e4)})),o.on("click",".undoHidden",function(){e.isIE?(t.show(),YOUKU_HOME.Post_personalData({mod_id:a,action:"add_mod"}),toTop.getOnTop(),e.Dom_generateHiddenDrawer(),o.remove(),clearTimeout(i)):(t.slideDown(500,function(){YOUKU_HOME.Post_personalData({mod_id:a,action:"add_mod"}),toTop.getOnTop(),e.Dom_generateHiddenDrawer()}),o.fadeOut(300),clearTimeout(i))}),o.on("click",".hidden-btn",function(){e.isIE?(o.remove(),clearTimeout(i)):(o.slideUp(500,function(){jQuery(this).remove()}),clearTimeout(i))})}else e.Act_mylogin()},Act_showDrawerAct:function(e){var i=YOUKU_HOME,t="yk-drawer-act-hover",r=!1,o=e||window.event;o.preventDefault&&(o.preventDefault(),o.stopPropagation()),jQuery(this).hasClass(t)&&(r=!0),i.Act_hideAllPanel(),r?jQuery(this).removeClass(t):jQuery(this).addClass(t),jQuery(this).find(".act-list .act-item").attr("data-stat-role","ck")},Act_showMoreSubRec:function(){var e,i=YOUKU_HOME;for(i.var_end_subRec>=i.data_subRec.length&&i.$dom_subRecShowmore.hide(),e=i.var_start_subRec;e<i.var_end_subRec;e++)try{i.Dom_generateSubscribeRecU(i.data_subRec[e]);{jQuery(".yk-slide-rec").attr("id")}jQuery.each(jQuery(".yk-slide-rec"),function(){var e=jQuery(this).attr("id");i.Dom_generateSlider(e)})}catch(t){continue}i.var_end_subRec<i.data_subRec.length-1&&(i.var_start_subRec=i.var_end_subRec,i.var_end_subRec+=5)},Act_mylogin:function(e){try{e&&e.type?login(e):login()}catch(i){}},Dom_showAll:function(e){var i=YOUKU_HOME;jQuery.contains(i.dom_docHead,i.prestyle)&&(i.dom_docHead.removeChild(i.prestyle),i.loading.style.display="none"),e&&"function"==typeof e&&e()},Dom_appendModule:function(e,i){var t=YOUKU_HOME,r=e;switch(i){case"top":r.insertAfter(0!==t.$drawer_subscribe.length?t.$drawer_subscribe:t.$drawer_top8),r.find(".dragmodule").addClass("dragmodule-top");break;case"bottom":0!==t.$drawer_ad_bottom.length?r.insertBefore(t.$drawer_ad_bottom):r.appendTo(t.$body);break;case"middle":r.insertBefore(t.$drawer_hidden)}},Dom_hideModule:function(e,i){var t=YOUKU_HOME,i=i||!1;!i||t.isIE?e.hide():e.slideUp()},Dom_showModule:function(e,i){var t=YOUKU_HOME,i=i||!1;!i||t.isIE?e.show():e.slideDown()},Get_singleModule:function(e){var i=YOUKU_HOME,t=e&&e.split("_")[1],r=i.URL_GETMODULE+t+".html";jQuery.getScript(r)},Get_personalData:function(){var e=this,i=e.URL_GETPERSONAL+e.VAR_GETPERSONAL_ALL;try{jQuery.ajax({type:"get",async:!1,url:i,timeout:e.MAXTIMER,dataType:"jsonp",success:function(i){return i&&0!==i.length?void e.Deal_personalAll(i):void e.Dom_showAll(e.Get_async)},error:function(){e.Dom_showAll(e.Get_async)}})}catch(t){e.Dom_showAll(e.Get_async)}},Get_subscribeRec:function(e){var i=this,t="",r=i.VAR_NUM_SUBRECUSER;t=i.LOGINSTATUS?i.URL_GETSUBSCRIBEREC+"?picSize=2&apptype=1&pg=8&module=7&pl="+r+"&il="+i.VAR_NUM_SUBRECVIDEO+"&uid="+i.cookieUid+"&guid="+i.cookieYsuid:i.URL_GETSUBSCRIBEREC+"?picSize=2&apptype=1&pg=8&module=7&pl="+r+"&il="+i.VAR_NUM_SUBRECVIDEO+"&guid="+i.cookieYsuid,i.$dom_subRecLoading.show(),i.$dom_subRecShowmore.hide();try{jQuery.ajax({type:"get",async:!1,url:t,timeout:i.MAXTIMER_GETSUBREC,dataType:"jsonp",success:function(t){t&&0!==t.data.length?"undefined"==typeof hslider?jQuery.getScript(YOUKU_HOME.URL_HSLIDER,function(){i.Deal_subscribeRec(t,!0)}):i.Deal_subscribeRec(t,!0):e&&(i.$drawer_subscribeRec.hide(),i.isSubRecInited=!0),i.$dom_subRecLoading.hide(),i.$dom_subRecShowmore.show()},error:function(){i.COUNT_GETSUBREC<i.MAXCOUNT_GETSUBREC?(i.COUNT_GETSUBREC++,i.Get_subscribeRec(e)):e&&(i.$drawer_subscribeRec.hide(),i.isSubRecInited=!0)}})}catch(o){i.COUNT_GETSUBREC<i.MAXCOUNT_GETSUBREC?(i.COUNT_GETSUBREC++,i.Get_subscribeRec(e)):(i.$drawer_subscribeRec.hide(),e&&(i.isSubRecInited=!0))}},Get_friendships:function(){var e=this,i=e.URL_GETFRIENDSHIPS+"?source_uid="+encodeUid(e.cookieUid)+'&target_array_uid=["'+e.arr_subRecU.join('","')+'"]';try{jQuery.ajax({type:"get",async:!1,url:i,dataType:"jsonp",success:function(e){var i=YOUKU_HOME,t=e&&e.target;jQuery.each(t,function(e,t){t&&t.followed&&i.arr_sub_followed.push(t.id)}),i.Act_showMoreSubRec()},error:function(){e.Act_showMoreSubRec()}})}catch(t){}},Get_async:function(){},Deal_personalAll:function(e){var i,t=this,r=e||void 0;return"object"!=typeof r?!1:(t.Deal_personalTop(r.top_module_list),t.Deal_personalCustom(r.customized_module_list),t.Deal_personalHide(r.hide_module_list),i=t.arr_customized.length,0!==t.arr_hidden.length&&jQuery.each(t.arr_hidden,function(e,i){jQuery("#"+i).hide()}),0!==t.arr_top.length&&(t.arr_top.reverse(),jQuery.each(t.arr_top,function(e,i){var r=jQuery.inArray(i,t.arr_extraChannel);-1!==r&&t.arr_extraChannel.splice(r,1);var o=jQuery("#"+i);if(0!==o.length){var a=o.attr("id"),n=jQuery("#"+a+"_origin");0===n.length&&(n=jQuery("<div></div>").attr("id",a+"_origin")),n.insertAfter(o),t.Dom_appendModule(o,"top"),t.Util_showLazyImg(o)}else t.STATUS_AREA[i]="top",t.Get_singleModule(i)}),toTop.getOnTop()),t.Dom_generateHiddenDrawer(),t.Dom_showAll(t.Get_async),void(0!==i&&jQuery.each(t.arr_customized,function(e,r){var o=jQuery.inArray(r,t.arr_extraChannel);-1!==o&&t.arr_extraChannel.splice(o,1),0!==jQuery("#"+r).length?(t.Dom_showModule(jQuery("#"+r),!1),i--):(t.STATUS_AREA[r]="middle",t.Get_singleModule(r))})))},Deal_personalCustom:function(e){var i=this,t=e||void 0;"object"==typeof t&&jQuery.each(t.mod_data,function(e,t){t&&t.id&&i.Util_idRegCheck(t.id)&&(_index=jQuery.inArray("m_"+t.id,i.arr_top),-1===_index&&i.arr_customized.push("m_"+t.id))})},Deal_personalTop:function(e){var i=this,t=e||void 0;"object"==typeof t&&jQuery.each(t.mod_data,function(e,t){t&&t.id&&i.Util_idRegCheck(t.id)&&i.arr_top.push("m_"+t.id)})},Deal_personalHide:function(e){var i=this,t=e||void 0;return"undefined"==typeof t?!1:void jQuery.each(t.mod_data,function(e,t){if(t&&t.id&&i.Util_idRegCheck(t.id)){var r=jQuery.inArray("m_"+t.id,i.arr_extraChannel);-1===r&&i.arr_hidden.push("m_"+t.id);var o=jQuery.inArray("m_"+t.id,i.arr_customized);-1!==o&&i.arr_customized.splice(o,1);var a=jQuery.inArray("m_"+t.id,i.arr_top);-1!==a&&i.arr_top.splice(a,1)}})},Deal_subscribeRec:function(e,i){var t=YOUKU_HOME,r=e&&e.data||void 0;if("undefined"==typeof r)return!1;var o=i||!1;t.data_subRec=r;r.length;jQuery.each(r,function(e,i){var r=encodeUid(i.id);-1===jQuery.inArray(r,t.arr_subRecU)&&t.arr_subRecU.push(r)}),o&&(t.var_start_subRec=0,t.var_end_subRec=3),t.LOGINSTATUS?t.Get_friendships():t.Act_showMoreSubRec();jQuery(".yk-slide-rec").attr("id");jQuery.each(jQuery(".yk-slide-rec"),function(){var e=jQuery(this).attr("id");t.Dom_generateSlider(e)}),t.Bind_subRecAct()},Post_personalData:function(e){var i=this,t=e.mod_type||"module",r=e.mod_id&&e.mod_id.split("_")[1],o=i.URL_SETPERSONAL+"action="+e.action+"&mod_id="+r+"&mod_type="+t;try{jQuery.ajax({type:"get",async:!1,url:o,timeout:i.MAXTIMER,dataType:"jsonp",success:function(t){if(1===t.code)switch(e.action){case"top_mod":var r=toTop.$modulesOnTop.length;if(r>=i.MAXCOUNT_TOTOP){var o=jQuery(toTop.$modulesOnTop[r-1]).find(".act-list .item-totop");toTop.cancelTopAct(o,!1)}break;case"hide_mod":var a=jQuery.inArray(e.mod_id,i.arr_hidden);-1===a&&(i.arr_hidden.push(e.mod_id),i.Dom_generateHiddenDrawer());break;case"add_mod":var a=jQuery.inArray(e.mod_id,i.arr_hidden);-1!==a&&(i.arr_hidden.splice(a,1),i.Dom_generateHiddenDrawer())}else if(-2===t.code){var r=toTop.$modulesOnTop.length;if(r>i.MAXCOUNT_TOTOP){var o=jQuery(toTop.$modulesOnTop[r-1]).find(".act-list .item-totop");toTop.cancelTopAct(o,!1)}}},error:function(){i.COUNT_POSTPERSONAL<i.MAXCOUNT_POSTPERSONAL&&(i.COUNT_POSTPERSONAL++,i.Post_personalData(e))}})}catch(a){i.COUNT_POSTPERSONAL<i.MAXCOUNT_POSTPERSONAL&&(this.COUNT_POSTPERSONAL++,i.Post_personalData(e))}},Dom_generateHiddenDrawer:function(){var e=this;if(e.LOGINSTATUS){var i=e.arr_hidden.concat(e.arr_extraChannel),t=[];jQuery.each(i,function(e,i){-1===jQuery.inArray(i,t)&&t.push(i)}),e.$drawer_hidden.find(".hidden-num").html(t.length),e.$drawer_hidden.find(".hidden-item").hide(),0!==t.length?(e.$drawer_hidden.show(),jQuery.each(i,function(i,t){e.$drawer_hidden.find(".hidden-item[mod_id="+t+"]").show()})):(e.$drawer_hidden.hide(),e.$drawer_hidden.find(".hidden-list").hide(),e.$drawer_hidden.find(".hidden-num").html("0"),e.$drawer_hidden.find(".act-hide").html("å±å¼"),e.$drawer_hidden.removeClass(e.CLASS_HIDDEN_SHOW))}else e.$drawer_hidden.find(".hidden-num").html(e.arr_extraChannel.length),jQuery.each(e.arr_extraChannel,function(i,t){e.$drawer_hidden.find(".hidden-item[mod_id="+t+"]").show()})},Dom_generateSubscribeRecDrawer:function(){var e=this;e.$drawer_subscribeRec+="<div class='yk-row-index yk-drawer yk-drawer-rec-subscribe'>",e.$drawer_subscribeRec+="</div>",e.$drawer_subscribeRec=jQuery(e.$drawer_subscribeRec),e.Dom_appendModule(e.$drawer_subscribeRec,"bottom"),e.$drawer_subscribeRec.css({height:0,visibility:"hidden"})},Dom_fillSubscribeRecDrawer:function(){var e=this,i="";i+="<div class='yk-row'>",i+="<div class='yk-w970-col18 yk-w1190-col22  yk-v-190u'>",i+="<div class='yk-box yk-drawer-box'>",i+="<div class='yk-head'>",i+="<div class='yk-title'>",i+="<p class='rec-title'>",i+="<span class='uhome-ico uhome-ico-subrec'></span>",i+="<span class='rec-tag'>æ¨è</span>æ ¹æ®ä½ çåå¥½ä¸ºä½ æ¨è",i+="</p>",i+="</div>",i+="</div>",i+="<div class='yk-body yk-rec-container'>",i+="<i class='yk-rec-loading ico-loading-64'></i>",i+="</div>",i+="</div>",i+="<div class='yk-box yk-drawer-showmore' data-stat-role='ck'>",i+="<p class='act-showmore'>å è½½æ´å¤</p>",i+="</div>",i+="</div>",i+="</div>",e.$drawer_subscribeRec.html(i),e.$drawer_subscribeRec.css({visibility:"visible",height:"auto"}),e.$dom_subRecBo=e.$drawer_subscribeRec.find(".yk-rec-container"),e.$dom_subRecLoading=e.$drawer_subscribeRec.find(".yk-rec-loading"),e.$dom_subRecShowmore=e.$drawer_subscribeRec.find(".yk-drawer-showmore")},Dom_generateSubscribeRecU:function(e){var i=YOUKU_HOME;if(e){var t="yk-slide-rec-"+Math.abs((new Date).getTime()^Math.random()),r="",o=e.username,a=e.spaceUrl,n=i.Util_formater(e.followersCount,"number");r+="<div class='yk-box yk-box-rec-u'>",r+="<div class='yk-head'>",r+="<div class='yk-title'>",r+="<a class='yk-drawer-title' target='_blank' href='"+e.spaceUrl+"'>",r+="<img src='"+e.picUrl+"' >"+e.username,r+="</a>",r+="</div>",r+="<div class='yk-extend'>",r+="<div class='rec-status-subnum'>"+n+"å·²è®¢<i class='uhome-ico uhome-ico-arrow-right'></i></div>",r+=i.LOGINSTATUS&&-1!==jQuery.inArray(encodeUid(e.id),i.arr_sub_followed)?"<div class='rec-act-sub rec-act-sub-done' rec_id="+encodeUid(e.id)+"> å·²è®¢é</div>":"<div class='rec-act-sub' rec_id="+encodeUid(e.id)+"> <i class='uhome-ico uhome-ico-sub-mini'></i>è®¢é</div>",r+="</div>",r+="</div>",r+="<div class='yk-body'>",r+="<div class='yk-slide yk-slide-v3 yk-slide-new yk-slide-rec' id='"+t+"'>",r+="<div class='yk-row yk-slide-pages'>",jQuery.each(e.videos,function(e,t){r+=i.Dom_partSubscribeRecV(t,o,a)}),r+="</div>",r+="<div class='yk-slide-btnprev' ><i></i></div><div class='yk-slide-btnnext' ><i></i></div>",r+="</div>",r+="</div>",r+="</div>",r=jQuery(r),r.insertBefore(i.$dom_subRecLoading)}},Dom_partSubscribeRecV:function(e){var i=this,t="",r=i.Util_formater(e.totalTime,"time"),o=i.Util_formater(e.playAmount,"number");return t+="<div class='yk-col4'>",t+="<div class='v'>",t+="<div class='v-thumb'>",t+="<img _src='http://r3.ykimg.com/0515000054BDD28A6737B3471C003B4C' src='"+e.picUrl+"' alt='"+e.title+"'>",t+="<div class='v-thumb-tagrb'><span class='v-time'>"+r+"</span></div>",t+="</div>",t+="<div class='v-link'>",t+="<a href='"+e.playLink+"?from=y1.3-idx-uhome-1519-20887.tj' target='_blank' title='"+e.title+"'></a>",t+="</div>",t+="<div class='v-meta va'>",t+="<div class='v-meta-title'>",t+="<a href='"+e.playLink+"?from=y1.3-idx-uhome-1519-20887.tj' target='_blank' title='"+e.title.replace(i.REG_QUATE,"&")+"'>"+e.title.replace(i.REG_QUATE,"&")+"</a>",t+="</div>",t+="<div class='v-meta-entry'><i class='ico-statplay' title='æ­æ¾'></i>",t+="<span class='v-num'>"+o+"</span>",t+="<span class='v-statcomment'><i class='ico-statcomment'></i>"+YOUKU_HOME.Util_formatNum(e.commentCount)+"</span>",t+="</div>",t+="<div class='v-meta-overlay'></div>",t+="</div>",t+="</div>",t+="</div>"},Dom_generateSlider:function(e){var i=YOUKU_HOME;i.slider_subscribe=new hslider(e)},Util_formater:function(e,i){var t=this,r=i||"number";switch(r){case"number":return t.Util_formatNum(e);case"time":return t.Util_formatTime(e);case"date":return t.Util_formatDate(e)}},Util_formatNum:function(e){var i=e.toString();i=i.split(".")[0],i=i.split(",").join("");var t=i.length;return 4===t?i=i.substr(0,1)+","+i.substr(1):t>4&&7>t?i=(parseInt(i)/1e4).toFixed(1).toString()+"ä¸":7===t?i=(parseInt(i)/1e6).toFixed(1).toString()+"ç¾ä¸":8===t?i=(parseInt(i)/1e7).toFixed(1).toString()+"åä¸":t>8&&(i=(parseInt(i)/1e8).toFixed(1).toString()+"äº¿"),i},Util_formatTime:function(e){var i=e;if(i=i.toString().split(".")[0],i=parseInt(i.toString().split(",").join("")),60>i)i=10>i?"00:0"+i:"00:"+i;else{var t=i/60;if(1===t)i="01:00";else if(t>1&&10>t)i="0"+Math.floor(t)+":"+(i-60*Math.floor(t)<10?"0"+(i-60*Math.floor(t)):i-60*Math.floor(t));else if(t>1&&60>t)i=""+Math.floor(t)+":"+(i-60*Math.floor(t)<10?"0"+(i-60*Math.floor(t)):i-60*Math.floor(t));else if(60===t)i="01:00:00";else if(t>60){var r=i/3600;i=""+Math.floor(r)+":"+(Math.floor(t)-60*Math.floor(r))+":"+(i-60*Math.floor(t)<10?"0"+(i-60*Math.floor(t)):i-60*Math.floor(t))}}return i},Util_idRegCheck:function(e){var i=YOUKU_HOME;return i.REGEXP_ID||(i.REGEXP_ID=new RegExp("^"+i.REG_ID)),i.REGEXP_ID.test(e)},Util_getUA:function(){var e,i={},t=navigator.userAgent.toLowerCase();return(e=t.match(/rv:([\d.]+)\) like gecko/))?i.ie=e[1]:(e=t.match(/msie ([\d.]+)/))?i.ie=e[1]:(e=t.match(/firefox\/([\d.]+)/))?i.firefox=e[1]:(e=t.match(/chrome\/([\d.]+)/))?i.chrome=e[1]:(e=t.match(/opera.([\d.]+)/))?i.opera=e[1]:(e=t.match(/version\/([\d.]+).*safari/))?i.safari=e[1]:0,i},Util_showLazyImg:function(e){var i=YOUKU_HOME;if(e&&0!==e.length)var t=jQuery(e);else var t=i.$body;if(!t.attr("lazy-loaded")){var r=t.find("img");0!==r.length&&jQuery.each(r,function(e,i){var t=jQuery(i).attr("_src");(t||!jQuery(i).attr("src"))&&jQuery(i).attr("src",t)}),t.attr("lazy-loaded",!0)}},Ani_flyToSidebar:function(e){if(e&&0!==e.length){var i=jQuery(e),t=i.parents(".yk-box-rec-u").find(".yk-drawer-title"),r=i.attr("rec_id"),o=(img=t.find("img").attr("src"),t.html().split(">")[1]);sidebar.pageSubFly(i,r,img,o)}}};try{YOUKU_HOME.preinit()}catch(e){YOUKU_HOME.Dom_showAll()}