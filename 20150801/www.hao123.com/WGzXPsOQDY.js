__d("widget.guesslikesite.guesslikesite",["common.js.widget","common.js.cpcbll2","common.js.format","common.js.ctr","common.js.events"],function(n,o,l,d){d("common.js.widget");var f=d("common.js.cpcbll2"),j=d("common.js.format"),m=d("common.js.ctr"),g=d("common.js.events");$.widget("hao123.guesslikesite",{options:{cpcClickChange:!1,cpcInitAdvance:!0,cpcTypeBegin:0,area:null},_create:function(){var a=this.options,c=this.element;this.$changeBtn=$(".changeBtn",c);this.$changeLink=$(".js-changeLink",
c);this.$row=$(".js_guesslike-industry",c);this.screenNumber=this.typeNumber=3;this.cpcInitCache=[{id:"cpc_gl_hot",initScreen:[]},{id:"cpc_gl_gouwu",initScreen:[]},{id:"cpc_gl_game",initScreen:[]},{id:"cpc_gl_mall",initScreen:[]},{id:"cpc_gl_temai",initScreen:[]},{id:"cpc_gl_caijing",initScreen:[]}];this.bindEvent();a.cpcClickChange&&this.burnAfterRead()},initCPC:function(){for(var a=this,c=a.options.cpcTypeBegin,b=c;b<c+a.typeNumber;b++){var h=a.$row.filter('[data-type="'+b+'"]').eq(0);(function(c){f.init({id:a.cpcInitCache[c].id+
"0",ctx:h,success:function(b){0<b.length&&(a.cpcInitCache[c].initScreen[0]=1)}})})(b)}},bindEvent:function(){var a=this;if(a.options.cpcInitAdvance)a.initCPC();else g.on("guesslikesite.initcpcnext",function(){a.initCPC();g.un("guesslikesite.initcpcnext")});a.$row.hover(function(){$(this).addClass("g-bg1")},function(){$(this).removeClass("g-bg1")});a.$changeBtn.click(function(){var c=$(this).parents(".guesslike-industry"),b=c.find(".guesslike-row"),h=b.siblings(".show"),c=c.data("type"),d=(h.data("screen")+
1)%b.length,b=b.eq(d);h.removeClass("show");b.addClass("show");var e=c||0,i=d||0;a.cpcInitCache[e].initScreen[i]||f.init({id:a.cpcInitCache[e].id+i,ctx:$('.guesslike-row[data-type="'+e+'"]').eq(i),success:function(c){0<c.length&&(a.cpcInitCache[e].initScreen[i]=1)}});return!1})},burnAfterRead:function(){function a(a,k){0<e[k].data.length&&(clearTimeout(b),b=setTimeout(function(){var b=e[k].data.shift(),f=b.tit;a.attr("href",b.curl);a.text(f);a.attr("alog-custom",j(d,{recom:1}));a.attr("data-ctr",
j(g,{area:c.area,type:"link",ts:+new Date,recom:1}));a.attr("data-ctr-status",0);m.callCTR(a)},500))}var c=this.options,b,d="recom:#{recom}",g="area:#{area},type:link,recom:#{recom},ts:#{ts}",e=[{id:"cpc_gl_hot3",hasRequest:0,data:[]},{id:"cpc_gl_gouwu3",hasRequest:0,data:[]},{id:"cpc_gl_game3",hasRequest:0,data:[]},{id:"cpc_gl_mall3",hasRequest:0,data:[]},{id:"cpc_gl_temai3",hasRequest:0,data:[]},{id:"cpc_gl_caijing3",hasRequest:0,data:[]}];this.$changeLink.click(function(){var c=$(this),b=c.parents(".guesslike-industry").data("type");
0===e[b].hasRequest?f.init({id:e[b].id,doNotRewriteDom:!0,success:function(d){e[b].hasRequest=1;e[b].data=d.slice();a(c,b)}}):a(c,b)})},destroy:function(){$.Widget.prototype.destroy.call(this)}});return l});window.js_WGzXPsOQDY&&window.js_WGzXPsOQDY(!0);
