typeof rubiconproject=="undefined"&&(rubiconproject={}),rubiconproject.bcb={},rubiconproject.bcb.ad=function(t){this.options=t,this.IFRAME_TYPES={NONE:0,SINGLE:1,MULTIPLE:2,FRIENDLY:3}},rubiconproject.bcb.ad.prototype={getPageReferrerUrls:function(){var t=window,e=t.location.href,r=t.document.referrer;while(t.parent&&t!=top)try{t=t.parent,e=t.location.href,r=t.document.referrer}catch(o){break}return{pg:e,rf:r}},getIFrameType:function(){var t=this.IFRAME_TYPES.NONE;if(window!=top){t=this.IFRAME_TYPES.MULTIPLE,window.parent==top&&(t=this.IFRAME_TYPES.SINGLE);try{!top.document.location.href||this.options.iframeDetectionMatchDomain&&top.document.location.hostname!=document.location.hostname||(t=this.IFRAME_TYPES.FRIENDLY)}catch(e){}}return t},getTzo:function(){return(new Date).getTimezoneOffset()},isUrl:function(t){return t.substring(0,4)=="http"},writeAd:function(){var t=this.getPageReferrerUrls(),e=this.options;e.pg=t.pg,e.rf=t.rf,e.tzo=this.getTzo(),e.ift=this.getIFrameType(),e.adRenderIfr?this.writeAdInPost(e):this.writeAdInPage(e)},writeAdInPage:function(t){var e=t.url;e+="&tzo="+t.tzo,e+="&ift="+t.ift,e+="&pg="+encodeURIComponent(t.pg),e+="&rf="+encodeURIComponent(t.rf),t.pclk&&this.isUrl(t.pclk)&&(e+="&pclk="+t.pclk),document.write('<script src="'+e+'"></scr'+"ipt>")},writeAdInPost:function(t){var e="rpeb_"+Math.floor(Math.random()*1e6);document.write('<iframe id="'+e+'" name="'+e+'" height="'+t.height+'" width="'+t.width+'" marginwidth="0" marginheight="0" allowtransparency="true" frameborder="0" scrolling="no"></iframe>');var r=document.createElement("form");r.setAttribute("method","post"),r.setAttribute("action",t.url),r.setAttribute("target",e);for(var o in t)if(t.hasOwnProperty(o)){var n=document.createElement("input");n.setAttribute("type","hidden"),n.setAttribute("name",o),n.setAttribute("value",t[o]),r.appendChild(n)}document.body.appendChild(r),r.submit()}},new rubiconproject.bcb.ad(bcb_ad_opts).writeAd(),delete bcb_ad_opts