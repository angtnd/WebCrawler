define(["idcta/idCookie","idcta/id-config"],function(d,c){var b={};function e(i){this.id=null;this.element=null;this.ctaLink=null;this.ctaName=null;if(f(i)){this.id=i.id;this.element=document.getElementById(i.id);if(!i.blq){this.ctaLink=document.getElementById("idcta-link");this.ctaName=this.element.getElementsByTagName("span")[0]}else{this.ctaLink=document.getElementById(i["link-id"])?document.getElementById(i["link-id"]):this.element.getElementsByTagName("a")[0];this.ctaName=i["name-id"]?document.getElementById(i["name-id"]):this.element.getElementsByTagName("span")[1]}var h=this;if(i.publiclyCacheable===true){if(d.getInstance().hasCookie()){if(c.status_url&&h.ctaLink.href!==c.status_url){h.ctaLink.href=c.status_url}a(h,d.getInstance())}else{if(c.signin_url){h.ctaLink.href=c.signin_url}h.ctaName.innerHTML=c.translation_signedout}}}}function a(l,k){var j=k.getNameFromCookie()||c.translation_signedin;var i=c.translation_signedin;if(j){var h=g(j,14);i=h}l.element.className=l.element.className+" idcta-signedin";l.ctaName.innerHTML=i}function g(i,h){if(i.length>h){return i.substring(0,h-1)+"â¦"}return i}function f(h){if(!document.getElementById(h.id)){return false}if(!h.blq&&!document.getElementById("idcta-link")){return false}if(h.blq&&!document.getElementById(h["link-id"])){return false}return true}b.Statusbar=e;b.updateForAuthorisedState=a;return b});