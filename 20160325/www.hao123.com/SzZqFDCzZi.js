__d("widget.treasure.config",["common.js.jquery"],function(m,l,j,c){var f=c("common.js.jquery"),e={gameState:{unInit:0,init:1,start:2,end:3,dolottary:4},images:{duozai:"http://s0.hao123img.com/res/treasure/duozai-kp.png",imagebtn:"",animateimg:"",pop:"http://s0.hao123img.com/res/treasure/treasure-pop.png"},lottery:{pid:"116",token:"296cd89197bcc8373c2bc8f73a88ad85",lotteryUrl:"http://zhuanla.hao123.com/lucky/draw?callback=?",submitUrl:"http://zhuanla.hao123.com/lucky/update?callback=?",goldUrl:"http://zhuanla.hao123.com/task/addvipcoin?callback=?"},
duozai:{width:80,height:172,normal:{interval:100,frames:"-16 30,-16 -172,-16 -344,-16 -516,-16 -688,-16 -860,-96 0".split(",")},onceHover:{interval:200,frames:"-16 0,-16 -172,-16 -344,-16 -516,-16 -688,-16 -860,-96 0".split(",")},working:{interval:100,frames:"-96 0,-96 -172,-95 -344,-95 -516,-95 -687,-95 -859,-95 -1032".split(",")},jumping:{interval:200,frames:["-45 -5","-45 -139","-45 -273","-45 -407","-45 -5"]}},progressbar:{width:56,height:166,left:13,bottom:135,emptyposition:"0px 0px",fullposition:"0px 0px",
btnwidth:50,btnheight:60,btntop:0,btnleft:0,score:{zero:166,one:154,two:134,three:114,four:94,five:74,six:54,seven:0}}};l.exports={init:function(){this.data=e;return this},get:function(e,h){var b=this.data||{},g=(e||"").split(".");f.each(g,function(a,d){d&&"undefined"!==typeof b&&(b=b[d])});return"undefined"!==typeof b?b:h},set:function(e,h){var b,g,a;if("undefined"===typeof h)this.data=e;else if(e=f.trim(""+(e||"")))b=e.split("."),g=b.pop(),a=this.data||{},f.each(b,function(d,b){var g=a[b];if("object"===
typeof g)a=a[b];else if("undefiend"===typeof g)a=a[b]={};else throw Error("forbidden to set property["+b+"] of ["+g+"] data");}),a[g]=h;return this}}.init();return j});
__d("widget.treasure.diamondSprite",["common.js.jquery","common.js.format","widget.treasure.config"],function(m,l,j,c){function f(b,g,a,d){this.ctx=b;this.url=g;this.num=d;this.diamondStore=a||{};this.create()}var e=c("common.js.jquery"),k=c("common.js.format"),h=c("widget.treasure.config");h.get("diamond");h.get("images");f.prototype.create=function(){var b=this.diamondStore,g=this.url,a=this.ctx.text(),d=this.num,c=h.get("diamond"+d);this.state1pic=h.get("images.diamond"+d+"state1");this.state2pic=
h.get("images.diamond"+d+"state2");this.$tpl=e(k('<a class="g-ib treasure-item" target="_blank" alog-text="#{title}" href="#{url}" style="position:relative;padding: 0;">&nbsp<i data-hook="treasure-diamond" style="cursor:pointer;*margin-top:3px;position: absolute;top:#{top}px;left:#{left}px;display:block;width:#{width}px;height:#{height}px;background-repeat:no-repeat;"></i></a>',{width:c.width,height:c.height,top:c.top,left:c.left,url:g,title:a}));this.$diamond=e('[data-hook="treasure-diamond"]',this.$tpl);
b&&b[g]?this.render(b[g]):this.render(1);return this.$tpl};f.prototype.render=function(b){b||(b=1);var g=this.ctx.text(),g=g+"-diamond";switch(b){case 1:this.$tpl.attr({"data-state":1,"alog-text":g});this.$diamond.css({"background-image":"url("+this.state1pic.src+")"});break;default:this.$tpl.attr({"data-state":2,"alog-text":g}),this.$diamond.css({"background-image":"url("+this.state2pic.src+")"})}};l.exports=f;return j});
__d("widget.treasure.duozaiSprite",["common.js.jquery","common.js.format","common.js.animation","widget.treasure.config"],function(m,l,j,c){function f(a){this.game=a;this.normalAnimationDone=!1;this.normalFrames=b.normal.frames;this.hoverDonePosition=a.convertPX(this.normalFrames[this.normalFrames.length-1]);this.create()}var e=c("common.js.jquery"),k=c("common.js.format"),h=c("common.js.animation"),m=c("widget.treasure.config"),b=m.get("duozai"),g=m.get("images");f.prototype.create=function(){this.$tpl=
e(k('<div class="duozai" style="width:#{width}px;height:#{height}px;background-image:url(#{bgurl});background-position:#{backgroundPos};bottom:#{bottom}px"></div>',{width:b.width,height:b.height,bgurl:g.duozai.src,backgroundPos:this.game.convertPX(this.game.duozaiinitposition),bottom:this.game.startbtnheight}))};f.prototype.show=function(a){this.$tpl.css({"background-position":this.game.initAnimationPosition}).animate({bottom:this.game.startbtnheight},100,function(){a&&a()})};f.prototype.playNormalAnimation=
function(a){var d=this,g=this.$tpl[0],e=b.normal;this.normalAnimation=h().changePosition(g,e.frames).then(function(){d.normalAnimationDone=!0;a&&a()});this.normalAnimation.start(e.interval)};f.prototype.stopNormalAnimation=function(){this.normalAnimation&&this.normalAnimation.dispose();this.normalAnimationDone=!0;this.$tpl.css("background-position","-16px 0")};f.prototype.playWorkingAnimation=function(){var a=this.$tpl[0],d=b.working;this.normalAnimationDone||this.stopNormalAnimation();this.workingAnimation=
h().changePosition(a,d.frames).repeatForever();this.workingAnimation.start(d.interval)};f.prototype.stopWorkingAnimation=function(){this.workingAnimation&&this.workingAnimation.dispose();this.$tpl.css("background-position",this.hoverDonePosition)};l.exports=f;return j});
__d("widget.treasure.progressbarSprite","common.js.jquery,common.js.format,common.js.animation,common.js.pageEvents,widget.treasure.config,common.js.events".split(","),function(m,l,j,c){function f(a){this.game=a;this.score=a.score||0;this.create()}var e=c("common.js.jquery"),k=c("common.js.format");c("common.js.animation");c("common.js.pageEvents");var m=c("widget.treasure.config"),h=c("common.js.events"),b=m.get("progressbar"),g=m.get("images");f.prototype.create=function(){var a=this.renderScore(this.score);
this.$tpl=e(k('<div class="progressbar-box" style="position:absolute;width:#{width}px;height:#{height}px;left:#{left}px;bottom:#{bottom}px;cursor:pointer"><div class="pointer js-pointer" style="position: absolute;width:#{width}px;height:#{height}px;background: url(#{bgurl})  #{fullposition}  no-repeat;"></div><div class="progressbar js-progressbar" style="position: absolute;width:#{width}px;height:#{emptybarheight}px;background: url(#{bgurl}) #{emptyposition} no-repeat"></div></div>',{width:b.width,
height:b.height,left:b.left,bottom:b.bottom,fullposition:b.fullposition,emptyposition:b.emptyposition,bgurl:g.imagebtn.src,btnwidth:b.btnwidth,btnheight:b.btnheight,btntop:b.btntop,btnleft:b.btnleft,emptybarheight:a}));"1"==this.game.logicdata.isloginfirst&&"1"!=this.game.login&&(this.$btnTpl=e(k('<a href="#" alog-text="\u9886\u53d6\u5956\u52b1" class="prize-btn js-prize" style="width: #{btnwidth}px;height: #{btnheight}px;display:block;position: absolute;top: #{btntop}px;left: #{btnleft}px;cursor:pointer"></a>',
{btnwidth:b.btnwidth,btnheight:b.btnheight,btntop:b.btntop,btnleft:b.btnleft})));this.$progressbar=e(".js-progressbar",this.$tpl);this.$pointer=e(".js-pointer",this.$tpl);7==this.score&&this.$btnTpl&&(this.$tpl.append(this.$btnTpl),this.$prizeBtn=e(".js-prize",this.$tpl),h.done("weekend.progressbar-bindbtnclick"))};f.prototype.playflyanimation=function(){this.$tpl.fadeIn(1E3)};f.prototype.renderScore=function(a){var d;switch(a){case 0:d=b.score.zero;break;case 1:d=b.score.one;break;case 2:d=b.score.two;
break;case 3:d=b.score.three;break;case 4:d=b.score.four;break;case 5:d=b.score.five;break;case 6:d=b.score.six;break;case 7:d=b.score.seven;break;default:d=b.score.seven}this.$progressbar&&this.$progressbar.animate({height:d},1E3);7==a&&this.$btnTpl&&!this.$prizeBtn&&(this.$tpl.append(this.$btnTpl),this.$prizeBtn=e(".js-prize",this.$tpl),h.done("weekend.progressbar-bindbtnclick"));return d};f.prototype.forward=function(a){this.renderScore(a)};f.prototype.back=function(){var a=this.forwardTime;this.$pointer.stop().animate({left:pointerConf.minLeft},
a,"linear")};f.prototype.reset=function(){this.renderScore(0)};l.exports=f;return j});
__d("widget.treasure.treasure_ajax",["common.js.jquery"],function(m,l,j,c){function f(e){e=document.cookie.match("(?:^|; )"+window.encodeURIComponent(e)+"=([^;]+)");return null===e?void 0:window.decodeURIComponent(e[1])}function e(){var e=f("FLASHID")||f("BAIDUID");if(e)return e.split(":")[0]}var k=c("common.js.jquery");return j={doPost:function(c,b,g){b=b||{};b.c=e();k.getJSON(HAO.httpsTrans(c),b,function(a){g&&g(a)})}}});
__d("widget.treasure.treasure_goodSubmit",["common.js.widget","widget.popup.base","widget.treasure.config"],function(m,l,j,c){c("common.js.widget");c("widget.popup.base");var f=c("widget.treasure.config");$.widget("hao123.treasure_goodSubmit",$.lottery.popup,{options:{className:"good-confirm-box",isModel:!0},_create:function(){var e=this.element;this._baseCreate();this.element.appendTo($("body"));this.$close=$('[data-hook="good-confirm-close"]',e);this._bindEvent();this._render();this._baseShow()},
_init:function(){},_render:function(){var e=this.options,c=e.game.popdata[4],h=c.boxlayout.split(" "),b=c.closebtnlayout.split(" "),g=f.get("images");this.element.css({position:"fixed",width:h[0]+"px",height:h[1]+"px","z-index":9999,"background-image":"url("+HAO.httpsTrans(g.pop.src)+")","background-repeat":"no-repeat","background-position":e.game.convertPX(c.boxbgposition)});this.$close.css({position:"absolute",display:"block",width:b[0]+"px",height:b[1]+"px",top:b[2]+"px",left:b[3]+"px"})},_bindEvent:function(){var e=
this;e.$close.click(function(){e._baseHide();e.remove();return!1})}});l.exports={pop:function(e){$('<div id="treasure-good-confirm" class="treasure-good-confirm" monkey="treasure_good_confirm"><a href="#" title="\u5173\u95ed\u5f39\u7a97" class="good-confirm-close" data-hook="good-confirm-close"></a></div>').treasure_goodSubmit({game:e})}};return j});
__d("widget.treasure.treasure_good",["common.js.widget","widget.treasure.treasure_ajax","widget.treasure.config","widget.treasure.treasure_goodSubmit"],function(m,l,j,c){c("common.js.widget");var f=c("widget.treasure.treasure_ajax"),e=c("widget.treasure.config"),k=c("widget.treasure.treasure_goodSubmit"),h=e.get("lottery").submitUrl;$.widget("hao123.treasure_good",$.lottery.popup,{options:{className:"pop-treasure-good",isModel:!0},_create:function(){var b=this.element;e.get("images");this._baseCreate();
this.element.appendTo($("body"));this.valid=!1;this.$close=$('[data-hook="treasure-good-close"]',b);this.$submit=$('[data-hook="treasure-good-submit"]',b);this.$prize=$('[data-hook="treasure-good-prize"]',b);this.$name=$('[data-hook="prizer-name"]',b);this.$phone=$('[data-hook="prizer-phone"]',b);this.$address=$('[data-hook="prizer-address"]',b);this._bindEvent();this._baseShow()},_init:function(){this._render()},_render:function(){var b=this.options,g=e.get("images"),a=b.game.popdata[3],d=a.boxlayout.split(" "),
c=a.closebtnlayout.split(" "),i=a.btn1layout.split(" "),h=a.btn2layout.split(" "),f=a.input1layout.split(" "),k=a.input2layout.split(" "),j=a.input3layout.split(" ");this.element.css({position:"fixed",width:d[0],height:d[1],"z-index":9999,"background-image":"url("+HAO.httpsTrans(g.pop.src)+")","background-repeat":"no-repeat","background-position":b.game.convertPX(a.boxbgposition)});this.$close.css({position:"absolute",display:"block",width:c[0]+"px",height:c[1]+"px",top:c[2]+"px",left:c[3]+"px"});
this.$submit.css({position:"absolute",display:"block",width:i[0]+"px",height:i[1]+"px",top:i[2]+"px",left:i[3]+"px"}).attr("href",b.url);this.$prize.css({position:"absolute",width:h[0]+"px",height:h[1]+"px",top:h[2]+"px",left:h[3]+"px"}).text(b.prize);this.$name.css({position:"absolute",display:"block",width:f[0]+"px",height:f[1]+"px",top:f[2]+"px",left:f[3]+"px"});this.$phone.css({position:"absolute",display:"block",width:k[0]+"px",height:k[1]+"px",top:k[2]+"px",left:k[3]+"px"});this.$address.css({position:"absolute",
display:"block",width:j[0]+"px",height:j[1]+"px",top:j[2]+"px",left:j[3]+"px"})},show:function(){this._baseShow()},_commit:function(){function b(){g._baseHide();k.pop(a.game)}var g=this,a=g.options;g._valid();g.valid&&f.doPost(h,a.args,b)},_valid:function(){function b(a,d){a=$.trim(a);switch(d){case "phone":return/^0?1[3|4|5|8][0-9]\d{8}$/.test(a);default:return!!a}}var g=this.$name.val(),a=this.$phone.val(),d=this.$address.val();b(g,"notnull")?b(a,"notnull")?b(a,"phone")?b(d,"notnull")?(this.valid=
!0,this.options.args.winfo.address=d,this.options.args.winfo.phone=a,this.options.args.winfo.uname=g):(this.valid=!1,this.$address.focus()):(this.valid=!1,this.$phone.val("").focus()):(this.valid=!1,this.$phone.focus()):(this.valid=!1,this.$name.focus())},_bindEvent:function(){var b=this;this.$close.click(function(){b._baseHide();b.remove();return!1});this.$submit.click(function(){b._commit();return!1})}});l.exports={pop:function(b,g,a){var d={};d.prize=b;d.args=g;d.game=a;$('<div id="pop-treasure-good" class="pop-treasure-good" monkey="pop_treasure_good"><div class="treasure-good-prize" data-hook="treasure-good-prize"></div><input class="prizer-name" data-hook="prizer-name"><input class="prizer-phone" data-hook="prizer-phone"><textarea rows="2" cols="20" class="prizer-address" data-hook="prizer-address"></textarea><a href="#" class="treasure-good-submit" data-hook="treasure-good-submit" title="\u63d0\u4ea4"></a><a href="#" title="\u5173\u95ed\u4e2d\u5956\u5f39\u5c42" class="treasure-good-close" data-hook="treasure-good-close"></a></div>').treasure_good(d)}};
return j});
__d("widget.treasure.treasure_virtual",["common.js.widget","widget.popup.base","widget.treasure.config","widget.treasure.treasure_good"],function(m,l,j,c){c("common.js.widget");c("widget.popup.base");var f=c("widget.treasure.config"),e=c("widget.treasure.treasure_good");$.widget("hao123.treasure_virtual",$.lottery.popup,{options:{className:"pop-treasure-virtual",isModel:!0},_create:function(){var e=this.element;f.get("images");this._baseCreate();this.element.appendTo($("body"));this.$close=$('[data-hook="treasure-virtual-close"]',
e);this.$submit=$('[data-hook="treasure-virtual-submit"]',e);this.$img=$('[data-hook="treasure-virtual-img"]',e);this.$prize=$('[data-hook="treasure-virtual-prize"]',e);this._bindEvent();this._baseShow()},_init:function(){this._render()},_render:function(){var e=this.options,c=f.get("images"),b=e.game.popdata[2],g=b.boxlayout.split(" "),a=b.boxbgposition,d=b.closebtnlayout.split(" "),n=b.btn1layout.split(" "),i=b.input1layout.split(" "),r=b.input2layout.split(" ");"0"==b.isprizeshow&&"0"==e.real&&
(g=b.boxlayout2.split(" "),d=b.closebtnlayout2.split(" "),n=b.btn1layout2.split(" "),i[0]=0,i[1]=0,r[0]=0,r[1]=0,a=b.boxbgposition2);this.element.css({position:"fixed",width:g[0],height:g[1],"z-index":9999,"background-image":"url("+HAO.httpsTrans(c.pop.src)+")","background-repeat":"no-repeat","background-position":e.game.convertPX(a)});this.$close.css({position:"absolute",display:"block",width:d[0]+"px",height:d[1]+"px",top:d[2]+"px",left:d[3]+"px"});this.$submit.css({position:"absolute",display:"block",
width:n[0]+"px",height:n[1]+"px",top:n[2]+"px",left:n[3]+"px"}).attr("href",e.url);this.$img.css({position:"absolute",width:r[0]+"px",height:r[1]+"px",top:r[2]+"px",left:r[3]+"px","background-image":"url("+HAO.httpsTrans(e.img)+")","background-repeat":"no-repeat","background-position":"center center"});this.$prize.css({position:"absolute",width:i[0]+"px",height:i[1]+"px",top:i[2]+"px",left:i[3]+"px"}).text(e.name)},_bindEvent:function(){var c=this,h=this.options;this.$close.click(function(){c._baseHide();
c.remove();return!1});this.$submit.click(function(){c._baseHide();c.remove();if(0!=h.real)return e.pop(h.name,h.params,h.game),!1})}});l.exports={pop:function(e,c,b){var g={};g.img=c.img_url;g.url=c.url;g.game=e;g.name=c.prize_name;g.prize_id=c.prize_id;g.real=c.real;g.params=b;$('<div id="pop-treasure-virtual" class="pop-treasure-virtual" monkey="pop_treasure_virtual"><div class="treasure-virtual-prize" data-hook="treasure-virtual-prize"></div><div class="treasure-virtual-img" data-hook="treasure-virtual-img"></div><a href="#" target="_blank" class="treasure-virtual-submit" data-hook="treasure-virtual-submit" title="go"></a><a href="#" title="\u5173\u95ed\u5f39\u7a97" class="treasure-virtual-close" data-hook="treasure-virtual-close"></a></div>').treasure_virtual(g)}};
return j});
__d("widget.treasure.treasure_getGold",["common.js.widget","widget.treasure.config"],function(m,l,j,c){c("common.js.widget");var f=c("widget.treasure.config");$.widget("hao123.treasure_getGold",$.lottery.popup,{options:{className:"gold-confirm-box",isModel:!0},_create:function(){var e=this.element;f.get("images");this._baseCreate();this.element.appendTo($("body"));this.$close=$('[data-hook="gold-confirm-close"]',e);this.$goVip=$('[data-hook="gold-confirm-vip"]',e);this._render();this._bindEvent();this._baseShow()},
_init:function(){},_render:function(){var e=this.options,c=e.game.popdata[5],h=c.boxlayout.split(" "),b=c.closebtnlayout.split(" "),g=c.btn1layout.split(" "),a=f.get("images");this.element.css({position:"fixed",width:h[0]+"px",height:h[1]+"px","z-index":9999,"background-image":"url("+HAO.httpsTrans(a.pop.src)+")","background-repeat":"no-repeat","background-position":e.game.convertPX(c.boxbgposition)});this.$close.css({position:"absolute",display:"block",width:b[0]+"px",height:b[1]+"px",top:b[2]+"px",
left:b[3]+"px"});this.$goVip.css({position:"absolute",display:"block",width:g[0]+"px",height:g[1]+"px",top:g[2]+"px",left:g[3]+"px"}).attr("href",e.game.logicdata.nodrwaurl)},_bindEvent:function(){var e=this;e.$close.click(function(){e._baseHide();e.remove();return!1});e.$goVip.click(function(){e._baseHide();e.remove()})}});l.exports={pop:function(e){$('<div id="treasure-gold-confirm" class="treasure-gold-confirm" monkey="treasure_gold_confirm"><a target="_blank" href="http://vip.hao123.com//?from=weekend" alog-text="goVip" class="gold-confirm-vip" data-hook="gold-confirm-vip"></a><a href="#" title="\u5173\u95ed\u5f39\u7a97" class="gold-confirm-close" data-hook="gold-confirm-close"></a></div>').treasure_getGold({game:e})}};
return j});
__d("widget.treasure.game","common.js.jquery,common.js.format,common.js.events,common.js.log,common.js.JSON,widget.canlash.imageloader,widget.treasure.config,common.js.config,common.js.store,widget.treasure.duozaiSprite,widget.treasure.progressbarSprite,widget.treasure.diamondSprite,widget.treasure.treasure_virtual,widget.treasure.treasure_ajax,widget.treasure.treasure_getGold,common.js.profile,common.js.pageEvents,widget.treasure.dolotteryTip,common.js.login,common.js.cookie".split(","),function(m,
l,j,c){function f(){window.gameinstance=this;this.state=o.unInit;this.resourceLoaded=!1;this.login=n.get("userinfo").islanding}var e=c("common.js.jquery"),k=c("common.js.format"),h=c("common.js.events"),b=c("common.js.log"),g=c("common.js.JSON"),a=c("widget.canlash.imageloader"),d=c("widget.treasure.config"),n=c("common.js.config"),i=c("common.js.store"),r=c("widget.treasure.duozaiSprite"),p=c("widget.treasure.progressbarSprite"),w=c("widget.treasure.diamondSprite"),A=c("widget.treasure.treasure_virtual"),
t=c("widget.treasure.treasure_ajax"),z=c("widget.treasure.treasure_getGold"),x=c("common.js.profile"),s=c("common.js.pageEvents"),b=c("common.js.log"),v=c("widget.treasure.dolotteryTip"),y=c("common.js.login"),q=c("common.js.cookie"),o=d.get("gameState"),u=d.get("images");f.prototype.init=function(a,d,b,g,c,i){this.diamondData="hao123-index-tnwbdz"==c?a[1].data:a[2].data;this.initdata=a