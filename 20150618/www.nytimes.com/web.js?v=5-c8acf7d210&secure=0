
            (function() {
            // payload delivery
            
            if (!window.celtra)
                window.celtra = {};
            if (!window.celtra.payloads)
                window.celtra.payloads = {};
            
            window.celtra.payloads["http:\/\/cache.celtra.com\/api\/creatives\/6c3632b2\/compiled\/web.js?v=5-c8acf7d210&secure=0"] = function(script, runtimeParams, trackers, openWebsiteOverrideUrls, getAppOverrideUrls, brand, macros) {
            var iframe = document.createElement('iframe');
            iframe.style.display = 'none';
            iframe.setAttribute('frameborder', '0');
            iframe.setAttribute('scrolling', 'no');
            script.parentNode.appendChild(iframe);

            iframe.contentDocument.open();
            iframe.contentDocument.close();
            
            iframe.contentWindow.runtimeParams = runtimeParams;
            iframe.contentWindow.celtraDeviceInfoRuntimeParams = runtimeParams.deviceInfo;
            iframe.contentWindow.trackers = trackers;
            iframe.contentWindow.openWebsiteOverrideUrls = openWebsiteOverrideUrls;
            iframe.contentWindow.getAppOverrideUrls = getAppOverrideUrls;
            iframe.contentWindow.brand = brand;
            iframe.contentWindow.macros = macros;
            iframe.contentWindow.script = script;
            iframe.contentWindow.unitScript = "\n            (function() {\n                \/\/ Add head or body, if they do not yet exist\n                var html = document.documentElement;\n                var head = document.querySelector('head');\n                if (!head) {\n                    head = document.createElement('head');\n                    html.insertBefore(head, html.firstChild);\n                }\n                var body = document.querySelector('body');\n                if (!body) {\n                    body = document.createElement('body');\n                    html.appendChild(body);\n                }\n                \n                \n            \/\/ Add CSS\n            var styles = document.createElement('style');\n            styles.textContent = \"\\n\\\/* Disables green outline on tapped objects on HTC phones running Android *\\\/\\n* {\\n    -webkit-tap-highlight-color : rgba(0,0,0,0);\\n    tap-highlight-color         : rgba(0,0,0,0);\\n}\\n\\n.celtra-creative-unit {\\n    font-family: Helvetica;\\n    font-size: 12pt;\\n    \\n    position: relative; \\\/* so contained elements are positioned OK and 'overflow: hidden' works *\\\/\\n    \\n    \\\/*\\n      z-indices:\\n        10 - screenHolder\\n        20 - placeboBar\\n        40 - alert\\n        30 - displayImageAction overlay\\n        100 - close button\\n    *\\\/\\n}\\n\\n.celtra-screen-holder {\\n    position: absolute; top: 0; left: 0; bottom: 0; right: 0;\\n    z-index: 10;\\n}\\n\\n.celtra-creative-unit, .celtra-creative-unit * {\\n    -webkit-text-size-adjust: none;\\n        -ms-text-size-adjust: none;\\n            text-size-adjust: none;\\n    tap-highlight-color: transparent;\\n    touch-callout: none;\\n    -webkit-user-select: none;\\n       -moz-user-select: none;\\n        -ms-user-select: none;\\n            user-select: none; \\\/* override to 'text' manually if needed *\\\/\\n\\n    margin: 0;\\n    padding: 0;\\n}\\n\\n.celtra-close-button {\\n    position: absolute;\\n    top: 0; right: 0;\\n    width: 30px; height: 30px;\\n    z-index: 99999999;\\n    overflow: hidden;\\n    -webkit-transform: translateZ(0);\\n}\\n\\n.celtra-close-button-text {\\n    font-family: Arial, Helvetica, Tahoma, sans-serif;\\n    font-size: 12px;\\n    line-height: 12px;\\n    padding: 10px;\\n    white-space: nowrap;\\n    width: auto;\\n    height: auto;\\n    cursor: pointer;\\n}\\n\\n.celtra-close-button.touched {\\n    visibility: hidden;\\n}\\n\\n.celtra-close-button-down {\\n    visibility: hidden;\\n}\\n\\n.celtra-close-button-up.touched+.celtra-close-button-down {\\n    visibility: visible;\\n}\\n\\n.celtra-close-button-text.touched {\\n    visibility: visible;\\n    padding-top: 11px;\\n    padding-right: 9px;\\n}\\n\\n.celtra-creative-unit input, \\n.celtra-creative-unit textarea,\\n.celtra-creative-unit .text-box-underlay,\\n.transplanted-form-element-container input, \\n.transplanted-form-element-container textarea,\\n.transplanted-form-element {\\n    -webkit-user-select: text;\\n       -moz-user-select: text;\\n        -ms-user-select: text;\\n            user-select: text;\\n    text-align: center;\\n}\\n\\n.celtra-select-box {\\n    text-align: center;\\n}\\n\\n\\n.celtra-display-image-overlay {\\n    position: absolute;\\n    top: 0; right: 0; bottom: 0; left: 0;\\n    z-index: 30;\\n    -webkit-transform: translateZ(0);\\n    background-repeat: no-repeat;\\n    background-position: center center;\\n    \\\/* background-color and background-image set in code *\\\/\\n}\\n\\n.celtra-display-image-overlay .celtra-back-button {\\n    position: absolute;\\n    top: 0;\\n    width: 30px; height: 30px;\\n    background: url('http:\\\/\\\/cache.celtra.com\\\/api\\\/static\\\/vc8acf7d210\\\/runner\\\/clazzes\\\/CreativeUnit\\\/back.png');\\n    background-size: 30px 60px;\\n    -webkit-transform: translateZ(0);\\n}\\n\\n.celtra-display-image-overlay .celtra-back-button.left {\\n    left: 0;\\n}\\n\\n.celtra-display-image-overlay .celtra-back-button.right {\\n    right: 0;\\n}\\n\\n.celtra-display-image-overlay .celtra-back-button.touched {\\n    background-position: 0 100%;\\n}\\n\\n.celtra-fit-to-container {\\n    max-width: 100%;\\n    max-height: 100%;\\n}\\n\\n.celtra-center-content {\\n    width: 100%;\\n    height: 100%;\\n    text-align: center;\\n}\\n.celtra-center-content::before {\\n    content: '';\\n    display: inline-block;\\n    height: 100%;\\n    vertical-align: middle;\\n}\\n.celtra-center-content > * {\\n    vertical-align: middle;\\n}\\n\\n\\\/* Custom alert box *\\\/\\n.alert, .alert-dark-overlay {\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n    z-index: 40;\\n    width: 100%;\\n    height: 100%;\\n}\\n.alert-dark-overlay {\\n    background-color: #000;\\n    opacity: .5;\\n}\\n.alert-box {\\n    position: absolute;\\n    top: 50%;\\n    left: 50%;\\n    width: 220px;\\n    text-align: center;\\n    padding: 13px 10px;\\n    margin: -93px 0 0 -120px;\\n    border-radius: 7px;\\n    display: none;\\n    z-index: 41;\\n    font-size: 14px;\\n    background: rgba(50,50,50,1);\\n    background: -webkit-linear-gradient(top, rgba(64,64,64,1) 0%, rgba(39,39,39,1) 100%);\\n    background: linear-gradient(top, rgba(64,64,64,1) 0%, rgba(39,39,39,1) 100%);\\n    border: 1px solid #191919;\\n    box-shadow: 0 3px 20px rgba(0,0,0,0.4), inset 0 1px 0 0 rgba(255,255,255,0.2), inset 0 -1px 0 0 rgba(0,0,0,0.3);\\n}\\n.alert-title {\\n    font-family: \\\"Helvetica Neue\\\", sans-serif;\\n    font-size: 17px;\\n    color: white;\\n    text-align: center;\\n    margin-bottom: 10px;\\n    text-shadow: 0 1px 0 rgba(0,0,0,1);\\n}\\n.alert-dark-line,\\n.alert-light-line {\\n    width: 100%;\\n    height: 1px;\\n    padding: 0;\\n    margin: 0;\\n    border: none;\\n    background: rgba(45,44,45,1);\\n    background: -webkit-linear-gradient(left, rgba(45,44,45,0) 0%, rgba(45,44,45,1) 20%, rgba(45,44,45,1) 80%, rgba(45,44,45,0) 100%);\\n    background: linear-gradient(left, rgba(45,44,45,0) 0%, rgba(45,44,45,1) 20%, rgba(45,44,45,1) 80%, rgba(45,44,45,0) 100%);\\n}\\n.alert-light-line {\\n    margin: 0 0 10px 0;\\n    background: rgba(73,74,73,1);\\n    background: -webkit-linear-gradient(left, rgba(73,74,73,0) 0%, rgba(73,74,73,1) 20%, rgba(73,74,73,1) 80%, rgba(73,74,73,0) 100%);\\n    background: linear-gradient(left, rgba(73,74,73,0) 0%, rgba(73,74,73,1) 20%, rgba(73,74,73,1) 80%, rgba(73,74,73,0) 100%);\\n}\\n.alert-message {\\n    font-family: Helvetica, Arial, sans-serif;\\n    color: #999999;\\n    font-size: 14px;\\n    text-align: center;\\n    margin-bottom: 10px;\\n    text-shadow: 0 1px 0 rgba(0,0,0,1);\\n}\\n.alert-input {\\n    display: block;\\n    width: 178px;\\n    height: 37px;\\n    box-sizing: border-box;\\n    border: 1px solid #1a1a1a;\\n    border-radius: 3px;\\n    color: white;\\n    background: rgba(29,29,29,1);\\n    background: -webkit-linear-gradient(top, rgba(26,26,26,1) 0%, rgba(33,33,33,1) 100%);\\n    background: linear-gradient(top, rgba(26,26,26,1) 0%, rgba(33,33,33,1) 100%);\\n    box-shadow : 0 1px 0 0 rgba(255,255,255,0.1);\\n    margin: 0 auto;\\n}\\n.alert-ok,\\n.alert-cancel {\\n    margin: 10px auto 0;\\n    display: inline-block;\\n    text-align: center;\\n    box-sizing: border-box;\\n    width: 178px;\\n    height: 37px;\\n    background: -webkit-linear-gradient(top, rgba(0,0,0,0) 0%, rgba(0,0,0,0.2) 100%);\\n    background: linear-gradient(top, rgba(0,0,0,0) 0%, rgba(0,0,0,0.2) 100%);\\n    border: 1px solid rgba(0,0,0,0.8);\\n    border-radius: 3px;\\n    color: white;\\n    line-height: 37px;\\n    text-transform: uppercase;\\n    text-shadow: 0 -1px 0 rgba(0,0,0,0.8);\\n    box-shadow : 0 1px 0 0 rgba(255,255,255,0.1), inset 0 1px 0 0 rgba(255,255,255,0.3);\\n    cursor: pointer;\\n}\\n.alert-ok.with-cancel {\\n    width: 84px;\\n}\\n.alert-ok.no-margin-top {\\n    margin-top: 0;\\n}\\n.alert-cancel {\\n    margin-left: 10px;\\n    width: 84px;\\n}\\n\\n.celtra-screen {\\n    \\\/*\\n      Screens themselves have 0 area and visible overflow (default), so\\n      click-through from base to master screen works.\\n      \\n      The master has z-index 0 and the primary screen has z-index 1.\\n    *\\\/\\n    position: absolute;\\n    top: 0; left: 0; \\n    \\n    pointer-events: none;\\n    overflow: hidden;\\n}\\n\\n.celtra-screen > * {\\n    pointer-events: auto;\\n}\\n\\\/*\\nThis extra CSS attribute is required for Internet Explorer 10+ to correctly\\nroute Pointer events to the object being touched. This is mutually exclusive\\nwith scrolling, so there's no way to have both at the same time. This will\\nalso prevent swipeable banners if any element on stage has the `touchable`\\nCSS class, but will generate `tap` events.\\n*\\\/\\n.touchable { -ms-touch-action: none; }\\n\\n\\\/*\\nOn IE, if a background is not set on an element, it is\\ntransparent to mouse and touch events. This forces the\\nelement to become opaque to user events.\\n*\\\/\\n.celtra-screen-object { background: rgba(0,0,0,0); }\\n\\n\\\/*\\nPointer cursor for hotspot component on desktop.\\n*\\\/\\n.celtra-hotspot { cursor: pointer; }\\n\";\n            head.appendChild(styles);\n            \n            window.celtraDeviceInfoRuntimeParams = runtimeParams.deviceInfo;\n\n            \/\/ Add JS\n            var js = document.createElement('script');\n            js.textContent = \"function inherit(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.uber=t.prototype,e.uberConstructor=t,e.prototype.constructor=e}function extend(e,t){for(var n=1;n<arguments.length;n++){var t=arguments[n];if(t instanceof Object)for(var r in t)e[r]=t[r]}return e}function deep(e,t){for(var n in t)e[n]instanceof Object&&t[n]instanceof Object?deep(e[n],t[n]):e[n]=t[n]}function delayed(e,t){var n=null;return function(){n&&clearTimeout(n),n=setTimeout(e,t)}}function throttled(e,t){var n=null;return function(){n||(n=setTimeout(function(){n=null,e()},t))}}function deferred(e,t){return function(){defer(e,t)}}function hasClass(e,t){return-1!=(\\\" \\\"+e.className+\\\" \\\").indexOf(\\\" \\\"+t+\\\" \\\")}function addClass(e,t){hasClass(e,t)||(e.className+=\\\" \\\"+t)}function removeClass(e,t){e.className=e.className.replace(new RegExp(\\\"(\\\\\\\\s|^)\\\"+t+\\\"(\\\\\\\\s|$)\\\"),\\\" \\\")}function toggleClass(e,t){hasClass(e,t)?removeClass(e,t):addClass(e,t)}function cssurl(e){return\\\"url('\\\"+e.replace(\\\/'\\\/g,\\\"\\\\\\\\'\\\")+\\\"')\\\"}function ucfirst(e){return e.charAt(0).toUpperCase()+e.slice(1)}function zeroPad(e,t){null==t&&(t=2);var n=Math.max(0,t-(\\\"\\\"+e).length),r=(\\\"\\\"+Math.pow(10,n)).slice(1);return r+e}function htmlentitize(e){return e.replace(\\\/&\\\/g,\\\"&amp;\\\").replace(\\\/\\\"\\\/g,\\\"&quot;\\\").replace(\\\/<\\\/g,\\\"&lt;\\\").replace(\\\/>\\\/g,\\\"&gt;\\\")}function trim(e){return e.replace(\\\/^\\\\s+|\\\\s+$\\\/g,\\\"\\\")}function to_utf8(e){return unescape(encodeURIComponent(e))}function randInt(){return(Math.random()+\\\"\\\").slice(2)}function attach(e,t,n,r){var o=CStyler._eventNames[t.toLowerCase()]||t;e.addEventListener(o,n,!!r)}function detach(e,t,n,r){var o=CStyler._eventNames[t.toLowerCase()]||t;e.removeEventListener(o,n,!!r)}function once(e,t,n,r){attach(e,t,function o(){detach(e,t,o,r),n.apply(this,arguments)},r)}function trigger(e,t,n,r){var o=document.createEvent(\\\"HTMLEvents\\\");o.initEvent(t,n,r);var a=\\\"on\\\"+ucfirst(t);return\\\"function\\\"==typeof e[a]&&e[a](),e.dispatchEvent(o)}function fakeclick(e,t){t=t||window;var n=t.document.createElement(\\\"a\\\");n.cssText=\\\"visibility: hidden\\\",n.addEventListener(\\\"click\\\",function(t){e(),t.preventDefault(),t.stopPropagation(),n.parentNode.removeChild(n)},!0),t.document.body.appendChild(n);var r=document.createEvent(\\\"MouseEvents\\\");r.initEvent(\\\"click\\\",!0,!0),n.dispatchEvent(r)}function fakeClickAhrefBlank(e,t,n){t=t||noop,n=n||window;var r=n.document.createElement(\\\"a\\\");r.style.cssText=\\\"visibility: hidden\\\",r.setAttribute(\\\"href\\\",e),r.setAttribute(\\\"target\\\",\\\"_blank\\\"),r.addEventListener(\\\"click\\\",function(e){e.stopPropagation(),t(),r.parentNode.removeChild(r)},!0),n.document.body.appendChild(r);var o=n.document.createEvent(\\\"MouseEvents\\\");o.initEvent(\\\"click\\\",!0,!0),r.dispatchEvent(o)}function noop(){}function nullai(e,t){t()}function retTrue(){return!0}function retFalse(){return!1}function offset(e){var t=e.getBoundingClientRect(),n=e.ownerDocument,r=n.documentElement,o=n.defaultView;return{top:t.top+(o.pageYOffset||r.scrollTop)-(r.clientTop||0),left:t.left+(o.pageXOffset||r.scrollLeft)-(r.clientLeft||0)}}function addCssRule(e,t,n){var r=document.createElement(\\\"style\\\");r.textContent=e+\\\" {\\\"+t+\\\"}\\\",n?n.document.getElementsByTagName(\\\"head\\\")[0].appendChild(r):document.getElementsByTagName(\\\"head\\\")[0].appendChild(r)}function redrawAndroidIframe(){var e=document.createElement(\\\"style\\\");document.body.appendChild(e),document.body.removeChild(e)}function parseQuery(e){var t={};return e=e.replace(\\\/\\\\&$\\\/,\\\"\\\").replace(\\\/\\\\+\\\/g,\\\"%20\\\"),e.split(\\\"&\\\").forEach(function(e){var n=e.split(\\\"=\\\").map(decodeURIComponent);t[n[0]]=n[1]}),t}function buildQuery(e){var t=[];for(var n in e)t.push(encodeURIComponent(n)+\\\"=\\\"+encodeURIComponent(e[n]));return t.join(\\\"&\\\")}function postBlob(e,t){var n=new XMLHttpRequest;n.open(\\\"POST\\\",creative.apiUrl+\\\"blobs?base64=1\\\"),n.setRequestHeader(\\\"Content-Type\\\",\\\"application\\\/octet-stream\\\"),n.onreadystatechange=function(){4===n.readyState&&t(n.responseText,n.status)},n.send(e)}function tmpl(e,t){function n(e){return\\\"  p.push('\\\"+e.replace(\\\/'\\\/g,\\\"\\\\\\\\'\\\").split(\\\/\\\\r?\\\\n\\\/g).join(\\\"\\\\\\\\n');\\\\n  p.push('\\\")+\\\"');\\\\n\\\"}if(!e)return\\\"\\\";var r;if(-1==e.indexOf(\\\"<%\\\"))r=function(){return e};else{var o=e.split(\\\/<%\\\\s*|\\\\s*%>\\\/g),a=\\\"var p = []; with(o) {\\\\n\\\",c=!1;o.forEach(function(e){c?a+=\\\"=\\\"==e[0]?\\\"  p.push(\\\"+e.replace(\\\/^=\\\\s*|\\\\s*$\\\/g,\\\"\\\")+\\\");\\\\n\\\":\\\"  \\\"+e+\\\"\\\\n\\\":e&&(a+=n(e)),c=!c}),a+='} return p.join(\\\"\\\");';try{r=new Function(\\\"o\\\",a)}catch(i){var u=new Error(\\\"Cannot parse template! (see `template` property)\\\");throw u.template=a,u}}return t?r(t):r}function flash(){var e=document.createElement(\\\"div\\\");e.style.background=\\\"white\\\",e.style.opacity=.005,e.style.position=\\\"absolute\\\",e.style.top=0,e.style.left=0,e.style.width=\\\"100%\\\",e.style.height=\\\"100%\\\",e.style.zIndex=2147483647,document.body.appendChild(e),setTimeout(function(){e.parentNode.removeChild(e)},0)}function crc32(e){\\\"use strict\\\";var t=-1,n=0,r=[0,-227835133,-516198153,324072436,-946170081,904991772,648144872,-724933397,-1965467441,2024987596,1809983544,-1719030981,1296289744,-1087877933,-1401372889,1578318884,274646895,-499825556,-244992104,51262619,-675000208,632279923,922689671,-996891772,-1702387808,1760304291,2075979607,-1982370732,1562183871,-1351185476,-1138329528,1313733451,549293790,-757723683,-1048117719,871202090,-416867903,357341890,102525238,-193467851,-1436232175,1477399826,1264559846,-1187764763,1845379342,-1617575411,-1933233671,2125378298,820201905,-1031222606,-774358714,598981189,-143008082,85089709,373468761,-467063462,-1170599554,1213305469,1526817161,-1452612982,2107672161,-1882520222,-1667500394,1861252501,1098587580,-1290756417,-1606390453,1378610760,-2032039261,1955203488,1742404180,-1783531177,-878557837,969524848,714683780,-655182201,205050476,-28094097,-318528869,526918040,1361435347,-1555146288,-1340167644,1114974503,-1765847604,1691668175,2005155131,-2047885768,-604208612,697762079,986182379,-928222744,476452099,-301099520,-44210700,255256311,1640403810,-1817374623,-2130844779,1922457750,-1503918979,1412925310,1197962378,-1257441399,-350237779,427051182,170179418,-129025959,746937522,-554770511,-843174843,1070968646,1905808397,-2081171698,-1868356358,1657317369,-1241332974,1147748369,1463399397,-1521340186,-79622974,153784257,444234805,-401473738,1021025245,-827320098,-572462294,797665321,-2097792136,1889384571,1674398607,-1851340660,1164749927,-1224265884,-1537745776,1446797203,137323447,-96149324,-384560320,461344835,-810158936,1037989803,781091935,-588970148,-1834419177,1623424788,1939049696,-2114449437,1429367560,-1487280117,-1274471425,1180866812,410100952,-367384613,-112536529,186734380,-538233913,763408580,1053836080,-860110797,-1572096602,1344288421,1131464017,-1323612590,1708204729,-1749376582,-2065018290,1988219213,680717673,-621187478,-911630946,1002577565,-284657034,493091189,238226049,-61306494,-1307217207,1082061258,1395524158,-1589280451,1972364758,-2015074603,-1800104671,1725896226,952904198,-894981883,-638100751,731699698,-11092711,222117402,510512622,-335130899,-1014159676,837199303,582374963,-790768336,68661723,-159632680,-450051796,390545967,1230274059,-1153434360,-1469116676,1510247935,-1899042540,2091215383,1878366691,-1650582816,-741088853,565732008,854102364,-1065151905,340358836,-433916489,-177076669,119113024,1493875044,-1419691417,-1204696685,1247431312,-1634718085,1828433272,2141937292,-1916740209,-483350502,291187481,34330861,-262120466,615137029,-691946490,-980332558,939183345,1776939221,-1685949482,-1999470558,2058945313,-1368168502,1545135305,1330124605,-1121741762,-210866315,17165430,307568514,-532767615,888469610,-962626711,-707819363,665062302,2042050490,-1948470087,-1735637171,1793573966,-1104306011,1279665062,1595330642,-1384295599];for(n=0;n<e.length;n++)t=t>>>8^r[255&(t^e.charCodeAt(n))];return(-1^t)>>>0}function isArray(e){return\\\"[object Array]\\\"===Object.prototype.toString.call(e)}function isDefAndNotNull(e){return null!=e}function updateQueryStringParameter(e,t,n){t=encodeURIComponent(t),n=encodeURIComponent(n);var r=new RegExp(\\\"([?|&])\\\"+t+\\\"=.*?(&|$)\\\",\\\"i\\\");return separator=-1!==e.indexOf(\\\"?\\\")?\\\"&\\\":\\\"?\\\",e.match(r)?e.replace(r,\\\"$1\\\"+t+\\\"=\\\"+n+\\\"$2\\\"):e+separator+t+\\\"=\\\"+n}function fetchShortenedUrl(e,t,n){function r(t,n){a[e].forEach(function(e){e[t](n)}),delete a[e]}n=n||noop;var o=!1,a=fetchShortenedUrl.inProgress,c=fetchShortenedUrl.cache,i=\\\"http\\\"==e.slice(0,4),u=new RegExp(\\\":\\\/\\\/(www.)?\\\"+fetchShortenedUrl.invalidDomains.map(function(e){return e.replace(\\\/[^a-zA-Z]\\\/g,\\\"\\\\\\\\$&\\\")}).join(\\\"|\\\")).test(e);if(!i||u)return void n();if(c[e])return void defer(function(){t(c[e])});if(a[e]||(a[e]=[],o=!0),a[e].push({success:t,error:n}),o){var s=creative.runtimeParams.secure?creative.cachedApiUrl:creative.insecureCachedApiUrl,l=s+\\\"\\\/services\\\/shortener\\\",d={longUrl:e},p=btoa(to_utf8(e));p=p.replace(\\\/\\\\\\\/\\\/g,\\\"$\\\").replace(\\\/\\\\+\\\/g,\\\"_\\\").replace(\\\/=\\\/g,\\\"\\\");var f={cbName:\\\"shortener_\\\"+p};loadJSONP(l+\\\"?\\\"+buildQuery(d),f,function(t){c[e]=t.id,r(\\\"success\\\",t.id)},function(){r(\\\"error\\\")})}}function isMediaPlaying(e){try{return e.currentTime>0&&!e.paused&&!e.ended}catch(t){return!1}}!function(e){try{for(;\\\"undefined\\\"!=typeof e.parent.location.href&&e.parent.document!==e.document;)e=e.parent}catch(t){}this.defer=function(t,n){t&&e.setTimeout(t,0|n)}}(window),Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;return function(){return t.apply(e,arguments)}});var getTimestamp=function(){return void 0===window.performance||void 0===window.performance.now?Date.now:window.performance.now.bind(window.performance)}();Date.now||(Date.now=function(){return+new Date}),Array.prototype.waitForEach||Object.defineProperty(Array.prototype,\\\"waitForEach\\\",{value:function(e,t,n){var r=this.length;r?this.forEach(function(o,a,c){var i=!1;e.call(n,o,function(){if(i)throw\\\"Called `done` multiple times for element \\\"+a;i=!0,--r||t()},a,c)},n):t()}}),function(e){e.loadJS=function(t,n,r,o){var a=e.loadJS.externals,c={success:n||noop,error:r||noop};if(t in a&&!o)a[t].loaded?setTimeout(c.success,0):a[t].cbs.push(c);else{a[t]={cbs:[c]};var i=document.createElement(\\\"script\\\");i.type=\\\"text\\\/javascript\\\",i.onload=function(){a[t].loaded=!0,a[t].cbs.forEach(function(e){e.success()}),a[t].cbs=[]},i.onerror=function(){a[t].cbs.forEach(function(e){e.error()}),a[t].cbs=[],delete a[t]},i.src=t,e.loadJS.appendToRoot(i)}},e.loadJS.externals={},e.loadJS.appendToRoot=function(e){return document.querySelector(\\\"head\\\").appendChild(e)},e.loadJSONP=function(t,n,r,o){\\\"function\\\"==typeof n&&(o=r,r=n,n={});var a=n.cbName||\\\"__jsonp\\\"+randInt();t+=(-1==t.indexOf(\\\"?\\\")?\\\"?\\\":\\\"&\\\")+(n.paramName||\\\"jsonp\\\")+\\\"=\\\"+a,e[a]=function(t){r(t),delete e[a]},loadJS(t,noop,o,!0)}}(window),\\\"undefined\\\"==typeof Function.prototype.name&&!function(){var e=\\\/^function\\\\s+(\\\\w+?)\\\\s*?\\\\(\\\/;Object.defineProperty(Function.prototype,\\\"name\\\",{get:function(){var t=this.constructor.prototype.toString.call(this);return e.test(t)?t.match(e)[1]:\\\"\\\"}})}(),fetchShortenedUrl.cache={},fetchShortenedUrl.inProgress={},fetchShortenedUrl.invalidDomains=[\\\"bit.ly\\\",\\\"goo.gl\\\"];;\\nfunction CPoint(t,o){this.x=1*t||0,this.y=1*o||0}function CRect(t,o,i,e){this.left=1*t||0,this.top=1*o||0,this.width=1*i||0,this.height=1*e||0}!function(){CPoint.offset=function(t){var o=offset(t);return new CPoint(o.left,o.top)};var t=null;try{t=new WebKitPoint(0,0)}catch(o){}CPoint.convertPointFromNodeToPage=null,CPoint.convertPointFromPageToNode=null,t?(CPoint.convertPointFromNodeToPage=function(o,i){return i?(t.x=i.x,t.y=i.y):(t.x=0,t.y=0),i=webkitConvertPointFromNodeToPage(o,t),i?new CPoint(i.x,i.y):null},CPoint.convertPointFromPageToNode=function(o,i){return i?(t.x=i.x,t.y=i.y):(t.x=0,t.y=0),i=webkitConvertPointFromPageToNode(o,t),i?new CPoint(i.x,i.y):null}):(CPoint.convertPointFromNodeToPage=function(t,o){if(!t||\\\"undefined\\\"!=typeof t.x)return null;var i=CPoint.offset(t);return new CPoint((o?o.x:0)+(i?i.x:0),(o?o.y:0)+(i?i.y:0))},CPoint.convertPointFromPageToNode=function(t,o){if(!t||\\\"undefined\\\"!=typeof t.x)return null;var i=CPoint.offset(t);return new CPoint((o?o.x:0)-(i?i.x:0),(o?o.y:0)-(i?i.y:0))})}(),CPoint.sample=function(t,o,i){for(var e=Math.floor(Math.sqrt(t.width*o\\\/t.height)),n=Math.floor(Math.sqrt(t.height*o\\\/t.width)),r=t.width\\\/e,h=t.height\\\/n,s=0;n>s;s++)for(var f=0;e>f;f++)i((f+.5)*r+t.left,(s+.5)*h+t.top)},CPoint.epsilon=function(t,o,i){return Math.abs(t-o)<i},CPoint.prototype.equals=function(t){return CPoint.epsilon(this.x,t.x,.25)&&CPoint.epsilon(this.y,t.y,.25)},CRect.ZERO=new CRect,Object.defineProperties(CRect.prototype,{right:{get:function(){return this.left+this.width},set:function(t){var o=this.left;t<this.left&&(this.left=t,t=o),this.width=t-this.left},enumerable:!0},bottom:{get:function(){return this.top+this.height},set:function(t){var o=this.top;t<this.top&&(this.top=t,t=o),this.height=t-this.top},enumerable:!0},tl:{get:function(){return new CPoint(this.left,this.top)}},tr:{get:function(){return new CPoint(this.right,this.top)}},bl:{get:function(){return new CPoint(this.left,this.bottom)}},br:{get:function(){return new CPoint(this.right,this.bottom)}},area:{get:function(){return this.width*this.height}}}),CRect.adopt=function(t){return new CRect(t.left,t.top,t.width,t.height)},CRect.prototype.zero=function(){return 0===this.area},CRect.prototype.intersect=function(t){if(!t)return!1;var o=Math.max(this.left,t.left),i=Math.max(this.top,t.top),e=Math.min(this.right,t.right),n=Math.min(this.bottom,t.bottom),r=e-o,h=n-i;return 0>r||0>h?CRect.ZERO:new CRect(o,i,r,h)},CRect.prototype.relativeTo=function(t){return new CRect(this.left-t.left,this.top-t.top,this.width,this.height)},CRect.prototype.contains=function(t){return t instanceof CPoint?t.x>=this.left&&t.x<=this.right&&t.y>=this.top&&t.y<=this.bottom:t instanceof CRect?t.left>=this.left&&t.right<=this.right&&t.top>=this.top&&t.bottom<=this.bottom:void 0},CRect.prototype.map=function(t,o){var i=o.width\\\/t.width,e=o.height\\\/t.height;return new CRect((this.left-t.left)*i+o.left,(this.top-t.top)*e+o.top,this.width*i,this.height*e)},CRect.prototype.equals=function(t){return t&&this.left==t.left&&this.top==t.top&&this.right==t.right&&this.bottom==t.bottom},CRect.prototype.toString=function(){return\\\"CRect: \\\"+JSON.stringify(this)};;\\nfunction Logger(e){if(!(this instanceof Logger))return new Logger(e);e=e||\\\"\\\";var n=noop;(Logger.enabledNames.indexOf(e)>=0||Logger.enabledNames.indexOf(\\\"all\\\")>=0)&&(n=function(){var e=[].slice.apply(arguments);e.unshift(Logger._ts()+\\\" [\\\"+Logger.sessionId+(this.name?\\\" \\\"+this.name:\\\"\\\")+\\\"]\\\"),console.log.apply(console,e)}),this.name=e,this.log=n,this.warn=n,this.debug=n,this.error=n}Logger._ts=function(){function e(e,n){for(e+=\\\"\\\";e.length<n;)e=\\\"0\\\"+e;return e}var n=new Date;return n.getFullYear()+\\\"-\\\"+e(n.getMonth()+1,2)+\\\"-\\\"+e(n.getDate(),2)+\\\" \\\"+e(n.getHours(),2)+\\\":\\\"+e(n.getMinutes(),2)+\\\":\\\"+e(n.getSeconds(),2)+\\\".\\\"+e(n.getTime()-1e3*Math.floor(n.getTime()\\\/1e3),3)},Logger.init=function(e,n){Logger.enabledNames=e,Logger.sessionId=n||(Math.random()+\\\"\\\").slice(15)},Logger.initFromRuntimeParams=function(e){Logger.init(e.debug?e.debug.split(\\\",\\\"):[],e.sessionId)};;\\nwindow.DeviceInfo={},function(e){function n(e){this.os=new t(e.osName,e.osVersion),this.browser=new r(e.browserName,e.browserVersion),this.engine=new i(e.browserRenderingEngine,e.browserRenderingEngineVersion),this.deviceType=new o(e.deviceType,e.mobileDevice),this.vendor=e.vendor||\\\"\\\",this.model=e.model||\\\"\\\"}function t(e,n){this.name=e||\\\"\\\",this.version=n||\\\"0\\\"}function r(e,n){this.name=e||\\\"\\\",this.version=n||\\\"0\\\"}function i(e,n){this.name=e||\\\"\\\",this.version=n||\\\"0\\\"}function o(e,n){this.hardwareType=e||\\\"\\\",this.mobile=n||\\\"\\\"}function s(e,n){function t(e){return parseInt(e.replace(\\\/\\\\D\\\/g,\\\"\\\"),10)}function r(e,n){var t;for(t=0;t<Math.min(e.length,n.length);t++){if(e[t]<n[t])return-1;if(e[t]>n[t])return 1}return 0}var i,o,s;if(!e)return!0;if(0===n.length)o=null,s=null;else if(1===n.length)o=n[0],s=n[0];else{if(2!==n.length)throw\\\"Invalid number of arguments\\\";o=n[0],s=n[1]}for(e=e.split(\\\".\\\").map(t),o=o?o.split(\\\".\\\").map(t):[],s=s?s.split(\\\".\\\").map(t):[],i=Math.max(o.length,s.length)-e.length;i>=0;i--)e.push(0);return!(-1===r(e,o)||1===r(e,s))}function u(e,n){if(-1===e.indexOf(\\\"Playstation\\\")){var t=e.match(\\\/\\\\bSilk\\\\\\\/([0-9._-]+)\\\\b\\\/);t&&(n.browserName=\\\"Amazon Silk\\\",n.browserVersion=t[1])}n.browserName&&n.browserVersion&&(0===n.browserName.indexOf(\\\"Chrome\\\")&&s(n.browserVersion,[\\\"28\\\",null])||0===n.browserName.indexOf(\\\"Opera\\\")&&s(n.browserVersion,[\\\"15\\\",null]))&&(n.browserRenderingEngine=\\\"Blink\\\"),n.browserRenderingEngineVersion||(n.browserRenderingEngineVersion=function(){var n=e.match(\\\/AppleWebKit\\\\\\\/*([0-9.]+)\\\/i);return n?n[1]:(n=e.match(\\\/Gecko\\\\\\\/*([0-9.]+)\\\/))?n[1]:(n=e.match(\\\/Trident\\\\\\\/([0-9.]+)\\\/))?n[1]:(n=e.match(\\\/Presto\\\\\\\/([0-9.]+)\\\/),n?n[1]:\\\"\\\")}())}t.prototype.android=function(){return\\\"Android\\\"===this.name&&s(this.version,arguments)},t.prototype.osx=function(){return\\\"OSX\\\"===this.name&&s(this.version,arguments)},t.prototype.ios=function(){return\\\"IOS\\\"===this.name&&s(this.version,arguments)},t.prototype.windows=function(){return\\\"Windows\\\"===this.name&&s(this.version,arguments)},t.prototype.linux=function(){return\\\"Linux\\\"===this.name},r.prototype.safari=function(){return\\\"Safari\\\"===this.name&&s(this.version,arguments)},r.prototype.chrome=function(){return 0===this.name.indexOf(\\\"Chrome\\\")&&s(this.version,arguments)},r.prototype.ie=function(){return 0===this.name.indexOf(\\\"Internet Explorer\\\")&&s(this.version,arguments)},r.prototype.android=function(){return\\\"Android Browser\\\"===this.name&&s(this.version,arguments)},r.prototype.opera=function(){return 0===this.name.indexOf(\\\"Opera\\\")&&s(this.version,arguments)},r.prototype.silk=function(){return\\\"Amazon Silk\\\"===this.name&&s(this.version,arguments)},r.prototype.firefox=function(){return\\\"Firefox\\\"===this.name&&s(this.version,arguments)},i.prototype.webkit=function(){return\\\"WebKit\\\"===this.name&&s(this.version,arguments)},i.prototype.gecko=function(){return\\\"Gecko\\\"===this.name&&s(this.version,arguments)},i.prototype.trident=function(){return\\\"Trident\\\"===this.name&&s(this.version,arguments)},i.prototype.presto=function(){return\\\"Presto\\\"===this.name&&s(this.version,arguments)},i.prototype.blink=function(){return\\\"Blink\\\"===this.name&&s(this.version,arguments)},o.prototype.phone=function(){return\\\"Phone\\\"===this.hardwareType},o.prototype.tablet=function(){return\\\"Tablet\\\"===this.hardwareType},o.prototype.desktop=function(){return\\\"Desktop\\\"===this.hardwareType},o.prototype.mobileDevice=function(){return\\\"1\\\"===this.mobile},e.DeviceInfo.create=function(t,r){return t=t||e.navigator.userAgent,r=r||{},u(t,r),new n(r)}}(window);;\\nwindow.deviceInfo=DeviceInfo.create(window.navigator.userAgent,window.celtraDeviceInfoRuntimeParams);;\\n!function(n){function t(){var n=d().match(\\\/iP(ad|hone|od).*OS ([0-9_]+)\\\/);return!!n&&c(n[2].replace(\\\/_\\\/g,\\\".\\\"),arguments)}function e(){var n=d().match(\\\/Android ([0-9.]+)\\\/);return!!n&&c(n[1],arguments)}function r(){var n=d().match(\\\/Windows Phone ([0-9.]+)\\\/);return!!n&&c(n[1],arguments)}function i(){var n=d().match(\\\/AppleWebKit\\\\\\\/*([0-9.]+)\\\/i);return!!n&&c(n[1],arguments)}function a(){var n=d().match(\\\/Gecko\\\\\\\/*([0-9.]+)\\\/i);return!!n&&c(n[1],arguments)}function u(){var n=d().match(\\\/MSIE ([0-9]{1,}[.0-9]{0,})|Trident.* rv:([0-9]{1,}[.0-9]{0,})\\\/i);return!!n&&c(n[1]||n[2],arguments)}function o(){var n=d().match(\\\/Silk\\\\\\\/([0-9.]+)\\\/);return!!n&&c(n[1],arguments)}function f(){var n=d().toLowerCase();return\\\/kftt|kfot|kfjwi|kfjwa|kfso|kfth|kfapwi|kfthwi|kfsowi|kfthwa|kfapwa|kfap|sd4930ur\\\/.test(n)?c(\\\"2\\\",arguments):\\\/kindle fire\\\/.test(n)&&e(\\\"2\\\")?c(\\\"1\\\",arguments):!1}function s(){return!h()&&(n.document.body.offsetWidth,n.Math.min(innerWidth,innerHeight)>550)||\\\/iPad\\\/.test(d())}function h(){return!(e()||t()||r())}function c(t,e){function r(n){return parseInt(n.replace(\\\/\\\\D\\\/g,\\\"\\\"),10)}function i(t,e){for(var r=0;r<n.Math.min(t.length,e.length);r++){if(t[r]<e[r])return-1;if(t[r]>e[r])return 1}return 0}var a,u,o;if(!t)return!0;if(0===e.length)u=null,o=null;else if(1===e.length)u=e[0],o=e[0];else{if(2!==e.length)throw\\\"Invalid number of arguments\\\";u=e[0],o=e[1]}t=t.split(\\\".\\\").map(r),u=u?u.split(\\\".\\\").map(r):[],o=o?o.split(\\\".\\\").map(r):[];for(var a=n.Math.max(u.length,o.length)-t.length;a>=0;a--)t.push(0);return!(-1===i(t,u)||1===i(t,o))}function l(){return n.top!==n}n.ios=t,n.android=e,n.webkit=i,n.windowsPhone=r,n.gecko=a,n.windows=u,n.kindleSilk=o,n.kindle=f,n.iframe=l,n.desktop=h,n.tablet=s;var d=function(){return\\\"undefined\\\"!=typeof n.userAgentOverride?n.userAgentOverride:n.navigator.userAgent}}(window);;\\n!function(n){function t(){var t=n;try{for(;\\\"undefined\\\"!=typeof t.parent.location.href&&t.parent.document!==t.document;)t=t.parent}catch(e){}return t}function e(){return c.getComputedStyle(c.document.body,null)}function i(n,t,e){if(!n)throw new Error(\\\"No element specified!\\\");if(a(t)){if(!(t in n.style)&&i.BREAK_ON_ERROR)throw new Error(\\\"Invalid CSS attribute \\\"+t);if(\\\"undefined\\\"==typeof e)return n.style[t];n.style[t]=e}else{if(-1==y.indexOf(t)&&o(t),\\\"undefined\\\"==typeof e)return n.style[p[t]];n.style[p[t]]=e}}function r(n,t){if(!n)throw new Error(\\\"No element specified!\\\");var e=n.ownerDocument.defaultView.getComputedStyle(n,null);if(E&&R.indexOf(t)>-1&&(t=\\\"webkit\\\"+f(t)),!e||\\\"none\\\"==e.display||!u())return null;if(!(t in e)&&i.BREAK_ON_ERROR)throw new Error(\\\"Invalid CSS attribute \\\"+t);return a(t)?e[t]:(-1==y.indexOf(t)&&o(t),e[p[t]])}function o(n){v=v||e();var t=l(w+f(n));if(E&&R.indexOf(n)>-1)p[n]=t;else if(v&&n in v)p[n]=n;else if(v&&t in v)p[n]=t;else if(i.BREAK_ON_ERROR)throw new Error(\\\"Invalid CSS attribute \\\"+n+' or iframe still display \\\"none\\\" in FF');y.push(n)}function a(n){return m.test(n)}function u(){if(n===c)return!0;var t=n.frameElement.ownerDocument.defaultView.getComputedStyle(n.frameElement,null);return t&&\\\"none\\\"!=t.display}function f(n){return n+=\\\"\\\",n?n[0].toUpperCase()+n.slice(1):\\\"\\\"}function l(n){return n+=\\\"\\\",n?n[0].toLowerCase()+n.slice(1):\\\"\\\"}var s=n.navigator.userAgent,c=t(),d=\\\/rv:.*Gecko\\\\\\\/\\\/.test(s),m=\\\/^-?([mM]oz|[wW]eb[kK]it|[mM]s)-?\\\/,p={},y=[],w=function(){return\\\/WebKit\\\/.test(s)?\\\"webkit\\\":\\\/MSIE|Trident\\\\\\\/\\\/.test(s)?\\\"ms\\\":d?\\\"Moz\\\":\\\"\\\"}(),E=function(){var n=s.match(\\\/AppleWebKit\\\\\\\/(\\\\d+)\\\/);return n&&~~n[1]<540}(),R=[\\\"transform\\\",\\\"transform-origin\\\",\\\"transform-style\\\",\\\"transition\\\",\\\"transition-delay\\\",\\\"transition-duration\\\",\\\"transition-property\\\",\\\"transition-timing-function\\\",\\\"animation\\\",\\\"animation-delay\\\",\\\"animation-direction\\\",\\\"animation-duration\\\",\\\"animation-fill-mode\\\",\\\"animation-iteration-count\\\",\\\"animation-name\\\",\\\"animation-play-state\\\",\\\"animation-timing-function\\\",\\\"appearance\\\",\\\"backface-visibility\\\",\\\"perspective\\\",\\\"perspective-origin\\\"],v=e();i.BREAK_ON_ERROR=!1,n.css=i,n.computedCSS=r}(window);;\\nvar Freezer={};Freezer.unfreeze=function(e,n,a){function o(e){if(e instanceof Array)return e.map(o);if(e instanceof Object){var a;if(\\\"ActionInvocation\\\"===e.clazz)a=function(n,o){if(!n)throw\\\"Cannot execute an action without a context.\\\";o||(o=noop);var t=a.isStatic;if(\\\"undefined\\\"==typeof t&&(t=!a.instance),a.disabled)return void o();if(t){if(a.instance)throw\\\"ActionInvocation for a static method must not have an instance assigned.\\\";if(\\\"function\\\"!=typeof a.actionClazz[a.method+\\\"Action\\\"])throw\\\"Clazz \\\"+a.actionClazz+' does not define the static action \\\"'+a.method+'\\\".';var c=extend({},a.args,{caller:e});a.actionClazz[a.method+\\\"Action\\\"](n,c,o)}else if(a.instance){if(!(a.instance instanceof a.actionClazz))throw\\\"Instance \\\"+a.instance+\\\" is not an instance of clazz \\\"+a.actionClazz;if(\\\"function\\\"!=typeof a.instance[a.method+\\\"Action\\\"])throw\\\"Instance of clazz \\\"+a.actionClazz+' does not define the instance action \\\"'+a.method+'\\\".';var c=extend({},a.args,{caller:e});a.instance[a.method+\\\"Action\\\"](n,c,o)}else o()};else if(e.clazz){var i=n[e.clazz];if(!i)throw new Error(\\\"Unsupported clazz: \\\"+e.clazz);a=Object.create(i.prototype)}else a={};for(var r in e)e.hasOwnProperty(r)&&\\\"clazz\\\"!==r&&(a[r]=o(e[r]));t.push(a),a.localId&&(c[a.localId]&&console.error(\\\"Duplicate localId: \\\"+a.localId),c[a.localId]=a);for(var r in a)if(\\\"clazz\\\"===r.slice(-5).toLowerCase()){var l=a[r];if(!l)continue;n[l]?a[r]=n[l]:console.error(\\\"Unsupported clazz: \\\"+a.clazz)}return a}return e}var t=[],c={},i=o(e);t.forEach(function(e){for(var n in e)if(\\\"LocalId\\\"===n.slice(-7)){var a=e[n];if(a instanceof Function)continue;var o;null===a?o=null:(o=c[a],o||console.error(\\\"Invalid localId reference: \\\"+a)),e[n.slice(0,-7)]=o,delete e[n]}else if(\\\"LocalIds\\\"===n.slice(-8)){for(var t=[],i=0;i<e[n].length;i++){var r=e[n][i],o=c[r];o||console.error(\\\"Invalid localId reference: \\\"+r),t.push(o)}e[n.slice(0,-8)]=t,delete e[n]}});for(var r in a)i[r]=a[r];return t.reverse().forEach(function(e){e.awake&&e.awake()}),i};;\\nfunction Batcher(e){this._cache={},this._downloadQueue={},this._base=e}Batcher.prototype.getDataUri=function(e,a){var t=this;if(\\\"function\\\"!=typeof a)throw\\\"getDataURI callback is not a function\\\";var r;if(-1!==e.indexOf(\\\":\\\/\\\/\\\"))r=e;else{if(\\\"\\\/\\\"===e[0])throw\\\"An absolute path as URL?\\\";r=this._base+e}var c,n;0===r.indexOf(creative.cachedApiUrl)?(c=r.slice(creative.cachedApiUrl.length),n=!0):0===r.indexOf(creative.insecureCachedApiUrl)&&(c=r.slice(creative.insecureCachedApiUrl.length),n=!1),c?c in this._cache?setTimeout(function(){a(t._cache[c])},0):(this._downloadQueue[c]||(this._downloadQueue[c]={requested:!1,secure:!1,callbacks:[]}),this._downloadQueue[c].callbacks.push(a),n&&(this._downloadQueue[c].secure=!0),setTimeout(function(){var e=[],a=!1;for(var r in t._downloadQueue){var c=t._downloadQueue[r];c.requested||(c.requested=!0,e.push(r),c.secure&&(a=!0))}e.length&&(Logger(\\\"batcher\\\").log(e.length+\\\" new batchable URLs requested during last runloop iteration (\\\"+(a?\\\"at least one secure\\\":\\\"none secure\\\")+\\\"):\\\\n - \\\"+e.join(\\\"\\\\n - \\\")),t._loadBatch(a,e,function(e){for(var a in e)t._cache[a]=e[a],t._downloadQueue[a].callbacks.forEach(function(t){t(e[a])}),delete t._downloadQueue[a]}))},0)):setTimeout(function(){a(e)},0)},Batcher.prototype._loadBatch=function(e,a,t){function r(e){var a,t=5381;for(a=0;a<e.length;a++)char=e.charCodeAt(a),t=(t<<5)+t+char;return t}var c=(e?creative.cachedApiUrl:creative.insecureCachedApiUrl)+\\\"batch?urls=\\\"+a.sort().map(encodeURIComponent).join(\\\",\\\");loadJSONP(c,{cbName:\\\"__batcher_jsonp_\\\"+Math.abs(r(c))},function(e){var a={};for(var r in e){var c=e[r];200===c.code?a[r]=c.data:(Logger(\\\"batcher\\\").warn(\\\"Batcher: Could not retrieve URL '\\\"+r+\\\"' using batcher, returning it directly.\\\"),a[r]=r)}t(a)})},Batcher._keys=function(e){var a=[];for(var t in e)a.push(t);return a};;\\nfunction Tapper(e){attach(e,\\\"touchstart\\\",function(t){for(var a,n=t.target;1!=n.nodeType;)n=n.parentNode;for(;n&&1==n.nodeType&&n.tagName;){var o=n.tagName.toLowerCase();if(hasClass(n,\\\"touchable\\\")||\\\"a\\\"===o&&n.href||\\\"button\\\"===o||\\\"img\\\"===o||\\\"input\\\"===o&&n.type&&\\\"button\\\"===n.type.toLowerCase()){a=n;break}n=n.parentNode}if(a){var c=!1;if(iframe()){var r=function(){var e=(\\\"undefined\\\"!=typeof creative&&creative.adapter||adapter).getTopWindow();return[e.scrollX,e.scrollY,e.innerWidth,e.innerHeight]},i=r();c=!0}var u=20,h=\\\"undefined\\\"!=typeof creative&&creative.experiments.get(\\\"TapperRadius\\\");h&&(u=1*h.chosenVariant);var s=t.targetTouches[0].clientX-u,d=t.targetTouches[0].clientX+u,v=t.targetTouches[0].clientY-u,f=t.targetTouches[0].clientY+u;addClass(a,\\\"touched\\\");var l=!1,p=!1,g=!1,m=!1,T=new Date,C=function(e){if(!l&&!p){var t=e.targetTouches[0].clientX,n=e.targetTouches[0].clientY;l=c&&i.toString()!=r().toString(),p=!(t>=s&&d>=t&&n>=v&&f>=n),p||l?removeClass(a,\\\"touched\\\"):addClass(a,\\\"touched\\\")}},w=function(){if(!m&&(m=!0,detach(e,\\\"touchmove\\\",C,!1),detach(e,\\\"touchend\\\",arguments.callee,!1),hasClass(a,\\\"touched\\\"))){if(removeClass(a,\\\"touched\\\"),p||l||g||new Date-T>400&&!desktop())return;var t=e.ownerDocument.createEvent(\\\"MouseEvents\\\");t.initEvent(\\\"tap\\\",!0,!0),a.dispatchEvent(t)}},y=function(){detach(e,\\\"touchend\\\",y,!0),nextFrame(function(){g=!0,w()})};attach(e,\\\"touchcancel\\\",function(e){removeClass(a,\\\"touched\\\"),w(e)},!1),attach(e,\\\"touchmove\\\",C,!1),attach(e,\\\"touchend\\\",w,!1),attach(e,\\\"touchend\\\",y,!0)}},!0)};\\nfunction TouchEventSimulator(t){this.el=t,this.doc=t.ownerDocument?t.ownerDocument:t,this.win=this.doc.defaultView,this.touch=null,this._initialised=!1,this._firstEventFired=!1,this.handleFirstEvent=this.handleFirstEvent.bind(this),this.handleMouseDown=this.handleMouseDown.bind(this),this.handleMouseMove=this.handleMouseMove.bind(this),this.handleMouseUp=this.handleMouseUp.bind(this),this.handleMouseOut=this.handleMouseOut.bind(this),this.handlePointerDown=this.handlePointerDown.bind(this),this.handlePointerMove=this.handlePointerMove.bind(this),this.handlePointerUp=this.handlePointerUp.bind(this),this.handlePointerCancel=this.handlePointerCancel.bind(this),this.captureBubbleEvents=this.captureBubbleEvents.bind(this)}TouchEventSimulator.mode=null,TouchEventSimulator.prototype.start=function(){return this._initialised?void Logger(\\\"TouchEventSimulator\\\").warn(\\\"Touch event simulator already initialised!\\\"):(Logger(\\\"TouchEventSimulator\\\").log(\\\"Enabling touch event simulation\\\"),this.doc.defaultView.msPointerEnabled?this.startPointers():this.startMouse(),this.el.addEventListener(\\\"touchstart\\\",this.captureBubbleEvents,!1),this.el.addEventListener(\\\"touchmove\\\",this.captureBubbleEvents,!1),this.el.addEventListener(\\\"touchend\\\",this.captureBubbleEvents,!1),this.el.addEventListener(\\\"touchcancel\\\",this.captureBubbleEvents,!1),void this.el.addEventListener(\\\"tap\\\",this.captureBubbleEvents,!1))},TouchEventSimulator.prototype.stop=function(){return this._initialised?(Logger(\\\"TouchEventSimulator\\\").log(\\\"Disabling touch event simulation\\\"),this.doc.defaultView.msPointerEnabled?this.stopPointers():this.stopMouse(),this.el.removeEventListener(\\\"touchstart\\\",this.captureBubbleEvents,!1),this.el.removeEventListener(\\\"touchmove\\\",this.captureBubbleEvents,!1),this.el.removeEventListener(\\\"touchend\\\",this.captureBubbleEvents,!1),this.el.removeEventListener(\\\"touchcancel\\\",this.captureBubbleEvents,!1),void this.el.removeEventListener(\\\"tap\\\",this.captureBubbleEvents,!1)):void Logger(\\\"TouchEventSimulator\\\").warn(\\\"Touch event simulator not running!\\\")},TouchEventSimulator.prototype.captureBubbleEvents=function(t){t.stopPropagation(),t.preventDefault()},TouchEventSimulator.prototype.startMouse=function(){this.el.addEventListener(\\\"mousedown\\\",this.handleMouseDown,!0),this.el.addEventListener(\\\"mousemove\\\",this.handleMouseMove,!0),this.el.addEventListener(\\\"mouseup\\\",this.handleMouseUp,!0),this.el.addEventListener(\\\"mouseout\\\",this.handleMouseOut,!0),this.el.addEventListener(\\\"dragstart\\\",this.handleDragStart,!0),this._initialised=!0},TouchEventSimulator.prototype.stopMouse=function(){this.el.removeEventListener(\\\"mousedown\\\",this.handleMouseDown,!0),this.el.removeEventListener(\\\"mousemove\\\",this.handleMouseMove,!0),this.el.removeEventListener(\\\"mouseup\\\",this.handleMouseUp,!0),this.el.removeEventListener(\\\"mouseout\\\",this.handleMouseOut,!0),this.el.removeEventListener(\\\"dragstart\\\",this.handleDragStart,!0),this._initialised=!1},TouchEventSimulator.prototype.startPointers=function(){this.el.addEventListener(\\\"MSPointerDown\\\",this.handlePointerDown,!0),this.el.addEventListener(\\\"MSPointerMove\\\",this.handlePointerMove,!0),this.el.addEventListener(\\\"MSPointerUp\\\",this.handlePointerUp,!0),this.el.addEventListener(\\\"MSPointerCancel\\\",this.handlePointerCancel,!0),this._initialised=!0},TouchEventSimulator.prototype.stopPointers=function(){this.el.removeEventListener(\\\"MSPointerDown\\\",this.handlePointerDown,!0),this.el.removeEventListener(\\\"MSPointerMove\\\",this.handlePointerMove,!0),this.el.removeEventListener(\\\"MSPointerUp\\\",this.handlePointerUp,!0),this.el.removeEventListener(\\\"MSPointerCancel\\\",this.handlePointerCancel,!0),this._initialised=!1},TouchEventSimulator.prototype.init=function(){this.doc.defaultView.navigator.msPointerEnabled?this.start():(this.el.addEventListener(\\\"touchstart\\\",this.handleFirstEvent,!0),this.el.addEventListener(\\\"mousedown\\\",this.handleFirstEvent,!0))},TouchEventSimulator.prototype.updateTouchCoordinates=function(t){this.touch.screenX=t.screenX,this.touch.screenY=t.screenY,this.touch.pageX=t.pageX,this.touch.pageY=t.pageY,this.touch.clientX=t.clientX,this.touch.clientY=t.clientY},TouchEventSimulator.prototype.ignorables=[\\\"select\\\",\\\"input\\\",\\\"textarea\\\"],TouchEventSimulator.prototype.isFormElement=function(t){return this.ignorables.indexOf(t.nodeName.toLowerCase())>-1},TouchEventSimulator.prototype.isIgnorable=function(t){for(var e=t;e&&e instanceof HTMLElement;e=e.parentNode)if(hasClass(e,\\\"ignore-toucheventsimulator\\\"))return!0;return!1},TouchEventSimulator.prototype.handleFirstEvent=function(t){this._firstEventFired||(this._firstEventFired=!0,this.el.removeEventListener(\\\"touchstart\\\",this.handleFirstEvent,!0),this.el.removeEventListener(\\\"mousedown\\\",this.handleFirstEvent,!0),\\\"touch\\\"!=TouchEventSimulator.mode&&\\\"mousedown\\\"==t.type?(TouchEventSimulator.mode=\\\"mouse\\\",this.start(),this.handleMouseDown(t)):TouchEventSimulator.mode=\\\"touch\\\")},TouchEventSimulator.prototype.handleMouseDown=function(t){0!=t.button||this.isIgnorable(t.target)||(this.touch={identifier:0,target:t.target},this.updateTouchCoordinates(t),t.stopPropagation(),this.isFormElement(t.target)||t.preventDefault(),this.fireTouchEvent(\\\"touchstart\\\",t))},TouchEventSimulator.prototype.handleMouseMove=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),t.stopPropagation(),t.preventDefault(),this.fireTouchEvent(\\\"touchmove\\\",t))},TouchEventSimulator.prototype.handleMouseUp=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),t.stopPropagation(),t.preventDefault(),this.fireTouchEvent(\\\"touchend\\\",t),this.touch=null)},TouchEventSimulator.prototype.handleMouseOut=function(t){this.touch&&0==t.button&&(t.pageX<0||t.pageX>this.win.innerWidth||t.pageY<0||t.pageY>this.win.innerHeight)&&this.cancelInteraction()},TouchEventSimulator.prototype.handleDragStart=function(t){return t.preventDefault(),!1},TouchEventSimulator.prototype.handlePointerDown=function(t){0==t.button&&(this.touch={identifier:0,target:t.target},this.updateTouchCoordinates(t),this.fireTouchEvent(\\\"touchstart\\\",t))},TouchEventSimulator.prototype.handlePointerMove=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),this.fireTouchEvent(\\\"touchmove\\\",t))},TouchEventSimulator.prototype.handlePointerUp=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),this.fireTouchEvent(\\\"touchend\\\",t))},TouchEventSimulator.prototype.handlePointerCancel=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),this.fireTouchEvent(\\\"touchcancel\\\",t),this.touch=null)},TouchEventSimulator.prototype.fireTouchEvent=function(t,e){var o=this.doc.createEvent(\\\"HTMLEvents\\\");o.initEvent(t,!0,!0),\\\"touchend\\\"==t||\\\"touchcancel\\\"==t?(o.touches=o.targetTouches=[],o.changedTouches=[this.touch]):o.touches=o.targetTouches=o.changedTouches=[this.touch],e.target.dispatchEvent(o)},TouchEventSimulator.prototype.cancelInteraction=function(){this.touch&&(this.fireTouchEvent(\\\"touchcancel\\\",this.touch),this.touch=null)};;\\nfunction SwipeListener(e){function t(e,t){return Math.abs(e)>Math.abs(t)?e>0?\\\"east\\\":\\\"west\\\":t>0?\\\"south\\\":\\\"north\\\"}function n(){r.removeEventListener(\\\"touchmove\\\",a),r.removeEventListener(\\\"touchend\\\",h)}function a(e){if(e.touches.length>1)n();else{var a=e.changedTouches[0].pageX-s,h=e.changedTouches[0].pageY-u;if(i=Math.max(Math.abs(a),Math.abs(h)),i>Math.min(50,d))if(null===c)c=t(a,h);else{var o=t(a,h);c!=o&&n()}}}function h(){n(),i>=d&&v(c,i)}function o(e){e.preventDefault(),1==e.touches.length&&(s=e.changedTouches[0].pageX,u=e.changedTouches[0].pageY,c=null,r.addEventListener(\\\"touchmove\\\",a,!1),r.addEventListener(\\\"touchend\\\",h,!1))}var s,u,c,i,r=e.target,v=e.swipe,d=e.minLength||50;r.addEventListener(\\\"touchstart\\\",o,!1)};\\nfunction PlaceboBar(e,t,a,i){var n=!1,r=document.createElement(\\\"div\\\");r.className=\\\"celtra-placebobar\\\",r.style.cssText=\\\"position: absolute; bottom: 60px; left: 0; right: 0; margin: auto; z-index: 20; width: 215px; height: 8px;\\\";var l=document.createElement(\\\"img\\\");l.src=creative.resourceUrl+\\\"runner\\\/clazzes\\\/CreativeUnit\\\/loading-back.png\\\",l.style.position=\\\"absolute\\\",l.style.width=\\\"100%\\\",l.style.height=\\\"100%\\\",r.appendChild(l);var o=document.createElement(\\\"div\\\");o.style.position=\\\"absolute\\\",o.style.top=\\\"2px\\\",o.style.bottom=\\\"2px\\\",o.style.left=\\\"3px\\\",o.style.right=\\\"3px\\\",r.appendChild(o);var s=document.createElement(\\\"div\\\");return s.style.background=\\\"url(\\\"+creative.resourceUrl+\\\"runner\\\/clazzes\\\/CreativeUnit\\\/loading-over.png) \\\"+i+\\\" repeat-x\\\",s.style.position=\\\"absolute\\\",s.style.width=\\\"0\\\",s.style.height=\\\"100%\\\",o.appendChild(s),r.start=function(){function i(){if(r.parentNode){var n=Math.min((new Date-l)\\\/e,t);s.style.width=100*n+\\\"%\\\",t>n&&setTimeout(i,2*a*Math.random())}}if(!n){n=!0;var l=new Date;setTimeout(i,0)}},r};\\nvar EventEmitter={emit:function(t){var e=this._listeners;if(e&&e[t]){var n=[].slice.call(arguments,1);e[t].forEach(function(t){t.apply(window,n)})}},emits:function(){var t=arguments;return function(){this.emit.apply(this,t)}.bind(this)},addListener:function(t,e){var n=this._listeners;n||(n=this._listeners={}),n[t]||(n[t]=[]),n[t].push(e)},removeListener:function(t,e){var n=this._listeners;n&&n[t]&&(n[t]=n[t].filter(function(t){return t!==e}))},once:function(t,e){var n=this;n.on(t,function i(){n.off(t,i),e.apply(this,arguments)})},onAll:function(t,e){t.split(\\\" \\\").waitForEach(function(t,e){this.once(t,e)},e,this)}};EventEmitter.on=EventEmitter.addListener,EventEmitter.off=EventEmitter.removeListener,EventEmitter.addEventListener=EventEmitter.addListener,EventEmitter.removeEventListener=EventEmitter.removeListener;;\\nfunction InViewObject(t,e){this.view=t,this.inViewParent=e,this._init()}extend(InViewObject.prototype,EventEmitter),InViewObject.prototype._init=function(){this.rectInView=CRect.ZERO,this.areaInViewRatio=0,this.active=!1,this._maxPossibleDimensions={width:0,height:0,area:0},this.computeRectInView=this.computeRectInView.bind(this),this.start=this.start.bind(this),this.stop=this.stop.bind(this)},InViewObject.prototype.getNode=function(){return this.view.getNode?this.view.getNode():this.view.getContainer()},InViewObject.prototype.computeRectInView=function(){var t=this.inViewParent.getRectInView(),e=this.inViewParent.getBoundingClientRect(),i=this.getBoundingClientRect().relativeTo(e),n=t.intersect(i),s=!1;this.rectInView.equals(n)||(this.rectInView=n,s=!0),this._computeMaxPossibleDimensions();var o=this._maxPossibleDimensions.area>0?n.area\\\/this._maxPossibleDimensions.area:0,h=!1;o!==this.areaInViewRatio&&(this.areaInViewRatio=o,h=!0),s&&(this.emit(\\\"rectInViewChanged\\\",n),Logger(\\\"InViewObject\\\").debug(this.view.toString()+\\\", rectInViewChanged: \\\"+this.rectInView.toString())),h&&(this.emit(\\\"areaInViewRatioChanged\\\",o),Logger(\\\"InViewObject\\\").debug(this.view.toString()+\\\", areaInViewRatioChanged: \\\"+o))},InViewObject.prototype.getBoundingClientRect=function(){return CRect.adopt(this.getNode().getBoundingClientRect())},InViewObject.prototype.getMaxPossibleDimensions=function(){return this._maxPossibleDimensions},InViewObject.prototype._computeMaxPossibleDimensions=function(){var t=this.inViewParent.getMaxPossibleDimensions(),e=this.getBoundingClientRect();this._maxPossibleDimensions.width=Math.min(t.width,e.width),this._maxPossibleDimensions.height=Math.min(t.height,e.height),this._maxPossibleDimensions.area=this._maxPossibleDimensions.width*this._maxPossibleDimensions.height},InViewObject.prototype.getRectInView=function(){return this.rectInView},InViewObject.prototype.getAreaInViewRatio=function(){return this.areaInViewRatio},InViewObject.prototype.start=function(){this.active||(this._start(),this.computeRectInView(),this.active=!0)},InViewObject.prototype._start=function(){this.inViewParent.on(\\\"rectInViewChanged\\\",this.computeRectInView),this.inViewParent.on(\\\"areaInViewRatioChanged\\\",this.computeRectInView)},InViewObject.prototype.stop=function(){this.active&&(this.computeRectInView(),this._stop(),this.active=!1)},InViewObject.prototype._stop=function(){this.inViewParent.off(\\\"rectInViewChanged\\\",this.computeRectInView),this.inViewParent.off(\\\"areaInViewRatioChanged\\\",this.computeRectInView)};;\\nfunction TaskScheduler(){this.hub=extend({},EventEmitter)}TaskScheduler.prototype.when=function(){var t,e=this;return t=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments),{run:function(n){t.waitForEach(function(t,n){e.hub.once(t,n)},n)}}},TaskScheduler.prototype.notify=function(t){this.paused||this.hub.emit(t)},TaskScheduler.prototype.notifies=function(t){return function(){this.notify(t)}.bind(this)},TaskScheduler.prototype.pause=function(){this._paused=!0};;\\nvar TriggerHost={_getTriggers:function(r,e){return e||(e=retTrue),this.triggers.filter(function(i){return i.type==r&&e(i.parameters)})},_fireArrayOfTriggers:function(r,e,i){var t=this;e||(e=noop),i||(i=new ActionContext(t)),r.waitForEach(function(r,e){r.onFire?r.onFire(i,e):e()},e)},hasTriggers:function(r,e){return this._getTriggers(r,e).length>0},fireTriggers:function(r,e,i,t){var g=this._getTriggers(r,e);this._fireArrayOfTriggers(g,i,t)},fireSortedTriggers:function(r,e,i,t,g){var n=this._getTriggers(r,e),g=g||null;this._fireArrayOfTriggers(n.sort(g),i,t)},triggerAction:function(r,e,i){this.fireTriggers(e.eventName,null,i,r)},triggerByLocalIdAction:function(r,e,i){var t=e.event?[e.event]:[];this._fireArrayOfTriggers(t,i,r)}};;\\nfunction ActionContext(e,t){if(this._id=randInt(),this.initiator=e,this.initiationTimestamp=new Date\\\/1e3,\\\"object\\\"==typeof t?(this.consideredUserInitiatedByBrowser=!!t.consideredUserInitiatedByBrowser,this.certainlyNotCausedByUserBehavior=!!t.certainlyNotCausedByUserBehavior):(this.consideredUserInitiatedByBrowser=!!t,this.certainlyNotCausedByUserBehavior=!1),this.inUserInitiatedIteration=this.consideredUserInitiatedByBrowser,this.consideredUserInitiatedByBrowser&&this.certainlyNotCausedByUserBehavior)throw new Error(\\\"Unable to create an ActionContext where both consideredUserInitiatedByBrowser and certainlyNotCausedByUserBehavior are true!\\\");if(e instanceof Screen)this.screen=e,this.screenObject=null;else{if(!(e instanceof ScreenObject))throw new Error(\\\"Initiator (\\\"+e+\\\") is not a Screen or a ScreenObject. Analytics would be confused.\\\");this.screen=e.parentScreen,this.screenObject=e}if(this.inUserInitiatedIteration&&setTimeout(function(){this.inUserInitiatedIteration=!1}.bind(this),0),this._isAttributable=this._isScreenReadyForEventAttribution(),!this.screen.parentUnit.name)throw\\\"Assertion error.\\\"}ActionContext.prototype._isScreenReadyForEventAttribution=function(){return this.screen.isMasterScreen()?this.screen.parentUnit.screens.some(function(e){return e.appearedAtLeastOnce&&e.isNormalScreen()}):this.screen.appearedAtLeastOnce},ActionContext.prototype.extendEvent=function(e){return extend({unitName:this.screen.parentUnit.name,screenLocalId:this.screen.localId,screenTitle:this.screen.title,screenIsMaster:this.screen.isMasterScreen(),objectLocalId:this.screenObject?this.screenObject.localId:null,objectName:this.screenObject?this.screenObject.name:null,objectClazz:this.screenObject?this.screenObject.constructor.name:null,initiationTimestamp:this.initiationTimestamp},e)},ActionContext.prototype.track=function(e,t){this._isAttributable||console.warn(\\\"Event '\\\"+e.name+\\\"' appears to be initated before a screen was ever shown and will be ignored.\\\"),creative.track(this.extendEvent(e),t)},ActionContext.prototype.trackUserInteraction=function(){if(creative.runtimeParams.userInteracted)creative.interactionTrackingTimeout||(this.track({name:\\\"interaction\\\"}),creative.interactionTrackingTimeout=setTimeout(function(){creative.interactionTrackingTimeout=null},1e3));else{if(creative.runtimeParams.userInteracted=1,creative.experiments.get(\\\"TrackViewableAreaChange\\\")){var e=creative.adapter;e.canMeasureViewportPlacementGeometry&&\\\"function\\\"==typeof e.trackViewableAreaRatio&&e.trackViewableAreaRatio()}this.track({name:\\\"firstInteraction\\\"})}creative.userInteracted(this)},ActionContext.prototype.trackClickThrough=function(e){e||(e=noop),creative.runtimeParams.clickedThrough?setTimeout(e,0):(creative.runtimeParams.clickedThrough=1,this.track({name:\\\"firstClickThrough\\\"},e)),creative.clickedThrough(this)};;\\nfunction VideoContext(t,e,i){VideoContext.uberConstructor.call(this,t instanceof ActionContext?t.initiator:t,t&&t.userInitiated),this.file=e,this.url=e.getUrl(),this.label=i,this.source=null}inherit(VideoContext,ActionContext),VideoContext._eventNames=[\\\"videoDurationUpdate\\\",\\\"videoPlayAttempted\\\",\\\"videoPlayedSegment\\\",\\\"videoStart\\\",\\\"videoFirstQuartile\\\",\\\"videoMidpoint\\\",\\\"videoThirdQuartile\\\",\\\"videoComplete\\\"],VideoContext.prototype.registerSource=function(t){if(!t)throw\\\"Not a valid source of video events.\\\";this.source=t,VideoContext._eventNames.forEach(function(t){this.source.on(t,function(e){this.handleEvent(t,e)}.bind(this))}.bind(this))},VideoContext.prototype.handleEvent=function(t,e){this.track(extend(JSON.parse(JSON.stringify(e||{})),{name:t}))},VideoContext.prototype.track=function(t){if(\\\"videoPlayAttempted\\\"==t.name){var e=this.file.url?\\\"URL\\\":\\\"File\\\";extend(t,{sourceType:e,source:\\\"URL\\\"==e?this.file.url:this.file.blobHash,label:this.label})}VideoContext.uber.track.call(this,t)};;\\nfunction ShakeListener(){this.minIntensity=5,this.minDelay=300,this.canListen=!0,this.startTime=null,this.stopTime=null,this.lastX=null,this.lastY=null,this.lastZ=null,this.deltasX=[],this.deltasY=[],this.deltasZ=[]}extend(ShakeListener.prototype,EventEmitter),ShakeListener.prototype.start=function(){this.canListen=!0,creative.deviceMotionListenerAdded||(creative.deviceMotionListenerAdded=!0,window.addEventListener(\\\"devicemotion\\\",this.handleMotion.bind(this)))},ShakeListener.prototype.stop=function(){this.canListen=!1,creative.deviceMotionListenerAdded&&(creative.deviceMotionListenerAdded=!1,window.removeEventListener(\\\"devicemotion\\\",this.handleMotion))},ShakeListener.prototype.handleMotion=function(t){function i(t){for(var i=0,e=0;e<t.length;e++)i+=t[e];return i\\\/t.length}var e,s,n,h=this,a=0,l=0,r=0,d=0,o=0,c=0;if(this.canListen)if(this.current=t.accelerationIncludingGravity,null===this.lastX&&null===this.lastY&&null===this.lastZ&&(this.lastX=this.current.x,this.lastY=this.current.y,this.lastZ=this.current.z),a=Math.abs(this.lastX-this.current.x),l=Math.abs(this.lastY-this.current.y),r=Math.abs(this.lastZ-this.current.z),a>this.minIntensity||l>this.minIntensity||r>this.minIntensity){clearTimeout(this.reportShake),this.reportShake=null,this.startTime||(this.startTime=new Date),this.deltasX.length<=100&&(this.deltasX.push(a),this.deltasY.push(l),this.deltasZ.push(r));for(var u=0;u<this.deltasX.length;u++)d+=this.deltasX[u],o+=this.deltasY[u],c+=this.deltasZ[u];e=d\\\/this.deltasX.length,s=o\\\/this.deltasY.length,n=c\\\/this.deltasZ.length,e>s&&e>n?(this.direction=\\\"x\\\",this.intensity=i(this.deltasX)):s>e&&s>n?(this.direction=\\\"y\\\",this.intensity=i(this.deltasY)):n>e&&n>s&&(this.direction=\\\"z\\\",this.intensity=i(this.deltasZ))}else this.startTime&&!this.reportShake&&(this.reportShake=setTimeout(function(){h.stopTime=new Date,h.duration=h.stopTime.getTime()-h.startTime.getTime(),h.currentTime=null,h.startTime=null,h.deltasX=[],h.deltasY=[],h.deltasZ=[],h.emit(\\\"shake\\\",h.duration,h.intensity,h.direction)},this.minDelay))};;\\nfunction CStyler(t){CStyler.initialised||CStyler.init(),this._node=t}CStyler.initialised=!1,CStyler.warnOnInit=!1,CStyler.prototype.enableWarnings=!1,CStyler.prototype.enableTraces=!1,CStyler.flags={isWebKit:\\\/WebKit\\\/.test(navigator.userAgent),isIE:\\\/MSIE|Trident\\\\\\\/\\\/.test(navigator.userAgent),isGecko:\\\/rv:.*Gecko\\\\\\\/\\\/.test(navigator.userAgent)},CStyler.engine=function(){return CStyler.flags.isWebKit?\\\"WebKit\\\":CStyler.flags.isIE?\\\"IE\\\":CStyler.flags.isGecko?\\\"Gecko\\\":\\\"Unknown\\\"}(),CStyler.prefix=function(){return\\\"WebKit\\\"==CStyler.engine?\\\"-webkit-\\\":\\\"Gecko\\\"==CStyler.engine?\\\"-moz-\\\":\\\"IE\\\"==CStyler.engine?\\\"-ms-\\\":\\\"\\\"}(),CStyler._isOldWebKit=function(t){var e=t.match(\\\/AppleWebKit\\\\\\\/(\\\\d+)\\\/);return e&&~~e[1]<540}(navigator.userAgent),CStyler.ucfirst=function(t){return t+=\\\"\\\",t?t[0].toUpperCase()+t.slice(1):\\\"\\\"},CStyler.lcfirst=function(t){return t+=\\\"\\\",t?t[0].toLowerCase()+t.slice(1):\\\"\\\"},CStyler.camelize=function(t){var e=t.replace(\\\/-([a-z])\\\/g,function(t,e){return e.toUpperCase()});return this.flags.isGecko?e:this.lcfirst(e)},CStyler.dasherize=function(t){return t.replace(\\\/[A-Z]\\\/g,function(t){return\\\"-\\\"+t.toLowerCase()})},CStyler._prefixTester=\\\/^-?([mM]oz|[wW]eb[kK]it|[mM]s)-?\\\/,CStyler.isPrefixed=function(t){return this._prefixTester.test(t)},CStyler.stripPrefix=function(t){return this.lcfirst(t.replace(this._prefixTester,\\\"\\\"))},CStyler._cssAttributes=[],CStyler._prefixedCSSLookup={},CStyler._unprefixedCSSLookup={},CStyler._prefixedLookup={},CStyler._unprefixedLookup={},CStyler._eventNames={},CStyler._cssDirectives={},\\\"WebKitAnimationEvent\\\"in window&&(CStyler._eventNames.animationstart=\\\"webkitAnimationStart\\\",CStyler._eventNames.animationiteration=\\\"webkitAnimationIteration\\\",CStyler._eventNames.animationend=\\\"webkitAnimationEnd\\\",CStyler._cssDirectives.keyframes=\\\"-webkit-keyframes\\\"),\\\"WebKitTransitionEvent\\\"in window&&(CStyler._eventNames.transitionend=\\\"webkitTransitionEnd\\\"),CStyler._prefixer=null,CStyler._unprefixer=null,CStyler.ignorableAttributes=[\\\"cssText\\\",\\\"applyCSS\\\",\\\"length\\\",\\\"getPropertyValue\\\",\\\"getPropertyPriority\\\",\\\"getPropertyCSSValue\\\",\\\"getPropertyShorthand\\\",\\\"isPropertyImplicit\\\",\\\"removeProperty\\\",\\\"setProperty\\\",\\\"item\\\",\\\"parentRule\\\"],CStyler.criticalAttributes=[\\\"background\\\",\\\"background-attachment\\\",\\\"background-clip\\\",\\\"background-color\\\",\\\"background-image\\\",\\\"background-origin\\\",\\\"background-position\\\",\\\"background-repeat\\\",\\\"background-size\\\",\\\"background-composite\\\",\\\"border\\\",\\\"border-bottom-width\\\",\\\"border-left-width\\\",\\\"border-right-width\\\",\\\"border-top-width\\\",\\\"border-bottom-color\\\",\\\"border-left-color\\\",\\\"border-right-color\\\",\\\"border-top-color\\\",\\\"border-bottom-style\\\",\\\"border-left-style\\\",\\\"border-right-style\\\",\\\"border-top-style\\\",\\\"border-collapse\\\",\\\"border-fit\\\",\\\"border-horizontal-spacing\\\",\\\"border-vertical-spacing\\\",\\\"border-image\\\",\\\"border-style\\\",\\\"border-color\\\",\\\"border-width\\\",\\\"border-radius\\\",\\\"border-top-left-radius\\\",\\\"border-top-right-radius\\\",\\\"border-bottom-left-radius\\\",\\\"border-bottom-right-radius\\\",\\\"bottom\\\",\\\"clear\\\",\\\"color\\\",\\\"cursor\\\",\\\"direction\\\",\\\"display\\\",\\\"float\\\",\\\"font\\\",\\\"font-family\\\",\\\"font-size\\\",\\\"font-style\\\",\\\"font-variant\\\",\\\"font-weight\\\",\\\"height\\\",\\\"left\\\",\\\"letter-spacing\\\",\\\"line-height\\\",\\\"list-style\\\",\\\"list-style-image\\\",\\\"list-style-position\\\",\\\"list-style-type\\\",\\\"margin\\\",\\\"margin-bottom\\\",\\\"margin-left\\\",\\\"margin-right\\\",\\\"margin-top\\\",\\\"margin-bottom-collapse\\\",\\\"margin-top-collapse\\\",\\\"max-height\\\",\\\"max-width\\\",\\\"min-height\\\",\\\"min-width\\\",\\\"opacity\\\",\\\"outline\\\",\\\"outline-color\\\",\\\"outline-style\\\",\\\"outline-width\\\",\\\"overflow\\\",\\\"overflow-x\\\",\\\"overflow-y\\\",\\\"padding\\\",\\\"padding-bottom\\\",\\\"padding-left\\\",\\\"padding-right\\\",\\\"padding-top\\\",\\\"pointer-events\\\",\\\"position\\\",\\\"right\\\",\\\"table-layout\\\",\\\"text-align\\\",\\\"text-decoration\\\",\\\"text-indent\\\",\\\"text-overflow\\\",\\\"text-rendering\\\",\\\"text-shadow\\\",\\\"text-transform\\\",\\\"text-stroke\\\",\\\"text-fill-color\\\",\\\"top\\\",\\\"unicode-bidi\\\",\\\"vertical-align\\\",\\\"visibility\\\",\\\"animation-delay\\\",\\\"animation-direction\\\",\\\"animation-duration\\\",\\\"animation-fill-mode\\\",\\\"animation-iteration-count\\\",\\\"animation-name\\\",\\\"animation-play-state\\\",\\\"animation-timing-function\\\",\\\"appearance\\\",\\\"backface-visibility\\\",\\\"highlight\\\",\\\"perspective\\\",\\\"perspective-origin\\\",\\\"transform\\\",\\\"transform-origin\\\",\\\"transform-style\\\",\\\"transition\\\",\\\"transition-delay\\\",\\\"transition-duration\\\",\\\"transition-property\\\",\\\"transition-timing-function\\\",\\\"white-space\\\",\\\"width\\\",\\\"word-break\\\",\\\"word-spacing\\\",\\\"word-wrap\\\",\\\"z-index\\\"],CStyler.oldWebKitProperties=[\\\"transform\\\",\\\"transform-origin\\\",\\\"transform-style\\\",\\\"transition\\\",\\\"transition-delay\\\",\\\"transition-duration\\\",\\\"transition-property\\\",\\\"transition-timing-function\\\",\\\"animation\\\",\\\"animation-delay\\\",\\\"animation-direction\\\",\\\"animation-duration\\\",\\\"animation-fill-mode\\\",\\\"animation-iteration-count\\\",\\\"animation-name\\\",\\\"animation-play-state\\\",\\\"animation-timing-function\\\",\\\"appearance\\\",\\\"backface-visibility\\\",\\\"perspective\\\",\\\"perspective-origin\\\"],CStyler.init=function(){if(!this.initialised){this.warnOnInit&&(console.warn(\\\"CStyler initialisation\\\"),console.trace());var t=getComputedStyle(document.body)||document.body.style,e=[];for(var i in t)-1==this.ignorableAttributes.indexOf(i)&&\\\"\\\"!=i&&(isNaN(parseInt(i,10))||(i=this.camelize(t[i])),-1==e.indexOf(i)&&e.push(i));e=e.sort(),e.forEach(function(t){var e=t;CStyler._cssAttributes.push(t),this.isPrefixed(t)&&(e=this.stripPrefix(t),this._prefixedLookup[e]=t,this._unprefixedLookup[t]=e,this._prefixedCSSLookup[this.dasherize(e)]=\\\"-\\\"+this.dasherize(t),this._unprefixedCSSLookup[\\\"-\\\"+this.dasherize(t)]=this.dasherize(e)),e in this.prototype||Object.defineProperty(this.prototype,e,{get:function(){return this._node.style[t]},set:function(e){this._node.style[t]=e},enumerable:!0}),e!=t&&Object.defineProperty(this.prototype,t,{get:function(){return this.enableWarnings&&(console.warn(\\\"Using prefixed getter! (\\\"+t+\\\")\\\"),this.enableTraces&&console.trace()),this._node.style[t]},set:function(e){this.enableWarnings&&(console.warn(\\\"Using prefixed setter! (\\\"+t+\\\")\\\"),this.enableTraces&&console.trace()),this._node.style[t]=e},enumerable:!1})},this),this.criticalAttributes.forEach(function(t){var e=this.camelize(this.prefix+t),i=this.camelize(t);e in this.prototype||Object.defineProperty(this.prototype,e,{get:function(){return this.enableWarnings&&(console.warn(\\\"Getting potentially nonexistent prefixed CSS attribute: \\\"+e),this.enableTraces&&console.trace()),this._node.style[e]},set:function(t){this.enableWarnings&&(console.warn(\\\"Setting potentially nonexistent prefixed CSS attribute: \\\"+e),this.enableTraces&&console.trace()),this._node.style[e]=t},enumerable:!0}),i in this.prototype||Object.defineProperty(this.prototype,i,{get:function(){return this.enableWarnings&&(console.warn(\\\"Getting potentially nonexistent unprefixed CSS attribute: \\\"+t),this.enableTraces&&console.trace()),this._node.style[CStyler._isOldWebKit&&CStyler.oldWebKitProperties.indexOf(t)>-1?e:i]},set:function(r){this.enableWarnings&&(console.warn(\\\"Setting potentially nonexistent unprefixed CSS attribute: \\\"+t),this.enableTraces&&console.trace()),this._node.style[CStyler._isOldWebKit&&CStyler.oldWebKitProperties.indexOf(t)>-1?e:i]=r},enumerable:!0})},this),CStyler._prefixer=new RegExp(\\\"(?:[^-]|^)(\\\"+Object.keys(this._prefixedCSSLookup).join(\\\"|\\\")+\\\")(?::)\\\",\\\"g\\\"),CStyler._unprefixer=new RegExp(\\\"(?:[^-]|^)(\\\"+Object.keys(this._unprefixedCSSLookup).join(\\\"|\\\")+\\\")(?::)\\\",\\\"g\\\"),Object.defineProperty(this.prototype,\\\"cssText\\\",{get:function(){return this._node.style.cssText.replace(CStyler._unprefixer,function(t,e){return CStyler._unprefixedCSSLookup[e]})},set:function(t){this._node.style.cssText=t.replace(CStyler._prefixer,function(t,e){return CStyler._prefixedCSSLookup[e]})},enumerable:!0}),this.initialised=!0}},CStyler.prototype.applyCSS=function(t){for(var e in t)this[CStyler.camelize(e)]=t[e]},CStyler.prototype.getComputedStyle=function(){var t=this._node.ownerDocument.defaultView.getComputedStyle(this._node),e={};return CStyler._cssAttributes.forEach(function(i){var r=CStyler._unprefixedLookup[i]||i;e[r]=t[i]},this),e};;\\nfunction Slicer(t){this.options=extend({},Slicer.defaults,t||{}),this.source=null,this.canvas=null}Slicer.defaults={left:0,top:0,right:0,bottom:0},Slicer.prototype.loadImage=function(t,o){this.source=new Image,this.source.onload=o,this.source.src=t},Slicer.prototype.getCanvas=function(t,o){this.canvas||(this.canvas=document.createElement(\\\"canvas\\\"));var i=this.canvas.getContext(\\\"2d\\\");return this.canvas.width=t,this.canvas.height=o,i.clearRect(0,0,t,o),i.drawImage(this.source,0,0,this.options.left,this.options.top,0,0,this.options.left,this.options.top),i.drawImage(this.source,0,this.options.top,this.options.left,this.source.naturalHeight-this.options.top-this.options.bottom,0,this.options.top,this.options.left,o-this.options.top-this.options.bottom),i.drawImage(this.source,0,this.source.naturalHeight-this.options.bottom,this.options.left,this.options.bottom,0,o-this.options.bottom,this.options.left,this.options.bottom),i.drawImage(this.source,this.options.left,0,this.source.naturalWidth-this.options.left-this.options.right,this.options.top,this.options.left,0,t-this.options.left-this.options.right,this.options.top),i.drawImage(this.source,this.options.left,this.options.top,this.source.naturalWidth-this.options.left-this.options.right,this.source.naturalHeight-this.options.top-this.options.bottom,this.options.left,this.options.top,t-this.options.left-this.options.right,o-this.options.top-this.options.bottom),i.drawImage(this.source,this.options.left,this.source.naturalHeight-this.options.bottom,this.source.naturalWidth-this.options.left-this.options.right,this.options.bottom,this.options.left,o-this.options.bottom,t-this.options.left-this.options.right,this.options.bottom),i.drawImage(this.source,this.source.naturalWidth-this.options.right,0,this.options.right,this.options.top,t-this.options.right,0,this.options.right,this.options.top),i.drawImage(this.source,this.source.naturalWidth-this.options.right,this.options.top,this.options.right,this.source.naturalHeight-this.options.top-this.options.bottom,t-this.options.right,this.options.top,this.options.right,o-this.options.top-this.options.bottom),i.drawImage(this.source,this.source.naturalWidth-this.options.right,this.source.naturalHeight-this.options.bottom,this.options.right,this.options.bottom,t-this.options.right,o-this.options.bottom,this.options.right,this.options.bottom),this.canvas},Slicer.prototype.getDataURL=function(t,o){return this.getCanvas(t,o).toDataURL(\\\"image\\\/png\\\")};;\\nvar ScreenTransition={replace:function(t,i,n,e,a,r){n.style.opacity=0,n.style.display=\\\"block\\\",e.style.display=\\\"block\\\",i.style.display=\\\"none\\\",nextFrame(function(){n.style.opacity=1,t.style.opacity=0,nextFrame(function(){t.style.display=\\\"none\\\",nextFrame(r||noop)})})},fade:function(t,i,n,e,a,r){function o(){c.transition=s.transition=\\\"\\\",s.display=\\\"none\\\",nextFrame(r||noop)}var s=new CStyler(t),c=new CStyler(n);n.style.opacity=0,n.style.display=\\\"block\\\",e.style.display=\\\"block\\\",i.style.display=\\\"none\\\",once(t,\\\"transitionend\\\",o),nextFrame(function(){s.transition=c.transition=\\\"opacity \\\"+a.duration+\\\"ms ease-out\\\",nextFrame(function(){n.style.opacity=1,t.style.opacity=0})})},slide:function(t,i,n,e,a,r){var o={transition:\\\"all \\\"+a.duration+\\\"ms ease-out\\\"};switch(a.direction||\\\"west\\\"){case\\\"north\\\":o.startingFrom=\\\"translateY(0)\\\",o.endingFrom=\\\"translateY(\\\"+-a.unitSize.height+\\\"px)\\\",o.startingTo=\\\"translateY(\\\"+a.unitSize.height+\\\"px)\\\",o.endingTo=\\\"translateY(0)\\\";break;case\\\"south\\\":o.startingFrom=\\\"translateY(0)\\\",o.endingFrom=\\\"translateY(\\\"+a.unitSize.height+\\\"px)\\\",o.startingTo=\\\"translateY(\\\"+-a.unitSize.height+\\\"px)\\\",o.endingTo=\\\"translateY(0)\\\";break;case\\\"east\\\":o.startingFrom=\\\"translateX(0)\\\",o.endingFrom=\\\"translateX(\\\"+a.unitSize.width+\\\"px)\\\",o.startingTo=\\\"translateX(\\\"+-a.unitSize.width+\\\"px)\\\",o.endingTo=\\\"translateX(0)\\\";break;case\\\"west\\\":o.startingFrom=\\\"translateX(0)\\\",o.endingFrom=\\\"translateX(\\\"+-a.unitSize.width+\\\"px)\\\",o.startingTo=\\\"translateX(\\\"+a.unitSize.width+\\\"px)\\\",o.endingTo=\\\"translateX(0)\\\"}o.startingFromOpacity=1,o.startingToOpacity=0,o.endingFromOpacity=0,o.endingToOpacity=1,this._runTransition(t,i,n,e,o,a.duration,r)},flip:function(t,i,n,e,a,r){var o={transition:\\\"all \\\"+a.duration+\\\"ms ease-out\\\"},s=\\\"perspective(\\\"+2*a.unitSize.width+\\\"px) \\\";switch(a.direction||\\\"west\\\"){case\\\"north\\\":o.startingFrom=s+\\\"rotateX(0)\\\",o.endingFrom=s+\\\"rotateX(180deg)\\\",o.startingTo=s+\\\"rotateX(-180deg)\\\",o.endingTo=s+\\\"rotateX(0)\\\";break;case\\\"south\\\":o.startingFrom=s+\\\"rotateX(0)\\\",o.endingFrom=s+\\\"rotateX(-180deg)\\\",o.startingTo=s+\\\"rotateX(180deg)\\\",o.endingTo=s+\\\"rotateX(0)\\\";break;case\\\"east\\\":o.startingFrom=s+\\\"rotateY(0)\\\",o.endingFrom=s+\\\"rotateY(180deg)\\\",o.startingTo=s+\\\"rotateY(-180deg)\\\",o.endingTo=s+\\\"rotateY(0)\\\";break;case\\\"west\\\":o.startingFrom=s+\\\"rotateY(0)\\\",o.endingFrom=s+\\\"rotateY(-180deg)\\\",o.startingTo=s+\\\"rotateY(180deg)\\\",o.endingTo=s+\\\"rotateY(0)\\\"}var c=new CStyler(t),d=new CStyler(n),g=new CStyler(i),l=new CStyler(e),p=new CStyler(t.parentNode);p.transformStyle=\\\"preserve-3d\\\",c.backfaceVisibility=g.backfaceVisibility=\\\"hidden\\\",d.backfaceVisibility=l.backfaceVisibility=\\\"hidden\\\",c.transformOrigin=g.transformOrigin=\\\"50% 50% 0\\\",d.transformOrigin=l.transformOrigin=\\\"50% 50% 0\\\",this._runTransition(t,i,n,e,o,a.duration,function(){p.TransformStyle=\\\"\\\",c.backfaceVisibility=g.backfaceVisibility=\\\"\\\",d.backfaceVisibility=l.backfaceVisibility=\\\"\\\",c.transform=g.transform=\\\"\\\",d.transform=l.transform=\\\"\\\",c.transformOrigin=g.transformOrigin=\\\"\\\",d.transformOrigin=l.transformOrigin=\\\"\\\",nextFrame(r||noop)})},cube:function(t,i,n,e,a,r){var o={transition:\\\"all \\\"+a.duration+\\\"ms ease-out\\\"},s=\\\"perspective(\\\"+2*a.unitSize.width+\\\"px) \\\";switch(a.direction||\\\"west\\\"){case\\\"north\\\":o.startingFrom=s+\\\"translateZ(\\\"+-a.unitSize.height\\\/2+\\\"px) rotateX(0)     \\\",o.endingFrom=s+\\\"translateZ(\\\"+-a.unitSize.height\\\/2+\\\"px) rotateX(90deg) \\\",o.startingTo=s+\\\"translateZ(\\\"+-a.unitSize.height\\\/2+\\\"px) rotateX(-90deg)\\\",o.endingTo=s+\\\"translateZ(\\\"+-a.unitSize.height\\\/2+\\\"px) rotateX(0)     \\\";break;case\\\"south\\\":o.startingFrom=s+\\\"translateZ(\\\"+-a.unitSize.height\\\/2+\\\"px) rotateX(0)     \\\",o.endingFrom=s+\\\"translateZ(\\\"+-a.unitSize.height\\\/2+\\\"px) rotateX(-90deg)\\\",o.startingTo=s+\\\"translateZ(\\\"+-a.unitSize.height\\\/2+\\\"px) rotateX(90deg) \\\",o.endingTo=s+\\\"translateZ(\\\"+-a.unitSize.height\\\/2+\\\"px) rotateX(0)     \\\";break;case\\\"east\\\":o.startingFrom=s+\\\"translateZ(\\\"+-a.unitSize.width\\\/2+\\\"px) rotateY(0)     \\\",o.endingFrom=s+\\\"translateZ(\\\"+-a.unitSize.width\\\/2+\\\"px) rotateY(90deg) \\\",o.startingTo=s+\\\"translateZ(\\\"+-a.unitSize.width\\\/2+\\\"px) rotateY(-90deg)\\\",o.endingTo=s+\\\"translateZ(\\\"+-a.unitSize.width\\\/2+\\\"px) rotateY(0)     \\\";break;case\\\"west\\\":o.startingFrom=s+\\\"translateZ(\\\"+-a.unitSize.width\\\/2+\\\"px) rotateY(0)     \\\",o.endingFrom=s+\\\"translateZ(\\\"+-a.unitSize.width\\\/2+\\\"px) rotateY(-90deg)\\\",o.startingTo=s+\\\"translateZ(\\\"+-a.unitSize.width\\\/2+\\\"px) rotateY(90deg) \\\",o.endingTo=s+\\\"translateZ(\\\"+-a.unitSize.width\\\/2+\\\"px) rotateY(0)     \\\"}var c=new CStyler(t),d=new CStyler(n),g=new CStyler(i),l=new CStyler(e),p=new CStyler(t.parentNode);switch(p.transformStyle=\\\"preserve-3d\\\",c.backfaceVisibility=g.backfaceVisibility=\\\"hidden\\\",d.backfaceVisibility=l.backfaceVisibility=\\\"hidden\\\",a.direction||\\\"west\\\"){case\\\"north\\\":case\\\"south\\\":c.transformOrigin=g.transformOrigin=\\\"50% 50% \\\"+-a.unitSize.height\\\/2+\\\"px\\\",d.transformOrigin=l.transformOrigin=\\\"50% 50% \\\"+-a.unitSize.height\\\/2+\\\"px\\\";break;case\\\"east\\\":case\\\"west\\\":c.transformOrigin=g.transformOrigin=\\\"50% 50% \\\"+-a.unitSize.width\\\/2+\\\"px\\\",d.transformOrigin=l.transformOrigin=\\\"50% 50% \\\"+-a.unitSize.width\\\/2+\\\"px\\\"}this._runTransition(t,i,n,e,o,a.duration,function(){p.transformStyle=\\\"\\\",c.transformOrigin=g.transformOrigin=\\\"\\\",d.transformOrigin=l.transformOrigin=\\\"\\\",c.backfaceVisibility=g.backfaceVisibility=\\\"\\\",d.backfaceVisibility=l.backfaceVisibility=\\\"\\\",nextFrame(r||noop)})},_runTransition:function(t,i,n,e,a,r,o){function s(){d.transition=c.transition=\\\"\\\",l.transition=g.transition=\\\"\\\",d.transform=c.transform=\\\"\\\",l.transform=g.transform=\\\"\\\",c.display=g.display=\\\"none\\\",c.opacity=g.opacity=d.opacity=l.opacity=\\\"\\\",nextFrame(o||noop)}var c=new CStyler(t),d=new CStyler(n),g=new CStyler(i),l=new CStyler(e);c.transform=g.transform=a.startingFrom,d.transform=l.transform=a.startingTo,c.opacity=g.opacity=\\\"undefined\\\"==typeof a.startingFromOpacity?1:a.startingFromOpacity,d.opacity=l.opacity=\\\"undefined\\\"==typeof a.startingToOpacity?1:a.startingToOpacity,d.display=l.display=\\\"block\\\";var p=this._runOnce(s);once(n,\\\"transitionend\\\",p),setTimeout(function(){d.transition=c.transition=l.transition=g.transition=a.transition,nextFrame(function(){c.transform=g.transform=a.endingFrom,d.transform=l.transform=a.endingTo,c.opacity=g.opacity=\\\"undefined\\\"==typeof a.endingFromOpacity?1:a.endingFromOpacity,d.opacity=l.opacity=\\\"undefined\\\"==typeof a.endingToOpacity?1:a.endingToOpacity}),setTimeout(p,r+50)},20)},run:function(t,i,n,e,a){var r=this._getSupportedAnimation(a.animation||\\\"replace\\\");if(!(r in this))throw new Error(\\\"The transition function does not exist!\\\");this[r].apply(this,arguments)},_getSupportedAnimation:function(t){return android(\\\"2\\\")?\\\"replace\\\":!android(\\\"4\\\")||window.navigator.userAgent.match(\\\/Chrome.*(Mobile)? Safari\\\/)||\\\"cube\\\"!==t&&\\\"flip\\\"!==t?t:\\\"fade\\\"},_runOnce:function(t){var i=!1;return function(){return i?void 0:(i=!0,t())}}};;\\nfunction AdViewableTimeObserver(e){this._tracker=e,this._readyToShow=!1,this._adapter}function AdViewableInViewObjectObserver(){AdViewableInViewObjectObserver.uberConstructor.apply(this,arguments),this._inViewObjects=[],this._viewableInViewObjects=[]}function AdViewableUnitObserver(){AdViewableUnitObserver.uberConstructor.apply(this,arguments),this._units=[],this._viewableUnits=[],this._containerIsViewable=!1}AdViewableTimeObserver.prototype.readyToShow=function(){throw new Error(\\\"AdViewableInViewObjectObserver.readyToShow not implemented!\\\")},AdViewableTimeObserver.prototype.registerUnit=function(){throw new Error(\\\"AdViewableInViewObjectObserver.registerUnit not implemented!\\\")},AdViewableTimeObserver.prototype.registerAdapter=function(){throw new Error(\\\"AdViewableTimeObserver.registerAdapter not implemented!\\\")},AdViewableTimeObserver.prototype.stop=function(){this._tracker.stop()},inherit(AdViewableInViewObjectObserver,AdViewableTimeObserver),AdViewableInViewObjectObserver.prototype.registerAdapter=function(e){this._adapter=e;var t=this._tracker;e.mediaState.on(\\\"videoStarted\\\",function(){this._tryStartTracker()}.bind(this)),e.mediaState.on(\\\"videoStopped\\\",function(){0===this._viewableInViewObjects.length&&t.stop()}.bind(this))},AdViewableInViewObjectObserver.prototype.readyToShow=function(){this._readyToShow=!0,this._tryStartTracker()},AdViewableInViewObjectObserver.prototype.registerUnit=function(e){var t=e.inView,i=this._inViewObjects,r=this._viewableInViewObjects,a=this._tracker;if(-1===i.indexOf(t)){i.push(t);var n=-1!==r.indexOf(t);!n&&t.getAreaInViewRatio()>0&&r.push(t),this._tryStartTracker(),t.on(\\\"areaInViewRatioChanged\\\",function(e){var i=r.indexOf(t),n=-1!==i;!n&&e>0?(r.push(t),this._tryStartTracker()):0===e&&n&&(r.splice(i,1),0===r.length&&a.stop())}.bind(this))}},AdViewableInViewObjectObserver.prototype._tryStartTracker=function(){var e=this._adapter,t=e&&e.mediaState.playingVideo;return this._readyToShow&&(this._viewableInViewObjects.length>0||t)?(this._tracker.start(),!0):!1},inherit(AdViewableUnitObserver,AdViewableTimeObserver),AdViewableUnitObserver.prototype.registerAdapter=function(e){this._adapter=e,this._containerIsViewable=e.containerIsViewable;var t=this._tracker;e.on(\\\"containerViewableChange\\\",function(e){this._containerIsViewable=e,e?this._tryStartTracker():t.stop()}.bind(this)),e.mediaState.on(\\\"videoStarted\\\",function(){this._tryStartTracker()}.bind(this)),e.mediaState.on(\\\"videoStopped\\\",function(){this._adapter.containerIsViewable&&0!==this._viewableUnits.length||t.stop()}.bind(this))},AdViewableUnitObserver.prototype.readyToShow=function(){this._readyToShow=!0,this._tryStartTracker()},AdViewableUnitObserver.prototype.registerUnit=function(e){if(!this._adapter)throw new Error(\\\"adapter was not registered yet!\\\");var t=this._units,i=this._viewableUnits,r=this._tracker;-1===t.indexOf(e)&&(t.push(e),-1===i.indexOf(e)&&e._visible&&(i.push(e),this._tryStartTracker()),e.on(\\\"appeared\\\",function(){-1===i.indexOf(e)&&(i.push(e),this._tryStartTracker())}.bind(this)),e.on(\\\"disappeared\\\",function(){var t=i.indexOf(e);-1!==t&&(i.splice(t,1),0===i.length&&r.stop())}.bind(this)))},AdViewableUnitObserver.prototype._tryStartTracker=function(){var e=this._adapter;return e&&(e.containerIsViewable||e.mediaState.playingVideo)&&this._readyToShow&&this._viewableUnits.length>0?(this._tracker.start(),!0):!1};;\\nfunction AdViewableTimeTracker(i,e,t){this._trackingCenter=i,this._nativeRAF=e,this._intervals=t||{3e3:1e3,1e4:2e3,6e4:3e3,12e4:7e3,18e5:2e4},this._isRunning=!1,this._viewableMilliseconds=0,this._fromTime=0,this._pendingPingTimeoutId,this._pendingPingRafId,this._maxRafLatency=500}AdViewableTimeTracker.eventName=\\\"viewableTime\\\",AdViewableTimeTracker.TrackingData=function(i,e){return i>e&&(e=i),{name:AdViewableTimeTracker.eventName,from:i\\\/1e3,to:e\\\/1e3}},AdViewableTimeTracker.prototype.start=function(){this._isRunning||(this._isRunning=!0,this._fromTime=Date.now(),0===this._viewableMilliseconds?this._initPing():this._setNextPing())},AdViewableTimeTracker.prototype.stop=function(){if(this._clearPendingPing(),this._isRunning&&-1!==this._getPingInterval()){var i=Date.now(),e=i-this._fromTime;this._viewableMilliseconds+=e;var t=new AdViewableTimeTracker.TrackingData(this._fromTime,i);this._track(t)}this._isRunning=!1},AdViewableTimeTracker.prototype._initPing=function(){var i=this._fromTime,e=this._getPingInterval(),t=new AdViewableTimeTracker.TrackingData(this._fromTime,i);this._pendingPingRafId=this._nativeRAF.requestAnimationFrame(function(){this._track(t),this._setFromTimeForNextPing(i,e),this._setNextPing()}.bind(this))},AdViewableTimeTracker.prototype._setNextPing=function(){function i(){if(this._isRunning){var i=Date.now();this._viewableMilliseconds+=e,this._normalizeFromTime(i,e),this._pendingPingRafId=this._nativeRAF.requestAnimationFrame(function(){var t=new AdViewableTimeTracker.TrackingData(this._fromTime,i);this._track(t),this._setFromTimeForNextPing(i,e),this._setNextPing()}.bind(this))}}this._clearPendingPing();var e=this._getPingInterval();this._isRunning&&-1!==e&&(this._pendingPingTimeoutId=setTimeout(i.bind(this),e))},AdViewableTimeTracker.prototype._normalizeFromTime=function(i,e){var t=i-this._fromTime,n=e+this._maxRafLatency;t>n&&(this._fromTime=i)},AdViewableTimeTracker.prototype._setFromTimeForNextPing=function(i,e){var t=Date.now(),n=t-i,a=n>e;this._fromTime=a?t:i},AdViewableTimeTracker.prototype._getPingInterval=function(){var i=this._viewableMilliseconds,e=this._intervals,t=Object.keys(this._intervals),n=1*t[t.length-1],a=-1;return t.some(function(t){return 1*t>i?(a=e[t],i+a>n&&(a=-1),!0):!1}),a},AdViewableTimeTracker.prototype._clearPendingPing=function(){this._nativeRAF.cancelAnimationFrame(this._pendingPingRafId),clearTimeout(this._pendingPingTimeoutId)},AdViewableTimeTracker.prototype._track=function(i){this._trackingCenter.track(i)};;\\n!function(t){function i(){this.playingVideo=!1}var e=i.prototype;extend(e,EventEmitter),e.stopVideo=function(){this.playingVideo=!1,this.emit(\\\"videoStopped\\\")},e.startVideo=function(){this.playingVideo=!0,this.emit(\\\"videoStarted\\\")},t.MediaState=i}(window);;\\nfunction Creative(e,t,r,i,n,a,o,s,c,u,d,m){if(e instanceof Creative)throw\\\"This JSON has already been unfreezed. We do it inline, to improve performance. Duplicate it yourself before unfreezing, if you need to use it again.\\\";var p=m.start(\\\"Creative.new\\\"),v=extend({adapter:a,runtimeParams:t||{},openWebsiteOverrideUrls:s,getAppOverrideUrls:c,macros:d},o),g=m.start(\\\"Creative.unfreeze\\\");return e=Freezer.unfreeze(e,window,v),g.end(),e.instantiation=randInt(),e.batcher=new Batcher,e.trackingCenter=r,e.aggregatorTracking=i,e.experiments=n,e.brand=u,e.perf=m,e.platformAdvId=t.platformAdvId,e.platformAdvIdTrackingLimited=t.platformAdvIdTrackingLimited,p.end(),e}Creative.toString=function(){return\\\"[Clazz Creative]\\\"},Creative.prototype.toString=function(){return\\\"[Creative \\\"+this.name+\\\"]\\\"},window.creative=null,extend(Creative.prototype,EventEmitter),Creative.init=function(e,t,r,i,n,a,o,s,c,u,d,m){if(window.creative)throw\\\"creative is a singleton and was already initialized.\\\";Logger.initFromRuntimeParams(t),window.creative=new Creative(e,t,r,i,n,a,o,s,c,u,d,m)},Creative.prototype.userInteracted=function(e){this.emit(\\\"interaction\\\",e)},Creative.prototype.clickedThrough=function(e){this.emit(\\\"clickThrough\\\",e)},Creative.prototype._getRuntimeParamsWithPrefix=function(e){var t={};for(var r in this.runtimeParams)0===r.indexOf(e)&&(t[r.slice(e.length)]=this.runtimeParams[r]);return t},Object.defineProperties(Creative.prototype,{sessionId:{enumerable:!0,get:function(){return this.runtimeParams.sessionId}},placementId:{enumerable:!0,get:function(){return this.runtimeParams.placementId||null}},dataURIsEnabled:{enumerable:!1,get:function(){return 1==this.runtimeParams.dataURIsEnabled}},secure:{enumerable:!0,get:function(){return 1==this.runtimeParams.secure}},userParams:{enumerable:!0,get:function(){return this._getRuntimeParamsWithPrefix(\\\"user.\\\")}}}),Creative.prototype.awake=function(){function e(t,r,i,n){t.forEach(function(t){t.parentUnit=n,t.parentScreen=i,t.parentContainer=r;var a=t.getNestedContainers();a.forEach(function(r){r.parentUnit=n,r.parentScreen=i,r.parentObject=t,e(r.objects,r,i,n)})})}var t=this;for(var r in t.units){var i=t.units[r];i.name=r;var n=[i.master].concat(i.screens);i.loadingScreen&&(n=[i.loadingScreen].concat(n)),n.forEach(function(t){t.parentUnit=i,e(t.objects,t,t,i)})}},Creative.prototype.track=function(e,t){this.trackingCenter.track(e,t)},Creative.prototype.wrapRedirectPageUrl=function(e,t){return this.trackingCenter.wrapRedirectPageUrl(e,t)},Creative.prototype.wrapTentativeRedirectPageUrl=function(e,t,r){return this.trackingCenter.wrapTentativeRedirectPageUrl(e,t,r)},Object.defineProperty(Creative.prototype,\\\"sdk\\\",{get:function(){return this.adapter},enumerable:!0}),Creative._throw=function(e){throw e},Creative.prototype.getUserInteracted=function(){return 1==this.runtimeParams.userInteracted},Creative.trackCustomEventAction=function(e,t,r){e.track({name:\\\"custom\\\",label:t.name},r)},Creative.prototype.trackCreativeLoaded=function(e){this.track({name:\\\"creativeLoaded\\\",viewability00Measurable:e.observingViewability(\\\"00\\\"),viewability501Measurable:e.observingViewability(\\\"501\\\"),viewableTimeMeasurable:e.observingViewableTime(),cdnVariant:this.runtimeParams.variantChoices.CdnTiming||\\\"none\\\"}),this.perf.mark(\\\"creativeLoaded\\\");var t=new Date-1e3*this.runtimeParams.payloadJsClientTimestamp;if((this.experiments.get(\\\"ConsolidateIframes\\\")||this.experiments.get(\\\"TrackingLoadingTimes\\\"))&&3e4>t){var r={};this.aggregatorTracking.trackAggregator(\\\"creativeLoadedTime\\\",t,r),this.aggregatorTracking.trackAggregator(\\\"creativeLoadedSuccesses\\\",r)}},Creative.prototype.createUserLocation=function(e){return\\\"undefined\\\"!=typeof UserLocation?new UserLocation({lat:this.runtimeParams.gpsLat,lng:this.runtimeParams.gpsLng},e):void 0},Creative.prototype.getPageUrl=function(e){return(this.secure?this.creativeUrl:this.insecureCreativeUrl)+e+\\\"?base64json=\\\"+encodeURIComponent(btoa(to_utf8(JSON.stringify(this.runtimeParams))))},Creative.prototype.shouldClickThroughToNewWindow=function(e){var t,r=creative.supportedDeviceTypes.indexOf(\\\"Desktop\\\")>=0;t=[\\\"same\\\",\\\"new\\\"].indexOf(this.runtimeParams.preferredClickThroughWindow)>=0?this.runtimeParams.preferredClickThroughWindow:r?\\\"new\\\":\\\"same\\\";var i=e&&e.inUserInitiatedIteration;return\\\"new\\\"==t&&(i||r)};;\\nfunction Interstitial(){}inherit(Interstitial,Creative),Interstitial.toString=function(){return\\\"[Clazz Interstitial]\\\"},Interstitial.prototype.toString=function(){return\\\"[Interstitial \\\"+this.name+\\\"]\\\"},Interstitial.prototype.awake=function(){Interstitial.uber.awake.call(this),this.units.banner.dismissAction=function(t,i,n){t.track({name:\\\"creativeDismissed\\\"}),creative.adapter.dismiss(n,i)},this.units.banner.userLocation=this.createUserLocation(!0)};;\\nvar Kernel={};Kernel.toString=function(){return\\\"[Clazz Kernel]\\\"},Kernel.runInParallelAction=function(n,e,t){e.actions.waitForEach(function(e,t){e(n,t)},t)},Kernel.runInBackgroundAction=function(n,e,t){e.action&&e.action(n,noop),t()},Kernel.runInSequenceAction=function(n,e,t){for(var r=t,c=e.actions.length-1;c>=0;c--)r=function(e,t){return function(){t(n,e)}}(r,e.actions[c]);r()},Kernel.onceAction=function(n,e){e.caller.wasExecutedOnce||(e.caller.wasExecutedOnce=!0,(e.action||nullai)(n))},Kernel.loopAction=function(n,e,t){function r(){return 0==c?t():(-1!=c&&c--,void(e.action||nullai)(n,r))}var c=e.repeat;r()},Kernel.sleepAction=function(n,e,t){setTimeout(t,e.duration)},Kernel.executeJavascriptAction=function(n,e,t){try{var r=n.initiator,c=n.screen.parentUnit,i=n.screen,o=new Function(\\\"ctx\\\",\\\"c\\\",\\\"unit\\\",\\\"screen\\\",e.code);o.call(r,n,t,c,i)}catch(a){console.error(a.message+\\\"\\\\n\\\"+a.stack)}},Kernel.randomAction=function(n,e,t){var r=0;if(e.outcomes.forEach(function(n){r+=n.weight}),!r)return t();for(var c=Math.random()*r,i=0;i<e.outcomes.length;i++){var o=e.outcomes[i];if(c-=o.weight,0>c)return(o.action||nullai)(n,t)}},Kernel.bestAction=function(n,e,t){var r=creative.experiments.get(\\\"Best\\\",[creative.id,e.experimentName]);r.trackExposure();var c=e.outcomes.filter(function(n){return n.experimentVariant==r.chosenVariant})[0];(c.action||nullai)(n,t)},Kernel.trackBestVariantSuccessAction=function(n,e,t){var r=creative.experiments.get(\\\"Best\\\",[creative.id,e.experimentName]);r.trackSuccess(),t()};;\\n;\\nfunction View(){}extend(View.prototype,EventEmitter),View.prototype.awake=function(){this.node=null,this._loadingCount=null,this._waitingForLoadCallbacks=[],this._isAppearing=!1,this._hasAppearedAtLeastOnce=!1,this._shouldAppear=!1,this.trackableComponents=[\\\"Video\\\",\\\"StoreLocator2\\\"];var t=this;this.incrementLoadingCount=function(){if(t.loaded)throw\\\"Starting loads after the view has already finished loading?\\\";t._loadingCount++},this.decrementLoadingCount=function(){if(!t.loading)throw\\\"decrementLoadingCount called while not loading!\\\";if(t._loadingCount--,0===t._loadingCount){t.finishedLoading();for(var e=t._waitingForLoadCallbacks,i=0;i<e.length;i++)e[i]();t._waitingForLoadCallbacks=[]}},this.preloadImage=function(e,i){if(!(e instanceof File))throw\\\"file is not a File\\\";t.incrementLoadingCount();var n=creative.perf.start(\\\"View.preloadImage\\\",{uri:e.getUrl()});e.getDataUri(function(e){var o=new Image;o.src=e,o.onload=o.onerror=function(){o.onload=o.onerror=null,n.end(),i&&i(o),t.decrementLoadingCount()}})},this.trackableComponents.indexOf(this.constructor.name)>-1&&(this.trackViewShown=this.trackViewShown.bind(this),this.trackViewHidden=this.trackViewHidden.bind(this),this.once(\\\"appeared\\\",this.trackViewShown),this.once(\\\"disappeared\\\",this.trackViewHidden)),this.hacks={}},View.prototype.finishedLoading=function(){this.emit(\\\"loaded\\\")},Object.defineProperty(View.prototype,\\\"loaded\\\",{get:function(){return this.node&&!this.loading}}),Object.defineProperty(View.prototype,\\\"loading\\\",{get:function(){return this._loadingCount>0}}),View.prototype.createNode=function(){this.on(\\\"loaded\\\",creative.perf.start(\\\"View.load\\\",{clazz:this.constructor.name,name:this.name}).end);var t=document.createElement(\\\"div\\\");this.localId&&(t.id=\\\"celtra-object-\\\"+this.localId);for(var e=this.constructor;e;e=e.uber?e.uber.constructor:void 0)t.className+=\\\" celtra\\\"+e.name.replace(\\\/[A-Z]\\\/g,function(t){return\\\"-\\\"+t.toLowerCase()});return t},View.prototype.getNode=function(t){return this.loaded?t&&setTimeout(t,0):(t&&this._waitingForLoadCallbacks.push(t),this.node||(this.incrementLoadingCount(),this.node=this.createNode(),setTimeout(this.decrementLoadingCount,0))),this.node},Object.defineProperty(View.prototype,\\\"isAppearing\\\",{get:function(){return this._isAppearing}}),Object.defineProperty(View.prototype,\\\"hasAppearedAtLeastOnce\\\",{get:function(){return this._hasAppearedAtLeastOnce}}),View.prototype.appear=function(){var t=\\\"View APPEAR called on \\\"+this.constructor.name+\\\" \\\"+this.localId+\\\" (name=\\\"+this.name+\\\")\\\";this.parentContainer&&(t+=\\\" from \\\"+this.parentContainer.constructor.name+\\\" \\\"+this.parentContainer.localId+\\\" (name=\\\"+this.parentContainer.name+\\\")\\\"),Logger(\\\"events.appear\\\").log(t),this.hidden?this._shouldAppear=!0:this.isAppearing||(this._appear(),this._isAppearing=!0,this._hasAppearedAtLeastOnce=!0,this.emit(\\\"appeared\\\"))},View.prototype.disappear=function(){var t=\\\"View DISAPPEAR called on \\\"+this.constructor.name+\\\" \\\"+this.localId+\\\" (name=\\\"+this.name+\\\")\\\";this.parentContainer&&(t+=\\\" from \\\"+this.parentContainer.constructor.name+\\\" \\\"+this.parentContainer.localId+\\\" (name=\\\"+this.parentContainer.name+\\\")\\\"),Logger(\\\"events.appear\\\").log(t),this.isAppearing&&(this._disappear(),this._isAppearing=!1,this._shouldAppear=!1,this.emit(\\\"disappeared\\\"))},View.prototype._appear=function(){},View.prototype._disappear=function(){},View.prototype.appearNestedObjects=function(){this.objects.forEach(function(t){t.appear()},this)},View.prototype.disappearNestedObjects=function(){this.objects.forEach(function(t){t.disappear()},this)},View.prototype.trackViewShown=function(){new ActionContext(this,!1).track({name:\\\"viewShown\\\"})},View.prototype.trackViewHidden=function(){new ActionContext(this,!1).track({name:\\\"viewHidden\\\"})};;\\nfunction CreativeUnit(){}inherit(CreativeUnit,View),CreativeUnit.DEBUG_EXTRA_PHASE_DELAY=0,CreativeUnit.IGNORABLES=[\\\"INPUT\\\",\\\"SELECT\\\",\\\"TEXTAREA\\\"],CreativeUnit.toString=function(){return\\\"[Clazz CreativeUnit]\\\"},CreativeUnit.prototype.toString=function(){return\\\"[CreativeUnit \\\"+this.name+\\\" (\\\"+this.localId+\\\")]\\\"},Object.defineProperty(CreativeUnit.prototype,\\\"size\\\",{get:function(){var e=this.getAvailableSize();return this.layoutCurrent||this._updateActiveLayout(this._getOrientation(),e.width,e.height),\\\"responsive\\\"===this.sizing?{width:e.width,height:e.height}:{width:this.layoutCurrent.unitSize.width,height:this.layoutCurrent.unitSize.height}},set:function(){}}),Object.defineProperty(CreativeUnit.prototype,\\\"unitAlignment\\\",{get:function(){return\\\"undefined\\\"==typeof this.layoutCurrent.unitAlignment?{}:this.layoutCurrent.unitAlignment}}),Object.defineProperty(CreativeUnit.prototype,\\\"layoutCurrent\\\",{get:function(){return this.layouts[this.layoutCurrentIndex]}}),Object.defineProperty(CreativeUnit.prototype,\\\"hasOverflow\\\",{get:function(){return this.screens.concat([this.master]).filter(function(e){return e.showOverflow}).length>0}}),CreativeUnit.prototype.awake=function(){var e=this;CreativeUnit.uber.awake.call(this),this.currentScreen=null,this.visibleScreen=null,this._masterShown=!1,this.overflowsY=!1,this._availableSize={width:0,height:0},this.layoutCurrentIndex=null,this.screens.forEach(function(e){e.objects.forEach(function(e){e.zIndex+=ScreenObject._zIndexOffset})}),\\\"undefined\\\"==typeof this.backgroundColor&&(this.backgroundColor=\\\"#000000\\\"),\\\"undefined\\\"==typeof this.usePlaceboBar&&(this.usePlaceboBar=!1),\\\"undefined\\\"==typeof this.showCloseButton&&(this.showCloseButton=!1),\\\"undefined\\\"==typeof this.alignBackButtonHorizontal&&(this.alignBackButtonHorizontal=\\\"left\\\"),this.on(\\\"_firstScreenLoaded\\\",function(){e.placeboBar&&(e.placeboBar.parentNode.removeChild(e.placeboBar),e.placeboBar=null),this._setVisibleScreen(this.screens[0])}.bind(this)),this.onAll(\\\"_firstScreenLoaded _unitFirstShown\\\",function(){this.goToScreen(this.screens[0])}.bind(this)),this.triggerOrientationChange=this.triggerOrientationChange.bind(this),defer(function(){creative.adapter.on(\\\"orientationchange\\\",this.triggerOrientationChange)}.bind(this)),this.updateWindowMetrics=this.updateWindowMetrics.bind(this),this.hacks.triggerBlurWhenTappingOutsideOfInputs=ios(),this._isRendering=!1},CreativeUnit.prototype.setAvailableSize=function(e,t){var i=this._availableSize.width!=e||this._availableSize.height!=t;this._availableSize.width=e,this._availableSize.height=t;var n=this._getOrientation();this._updateActiveLayout(n,e,t),this.updateWindowMetrics(n,e,t),i&&this.emit(\\\"resize\\\")},CreativeUnit.prototype.getAvailableSize=function(){return extend({},this._availableSize)},CreativeUnit.prototype._getOrientation=function(){return creative.adapter.orientation%180==0?\\\"portrait\\\":\\\"landscape\\\"},CreativeUnit.prototype._updateActiveLayout=function(e,t,i){var n=this.layouts.slice(),r=this.layoutCurrentIndex,o=this.layouts[r]||null;n.forEach(function(n){n.sortIndex=0,\\\"independent\\\"==n.orientation?n.sortIndex+=1:n.orientation!=e&&(n.sortIndex+=3e3),n.minSize.width>t&&(n.sortIndex+=1e3),n.minSize.height>i&&(n.sortIndex+=1e3),n.sortIndex+=Math.abs(n.minSize.width-t)+Math.abs(n.minSize.height-i)}),n.sort(function(e,t){return e.sortIndex-t.sortIndex}),this.layoutCurrentIndex=this.layouts.indexOf(n[0]),r!=this.layoutCurrentIndex&&(this.emit(\\\"layoutChanged\\\"),o&&o.orientation==this.layoutCurrent.orientation||this.triggerOrientationChange())},CreativeUnit.prototype.enterRenderTree=function(){if(!this._isRendering){this._isRendering=!0;var e=this.getAvailableSize();if(this.updateWindowMetrics(this._getOrientation(),e.width,e.height),this.master&&(this.master.loaded?defer(this.master.enterRenderTree.bind(this.master)):this.once(\\\"_firstScreenLoaded\\\",this.master.enterRenderTree.bind(this.master))),this.visibleScreen&&defer(this.visibleScreen.enterRenderTree.bind(this.visibleScreen)),this.hacks.triggerBlurWhenTappingOutsideOfInputs){var t=document.createElement(\\\"input\\\");t.style.display=\\\"block\\\",t.style.position=\\\"relative\\\",t.style.opacity=\\\"0\\\",t.style.top=\\\"0px\\\",t.style.zIndex=\\\"0\\\",t.style.width=t.style.height=\\\"0px\\\",this.node.appendChild(t),attach(this.node,\\\"touchstart\\\",function(e){-1==[\\\"INPUT\\\",\\\"TEXTAREA\\\",\\\"SELECT\\\"].indexOf(e.target.nodeName)&&null!=this.lastInputElementFocused&&(t.focus(),t.blur())}.bind(this),!0),attach(this.node,\\\"focus\\\",function(e){[\\\"INPUT\\\",\\\"TEXTAREA\\\",\\\"SELECT\\\"].indexOf(e.target.nodeName)>-1&&(this.lastInputElementFocused=e.target)}.bind(this),!0),attach(this.node,\\\"blur\\\",function(e){[\\\"INPUT\\\",\\\"TEXTAREA\\\",\\\"SELECT\\\"].indexOf(e.target.nodeName)>-1&&(this.lastInputElementFocused=null)}.bind(this),!0)}}},CreativeUnit.prototype.exitRenderTree=function(){this._isRendering&&(this._isRendering=!1,this.master&&this.master.exitRenderTree(),this.visibleScreen&&this.visibleScreen.exitRenderTree())},CreativeUnit.prototype._appear=function(){this.loaded||Creative._throw(\\\"Cannot show the unit before it has finished loading.\\\"),this.isAppearing&&Creative._throw(\\\"The unit is already appearing.\\\"),this.node.parentNode||Creative._throw(\\\"Creative unit must be added to DOM before show() is called. Animations will start on show().\\\"),Logger(\\\"unit\\\").log(\\\"Showing \\\"+this),this.inView&&(this.inView.start(),this.currentScreen&&this.currentScreen.inView&&this.currentScreen.inView.start()),this.hasAppearedAtLeastOnce||(this.placeboBar&&this.placeboBar.start(),this._orientationLockIsOn?this._emitUnitFirstShownAfterOrientationPrompt=!0:this.emit(\\\"_unitFirstShown\\\"),setTimeout(function(){Tapper(this.node)}.bind(this),0),attach(this.node,\\\"touchstart\\\",function(e){if(!this.swipeable){for(var t=e.target;1!=t.nodeType;)t=t.parentNode;-1==CreativeUnit.IGNORABLES.indexOf(t.nodeName)&&e.preventDefault()}}.bind(this),!1),attach(this.node,\\\"touchmove\\\",function(e){this.swipeable||e.preventDefault()}.bind(this),!1))},CreativeUnit.prototype._disappear=function(){this.isAppearing||Creative._throw(\\\"The unit is not appearing, can not disappear.\\\"),Logger(\\\"unit\\\").log(\\\"Hiding \\\"+this),this.inView&&this.inView.stop()},CreativeUnit.prototype.createNode=function(){Logger(\\\"unit\\\").log(\\\"Starting to load \\\"+this),this.on(\\\"loaded\\\",creative.adapter.perf.start(\\\"CreativeUnit.load\\\").end),(creative.experiments.get(\\\"TrackingLoadingTimes\\\")||creative.experiments.get(\\\"ConsolidateIframes\\\"))&&this.once(\\\"_firstScreenLoaded\\\",function(){var e=new Date-1e3*creative.runtimeParams.payloadJsClientTimestamp;if(3e4>e){var t={unitName:this.name};creative.aggregatorTracking.trackAggregator(\\\"unitLoadTime\\\",e,t),creative.aggregatorTracking.trackAggregator(\\\"unitLoadSuccesses\\\",t)}}.bind(this));var e=this.unitDiv=CreativeUnit.uber.createNode.call(this);if(e.id=\\\"celtra-\\\"+this.name.replace(\\\/[A-Z]\\\/g,function(e){return\\\"-\\\"+e.toLowerCase()}),e.style.background=this.backgroundColor,e.style.overflow=this.master.showOverflow?\\\"visible\\\":\\\"hidden\\\",this.screenContainer=document.createElement(\\\"div\\\"),this.screenContainer.className=\\\"celtra-screen-container\\\",this.screenContainer.style.position=\\\"absolute\\\",e.appendChild(this.screenContainer),this.screenHolder=document.createElement(\\\"div\\\"),this.screenHolder.className=\\\"celtra-screen-holder\\\",this.screenHolder.style.width=\\\"100%\\\",this.screenHolder.style.height=\\\"100%\\\",this.screenContainer.appendChild(this.screenHolder),e.style.position=\\\"absolute\\\",this.usePlaceboBar){var t=this.loadingScreen&&this.loadingScreen.loaderColor||\\\"white\\\";this.placeboBar=new PlaceboBar(5e3,.9,200,t),this.screenContainer.appendChild(this.placeboBar)}if(this.showCloseButton){if(this.closeAction||Creative._throw(\\\"Close button requested, but no close action defined?\\\"),this.closeButtonType&&\\\"text\\\"===this.closeButtonType){var i=document.createElement(\\\"div\\\");i.className=\\\"celtra-close-button touchable celtra-close-button-text\\\",i.textContent=this.closeButtonText,i.style.color=this.closeButtonTextColor,this.unitDiv.appendChild(i)}else{var i=document.createElement(\\\"img\\\"),n=document.createElement(\\\"img\\\");this.closeButtonUp?(this.closeButtonDown||(this.closeButtonDown=this.closeButtonUp),this.closeButtonWidth&&this.closeButtonHeight&&(i.style.width=n.style.width=this.closeButtonWidth+\\\"px\\\",i.style.height=n.style.height=this.closeButtonHeight+\\\"px\\\")):(this.closeButtonUp=new File(\\\"runner\\\/clazzes\\\/CreativeUnit\\\/close-up.png\\\"),this.closeButtonDown=new File(\\\"runner\\\/clazzes\\\/CreativeUnit\\\/close-down.png\\\")),i.className=\\\"celtra-close-button touchable celtra-close-button-up\\\",this.preloadImage(this.closeButtonUp,function(e){i.src=e.src}),n.className=\\\"celtra-close-button celtra-close-button-down\\\",this.preloadImage(this.closeButtonDown,function(e){n.src=e.src}),this.closeButtonImage=i,this.closeButtonImagePressed=n,this.unitDiv.appendChild(this.closeButtonImage),this.unitDiv.appendChild(this.closeButtonImagePressed)}attach(i,\\\"tap\\\",function(){var e=this.currentScreen||this.visibleScreen;this.closeAction(e?new ActionContext(e,!0):null,{},noop)}.bind(this),!1)}var r=[];r.push({name:\\\"loading\\\",fun:function(e){if(this.loadingScreen){var t=creative.perf.start(\\\"CreativeUnit.loadingScreen\\\");this.loadingScreen.getNode(function(){setTimeout(function(){t.end(),this._setVisibleScreen(this.loadingScreen),e(!0)}.bind(this),CreativeUnit.DEBUG_EXTRA_PHASE_DELAY)}.bind(this))}else e(!1)}.bind(this)}),r.push({name:\\\"interactive\\\",fun:function(e){var t=creative.perf.start(\\\"CreativeUnit.firstScreenLoaded\\\"),i=2,n=function(){--i||setTimeout(function(){t.end(),defer(this.emits(\\\"_firstScreenLoaded\\\")),e(!0)}.bind(this),CreativeUnit.DEBUG_EXTRA_PHASE_DELAY)}.bind(this);this.screens[0].getNode(n),this.master.getNode(n)}.bind(this)}),this.incrementLoadingCount();var o=!1,a=function(){o||Creative._throw(\\\"Unit still not ready to show after last phase?!\\\")};return r.reverse().forEach(function(e){var t=a;a=function(){Logger(\\\"unit\\\").log(\\\"Phase '\\\"+e.name+\\\"' started.\\\"),e.fun(function(i){Logger(\\\"unit\\\").log(\\\"Phase '\\\"+e.name+\\\"' finished, \\\"+(i?\\\"DID\\\":\\\"DID NOT\\\")+\\\" draw something.\\\"),i&&(o||(o=!0,this.decrementLoadingCount())),t()}.bind(this))}.bind(this)}.bind(this)),a(),creative.adapter.on(\\\"mediaStopRequested\\\",this.emits(\\\"mediaStopRequested\\\")),e},CreativeUnit.prototype._repositionCloseButton=function(e){function t(e,t,i){function n(e){return{left:e.offsetLeft,top:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}}var r=n(i),o=n(t),a=n(e);a.left=o.left+o.width-a.width,a.top=o.top;var s=r.left<=a.left&&a.left+a.width-1<r.left+r.width&&r.top<=a.top&&a.top+a.height-1<r.top+r.height;return!s}if(this.closeButtonImage){var i;i=this.hasOverflow||this.orientationPrompt&&\\\"none\\\"!=this.orientationPrompt.style.display||t(this.closeButtonImage,this.screenContainer,this.unitDiv)?this.unitDiv:this.screenContainer;var n=this.closeButtonImage.parentNode;if(i!==n&&(n&&(n.removeChild(this.closeButtonImage),n.removeChild(this.closeButtonImagePressed)),i.appendChild(this.closeButtonImage),i.appendChild(this.closeButtonImagePressed)),window.navigator.userAgent.match(\\\/iP(hone|od)\\\/)&&ios(\\\"7\\\")&&creative.adapter.hasDeadZones){var r=\\\"landscape\\\"==e?20:0;this.closeButtonImage.style.top=this.closeButtonImagePressed.style.top=r+\\\"px\\\"}}},CreativeUnit.prototype.triggerOrientationChange=function(){this.currentScreen&&this.currentScreen.triggerOrientationChange()},CreativeUnit.prototype.enableWrongOrientationPrompt=function(){if(this.unitDiv&&!this.orientationPrompt&&\\\"thumb\\\"!==creative.runtimeParams.purpose){this.orientationPrompt=document.createElement(\\\"img\\\"),this.orientationPrompt.style.cssText=\\\"display: none; position: absolute; left: 50%; top: 50%; z-index: 999999\\\";var e=this;if(this.orientationPromptImage)this.loaded||this.preloadImage(this.orientationPromptImage,function(t){var i=e.orientationPromptImage.width,n=e.orientationPromptImage.height,r=Math.round(i\\\/2),o=Math.round(n\\\/2);e.orientationPrompt.style.cssText+=\\\"margin-left: -\\\"+r+\\\"px; margin-top: -\\\"+o+\\\"px; width: \\\"+i+\\\"px; height: \\\"+n+\\\"px;\\\",e.orientationPrompt.src=t.src});else{var t=\\\"tablet\\\",i=\\\"phone\\\"==t?400:640;this.orientationPrompt.style.cssText+=\\\"margin-left: -\\\"+i+\\\"px; margin-top: -\\\"+i+\\\"px;\\\",css(this.orientationPrompt,\\\"transformOrigin\\\",\\\"50% 50%\\\"),css(this.orientationPrompt,\\\"transform\\\",\\\"scale(0.80)\\\"),this.loaded||this.preloadImage(new File(\\\"runner\\\/rotate-screen_\\\"+t+\\\"_01.png\\\"),function(t){e.orientationPrompt.src=t.src})}this.unitDiv.appendChild(this.orientationPrompt)}},CreativeUnit.prototype._updateSize=function(){var e=function(e,t,i){\\\"left\\\"==t?(e.style.left=\\\"0\\\",e.style.marginLeft=\\\"\\\",e.style.right=\\\"auto\\\"):\\\"right\\\"==t?(e.style.left=\\\"auto\\\",e.style.marginLeft=\\\"\\\",e.style.right=\\\"0\\\"):(e.style.left=\\\"50%\\\",e.style.marginLeft=\\\"-\\\"+this.size.width\\\/2+\\\"px\\\",e.style.right=\\\"auto\\\"),\\\"top\\\"==i?(e.style.top=\\\"0\\\",e.style.marginTop=\\\"\\\",e.style.bottom=\\\"auto\\\"):\\\"bottom\\\"==i?(e.style.top=\\\"auto\\\",e.style.marginTop=\\\"\\\",e.style.bottom=\\\"0\\\"):(e.style.top=\\\"50%\\\",e.style.marginTop=\\\"-\\\"+this.size.height\\\/2+\\\"px\\\",e.style.bottom=\\\"auto\\\")}.bind(this);\\\"responsive\\\"===this.sizing?(this.unitDiv.style.width=\\\"100%\\\",this.unitDiv.style.height=\\\"100%\\\",this.screenContainer.style.width=\\\"100%\\\",this.screenContainer.style.height=\\\"100%\\\"):this.fillsContainer?(this.unitDiv.style.width=\\\"100%\\\",this.unitDiv.style.height=this.overflowsY?this.size.height+\\\"px\\\":\\\"100%\\\",this.screenContainer.style.width=this.size.width+\\\"px\\\",this.screenContainer.style.height=this.size.height+\\\"px\\\",e(this.screenContainer,this.unitAlignment.horizontal,this.unitAlignment.vertical)):(this.unitDiv.style.width=this.size.width+\\\"px\\\",this.unitDiv.style.height=this.size.height+\\\"px\\\",e(this.unitDiv,this.unitAlignment.horizontal,this.unitAlignment.vertical),this.screenContainer.style.width=\\\"100%\\\",this.screenContainer.style.height=\\\"100%\\\")},CreativeUnit.prototype.updateWindowMetrics=function(e,t,i){this._isRendering&&(this._updateSize(),this._toggleWrongOrientationPrompt(e,t,i),this._repositionCloseButton(e,t,i))},CreativeUnit.prototype.setCorrectOrientation=function(e){this._correctOrientation=e},CreativeUnit.prototype._toggleWrongOrientationPrompt=function(e){if(this.orientationPrompt){var t=this.orientation;if(this._correctOrientation&&(t=this._correctOrientation),t!==e){this.orientationPrompt.style.display=\\\"block\\\";{this.orientationPrompt.offsetWidth}this._orientationLockIsOn!==!0&&this.emit(\\\"orientationLockChanged\\\",!0),this._orientationLockIsOn=!0}else this.orientationPrompt.style.display=\\\"none\\\",this._orientationLockIsOn!==!1&&this.emit(\\\"orientationLockChanged\\\",!1),this._orientationLockIsOn=!1,this._emitUnitFirstShownAfterOrientationPrompt&&(this._emitUnitFirstShownAfterOrientationPrompt=!1,this.emit(\\\"_unitFirstShown\\\"))}},CreativeUnit.prototype.finishedLoading=function(){CreativeUnit.uber.finishedLoading.call(this),Logger(\\\"unit\\\").log(\\\"Finished loading \\\"+this)},CreativeUnit.prototype.goToScreenAction=function(e,t,i){if(ios(\\\"7\\\")&&t.animation){var n=t.screen;n.showOverflow&&css(n.node,\\\"transform\\\",\\\"translateZ(0)\\\"),this.goToScreen(n,t,function(){n.showOverflow&&css(n.node,\\\"transform\\\",\\\"none\\\"),i()})}else this.goToScreen(t.screen,t,i)},CreativeUnit.prototype.goToScreen=function(e,t,i){if(!this.isAppearing){var n=Array.prototype.slice.apply(arguments);return void this.once(\\\"appeared\\\",function(){this.goToScreen.apply(this,n)}.bind(this))}if(!e.loaded){var n=Array.prototype.slice.apply(arguments);return void e.getNode(function(){this.goToScreen.apply(this,n)}.bind(this))}var r=this,o=this.currentScreen;return\\\"function\\\"==typeof t&&(i=t,t=void 0),i=i||noop,t=t||{},this.goingToScreen?i():e&&o!==e?(this.goingToScreen=!0,void e.triggerBeforeAppear(function(){this._setVisibleScreen(e,t,function(){r.goingToScreen=!1,r.currentScreen=e;var t=e.getNode(),n=this.master.getNode(),a=[t];n&&(a=a.concat(n)),this._masterShown||(this._masterShown=!0,this.master.enterRenderTree(),this.master.appear()),o&&(o.disappear(),o.exitRenderTree()),e.enterRenderTree(),e.appear(),i(),setTimeout(function(){e.reachableScreens.concat(this.master.reachableScreens).forEach(function(e){e.getNode()})}.bind(this),0)}.bind(this))}.bind(this))):i()},CreativeUnit.prototype._setVisibleScreen=function(e,t,i){if(t=t||{},i=i||noop,this.visibleScreen==e)return i();this.visibleScreen=e;var n=e===this.loadingScreen;if(n&&e.loaded)this._screenTransition(e.getNode(),null,t,i);else if(e.loaded&&this.master.loaded)this.loadingScreen&&(this.loadingScreen.getNode().style.display=\\\"none\\\"),this._screenTransition(e.getNode(),this.master.getNode(),t,i);else{var r,o,a,s=function(){r--,r||this._screenTransition(o,a,t,i)};n?(o=this.loadingScreen.getNode(s.bind(this)),a=null,r=1):(o=e.getNode(s.bind(this)),a=this.master.getNode(s.bind(this)),r=2)}},CreativeUnit.prototype._screenTransition=function(e,t,i,n){e.style.display=\\\"none\\\",t&&(this._masterClone||this._createMasterClone(),this.screenHolder.appendChild(this._masterClone),t.parentNode||this.screenHolder.appendChild(t),this._masterClone.style.zIndex=t.style.zIndex=-1),e&&!e.parentNode&&this.screenHolder.appendChild(e),t&&(this._masterClone.style.display=\\\"block\\\",t.style.display=\\\"none\\\"),null!=this.currentScreen?(i.unitSize=extend({},this.size),ScreenTransition.run(this.currentScreen.node,this._masterClone,e,t,i,function(){t.style.display=\\\"block\\\",this._masterClone.display=\\\"none\\\",n()}.bind(this))):(t&&(t.style.display=\\\"block\\\",this._masterClone.style.display=\\\"none\\\"),e.style.display=\\\"block\\\",nextFrame(n))},CreativeUnit.prototype._createMasterClone=function(){return this._masterClone&&this._masterClone.parentNode&&this._masterClone.parentNode.removeChild(this._masterClone),this._masterClone=this.master.getNode().cloneNode(!0),this._masterClone.style.display=\\\"none\\\",this._masterClone.style.zIndex=-1,this._masterClone},CreativeUnit.prototype.alertAction=function(e,t,i){this.alert({message:t.text},i)},CreativeUnit.prototype.checkOrientationAction=function(e,t,i){var n,r=creative.adapter.orientation;0==r||180==r?n=t.onPortrait:(-90==r||90==r)&&(n=t.onLandscape),n?n(e,i):i()},CreativeUnit.prototype._processURLParams=function(e){return\\\"string\\\"!=typeof e?e:creative.macros(e)},CreativeUnit.prototype.goToURLAction=function(e,t,i){var n=creative.openWebsiteOverrideUrls&&creative.openWebsiteOverrideUrls[t.reportLabel]||t.url;if(urlOpenId=randInt(),!n)return i();_stopAllMedia(),e.track({name:\\\"urlOpened\\\",url:n,label:t.reportLabel,urlOpenId:urlOpenId});var r=[];if(1==creative.brand.allowsCookies){var o=18e5,a=\\\"\\\/accountId=\\\"+creative.accountId+\\\"\\\/advertiserId=\\\"+creative.brandId+\\\"\\\/\\\";r=[{name:\\\"lastSessionId\\\",value:creative.trackingCenter._sessionId,maxAge:o,path:a},{name:\\\"lastUrlOpenId\\\",value:urlOpenId,maxAge:o,path:a}]}e.trackClickThrough(),creative.adapter.openBrowser(creative.wrapRedirectPageUrl(this._processURLParams(n),{cookies:r}),creative.shouldClickThroughToNewWindow(e)),i()},CreativeUnit.prototype.facebookURLAction=function(e,t,i){if(!t.url)return i();_stopAllMedia(),e.track({name:\\\"facebookShareAttempt\\\",url:t.url,label:t.reportLabel,trackable:!1}),e.trackClickThrough();var n=\\\"http:\\\/\\\/m.facebook.com\\\/sharer.php?u=\\\"+encodeURIComponent(t.url);creative.adapter.openBrowser(creative.wrapRedirectPageUrl(n),creative.shouldClickThroughToNewWindow(e)),i()},CreativeUnit.prototype.callURLAction=function(e,t,i){if(!t.url)return i();var n=this._processURLParams(t.url),r=new Image;r.onload=r.onerror=function(){i()},r.src=n},CreativeUnit.prototype.displayImageAction=function(e,t,i){if(!t.file)return i();var n=document.createElement(\\\"div\\\");n.className=\\\"celtra-display-image-overlay touchable\\\",n.style.backgroundImage=\\\"url(\\\"+t.file.getUrl()+\\\")\\\",this.node.appendChild(n);var r=parseInt(window.getComputedStyle(n).getPropertyValue(\\\"width\\\"),10),o=parseInt(window.getComputedStyle(n).getPropertyValue(\\\"height\\\"),10);(t.file.meta.width>r||t.file.meta.height>o)&&(n.style.backgroundSize=\\\"contain\\\"),t.color&&(n.style.backgroundColor=t.color),attach(n,\\\"tap\\\",function(){n.parentNode.removeChild(n),i()},!1);var a=self.closeButton=document.createElement(\\\"div\\\");a.className=\\\"celtra-back-button touchable \\\"+this.alignBackButtonHorizontal,n.appendChild(a)},CreativeUnit.prototype.saveImageAction=function(e,t,i){function n(e){var t=e.getOriginalUrl(),n=e.name,o=e.blobHash;if(r(o),creative.adapter.canSaveImage())creative.adapter.trackingCenter.flush(function(){creative.adapter.saveImage(t,n,i)});else{var a=new SaveImageDialog(creative.adapter,creative.resourceUrl,t);a.show(i)}}function r(i){e.track({name:\\\"imageSaveAttempted\\\",blobHash:i,label:t.reportLabel}),e.trackClickThrough()}function o(){creative.adapter.createPlacements({preloader:{attachment:\\\"body\\\",positioning:\\\"screen\\\",type:\\\"layer\\\"}},function(){var e=creative.adapter.placements.preloader;e.setZIndex(\\\"max\\\"),e.setSize(\\\"100%\\\",\\\"100%\\\"),e.setPosition(0,0);var t=e.createElement(\\\"link\\\");t.rel=\\\"stylesheet\\\",t.type=\\\"text\\\/css\\\",t.href=creative.resourceUrl+\\\"runner\\\/clazzes\\\/PostBlobPreloader.css\\\",e.getContainer().appendChild(t);var i=e.createElement(\\\"div\\\");addClass(i,\\\"celtra-preloader-container\\\");var n=e.createElement(\\\"div\\\");addClass(n,\\\"celtra-preloader-image\\\"),n.style.backgroundImage=\\\"url(\\\"+creative.resourceUrl+\\\"runner\\\/clazzes\\\/CreativeUnit\\\/preloader.png)\\\",i.appendChild(n),e.populate(i,function(){e.show()})})}function a(){creative.adapter.destroyPlacement(\\\"preloader\\\")}if(t.imageOrigin=t.imageOrigin?t.imageOrigin:\\\"asset\\\",\\\"component\\\"==t.imageOrigin&&t.component)if(t.component.file)n(t.component.file);else{var s=t.component.getField().url,l=s.split(\\\",\\\")[1];o(),postBlob(l,function(e,t){if(a(),t>=200&&300>t){var r=JSON.parse(e),o=creative.cachedApiUrl+\\\"blobs\\\/\\\"+r.hash+\\\"\\\/shared.png\\\",s=new File(o);n(s)}else i()})}else\\\"asset\\\"==t.imageOrigin&&t.file?n(t.file):i()},CreativeUnit.prototype.playSoundAction=function(e,t,i){if(!t.file)return i();var n=new Audio(t.file.getUrl());attach(n,\\\"ended\\\",function(){i()},!1),n.play()},CreativeUnit.prototype.playVideoInPlayerAction=function(e,t,i){return t.file?(videoContext=new VideoContext(e,t.file,t.reportLabel),videoContext.track({engineType:\\\"html5\\\",name:\\\"videoPlayAttempted\\\",filename:t.file.name,trackable:creative.adapter.useFSVP,userInitiated:!0,startMuted:!1,videoPlayerMode:\\\"fullscreen\\\",videoPreset:null}),void creative.adapter.playVideoInPlayer(videoContext,function(n){var r=(n?t.onSuccess:t.onFailure)||nullai;r(e,i)})):i()},CreativeUnit.prototype.playVideoFromURLAction=function(e,t,i){return t.url?(_stopAllMedia(),videoContext=new VideoContext(e,new File(t.url),t.reportLabel),videoContext.track({engineType:\\\"html5\\\",name:\\\"videoPlayAttempted\\\",trackable:creative.adapter.useFSVP,filename:null,userInitiated:!0,startMuted:!1,videoPlayerMode:\\\"fullscreen\\\",videoPreset:null}),void creative.adapter.playVideoInPlayer(videoContext,function(n){var r=(n?t.onSuccess:t.onFailure)||nullai;r(e,i)})):i()},CreativeUnit.prototype.vibrateAction=function(e,t,i){i()},CreativeUnit.prototype.getAppAction=function(e,t,i){var n=function(e){return new RegExp(\\\"(^http(s)?:\\\/\\\/)|(^market:\\\/\\\/)\\\",\\\"i\\\").test(e)};_stopAllMedia();var r;if(creative.getAppOverrideUrls[t.reportLabel]?r=creative.getAppOverrideUrls[t.reportLabel]:ios()&&t.appStoreUrl?r=new RegExp(\\\"^\\\\\\\\d+$\\\").test(t.appStoreUrl)?\\\"http:\\\/\\\/itunes.apple.com\\\/us\\\/app\\\/keynote\\\/id\\\"+t.appStoreUrl:(n(t.appStoreUrl)?\\\"\\\":\\\"http:\\\/\\\/\\\")+t.appStoreUrl:android()&&t.androidMarketAppId&&(r=n(t.androidMarketAppId)?t.androidMarketAppId:\\\"market:\\\/\\\/details?id=\\\"+t.androidMarketAppId),r){var o=2,a=function(){--o||creative.adapter.getApp(this._processURLParams(r))}.bind(this);e.track({name:\\\"storeOpened\\\",appUri:r,label:t.reportLabel},a),e.trackClickThrough(a)}i()},CreativeUnit.prototype.callPhoneAction=function(e,t,i){function n(){--r||creative.adapter.callPhone(t.number)}if(!t.number)return i();_stopAllMedia();var r=2;e.track({name:\\\"phoneCalled\\\",number:t.number,label:t.reportLabel},n),e.trackClickThrough(n),i()},CreativeUnit.prototype.expandAction=function(){console.error(\\\"Expand action is not available for this ad format or creative unit\\\")},CreativeUnit.prototype.findAll=function(e){function t(n){n.forEach(function(n){(\\\"undefined\\\"==typeof e||n.name==e)&&i.push(n),n.getNestedContainers().forEach(function(e){t(e.objects)})})}var i=[];return this.screens.forEach(function(n){(\\\"undefined\\\"==typeof e||n.title==e)&&i.push(n),t(n.objects)}),i},CreativeUnit.prototype.find=function(e){var t=this.findAll(e);return t.length>0?t[0]:null};var _stopAllMedia=function(){\\\"function\\\"==typeof creative.adapter._stopAllMedia&&creative.adapter._stopAllMedia()};;\\nCreativeUnit.prototype.alert=function(e,t){var a=this.size.width,n=this.size.height,l=e.boxWidth||320,r=e.boxHeight||160;a>=l&&n>=r?android(\\\"2\\\")?this.showModalDialog(\\\"alert\\\",e,t):this.showModalDialogInPlacement(\\\"alert\\\",e,t):(alert(this.stripHtmlTags(e.message)),t())},CreativeUnit.prototype.prompt=function(e,t){var a=this.size.width,n=this.size.height,l=e.boxWidth||320,r=e.boxHeight||190;if(a>=l&&n>=r)android(\\\"2\\\")?this.showModalDialog(\\\"prompt\\\",e,t):this.showModalDialogInPlacement(\\\"prompt\\\",e,t);else{var i=prompt(this.stripHtmlTags(e.message));t(i)}},CreativeUnit.prototype.showModalDialog=function(e,t,a){var n=document.createElement(\\\"div\\\");addClass(n,\\\"alert\\\");var l=document.createElement(\\\"div\\\");addClass(l,\\\"alert-dark-overlay\\\"),n.appendChild(l);var r=document.createElement(\\\"div\\\");if(addClass(r,\\\"alert-box\\\"),\\\"prompt\\\"==e&&t.title&&\\\"\\\"!=t.title){var i=document.createElement(\\\"h1\\\");if(addClass(i,\\\"alert-title\\\"),i.innerHTML=t.title,r.appendChild(i),t.message&&\\\"\\\"!=t.message){var d=document.createElement(\\\"hr\\\");addClass(d,\\\"alert-dark-line\\\"),r.appendChild(d);var o=document.createElement(\\\"hr\\\");addClass(o,\\\"alert-light-line\\\"),r.appendChild(o)}}if(t.message&&\\\"\\\"!=t.message){var s=document.createElement(\\\"div\\\");addClass(s,\\\"alert-message\\\"),s.innerHTML=t.message,r.appendChild(s)}if(\\\"prompt\\\"==e){var p=document.createElement(\\\"input\\\");addClass(p,\\\"alert-input\\\"),p.value=t.defaultValue||\\\"\\\",r.appendChild(p),this.preventScroll(r);var c=function(e){13==e.keyCode&&(n.parentNode&&this.node.removeChild(n),a(p.value))}.bind(this);attach(p,\\\"keypress\\\",c)}var h=document.createElement(\\\"div\\\");addClass(h,\\\"alert-ok\\\"),\\\"prompt\\\"==e&&addClass(h,\\\"no-margin-top\\\"),h.innerHTML=\\\"OK\\\",r.appendChild(h);var m=function(){n.parentNode&&this.node.removeChild(n),\\\"prompt\\\"==e?a(p.value):a()}.bind(this);if(once(h,\\\"touchend\\\",m,!1),\\\"prompt\\\"==e&&t.showCancel){addClass(h,\\\"with-cancel\\\");var v=document.createElement(\\\"div\\\");addClass(v,\\\"alert-cancel\\\"),v.innerHTML=\\\"CANCEL\\\",r.appendChild(v);var u=function(){n.parentNode&&this.node.removeChild(n),a(null)}.bind(this);once(v,\\\"touchend\\\",u,!1)}n.appendChild(r),this.node.appendChild(n),computed=window.getComputedStyle(r),computedBoxHeight=parseInt(computed.height,10)+parseInt(computed.paddingTop,10)+parseInt(computed.paddingBottom,10)+2*parseInt(computed.borderWidth,10),r.style.marginTop=-computedBoxHeight\\\/2+\\\"px\\\",r.style.display=\\\"inline-block\\\"},CreativeUnit.prototype.showModalDialogInPlacement=function(e,t,a){var n=e+CreativeUnit._modalDialogsIdCounter++,l={};l[n]={attachment:\\\"body\\\",positioning:\\\"screen\\\",type:\\\"layer\\\"},creative.adapter.createPlacements(l,function(){function l(e){13==e.keyCode&&(creative.adapter.destroyPlacement(n),o=null,a(f.value))}function r(e){e.preventDefault(),e.stopPropagation()}function i(t){t.preventDefault(),t.stopPropagation(),creative.adapter.destroyPlacement(n),o=null,\\\"prompt\\\"==e?a(f.value):a()}function d(e){e.preventDefault(),e.stopPropagation(),creative.adapter.destroyPlacement(n),o=null,a(null)}var o=creative.adapter.placements[n];o.setZIndex(\\\"max\\\"),o.setSize(\\\"100%\\\",\\\"100%\\\"),o.setPosition(0,0);var s=o.createElement(\\\"link\\\");s.rel=\\\"stylesheet\\\",s.type=\\\"text\\\/css\\\",s.href=creative.resourceUrl+\\\"runner-min\\\/clazzes\\\/ModalDialogs-Overlay.css\\\",o.getContainer().appendChild(s);var p=o.createElement(\\\"div\\\");addClass(p,\\\"celtra-alert\\\"),p.style.display=\\\"none\\\";var c=o.createElement(\\\"div\\\");addClass(c,\\\"celtra-alert-dark-overlay\\\"),p.appendChild(c),this.preventScroll(p);var h=o.createElement(\\\"div\\\"),m=new CStyler(h);if(addClass(h,\\\"celtra-alert-box\\\"),t.title&&\\\"\\\"!=t.title){var v=o.createElement(\\\"h1\\\");addClass(v,\\\"celtra-alert-title\\\"),v.innerHTML=t.title,h.appendChild(v)}if(t.title&&\\\"\\\"!=t.title&&t.message&&\\\"\\\"!=t.message){var u=o.createElement(\\\"hr\\\");addClass(u,\\\"celtra-alert-dark-line\\\"),h.appendChild(u);var C=o.createElement(\\\"hr\\\");addClass(C,\\\"celtra-alert-light-line\\\"),h.appendChild(C)}if(t.message&&\\\"\\\"!=t.message){var g=o.createElement(\\\"div\\\");addClass(g,\\\"celtra-alert-message\\\"),g.innerHTML=t.message,h.appendChild(g)}if(\\\"prompt\\\"==e){var f=o.createElement(\\\"input\\\");addClass(f,\\\"celtra-alert-input\\\"),f.value=t.defaultValue||\\\"\\\",h.appendChild(f),attach(f,\\\"keypress\\\",l)}var y=o.createElement(\\\"div\\\");if(addClass(y,\\\"celtra-alert-ok\\\"),y.innerHTML=\\\"OK\\\",h.appendChild(y),this.preventScroll(h),once(y,\\\"touchend\\\",i,!1),\\\"prompt\\\"==e&&t.showCancel){addClass(y,\\\"with-cancel\\\");var E=o.createElement(\\\"div\\\");addClass(E,\\\"celtra-alert-cancel\\\"),E.innerHTML=\\\"CANCEL\\\",h.appendChild(E),attach(y,\\\"touchstart\\\",r,!1),once(E,\\\"touchend\\\",d,!1)}p.appendChild(h),o.populate(p,function(){o.show();var e=setInterval(function(){var t=m.getComputedStyle();\\\"absolute\\\"===t.position&&(computedBoxHeight=parseInt(t.height,10)+parseInt(t.paddingTop,10)+parseInt(t.paddingBottom,10),m.marginTop=-computedBoxHeight\\\/2+\\\"px\\\",m.opacity=1,clearInterval(e),e=null)},100)})}.bind(this))},CreativeUnit.prototype.preventScroll=function(e){var t=[\\\"mousewheel\\\",\\\"touchmove\\\"];t.forEach(function(t){attach(e,t,function(e){e.preventDefault()},!1)})},CreativeUnit.prototype.stripHtmlTags=function(e){var t,a=document.createElement(\\\"div\\\");return a.innerHTML=e,t=document.all?a.innerText:a.textContent},CreativeUnit.prototype.preventScroll=function(e){var t=[\\\"mousewheel\\\",\\\"touchmove\\\"];t.forEach(function(t){attach(e,t,function(e){e.preventDefault()},!1)})},CreativeUnit._modalDialogsIdCounter=0;;\\nfunction ScreenObjectContainer(){}inherit(ScreenObjectContainer,View),ScreenObjectContainer.toString=function(){return\\\"[Clazz ScreenObjectContainer]\\\"},ScreenObjectContainer.prototype.toString=function(){return\\\"[ScreenObjectContainer \\\"+this.localId+\\\"]\\\"},ScreenObjectContainer.prototype.appear=function(){ScreenObjectContainer.uber.appear.call(this),ScreenObjectContainer.uber.appearNestedObjects.call(this)},ScreenObjectContainer.prototype.disappear=function(){ScreenObjectContainer.uber.disappearNestedObjects.call(this),ScreenObjectContainer.uber.disappear.call(this)};;\\nfunction Screen(){}inherit(Screen,ScreenObjectContainer),extend(Screen.prototype,TriggerHost),Screen.toString=function(){return\\\"[Clazz Screen]\\\"},Screen.prototype.toString=function(){return\\\"[Screen \\\"+this.localId+\\\" (name=\\\"+this.title+\\\")]\\\"},Object.defineProperty(Screen.prototype,\\\"name\\\",{get:function(){return this.title}}),Object.defineProperty(Screen.prototype,\\\"size\\\",{get:function(){return this.parentUnit.size}}),Screen.prototype.awake=function(){ScreenObjectContainer.uber.awake.apply(this,arguments),this._isRendering=!1,this.appearedAtLeastOnce=!1,this._updateSize=this._updateSize.bind(this),this.handleShake=this.handleShake.bind(this)},Screen.prototype.isLoadingScreen=function(){return this===this.parentUnit.loadingScreen},Screen.prototype.isMasterScreen=function(){return this===this.parentUnit.master},Screen.prototype.isNormalScreen=function(){return!this.isMasterScreen()&&!this.isLoadingScreen()},Screen.prototype.isReadyForEventAttribution=function(){return this.isMasterScreen()?this.parentUnit.screens.some(function(e){return e.appearedAtLeastOnce&&e.isNormalScreen()}):this.appearedAtLeastOnce},Screen.prototype.isMasterScreen=function(){return this===this.parentUnit.master},Screen.prototype.isNormalScreen=function(){return!this.isMasterScreen()&&!this.isLoadingScreen()},Screen.prototype.isFirstScreen=function(){return this.parentUnit.screens[0]===this},Screen.prototype.createNode=function(){Logger(\\\"unit\\\").log(\\\"Starting to load \\\"+this),(!this.isLoadingScreen()&&creative.experiments.get(\\\"TrackingLoadingTimes\\\")||creative.experiments.get(\\\"ConsolidateIframes\\\"))&&this.once(\\\"loaded\\\",creative.aggregatorTracking.trackAggregatorMagicTriplet(\\\"screenLoad\\\",{unitName:this.parentUnit.name,screenRank:this===this.parentUnit.screens[0]?\\\"First\\\":this==this.parentUnit.master?\\\"Master\\\":\\\"Other\\\"},3e4)),this.parentContainer=this.parentUnit;var e=Screen.uber.createNode.call(this);return e.style.overflow=this.showOverflow?\\\"visible\\\":\\\"hidden\\\",this.objects.forEach(function(t){this.incrementLoadingCount(),e.appendChild(t.getNode(this.decrementLoadingCount))},this),this.parentUnit.on(\\\"resize\\\",this._updateSize),e.style.width=e.style.height=\\\"100%\\\",this.parentUnit.inView&&(this.inView=new InViewObject(this,this.parentUnit.inView),this.inViewTriggerSetup()),this._updateSize(),e},Screen.prototype._appear=function(){var e=!this.appearedAtLeastOnce;this.appearedAtLeastOnce=!0;var t=new ActionContext(this,{certainlyNotCausedByUserBehavior:!!this.parentUnit.firstUnit&&e&&(this.isFirstScreen()||this.isMasterScreen())});this!==this.parentUnit.loadingScreen&&this!==this.parentUnit.master&&t.track({name:\\\"screenShown\\\"}),e?this.fireTriggers(\\\"firstAppear\\\",null,function(){defer(function(){this.fireTriggers(\\\"appear\\\",null,noop,t)}.bind(this))}.bind(this),t):this.fireTriggers(\\\"appear\\\",null,noop,t),this.inView&&this.inView.start(),this.hasTriggers(\\\"shake\\\")&&(this.shakeListener||(this.shakeListener=new ShakeListener),this.shakeListener.start(),this.shakeListener.on(\\\"shake\\\",this.handleShake))},Screen.prototype._disappear=function(){this.inView&&this.inView.stop(),this.shakeListener&&(this.shakeListener.off(\\\"shake\\\",this.handleShake),this.shakeListener.stop())},Screen.prototype.handleShake=function(e,t,i){if(this.parentUnit.currentScreen===this){var n=new ActionContext(this,!0);this.fireTriggers(\\\"shake\\\",function(t){var r=e>=t.duration&&t.direction.indexOf(i)>-1;return r&&n.trackUserInteraction(),r},null,n)}},Screen.prototype.enterRenderTree=function(){this._isRendering||(this._isRendering=!0,this.emit(\\\"enteredRenderTree\\\"))},Screen.prototype.exitRenderTree=function(){this._isRendering&&(this._isRendering=!1,this.emit(\\\"exitedRenderTree\\\"))},Screen.prototype._updateSize=function(){this.emit(\\\"resize\\\")},Screen.prototype.finishedLoading=function(){Screen.uber.finishedLoading.call(this),Logger(\\\"unit\\\").log(\\\"Finished loading \\\"+this)},Screen.prototype.triggerBeforeAppear=function(e){var t=new ActionContext(this,{certainlyNotCausedByUserBehavior:!!this.parentUnit.firstUnit&&!this.appearedAtLeastOnce&&(this.isFirstScreen()||this.isMasterScreen())});this.fireTriggers(\\\"beforeAppear\\\",null,e,t)},Screen.prototype.triggerOrientationChange=function(e){this.fireTriggers(\\\"orientationChange\\\",null,e)},Screen.prototype.getMaxZIndex=function(){var e=0;return this.objects.forEach(function(t){t.zIndex>e&&(e=t.zIndex)}),e},Screen.prototype.inViewTriggerSetup=function(){var e=!1;this.triggers.forEach(function(t){(\\\"enterView\\\"===t.type||\\\"leaveView\\\"===t.type)&&(e=!0,this.inViewAreaRatio=0)},this),e&&this.inView.on(\\\"areaInViewRatioChanged\\\",this.triggerInView.bind(this))},Screen.prototype.triggerInView=function(e){var t=new ActionContext(this),i=\\\"enterView\\\",n=this.inViewAreaRatio,r=e,s=function(e,t){return e.parameters.area-t.parameters.area};e<this.inViewAreaRatio&&(i=\\\"leaveView\\\",r=this.inViewAreaRatio,n=e,s=function(e,t){return t.parameters.area-e.parameters.area}),this.fireSortedTriggers(i,function(e){var t=e.area\\\/100;return t>=n&&r>=t},null,t,s),this._getTriggers(i,function(e){var t=e.area\\\/100;return t>=n&&r>=t}),this.inViewAreaRatio=e},Screen.prototype.resetAction=function(e,t,i){var n=this.findAll(),r=n.length;r?n.forEach(function(n){n.resetAction(e,t,function(){--r||i()})}):i()},Screen.prototype.findAll=function(e){function t(n){n.forEach(function(n){(\\\"undefined\\\"==typeof e||n.name==e)&&i.push(n),n.getNestedContainers().forEach(function(e){t(e.objects)})})}var i=[];return t(this.objects),i},Screen.prototype.find=function(e){var t=this.findAll(e);return t.length>0?t[0]:null};;\\nfunction ScreenObject(){}inherit(ScreenObject,View),extend(ScreenObject.prototype,TriggerHost),ScreenObject.requiresRedrawToTriggerAnimationEvents=android(\\\"4.0\\\"),ScreenObject.redrawTriggerInterval=60,ScreenObject.toString=function(){return\\\"[Clazz ScreenObject]\\\"},ScreenObject.prototype.toString=function(){return\\\"[ScreenObject \\\"+this.localId+\\\" (name=\\\"+this.name+\\\")]\\\"},ScreenObject.allowPositioningAndSizingUsingTransforms=!android(\\\"2.2\\\",\\\"2.3\\\")||iframe(),ScreenObject._zIndexOffset=1e4,ScreenObject._resettableProperties=[\\\"position\\\",\\\"size\\\",\\\"rotation\\\",\\\"zIndex\\\",\\\"opacity\\\",\\\"hidden\\\"],ScreenObject._3dTransformBlacklisted=function(t){return\\\/Silk\\\\\\\/\\\\d|Kindle Fire| KFTT | KFOT | KFJWI | KFJWA |\\\\bGT-P3100\\\\b| HTC[ _]One[ _]S \\\/.test(t)||\\\/\\\\bGT-I9300\\\\b\\\/.test(t)&&android(\\\"4.0\\\")}(navigator.userAgent),ScreenObject.supports3d=function(){var t=\\\"WebKitCSSMatrix\\\"in window&&\\\"m11\\\"in new WebKitCSSMatrix||\\\"MSCSSMatrix\\\"in window||\\\/Gecko\\\\\\\/\\\/.test(navigator.userAgent);return t&&!this._3dTransformBlacklisted}(),ScreenObject.requires3dTranslateForPositioning=\\\/GT-I9500|GT-I9505|SM-N900\\\/.test(navigator.userAgent),ScreenObject.dummyImageSpacer=windows(\\\"10\\\"),ScreenObject._toPositionPx=function(t,e,i){var n,r,o,s,a,c,h=i.width,u=i.height,p=e.width,l=e.height;return[\\\"left\\\",\\\"right\\\",\\\"hcenter\\\"].forEach(function(e){t[e]&&(n=e)}),[\\\"bottom\\\",\\\"top\\\",\\\"vcenter\\\"].forEach(function(e){t[e]&&(r=e)}),o=t[n].indexOf(\\\"%\\\")>-1?h*parseFloat(t[n])\\\/100:parseFloat(t[n]),a=\\\"hcenter\\\"===n?h\\\/2+o-p\\\/2:\\\"right\\\"===n?h-o-p:o,s=t[r].indexOf(\\\"%\\\")>-1?u*parseFloat(t[r])\\\/100:parseFloat(t[r]),c=\\\"vcenter\\\"===r?u\\\/2+s-l\\\/2:\\\"bottom\\\"===r?u-s-l:s,{x:Math.round(a),y:Math.round(c)}},ScreenObject._toSizePx=function(t,e){var i=parseFloat(t.width),n=parseFloat(t.height),r=e.width,o=e.height;return t.width.indexOf(\\\"%\\\")>-1&&(i=r*i\\\/100),t.height.indexOf(\\\"%\\\")>-1&&(n=o*n\\\/100),{width:Math.round(i),height:Math.round(n)}},Object.defineProperty(ScreenObject.prototype,\\\"layoutCurrent\\\",{get:function(){return null==this.layoutCurrentIndex?this.layoutSpecificValues[0]:this.layoutSpecificValues[this.layoutCurrentIndex]}}),Object.defineProperty(ScreenObject.prototype,\\\"layoutCurrentIndex\\\",{get:function(){return this.parentUnit.layoutCurrentIndex}}),Object.defineProperties(ScreenObject.prototype,{position:{get:function(){var t=ScreenObject._toPositionPx(this.layoutCurrent.position,this.size,this.parentContainer.size);return Object.defineProperties({},{x:{get:function(){return t.x}.bind(this),set:function(t){this.layoutCurrent.position.left=t+(\\\"number\\\"==typeof t?\\\"px\\\":\\\"\\\")}.bind(this)},y:{get:function(){return t.y}.bind(this),set:function(t){this.layoutCurrent.position.top=t+(\\\"number\\\"==typeof t?\\\"px\\\":\\\"\\\")}.bind(this)}})},set:function(t){this.layoutCurrent.position=t}},originalSize:{get:function(){var t=this.layoutCurrentIndex||0;return ScreenObject._toSizePx(JSON.parse(this.originalLayoutSpecificValues)[t].size,this.parentContainer.size)},set:function(){throw new Error(\\\"originalSize is not settable!\\\")}},size:{get:function(){var t=ScreenObject._toSizePx(this.layoutCurrent.size,this.parentContainer.size);return Object.defineProperties({},{width:{get:function(){return t.width}.bind(this),set:function(t){this.layoutCurrent.size.width=t+(\\\"number\\\"==typeof t?\\\"px\\\":\\\"\\\")}.bind(this)},height:{get:function(){return t.height}.bind(this),set:function(t){this.layoutCurrent.size.height=t+(\\\"number\\\"==typeof t?\\\"px\\\":\\\"\\\")}.bind(this)}})},set:function(t){this.layoutCurrent.size=t}},opacity:{get:function(){return this.layoutCurrent.opacity},set:function(t){this.layoutCurrent.opacity=t}},rotation:{get:function(){return this.layoutCurrent.rotation},set:function(t){this.layoutCurrent.rotation=t}},hidden:{get:function(){return this.layoutCurrent.hidden},set:function(t){this.layoutSpecificValues.forEach(function(e){e.hidden=t})}}}),ScreenObject.getCSSTranslate=function(t,e){return ScreenObject.requires3dTranslateForPositioning?\\\"translate3d(\\\"+t+\\\"px,\\\"+e+\\\"px, 0)\\\":\\\"translate(\\\"+t+\\\"px,\\\"+e+\\\"px)\\\"},ScreenObject.prototype._copyChosenExperimentProperties=function(t){var e=this.experimentSpecificValues[t],i=e[0],n=void 0;this.creativeOptimizationEnabled&&(n=creative.experiments.get(t,[creative.id,this.localId]),i=e.filter(function(t){return String(t.id)===n.chosenVariant}.bind(this))[0]);var r={};return deep(r,i),delete r.id,delete r.label,deep(this,r),n},ScreenObject.prototype._applyExperiments=function(){throw new Error(\\\"_applyExperiments not implemented\\\")},ScreenObject.prototype.awake=function(){ScreenObject.uber.awake.call(this),this.originalLayoutSpecificValues=JSON.stringify(this.layoutSpecificValues),this.originalZIndex=this.zIndex,this.finishAnimation=this.finishAnimation.bind(this),this._refreshDisplayState=this._refreshDisplayState.bind(this)},ScreenObject.prototype.enterRenderTree=function(){this._isRendering||(this._isRendering=!0,this.emit(\\\"enteredRenderTree\\\"))},ScreenObject.prototype.exitRenderTree=function(){this._isRendering&&(this._isRendering=!1,this._isInMouseOver&&trigger(this.node,\\\"mouseout\\\",!1),this.emit(\\\"exitedRenderTree\\\"))},ScreenObject.prototype.appearNestedObjects=function(){this.getNestedContainers().forEach(function(t){t.appearNestedObjects(t.objects)},this)},ScreenObject.prototype.disappearNestedObjects=function(){this.getNestedContainers().forEach(function(t){t.disappearNestedObjects(t.objects)},this)},ScreenObject.prototype.initTemplates=function(){var t=this.templates={},e=this.constructor.templates;if(e){for(var i in e)\\\"string\\\"==typeof e[i]&&(e[i]=tmpl(e[i]));extend(t,e)}},ScreenObject.prototype.tmpl=function(t,e,i){this.templates||this.initTemplates();var n=this.templates[t];return n?n.call(i||this,e):\\\"Missing template: \\\"+t},ScreenObject.prototype.template=function(t,e,i){var n,r=document.createElement(\\\"div\\\");r.innerHTML=this.tmpl(t,e);var o=r.firstChild;if(i)for(;n=r.firstChild;)i.appendChild(n);return o},ScreenObject.prototype.createNode=function(){this.experimentSpecificValues&&this._applyExperiments(),this._isInMouseOver=!1;var t=this,e=ScreenObject.uber.createNode.call(t);e.style.position=\\\"absolute\\\",this.hasTriggers(\\\"tap\\\")&&(addClass(e,\\\"touchable\\\"),attach(e,\\\"tap\\\",function(){var e=new ActionContext(t,!0);e.trackUserInteraction(),t.fireTriggers(\\\"tap\\\",null,null,e)},!1));var i=\\\"mouseOver\\\",n=[];if(this.hasTriggers(i)){var r=this._getTriggers(i,null),o=[],s=noop;r.forEach(function(t){t.parameters&&t.parameters.delay&&o.indexOf(t.parameters.delay)<0&&o.push(t.parameters.delay)}),attach(e,\\\"mouseover\\\",function(){var e=new ActionContext(t,!0),r=function(n){return function(){t.fireTriggers(i,function(t){return t.delay==n},null,e),e.trackUserInteraction()}};t._isInMouseOver=!0,o.forEach(function(t,e){s=r(t),n[e]=setTimeout(s,t)})},!1)}return attach(e,\\\"mouseout\\\",function(){var e=new ActionContext(t,!0);t._isInMouseOver=!1,n.forEach(clearTimeout),n=[],t.hasTriggers(\\\"mouseOut\\\")&&(e.trackUserInteraction(),t.fireTriggers(\\\"mouseOut\\\",null,null,e))},!1),attach(e,\\\"touchstart\\\",function(){if(t.hasTriggers(\\\"touchstart\\\")){var e=new ActionContext(t,!0);e.trackUserInteraction(),t.fireTriggers(\\\"touchstart\\\",null,null,e)}},!1),attach(e,\\\"touchend\\\",function(){if(t.hasTriggers(\\\"touchend\\\")){var e=new ActionContext(t,!0);e.trackUserInteraction(),t.fireTriggers(\\\"touchend\\\",null,null,e)}},!1),this.hasTriggers(\\\"swipe\\\")&&(attach(e,\\\"touchstart\\\",function(t){t.stopPropagation()}),new SwipeListener({target:e,swipe:function(e,i){var n=new ActionContext(t,!0);n.trackUserInteraction(),t.fireTriggers(\\\"swipe\\\",function(t){return e==t.direction&&i>=t.length},null,n)}})),attach(e,\\\"transitionend\\\",function(t){t.stopPropagation()},!1),this.parentContainer.on(\\\"resize\\\",this._refreshDisplayState),this.parentContainer.on(\\\"enteredRenderTree\\\",function(){this.hidden||this.enterRenderTree()}.bind(this)),this.parentContainer.on(\\\"exitedRenderTree\\\",function(){this.hidden||this.exitRenderTree()}.bind(this)),this.parentUnit.on(\\\"layoutChanged\\\",this.handleLayoutChanged.bind(this)),this._applyStyles(e,this._calculateNewStyleAttributes()),e},ScreenObject.prototype.positionUsingTransforms=retFalse,ScreenObject.prototype.sizeUsingTransforms=retFalse,ScreenObject.prototype.isValid=retTrue,ScreenObject.prototype.getNaturalSize=function(){return this.originalSize},ScreenObject.prototype._calculateNewStyleAttributes=function(){var t={transform:\\\"\\\",transformOrigin:\\\"50% 50%\\\"},e=this.getNaturalSize(),i=ScreenObject.allowPositioningAndSizingUsingTransforms;if(this.positionUsingTransforms()&&i){t.left=\\\"0\\\",t.top=\\\"0\\\";var n=this.position.x,r=this.position.y;this.sizeUsingTransforms()&&i&&(n+=Math.round((this.size.width-e.width)\\\/2),r+=Math.round((this.size.height-e.height)\\\/2)),(n||r)&&(t.transform+=ScreenObject.getCSSTranslate(n,r))}else t.left=this.position.x+\\\"px\\\",t.top=this.position.y+\\\"px\\\";if(t.transform+=\\\" rotate(\\\"+this.rotation+\\\"deg) \\\",this.sizeUsingTransforms()&&i){t.width=e.width+\\\"px\\\",t.height=e.height+\\\"px\\\";var o=this.size.width\\\/e.width,s=this.size.height\\\/e.height;t.transform+=\\\" scale(\\\"+o+\\\", \\\"+s+\\\")\\\"}else t.width=this.size.width+\\\"px\\\",t.height=this.size.height+\\\"px\\\";return t.zIndex=this.zIndex,t.opacity=this.opacity,t.display=this.hidden?\\\"none\\\":\\\"block\\\",t},ScreenObject.prototype._applyStyles=function(t,e){e&&Object.keys(e).forEach(function(i){css(t,i,e[i])})},ScreenObject.prototype._refreshDisplayState=function(){if(this.node){var t=this._calculateNewStyleAttributes(),e=!1;for(var i in t){var n=String(t[i]).replace(\\\/^\\\\s*|\\\\s*$\\\/g,\\\"\\\"),r=css(this.node,i),o=null;css(this.node,i)!==n&&(o=n,r!=o&&\\\"zIndex\\\"!=i&&\\\"display\\\"!=i&&(e=!0))}return this._applyStyles(this.node,t),this.redrawLayout(),e}},ScreenObject.prototype.finishAnimation=function(){this.node&&void 0!==css(this.node,\\\"transitionDuration\\\")&&(css(this.node,\\\"transitionDuration\\\",\\\"1ms\\\"),this.node.offsetWidth,css(this.node,\\\"transitionDuration\\\",\\\"\\\"))},ScreenObject.prototype.handleLayoutChanged=function(){this.finishAnimation(),this._refreshDisplayState()},ScreenObject.prototype.redrawLayout=function(){},ScreenObject.prototype.setPosition=function(t,e){this.position.x=t,this.position.y=e,this._refreshDisplayState()},ScreenObject.prototype.setSize=function(t,e){this.size.width=t,this.size.height=e,this._refreshDisplayState()},ScreenObject.prototype.setOpacity=function(t){this.opacity=t,this._refreshDisplayState()},ScreenObject.prototype.animateAction=function(t,e,i){function n(t){return!isNaN(parseFloat(t))&&isFinite(t)}function r(t){var e={position:{},size:{width:null,height:null},zIndex:null,opacity:null,rotation:null};return deep(e,t),e}function o(t,e){var i=e.size,n=t.size;null==i.width&&(i.width=n.width),null==i.height&&(i.height=n.height),t.size=i;var r,o,s=e.position,a=t.position;[\\\"left\\\",\\\"right\\\",\\\"hcenter\\\"].forEach(function(t){s[t]&&(r=t)}),[\\\"bottom\\\",\\\"top\\\",\\\"vcenter\\\"].forEach(function(t){s[t]&&(o=t)}),r&&null!=s[r]||[\\\"left\\\",\\\"right\\\",\\\"hcenter\\\"].forEach(function(t){a[t]&&(s[t]=a[t])}),o&&null!=s[o]||[\\\"bottom\\\",\\\"top\\\",\\\"vcenter\\\"].forEach(function(t){a[t]&&(s[t]=a[t])}),t.position=s,null!=e.rotation&&(t.rotation=e.rotation),null!=e.opacity&&(t.opacity=e.opacity),null!=e.zIndex&&(t.zIndex=e.zIndex)}i=i||noop;var s=\\\"undefined\\\"!=typeof e.duration?e.duration:1e3,a=e.timingFunction||\\\"linear\\\";if(e.layoutSpecificValues)e.layoutSpecificValues.forEach(function(t,e){o(this.layoutSpecificValues[e],r(t))}.bind(this));else{var c=r(e.properties);null!=c.position.x&&(c.position.left=c.position.x+\\\"px\\\"),null!=c.position.y&&(c.position.top=c.position.y+\\\"px\\\"),null!=c.zIndex&&(c.zIndex=c.zIndex+ScreenObject._zIndexOffset,this.zIndex=c.zIndex),null!=c.size.width&&n(c.size.width)&&(c.size.width+=\\\"px\\\"),null!=c.size.height&&n(c.size.height)&&(c.size.height+=\\\"px\\\"),o(this.layoutCurrent,c)}var h=this.node;css(h,\\\"transition\\\",\\\"\\\"),css(h,\\\"transitionProperty\\\",\\\"all\\\"),css(h,\\\"transitionDuration\\\",s+\\\"ms\\\"),css(h,\\\"transitionTimingFunction\\\",a),android(\\\"2\\\")&&css(h,\\\"transitionDelay\\\",\\\"1ms\\\");var u=this._refreshDisplayState();if(s>0&&u){var p=!1,l=function(){p||(p=!0,i())};ScreenObject.requiresRedrawToTriggerAnimationEvents&&!function(){var t=Date.now(),e=t+(Number(s)||0),i=function(){flash(),Date.now()<e&&setTimeout(i,ScreenObject.redrawTriggerInterval)};i()}(),setTimeout(l,(Number(s)||0)+500,!0),once(h,\\\"transitionend\\\",function(){css(h,\\\"transition\\\",\\\"\\\"),setTimeout(l,0,!1)},!1)}else{css(h,\\\"transition\\\",\\\"\\\");var d=s>0?s:0;setTimeout(i,d)}},ScreenObject.prototype.scaleAction=function(t,e,i){var n=e.scale\\\/100,r={width:this.size.width*n,height:this.size.height*n},o={x:this.position.x+this.size.width\\\/2-r.width\\\/2,y:this.position.y+this.size.height\\\/2-r.height\\\/2};this.animateAction(t,{properties:{position:o,size:r,zIndex:this.zIndex},duration:e.duration,timingFunction:e.timingFunction},i)},ScreenObject.prototype.showAction=function(t,e,i){var n=this.hidden;this.hidden=!1,this.node.style.display=\\\"block\\\",android(\\\"2.2\\\",\\\"2.3\\\")&&iframe()&&redrawAndroidIframe(),n&&this.parentScreen._isRendering&&this.enterRenderTree(),n&&!this.isAppearing&&this._shouldAppear&&this.appear(),this.node.offsetWidth,nextFrame(i)},ScreenObject.prototype.hideAction=function(t,e,i){var n=this.hidden;this.hidden=!0,this.node.style.display=\\\"none\\\",android(\\\"2.2\\\",\\\"2.3\\\")&&iframe()&&redrawAndroidIframe(),!n&&this.parentScreen._isRendering&&(this.isAppearing&&(this.disappear(),this._shouldAppear=!0),this.exitRenderTree()),setTimeout(i,0)},ScreenObject.prototype.resetAction=function(t,e,i){this.layoutSpecificValues=JSON.parse(this.originalLayoutSpecificValues),this.zIndex=this.originalZIndex,this.finishAnimation(),this._refreshDisplayState(),defer(i)},ScreenObject.prototype.addStyle=function(t){var e=\\\"#celtra-object-\\\"+this.localId,i=this.node,n=\\\/^:(link|visited|active|hover|focus|first-child|nth-child|nth-last-child|nth-of-type|first-of-type|last-of-type|empty|target|checked|enabled|disabled)\\\/,r=\\\/,\\\\s*\\\/g;this.styleNode||(this.styleNode=document.createElement(\\\"style\\\"),i||(i=document.getElementsByTagName(\\\"head\\\")[0]),i.appendChild(this.styleNode));var o=[];for(var s in t)o.push({selector:s.split(r).map(function(t){return e+(n.test(t)?\\\"\\\":\\\" \\\")+t}).join(\\\",\\\"),attributes:t[s]});var a=this._styleSheetTemplate({rules:o});this.styleNode.textContent+=this._prefixAttributes(a)},ScreenObject.prototype._styleSheetTemplate=tmpl(\\\"<% for(var i = 0; i < rules.length; i++) { %><%= rules[i].selector %> { <%= rules[i].attributes %> }\\\\n<% } %>\\\"),ScreenObject.prototype._prefixAttributes=function(t){return CStyler.initialised||CStyler.init(),t.replace(CStyler._prefixer,function(t,e){return CStyler._prefixedCSSLookup[e]+\\\":\\\"})},ScreenObject.prototype.css=function(t,e){\\\"undefined\\\"==typeof e&&(e=t,t=this.getNode()),Object.keys(e).forEach(function(i){css(t,i,e[i])})},ScreenObject.prototype.getNestedContainers=function(){return[]};;\\nfunction Picture(){}inherit(Picture,ScreenObject),Picture.toString=function(){return\\\"[Clazz Picture]\\\"},Picture.prototype.toString=function(){return\\\"[Picture \\\"+this.localId+\\\"]\\\"},Picture.prototype.awake=function(){Picture.uber.awake.call(this),this._image=null},Picture.prototype.createNode=function(){var t=this,i=Picture.uber.createNode.call(this);return t.preloadImage(t.file,function(e){t._image=e;var r=\\\"\\\",a=\\\"\\\";switch(t.imagePosition&&(r=t.imagePosition.replace(\\\"-\\\",\\\" \\\")),t.fittingSize){case\\\"original\\\":a=\\\"\\\";break;case\\\"fit\\\":a=\\\"contain\\\";break;case\\\"fill\\\":a=\\\"cover\\\";break;case\\\"stretch\\\":default:a=\\\"100% 100%\\\"}var n=document.createElement(\\\"div\\\");if(n.style.cssText=\\\"position: absolute; top: 0; left: 0; width: 100%; height: 100%; background-repeat: no-repeat;\\\",n.style.backgroundImage=\\\"url('\\\"+(e.src||\\\"\\\").replace(\\\"'\\\",\\\"-\\\")+\\\"')\\\",n.style.backgroundPosition=r,n.style.backgroundSize=a,ScreenObject.dummyImageSpacer){var o=document.createElement(\\\"img\\\");o.style.cssText=\\\"position: absolute; top: 0; left: 0; width: 100%; height: 100%;\\\",o.src=\\\"data:image\\\/gif;base64,R0lGODlhAQABAIAAAP\\\/\\\/\\\/wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==\\\",n.appendChild(o)}i.appendChild(n)}),i},Picture.prototype.positionUsingTransforms=function(){return!(ios(\\\"8\\\")||desktop()&&\\\/Mac.*Safari\\\/.test(navigator.userAgent))},Picture.prototype.sizeUsingTransforms=function(){return!(ios(\\\"8\\\")||desktop()&&\\\/Mac.*Safari\\\/.test(navigator.userAgent))},Picture.prototype.getNaturalSize=function(){var t,i,e,r,a=this.file.width,n=this.file.height,o=a\\\/n,c=this.originalSize.width,s=this.originalSize.height,u=c\\\/s,h=2048;return\\\"original\\\"==this.fittingSize?{width:c,height:s}:\\\"stretch\\\"==this.fittingSize?{width:a,height:n}:(t=o>u&&\\\"fit\\\"==this.fittingSize||u>o&&\\\"fill\\\"==this.fittingSize,i=u>o&&\\\"fit\\\"==this.fittingSize||o>u&&\\\"fill\\\"==this.fittingSize,e=a,r=n,t?r=a\\\/c*s:i&&(e=n\\\/s*c),e>h&&(r*=h\\\/e,e=h),r>h&&(e*=h\\\/r,r=h),{width:e,height:r})};;\\nfunction File(t){this.url=t}File.toString=function(){return\\\"[Clazz File]\\\"},File.prototype.toString=function(){return\\\"[File \\\"+this.localId+\\\"(\\\"+this.name+\\\"\\\/\\\"+this.url+\\\")]\\\"},File.prototype.getOriginalUrl=function(){if(this.url){if(-1!==this.url.indexOf(\\\":\\\/\\\/\\\"))return this.url;if(\\\"\\\/\\\"===this.url[0])throw\\\"An absolute path as URL?\\\";return creative.resourceUrl+this.url}if(this.blobHash)return(creative.secure?creative.cachedApiUrl:creative.insecureCachedApiUrl)+\\\"blobs\\\/\\\"+this.blobHash+\\\"\\\/\\\"+encodeURIComponent(this.name);throw\\\"Neither url nor blobHash set?\\\"},File.prototype.getUrl=function(){var t=this.getOriginalUrl();return t},File.prototype.getDataUri=function(t,e){t instanceof Function&&(e=t,t={});var i=this,r=this.getUrl();\\\"undefined\\\"!=typeof this.dataUri?setTimeout(function(){e(i.dataUri)},0):creative.dataURIsEnabled||t.force?creative.batcher.getDataUri(r,e):setTimeout(function(){e(r)},0)},Object.defineProperty(File.prototype,\\\"width\\\",{get:function(){return this.retina?Math.round(this.meta.width\\\/2):this.meta.width}}),Object.defineProperty(File.prototype,\\\"height\\\",{get:function(){return this.retina?Math.round(this.meta.height\\\/2):this.meta.height}});;\\n\";\n            head.appendChild(js);\n        \n        \n\n                \/\/ Run!\n                \/\/ Check for runtimeParams to prevent IE 10 from initializing the creative early when host page is refreshed\n                if (typeof runtimeParams === 'undefined') return;\n\n                Creative.init({\"id\":\"6c3632b2\",\"clazz\":\"Interstitial\",\"supportedDeviceTypes\":[\"Phone\"],\"name\":\"Breitling mobile full page\",\"units\":{\"banner\":{\"localId\":1,\"clazz\":\"CreativeUnit\",\"deviceType\":\"Phone\",\"master\":{\"hiddenInBuilder\":false,\"lockedInBuilder\":false,\"showOverflow\":false,\"title\":\"Master\",\"triggers\":[],\"localId\":2,\"objects\":[],\"guidelines\":[],\"clazz\":\"Screen\",\"reachableScreensLocalIds\":[]},\"screens\":[{\"hiddenInBuilder\":false,\"lockedInBuilder\":false,\"showOverflow\":false,\"title\":\"Start\",\"triggers\":[{\"localId\":21,\"type\":\"appear\",\"onFire\":{\"clazz\":\"ActionInvocation\",\"actionClazz\":\"Kernel\",\"instanceLocalId\":null,\"method\":\"runInSequence\",\"isStatic\":true,\"args\":{\"actions\":[{\"clazz\":\"ActionInvocation\",\"actionClazz\":\"Kernel\",\"instanceLocalId\":null,\"method\":\"runInParallel\",\"isStatic\":true,\"args\":{\"actions\":[{\"clazz\":\"ActionInvocation\",\"localId\":22,\"disabled\":false,\"actionClazz\":\"Kernel\",\"instanceLocalId\":null,\"method\":\"sleep\",\"isStatic\":true,\"args\":{\"duration\":\"7500\"}}]}},{\"clazz\":\"ActionInvocation\",\"actionClazz\":\"Kernel\",\"instanceLocalId\":null,\"method\":\"runInParallel\",\"isStatic\":true,\"args\":{\"actions\":[{\"clazz\":\"ActionInvocation\",\"localId\":23,\"disabled\":false,\"actionClazz\":\"CreativeUnit\",\"instanceLocalId\":1,\"method\":\"dismiss\",\"isStatic\":false,\"args\":{\"animate\":false}}]}}]}},\"isCustom\":false},{\"localId\":24,\"type\":\"orientationChange\",\"onFire\":{\"clazz\":\"ActionInvocation\",\"actionClazz\":\"Kernel\",\"instanceLocalId\":null,\"method\":\"runInSequence\",\"isStatic\":true,\"args\":{\"actions\":[{\"clazz\":\"ActionInvocation\",\"actionClazz\":\"Kernel\",\"instanceLocalId\":null,\"method\":\"runInParallel\",\"isStatic\":true,\"args\":{\"actions\":[{\"clazz\":\"ActionInvocation\",\"localId\":25,\"disabled\":false,\"actionClazz\":\"CreativeUnit\",\"instanceLocalId\":1,\"method\":\"dismiss\",\"isStatic\":false,\"args\":{\"animate\":false}}]}}]}},\"isCustom\":false}],\"localId\":3,\"objects\":[{\"layoutSpecificValues\":[{\"position\":{\"left\":\"-2.22%\",\"top\":\"-1.09%\"},\"size\":{\"width\":\"104.00%\",\"height\":\"104.00%\"},\"rotation\":0,\"opacity\":1,\"hidden\":false},{\"position\":{\"left\":\"-2.22%\",\"top\":\"-1.09%\"},\"size\":{\"width\":\"104.00%\",\"height\":\"104.00%\"},\"rotation\":0,\"opacity\":1,\"hidden\":false}],\"name\":\"navitimer0146-iPhone4-320x480\",\"aspectRatioLocked\":false,\"coordinatesCentered\":false,\"zIndex\":1,\"triggers\":[{\"localId\":26,\"type\":\"tap\",\"parameters\":{},\"onFire\":{\"clazz\":\"ActionInvocation\",\"actionClazz\":\"Kernel\",\"instanceLocalId\":null,\"method\":\"runInSequence\",\"isStatic\":true,\"args\":{\"actions\":[{\"clazz\":\"ActionInvocation\",\"actionClazz\":\"Kernel\",\"instanceLocalId\":null,\"method\":\"runInParallel\",\"isStatic\":true,\"args\":{\"actions\":[{\"clazz\":\"ActionInvocation\",\"localId\":27,\"disabled\":false,\"actionClazz\":\"CreativeUnit\",\"instanceLocalId\":1,\"method\":\"goToURL\",\"isStatic\":false,\"args\":{\"url\":\"http:\\\/\\\/www.breitling.com\\\/campaigns\\\/chronomat-44-john-travolta\\\/?utm_campaign=john-travolta-2015&utm_medium=mobile&utm_content=fs&utm_source=nyt-mobile-media\",\"reportLabel\":\"http:\\\/\\\/www.breitling.com\\\/campaigns\\\/chronomat-44-john-travolta\\\/?utm_campaign=john-travolta-2015&utm_medium=mobile&utm_content=fs&utm_source=nyt-mobile-media\"}}]}}]}},\"isCustom\":false}],\"hiddenInBuilder\":false,\"lockedInBuilder\":false,\"creativeOptimizationEnabled\":false,\"fileLocalId\":41,\"fittingSize\":\"fit\",\"imagePosition\":\"center\",\"clazz\":\"Picture\",\"localId\":18}],\"guidelines\":[],\"clazz\":\"Screen\",\"reachableScreensLocalIds\":[]}],\"backgroundColor\":\"#ffffff\",\"sizing\":\"responsive\",\"orientation\":\"portrait\",\"layouts\":[{\"orientation\":\"portrait\",\"minSize\":{\"width\":0,\"height\":0},\"unitSize\":null,\"designTimeSize\":{\"width\":320,\"height\":460},\"unitAlignment\":{\"horizontal\":\"center\",\"vertical\":\"center\"}},{\"orientation\":\"portrait\",\"minSize\":{\"width\":321,\"height\":461},\"unitSize\":null,\"designTimeSize\":{\"width\":384,\"height\":615},\"unitAlignment\":{\"horizontal\":\"center\",\"vertical\":\"center\"}}],\"layoutsLocked\":{\"portrait\":true,\"landscape\":true,\"independent\":true},\"closeButtonType\":\"image\",\"loadingScreen\":{\"hiddenInBuilder\":false,\"lockedInBuilder\":false,\"showOverflow\":false,\"title\":\"Loading\",\"triggers\":[],\"localId\":8,\"objects\":[],\"guidelines\":[],\"clazz\":\"Screen\",\"loaderVisible\":true,\"loaderColor\":\"#cc00ff\",\"reachableScreensLocalIds\":[3]}}},\"unitSizes\":{\"banner\":null},\"files\":[{\"name\":\"travolta-iPhone-4-640x960_HD.jpg\",\"size\":142984,\"type\":\"image\",\"blobHash\":\"89b419866a77be4c4832211d6160c7c25ca918c65bd590270e316901803b342e\",\"asset\":true,\"retina\":false,\"localId\":41,\"clazz\":\"File\",\"meta\":{\"size\":142984,\"contentType\":\"image\\\/jpeg\",\"width\":640,\"height\":960}}],\"version\":5,\"accountId\":\"7797a89d\",\"brandId\":\"b6691ef1\",\"shareFacebookAppId\":\"534105289948762\",\"videoStreamAlgoVersions\":{\"mpeg1TeaserVideo\":3,\"mpeg1LQVideo\":3,\"mpeg1HQVideo\":3,\"aacAudio\":1,\"mpeg4LQ\":3,\"mpeg4HQ\":3,\"mpeg4HQPlus\":1,\"webmHQ\":1,\"oggLQVideo\":1,\"oggHQVideo\":1}}, runtimeParams, trackingCenter, aggregatorTracking, experiments, adapter, urls, openWebsiteOverrideUrls, getAppOverrideUrls, brand, macros, perf);\n            })();\n        ";
            
            var sc = iframe.contentDocument.createElement('script');
            sc.textContent = "function inherit(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.uber=t.prototype,e.uberConstructor=t,e.prototype.constructor=e}function extend(e,t){for(var n=1;n<arguments.length;n++){var t=arguments[n];if(t instanceof Object)for(var r in t)e[r]=t[r]}return e}function deep(e,t){for(var n in t)e[n]instanceof Object&&t[n]instanceof Object?deep(e[n],t[n]):e[n]=t[n]}function delayed(e,t){var n=null;return function(){n&&clearTimeout(n),n=setTimeout(e,t)}}function throttled(e,t){var n=null;return function(){n||(n=setTimeout(function(){n=null,e()},t))}}function deferred(e,t){return function(){defer(e,t)}}function hasClass(e,t){return-1!=(\" \"+e.className+\" \").indexOf(\" \"+t+\" \")}function addClass(e,t){hasClass(e,t)||(e.className+=\" \"+t)}function removeClass(e,t){e.className=e.className.replace(new RegExp(\"(\\\\s|^)\"+t+\"(\\\\s|$)\"),\" \")}function toggleClass(e,t){hasClass(e,t)?removeClass(e,t):addClass(e,t)}function cssurl(e){return\"url('\"+e.replace(\/'\/g,\"\\\\'\")+\"')\"}function ucfirst(e){return e.charAt(0).toUpperCase()+e.slice(1)}function zeroPad(e,t){null==t&&(t=2);var n=Math.max(0,t-(\"\"+e).length),r=(\"\"+Math.pow(10,n)).slice(1);return r+e}function htmlentitize(e){return e.replace(\/&\/g,\"&amp;\").replace(\/\"\/g,\"&quot;\").replace(\/<\/g,\"&lt;\").replace(\/>\/g,\"&gt;\")}function trim(e){return e.replace(\/^\\s+|\\s+$\/g,\"\")}function to_utf8(e){return unescape(encodeURIComponent(e))}function randInt(){return(Math.random()+\"\").slice(2)}function attach(e,t,n,r){var o=CStyler._eventNames[t.toLowerCase()]||t;e.addEventListener(o,n,!!r)}function detach(e,t,n,r){var o=CStyler._eventNames[t.toLowerCase()]||t;e.removeEventListener(o,n,!!r)}function once(e,t,n,r){attach(e,t,function o(){detach(e,t,o,r),n.apply(this,arguments)},r)}function trigger(e,t,n,r){var o=document.createEvent(\"HTMLEvents\");o.initEvent(t,n,r);var a=\"on\"+ucfirst(t);return\"function\"==typeof e[a]&&e[a](),e.dispatchEvent(o)}function fakeclick(e,t){t=t||window;var n=t.document.createElement(\"a\");n.cssText=\"visibility: hidden\",n.addEventListener(\"click\",function(t){e(),t.preventDefault(),t.stopPropagation(),n.parentNode.removeChild(n)},!0),t.document.body.appendChild(n);var r=document.createEvent(\"MouseEvents\");r.initEvent(\"click\",!0,!0),n.dispatchEvent(r)}function fakeClickAhrefBlank(e,t,n){t=t||noop,n=n||window;var r=n.document.createElement(\"a\");r.style.cssText=\"visibility: hidden\",r.setAttribute(\"href\",e),r.setAttribute(\"target\",\"_blank\"),r.addEventListener(\"click\",function(e){e.stopPropagation(),t(),r.parentNode.removeChild(r)},!0),n.document.body.appendChild(r);var o=n.document.createEvent(\"MouseEvents\");o.initEvent(\"click\",!0,!0),r.dispatchEvent(o)}function noop(){}function nullai(e,t){t()}function retTrue(){return!0}function retFalse(){return!1}function offset(e){var t=e.getBoundingClientRect(),n=e.ownerDocument,r=n.documentElement,o=n.defaultView;return{top:t.top+(o.pageYOffset||r.scrollTop)-(r.clientTop||0),left:t.left+(o.pageXOffset||r.scrollLeft)-(r.clientLeft||0)}}function addCssRule(e,t,n){var r=document.createElement(\"style\");r.textContent=e+\" {\"+t+\"}\",n?n.document.getElementsByTagName(\"head\")[0].appendChild(r):document.getElementsByTagName(\"head\")[0].appendChild(r)}function redrawAndroidIframe(){var e=document.createElement(\"style\");document.body.appendChild(e),document.body.removeChild(e)}function parseQuery(e){var t={};return e=e.replace(\/\\&$\/,\"\").replace(\/\\+\/g,\"%20\"),e.split(\"&\").forEach(function(e){var n=e.split(\"=\").map(decodeURIComponent);t[n[0]]=n[1]}),t}function buildQuery(e){var t=[];for(var n in e)t.push(encodeURIComponent(n)+\"=\"+encodeURIComponent(e[n]));return t.join(\"&\")}function postBlob(e,t){var n=new XMLHttpRequest;n.open(\"POST\",creative.apiUrl+\"blobs?base64=1\"),n.setRequestHeader(\"Content-Type\",\"application\/octet-stream\"),n.onreadystatechange=function(){4===n.readyState&&t(n.responseText,n.status)},n.send(e)}function tmpl(e,t){function n(e){return\"  p.push('\"+e.replace(\/'\/g,\"\\\\'\").split(\/\\r?\\n\/g).join(\"\\\\n');\\n  p.push('\")+\"');\\n\"}if(!e)return\"\";var r;if(-1==e.indexOf(\"<%\"))r=function(){return e};else{var o=e.split(\/<%\\s*|\\s*%>\/g),a=\"var p = []; with(o) {\\n\",c=!1;o.forEach(function(e){c?a+=\"=\"==e[0]?\"  p.push(\"+e.replace(\/^=\\s*|\\s*$\/g,\"\")+\");\\n\":\"  \"+e+\"\\n\":e&&(a+=n(e)),c=!c}),a+='} return p.join(\"\");';try{r=new Function(\"o\",a)}catch(i){var u=new Error(\"Cannot parse template! (see `template` property)\");throw u.template=a,u}}return t?r(t):r}function flash(){var e=document.createElement(\"div\");e.style.background=\"white\",e.style.opacity=.005,e.style.position=\"absolute\",e.style.top=0,e.style.left=0,e.style.width=\"100%\",e.style.height=\"100%\",e.style.zIndex=2147483647,document.body.appendChild(e),setTimeout(function(){e.parentNode.removeChild(e)},0)}function crc32(e){\"use strict\";var t=-1,n=0,r=[0,-227835133,-516198153,324072436,-946170081,904991772,648144872,-724933397,-1965467441,2024987596,1809983544,-1719030981,1296289744,-1087877933,-1401372889,1578318884,274646895,-499825556,-244992104,51262619,-675000208,632279923,922689671,-996891772,-1702387808,1760304291,2075979607,-1982370732,1562183871,-1351185476,-1138329528,1313733451,549293790,-757723683,-1048117719,871202090,-416867903,357341890,102525238,-193467851,-1436232175,1477399826,1264559846,-1187764763,1845379342,-1617575411,-1933233671,2125378298,820201905,-1031222606,-774358714,598981189,-143008082,85089709,373468761,-467063462,-1170599554,1213305469,1526817161,-1452612982,2107672161,-1882520222,-1667500394,1861252501,1098587580,-1290756417,-1606390453,1378610760,-2032039261,1955203488,1742404180,-1783531177,-878557837,969524848,714683780,-655182201,205050476,-28094097,-318528869,526918040,1361435347,-1555146288,-1340167644,1114974503,-1765847604,1691668175,2005155131,-2047885768,-604208612,697762079,986182379,-928222744,476452099,-301099520,-44210700,255256311,1640403810,-1817374623,-2130844779,1922457750,-1503918979,1412925310,1197962378,-1257441399,-350237779,427051182,170179418,-129025959,746937522,-554770511,-843174843,1070968646,1905808397,-2081171698,-1868356358,1657317369,-1241332974,1147748369,1463399397,-1521340186,-79622974,153784257,444234805,-401473738,1021025245,-827320098,-572462294,797665321,-2097792136,1889384571,1674398607,-1851340660,1164749927,-1224265884,-1537745776,1446797203,137323447,-96149324,-384560320,461344835,-810158936,1037989803,781091935,-588970148,-1834419177,1623424788,1939049696,-2114449437,1429367560,-1487280117,-1274471425,1180866812,410100952,-367384613,-112536529,186734380,-538233913,763408580,1053836080,-860110797,-1572096602,1344288421,1131464017,-1323612590,1708204729,-1749376582,-2065018290,1988219213,680717673,-621187478,-911630946,1002577565,-284657034,493091189,238226049,-61306494,-1307217207,1082061258,1395524158,-1589280451,1972364758,-2015074603,-1800104671,1725896226,952904198,-894981883,-638100751,731699698,-11092711,222117402,510512622,-335130899,-1014159676,837199303,582374963,-790768336,68661723,-159632680,-450051796,390545967,1230274059,-1153434360,-1469116676,1510247935,-1899042540,2091215383,1878366691,-1650582816,-741088853,565732008,854102364,-1065151905,340358836,-433916489,-177076669,119113024,1493875044,-1419691417,-1204696685,1247431312,-1634718085,1828433272,2141937292,-1916740209,-483350502,291187481,34330861,-262120466,615137029,-691946490,-980332558,939183345,1776939221,-1685949482,-1999470558,2058945313,-1368168502,1545135305,1330124605,-1121741762,-210866315,17165430,307568514,-532767615,888469610,-962626711,-707819363,665062302,2042050490,-1948470087,-1735637171,1793573966,-1104306011,1279665062,1595330642,-1384295599];for(n=0;n<e.length;n++)t=t>>>8^r[255&(t^e.charCodeAt(n))];return(-1^t)>>>0}function isArray(e){return\"[object Array]\"===Object.prototype.toString.call(e)}function isDefAndNotNull(e){return null!=e}function updateQueryStringParameter(e,t,n){t=encodeURIComponent(t),n=encodeURIComponent(n);var r=new RegExp(\"([?|&])\"+t+\"=.*?(&|$)\",\"i\");return separator=-1!==e.indexOf(\"?\")?\"&\":\"?\",e.match(r)?e.replace(r,\"$1\"+t+\"=\"+n+\"$2\"):e+separator+t+\"=\"+n}function fetchShortenedUrl(e,t,n){function r(t,n){a[e].forEach(function(e){e[t](n)}),delete a[e]}n=n||noop;var o=!1,a=fetchShortenedUrl.inProgress,c=fetchShortenedUrl.cache,i=\"http\"==e.slice(0,4),u=new RegExp(\":\/\/(www.)?\"+fetchShortenedUrl.invalidDomains.map(function(e){return e.replace(\/[^a-zA-Z]\/g,\"\\\\$&\")}).join(\"|\")).test(e);if(!i||u)return void n();if(c[e])return void defer(function(){t(c[e])});if(a[e]||(a[e]=[],o=!0),a[e].push({success:t,error:n}),o){var s=creative.runtimeParams.secure?creative.cachedApiUrl:creative.insecureCachedApiUrl,l=s+\"\/services\/shortener\",d={longUrl:e},p=btoa(to_utf8(e));p=p.replace(\/\\\/\/g,\"$\").replace(\/\\+\/g,\"_\").replace(\/=\/g,\"\");var f={cbName:\"shortener_\"+p};loadJSONP(l+\"?\"+buildQuery(d),f,function(t){c[e]=t.id,r(\"success\",t.id)},function(){r(\"error\")})}}function isMediaPlaying(e){try{return e.currentTime>0&&!e.paused&&!e.ended}catch(t){return!1}}!function(e){try{for(;\"undefined\"!=typeof e.parent.location.href&&e.parent.document!==e.document;)e=e.parent}catch(t){}this.defer=function(t,n){t&&e.setTimeout(t,0|n)}}(window),Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;return function(){return t.apply(e,arguments)}});var getTimestamp=function(){return void 0===window.performance||void 0===window.performance.now?Date.now:window.performance.now.bind(window.performance)}();Date.now||(Date.now=function(){return+new Date}),Array.prototype.waitForEach||Object.defineProperty(Array.prototype,\"waitForEach\",{value:function(e,t,n){var r=this.length;r?this.forEach(function(o,a,c){var i=!1;e.call(n,o,function(){if(i)throw\"Called `done` multiple times for element \"+a;i=!0,--r||t()},a,c)},n):t()}}),function(e){e.loadJS=function(t,n,r,o){var a=e.loadJS.externals,c={success:n||noop,error:r||noop};if(t in a&&!o)a[t].loaded?setTimeout(c.success,0):a[t].cbs.push(c);else{a[t]={cbs:[c]};var i=document.createElement(\"script\");i.type=\"text\/javascript\",i.onload=function(){a[t].loaded=!0,a[t].cbs.forEach(function(e){e.success()}),a[t].cbs=[]},i.onerror=function(){a[t].cbs.forEach(function(e){e.error()}),a[t].cbs=[],delete a[t]},i.src=t,e.loadJS.appendToRoot(i)}},e.loadJS.externals={},e.loadJS.appendToRoot=function(e){return document.querySelector(\"head\").appendChild(e)},e.loadJSONP=function(t,n,r,o){\"function\"==typeof n&&(o=r,r=n,n={});var a=n.cbName||\"__jsonp\"+randInt();t+=(-1==t.indexOf(\"?\")?\"?\":\"&\")+(n.paramName||\"jsonp\")+\"=\"+a,e[a]=function(t){r(t),delete e[a]},loadJS(t,noop,o,!0)}}(window),\"undefined\"==typeof Function.prototype.name&&!function(){var e=\/^function\\s+(\\w+?)\\s*?\\(\/;Object.defineProperty(Function.prototype,\"name\",{get:function(){var t=this.constructor.prototype.toString.call(this);return e.test(t)?t.match(e)[1]:\"\"}})}(),fetchShortenedUrl.cache={},fetchShortenedUrl.inProgress={},fetchShortenedUrl.invalidDomains=[\"bit.ly\",\"goo.gl\"];;\nfunction CPoint(t,o){this.x=1*t||0,this.y=1*o||0}function CRect(t,o,i,e){this.left=1*t||0,this.top=1*o||0,this.width=1*i||0,this.height=1*e||0}!function(){CPoint.offset=function(t){var o=offset(t);return new CPoint(o.left,o.top)};var t=null;try{t=new WebKitPoint(0,0)}catch(o){}CPoint.convertPointFromNodeToPage=null,CPoint.convertPointFromPageToNode=null,t?(CPoint.convertPointFromNodeToPage=function(o,i){return i?(t.x=i.x,t.y=i.y):(t.x=0,t.y=0),i=webkitConvertPointFromNodeToPage(o,t),i?new CPoint(i.x,i.y):null},CPoint.convertPointFromPageToNode=function(o,i){return i?(t.x=i.x,t.y=i.y):(t.x=0,t.y=0),i=webkitConvertPointFromPageToNode(o,t),i?new CPoint(i.x,i.y):null}):(CPoint.convertPointFromNodeToPage=function(t,o){if(!t||\"undefined\"!=typeof t.x)return null;var i=CPoint.offset(t);return new CPoint((o?o.x:0)+(i?i.x:0),(o?o.y:0)+(i?i.y:0))},CPoint.convertPointFromPageToNode=function(t,o){if(!t||\"undefined\"!=typeof t.x)return null;var i=CPoint.offset(t);return new CPoint((o?o.x:0)-(i?i.x:0),(o?o.y:0)-(i?i.y:0))})}(),CPoint.sample=function(t,o,i){for(var e=Math.floor(Math.sqrt(t.width*o\/t.height)),n=Math.floor(Math.sqrt(t.height*o\/t.width)),r=t.width\/e,h=t.height\/n,s=0;n>s;s++)for(var f=0;e>f;f++)i((f+.5)*r+t.left,(s+.5)*h+t.top)},CPoint.epsilon=function(t,o,i){return Math.abs(t-o)<i},CPoint.prototype.equals=function(t){return CPoint.epsilon(this.x,t.x,.25)&&CPoint.epsilon(this.y,t.y,.25)},CRect.ZERO=new CRect,Object.defineProperties(CRect.prototype,{right:{get:function(){return this.left+this.width},set:function(t){var o=this.left;t<this.left&&(this.left=t,t=o),this.width=t-this.left},enumerable:!0},bottom:{get:function(){return this.top+this.height},set:function(t){var o=this.top;t<this.top&&(this.top=t,t=o),this.height=t-this.top},enumerable:!0},tl:{get:function(){return new CPoint(this.left,this.top)}},tr:{get:function(){return new CPoint(this.right,this.top)}},bl:{get:function(){return new CPoint(this.left,this.bottom)}},br:{get:function(){return new CPoint(this.right,this.bottom)}},area:{get:function(){return this.width*this.height}}}),CRect.adopt=function(t){return new CRect(t.left,t.top,t.width,t.height)},CRect.prototype.zero=function(){return 0===this.area},CRect.prototype.intersect=function(t){if(!t)return!1;var o=Math.max(this.left,t.left),i=Math.max(this.top,t.top),e=Math.min(this.right,t.right),n=Math.min(this.bottom,t.bottom),r=e-o,h=n-i;return 0>r||0>h?CRect.ZERO:new CRect(o,i,r,h)},CRect.prototype.relativeTo=function(t){return new CRect(this.left-t.left,this.top-t.top,this.width,this.height)},CRect.prototype.contains=function(t){return t instanceof CPoint?t.x>=this.left&&t.x<=this.right&&t.y>=this.top&&t.y<=this.bottom:t instanceof CRect?t.left>=this.left&&t.right<=this.right&&t.top>=this.top&&t.bottom<=this.bottom:void 0},CRect.prototype.map=function(t,o){var i=o.width\/t.width,e=o.height\/t.height;return new CRect((this.left-t.left)*i+o.left,(this.top-t.top)*e+o.top,this.width*i,this.height*e)},CRect.prototype.equals=function(t){return t&&this.left==t.left&&this.top==t.top&&this.right==t.right&&this.bottom==t.bottom},CRect.prototype.toString=function(){return\"CRect: \"+JSON.stringify(this)};;\nwindow.DeviceInfo={},function(e){function n(e){this.os=new t(e.osName,e.osVersion),this.browser=new r(e.browserName,e.browserVersion),this.engine=new i(e.browserRenderingEngine,e.browserRenderingEngineVersion),this.deviceType=new o(e.deviceType,e.mobileDevice),this.vendor=e.vendor||\"\",this.model=e.model||\"\"}function t(e,n){this.name=e||\"\",this.version=n||\"0\"}function r(e,n){this.name=e||\"\",this.version=n||\"0\"}function i(e,n){this.name=e||\"\",this.version=n||\"0\"}function o(e,n){this.hardwareType=e||\"\",this.mobile=n||\"\"}function s(e,n){function t(e){return parseInt(e.replace(\/\\D\/g,\"\"),10)}function r(e,n){var t;for(t=0;t<Math.min(e.length,n.length);t++){if(e[t]<n[t])return-1;if(e[t]>n[t])return 1}return 0}var i,o,s;if(!e)return!0;if(0===n.length)o=null,s=null;else if(1===n.length)o=n[0],s=n[0];else{if(2!==n.length)throw\"Invalid number of arguments\";o=n[0],s=n[1]}for(e=e.split(\".\").map(t),o=o?o.split(\".\").map(t):[],s=s?s.split(\".\").map(t):[],i=Math.max(o.length,s.length)-e.length;i>=0;i--)e.push(0);return!(-1===r(e,o)||1===r(e,s))}function u(e,n){if(-1===e.indexOf(\"Playstation\")){var t=e.match(\/\\bSilk\\\/([0-9._-]+)\\b\/);t&&(n.browserName=\"Amazon Silk\",n.browserVersion=t[1])}n.browserName&&n.browserVersion&&(0===n.browserName.indexOf(\"Chrome\")&&s(n.browserVersion,[\"28\",null])||0===n.browserName.indexOf(\"Opera\")&&s(n.browserVersion,[\"15\",null]))&&(n.browserRenderingEngine=\"Blink\"),n.browserRenderingEngineVersion||(n.browserRenderingEngineVersion=function(){var n=e.match(\/AppleWebKit\\\/*([0-9.]+)\/i);return n?n[1]:(n=e.match(\/Gecko\\\/*([0-9.]+)\/))?n[1]:(n=e.match(\/Trident\\\/([0-9.]+)\/))?n[1]:(n=e.match(\/Presto\\\/([0-9.]+)\/),n?n[1]:\"\")}())}t.prototype.android=function(){return\"Android\"===this.name&&s(this.version,arguments)},t.prototype.osx=function(){return\"OSX\"===this.name&&s(this.version,arguments)},t.prototype.ios=function(){return\"IOS\"===this.name&&s(this.version,arguments)},t.prototype.windows=function(){return\"Windows\"===this.name&&s(this.version,arguments)},t.prototype.linux=function(){return\"Linux\"===this.name},r.prototype.safari=function(){return\"Safari\"===this.name&&s(this.version,arguments)},r.prototype.chrome=function(){return 0===this.name.indexOf(\"Chrome\")&&s(this.version,arguments)},r.prototype.ie=function(){return 0===this.name.indexOf(\"Internet Explorer\")&&s(this.version,arguments)},r.prototype.android=function(){return\"Android Browser\"===this.name&&s(this.version,arguments)},r.prototype.opera=function(){return 0===this.name.indexOf(\"Opera\")&&s(this.version,arguments)},r.prototype.silk=function(){return\"Amazon Silk\"===this.name&&s(this.version,arguments)},r.prototype.firefox=function(){return\"Firefox\"===this.name&&s(this.version,arguments)},i.prototype.webkit=function(){return\"WebKit\"===this.name&&s(this.version,arguments)},i.prototype.gecko=function(){return\"Gecko\"===this.name&&s(this.version,arguments)},i.prototype.trident=function(){return\"Trident\"===this.name&&s(this.version,arguments)},i.prototype.presto=function(){return\"Presto\"===this.name&&s(this.version,arguments)},i.prototype.blink=function(){return\"Blink\"===this.name&&s(this.version,arguments)},o.prototype.phone=function(){return\"Phone\"===this.hardwareType},o.prototype.tablet=function(){return\"Tablet\"===this.hardwareType},o.prototype.desktop=function(){return\"Desktop\"===this.hardwareType},o.prototype.mobileDevice=function(){return\"1\"===this.mobile},e.DeviceInfo.create=function(t,r){return t=t||e.navigator.userAgent,r=r||{},u(t,r),new n(r)}}(window);;\nwindow.deviceInfo=DeviceInfo.create(window.navigator.userAgent,window.celtraDeviceInfoRuntimeParams);;\n!function(n){function t(){var n=d().match(\/iP(ad|hone|od).*OS ([0-9_]+)\/);return!!n&&c(n[2].replace(\/_\/g,\".\"),arguments)}function e(){var n=d().match(\/Android ([0-9.]+)\/);return!!n&&c(n[1],arguments)}function r(){var n=d().match(\/Windows Phone ([0-9.]+)\/);return!!n&&c(n[1],arguments)}function i(){var n=d().match(\/AppleWebKit\\\/*([0-9.]+)\/i);return!!n&&c(n[1],arguments)}function a(){var n=d().match(\/Gecko\\\/*([0-9.]+)\/i);return!!n&&c(n[1],arguments)}function u(){var n=d().match(\/MSIE ([0-9]{1,}[.0-9]{0,})|Trident.* rv:([0-9]{1,}[.0-9]{0,})\/i);return!!n&&c(n[1]||n[2],arguments)}function o(){var n=d().match(\/Silk\\\/([0-9.]+)\/);return!!n&&c(n[1],arguments)}function f(){var n=d().toLowerCase();return\/kftt|kfot|kfjwi|kfjwa|kfso|kfth|kfapwi|kfthwi|kfsowi|kfthwa|kfapwa|kfap|sd4930ur\/.test(n)?c(\"2\",arguments):\/kindle fire\/.test(n)&&e(\"2\")?c(\"1\",arguments):!1}function s(){return!h()&&(n.document.body.offsetWidth,n.Math.min(innerWidth,innerHeight)>550)||\/iPad\/.test(d())}function h(){return!(e()||t()||r())}function c(t,e){function r(n){return parseInt(n.replace(\/\\D\/g,\"\"),10)}function i(t,e){for(var r=0;r<n.Math.min(t.length,e.length);r++){if(t[r]<e[r])return-1;if(t[r]>e[r])return 1}return 0}var a,u,o;if(!t)return!0;if(0===e.length)u=null,o=null;else if(1===e.length)u=e[0],o=e[0];else{if(2!==e.length)throw\"Invalid number of arguments\";u=e[0],o=e[1]}t=t.split(\".\").map(r),u=u?u.split(\".\").map(r):[],o=o?o.split(\".\").map(r):[];for(var a=n.Math.max(u.length,o.length)-t.length;a>=0;a--)t.push(0);return!(-1===i(t,u)||1===i(t,o))}function l(){return n.top!==n}n.ios=t,n.android=e,n.webkit=i,n.windowsPhone=r,n.gecko=a,n.windows=u,n.kindleSilk=o,n.kindle=f,n.iframe=l,n.desktop=h,n.tablet=s;var d=function(){return\"undefined\"!=typeof n.userAgentOverride?n.userAgentOverride:n.navigator.userAgent}}(window);;\n!function(n){function t(){var t=n;try{for(;\"undefined\"!=typeof t.parent.location.href&&t.parent.document!==t.document;)t=t.parent}catch(e){}return t}function e(){return c.getComputedStyle(c.document.body,null)}function i(n,t,e){if(!n)throw new Error(\"No element specified!\");if(a(t)){if(!(t in n.style)&&i.BREAK_ON_ERROR)throw new Error(\"Invalid CSS attribute \"+t);if(\"undefined\"==typeof e)return n.style[t];n.style[t]=e}else{if(-1==y.indexOf(t)&&o(t),\"undefined\"==typeof e)return n.style[p[t]];n.style[p[t]]=e}}function r(n,t){if(!n)throw new Error(\"No element specified!\");var e=n.ownerDocument.defaultView.getComputedStyle(n,null);if(E&&R.indexOf(t)>-1&&(t=\"webkit\"+f(t)),!e||\"none\"==e.display||!u())return null;if(!(t in e)&&i.BREAK_ON_ERROR)throw new Error(\"Invalid CSS attribute \"+t);return a(t)?e[t]:(-1==y.indexOf(t)&&o(t),e[p[t]])}function o(n){v=v||e();var t=l(w+f(n));if(E&&R.indexOf(n)>-1)p[n]=t;else if(v&&n in v)p[n]=n;else if(v&&t in v)p[n]=t;else if(i.BREAK_ON_ERROR)throw new Error(\"Invalid CSS attribute \"+n+' or iframe still display \"none\" in FF');y.push(n)}function a(n){return m.test(n)}function u(){if(n===c)return!0;var t=n.frameElement.ownerDocument.defaultView.getComputedStyle(n.frameElement,null);return t&&\"none\"!=t.display}function f(n){return n+=\"\",n?n[0].toUpperCase()+n.slice(1):\"\"}function l(n){return n+=\"\",n?n[0].toLowerCase()+n.slice(1):\"\"}var s=n.navigator.userAgent,c=t(),d=\/rv:.*Gecko\\\/\/.test(s),m=\/^-?([mM]oz|[wW]eb[kK]it|[mM]s)-?\/,p={},y=[],w=function(){return\/WebKit\/.test(s)?\"webkit\":\/MSIE|Trident\\\/\/.test(s)?\"ms\":d?\"Moz\":\"\"}(),E=function(){var n=s.match(\/AppleWebKit\\\/(\\d+)\/);return n&&~~n[1]<540}(),R=[\"transform\",\"transform-origin\",\"transform-style\",\"transition\",\"transition-delay\",\"transition-duration\",\"transition-property\",\"transition-timing-function\",\"animation\",\"animation-delay\",\"animation-direction\",\"animation-duration\",\"animation-fill-mode\",\"animation-iteration-count\",\"animation-name\",\"animation-play-state\",\"animation-timing-function\",\"appearance\",\"backface-visibility\",\"perspective\",\"perspective-origin\"],v=e();i.BREAK_ON_ERROR=!1,n.css=i,n.computedCSS=r}(window);;\nfunction PerformanceTracker(t,e){this.trackingCenter=t,this.trackingEnabled=e.get(\"PerformanceTiming\"),this._id=0}PerformanceTracker.prototype.start=function(t,e){var r=this,i={name:t,type:\"interval\",id:this._id++,startTime:Date.now(),args:e||[]};return i.end=function(){this.endTime=Date.now();var t=this.endTime-this.startTime;Logger(\"perf\").log(this.name+\"(#\"+this.id+\") \"+t),r.collect(this)}.bind(i),i},PerformanceTracker.prototype.collect=function(t){if(this.trackingEnabled){var e={name:\"perfTiming\",section:t.name,type:t.type,perfId:t.id,startTime:t.startTime,endTime:t.endTime,args:t.args};this.trackingCenter.trackNoLaterThan(e,1e3)}},PerformanceTracker.prototype.mark=function(t){var e=this.start(t);e.type=\"mark\",e.endTime=e.startTime,this.collect(e)},PerformanceTracker.prototype.marks=function(t){return function(){this.mark(t)}.bind(this)};;\nvar EventEmitter={emit:function(t){var e=this._listeners;if(e&&e[t]){var n=[].slice.call(arguments,1);e[t].forEach(function(t){t.apply(window,n)})}},emits:function(){var t=arguments;return function(){this.emit.apply(this,t)}.bind(this)},addListener:function(t,e){var n=this._listeners;n||(n=this._listeners={}),n[t]||(n[t]=[]),n[t].push(e)},removeListener:function(t,e){var n=this._listeners;n&&n[t]&&(n[t]=n[t].filter(function(t){return t!==e}))},once:function(t,e){var n=this;n.on(t,function i(){n.off(t,i),e.apply(this,arguments)})},onAll:function(t,e){t.split(\" \").waitForEach(function(t,e){this.once(t,e)},e,this)}};EventEmitter.on=EventEmitter.addListener,EventEmitter.off=EventEmitter.removeListener,EventEmitter.addEventListener=EventEmitter.addListener,EventEmitter.removeEventListener=EventEmitter.removeListener;;\nfunction TaskScheduler(){this.hub=extend({},EventEmitter)}TaskScheduler.prototype.when=function(){var t,e=this;return t=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments),{run:function(n){t.waitForEach(function(t,n){e.hub.once(t,n)},n)}}},TaskScheduler.prototype.notify=function(t){this.paused||this.hub.emit(t)},TaskScheduler.prototype.notifies=function(t){return function(){this.notify(t)}.bind(this)},TaskScheduler.prototype.pause=function(){this._paused=!0};;\nfunction TrackingCenter(e,t,n){this._sessionId=e,this._trackingUrl=t,this._trackers=n,this.windowForPixels=window,this._instantiation=randInt(),this._eventIndex=0,this._pendingEvents=[],this._eventsInProgress=[],this._pendingPixels=[],this._waitingTrackingRequests=0,this._decrementWaiting=this._decrementWaiting.bind(this),this.flush=this.flush.bind(this)}extend(TrackingCenter.prototype,EventEmitter),TrackingCenter.eventCountLimit=500,TrackingCenter.prototype.isTrackingLimitReached=function(){return this._eventIndex>=TrackingCenter.eventCountLimit},TrackingCenter.prototype._createTrackingEvent=function(e){return e=JSON.parse(JSON.stringify(e)),extend({sessionId:this._sessionId,instantiation:this._instantiation,index:this._eventIndex++,clientTimestamp:new Date\/1e3},e)},TrackingCenter.prototype._addEventPendingToQueues=function(e){var t=this._resolvePixelsAndEventsForQueue([e]);this.isTrackingLimitReached()&&t.events.push(this._createTrackingEvent({name:\"eventLimitReached\"})),t.events.forEach(function(e){Logger(\"tracking\").log(\"Queuing event \"+JSON.stringify(e))}),t.pixels.forEach(function(e){Logger(\"tracking\").log(\"Queuing pixel \"+JSON.stringify(e))}),this._pendingEvents=this._pendingEvents.concat(t.events),this._pendingPixels=this._pendingPixels.concat(t.pixels)},TrackingCenter.prototype.track=function(e,t){this.trackNoLaterThan(e,0,t)},TrackingCenter.prototype.trackNoLaterThan=function(e,t,n){function i(e){return parseInt(e,10)===e}if(this.isTrackingLimitReached())return void console.warn(\"Tracking limit reached: 500 events.\");i(t)?0>t&&(t=0):t=1500,n=n||noop;var r=null;this._addEventPendingToQueues(e),this.once(\"trackingQueueEmptied\",function(){r&&(clearTimeout(r),r=null),n()}),r=setTimeout(this.flush,t)},TrackingCenter.prototype._resolvePixelsAndEventsForQueue=function(e){function t(e,i,r){if(0==e.length)return{events:i,pixels:r};var s=e[0],c=n._createTrackingEvent(s),o=n._trackers.urlsAndEventsFor(c);return t(e.slice(1).concat(o.events||[]),i.concat(c),r.concat(o.urls||[]))}var n=this;return t(e,[],[])},TrackingCenter.prototype._firePixel=function(e,t){var n=this.windowForPixels.document.createElement(\"img\");n.onload=n.onerror=t,n.src=e},TrackingCenter.prototype._decrementWaiting=function(){this._waitingTrackingRequests>0&&(--this._waitingTrackingRequests||this.emit(\"trackingQueueEmptied\"))},TrackingCenter.prototype.flush=function(e){var t=this;e=e||noop;var n=t._pendingEvents;t._pendingEvents=[],t._eventsInProgress=t._eventsInProgress.concat(n),n.length&&(t._waitingTrackingRequests++,t._firePixel(t._getTrackerPixelUrl(n),function(){t._eventsInProgress=t._eventsInProgress.filter(function(e){return-1===n.indexOf(e)}),t._decrementWaiting()})),t._pendingPixels.forEach(function(e){t._waitingTrackingRequests++,t._firePixel(e,t._decrementWaiting)}),t._pendingPixels=[],0===t._waitingTrackingRequests?this.windowForPixels.setTimeout(e,0):this.once(\"trackingQueueEmptied\",e)},TrackingCenter.prototype._getTrackerUrl=function(e){return base64json=this.windowForPixels.btoa(to_utf8(JSON.stringify(e))),this._trackingUrl+\"json\/\"+base64json+\"?crc32c=\"+crc32(base64json)},TrackingCenter.prototype._getTrackerPixelUrl=function(e){return this._getTrackerUrl({events:e})},TrackingCenter.prototype._getTrackerRedirectUrl=function(e,t,n,i){i=i||{};var r={events:e,pixels:t,requestedCookies:i.cookies||[],dest:n};return i.jsRedirectFunc&&(r.redirectFunc=i.jsRedirectFunc),this._getTrackerUrl(r)},TrackingCenter.prototype.wrapRedirectPageUrl=function(e,t){var n=this._getTrackerRedirectUrl(this._pendingEvents.concat(this._eventsInProgress),this._pendingPixels,e,t);return this._pendingEvents=[],this._pendingPixels=[],n},TrackingCenter.prototype.wrapTentativeRedirectPageUrl=function(e,t,n){var i=this._resolvePixelsAndEventsForQueue(t);return this._getTrackerRedirectUrl(this._pendingEvents.concat(i.events,this._eventsInProgress),this._pendingPixels.concat(i.pixels),e,n)};;\nfunction Experiments(t,n){this._instances={};for(var e in t)this._instances[e]=new Experiment(e,t[e],n)}function Experiment(t,n,e){this.key=t,this.chosenVariant=n,this._trackingCenter=e,this._variantExposedTracked=!1,this._variantSucceededTracked=!1,this.trackExposure=function(){this._track(\"variantExposed\")}.bind(this),this.trackSuccess=function(){this._track(\"variantSucceeded\")}.bind(this)}Experiments.prototype.get=function(t,n){var e=[t].concat(n||[]).map(encodeURIComponent).join(\"\/\");return this._instances[e]||null},Experiment.prototype._track=function(t){this[\"_\"+t+\"Tracked\"]||(this[\"_\"+t+\"Tracked\"]=!0,this._trackingCenter.track({name:t,experimentKey:this.key,variant:this.chosenVariant}))};;\nfunction TouchEventSimulator(t){this.el=t,this.doc=t.ownerDocument?t.ownerDocument:t,this.win=this.doc.defaultView,this.touch=null,this._initialised=!1,this._firstEventFired=!1,this.handleFirstEvent=this.handleFirstEvent.bind(this),this.handleMouseDown=this.handleMouseDown.bind(this),this.handleMouseMove=this.handleMouseMove.bind(this),this.handleMouseUp=this.handleMouseUp.bind(this),this.handleMouseOut=this.handleMouseOut.bind(this),this.handlePointerDown=this.handlePointerDown.bind(this),this.handlePointerMove=this.handlePointerMove.bind(this),this.handlePointerUp=this.handlePointerUp.bind(this),this.handlePointerCancel=this.handlePointerCancel.bind(this),this.captureBubbleEvents=this.captureBubbleEvents.bind(this)}TouchEventSimulator.mode=null,TouchEventSimulator.prototype.start=function(){return this._initialised?void Logger(\"TouchEventSimulator\").warn(\"Touch event simulator already initialised!\"):(Logger(\"TouchEventSimulator\").log(\"Enabling touch event simulation\"),this.doc.defaultView.msPointerEnabled?this.startPointers():this.startMouse(),this.el.addEventListener(\"touchstart\",this.captureBubbleEvents,!1),this.el.addEventListener(\"touchmove\",this.captureBubbleEvents,!1),this.el.addEventListener(\"touchend\",this.captureBubbleEvents,!1),this.el.addEventListener(\"touchcancel\",this.captureBubbleEvents,!1),void this.el.addEventListener(\"tap\",this.captureBubbleEvents,!1))},TouchEventSimulator.prototype.stop=function(){return this._initialised?(Logger(\"TouchEventSimulator\").log(\"Disabling touch event simulation\"),this.doc.defaultView.msPointerEnabled?this.stopPointers():this.stopMouse(),this.el.removeEventListener(\"touchstart\",this.captureBubbleEvents,!1),this.el.removeEventListener(\"touchmove\",this.captureBubbleEvents,!1),this.el.removeEventListener(\"touchend\",this.captureBubbleEvents,!1),this.el.removeEventListener(\"touchcancel\",this.captureBubbleEvents,!1),void this.el.removeEventListener(\"tap\",this.captureBubbleEvents,!1)):void Logger(\"TouchEventSimulator\").warn(\"Touch event simulator not running!\")},TouchEventSimulator.prototype.captureBubbleEvents=function(t){t.stopPropagation(),t.preventDefault()},TouchEventSimulator.prototype.startMouse=function(){this.el.addEventListener(\"mousedown\",this.handleMouseDown,!0),this.el.addEventListener(\"mousemove\",this.handleMouseMove,!0),this.el.addEventListener(\"mouseup\",this.handleMouseUp,!0),this.el.addEventListener(\"mouseout\",this.handleMouseOut,!0),this.el.addEventListener(\"dragstart\",this.handleDragStart,!0),this._initialised=!0},TouchEventSimulator.prototype.stopMouse=function(){this.el.removeEventListener(\"mousedown\",this.handleMouseDown,!0),this.el.removeEventListener(\"mousemove\",this.handleMouseMove,!0),this.el.removeEventListener(\"mouseup\",this.handleMouseUp,!0),this.el.removeEventListener(\"mouseout\",this.handleMouseOut,!0),this.el.removeEventListener(\"dragstart\",this.handleDragStart,!0),this._initialised=!1},TouchEventSimulator.prototype.startPointers=function(){this.el.addEventListener(\"MSPointerDown\",this.handlePointerDown,!0),this.el.addEventListener(\"MSPointerMove\",this.handlePointerMove,!0),this.el.addEventListener(\"MSPointerUp\",this.handlePointerUp,!0),this.el.addEventListener(\"MSPointerCancel\",this.handlePointerCancel,!0),this._initialised=!0},TouchEventSimulator.prototype.stopPointers=function(){this.el.removeEventListener(\"MSPointerDown\",this.handlePointerDown,!0),this.el.removeEventListener(\"MSPointerMove\",this.handlePointerMove,!0),this.el.removeEventListener(\"MSPointerUp\",this.handlePointerUp,!0),this.el.removeEventListener(\"MSPointerCancel\",this.handlePointerCancel,!0),this._initialised=!1},TouchEventSimulator.prototype.init=function(){this.doc.defaultView.navigator.msPointerEnabled?this.start():(this.el.addEventListener(\"touchstart\",this.handleFirstEvent,!0),this.el.addEventListener(\"mousedown\",this.handleFirstEvent,!0))},TouchEventSimulator.prototype.updateTouchCoordinates=function(t){this.touch.screenX=t.screenX,this.touch.screenY=t.screenY,this.touch.pageX=t.pageX,this.touch.pageY=t.pageY,this.touch.clientX=t.clientX,this.touch.clientY=t.clientY},TouchEventSimulator.prototype.ignorables=[\"select\",\"input\",\"textarea\"],TouchEventSimulator.prototype.isFormElement=function(t){return this.ignorables.indexOf(t.nodeName.toLowerCase())>-1},TouchEventSimulator.prototype.isIgnorable=function(t){for(var e=t;e&&e instanceof HTMLElement;e=e.parentNode)if(hasClass(e,\"ignore-toucheventsimulator\"))return!0;return!1},TouchEventSimulator.prototype.handleFirstEvent=function(t){this._firstEventFired||(this._firstEventFired=!0,this.el.removeEventListener(\"touchstart\",this.handleFirstEvent,!0),this.el.removeEventListener(\"mousedown\",this.handleFirstEvent,!0),\"touch\"!=TouchEventSimulator.mode&&\"mousedown\"==t.type?(TouchEventSimulator.mode=\"mouse\",this.start(),this.handleMouseDown(t)):TouchEventSimulator.mode=\"touch\")},TouchEventSimulator.prototype.handleMouseDown=function(t){0!=t.button||this.isIgnorable(t.target)||(this.touch={identifier:0,target:t.target},this.updateTouchCoordinates(t),t.stopPropagation(),this.isFormElement(t.target)||t.preventDefault(),this.fireTouchEvent(\"touchstart\",t))},TouchEventSimulator.prototype.handleMouseMove=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),t.stopPropagation(),t.preventDefault(),this.fireTouchEvent(\"touchmove\",t))},TouchEventSimulator.prototype.handleMouseUp=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),t.stopPropagation(),t.preventDefault(),this.fireTouchEvent(\"touchend\",t),this.touch=null)},TouchEventSimulator.prototype.handleMouseOut=function(t){this.touch&&0==t.button&&(t.pageX<0||t.pageX>this.win.innerWidth||t.pageY<0||t.pageY>this.win.innerHeight)&&this.cancelInteraction()},TouchEventSimulator.prototype.handleDragStart=function(t){return t.preventDefault(),!1},TouchEventSimulator.prototype.handlePointerDown=function(t){0==t.button&&(this.touch={identifier:0,target:t.target},this.updateTouchCoordinates(t),this.fireTouchEvent(\"touchstart\",t))},TouchEventSimulator.prototype.handlePointerMove=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),this.fireTouchEvent(\"touchmove\",t))},TouchEventSimulator.prototype.handlePointerUp=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),this.fireTouchEvent(\"touchend\",t))},TouchEventSimulator.prototype.handlePointerCancel=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),this.fireTouchEvent(\"touchcancel\",t),this.touch=null)},TouchEventSimulator.prototype.fireTouchEvent=function(t,e){var o=this.doc.createEvent(\"HTMLEvents\");o.initEvent(t,!0,!0),\"touchend\"==t||\"touchcancel\"==t?(o.touches=o.targetTouches=[],o.changedTouches=[this.touch]):o.touches=o.targetTouches=o.changedTouches=[this.touch],e.target.dispatchEvent(o)},TouchEventSimulator.prototype.cancelInteraction=function(){this.touch&&(this.fireTouchEvent(\"touchcancel\",this.touch),this.touch=null)};;\nfunction CStyler(t){CStyler.initialised||CStyler.init(),this._node=t}CStyler.initialised=!1,CStyler.warnOnInit=!1,CStyler.prototype.enableWarnings=!1,CStyler.prototype.enableTraces=!1,CStyler.flags={isWebKit:\/WebKit\/.test(navigator.userAgent),isIE:\/MSIE|Trident\\\/\/.test(navigator.userAgent),isGecko:\/rv:.*Gecko\\\/\/.test(navigator.userAgent)},CStyler.engine=function(){return CStyler.flags.isWebKit?\"WebKit\":CStyler.flags.isIE?\"IE\":CStyler.flags.isGecko?\"Gecko\":\"Unknown\"}(),CStyler.prefix=function(){return\"WebKit\"==CStyler.engine?\"-webkit-\":\"Gecko\"==CStyler.engine?\"-moz-\":\"IE\"==CStyler.engine?\"-ms-\":\"\"}(),CStyler._isOldWebKit=function(t){var e=t.match(\/AppleWebKit\\\/(\\d+)\/);return e&&~~e[1]<540}(navigator.userAgent),CStyler.ucfirst=function(t){return t+=\"\",t?t[0].toUpperCase()+t.slice(1):\"\"},CStyler.lcfirst=function(t){return t+=\"\",t?t[0].toLowerCase()+t.slice(1):\"\"},CStyler.camelize=function(t){var e=t.replace(\/-([a-z])\/g,function(t,e){return e.toUpperCase()});return this.flags.isGecko?e:this.lcfirst(e)},CStyler.dasherize=function(t){return t.replace(\/[A-Z]\/g,function(t){return\"-\"+t.toLowerCase()})},CStyler._prefixTester=\/^-?([mM]oz|[wW]eb[kK]it|[mM]s)-?\/,CStyler.isPrefixed=function(t){return this._prefixTester.test(t)},CStyler.stripPrefix=function(t){return this.lcfirst(t.replace(this._prefixTester,\"\"))},CStyler._cssAttributes=[],CStyler._prefixedCSSLookup={},CStyler._unprefixedCSSLookup={},CStyler._prefixedLookup={},CStyler._unprefixedLookup={},CStyler._eventNames={},CStyler._cssDirectives={},\"WebKitAnimationEvent\"in window&&(CStyler._eventNames.animationstart=\"webkitAnimationStart\",CStyler._eventNames.animationiteration=\"webkitAnimationIteration\",CStyler._eventNames.animationend=\"webkitAnimationEnd\",CStyler._cssDirectives.keyframes=\"-webkit-keyframes\"),\"WebKitTransitionEvent\"in window&&(CStyler._eventNames.transitionend=\"webkitTransitionEnd\"),CStyler._prefixer=null,CStyler._unprefixer=null,CStyler.ignorableAttributes=[\"cssText\",\"applyCSS\",\"length\",\"getPropertyValue\",\"getPropertyPriority\",\"getPropertyCSSValue\",\"getPropertyShorthand\",\"isPropertyImplicit\",\"removeProperty\",\"setProperty\",\"item\",\"parentRule\"],CStyler.criticalAttributes=[\"background\",\"background-attachment\",\"background-clip\",\"background-color\",\"background-image\",\"background-origin\",\"background-position\",\"background-repeat\",\"background-size\",\"background-composite\",\"border\",\"border-bottom-width\",\"border-left-width\",\"border-right-width\",\"border-top-width\",\"border-bottom-color\",\"border-left-color\",\"border-right-color\",\"border-top-color\",\"border-bottom-style\",\"border-left-style\",\"border-right-style\",\"border-top-style\",\"border-collapse\",\"border-fit\",\"border-horizontal-spacing\",\"border-vertical-spacing\",\"border-image\",\"border-style\",\"border-color\",\"border-width\",\"border-radius\",\"border-top-left-radius\",\"border-top-right-radius\",\"border-bottom-left-radius\",\"border-bottom-right-radius\",\"bottom\",\"clear\",\"color\",\"cursor\",\"direction\",\"display\",\"float\",\"font\",\"font-family\",\"font-size\",\"font-style\",\"font-variant\",\"font-weight\",\"height\",\"left\",\"letter-spacing\",\"line-height\",\"list-style\",\"list-style-image\",\"list-style-position\",\"list-style-type\",\"margin\",\"margin-bottom\",\"margin-left\",\"margin-right\",\"margin-top\",\"margin-bottom-collapse\",\"margin-top-collapse\",\"max-height\",\"max-width\",\"min-height\",\"min-width\",\"opacity\",\"outline\",\"outline-color\",\"outline-style\",\"outline-width\",\"overflow\",\"overflow-x\",\"overflow-y\",\"padding\",\"padding-bottom\",\"padding-left\",\"padding-right\",\"padding-top\",\"pointer-events\",\"position\",\"right\",\"table-layout\",\"text-align\",\"text-decoration\",\"text-indent\",\"text-overflow\",\"text-rendering\",\"text-shadow\",\"text-transform\",\"text-stroke\",\"text-fill-color\",\"top\",\"unicode-bidi\",\"vertical-align\",\"visibility\",\"animation-delay\",\"animation-direction\",\"animation-duration\",\"animation-fill-mode\",\"animation-iteration-count\",\"animation-name\",\"animation-play-state\",\"animation-timing-function\",\"appearance\",\"backface-visibility\",\"highlight\",\"perspective\",\"perspective-origin\",\"transform\",\"transform-origin\",\"transform-style\",\"transition\",\"transition-delay\",\"transition-duration\",\"transition-property\",\"transition-timing-function\",\"white-space\",\"width\",\"word-break\",\"word-spacing\",\"word-wrap\",\"z-index\"],CStyler.oldWebKitProperties=[\"transform\",\"transform-origin\",\"transform-style\",\"transition\",\"transition-delay\",\"transition-duration\",\"transition-property\",\"transition-timing-function\",\"animation\",\"animation-delay\",\"animation-direction\",\"animation-duration\",\"animation-fill-mode\",\"animation-iteration-count\",\"animation-name\",\"animation-play-state\",\"animation-timing-function\",\"appearance\",\"backface-visibility\",\"perspective\",\"perspective-origin\"],CStyler.init=function(){if(!this.initialised){this.warnOnInit&&(console.warn(\"CStyler initialisation\"),console.trace());var t=getComputedStyle(document.body)||document.body.style,e=[];for(var i in t)-1==this.ignorableAttributes.indexOf(i)&&\"\"!=i&&(isNaN(parseInt(i,10))||(i=this.camelize(t[i])),-1==e.indexOf(i)&&e.push(i));e=e.sort(),e.forEach(function(t){var e=t;CStyler._cssAttributes.push(t),this.isPrefixed(t)&&(e=this.stripPrefix(t),this._prefixedLookup[e]=t,this._unprefixedLookup[t]=e,this._prefixedCSSLookup[this.dasherize(e)]=\"-\"+this.dasherize(t),this._unprefixedCSSLookup[\"-\"+this.dasherize(t)]=this.dasherize(e)),e in this.prototype||Object.defineProperty(this.prototype,e,{get:function(){return this._node.style[t]},set:function(e){this._node.style[t]=e},enumerable:!0}),e!=t&&Object.defineProperty(this.prototype,t,{get:function(){return this.enableWarnings&&(console.warn(\"Using prefixed getter! (\"+t+\")\"),this.enableTraces&&console.trace()),this._node.style[t]},set:function(e){this.enableWarnings&&(console.warn(\"Using prefixed setter! (\"+t+\")\"),this.enableTraces&&console.trace()),this._node.style[t]=e},enumerable:!1})},this),this.criticalAttributes.forEach(function(t){var e=this.camelize(this.prefix+t),i=this.camelize(t);e in this.prototype||Object.defineProperty(this.prototype,e,{get:function(){return this.enableWarnings&&(console.warn(\"Getting potentially nonexistent prefixed CSS attribute: \"+e),this.enableTraces&&console.trace()),this._node.style[e]},set:function(t){this.enableWarnings&&(console.warn(\"Setting potentially nonexistent prefixed CSS attribute: \"+e),this.enableTraces&&console.trace()),this._node.style[e]=t},enumerable:!0}),i in this.prototype||Object.defineProperty(this.prototype,i,{get:function(){return this.enableWarnings&&(console.warn(\"Getting potentially nonexistent unprefixed CSS attribute: \"+t),this.enableTraces&&console.trace()),this._node.style[CStyler._isOldWebKit&&CStyler.oldWebKitProperties.indexOf(t)>-1?e:i]},set:function(r){this.enableWarnings&&(console.warn(\"Setting potentially nonexistent unprefixed CSS attribute: \"+t),this.enableTraces&&console.trace()),this._node.style[CStyler._isOldWebKit&&CStyler.oldWebKitProperties.indexOf(t)>-1?e:i]=r},enumerable:!0})},this),CStyler._prefixer=new RegExp(\"(?:[^-]|^)(\"+Object.keys(this._prefixedCSSLookup).join(\"|\")+\")(?::)\",\"g\"),CStyler._unprefixer=new RegExp(\"(?:[^-]|^)(\"+Object.keys(this._unprefixedCSSLookup).join(\"|\")+\")(?::)\",\"g\"),Object.defineProperty(this.prototype,\"cssText\",{get:function(){return this._node.style.cssText.replace(CStyler._unprefixer,function(t,e){return CStyler._unprefixedCSSLookup[e]})},set:function(t){this._node.style.cssText=t.replace(CStyler._prefixer,function(t,e){return CStyler._prefixedCSSLookup[e]})},enumerable:!0}),this.initialised=!0}},CStyler.prototype.applyCSS=function(t){for(var e in t)this[CStyler.camelize(e)]=t[e]},CStyler.prototype.getComputedStyle=function(){var t=this._node.ownerDocument.defaultView.getComputedStyle(this._node),e={};return CStyler._cssAttributes.forEach(function(i){var r=CStyler._unprefixedLookup[i]||i;e[r]=t[i]},this),e};;\nfunction AggregatorTracking(t){this._trackingCenter=t}AggregatorTracking.prototype.trackAggregator=function(t,r,g){\"object\"==typeof r&&(g=r,r=void 0),g=g||{},r=void 0!==r?r:1,this._trackingCenter.track({name:\"aggregator\",metric:t,value:r,customDimensions:g})},AggregatorTracking.prototype.trackAggregatorTime=function(t,r,g){this.trackAggregator(t,Math.round(r),g)},AggregatorTracking.prototype.trackAggregatorUsingTimer=function(t,r){var g=new Date;return function(){this.trackAggregatorTime(t,new Date-g,r)}.bind(this)},AggregatorTracking.prototype.trackAggregatorMagicTriplet=function(t,r,g){this.trackAggregator(t+\"Attempts\",r);var e=new Date;return function(){var a=new Date-e;(!g||g>a)&&(this.trackAggregator(t+\"Successes\",r),this.trackAggregatorTime(t+\"Time\",a,r))}.bind(this)};;\nfunction Logger(e){if(!(this instanceof Logger))return new Logger(e);e=e||\"\";var n=noop;(Logger.enabledNames.indexOf(e)>=0||Logger.enabledNames.indexOf(\"all\")>=0)&&(n=function(){var e=[].slice.apply(arguments);e.unshift(Logger._ts()+\" [\"+Logger.sessionId+(this.name?\" \"+this.name:\"\")+\"]\"),console.log.apply(console,e)}),this.name=e,this.log=n,this.warn=n,this.debug=n,this.error=n}Logger._ts=function(){function e(e,n){for(e+=\"\";e.length<n;)e=\"0\"+e;return e}var n=new Date;return n.getFullYear()+\"-\"+e(n.getMonth()+1,2)+\"-\"+e(n.getDate(),2)+\" \"+e(n.getHours(),2)+\":\"+e(n.getMinutes(),2)+\":\"+e(n.getSeconds(),2)+\".\"+e(n.getTime()-1e3*Math.floor(n.getTime()\/1e3),3)},Logger.init=function(e,n){Logger.enabledNames=e,Logger.sessionId=n||(Math.random()+\"\").slice(15)},Logger.initFromRuntimeParams=function(e){Logger.init(e.debug?e.debug.split(\",\"):[],e.sessionId)};;\nfunction InViewObject(t,e){this.view=t,this.inViewParent=e,this._init()}extend(InViewObject.prototype,EventEmitter),InViewObject.prototype._init=function(){this.rectInView=CRect.ZERO,this.areaInViewRatio=0,this.active=!1,this._maxPossibleDimensions={width:0,height:0,area:0},this.computeRectInView=this.computeRectInView.bind(this),this.start=this.start.bind(this),this.stop=this.stop.bind(this)},InViewObject.prototype.getNode=function(){return this.view.getNode?this.view.getNode():this.view.getContainer()},InViewObject.prototype.computeRectInView=function(){var t=this.inViewParent.getRectInView(),e=this.inViewParent.getBoundingClientRect(),i=this.getBoundingClientRect().relativeTo(e),n=t.intersect(i),s=!1;this.rectInView.equals(n)||(this.rectInView=n,s=!0),this._computeMaxPossibleDimensions();var o=this._maxPossibleDimensions.area>0?n.area\/this._maxPossibleDimensions.area:0,h=!1;o!==this.areaInViewRatio&&(this.areaInViewRatio=o,h=!0),s&&(this.emit(\"rectInViewChanged\",n),Logger(\"InViewObject\").debug(this.view.toString()+\", rectInViewChanged: \"+this.rectInView.toString())),h&&(this.emit(\"areaInViewRatioChanged\",o),Logger(\"InViewObject\").debug(this.view.toString()+\", areaInViewRatioChanged: \"+o))},InViewObject.prototype.getBoundingClientRect=function(){return CRect.adopt(this.getNode().getBoundingClientRect())},InViewObject.prototype.getMaxPossibleDimensions=function(){return this._maxPossibleDimensions},InViewObject.prototype._computeMaxPossibleDimensions=function(){var t=this.inViewParent.getMaxPossibleDimensions(),e=this.getBoundingClientRect();this._maxPossibleDimensions.width=Math.min(t.width,e.width),this._maxPossibleDimensions.height=Math.min(t.height,e.height),this._maxPossibleDimensions.area=this._maxPossibleDimensions.width*this._maxPossibleDimensions.height},InViewObject.prototype.getRectInView=function(){return this.rectInView},InViewObject.prototype.getAreaInViewRatio=function(){return this.areaInViewRatio},InViewObject.prototype.start=function(){this.active||(this._start(),this.computeRectInView(),this.active=!0)},InViewObject.prototype._start=function(){this.inViewParent.on(\"rectInViewChanged\",this.computeRectInView),this.inViewParent.on(\"areaInViewRatioChanged\",this.computeRectInView)},InViewObject.prototype.stop=function(){this.active&&(this.computeRectInView(),this._stop(),this.active=!1)},InViewObject.prototype._stop=function(){this.inViewParent.off(\"rectInViewChanged\",this.computeRectInView),this.inViewParent.off(\"areaInViewRatioChanged\",this.computeRectInView)};;\nfunction AdViewableTimeObserver(e){this._tracker=e,this._readyToShow=!1,this._adapter}function AdViewableInViewObjectObserver(){AdViewableInViewObjectObserver.uberConstructor.apply(this,arguments),this._inViewObjects=[],this._viewableInViewObjects=[]}function AdViewableUnitObserver(){AdViewableUnitObserver.uberConstructor.apply(this,arguments),this._units=[],this._viewableUnits=[],this._containerIsViewable=!1}AdViewableTimeObserver.prototype.readyToShow=function(){throw new Error(\"AdViewableInViewObjectObserver.readyToShow not implemented!\")},AdViewableTimeObserver.prototype.registerUnit=function(){throw new Error(\"AdViewableInViewObjectObserver.registerUnit not implemented!\")},AdViewableTimeObserver.prototype.registerAdapter=function(){throw new Error(\"AdViewableTimeObserver.registerAdapter not implemented!\")},AdViewableTimeObserver.prototype.stop=function(){this._tracker.stop()},inherit(AdViewableInViewObjectObserver,AdViewableTimeObserver),AdViewableInViewObjectObserver.prototype.registerAdapter=function(e){this._adapter=e;var t=this._tracker;e.mediaState.on(\"videoStarted\",function(){this._tryStartTracker()}.bind(this)),e.mediaState.on(\"videoStopped\",function(){0===this._viewableInViewObjects.length&&t.stop()}.bind(this))},AdViewableInViewObjectObserver.prototype.readyToShow=function(){this._readyToShow=!0,this._tryStartTracker()},AdViewableInViewObjectObserver.prototype.registerUnit=function(e){var t=e.inView,i=this._inViewObjects,r=this._viewableInViewObjects,a=this._tracker;if(-1===i.indexOf(t)){i.push(t);var n=-1!==r.indexOf(t);!n&&t.getAreaInViewRatio()>0&&r.push(t),this._tryStartTracker(),t.on(\"areaInViewRatioChanged\",function(e){var i=r.indexOf(t),n=-1!==i;!n&&e>0?(r.push(t),this._tryStartTracker()):0===e&&n&&(r.splice(i,1),0===r.length&&a.stop())}.bind(this))}},AdViewableInViewObjectObserver.prototype._tryStartTracker=function(){var e=this._adapter,t=e&&e.mediaState.playingVideo;return this._readyToShow&&(this._viewableInViewObjects.length>0||t)?(this._tracker.start(),!0):!1},inherit(AdViewableUnitObserver,AdViewableTimeObserver),AdViewableUnitObserver.prototype.registerAdapter=function(e){this._adapter=e,this._containerIsViewable=e.containerIsViewable;var t=this._tracker;e.on(\"containerViewableChange\",function(e){this._containerIsViewable=e,e?this._tryStartTracker():t.stop()}.bind(this)),e.mediaState.on(\"videoStarted\",function(){this._tryStartTracker()}.bind(this)),e.mediaState.on(\"videoStopped\",function(){this._adapter.containerIsViewable&&0!==this._viewableUnits.length||t.stop()}.bind(this))},AdViewableUnitObserver.prototype.readyToShow=function(){this._readyToShow=!0,this._tryStartTracker()},AdViewableUnitObserver.prototype.registerUnit=function(e){if(!this._adapter)throw new Error(\"adapter was not registered yet!\");var t=this._units,i=this._viewableUnits,r=this._tracker;-1===t.indexOf(e)&&(t.push(e),-1===i.indexOf(e)&&e._visible&&(i.push(e),this._tryStartTracker()),e.on(\"appeared\",function(){-1===i.indexOf(e)&&(i.push(e),this._tryStartTracker())}.bind(this)),e.on(\"disappeared\",function(){var t=i.indexOf(e);-1!==t&&(i.splice(t,1),0===i.length&&r.stop())}.bind(this)))},AdViewableUnitObserver.prototype._tryStartTracker=function(){var e=this._adapter;return e&&(e.containerIsViewable||e.mediaState.playingVideo)&&this._readyToShow&&this._viewableUnits.length>0?(this._tracker.start(),!0):!1};;\nfunction AdViewableTimeTracker(i,e,t){this._trackingCenter=i,this._nativeRAF=e,this._intervals=t||{3e3:1e3,1e4:2e3,6e4:3e3,12e4:7e3,18e5:2e4},this._isRunning=!1,this._viewableMilliseconds=0,this._fromTime=0,this._pendingPingTimeoutId,this._pendingPingRafId,this._maxRafLatency=500}AdViewableTimeTracker.eventName=\"viewableTime\",AdViewableTimeTracker.TrackingData=function(i,e){return i>e&&(e=i),{name:AdViewableTimeTracker.eventName,from:i\/1e3,to:e\/1e3}},AdViewableTimeTracker.prototype.start=function(){this._isRunning||(this._isRunning=!0,this._fromTime=Date.now(),0===this._viewableMilliseconds?this._initPing():this._setNextPing())},AdViewableTimeTracker.prototype.stop=function(){if(this._clearPendingPing(),this._isRunning&&-1!==this._getPingInterval()){var i=Date.now(),e=i-this._fromTime;this._viewableMilliseconds+=e;var t=new AdViewableTimeTracker.TrackingData(this._fromTime,i);this._track(t)}this._isRunning=!1},AdViewableTimeTracker.prototype._initPing=function(){var i=this._fromTime,e=this._getPingInterval(),t=new AdViewableTimeTracker.TrackingData(this._fromTime,i);this._pendingPingRafId=this._nativeRAF.requestAnimationFrame(function(){this._track(t),this._setFromTimeForNextPing(i,e),this._setNextPing()}.bind(this))},AdViewableTimeTracker.prototype._setNextPing=function(){function i(){if(this._isRunning){var i=Date.now();this._viewableMilliseconds+=e,this._normalizeFromTime(i,e),this._pendingPingRafId=this._nativeRAF.requestAnimationFrame(function(){var t=new AdViewableTimeTracker.TrackingData(this._fromTime,i);this._track(t),this._setFromTimeForNextPing(i,e),this._setNextPing()}.bind(this))}}this._clearPendingPing();var e=this._getPingInterval();this._isRunning&&-1!==e&&(this._pendingPingTimeoutId=setTimeout(i.bind(this),e))},AdViewableTimeTracker.prototype._normalizeFromTime=function(i,e){var t=i-this._fromTime,n=e+this._maxRafLatency;t>n&&(this._fromTime=i)},AdViewableTimeTracker.prototype._setFromTimeForNextPing=function(i,e){var t=Date.now(),n=t-i,a=n>e;this._fromTime=a?t:i},AdViewableTimeTracker.prototype._getPingInterval=function(){var i=this._viewableMilliseconds,e=this._intervals,t=Object.keys(this._intervals),n=1*t[t.length-1],a=-1;return t.some(function(t){return 1*t>i?(a=e[t],i+a>n&&(a=-1),!0):!1}),a},AdViewableTimeTracker.prototype._clearPendingPing=function(){this._nativeRAF.cancelAnimationFrame(this._pendingPingRafId),clearTimeout(this._pendingPingTimeoutId)},AdViewableTimeTracker.prototype._track=function(i){this._trackingCenter.track(i)};;\n!function(t){function i(){this.playingVideo=!1}var e=i.prototype;extend(e,EventEmitter),e.stopVideo=function(){this.playingVideo=!1,this.emit(\"videoStopped\")},e.startVideo=function(){this.playingVideo=!0,this.emit(\"videoStarted\")},t.MediaState=i}(window);;\nfunction StateObject(t){this.values={},Object.keys(t).forEach(function(e){this.registerValue(e,t[e])},this),this._isDirty=!1}extend(StateObject.prototype,EventEmitter),StateObject.prototype.registerValue=function(t,e){this.values[t]={dirty:!1,value:e},Object.defineProperty(this,t,{get:function(){return this.values[t].value},set:function(e){var i=this.values[t],r=i.value;e!=r&&(i.dirty=!0,i.value=e,this._isDirty=!0,this.emit(\"change:\"+t,e,r))}})},StateObject.prototype.markClean=function(t){Object.keys(this.values).forEach(function(e){t&&e!==t||(this[e].dirty=!1)},this.values),this._isDirty=!1},StateObject.prototype.getDirtyValues=function(){for(var t={},e=Object.keys(this.values),i=0;i<e.length;i++)this.values[e[i]].dirty&&(t[e[i]]=this.values[e[i]].value);return t},StateObject.prototype.isDirty=function(t){return\"undefined\"==typeof t?this._isDirty:this.values[t].dirty},StateObject.prototype.anyDirty=function(t){arguments.length>1&&(t=Array.prototype.slice.apply(arguments));for(var e=0;e<t.length;e++)if(this.values[t[e]].dirty)return!0;return!1};;\nfunction StateAnimation(t,i){this.stateObject=t,this.propertyName=i,this.running=!1,this.lastUpdateTime=null,this.tick=this.tick.bind(this),this._callback=null}function SpringyAnimation(t,i,e){StateAnimation.apply(this,arguments),this.options=extend({},SpringyAnimation.defaults,e||{}),this.state={x:t[i],v:0},this.derivative={dx:0,dv:0}}function EasingAnimation(t,i,e){StateAnimation.apply(this,arguments),this.options=extend({},EasingAnimation.defaults,e||{}),this._startValue=null,this._startTime=null,this._targetValue=null,this._targetTime=null}StateAnimation.prototype.start=function(){this.running||(this.lastUpdateTime=null,this.running=!0,Ticker.frame(this.tick,\"update\"))},StateAnimation.prototype.pause=function(){Ticker.removeFrame(this.tick,\"update\"),this.running=!1},StateAnimation.prototype.tick=function(){var t=Date.now();this.update(t-(this.lastUpdateTime||t)),this.lastUpdateTime=t},StateAnimation.prototype.update=function(){throw new Error(\"Not implemented\")},Object.defineProperty(StateAnimation.prototype,\"value\",{get:function(){return this.stateObject[this.propertyName]},set:function(t){this.stateObject[this.propertyName]=t},enumerable:!0}),inherit(SpringyAnimation,StateAnimation),SpringyAnimation.defaults={springForce:1e3,damping:20,restThreshold:1},SpringyAnimation.prototype.animateTo=function(t,i,e){this.running&&this.pause(),\"function\"==typeof i&&(e=i,i=0),this.d=t,this.state.v=\"number\"==typeof i?i:0,this.state.x=this.value,this._callback=e,this.start()},SpringyAnimation.prototype.update=function(t){var i=Math.min(.03,t\/1e3),e=Math.abs(this.state.x-this.d);e<this.options.restThreshold&&Math.abs(this.state.v)<this.options.restThreshold?(this.pause(),this.value=this.d,this.d=null,defer(this._callback||noop),this._callback=null):(this._integrate(this.state,i),this.value=this.state.x)},SpringyAnimation.prototype._integrate=function(t,i){var e=this._getDerivative(this.state),a=this._getDerivative(this.state,.5*i,e),n=this._getDerivative(this.state,.5*i,a),s=this._getDerivative(this.state,i,n);t.x+=i\/6*(e.dx+2*(a.dx+n.dx)+s.dx),t.v+=i\/6*(e.dv+2*(a.dv+n.dv)+s.dv)},SpringyAnimation.prototype._getDerivative=function(t,i,e){if(\"undefined\"==typeof e)return{dx:t.v,dv:this._acceleration(t)};var a={x:t.x+e.dx*i,v:t.v+e.dv*i};return{dx:a.v,dv:this._acceleration(a,i)}},SpringyAnimation.prototype._acceleration=function(t){return-this.options.springForce*(t.x-this.d)-this.options.damping*t.v},inherit(EasingAnimation,StateAnimation),EasingAnimation.defaults={exp:1.8},EasingAnimation.presets={easeIn:.6,easeOut:1.8,linear:1},EasingAnimation.prototype.animateTo=function(t,i,e){this.running&&this.pause(),this._callback=e,this._startValue=this.value,this._startTime=Date.now(),this._targetValue=t,this._targetTime=i,this.start()},EasingAnimation.prototype.update=function(){{var t=Date.now()-this._startTime,i=this._targetValue-this._startValue;i\/Math.abs(i)}this.value=Math.pow(t\/this._targetTime,this.options.exp)*i+this._startValue,t>=this._targetTime&&(this.pause(),this.value=this._targetValue,defer(this._callback||noop),this._startValue=null,this._startTime=null,this._targetValue=null,this._targetTime=null,this._callback=null)};;\nfunction ViewportManager(t){this.container=t.container,this.width=this.originalWidth=t.width||0,this.height=this.originalHeight=t.height||0,this.iframe=this.container.ownerDocument.defaultView.frameElement,this.init()}extend(ViewportManager.prototype,EventEmitter),ViewportManager.prototype.init=function(){this.container.style.overflow=\"hidden\",this.container.style.position=\"absolute\",this.container.style.left=this.container.style.top=0,this.iframe.style.display=\"block\",this.update()},ViewportManager.prototype.update=function(){this.container.style.width=this.width+\"px\",this.container.style.height=this.height+\"px\",this.iframe.style.width=this.width+\"px\",this.iframe.style.height=this.height+\"px\",this.iframe.width=this.width,this.iframe.height=this.height},ViewportManager.prototype.setSize=function(t,i){this.width=t,this.height=i,this.update()};;\nfunction Placement(t){this.root=null,this.width={value:100,unit:\"%\"},this.height={value:100,unit:\"%\"},this.left={value:0,unit:\"px\"},this.top={value:0,unit:\"px\"},this._positioning=t||\"container\",this.origin={horizontal:\"left\",vertical:\"top\"},this._usesFixedPositioning=!1,this._minWidth={value:0,unit:\"px\"},this._minHeight={value:0,unit:\"px\"},this.touchEventSimulator=null,this.overflow=!1}function IframePlacement(t,e,i,o){Placement.apply(this,arguments),this.frame=null,this.vm=null,this.unitScript=e,this.windowVarsByRef=i,this.windowVarsByCopy=o,this._syncInterval=null,this._syncIframeSize=this._syncIframeSize.bind(this)}function DivPlacement(){Placement.apply(this,arguments)}function StickyPlacement(t,e,i,o,n){IframePlacement.apply(this,arguments),this.stickyOptions=n,this._handleDismissTouchEnd=this._handleDismissTouchEnd.bind(this),this.origin.horizontal=\"center\",this.origin.vertical=this.stickyOptions.stickiness,this.usesFixedPositioning=!0,this._originalDocumentPadding=null}extend(Placement.prototype,EventEmitter),Placement.prototype._setInterval=function(t,e){return this.getRootWindow().setInterval(t,e)},Placement.prototype._clearInterval=function(t,e){return this.getRootWindow().clearInterval(t,e)},Placement.ZINDEX_MAX=2147483647,Placement.prototype.getRootWindow=function(){return this.root.ownerDocument.defaultView},Placement.prototype.attachTo=function(){throw new Error(\"Placement.attachTo not implemented\")},Placement.prototype.getContainer=function(){throw new Error(\"Placement.getContainer not implemented\")},Placement.prototype.getContentWindow=function(){return this.getContainer().ownerDocument.defaultView},Object.defineProperty(Placement.prototype,\"creative\",{get:function(){return this.getContainer().ownerDocument.defaultView.creative}}),Object.defineProperty(Placement.prototype,\"positioning\",{get:function(){return this._positioning},set:function(t){this._positioning=t,this.update()}}),Object.defineProperty(Placement.prototype,\"_canUseFixedPositioning\",{get:function(){return this.usesFixedPositioning&&this.supportsFixedPositioning},enumerable:!1}),Placement.prototype.setMinimumSize=function(t,e){var i=this._parseLength(t),o=this._parseLength(e);this._minWidth.value=i.value,this._minWidth.unit=i.unit,this._minHeight.value=o.value,this._minHeight.unit=o.unit,this._visible&&this.update()},Placement.prototype.setSize=function(t,e,i){var o,n,s=this._parseLength(t),r=this._parseLength(e),h=this.getViewportGeometry(),a=extend({},this._minWidth),l=extend({},this._minHeight);i||(this.width={value:s.value,unit:s.unit},this.height={value:r.value,unit:r.unit}),this._visible&&(\"screen\"==this.positioning?(o=h.width,n=h.height):\"page\"==this.positioning?(o=this.root.ownerDocument.documentElement.offsetWidth,n=this.root.ownerDocument.documentElement.offsetHeight):(o=this.root.parentNode.offsetWidth,n=this.root.parentNode.offsetHeight),\"%\"==s.unit&&(s.value=Math.round(s.value*o\/100),s.unit=\"px\"),\"%\"==r.unit&&(r.value=Math.round(r.value*n\/100),r.unit=\"px\"),\"%\"==a.unit&&(a.value=Math.round(a.value*o\/100),a.unit=\"px\"),\"%\"==l.unit&&(l.value=Math.round(l.value*n\/100),l.unit=\"px\"),this.root.style.width=Math.max(s.value,a.value)+s.unit,this.root.style.height=Math.max(r.value,l.value)+r.unit,this.emit(\"resized\"))},Placement.prototype.getBaseOffset=function(){var t=this.root.ownerDocument.createElement(\"div\"),e=this.root.parentNode;t.style.left=0,t.style.top=0,t.style.position=\"absolute\",e.appendChild(t);var i=offset(t);return e.removeChild(t),i},Placement.prototype.setPosition=function(t,e,i){var o=this._parseLength(t),n=this._parseLength(e),s=this.getViewportGeometry(),r=this.getBaseOffset();if(i||(this.left.value=o.value,this.left.unit=o.unit,this.top.value=n.value,this.top.unit=n.unit),this._visible){switch(this.positioning){case\"screen\":if(this._canUseFixedPositioning)this.root.style.position=\"fixed\",\"left\"==this.origin.horizontal?(this.root.style.left=o.value+o.unit,this.root.style.right=\"auto\",this.root.style.marginLeft=\"\"):\"center\"==this.origin.horizontal?(this.root.style.left=o.value+o.unit,this.root.style.right=\"auto\",this.root.style.marginLeft=(s.width-this.root.offsetWidth)\/2+\"px\"):(this.root.style.right=o.value+o.unit,this.root.style.left=\"auto\",this.root.style.marginLeft=\"\"),\"top\"==this.origin.vertical?(this.root.style.top=n.value+n.unit,this.root.style.bottom=\"auto\",this.root.style.marginTop=\"\"):\"center\"==this.origin.vertical?(this.root.style.top=n.value+n.unit,this.root.style.bottom=\"auto\",this.root.style.marginTop=(s.height-this.root.offsetHeight)\/2+\"px\"):(this.root.style.bottom=n.value+n.unit,this.root.style.top=\"auto\",this.root.style.marginTop=\"\");else{var h=\"\",a=\"\";if(\"%\"==o.unit&&(o.value*=s.width\/100,o.unit=\"px\"),\"%\"==n.unit&&(n.value*=s.height\/100,n.unit=\"px\"),\"left\"==this.origin.horizontal)o.value+=s.left;else if(\"center\"==this.origin.horizontal)o.value+=s.left,h=(s.width-this.root.offsetWidth)\/2+\"px\";else{var l=\"%\"==this.width.unit?this.width.value\/100*s.width:this.width.value;o.value=s.left+s.width-l-o.value}if(\"top\"==this.origin.vertical)n.value+=s.top;else if(\"center\"==this.origin.vertical)n.value+=s.top,a=(s.height-this.root.offsetHeight)\/2+\"px\";else{var u=\"%\"==this.height.unit?this.height.value\/100*s.height:this.height.value;n.value=s.top+s.height-u-n.value}this.root.style.position=\"absolute\",this.root.style.left=o.value-r.left+\"px\",this.root.style.top=n.value-r.top+\"px\",this.root.style.marginLeft=h,this.root.style.marginTop=a,this.root.style.right=this.root.style.bottom=\"auto\"}break;case\"container\":this.root.style.position=\"absolute\",\"left\"==this.origin.horizontal?(this.root.style.left=o.value+o.unit,this.root.style.right=\"auto\",this.root.style.marginLeft=\"\"):\"center\"==this.origin.horizontal?(this.root.style.left=o.value+o.unit,this.root.style.right=\"auto\",this.root.style.marginLeft=\"px\"==this.height.unit?-Math.round(this.width.value\/2)+\"px\":-(this.root.offsetWidth\/2)+\"px\"):(this.root.style.left=\"auto\",this.root.style.right=o.value+o.unit,this.root.style.marginLeft=\"\"),\"top\"==this.origin.vertical?(this.root.style.top=n.value+n.unit,this.root.style.bottom=\"auto\",this.root.style.marginTop=\"\"):\"center\"==this.origin.vertical?(this.root.style.top=n.value+n.unit,this.root.style.bottom=\"auto\",this.root.style.marginTop=\"px\"==this.height.unit?-Math.round(this.height.value\/2)+\"px\":-(this.root.offsetHeight\/2)+\"px\"):(this.root.style.top=\"auto\",this.root.style.bottom=n.value+n.unit,this.root.style.marginTop=\"\");break;case\"page\":var c={width:this.root.ownerDocument.documentElement.clientWidth,height:this.root.ownerDocument.documentElement.clientHeight};\"%\"==o.unit&&(o.value=Math.round(o.value*c.width\/100),o.unit=\"px\"),\"%\"==n.unit&&(n.value=Math.round(n.value*c.height\/100),n.unit=\"px\"),this.root.style.position=\"absolute\",\"left\"==this.origin.horizontal?(this.root.style.left=o.value-r.left+\"px\",this.root.style.top=n.value-r.top+\"px\"):\"center\"==this.origin.horizontal?(this.root.style.left=(c.width-this.root.offsetWidth)\/2-r.left+o.value+\"px\",this.root.style.top=(c.height-this.root.offsetHeight)\/2-r.top+n.value+\"px\"):(this.root.style.left=c.width-this.root.offsetWidth-r.left-o.value+\"px\",this.root.style.top=c.height-this.root.offsetHeight-r.top-n.value+\"px\"),this.root.style.right=this.root.style.bottom=\"auto\";break;case\"static\":this.root.style.position=\"static\",this.root.style.left=this.root.style.top=0,this.root.style.right=this.root.style.bottom=\"auto\",this.root.style.marginLeft=this.root.style.marginTop=\"\"}this.emit(\"repositioned\")}},Placement.prototype.update=function(t){this.setSize(this.width.value+this.width.unit,this.height.value+this.height.unit,!0),this.setPosition(this.left.value+this.left.unit,this.top.value+this.top.unit,!0),defer(t||noop)},Placement.prototype.supportsFixedPositioning=!(android(\"2\")||ios(null,\"4\")||kindleSilk(\"1\")),Object.defineProperty(Placement.prototype,\"usesFixedPositioning\",{get:function(){return this._usesFixedPositioning},set:function(t){this._usesFixedPositioning=!!t,this.update()},enumerable:!0}),Placement.prototype.hacks={preventScreenFlickering:kindle(\"1\")||android(\"2\"),useAlternativeWindowDimensions:desktop()},Placement.prototype.hide=function(){this.root.style.display=\"none\",this._visible=!1,this.emit(\"hidden\")},Placement.prototype.show=function(){this.root.style.display=\"block\",this._visible=!0,this.update(),this.emit(\"shown\")},Placement.prototype.destroy=function(){this.emit(\"destroyed\"),this.root&&this.root.parentNode&&this.root.parentNode.removeChild(this.root),this.root=null},Placement.prototype.setZIndex=function(t){0>t&&(t=Placement.ZINDEX_MAX+t),\"max\"==t&&(t=Placement.ZINDEX_MAX),this.root.style.zIndex=t},Placement.prototype.createElement=function(){throw new Error(\"Not implemented\")},Placement.prototype.querySelector=function(){throw new Error(\"Not implemented\")},Placement.prototype.getViewportGeometry=function(){var t=this.getRootWindow(),e=t.document.documentElement;return{width:this.hacks.useAlternativeWindowDimensions?e.clientWidth:t.innerWidth,height:this.hacks.useAlternativeWindowDimensions?e.clientHeight:t.innerHeight,left:t.scrollX||e&&e.scrollLeft||0,top:t.scrollY||e&&e.scrollTop||0}},Placement.prototype.getPlacementGeometry=function(){if(\"screen\"==this.positioning&&this._canUseFixedPositioning)return{width:this.root.offsetWidth,height:this.root.offsetHeight,left:this.root.offsetLeft,top:this.root.offsetTop};var t=offset(this.root),e=this.getViewportGeometry();return{width:this.root.offsetWidth,height:this.root.offsetHeight,left:t.left-e.left,top:t.top-e.top}},Placement.prototype.getGlobalGeometry=function(t){for(var e=this.getRootWindow(),i=this.root.getBoundingClientRect(),o=CRect.adopt(i);e!==t;)i=CRect.adopt(e.frameElement.getBoundingClientRect()),o.left+=i.left,o.top+=i.top,o=o.intersect(i),e=e.parent;return o},Placement.prototype._parseLength=function(t){if(!isNaN(t))return{value:t,unit:\"px\"};var e=t.match(\/^(-?[\\d.]+)(px|%)$\/);if(!e)throw new Error('Cannot parse length \"'+t+'\"');return{value:parseFloat(e[1],10),unit:e[2]}},Placement.prototype.getUnitGeometry=function(t){var e=this.getPlacementGeometry(),i={left:e.left,top:e.top,width:t.size.width,height:t.size.height},o=t.horizontalPosition||\"center\",n=t.verticalPosition||\"center\";return\"center\"==o?i.left+=(e.width-t.size.width)\/2:\"right\"==o&&(i.left+=e.width-t.size.width),\"center\"==n?i.top+=(e.height-t.size.height)\/2:\"bottom\"==n&&(i.top+=e.height-t.size.height),i.left=Math.round(i.left),i.top=Math.round(i.top),i},Placement.prototype.getRelativeUnitGeometry=function(t){var e=offset(t.node);return e.width=t.node.offsetWidth,e.height=t.node.offsetHeight,e},Placement.prototype.populate=function(t,e){this.getContainer().appendChild(t),this.emit(\"populated\"),e&&defer(e)},Placement.prototype._getViewportElement=function(){throw new Error(\"Not implemented\")},Placement.prototype.setBackground=function(t){null==t&&(t=\"none\"),this.root.style.background=t},Placement.prototype.setOverflow=function(){var t=function(t){t.preventDefault()};return function(e){var i=this._getViewportElement();e?(i.style.overflowY=\"auto\",ios()&&(i.style.webkitOverflowScrolling=\"touch\",detach(i,\"touchmove\",t,!1))):(i.style.overflowY=\"hidden\",ios()&&(i.style.webkitOverflowScrolling=\"auto\",attach(i,\"touchmove\",t,!1)))}}(),Placement.prototype._flash=function(){var t=this.getContainer().ownerDocument,e=this.createElement(\"div\");e.style.cssText=\"position:absolute;top:0;left:0;width:100%;height:100%;opacity:0.01;background:black;\",t.body.appendChild(e),defer(function(){e.parentNode.removeChild(e)})},inherit(IframePlacement,Placement),IframePlacement.create=function(t,e){var i=new IframePlacement(e,\"\",{},{});return i.root=t.parentNode,i.root.style.display=\"none\",i.startSyncingIframeSize(),i.frame=t,i.setupFrame(),i},IframePlacement.baseHTML='<!DOCTYPE html><html><head><meta charset=\"utf-8\"\/><meta name=\"viewport\" content=\"initial-scale=1,maximum-scale=1\"\/><\/head><body><div id=\"viewport\"><\/div><\/body><\/html>',IframePlacement.prototype.setSize=function(){IframePlacement.uber.setSize.apply(this,arguments),this._syncIframeSize()},IframePlacement.prototype.show=function(){IframePlacement.uber.show.apply(this,arguments),this._syncIframeSize()},IframePlacement.prototype._syncIframeSize=function(){this._visible&&this.vm&&(this.root.offsetWidth!=this.vm.width||this.root.offsetHeight!=this.vm.height)&&this.vm.setSize(0|this.root.offsetWidth,0|this.root.offsetHeight)},IframePlacement.prototype.startSyncingIframeSize=function(){this._syncInterval=this._setInterval(this._syncIframeSize,100)},IframePlacement.prototype.stopSyncingIframeSize=function(){this._syncInterval&&this._clearInterval(this._syncInterval),this._syncInterval=null},IframePlacement.prototype.getContainer=function(){if(!this.root)throw new Error(\"Root node not attached to document yet!\");return this.querySelector(\"#viewport\")},IframePlacement.prototype.attachTo=function(t,e){this.root=t.ownerDocument.createElement(\"div\"),this.root.style.overflow=\"hidden\",this.hide(),t.appendChild(this.root),this.startSyncingIframeSize(),this.frame=t.ownerDocument.createElement(\"iframe\"),this.frame.style.border=\"0px\",this.frame.setAttribute(\"frameborder\",\"0\"),this.frame.setAttribute(\"scrolling\",\"no\"),this.root.appendChild(this.frame),defer(function(){if(!this.frame.contentWindow)throw new Error(\"Can't access contentWindow of an iframe, skip placement initialization.\");this.frame.contentDocument.open();for(var t in this.windowVarsByRef)this.frame.contentWindow[t]=this.windowVarsByRef[t];var i=\"\";for(var t in this.windowVarsByCopy)i+=\"window.\"+t+\" = \"+JSON.stringify(this.windowVarsByCopy[t])+\";\\n\";this.frame.contentDocument.write(IframePlacement.baseHTML);var o=this.frame.contentDocument.createElement(\"script\");o.textContent=i+\";\\n\"+this.unitScript,this.frame.contentDocument.body.appendChild(o),attach(this.frame,\"load\",function(){this.setupFrame(),e&&defer(e)}.bind(this)),this.frame.contentDocument.close()}.bind(this))},IframePlacement.prototype.update=function(){IframePlacement.uber.update.apply(this,arguments),android(\"2\")&&this._flash()},IframePlacement.prototype.destroy=function(){this.stopSyncingIframeSize(),IframePlacement.uber.destroy.apply(this,arguments)},IframePlacement.prototype.createElement=function(t){return this.frame.contentDocument.createElement(t)},IframePlacement.prototype.querySelector=function(t){return this.frame.contentDocument?this.frame.contentDocument.querySelector(t):null},IframePlacement.prototype.querySelectorAll=function(t){return this.frame.contentDocument?this.frame.contentDocument.querySelectorAll(t):[]},IframePlacement.prototype._getViewportElement=function(){return this.querySelector(\"#viewport\")},IframePlacement.prototype.setupFrame=function(){var t=this.frame.contentDocument.createElement(\"script\");t.textContent=\"window.touchEventSimulator = new TouchEventSimulator(document);window.touchEventSimulator.init();function __parseJSON(s){return JSON.parse(s);}\",this.frame.contentDocument.querySelector(\"head\").appendChild(t),this.touchEventSimulator=this.frame.contentWindow.touchEventSimulator,this.vm=new ViewportManager({container:this._getViewportElement()})},inherit(DivPlacement,Placement),DivPlacement.prototype.attachTo=function(t,e){this.root=t.ownerDocument.createElement(\"div\"),this.root.style.overflow=\"hidden\",this.hacks.preventScreenFlickering&&(this.root.style.webkitTransform=\"translateZ(0)\"),this.hide(),t.appendChild(this.root),this.touchEventSimulator=new TouchEventSimulator(this.root),this.touchEventSimulator.init(),e&&setTimeout(e,0)},DivPlacement.prototype.destroy=function(){DivPlacement.uber.destroy.apply(this,arguments),this.touchEventSimulator.stop(),this.touchEventSimulator=null},DivPlacement.prototype.getContainer=function(){return this.root},DivPlacement.prototype.createElement=function(t){return this.root.ownerDocument.createElement(t)},DivPlacement.prototype.querySelector=function(t){return this.root.querySelector(t)},DivPlacement.prototype.querySelectorAll=function(t){return this.root.querySelectorAll(t)},DivPlacement.prototype._getViewportElement=function(){return this.root},inherit(StickyPlacement,IframePlacement),StickyPlacement.create=function(t,e,i){var o=new StickyPlacement(e,\"\",{},{},i);return o.root=t.parentNode,o.root.style.display=\"none\",o.startSyncingIframeSize(),o.frame=t,o.setupFrame(),o},StickyPlacement.prototype.setPosition=StickyPlacement.prototype.setZIndex=noop,StickyPlacement.prototype.show=function(){IframePlacement.prototype.show.apply(this,arguments),IframePlacement.prototype.setZIndex.call(this,-20),this.enableDocumentPadding(),this.update()},StickyPlacement.prototype.hide=function(){IframePlacement.prototype.hide.apply(this,arguments),this.disableDocumentPadding()},StickyPlacement.prototype.populate=function(){this.stickyOptions.showDismissButton&&this.once(\"populated\",this.createDismissButton.bind(this)),IframePlacement.prototype.populate.apply(this,arguments)},StickyPlacement.prototype.update=function(t){this.root&&this.root.parentNode&&(IframePlacement.prototype.setSize.call(this,this.width.value+this.width.unit,this.height.value+this.height.unit,!0),IframePlacement.prototype.setPosition.call(this,0,0,!0),defer(t))},StickyPlacement.prototype.createDismissButton=function(){this.getViewportGeometry();with(this.root.style.overflow=\"visible\",this._dismissButton=this.root.ownerDocument.createElement(\"img\"),this._dismissButton.src=this.stickyOptions.baseUrl+\"runner\/clazzes\/Sticky\/sticky-dismiss-button.png\",this._dismissButton.style)switch(position=\"absolute\",left=\"auto\",right=\"6px\",width=\"32px\",height=\"32px\",zIndex=10,this.stickyOptions.stickiness){case\"top\":top=\"auto\",bottom=\"-16px\";break;case\"bottom\":top=\"-16px\",bottom=\"auto\"}attach(this._dismissButton,\"touchend\",this._handleDismissTouchEnd,!1),this.root.appendChild(this._dismissButton)},StickyPlacement.prototype._handleDismissTouchEnd=function(t){t.preventDefault(),t.stopPropagation(),this.disableDocumentPadding(),(this.stickyOptions.dismissCallback||noop)()},StickyPlacement.prototype.enableDocumentPadding=function(){var t=this.getRootWindow(),e=t.document.documentElement;this._originalDocumentPadding||(this._originalDocumentPadding=t.getComputedStyle(e)[\"padding-\"+this.stickyOptions.stickiness]),e.style[\"padding-\"+this.stickyOptions.stickiness]=this.root.offsetHeight+\"px\"},StickyPlacement.prototype.disableDocumentPadding=function(){var t=this.getRootWindow(),e=t.document.documentElement;e.style[\"padding-\"+this.stickyOptions.stickiness]=this._originalDocumentPadding,this._originalDocumentPadding=null};;\nfunction Format(e,t){this.adapter=e,this.state=null,this.units=t,this.showsCloseButton=!0,this.observesViewability=!0,this.observingViewability=function(e){return this.observesViewability&&this.adapter.viewabilityMeasurable[\"viewable\"+e]}.bind(this),this._observesViewableTime=!1,this.observingViewableTime=this.observingViewableTime.bind(this),this.observationAbilities={observingViewability:this.observingViewability,observingViewableTime:this.observingViewableTime}}extend(Format.prototype,EventEmitter),Object.defineProperty(Format.prototype,\"placements\",{get:function(){return this.adapter.placements},enumerable:!0}),Format.prototype.observingViewableTime=function(){var e=this.adapter;return this._observesViewableTime&&!!this.observingViewability(\"00\")&&e.topWindowNativeRAF.supported&&(e.supportsContainerViewability||e.canMeasureViewportPlacementGeometry)},Format.prototype.transitionTo=function(){throw new Error(\"transitionTo not implemented\")},Format.prototype.destroy=function(){for(var e in this.placements)this.adapter.destroyPlacement(e),delete this.placements[e];this.adapter._stopObservingEnvironment(),this.adViewableTimeObserver&&this.adViewableTimeObserver.stop()},Format.prototype.hacks={},Format.prototype.connectPlacementEventsToUnitBehavior=function(e,t){this.adapter.canMeasureViewportPlacementGeometry&&(e.inView||(e.inView=new PlacementInView(this.adapter,e)),t.inView||(t.inView=new InViewObject(t,e.inView))),this.adapter.on(\"orientationchange\",function(){e.update()}.bind(this)),e.on(\"resized\",function(){if(e._visible){var i=e.getPlacementGeometry();i.width<2&&i.height<2||t.setAvailableSize(i.width,i.height)}}),e.on(\"shown\",function(){var i=e.getPlacementGeometry();t.setAvailableSize(i.width,i.height),t.enterRenderTree()}),e.on(\"hidden\",function(){t.exitRenderTree()})},Format.prototype._getBackwardCompatibleOrientation=function(e){function t(){var t=e.size;return t.width<t.height?\"portrait\":t.width>t.height?\"landscape\":\"noOrientation\"}var i=void 0;return i=this.adapter.runtimeParams.lockOrientation||this.adapter.autoLock()?this.adapter.determineLockOrientation():\"prompt\"===e.wrongOrientationHandling&&e?t():\"noOrientation\"},Format.prototype._trackViewportPlacementGeometry=function(e){var t=e.getGlobalGeometry(this.adapter.getTopWindow()),i=e.getViewportGeometry(),r=CRect.adopt(t);r.left+=i.left,r.top+=i.top;var n={name:\"viewportPlacementGeometry\",pageDimensions:this.adapter.getPageDimensions(),viewportPositionRect:i,firstPlacementPositionRect:r};this.adapter.trackingCenter.trackNoLaterThan(n)},Format.prototype.setupViewableTimeObserver=function(){if(this._observesViewableTime=!0,this.observingViewableTime()){var e=this.adapter,t=new AdViewableTimeTracker(e.trackingCenter,e.topWindowNativeRAF);this.adViewableTimeObserver=e.canMeasureViewportPlacementGeometry?new AdViewableInViewObjectObserver(t):new AdViewableUnitObserver(t),this.adViewableTimeObserver.registerAdapter(e)}};;\nfunction UnitViewabilityObserver(t,i,e){this.adapter=t,this.placement=i,this.element=e,this._listeners=[],this._calc=this._calc.bind(this),this._active=!1,this._currentViewability=null,this._previousViewability=null,this._timer=null}UnitViewabilityObserver.observationInterval=200,UnitViewabilityObserver.samplingCount=200,UnitViewabilityObserver.minimumOpacity=.95,UnitViewabilityObserver.prototype._getUnitVisibleGeometry=function(){var t=this.adapter.getPlacementRect(this.placement),i=this.adapter.getViewportRect(),e=CRect.adopt(this.placement.getContainer().getBoundingClientRect()),r=CRect.adopt(this.element.getBoundingClientRect()),n=r.intersect(e);return{globalUnitRect:r.map(e,t),intersect:n?n.map(e,t).intersect(i):null}},UnitViewabilityObserver.prototype._getUnitInteractionSamples=function(t){var i=0,e=0;if(!this.adapter.isSingleOccupant){for(var r=this.placement.root,n=r.ownerDocument,a=n.defaultView,s=this.placement.getContainer(),l=null,o=1,c=1;(r=r.parentNode)&&r!==n.body;)l=a.getComputedStyle(r),o*=l.opacity,c*=(\"visible\"==l.visibility?1:0)*(\"none\"!=l.display?1:0);o*c>UnitViewabilityObserver.minimumOpacity&&CPoint.sample(t,UnitViewabilityObserver.samplingCount,function(t,r){var a=n.elementFromPoint(Math.round(t),Math.round(r));if(i++,this.placement.frame&&a===this.placement.frame)e++;else{for(;a&&a!==s&&a!==n;)a=a.parentNode;a===s&&e++}}.bind(this))}return{samples:i,positives:e}},UnitViewabilityObserver.prototype.getUnitInteractableRatio=function(){if(!this.element.parentNode||!this.placement.root.parentNode)return 0;if(!this.adapter.containerIsViewable||!this.element.ownerDocument.defaultView)return 0;var t=this._getUnitVisibleGeometry(),i=t.intersect&&t.globalUnitRect.area>0?t.intersect.area\/t.globalUnitRect.area:0,e=null;return i>0&&(e=this._getUnitInteractionSamples(t.intersect)),e&&e.samples>0&&(i*=e.positives\/e.samples),i},UnitViewabilityObserver.prototype.addListener=function(t){this._listeners.push(t),this._start()},UnitViewabilityObserver.prototype.removeListener=function(t){this._listeners=this._listeners.filter(function(i){return i!==t}),0===this._listeners.length&&this.stop()},UnitViewabilityObserver.prototype._calc=function(){if(this._active){var t=this._getUnitVisibleGeometry().globalUnitRect;this._currentViewability=this.getUnitInteractableRatio(),this._currentViewability!=this._previousViewability&&(this._previousViewability=this._currentViewability,this._listeners.forEach(function(i){i(this._currentViewability,t)},this))}},UnitViewabilityObserver.prototype._start=function(){this._active||(this._active=!0,this.adapter.on(\"containerViewableChange\",this._calc),this._timer=setInterval(this._calc,UnitViewabilityObserver.observationInterval),defer(this._calc))},UnitViewabilityObserver.prototype.stop=function(){this._active&&(this._active=!1,this.adapter.off(\"containerViewableChange\",this._calc),clearInterval(this._timer),this._timer=null)},UnitViewabilityObserver.prototype.waitForViewable=function(t,i){var e=null,r=function(n,a){var s=UnitViewabilityObserver.selectCriterion(t,a),l=0==s.ratio?n>0:n>=s.ratio;l&&!e?e=setTimeout(function(){this.removeListener(r),defer(function(){i(s)})}.bind(this),s.time):!l&&e&&(clearTimeout(e),e=null)}.bind(this);this.addListener(r)},UnitViewabilityObserver.prototype.waitForViewableCore=function(t){this.waitForViewable(\"Core\",t)},UnitViewabilityObserver.prototype.waitForViewableIAB=function(t){this.waitForViewable(\"IAB\",t)},UnitViewabilityObserver.LARGE_AD_PIXEL_COUNT=242500,UnitViewabilityObserver.selectCriterion=function(t,i){if(\"Core\"==t)return this.criteria.Core;var e=i&&i.width*i.height>UnitViewabilityObserver.LARGE_AD_PIXEL_COUNT;return e?this.criteria.IABlargeAd:this.criteria.IABsmallAd},UnitViewabilityObserver.criteria={Core:{name:\"Core\",ratio:0,time:0},IABsmallAd:{name:\"50\/1\",ratio:.5,time:1e3},IABlargeAd:{name:\"30\/1\",ratio:.3,time:1e3}};;\nfunction Slicer(t){this.options=extend({},Slicer.defaults,t||{}),this.source=null,this.canvas=null}Slicer.defaults={left:0,top:0,right:0,bottom:0},Slicer.prototype.loadImage=function(t,o){this.source=new Image,this.source.onload=o,this.source.src=t},Slicer.prototype.getCanvas=function(t,o){this.canvas||(this.canvas=document.createElement(\"canvas\"));var i=this.canvas.getContext(\"2d\");return this.canvas.width=t,this.canvas.height=o,i.clearRect(0,0,t,o),i.drawImage(this.source,0,0,this.options.left,this.options.top,0,0,this.options.left,this.options.top),i.drawImage(this.source,0,this.options.top,this.options.left,this.source.naturalHeight-this.options.top-this.options.bottom,0,this.options.top,this.options.left,o-this.options.top-this.options.bottom),i.drawImage(this.source,0,this.source.naturalHeight-this.options.bottom,this.options.left,this.options.bottom,0,o-this.options.bottom,this.options.left,this.options.bottom),i.drawImage(this.source,this.options.left,0,this.source.naturalWidth-this.options.left-this.options.right,this.options.top,this.options.left,0,t-this.options.left-this.options.right,this.options.top),i.drawImage(this.source,this.options.left,this.options.top,this.source.naturalWidth-this.options.left-this.options.right,this.source.naturalHeight-this.options.top-this.options.bottom,this.options.left,this.options.top,t-this.options.left-this.options.right,o-this.options.top-this.options.bottom),i.drawImage(this.source,this.options.left,this.source.naturalHeight-this.options.bottom,this.source.naturalWidth-this.options.left-this.options.right,this.options.bottom,this.options.left,o-this.options.bottom,t-this.options.left-this.options.right,this.options.bottom),i.drawImage(this.source,this.source.naturalWidth-this.options.right,0,this.options.right,this.options.top,t-this.options.right,0,this.options.right,this.options.top),i.drawImage(this.source,this.source.naturalWidth-this.options.right,this.options.top,this.options.right,this.source.naturalHeight-this.options.top-this.options.bottom,t-this.options.right,this.options.top,this.options.right,o-this.options.top-this.options.bottom),i.drawImage(this.source,this.source.naturalWidth-this.options.right,this.source.naturalHeight-this.options.bottom,this.options.right,this.options.bottom,t-this.options.right,o-this.options.bottom,this.options.right,this.options.bottom),this.canvas},Slicer.prototype.getDataURL=function(t,o){return this.getCanvas(t,o).toDataURL(\"image\/png\")};;\nfunction PlacementInView(e,t){this._init(),this.adapter=e,this.placement=t,this.node=t.getContainer(),this._tick=this._tick.bind(this),this._timestepInterval=200,this._lastRunTime=0,t.on(\"shown\",this.start),t.on(\"hidden\",this.stop),this.destroy=this.destroy.bind(this),t.on(\"destroyed\",this.destroy),this._handleViewableChange=this._handleViewableChange.bind(this),this.adapter.on(\"containerViewableChange\",this._handleViewableChange)}inherit(PlacementInView,InViewObject),PlacementInView.prototype._handleViewableChange=function(e){e?this.start():(this.stop(),this.rectInView=CRect.ZERO,this.areaInView=0,this.emit(\"rectInViewChanged\",this.rectInView),Logger(\"InViewObject\").debug(this.placement.constructor.name+\", rectInViewChanged: \"+this.rectInView.toString()),this.emit(\"areaInViewRatioChanged\",this.areaInView),Logger(\"InViewObject\").debug(this.placement.constructor.name+\", areaInViewRatioChanged: \"+this.areaInView))},PlacementInView.prototype.getNode=function(){return this.node},PlacementInView.prototype.computeRectInView=function(){var e=this.adapter.getPlacementRect(this.placement),t=this.adapter.getViewportRect(),i=CRect.adopt({left:0,top:0,width:this.node.offsetWidth,height:this.node.offsetHeight}),n=CRect.adopt(this.placement.root.getBoundingClientRect()),s=n.intersect(t),a=s.zero()?CRect.ZERO:s.map(e,i);this._computeMaxPossibleDimensions(),this.rectInView.equals(a)||(this.rectInView=a,this.emit(\"rectInViewChanged\",a),Logger(\"InViewObject\").debug(this.placement.constructor.name+\", rectInViewChanged: \"+this.rectInView.toString()))},PlacementInView.prototype.destroy=function(){this.stop(),this.adapter.off(\"containerViewableChange\",this._handleViewableChange)},PlacementInView.prototype._start=function(){this.adapter.Ticker.frame(this._tick,\"update\")},PlacementInView.prototype._tick=function(){var e=Date.now();e-this._lastRunTime>this._timestepInterval&&(this.computeRectInView(),this._lastRunTime=e)},PlacementInView.prototype._stop=function(){this.adapter.Ticker.removeFrame(this._tick,\"update\")},PlacementInView.prototype._computeMaxPossibleDimensions=function(){var e=this.adapter.getPlacementRect(this.placement),t=this.adapter.getViewportRect();this._maxPossibleDimensions={width:Math.min(t.width,e.width),height:Math.min(t.height,e.height)},this._maxPossibleDimensions.area=this._maxPossibleDimensions.width*this._maxPossibleDimensions.height};;\nfunction InterstitialFormat(e){Format.apply(this,arguments),e.adBehavior.interstitial=!0,e.adBehavior.expandable=!1,this.setup()}inherit(InterstitialFormat,Format),InterstitialFormat.prototype.setup=function(){this.setupViewableTimeObserver();var e=new TaskScheduler;e.when(\"ready\").run(function(){this.adapter.on(\"stateChange\",function(e){this.transitionTo(e)}.bind(this)),this.adapter.createPlacements({banner:{attachment:\"body\",positioning:\"screen\",type:\"unit\"}},function(){var t=this.placements.banner;this.populateBanner(t,function(){this.adViewableTimeObserver&&this.adViewableTimeObserver.registerUnit(t.creative.units.banner),e.notify(\"bannerPopulated\")}.bind(this))}.bind(this))}.bind(this)),e.when(\"bannerPopulated\").run(function(){var t=this.placements.banner,i=this.units.banner=t.creative.units.banner,a=!1;t.creative.trackCreativeLoaded(this.observationAbilities),this.adapter.triggerLoadedEvent(),t.show(),this.adapter.viewabilityMeasurable.viewable00?(a=\"1\"==this.adapter.runtimeParams.immediateAppear,this.adapter.waitForViewableCore(t,i.node,function(i){t.creative.track({name:\"viewable00\",criterion:i}),this.adViewableTimeObserver&&this.adViewableTimeObserver.readyToShow(),a||e.notify(\"placementViewable\")}.bind(this))):a=!0,a&&defer(e.notifies(\"placementViewable\")),this.adapter.viewabilityMeasurable.viewable501&&this.adapter.waitForViewableIAB(t,i.node,function(e){t.creative.track({name:\"viewable501\",criterion:e})})}.bind(this)),e.when(\"placementViewable\").run(function(){e.pause(),this.transitionTo(\"default\")}.bind(this)),this.adapter.on(\"ready\",e.notifies(\"ready\"))},InterstitialFormat.prototype.populateBanner=function(e,t){var i=e.creative.units.banner;i.swipeable=\"1\"==runtimeParams.swipeable,i.firstUnit=!0,i.showCloseButton=!this.adapter.providesCloseButton&&this.showsCloseButton,i.fillsContainer=!0,i.usePlaceboBar=i.loadingScreen&&\"undefined\"!=typeof i.loadingScreen.loaderVisible?i.loadingScreen.loaderVisible:!0,i.closeAction=i.dismissAction,this.connectPlacementEventsToUnitBehavior(e,i);var a=i.getNode(function(){e.populate(a,t),e.setZIndex(-2),e.setSize(\"100%\",\"100%\"),e.setPosition(0,0),e.setBackground(e.creative.units.banner.backgroundColor)}),n=i.orientation;\"portrait\"===n||\"landscape\"===n?i.enableWrongOrientationPrompt():i.wrongOrientationHandling&&(n=this._getBackwardCompatibleOrientation(i),this.adapter.setOrientationLock(n)||\"noOrientation\"===n||(i.enableWrongOrientationPrompt(),i.setCorrectOrientation(n)))},InterstitialFormat.prototype.transitionTo=function(e,t,i){if(t||(t={}),null==this.state&&\"default\"==e)this.adapter.maximizeViewport(function(){this.placements.banner.show(),this.units.banner.appear(),this.adapter.startObscuringContent(),i&&defer(i)}.bind(this));else if(\"default\"==this.state&&\"dismissed\"==e)this.adapter.stopObscuringContent(),this.placements.banner.hide(),this.units.banner.disappear(),this.destroy();else{if(null!=this.state||\"dismissed\"!=e)throw new Error(\"Invalid state transition request! (\"+this.state+\" => \"+e+\")\");this.destroy()}this.state=e};;\nfunction SDKAdapter(t,e,i,n,r,o,a,s){if(this.runtimeParams=t,this.trackingCenter=e,this.aggregatorTracking=i,this.experiments=n,this.macros=a,this.perf=s,this.scriptElement=script,this.adapterWindow=this.scriptElement.ownerDocument.defaultView,this.getAppOverrideUrls=o,this.openWebsiteOverrideUrls=r,this.providesCloseButton=!1,this.enableCustomStateTransitions=!1,this.adBehavior={interstitial:!1,expandable:!1,expanded:!1,sticky:!1},this.viewabilityMeasurable={viewable00:!1,viewable501:!1},this.canMeasureViewportPlacementGeometry=!1,this.canMeasureViewportPlacementGeometryRelativeToPage=!1,this.supportsContainerViewability=!1,this.supportsContainerInitialViewability=!1,this.videoCapabilites={html5:!0,inline:!1,autoplay:!1,fallbackToMpeg1:!0,fullscreenLandscapeButtonsHack:!1},this.useFSVP=!0,\"undefined\"!=typeof this.runtimeParams.topLayerZIndex){var d=parseInt(this.runtimeParams.topLayerZIndex,10);!isNaN(d)&&d>20&&(Placement.ZINDEX_MAX=Math.min(Placement.ZINDEX_MAX,d))}this.hacks={},this._hooks={},this.placements={},this._handleResize=this._handleResize.bind(this),this._handleOrientationChange=this._handleOrientationChange.bind(this),this._handleViewportChange=this._handleViewportChange.bind(this),this._handleDetachedFromDocument=this._handleDetachedFromDocument.bind(this),this._updatePlacements=this._updatePlacements.bind(this),this._keyboardShown=!1,this._onKeyboardShown=this._onKeyboardShown.bind(this),this._onKeyboardHidden=this._onKeyboardHidden.bind(this),this._resizeTimer=null,this._listening=!1,this._touchEventSimulator=null,this.hostWindow=window,this.topWindowNativeRAF=this._getTopWindowNativeRAF(),this.mediaState=new MediaState,this.nativeRAFIsSupported=[\"r\",\"webkitR\",\"mozR\",\"msR\"].some(function(t){return t+\"equestAnimationFrame\"in window}),this.visibilityApiIsSupported=[\"webkit\",\"moz\",\"ms\",\"\"].some(function(t){return(t?t+\"Hidden\":\"hidden\")in window.document});var h=function(t){t&&(this.trackingCenter.track({name:\"containerBecameViewable\"}),this.off(\"containerViewableChange\",h))}.bind(this);defer(function(){var t=this.perf.start(\"Adapter.startObservingEnvironment\");this._startObservingEnvironment(),t.end(),this.supportsContainerInitialViewability&&(this.containerIsViewable?this.trackingCenter.track({name:\"containerBecameViewable\"}):this.on(\"containerViewableChange\",h))}.bind(this)),ios(\"7\",null)?this.on(\"viewportChange\",this._updatePlacements):this.on(\"resize\",this._updatePlacements),this._displayed=!1,this.on(\"displayed\",function(){this._displayed=!0}.bind(this)),this.sdkReady=!1,this._initRequestAnimationFrame(),this.once(\"domReady\",this.perf.marks(\"Adapter.domReady\")),this.once(\"documentReady\",this.perf.marks(\"Adapter.documentReady\")),this.once(\"sdkReady\",this.perf.marks(\"Adapter.sdkReady\")),this.once(\"ready\",this.perf.marks(\"Adapter.ready\")),defer(function(){var t=this.perf.start(\"Adapter.initSdk\");this._initSdk(deferred(function(){t.end(),this.sdkReady=!0,this.emit(\"sdkReady\")}.bind(this)))}.bind(this)),this.on(\"documentReady\",function(){android(\"4.0\")&&this.getTopWindow().setInterval(function(){for(var t in this.placements)this.placements[t]._flash()}.bind(this),250)}.bind(this))}extend(SDKAdapter.prototype,EventEmitter),Object.defineProperty(SDKAdapter.prototype,\"__CELTRA\",{get:function(){return this.getTopWindow().__CELTRA||(this.getTopWindow().__CELTRA={formats:[]}),this.getTopWindow().__CELTRA},enumerable:!0}),SDKAdapter.prototype._startObservingEnvironment=function(){if(!this._listening){this.resizeListener=this._createViewportListener(),this.resizeListener.start(this._handleResize,this._handleViewportChange);var t=this._createOrientationObserver(function(t){this.orientationObserver=t,this.orientationObserver.start(),Object.defineProperty(this,\"orientation\",{get:function(){return this.orientationObserver.getOrientation()}.bind(this),configurable:!0})}.bind(this));t&&(this.orientationObserver=t,this.orientationObserver.start(),Object.defineProperty(this,\"orientation\",{get:function(){return this.orientationObserver.getOrientation()}.bind(this),configurable:!0})),this.containerViewabilityObserver=this._createContainerViewabilityObserver(),this.containerViewabilityObserver.start(),Object.defineProperty(this,\"containerIsViewable\",{get:function(){return this.containerViewabilityObserver.isViewable}.bind(this),configurable:!0}),this.documentAttachmentObserver=this._createDocumentAttachmentObserver(),this.documentAttachmentObserver.start(this._handleDetachedFromDocument),this.on(\"domReady\",function(){this._initDocument(deferred(this.emits(\"documentReady\")))}.bind(this)),this.once(\"sdkReady\",function(){this.collectAndTrackData(function(t){var e={width:this.getTopWindow().innerWidth,height:this.getTopWindow().innerHeight},i={width:this.hostWindow.innerWidth,height:this.hostWindow.innerHeight},n={scope:\"global\",userAgent:window.navigator.userAgent,orientation:this.orientation,topmostReachableWindow:e,hostWindow:i,nesting:this._getNesting(this.hostWindow),pageVisibilityApi:this.visibilityApiIsSupported,requestAnimationFrame:this.nativeRAFIsSupported,topWindowNativeRAFSupported:this.topWindowNativeRAF.supported,clientTimeZoneOffsetInMinutes:(new Date).getTimezoneOffset(),supportsContainerViewability:this.supportsContainerViewability,supportsContainerInitialViewability:this.supportsContainerInitialViewability};t(n)}.bind(this),\"environmentInfo\")}.bind(this));var e=!1;this._waitForDomReady(function(){e||(this.emit(\"domReady\"),e=!0)}.bind(this)),this._listening=!0}},SDKAdapter.prototype._initRequestAnimationFrame=function(){function t(t){var e=Date.now(),i=Math.max(0,16-(e-r)),n=window.setTimeout(function(){t(e+i)},i);return r=e+i,n}function e(t){clearTimeout(t)}var i=this,n=\/(iP(ad|hone|od).*OS 6)|(Android.*\\b[SG]\\w{1,2}-\\w\\d{3,4}\\w?\\b)\/.test(window.navigator.userAgent),r=0,o=window.requestAnimationFrame||null,a=window.cancelAnimationFrame||null;[\"webkit\",\"moz\"].forEach(function(t){o=o||window[t+\"RequestAnimationFrame\"]||null,a=a||window[t+\"CancelAnimationFrame\"]||window[t+\"CancelRequestAnimationFrame\"]||null}),this.nextFrame=function(){var e=n||null===o?t:o;return e.apply(this.getTopWindow(),arguments)}.bind(this),this.cancelFrame=function(){var t=n||null===a?e:a;return t.apply(this.getTopWindow(),arguments)}.bind(this),this.Ticker={update:[],render:[],next:[]},this.Ticker.frame=function(t,e){var i=this[e||\"render\"];i.indexOf(t)<0&&i.push(t)},this.Ticker.removeFrame=function(t,e){var i=this[e||\"render\"],n=i.indexOf(t);~n&&i.splice(n,1)},this.Ticker.init=function(){i.nextFrame(this.tick)},this.Ticker.tick=function(t){function e(e){e(t)}i.nextFrame(this.tick),this.update.length&&this.update.forEach(e),this.render.length&&this.render.forEach(e),this.next.length&&(this.next.forEach(e),this.next=[])}.bind(this.Ticker),this.Ticker.init(),window.nextFrame=this.nextFrame,window.cancelFrame=this.cancelFrame,window.Ticker=this.Ticker},SDKAdapter.prototype._initSdk=function(t){t()},SDKAdapter.prototype._initDocument=function(t){t()},SDKAdapter.prototype._onKeyboardShown=function(){this._keyboardShown=!0},SDKAdapter.prototype._onKeyboardHidden=function(){this._keyboardShown=!1,defer(this._updatePlacements)},SDKAdapter.prototype._createViewportListener=function(){var t=this,e={_resizeCallback:null,_viewportChangeCallback:null,start:function(e,i){var n=t.getTopWindow();this._resizeCallback=e,this._viewportChangeCallback=i,n.addEventListener(\"resize\",this._resizeHandler,!1),n.addEventListener(\"scroll\",this._scrollHandler,!1),ios()&&(n.addEventListener(\"focus\",this._focusHandler,!0),n.addEventListener(\"blur\",this._blurHandler,!0))},stop:function(){var e=t.getTopWindow();e.removeEventListener(\"resize\",this._resizeHandler,!1),e.removeEventListener(\"scroll\",this._scrollHandler,!1),ios()&&(e.removeEventListener(\"focus\",this._focusHandler,!0),e.removeEventListener(\"blur\",this._blurHandler,!0))}};return e._resizeHandler=function(){\"undefined\"!=typeof window?(this._resizeCallback(),this._viewportChangeCallback()):t.dismiss()}.bind(e),e._scrollHandler=function(){\"undefined\"!=typeof window?this._viewportChangeCallback():t.dismiss()}.bind(e),e._focusHandler=function(e){[\"INPUT\",\"TEXTAREA\"].indexOf(e.target.nodeName)>-1&&(t._keyboardShown=!0)},e._blurHandler=function(){t._keyboardShown=!1,defer(function(){t._keyboardShown||(e._resizeCallback(),e._viewportChangeCallback())})},e},SDKAdapter.prototype._createOrientationObserver=function(){var t=this,e=this.getTopWindow(),i={_orientationChangeEventQueued:!1,start:function(){e.addEventListener(\"orientationchange\",this._handler,!1)},stop:function(){e.removeEventListener(\"orientationchange\",this._handler,!1)},getOrientation:function(){return t._normalizeOrientation(e.orientation)||0},_handler:function(){\"undefined\"!=typeof window?(t.emit(\"_rawOrientationChange\"),i._orientationChangeEventQueued=!0,t.once(\"resize\",i._trigger),setTimeout(i._trigger,1e3)):t.dismiss()},_trigger:function(){i._orientationChangeEventQueued&&(i._orientationChangeEventQueued=!1,defer(t.emits(\"orientationchange\")))}};return i},SDKAdapter.prototype._createContainerViewabilityObserver=function(){var t=this;return{isViewable:!1,start:function(){defer(function(){this.isViewable=!0,t.emit(\"containerViewableChange\",this.isViewable)}.bind(this))},stop:function(){}}},SDKAdapter.prototype.triggerLoadedEvent=function(){var t=this.getHostElement().ownerDocument.createEvent(\"HTMLEvents\");t.initEvent(\"celtraLoaded\",!0,!1),this.getHostElement().dispatchEvent(t)},SDKAdapter.prototype.waitForDisplayed=function(t){return this._displayed?defer(t):void this.once(\"displayed\",t)},SDKAdapter.prototype.waitForContainerViewable=function(t){if(this.containerIsViewable)return defer(t);var e=function(i){i&&(this.off(e),defer(t))}.bind(this);this.on(\"containerViewableChange\",e)},SDKAdapter.prototype._createDocumentAttachmentObserver=function(){var t=this,e=t.getHostElement(),i={_handler:null,_interval:60,_timer:null,start:function(e){this._handler=e,this._timer=t.getTopWindow().setTimeout(this.tick,this._interval)},stop:function(){t.getTopWindow().clearTimeout(this._timer),this._timer=null},tick:function(){if(e.parentNode&&null!==window){for(var i=e;(i=i.parentNode)&&i&&i!==i.ownerDocument.documentElement;);i?this._timer=t.getTopWindow().setTimeout(this.tick,this._interval):(this._handler(),this._timer=null)}else this._handler()}};return i.tick=i.tick.bind(i),i},SDKAdapter.prototype.getHostElement=function(){return this.scriptElement.parentNode},SDKAdapter.prototype._normalizeOrientation=function(t){var e=this.getTopWindow().navigator.userAgent,i=[\"Nexus 10\",\"GT-N8\",\"SM-P60\",\"GT-P5\",\"SCH-19\",\"GT-P7\",\"SM-T9\",\"SM-T5\",\"SM-T8\"];return i.some(function(t){return-1!=e.indexOf(t)})&&(t+=90,270==t&&(t=-90)),t},SDKAdapter.prototype._waitForDomReady=function(t){var e=this.getTopWindow().document;\"interactive\"===e.readyState||\"loaded\"===e.readyState||\"complete\"===e.readyState?defer(t):e.addEventListener(\"DOMContentLoaded\",t,!1)},SDKAdapter.prototype._stopObservingEnvironment=function(){this._listening&&(this.resizeListener.stop(this._handleResize),this.orientationObserver.stop(),this.documentAttachmentObserver.stop(),this._listening=!1)},SDKAdapter.prototype.setMinimumSize=function(){},SDKAdapter.prototype._handleResize=function(){var t=!1;this.emit(\"beforeResize\",function(e){t=e}),t?defer(function(){this.emit(\"resize\")}.bind(this),700):this.emit(\"resize\")},SDKAdapter.prototype._handleViewportChange=function(){this.emit(\"viewportChange\")},SDKAdapter.prototype._handleOrientationChange=function(t){this.emit(\"orientationchange\",t)},SDKAdapter.prototype._handleDetachedFromDocument=function(){this.dismiss()},SDKAdapter.prototype._updatePlacements=function(t){function e(){--i||(t&&t(),defer(n.emits(\"placementsUpdated\")))}if(t=t||noop,this._keyboardShown)return t();var i=0,n=this;for(var r in this.placements)i++,\"undefined\"!=typeof window&&this.placements[r].update(e)},SDKAdapter.prototype._stopAllMedia=function(){for(var t in this.placements)for(var e=this.placements[t].querySelectorAll(\"audio,video\"),i=0;i<e.length;i++)null===e[i].getAttribute(\"x-stop-all-media-ignore\")&&\"function\"==typeof e[i].pause&&e[i].pause();var n=this.adapterWindow.FullscreenVideoPlayer;\"undefined\"!=typeof n&&n.close(),this.emit(\"mediaStopRequested\")},SDKAdapter.prototype.createPlacements=function(t,e){var i=Object.keys(t),n=Object.keys(this.placements),r=i.filter(function(t){return-1==n.indexOf(t)}),o=this.perf.start(\"Adapter.createPlacements\",r);if(0==r.length)o.end(),defer(e);else{var a=new TaskScheduler;a.when(r).run(function(){o.end(),defer(e)}),r.forEach(function(e){var i=this.perf.start(\"Adapter.createPlacement\",{name:e,descriptor:t[e]});experiments.get(\"ConsolidateIframes\")&&(t[e].name=e),this.createPlacement(t[e],function(t){i.end(),this.placements[e]=t,defer(a.notifies(e))}.bind(this))},this)}},SDKAdapter.prototype.createPlacement=function(){throw new Error(\"SDKAdapter.createPlacement not implemented!\")},SDKAdapter.prototype.destroyPlacement=function(t){for(var e in this.placements)e==t&&(this.placements[e].destroy(),delete this.placements[e])},SDKAdapter.prototype.hook=function(t,e){this._hooks[t]=e},SDKAdapter.prototype.waitForHook=function(t,e){var i=Array.prototype.slice.call(arguments,1);this._hooks[t]?this._hooks[t].apply(null,i):e()},SDKAdapter.prototype.getPlacementRect=function(t){return t.root?CRect.adopt(t.root.getBoundingClientRect()):CRect.ZERO},SDKAdapter.prototype.getViewportRect=function(){var t=this.getTopWindow();return CRect.adopt({left:0,top:0,width:t.innerWidth,height:t.innerHeight})},SDKAdapter.prototype.expand=function(){throw new Error(\"SDKAdapter.expand not implemented!\")},SDKAdapter.prototype.collapse=function(){throw new Error(\"SDKAdapter.collapse not implemented!\")},SDKAdapter.prototype.dismiss=function(){throw new Error(\"SDKAdapter.dismiss not implemented!\")},SDKAdapter.prototype.resize=function(){throw new Error(\"SDKAdapter.resize not implemented!\")},SDKAdapter.prototype.playVideoInPlayer=function(){throw new Error(\"SDKAdapter.playVideoInPlayer not implemented!\")},SDKAdapter.prototype.callPhone=function(t){window.location.href=\"tel:\"+encodeURIComponent(t)},SDKAdapter.prototype.openBrowser=function(){throw new Error(\"SDKAdapter.openBrowser not implemented!\")},SDKAdapter.prototype.getApp=function(){throw new Error(\"SDKAdapter.getApp not implemented!\")},SDKAdapter.prototype.canSaveImage=function(){throw new Error(\"SDKAdapter.canSaveImage not implemented!\")},SDKAdapter.prototype.saveImage=function(){throw new Error(\"SDKAdapter.saveImage not implemented!\")},SDKAdapter.prototype.getTopWindow=function(){if(this._topWindow)return this._topWindow;var t=window;try{for(;\"undefined\"!=typeof t.parent.location.href&&t.parent.document!==t.document;)t=t.parent}catch(e){}return this._topWindow=t},SDKAdapter.prototype.getPageDimensions=function(){var t=this.getTopWindow().document,e=t.body,i=t.documentElement;return{height:Math.max(e.scrollHeight,e.offsetHeight,i.clientHeight,i.scrollHeight,i.offsetHeight),width:Math.max(e.scrollWidth,e.offsetWidth,i.clientWidth,i.scrollWidth,i.offsetWidth)}},SDKAdapter.prototype.saveCalendarEvent=function(t,e){var i=CCalendar.getEventICSUrl(t);i?(this.openBrowser(i),e(!0)):e(!1)},SDKAdapter.prototype.maximizeViewport=function(t){defer(t)},SDKAdapter.prototype.startObscuringContent=function(){},SDKAdapter.prototype.stopObscuringContent=function(){},SDKAdapter.prototype.setOrientationLock=function(){return!1},SDKAdapter.prototype.autoLock=function(){return!1},SDKAdapter.prototype._getDefaultLockOrientation=function(){return\"a\"},SDKAdapter.prototype.determineLockOrientation=function(){function t(){return this.orientation%180==0?\"portrait\":\"landscape\"}var e=creative.unitSizes.modal,i=void 0,n=(this.runtimeParams.lockOrientation||this._getDefaultLockOrientation()).toLowerCase();return i=\"n\"===n?\"noOrientation\":\"l\"===n?\"landscape\":\"p\"===n?\"portrait\":\"a\"===n&&e?e.width<e.height?\"portrait\":e.width>e.height?\"landscape\":t():t()},SDKAdapter.prototype.collectAndTrackData=function(t,e){function i(){try{t(function(t){t.name=e,this.trackingCenter.trackNoLaterThan(t,n)}.bind(this))}catch(i){this.trackingCenter.trackNoLaterThan({name:e,error:i.message+\"\\n\"+i.stack},n)}}if(\"function\"!=typeof t)throw new Error(\"The dataCollector param was not a function.\");if(\"undefined\"==typeof e)throw new Error(\"The eventName param was not defined.\");var n=1e3;defer(i.bind(this))},SDKAdapter.prototype._getNesting=function(t){var e={iframe:t!==window.top,friendlyIframe:!1,iabFriendlyIframe:!1,hostileIframe:!1,iframeDepth:0};if(e.iframe){var i=t;try{for(e.friendlyIframe=e.iframe&&!!window.top.location.href,e.iabFriendlyIframe=e.friendlyIframe&&\"undefined\"!=typeof t.inDapIF&&t.inDapIF;\"undefined\"!=typeof i.parent.location.href&&i.parent.document!==i.document;)i=i.parent,e.iframeDepth++}catch(n){e.hostileIframe=!0}}return e},SDKAdapter.prototype._getTopWindowNativeRAF=function(){function t(t){return n?n.call(i,t):void 0}function e(t){r&&r.call(i,t)}var i=this.getTopWindow(),n=i.webkitRequestAnimationFrame||i.requestAnimationFrame||null,r=i.webkitCancelAnimationFrame||i.webkitCancelRequestAnimationFrame||i.cancelAnimationFrame||null;return n&&-1===n.toString().indexOf(\"[native code]\")&&(n=r=null),{requestAnimationFrame:t,cancelAnimationFrame:e,supported:null!==n}};;\nfunction BrowserAdapter(){BrowserAdapter.uberConstructor.apply(this,arguments),this.isSingleOccupant=!1,this.hasDeadZones=ios(\"7\"),this.on(\"ready\",function(){this._setupMouseLeaveObserver(),defer(this.emits(\"displayed\"))}.bind(this))}inherit(BrowserAdapter,SDKAdapter),BrowserAdapter.prototype._setupMouseLeaveObserver=function(){var e=this.getTopWindow();\"ontouchstart\"in e||navigator.msMaxTouchPoints||attach(e.document,\"mouseout\",function(t){t=t?t:e.event;var i=e.document.documentElement;viewportWidth=Math.max(i.clientWidth,e.innerWidth||0),viewportHeight=Math.max(i.clientHeight,e.innerHeight||0),mouseX=t.clientX||t.pageX,mouseY=t.clientY||t.pageY,outLeft=mouseX<1,outRight=mouseX>viewportWidth-1,outTop=mouseY<1,outBottom=mouseY>viewportHeight-1,t.toElement&&\"HTML\"!==t.toElement.tagName||!(outLeft||outRight||outTop||outBottom)||Object.keys(this.placements).forEach(function(e){this.placements[e].touchEventSimulator&&this.placements[e].touchEventSimulator.cancelInteraction()},this)}.bind(this),!1)},BrowserAdapter.prototype._enableClickShield=function(){function e(e){e.preventDefault(),e.stopPropagation(),t()}function t(){i&&i.parentNode&&(i.removeEventListener(\"click\",e,!0),i.parentNode.removeChild(i),i=null)}var i=document.createElement(\"div\"),o=this.getTopWindow();i.style.position=\"absolute\",i.style.left=i.style.top=0,i.style.width=i.style.height=\"100%\",i.style.background=\"none\",i.style.zIndex=Placement.ZINDEX_MAX,i.style.webkitTapHighlightColor=\"rgba(0,0,0,0)\",o.setTimeout(function(){o.document.body.appendChild(i)},0),i.addEventListener(\"click\",e,!0),o.setTimeout(t,500)},BrowserAdapter.prototype._createContainerViewabilityObserver=function(){var e=this,t=this.getTopWindow().document,i={isSupported:!1,propertyName:\"\",eventName:\"\",isVisible:function(){return this.isSupported?!t[this.propertyName]:!0},init:function(){[\"webkit\",\"moz\",\"ms\",\"\"].forEach(function(e){var i=e?e+\"Hidden\":\"hidden\";i in t&&(this.isSupported=!0,this.propertyName=i,this.eventName=e+\"visibilitychange\")},this)}};i.init();var o={isViewable:!1,start:function(){i.isVisible()&&defer(n),i.isSupported&&t.addEventListener(i.eventName,n)},stop:function(){i.isSupported&&t.removeEventListener(i.eventName,n)}},n=function(){var t=this.isViewable;this.isViewable=i.isVisible(),t!=this.isViewable&&e.emit(\"containerViewableChange\",this.isViewable)}.bind(o);return o},BrowserAdapter.prototype._downsizePlacements=function(){for(var e in this.placements)(android(\"2.3\")||\"screen\"==this.placements[e].positioning)&&this.placements[e].setSize(1,1,!0)},BrowserAdapter.prototype._getUnitViewabilityObserver=function(e,t){return this._unitViewabilityObserver||(this._unitViewabilityObserver=new UnitViewabilityObserver(this,e,t)),this._unitViewabilityObserver},BrowserAdapter.prototype.waitForViewableCore=function(e,t,i){this._getUnitViewabilityObserver(e,t).waitForViewableCore(i)},BrowserAdapter.prototype.waitForViewableIAB=function(e,t,i){this._getUnitViewabilityObserver(e,t).waitForViewableIAB(i)};;\nfunction MobileWebAdapter(e,t,i,n){if(MobileWebAdapter.uberConstructor.apply(this,arguments),this.hostWindow=window.parent,this.nesting=this._getNesting(n.get(\"ConsolidateIframes\")?window.originatingWindow:this.hostWindow),this.videoCapabilites=extend(this.videoCapabilites,{inline:android(\"4\",\"5\")||tablet()||desktop(),autoplay:desktop(),fullscreenLandscapeButtonsHack:\/iP(hone|od)\/.test(navigator.userAgent)&&ios(\"7\")}),\"undefined\"==typeof window.unitScript?Object.defineProperty(this,\"unitScript\",{get:function(){return document.getElementById(\"creativeScript\").textContent}}):this.unitScript=unitScript,this.requiredDeviceType=requiredDeviceType,this.trackingCenter=t,this.aggregatorTracking=i,this.brand=brand,this.__CELTRA.stickyPresent&&this.runtimeParams.sticky)return t.track({name:\"userError\",userErrorId:\"multipleStickyAds\"}),defer(this.dismiss.bind(this));this.runtimeParams.sticky&&(this.__CELTRA.stickyPresent=!0),this.hacks.needsConstantFlashing=kindleSilk(\"1\")||\/\\bHTC.One.S\\b\/.test(navigator.userAgent),this.hacks.requiresHidingInputsAndLinks=android()&&(\/HTC\/g.test(navigator.userAgent)||\"hiding\"==this.runtimeParams.focusableHighlightFix),this.hacks.fixFocusablesHighlighting=android(\"2\",\"4.0\"),this.hacks.hasBuggyDateInputControls=android()&&!\/Chrome\/i.test(navigator.userAgent)&&\/HTC.One.[^S]|GT-I930[05]|S[PGC][HV]-(E210[KLS]|T999|I747|N064|N035|J021|R530|I535|S960L|S968C|L710)\/.test(navigator.userAgent),this.hacks.requiresWrappingPlacementWithComments=windows(\"10\"),this.providesCloseButton=!1,this.enableCustomStateTransitions=!(\/Windowshop\/.test(navigator.userAgent)&&kindle()),this.nesting.iframe&&!this.nesting.iabFriendlyIframe||\"1\"===this.runtimeParams.overpass||(this.viewabilityMeasurable={viewable00:!0,viewable501:this.visibilityApiIsSupported},this.canMeasureViewportPlacementGeometry=!0,this.supportsContainerViewability=!0,this.supportsContainerInitialViewability=!0),this.nesting.hostileIframe||this.runtimeParams.sticky||(this.canMeasureViewportPlacementGeometryRelativeToPage=!0),this.nesting.iframe&&!this.nesting.iabFriendlyIframe&&t.track({name:\"userError\",userErrorId:\"nonFriendlyIFrame\"}),n.get(\"ConsolidateIframes\")?(this.win=this.hostWindow,this.hostElement=window.frameElement.parentNode):this.nesting.iabFriendlyIframe?(this.win=this.hostWindow.parent,this.hostElement=this.hostWindow.parent.document.createElement(\"div\"),this.hostElement.className=\"celtra-ad-v3\",this.hostWindow.frameElement.parentNode.insertBefore(this.hostElement,this.hostWindow.frameElement.nextSibling)):(this.win=this.hostWindow,this.hostElement=this.scriptElement.parentNode),this.hacks.requiresWrappingPlacementWithComments&&(this.hostElement.parentNode.insertBefore(this.win.document.createComment(\"ie10hack\"),this.hostElement),this.hostElement.parentNode.insertBefore(this.win.document.createComment(\"ie10hack\"),this.hostElement.nextSibling));var s=this.win.document.querySelector(\"meta[name=viewport]\");\"Phone\"==requiredDeviceType&&(s&&(s.content.match(\/minimum-scale=1(\\.0)?\/)&&s.content.match(\/maximum-scale=1(\\.0)?\/)||s.content.match(\/initial-scale=1(\\.0)?\/)&&s.content.match(\/user-scalable=no\/))||t.track({name:\"userError\",userErrorId:\"nonMobileOptimized\"})),this._parentPageHighlightStyle=null,this._downsizePlacements=this._downsizePlacements.bind(this),this._updatePlacements=this._updatePlacements.bind(this),this._topListenerAttached=!1,this.hostElement.activeAdapter||(this.hostElement.activeAdapter=this,this.on(\"documentReady\",function(){this.hacks.needsConstantFlashing&&this.getTopWindow().setInterval(function(){for(var e in this.placements)this.placements[e]._flash()}.bind(this),200),n.get(\"ConsolidateIframes\")||this.nesting.iabFriendlyIframe&&!this.adBehavior.interstitial&&(this.hostWindow.frameElement.style.display=\"none\"),\"undefined\"!=typeof FullscreenVideoPlayer&&FullscreenVideoPlayer.init({baseUrl:(this.runtimeParams.secure?urls.staticUrl:urls.insecureStaticUrl)+\"runner\/FullscreenVideoPlayer\/\",hostWindow:this.win}),this.emit(\"ready\")}.bind(this)),this.trackViewableAreaRatio=this.trackViewableAreaRatio.bind(this),this._viewableAreaRatio=0)}inherit(MobileWebAdapter,BrowserAdapter),MobileWebAdapter.prototype._getNesting=function(e){var t={iframe:e!==window.top,friendlyIframe:!1,iabFriendlyIframe:!1,hostileIframe:!1,iframeDepth:0};if(t.iframe){var i=e;try{for(t.friendlyIframe=t.iframe&&!!window.top.location.href,t.iabFriendlyIframe=t.friendlyIframe&&\"undefined\"!=typeof e.inDapIF&&e.inDapIF;\"undefined\"!=typeof i.parent.location.href&&i.parent.document!==i.document;)i=i.parent,t.iframeDepth++;\"undefined\"==typeof window.top.document&&(t.hostileIframe=!0)}catch(n){t.hostileIframe=!0}}return t},MobileWebAdapter.prototype.setMinimumSize=function(e,t){this.hostElement.style.minWidth=e+\"px\",this.runtimeParams.sticky||(this.hostElement.style.minHeight=t+\"px\")},MobileWebAdapter.prototype._createViewportListener=function(){var e;return android()||kindleSilk()?(e=new ViewportObserver(this.getTopWindow()),e.on(\"keyboardShown\",this._onKeyboardShown),e.on(\"keyboardHidden\",this._onKeyboardHidden),this.on(\"_rawOrientationChange\",this._downsizePlacements)):(e=MobileWebAdapter.uber._createViewportListener.apply(this),ios(\"8\",null)&&(e._resizeHandler=deferred(e._resizeHandler),e._scrollHandler=deferred(e._scrollHandler))),e},MobileWebAdapter.prototype.createPlacement=function(e,t){function i(){defer(function(){t&&t(r)})}var n={trackingCenter:this.trackingCenter,aggregatorTracking:this.aggregatorTracking,experiments:this.experiments,adapter:this,console:console,runtimeParams:this.runtimeParams,nextFrame:this.nextFrame,cancelFrame:this.cancelFrame,Ticker:this.Ticker,macros:this.macros,perf:this.perf},s={urls:urls,openWebsiteOverrideUrls:this.openWebsiteOverrideUrls,getAppOverrideUrls:this.getAppOverrideUrls,brand:this.brand},r=null;switch(e.type){case\"unit\":if([\"top\",\"bottom\"].indexOf(runtimeParams.sticky)>-1&&\"static\"==e.positioning){e.positioning=\"screen\",e.attachment=\"body\";var a={stickiness:runtimeParams.sticky,showDismissButton:\"1\"==runtimeParams.showDismissButton||\"1\"==runtimeParams.showStickyCloseButton,baseUrl:runtimeParams.secure?urls.staticUrl:urls.insecureStaticUrl,dismissCallback:function(){this.placements.banner.creative.units.banner.trackCreativeDismissed(),this.dismiss()}.bind(this)};experiments.get(\"ConsolidateIframes\")&&window.initialIframe&&\"banner\"===e.name?(r=StickyPlacement.create(window.initialIframe,e.positioning,a),i()):r=new StickyPlacement(e.positioning,this.unitScript,n,s,a)}else experiments.get(\"ConsolidateIframes\")&&window.initialIframe&&\"banner\"===e.name?(r=IframePlacement.create(window.initialIframe,e.positioning),i()):r=new IframePlacement(e.positioning,this.unitScript,n,s);break;case\"layer\":r=new DivPlacement(e.positioning);break;default:throw new Error(\"I can't do that, Dave.\")}if(!experiments.get(\"ConsolidateIframes\")||!r.root||!r.root.parentNode){var o;o=\"node\"==e.attachment?e.parentNode:\"placement\"==e.attachment?e.placement.root:\"inline\"==e.attachment?this.hostElement:this.adBehavior.interstitial&&this.nesting.friendlyIframe&&!this.nesting.iabFriendlyIframe&&\"1\"==this.runtimeParams._nobust?this.hostWindow.document.body:this.getTopWindow().document.body,r.attachTo(o,i)}(ios()||kindleSilk())&&r.once(\"populated\",function(){(r instanceof IframePlacement||!(r instanceof IframePlacement)&&!this._topListenerAttached)&&(r.getContainer().ownerDocument.addEventListener(\"focus\",this._onKeyboardShown,!0),r.getContainer().ownerDocument.addEventListener(\"blur\",this._onKeyboardHidden,!0),this._topListenerAttached=!0)}.bind(this))},MobileWebAdapter.prototype.getTopWindow=function(){return this.nesting||(this.nesting=this._getNesting(this.hostWindow)),this.nesting.hostileIframe?this.hostWindow:SDKAdapter.prototype.getTopWindow.apply(this)},MobileWebAdapter.prototype.expand=function(e,t){return this.nesting.hostileIframe?(window.top.location.href=this.placements.banner.creative.wrapRedirectPageUrl(this.getModalUrl()),void(e&&e())):(this.animateExpansion=\"\"!=t.animation&&this.enableCustomStateTransitions,this._stopAllMedia(),this.preExpandScroll={x:this.win.scrollX,y:this.win.scrollY},void this.waitForHook(\"beforeExpand\",function(){this._enableClickShield(),defer(function(){this.emit(\"stateChange\",\"expanded\")}.bind(this)),e&&e()}.bind(this)))},MobileWebAdapter.prototype.collapse=function(e){this._stopAllMedia(),this.waitForHook(\"beforeCollapse\",function(){!desktop()&&this.preExpandScroll&&this.win.scrollTo(this.preExpandScroll.x,this.preExpandScroll.y),this._enableClickShield(),defer(function(){this.emit(\"stateChange\",\"default\")}.bind(this)),e&&e()}.bind(this))},MobileWebAdapter.prototype.dismiss=function(e,t){this._stopAllMedia();var i={};t&&Object.keys(t).forEach(function(e){i[e]=t[e]}),this._enableClickShield(),this.waitForHook(\"beforeDismiss\",function(){this._stopObservingEnvironment(),this.emit(\"stateChange\",\"dismissed\"),this.trackingCenter.flush(),this.hostElement&&this.hostElement.parentNode&&(this._enableClickShield(),this.hostElement.parentNode.removeChild(this.hostElement)),this.__CELTRA.stickyPresent&&(this.runtimeParams.sticky||this.adBehavior.sticky)&&(this.__CELTRA.stickyPresent=!1),(e||noop)()}.bind(this),i)},MobileWebAdapter.prototype.resize=function(e,t){var i={};t&&Object.keys(t).forEach(function(e){i[e]=t[e]}),this._enableClickShield(),this.waitForHook(\"beforeResize\",e,i)},MobileWebAdapter.prototype.maximizeViewport=function(e){return desktop()?e():(this.win.scrollBy(0,android()?100:1),void this.win.setTimeout(function(){this._updatePlacements(e)}.bind(this),android()?100:0))},MobileWebAdapter.prototype.playVideoInPlayer=function(e,t){!this.nesting.hostileIframe||ios()||this.adBehavior.interstitial?FullscreenVideoPlayer.play(e,t):(window.top.location.href=e.url,t(!0))},MobileWebAdapter.prototype.callPhone=function(e){if(\/Chrome\/.test(navigator.userAgent)){var t=document.createElement(\"a\");t.href=\"tel:\"+encodeURIComponent(e),t.addEventListener(\"click\",function(){t.parentNode.removeChild(t)}),this.getTopWindow().document.body.appendChild(t),t.click()}else MobileWebAdapter.uber.callPhone.apply(this,arguments)},MobileWebAdapter.prototype.openBrowser=function(e,t){t?fakeClickAhrefBlank(e,noop,this.getTopWindow()):this.nesting.hostileIframe?window.top.location.href=e:this.getTopWindow().location.href=e},MobileWebAdapter.prototype.getApp=function(e){this.openBrowser(e)},MobileWebAdapter.prototype.canSaveImage=function(){return desktop()||android()?!0:!1},MobileWebAdapter.prototype.saveImage=function(e,t,i){this.openBrowser(e+\"?transform=download&name=\"+t),i()},MobileWebAdapter.prototype.startObscuringContent=function(){this.hacks.fixFocusablesHighlighting&&(this._parentPageHighlightStyle&&this.stopObscuringContent(),this._parentPageHighlightStyle=this.getTopWindow().document.createElement(\"style\"),this._parentPageHighlightStyle.textContent=\"a, input, textarea, select { -webkit-tap-highlight-color: rgba(255, 0, 0, 0) !important; }input, textarea, select { visibility: hidden !important; }\",this.getTopWindow().document.querySelector(\"head\").appendChild(this._parentPageHighlightStyle))},MobileWebAdapter.prototype.stopObscuringContent=function(){this.hacks.fixFocusablesHighlighting&&(this._parentPageHighlightStyle&&this._parentPageHighlightStyle.parentNode&&this._parentPageHighlightStyle.parentNode.removeChild(this._parentPageHighlightStyle),this._parentPageHighlightStyle=null)},MobileWebAdapter.prototype._stopObservingEnvironment=function(){this._unitViewabilityObserver&&this._unitViewabilityObserver.stop(),MobileWebAdapter.uber._stopObservingEnvironment.apply(this,arguments)},MobileWebAdapter.prototype.waitForViewableIAB=function(e,t,i){this._getUnitViewabilityObserver(e,t).waitForViewableIAB(i),this.experiments.get(\"TrackViewableAreaChange\")&&this._setupViewableAreaChangeObserver()},MobileWebAdapter.prototype.trackViewableAreaRatio=function(){var e={name:\"viewableAreaRatio\",ratio:this._viewableAreaRatio};this.trackingCenter.track(e)},MobileWebAdapter.prototype._setupViewableAreaChangeObserver=function(){var e=!1,t=this.getTopWindow(),i=!0,n=0,s=0,r=1e3,a=0,o=30,h=function(){s=n;var e={name:\"largestViewableAreaRatio\",ratio:n};this.trackingCenter.track(e)}.bind(this),l=function(l){this._viewableAreaRatio=l,l>n&&(n=l),i?(i=!1,this.trackViewableAreaRatio(),h()):!e&&o>a&&(e=!0,a++,t.setTimeout(function(){e=!1,n>s&&h(),this.trackViewableAreaRatio()}.bind(this),r))}.bind(this);this._unitViewabilityObserver.addListener(l)};;\nfunction ViewportObserver(t){this.win=t,this.handler=null,this.keyboardShown=!1,this.resizeDelay=200,this.heightCutoff=120,this.dimensions={portrait:{left:0,top:0,width:null,height:0},landscape:{left:0,top:0,width:null,height:0}},this.triggerTimer=this.triggerTimer.bind(this),this.commitDimensions=this.commitDimensions.bind(this),this._resizeTimer=null}extend(ViewportObserver.prototype,EventEmitter),Object.defineProperty(ViewportObserver.prototype,\"isPortrait\",{get:function(){return\"undefined\"!=typeof this.win.orientation?0==this.win.orientation||180==this.win.orientation:this.win.innerWidth<this.win.innerHeight},enumerable:!0}),Object.defineProperty(ViewportObserver.prototype,\"isLandscape\",{get:function(){return!this.isPortrait},enumerable:!0}),Object.defineProperty(ViewportObserver.prototype,\"orientation\",{get:function(){return this.isPortrait?\"portrait\":\"landscape\"},enumerable:!0}),ViewportObserver.prototype.start=function(t,i){this._resizeCallback=t,this._viewportUpdateCallback=i,this.win.addEventListener(\"orientationchange\",this.triggerTimer),this.win.addEventListener(\"resize\",this.triggerTimer),this.win.addEventListener(\"scroll\",this.triggerTimer),this.commitDimensions()},ViewportObserver.prototype.stop=function(){this._resizeCallback=null,this._viewportUpdateCallback=null,this.win.removeEventListener(\"orientationchange\",this.triggerTimer),this.win.removeEventListener(\"resize\",this.triggerTimer),this.win.removeEventListener(\"scroll\",this.triggerTimer),clearTimeout(this._resizeTimer)},ViewportObserver.prototype.triggerTimer=function(){clearTimeout(this._resizeTimer),this._resizeTimer=this.win.setTimeout(this.commitDimensions,this.resizeDelay)},ViewportObserver.prototype.commitDimensions=function(){var t=this.getViewportGeometry(),i=this.dimensions[this.orientation];null!==i.width||this.keyboardShown?i.width==t.width&&(i.height-this.heightCutoff>t.height?(this.keyboardShown=!0,this.emit(\"keyboardShown\")):(this.keyboardShown=!1,this.emit(\"keyboardHidden\")),this._resizeCallback(),this._viewportUpdateCallback(),this.updateDimensions()):(this._resizeCallback(),this._viewportUpdateCallback())},ViewportObserver.prototype.updateDimensions=function(){var t=this.dimensions[this.orientation],i=this.getViewportGeometry();t.left=i.left,t.top=i.top,t.width=null===t.width?i.width:t.width,t.height=Math.max(i.height,t.height)},ViewportObserver.prototype.getViewportGeometry=function(){var t=this.win.document.documentElement;return{width:this.win.innerWidth,height:this.win.innerHeight,left:this.win.scrollX||t&&t.scrollLeft||0,top:this.win.scrollY||t&&t.scrollTop||0}};;\n\n            Logger.initFromRuntimeParams(runtimeParams);\n\n            var urls = {\"creativeUrl\":\"https:\\\/\\\/hub-user.celtra.com\\\/api\\\/creatives\\\/6c3632b2\\\/compiled\\\/\",\"apiUrl\":\"https:\\\/\\\/hub.celtra.com\\\/api\\\/\",\"cachedApiUrl\":\"https:\\\/\\\/cache-ssl.celtra.com\\\/api\\\/\",\"staticUrl\":\"https:\\\/\\\/cache-ssl.celtra.com\\\/api\\\/static\\\/vc8acf7d210\\\/\",\"insecureCreativeUrl\":\"http:\\\/\\\/hub-user.celtra.com\\\/api\\\/creatives\\\/6c3632b2\\\/compiled\\\/\",\"insecureApiUrl\":\"http:\\\/\\\/hub.celtra.com\\\/api\\\/\",\"insecureCachedApiUrl\":\"http:\\\/\\\/cache.celtra.com\\\/api\\\/\",\"insecureStaticUrl\":\"http:\\\/\\\/cache.celtra.com\\\/api\\\/static\\\/vc8acf7d210\\\/\",\"trackingUrl\":\"https:\\\/\\\/track.celtra.com\\\/\",\"insecureTrackingUrl\":\"http:\\\/\\\/track.celtra.com\\\/\",\"geoUrl\":\"https:\\\/\\\/geo.celtra.com\\\/\",\"insecureGeoUrl\":\"http:\\\/\\\/geo.celtra.com\\\/\",\"customAudiencesUrl\":\"https:\\\/\\\/audiences.celtra.com\",\"insecureCustomAudiencesUrl\":\"http:\\\/\\\/audiences.celtra.com\"};\n            urls.resourceUrl = runtimeParams.secure ? urls.staticUrl : urls.insecureStaticUrl;\n            \n            var trackingCenter = new TrackingCenter(\n                runtimeParams.sessionId,\n                runtimeParams.secure ? urls.trackingUrl : urls.insecureTrackingUrl,\n                trackers\n            );\n            \n            var aggregatorTracking = new AggregatorTracking(trackingCenter);\n            \n            var experiments = new Experiments(runtimeParams.variantChoices, trackingCenter);\n\n            var trackingLoadingTimesExperiment = experiments.get('TrackingLoadingTimes');\n            \n            var perf = new PerformanceTracker(trackingCenter, experiments);\n            perf.mark('payloadStart');\n\n            var downloadTimeCustomDimensions = {};\n\n            \/\/ Track redirect download time\n            var redirectTimeDiff = (runtimeParams.redirectJsClientTimestamp - runtimeParams.clientTimestamp) * 1000;\n            if (trackingLoadingTimesExperiment && runtimeParams.clientTimestamp && (redirectTimeDiff\/1000 < 30)) {\n                aggregatorTracking.trackAggregatorTime('redirectDownloadTime', Math.round(redirectTimeDiff), downloadTimeCustomDimensions);\n                aggregatorTracking.trackAggregator('redirectDownloadSuccesses', downloadTimeCustomDimensions);\n            }\n\n            \/\/ Track payload download time\n            var payloadTimeDiff = (runtimeParams.payloadJsClientTimestamp * 1000) - (runtimeParams.redirectJsClientTimestamp * 1000);\n            if (trackingLoadingTimesExperiment && (payloadTimeDiff\/1000 < 30)) {\n                aggregatorTracking.trackAggregatorTime('payloadDownloadTime', Math.round(payloadTimeDiff), downloadTimeCustomDimensions);\n                aggregatorTracking.trackAggregator('payloadDownloadSuccesses', downloadTimeCustomDimensions);\n            }\n            \n            var unitName = 'banner';\n            var requiredDeviceType = 'Phone';\n            \n            var perfAdapterNew = perf.start('Adapter.new');\n            var adapter = new MobileWebAdapter(runtimeParams, trackingCenter, aggregatorTracking, experiments, openWebsiteOverrideUrls, getAppOverrideUrls, macros, perf);\n            perfAdapterNew.end();\n            trackingCenter.windowForPixels = adapter.getTopWindow();\n            \n            var perfFormatNew = perf.start('Format.new');\n            var format = new InterstitialFormat(adapter, {\"banner\":{\"size\":null,\"layouts\":[{\"orientation\":\"portrait\",\"minSize\":{\"width\":0,\"height\":0},\"unitSize\":null,\"designTimeSize\":{\"width\":320,\"height\":460},\"unitAlignment\":{\"horizontal\":\"center\",\"vertical\":\"center\"}},{\"orientation\":\"portrait\",\"minSize\":{\"width\":321,\"height\":461},\"unitSize\":null,\"designTimeSize\":{\"width\":384,\"height\":615},\"unitAlignment\":{\"horizontal\":\"center\",\"vertical\":\"center\"}}]}});\n            perfFormatNew.end();\n        ";
            iframe.contentDocument.body.appendChild(sc);
        };
            })();
            