var BrowserDetect={init:function(){this.browser=this.searchString(this.dataBrowser)||"Other";this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"Unknown"},searchString:function(c){for(var a=0;a<c.length;a++){var b=c[a].string;this.versionSearchString=c[a].subString;if(b.indexOf(c[a].subString)!=-1){return c[a].identity}}},searchVersion:function(b){var a=b.indexOf(this.versionSearchString);if(a==-1){return}return parseFloat(b.substring(a+this.versionSearchString.length+1))},dataBrowser:[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.userAgent,subString:"Safari",identity:"Safari"},{string:navigator.userAgent,subString:"Opera",identity:"Opera"}]};BrowserDetect.init();function isIpad(){return(navigator.platform.indexOf("iPad")!=-1)}function toggleClickEvent(){var a;(isIpad())?a="touchstart":a="click";return a}function toggle(c,a){var b=document.getElementById(c);if(b.style.display=="none"){b.style.display=a;b.focus()}else{b.style.display="none"}}function setCookieAdvanced(b,g,c,j,e,a){if(c){var f=new Date();f.setTime(f.getTime());c=c*1000*60*60*24;var h=new Date(f.getTime()+c)}var d=getDomain();document.cookie=b+"="+escape(g)+(c?";expires="+h.toGMTString():"")+(j?";path="+j:";path=/")+(e?";domain="+e:";domain="+d)+(a?";secure":"")}function getCookieAdvanced(a){var f=document.cookie.split(";");var b="";var d="";var e="";var c=false;for(i=0;i<f.length;i++){b=f[i].split("=");d=b[0].replace(/^\s+|\s+$/g,"");if(d==a){c=true;if(b.length>1){e=unescape(b[1].replace(/^\s+|\s+$/g,""))}return e;break}b=null;d=""}if(!c){return null}}function deleteCookieAdvanced(a,d,c){if(getCookieAdvanced(a)){var b=getDomain();document.cookie=a+"="+(d?";path="+d:";path=/")+(c?";domain="+c:";domain="+b)+";expires=Thu, 01-Jan-1970 00:00:01 GMT"}}function getDomain(){var c=document.domain;var b=c.toString().split(".".toString());var a=b[b.length-2]+"."+b[b.length-1];return a}var searchTypes=[{name:"video",autocompleteUrl:"/video/search_autocomplete",submitUrl:searchUrlVideo,testTypePattern:"video"},{name:"photos",autocompleteUrl:"/video/search_autocomplete",submitUrl:searchUrlPhoto,testTypePattern:"albums"},{name:"members",autocompleteUrl:null,submitUrl:searchUrlMember,testTypePattern:"user"},{name:"pornstars",autocompleteUrl:"/pornstars/search_autocomplete",submitUrl:searchUrlPornstar,testTypePattern:"pornstars"},{name:"gifs",autocompleteUrl:"/video/search_autocomplete",submitUrl:searchUrlGifs,testTypePattern:"gifs"}];var dropdown=(function(){var instance=null,dropdowns=[],id=0,dontProcess=false;function Dropdown(options){var dontProcess=false,defaults={dropdownTrigger:"dropdownTrigger",dropdownWrapper:"dropdownWrapper",timeout:4000,hideDelay:true};this.options=MG_Utils.extendDefaults(defaults,arguments[0]);this.wrapper=this.options.wrapper;this.selector=this.options.selector;this.additionalElements=document.querySelectorAll(eval(this.options.additionalElements));this.triggers=this.wrapper.querySelectorAll("."+this.options.dropdownTrigger);this.dropdown=this.wrapper.querySelector("."+this.options.dropdownWrapper);this.hiddenValue=this.wrapper.querySelector('input[type="hidden"]');this.activateCloseDelay=hideDelayed.call(this);_init.call(this)}Dropdown.prototype={constructor:Dropdown,setItem:function(item){var list,textFilter=this.wrapper.querySelector(".dropdownTrigger .textFilter");if(!isNaN(item)&&(function(x){return(x|0)===x})(parseFloat(item))){list=this.dropdown.querySelectorAll("li");item=list[item]}if(!MG_Utils.isElement(item)){return false}MG_Utils.removeClassMultiple(this.dropdown.querySelectorAll("li"),"active");MG_Utils.addClass(item,"active");if(textFilter){MG_Utils.setText(textFilter,item.textContent||item.innerText)}if(this.hiddenValue&&this.hiddenValue.length){this.hiddenValue.value=item.getAttribute("data-value")}}};function _init(){if(!this.triggers||!this.dropdown){return false}if(MG_Utils.hasClass(this.wrapper,"js_dropdownBound")){return false}MG_Utils.addClass(this.wrapper,"js_dropdownBound");_initEvents.call(this);_checkHiddenValue.call(this);this.wrapper.setAttribute("data-dropdown-id",id++)}function _initEvents(){var context=this;[].forEach.call(this.triggers,function(el){MG_Utils.addEventHandler(el,"click",function(e){_triggersHandler.call(context,e)})});if(((typeof this.selector=="string"&&this.selector!=".channelsAZ")||(typeof this.selector=="object"&&!MG_Utils.hasClass(this.wrapper,"channelsAZ")))&&((typeof this.selector=="string"&&this.selector!=".alphabetFilter")||(typeof this.selector=="object"&&!MG_Utils.hasClass(this.wrapper,"alphabetFilter")))&&this.options.hideDelay){this.activateCloseDelay()}MG_Utils.addEventHandler(this.dropdown,"click",function(e){_dropdownHandler.call(context,e)})}function _triggersHandler(e){var div=null;if(dontProcess){dontProcess=false;return}e=e||window.event;var element=e.target||e.srcElement;if(!MG_Utils.hasClass(element,this.options.dropdownTrigger)){while((element=element.parentElement)&&!MG_Utils.hasClass(element,this.options.dropdownTrigger)){}}var dropDownVisible=false,withScroll=(this.dropdown.id=="withScroll")?1:0;if(this.triggers.length==1){dropDownVisible=(this.dropdown.style.display&&this.dropdown.style.display!=="none"?true:false)}else{if(this.triggers.length>1){dropDownVisible=(this.dropdown.style.display&&this.dropdown.style.display!=="none"?true:false)&&this.dropdown.getAttribute("data-type")==element.getAttribute("data-type")}}if(dropDownVisible){this.dropdown.style.display="none";if(withScroll){div=MG_Utils.nextDivSibling(this.dropdown);if(div&&typeof div.style!=="undefined"){div.style.display="none"}}}else{dropdowns.forEach(function(el){el.dropdown.style.display="none"});if(element.getAttribute("data-type")){this.dropdown.getAttribute("data-type")==element.getAttribute("data-type")}this.dropdown.style.display="block"}}function _dropdownHandler(e){e=e||window.event;var element=e.target||e.srcElement;if(element.tagName.toLowerCase()!=="li"){while((element=element.parentElement)&&element.tagName.toLowerCase()!=="li"){}}this.setItem(element)}function _checkHiddenValue(){if(this.hiddenValue&&this.hiddenValue.length&&this.hiddenValue.value!=""){if(!_selectActiveItem.call(this)){setTimeout(function(){_selectActiveItem.apply(context)},1000)}}}function _selectActiveItem(){var activeItem=this.dropdown.querySelector('li[data-value="'+this.hiddenValue_.value+'"]');if(!activeItem.length){return false}MG_Utils.triggerEvent(activeItem,"click");dontProcess=true}var hideDelayed=function(){var context=this;function activate(){var elements=[];for(var i=0;i<=context.triggers.length-1;i++){elements.push(context.triggers[i])}elements.push(context.dropdown);elements.forEach(function(el){MG_Utils.addEventHandler(el,"mouseenter",function(e){MG_Utils.setData(context.dropdown,"hideDelayedOver","1");clearHideTimer(context.dropdown)});MG_Utils.addEventHandler(el,"mouseleave",function(e){MG_Utils.setData(context.dropdown,"hideDelayedOver","0");clearHideTimer(context.dropdown);var id=setTimeout(function(){hide()},context.options.timeout);MG_Utils.setData(context.dropdown,"hideDelayedTimeoutId",id)})})}function hide(){if(MG_Utils.getData(context.dropdown,"hideDelayedOver")=="0"){var elements=[];for(var i=0;i<=context.additionalElements.length-1;i++){elements.push(context.additionalElements[i])}elements.push(context.dropdown);elements.forEach(function(el){el.style.display="none"});if(document.getElementById("withScroll")){var div=MG_Utils.nextDivSibling();if(div&&typeof div.style!=="undefined"){div.style.display="none"}}clearTimeout(parseInt(MG_Utils.getData(context.dropdown,"hideDelayedTimeoutId")));MG_Utils.setData(context.dropdown,"hideDelayedTimeoutId","")}}function clearHideTimer(){if(context.dropdown.getAttribute("data-hideDelayedTimeoutId")){clearTimeout(parseInt(MG_Utils.getData(context.dropdown,"hideDelayedTimeoutId")));MG_Utils.setData(context.dropdown,"hideDelayedTimeoutId","")}}return activate};MG_Utils.addEventHandler(document,"click",function(e){e=e||window.event;var element=e.target||e.srcElement;if(!MG_Utils.hasClass(element,"dropdownTrigger")){while((element=element.parentElement)&&!MG_Utils.hasClass(element,"dropdownTrigger")){}}dropdowns.forEach(function(el){if(element){if(element.parentNode.querySelector(".dropdownWrapper")===el.dropdown){return false}}el.dropdown.style.display="none"})});return{init:function(wrapper,options){var elements,options=options||{};if(wrapper instanceof Array){elements=wrapper}else{if(!MG_Utils.isElement(wrapper)){elements=document.querySelectorAll(wrapper)}else{elements=wrapper}}[].forEach.call(elements,function(el){options.wrapper=el;options.selector=wrapper;instance=new Dropdown(options);if(instance.triggers&&instance.dropdown){dropdowns.push(instance)}})},get:function(id){return dropdowns[id]}}})();