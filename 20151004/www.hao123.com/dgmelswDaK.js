__d("widget.ipad.ipad",["common.js.widget","common.js.cookie","common.js.log"],function(q,r,e,d){d("common.js.widget");var c=d("common.js.cookie"),l=d("common.js.log");$.widget("hao123.ipad",{options:{},_create:function(){var c=this.element;this.$ipad=$("#ipad-box");this.$ipadbtn=$("#js_ipadbtn",c);this.$ipadclose=$("#js_ipadclose",c)},_init:function(){"1"!=c.get("ipds1")&&(this.$ipad.show(),this._bindEvent())},_bindEvent:function(){var d=this;this.$ipadbtn.click(function(){l({position:"ipad"})});
this.$ipadclose.click(function(){c.set("ipds1","1");d.$ipad.slideUp()})},destroy:function(){$.Widget.prototype.destroy.call(this)}});return e});
__d("widget.menus.menus","common.js.widget,common.js.events,common.js.format,common.js.once,common.js.config,common.js.pageEvents".split(","),function(q,r,e,d){d("common.js.widget");var c=d("common.js.events"),l=d("common.js.format"),v=d("common.js.once"),j=d("common.js.config"),i=d("common.js.pageEvents"),f,m,k,s,t;$.widget("hao123.menus",{options:{data:null,current:"",tpl:"<div class='recommend' data-playtime='#{time}' data-key='#{key}' style='left:#{left}px;display:none'><a class='recommend-link' monkey='tabtip_#{key}' hidefocus='true' href='/api/ajax?menu=#{key}#{params}' rel='hao123-bodyct'><img class='recommend-img' width='#{width}' height='60' src='#{url}'/></a></div>"},
_create:function(){var a=this.element;this.hasimg=!1;this.$items=$(".menu",a)},_init:function(){var a=this,b=a.options,d=b.data,u=b.current,g=a.$items.length;a.urlmap={};a.$recommends={};c.done("goTop.sendCurrent",u);$.each(d,function(c,d){var n,o,h=d.title,e,i="",k=d.playtime;a.key=h;a.urlmap[h]=[];n=j.get("wideornarrow");s=d.imgurl;t=d.imgurl2;"wide"==n?(f=111,m=81,e=s):(f=101,m=81,e=t);e&&(a.hasimg=!0);var p=a.$items.eq(g-1);"wide"===n?(p.prev().removeClass("last"),p.addClass("last")):(p.prev().addClass("last"),
p.removeClass("last"),"life_kp"===a.key&&(a.hasimg=!1));a.urlmap[h].push(e);a._proLoadImg(a.urlmap[h]);a.haskey=!1;a._getKeys(h);h!=u&&a.haskey&&(n=a._getLeft(h),""!=a.element.attr("params")&&(i=a.element.attr("params")),o=$(l(b.tpl,{left:n,key:h,width:f,url:HAO.httpsTrans(e),params:i,time:k})),o.appendTo(a.element),a.$recommends[h]=o,v("menu_animation_"+h,function(){a.hasimg&&a._show(o)}),$("a",o).click(function(){var b=a.$items.filter("[data-key="+h+"]");$("a",b)[0].click();return!1}))});a._bindEvent()},
_getKeys:function(a){var b=this;b.$items.each(function(c,d){if($(d).data("key")==a)return b.haskey=!0,!1})},_getLeft:function(a){var b=!1;this.$items.each(function(c,d){var g=$(d);g.data("key")==a&&(b=m+f*(g.data("index")-1))});return b},_show:function(a){var b=this;a.isShow=!0;a.show().show().animate({top:-20,height:60},function(){b._doAnimation(a,b.urlmap[a.data("key")])})},_hide:function(a){a.animate({top:41,height:0},function(){a.hide();a.isShow=!1})},_doAnimation:function(a,b){function c(){d.disposing?
i=null:f++==l?(d._hide(a),i=null):(e++==g&&(e=0),1<g&&i.attr("src",HAO.httpsTrans(b[e])),setTimeout(c,200))}var d=this,g=b.length,e=0,f=0,l=parseInt(5*a.data("playtime")),i=a.find("img");setTimeout(c,50)},_proLoadImg:function(a){function b(){if(d!=c){var g=new Image,e=a[d++];g.onload=g.onerror=function(){setTimeout(b,20);g=g.onload=g.onerror=null};g.src=HAO.httpsTrans(e)}}var c=a.length,d=0;b()},_bindEvent:function(){function a(){e<d?(b.$items.css("background-color","#f9f9f9"),b.$items.eq(e).css("background-color",
"#eef5eb"),e++,setTimeout(a,200)):e==d&&b.$items.eq(e-1).css("background-color","#f9f9f9")}var b=this,d=b.$items.length,e=0;b.$items.on("mouseover",function(){var a=$(this).data("key");(a=b.$recommends[a])&&!a.isShow&&b.hasimg&&b._show(a)});b.$items.on("click",function(){var b=$(this).attr("data-index");c.emit("menus.changed",b);var b=i.getViewport(),a=$(this).data("key");j.set("menu",a);1260>b.width&&"life_kp"!=a&&c.emit("viewport.deferchange")});c.on("menus.light",a);c.on("menus.focus",function(){$(window).scrollTop(130)});
c.on("wideversion.viewportchange",function(a){var c=b.$items.eq(d-1);"wide"===a?(c.prev().removeClass("last"),c.addClass("last")):"narrow"===a&&(c.prev().addClass("last"),c.removeClass("last"))});c.on("wideversion.viewportchange",function(a){"wide"==a?(f=111,m=81,k=s):(f=101,m=81,k=t,"life_kp"===b.key&&(b.$recommends[b.key]&&b.$recommends[b.key].stop().css({top:41,height:0}),b.$recommends[b.key]&&b.$recommends[b.key].hide(),b.$recommends[b.key].isShow=!1));a=b._getLeft(b.key);b.$recommends[b.key]&&
b.$recommends[b.key].css({width:f,left:a});a=$(".recommend-img",b.$recommends[b.key]);b.$recommends[b.key]&&a.attr("src",HAO.httpsTrans(k)).css({width:f});k?(b.hasimg=!0,b.$recommends[b.key]&&b.$recommends[b.key].show()):(b.hasimg=!1,b.$recommends[b.key]&&b.$recommends[b.key].hide())})},destroy:function(){this.disposing=!0;$.Widget.prototype.destroy.call(this)}});return e});
__d("widget.placeHolder.placeHolder",["common.js.widget"],function(q,r,e,d){d("common.js.widget");$.widget("hao123.placeHolder",{options:{defaultVal:"",defaultCls:""},_create:function(){this._bindEvent()},_init:function(){this.setDefaultValue()},_bindEvent:function(){var c=this;c.element.focus(function(){0==c.state&&(c._clearValue(),c.state=1);c._trigger("focus")});c.element.blur(function(){""==c.val()&&c.setDefaultValue();c._trigger("blur")})},setDefaultValue:function(){var c=this.options;this.element.addClass(c.defaultCls).val(c.defaultVal);
this.state=0},_clearValue:function(){this.element.removeClass(this.options.defaultCls).val("")},val:function(c){var d=this.options;if(0<arguments.length)this.element.removeClass(d.defaultCls).val(c),this.state=1;else return 0==this.state?"":this.element.val()},destroy:function(){$.Widget.prototype.destroy.call(this)}});return e});
__d("widget.hotsearch.hotsearch",["common.js.widget","common.js.events","common.js.browser"],function(q,r,e,d){d("common.js.widget");d("common.js.events");d("common.js.browser");$.widget("hao123.hotsearch",{_create:function(){var c=this.element,d=this.options;this.$ctrlBtn=$(".js-ctrlBtn",c);this.$ctrlDes=$(".js-hotsearchbottom",c);this.$ctrlText=$(".js-ctrlBtn-text",c);this.$hotword=$(".js-hotword",c);this.wordsBackup=d.hotwords.slice(d.max);this.bindEvent()},bindEvent:function(){var c=this,d=c.options,
e;c.$hotword.click(function(){var j=$(this);0<c.wordsBackup.length&&(clearTimeout(e),e=setTimeout(function(){var e=c.wordsBackup.shift(),f=e.url,f=f?f:"http://www.baidu.com/s?word="+encodeURIComponent(e.title)+"&tn="+d.tn+"&ie=utf-8";j.text(e.title);j.attr("href",f);j.attr("style","color:"+e.style)},600))})},destroy:function(){$.Widget.prototype.destroy.call(this)}});return e});window.js_dgmelswDaK&&window.js_dgmelswDaK(!0);
