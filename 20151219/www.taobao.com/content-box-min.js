//! Copyright 2015, component@0.0.2 MIT Licensed, build time: Mon, 08 Jun 2015 09:50:43 GMT 
define("kg/component/0.0.2/container",["util","kg/component/0.0.2/control"],function(e,n,t){var r,i=e("util"),o=e("kg/component/0.0.2/control");r=function(e){function n(e){var n=this,t=e.component,r=n.get("children"),i=e.index;r.splice(i,0,t),r=n.get("children"),t=r[i],t.setInternal&&t.setInternal("parent",n),n.get("rendered")&&n.renderChild(i),n.fire("afterAddChild",{component:t,index:i})}function t(e){var n=this,t=e.component,r=e.destroy,i=n.get("children"),o=e.index;-1!==o&&i.splice(o,1),t.setInternal&&t.setInternal("parent",null),t.destroy?t.destroy(r):t.isNode&&r&&t.remove(),n.fire("afterRemoveChild",{component:t,index:o})}var r=i,d=o,l=d.Manager;return e=d.extend({isContainer:!0,initializer:function(){var e=this,r=e.get("prefixCls"),i=e.get("defaultChildCfg");e.publish("beforeAddChild",{defaultFn:n,defaultTargetOnly:!0}),e.publish("beforeRemoveChild",{defaultFn:t,defaultTargetOnly:!0}),i.prefixCls=i.prefixCls||r},decorateDom:function(){var e=this,n=e.getChildrenContainerEl(),t=e.get("defaultChildCfg"),i=t.prefixCls,o=t.xclass,d=[],h=n.children();h.each(function(n){var h=e.getComponentConstructorByNode(i,n)||o&&l.getConstructorByXClass(o);h?d.push(new h(r.merge(t,{srcNode:n}))):d.push(n)}),e.set("children",d)},createDom:function(){this.createChildren()},renderUI:function(){this.renderChildren()},renderChildren:function(){var e,n=this,t=n.get("children");for(e=0;e<t.length;e++)n.renderChild(e)},createChildren:function(){var e,n=this,t=n.get("children");for(e=0;e<t.length;e++)n.createChild(e)},addChild:function(e,n){var t=this,r=t.get("children");return void 0===n&&(n=r.length),t.fire("beforeAddChild",{component:e,index:n}),r[n]},renderChild:function(e){var n=this,t=n.get("children"),r=n.createChild(e);r.isNode||r.render(),n.fire("afterRenderChild",{component:t[e],index:e})},createChild:function(e){var n,t,r,i,o,d=this,l=d.get("children");return n=l[e],o=d.getChildrenContainerEl(),r=o[0],t=r.children[e]||null,n.isNode?(i=n.isNode?n[0]:n.el,i.parentNode!==r&&r.insertBefore(i,t)):n.get("rendered")?(i=n.isNode?n[0]:n.el,i.parentNode!==r&&r.insertBefore(i,t)):(t?n.set("elBefore",t):n.set("render",o),n.create()),d.fire("afterCreateChild",{component:n,index:e}),n},addChildren:function(e){var n,t=e.length;for(n=0;t>n;n++)this.addChild(e[n])},removeChild:function(e,n){void 0===n&&(n=!0),this.fire("beforeRemoveChild",{component:e,index:r.indexOf(e,this.get("children")),destroy:n})},removeChildren:function(e){var n,t=this,r=[].concat(t.get("children"));for(n=0;n<r.length;n++)t.removeChild(r[n],!1);return e!==!1&&t.$el&&(t.getChildrenContainerEl()[0].innerHTML=""),t},getChildAt:function(e){var n=this.get("children");return n[e]||null},getChildrenContainerEl:function(){return this.$el},destructor:function(e){this.removeChildren(e)}},{ATTRS:{children:{valueFn:function(){return[]},getter:function(e){var n,t,i=null,o=this;for(n=0;n<e.length;n++)t=e[n],t.isControl||t.isNode||(i=i||o.get("defaultChildCfg"),r.mix(t,i,!1),e[n]=this.createComponent(t));return e},setter:function(e){var n,t;for(n=0;n<e.length;n++)t=e[n],t.isControl&&t.setInternal("parent",this)}},defaultChildCfg:{valueFn:function(){return{}}}},name:"container"})}(),t.exports=r});//! Copyright 2015, component@0.0.2 MIT Licensed, build time: Mon, 08 Jun 2015 09:50:43 GMT 
define("kg/component/0.0.2/extension/delegate-children",["event-gesture","kg/component/0.0.2/control"],function(e,n,t){var a,o=e("event-gesture"),r=e("kg/component/0.0.2/control");a=function(e){function n(e){if(e.target===this){var n=e.component,t=n.$el;t.addClass(this.__childClsTag)}}function t(e){if(e.target===this){var n=e.component,t=n.$el;t&&t.removeClass(this.__childClsTag)}}function a(){var e=this;e.__childClsTag="ks-component-child"+d++,e.on("afterRenderChild",n,e).on("afterRemoveChild",t,e)}var s=r.Manager,l=o,i=l.BasicGestureEvent,c=l.TapGestureEvent,d=1;return a.prototype={handleChildrenEvents:function(e){if(!this.get("disabled")){var n=this.getOwnerControl(e);if(n&&!n.get("disabled"))switch(e.type){case i.START:n.handleMouseDown(e);break;case i.END:n.handleMouseUp(e);break;case c.TAP:n.handleClick(e);break;case"mouseenter":n.handleMouseEnter(e);break;case"mouseleave":n.handleMouseLeave(e);break;case"contextmenu":n.handleContextMenu(e);break;default:throw new Error(e.type+" unhandled!")}}},__bindUI:function(){var e=this,n=i.START+" "+i.END+" "+c.TAP;n+=" mouseenter mouseleave contextmenu",e.$el.delegate(n,"."+e.__childClsTag,e.handleChildrenEvents,e)},getOwnerControl:function(e){return s.getComponent(e.currentTarget.id)}},e=a}(),t.exports=a});//! Copyright 2015, component@0.0.2 MIT Licensed, build time: Mon, 08 Jun 2015 09:50:43 GMT 
define("kg/component/0.0.2/extension/align",["util","node","ua"],function(t,e,i){var o,n=t("util"),h=t("node"),r=t("ua");o=function(t){function e(t){var e,i=t.ownerDocument,o=i.body,n=j(t).css("position"),h="fixed"===n||"absolute"===n;if(!h)return"html"===t.nodeName.toLowerCase()?null:t.parentNode;for(e=t.parentNode;e&&e!==o;e=e.parentNode)if(n=j(e).css("position"),"static"!==n)return e;return null}function i(t){var i,o,n,h,r={left:0,right:1/0,top:0,bottom:1/0},l=t.ownerDocument,f=j(l).getWindow(),a=l.body,u=l.documentElement;for(i=t;i=e(i);)if((!x.ie||0!==i.clientWidth)&&i!==a&&i!==u&&"visible"!==j(i).css("overflow")){var s=j(i).offset();s.left+=i.clientLeft,s.top+=i.clientTop,r.top=Math.max(r.top,s.top),r.right=Math.min(r.right,s.left+i.clientWidth),r.bottom=Math.min(r.bottom,s.top+i.clientHeight),r.left=Math.max(r.left,s.left)}return o=f.scrollLeft(),n=f.scrollTop(),r.left=Math.max(r.left,o),r.top=Math.max(r.top,n),h={width:f.width(),height:f.height()},r.right=Math.min(r.right,o+h.width),r.bottom=Math.min(r.bottom,n+h.height),r.top>=0&&r.left>=0&&r.bottom>r.top&&r.right>r.left?r:null}function o(t,e,i,o){var n,h,r,l;return n={left:t.left,top:t.top},r=g(e,i[0]),l=g(t,i[1]),h=[l.left-r.left,l.top-r.top],{left:n.left-h[0]+ +o[0],top:n.top-h[1]+ +o[1]}}function l(t,e,i){return t.left<i.left||t.left+e.width>i.right}function f(t,e,i){return t.top<i.top||t.top+e.height>i.bottom}function a(t,e,i,o){var n=b.clone(t),h={width:e.width,height:e.height};return o.adjustX&&n.left<i.left&&(n.left=i.left),o.resizeWidth&&n.left>=i.left&&n.left+h.width>i.right&&(h.width-=n.left+h.width-i.right),o.adjustX&&n.left+h.width>i.right&&(n.left=Math.max(i.right-h.width,i.left)),o.adjustY&&n.top<i.top&&(n.top=i.top),o.resizeHeight&&n.top>=i.top&&n.top+h.height>i.bottom&&(h.height-=n.top+h.height-i.bottom),o.adjustY&&n.top+h.height>i.bottom&&(n.top=Math.max(i.bottom-h.height,i.top)),b.mix(n,h)}function u(t,e,i){var o=[];return b.each(t,function(t){o.push(t.replace(e,function(t){return i[t]}))}),o}function s(t,e){return t[e]=-t[e],t}function c(){}function d(t){var e,i,o,n=t[0];if(b.isWindow(n)){var h=j(n).getWindow();e={left:h.scrollLeft(),top:h.scrollTop()},i=h.width(),o=h.height()}else e=t.offset(),i=t.outerWidth(),o=t.outerHeight();return e.width=i,e.height=o,e}function g(t,e){var i,o,n=e.charAt(0),h=e.charAt(1),r=t.width,l=t.height;return i=t.left,o=t.top,"c"===n?o+=l/2:"b"===n&&(o+=l),"c"===h?i+=r/2:"r"===h&&(i+=r),{left:i,top:o}}function p(t){t.target===this&&t.newVal&&m.call(this)}function w(){this.get("visible")&&m.call(this)}function m(){this._onSetAlign(this.get("align"))}var b=n,v=window,j=h,x=r;return c.__getOffsetParent=e,c.__getVisibleRectForElement=i,c.ATTRS={align:{valueFn:function(){return{}}}},c.prototype={__bindUI:function(){var t=this;t.on("beforeVisibleChange",p,t),t.$el.getWindow().on("resize",w,t)},_onSetAlign:function(t){t&&t.points&&this.align(t.node,t.points,t.offset,t.overflow)},align:function(t,e,n,h){t=j(t||v),n=n&&[].concat(n)||[0,0],h=h||{};var r=this,c=r.$el,g=0,p=i(c[0]),w=d(c),m=d(t),x=o(w,m,e,n),M=b.merge(w,x);if(p&&(h.adjustX||h.adjustY)){l(x,w,p)&&(g=1,e=u(e,/[lr]/gi,{l:"r",r:"l"}),n=s(n,0)),f(x,w,p)&&(g=1,e=u(e,/[tb]/gi,{t:"b",b:"t"}),n=s(n,1)),g&&(x=o(w,m,e,n),b.mix(M,x));var _={};_.adjustX=h.adjustX&&l(x,w,p),_.adjustY=h.adjustY&&f(x,w,p),(_.adjustX||_.adjustY)&&(M=a(x,w,p,_))}return r.set({x:M.left,y:M.top},{force:1}),M.width!==w.width&&r.set("width",c.width()+M.width-w.width),M.height!==w.height&&r.set("height",c.height()+M.height-w.height),r},center:function(t){var e=this;return e.set("align",{node:t,points:["cc","cc"],offset:[0,0]}),e},__destructor:function(){var t=this;t.$el&&t.$el.getWindow().detach("resize",w,t)}},t=c}(),i.exports=o});//! Copyright 2015, component@0.0.2 MIT Licensed, build time: Mon, 08 Jun 2015 09:50:43 GMT 
define("kg/component/0.0.2/extension/shim",["ua"],function(e,t,i){var n,o=e("ua");n=function(e){function t(){}var i=o,n=6===i.ie,r='<iframe style="position: absolute;border: none;width: '+(n?"expression(this.parentNode.clientWidth)":"100%")+";top: 0;opacity: 0;filter: alpha(opacity=0);left: 0;z-index: -1;height: "+(n?"expression(this.parentNode.clientHeight)":"100%")+';"/>';return t.ATTRS={shim:{value:n}},t.prototype.__createDom=function(){this.get("shim")&&this.get("el").prepend(r)},e=t}(),i.exports=n});//! Copyright 2015, component@0.0.2 MIT Licensed, build time: Mon, 08 Jun 2015 09:50:43 GMT 
define("kg/component/0.0.2/extension/content-box",["kg/xtemplate/4.1.4/runtime"],function(t,n,e){var o,r,a,c=t("kg/xtemplate/4.1.4/runtime");o=function(t){var n=t=function(t){{var n,e=this,o=e.root,r=e.buffer,a=e.scope,c=(e.runtime,e.name,e.pos),i=a.data,s=a.affix,l=o.nativeCommands,u=o.utils,f=u.callFn;u.callCommand,l.range,l.foreach,l.forin,l.each,l["with"],l["if"],l.set,l.include,l.parse,l.extend,l.block,l.macro,l["debugger"]}r.data+='<div class="',c.line=1;var m;m=f(e,a,{escape:1,params:["content"]},r,["getBaseCssClasses"]),r=r.writeEscaped(m),r.data+='">';var d=(n=s.content)!==t?n:(n=i.content)!==t?n:a.resolveLooseUp(["content"]);return r=r.write(d),r.data+="</div>",r};return n.TPL_NAME=e.id||e.name,t}(),r=function(t){var n=o,e=c,r=new e(n);return t=function(){return r.render.apply(r,arguments)}}(),a=function(t){function n(t){var n=t.get("contentEl");t.$contentEl=t.$contentEl=n,t.contentEl=t.contentEl=n&&n[0]}function e(){}var o=r;return e.prototype={__createDom:function(){n(this)},__decorateDom:function(){n(this)},getChildrenContainerEl:function(){return this.get("contentEl")},_onSetContent:function(t){var n=this.$contentEl;n.html(t),this.get("allowTextSelection")||n.unselectable()}},e.ATTRS={contentTpl:{value:o},contentEl:{selector:function(){return"."+this.getBaseCssClass("content")}},content:{parse:function(){return this.get("contentEl").html()}}},t=e}(),e.exports=a});