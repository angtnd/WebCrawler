var CEDATO_ES5=function(e,a){e.include=function(){try{Object.getPrototypeOf||(Object.getPrototypeOf=function(a){if(a!==Object(a))throw TypeError("Object.getPrototypeOf called on non-object");return a.__proto__||a.constructor.prototype||Object.prototype}),"function"!==typeof Object.getOwnPropertyNames&&(Object.getOwnPropertyNames=function(a){if(a!==Object(a))throw TypeError("Object.getOwnPropertyNames called on non-object");var b=[],c;for(c in a)Object.prototype.hasOwnProperty.call(a,c)&&b.push(c);
return b}),"function"!==typeof Object.create&&(Object.create=function(a,b){function c(){}if("object"!==typeof a)throw TypeError();c.prototype=a;var g=new c;a&&(g.constructor=c);if(void 0!==b){if(b!==Object(b))throw TypeError();Object.defineProperties(g,b)}return g}),function(){var a;if(!(a=!Object.defineProperty)){var b;try{Object.defineProperty({},"x",{}),b=!0}catch(g){b=!1}a=!b}if(a){var c=Object.defineProperty;Object.defineProperty=function(b,a,k){if(c)try{return c(b,a,k)}catch(e){}if(b!==Object(b))throw TypeError("Object.defineProperty called on non-object");
Object.prototype.__defineGetter__&&"get"in k&&Object.prototype.__defineGetter__.call(b,a,k.get);Object.prototype.__defineSetter__&&"set"in k&&Object.prototype.__defineSetter__.call(b,a,k.set);"value"in k&&(b[a]=k.value);return b}}}(),"function"!==typeof Object.defineProperties&&(Object.defineProperties=function(a,b){if(a!==Object(a))throw TypeError("Object.defineProperties called on non-object");for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&Object.defineProperty(a,c,b[c]);return a}),Object.keys||
(Object.keys=function(a){if(a!==Object(a))throw TypeError("Object.keys called on non-object");var b=[],c;for(c in a)Object.prototype.hasOwnProperty.call(a,c)&&b.push(c);return b}),Function.prototype.bind||(Function.prototype.bind=function(a){function b(){}if("function"!==typeof this)throw TypeError("Bind must be called on a function");var c=[].slice,g=c.call(arguments,1),e=this,m=function(){return e.apply(this instanceof b?this:a,g.concat(c.call(arguments)))};b.prototype=e.prototype;m.prototype=new b;
return m}),Array.isArray=Array.isArray||function(a){return!(!a||"[object Array]"!==Object.prototype.toString.call(Object(a)))},Array.prototype.indexOf||(Array.prototype.indexOf=function(a){if(void 0===this||null===this)throw TypeError();var b=Object(this),c=b.length>>>0;if(0===c)return-1;var g=0;0<arguments.length&&(g=Number(arguments[1]),isNaN(g)?g=0:0!==g&&g!==1/0&&g!==-(1/0)&&(g=(0<g||-1)*Math.floor(Math.abs(g))));if(g>=c)return-1;for(g=0<=g?g:Math.max(c-Math.abs(g),0);g<c;g++)if(g in b&&b[g]===
a)return g;return-1}),Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function(a){if(void 0===this||null===this)throw TypeError();var b=Object(this),c=b.length>>>0;if(0===c)return-1;var g=c;1<arguments.length&&(g=Number(arguments[1]),g!==g?g=0:0!==g&&g!==1/0&&g!==-(1/0)&&(g=(0<g||-1)*Math.floor(Math.abs(g))));for(c=0<=g?Math.min(g,c-1):c-Math.abs(g);0<=c;c--)if(c in b&&b[c]===a)return c;return-1}),Array.prototype.every||(Array.prototype.every=function(a,b){if(void 0===this||null===this)throw TypeError();
var c=Object(this),g=c.length>>>0;if("function"!==typeof a)throw TypeError();var e;for(e=0;e<g;e++)if(e in c&&!a.call(b,c[e],e,c))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(a,b){if(void 0===this||null===this)throw TypeError();var c=Object(this),g=c.length>>>0;if("function"!==typeof a)throw TypeError();var e;for(e=0;e<g;e++)if(e in c&&a.call(b,c[e],e,c))return!0;return!1}),Array.prototype.forEach||(Array.prototype.forEach=function(a,b){if(void 0===this||null===this)throw TypeError();
var c=Object(this),g=c.length>>>0;if("function"!==typeof a)throw TypeError();var e;for(e=0;e<g;e++)e in c&&a.call(b,c[e],e,c)}),Array.prototype.map||(Array.prototype.map=function(a,b){if(void 0===this||null===this)throw TypeError();var c=Object(this),g=c.length>>>0;if("function"!==typeof a)throw TypeError();var e=[];e.length=g;var m;for(m=0;m<g;m++)m in c&&(e[m]=a.call(b,c[m],m,c));return e}),Array.prototype.filter||(Array.prototype.filter=function(a,b){if(void 0===this||null===this)throw TypeError();
var c=Object(this),g=c.length>>>0;if("function"!==typeof a)throw TypeError();var e=[],m;for(m=0;m<g;m++)if(m in c){var n=c[m];a.call(b,n,m,c)&&e.push(n)}return e}),Array.prototype.reduce||(Array.prototype.reduce=function(a){if(void 0===this||null===this)throw TypeError();var b=Object(this),c=b.length>>>0;if("function"!==typeof a)throw TypeError();if(0===c&&1===arguments.length)throw TypeError();var g=0,e;if(2<=arguments.length)e=arguments[1];else{do{if(g in b){e=b[g++];break}if(++g>=c)throw TypeError();
}while(1)}for(;g<c;)g in b&&(e=a.call(void 0,e,b[g],g,b)),g++;return e}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(a){if(void 0===this||null===this)throw TypeError();var b=Object(this),c=b.length>>>0;if("function"!==typeof a)throw TypeError();if(0===c&&1===arguments.length)throw TypeError();var c=c-1,g;if(2<=arguments.length)g=arguments[1];else{do{if(c in this){g=this[c--];break}if(0>--c)throw TypeError();}while(1)}for(;0<=c;)c in b&&(g=a.call(void 0,g,b[c],c,b)),c--;return g}),
String.prototype.trim||(String.prototype.trim=function(){return String(this).replace(/^\s+/,"").replace(/\s+$/,"")}),Date.now||(Date.now=function(){return Number(new Date)}),Date.prototype.toISOString||(Date.prototype.toISOString=function(){function a(b){return("00"+b).slice(-2)}return this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"."+function(a){return("000"+a).slice(-3)}(this.getUTCMilliseconds())+
"Z"})}catch(a){}};return e}(CEDATO_ES5||{},window),CEDATO_SWF=function(e){try{e.swfobject=function(){function a(){if(!R){try{var f=p.getElementsByTagName("body")[0].appendChild(p.createElement("span"));f.parentNode.removeChild(f)}catch(a){return}R=!0;for(var f=O.length,c=0;c<f;c++)O[c]()}}function k(f){R?f():O[O.length]=f}function b(f){if("undefined"!=typeof A.addEventListener)A.addEventListener("load",f,!1);else if("undefined"!=typeof p.addEventListener)p.addEventListener("load",f,!1);else if("undefined"!=
typeof A.attachEvent)z(A,"onload",f);else if("function"==typeof A.onload){var a=A.onload;A.onload=function(){a();f()}}else A.onload=f}function c(){var f=p.getElementsByTagName("body")[0],a=p.createElement("object");a.setAttribute("type","application/x-shockwave-flash");var c=f.appendChild(a);if(c){var b=0;(function(){if("undefined"!=typeof c.GetVariable){var e=c.GetVariable("$version");e&&(e=e.split(" ")[1].split(","),w.pv=[parseInt(e[0],10),parseInt(e[1],10),parseInt(e[2],10)])}else if(10>b){b++;
setTimeout(arguments.callee,10);return}f.removeChild(a);c=null;g()})()}else g()}function g(){var a=M.length;if(0<a)for(var c=0;c<a;c++){var b=M[c].id,g=M[c].callbackFn,e={success:!1,id:b};if(0<w.pv[0]){var q=f(b);if(q)if(!G(M[c].swfVersion)||w.wk&&312>w.wk)if(M[c].expressInstall&&m()){e={};e.data=M[c].expressInstall;e.width=q.getAttribute("width")||"0";e.height=q.getAttribute("height")||"0";q.getAttribute("class")&&(e.styleclass=q.getAttribute("class"));q.getAttribute("align")&&(e.align=q.getAttribute("align"));
for(var k={},q=q.getElementsByTagName("param"),t=q.length,v=0;v<t;v++)"movie"!=q[v].getAttribute("name").toLowerCase()&&(k[q[v].getAttribute("name")]=q[v].getAttribute("value"));n(e,k,b,g)}else u(q),g&&g(e);else x(b,!0),g&&(e.success=!0,e.ref=l(b),g(e))}else x(b,!0),g&&((b=l(b))&&"undefined"!=typeof b.SetVariable&&(e.success=!0,e.ref=b),g(e))}}function l(a){var c=null;(a=f(a))&&"OBJECT"==a.nodeName&&("undefined"!=typeof a.SetVariable?c=a:(a=a.getElementsByTagName("object")[0])&&(c=a));return c}function m(){return!aa&&
G("6.0.65")&&(w.win||w.mac)&&!(w.wk&&312>w.wk)}function n(a,c,b,g){aa=!0;V=g||null;Q={success:!1,id:b};var e=f(b);if(e){"OBJECT"==e.nodeName?(T=t(e),ba=null):(T=e,ba=b);a.id="SWFObjectExprInst";if("undefined"==typeof a.width||!/%$/.test(a.width)&&310>parseInt(a.width,10))a.width="310";if("undefined"==typeof a.height||!/%$/.test(a.height)&&137>parseInt(a.height,10))a.height="137";p.title=p.title.slice(0,47)+" - Flash Player Installation";g=w.ie&&w.win?"ActiveX":"PlugIn";g="MMredirectURL="+A.location.toString().replace(/&/g,
"%26")+"&MMplayerType="+g+"&MMdoctitle="+p.title;c.flashvars="undefined"!=typeof c.flashvars?c.flashvars+("&"+g):g;w.ie&&w.win&&4!=e.readyState&&(g=p.createElement("div"),b+="SWFObjectNew",g.setAttribute("id",b),e.parentNode.insertBefore(g,e),e.style.display="none",function(){4==e.readyState?e.parentNode.removeChild(e):setTimeout(arguments.callee,10)}());q(a,c,b)}}function u(f){if(w.ie&&w.win&&4!=f.readyState){var a=p.createElement("div");f.parentNode.insertBefore(a,f);a.parentNode.replaceChild(t(f),
a);f.style.display="none";(function(){4==f.readyState?f.parentNode.removeChild(f):setTimeout(arguments.callee,10)})()}else f.parentNode.replaceChild(t(f),f)}function t(f){var a=p.createElement("div");if(w.win&&w.ie)a.innerHTML=f.innerHTML;else if(f=f.getElementsByTagName("object")[0])if(f=f.childNodes)for(var c=f.length,b=0;b<c;b++)1==f[b].nodeType&&"PARAM"==f[b].nodeName||8==f[b].nodeType||a.appendChild(f[b].cloneNode(!0));return a}function q(a,b,c){var g,e=f(c);if(w.wk&&312>w.wk)return g;if(e)if("undefined"==
typeof a.id&&(a.id=c),w.ie&&w.win){var q="",k;for(k in a)a[k]!=Object.prototype[k]&&("data"==k.toLowerCase()?b.movie=a[k]:"styleclass"==k.toLowerCase()?q+=' class="'+a[k]+'"':"classid"!=k.toLowerCase()&&(q+=" "+k+'="'+a[k]+'"'));k="";for(var m in b)b[m]!=Object.prototype[m]&&(k+='<param name="'+m+'" value="'+b[m]+'" />');e.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+q+">"+k+"</object>";ca[ca.length]=a.id;g=f(a.id)}else{m=p.createElement("object");m.setAttribute("type",
"application/x-shockwave-flash");for(var n in a)a[n]!=Object.prototype[n]&&("styleclass"==n.toLowerCase()?m.setAttribute("class",a[n]):"classid"!=n.toLowerCase()&&m.setAttribute(n,a[n]));for(q in b)b[q]!=Object.prototype[q]&&"movie"!=q.toLowerCase()&&(a=m,k=q,n=b[q],c=p.createElement("param"),c.setAttribute("name",k),c.setAttribute("value",n),a.appendChild(c));e.parentNode.replaceChild(m,e);g=m}return g}function v(a){var b=f(a);b&&"OBJECT"==b.nodeName&&(w.ie&&w.win?(b.style.display="none",function(){if(4==
b.readyState){var c=f(a);if(c){for(var g in c)"function"==typeof c[g]&&(c[g]=null);c.parentNode.removeChild(c)}}else setTimeout(arguments.callee,10)}()):b.parentNode.removeChild(b))}function f(f){var a=null;try{a=p.getElementById(f)}catch(b){}return a}function z(f,a,b){f.attachEvent(a,b);I[I.length]=[f,a,b]}function G(f){var a=w.pv;f=f.split(".");f[0]=parseInt(f[0],10);f[1]=parseInt(f[1],10)||0;f[2]=parseInt(f[2],10)||0;return a[0]>f[0]||a[0]==f[0]&&a[1]>f[1]||a[0]==f[0]&&a[1]==f[1]&&a[2]>=f[2]?!0:
!1}function H(f,a,b,c){if(!w.ie||!w.mac){var g=p.getElementsByTagName("head")[0];g&&(b=b&&"string"==typeof b?b:"screen",c&&(ea=P=null),P&&ea==b||(c=p.createElement("style"),c.setAttribute("type","text/css"),c.setAttribute("media",b),P=g.appendChild(c),w.ie&&w.win&&"undefined"!=typeof p.styleSheets&&0<p.styleSheets.length&&(P=p.styleSheets[p.styleSheets.length-1]),ea=b),w.ie&&w.win?P&&"object"==typeof P.addRule&&P.addRule(f,a):P&&"undefined"!=typeof p.createTextNode&&P.appendChild(p.createTextNode(f+
" {"+a+"}")))}}function x(a,b){if(oa){var c=b?"visible":"hidden";R&&f(a)?f(a).style.visibility=c:H("#"+a,"visibility:"+c)}}function C(f){return null!=/[\\\"<>\.;]/.exec(f)&&"undefined"!=typeof encodeURIComponent?encodeURIComponent(f):f}var A=window,p=document,D=navigator,W=!1,O=[function(){W?c():g()}],M=[],ca=[],I=[],T,ba,V,Q,R=!1,aa=!1,P,ea,oa=!0,w=function(){var f="undefined"!=typeof p.getElementById&&"undefined"!=typeof p.getElementsByTagName&&"undefined"!=typeof p.createElement,a=D.userAgent.toLowerCase(),
b=D.platform.toLowerCase(),c=b?/win/.test(b):/win/.test(a),b=b?/mac/.test(b):/mac/.test(a),a=/webkit/.test(a)?parseFloat(a.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,g=!+"\v1",e=[0,0,0],q=null;if("undefined"!=typeof D.plugins&&"object"==typeof D.plugins["Shockwave Flash"])!(q=D.plugins["Shockwave Flash"].description)||"undefined"!=typeof D.mimeTypes&&D.mimeTypes["application/x-shockwave-flash"]&&!D.mimeTypes["application/x-shockwave-flash"].enabledPlugin||(W=!0,g=!1,q=q.replace(/^.*\s+(\S+\s+\S+$)/,
"$1"),e[0]=parseInt(q.replace(/^(.*)\..*$/,"$1"),10),e[1]=parseInt(q.replace(/^.*\.(.*)\s.*$/,"$1"),10),e[2]=/[a-zA-Z]/.test(q)?parseInt(q.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if("undefined"!=typeof A.ActiveXObject)try{if(q=(new ActiveXObject("ShockwaveFlash.ShockwaveFlash")).GetVariable("$version"))g=!0,q=q.split(" ")[1].split(","),e=[parseInt(q[0],10),parseInt(q[1],10),parseInt(q[2],10)]}catch(k){}return{w3:f,pv:e,wk:a,ie:g,win:c,mac:b}}();(function(){w.w3&&(("undefined"!=typeof p.readyState&&
"complete"==p.readyState||"undefined"==typeof p.readyState&&(p.getElementsByTagName("body")[0]||p.body))&&a(),R||("undefined"!=typeof p.addEventListener&&p.addEventListener("DOMContentLoaded",a,!1),w.ie&&w.win&&(p.attachEvent("onreadystatechange",function(){"complete"==p.readyState&&(p.detachEvent("onreadystatechange",arguments.callee),a())}),A==top&&function(){if(!R){try{p.documentElement.doScroll("left")}catch(f){setTimeout(arguments.callee,0);return}a()}}()),w.wk&&function(){R||(/loaded|complete/.test(p.readyState)?
a():setTimeout(arguments.callee,0))}(),b(a)))})();(function(){w.ie&&w.win&&window.attachEvent("onunload",function(){for(var f=I.length,a=0;a<f;a++)I[a][0].detachEvent(I[a][1],I[a][2]);f=ca.length;for(a=0;a<f;a++)v(ca[a]);for(var b in w)w[b]=null;w=null;for(var c in e.swfobject)e.swfobject[c]=null;e.swfobject=null})})();return{registerObject:function(f,a,b,c){if(w.w3&&f&&a){var g={};g.id=f;g.swfVersion=a;g.expressInstall=b;g.callbackFn=c;M[M.length]=g;x(f,!1)}else c&&c({success:!1,id:f})},getObjectById:function(f){if(w.w3)return l(f)},
embedSWF:function(f,a,b,c,g,e,t,v,l,u){var p={success:!1,id:a};w.w3&&!(w.wk&&312>w.wk)&&f&&a&&b&&c&&g?(x(a,!1),k(function(){b+="";c+="";var k={};if(l&&"object"===typeof l)for(var z in l)k[z]=l[z];k.data=f;k.width=b;k.height=c;z={};if(v&&"object"===typeof v)for(var H in v)z[H]=v[H];if(t&&"object"===typeof t)for(var A in t)z.flashvars="undefined"!=typeof z.flashvars?z.flashvars+("&"+A+"="+t[A]):A+"="+t[A];if(G(g))H=q(k,z,a),k.id==a&&x(a,!0),p.success=!0,p.ref=H;else{if(e&&m()){k.data=e;n(k,z,a,u);return}x(a,
!0)}u&&u(p)})):u&&u(p)},switchOffAutoHideShow:function(){oa=!1},ua:w,getFlashPlayerVersion:function(){return{major:w.pv[0],minor:w.pv[1],release:w.pv[2]}},hasFlashPlayerVersion:G,createSWF:function(f,a,b){if(w.w3)return q(f,a,b)},showExpressInstall:function(f,a,b,c){w.w3&&m()&&n(f,a,b,c)},removeSWF:function(f){w.w3&&v(f)},createCSS:function(f,a,b,c){w.w3&&H(f,a,b,c)},addDomLoadEvent:k,addLoadEvent:b,getQueryParamValue:function(f){var a=p.location.search||p.location.hash;if(a){/\?/.test(a)&&(a=a.split("?")[1]);
if(null==f)return C(a);for(var a=a.split("&"),b=0;b<a.length;b++)if(a[b].substring(0,a[b].indexOf("="))==f)return C(a[b].substring(a[b].indexOf("=")+1))}return""},expressInstallCallback:function(){if(aa){var a=f("SWFObjectExprInst");a&&T&&(a.parentNode.replaceChild(T,a),ba&&(x(ba,!0),w.ie&&w.win&&(T.style.display="block")),V&&V(Q));aa=!1}}}}()}catch(a){}return e}(CEDATO_SWF||{}),CEDATO_DEVICE=function(e){e.getDeviceInfo=function(){var a={os:"",osv:"0",make:"",model:"",mobile:!1},e=navigator.userAgent,
b;if(/iPod/i.test(e))a.os="iOS",a.osv=(e.match(/\b[0-9]+_[0-9]+(?:_[0-9]+)?\b/)||[""])[0].replace(/_/g,"."),a.make="Apple",a.model="iPod",a.mobile=!0;else if(/iPhone/i.test(e))a.os="iOS",a.osv=(e.match(/\b[0-9]+_[0-9]+(?:_[0-9]+)?\b/)||[""])[0].replace(/_/g,"."),a.make="Apple",a.model="iPhone",a.mobile=!0;else if(/iPad/i.test(e))a.os="iOS",a.osv=(e.match(/\b[0-9]+_[0-9]+(?:_[0-9]+)?\b/)||[""])[0].replace(/_/g,"."),a.make="Apple",a.model="iPad",a.mobile=!0;else if(/Android/i.test(e)){if(a.os="Android",
a.mobile=!0,b=/\Android.([\d\.]+).*;\s(\w*;\s)?(.*)\sBuild.*\)/i,b=b.exec(e)){a.osv=b[1]||"0";var c=b[3]||"";/HTC/i.test(c)?(a.make="HTC",b=/HTC\s(.*)/i,b=b.exec(c),a.model=b?b[1]:""):/ASUS/i.test(c)?(a.make="ASUS",b=/ASUS\s(.*)/i,b=b.exec(c),a.model=b?b[1]:""):/ALCATEL/i.test(c)?(a.make="ALCATEL",b=/ALCATEL\s(.*)/i,b=b.exec(c),a.model=b?b[1]:""):/BLU/i.test(c)?(a.make="BLU",b=/BLU\s(.*)/i,b=b.exec(c),a.model=b?b[1]:""):/ME17\d/i.test(c)?(a.make="ASUS",a.model=c):/Nexus/i.test(c)?(a.make="Google",
a.model=c):/Lenovo/i.test(c)?a.make="Lenovo":/IdeaTab/i.test(c)?(a.make="Lenovo",a.model=c):/Huawei/i.test(e)?(a.make="Huawei",a.model=c):/SGP\d/i.test(c)?(a.make="Sony",a.model=c):/LT[1-9]\d/i.test(c)?(a.make="Sony",a.model=c):/HP/i.test(c)?(a.make="HP",b=/HP\s(.*)/i,b=b.exec(c),a.model=b?b[1]:""):/A1-/i.test(c)||/B11-/i.test(c)?(a.make="Acer",a.model=c):/GT-/i.test(c)?(a.make="Samsung",b=/(GT-.*)/i,b=b.exec(c),a.model=b?b[1]:""):/SM-/i.test(c)?(a.make="Samsung",b=/(SM-.*)/i,b=b.exec(c),a.model=
b?b[1]:""):/SPH-/i.test(c)?(a.make="Samsung",b=/(SPH-.*)/i,b=b.exec(c),a.model=b?b[1]:""):/SCH-/i.test(c)?(a.make="Samsung",b=/(SCH-.*)/i,b=b.exec(c),a.model=b?b[1]:""):/SGH-/i.test(c)?(a.make="Samsung",b=/(SGH-.*)/i,b=b.exec(c),a.model=b?b[1]:""):/DROID/i.test(c)?(a.make="Motorola",b=/(DROID.*)/i,b=b.exec(c),a.model=b?b[1]:""):/XT/i.test(c)?(a.make="Motorola",b=/(XT.*)/i,b=b.exec(c),a.model=b?b[1]:""):/LG-/i.test(c)?(a.make="LG",b=/(LG-.*)/i,b=b.exec(c),a.model=b?b[1]:""):/VS/i.test(c)?(a.make="LG",
b=/(VS.*)/i,b=b.exec(c),a.model=b?b[1]:""):/Z[1-9]/i.test(c)?(a.make="ZTE",b=/(Z[1-9].*)/i,b=b.exec(c),a.model=b?b[1]:""):/NX[1-9]/i.test(c)?(a.make="NEXTBOOK",b=/(NX[1-9].*)/i,b=b.exec(c),a.model=b?b[1]:""):/C5[1-9]/i.test(c)?(a.make="Kyocera",b=/(C5[1-9].*)/i,b=b.exec(c),a.model=b?b[1]:""):a.model=c}}else/Windows.Phone/i.test(e)||/WPDesktop/i.test(e)?(a.os="WindowsPhone",a.osv=(e.match(/Windows.Phone\s([0-9]+\.[0-9])/)||[""])[1]||8,a.mobile=!0,/NOKIA/i.test(e)&&(a.make="Nokia",b=/NOKIA;\s(.*?)(;|\))/i,
b=b.exec(e),a.model=b?b[1]:"")):/BlackBerry/i.test(e)||navigator.userAgent.match(/BB10/i)?(a.os="BlackBerry",b=0<=e.indexOf("Version/")?/Version\/(.*?)\s/i:/BlackBerry.*\/(.*?)\s/i,b=b.exec(e),a.osv=b?b[1]:"",a.mobile=!0):/Windows/i.test(e)?(a.os="Windows",b=/Windows\sNT\s(.*?)(;|\)|\s)/i,b=b.exec(e),a.osv=b?b[1]:""):/Mac\sOS/i.test(e)&&(a.os="MacOS",b=/Mac\sOS\sX\s(.*?)(;|\)|\s)/i,b=b.exec(e),a.osv=b?b[1]:"");return a};return e}(CEDATO_DEVICE||{}),CEDATO_BROWSER=function(e){e.msie=function(){var a=
window.navigator.userAgent,b=a.indexOf("MSIE "),c=a.indexOf("Trident/"),g=a.indexOf("Edge/"),e=null;0<b?e=parseInt(a.split("MSIE")[1]):0<c?e=11:0<g&&(e=12);return e?{version:e}:!1}();e.oldIE=e.msie&&10>e.msie.version;e.supportsVideo=function(){var a=!1;try{var b=document.createElement("video");b.volume=.5;a=!!b.canPlayType}catch(c){a=!1}return a};var a=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},
function(){return new ActiveXObject("Microsoft.XMLHTTP")}];e.createXMLHTTPObject=function(){var e=!1,b;for(b=0;b<a.length;b++){try{e=a[b]()}catch(c){continue}break}return e};e.parseTextToXML=function(a){return(window.DOMParser?function(a){return(new window.DOMParser).parseFromString(a,"text/xml")}:"undefined"!==typeof window.ActiveXObject&&new window.ActiveXObject("Microsoft.XMLDOM")?function(a){var c=new window.ActiveXObject("Microsoft.XMLDOM");c.async="false";c.loadXML(a);return c}:function(){return null})(a)};
e.json_decode=function(a){return window.JSON&&JSON.parse?JSON.parse(a):eval("("+a+")")};return e}(CEDATO_BROWSER||{}),CEDATO_URLUTILS=function(e){e.ScriptPath=function(){try{throw Error();}catch(g){var a=g.stack.split("\n"),e=0,b;for(b in a)if(a[b].match(/http[s]?:\/\//)){e=Number(b)+1;break}var c;a[e+1]&&(c=a[e+1].match(/((http[s]?:\/\/.+\/)([^\/]+\.js).*?):\d+/));c&&c[1]||(c=a[e].match(/((http[s]?:\/\/.+\/)([^\/]+\.js).*?):\d+/));c&&c[1]||!a[e+1]||(c=a[e+1].match(/((http[s]?:\/\/.+\/)([^\/]+\.js).*?):/));
c&&c[1]||(c=a[e].match(/((http[s]?:\/\/.+\/)([^\/]+\.js).*?):/));c&&c[1]||!a[e+1]||(c=a[e+1].match(/((\/\/.+\/)([^\/]+\.js).*?):\d+/));c&&c[1]||(c=a[e].match(/((\/\/.+\/)([^\/]+\.js).*?):\d+/));a="";c[1]&&(a=c[1]);a&&":"===a.substr(a.length-1)&&(a=a.substring(0,a.length-1));return a}};e.getProtocol=function(a){try{if(a&&0===a.toLowerCase().indexOf("https")||document&&document.location&&0===document.location.protocol.indexOf("https")||window.location&&0===window.location.protocol.indexOf("https")||
location&&0===location.protocol.indexOf("https"))return"https:"}catch(e){}return"http:"};e.isFileProtocol=function(){try{if(document&&document.location&&0===document.location.protocol.indexOf("file")||window.location&&0===window.location.protocol.indexOf("file")||location&&0===location.protocol.indexOf("file"))return!0}catch(a){return!0}return!1};e.getDetectedDomain=function(){var a="";try{if(parent!==window){if(a=document.referrer,window.location.ancestorOrigins){var e=window.location.ancestorOrigins[window.location.ancestorOrigins.length-
1];e&&a.substring(0,e.length)!=e&&(a=e)}}else a=top.location.href}catch(b){}return a};e.buildUrl=function(a,e){var b=[],c;for(c in e)if(e.hasOwnProperty(c)){var g=String(e[c]);if("extra"===c)for(var g=g.split("&"),l=0,m=g.length;l<m;l++)b.push(g[l]);else if(c&&c.length&&g.length){l="";try{l=encodeURIComponent(g)}catch(n){l=escape(g)}b.push([c,l].join("="))}else c&&c.length?b.push(c+"="):g&&g.length&&b.push(g)}return[a,b.join("&")].join("")};return e}(CEDATO_URLUTILS||{}),CEDATO_HTTP=function(e){e.CORS_W_CREDENTIALS=
1;e.CORS_FLASH=2;e.CORS_WO_CREDENTIALS=3;e.CORS_FLASH_AND_WO_CREDENTIALS=4;e.USE_JSONP_AND_AJAX=5;e.USE_AJAX=6;e.USE_JSONP=7;e.ERR_NO_XDOMAIN_REQUEST=1;e.ERR_OPEN=2;e.ERR_SEND=3;e.ERR_AFTER_SEND=4;e.ERR_TIMEOUT=5;e.ERR_UNKNOWN=6;e.ERR_FLOAD_FAILED=7;e.ERR_FLOAD_ERROR=8;e.ERR_EXCEPTION_HEADER=9;e.ERR_BAD_RESPONSE=10;e.FetchVastService={banned:[],cache:{},get:function(a){function e(a,b){CEDATO_HTTP.ajax({timeout:16E3,url:l,withCredentials:a,onLoad:function(){if(400<=this.status)return c.onNonRetry(CEDATO_HTTP.ERR_BAD_RESPONSE,
{message:""});if(c.exceptionHeaders.length){for(var a=[],b=(this.getAllResponseHeaders()||"").split("\n"),f=0,e=c.exceptionHeaders.length;f<e;f++)for(var m=0,n=b.length;m<n;m++)0===b[m].toLowerCase().indexOf(c.exceptionHeaders[f].toLowerCase())&&a.push(b[m]);return c.onNonRetry(CEDATO_HTTP.ERR_EXCEPTION_HEADER,{message:a.join("\n")})}try{return a=!1,-1!=this.responseText.indexOf("/vlog?vpaidEvent")&&(a=!0,g.players.logVastResponse=!0),g.players.logVastResponse&&(g.debugLog(g.players,"vastId "+c.vastId+
" - xhr response to url "+l,!1),g.debugLog(g.players,this.responseText,!1)),a&&g.vastError(g.players,c.vastId,3,"lior test",null,g.playerData),"undefined"===typeof this.responseXML&&this.responseText&&(this.responseXML=CEDATO_BROWSER.parseTextToXML(this.responseText)),g.cb(null,this.responseXML,{players:g.players,playerData:g.playerData,urlhandler:g.vastURLHandler,withCredentials:this.withCredentials})}catch(t){return-1==t.message.indexOf("cross-origin")?g.vastError(g.players,c.vastId,3,"xhr onload JS exception: ",
t,g.playerData):g.players.logVastResponse&&g.debugLog(g.players,"vastId "+c.vastId+" - xhr response to url "+l+" gave cross origin error",!1),g.cb(null,null,{players:g.players,playerData:g.playerData,urlhandler:g.vastURLHandler,withCredentials:this.withCredentials})}},onError:function(a,e){switch(a){case CEDATO_HTTP.ERR_NO_XDOMAIN_REQUEST:g.debugLog(g.players,"vastId "+c.vastId+" - old ie but no XDomainRequest",!1);b();break;case CEDATO_HTTP.ERR_OPEN:g.debugLog(g.players,"vastId "+c.vastId+" - xhr open failed with error: "+
e.message,!1);b();break;case CEDATO_HTTP.ERR_SEND:g.debugLog(g.players,"vastId "+c.vastId+" - xhr send failed with error: "+e.message,!1);b();break;case CEDATO_HTTP.ERR_AFTER_SEND:b();break;case CEDATO_HTTP.ERR_TIMEOUT:g.debugLog(g.players,"vastId "+c.vastId+" - timeout error, url: "+l,!1);g.cb(null,null,{players:g.players,playerData:g.playerData,urlhandler:g.vastURLHandler});break;case CEDATO_HTTP.ERR_UNKNOWN:if(-1==e.message.indexOf("101")&&2153644038!=e.result)return g.vastError(g.players,c.vastId,
3,"vastURLHandler JS exception on stage ???: ",e,g.playerData),g.cb(null,null,{players:g.players,playerData:g.playerData,urlhandler:g.vastURLHandler,withCredentials:this.withCredentials});g.debugLog(g.players,"vastId "+c.vastId+" - xhr response gave cross origin exception",!1);b()}},externals:g});g.players.logVastResponse&&g.debugLog(g.players,"vastId "+c.vastId+" - xhr request send called url "+l,!1)}function b(){CEDATO_HTTP.flashAjax({url:l,onLoad:function(){},onError:function(a,b){switch(a){case CEDATO_HTTP.ERR_FLOAD_FAILED:g.debugLog(g.players,
"vastId "+g.playerData.vastId+" - fload failed - vpw disappeared: "+b.message,!1);g.playerData.tlvState=10;g.playerData.errorCount+=1;g.vpwException(g.players,g.playerData,"fload");break;case CEDATO_HTTP.ERR_FLOAD_ERROR:g.debugLog(g.players,"vastId "+g.playerData.vastId+" - fload returned error: "+b.message,!1),g.cb(null,null,{players:g.players,playerData:g.playerData,urlhandler:g.vastURLHandler})}},externals:g})}var c=CEDATO_UTILS.extend({vastId:null,url:"",flashSupport:!1,flashProxyObject:null,
corsSupport:0,exceptionHeaders:[],onSuccess:function(){},onFailure:function(){},onNonRetry:function(){},externals:{players:{},playerData:{},fixURLPrm:function(){},debugLog:function(){},vastError:function(){},cb:function(){},vastURLHandler:null,vpwException:function(){}}},a),g=c.externals;g.players.logVastResponse&&g.debugLog(g.players,"vastId "+c.vastId+" - xhr request url "+c.url,!1);a=c.url;if(-1!==a.indexOf("noad.xml"))g.cb(null,null,m);else if(a=g.fixURLPrm(g.players.protocol,a)){var l=a;CEDATO_BROWSER.oldIE&&
-1==a.indexOf(g.players.protocol)&&(l=g.players.protocol+a.substr(a.indexOf("/")),g.debugLog(g.players,"vastId "+c.vastId+" - old ie and different scheme, adjusting url to "+l,!1));var m={players:g.players,playerData:g.playerData,urlhandler:g.vastURLHandler};switch(c.corsSupport){case CEDATO_HTTP.CORS_FLASH:b();break;case CEDATO_HTTP.CORS_W_CREDENTIALS:case CEDATO_HTTP.CORS_WO_CREDENTIALS:var n=c.corsSupport===CEDATO_HTTP.CORS_W_CREDENTIALS;e(n,function(){g.debugLog(g.players,"vastId "+c.vastId+" - xhr error, fload not available",
!1);n?(g.debugLog(g.players,"vastId "+c.vastId+" - xhr error, retrying without credentials, url: "+l,!1),CEDATO_HTTP.FetchVastService.get(CEDATO_UTILS.extend(c,{corsSupport:CEDATO_HTTP.CORS_WO_CREDENTIALS}))):g.cb(null,null,m)});break;case CEDATO_HTTP.CORS_FLASH_AND_WO_CREDENTIALS:break;default:n=c.corsSupport!==CEDATO_HTTP.CORS_FLASH_AND_WO_CREDENTIALS,e(n,function(){c.flashSupport?b():n?(g.debugLog(g.players,"vastId "+c.vastId+" - xhr error, retrying without credentials, url: "+l,!1),CEDATO_HTTP.FetchVastService.get(CEDATO_UTILS.extend(c,
{corsSupport:CEDATO_HTTP.CORS_WO_CREDENTIALS}))):g.cb(null,null,m)})}}}};e.ajax=function(a){var e=CEDATO_UTILS.extend({url:"",withCredentials:!1,method:"GET",postData:null,timeout:0,onLoad:function(){},onError:function(){}},a);try{var b=!1,c=CEDATO_BROWSER.createXMLHTTPObject();if(CEDATO_BROWSER.oldIE&&!c){if(!window.XDomainRequest)return e.onError.call(c,CEDATO_HTTP.ERR_NO_XDOMAIN_REQUEST),null;c=new XDomainRequest;c.onprogress=function(){}}try{c.open(e.method,e.url)}catch(m){return e.onError.call(c,
CEDATO_HTTP.ERR_OPEN,m),null}"withCredentials"in c&&(c.withCredentials=e.withCredentials);"timeout"in c&&(c.timeout=e.timeout);c.onload=function(){b||(window.XDomainRequest&&c instanceof window.XDomainRequest&&(c.status=200,c.getResponseHeader=function(){return null},c.getAllResponseHeaders=function(){return null}),e.onLoad.call(c))};c.onerror=function(a){b=!0;e.onError.call(c,CEDATO_HTTP.ERR_AFTER_SEND,{result:-1,message:""})};var g=null;a=[];if(e.postData){if("string"==typeof e.postData)g=e.postData;
else{for(var l in e.postData)e.postData.hasOwnProperty(l)&&a.push([l,e.postData[l]].join("="));g=a.join("&")}c.setRequestHeader&&c.setRequestHeader("Content-type","application/x-www-form-urlencoded")}if(CEDATO_BROWSER.oldIE)setTimeout(function(){try{c.send(g)}catch(a){e.onError.call(c,CEDATO_HTTP.ERR_SEND,a)}},0);else try{c.send(g)}catch(m){e.onError.call(c,CEDATO_HTTP.ERR_SEND,m)}}catch(m){e.onError.call(c,CEDATO_HTTP.ERR_UNKNOWN,m)}return c};e.flashAjax=function(a){function e(){if(2!==c.playerData.vpwLoaded)if((new Date).getTime()-
g>b.waitTimeout)b.onError(CEDATO_HTTP.ERR_FLOAD_ERROR,{message:"Flash didnt load timeout"});else setTimeout(e,500);else{var a;try{a=c.playerData.flashElement[c.playerData.flashEICallbacks]("fLoad",b.url,b.timeout,c.players.playersStorageName,c.playerData.uniqId,l,c.players.floadSuccessCallbackFuncName,c.players.floadFailureCallbackFuncName)}catch(n){b.onError(CEDATO_HTTP.ERR_FLOAD_FAILED,n)}if(""!==a)b.onError(CEDATO_HTTP.ERR_FLOAD_ERROR,{message:a})}}var b=CEDATO_UTILS.extend({url:"",timeout:2E4,
waitTimeout:5E3,onLoad:function(){},onError:function(){},externals:{players:{},playerData:{},cb:function(){}}},a),c=b.externals,g=(new Date).getTime(),l=c.playerData.floadCbs.length;c.playerData.floadCbs.push(c.cb);e()};e.JSONP=function(a){var e=CEDATO_UTILS.extend({url:"",onLoad:function(a){},onError:function(){}},a);a="_"+(new Date).getTime();var b=document.createElement("script"),c=document.getElementsByTagName("head")[0]||document.documentElement;window[a]=function(a){e.onLoad(a)};var g=e.url,
l=g.indexOf("?");-1==l?g+="?":l!==g.length-1&&(g+="&");b.src=g+"callback="+a;CEDATO_BROWSER.msie&&9>CEDATO_BROWSER.msie.version?b.onreadystatechange=function(a){if(/loaded|complete/.test(b.readyState)&&(a=b.readyState,b.children,"loaded"==a&&"loading"==b.readyState))e.onError()}:(b.onerror=function(){e.onError()},c.appendChild(b));return{script:b,uid:a}};e.GetPlayerVast=function(a){function e(a){g.push(a);g.length==m&&(2===m?!g[0]&&!g[1]&&0<b.retries:!g[0]&&0<b.retries)&&(b.retries--,setTimeout(function(){CEDATO_HTTP.GetPlayerVast(b)},
b.retryInterval))}var b=CEDATO_UTILS.extend({url:"",success:function(a,b,c){},preferredMethod:CEDATO_HTTP.USE_JSONP_AND_AJAX,retryInterval:1E4,retries:2,externals:{players:{},debugLog:function(){},playerError:function(){}}},a),c=b.externals,g=[],l=!1,m=b.preferredMethod===CEDATO_HTTP.USE_JSONP_AND_AJAX?2:1;c.debugLog(c.players,"gpv url: "+b.url,!1);c.players.gpvAttempt++;if(b.preferredMethod===CEDATO_HTTP.USE_AJAX||b.preferredMethod===CEDATO_HTTP.USE_JSONP_AND_AJAX)c.players.gsvXHR=CEDATO_HTTP.ajax({url:b.url,
method:"get",onLoad:function(){try{c.debugLog(c.players,"sp callback from "+b.url,!1);var a=CEDATO_BROWSER.json_decode(this.responseText);l||(l=!0,b.success(c.players,a,CEDATO_HTTP.USE_AJAX));e(!0)}catch(g){e(!1),g.message&&-1===g.message.indexOf("Unexpected EOF")&&-1===g.message.indexOf("Unable to parse")&&c.playerError(c.players,3,"spcallback gave JS exception: "+g.message)}},onError:function(a){e(!1)}});b.preferredMethod!==CEDATO_HTTP.USE_JSONP&&b.preferredMethod!==CEDATO_HTTP.USE_JSONP_AND_AJAX||
CEDATO_HTTP.JSONP({url:b.url,onLoad:function(a){l||(l=!0,b.success(c.players,a,CEDATO_HTTP.USE_JSONP));e(!0)},onError:function(){e(!1)}})};e.sendPixel=function(a,e,b){!0===b?(new Image).src=a:CEDATO_HTTP.ajax({url:a,postData:e,method:e?"post":"get"})};return e}(CEDATO_HTTP||{}),CEDATO_UTILS=function(e){e.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)};e.extend=function(a,e){for(var b in e)e.hasOwnProperty(b)&&(a[b]=e[b]);return a};return e}(CEDATO_UTILS||{}),CEDATO_CONTENT=
function(e){var a=function(a){function b(){l.video&&l.video.parentNode&&l.video.parentNode.removeChild(l.video);var a=m.customCreateVideoElement?m.customCreateVideoElement():document.createElement("video");a.src=l.currentContentUrl;a.controls=l.controlBar;a.autoplay=l.autoPlay;a.loop=!1;a.preload="auto";a.volume=l.volume;a.setAttribute("style","height:100% !important;display:block;");a.style.width="100%";a.style.position="relative";a.style.zIndex="1";a.addEventListener("ended",function(c){n&&a.play();
if(!u){c=0;for(var e=l.callbacks.endContentVideo.length;c<e;c++)l.callbacks.endContentVideo[c].call(l);u=!0}n||(l.currentContentUrl=l.contentUrlList.shift(),l.loop&&l.contentUrlList.push(l.currentContentUrl),l.currentContentUrl?b():"")},!1);a.addEventListener("error",function(a){var b="";switch(a.target.error.code){case a.target.error.MEDIA_ERR_ABORTED:b="You aborted the video playback.";break;case a.target.error.MEDIA_ERR_NETWORK:b="A network error caused the video download to fail part-way.";break;
case a.target.error.MEDIA_ERR_DECODE:b="The video playback was aborted due to a corruption problem or because the video used features your browser did not support.";break;case a.target.error.MEDIA_ERR_SRC_NOT_SUPPORTED:b="The video could not be loaded, either because the server or network failed or because the format is not supported.";break;default:b="An unknown error occurred."}m.onError(a,b)},!1);a.addEventListener("canplay",function(b){a.canvas&&(a.canvas.style.width="100%",a.canvas.style.height=
"100%")});l.video=a;l.container?l.container.appendChild(a):"";l.autoPlay||l.controlBar||c()}function c(){var a=document.createElement("div");a.style.display="table";a.style.position="absolute";a.style.left="0";a.style.top="0";a.style.width="100%";a.style.height="100%";a.style.zIndex="2";a.style.background="#000";a.style.cursor="pointer";var b=document.createElement("div");b.style.display="table-cell";b.style.verticalAlign="middle";b.style.textAlign="center";var c=new Image;c.src=m.playButtonUrl;c.style.width=
"auto";c.style.maxHeight=Math.round(.3*l.container.clientHeight)+"px";b.appendChild(c);a.appendChild(b);l.playOverlay=a;l.container?l.container.appendChild(a):"";a.onclick=function(a){l.playOverlay&&l.playOverlay.parentNode?l.playOverlay.parentNode.removeChild(l.playOverlay):"";l.playOverlay=null;l.playContent();a.stopPropagation();a=0;for(var b=l.callbacks.userStartPlaying.length;a<b;a++)l.callbacks.userStartPlaying[a].call(l)}}function e(){var a=document.createElement("div");a.style.width="100%";
a.style.height="100%";a.style.background="url("+l.bannerUrl+") no-repeat center center";a.style.position="absolute";a.style.left="0";a.style.top="0";l.bannerOverlay=a;l.container?l.container.appendChild(a):"";l.autoPlay||c()}var l=this,m=CEDATO_UTILS.extend({parentDiv:null,contentUrl:null,bannerUrl:"spinner.gif",playButtonUrl:"play_button_gr.png",clickUrl:"",autoPlay:!0,volume:1,loop:!0,controlBar:!1,videoSupport:!0,customCreateVideoElement:null,userStartPlayingCallback:function(a){},endContentVideoCallback:function(a){},
userClick:function(a){},onError:function(a){}},a);this.parentDiv=m.parentDiv;this.contentUrl=m.contentUrl;this.contentUrlList=CEDATO_UTILS.isArray(this.contentUrl)?this.contentUrl.slice():this.contentUrl?[this.contentUrl]:[];this.currentContentUrl=this.contentUrlList.length?this.contentUrlList.shift():null;this.bannerUrl=m.bannerUrl;this.clickUrl=m.clickUrl;this.autoPlay=m.autoPlay;this.volume=1*m.volume;this.loop=m.loop;this.controlBar=m.controlBar;this.videoSupport=m.videoSupport;var n=!1;this.callbacks=
{userStartPlaying:[m.userStartPlayingCallback],endContentVideo:[m.endContentVideoCallback]};this.loop&&(this.contentUrlList.push(this.currentContentUrl),n=1==l.contentUrlList.length);this.container=document.createElement("div");this.container.style.width="100%";this.container.style.height="100%";this.container.style.top="0";this.container.style.left="0";this.container.style.position="absolute";this.container.style.background="#000";this.container.style.zIndex="10001";l.parentDiv?l.parentDiv.appendChild(this.container):
"";this.playOverlay=this.video=this.bannerOverlay=null;var u=!1;l.currentContentUrl&&this.videoSupport?b():e();this.container.onclick=function(a){l.clickUrl&&!l.playOverlay&&(m.userClick(),window.open(l.clickUrl,"_blank"))}};a.prototype.playContent=function(){!this.video||this.video.paused&&this.playOverlay||this.video.play()};a.prototype.pauseContent=function(){this.video&&this.video.pause()};a.prototype.showContent=function(){this.container&&(this.container.style.zIndex="10001",this.container.style.display=
"",this.playContent())};a.prototype.hideContent=function(){this.container&&(this.container.style.zIndex="1",this.container.style.display="none",this.pauseContent())};a.prototype.isVisible=function(){return this.container?"10001"===this.container.style.zIndex&&""===this.container.style.display:!1};a.prototype.removeContent=function(){this.container&&this.container.parentNode&&this.container.parentNode.removeChild(this.container)};a.prototype.setVolume=function(a){this.video&&(this.volume=a,this.video.volume=
a)};a.prototype.addEndContentVideoCallback=function(a){this.callbacks.endContentVideo.push(a)};a.prototype.addUserStartPlayingCallback=function(a){this.callbacks.userStartPlaying.push(a)};e.ContentUnit=a;return e}(CEDATO_CONTENT||{}),CEDATO_DETECT_UTILS=function(e){e.getStatsParam=function(a){if(a){var e="h";"https:"===a.protocol&&(e="s");var b="h";if("vpaid"===a.mode&&(b="f",a.vpaidObj))switch(a.vpaidObj.getVpaidType()){case "fl":b="f";break;case "js":b="j"}var c="d";a.info&&a.info.mobile&&(c="m");
return e+b+c}};return e}(CEDATO_DETECT_UTILS||{});
(function(e){"object"===typeof eexports&&"undefined"!==typeof mmodule?mmodule.eexports=e():"function"===typeof ddefine&&ddefine.amd?ddefine([],e):("undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:this).DMVAST=e()})(function(){return function a(k,b,c){function g(m,u){if(!b[m]){if(!k[m]){var t="function"==typeof rrequire&&rrequire;if(!u&&t)return t(m,!0);if(l)return l(m,!0);t=Error("Cannot find mmodule '"+m+"'");throw t.code="MODULE_NOT_FOUND",t;}t=
b[m]={eexports:{}};k[m][0].call(t.eexports,function(a){var b=k[m][1][a];return g(b?b:a)},t,t.eexports,a,k,b,c)}return b[m].eexports}for(var l="function"==typeof rrequire&&rrequire,m=0;m<c.length;m++)g(c[m]);return g}({1:[function(a,k,b){a=function(){return function(){this.errorURLTemplates=[];this.impressionURLTemplates=[];this.creatives=[]}}();this.extensions="";k.eexports=a},{}],2:[function(a,k,b){var c,g;c=a("./parser.coffee");g=a("./util.coffee");a=function(){function a(){}a.cappingFreeLunch=
0;a.cappingMinimumTimeInterval=0;a.options={withCredentials:!1,timeout:0};a.get=function(a,g,l){var t,q,v;q=+new Date;t=b.extend=function(a,b){var c,g;for(c in b)g=b[c],a[c]=g;return a};l||("function"===typeof g&&(l=g),v={});v=t(this.options,g);this.totalCallsTimeout<q?(this.totalCalls=1,this.totalCallsTimeout=q+36E5):this.totalCalls++;if(this.cappingFreeLunch>=this.totalCalls)l(null);else if(q-this.lastSuccessfullAd<this.cappingMinimumTimeInterval)l(null);else return c.parse(a,v,function(a){return l(a)})};
(function(){var b,c;c=g.storage;b=Object.defineProperty;["lastSuccessfullAd","totalCalls","totalCallsTimeout"].forEach(function(g){b(a,g,{get:function(){return c.getItem(g)},set:function(a){return c.setItem(g,a)},configurable:!1,enumerable:!0})});null==a.totalCalls&&(a.totalCalls=0);null==a.totalCallsTimeout&&(a.totalCallsTimeout=0)})();return a}();k.eexports=a},{"./parser.coffee":7,"./util.coffee":13}],3:[function(a,k,b){a=function(){return function(){this.id=null;this.height=this.width=0;this.companionClickThroughURLTemplate=
this.staticResource=this.type=null;this.trackingEvents={}}}();k.eexports=a},{}],4:[function(a,k,b){var c,g={}.hasOwnProperty,l=function(a,b){function c(){this.constructor=a}for(var l in b)g.call(b,l)&&(a[l]=b[l]);c.prototype=b.prototype;a.prototype=new c;a.__super__=b.prototype;return a};c=function(){return function(){this.trackingEvents={}}}();a=function(a){function b(){b.__super__.constructor.apply(this,arguments);this.type="linear";this.duration=0;this.skipDelay=null;this.mediaFiles=[];this.videoClickThroughURLTemplate=
null;this.videoClickTrackingURLTemplates=[]}l(b,a);return b}(c);this.adParameters="";b=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}l(b,a);return b}(c);c=function(a){function b(){this.type="companion";this.variations=[];this.videoClickTrackingURLTemplates=[]}l(b,a);return b}(c);k.eexports={VASTCreativeLinear:a,VASTCreativeNonLinear:b,VASTCreativeCompanion:c}},{}],5:[function(a,k,b){k.eexports={client:a("./client.coffee"),tracker:a("./tracker.coffee"),parser:a("./parser.coffee"),
util:a("./util.coffee")}},{"./client.coffee":2,"./parser.coffee":7,"./tracker.coffee":9,"./util.coffee":13}],6:[function(a,k,b){a=function(){return function(){this.fileURL=this.id=null;this.deliveryType="progressive";this.codec=this.mimeType=null;this.height=this.width=this.maxBitrate=this.minBitrate=this.bitrate=0;this.maintainAspectRatio=this.scalable=this.apiFramework=null}}();k.eexports=a},{}],7:[function(a,k,b){var c,g,l,m,n,u,t,q,v,f=[].indexOf||function(a){for(var f=0,b=this.length;f<b;f++)if(f in
this&&this[f]===a)return f;return-1};g=a("./urlhandler.coffee");q=a("./response.coffee");l=a("./ad.coffee");v=a("./util.coffee");u=a("./creative.coffee").VASTCreativeLinear;n=a("./creative.coffee").VASTCreativeCompanion;t=a("./mediafile.coffee");m=a("./companionad.coffee");c=a("events").EventEmitter;a=function(){function a(){}var b;b=[];a.addURLTemplateFilter=function(a){"function"===typeof a&&b.push(a)};a.removeURLTemplateFilter=function(){return b.pop()};a.countURLTemplateFilters=function(){return b.length};
a.clearUrlTemplateFilters=function(){return b=[]};a.parse=function(a,f,b){b||("function"===typeof f&&(b=f),f={});return this._parse(a,null,f,function(a,f){return b(f)})};a.vent=new c;a.track=function(a,f){this.vent.emit("VAST-error",f);return v.track(a,f)};a.on=function(a,f){return this.vent.on(a,f)};a.once=function(a,f){return this.vent.once(a,f)};a._parse=function(a,c,m,l){var v,n,t,k=this;l||("function"===typeof m&&(l=m),m={});n=0;for(t=b.length;n<t;n++)v=b[n],a=v(a);null==c&&(c=[]);c.push(a);
return g.get(a,m,function(b,g,m){var n,v,p,t,u,z;if(null!=b)return l(b);p=new q;if(null==(null!=g?g.documentElement:void 0)||"VAST"!==g.documentElement.nodeName)return l();z=g.documentElement.childNodes;t=0;for(u=z.length;t<u;t++)b=z[t],"Error"===b.nodeName&&p.errorURLTemplates.push(k.parseNodeText(b));u=g.documentElement.childNodes;g=0;for(t=u.length;g<t;g++)b=u[g],"Ad"===b.nodeName&&(n=k.parseAdElement(b),null!=n?p.ads.push(n):k.track(p.errorURLTemplates,{ERRORCODE:101}));v=function(a){var f,b,
c;null==a&&(a=!1);if(p){c=p.ads;f=0;for(b=c.length;f<b;f++)if(n=c[f],null!=n.nextWrapperURL)return;0===p.ads.length&&(a||k.track(p.errorURLTemplates,{ERRORCODE:303}),p=null);return l(null,p)}};for(b=p.ads.length;b--;)n=p.ads[b],null!=n.nextWrapperURL&&function(b){var g;if(10<=c.length||(g=b.nextWrapperURL,0<=f.call(c,g)))k.track(b.errorURLTemplates,{ERRORCODE:302}),p.ads.splice(p.ads.indexOf(b),1),v();else return-1===b.nextWrapperURL.indexOf("://")&&(g=a.slice(0,a.lastIndexOf("/")),b.nextWrapperURL=
""+g+"/"+b.nextWrapperURL),k._parse(b.nextWrapperURL,c,m,function(a,f){var c,g,q,m,l,n,t,u,x,z,H,A,D,C,G;g=!1;if(null!=a)k.track(b.errorURLTemplates,{ERRORCODE:301}),p.ads.splice(p.ads.indexOf(b),1),g=!0;else if(null==f)k.track(b.errorURLTemplates,{ERRORCODE:303}),p.ads.splice(p.ads.indexOf(b),1),g=!0;else for(p.errorURLTemplates=p.errorURLTemplates.concat(f.errorURLTemplates),m=p.ads.indexOf(b),p.ads.splice(m,1),D=f.ads,t=0,u=D.length;t<u;t++){l=D[t];l.errorURLTemplates=b.errorURLTemplates.concat(l.errorURLTemplates);
l.impressionURLTemplates=b.impressionURLTemplates.concat(l.impressionURLTemplates);if(null!=b.trackingEvents)for(C=l.creatives,H=0,x=C.length;H<x;H++)if(c=C[H],"linear"===c.type)for(G=Object.keys(b.trackingEvents),A=0,z=G.length;A<z;A++)q=G[A],(n=c.trackingEvents)[q]||(n[q]=[]),c.trackingEvents[q]=c.trackingEvents[q].concat(b.trackingEvents[q]);if(null!=b.videoClickTrackingURLTemplates)for(z=l.creatives,x=0,q=z.length;x<q;x++)c=z[x],"linear"===c.type&&(c.videoClickTrackingURLTemplates=c.videoClickTrackingURLTemplates.concat(b.videoClickTrackingURLTemplates));
p.ads.splice(m,0,l)}delete b.nextWrapperURL;return v(g)})}(n);return v()})};a.childByName=function(a,f){var b,c,g,q;q=a.childNodes;c=0;for(g=q.length;c<g;c++)if(b=q[c],b.nodeName===f)return b};a.childsByName=function(a,f){var b,c,g,q,m;c=[];m=a.childNodes;g=0;for(q=m.length;g<q;g++)b=m[g],b.nodeName===f&&c.push(b);return c};a.parseAdElement=function(a){var f,b,c;c=a.childNodes;f=0;for(b=c.length;f<b;f++){a=c[f];if("Wrapper"===a.nodeName)return this.parseWrapperElement(a);if("InLine"===a.nodeName)return this.parseInLineElement(a)}};
a.parseWrapperElement=function(a){var f,b,c,g,q;f=this.parseInLineElement(a);b=this.childByName(a,"VASTAdTagURI");null!=b?f.nextWrapperURL=this.parseNodeText(b):(b=this.childByName(a,"VASTAdTagURL"),null!=b&&(f.nextWrapperURL=this.parseNodeText(this.childByName(b,"URL"))));b=null;q=f.creatives;c=0;for(g=q.length;c<g;c++)if(a=q[c],"linear"===a.type){b=a;break}null!=b&&(null!=b.trackingEvents&&(f.trackingEvents=b.trackingEvents),null!=b.videoClickTrackingURLTemplates&&(f.videoClickTrackingURLTemplates=
b.videoClickTrackingURLTemplates));if(null!=f.nextWrapperURL)return f};a.parseInLineElement=function(a){var f,b,c,g,q,m,n,v,t,k;f=new l;v=a.childNodes;a=0;for(q=v.length;a<q;a++)switch(g=v[a],g.nodeName){case "Error":this.isUrl(g)&&f.errorURLTemplates.push(this.parseNodeText(g));break;case "Extensions":f.extensions=this.parseNodeText(g);break;case "Impression":this.isUrl(g)&&f.impressionURLTemplates.push(this.parseNodeText(g));break;case "Creatives":for(t=this.childsByName(g,"Creative"),g=0,m=t.length;g<
m;g++)for(c=t[g],k=c.childNodes,c=0,n=k.length;c<n;c++)switch(b=k[c],b.nodeName){case "Linear":(b=this.parseCreativeLinearElement(b))&&f.creatives.push(b);break;case "CompanionAds":(b=this.parseCompanionAd(b))&&f.creatives.push(b)}}return f};a.parseCreativeLinearElement=function(a){var f,b,c,g,q,m,l,n,v,k;b=new u;b.duration=this.parseDuration(this.parseNodeText(this.childByName(a,"Duration")));if(-1===b.duration&&"Wrapper"!==a.parentNode.parentNode.parentNode.nodeName)return null;f=a.getAttribute("skipoffset");
null==f?b.skipDelay=null:"%"===f.charAt(f.length-1)?(f=parseInt(f,10),b.skipDelay=f/100*b.duration):b.skipDelay=this.parseDuration(f);f=this.childByName(a,"VideoClicks");if(null!=f)for(b.videoClickThroughURLTemplate=this.parseNodeText(this.childByName(f,"ClickThrough")),c=this.childsByName(f,"ClickTracking"),q=0,k=c.length;q<k;q++)f=c[q],b.videoClickTrackingURLTemplates.push(this.parseNodeText(f));f=this.childByName(a,"AdParameters");null!=f&&(b.adParameters=this.parseNodeText(f));k=this.childsByName(a,
"TrackingEvents");f=0;for(q=k.length;f<q;f++)for(c=k[f],m=this.childsByName(c,"Tracking"),v=0,g=m.length;v<g;v++)l=m[v],c=l.getAttribute("event"),l=this.parseNodeText(l),null!=c&&null!=l&&(null==(n=b.trackingEvents)[c]&&(n[c]=[]),b.trackingEvents[c].push(l));f=this.childsByName(a,"MediaFiles");a=0;for(n=f.length;a<n;a++)for(q=f[a],v=this.childsByName(q,"MediaFile"),c=0,k=v.length;c<k;c++)g=v[c],q=new t,q.id=g.getAttribute("id"),q.fileURL=this.parseNodeText(g),q.deliveryType=g.getAttribute("delivery"),
q.codec=g.getAttribute("codec"),q.mimeType=g.getAttribute("type"),q.apiFramework=g.getAttribute("apiFramework"),q.bitrate=parseInt(g.getAttribute("bitrate")||0),q.minBitrate=parseInt(g.getAttribute("minBitrate")||0),q.maxBitrate=parseInt(g.getAttribute("maxBitrate")||0),q.width=parseInt(g.getAttribute("width")||0),q.height=parseInt(g.getAttribute("height")||0),(m=g.getAttribute("scalable"))&&"string"===typeof m&&(m=m.toLowerCase(),"true"===m?q.scalable=!0:"false"===m&&(q.scalable=!1)),(g=g.getAttribute("maintainAspectRatio"))&&
"string"===typeof g&&(g=g.toLowerCase(),"true"===g?q.maintainAspectRatio=!0:"false"===g&&(q.maintainAspectRatio=!1)),b.mediaFiles.push(q);return b};a.parseCompanionAd=function(a){var f,b,c,g,q,l,v,k,t,u,z,G,V,Q;b=new n;V=this.childsByName(a,"Companion");v=0;for(t=V.length;v<t;v++){f=V[v];a=new m;a.id=f.getAttribute("id")||null;a.width=f.getAttribute("width");a.height=f.getAttribute("height");c=this.childsByName(f,"HTMLResource");k=0;for(u=c.length;k<u;k++)g=c[k],a.type=g.getAttribute("creativeType")||
0,a.htmlResource=this.parseNodeText(g);c=this.childsByName(f,"IFrameResource");k=0;for(u=c.length;k<u;k++)g=c[k],a.type=g.getAttribute("creativeType")||0,a.iframeResource=this.parseNodeText(g);c=this.childsByName(f,"StaticResource");k=0;for(u=c.length;k<u;k++)g=c[k],a.type=g.getAttribute("creativeType")||0,a.staticResource=this.parseNodeText(g);u=this.childsByName(f,"TrackingEvents");k=0;for(g=u.length;k<g;k++)for(c=u[k],Q=this.childsByName(c,"Tracking"),G=0,z=Q.length;G<z;G++)q=Q[G],c=q.getAttribute("event"),
q=this.parseNodeText(q),null!=c&&null!=q&&(null==(l=a.trackingEvents)[c]&&(l[c]=[]),a.trackingEvents[c].push(q));a.companionClickThroughURLTemplate=this.parseNodeText(this.childByName(f,"CompanionClickThrough"));b.variations.push(a)}return b};a.parseDuration=function(a){var f,b;if(null==a)return-1;f=a.split(":");if(3!==f.length)return-1;b=f[2].split(".");a=parseInt(b[0]);2===b.length&&(a+=parseFloat("0."+b[1]));b=parseInt(60*f[1]);f=parseInt(3600*f[0]);return isNaN(f||isNaN(b||isNaN(a||3600<b||60<
a)))?-1:f+b+a};a.parseNodeText=function(a){return a&&(a.textContent||a.text||"").trim()};a.isUrl=function(a){return/[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?//=]*)/i.test(this.parseNodeText(a))};return a}();k.eexports=a},{"./ad.coffee":1,"./companionad.coffee":3,"./creative.coffee":4,"./mediafile.coffee":6,"./response.coffee":8,"./urlhandler.coffee":10,"./util.coffee":13,events:14}],8:[function(a,k,b){a=function(){return function(){this.ads=[];this.errorURLTemplates=[]}}();
k.eexports=a},{}],9:[function(a,k,b){var c,g,l,m={}.hasOwnProperty,n=function(a,b){function c(){this.constructor=a}for(var g in b)m.call(b,g)&&(a[g]=b[g]);c.prototype=b.prototype;a.prototype=new c;a.__super__=b.prototype;return a};c=a("./client.coffee");l=a("./util.coffee");g=a("./creative.coffee").VASTCreativeLinear;a=function(a){function b(a,m){var f,l,n;this.ad=a;this.creative=m;this.skipable=this.impressed=this.muted=!1;this.skipDelayDefault=-1;this.trackingEvents={};this.emitAlwaysEvents="creativeView start firstQuartile midpoint thirdQuartile complete resume pause rewind skip closeLinear close".split(" ");
n=m.trackingEvents;for(f in n)l=n[f],this.trackingEvents[f]=l.slice(0);m instanceof g?(this.setDuration(m.duration),this.skipDelay=m.skipDelay,this.linear=!0,this.clickThroughURLTemplate=m.videoClickThroughURLTemplate,this.clickTrackingURLTemplates=m.videoClickTrackingURLTemplates):(this.skipDelay=-1,this.linear=!1);this.on("start",function(){c.lastSuccessfullAd=+new Date})}n(b,a);b.prototype.setDuration=function(a){this.assetDuration=a;return this.quartiles={firstQuartile:Math.round(25*this.assetDuration)/
100,midpoint:Math.round(50*this.assetDuration)/100,thirdQuartile:Math.round(75*this.assetDuration)/100}};b.prototype.setProgress=function(a){var b,f,c,g;f=null===this.skipDelay?this.skipDelayDefault:this.skipDelay;-1===f||this.skipable||(f>a?this.emit("skip-countdown",f-a):(this.skipable=!0,this.emit("skip-countdown",0)));if(this.linear&&0<this.assetDuration){f=[];if(0<a)for(b in f.push("start"),c=Math.round(a/this.assetDuration*100),f.push("progress-"+c+"%"),g=this.quartiles,g)c=g[b],c<=a&&a<=c+
1&&f.push(b);c=0;for(g=f.length;c<g;c++)b=f[c],this.track(b,!0);a<this.progress&&this.track("rewind")}return this.progress=a};b.prototype.setMuted=function(a){this.muted!==a&&this.track(a?"mute":"unmute");return this.muted=a};b.prototype.setPaused=function(a){this.paused!==a&&this.track(a?"pause":"resume");return this.paused=a};b.prototype.setFullscreen=function(a){this.fullscreen!==a&&this.track(a?"fullscreen":"exitFullscreen");return this.fullscreen=a};b.prototype.setSkipDelay=function(a){if("number"===
typeof a)return this.skipDelay=a};b.prototype.load=function(){if(!this.impressed)return this.impressed=!0,this.trackURLs(this.ad.impressionURLTemplates),this.track("creativeView")};b.prototype.errorWithCode=function(a){return this.trackURLs(this.ad.errorURLTemplates,{ERRORCODE:a})};b.prototype.complete=function(){return this.track("complete")};b.prototype.stop=function(){return this.track(this.linear?"closeLinear":"close")};b.prototype.skip=function(){this.track("skip");return this.trackingEvents=
[]};b.prototype.click=function(){var a,b;null!=(b=this.clickTrackingURLTemplates)&&b.length&&this.trackURLs(this.clickTrackingURLTemplates);if(null!=this.clickThroughURLTemplate)return this.linear&&(a={CONTENTPLAYHEAD:this.progressFormated()}),a=l.resolveURLTemplates([this.clickThroughURLTemplate],a)[0],this.emit("clickthrough",a)};b.prototype.track=function(a,b){var f,c;null==b&&(b=!1);"closeLinear"===a&&null==this.trackingEvents[a]&&null!=this.trackingEvents.close&&(a="close");c=this.trackingEvents[a];
f=this.emitAlwaysEvents.indexOf(a);null!=c?(this.emit(a,""),this.trackURLs(c)):-1!==f&&this.emit(a,"");!0===b&&(delete this.trackingEvents[a],-1<f&&this.emitAlwaysEvents.splice(f,1))};b.prototype.trackURLs=function(a,b){null==b&&(b={});this.linear&&(b.CONTENTPLAYHEAD=this.progressFormated());return l.track(a,b)};b.prototype.progressFormated=function(){var a,b,f,c;f=parseInt(this.progress);a=f/3600;2>a.length&&(a="0"+a);b=f/60%60;2>b.length&&(b="0"+b);c=f%60;2>c.length&&(c="0"+b);f=parseInt(100*(this.progress-
f));return""+a+":"+b+":"+c+"."+f};return b}(a("events").EventEmitter);k.eexports=a},{"./client.coffee":2,"./creative.coffee":4,"./util.coffee":13,events:14}],10:[function(a,k,b){var c,g;g=a("./urlhandlers/xmlhttprequest.coffee");c=a("./urlhandlers/flash.coffee");b=function(){function b(){}b.get=function(b,l,k){k||("function"===typeof l&&(k=l),l={});return l.urlhandler&&l.urlhandler.supported()?l.urlhandler.get(b,l,k):"undefined"===typeof window||null===window?a("./urlhandlers/node.coffee").get(b,
l,k):g.supported()?g.get(b,l,k):c.supported()?c.get(b,l,k):k()};return b}();k.eexports=b},{"./urlhandlers/flash.coffee":11,"./urlhandlers/xmlhttprequest.coffee":12}],11:[function(a,k,b){a=function(){function a(){}a.xdr=function(){var a;window.XDomainRequest&&(a=new XDomainRequest);return a};a.supported=function(){return!!this.xdr()};a.get=function(a,b,c){var k,u;if(u="function"===typeof window.ActiveXObject?new window.ActiveXObject("Microsoft.XMLDOM"):void 0)u.async=!1;else return c();k=this.xdr();
k.open("GET",a);k.timeout=b.timeout||0;k.withCredentials=b.withCredentials||!1;k.send();return k.onload=function(){u.loadXML(k.responseText);return c(null,u)}};return a}();k.eexports=a},{}],12:[function(a,k,b){a=function(){function a(){}a.xhr=function(){var a;a=new window.XMLHttpRequest;if("withCredentials"in a)return a};a.supported=function(){return!!this.xhr()};a.get=function(a,b,c){var k;try{return k=this.xhr(),k.open("GET",a),k.timeout=b.timeout||0,k.withCredentials=b.withCredentials||!1,k.send(),
k.onreadystatechange=function(){if(4===k.readyState)return c(null,k.responseXML)}}catch(u){return c()}};return a}();k.eexports=a},{}],13:[function(a,k,b){a=function(){function a(){}a.track=function(a,b){var c,k,u,t,q,v;k=this.resolveURLTemplates(a,b);v=[];t=0;for(q=k.length;t<q;t++)c=k[t],"undefined"!==typeof window&&null!==window&&(u=new Image,v.push(u.src=c));return v};a.resolveURLTemplates=function(a,b){var c,k,u,t,q,v,f,z;k=[];null==b&&(b={});"CACHEBUSTING"in b||(b.CACHEBUSTING=Math.round(1E10*
Math.random()));b.random=b.CACHEBUSTING;f=0;for(z=a.length;f<z;f++)if(q=a[f]){for(u in b)v=b[u],c="["+u+"]",t="%%"+u+"%%",q=q.replace(c,v),q=q.replace(t,v);k.push(q)}return k};a.storage=function(){var a,b,c;try{c="undefined"!==typeof window&&null!==window?window.localStorage||window.sessionStorage:null}catch(k){c=null}b=function(a){try{if(a.setItem("__VASTUtil__","__VASTUtil__"),"__VASTUtil__"!==a.getItem("__VASTUtil__"))return!0}catch(b){return!0}return!1};if(null==c||b(c))a={},c={length:0,getItem:function(b){return a[b]},
setItem:function(b,c){a[b]=c;this.length=Object.keys(a).length},removeItem:function(b){delete a[b];this.length=Object.keys(a).length},clear:function(){a={};this.length=0}};return c}();return a}();k.eexports=a},{}],14:[function(a,k,b){function c(){this._events=this._events||{};this._maxListeners=this._maxListeners||void 0}function g(a){return"function"===typeof a}function l(a){return"object"===typeof a&&null!==a}k.eexports=c;c.EventEmitter=c;c.prototype._events=void 0;c.prototype._maxListeners=void 0;
c.defaultMaxListeners=10;c.prototype.setMaxListeners=function(a){if("number"!==typeof a||0>a||isNaN(a))throw TypeError("n must be a positive number");this._maxListeners=a;return this};c.prototype.emit=function(a){var b,c,k,q;this._events||(this._events={});if("error"===a&&(!this._events.error||l(this._events.error)&&!this._events.error.length)){b=arguments[1];if(b instanceof Error)throw b;throw TypeError('Uncaught, unspecified "error" event.');}c=this._events[a];if(void 0===c)return!1;if(g(c))switch(arguments.length){case 1:c.call(this);
break;case 2:c.call(this,arguments[1]);break;case 3:c.call(this,arguments[1],arguments[2]);break;default:b=arguments.length;k=Array(b-1);for(q=1;q<b;q++)k[q-1]=arguments[q];c.apply(this,k)}else if(l(c)){b=arguments.length;k=Array(b-1);for(q=1;q<b;q++)k[q-1]=arguments[q];c=c.slice();b=c.length;for(q=0;q<b;q++)c[q].apply(this,k)}return!0};c.prototype.addListener=function(a,b){var k;if(!g(b))throw TypeError("listener must be a function");this._events||(this._events={});this._events.newListener&&this.emit("newListener",
a,g(b.listener)?b.listener:b);this._events[a]?l(this._events[a])?this._events[a].push(b):this._events[a]=[this._events[a],b]:this._events[a]=b;l(this._events[a])&&!this._events[a].warned&&(k=void 0!==this._maxListeners?this._maxListeners:c.defaultMaxListeners)&&0<k&&this._events[a].length>k&&(this._events[a].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[a].length),"function"===
typeof console.trace&&console.trace());return this};c.prototype.on=c.prototype.addListener;c.prototype.once=function(a,b){function c(){this.removeListener(a,c);k||(k=!0,b.apply(this,arguments))}if(!g(b))throw TypeError("listener must be a function");var k=!1;c.listener=b;this.on(a,c);return this};c.prototype.removeListener=function(a,b){var c,k,q;if(!g(b))throw TypeError("listener must be a function");if(!this._events||!this._events[a])return this;c=this._events[a];q=c.length;k=-1;if(c===b||g(c.listener)&&
c.listener===b)delete this._events[a],this._events.removeListener&&this.emit("removeListener",a,b);else if(l(c)){for(;0<q--;)if(c[q]===b||c[q].listener&&c[q].listener===b){k=q;break}if(0>k)return this;1===c.length?(c.length=0,delete this._events[a]):c.splice(k,1);this._events.removeListener&&this.emit("removeListener",a,b)}return this};c.prototype.removeAllListeners=function(a){var b;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[a]&&
delete this._events[a],this;if(0===arguments.length){for(b in this._events)"removeListener"!==b&&this.removeAllListeners(b);this.removeAllListeners("removeListener");this._events={};return this}b=this._events[a];if(g(b))this.removeListener(a,b);else for(;b.length;)this.removeListener(a,b[b.length-1]);delete this._events[a];return this};c.prototype.listeners=function(a){return this._events&&this._events[a]?g(this._events[a])?[this._events[a]]:this._events[a].slice():[]};c.listenerCount=function(a,
b){return a._events&&a._events[b]?g(a._events[b])?1:a._events[b].length:0}},{}]},{},[5])(5)});
var CEDATO_VPAID_OBJ=function(e){function a(){this.type_="";this.obj={};this.flashEI="";this.eventsCallbacks_={};this.vpaidStatus="not_connected";this.globalCallbackName="";var a=this;this.playerID;this.globalCallbackName="cpcb"+Math.floor(1000001*Math.random());window[this.globalCallbackName]=function(b,c,g){if(this.eventsCallbacks_[b])g?setTimeout(function(){a.eventsCallbacks_[b].call(a,c)},0):a.eventsCallbacks_[b].call(a,c);else throw Exception("no callback "+b);}.bind(a)}a.prototype={callObj:function(a,
b){if("fl"==this.type_){try{var c=this.obj[this.flashEI](a,b)}catch(g){return null}return c}return this.obj.pEvent(a,b)},initObj:function(a,b,c,g){this.type_=b;"fl"==this.type_?(this.obj=a,g&&(this.flashEI=g)):window[a]&&(this.obj=window[a],this.vpaidStatus="connected",this.call("connect",{globalCallbackName:this.globalCallbackName,playersStorageName:c}))},getVpaidType:function(){return this.type_},call:function(a,b,c){if(c)setTimeout(this.callObj.bind(this),0,a,b);else return this.callObj(a,b)},
register:function(a,b,c){b=b.bind(c);this.eventsCallbacks_[a]=b}};e.getVpaid=function(){return new a};return e}(CEDATO_VPAID_OBJ||{}),CEDATO_EVENT_LOGGER=function(e){function a(a,b,c){for(var g=0,f=a.length;g<f;g++)if("undefined"!=typeof b[a[g]]&&null!==b[a[g]])switch(a[g]){case "flashSupport":c[a[g]]=b[a[g]]?"1":"0";break;default:c[a[g]]=b[a[g]]}}function k(b,c,g,e){a(b,c,e);a(b,g,e)}function b(a){var b={},c;for(c in a)a.hasOwnProperty(c)&&"undefined"!==typeof l[c]&&(b[l[c]]=a[c]);return b}function c(a,
b){for(var c in b)null!=l[c]&&a.push([c,String(b[c])].join("="))}e.E_REQUEST="/vpx/requesti";e.E_LOADED="/vpx/loadedi";e.E_MIDS="/vpx/midsi";e.E_END="/vpx/endi";e.E_ADSTART="/vpx/starti";e.E_VAST_ERROR="/vpx/errori";e.E_START="/ppx/starti";e.E_SERVED_AND_START="/ppx/served_and_starti";e.E_VPWS="/ppx/vpwsi";e.E_ADPLAYED="/ppx/adplayedi";e.E_SCHEDULED="/ppx/scheduledi";e.E_PLAYER_ERROR="/ppx/errori";e.E_SUBMIT_DEBUG_LOG="sdl";var g={},l={subid:"sid",domain:"domain",sessionId:"se",playerVersion:"pv",
timeFromStart:"s",flashSupport:"f",detect:"sa",vastId:"v",playerId:"p",memUsed:"m",time:"t",time2:"t2",duration:"d",gpvTime:"gt",fpwReadyTime:"ft",domReadyTime:"dt",gpvM:"gm",roundNo:"r",totalMemS:"tm",vastType:"y",state:"st",gpvAttempt:"ga",errorCode:"en",errorMessage:"em",mediaURL:"mu",logStartRequest:"ls",logLoadRequest:"lr",cedatoxPlayerId:"cxp",cedatoxVastId:"cxv",chosenVastId:"cv",parentPlayerId:"pp"},m=["cedatoxPlayerId","cedatoxVastId","chosenVastId","parentPlayerId"],n="subid domain sessionId playerVersion timeFromStart flashSupport detect".split(" ");
e.log=function(a,b,e,l,f){try{var z=!0;b=b||{};e=e||{};l=l||{};f=f||function(){};var G=[];c(G,b);c(G,e);c(G,l);f(b,"tlv_logEvent: "+a+"?"+G.join("&"),!1);var H=((new Date).getTime()-b.startTime)/1E3,H=H.toFixed(1),x={name:a.substring(a.lastIndexOf("/")+1),common:{},extra:{}};k(n,b,{},x.common);x.common.timeFromStart=H;switch(a){case CEDATO_EVENT_LOGGER.E_REQUEST:k(["playerId","vastId"].concat(m),e,l,x.extra);break;case CEDATO_EVENT_LOGGER.E_LOADED:k(["playerId","vastId","memUsed","time"].concat(m),
e,l,x.extra);break;case CEDATO_EVENT_LOGGER.E_MIDS:k(["playerId","vastId","duration"].concat(m),e,l,x.extra);break;case CEDATO_EVENT_LOGGER.E_END:k(["playerId","vastId"].concat(m),e,l,x.extra);x.extra.duration=(e.duration/4).toFixed(2);z=!0;break;case CEDATO_EVENT_LOGGER.E_ADSTART:k("playerId vastId time roundNo memUsed totalMemS vastType".split(" ").concat(m),e,l,x.extra);z=!0;break;case CEDATO_EVENT_LOGGER.E_VAST_ERROR:k("playerId vastId errorCode errorMessage mediaURL logStartRequest logLoadRequest time".split(" ").concat(m),
e,l,x.extra);z=!0;break;case CEDATO_EVENT_LOGGER.E_START:k(["playerId"],b,l,x.extra);z=!0;break;case CEDATO_EVENT_LOGGER.E_SERVED_AND_START:k(["playerId"],b,l,x.extra);z=!0;break;case CEDATO_EVENT_LOGGER.E_SCHEDULED:k("playerId fpwReadyTime gpvTime domReadyTime gpvM gpvAttempt".split(" "),b,l,x.extra);var C=((new Date).getTime()-b.startTime)/1E3;x.extra.time=C.toFixed(1);z=!0;break;case CEDATO_EVENT_LOGGER.E_ADPLAYED:k(["playerId"],b,l,x.extra);C=((new Date).getTime()-b.startTime)/1E3;x.extra.time=
C.toFixed(1);z=!0;break;case CEDATO_EVENT_LOGGER.E_VPWS:k(["playerId"],b,l,x.extra);k(["time","state","time2"],e,l,x.extra);z=!0;break;case CEDATO_EVENT_LOGGER.E_PLAYER_ERROR:k(["playerId"],b,l,x.extra),k(["errorCode","errorMessage"],e,l,x.extra),z=!0}var A=a.substring(0,a.lastIndexOf("/")),p=[b.protocol||"","//",b.machineId,A].join("");"undefined"==typeof g[p]&&(g[p]={flushTimerId:null,events:[]});0==g[p].events.length&&(g[p].flushTimerId=function(a){return setTimeout(function(){CEDATO_EVENT_LOGGER.flushEvents(a)},
1E4)}(p));g[p].events.push(x);z&&CEDATO_EVENT_LOGGER.flushEvents(p)}catch(D){}};window.URLS=[];e.flushEvents=function(a){if(a){var c=g[a].events;if(c.length)if(1==c.length)try{var e=c[0],k=[a,"/",e.name,"?"].join(""),f=CEDATO_UTILS.extend(e.common,e.extra),l=b(f);l.cb=(new Date).getTime();var m=CEDATO_URLUTILS.buildUrl(k,l);CEDATO_HTTP.sendPixel(m,null,!0)}catch(n){}else try{for(var H=[a,"/multiple-events?"].join(""),k={},x=[],f=[],l=0,C=c.length;l<C;l++){var A={},e=c[l];if(0==l)k=e.common;else for(var p in e.common)e.common[p]!=
k[p]&&(A[p]=e.common[p]);for(p in e.extra)A[p]=e.extra[p];x.push(e.name);f.push(b(A))}for(var D=x.join(","),e=[],l=0,C=f.length;l<C;l++){var W=f[l];p=[];for(var O in W)p.push([O,W[O]].join(":"));e.push(p.join(","))}var M=e.join("|"),m=CEDATO_URLUTILS.buildUrl(H,CEDATO_UTILS.extend({cb:(new Date).getTime(),events:D,data:M},b(k)));CEDATO_HTTP.sendPixel(m,null,!0)}catch(n){}g[a].events=[];clearTimeout(g[a].flushTimerId)}else for(c in g)CEDATO_EVENT_LOGGER.flushEvents(c)};return e}(CEDATO_EVENT_LOGGER||
{}),CEDATO_API=function(e){function a(){var a=this,c={ready:[],click:[],adstart:[],adcomplete:[],adpause:[],adplay:[],_play:[],_pause:[],_sound:[],_resize:[],_overrideinit:[]};a._ready=!1;a.on=function(e,l){var k=e.toLowerCase();c[k]&&c[k].push(l);"ready"===k&&a._ready&&setTimeout(function(){a.trigger("ready")},0);return a};a.off=function(e,k){var m=e.toLowerCase();if(c[m])if("function"===typeof k){var n=c[m].indexOf(k);0<=n&&c[m].splice(n,1)}else c[m]=[];return a};a.trigger=function(e,k){var m=e.toLowerCase();
if(c[m]){for(var n=c[m].slice(),u=0,t=n.length;u<t;u++)if(-1<c[m].indexOf(n[u])){var q={};q.name=m;q.player=a;q.data="undefined"===typeof k?{}:k;n[u](q)}"ready"===m&&a.off("ready")}return a};a.play=function(){a.trigger("_play")};a.pause=function(){a.trigger("_pause")};a.overrideInitParams=function(c){a.trigger("_overrideInit",c)};a.sound=function(c){switch(typeof c){case "boolean":case "number":a.trigger("_sound",c);break;case "string":"on"!==c&&"off"!==c||a.trigger("_sound","on"===c)}};a.resize=
function(c,e){var k=Number(c),n=Number(e);0<=k&&0<=n&&a.trigger("_resize",{width:k,height:n})}}if("undefined"===typeof e.getPlayer){e.API_VER="1.0.2";var k={};e.registerPlayer=function(b){"undefined"===typeof k[b]?(k[b]=new a,k[b]._ready=!0):(k[b]._ready=!0,setTimeout(function(){k[b].trigger("ready")},0));return k[b]};e.getPlayer=function(b){"undefined"===typeof k[b]&&(k[b]=new a);return k[b]}}return e}(CEDATO_API||{});
(function(e,a){function k(a){return{name:a.name,message:a.message,stack:a.stack}}function b(a,b){return(a||[]).concat(b||[]).filter(function(a,b,c){return c.indexOf(a)===b})}function c(){var a=!!(e.top&&e!=e.top||e.parent&&e!=e.parent);return!e.opener&&a}function g(a){var b;try{b="object"===typeof a&&null!==a&&1===a.nodeType&&/^I?FRAME$/.test(a.nodeName||"")&&!!a.hasAttribute&&!!a.getAttribute&&!!a.setAttribute}catch(f){b=!1}return b}function l(a){var b;try{b=e.frameElement,g(b)||(b=null)}catch(f){b=
null,"function"===typeof a&&a(k(f))}return b}function m(a){var b;try{b=document.domain||null}catch(f){b=null,"function"===typeof a&&a(k(f))}return b}function n(a){var b=null;null===a?b={forms:null,modals:null,pointerLock:null,popups:null,popupsToEscapeSandbox:null,sameOrigin:!0,scripts:!0,topNavigation:null}:"string"===typeof a&&(a=a.replace(/^\s+|\s+$/g,"").toLowerCase().split(/\s+/),b={forms:-1!==a.indexOf("allow-forms"),modals:-1!==a.indexOf("allow-modals"),pointerLock:-1!==a.indexOf("allow-pointer-lock"),
popups:-1!==a.indexOf("allow-popups"),popupsToEscapeSandbox:-1!==a.indexOf("allow-popups-to-escape-sandbox"),sameOrigin:-1!==a.indexOf("allow-same-origin"),scripts:-1!==a.indexOf("allow-scripts"),topNavigation:-1!==a.indexOf("allow-top-navigation")});return b}function u(c,e){var f,k,l,m,t={sandboxed:a,sandboxAllowances:a,unsandboxable:a,resandboxable:a,errors:[]};if(g(c)){try{t.sandboxed=c.hasAttribute("sandbox")}catch(u){t.sandboxed=null,"function"===typeof e&&e(u)}if(t.sandboxed)try{f=c.getAttribute("sandbox")||
""}catch(u){f=null,"function"===typeof e&&e(u)}else null===t.sandboxed&&(f=null);if(null===f||"string"===typeof f)t.sandboxAllowances=n(f);if(t.sandboxed)try{c.removeAttribute("sandbox"),t.unsandboxable=!c.hasAttribute("sandbox")}catch(u){t.unsandboxable=!1,"function"===typeof e&&e(u)}if(t.unsandboxable&&"string"===typeof f)try{c.setAttribute("sandbox",f),k=c.hasAttribute("sandbox")}catch(u){k=!1,"function"===typeof e&&e(u)}if(k&&t.sandboxAllowances)try{l=c.getAttribute("sandbox")||""}catch(u){l=
null,"function"===typeof e&&e(u)}else null===k&&(l=null);if(null===l||"string"===typeof l)l=n(l);if(k&&(m=null,t.sandboxAllowances&&l)){f=t.sandboxAllowances;var C,A,p=!1;if(f&&"object"===typeof f&&l&&"object"===typeof l)for(k=b(Object.keys(f),Object.keys(l)),p=!0,m=0,C=k.length;m<C;m++)if(A=k[m],!f.hasOwnProperty(A)||!l.hasOwnProperty(A)||f[A]!==l[A]){p=!1;break}m=p}t.resandboxable=m}return t}function t(){if(!(this instanceof t))return new t;this._initialState=this.detect();this._unsandboxState=
null}t.prototype.detect=function(){var b,e,f,g={framed:!1,crossOrigin:null,sandboxed:null,sandboxAllowances:a,unsandboxable:a,resandboxable:a,sandboxable:a,errors:[]},n=function(a){g.errors.push(k(a))},t=function(a){e=k(a);g.errors.push(e)};try{g.framed=c(),g.framed?(b=l(t),null!=b?(g.crossOrigin=!1,f=u(b,n),g.sandboxed=f.sandboxed,g.sandboxAllowances=f.sandboxAllowances,g.unsandboxable=f.unsandboxable,g.resandboxable=f.resandboxable):(g.crossOrigin=!0,g.sandboxed=null,g.sandboxAllowances={forms:null,
modals:null,pointerLock:null,popups:null,popupsToEscapeSandbox:null,sameOrigin:null,scripts:!0,topNavigation:null},g.unsandboxable=!1,g.resandboxable=!1,null===m(n)?(g.sandboxed=!0,g.sandboxAllowances.sameOrigin=!1):e&&("SecurityError"!==e.name?g.crossOrigin=null:/(^|[\s\(\[@])sandbox(es|ed|ing|[\s\.,!\)\]@]|$)/.test(e.message.toLowerCase())&&(g.sandboxed=!0,g.sandboxAllowances.sameOrigin=!0))),g.sandboxable=g.resandboxable||!0===g.framed&&!1===g.crossOrigin&&(!1===g.sandboxed||g.sandboxAllowances.sameOrigin)||
!1):(g.crossOrigin=a,g.sandboxed=a,g.errors=a)}catch(x){n(x)}return g};t.prototype.sandbox=function(a){var c,f,e,g,k,n=!1;c=this._initialState;var t=[];if(a&&"object"===typeof a&&c.framed&&!1!==c.crossOrigin&&(c=this.detect(),!1===c.sandboxed&&c.sandboxable||c.sandboxed&&c.unsandboxable)&&(f=c.sandboxAllowances,c=b(Object.keys(a),Object.keys(f||{})),c.forEach(function(b){(!0===a[b]||null==a[b]&&f&&!0===f[b])&&t.push("allow-"+b.replace(/[A-Z]/g,"-$1").toLowerCase())}),0<t.length&&(g=l()))){e=-1===
t.indexOf("allow-same-origin")||-1===t.indexOf("allow-scripts");c=t.sort().join(" ");try{g.setAttribute("sandbox",c),n=e}catch(u){n=!1}if(g=l())try{k=(g.getAttribute("sandbox")||"").replace(/^\s+|\s+$/g,"").split(/\s+/).sort().join(" "),n=k===c||e&&(""===k||null===m())}catch(u){n=e}}return n};e.sandblaster=new t})(window);
(function(e,a){function k(d,h,a){d.addEventListener?d.addEventListener(h,a,!1):d.attachEvent?d.attachEvent("on"+h,a):d[h]=a}function b(d,h,a,b){return h.protocol+"//"+("c"==b?"cdn1-m"+h.networkId+".algovid.tv":h.conf.mUrl)+"/vpr/"+encodeURIComponent(encodeURIComponent(d))+"/a.jsv"}function c(d,h){h||(h=a);var E=null;d.usejsv?(E=CEDATO_JSV.createVideoElement(),E.setAttribute("preload","auto")):d.hasVideoSupport&&(E=h.createElement("video"));return E}function g(d,h){var a,b;a=h?{}:[];try{var f=d.slice(d.indexOf("?")+
1).split("&"),c;for(c=0;c<f.length;c++){b=f[c].split("=");h||a.push(b[0]);var e=b[1];if(h){var g=e;try{g=decodeURIComponent(g)}catch(k){try{g=unescape(g)}catch(l){}}e=g}a[b[0]]||(a[b[0]]=e)}}catch(k){a={}}return a}function l(d,h){var a=h.split("//");return 1<a.length?(a[0]=d,a.join("//")):!1}function m(d,h,a){if("undefined"===typeof a||0>a)a="";var b=((new Date).getTime()-h.loadAdTime)/1E3,b=b.toFixed(1);n(CEDATO_EVENT_LOGGER.E_LOADED,d,h,{time:b,memUsed:a},f)}function n(d,h,a,b,f){q(a)&&(a.cedatoxPlayerId=
null,a.cedatoxVastId=a.cxvid,a.chosenVastId=null,a.parentPlayerId=a.cxpid,CEDATO_EVENT_LOGGER.log(d,h,a,b,f),a.cedatoxPlayerId=a.playerId,a.cedatoxVastId=null,a.chosenVastId=a.vastId,a.parentPlayerId=null,CEDATO_UTILS.extend(b,{playerId:a.cxpid,vastId:a.cxvid}));CEDATO_EVENT_LOGGER.log(d,h,a,b,f)}function u(d){if(""!=d.debugLog){d.bSubmitted+=d.debugLog.length;if(5E5<d.bSubmitted||18E4<(new Date).getTime()-d.startTime)d.debugLog="last packet",d.keepDebugLog=!1;d.debugLogLastSubmitted=Number((new Date).getTime());
var h=d.debugLog;d.debugLog="";var a=(new Date).getTime();d=d.protocol+"//"+d.machineId+"/sdl?se="+encodeURIComponent(d.sessionId)+"&sid="+encodeURIComponent(d.subid)+"&domain="+encodeURIComponent(d.domain)+"&cb="+a+"&p="+d.playerId+"&pv="+d.playerVersion+"&r="+encodeURIComponent(d.debugLogReason);CEDATO_HTTP.sendPixel(d,h,!1)}}function t(d){if(1E5>d.debugLogBuffer.length)d.debugLog=d.debugLogBuffer;else{d.debugLog=d.debugLogBuffer.substr(d.debugLogBuffer.length-1E5);var h=d.debugLog.indexOf("\n");
d.debugLog=-1===h?"":d.debugLog.substr(h+1)}d.debugLogBuffer=""}function q(d){return null!=d.cxpid&&null!=d.cxvid}function v(d,h,a,b,f){d.debugLog="";d.debugLogBuffer="";d.debugLogLastSubmitted=(new Date).getTime();d.logDebugToConsole=h;d.keepDebugLog=a;d.keepDetailedDebugLog=b;d.logToHTML=f;d.debugLogBuffer="";d.bSubmitted=0;d.debugLogSubmittedDueToException=!1;f&&(h=e.document.createElement("div"),a=e.document.createElement("pre"),h.style.cssText="border: 1px solid; height: 300px; width: 1200px; resize: both; overflow: auto;",
h.appendChild(a),e.document.body.appendChild(h),d.debugDocElement=a)}function f(d,h,a){if(!a||d.keepDetailedDebugLog)if(d.logDebugToConsole&&e.console&&e.console.log((new Date).getTime()+"\t"+h),d.logToHTML&&(d.debugDocElement.innerHTML+=h+"<br>"),h=e.JSON&&e.JSON.stringify?JSON.stringify(h):'"'+h+'"',h=(new Date).getTime()+"\t"+h+"\n",a=h.length,1E5<a&&(h=(new Date).getTime()+"\ttruncated line\n",a=h.length),d.keepDebugLog){var b=d.debugLog.length;0<b&&1E5<b+a&&u(d);d.debugLog+=h;(3E3<(new Date).getTime()-
d.debugLogLastSubmitted||1E5<d.debugLog.length)&&u(d)}else d.debugLogBuffer&&1E7<d.debugLogBuffer.length||(d.debugLogBuffer+=h)}function z(d,h){try{var b=a.createElement("script"),c=a.getElementsByTagName("head")[0]||a.documentElement;b.setAttribute("type","text/javascript");var e=d,e=l(h.protocol,e),g=(new Date).getTime(),e=e.replace(/\[CB\]/g,g),e=e.replace(/\[DIVID\]/g,h.divId),g="";h.callingFlashObject&&h.callingFlashObject.id&&(g=h.callingFlashObject.id);e=e.replace(/\[FLASHID\]/g,g);b.src=e;
f(h,"gpv requested script: "+e,!1);c.appendChild(b)}catch(k){}}function G(){var d=a.createElement("iframe");d.src="about:blank";d.width="100%";d.height="100%";d.id="vjs"+Math.floor(5E3*Math.random());d.setAttribute("frameBorder","0");d.setAttribute("scrolling","no");d.style.position="absolute";d.style.left="0px";d.style.top="0px";d.style.overflow="hidden";return d}function H(d,h,b){d=a.createElement("div");d.style.zIndex="0";d.style.width="100%";d.style.height="100%";d.style.position="absolute";d.style.top=
"0px";d.style.left="0px";d.style.margin="0";d.style.padding="0";d.id="vpaidContainerDiv_"+b+"_"+Math.floor(5E3*Math.random());return d}function x(d,h,a,b){var c=H(a.width,a.height,b.vastId);b.jsVPAIDElementDiv=c;a.divElem.appendChild(c);var g=G();b.jsVpaidFrame=g;var k=!1,l=!1,m=e,La=b.vastId+"_"+b.uniqId,q=function(e){if(e.origin===m.location.origin&&JSON.parse(e.data).id===La){e=g.contentWindow&&g.contentWindow.document;if(!e)return!1;m.removeEventListener("message",q);e.body.style.margin="0";e.body.style.padding=
"0";var n;a.usejsv&&a.mainAutoplay?(n=e.createElement("script"),n.setAttribute("type","text/javascript"),n.src=a.protocol+"//"+a.conf.pJsvUrl,n.addEventListener("load",function(){(k=!0,l)&&h(a,b)},!1),e.body.appendChild(n)):k=!0;n=e.createElement("script");n.setAttribute("type","text/javascript");n.src=d;n.attachEvent&&n.attachEvent("onreadystatechange",function(){"complete"!=n.readyState&&"loaded"!=n.readyState||h(a,b)});n.addEventListener&&n.addEventListener("load",function(){l=!0;k&&l&&h(a,b)},
!1);var p=e.createElement("div");p.id="vpaid-js-ad-elem";p.style.margin="0";p.style.padding="0";p.style.width="100%";p.style.height="100%";p.style.position="absolute";p.style.left="0";p.style.top="0";b.vpaidJsIframeAdElem=p;c.appendChild(p);e.body.appendChild(n);b.companionHTML&&(b.companionsElementDiv=null,b.companionsElementDiv=e.createElement("div"),b.companionsElementDiv.setAttribute("style","width:100%;height:100%;position:relative;top:-"+a.height+"px; z-index: 0; "),p.appendChild(b.companionsElementDiv),
b.companionsElementDiv&&(f(a,"vastId "+b.vastId+" - companionHTML: "+b.companionHTML,!1),b.companionsElementDiv.innerHTML=b.companionHTML))}};e.cedatoWinId="cwi"+Math.floor(5E3*Math.random());var n,p;try{n=c.ownerDocument,p=n.defaultView||n.parentWindow,p.cedatoWinId!==e.cedatoWinId&&(m=p)}catch(t){}c.appendChild(g);n=g.contentWindow&&g.contentWindow.document;if(!n)return!1;m.addEventListener("message",q);p="";try{if(m.location.hostname){var r="http:";m.location.protocol&&(r=m.location.protocol);
p=r+"//"+m.location.hostname}}catch(t){}f(a,"vastId writing iframe content",!1);n.write('<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="UTF-8">\n</head>\n<body><script>var orig = window.location.origin;if(!orig||orig==\'null\'){orig=\''+p+'\'}parent.postMessage(\'{"event": "ready", "id": "'+La+"\"}', orig);\n\x3c/script>\n</body>\n</html>\n")}function C(d,h){try{f(d,"vastId "+h.vastId+" - playPlayer",!1);f(d,"playPlayer: hiding all vasts but "+h.vastId,!0);for(var a=0,b=d.plist.length;a<
b;a++)if(d.plist[a].vastId!=h.vastId||d.plist[a].uniqId!=h.uniqId)d.parallelStartAd&&5==d.plist[a].tlvState||na(d,d.plist[a]);if("flvpaid"==h.adType||"jsvpaid"==h.adType)h.durationKnown?f(d,"vastId "+h.vastId+" - playPlayer: has already known duration of: "+h.duration,!1):(h.duration=60,f(d,"vastId "+h.vastId+" - playPlayer: no known duration, setting to 60",!1));else if("video"==h.adType&&!h.durationKnown){h.durationKnown=!0;try{h.duration=h.videoElement.duration}catch(c){}f(d,"vastId "+h.vastId+
" - playPlayer: duration taken from video element: "+h.duration,!1)}h.vtClickThroughFunc=function(d,h){try{var a,b;this.playerData&&this.playerData.playersStorageName&&(h=this.playerData);a=e[h.playersStorageName];b=h.vastId;f(a,"vastId "+b+" - tracker onClickthrough",!1);d&&e.open(d,"_blank");a.apiInterface.trigger("click",{url:d,vastId:h.vastId})}catch(E){r(a,b,3,"tracker onClickthrough gave JS exception: ",E,h)}};h.vtFirstQuartileFunc=function(d){try{var h,a;this.playerData&&this.playerData.playersStorageName&&
(d=this.playerData);h=e[d.playersStorageName];a=d.vastId;f(h,"vastId "+a+" - tracker on-firstQuartile",!1);var b;try{b=d.vastTracker.duration/4}catch(E){b=d.duration/4}b=b.toFixed(2);n(CEDATO_EVENT_LOGGER.E_MIDS,h,d,{duration:b},f)}catch(E){r(h,a,3,"tracker on firstQuartile gave JS exception: ",E,d)}};h.vtAdVideoStartFunc=function(d){try{var h,a;this.playerData&&this.playerData.playersStorageName&&(d=this.playerData);h=e[d.playersStorageName];a=d.vastId;f(h,"vastId "+a+" - tracker on-AdVideoStart",
!1);var b;try{b=d.vastTracker.duration/4}catch(E){b=d.duration/4}b=b.toFixed(2);n(CEDATO_EVENT_LOGGER.E_MIDS,h,d,{duration:b},f)}catch(E){r(h,a,3,"tracker on AdVideoStart gave JS exception: ",E,d)}};h.vtMidPointFunc=function(d){try{var h,a;this.playerData&&this.playerData.playersStorageName&&(d=this.playerData);h=e[d.playersStorageName];a=d.vastId;f(h,"vastId "+a+" - tracker on-midpoint",!1);var b=d.duration/4,b=b.toFixed(2);n(CEDATO_EVENT_LOGGER.E_MIDS,h,d,{duration:b},f)}catch(E){r(h,a,3,"tracker onmidpoint gave JS exception: ",
E,d)}};h.vtThirdQuartileFunc=function(d){try{var h,a;this.playerData&&this.playerData.playersStorageName&&(d=this.playerData);h=e[d.playersStorageName];a=d.vastId;f(h,"vastId "+a+" - tracker on-thirdQuartile",!1);var b=d.duration/4,b=b.toFixed(2);n(CEDATO_EVENT_LOGGER.E_MIDS,h,d,{duration:b},f)}catch(E){r(h,a,3,"tracker onthirdQuartile gave JS exception: ",E,d)}};h.vtCompleteFunc=function(d){try{var h,a;this.playerData&&this.playerData.playersStorageName&&(d=this.playerData);h=e[d.playersStorageName];
a=d.vastId;f(h,"vastId "+a+" - tracker on-complete",!1);h.anyPlaying=X(h,a);h.anyPlaying||Y(h);var b=d.duration/4,b=b.toFixed(2);n(CEDATO_EVENT_LOGGER.E_END,h,d,{duration:b},f);h.apiInterface.trigger("adcomplete",{vastId:a});null!=d.startAdSwitcher&&(clearTimeout(d.startAdSwitcher),d.startAdSwitcher=null)}catch(E){r(h,a,3,"tracker on complete gave JS exception: ",E,d)}};h.vtErrorFunc=function(d){try{var h=e[this.playerData.playersStorageName];f(h,"vast tracker on error vastId"+d.vastId,!1)}catch(a){r(h,
d.vastId,3,"tracker onerror gave JS exception: ",a,d)}};h.skipVastTracker?f(d,"vastId "+h.vastId+" - playPlayer: no need for our vastTracker",!1):(f(d,"vastId "+h.vastId+" - playPlayer: initializing vastTracker",!1),null==h.creative.trackingEvents?(h.creative.trackingEvents=[],f(d,"added trackingEvents",!1)):f(d,"had trackingEvents",!1),h.vastTracker=new d.DMVAST.tracker(h.ad,h.creative),h.vastTracker.playerData=h,f(d,"vastId "+h.vastId+" - playPlayer: vastTracker set",!1),!h.durationKnown&&h.vastTracker.duration&&
0<h.vastTracker.duration&&(h.duration=h.vastTracker.duration,f(d,"vastId "+h.vastId+" - playPlayer: duration from tracker: "+h.duration,!1)),h.vastTracker.playerId=d.playerId,h.vastTracker.subid=d.subid,h.vastTracker.domain=d.domain,h.vastTracker.vastId=h.vastId,h.vastTracker.duration=h.duration,h.vastTracker.setDuration(h.duration),f(d,"vastId "+h.vastId+" - playPlayer: creating events",!1),h.vastTracker.on("clickthrough",h.vtClickThroughFunc),h.vastTracker.on("firstQuartile",h.vtFirstQuartileFunc),
h.vastTracker.on("midpoint",h.vtMidPointFunc),h.vastTracker.on("thirdQuartile",h.vtThirdQuartileFunc),h.vastTracker.on("complete",h.vtCompleteFunc),h.vastTracker.on("error",h.vtErrorFunc),f(d,"vastId "+h.vastId+" - playPlayer: events ready",!1));d.scheduledPixelSent||(f(d,"vastId "+h.vastId+" - playPlayer: first play - logging scheduled pixel",!1),d.scheduledPixelSent=!0,CEDATO_EVENT_LOGGER.log(CEDATO_EVENT_LOGGER.E_SCHEDULED,d,{},{},f));f(d,"vastId "+h.vastId+" - playPlayer: playing media",!1);d.parallelStartAd||
n(CEDATO_EVENT_LOGGER.E_REQUEST,d,h,{},f);h.adImpressionCount=0;h.gotLastAdImpressionOn=null;h.adStartCount=0;h.startAdTime=(new Date).getTime();if("flvpaid"==h.adType||"jsvpaid"==h.adType){d.singleVPW?d.callingFlashObject&&"flvpaid"==h.adType&&(d.divElem.style.display="none"):("flvpaid"==h.adType&&(h.flashElementDiv.style.zIndex="9999",h.flashElementDiv.style.position="relative",h.flashElementDiv.style.left="0px",h.flashElementDiv.style.top="0px"),"jsvpaid"==h.adType&&h.flashElementDiv&&(h.flashElementDiv.style.display=
"none"),d.rootDivElem.style.top="0px");var g,fa;try{if(h.vpaidPlaying=1,h.tlvState=5,f(d,"vastId "+h.vastId+" - startAd called, uniqId: "+h.uniqId,!1),"flvpaid"==h.adType&&(fa="vpw disappeared",g=h.flashElement[h.flashEICallbacks]("vpwStartAd",h.uniqId)),"jsvpaid"==h.adType&&(fa="external js exception",g=h.jsVPAIDElement.startAd(),"undefined"===typeof g||g))g="1"}catch(c){r(d,h.vastId,5,"startAd failed - "+fa+": "+c.message,!1,h);h.vpaidPlaying=0;h.tlvState=10;h.errorCount+=100;F(h,0);"vpaid"==h.adType&&
T(d,h,"startAd");return}if("1"==g)h.sureFastStart=h.expectedSureFastStart;else{h.vpaidPlaying=0;var k=d.parallelStartAd,a="no reason given";try{"flvpaid"==h.adType&&(a=h.flashElement[h.flashEICallbacks]("getLastError",h.uniqId)),"jsvpaid"==h.adType&&(a="external js expcetion")}catch(c){a="getLastError gave exception: "+c.message}r(d,h.vastId,5,"startAd failed - "+a,!1,h,k);h.tlvState=10;h.errorCount+=100;"flvpaid"==h.adType&&J(d,h,!0);F(h,0);return}if(d.parallelStartAd&&(null!=h.startAdHalfStopper&&
(clearTimeout(h.startAdHalfStopper),h.startAdHalfStopper=null),5==h.tlvState)){var l=function(d,h){h.startAdHalfStopper=null;f(d,"vastId "+h.vastId+" - half stopper point, starting more if ready",!1);W(d,"any")};h.startAdHalfStopper=CEDATO_BROWSER.oldIE?setTimeout(function(){l(d,h)},7E3):setTimeout(l,7E3,d,h)}null!=h.startAdStopper&&(clearTimeout(h.startAdStopper),h.startAdStopper=null);if(5==h.tlvState){k=2E4;h.longStartAd&&(k=35E3);var m=function(d,h){if("flvpaid"==h.adType)try{h.flashElement[h.flashEICallbacks]("vpwStopAd",
h.uniqId)}catch(a){}else if("jsvpaid"==h.adType)try{h.jsVPAIDElement.stopAd()}catch(a){}else if("video"==h.adType)try{h.videoElement.pause()}catch(a){}h.startAdStopper=null;h.vpaidPlaying=0;r(d,h.vastId,60,"gave up on startAd",!1,h,d.parallelStartAd);h.tlvState=10;h.errorCount+=100;"flvpaid"==h.adType&&J(d,h,!0);F(h,0);D(d)};h.startAdStopper=CEDATO_BROWSER.oldIE?setTimeout(function(){m(d,h)},k):setTimeout(m,k,d,h)}}else"video"==h.adType&&(h.videoElement.style.display="block",h.videoElement.style.zIndex=
"9999",h.tlvState=5,h.sureFastStart=!0,h.videoElement.play());f(d,"vastId "+h.vastId+" - playPlayer: done",!1)}catch(c){r(d,h.vastId,3,"playPlayer issue: ",c,h)}}function A(d,h){d.callingFlashObject&&!h.flashPrevStyle&&(h.flashPrevStyle={position:h.flashElement.style.position,top:h.flashElement.style.top,left:h.flashElement.style.left},h.flashElement.style.position="absolute",h.flashElement.style.top="-1000px",h.flashElement.style.left="-1000px",d.rootDivElem.style.top="0px",d.divElem.style.top="0px")}
function p(d,h){d.callingFlashObject&&h.flashPrevStyle&&(h.flashPrevStyle.position&&(h.flashElement.style.position=h.flashPrevStyle.position),h.flashElement.style.top=h.flashPrevStyle.top,h.flashElement.style.left=h.flashPrevStyle.left,d.divElem.style.display="none",d.rootDivElem.style.display="none",h.flashPrevStyle=null)}function D(d,h){"undefined"===typeof h&&(h=!1);if(!d.autoplay&&!h)return f(d,"manual mode - not trying to auto play",!1),!1;var a="any";d.readyForStartAd||(a="1");return W(d,a)}
function W(d,h){f(d,"playNextVast called, group: "+h,!1);if(d.anyPlaying)return f(d,"still playing previous media",!1),!1;if(d.parallelStartAd){for(var a=!1,b=0,c=d.plist.length;b<c;b++){var e=d.plist[b];if(5==e.tlvState&&e.sureFastStart){if(3>((new Date).getTime()-e.startAdTime)/1E3)return f(d,"vastId "+e.vastId+" - is sure fast starter and is trying to start - quiting",!1),!1;f(d,"vastId "+e.vastId+" - is sure fast starter and is trying to start but passed grace time",!1)}}b=0;for(c=d.plist.length;b<
c;b++)if(e=d.plist[b],f(d,"vastId "+e.vastId+" tlvState is: "+e.tlvState,!0),4==e.tlvState)if("any"==h||e.group==h){f(d,"vastId "+e.vastId+" tlvState is ready to play",!1);a=!0;C(d,e);if(d.anyPlaying)return!0;if(e.sureFastStart)return f(d,"vastId "+e.vastId+" - sure fast start - breaking",!1),!0}else f(d,"vastId "+e.vastId+" - is ready but on different group",!1);return a}a=!1;b=0;for(c=d.plist.length;b<c;b++)e=d.plist[b],f(d,"vastId "+e.vastId+" tlvState is: "+e.tlvState,!0),4==e.tlvState&&(a?e.errorCount<
a.errorCount&&(a=e):a=e);if(a)return f(d,"vastId "+a.vastId+" tlvState is ready to play",!1),d.anyPlaying=!0,"vpaid"==d.mode&&(d.autoplay=!1),C(d,a),!0;f(d,"no vast is ready to play",!0);return!1}function O(d,h){f(d,"freezing players",!1);d.frozen=!0;Ma(d,h);if(h)f(d,"leaving players objects for now",!1);else if(f(d,"removing players objects",!1),null!=d.initialStartAd&&(clearTimeout(d.initialStartAd),d.initialStartAd=null),null!=d.domLoadTimeout&&(clearTimeout(d.domLoadTimeout),d.domLoadTimeout=
null),null!=d.reportVPWStateInterval&&(clearInterval(d.reportVPWStateInterval),d.reportVPWStateInterval=null),d.callingFlashObject)try{d.callingFlashObjectParent.removeChild(d.companionsRootDivElem),d.callingFlashObjectParent.removeChild(d.rootDivElem)}catch(a){f(d,"removing root divs gave exception: "+a.message,!1)}}function M(d,h,a,b){var c=B(d,h);if(c){var e=c.vastId;f(d,"vastId "+e+" - adImpression called for uniqId: "+h,!1);if("undefined"===typeof b||0>b)b="";"jsvpaid"==c.adType?(c.jsVPAIDElementDiv.style.zIndex=
"10000",c.vpaidJsIframeAdElem&&(c.vpaidJsIframeAdElem.style.zIndex="10000"),c.vpaidJsIframeVideo&&(c.vpaidJsIframeVideo.style.margin="0",c.vpaidJsIframeVideo.padding="0",c.vpaidJsIframeVideo.top="0px",c.vpaidJsIframeVideo.style.left="0px",c.vpaidJsIframeVideo.style.position="absolute"),d.callingFlashObject&&A(d,c)):"flvpaid"!=c.adType||d.singleVPW?"video"==c.adType&&(c.videoElement.style.zIndex="10000",d.callingFlashObject&&A(d,c)):(c.flashElementDiv.style.zIndex="10000",c.flashElementDiv.style.left=
"0px");d.contentUrlPlayer&&d.contentUrlPlayer.hideContent();if(!d.anyAdPlayed){d.anyAdPlayed=!0;var g=((new Date).getTime()-d.startTime)/1E3,g=g.toFixed(1);CEDATO_EVENT_LOGGER.log(CEDATO_EVENT_LOGGER.E_ADPLAYED,d,{},{},f);0>g&&(d.debugLogReason="negative adplayed",t(d),u(d))}q(c)&&CEDATO_EVENT_LOGGER.log(CEDATO_EVENT_LOGGER.E_ADPLAYED,d,{},{playerId:c.playerId},f);if(null!=c.gotLastAdImpressionOn&&3E3>(new Date).getTime()-c.gotLastAdImpressionOn)return f(d,"vastId "+e+" - second ad impression too soon - ignoring",
!1),!0;d.submitDebugLogOnVastDisplayed!=c.vastId||c.keepDebugLog||(t(d),u(d),d.keepDebugLog=!0);if(c.skipVastTracker||null!=c.vastTracker){if(d.parallelStartAd&&d.anyPlaying&&6!=c.tlvState&&7!=c.tlvState){r(d,e,64,"stopped due to parallel double started",!1,c);if("flvpaid"==c.adType)try{c.flashElement[c.flashEICallbacks]("vpwStopAd",c.uniqId)}catch(k){f(d,"parallel dbl-started stopAd of flash vpaid "+c.vastId+" gave exception: "+k.message,!1)}else if("jsvpaid"==c.adType)try{c.jsVPAIDElement.stopAd()}catch(k){f(d,
"parallel stopAd of js vpaid "+c.vastId+" gave exception: "+k.message,!1)}else"video"==c.adType&&c.videoElement.pause();c.tlvState=10;d.frozen||("flvpaid"==c.adType&&J(d,c,!0),F(c,0));return!1}c.tlvState=6;c.gotLastAdImpressionOn=(new Date).getTime();if(d.parallelStartAd){d.anyPlaying=!0;"vpaid"==d.mode&&(d.autoplay=!1);f(d,"parallel startAd mode - stopping any other opened startAd",!1);n(CEDATO_EVENT_LOGGER.E_REQUEST,d,c,{},f);for(var l=0,m=d.plist.length;l<m;l++){var p=d.plist[l];if(p.vastId!=e&&
5==p.tlvState){f(d,"vastId "+p.vastId+" - parallel startAd mode - stopping - vastId "+e+" started playing",!1);r(d,p.vastId,63,"stopped due to parallel started",!1,p);p.tlvState=10;if("flvpaid"==p.adType)try{p.flashElement[p.flashEICallbacks]("vpwStopAd",p.uniqId)}catch(k){f(d,"parallel stopAd of flash vpaid "+p.vastId+" gave exception: "+k.message,!1)}else if("jsvpaid"==p.adType)try{p.jsVPAIDElement.stopAd()}catch(k){f(d,"parallel stopAd of js vpaid "+p.vastId+" gave exception: "+k.message,!1)}else"video"==
p.adType&&p.videoElement.pause();na(d,p);"flvpaid"==p.adType&&J(d,p,!0);F(p,0)}}f(d,"parallel startAd mode - stopping any other opened startAd - done",!1)}var g=0,U=h="";try{l=0;for(m=d.plist.length;l<m;l++)if(p=d.plist[l],"flvpaid"==p.adType&&p.flashElement&&p.flashEICallbacks)try{var v=p.flashElement[p.flashEICallbacks]("getMem");if(isNaN(v))U=U+p.vastId+" - NaN, ";else{g+=parseFloat(v);U=U+p.vastId+" - "+v+", ";break}}catch(k){U=U+p.vastId+" - exception: "+k.message+", "}else U="flvpaid"!=p.adType?
U+p.vastId+" - not flash, ":p.flashElement?p.flashEICallbacks?U+p.vastId+" - unknown reason, ":U+p.vastId+" - no callbacks, ":U+p.vastId+" - no flash element, ";h=g}catch(k){U="exception: "+k.message}f(d,"memory check: "+U,!1);g=((new Date).getTime()-c.startAdTime)/1E3;g=g.toFixed(1);l=0;"flvpaid"==c.adType&&(l=c.isIMA?2:1);"jsvpaid"==c.adType&&(l=c.isIMA?4:3);c.hasFlashVPAID&&c.hasJSVPAID&&(l=5);n(CEDATO_EVENT_LOGGER.E_ADSTART,d,c,{time:g,roundNo:c.roundNo,memUsed:b,totalMemS:h,vastType:l},f);d.apiInterface.trigger("adstart",
{vastId:e});c.adImpressionCount++;1<c.adImpressionCount?(r(d,c.vastId,61,"double impression: "+c.adImpressionCount,!1,c),n(CEDATO_EVENT_LOGGER.E_REQUEST,d,c,{},f)):c.skipVastTracker||c.vastTracker.load();if("vpaid"==d.mode)return f(d,"vastId "+e+" - has calling VPAID object - calling events",!1),a&&d.vpaidObj.call("jsAdStarted",{},!0),d.vpaidObj.call("jsAdImpression",{},!0),O(d,c.vastId),!0;d.curAdStarts++;if(d.maxAdStarts&&d.curAdStarts>=d.maxAdStarts)return f(d,"vastId "+e+" - reached maximum number of allowed ad starts, freezing",
!1),O(d,c.vastId),!0;null!=c.sameVastIdLoader&&(clearTimeout(c.sameVastIdLoader),c.sameVastIdLoader=null);if(!d.frozen){var w=function(d,h){try{h.sameVastIdLoader=null;f(d,"vastId "+h.vastId+" - same vastId loader",!1);f(d,"vastId "+h.vastId+" - duplicating player data",!1);var a=[];a.id=h.vastId;a.url=h.vastURL;a.group=h.group;a.lsa=h.longStartAd;a.pid=h.playerId;a.mvr=h.maxFailedVastRetries;a.vt=h.vastPreferType;a.ct=h.corsType;a.cxvid=h.cxvid;a.cxpid=h.cxpid;a.fetchesSinceInitPlayer=h.fetchesSinceInitPlayer;
for(var b=!1,E=0,c=d.plist.length;E<c;E++)if(d.plist[E].vastId==h.vastId){b=E;break}var e=Na(d,a,b);e.duplicatedNow=!0;d.domReady&&d.vpwCached&&Oa(d,e);pa(e)}catch(g){r(d,h.vastId,3,"svi gave JS exception: ",g,h)}};c.sameVastIdLoader=CEDATO_BROWSER.oldIE?setTimeout(function(){w(d,c)},5E3):setTimeout(w,5E3,d,c)}null!=c.startAdSwitcher&&(clearTimeout(c.startAdSwitcher),c.startAdSwitcher=null);if(!d.allowLongImpressions){var x=function(d,h){try{r(d,h.vastId,62,"long impression",!1,h),h.startAdSwitcher=
null,h.vpaidPlaying=0,h.tlvState=10,S(d,h),d.anyPlaying=X(d,h.vastId),d.anyPlaying||Y(d),D(d)}catch(a){r(d,h.vastId,3,"sas gave JS exception: ",a,h)}};c.startAdSwitcher=CEDATO_BROWSER.oldIE?setTimeout(function(){x(d,c)},6E4):setTimeout(x,6E4,d,c)}}else f(d,"vastId "+e+" - no vast tracker",!1),F(c,0);return!0}f(d,"adImpression called for a gone uniqId: "+h,!1);K(d,3,"adImpression called for a gone uniqId")}function ca(d,h){try{var a;a=c(d);a.setAttribute("style","height:100% !important;");a.style.width=
"100%";a.style.zIndex=(9994-h.uniqId).toString();a.style.position="relative";a.style.top="0px";a.style.left="0px";a.style.backgroundColor="black";h.firstPlayEventTriggered=!1;k(a,"play",function(){try{d.apiInterface.trigger("adplay",{vastId:h.vastId,playerId:d.playerId,subid:d.subid}),"vpaid"==d.mode&&d.vpaidObj.call("jsAdDurationChange",{duration:(h.duration?h.duration:a.duration).toFixed(2)},!0),f(d,"vastId "+h.vastId+" - onplay",!1),h.firstPlayEventTriggered?f(d,"vastId "+h.vastId+" - already handled play event",
!1):(h.firstPlayEventTriggered=!0,5!=h.tlvState?f(d,"vastId "+h.vastId+" - invalid state, was probably stopped - "+h.tlvState,!1):M(d,h.uniqId,!0)&&("vpaid"==d.mode&&d.vpaidObj.call("jsAdVideoStart",{},!0),h.errorCount=0,f(d,"vastId "+h.vastId+" - onplay done",!1)))}catch(b){r(d,h.vastId,3,"video onplay gave JS exception: ",b,h)}});k(a,"timeupdate",function(){try{if(!(3>h.tlvState||10==h.tlvState||"video"!=h.adType)){null!=h.vastTracker&&h.vastTracker.setProgress(a.currentTime);var b=a.duration-a.currentTime,
c=a.duration;"vpaid"==d.mode&&(d.vpaidObj.call("jsAdRemainingTimeChange",{remainingTime:b.toFixed()},!0),a.currentTime.toFixed()==(c/4).toFixed()&&d.vpaidObj.call("jsAdFirstQuartile",{},!0),a.currentTime.toFixed()==(c/3).toFixed()&&d.vpaidObj.call("jsAdMidpoint",{},!0),a.currentTime.toFixed()==(c/4*3).toFixed()&&d.vpaidObj.call("jsAdThirdQuartile",{},!0))}}catch(f){r(d,h.vastId,3,"video ontimeupdate gave JS exception: ",f,h)}});k(a,"click",function(a){try{f(d,"vastId "+h.vastId+" - video onclick",
!1),h.vastTracker&&h.vastTracker.click(),d.apiInterface.trigger("click",{url:a,vastId:h.vastId}),"vpaid"==d.mode&&d.vpaidObj.call("jsAdClickthrough",{url:a},!0)}catch(b){r(d,h.vastId,3,"video onclick gave JS exception: ",b,h)}});k(a,"error",function(a){try{if(!(3>h.tlvState||10==h.tlvState||"video"!=h.adType)){f(d,"vastId "+h.vastId+" - video onerror",!1);var b=!1;3==h.tlvState&&(b=!0);p(d,h);h.tlvState=10;var c=-1;a.target.error.code&&a.target.error.code&&(c=a.target.error.code);r(d,h.vastId,4,"video player error code: "+
c,!1,h,b);D(d);h.errorCount=5<=h.tlvState?h.errorCount+100:h.errorCount+1;F(h,0)}}catch(E){r(d,h.vastId,3,"video onerror gave JS exception: ",E,h)}});k(a,"canplay",function(){try{if(f(d,"vastId "+h.vastId+" - video oncanplay",!1),"video"!=h.adType)f(d,"vastId "+h.vastId+" - adType not video: "+h.adType,!1);else if(4<h.tlvState)f(d,"vastId "+h.vastId+" - video oncanplay but state is "+h.tlvState,!1);else{null!=h.playVideoRetry&&(clearInterval(h.playVideoRetry),h.playVideoRetry=null);h.durationKnown=
!0;try{h.duration=a.duration,h.vastTracker&&(h.vastTracker.duration=h.duration,h.vastTracker.setDuration(h.duration))}catch(b){h.durationKnown=!1}var c=d.width,e=d.height;a.style.width="100%";a.style.height="100%";c||(c=d.width,e=d.height);c>d.width&&(e=e*d.width/c,c=d.width);e>d.height&&(c=c*d.height/e,e=d.height);var c=Math.floor(c),e=Math.floor(e),g=(d.height-e)/2,g=Math.floor(g);f(d,"vastId "+h.vastId+" - video width: "+c+", height: "+e+", top: "+g,!1);a.style.cssText="background-color: black; width:100%; height:100%; position: relative; top: "+
g+"px";h.tlvState=4;if("vpaid"==d.mode)try{d.vpaidObj.call("jsAdReadyToStart",{},!0)}catch(b){r(d,h.vastId,3,"video oncanplay gave JS exception: ",b,h)}D(d)}}catch(b){r(d,h.vastId,3,"video oncanplay gave JS exception: ",b,h)}});k(a,"ended",function(){try{f(d,"vastId "+h.vastId+" - video onended",!1),h.firedEvents&&h.firedEvents.complete?f(d,"vastId "+h.vastId+" - dup video ended event",!1):(h.firedEvents.complete=1,f(d,"vastId "+h.vastId+" - video onended",!1),"vpaid"!==d.mode&&(d.anyPlaying=X(d,
h.vastId),d.anyPlaying||Y(d)),h.vastTracker?(I("firstQuartile",d,h),I("midpoint",d,h),I("thirdQuartile",d,h),h.vastTracker.complete()):r(d,h.vastId,3,"no vastTracker for ended",!1,h,!1,!1,"vastTracker error"),"vpaid"==d.mode&&(p(d,h),d.vpaidObj.call("jsAdComplete",{},!0),d.vpaidObj.call("jsAdStopped",{},!0),d.divElem.style.display="none"),CEDATO_BROWSER.oldIE?setTimeout(function(){S(d,h)},3E3):setTimeout(S,3E3,d,h),d.frozen?f(d,"vastId "+h.vastId+" - frozen - finishing here",!1):(d.readyForStartAd&&
Aa(d),D(d)))}catch(a){r(d,h.vastId,3,"video onended gave JS exception: ",a,h)}})}catch(b){r(d,h.vastId,3,"video prepare gave JS exception: ",b,h)}return a}function I(d,a,b){d&&a&&b&&b.vastTracker.quartiles&&b.vastTracker.quartiles[d]&&(d=b.vastTracker.quartiles[d],!b.vastTracker.progress||b.vastTracker.progress<=d)&&(f(a,"vastId "+b.vastId+" - advancing progress accordingly",!1),b.vastTracker.setProgress(d))}function T(d,a,b){f(d,"vastId "+a.vastId+" - "+b+" resulted in exception, vpw disappeared",
!1);10<a.vpwLoadRetry?(r(d,a.vastId,25,b+" gave up on vpw",!1,a),f(d,"vastId "+a.vastId+" - "+b+"  too many errors - giving up",!1),a.tlvState=10):(f(d,"vastId "+a.vastId+" - "+b+"  - allowing vpw to reload",!1),J(d,a,!0),f(d,"vastId "+a.vastId+" - "+b+"  - allowing vpw to reload - done",!1))}function ba(d,a){try{var b=e[a.playersStorageName];CEDATO_BROWSER.oldIE?setTimeout(function(){ga(b,a.uniqId)},10):setTimeout(ga,0,b,a.uniqId);f(b,"vastId "+a.vastId+" - got js adLoaded event",!1)}catch(c){r(b,
a.vastId,3,"jsVpaidAdLoaded callback gave JS exception: ",c,a)}}function V(d,a){try{var b=e[a.playersStorageName];"undefined"===typeof d?d="no message":"string"!==typeof d&&(d=d.message?d.message:d.data&&d.data.message?d.data.message:"Couldnt extract error message");CEDATO_BROWSER.oldIE?setTimeout(function(){qa(b,a.uniqId,d)},10):setTimeout(qa,0,b,a.uniqId,d);f(b,"vastId "+a.vastId+" - got js adError event: "+d,!1)}catch(c){r(b,a.vastId,3,"jsVpaidAdError callback gave JS exception: ",c,a)}}function Q(d,
a){try{var b=e[a.playersStorageName];CEDATO_BROWSER.oldIE?setTimeout(function(){ha(b,a.uniqId)},0):setTimeout(ha,0,b,a.uniqId);try{!b.allowSound&&a.jsVPAIDElement.setAdVolume&&a.jsVPAIDElement.setAdVolume(0)}catch(c){}f(b,"vastId "+a.vastId+" - got js adStarted event: ",!1)}catch(c){r(b,a.vastId,3,"jsVpaidAdStarted callback gave JS exception: ",c,a)}}function R(d,a){try{var b=e[a.playersStorageName];CEDATO_BROWSER.oldIE?setTimeout(function(){ia(b,a.uniqId)},10):setTimeout(ia,0,b,a.uniqId);f(b,"vastId "+
a.vastId+" - got js adImpression event: ",!1);try{!b.allowSound&&a.jsVPAIDElement.setAdVolume&&a.jsVPAIDElement.setAdVolume(0)}catch(c){}}catch(c){r(b,a.vastId,3,"jsVpaidAdImpression callback gave JS exception: ",c,a)}}function aa(d,a){try{var b=e[a.playersStorageName];CEDATO_BROWSER.oldIE?setTimeout(function(){Pa(b,a.uniqId)},10):setTimeout(Pa,0,b,a.uniqId);try{!b.allowSound&&a.jsVPAIDElement.setAdVolume&&a.jsVPAIDElement.setAdVolume(0)}catch(c){}f(b,"vastId "+a.vastId+" - got js AdVideoStart event",
!1)}catch(c){r(b,a.vastId,3,"jsVPAdVideoStartFunc callback gave JS exception: ",c,a)}}function P(d,a){try{var b=e[a.playersStorageName];CEDATO_BROWSER.oldIE?setTimeout(function(){ra(b,a.uniqId)},10):setTimeout(ra,0,b,a.uniqId);f(b,"vastId "+a.vastId+" - got js FirstQuartile event",!1)}catch(c){r(b,a.vastId,3,"jsVpaidAdFirstQuartile callback gave JS exception: ",c,a)}}function ea(d,a){try{var b=e[a.playersStorageName];CEDATO_BROWSER.oldIE?setTimeout(function(){sa(b,a.uniqId)},10):setTimeout(sa,0,b,
a.uniqId);f(b,"vastId "+a.vastId+" - got js midpoint event",!1)}catch(c){r(b,a.vastId,3,"jsVpaidAdMidpoint callback gave JS exception: ",c,a)}}function oa(d,a){try{var b=e[a.playersStorageName];CEDATO_BROWSER.oldIE?setTimeout(function(){ta(b,a.uniqId)},0):setTimeout(ta,10,b,a.uniqId);f(b,"vastId "+a.vastId+" - got js adThirdQuartile event",!1)}catch(c){r(b,a.vastId,3,"jsVpaidAdThirdQuartile callback gave JS exception: ",c,a)}}function w(d,a){try{var b=e[a.playersStorageName];f(b,"vastId "+a.vastId+
" - got js adComplete event",!1);CEDATO_BROWSER.oldIE?setTimeout(function(){ja(b,a.uniqId)},0):setTimeout(ja,10,b,a.uniqId)}catch(c){r(b,a.vastId,3,"jsVpaidAdComplete callback gave JS exception: ",c,a)}}function bb(d,a){try{var b=e[a.playersStorageName];f(b,"vastId "+a.vastId+" - got js adStopped event",!1);CEDATO_BROWSER.oldIE?setTimeout(function(){Qa(b,a.uniqId)},10):setTimeout(Qa,0,b,a.uniqId)}catch(c){r(b,a.vastId,3,"jsVpaidAdStopped callback gave JS exception: ",c,a)}}function db(d,a){try{var b=
e[a.playersStorageName];"undefined"===typeof d&&(d=!1);var c;try{c=a.jsVPAIDElement.getAdRemainingTime()}catch(g){c=!1}if(!c&&(c=d,!c))try{c=a.jsVPAIDElement.remainingTime}catch(g){}f(b,"vastId "+a.vastId+" - got js adRemainingTimeChange event, remainingTime:"+c,!1);c&&(CEDATO_BROWSER.oldIE?setTimeout(function(){ua(b,a.uniqId,c)},10):setTimeout(ua,0,b,a.uniqId,c),f(b,"vastId "+a.vastId+" - got js adRemainingTimeChange event, t:"+c,!1))}catch(g){r(b,a.vastId,3,"jsVpaidAdRemainingTimeChange callback gave JS exception: ",
g,a)}}function cb(d,a){try{var b=e[a.playersStorageName];"undefined"===typeof d&&(d=!1);var c;try{c=a.jsVPAIDElement.getAdDuration()}catch(g){c=!1}if(!c&&(c=d,!c))try{c=a.jsVPAIDElement.duration}catch(g){}f(b,"vastId "+a.vastId+" - got js adDurationChange event, duration:"+c,!1);c&&(CEDATO_BROWSER.oldIE?setTimeout(function(){va(b,a.uniqId,c)},10):setTimeout(va,0,b,a.uniqId,c),f(b,"vastId "+a.vastId+" - got js adDurationChange event, t:"+c,!1))}catch(g){r(b,a.vastId,3,"adDurationChange callback gave JS exception: ",
g,a)}}function eb(d,a){try{var b=e[a.playersStorageName];"undefined"===typeof d&&(d="");CEDATO_BROWSER.oldIE?setTimeout(function(){wa(b,a.uniqId,d)},10):setTimeout(wa,0,b,a.uniqId,d);f(b,"vastId "+a.vastId+" - got js adClickthru event, url: "+d,!1)}catch(c){r(b,a.vastId,3,"jsVpaidAdClickthru callback gave JS exception: ",c,a)}}function fb(d,a){try{f(d,"vastId "+a.vastId+" - VPAID JS script loaded",!1);var c=a.jsVpaidFrame;if(1==a.jsVPAIDType){if(!c||!c.contentWindow||!c.contentWindow.getVPAIDAd){r(d,
a.vastId,324,"couldn't find js vpaid module",!1,a);a.tlvState=10;a.errorCount+=1;F(a,0);return}var e=c.contentWindow&&c.contentWindow.document,g;g=d.usejsv&&d.mainAutoplay?new c.contentWindow.video_jsv:e.createElement("video");a.vpaidJsIframeVideo=g;g.setAttribute("preload","auto");g.style.margin="0";g.style.padding="0";g.style.top="0px";g.style.left="0px";g.style.position="absolute";g.style.width="100%";g.style.height="100%";d.usejsv&&d.mainAutoplay&&(g.canPlayType=function(){return"probably"},g.proxyUrl=
function(a){return b(a,d)});a.vpaidJsIframeAdElem.appendChild(g);d.usejsv&&d.mainAutoplay&&(a.vpaidJsIframeVideoCanvas=a.vpaidJsIframeVideo.getElementsByTagName("canvas")[0]);a.initAdEnvObject={};a.initAdEnvObject.slot=a.vpaidJsIframeAdElem;a.initAdEnvObject.videoSlot=a.vpaidJsIframeVideo;a.initAdEnvObject.videoSlotCanAutoPlay=!0;d.usejsv&&!d.mainAutoplay&&(a.initAdEnvObject.videoSlotCanAutoPlay=!1);a.jsVPAIDElement=c.contentWindow.getVPAIDAd()}a.jsVPAIDElement?(a.jsVPAIDElement.handshakeVersion&&
a.jsVPAIDElement.handshakeVersion("2.0"),1==a.jsVPAIDType&&(a.jsVPAIDElement.subscribe(function(d){ba(d,a)},"AdLoaded"),a.jsVPAIDElement.subscribe(function(d){V(d,a)},"AdError"),a.jsVPAIDElement.subscribe(function(d){Q(d,a)},"AdStarted"),a.jsVPAIDElement.subscribe(function(d){R(d,a)},"AdImpression"),a.jsVPAIDElement.subscribe(function(d){aa(d,a)},"AdVideoStart"),a.jsVPAIDElement.subscribe(function(d){P(d,a)},"AdVideoFirstQuartile"),a.jsVPAIDElement.subscribe(function(d){ea(d,a)},"AdVideoMidpoint"),
a.jsVPAIDElement.subscribe(function(d){oa(d,a)},"AdVideoThirdQuartile"),a.jsVPAIDElement.subscribe(function(d){w(d,a)},"AdVideoComplete"),a.jsVPAIDElement.subscribe(function(d){bb(d,a)},"AdStopped"),a.jsVPAIDElement.subscribe(function(d){eb(d,a)},"AdClickThru"),a.jsVPAIDElement.subscribe(function(d){db(d,a)},"AdRemainingTimeChange"),a.jsVPAIDElement.subscribe(function(d){cb(d,a)},"AdDurationChange")),f(d,"vastId "+a.vastId+" - VPAID JS element prepared",!1),Ba(d,a)):(r(d,a.vastId,325,"failed to create js vpaid module",
!1,a),a.tlvState=10,a.errorCount+=1,F(a,0))}catch(fa){r(d,a.vastId,3,"jsVpaidLoaded callback gave JS exception: ",fa,a)}}function ma(d,h){f(d,"vastId "+h.vastId+" - initMediaLoad",!1);h.tlvState=2;if(h.companionHTML)try{"jsvpaid"!=h.adType&&(h.companionsElementDiv||(h.companionsElementDiv=a.createElement("div"),h.companionsElementDiv.setAttribute("style","width:100%;height:100%;position:relative;top:-"+d.height+"px;  "),d.callingFlashObject?d.companionsDivElem.appendChild(h.companionsElementDiv):
d.divElem.appendChild(h.companionsElementDiv)),h.companionsElementDiv&&(f(d,"vastId "+h.vastId+" - companionHTML: "+h.companionHTML,!1),h.companionsElementDiv.innerHTML=h.companionHTML))}catch(c){}if("flvpaid"==h.adType||"jsvpaid"==h.adType)h.durationKnown=!1,d.thirdPartyTimeout&&(-1!=h.mediaURL.indexOf("liverail.com")&&(-1==h.mediaURL.indexOf("LR_TIMEOUT_ADSOURCE")&&(h.mediaURL+="&LR_TIMEOUT_ADSOURCE="+d.thirdPartyTimeout,f(d,"vastId "+h.vastId+" - initMediaLoad - added timeout to media file, new url: "+
h.mediaURL,!1)),-1==h.mediaURL.indexOf("LR_TIMEOUT_DELIVERY")&&(h.mediaURL+="&LR_TIMEOUT_DELIVERY="+d.thirdPartyTimeout,f(d,"vastId "+h.vastId+" - initMediaLoad - added timeout to media file, new url: "+h.mediaURL,!1))),-1!=h.mediaURL.indexOf("adap.tv")&&-1==h.mediaURL.indexOf("breakLoadedTimeout")&&(h.mediaURL+="&breakLoadedTimeout="+1E3*d.thirdPartyTimeout,f(d,"vastId "+h.vastId+" - initMediaLoad - added timeout to media file, new url: "+h.mediaURL,!1)));if("flvpaid"==h.adType){d.urlReplacer&&d.urlReplacer.vastId==
h.vastId&&-1!=h.mediaURL.indexOf(d.urlReplacer.searchFor)&&(h.mediaURL=d.urlReplacer.replaceWith+h.mediaURL.substr(h.mediaURL.indexOf("?")));f(d,"vastId "+h.vastId+" - initMediaLoad - uniqId: "+h.uniqId+", flash loadAd with url "+h.mediaURL,!1);try{-1!==h.mediaURL.indexOf("[[IMPORT]]")&&(h.mediaURL=h.mediaURL.replace("[[IMPORT]]",d.protocol+"/")),h.flashElement[h.flashEICallbacks]("vpwLoadAd",h.mediaURL,h.isIMA,12E4,h.playersStorageName,h.uniqId,d.successCallbackFuncName,d.failureCallbackFuncName,
d.adLoadedCallbackFuncName,d.adErrorCallbackFuncName,d.adStartedCallbackFuncName,d.adImpressionCallbackFuncName,d.adFirstQuartileEventCallbackFundName,d.adMidpointEventCallbackFuncName,d.adThirdQuartileEventCallbackFundName,d.adCompleteEventCallbackFuncName,d.adRemainingtimeChangeCallbackFuncName,d.adDurationChangeCallbackFuncName,d.adClickthroughCallbackFuncName,d.adSetCompanionsCallbackFuncName,d.allowSound,d.width,d.height)}catch(c){h.tlvState=1;h.errorCount++;r(d,h.vastId,5,"loadAd failed - vpw disappeared: "+
c.message+" ** "+h.flashEICallbacks,!1,h);T(d,h,"initMediaLoad");return}}else if("jsvpaid"==h.adType)f(d,"vastId "+h.vastId+" - initMediaLoad - loading JS script "+h.mediaURL,!1),x(h.mediaURL,fb,d,h);else if("video"==h.adType)if(f(d,"vastId "+h.vastId+" - initMediaLoad - initializing video url to "+h.mediaURL,!0),d.divElem.appendChild(h.videoElement),m(d,h),d.usejsv){var E=b(h.mediaURL,d);h.videoElement.setAttribute("src",E);null!=h.playVideoRetry&&(clearInterval(h.playVideoRetry),h.playVideoRetry=
null);var e=function(d,a){f(d,"vastId "+a.vastId+" - jsv play video retry",!1);var h=a.videoElement.getAttribute("src");a.videoElement.setAttribute("src",h)};h.playVideoRetry=CEDATO_BROWSER.oldIE?setInterval(function(){e(d,h)},2E4):setInterval(e,2E4,d,h)}else h.videoElement.src=h.mediaURL,h.videoElement.preload="auto",h.videoElement.autoplay="",h.videoElement.controls=d.controlBar,h.videoElement.loop="",d.allowSound||(h.videoElement.muted="muted");f(d,"vastId "+h.vastId+" - initMediaLoad - done",
!0)}function F(d,a){var b=e[d.playersStorageName];if(b&&B(b,d.uniqId))if(null!=d.requeryTimeout)f(b,"vastId "+d.vastId+" - requery vast already scheduled - ignoring",!1);else if(null!=d.startAdStopper&&(clearTimeout(d.startAdStopper),d.startAdStopper=null),null!=d.startAdHalfStopper&&(clearTimeout(d.startAdHalfStopper),d.startAdHalfStopper=null),null!=d.startAdSwitcher&&(clearTimeout(d.startAdSwitcher),d.startAdSwitcher=null),null!=d.playVideoRetry&&(clearInterval(d.playVideoRetry),d.playVideoRetry=
null),null!=d.initAdThrottler&&(clearInterval(d.initAdThrottler),d.initAdThrottler=null),0!=d.status){try{if(d.flashElement&&d.flashEICallbacks)d.flashElement[d.flashEICallbacks]("clearAd",d.uniqId)}catch(c){}"jsvpaid"==d.adType&&Ra(d);f(b,"vastId "+d.vastId+" - scheduling requery vast",!1);0===a&&(a=d.freqRetry?10>d.errorCount?1E3+Math.floor(500*Math.random()):100>d.errorCount?2E3+Math.floor(500*Math.random()):110>d.errorCount?2E3+Math.floor(1500*Math.random()):1E4:1==d.errorCount?200:4>d.errorCount?
1E3:10>d.errorCount?1E3*d.errorCount:100>d.errorCount?1E4:100==d.errorCount?2E3:104>d.errorCount?3E3:110>d.errorCount?6E3:3E4,a*=b.vastWaitFactor,f(b,"vastId "+d.vastId+" - wait is set to "+a+", ec: "+d.errorCount,!1));var g=function(d,a){f(d,"vastId "+a.vastId+" - requery",!1);a.requeryTimeout=null;pa(a)};d.requeryTimeout=CEDATO_BROWSER.oldIE?setTimeout(function(){g(b,d)},a):setTimeout(g,a,b,d)}}function na(d,a){a.videoElement&&(a.videoElement.style.display="none");null!=a.flashElementDiv&&(a.flashElementDiv.style.zIndex=
(-1-a.uniqId).toString());null!=a.jsVPAIDElementDiv&&(a.jsVPAIDElementDiv.style.zIndex=(1-a.uniqId).toString());a.vpaidJsIframeAdElem&&(a.vpaidJsIframeAdElem.style.zIndex=(1-a.uniqId).toString());a.vpaidJsIframeVideo&&(a.vpaidJsIframeVideo.style.zIndex=(1-a.uniqId).toString())}function Ia(d,a){d.domReady?"flvpaid"==a.adType?2===a.vpwLoaded?(f(d,"vastId "+a.vastId+" - dom is already ready and vpw is loaded - calling initMediaLoad",!0),ma(d,a)):f(d,"vastId "+a.vastId+" - dom is ready but vpw is not loaded yet - initMediaLoad will be called later",
!1):(f(d,"vastId "+a.vastId+" - dom is already and this is a video ad - calling initMediaLoad",!1),ma(d,a)):f(d,"vastId "+a.vastId+" - dom is not ready - initMediaLoad will be called later",!1)}function pa(d){var a=e[d.playersStorageName];if(a.frozen)f(a,"vastId "+d.vastId+" - fpv - frozen - quiting",!1);else{d.loadAdTime=(new Date).getTime();d.floadCbs=[];d.roundNo++;d.fetchesSinceInitPlayer++;d.fetchesSinceInitPlayer>a.cedatoxPlayersToFetchesCount[d.playerId]&&(CEDATO_EVENT_LOGGER.log(CEDATO_EVENT_LOGGER.E_SERVED_AND_START,
a,{},{playerId:d.playerId},f),a.cedatoxPlayersToFetchesCount[d.playerId]++);d.initAdEnvObject=null;var b=0;0<d.maxFailedVastRetries&&(b=d.maxFailedVastRetries);0<a.maxFailedVastRetries&&(0==b||a.maxFailedVastRetries<b)&&(b=a.maxFailedVastRetries);if(0<b&&d.roundNo>b)f(a,"vastId "+d.vastId+" - crossed number of allowed failed retries: "+b,!1),S(a,d,!0);else{var b=d.vastURL,c=(new Date).getTime(),b=b.replace(/\[CB\]/g,c),b=b.replace(/\[CACHE_BUSTER\]/g,c),b=b.replace(/\[CACHEBUSTING\]/g,c),b=b.replace(/\[WIDTH\]/g,
a.width),b=b.replace(/\[HEIGHT\]/g,a.height);a.info&&(b=b.replace(/\[DEVICEOS\]/gi,encodeURIComponent(a.info.os)),b=b.replace(/\[DEVICEOSV\]/gi,encodeURIComponent(a.info.osv)),b=b.replace(/\[DEVICEMAKE\]/gi,encodeURIComponent(a.info.make)),b=b.replace(/\[DEVICEMODEL\]/gi,encodeURIComponent(a.info.model)));f(a,"vastId "+d.vastId+" - fetch_player_vast, url: "+d.vastURL,!1);d.ad=null;d.creative=null;d.mediaURL="";d.isFlash=0;d.adType&&(d.previousAdType=d.adType);d.adType=null;d.vpaidPlaying=0;d.vastTracker=
null;d.skipVastTracker=!1;d.hasFlashVPAID=!1;d.hasJSVPAID=!1;na(a,d);-1!=b.indexOf(".g.doubleclick.net")&&(d.isIMA=!0);d.isIMA?a.flashSupport&&(f(a,"vastId "+d.vastId+" - is IMA",!1),d.isFlash=1,d.adType="flvpaid",d.mediaURL=b,d.companionHTML="",d.tlvState=1,d.skipVastTracker=!0,Ia(a,d)):(c={withCredentials:!0},c.players=a,c.playerData=d,c.urlhandler=Ca,a.DMVAST.client.get(b,c,function(a){try{var b=e[d.playersStorageName],h=d.vastId;f(b,"vastId "+h+" - got response",!1);if(b.frozen)f(b,"vastId "+
h+" - fpv answer - frozen - quiting",!1);else if(a&&a.ads){f(b,"vastId "+h+" - got response with data",!0);f(b,a,!0);for(var c=!1,E=!1,g=!1,N="",k=0,m=0,p=!1,q="",n="",t,u=a.ads.length;0<u;){var v=a.ads[0];f(b,"vastId "+h+" - got ad",!1);f(b,v,!0);for(var u=0,w=v.creatives.length;u<w;u++){var x=v.creatives[u];f(b,"vastId "+h+" - got creative",!0);f(b,x,!0);switch(x.type){case "linear":f(b,"vastId "+h+" - creative is linear with "+x.mediaFiles.length+" medias",!0);for(var z=0,B=x.mediaFiles.length;z<
B;z++){var y=x.mediaFiles[z];f(b,"vastId "+h+" - got media",!0);f(b,y,!0);n+=y.mimeType+",";f(b,"vastId "+h+" - got media - mimeType: "+y.mimeType,!1);if("video/"!=y.mimeType.substr(0,6)&&"application/x-shockwave-flash"!=y.mimeType&&"application/javascript"!=y.mimeType)f(b,"vastId "+h+" - not a video mimeType: "+y.mimeType,!0);else{"application/javascript"==y.mimeType&&(t=d.hasJSVPAID=!0);if("video/"==y.mimeType.substr(0,6)){try{if(!b.usejsv&&!b.hasVideoSupport){f(b,"vastId "+h+" - no video support for mimeType: "+
y.mimeType,!1);continue}d.videoElement||(d.videoElement=ca(b,d));if(!b.usejsv&&!d.videoElement.canPlayType(y.mimeType)){f(b,"vastId "+h+" - unsupported mimeType: "+y.mimeType,!0);continue}}catch(A){}if(b.usejsv&&"video/webm"!=y.mimeType&&"video/mp4"!=y.mimeType&&"video/wmv"!=y.mimeType&&"video/flv"!=y.mimeType){f(b,"vastId "+h+" - unsupported mimeType: "+y.mimeType,!0);continue}}"application/x-shockwave-flash"==y.mimeType&&(d.hasFlashVPAID=!0);if("application/x-shockwave-flash"!=y.mimeType||b.flashSupport){if("application/x-shockwave-flash"!=
y.mimeType&&"application/x-shockwave-flash"!=N){var D;if(!(D=y.deliveryType&&"streaming"==y.deliveryType)){var G=y.fileURL,H=G.split("/")[0].toLowerCase(),C=!("rtsp:"!==H&&"rtp:"!==H);if(!C){var K=G.split(".").pop().split(/\#|\?/)[0];if("m3u8"===K||"m3u"===K)C=!0}D=C}if(D){f(b,"vastId "+h+" - dont allow streaming",!0);continue}C=!0;if(0!=y.bitrate&&0!=k)if(C=!1,y.bitrate>k){f(b,"vastId "+h+" - bitrate is higher than chosen: "+y.bitrate,!0);continue}else y.bitrate==k?C=!0:f(b,"vastId "+h+" - choosing bitrate "+
y.bitrate+" over previously chosen bitrate "+k,!0);else if(0!=m&&0!=y.width){var C=!1,I=y.width*y.height;if(I>m){f(b,"vastId "+h+" - size is higher than chosen: "+y.mediaSize,!0);continue}else I==m?C=!0:f(b,"vastId "+h+" - choosing size "+I+" over previously chosen size "+m,!0)}if(C&&""!=N){if("video/webm"==N){f(b,"vastId "+h+" - same speed but already chosen preferred webm over "+y.mimeType,!0);continue}if("video/ogg"==N&&"video/mp4"==y.mimeType){f(b,"vastId "+h+" - same speed but already chosen preferred ogg over "+
y.mimeType,!0);continue}if("video/3gp"==N&&"video/mp4"==y.mimeType){f(b,"vastId "+h+" - same speed but already chosen preferred 3gp over "+y.mimeType,!0);continue}f(b,"vastId "+h+" - choosing mimeType "+y.mimeType+" over previously chosen "+N,!0)}}C=!0;1==d.vastPreferType?C=!0:2==d.vastPreferType&&(C=!1);-1!==y.fileURL.indexOf("cdn.altitude-arena.com")&&(C=!0);if(!b.callingFlashObject||"application/x-shockwave-flash"===y.mimeType){if("application/x-shockwave-flash"===y.mimeType){if("application/javascript"==
N){if(!d.previousAdType&&!C){f(b,"vastId "+h+" - preferring vpaidjs to flash",!0);continue}if(d.previousAdType&&"flvpaid"===d.previousAdType){f(b,"vastId "+h+" - had flash before now trying JS ",!0);continue}}if(""!==N&&"application/javascript"!==N&&"application/x-shockwave-flash"!==N){f(b,"vastId "+h+" - prefer video over flash",!0);continue}}if("application/javascript"===y.mimeType){if("application/x-shockwave-flash"===N){if(d.previousAdType&&"jsvpaid"==d.previousAdType){f(b,"vastId "+h+" - preferring flash choice if previous is vpaidjs ",
!0);continue}if(!d.previousAdType&&C){f(b,"vastId "+h+" - preferring flash to vpaidjs",!0);continue}}if(""!==N&&"application/javascript"!==N&&"application/x-shockwave-flash"!==N){f(b,"vastId "+h+" - prefer video over JS",!0);continue}}0!=y.bitrate?k=y.bitrate:0!=y.width&&(m=y.width*y.height);N=y.mimeType;c=0;E=u;g=z;p=!0;f(b,"vastId "+h+" - chosen media",!1)}}else f(b,"vastId "+h+" - flash mimetype but we don't have flash support",!0)}}break;case "companion":for(var z=0,M=x.variations.length;z<M;z++){var L=
x.variations[z];L.width==b.width&&L.height==b.height&&"image/jpeg"!=L.type&&(q=L.htmlResource)}}}if(p){try{v=a.ads[c],x=v.creatives[E],y=x.mediaFiles[g],f(b,"vastId "+h+" - chosen ad-creative-media",!1),f(b,v,!0),f(b,x,!0),f(b,y,!0),d.adParameters=x.adParameters,1!=v.impressionURLTemplates.length||v.impressionURLTemplates[0]||(v.impressionURLTemplates=[]),d.ad=v,d.creative=x,"application/x-shockwave-flash"==N?(f(b,"vastId "+h+" - media is flash",!1),d.isFlash=1,d.isJSVPaid=0,d.adType="flvpaid"):"application/javascript"==
N?(f(b,"vastId "+h+" - media is javascript",!1),d.isFlash=0,d.isJSVPaid=1,d.jsVPAIDType=t,d.adType="jsvpaid"):(f(b,"vastId "+h+" - media is video",!1),d.isFlash=0,d.isJSVPaid=0,d.adType="video"),d.mediaURL=y.fileURL,b.usejsv||"flvpaid"==d.adType||(d.mediaURL=l(b.protocol,d.mediaURL)),d.companionHTML=q,d.tlvState=1}catch(A){r(b,d.vastId,3,"fpv-chosen gave JS exception: ",A,d,!1,!0);d.errorCount+=1;F(d,0);break}try{Ia(b,d)}catch(A){r(b,d.vastId,3,"fpv-chosen-init2 gave JS exception: ",A,d,!1,!0);d.errorCount+=
1;F(d,0);break}}else r(b,d.vastId,27,"no suitable media: "+n,!1,d,!1,!0),f(b,"vastId "+h+" - error - no suitable media",!1),b.DMVAST.util.track(v.errorURLTemplates,{ERRORCODE:403}),d.errorCount+=1,F(d,0);break}}else r(b,d.vastId,26,"empty vast response",!1,d,!1,!0),f(b,"vastId "+h+" - empty response",!1),d.errorCount+=1,F(d,0)}catch(A){r(b,d.vastId,3,"fpv gave JS exception: ",A,d,!1,!0),d.errorCount+=1,F(d,0)}}))}}}function gb(){function d(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}
return d()+d()+"-"+d()+"-"+d()+"-"+d()+"-"+d()+d()+d()}function B(d,a){for(var b=0,c=d.plist.length;b<c;b++)if(d.plist[b].uniqId==a)return d.plist[b];return null}function X(d,a){for(var b=0,c=d.plist.length;b<c;b++)if(d.plist[b].vastId!=a&&6==d.plist[b].tlvState)return!0;return!1}function Ja(d,a){null!=a.initAdThrottler&&(clearInterval(a.initAdThrottler),a.initAdThrottler=null);var b,c;try{if(f(d,"vastId "+a.vastId+" - calling initAd, uniqId: "+a.uniqId,!1),a.tlvState=3,"flvpaid"==a.adType&&(c="vpw disappeared",
"string"!==typeof a.adParameters&&(a.adParameters=""),b=a.flashElement[a.flashEICallbacks]("vpwInitAd",a.adParameters,a.uniqId)),"jsvpaid"==a.adType){c="external js exception";var e=!1,e={};e.AdParameters=a.adParameters?a.adParameters:{};!1===e&&(e={});b=a.jsVPAIDElement.initAd(d.width,d.height,"normal",4800,e,a.initAdEnvObject);d.usejsv&&d.mainAutoplay&&0==a.vpaidJsIframeVideo.getElementsByTagName("canvas").length&&a.vpaidJsIframeVideo.appendChild(a.vpaidJsIframeVideoCanvas);if("undefined"===typeof b||
b)b="1"}}catch(g){r(d,a.vastId,5,"initAd failed - "+c+": "+g.message,!1,a);a.tlvState=10;a.errorCount+=1;F(a,0);"flvpaid"==a.adType&&T(d,a,"initAd");return}if("1"==b)f(d,"vastId "+a.vastId+" - initAd returned success",!1);else{b="no reason given";try{"flvpaid"==a.adType&&(b=a.flashElement[a.flashEICallbacks]("getLastError",a.uniqId)),"jsvpaid"==a.adType&&(b="js vpaid error")}catch(g){b="getLastError gave exception: "+g.message}r(d,a.vastId,5,"initAd failed - "+b,!1,a,!1,!0);a.tlvState=10;a.errorCount+=
1;"flvpaid"==a.adType&&J(d,a,!0);F(a,0)}}function Ka(d,a){for(var b="in group "+a.group+", ",c=!0,f=0,e=d.plist.length;f<e;f++)if("1"==d.plist[f].group&&3>d.plist[f].tlvState&&!d.plist[f].errorCount&&1>=d.plist[f].roundNo){c=!1;break}for(var g=!0,f=0,e=d.plist.length;f<e;f++)if("1"==d.plist[f].group&&6>d.plist[f].tlvState&&!d.plist[f].errorCount&&1>=d.plist[f].roundNo){g=!1;break}if("1"==a.group&&1>=a.errorCount)return b+" and no/low error count";if(a.duplicatedNow)return a.duplicatedNow=!1,b+" just duplicated";
if("1"!=a.group&&!g||"1"!=a.group&&d.anyPlaying)return!1;e=f=0;for(g=d.plist.length;e<g;e++)3<=d.plist[e].tlvState&&10!=d.plist[e].tlvState&&f++;if(6>f){if("1"==a.group)return b+" and less than 6 total";if(c)return b+" and less than 6 total, all group 1 inited"}return!1}function Ba(d,a){null!=a.requeryTimeout&&(f(d,"vastId "+a.vastId+" - cleared pending requery",!1),clearTimeout(a.requeryTimeout),a.requeryTimeout=null);var b=Ka(d,a);if(b)f(d,"vastId "+a.vastId+" - initAd throttler passed: "+b,!1),
Ja(d,a);else{f(d,"vastId "+a.vastId+" - initAd throttled, we'll wait",!1);var c=function(d,a){try{var b=Ka(d,a);b&&(f(d,"vastId "+a.vastId+" - initAd throttler passed in interval: "+b,!1),Ja(d,a))}catch(h){r(d,a.vastId,3,"iat gave JS exception: ",h,a)}};a.initAdThrottler=CEDATO_BROWSER.oldIE?setInterval(function(){c(d,a)},300):setInterval(c,300,d,a)}}function ga(d,a,b){var c=B(d,a);if(c)if(c.firedEvents.AdLoaded)f(d,"AdLoaded fired already",!1);else{c.firedEvents.AdLoaded=!0;var e=c.vastId;if("undefined"===
typeof b||0>b)b="";f(d,"vastId "+e+" - got vpaid adLoaded callback, uniqId: "+a+", mem used: "+b,!1);null!=c.requeryTimeout&&(f(d,"vastId "+e+" - cleared pending requery",!1),clearTimeout(c.requeryTimeout),c.requeryTimeout=null);2>c.tlvState||10==c.tlvState?f(d,"vastId "+e+" - adLoaded on wrong state - ignoring it - "+c.tlvState,!1):3<c.tlvState&&10!=c.tlvState?f(d,"vastId "+e+" - second adLoaded event - ignoring it",!1):(c.tlvState=4,f(d,"vastId "+e+" - marked as ready to play",!0),m(d,c,b),"vpaid"==
d.mode&&d.vpaidObj.call("jsAdReadyToStart",{},!0),D(d))}else f(d,"got adLoaded callback for a gone uniq",!1)}function qa(d,a,b){if(a=B(d,a)){p(d,a);var c=a.vastId;f(d,"vastId "+c+" - got vpaid aderror callback, message: "+b,!1);if(2>=a.tlvState||10==a.tlvState)f(d,"vastId "+c+" - vpaid aderror callback on invalid state - ignoring - "+a.tlvState,!1);else{var e=!1,g=!1;if(1==a.vpaidPlaying){a.vpaidPlaying=0;if(d.parallelStartAd){if(6==a.tlvState||7==a.tlvState)f(d,"vastId "+c+" - was playing",!1),d.anyPlaying=
X(d,c),d.anyPlaying||Y(d)}else f(d,"vastId "+c+" - was playing",!1),d.anyPlaying=X(d,c),d.anyPlaying||Y(d);null!=a.startAdHalfStopper&&(clearTimeout(a.startAdHalfStopper),a.startAdHalfStopper=null);null!=a.startAdStopper&&(clearTimeout(a.startAdStopper),a.startAdStopper=null);d.parallelStartAd&&(g=!0)}4>a.tlvState&&(e=!0);null!=a.startAdSwitcher&&(clearTimeout(a.startAdSwitcher),a.startAdSwitcher=null);null!=a.initAdThrottler&&(clearInterval(a.initAdThrottler),a.initAdThrottler=null);var c=22,k="";
try{k=b.toLowerCase()}catch(l){}if(-1!=k.indexOf("timeout")||-1!=k.indexOf("timed out"))c=110;if(-1!=k.indexOf("empty")||-1!=k.indexOf("3403"))c=111;-1!=k.indexOf("domain")&&-1!=k.indexOf("block")&&(c=112);if(-1!=k.indexOf("no ad")||-1!=k.indexOf("there was an error parsing the ad tag response - null, errno: 0"))c=113;if(-1!=k.indexOf("but the server returned a vast error")||-1!=k.indexOf("failed to parse liverail xml response")||-1!=k.indexOf("unknown liverail xml response type"))c=114;if(-1!=k.indexOf("security error")||
-1!=k.indexOf("2048"))c=115;if(-1!=k.indexOf("2032")||-1!=k.indexOf("9408")||-1!=k.indexOf("error loading asset : ioerror"))c=116;-1!=k.indexOf("1903")&&(c=117);-1!=k.indexOf("1902")&&(c=118);-1!=k.indexOf("volume violation")&&(d.debugLogReason="volume",t(d),u(d),d.keepDebugLog=!0,c=300);-1!=k.indexOf("non linear ads")&&(c=157);-1!=k.indexOf("adstart exception")&&(c=156);r(d,a.vastId,c,"onAdError on state "+a.tlvState+" : "+b,!1,a,g,e);a.errorCount=5<=a.tlvState?a.errorCount+100:a.errorCount+1;null!=
a.vastTracker&&a.vastTracker.errorWithCode(901);6==a.tlvState||7==a.tlvState?S(d,a,!0):(a.tlvState=10,"flvpaid"==a.adType&&J(d,a,!0),F(a,0));D(d)}}else f(d,"got adError callback for a gone uniq",!1)}function ha(a,b){var c=B(a,b);c?c.firedEvents.AdStarted?f(a,"AdStarted fired already",!1):(c.firedEvents.AdStarted=!0,c.firedEvents.AdLoaded||ga(a,b,null),c.adStartCount++,1<c.adStartCount&&r(a,c.vastId,61,"double adstart: "+c.adStartCount,!1,c),"vpaid"==a.mode&&a.vpaidObj.call("jsAdStarted",{},!0)):f(a,
"got adStarted callback for a gone uniq",!1)}function ia(a,b,c){var e=B(a,b);if(e)if(e.firedEvents.AdImpression)f(a,"AdImpression fired already",!1);else{e.firedEvents.AdImpression=!0;e.firedEvents.AdStarted||ha(a,b);if("undefined"===typeof c||0>c)c="";f(a,"vastId "+e.vastId+" - got flash impression callback, uniqId: "+b+", mem used: "+c,!1);10==e.tlvState||5>e.tlvState?f(a,"vastId "+e.vastId+" - got flash impression callback but in invalid state - ignoring - "+e.tlvState,!1):M(a,e.uniqId,!1,c)&&
(null!=e.startAdHalfStopper&&(clearTimeout(e.startAdHalfStopper),e.startAdHalfStopper=null),null!=e.startAdStopper&&(clearTimeout(e.startAdStopper),e.startAdStopper=null),e.errorCount=0)}else f(a,"got adImpression callback for a gone uniq",!1)}function Pa(a,b){var c=B(a,b);c?c.firedEvents.AdVideoStart?f(a,"AdVideoStart fired already",!1):(c.firedEvents.AdVideoStart=!0,c.firedEvents.AdImpression||ia(a,b,null),f(a,"vastId "+c.vastId+" - got flash AdVideoStart callback, uniqId: "+b,!1),"vpaid"==a.mode&&
a.vpaidObj.call("jsAdVideoStart",{},!0)):f(a,"got VPAID AdVideoStart callback for a gone uniq",!1)}function ra(a,b){var c=B(a,b);if(c){var e=c.vastId;f(a,"vastId "+e+" - got flash adFirstQuartile callback, uniqId: "+b,!1);if(c.skipVastTracker)f(a,"vastId "+e+" - skip vast tracker mode, calling directly",!1),c.vtFirstQuartileFunc(c);else if(c.vastTracker){if(c.vastTracker.quartiles&&c.vastTracker.quartiles.firstQuartile){var g=c.vastTracker.quartiles.firstQuartile;!c.vastTracker.progress||c.vastTracker.progress<
g?(f(a,"vastId "+e+" - advancing progress accordingly",!1),c.vastTracker.setProgress(g)):f(a,"vastId "+e+" - progress is in the right place ("+c.vastTracker.progress+")",!1)}}else r(a,c.vastId,3,"no vastTracker for first quartile",!1,c,!1,!1,"vastTracker error");"vpaid"==a.mode&&a.vpaidObj.call("jsAdFirstQuartile",{},!0)}else f(a,"got flash first quartile callback for a gone uniq",!1)}function sa(a,b){var c=B(a,b);if(c){var e=c.vastId;f(a,"vastId "+e+" - got flash adMidpoint callback",!1);if(c.skipVastTracker)f(a,
"vastId "+e+" - skip vast tracker mode, calling directly",!1),c.vtMidPointFunc(c);else if(c.vastTracker){if(c.vastTracker.quartiles&&c.vastTracker.quartiles.midpoint){var g=c.vastTracker.quartiles.midpoint;!c.vastTracker.progress||c.vastTracker.progress<g?(f(a,"vastId "+e+" - advancing progress accordingly",!1),I("firstQuartile",a,c),c.vastTracker.setProgress(g)):f(a,"vastId "+e+" - progress is in the right place",!1)}}else r(a,c.vastId,3,"no vastTracker for midpoint",!1,c,!1,!1,"vastTracker error");
"vpaid"==a.mode&&a.vpaidObj.call("jsAdMidpoint",{},!0)}else f(a,"got flash midpoint callback for a gone uniq",!1)}function ta(a,b){var c=B(a,b);if(c){var e=c.vastId;f(a,"vastId "+e+" - got flash adThirdQuartile callback",!1);if(c.skipVastTracker)f(a,"vastId "+e+" - skip vast tracker mode, calling directly",!1),c.vtThirdQuartileFunc(c);else if(c.vastTracker){if(c.vastTracker.quartiles&&c.vastTracker.quartiles.thirdQuartile){var g=c.vastTracker.quartiles.thirdQuartile;!c.vastTracker.progress||c.vastTracker.progress<
g?(f(a,"vastId "+e+" - advancing progress accordingly",!1),I("firstQuartile",a,c),I("midpoint",a,c),c.vastTracker.setProgress(g)):f(a,"vastId "+e+" - progress is in the right place",!1)}}else r(a,c.vastId,3,"no vastTracker for third quartile",!1,c,!1,!1,"vastTracker error");"vpaid"==a.mode&&a.vpaidObj.call("jsAdThirdQuartile",{},!0)}else f(a,"got flash third quartile callback for a gone uniq",!1)}function ja(a,b){var c=B(a,b);if(c){p(a,c);na(a,c);var e=c.vastId;f(a,"vastId "+e+" - got vpaid adComplete callback",
!1);6!=c.tlvState&&7!=c.tlvState?f(a,"vastId "+e+" - vpaid adcomplete callback on invalid state - ignoring - "+c.tlvState,!1):(c.tlvState=8,a.anyPlaying=X(a,e),a.anyPlaying||Y(a),null!=c.startAdSwitcher&&(clearTimeout(c.startAdSwitcher),c.startAdSwitcher=null),c.skipVastTracker?(f(a,"vastId "+e+" - skip vast tracker mode, calling directly",!1),c.vtCompleteFunc(c)):null==c.vastTracker?r(a,c.vastId,3,"no vastTracker for complete",!1,c,!1,!1,"vastTracker error"):(I("firstQuartile",a,c),I("midpoint",
a,c),I("thirdQuartile",a,c),c.vastTracker.complete()),"vpaid"==a.mode&&(a.vpaidObj.call("jsAdComplete",{},!0),a.vpaidObj.call("jsAdStopped",{},!0)),CEDATO_BROWSER.oldIE?setTimeout(function(){S(a,c)},3E3):setTimeout(S,3E3,a,c),a.frozen?f(a,"vastId "+e+" - frozen - finishing here",!1):(a.readyForStartAd&&Aa(a),D(a)))}else f(a,"got vpaid adComplete callback for a gone uniq",!1)}function Qa(a,b){var c=B(a,b);if(c){if(p(a,c),f(a,"vastId "+c.vastId+" - got flash adStopped callback",!1),6==c.tlvState||7==
c.tlvState)f(a,"triggering manual AdComplete",!1),ja(a,b)}else f(a,"got flash adStopped callback for a gone uniq",!1)}function wa(a,b,c){(b=B(a,b))?(a.apiInterface.trigger("click",{url:c,vastId:b.vastId}),f(a,"vastId "+b.vastId+" - got flash click through callback",!1),b.skipVastTracker?(f(a,"vastId "+b.vastId+" - skip vast tracker mode, calling directly",!1),b.vtClickThroughFunc(c,b)):null==b.vastTracker?r(a,b.playerData.vastId,3,"no vastTracker for click",!1,b,!1,!1,"vastTracker error"):b.vastTracker.click(),
"vpaid"==a.mode&&a.vpaidObj.call("jsAdClickthrough",{url:c},!0)):f(a,"got flash click callback for a gone uniq",!1)}function va(a,b,c){(b=B(a,b))?(f(a,"vastId "+b.vastId+" - got vpaid ad duration time callback, t: "+c,!0),b.duration=c,b.durationKnown=!0,b.vastTracker&&(b.vastTracker.duration=b.duration,b.vastTracker.setDuration(b.duration)),"vpaid"==a.mode&&a.vpaidObj.call("jsAdDurationChange",{duration:c},!0)):f(a,"got vpaid duration change callback for a gone uniq",!1)}function ua(a,b,c){(b=B(a,
b))?(f(a,"vastId "+b.vastId+" - got flash ad remaining time callback, t: "+c,!0),!b.durationKnown||6>b.tlvState?(f(a,"vastId "+b.vastId+" - got first flash ad remaining time callback, duration set to t: "+c,!0),b.duration=c,b.durationKnown=!0,b.vastTracker&&(b.vastTracker.duration=b.duration,b.vastTracker.setDuration(b.duration)),"vpaid"==a.mode&&a.vpaidObj.call("jsAdDurationChange",{duration:c},!0)):(b.vastTracker&&b.vastTracker.setProgress(b.duration-c),"vpaid"==a.mode&&a.vpaidObj.call("jsAdRemainingTimeChange",
{remainingTime:c},!0))):f(a,"got flash remaining callback for a gone uniq",!1)}function hb(a){a.anyVPWLoaded=0;if(a.reportVPWLoaded){a.reportVPWLoaded=!0;a.reportVPWLoadedCount=0;f(a,"vpws - reporting state 0",!1);CEDATO_EVENT_LOGGER.log(CEDATO_EVENT_LOGGER.E_VPWS,a,{time:0,state:0},{},f);var b=function(a){try{f(a,"vpws 10 seconds interval",!1);a.reportVPWLoadedCount++;var d=10*a.reportVPWLoadedCount,b=!1;0<a.anyVPWLoaded||4<a.reportVPWLoadedCount?(f(a,"vpws 10 seconds interval - time to stop",!1),
b=!0):(f(a,"vpws - reporting state 0",!1),CEDATO_EVENT_LOGGER.log(CEDATO_EVENT_LOGGER.E_VPWS,a,{time:d,state:0},{},f));b&&(clearInterval(a.reportVPWStateInterval),a.reportVPWStateInterval=null)}catch(c){K(a,3,"rvpwIntervalFunc gave JS exception: "+c.message)}};a.reportVPWStateInterval=CEDATO_BROWSER.oldIE?setInterval(function(){b(a)},1E4):setInterval(b,1E4,a)}a.floadSuccessCallbackFuncName="flsc"+Math.floor(1000001*Math.random());e[a.floadSuccessCallbackFuncName]=function(a,d,b,c){try{var h=e[a],
g=B(h,d);if(g){var k=g.vastId;f(h,"vastId "+k+" - got fload success callback "+b,!1);h.logVastResponse&&(f(h,"vastId "+g.vastId+" - fload response:",!1),f(h,c,!1));if(g.floadCbs[b]){var l={};l.players=h;l.playerData=g;l.urlhandler=Ca;var m;try{m=CEDATO_BROWSER.parseTextToXML(c)}catch(p){r(h,k,3,"fload success XML parse callback gave JS exception: "+c,p,g)}if(!m)return f(h,"vastId "+k+" - fload failed - no xmlDocument",!1),g.floadCbs[b](null,null,l);CEDATO_BROWSER.oldIE?setTimeout(function(){g.floadCbs[b](null,
m,l)},10):setTimeout(g.floadCbs[b],0,null,m,l)}else f(h,"vastId "+k+" - fload success cb disappeared "+b,!1)}else f(h,"got fload success callback for a gone uniq",!1)}catch(p){h=e[a],g=B(h,d),k=g.vastId,r(h,k,3,"fload success callback gave JS exception: ",p,g)}};a.floadFailureCallbackFuncName="flfc"+Math.floor(1000001*Math.random());e[a.floadFailureCallbackFuncName]=function(a,d,b,c,h){try{var g=e[a],k=B(g,d);if(k){var l=k.vastId;f(g,"vastId "+l+" - got fload failure callback "+b+", errorCode: "+
c+", errorMessage: "+h,!1);if(k.floadCbs[b]){var m={};m.players=g;m.playerData=k;m.urlhandler=Ca;CEDATO_BROWSER.oldIE?setTimeout(function(){k.floadCbs[b](null,null,m)},10):setTimeout(k.floadCbs[b],0,null,null,m)}else f(g,"vastId "+l+" - fload failure cb disappeared "+b,!1)}else f(g,"got fload failure callback for a gone uniq",!1)}catch(p){g=e[a],k=B(g,d),l=k.vastId,r(g,l,3,"fload failure callback gave JS exception: ",p,k)}};a.successCallbackFuncName="sc"+Math.floor(1000001*Math.random());e[a.successCallbackFuncName]=
function(a,d,b){try{var c=e[a],h=B(c,d);if(h){var g=h.vastId;if("undefined"===typeof b||0>b)b="";f(c,"vastId "+g+" - got flash success callback, uniqId: "+d+", mem used: "+b,!1);CEDATO_BROWSER.oldIE?setTimeout(function(){Ba(c,h)},10):setTimeout(Ba,0,c,h)}else f(c,"got fload success callback for a gone uniq",!1)}catch(k){(c=e[a])&&d&&(h=B(c,d),g=h.vastId,r(c,g,3,"flash success callback gave JS exception: ",k,h))}};a.failureCallbackFuncName="fc"+Math.floor(1000001*Math.random());e[a.failureCallbackFuncName]=
function(a,d,b,c){try{var h=e[a],g=B(h,d);if(!g&&h)f(h,"got flash failure callback for a gone uniq",!1);else{var k=function(a,d,b,c,h,e){b=d.vastId;f(a,"vastId "+b+" - got flash failure callback, errorCode: "+h+", errorMessage: "+e,!1);d.tlvState=10;d.errorCount+=1;-1!=e.indexOf("#2035")&&(h=2035,e="URL not found");-1!=e.indexOf("#2036")&&(h=2036,e="Load not completed");r(a,b,h,"flash failure called: "+e,!1,d,!1,!0);try{d.flashElement[d.flashEICallbacks]("clearAd",d.uniqId)}catch(g){}J(a,d,!0);F(d,
0)};CEDATO_BROWSER.oldIE?setTimeout(function(){k(h,g,a,d,b,c)},0):setTimeout(k,0,h,g,a,d,b,c)}}catch(l){h=e[a],g=B(h,d),r(h,g.vastId,3,"flash failure callback gave JS exception: ",l,g)}};a.adLoadedCallbackFuncName="al"+Math.floor(1000001*Math.random());e[a.adLoadedCallbackFuncName]=function(a,d,b){try{var c=e[a],h=B(c,d),f=h.vastId;CEDATO_BROWSER.oldIE?setTimeout(function(){ga(c,d,b)},10):setTimeout(ga,0,c,d,b)}catch(g){c=e[a],h=B(c,d),f=h.vastId,r(c,f,3,"flash adLoaded callback gave JS exception: ",
g,h)}};a.adStartedCallbackFuncName="al"+Math.floor(1000001*Math.random());e[a.adStartedCallbackFuncName]=function(a,d){try{var b=e[a];CEDATO_BROWSER.oldIE?setTimeout(function(){ha(b,d)},10):setTimeout(ha,0,b,d)}catch(c){var h=B(b,d);r(b,h.vastId,3,"flash started callback gave JS exception: ",c,h)}};a.adImpressionCallbackFuncName="ai"+Math.floor(1000001*Math.random());e[a.adImpressionCallbackFuncName]=function(a,d,b){try{var c=e[a];CEDATO_BROWSER.oldIE?setTimeout(function(){ia(c,d,b)},10):setTimeout(ia,
0,c,d,b)}catch(h){a=B(c,d),r(c,a.vastId,3,"flash impression callback gave JS exception: ",h,a)}};a.adErrorCallbackFuncName="ae"+Math.floor(1000001*Math.random());e[a.adErrorCallbackFuncName]=function(a,d,b){try{var c=e[a];a=B(c,d);CEDATO_BROWSER.oldIE?setTimeout(function(){qa(c,d,b)},50):setTimeout(qa,50,c,d,b)}catch(h){a=B(c,d),r(c,a.vastId,3,"flash adError callback gave JS exception: ",h,a)}};a.adFirstQuartileEventCallbackFundName="afq"+Math.floor(1000001*Math.random());e[a.adFirstQuartileEventCallbackFundName]=
function(a,d){try{var b=e[a];CEDATO_BROWSER.oldIE?setTimeout(function(){ra(b,d)},10):setTimeout(ra,0,b,d)}catch(c){var h=B(b,d);r(b,h.vastId,3,"flash onFirstQuartile callback gave JS exception: ",c,h)}};a.adMidpointEventCallbackFuncName="am"+Math.floor(1000001*Math.random());e[a.adMidpointEventCallbackFuncName]=function(a,d){try{var b=e[a];CEDATO_BROWSER.oldIE?setTimeout(function(){sa(b,d)},10):setTimeout(sa,0,b,d)}catch(c){var h=B(b,d);r(b,h.vastId,3,"flash onMidpoint callback gave JS exception: ",
c,h)}};a.adThirdQuartileEventCallbackFundName="atq"+Math.floor(1000001*Math.random());e[a.adThirdQuartileEventCallbackFundName]=function(a,d){try{var b=e[a];CEDATO_BROWSER.oldIE?setTimeout(function(){ta(b,d)},10):setTimeout(ta,0,b,d)}catch(c){var h=B(b,d);r(b,h.vastId,3,"flash onThirdQuartile callback gave JS exception: ",c,h)}};a.adCompleteEventCallbackFuncName="ac"+Math.floor(1000001*Math.random());e[a.adCompleteEventCallbackFuncName]=function(a,d){try{var b=e[a];CEDATO_BROWSER.oldIE?setTimeout(function(){ja(b,
d)},0):setTimeout(ja,0,b,d)}catch(c){var h=B(b,d);r(b,h.vastId,3,"flash onComplete callback gave JS exception: ",c,h)}};a.adClickthroughCallbackFuncName="acl"+Math.floor(1000001*Math.random());e[a.adClickthroughCallbackFuncName]=function(a,d,b){try{var c=e[a];CEDATO_BROWSER.oldIE?setTimeout(function(){wa(c,d,b)},10):setTimeout(wa,0,c,d,b)}catch(h){a=B(c,d),r(c,a.vastId,3,"flash onClickthrough callback gave JS exception: ",h,a)}};a.adSetCompanionsCallbackFuncName="sccl"+Math.floor(1000001*Math.random());
e[a.adSetCompanionsCallbackFuncName]=function(a,d,b){try{var c=e[a],h=function(a,d,b){(a=B(c,d))?(f(c,"vastId "+a.vastId+" - got flash set companions HTML callback",!1),a.companionHTML=b,a.companionHTML&&a.companionsElementDiv&&(a.companionsElementDiv.innerHTML=a.companionHTML)):f(c,"got flash set companions callback for a gone uniq",!1)};CEDATO_BROWSER.oldIE?setTimeout(function(){h(a,d,b)},10):setTimeout(h,0,a,d,b)}catch(g){var k=B(c,d);r(c,k.vastId,3,"flash onSetCompanionsHTML callback gave JS exception: ",
g,k)}};a.adRemainingtimeChangeCallbackFuncName="art"+Math.floor(1000001*Math.random());e[a.adRemainingtimeChangeCallbackFuncName]=function(a,d,b){try{var c=e[a];CEDATO_BROWSER.oldIE?setTimeout(function(){ua(c,d,b)},10):setTimeout(ua,0,c,d,b)}catch(h){a=B(c,d),r(c,a.vastId,3,"flash ad remaining time callback gave JS exception: ",h,a)}};a.adDurationChangeCallbackFuncName="ad"+Math.floor(1000001*Math.random());e[a.adDurationChangeCallbackFuncName]=function(a,d,b){try{var c=e[a];CEDATO_BROWSER.oldIE?
setTimeout(function(){va(c,d,b)},10):setTimeout(va,0,c,d,b)}catch(h){a=B(c,d),r(c,a.vastId,3,"flash ad remaining time callback gave JS exception: ",h,a)}}}function Sa(a){var b="",c;for(c in a)a.hasOwnProperty(c)&&(b+="property: "+c+" value: ["+a[c]+"]\n");return b+="toString():  value: ["+a.toString()+"]"}function K(a,b,c,e){e&&(c+=Sa(e));CEDATO_EVENT_LOGGER.log(CEDATO_EVENT_LOGGER.E_PLAYER_ERROR,a,{errorCode:b,errorMessage:c},{},f);f(a,"errorCode "+b+" - "+c,!1);3!=b||a.keepDebugLog||a.debugLogSubmittedDueToException||
!a.submitDebugLogOnPlayerError||(a.debugLogReason="player error",t(a),u(a),a.debugLogSubmittedDueToException=!0)}function r(a,b,c,e,g,k,l,m,p){var q,r="";if("undefined"!==typeof k&&k){if(3!=c&&1<k.errorCount)return;q="";r=5<=k.tlvState?((new Date).getTime()-k.startAdTime)/1E3:((new Date).getTime()-k.loadAdTime)/1E3;r=r.toFixed(1)}else q="";"undefined"===typeof l&&(l=!1);"undefined"===typeof m&&(m=!1);"undefined"===typeof p&&(p="vast error");g&&(e+=Sa(g));g={errorCode:c,errorMessage:e,mediaURL:q};
l&&(g.logStartRequest=1);m&&(g.logLoadRequest=1);""!=r&&(g.time=r);n(CEDATO_EVENT_LOGGER.E_VAST_ERROR,a,k,g,f);f(a,"vastId "+b+" - errorCode "+c+" - "+e,!1);3!=c||a.keepDebugLog||a.debugLogSubmittedDueToException||!a.submitDebugLogOnVastError||(a.debugLogReason=p,t(a),u(a),a.debugLogSubmittedDueToException=!0)}function Da(){var a=e.navigator.userAgent;return 0<a.indexOf("MSIE ")?parseInt(a.split("MSIE")[1]):0<a.indexOf("Trident/")?11:0<a.indexOf("Edge/")?12:!1}function ib(a,b){null!=b.vpwWaitFunc&&
(clearInterval(b.vpwWaitFunc),b.vpwWaitFunc=null);b.vpwWaitRetries=0;var c=function(a,d){try{d.vpwWaitRetries++;var b=!1,c="";try{d.flashEICallbacks=d.flashElement.connectToJSPlayer(a.playersStorageName,a.vpPlayCallbackFuncName,a.vpStopCallbackFuncName,a.vpDebugCallbackFuncName,a.vpResizeAdCallbackFuncName,a.vpSetAdVolumeCallbackFuncName,a.vpPauseCallbackFuncName,a.vpResumeCallbackFuncName),d.flashEICallbacks&&""!=d.flashEICallbacks&&(b=!0,a.singleVPW&&(a.flashEICallbacks=d.flashEICallbacks))}catch(h){c=
h.message}if(b){f(a,"vastId "+d.vastId+" - vpw finished init",!1);clearInterval(d.vpwWaitFunc);d.vpwWaitFunc=null;d.vpwLoaded=2;d.vpwLoadRetry=0;if(2>a.anyVPWLoaded&&(a.anyVPWLoaded=2,a.reportVPWLoaded)){var e=((new Date).getTime()-a.startTime)/1E3,e=e.toFixed(1),g=((new Date).getTime()-a.firstVPWInitTime)/1E3,g=g.toFixed(1);f(a,"vpws - reporting state 2",!1);CEDATO_EVENT_LOGGER.log(CEDATO_EVENT_LOGGER.E_VPWS,a,{time:e,state:2,time2:g},{},f)}null==a.fpwReadyTime&&(e=((new Date).getTime()-a.startTime)/
1E3,e=e.toFixed(1),a.fpwReadyTime=e);1==d.tlvState&&(f(a,"vastId "+d.vastId+" - has schedule media load - calling now",!1),ma(a,d))}else b=5,Da()&&(b=10),d.vpwWaitRetries>5*b&&(clearInterval(d.vpwWaitFunc),d.vpwWaitFunc=null,Ea(a),f(a,"vastId "+d.vastId+" - vpw won't init on time, last error message: "+c,!1),J(a,d,!0))}catch(h){K(a,3,"vpwWaitFunc gave JS exception: "+h.message,h)}};b.vpwWaitFunc=CEDATO_BROWSER.oldIE?setInterval(function(){c(a,b)},200):setInterval(c,200,a,b)}function xa(d,b){d.singleVPW&&
!d.flashElement&&d.callingFlashObject&&(d.flashElement=d.callingFlashObject,f(d,"using calling flash object as vpw",!1));if(d.singleVPW&&d.flashElement)f(d,"vastId "+b.vastId+" - single vpw, using player vpw",!1),b.flashElement=d.flashElement,b.flashEICallbacks=d.flashEICallbacks,b.vpwLoaded=2;else{var c=b.vastId+"-"+Math.floor(1000001*Math.random()),e=a.createElement("div");e.id=c;d.singleVPW?d.flashElementDiv.appendChild(e):b.flashElementDiv.appendChild(e);e="vpwid"+Math.floor(1000001*Math.random());
e={data:d.vpwURL+d.vpwVersion,width:d.width,height:d.height,id:e,name:e};f(d,"vastId "+b.vastId+" - vpw url: "+e.data,!1);b.flashElement=CEDATO_SWF.swfobject.createSWF(e,{flashvars:"",allowscriptaccess:"always",wmode:"opaque"},c);b.vpwLoaded=0;b.flashEICallbacks="";d.singleVPW&&(d.flashElement=b.flashElement)}}function Fa(d){if("vpaid"!=d.mode){var h=d.protocol+d.conf.content.defaultLoader;d.content&&d.content.loader_image_url&&(h=d.content.loader_image_url);var e=d.protocol+d.conf.content.playButton,
g=[];if(d.content&&d.content.url&&1==d.content.type)for(var k=d.content.url.split(","),m=0,p=k.length;m<p;m++)d.usejsv&&d.mainAutoplay?g.push(b(k[m],d,null,"c")):g.push(l(d.protocol,k[m]));try{d.contentUrlPlayer=new CEDATO_CONTENT.ContentUnit({parentDiv:d.divElem,contentUrl:g,bannerUrl:h,clickUrl:d.content.click,playButtonUrl:e,autoPlay:!!d.content.autoplay,volume:d.allowSound?.8:0,loop:!!d.content.loop,controlBar:!!d.controlBar,videoSupport:d.hasVideoSupport,customCreateVideoElement:function(){return d.usejsv&&
!d.mainAutoplay?a.createElement("video"):c(d)},userStartPlayingCallback:function(){d.content.playFull&&0!==g.length||(d.content.autoplay=!0,d.autoplay=!0,D(d,!0))},endContentVideoCallback:function(){d.content.playFull&&(d.anyPlaying||(d.autoplay=!0),d.usejsv&&!d.mainAutoplay&&d.contentUrlPlayer.hideContent(),D(d,!0))},userClick:function(a){d.apiInterface.trigger("click",{url:d.content.click,vastId:null})},onError:function(a,b){f(d,"Error loading content video: "+d.content.url+" msg:"+b,!1)}})}catch(q){K(d,
3,"createRotator rotatorDiv gave JS exception: "+q.message,q)}}}function Y(a){if("single"==a.mode)if(a.contentUrlPlayer)try{a.contentUrlPlayer.showContent()}catch(b){Fa(a)}else Fa(a)}function Ea(a){if(Da()&&(!a.vpwVersionRenewed||10<((new Date).getTime()-a.vpwVersionRenewed)/1E3)){a.vpwVersionRenewedCount?a.vpwVersionRenewedCount++:a.vpwVersionRenewedCount=1;if(3<a.vpwVersionRenewedCount)return!1;f(a,"IE detected - using random vpw version",!1);a.vpwVersion=Math.floor(1000001*Math.random());a.vpwVersionRenewed=
(new Date).getTime();return!0}return!1}function Ta(a,b){b.vpwStartLoadTime=(new Date).getTime();null!=b.flashInitialTimeout&&(clearInterval(b.flashInitialTimeout),b.flashInitialTimeout=null);null!=b.flashLoadCheckInterval&&(clearInterval(b.flashLoadCheckInterval),b.flashLoadCheckInterval=null);b.vpwLoaded=0;f(a,"vastId "+b.vastId+" - loadVPW - setting FIT",!1);var c=function(a,d){try{if(d.flashElement&&"undefined"!==typeof d.flashElement.PercentLoaded){clearInterval(d.flashInitialTimeout);d.flashInitialTimeout=
null;f(a,"vastId "+d.vastId+" - vpw - started to load flash",!1);null!=d.flashLoadCheckInterval&&(clearInterval(d.flashLoadCheckInterval),d.flashLoadCheckInterval=null);var b=function(a,d){try{if(d.flashElement&&"undefined"!==typeof d.flashElement.PercentLoaded&&d.flashElement.PercentLoaded()&&100===d.flashElement.PercentLoaded()){clearInterval(d.flashLoadCheckInterval);d.flashLoadCheckInterval=null;f(a,"vastId "+d.vastId+" - vpw - flash loaded",!1);d.vpwLoaded=1;if(1>a.anyVPWLoaded&&(a.anyVPWLoaded=
1,a.reportVPWLoaded)){var b=((new Date).getTime()-a.startTime)/1E3,b=b.toFixed(1);a.firstVPWInitTime=(new Date).getTime();f(a,"vpws - reporting state 1",!1);CEDATO_EVENT_LOGGER.log(CEDATO_EVENT_LOGGER.E_VPWS,a,{time:b,state:1},{},f)}if(0==d.vastId){if(a.prevpwDiv){f(a,"destroying pre vpw",!1);try{a.prevpwDiv.innerHTML="",a.prevpwDiv.parentNode.removeChild(a.prevpwDiv)}catch(c){}a.vpwCached=!0;a.prevpwDiv=null;Ua(a)}}else ib(a,d)}}catch(c){-1==c.message.indexOf("NPObject")&&c.message.indexOf("defineGetter")}};
d.flashLoadCheckInterval=CEDATO_BROWSER.oldIE?setInterval(function(){b(a,d)},400):setInterval(b,400,a,d)}else 0!=d.vastId&&7E3<(new Date).getTime()-d.vpwStartLoadTime&&(d.vpwLoadRetry++,clearInterval(d.flashInitialTimeout),Ea(a),J(a,d,!0))}catch(c){c.message&&-1==c.message.indexOf("NPObject")&&-1==c.message.indexOf("defineGetter")&&K(a,3,"flashInitialTimeout2 gave JS exception: "+c.message);var h=(new Date).getTime();0!=d.vastId&&7E3<h-d.vpwStartLoadTime&&(d.vpwLoadRetry++,clearInterval(d.flashInitialTimeout),
d.flashInitialTimeout=null,f(a,"vastId "+d.vastId+" - vpw timeouted starting to load",!1),J(a,d,!0))}};b.flashInitialTimeout=CEDATO_BROWSER.oldIE?setInterval(function(){c(a,b)},300):setInterval(c,300,a,b)}function J(a,b,c){if(a.domReady){"undefined"!==typeof b.flashElement&&b.flashElement||(f(a,"vastId "+b.vastId+" - flash disappeared",!1),xa(a,b));if(c&&(f(a,"vastId "+b.vastId+" - loadVPW - handling reload",!1),!a.singleVPW))try{try{if(b.flashElement&&b.flashEICallbacks)b.flashElement[b.flashEICallbacks]("clearAd",
b.uniqId)}catch(e){}b.vpwLoaded=0;b.flashEICallbacks=null;try{CEDATO_SWF.swfobject.removeSWF(b.flashElement.id)}catch(e){f(a,"vastId "+b.vastId+" - loadVPW - removeSWF failed",!1)}b.flashElementDiv.innerHTML="";b.flashElement=null;xa(a,b);f(a,"vastId "+b.vastId+" - loadVPW - flash element created",!1)}catch(e){f(a,"vastId "+b.vastId+" - loadVPW - exception - element must have vanished - recreating",!1),b.flashElementDiv.innerHTML="",xa(a,b)}a.callingFlashObject||Ta(a,b);f(a,"vastId "+b.vastId+" - loadVPW - done",
!1)}else f(a,"vastId "+b.vastId+" - loadVPW - called before dom ready",!1)}function Ua(a){f(a,"post prepare",!1);if(a.domReady)for(var b=0,c=a.plist.length;b<c;b++){var e=a.plist[b];a.vpwCached&&Oa(a,e);1==e.tlvState&&("flvpaid"!=e.adType||2==e.vpwLoaded&&a.vpwCached&&"flvpaid"==e.adType?(f(a,"vastId "+e.vastId+" has schedule media load - calling now",!1),ma(a,e)):f(a,"vastId "+e.vastId+" has schedule media load but it's flash and vpw is not ready",!1))}else f(a,"post prepare - dom not ready yet - we'll wait",
!1)}function ka(d,b){if(0==d.domReadyTime)try{if(f(d,"on dom load",!1),d.rootDivElem||(d.rootDivElem=a.getElementById(d.divId)),d.rootDivElem){d.domLoadTimeout&&(clearTimeout(d.domLoadTimeout),d.domLoadTimeout=null);var c=((new Date).getTime()-d.startTime)/1E3,c=c.toFixed(1);d.domReadyTime=c;f(d,"ondomload - adding div",!1);d.width=d.rootDivElem.clientWidth;d.height=d.rootDivElem.clientHeight;d.divElem=a.createElement("div");d.divElem.style.cssText="width:100%; height:100%; display: block; overflow:hidden; position: relative; margin: 0; padding: 0; border: 0; background-color: black; top: 0; left 0;";
d.rootDivElem.appendChild(d.divElem);f(d,"ondomload - creating rotator",!1);Fa(d);d.domReady=!0;Ua(d)}else if(b>d.conf.maxDomLoadTimes)d.domLoadTimeout&&(clearTimeout(d.domLoadTimeout),d.domLoadTimeout=null),K(d,6,"div element not found tlvPlayerDomLoaded: "+d.divId);else{f(d,"domload timeout "+b+" retrying in "+d.conf.domLoadRetryTimeout,!1);d.domLoadTimeout&&(clearTimeout(d.domLoadTimeout),d.domLoadTimeout=null);var e=function(a,d){try{f(a,"domload timeout",!1),a.domLoadTimeout=null,a.domLoadTimeout&&
(clearTimeout(a.domLoadTimeout),a.domLoadTimeout=null),ka(a,d+1)}catch(b){}};d.domLoadTimeout=CEDATO_BROWSER.oldIE?setTimeout(function(){e(d,b)},d.conf.domLoadRetryTimeout):setTimeout(e,d.conf.domLoadRetryTimeout,d,b)}}catch(g){K(d,3,"tlvPlayerDomLoaded gave JS exception: "+g.message,g)}}function Aa(a){if(!a.frozen)if(a.parallelStartAd){for(var b=!0,c=0,e=a.plist.length;c<e;c++)if("1"==a.plist[c].group&&0==a.plist[c].errorCount){b=!1;break}if(b)f(a,"all have errors, not reseting readyForStartAd",
!1);else{f(a,"reseting readyForStartAd",!1);a.readyForStartAd=!1;null!=a.initialStartAd&&(clearTimeout(a.initialStartAd),a.initialStartAd=null);var g=function(a){f(a,"readyForStartAd",!1);a.readyForStartAd=!0;a.initialStartAd=null;D(a)};a.initialStartAd=CEDATO_BROWSER.oldIE?setTimeout(function(){g(a)},12E3):setTimeout(g,12E3,a)}}else a.readyForStartAd=!0}function Na(a,b,c){f(a,"initializing player for vastId "+b.id+", url: "+b.url,!1);var e={videoElement:null,flashElement:null,jsVPAIDElement:null,
jsVPAIDElementDiv:null,initAdEnvObject:null,companionsElementDiv:null,maxFailedVastRetries:0,adType:null,previousAdType:null,firedEvents:{},vastPreferType:0,corsType:null,status:1};e.group=b.group;e.vastURL=b.url;e.vastId=b.id;e.playerId=b.pid?b.pid:a.playerId;b.mvr&&(e.maxFailedVastRetries=b.mvr);b.vt&&(e.vastPreferType=b.vt);b.ct&&(e.corsType=b.ct);b.cxvid&&(e.cxvid=b.cxvid);b.cxpid&&(e.cxpid=b.cxpid);e.fetchesSinceInitPlayer=b.fetchesSinceInitPlayer?b.fetchesSinceInitPlayer:0;e.longStartAd=!!b.lsa;
e.expectedSureFastStart=!!b.sff;e.expectedSureFastStart=!1;e.playersStorageName=a.playersStorageName;e.tlvState=0;e.vpwLoaded=0;e.vpwLoadRetry=0;e.errorCount=0;e.startAdStopper=null;e.startAdHalfStopper=null;e.startAdSwitcher=null;e.playVideoRetry=null;e.requeryTimeout=null;e.initAdThrottler=null;e.vpwWaitFunc=null;e.flashInitialTimeout=null;e.flashLoadCheckInterval=null;a.curUniq++;e.uniqId=a.curUniq;e.roundNo=0;e.freqRetry=a.usejsv;e.isIMA=!1;"undefined"!==typeof c&&c?a.plist.splice(c,0,e):a.plist.push(e);
return e}function Oa(d,b){if(d.flashSupport){if(d.singleVPW)d.flashElementDiv||(d.flashElementDiv=a.createElement("div"),d.flashElementDiv.style.zIndex="1",d.divElem.appendChild(d.flashElementDiv)),b.flashElementDiv=d.flashElementDiv;else{b.flashElementDiv=a.createElement("div");b.flashElementDiv.style.position="absolute";try{b.flashElementDiv.style.top="-1000px"}catch(c){}b.flashElementDiv.style.zIndex="1";d.divElem.appendChild(b.flashElementDiv)}xa(d,b);null===b.flashElement?K(d,4,"failed to create flash element"):
J(d,b,!1)}}function Ra(a){a.jsVPAIDElementDiv&&(a.jsVPAIDElementDiv.style.display="none");try{a.jsVPAIDElement&&(a.jsVPAIDElement.stopAd(),a.jsVPAIDElement.clearAd&&a.jsVPAIDElement.clearAd())}catch(b){}try{a.jsVPAIDElementDiv&&a.jsVPAIDElementDiv.parentNode.removeChild(a.jsVPAIDElementDiv)}catch(b){}a.jsVpaidFrame=null;a.vpaidJsIframeAdElem=null;a.vpaidJsIframeVideo=null;a.vpaidJsIframeVideoCanvas=null;a.jsVPAIDElement=null;a.jsVPAIDElementDiv=null}function S(a,b,c){try{"undefined"===typeof c&&(c=
!1);var e=b.vastId;f(a,"vastId "+b.vastId+" - destroying player data, immediate: "+c,!1);b.destroyMe=!0;for(var g=null,k=0,l=a.plist.length;k<l;k++)if(a.plist[k].destroyMe){g=k;break}if(null===g)return!1;a.plist.splice(g,1);null!=b.flashInitialTimeout&&(clearInterval(b.flashInitialTimeout),b.flashInitialTimeout=null);null!=b.flashLoadCheckInterval&&(clearInterval(b.flashLoadCheckInterval),b.flashLoadCheckInterval=null);null!=b.requeryTimeout&&(clearInterval(b.requeryTimeout),b.requeryTimeout=null);
null!=b.requeryTimeout&&(clearTimeout(b.startAdSwitcher),b.startAdSwitcher=null);null!=b.startAdHalfStopper&&(clearTimeout(b.startAdHalfStopper),b.startAdHalfStopper=null);null!=b.startAdStopper&&(clearTimeout(b.startAdStopper),b.startAdStopper=null);null!=b.sameVastIdLoader&&(clearTimeout(b.sameVastIdLoader),b.sameVastIdLoader=null);null!=b.startAdSwitcher&&(clearTimeout(b.startAdSwitcher),b.startAdSwitcher=null);null!=b.initAdThrottler&&(clearInterval(b.initAdThrottler),b.initAdThrottler=null);
null!==b.playVideoRetry&&(clearInterval(b.playVideoRetry),b.playVideoRetry=null);if(b.videoElement)try{b.videoElement.parentNode.removeChild(b.videoElement)}catch(m){f(a,"ve removeChild gave exception: "+m.message,!1)}"jsvpaid"==b.adType&&Ra(b);if(a.flashSupport)if(a.singleVPW)p=function(a,d){try{b.flashElement[b.flashEICallbacks]("removeVpaid",d)}catch(c){f(a,"flash removeFunc gave exception: "+c.message,!1)}},c?p(a,b.uniqId):CEDATO_BROWSER.oldIE?setTimeout(function(){p(a,b.uniqId)},1E3):setTimeout(p,
1E3,a,b.uniqId);else{b.flashElementDiv&&(b.flashElementDiv.style.zIndex="0");try{if(b.flashElement&&b.flashEICallbacks)b.flashElement[b.flashEICallbacks]("clearAd",b.uniqId)}catch(m){}var p=function(a,b,d){try{CEDATO_SWF.swfobject.removeSWF(d.id)}catch(c){}try{b&&b.parentNode.removeChild(b),b.innerHTML=""}catch(c){f(a,"removeFunc gave exception: "+c.message,!1)}};b.flashElementDiv&&b.flashElement&&(c?p(a,b.flashElementDiv,b.flashElement):CEDATO_BROWSER.oldIE?setTimeout(function(){p(a,b.flashElementDiv,
b.flashElement)},1E3):setTimeout(p,1E3,a,b.flashElementDiv,b.flashElement))}try{b.companionsElementDiv&&(b.companionsElementDiv.parentNode.removeChild(b.companionsElementDiv),b.companionsElementDiv.innerHTML="",b.companionsElementDiv=null)}catch(m){f(a,"remove companions div gave exception: "+m.message,!1)}}catch(m){r(a,e,3,"destroy player data exception: "+m.message,m,b,!1,!1,"destroy player")}}function Ma(a,b){"undefined"===typeof b&&(b=!1);b?f(a,"destroying all players except for vastId "+b,!1):
f(a,"destroying all players",!1);for(var c=!0;c;)for(var c=!1,e=0,g=a.plist.length;e<g;e++)if(a.plist[e].vastId!=b){S(a,a.plist[e],!0);c=!0;break}}function jb(b,c){var g=null;if(c){f(b,"prepare calling flash object",!1);"null"!=c&&(g=-1!=navigator.appName.indexOf("Microsoft")?e[c]:a[c]);if(null==g){for(var k=a.getElementsByTagName("object"),l=0,m=k.length;l<m;l++)if(k[l].connectToJSPlayer){g=k[l];break}if(null==g)for(k=a.getElementsByTagName("embed"),l=0,m=k.length;l<m;l++)if(k[l].connectToJSPlayer){g=
k[l];break}}else f(b,"got connceting clash object from prms",!1);if(null==g)return f(b,"could not identify calling object",!1),!1;if(!g.connectToJSPlayer)return f(b,"flash connect callback not found",!1),!1;b.allowLongImpressions=!0}b.callingFlashObject=g}function Va(a){for(var b=0,c=a.plist.length;b<c;b++)if(6==a.plist[b].tlvState)return a.plist[b];return!1}function Wa(a,b){f(b,a+" resume callback called",!1);var c=Va(b);if(c)if(b.apiInterface.trigger("adplay",{vastId:c.vastId,playerId:b.playerId,
subid:b.subid}),f(b,a+" resume - got playing playerData, vastId: "+c.vastId,!1),"flvpaid"==c.adType){if(c.flashElement)try{c.flashElement[c.flashEICallbacks]("vpwResumeAd",c.uniqId)}catch(e){f(b,a+" resume gave JS exception on flashElement pause: "+e.message)}}else if("jsvpaid"==c.adType)try{c.jsVPAIDElement.resumeAd()}catch(e){f(b,a+" pause gave JS exception on vpaidjs pause: "+e.message)}else{if("video"==c.adType)try{c.videoElement.play()}catch(e){f(b,a+" resume gave JS exception on videoElement pause: "+
e.message)}}else b.autoplay=!0,b.autoplayOverwrite=!0,f(b,a+" resume - no playing playerData",!1),b.contentUrlPlayer&&b.contentUrlPlayer.isVisible()?b.contentUrlPlayer.playContent():(D(b,!0),b.anyPlaying||(b.autoplay=!0,b.autoplayOverwrite=!0),f(b,"vp resume - no playing playerData",!1))}function Xa(a,b){b.apiInterface.trigger("adplay",{vastId:null,playerId:b.playerId,subid:b.subid});b.autoplayOverwrite=!0;b.autoplay=!0;f(b,a+" play callback called",!1);D(b,!0);b.anyPlaying||(b.autoplay=!0)}function Ya(a,
b){b.autoplay=!1;b.autoplayOverwrite=!0;f(b,a+" pause callback called",!1);var c=Va(b);if(c)if(b.apiInterface.trigger("adpause",{vastId:c.vastId,playerId:b.playerId,subid:b.subid}),c.isPaused=!0,f(b,a+" pause - got playing playerData, vastId: "+c.vastId,!1),"flvpaid"==c.adType){if(c.flashElement)try{c.flashElement[c.flashEICallbacks]("vpwPauseAd",c.uniqId)}catch(e){f(b,a+" pause gave JS exception on flashElement pause: "+e.message)}}else if("jsvpaid"==c.adType)try{c.jsVPAIDElement.pauseAd()}catch(e){f(b,
a+" pause gave JS exception on vpaidjs pause: "+e.message)}else{if("video"==c.adType)try{c.videoElement.pause()}catch(e){f(b,a+" pause gave JS exception on videoElement pause: "+e.message)}}else b.contentUrlPlayer&&b.contentUrlPlayer.isVisible()&&b.contentUrlPlayer.pauseContent(),f(b,a+" pause - no playing playerData",!1)}function Za(a,b,c,e){a.width=b;a.height=c;if(a.rootDivElem){a.rootDivElem.style.width=b+"px";a.rootDivElem.style.height=c+"px";for(var f=0,g=a.plist.length;f<g;f++){var k=a.plist[f];
switch(k.adType){case "flvpaid":if(k.flashElement){k.flashElement.width=b;k.flashElement.height=c;try{k.flashElement[k.flashEICallbacks]("vpwResizeAd",k.uniqId,b,c,e)}catch(l){}}break;case "jsvpaid":if(k.jsVPAIDElement&&k.jsVPAIDElement.resizeAd)try{k.jsVPAIDElement.resizeAd(b,c,e)}catch(l){}}}}}function Ga(a,b,c){a.allowSound=0<b;a.contentUrlPlayer&&a.contentUrlPlayer.setVolume(b);for(var e=0,f=a.plist.length;e<f;e++){var g=a.plist[e];switch(g.adType){case "flvpaid":if(g.flashElement&&g.flashEICallbacks)try{g.flashElement[g.flashEICallbacks]("vpwVolume",
g.uniqId,b)}catch(k){}break;case "jsvpaid":if(g.jsVPAIDElement&&g.jsVPAIDElement.resizeAd)try{g.jsVPAIDElement.setAdVolume(b)}catch(k){}break;case "video":"undefined"!==typeof c&&c?g.videoElement.muted=0==b:(g.videoElement.muted=!1,g.videoElement.volume=b)}}}function kb(b){f(b,"post prepare js callbacks",!1);b.vpDebugCallbackFuncName="vpd"+Math.floor(1000001*Math.random());e[b.vpDebugCallbackFuncName]=function(a,b,d,c){try{var h=e[a.playersStorageName||a];if(""!=b)if(d){var g=b.split("\n"),k,l=g.length;
for(k=0;k<l;k++)""!=g[k]&&f(h,"flash: "+g[k],!1)}else f(h,"flash: "+b,!1)}catch(E){}};if("vpaid"==b.mode){b.vpPlayCallbackFuncName="vpp"+Math.floor(1000001*Math.random());e[b.vpPlayCallbackFuncName]=function(a){try{var b=e[a.playersStorageName||a];Xa("vp",b)}catch(d){f(b,"vp play gave JS exception: "+d.message)}};b.vpStopCallbackFuncName="vps"+Math.floor(1000001*Math.random());e[b.vpStopCallbackFuncName]=function(a){try{var b=e[a.playersStorageName||a];f(b,"vp stop callback called",!1);b.autoplay=
!1;b.autoplayOverwrite=!0;O(b,!1);b.vpaidObj.call("jsAdStopped",{},!0)}catch(d){f(b,"vp stop gave JS exception: "+d.message)}};b.vpPauseCallbackFuncName="vpps"+Math.floor(1000001*Math.random());e[b.vpPauseCallbackFuncName]=function(a){try{var b=e[a.playersStorageName||a];b.autoplay=!1;b.autoplayOverwrite=!0;f(b,"vp pause callback called",!1);Ya("vp",b)}catch(d){f(b,"vp pause gave JS exception: "+d.message)}};b.vpResumeCallbackFuncName="vprs"+Math.floor(1000001*Math.random());e[b.vpResumeCallbackFuncName]=
function(a){try{var b=e[a.playersStorageName||a];f(b,"vp pause callback called",!1);Wa("vp",b)}catch(d){f(b,"vp resume gave JS exception: "+d.message)}};b.vpInitAdCallbackFuncName="vpia"+Math.floor(1000001*Math.random());e[b.vpInitAdCallbackFuncName]=function(b){var d=e[b.playersStorageName||b];b=b.slot;var c=d.rootDivElem?d.rootDivElem:a.getElementById(d.divId);c.parentNode.removeChild(c);b.parentNode.style.margin=0;b.parentNode.style.padding=0;b.appendChild(c);d.vpaidObj.call("jsAdReadyToStart",
{},!0)};b.vpSetAdVolumeCallbackFuncName="vpsv"+Math.floor(1000001*Math.random());e[b.vpSetAdVolumeCallbackFuncName]=function(a,b){var d=e[a.playersStorageName||a];b=a.volume||b||0;Ga(d,b,!1);f(d,"vpSetAdVolumeCallbackFuncName called",!1)};b.vpResizeAdCallbackFuncName="vprs"+Math.floor(1000001*Math.random());e[b.vpResizeAdCallbackFuncName]=function(a,b,d,c){var h=e[a.playersStorageName||a];b=a.width||b;d=a.height||d;c=a.viewMode||c;Za(h,b,d,c);f(h,"vpResizeAdCallbackFuncName called",!1)};b.vpExpandAdCallbackFuncName=
"vpex"+Math.floor(1000001*Math.random());e[b.vpExpandAdCallbackFuncName]=function(a){f(e[a.playersStorageName||a],"vpExpandAdCallbackFuncName called",!1)};if("vpaid"==b.mode){var c=a.createElement("div");c.setAttribute("id",b.divId);var g="0";b.callingFlashObject&&(g="-"+b.height);c.setAttribute("style","width:"+b.width+"px;height:"+b.height+"px;position:relative;top:"+g+"px;");if(b.callingFlashObject){f(b,"post prepare calling flash object",!1);b.flashEICallbacks=b.callingFlashObject.connectToJSPlayer(b.playersStorageName,
b.vpPlayCallbackFuncName,b.vpStopCallbackFuncName,b.vpDebugCallbackFuncName,b.vpResizeAdCallbackFuncName,b.vpSetAdVolumeCallbackFuncName,b.vpPauseCallbackFuncName,b.vpResumeCallbackFuncName);if(!b.flashEICallbacks||""===b.flashEICallbacks)return f(b,"flash connect callback returned an error",!1),!1;b.vpaidObj.initObj(b.callingFlashObject,"fl",b.playersStorageName,b.flashEICallbacks);f(b,"js connected to flash successfully",!1);var k=b.callingFlashObject.parentNode||b.callingFlashObject.parentElement;
b.callingFlashObjectParent=k;b.callingFlashObject.nextSibling?k.insertBefore(c,b.callingFlashObject.nextSibling):k.appendChild(c)}else b.jsCallingVpaid&&(g=a.querySelector("body"),g.appendChild(c),b.vpaidObj.register("inInitAd",e[b.vpInitAdCallbackFuncName],this),b.vpaidObj.register("inPlayAd",e[b.vpPlayCallbackFuncName],this),b.vpaidObj.register("inStopAd",e[b.vpStopCallbackFuncName],this),b.vpaidObj.register("inPauseAd",e[b.vpPauseCallbackFuncName],this),b.vpaidObj.register("inResumeAd",e[b.vpResumeCallbackFuncName],
this),b.vpaidObj.register("inSetAdVolume",e[b.vpSetAdVolumeCallbackFuncName],this),b.vpaidObj.register("inResizeAd",e[b.vpResizeAdCallbackFuncName],this),b.vpaidObj.register("inExpandAd",e[b.vpExpandAdCallbackFuncName],this),b.vpaidObj.call("ready",{},!0))}b.rootDivElem=a.getElementById(b.divId);if(b.rootDivElem)return b.width=b.rootDivElem.clientWidth,b.height=b.rootDivElem.clientHeight,b.companionsRootDivElem=a.createElement("div"),b.companionsDivElem=a.createElement("div"),b.companionsDivElem.setAttribute("style",
"width:100%;height:100%;position:relative;top:0px; display: block;"),b.companionsRootDivElem.appendChild(b.companionsDivElem),b.callingFlashObject?k.insertBefore(b.companionsRootDivElem,c):b.jsCallingVpaid&&(g=a.querySelector("body"),g.appendChild(b.companionsRootDivElem)),!0;K(b,6,"div element not found in post calling flash obj: "+b.divId)}}function lb(b){if(b.flashSupport){b.vpwVersion=2;b.vpwURL=b.protocol+"//"+b.conf.sUrl+"/player/"+b.conf.flName+"?v=";Ea(b);b.prevpwDiv=null;b.vpwCached=!0;try{if(b.callingFlashObject)f(b,
"calling flash object present, no pre-vpw needed",!1);else if(a&&a.body){f(b,"appending vpw pre loader",!1);b.vpwCached=!1;b.prevpwDiv=a.createElement("div");a.body.appendChild(b.prevpwDiv);var c="vpwp"+Math.floor(1000001*Math.random());b.prevpwDiv.innerHTML='<object id="'+c+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="1" height="1"><param name="movie" value="'+b.vpwURL+b.vpwVersion+'" /><param name="allowScriptAccess" value="always"></param><param name="allowscriptaccess" value="always"></param>\x3c!--[if !IE]>--\x3e<object type="application/x-shockwave-flash" data="'+
b.vpwURL+b.vpwVersion+'" width="1" height="1">\x3c!--<![endif]--\x3e\x3c!--[if !IE]>--\x3e</object>\x3c!--<![endif]--\x3e</object>';var e=CEDATO_SWF.swfobject.getObjectById(c);e?(b.prevpwPlayerData=[],b.prevpwPlayerData.vastId=0,b.prevpwPlayerData.flashElement=e,b.prevpwPlayerData.flashInitialTimeout=null,b.prevpwPlayerData.flashLoadCheckInterval=null,b.prevpwPlayerData.vpwWaitFunc=null,f(b,"vpw pre loader flash element prepared",!1),Ta(b,b.prevpwPlayerData)):(b.prevpwDiv=null,b.vpwCached=!0,f(b,
"could not get vpw pre loader flash element",!1))}else f(b,"no document.body",!1)}catch(g){}}}function mb(b,c,e){try{e?f(b,"gpv answer from xhr",!1):f(b,"gpv answer from script",!1);b.gpvM="2";e&&(b.gpvM="1");b.gpvReturned=!0;if(e)try{a.getElementsByTagName("head")}catch(g){}else try{b.gsvXHR.abort()}catch(g){}var k=((new Date).getTime()-b.startTime)/1E3,k=k.toFixed(1);b.gpvTime=k;f(b,c,!0);f(b,"initializing players",!1);b.urlReplacer=null;for(var k=e=!1,l=[],m=0,p=c.length;m<p;m++){var n=c[m];if("c"==
n.id)if("d"==n.c)e=!0,Ma(b),Y(b);else{n.tpt&&(b.thirdPartyTimeout=n.tpt);b.vastWaitFactor=1;n.vwf&&(b.vastWaitFactor=n.vwf);b.maxFailedVastRetries=0;n.mvr&&(b.maxFailedVastRetries=n.mvr);n.mas&&(b.maxAdStarts=n.mas);n.sc&&(b.allowSound=n.sc);n.lc&&(b.noContentLoop=!n.lc);n.paf&&(b.adsAfterContent=n.paf,b.adsAfterContent&&!b.autoplayOverwrite&&(b.autoplay=!1));b.debugLogReason=n.sdlr?n.sdlr:"gpv";"1"==n.sdl&&(f(b,"gpv turned sdl on",!1),t(b),b.keepDebugLog=!0);"1"==n.lvr&&(b.logVastResponse=!0);"1"==
n.sdlpe&&(b.submitDebugLogOnPlayerError=!0);"1"==n.sdlve&&(b.submitDebugLogOnVastError=!0);n.vd&&(b.submitDebugLogOnVastDisplayed=n.vd);n.content&&(b.content=n.content);n.ni&&(b.networkId=n.ni);b.autoplayOverwrite||(!1===n.ap?(b.autoplay=!1,b.mainAutoplay=!1):(b.autoplay=!0,b.mainAutoplay=!0));n.rvu&&(b.urlReplacer=[],b.urlReplacer.vastId=n.rvu.v,b.urlReplacer.searchFor=n.rvu.s,b.urlReplacer.replaceWith=n.rvu.r,b.vpwURL&&(b.vpwURL=b.vpwURL.replace("v=","edl=2&v=")));n.ho&&1==n.ho&&(b.flashSupport=
!1);b.allowSound=n.as?n.as:!1;b.controlBar=n.co?n.co:!1;n.content?(b.content.url=n.content.url,b.content.loader_image_url=n.content.loader_image_url,b.content.type=n.content.type,b.content.loop=!!(1*n.content.cl),b.content.click=n.content.click,b.content.playFull=!!(1*n.content.cpf),b.content.autoplay=n.ap,b.content.playFull&&!b.autoplayOverwrite&&(b.autoplay=!1)):(b.content.url="",b.content.loader_image_url="",b.content.type=0,b.content.loop=!0,b.content.click="",b.content.playFull=!1,b.autoplayOverwrite||
(b.content.autoplay=!0,!1===n.ap&&(b.content.autoplay=!1)));n.is&&z(n.is,b);for(var r=0,u=b.initOverrides.length;r<u;r++)switch(b.initOverrides[r].name){case "autoplay":b.autoplay=b.initOverrides[r].value;break;case "contentUrl":b.content.type=1;b.content.url=b.initOverrides[r].value;break;case "contentClickUrl":b.content.click=b.initOverrides[r].value;break;case "rotate":b.content.maxAdStarts=b.initOverrides[r].value;break;case "allowSound":b.allowSound=b.initOverrides[r].value}}else if("d"==n.c){for(var v=
n.id,w=[],r=0,u=b.plist.length;r<u;r++)b.plist[r].vastId==v&&w.push(b.plist[r]);b.anyPlaying=0<w.length?!0:b.anyPlaying;r=0;for(u=w.length;r<u;r++)S(b,w[r],!0),b.anyPlaying=b.anyPlaying&&X(b,w[r]);e=!0;k=k||0<w.length}else l.push(Na(b,n))}if(e)k&&D(b);else if(Aa(b),"single"==b.mode){b.domLoadTimeout=null;CEDATO_SWF.swfobject.addDomLoadEvent(function(){try{b.domLoadTimeout&&(clearTimeout(b.domLoadTimeout),b.domLoadTimeout=null),ka(b,1)}catch(a){K(b,3,"ondomload gave JS exception: "+a.message,a),f(b,
"ondomload gave JS exception: "+a.message,!1)}});var x=function(a){try{f(a,"domload timeout",!1),a.domLoadTimeout&&(clearTimeout(a.domLoadTimeout),a.domLoadTimeout=null),ka(a,1)}catch(b){}};b.domLoadTimeout=CEDATO_BROWSER.oldIE?setTimeout(function(){x(b)},b.conf.domLoadInitTimeout):setTimeout(x,b.conf.domLoadInitTimeout,b)}else b.domLoadTimeout=CEDATO_BROWSER.oldIE?setTimeout(function(){ka(b,1)},0):setTimeout(ka,0,b,1);f(b,"initiating fetch",!1);r=0;for(u=l.length;r<u;r++){var A=l[r].playerId;q(l[r])&&
null==b.cedatoxPlayersToFetchesCount[A]&&(b.cedatoxPlayersToFetchesCount[A]=0);CEDATO_BROWSER.oldIE?setTimeout(function(){pa(l[r])},50*r):setTimeout(pa,50*r,l[r])}}catch(g){K(b,3,"gpv gave JS exception: "+g.message,g)}}function $a(a){try{e&&(e.onerror=function(a,b,d,e,g){try{-1!==b.indexOf("algovid")&&f(c,"Unhandeled exception "+a+" == "+b+" == "+d,!1)}catch(h){}});var b=0,c={},k=g(a,!0);if(k.p&&k.sid){var l=k.p,m=[];m.push(l);-1!==l.indexOf(",")&&(m=l.split(","),l=m[0]);var n;k.d&&(n=k.d);var p=
(new Date).getTime(),q=k.sid,r;r=k.did?k.did:k.cb?"video"+l+k.cb:"video"+l;var t="102.69";k.pv?t=k.pv:k.playerVersion&&(t=k.playerVersion);var u="s8.algovid.com";k.mid&&(u=k.mid);var w=!1,x=!1;2==k.cnl&&(w=!0);3==k.cnl&&(x=w=!0);var z=!1;1==k.sv&&(z=!0);var A=!0;0==k.ap&&(A=!1);var B=!1;!B&&Da();2==k.sdl&&(B=!0);var C;C=k.se?k.se:gb();var D=300,G=250;isNaN(k.w)||(D=k.w);isNaN(k.h)||(G=k.h);var H=!1;1==k.lvr&&(H=!0);var I=!1,F,y=[];1==k.app&&(I=!0);var L=!1;k.tpt&&(L=k.tpt);var M={d:!0,sid:!0,did:!0,
p:!0,cb:!0,playerVersion:!0,mid:!0,cnl:!0,sv:!0,ap:!0,sdl:!0,se:!0,w:!0,h:!0,lvr:!0,app:!0,jsv:!0,ob:!0,pv:!0};if(I){var J="appsu appidfa appv appn appb appc appaid".split(" ");for(F in J)J.hasOwnProperty(F)&&(M[J[F]]=!0,k[J[F]]&&y.push(J[F]+"="+encodeURIComponent(k[J[F]])));!k.d&&k.appn&&(n="app://"+encodeURIComponent(k.appn))}F=!1;if(1==k.jsv||I)F=!0;var O=k.ob,P=k.job,J=!1;k.hasOwnProperty("muted")&&"0"==k.muted&&(J=!0);var T=!1;k.mas&&(T=k.mas);var R=!1;k.ho&&"1"==k.ho&&(R=!0);var V=!1,S="",Q;
for(Q in k)isNaN(Q)&&!M[Q]&&k.hasOwnProperty(Q)&&(S=S+"&"+Q+"="+k[Q]);try{var W=function(a){var b={p:m.join(","),cb:p,d:c.domain,sid:q,pv:t,w:D,h:G,f:Y,dd:ba,vs:aa,sa:c.detect,extra:S};if(c.plist.length){b.av=[];for(var d=0,e=c.plist.length;d<e;d++)-1===b.av.indexOf(c.plist[d].vastId)&&b.av.push(c.plist[d].vastId);b.av=b.av.join(",")}b=CEDATO_URLUTILS.buildUrl(c.protocol+"//"+c.machineId+"/player/gpv?",b);try{CEDATO_HTTP.GetPlayerVast({url:b,retryInterval:1E4,preferredMethod:a,retries:2,success:function(a,
b,c){mb(a,b,c===CEDATO_HTTP.USE_AJAX);setTimeout(function(){!0===a.autoplay&&W(c)},ca)},externals:{players:c,debugLog:f,playerError:K}})}catch(g){K(c,3,"init stage GetPlayerVast gave JS exception: "+g.message,g)}};c.playerId=l;c.subid=q;c.domain=n;c.sessionId=C;c.anyAdPlayed=!1;c.startTime=(new Date).getTime();c.fpwReadyTime=null;c.scheduledPixelSent=!1;c.width=D;c.height=G;c.domReady=!1;c.domReadyTime=!1;c.anyPlaying=!1;c.divId=r;c.playerVersion=t;c.machineId=u;c.parallelStartAd=!0;c.usejsv=!1;c.gpvAttempt=
0;c.autoplayOverwrite=!1;c.delayedFetch={};c.delayedFetch.queue=[];c.delayedFetch.timer=null;c.vpPlayCallbackFuncName=null;c.vpStopCallbackFuncName=null;c.vpDebugCallbackFuncName=null;c.vpResizeCallbackFuncName=null;c.vpVolumeCallbackFuncName=null;O||(c.info=CEDATO_DEVICE.getDeviceInfo());c.initialStartAd=null;c.curUniq=0;c.logVastResponse=H;c.singleVPW=z;c.autoplay=A;c.allowLongImpressions=!1;c.reportVPWStateInterval=null;c.allowSound=J;c.adsAfterContent=!1;c.maxAdStarts=T;c.curAdStarts=0;c.noContentLoop=
!1;c.gpvM="0";c.vpwCached=!0;c.mode="single";c.cedatoxPlayersToFetchesCount={};c.conf={};c.conf.flName="cedato_vpw_ima_101.78.swf";c.conf.sUrl="c.algovid.com";c.conf.pJsvUrl=c.conf.sUrl+"/player/jsv_pure.js";c.conf.mUrl="mc.algovid.com";c.conf.maxDomLoadTimes=60;c.conf.domLoadRetryTimeout=200;c.conf.domLoadInitTimeout=500;c.conf.content={};c.conf.content.defaultLoader="//"+c.conf.sUrl+"/player/spinner.gif";c.conf.content.playButton="//"+c.conf.sUrl+"/player/play_button_gr.png";c.content={};if(w||
B)c.debugLogReason="tag";c.submitDebugLogOnPlayerError=!1;c.submitDebugLogOnVastError=!1;c.submitDebugLogOnVastDisplayed=!1;c.thirdPartyTimeout=L;c.plist=[];c.protocol=CEDATO_URLUTILS.getProtocol(c.domain);c.detect=CEDATO_DETECT_UTILS.getStatsParam(c);b=1;v(c,w,B,x,!1);f(c,"Tag: "+a,!1);f(c,"player initialized. player version: "+c.playerVersion+", playerId: "+l+", subid: "+c.subid+", domain: "+c.domain+", singleVPW: "+c.singleVPW+", autoplay: "+c.autoplay+", width: "+c.width+", height: "+c.height,
!1);f(c,"ua: "+e.navigator.userAgent,!1);c.domainDetected=CEDATO_URLUTILS.getDetectedDomain();f(c,"domain detected: "+c.domainDetected,!1);c.domain?f(c,"domain received in param: "+c.domain,!1):(c.domain=c.domainDetected,f(c,"using detected domain: "+c.domain,!1));c.hasVideoSupport=!0;CEDATO_BROWSER.oldIE&&(f(c,"old ie",!1),9>CEDATO_BROWSER.msie.version&&(f(c,"no video support",!1),c.hasVideoSupport=!1));c.hasVideoSupport&&!CEDATO_BROWSER.supportsVideo()&&(f(c,"no video support using test",!1),c.hasVideoSupport=
!1);c.info?f(c,"get device info returned mobile: "+c.info.mobile+", os: "+c.info.os+", osv: "+c.info.osv+", make: "+c.info.make+", model: "+c.info.model,!1):f(c,"get device info failed",!1);q||K(c,6,"subid not defined");r||K(c,6,"divId not defined");l||K(c,6,"playerId not defined");b=2;c.playersStorageName="tlvp"+Math.floor(1000001*Math.random());e[c.playersStorageName]=c;if(O||P)c.mode="vpaid",c.vpaidObj=CEDATO_VPAID_OBJ.getVpaid(),c.autoplay=!1,c.autoplayOverwrite=!0;P&&(c.jsCallingVpaid=P,c.vpaidObj.initObj(P,
"js",c.playersStorageName));c.detect=CEDATO_DETECT_UTILS.getStatsParam(c);b=15;jb(c,O);n=encodeURIComponent(n);b=3;b=41;CEDATO_ES5.include();b=42;c.DMVAST=DMVAST;c.flashSupport=!1;F&&(c.flashSupport=!1,c.info.mobile=!0,c.usejsv=!0);b=5;if(O)c.flashSupport=!0;else{var Z=sandblaster.detect();if(CEDATO_URLUTILS.isFileProtocol()||Z.sandboxed)c.flashSupport=!1,R=!0;c.flashSupport=c.usejsv||c.info&&c.info.mobile||R?!1:CEDATO_SWF.swfobject.hasFlashPlayerVersion("10.0.1")}CEDATO_EVENT_LOGGER.log(CEDATO_EVENT_LOGGER.E_START,
c,{},{},f);V=!0;c.info&&!c.info.mobile&&5==Math.floor(100*Math.random())&&(c.reportVPWLoaded=!0);if(c.flashSupport)hb(c);else if(c.usejsv||c.info&&c.info.mobile||R)c.usejsv=c.info.mobile,c.usejsv&&f(c,"using jsv",!1),c.parallelStartAd=!1;else{if(CEDATO_SWF.swfobject.hasFlashPlayerVersion("6.0.0")){k=a="";try{a=navigator.userAgent(),k=CEDATO_SWF.swfobject.getFlashPlayerVersion()}catch(da){}K(c,2,"noflash old ver "+k+": "+a)}c.reportVPWLoaded&&CEDATO_EVENT_LOGGER.log(CEDATO_EVENT_LOGGER.E_VPWS,c,{state:3},
{},f)}b=52;if(c.usejsv){f(c,"jsv loaded",!1);try{CEDATO_JSV.include()}catch(da){}c.hasVideoSupport=!0}b=53;lb(c);b=54;kb(c);b=55;b=6;f(c,"calling gpv",!1);if(I){var X=y.join("&");X&&(S="&"+X)}c.gpvReturned=!1;var Y;Y=c.flashSupport?"1":"0";var aa;aa=c.hasVideoSupport?"1":"0";var ba="";c.domainDetected!==c.domain&&(ba=encodeURIComponent(c.domainDetected));var b=56,ca=6E5;W(CEDATO_HTTP.USE_JSONP_AND_AJAX);b=57;c.apiInterface=CEDATO_API.registerPlayer(r);c.initOverrides=[];c.apiInterface.on("_pause",
function(){c.autoplay=!1;Ya("api",c)}).on("_play",function(){c.contentUrlPlayer&&c.contentUrlPlayer.isVisible()?(c.autoplay=!0,c.contentUrlPlayer.playContent()):c.anyPlaying?Wa("api",c):Xa("api",c)}).on("_overrideInit",function(a){a=a.data;"undefined"!=typeof a.autoplay&&c.initOverrides.push({name:"autoplay",value:!!a.autoplay});"undefined"!=typeof a.contentUrl&&c.initOverrides.push({name:"contentUrl",value:String(a.contentUrl)});"undefined"!=typeof a.contentClickUrl&&c.initOverrides.push({name:"contentClickUrl",
value:String(a.contentClickUrl)});"undefined"!=typeof a.rotate&&c.initOverrides.push({name:"rotate",value:Number(a.rotate)});"undefined"!=typeof a.allowSound&&c.initOverrides.push({name:"allowSound",value:!!a.allowSound})}).on("_sound",function(a){a=a.data;switch(typeof a){case "boolean":Ga(c,a?1:0,!0);break;case "number":0<=a&&1>=a&&Ga(c,a,!0)}}).on("_resize",function(a){Za(c,a.data.width,a.data.height,"normal")})}catch(da){K(c,3,"init stage "+b+" gave JS exception: "+da.message,da)}}}catch(da){c.playerId||
(c.playerId="0"),c.machineId||(c.machineId="s8.algovid.com"),c.subid||(c.subid=""),c.playerVersion||(c.playerVersion="102.69"),c.sessionId||(c.sessionId=""),0===b&&v(c,!1,!1,!1,!1),K(c,3,"init error  gave JS exception: "+encodeURIComponent(da.message),da),V||CEDATO_EVENT_LOGGER.log(CEDATO_EVENT_LOGGER.E_START,c,{},{},f)}}function ab(a){if(!a)return!1;a=a||"";return{algovid:a.indexOf("algovid"),tlvmedia:a.indexOf("tlvmedia"),cedatoplayer:a.indexOf("cedato_player")}}var Ca=function(){function a(){}
a.xhr=function(){return CEDATO_BROWSER.createXMLHTTPObject()};a.supported=function(){return!!this.xhr()};a.get=function(b,c,e){var g=c.players;c=c.playerData;CEDATO_HTTP.FetchVastService.get({vastId:c.vastId,url:b,flashSupport:g.flashSupport,exceptionHeaders:[],onNonRetry:function(a,b){},externals:{players:g,playerData:c,fixURLPrm:l,debugLog:f,vastError:r,cb:e,vastURLHandler:a,vpwException:T}})};return a}(),Z="",la={},L;try{Z=CEDATO_URLUTILS.ScriptPath(),la=g(Z,!0)}catch(d){Z=""}L=null;L=ab(Z);if(!L||
(-1===L.algovid||18<L.algovid)&&(-1===L.tlvmedia||18<L.tlvmedia)&&-1===L.cedatoplayer||!la.p){var ya,za;try{za=a.getElementsByTagName("script"),ya=za.length}catch(d){ya=0,za=[]}if(0<ya){for(var Ha=ya-1;0<=Ha&&(Z=za[Ha].src,L=null,!(L=ab(Z))||-1===L.algovid&&-1===L.tlvmedia&&-1===L.cedatoplayer);--Ha);la=g(Z,!0)}}la.ob||la.job||$a(Z);e.viddspPlayerInit=$a})(window,document);

