(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){'use strict';(function(global){"use strict";var Adblock=require('./modules/adblock');var GAnalytics=require('./modules/ganalytics');var Storage=require('./modules/localStorage');var XHR=require('./modules/xhr');var platform=require('platform');var _=require('./modules/object');var CONST=require('./modules/const');var _timeout=500;var API=function API(){this.adblockURL=formatURL('112038398dc590fd910f04439eba2dc2.ovh/'+getRandomHoneyPot(["advertisement","advertisingbanner","advertlayer","advertserve"])+'.js');this.whitelistURL='https://static.criteo.net/js/px.js?ch=1';this.tagChance=100;};API.prototype={initialize:function APIconstructor(options){options=options||{};var _trigger=this.trigger.bind(this);var _get=this.getTagData.bind(this);var _adblockUrl=this.adblockURL;var _whiteListUrl=this.whitelistURL;var _tagChance=this.tagChance;if(platform.os.family=='iOS'&&platform.name=='Safari'){_adblockUrl='https://cas.criteo.com/delivery/ajs.php?zoneid=&nodis=1';}
function triggerEvents(value,key){Adblock.test(_adblockUrl,_whiteListUrl);onLoad(function successLoadPage(event){if(shouldSendTagData(_tagChance)){_trigger(_get({id:value,value:Adblock.status(),type:"AdBlock"}));if(GAnalytics.exist()){_trigger(_get({id:value,value:GAnalytics.blocked(),type:"GAnalytics"}));}}});}
Storage.getItem("user",triggerEvents,function createItem(value,key){value=generateUniqueID();Storage.setItem(key,value);triggerEvents(value,key);});},getTagData:function fetchTag(data,success){data=_.extend(data,{"os":platform.os.family,"os_version":platform.os.version,"url":global.location.href,"browser":platform.name,"browser_version":platform.version,"product":platform.product});if(success&&"function"===typeof success){success.call(this,data);return;}
return data;},trigger:function triggerAdbackEvent(data){XHR({url:formatURL("112038398dc590fd910f04439eba2dc2.ovh/aisle"),method:"POST",data:data});}};function shouldSendTagData(tagChance){tagChance=tagChance||100;var random=~~(Math.random()*100)+1;return random<=tagChance;}
function getRandomHoneyPot(array){array=array||[];var random=Math.random()*(array.length-1);return array[Math.round(random)];}
function formatURL(url){return[location.protocol,url].join("//");}
function generateUniqueID(){function s4(){return Math.floor((1+Math.random())*0x10000).toString(16).substring(1);}
return s4()+s4()+s4();}
function onLoad(callback,args){var eventFunction=function eventFunction(){setTimeout(function(){if(!args){args=[];}
callback.apply(window,args);},_timeout);};if(document.readyState==='complete'){eventFunction();}else{if(window.addEventListener){window.addEventListener('load',eventFunction,_timeout);}else{window.attachEvent("onload",eventFunction);}}}
global.adback={};global.adback["API"]=API;})(window);},{"./modules/adblock":2,"./modules/const":3,"./modules/ganalytics":4,"./modules/localStorage":5,"./modules/object":6,"./modules/xhr":7,"platform":8}],2:[function(require,module,exports){'use strict';(function(){"use strict";module.exports=(function(){var loaded;var whiteListed;var testAdBlock=function testAdBlock(a,d,b){var s,r,t;r=0;s=d.createElement('script');s.src=a;s.async=1;s.onload=s.onreadystatechange=function(){if(!r&&(!this.readyState||this.readyState=='complete')){r=1;b();}};t=d.getElementsByTagName('script')[0];t.parentNode.insertBefore(s,t);};return{test:function createTestScript(adBlockUrl,whiteListUrl){loaded=false;whiteListed=false;testAdBlock(adBlockUrl,document,function(){loaded=true;});testAdBlock(whiteListUrl,document,function(){whiteListed=true;});},callback:function callback(fn){testAdBlock=fn;},status:function getAdvertisement(){var result;if(loaded){result=0;}else if(whiteListed){result=2;}else{result=1;}
return result;}};})();})();},{}],3:[function(require,module,exports){"use strict";(function(){"use strict";var MODEL={"id":"string","os":"string","url":"string","browser":"string","value":"boolean","type":"string","site":"string"};var OPTIONAL={"os_version":"string","browser_version":"string","product":"string"};module.exports={MODEL:MODEL,OPTIONAL:OPTIONAL};})();},{}],4:[function(require,module,exports){'use strict';(function(){"use strict";function getAnalytics(){return'undefined'!==typeof window.ga?window.ga:false;}
function testGAnalytics(){var exist=getAnalytics();if(exist){return!!!('undefined'===typeof window.ga.create);}}
module.exports={exist:getAnalytics,blocked:testGAnalytics,setDimension:function setCustomParam(id,value){var _ga=getAnalytics();if(id&&_ga){_ga('set','dimension'+id,value);}}};})();},{}],5:[function(require,module,exports){"use strict";if(!window.localStorage){window.localStorage={getItem:function getItem(sKey){if(!sKey||!this.hasOwnProperty(sKey)){return null;}
return unescape(document.cookie.replace(new RegExp("(?:^|.*;\\s*)"+escape(sKey).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*"),"$1"));},key:function key(nKeyId){return unescape(document.cookie.replace(/\s*\=(?:.(?!;))*$/,"").split(/\s*\=(?:[^;](?!;))*[^;]?;\s*/)[nKeyId]);},setItem:function setItem(sKey,sValue){if(!sKey){return;}
document.cookie=escape(sKey)+"="+escape(sValue)+"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/";this.length=document.cookie.match(/\=/g).length;},length:0,removeItem:function removeItem(sKey){if(!sKey||!this.hasOwnProperty(sKey)){return;}
document.cookie=escape(sKey)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/";this.length--;},hasOwnProperty:function hasOwnProperty(sKey){return new RegExp("(?:^|;\\s*)"+escape(sKey).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie);}};window.localStorage.length=(document.cookie.match(/\=/g)||window.localStorage).length;}
var Storage={__prefix:"(AdBack)",getKey:function getStorageKey(id){return this.__prefix+id;},getItem:function getStoreValue(key,success,error){var _key=this.getKey(key);var success=success||function(value,key){return value,key;};var error=error||function(value,key){return value,key;};var value=localStorage.getItem(_key);return null===value?error.call(this,undefined,key):success.call(this,value,key);},setItem:function setStoreValue(key,value){var _key=this.getKey(key);localStorage.setItem(_key,value);},removeItem:function removeStoreValue(key){var _key=this.getKey(key);localStorage.removeItem(_key);}};module.exports=Storage;},{}],6:[function(require,module,exports){"use strict";(function(){"use strict";var extend=function extend(defaults,options){var extended={};var prop;for(prop in defaults){if(Object.prototype.hasOwnProperty.call(defaults,prop)){extended[prop]=defaults[prop];}}
for(prop in options){if(Object.prototype.hasOwnProperty.call(options,prop)){extended[prop]=options[prop];}}
return extended;};module.exports={extend:extend};})();},{}],7:[function(require,module,exports){"use strict";(function(){"use strict";var PARAMS={method:"GET",dataType:'json'};function getXHRObject(){var xhr=new XMLHttpRequest();if("withCredentials"in xhr){return xhr;}
if(typeof XDomainRequest!="undefined"){return new XDomainRequest();}
return;}
function getSettings(params){var params=params||{};var url=params.url||PARAMS.url;var method=params.method||PARAMS.method;var callback={complete:function onComplete(event){},success:function onSuccess(event){},error:function onError(event){}};if(params.complete){callback.complete=params.complete;delete params.complete;}
if(params.success){callback.success=params.success;delete params.success;}
if(params.error){callback.error=params.error;delete params.error;}
return{url:url,method:method,callback:callback};}
function createRequest(params){var method,url,options;var xhr=getXHRObject();if(xhr){options=getSettings(params);xhr.open(options.method,options.url,true);if(xhr.setRequestHeader){xhr.setRequestHeader("Content-Type","application/json");}
xhr.onload=function(event){options.callback.complete.call(xhr,xhr.responseText);var _isSuccess=xhr.status>=200&&xhr.status<300||xhr.status==304||xhr.status==0&&protocol=='file:';var _method=_isSuccess?"success":"error";options.callback[_method].call(xhr,xhr.response);};xhr.onerror=function(){options.callback.complete.call(xhr,xhr.responseText);options.callback.error.call(xhr,xhr.response);};}
return xhr;}
function sendRequest(params){var data=null;if(params.data){data=params.data;delete params.data;}
var request=createRequest(params);if(request){request.send(JSON.stringify(data));}};module.exports=sendRequest;})();},{}],8:[function(require,module,exports){(function(global){
/*!
 * Platform.js v1.3.1 <http://mths.be/platform>
 * Copyright 2014-2016 Benjamin Tan <https://d10.github.io/>
 * Copyright 2011-2013 John-David Dalton <http://allyoucanleet.com/>
 * Available under MIT license <http://mths.be/mit>
 */;(function(){'use strict';var objectTypes={'function':true,'object':true};var root=(objectTypes[typeof window]&&window)||this;var oldRoot=root;var freeExports=objectTypes[typeof exports]&&exports;var freeModule=objectTypes[typeof module]&&module&&!module.nodeType&&module;var freeGlobal=freeExports&&freeModule&&typeof global=='object'&&global;if(freeGlobal&&(freeGlobal.global===freeGlobal||freeGlobal.window===freeGlobal||freeGlobal.self===freeGlobal)){root=freeGlobal;}
var maxSafeInteger=Math.pow(2,53)-1;var reOpera=/\bOpera/;var thisBinding=this;var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;var toString=objectProto.toString;function capitalize(string){string=String(string);return string.charAt(0).toUpperCase()+string.slice(1);}
function cleanupOS(os,pattern,label){var data={'6.4':'10','6.3':'8.1','6.2':'8','6.1':'Server 2008 R2 / 7','6.0':'Server 2008 / Vista','5.2':'Server 2003 / XP 64-bit','5.1':'XP','5.01':'2000 SP1','5.0':'2000','4.0':'NT','4.90':'ME'};if(pattern&&label&&/^Win/i.test(os)&&(data=data[0,/[\d.]+$/.exec(os)])){os='Windows '+data;}
os=String(os);if(pattern&&label){os=os.replace(RegExp(pattern,'i'),label);}
os=format(os.replace(/ ce$/i,' CE').replace(/\bhpw/i,'web').replace(/\bMacintosh\b/,'Mac OS').replace(/_PowerPC\b/i,' OS').replace(/\b(OS X) [^ \d]+/i,'$1').replace(/\bMac (OS X)\b/,'$1').replace(/\/(\d)/,' $1').replace(/_/g,'.').replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,'').replace(/\bx86\.64\b/gi,'x86_64').replace(/\b(Windows Phone) OS\b/,'$1').split(' on ')[0]);return os;}
function each(object,callback){var index=-1,length=object?object.length:0;if(typeof length=='number'&&length>-1&&length<=maxSafeInteger){while(++index<length){callback(object[index],index,object);}}else{forOwn(object,callback);}}
function format(string){string=trim(string);return /^(?:webOS|i(?:OS|P))/.test(string)?string:capitalize(string);}
function forOwn(object,callback){for(var key in object){if(hasOwnProperty.call(object,key)){callback(object[key],key,object);}}}
function getClassOf(value){return value==null?capitalize(value):toString.call(value).slice(8,-1);}
function isHostType(object,property){var type=object!=null?typeof object[property]:'number';return!/^(?:boolean|number|string|undefined)$/.test(type)&&(type=='object'?!!object[property]:true);}
function qualify(string){return String(string).replace(/([ -])(?!$)/g,'$1?');}
function reduce(array,callback){var accumulator=null;each(array,function(value,index){accumulator=callback(accumulator,value,index,array);});return accumulator;}
function trim(string){return String(string).replace(/^ +| +$/g,'');}
function parse(ua){var context=root;var isCustomContext=ua&&typeof ua=='object'&&getClassOf(ua)!='String';if(isCustomContext){context=ua;ua=null;}
var nav=context.navigator||{};var userAgent=nav.userAgent||'';ua||(ua=userAgent);var isModuleScope=isCustomContext||thisBinding==oldRoot;var likeChrome=isCustomContext?!!nav.likeChrome:/\bChrome\b/.test(ua)&&!/internal|\n/i.test(toString.toString());var objectClass='Object',airRuntimeClass=isCustomContext?objectClass:'ScriptBridgingProxyObject',enviroClass=isCustomContext?objectClass:'Environment',javaClass=(isCustomContext&&context.java)?'JavaPackage':getClassOf(context.java),phantomClass=isCustomContext?objectClass:'RuntimeObject';var java=/\bJava/.test(javaClass)&&context.java;var rhino=java&&getClassOf(context.environment)==enviroClass;var alpha=java?'a':'\u03b1';var beta=java?'b':'\u03b2';var doc=context.document||{};var opera=context.operamini||context.opera;var operaClass=reOpera.test(operaClass=(isCustomContext&&opera)?opera['[[Class]]']:getClassOf(opera))?operaClass:(opera=null);var data;var arch=ua;var description=[];var prerelease=null;var useFeatures=ua==userAgent;var version=useFeatures&&opera&&typeof opera.version=='function'&&opera.version();var isSpecialCasedOS;var layout=getLayout(['Trident',{'label':'WebKit','pattern':'AppleWebKit'},'iCab','Presto','NetFront','Tasman','KHTML','Gecko']);var name=getName(['Adobe AIR','Arora','Avant Browser','Breach','Camino','Epiphany','Fennec','Flock','Galeon','GreenBrowser','iCab','Iceweasel',{'label':'SRWare Iron','pattern':'Iron'},'K-Meleon','Konqueror','Lunascape','Maxthon','Midori','Nook Browser','PhantomJS','Raven','Rekonq','RockMelt','SeaMonkey',{'label':'Silk','pattern':'(?:Cloud9|Silk-Accelerated)'},'Sleipnir','SlimBrowser','Sunrise','Swiftfox','WebPositive','Opera Mini',{'label':'Opera Mini','pattern':'OPiOS'},'Opera',{'label':'Opera','pattern':'OPR'},'Chrome',{'label':'Chrome Mobile','pattern':'(?:CriOS|CrMo)'},{'label':'Firefox','pattern':'(?:Firefox|Minefield)'},{'label':'IE','pattern':'IEMobile'},{'label':'IE','pattern':'MSIE'},'Safari']);var product=getProduct([{'label':'BlackBerry','pattern':'BB10'},'BlackBerry',{'label':'Galaxy S','pattern':'GT-I9000'},{'label':'Galaxy S2','pattern':'GT-I9100'},{'label':'Galaxy S3','pattern':'GT-I9300'},{'label':'Galaxy S4','pattern':'GT-I9500'},'Google TV','Lumia','iPad','iPod','iPhone','Kindle',{'label':'Kindle Fire','pattern':'(?:Cloud9|Silk-Accelerated)'},'Nook','PlayBook','PlayStation 4','PlayStation 3','PlayStation Vita','TouchPad','Transformer',{'label':'Wii U','pattern':'WiiU'},'Wii','Xbox One',{'label':'Xbox 360','pattern':'Xbox'},'Xoom']);var manufacturer=getManufacturer({'Apple':{'iPad':1,'iPhone':1,'iPod':1},'Amazon':{'Kindle':1,'Kindle Fire':1},'Asus':{'Transformer':1},'Barnes & Noble':{'Nook':1},'BlackBerry':{'PlayBook':1},'Google':{'Google TV':1},'HP':{'TouchPad':1},'HTC':{},'LG':{},'Microsoft':{'Xbox':1,'Xbox One':1},'Motorola':{'Xoom':1},'Nintendo':{'Wii U':1,'Wii':1},'Nokia':{'Lumia':1},'Samsung':{'Galaxy S':1,'Galaxy S2':1,'Galaxy S3':1,'Galaxy S4':1},'Sony':{'PlayStation 4':1,'PlayStation 3':1,'PlayStation Vita':1}});var os=getOS(['Windows Phone ','Android','CentOS','Debian','Fedora','FreeBSD','Gentoo','Haiku','Kubuntu','Linux Mint','Red Hat','SuSE','Ubuntu','Xubuntu','Cygwin','Symbian OS','hpwOS','webOS ','webOS','Tablet OS','Linux','Mac OS X','Macintosh','Mac','Windows 98;','Windows ']);function getLayout(guesses){return reduce(guesses,function(result,guess){return result||RegExp('\\b'+(guess.pattern||qualify(guess))+'\\b','i').exec(ua)&&(guess.label||guess);});}
function getManufacturer(guesses){return reduce(guesses,function(result,value,key){return result||(value[product]||value[0,/^[a-z]+(?: +[a-z]+\b)*/i.exec(product)]||RegExp('\\b'+qualify(key)+'(?:\\b|\\w*\\d)','i').exec(ua))&&key;});}
function getName(guesses){return reduce(guesses,function(result,guess){return result||RegExp('\\b'+(guess.pattern||qualify(guess))+'\\b','i').exec(ua)&&(guess.label||guess);});}
function getOS(guesses){return reduce(guesses,function(result,guess){var pattern=guess.pattern||qualify(guess);if(!result&&(result=RegExp('\\b'+pattern+'(?:/[\\d.]+|[ \\w.]*)','i').exec(ua))){result=cleanupOS(result,pattern,guess.label||guess);}
return result;});}
function getProduct(guesses){return reduce(guesses,function(result,guess){var pattern=guess.pattern||qualify(guess);if(!result&&(result=RegExp('\\b'+pattern+' *\\d+[.\\w_]*','i').exec(ua)||RegExp('\\b'+pattern+'(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)','i').exec(ua))){if((result=String((guess.label&&!RegExp(pattern,'i').test(guess.label))?guess.label:result).split('/'))[1]&&!/[\d.]+/.test(result[0])){result[0]+=' '+result[1];}
guess=guess.label||guess;result=format(result[0].replace(RegExp(pattern,'i'),guess).replace(RegExp('; *(?:'+guess+'[_-])?','i'),' ').replace(RegExp('('+guess+')[-_.]?(\\w)','i'),'$1 $2'));}
return result;});}
function getVersion(patterns){return reduce(patterns,function(result,pattern){return result||(RegExp(pattern+'(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)','i').exec(ua)||0)[1]||null;});}
function toStringPlatform(){return this.description||'';}
layout&&(layout=[layout]);if(manufacturer&&!product){product=getProduct([manufacturer]);}
if((data=/\bGoogle TV\b/.exec(product))){product=data[0];}
if(/\bSimulator\b/i.test(ua)){product=(product?product+' ':'')+'Simulator';}
if(name=='Opera Mini'&&/\bOPiOS\b/.test(ua)){description.push('running in Turbo/Uncompressed mode');}
if(/^iP/.test(product)){name||(name='Safari');os='iOS'+((data=/ OS ([\d_]+)/i.exec(ua))?' '+data[1].replace(/_/g,'.'):'');}
else if(name=='Konqueror'&&!/buntu/i.test(os)){os='Kubuntu';}
else if(manufacturer&&manufacturer!='Google'&&((/Chrome/.test(name)&&!/\bMobile Safari\b/i.test(ua))||/\bVita\b/.test(product))){name='Android Browser';os=/\bAndroid\b/.test(os)?os:'Android';}
else if(!name||(data=!/\bMinefield\b|\(Android;/i.test(ua)&&/\b(?:Firefox|Safari)\b/.exec(name))){if(name&&!product&&/[\/,]|^[^(]+?\)/.test(ua.slice(ua.indexOf(data+'/')+8))){name=null;}
if((data=product||manufacturer||os)&&(product||manufacturer||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(os))){name=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(os)?os:data)+' Browser';}}
if((data=/\((Mobile|Tablet).*?Firefox\b/i.exec(ua))&&data[1]){os='Firefox OS';if(!product){product=data[1];}}
if(!version){version=getVersion(['(?:Cloud9|CriOS|CrMo|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|Silk(?!/[\\d.]+$))','Version',qualify(name),'(?:Firefox|Minefield|NetFront)']);}
if(layout=='iCab'&&parseFloat(version)>3){layout=['WebKit'];}else if(layout!='Trident'&&(data=/\bOpera\b/.test(name)&&(/\bOPR\b/.test(ua)?'Blink':'Presto')||/\b(?:Midori|Nook|Safari)\b/i.test(ua)&&'WebKit'||!layout&&/\bMSIE\b/i.test(ua)&&(os=='Mac OS'?'Tasman':'Trident'))){layout=[data];}
else if(/\bPlayStation\b(?! Vita\b)/i.test(name)&&layout=='WebKit'){layout=['NetFront'];}
if(name=='IE'&&(data=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(ua)||0)[1])){name+=' Mobile';os='Windows Phone '+(/\+$/.test(data)?data:data+'.x');description.unshift('desktop mode');}
else if(/\bWPDesktop\b/i.test(ua)){name='IE Mobile';os='Windows Phone 8+';description.unshift('desktop mode');version||(version=(/\brv:([\d.]+)/.exec(ua)||0)[1]);}
else if(name!='IE'&&layout=='Trident'&&(data=/\brv:([\d.]+)/.exec(ua))){if(!/\bWPDesktop\b/i.test(ua)){if(name){description.push('identifying as '+name+(version?' '+version:''));}
name='IE';}
version=data[1];}
else if((name=='Chrome'||name!='IE')&&(data=/\bEdge\/([\d.]+)/.exec(ua))){name='Microsoft Edge';version=data[1];layout=['Trident'];}
if(useFeatures){if(isHostType(context,'global')){if(java){data=java.lang.System;arch=data.getProperty('os.arch');os=os||data.getProperty('os.name')+' '+data.getProperty('os.version');}
if(isModuleScope&&isHostType(context,'system')&&(data=[context.system])[0]){os||(os=data[0].os||null);try{data[1]=context.require('ringo/engine').version;version=data[1].join('.');name='RingoJS';}catch(e){if(data[0].global.system==context.system){name='Narwhal';}}}
else if(typeof context.process=='object'&&(data=context.process)){name='Node.js';arch=data.arch;os=data.platform;version=/[\d.]+/.exec(data.version)[0];}
else if(rhino){name='Rhino';}}
else if(getClassOf((data=context.runtime))==airRuntimeClass){name='Adobe AIR';os=data.flash.system.Capabilities.os;}
else if(getClassOf((data=context.phantom))==phantomClass){name='PhantomJS';version=(data=data.version||null)&&(data.major+'.'+data.minor+'.'+data.patch);}
else if(typeof doc.documentMode=='number'&&(data=/\bTrident\/(\d+)/i.exec(ua))){version=[version,doc.documentMode];if((data=+data[1]+4)!=version[1]){description.push('IE '+version[1]+' mode');layout&&(layout[1]='');version[1]=data;}
version=name=='IE'?String(version[1].toFixed(1)):version[0];}
os=os&&format(os);}
if(version&&(data=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(version)||/(?:alpha|beta)(?: ?\d)?/i.exec(ua+';'+(useFeatures&&nav.appMinorVersion))||/\bMinefield\b/i.test(ua)&&'a')){prerelease=/b/i.test(data)?'beta':'alpha';version=version.replace(RegExp(data+'\\+?$'),'')+
(prerelease=='beta'?beta:alpha)+(/\d+\+?/.exec(data)||'');}
if(name=='Fennec'||name=='Firefox'&&/\b(?:Android|Firefox OS)\b/.test(os)){name='Firefox Mobile';}
else if(name=='Maxthon'&&version){version=version.replace(/\.[\d.]+/,'.x');}
else if(name=='Silk'){if(!/\bMobi/i.test(ua)){os='Android';description.unshift('desktop mode');}
if(/Accelerated *= *true/i.test(ua)){description.unshift('accelerated');}}
else if(/\bXbox\b/i.test(product)){os=null;if(product=='Xbox 360'&&/\bIEMobile\b/.test(ua)){description.unshift('mobile mode');}}
else if((/^(?:Chrome|IE|Opera)$/.test(name)||name&&!product&&!/Browser|Mobi/.test(name))&&(os=='Windows CE'||/Mobi/i.test(ua))){name+=' Mobile';}
else if(name=='IE'&&useFeatures&&context.external===null){description.unshift('platform preview');}
else if((/\bBlackBerry\b/.test(product)||/\bBB10\b/.test(ua))&&(data=(RegExp(product.replace(/ +/g,' *')+'/([.\\d]+)','i').exec(ua)||0)[1]||version)){data=[data,/BB10/.test(ua)];os=(data[1]?(product=null,manufacturer='BlackBerry'):'Device Software')+' '+data[0];version=null;}
else if(this!=forOwn&&(product!='Wii'&&((useFeatures&&opera)||(/Opera/.test(name)&&/\b(?:MSIE|Firefox)\b/i.test(ua))||(name=='Firefox'&&/\bOS X (?:\d+\.){2,}/.test(os))||(name=='IE'&&((os&&!/^Win/.test(os)&&version>5.5)||/\bWindows XP\b/.test(os)&&version>8||version==8&&!/\bTrident\b/.test(ua)))))&&!reOpera.test((data=parse.call(forOwn,ua.replace(reOpera,'')+';')))&&data.name){data='ing as '+data.name+((data=data.version)?' '+data:'');if(reOpera.test(name)){if(/\bIE\b/.test(data)&&os=='Mac OS'){os=null;}
data='identify'+data;}
else{data='mask'+data;if(operaClass){name=format(operaClass.replace(/([a-z])([A-Z])/g,'$1 $2'));}else{name='Opera';}
if(/\bIE\b/.test(data)){os=null;}
if(!useFeatures){version=null;}}
layout=['Presto'];description.push(data);}
if((data=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(ua)||0)[1])){data=[parseFloat(data.replace(/\.(\d)$/,'.0$1')),data];if(name=='Safari'&&data[1].slice(-1)=='+'){name='WebKit Nightly';prerelease='alpha';version=data[1].slice(0,-1);}
else if(version==data[1]||version==(data[2]=(/\bSafari\/([\d.]+\+?)/i.exec(ua)||0)[1])){version=null;}
data[1]=(/\bChrome\/([\d.]+)/i.exec(ua)||0)[1];if(data[0]==537.36&&data[2]==537.36&&parseFloat(data[1])>=28&&name!='IE'&&name!='Microsoft Edge'){layout=['Blink'];}
if(!useFeatures||(!likeChrome&&!data[1])){layout&&(layout[1]='like Safari');data=(data=data[0],data<400?1:data<500?2:data<526?3:data<533?4:data<534?'4+':data<535?5:data<537?6:data<538?7:data<601?8:'8');}else{layout&&(layout[1]='like Chrome');data=data[1]||(data=data[0],data<530?1:data<532?2:data<532.05?3:data<533?4:data<534.03?5:data<534.07?6:data<534.10?7:data<534.13?8:data<534.16?9:data<534.24?10:data<534.30?11:data<535.01?12:data<535.02?'13+':data<535.07?15:data<535.11?16:data<535.19?17:data<536.05?18:data<536.10?19:data<537.01?20:data<537.11?'21+':data<537.13?23:data<537.18?24:data<537.24?25:data<537.36?26:layout!='Blink'?'27':'28');}
layout&&(layout[1]+=' '+(data+=typeof data=='number'?'.x':/[.+]/.test(data)?'':'+'));if(name=='Safari'&&(!version||parseInt(version)>45)){version=data;}}
if(name=='Opera'&&(data=/\bzbov|zvav$/.exec(os))){name+=' ';description.unshift('desktop mode');if(data=='zvav'){name+='Mini';version=null;}else{name+='Mobile';}
os=os.replace(RegExp(' *'+data+'$'),'');}
else if(name=='Safari'&&/\bChrome\b/.exec(layout&&layout[1])){description.unshift('desktop mode');name='Chrome Mobile';version=null;if(/\bOS X\b/.test(os)){manufacturer='Apple';os='iOS 4.3+';}else{os=null;}}
if(version&&version.indexOf((data=/[\d.]+$/.exec(os)))==0&&ua.indexOf('/'+data+'-')>-1){os=trim(os.replace(data,''));}
if(layout&&!/\b(?:Avant|Nook)\b/.test(name)&&(/Browser|Lunascape|Maxthon/.test(name)||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Sleipnir|Web)/.test(name)&&layout[1])){(data=layout[layout.length-1])&&description.push(data);}
if(description.length){description=['('+description.join('; ')+')'];}
if(manufacturer&&product&&product.indexOf(manufacturer)<0){description.push('on '+manufacturer);}
if(product){description.push((/^on /.test(description[description.length-1])?'':'on ')+product);}
if(os){data=/ ([\d.+]+)$/.exec(os);isSpecialCasedOS=data&&os.charAt(os.length-data[0].length-1)=='/';os={'architecture':32,'family':(data&&!isSpecialCasedOS)?os.replace(data[0],''):os,'version':data?data[1]:null,'toString':function(){var version=this.version;return this.family+((version&&!isSpecialCasedOS)?' '+version:'')+(this.architecture==64?' 64-bit':'');}};}
if((data=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(arch))&&!/\bi686\b/i.test(arch)){if(os){os.architecture=64;os.family=os.family.replace(RegExp(' *'+data),'');}
if(name&&(/\bWOW64\b/i.test(ua)||(useFeatures&&/\w(?:86|32)$/.test(nav.cpuClass||nav.platform)&&!/\bWin64; x64\b/i.test(ua)))){description.unshift('32-bit');}}
ua||(ua=null);var platform={};platform.description=ua;platform.layout=layout&&layout[0];platform.manufacturer=manufacturer;platform.name=name;platform.prerelease=prerelease;platform.product=product;platform.ua=ua;platform.version=name&&version;platform.os=os||{'architecture':null,'family':null,'version':null,'toString':function(){return'null';}};platform.parse=parse;platform.toString=toStringPlatform;if(platform.version){description.unshift(version);}
if(platform.name){description.unshift(name);}
if(os&&name&&!(os==String(os).split(' ')[0]&&(os==name.split(' ')[0]||product))){description.push(product?'('+os+')':'on '+os);}
if(description.length){platform.description=description.join(' ');}
return platform;}
if(typeof define=='function'&&typeof define.amd=='object'&&define.amd){define(function(){return parse();});}
else if(freeExports&&freeModule){forOwn(parse(),function(value,key){freeExports[key]=value;});}
else{root.platform=parse();}}.call(this));}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}]},{},[1]);