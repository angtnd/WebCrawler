__d("widget.guesslikesite.guesslikesite",["common.js.widget","common.js.cpcbll2","common.js.format","common.js.ctr"],function(l,m,j,d){d("common.js.widget");var g=d("common.js.cpcbll2"),i=d("common.js.format"),k=d("common.js.ctr");$.widget("hao123.guesslikesite",{_create:function(){var c=this.options,a=this.element;this.$row=$(".guesslike-row",a);this.$changeBtn=$(".changeBtn",a);this.$changeLink=$(".js-changeLink",a);this.screenNumber=this.typeNumber=3;this.cpcInitCache=[{id:"cpc_gl_hot",initScreen:[]},
{id:"cpc_gl_gouwu",initScreen:[]},{id:"cpc_gl_game",initScreen:[]}];this.initCPC();this.bindEvent();c.cpcClickChange&&this.burnAfterRead()},initCPC:function(){for(var c=this,a=0;a<c.typeNumber;a++){var b=c.$row.filter('[data-type="'+a+'"]').eq(0);(function(a){g.init({id:c.cpcInitCache[a].id+"0",ctx:b,success:function(b){0<b.length&&(c.cpcInitCache[a].initScreen[0]=1)}})})(a)}},bindEvent:function(){var c=this;c.$changeBtn.click(function(){var a=$(this).parents(".guesslike-industry"),b=a.find(".guesslike-row"),
d=b.siblings(".show"),a=a.data("type"),h=(d.data("screen")+1)%b.length,b=b.eq(h);d.removeClass("show");b.addClass("show");var e=a||0,f=h||0;c.cpcInitCache[e].initScreen[f]||g.init({id:c.cpcInitCache[e].id+f,ctx:$('.guesslike-row[data-type="'+e+'"]').eq(f),success:function(a){0<a.length&&(c.cpcInitCache[e].initScreen[f]=1)}});return!1})},burnAfterRead:function(){function c(f,c){0<e[c].data.length&&(clearTimeout(b),b=setTimeout(function(){var b=e[c].data.shift(),g=b.tit;f.attr("href",b.curl);f.text(g);
f.attr("alog-custom",i(d,{recom:1}));f.attr("data-ctr",i(h,{area:a.area,type:"link",ts:+new Date,recom:1}));f.attr("data-ctr-status",0);k.callCTR(f)},500))}var a=this.options,b,d="recom:#{recom}",h="area:#{area},type:link,recom:#{recom},ts:#{ts}",e=[{id:"cpc_gl_hot3",hasRequest:0,data:[]},{id:"cpc_gl_gouwu3",hasRequest:0,data:[]},{id:"cpc_gl_game3",hasRequest:0,data:[]}];this.$changeLink.click(function(){var a=$(this),b=a.parents(".guesslike-industry").data("type");0===e[b].hasRequest?g.init({id:e[b].id,
doNotRewriteDom:!0,success:function(d){e[b].hasRequest=1;e[b].data=d.slice();c(a,b)}}):c(a,b)})},destroy:function(){$.Widget.prototype.destroy.call(this)}});return j});window.js_LheXSvScMb&&window.js_LheXSvScMb(!0);
