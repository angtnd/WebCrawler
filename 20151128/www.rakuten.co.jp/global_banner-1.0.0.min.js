/*
 global_banner-1.0.0.js
 Copyright (c) 2015 Rakuten.Inc 
 Date : 2015-02-13 16:33:20 
*/
(function(b,l,f){if(!("function"!=typeof b||/MSIE [3456]\./.test(f.userAgent))){var g=function(){for(var a=location.search.substring(1).split("&"),e={},c=/^debug_/,d=0;a.length>d;d++){var b=a[d].split("=");c.test(b[0])&&(e[b[0]]=b[1])}return e}(),o=g.debug_api||"//api.r10s.jp/clientinfo",p=g.debug_dir||"/com/inc/home/globalbanner/",j={ja:"ja.html",en:"en.html","zh-cn":"zh_cn.html","zh-tw":"zh_tw.html",ko:"ko.html","ko-kr":"ko.html"},h=null,m=function(){for(var a=l.cookie.split(/; */),b=[],c=0;a.length>
c;c++){var d=a[c].split("=");if("wPzd"==d[0]){b=decodeURIComponent(d[1]).split(":");break}}h={};for(c=0;b.length>c;c++)d=b[c].split("="),h[d[0]]=d[1];return h},q=function(a){b("#globalBannerContainer").html(a);var e=b("#dipPopUpBox");if(0!=e.length&&(a=e.find(".dipHidePopUp"),0!=a.length)){var c=b("#dipPopUpBoxMask"),d=b("#dipPopUpCheckBox"),g=b("#sitem"),f=b(window),j=b(l),i=function(){c.css({width:f.width()+"px",height:j.height()+"px"})},k=function(){if(d.attr("checked")){var a="dip";h||m();h[a]=
"1";var b=[];for(a in h)b.push(a+"="+h[a]);a=new Date;a.setTime(a.getTime()+31536E6);l.cookie="wPzd="+encodeURIComponent(b.join(":"))+"; expires="+a.toGMTString()+"; path=/; domain=.www.rakuten.co.jp"}};e.fadeIn();i();c.css({opacity:0,display:"block"}).fadeTo("fast",0.5);g.blur();a.bind("click",function(){k();e.fadeOut(function(){e.remove()});c.fadeOut(function(){c.remove()});g.focus();f.unbind("resize",i);return!1});e.delegate("a","click",k);f.bind("resize",i)}},i=function(a){b.ajax({url:p+a,type:"GET",
dataType:"html",success:q})},n=!1,r=function(a){g.debug_cnt?setTimeout(function(){a({country_code:g.debug_cnt})},1):(setTimeout(function(){n=!0},3E3),b.ajax({url:o,type:"GET",dataType:"jsonp",timeout:3E3,success:a}))},k=(g.debug_lng||f.userLanguage||f.language||f.browserLanguage).toLowerCase();"ja"==k||"ja-jp"==k?i(j.ja):r(function(a){!n&&a&&a.country_code&&("jp"==a.country_code.toLowerCase()?i(j.ja):"1"!=m().dip&&i(j[k]||j.en))})}})(jQuery,document,navigator);
