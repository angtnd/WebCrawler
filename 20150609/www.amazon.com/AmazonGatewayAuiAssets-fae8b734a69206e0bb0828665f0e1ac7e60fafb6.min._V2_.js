(function(h){h.execute(function(){h.when("A").register("gwAjax",function(g){return function(d,i){function c(b,c,g){typeof window.ue==="object"&&(i.errorCounter?window.ue.count(i.errorCounter,(window.ue.count(i.errCounter)||0)+1):window.ue.count("gwAjaxError",(window.ue.count("gwAjaxError")||0)+1));typeof window.ueLogError&&window.ueLogError({logLevel:"WARN",attribution:"gwAjax-"+(i.id||d),message:"gwAjax call failed "+(JSON&&JSON.stringify?JSON.stringify({url:d,"params-data":i.params||i.data}):"")});
typeof f==="function"&&f(b,c,g)}var i=g.copy(i),b=i.success,f=i.error;i.success=function(e,f,d){e.error?c(e,f,d):typeof b==="function"&&b(e,f,d)};i.error=c;i.data=i.params?i.params:i.data;typeof window.ue==="object"&&window.ue.count("gwAjaxCall",(window.ue.count("gwAjaxCall")||0)+1);return g.$.ajax(d,i)}});h.when("A").register("component-feed-carousel",function(g){var d=g.$,i=function(c,b){this.init(c,b)};i.prototype={init:function(c,b){g.$("html").hasClass("a-touch")&&c.addClass("feed-carousel-touch");
this.adjustMarginOnChange=!0;this.defaultCssRightMargin=null;this.minItems=b||10;this.imgClass=".product-image";this.$carousel=c;this.touch=this.$carousel.hasClass("feed-carousel-touch");this.$shelf=this.$carousel.find(".feed-carousel-shelf");this.$viewport=this.$carousel.find(".feed-carousel-viewport");this.$spinner=this.$carousel.find(".spinner");this.$left=d(".feed-carousel-control.feed-left",c);this.$right=d(".feed-carousel-control.feed-right",c);this.$buttons=d(".feed-carousel-control",c);this.$thumb=
d(".feed-scrollbar-thumb",c);this.shelfLeft=-1*parseInt(this.$shelf.css("left"),10);this.calcWidth=d("html").hasClass("a-lt-ie9");this.noOpacity=d("html").hasClass("a-lt-ie9");this.bindEvents();this.$carousel.data("Carousel",this);this.$carousel.trigger("change")},bindEvents:function(){function c(b){return g.capabilities.pointerPrefix&&d.inArray(b.originalEvent.pointerType,[2,"touch"])>-1||g.capabilities.actionMode==="touch"}var b=this,f=d("body");b.$carousel.change(function(){b.updateItems();b.updateSpinner();
b.updateShelf();b.updateControls();if(b.defaultCssRightMargin===null&&b.$shelf.children("li").first())b.defaultCssRightMargin=parseInt(b.$shelf.children("li").first().css("margin-right"),10);b.adjustMarginOnChange&&b.adjustCardMargin()});b.$left.click(function(e){e.preventDefault();b.changePage(-1)});b.$right.click(function(e){e.preventDefault();b.changePage(1)});b.bindImageLoadEvents(b.$shelf);var e;d(window).resize(function(){clearTimeout(e);e=setTimeout(function(){var e=b.getDimensions(),e=Math.max(Math.min(e.shelfLeft,
e.maxLeft),0);b.moveShelf(e)},100)});b.$thumb.mousedown(function(e){var c=e.clientX;e.which===1&&(e.preventDefault(),b.$carousel.addClass("scrolling"),f.bind("mousemove.feed-carousel",function(e){var f=b.getDimensions(),f=Math.max(Math.min(f.shelfLeft+1/f.pageRatio*(e.clientX-c),f.maxLeft),0);c=e.clientX;b.moveShelf(f)}),d(document).bind("selectstart.feed-carousel",function(){return!1}))});f.add(window).mouseup(function(){b.$carousel.removeClass("scrolling");b.$carousel.hasClass("hovering")||b.hideControls();
f.unbind("mousemove.feed-carousel");d(document).unbind("selectstart.feed-carousel")});b.$carousel.hover(function(){b.$carousel.addClass("hovering");clearTimeout(b.hoverTimer);b.hoverTimer=setTimeout(function(){b.$carousel.hasClass("hovering")&&!b.$carousel.hasClass("touching")?b.showControls():b.$carousel.removeClass("touching")},300)},function(){b.$carousel.removeClass("hovering touching");clearTimeout(b.hoverTimer);if(!b.$carousel.hasClass("scrolling"))b.hoverTimer=setTimeout(function(){b.$carousel.hasClass("hovering")||
b.hideControls()},600)});b.$carousel.bind(g.action.start,function(e){if(c(e))b.$carousel.addClass("touching"),clearTimeout(b.touchTimer),b.touchTimer=setTimeout(function(){b.$carousel.removeClass("touching")},5E3)});b.$carousel.bind(g.action.end,function(e){c(e)&&(b.$carousel.removeClass("touching"),clearTimeout(b.touchTimer),clearTimeout(b.hoverTimer))});b.$viewport.scroll(function(){b.shelfLeft=b.$viewport.scrollLeft();b.updateControls()})},bindImageLoadEvents:function(c){var b=this;d(b.imgClass,
c).one("load",function(){b.$carousel.trigger("change")})},getDimensions:function(){var c=this.$shelf.width(),b=this.shelfLeft,f=this.$carousel.width();return{pageWidth:f,shelfWidth:c,shelfLeft:b,pageRatio:f/c,leftRatio:b/c,maxLeft:c-f}},updateItems:function(){var c=this,b=c.$shelf.find(".feed-carousel-card"),f=function(e){return e.css("display")==="none"};b.each(function(e,b){var g=d(b);return!f(g)?!0:g.find(c.imgClass).filter(function(){return!this.complete}).length<=0?(g.css("display","inline-block"),
!0):!1});c.$items=b.filter(function(){return!f(d(this))})},updateShelf:function(){var c=0;this.calcWidth&&(this.$shelf.children().each(function(){c+=d(this).outerWidth(!0)}),this.$shelf.width(c));this.touch&&this.$carousel.not(".fresh-shoveler-tablet-app .feed-carousel").height(this.$shelf.outerHeight(!0))},updateSpinner:function(){this.size()<this.minItems?this.$spinner.show():this.$spinner.hide()},updateControls:function(){this.updateArrows();this.updateScrollThumb()},showControls:function(c){this.$thumb.add(this.$buttons).stop(!0,
!0).fadeIn({duration:300,complete:c,queue:!1})},hideControls:function(c){var b=this.$thumb;if(!this.$carousel.hasClass("first-carousel")||this.touch)b=b.add(this.$buttons);b.stop(!0,!0).fadeOut({duration:300,complete:c,queue:!1})},appendCards:function(c){this.$shelf.append(c);this.bindImageLoadEvents(c);this.$carousel.trigger("change")},updateArrows:function(){var c=this,b=c.getDimensions();d.each([{$e:c.$left,enabled:b.shelfLeft>0},{$e:c.$right,enabled:b.shelfLeft<b.maxLeft}],function(b,e){var d=
e.$e;e.enabled?d.removeClass("feed-control-disabled"):d.addClass("feed-control-disabled");c.noOpacity&&(e.enabled?d.css("opacity","1"):d.css("opacity","0.5"))})},updateScrollThumb:function(){var c=this.getDimensions(),b=c.leftRatio*c.pageWidth;this.$thumb.width(Math.min(c.pageRatio*c.pageWidth,c.pageWidth)).each(function(){g.animate(d(this),{left:b},0)})},changePage:function(c){var b=this.getDimensions(),f=this.alignWithItem(b.shelfLeft+c*b.pageWidth),f=Math.min(c<0?f.right:f.left,b.maxLeft);b.shelfLeft===
f?(this.bounce(this.$shelf,-30*c),this.bounce(this.$thumb,6*c)):this.moveShelf(f,400)},moveShelf:function(c,b){var f=this,b=b||0;f.shelfLeft=c;if(f.touch)f.$viewport.animate({scrollLeft:c},b,"swing",function(){f.updateArrows()});else{var e=f.getDimensions(),e=c/e.shelfWidth*e.pageWidth;g.animate(f.$shelf,{left:-c},b,"cubic-bezier(0.455, 0.03, 0.515, 0.955)",function(){f.updateArrows()});g.animate(f.$thumb,{left:e},b,"cubic-bezier(0.455, 0.03, 0.515, 0.955)",function(){f.updateScrollThumb()})}},getItems:function(){return this.$items},
size:function(){return this.getItems().length},alignWithItem:function(c){if(c<0)return{left:0,right:0};var b=this,f=b.getItems(),e=f.map(function(){var e=b.cardPosition(d(this));if(c>=e.left&&c<=e.right)return e}).get(0);return e?e:b.cardPosition(f.last())},cardPosition:function(c){var b=c.position().left,c=b+c.outerWidth(!0);return{left:b,right:c}},bounce:function(c,b){function f(b){var c={};c[e.touch?"left":"marginLeft"]=b;return c}var e=this;c.each(function(){var e=d(this);g.animate(e,f(b),400,
"cubic-bezier(0.175, 0.885, 0.32, 1.275)",function(){g.animate(e,f(0),100)})})},setCardMargin:function(c){this.$shelf.children("li").first()&&this.$shelf.children("li").first().css("margin-right")!==c+"px"&&(this.$shelf.children("li").css("margin-right",c+"px"),this.updateShelf())},adjustCardMargin:function(c){c=c===void 0||c===null?this.defaultCssRightMargin:c;this.setCardMargin(c);var b=this.getDimensions(),b=b.maxLeft<0?Math.ceil(-b.maxLeft/this.size()):c;this.setCardMargin(b<c?c:b)}};return{createCarousel:function(c,
b){d(c).each(function(c,e){var d=g.$(e);new i(d,b)})}}});h.when("A").register("component-sequential-images",function(g){var d=g.$;return{loadImages:function(g){for(var c=function(e,b){d(e).show().bind("load error",function(c){d(e).unbind(c);d(b).trigger("sload")}).each(function(){e.complete&&d(e).triggerHandler("load")})},b=2,f=g.length;b<=f;b++)(function(e,b){d(e).bind("sload",function(f){f.target===this&&(d(e).unbind(f),c(this,b))})})(g[b-1],g[b]);c(g[0],g[1])}}})})})(function(){var h=window.AmazonUIPageJS||
P,g=h.attributeErrors;return g?g("AmazonGatewayAuiAssets"):h}());