/*
Boomerang is Copyright (c) 2011 Yahoo! Inc. All rights reserved.
Code licensed and distributed under the BSD License.
*/
BOOMR_start=new Date().getTime();function BOOMR_check_doc_domain(b){var c;if(!b){if(window.parent===window||!document.getElementById("boomr-if-as")){return true}b=document.domain}if(b.indexOf(".")===-1){return false}try{c=window.parent.document;return c!==undefined}catch(a){document.domain=b}try{c=window.parent.document;return c!==undefined}catch(a){b=b.replace(/^[\w\-]+\./,"")}return BOOMR_check_doc_domain(b)}BOOMR_check_doc_domain();(function(a){var c,b,g,f,e;if(a.parent!==a&&document.getElementById("boomr-if-as")&&document.getElementById("boomr-if-as").nodeName.toLowerCase()==="script"){a=a.parent;f=document.getElementById("boomr-if-as").src}g=a.document;if(a.BOOMR===undefined){a.BOOMR={}}BOOMR=a.BOOMR;if(BOOMR.version){return}BOOMR.version="0.9.1406564410";BOOMR.window=a;(function(){try{if(new a.CustomEvent("CustomEvent")!==undefined){e=function(i,j){return new a.CustomEvent(i,j)}}}catch(d){if(g.createEvent){e=function(j,k){var i=g.createEvent("CustomEvent");k=k||{cancelable:false,bubbles:false};i.initCustomEvent(j,k.bubbles,k.cancelable,k.detail);return i}}else{if(g.createEventObject){e=function(j,k){var i=g.createEventObject();i.type=i.propertyName=j;i.detail=k.detail;return i}}}}if(!e){e=function(){return undefined}}}());function h(d,i){var j=e(d,{detail:i});if(!j){return}BOOMR.setImmediate(function(){if(g.dispatchEvent){g.dispatchEvent(j)}else{if(g.fireEvent){g.fireEvent("onpropertychange",j)}}})}c={beacon_url:location.protocol+"//c.go-mpulse.net/",user_ip:"",strip_query_string:false,onloadfired:false,handlers_attached:false,events:{page_ready:[],page_unload:[],dom_loaded:[],visibility_changed:[],before_beacon:[],onbeacon:[],xhr_load:[],click:[],form_submit:[]},public_events:{before_beacon:"onBeforeBoomerangBeacon",onbeacon:"onBoomerangBeacon",onboomerangloaded:"onBoomerangLoaded"},vars:{},errors:{},disabled_plugins:{},onclick_handler:function(d){var i;if(!d){d=a.event}if(d.target){i=d.target}else{if(d.srcElement){i=d.srcElement}}if(i.nodeType===3){i=i.parentNode}if(i&&i.nodeName.toUpperCase()==="OBJECT"&&i.type==="application/x-shockwave-flash"){return}c.fireEvent("click",i)},onsubmit_handler:function(d){var i;if(!d){d=a.event}if(d.target){i=d.target}else{if(d.srcElement){i=d.srcElement}}if(i.nodeType===3){i=i.parentNode}c.fireEvent("form_submit",i)},fireEvent:function(d,n){var j,k,m;d=d.toLowerCase();if(!this.events.hasOwnProperty(d)){return false}m=this.events[d];for(j=0;j<m.length;j++){try{k=m[j];k.fn.call(k.scope,n,k.cb_data)}catch(l){BOOMR.addError(l,"fireEvent")}}if(this.public_events.hasOwnProperty(d)){h(this.public_events[d],n)}return true}};b={t_lstart:null,t_start:BOOMR_start,t_end:null,url:f,config_url:null,session:{domain:null,ID:Math.random().toString(36).replace(/^0\./,""),start:undefined,length:0},utils:{objectToString:function(m,l,i){var j=[],d;if(!m||typeof m!=="object"){return m}if(l===undefined){l="\n\t"}if(!i){i=0}if(Object.prototype.toString.call(m)==="[object Array]"){for(d=0;d<m.length;d++){if(i>0&&m[d]!==null&&typeof m[d]==="object"){j.push(this.objectToString(m[d],l+(l==="\n\t"?"\t":""),i-1))}else{j.push(encodeURIComponent(m[d]))}}l=","}else{for(d in m){if(Object.prototype.hasOwnProperty.call(m,d)){if(i>0&&m[d]!==null&&typeof m[d]==="object"){j.push(encodeURIComponent(d)+"="+this.objectToString(m[d],l+(l==="\n\t"?"\t":""),i-1))}else{j.push(encodeURIComponent(d)+"="+encodeURIComponent(m[d]))}}}}return j.join(l)},getCookie:function(d){if(!d){return null}d=" "+d+"=";var j,k;k=" "+g.cookie+";";if((j=k.indexOf(d))>=0){j+=d.length;k=k.substring(j,k.indexOf(";",j));return k}return null},setCookie:function(k,l,d){var m,j,i,o,n;if(!k||!BOOMR.session.domain){BOOMR.debug("No cookie name or site domain: "+k+"/"+BOOMR.session.domain);return false}m=this.objectToString(l,"&");j=k+"="+m;o=[j,"path=/","domain="+BOOMR.session.domain];if(d){n=new Date();n.setTime(n.getTime()+d*1000);n=n.toGMTString();o.push("expires="+n)}if(j.length<500){g.cookie=o.join("; ");i=this.getCookie(k);if(m===i){return true}BOOMR.warn("Saved cookie value doesn't match what we tried to set:\n"+m+"\n"+i)}else{BOOMR.warn("Cookie too long: "+j.length+" "+j)}return false},getSubCookies:function(n){var m,k,d,p,j=false,o={};if(!n){return null}if(typeof n!=="string"){BOOMR.debug("TypeError: cookie is not a string: "+typeof n);return null}m=n.split("&");for(k=0,d=m.length;k<d;k++){p=m[k].split("=");if(p[0]){p.push("");o[decodeURIComponent(p[0])]=decodeURIComponent(p[1]);j=true}}return j?o:null},removeCookie:function(d){return this.setCookie(d,{},-86400)},cleanupURL:function(d){if(!d){return""}if(c.strip_query_string){return d.replace(/\?.*/,"?qs-redacted")}return d},hashQueryString:function(i,d){if(!i){return i}if(i.match(/^\/\//)){i=location.protocol+i}if(!i.match(/^(https?|file):/)){BOOMR.error("Passed in URL is invalid: "+i);return""}if(d){i=i.replace(/#.*/,"")}if(!BOOMR.utils.MD5){return i}return i.replace(/\?([^#]*)/,function(k,j){return"?"+(j.length>10?BOOMR.utils.MD5(j):j)})},pluginConfig:function(n,d,l,k){var j,m=0;if(!d||!d[l]){return false}for(j=0;j<k.length;j++){if(d[l][k[j]]!==undefined){n[k[j]]=d[l][k[j]];m++}}return(m>0)},addListener:function(j,i,d){if(j.addEventListener){j.addEventListener(i,d,false)}else{j.attachEvent("on"+i,d)}},removeListener:function(j,i,d){if(j.removeEventListener){j.removeEventListener(i,d,false)}else{j.detachEvent("on"+i,d)}}},init:function(j){var m,d,l=["beacon_url","user_ip","strip_query_string"];BOOMR_check_doc_domain();if(!j){j={}}for(m=0;m<l.length;m++){if(j[l[m]]!==undefined){c[l[m]]=j[l[m]]}}if(j.site_domain!==undefined){this.session.domain=j.site_domain}if(j.log!==undefined){this.log=j.log}if(!this.log){this.log=function(){return}}for(d in this.plugins){if(this.plugins.hasOwnProperty(d)){if(j[d]&&j[d].hasOwnProperty("enabled")&&j[d].enabled===false){c.disabled_plugins[d]=1;continue}if(c.disabled_plugins[d]){delete c.disabled_plugins[d]}if(typeof this.plugins[d].init==="function"){try{this.plugins[d].init(j)}catch(n){BOOMR.addError(n,this.plugins[d]+".init")}}}}if(c.handlers_attached){return this}if(!c.onloadfired&&(j.autorun===undefined||j.autorun!==false)){if(g.readyState&&g.readyState==="complete"){this.setImmediate(BOOMR.page_ready,null,null,BOOMR)}else{if(a.onpagehide||a.onpagehide===null){b.utils.addListener(a,"pageshow",BOOMR.page_ready)}else{b.utils.addListener(a,"load",BOOMR.page_ready)}}}b.utils.addListener(a,"DOMContentLoaded",function(){c.fireEvent("dom_loaded")});(function(){var o,i,k;o=function(){c.fireEvent("visibility_changed")};if(g.webkitVisibilityState){b.utils.addListener(g,"webkitvisibilitychange",o)}else{if(g.msVisibilityState){b.utils.addListener(g,"msvisibilitychange",o)}else{if(g.visibilityState){b.utils.addListener(g,"visibilitychange",o)}}}b.utils.addListener(g,"mouseup",c.onclick_handler);i=g.getElementsByTagName("form");for(k=0;k<i.length;k++){b.utils.addListener(i[k],"submit",c.onsubmit_handler)}if(!a.onpagehide&&a.onpagehide!==null){b.utils.addListener(a,"unload",function(){BOOMR.window=a=null})}}());c.handlers_attached=true;return this},page_ready:function(d){if(!d){d=a.event}if(!d){d={name:"load"}}if(c.onloadfired){return this}c.fireEvent("page_ready",d);c.onloadfired=true;return this},setImmediate:function(j,k,i,l){var d=function(){j.call(l||null,k,i||{});d=null};if(a.setImmediate){a.setImmediate(d)}else{if(a.msSetImmediate){a.msSetImmediate(d)}else{if(a.webkitSetImmediate){a.webkitSetImmediate(d)}else{if(a.mozSetImmediate){a.mozSetImmediate(d)}else{setTimeout(d,10)}}}}},subscribe:function(d,n,j,p){var k,m,o,l;d=d.toLowerCase();if(!c.events.hasOwnProperty(d)){return this}o=c.events[d];for(k=0;k<o.length;k++){m=o[k];if(m.fn===n&&m.cb_data===j&&m.scope===p){return this}}o.push({fn:n,cb_data:j||{},scope:p||null});if(d==="page_ready"&&c.onloadfired){this.setImmediate(n,null,j,p)}if(d==="page_unload"){l=function(i){if(n){n.call(p,i||a.event,j)}};if(a.onpagehide||a.onpagehide===null){b.utils.addListener(a,"pagehide",l)}else{b.utils.addListener(a,"unload",l)}b.utils.addListener(a,"beforeunload",l)}return this},addError:function(d,i){if(typeof d!=="string"){d=String(d)}if(i!==undefined){d="["+i+"] "+d}if(c.errors[d]){c.errors[d]++}else{c.errors[d]=1}},addVar:function(i,j){if(typeof i==="string"){c.vars[i]=j}else{if(typeof i==="object"){var l=i,d;for(d in l){if(l.hasOwnProperty(d)){c.vars[d]=l[d]}}}}return this},removeVar:function(j){var d,k;if(!arguments.length){return this}if(arguments.length===1&&Object.prototype.toString.apply(j)==="[object Array]"){k=j}else{k=arguments}for(d=0;d<k.length;d++){if(c.vars.hasOwnProperty(k[d])){delete c.vars[k[d]]}}return this},requestStart:function(i){var d=new Date().getTime();BOOMR.plugins.RT.startTimer("xhr_"+i,d);return{loaded:function(j){BOOMR.responseEnd(i,d,j)}}},responseEnd:function(i,d,j){if(c.vars["h.cr"]){BOOMR.addVar("xhr.pg",i);BOOMR.plugins.RT.startTimer("xhr_"+i,d);c.fireEvent("xhr_load",{name:"xhr_"+i,data:j})}else{var k=i+"|"+(new Date().getTime()-d);if(c.vars.qt){c.vars.qt+=","+k}else{c.vars.qt=k}}},sendBeacon:function(i){var l,m,j,d=0,n=[];if(i){c.beacon_url=i}BOOMR.debug("Checking if we can send beacon");for(l in this.plugins){if(this.plugins.hasOwnProperty(l)){if(c.disabled_plugins[l]){continue}if(!this.plugins[l].is_complete()){BOOMR.debug("Plugin "+l+" is not complete, deferring beacon send");return false}}}c.vars.v=BOOMR.version;c.vars.u=BOOMR.utils.cleanupURL(g.URL.replace(/#.*/,""));if(a!==window){c.vars["if"]=""}for(l in c.errors){if(c.errors.hasOwnProperty(l)){n.push(l+(c.errors[l]>1?" (*"+c.errors[l]+")":""))}}if(n.length>0){c.vars.errors=n.join("\n")}c.errors={};c.fireEvent("before_beacon",c.vars);if(!c.beacon_url){BOOMR.debug("No beacon_url, but would have sent: "+BOOMR.utils.objectToString(c.vars));return true}m=[];for(l in c.vars){if(c.vars.hasOwnProperty(l)){d++;m.push(encodeURIComponent(l)+"="+(c.vars[l]===undefined||c.vars[l]===null?"":encodeURIComponent(c.vars[l])))}}BOOMR.removeVar("qt");m=c.beacon_url+((c.beacon_url.indexOf("?")>-1)?"&":"?")+m.join("&");BOOMR.debug("Sending url: "+m.replace(/&/g,"\n\t"));this.setImmediate(c.fireEvent,"onbeacon",c.vars,c);if(BOOMR.session.rate_limited){BOOMR.debug("Skipping because we're rate limited");return this}if(d){j=new Image();j.src=m}return true}};delete BOOMR_start;if(typeof BOOMR_lstart==="number"){b.t_lstart=BOOMR_lstart;delete BOOMR_lstart}else{if(typeof BOOMR.window.BOOMR_lstart==="number"){b.t_lstart=BOOMR.window.BOOMR_lstart}}(function(){var d;if(typeof console==="object"&&console.log!==undefined){b.log=function(i,j,k){console.log(k+": ["+j+"] "+i)}}d=function(i){return function(j,k){this.log(j,i,"boomerang"+(k?"."+k:""));return this}};b.debug=d("debug");b.info=d("info");b.warn=d("warn");b.error=d("error")}());
(function(){var d;for(d in b){if(b.hasOwnProperty(d)){BOOMR[d]=b[d]}}}());BOOMR.plugins=BOOMR.plugins||{};h("onBoomerangLoaded",{BOOMR:BOOMR})}(window));
(function(){var b,a,g,f,c,e;BOOMR=window.BOOMR||{};BOOMR.plugins=BOOMR.plugins||{};e=function(d){this.varname=d.varname;this.method=d.method||BOOMR.addVar;this.ctx=d.ctx||BOOMR;this.preProcessor=d.preProcessor;this.sanitizeRE=d.sanitizeRE||/[^\w \-]/g;return this};e.prototype={apply:function(d){if(this.preProcessor){d=this.preProcessor(d)}this.method.call(this.ctx,this.varname,d);return true},handle:function(i){var d=this;if(!this.isValid(i)){return false}if(i.label){d=new e(this);d.varname=i.label}return d[i.type](i)},isValid:function(d){if(!d||typeof d!=="object"||!d.hasOwnProperty("type")||typeof this[d.type]!=="function"){return false}if(!this.varname&&!d.label){return false}return true},cleanUp:function(d){if(!d){return d}return d.replace(this.sanitizeRE,"")},handleRegEx:function(h,j){var k,d;try{h=new RegExp(h,"i")}catch(i){BOOMR.debug("Error generating regex: "+i,"PageVars");BOOMR.addError(i,"PageVars.handleRegEx");return false}d=h.exec(a.href);if(!d||!d.length){return false}k=j.replace(/\$([1-9])/g,function(m,l){return decodeURIComponent(d[parseInt(l,10)])});k=this.cleanUp(k);return this.apply(k)},checkURLPattern:function(h,d){var i;if(!h){return true}i=h.replace(/([^\.])\*/g,"$1.*").replace(/^\*/,".*");try{i=new RegExp("^"+i+"$","i")}catch(j){BOOMR.debug("Bad pattern: "+i,"PageVars");BOOMR.debug(j,"PageVars");BOOMR.addError(j,"PageVars.checkURLPattern");return false}if(!d){d=a.href}if(!i.exec(d)){BOOMR.debug("No match on "+d,"PageVars");return false}return true},nodeWalk:function(h,j){var d,i,k,l;if(!j){return h}d=j.match(/^(\w+)(?:\[(\d+)\])?\/?(.*)/);if(!d||!d.length){return null}i=h.getElementsByTagName(d[1]);if(d[2]){k=parseInt(d[2],10);if(isNaN(k)){return null}k--;if(i.length<=k){return null}i=[i[k]]}for(k=0;k<i.length;k++){l=this.nodeWalk(i[k],d[3]);if(l){return l}}return null},runXPath:function(d){var h;try{if(g.evaluate){h=g.evaluate(d,g,null,9,null)}else{if(g.selectNodes){h=g.selectNodes(d)}else{if(d.match(/^\/html(?:\/\w+(?:\[\d+\])?)*$/)){d=d.slice(6);return this.nodeWalk(g,d)}else{BOOMR.debug("Could not evaluate XPath","PageVars");return null}}}}catch(i){BOOMR.error("Error evaluating XPath: "+i,"PageVars");BOOMR.addError(i,"PageVars.runXPath");return null}if(!h||h.resultType!==9||!h.singleNodeValue){BOOMR.debug("XPath did not return anything: "+h+", "+h.resultType+", "+h.singleNodeValue,"PageVars");return null}return h.singleNodeValue},Custom:function(j){var i,h,d=b;if(!j.parameter1){return false}BOOMR.debug("Got variable: "+j.parameter1,"PageVars");i=j.parameter1.split(/\./);if(!i||i.length===0){return false}h=b[i.shift()];while(h!==null&&typeof h==="object"&&i.length){BOOMR.debug("looking at "+i[0],"PageVars");d=h;h=h[i.shift()]}if(i.length!==0){return false}if(typeof h==="function"){h=h.call(d)}if(h===undefined||typeof h==="object"){return false}BOOMR.debug("final value: "+h,"PageVars");h=this.cleanUp(String(h));return this.apply(h)},URLPattern:function(l){var j,k,d,h;if(!l.parameter2){return false}BOOMR.debug("Got URL Pattern: "+l.parameter1+", "+l.parameter2,"PageVars");if(!this.checkURLPattern(l.parameter1)){return false}k=a.search.slice(1).split(/&/);BOOMR.debug("Got params: "+k,"PageVars");for(d=0;d<k.length;d++){if(k[d]){h=k[d].split("=");if(h.length&&h[0]===l.parameter2){BOOMR.debug("final value: "+h[1],"PageVars");j=this.cleanUp(decodeURIComponent(h[1]));return this.apply(j)}}}},URLSubstringEndOfText:function(d){return this.URLSubstringTrailingText(d)},URLSubstringTrailingText:function(d){if(!d.parameter1){return false}BOOMR.debug("Got URL Substring: "+d.parameter1+", "+d.parameter2,"PageVars");return this.handleRegEx("^"+d.parameter1.replace(/([.+?\^=!:${}()|\[\]\/\\])/g,"\\$1").replace(/([^\.])\*/g,"$1.*?").replace(/^\*/,".*")+"(.*)"+(d.parameter2||"").replace(/([.+?\^=!:${}()|\[\]\/\\])/g,"\\$1").replace(/([^\.])\*/g,"$1.*")+"$","$1")},Regexp:function(d){if(!d.parameter1||!d.parameter2){return false}BOOMR.debug("Got RegEx: "+d.parameter1+", "+d.parameter2,"PageVars");return this.handleRegEx(d.parameter1,d.parameter2)},URLPatternType:function(h){var d;BOOMR.debug("Got URLPatternType: "+h.parameter1+", "+h.parameter2,"PageVars");if(!this.checkURLPattern(h.parameter1)){return false}if(!h.parameter2){d="1"}else{d=this.runXPath(h.parameter2);if(!d){return false}d=this.cleanUp(d.textContent||d.innerText)}BOOMR.debug("Final value: "+d,"PageVars");return this.apply(d)},ResourceTiming:function(n){var m,j,l,i,h,d;if(!n.parameter2&&!n.url){return false}if(!n.start||(!n.end&&n.start!=="*")){return false}if(!f||!f.getEntriesByName){BOOMR.debug("This browser does not support ResourceTiming","PageVars");return false}if(!this.checkURLPattern(n.parameter1)){return false}if(n.parameter2==="slowest"||n.url==="slowest"){j="slowest"}else{if(n.url){j=n.url}else{if(n.parameter2){m=this.runXPath(n.parameter2);if(!m){return false}j=m.src||m.href}}}if(!j){return false}l=this.findResource(j);if(!l){BOOMR.debug("No resource matched","PageVars");return false}if(n.start==="*"){for(d in l){if(l.hasOwnProperty(d)&&d.match(/(Start|End)$/)&&l[d]>0){BOOMR.addVar(this.varname+"."+d.replace(/^(...).*(St|En).*$/,"$1$2"),l[d])}}return this.apply(l.duration)}if(n.relative_to_nt||n.start==="navigationStart"){i=0}else{i=parseFloat(l[n.start],10)}h=parseFloat(l[n.end],10);if(isNaN(i)||isNaN(h)){BOOMR.debug("Start and end were not numeric: "+i+", "+h,"PageVars");return false}if(j==="slowest"){BOOMR.addVar("dom.res.slowest",l.name)}BOOMR.debug("Final values: "+i+", "+h,"PageVars");return this.apply(h-i)},findResource:function(d,m){var j,h,k;if(!m){m=b}try{k=m.performance.getEntriesByName(d)}catch(l){BOOMR.addError(l,"PageVars.findResource");return null}if(k&&k.length>0){return k[0]}k=m.performance.getEntriesByType("resource");if(k&&k.length>0){for(j=0;j<k.length;j++){if(d==="slowest"){if(!h||k[j].duration>h.duration){h=k[j]}}else{if(k[j].name&&this.checkURLPattern(d,k[j].name)){h=k[j];d=h.name;break}}}}if(h){return h}if(m.frames){for(j=0;j<m.frames.length;j++){h=this.findResource(d,m.frames[j]);if(h){return h}}}},UserTiming:function(j){var h,d;if(!j.parameter2){return false}if(!f||!f.getEntriesByType){BOOMR.debug("This browser does not support UserTiming","PageVars");return false}if(!this.checkURLPattern(j.parameter1)){return false}h=f.getEntriesByType("mark");for(d=0;d<h.length;d++){if(h[d].name===j.parameter2){return this.apply(h[d].startTime)}}h=f.getEntriesByType("measure");for(d=0;d<h.length;d++){if(h[d].name===j.parameter2){return this.apply(h[d].duration)}}}};c={pageGroups:[],abTests:[],customTimers:[],customMetrics:[],complete:false,initialized:false,onloadfired:false,done:function(p,n){var m,l,k,d,o,h=c;if(n!=="xhr"&&this.complete){return}if(n==="xhr"){if(!p||!p.data){return}p=p.data;if((!p.timers||!p.timers.length)&&(!p.metrics||!p.metrics.length)){return}c.complete=false;h={pageGroups:[],abTests:c.abTests,customTimers:[],customMetrics:[]};if(p.timers&&p.timers.length){for(m=0;m<c.customTimers.length;m++){for(l=0;l<p.timers.length;l++){if(c.customTimers[m].name===p.timers[l]){h.customTimers.push(c.customTimers[m])}}}}if(p.metrics&&p.metrics.length){for(m=0;m<c.customMetrics.length;m++){for(l=0;l<p.metrics.length;l++){if(c.customMetrics[m].label==="cmet."+p.metrics[l]){h.customMetrics.push(c.customMetrics[m])}}}}if(p.url){a=g.createElement("a");a.href=p.url}}d={pageGroups:{varname:"h.pg",stopOnFirst:true},abTests:{varname:"h.ab",stopOnFirst:true},customMetrics:{sanitizeRE:/[^\d\.\-]/g},customTimers:{sanitizeRE:/[^\d\.\-]/g,method:BOOMR.plugins.RT.setTimer,ctx:BOOMR.plugins.RT,preProcessor:function(i){return Math.round(typeof i==="number"?i:parseFloat(i,10))}}};for(k in d){if(d.hasOwnProperty(k)){o=new e(d[k]);for(m=0;m<h[k].length;m++){if(o.handle(h[k][m])&&d[k].stopOnFirst){break}}}}this.complete=true;BOOMR.sendBeacon();a=location},clearMetrics:function(j){var h,d;for(h=0;h<c.customMetrics.length;h++){d=c.customMetrics[h].label;if(j.hasOwnProperty(d)){BOOMR.removeVar(d)}}},onload:function(){this.onloadfired=true}};BOOMR.plugins.PageParams={init:function(d){var h=["pageGroups","abTests","customTimers","customMetrics"];b=BOOMR.window;a=location;g=b.document;f=b.performance||null;BOOMR.utils.pluginConfig(c,d,"PageParams",h);c.complete=false;if(!c.onloadfired){BOOMR.subscribe("page_ready",c.onload,"load",c);BOOMR.subscribe("page_ready",c.done,"load",c)}else{BOOMR.setImmediate(c.done,{},"load",c)}if(!c.initialized){BOOMR.subscribe("page_unload",c.done,"unload",c);BOOMR.subscribe("onbeacon",c.clearMetrics,null,c);BOOMR.subscribe("xhr_load",c.done,"xhr",c);c.initialized=true}return this},is_complete:function(){return c.complete}}}());
(function(b){var f=b.document,c,a=60*30,e=60*60*24*7;BOOMR=BOOMR||{};BOOMR.plugins=BOOMR.plugins||{};c={onloadfired:false,unloadfired:false,visiblefired:false,initialized:false,complete:false,timers:{},cookie:"RT",cookie_exp:e,session_exp:a,strict_referrer:true,navigationType:0,navigationStart:undefined,responseStart:undefined,loadTime:0,oboError:0,t_start:undefined,cached_t_start:undefined,t_fb_approx:undefined,r:undefined,r2:undefined,beacon_url:undefined,next_beacon_url:undefined,basic_timers:{t_done:1,t_resp:1,t_page:1},updateCookie:function(j,l){var i,g,h,d;if(!this.cookie){return false}h=BOOMR.utils.getSubCookies(BOOMR.utils.getCookie(this.cookie))||{};for(d in h){if(h.hasOwnProperty(d)){if(!isNaN(parseInt(d,10))){delete h[d]}}}if(typeof j==="object"){for(d in j){if(j.hasOwnProperty(d)){if(j[d]===undefined){if(h.hasOwnProperty(d)){delete h[d]}}else{if(d==="nu"||d==="r"){j[d]=BOOMR.utils.hashQueryString(j[d],true)}h[d]=j[d]}}}}h.dm=BOOMR.session.domain;h.si=BOOMR.session.ID;h.ss=BOOMR.session.start;h.sl=BOOMR.session.length;if(c.session_exp!==a){h.se=c.session_exp}if(BOOMR.session.rate_limited){h.rl=1}h.tt=this.loadTime;h.obo=this.oboError;g=new Date().getTime();if(l){h[l]=g;c.lastActionTime=g}if(this.beacon_url){h.bcn=this.beacon_url}BOOMR.debug("Setting cookie (timer="+l+")\n"+BOOMR.utils.objectToString(h),"rt");if(!BOOMR.utils.setCookie(this.cookie,h,this.cookie_exp)){BOOMR.error("cannot set start cookie","rt");return false}i=new Date().getTime();if(i-g>50){BOOMR.utils.removeCookie(this.cookie);BOOMR.error("took more than 50ms to set cookie... aborting: "+g+" -> "+i,"rt")}return true},refreshSession:function(d){if(!d){d=BOOMR.utils.getSubCookies(BOOMR.utils.getCookie(this.cookie))}if(!d){return}if(d.ss){BOOMR.session.start=parseInt(d.ss,10)}else{BOOMR.session.start=BOOMR.t_lstart||BOOMR.t_start}if(d.si&&d.si.match(/-/)){BOOMR.session.ID=d.si;BOOMR.addVar("rt.si",BOOMR.session.ID+"-"+Math.round(BOOMR.session.start/1000).toString(36))}if(d.sl){BOOMR.session.length=parseInt(d.sl,10)}if(d.tt&&d.tt.match(/\d/)){this.loadTime=parseInt(d.tt,10)}if(d.obo){this.oboError=parseInt(d.obo,10)||0}if(d.dm&&!BOOMR.session.domain){BOOMR.session.domain=d.dm}if(d.se){c.session_exp=parseInt(d.se,10)||a}if(d.bcn){this.beacon_url=d.bcn}if(d.rl&&d.rl==="1"){BOOMR.session.rate_limited=true}},maybeResetSession:function(g,d){BOOMR.debug("Current session meta:\n"+BOOMR.utils.objectToString(BOOMR.session),"rt");BOOMR.debug("Timers: t_start="+d+", sessionLoad="+c.loadTime+", sessionError="+c.oboError+", lastAction="+c.lastActionTime,"rt");BOOMR.removeVar("rt.srst");if(!BOOMR.session.start||(d&&BOOMR.session.start>d)||g-(c.lastActionTime||BOOMR.t_start)>c.session_exp*1000){BOOMR.addVar("rt.srst",BOOMR.session.ID+"-"+BOOMR.session.start+":"+BOOMR.session.length+":"+c.oboError+":"+c.loadTime+":"+d+":"+c.lastActionTime+":"+g);BOOMR.session.start=d||BOOMR.t_lstart||BOOMR.t_start;BOOMR.session.length=0;BOOMR.session.rate_limited=false;c.loadTime=0;c.oboError=0;c.beacon_url=c.next_beacon_url;c.lastActionTime=g;c.updateCookie({rl:undefined,sl:BOOMR.session.length,ss:BOOMR.session.start,tt:c.loadTime,obo:c.oboError,bcn:c.beacon_url})}BOOMR.debug("New session meta:\n"+BOOMR.utils.objectToString(BOOMR.session),"rt");BOOMR.debug("Timers: t_start="+d+", sessionLoad="+c.loadTime+", sessionError="+c.oboError,"rt")},initFromCookie:function(){var d,g;g=BOOMR.utils.getSubCookies(BOOMR.utils.getCookie(this.cookie));if(!g){return}g.s=Math.max(+g.ul||0,+g.cl||0);BOOMR.debug("Read from cookie "+BOOMR.utils.objectToString(g),"rt");if(g.s&&(g.r||g.nu)){this.r=g.r;d=BOOMR.utils.hashQueryString(f.URL,true);BOOMR.debug(this.r+" =?= "+this.r2,"rt");BOOMR.debug(g.s+" <? "+(+g.cl+15),"rt");BOOMR.debug(g.nu+" =?= "+d,"rt");if(!this.strict_referrer||(g.nu&&g.nu===d&&g.s<+g.cl+15)||(g.s===+g.ul&&this.r===this.r2)){this.t_start=g.s;if(+g.hd>g.s){this.t_fb_approx=parseInt(g.hd,10)}}else{this.t_start=this.t_fb_approx=undefined}}if(g.s){this.lastActionTime=g.s}this.refreshSession(g);this.updateCookie({s:undefined,r:undefined,nu:undefined,ul:undefined,cl:undefined,hd:undefined,rl:undefined});this.maybeResetSession(new Date().getTime())},incrementSessionDetails:function(){BOOMR.session.length++;if(isNaN(c.timers.t_done.delta)){c.oboError++}else{c.loadTime+=c.timers.t_done.delta}},getBoomerangTimings:function(){var h,d,j,g;if(BOOMR.t_start){BOOMR.plugins.RT.startTimer("boomerang",BOOMR.t_start);BOOMR.plugins.RT.endTimer("boomerang",BOOMR.t_end);BOOMR.plugins.RT.endTimer("boomr_fb",BOOMR.t_start);if(BOOMR.t_lstart){BOOMR.plugins.RT.endTimer("boomr_ld",BOOMR.t_lstart);BOOMR.plugins.RT.setTimer("boomr_lat",BOOMR.t_start-BOOMR.t_lstart)}}try{if(window.performance&&window.performance.getEntriesByName){j={"rt.bmr.":BOOMR.url,"rt.cnf.":BOOMR.config_url};for(g in j){if(j.hasOwnProperty(g)&&j[g]){h=window.performance.getEntriesByName(j[g]);if(!h||h.length===0){continue}h=h[0];for(d in h){if(h.hasOwnProperty(d)&&d.match(/(Start|End)$/)&&h[d]>0){BOOMR.addVar(g+d.replace(/^(...).*(St|En).*$/,"$1$2"),h[d])}}}}}}catch(i){BOOMR.addError(i,"rt.getBoomerangTimings")}},checkPreRender:function(){if(!(f.visibilityState&&f.visibilityState==="prerender")&&!(f.msVisibilityState&&f.msVisibilityState===3)){return false}BOOMR.plugins.RT.startTimer("t_load",this.navigationStart);BOOMR.plugins.RT.endTimer("t_load");BOOMR.plugins.RT.startTimer("t_prerender",this.navigationStart);BOOMR.plugins.RT.startTimer("t_postrender");BOOMR.subscribe("visibility_changed",BOOMR.plugins.RT.done,"visible",BOOMR.plugins.RT);return true},initFromNavTiming:function(){var d,h,g;if(this.navigationStart){return}h=b.performance||b.msPerformance||b.webkitPerformance||b.mozPerformance;if(h&&h.navigation){this.navigationType=h.navigation.type}if(h&&h.timing){d=h.timing}else{if(b.chrome&&b.chrome.csi&&b.chrome.csi().startE){d={navigationStart:b.chrome.csi().startE};g="csi"}else{if(b.gtbExternal&&b.gtbExternal.startE()){d={navigationStart:b.gtbExternal.startE()};g="gtb"}}}if(d){BOOMR.addVar("rt.start",g||"navigation");this.navigationStart=d.navigationStart||d.fetchStart||undefined;this.responseStart=d.responseStart||undefined;if(navigator.userAgent.match(/Firefox\/[78]\./)){this.navigationStart=d.unloadEventStart||d.fetchStart||undefined}}else{BOOMR.warn("This browser doesn't support the WebTiming API","rt")}return},setPageLoadTimers:function(d){c.initFromCookie();c.initFromNavTiming();if(c.checkPreRender()){return false}if(c.responseStart){BOOMR.plugins.RT.endTimer("t_resp",c.responseStart);if(c.timers.t_load){BOOMR.plugins.RT.setTimer("t_page",c.timers.t_load.end-c.responseStart)}else{BOOMR.plugins.RT.setTimer("t_page",d-c.responseStart)}}else{if(c.timers.hasOwnProperty("t_page")){BOOMR.plugins.RT.endTimer("t_page")}else{if(c.t_fb_approx){BOOMR.plugins.RT.endTimer("t_resp",c.t_fb_approx);BOOMR.plugins.RT.setTimer("t_page",d-c.t_fb_approx)}}}if(c.timers.hasOwnProperty("t_postrender")){BOOMR.plugins.RT.endTimer("t_postrender");BOOMR.plugins.RT.endTimer("t_prerender")}return true},setSupportingTimestamps:function(d){BOOMR.addVar("rt.tstart",d);if(typeof c.t_start==="number"&&c.t_start!==d){BOOMR.addVar("rt.cstart",c.t_start)}BOOMR.addVar("rt.bstart",BOOMR.t_start);if(BOOMR.t_lstart){BOOMR.addVar("rt.blstart",BOOMR.t_lstart)}BOOMR.addVar("rt.end",c.timers.t_done.end)},determineTStart:function(g,h){var d;if(g==="xhr"&&h&&c.timers[h]){d=c.timers[h].start;BOOMR.addVar("rt.start","manual")}else{if(c.navigationStart){d=c.navigationStart}else{if(c.t_start&&c.navigationType!==2){d=c.t_start;BOOMR.addVar("rt.start","cookie")}else{if(c.cached_t_start){d=c.cached_t_start}else{BOOMR.addVar("rt.start","none");d=undefined}}}}BOOMR.debug("Got start time: "+d,"rt");c.cached_t_start=d;return d},page_ready:function(){this.onloadfired=true},visibility_changed:function(){if(!(f.hidden||f.msHidden||f.webkitHidden)){c.visiblefired=true}},page_unload:function(d){BOOMR.debug("Unload called with "+BOOMR.utils.objectToString(d)+" when unloadfired = "+this.unloadfired,"rt");if(!this.unloadfired){BOOMR.plugins.RT.done(d,"unload")}this.updateCookie({r:f.URL},d.type==="beforeunload"?"ul":"hd");this.unloadfired=true},_iterable_click:function(g,h,j,d){var i;if(!j){return}BOOMR.debug(g+" called with "+j.nodeName,"rt");while(j&&j.nodeName.toUpperCase()!==h){j=j.parentNode}if(j&&j.nodeName.toUpperCase()===h){BOOMR.debug("passing through","rt");i=d(j);this.updateCookie({nu:i},"cl");BOOMR.addVar("nu",BOOMR.utils.cleanupURL(i))}},onclick:function(d){c._iterable_click("Click","A",d,function(g){return g.href})},onsubmit:function(d){c._iterable_click("Submit","FORM",d,function(h){var g=h.action||f.URL;return g.match(/\?/)?g:g+"?"})},domloaded:function(){BOOMR.plugins.RT.endTimer("t_domloaded")}};BOOMR.plugins.RT={init:function(d){BOOMR.debug("init RT","rt");if(b!==BOOMR.window){b=BOOMR.window;f=b.document}BOOMR.utils.pluginConfig(c,d,"RT",["cookie","cookie_exp","session_exp","strict_referrer"]);if(d&&d.beacon_url){if(!c.beacon_url||d.force_beacon_url){c.beacon_url=d.beacon_url}c.next_beacon_url=d.beacon_url}c.r=c.r2=BOOMR.utils.hashQueryString(f.referrer,true);c.initFromCookie();c.getBoomerangTimings();if(c.initialized){return this}c.complete=false;c.timers={};BOOMR.subscribe("page_ready",c.page_ready,null,c);c.visiblefired=!(f.hidden||f.msHidden||f.webkitHidden);if(!c.visiblefired){BOOMR.subscribe("visibility_changed",c.visibility_changed,null,c)}BOOMR.subscribe("page_ready",this.done,"load",this);BOOMR.subscribe("xhr_load",this.done,"xhr",this);BOOMR.subscribe("dom_loaded",c.domloaded,null,c);BOOMR.subscribe("page_unload",c.page_unload,null,c);BOOMR.subscribe("click",c.onclick,null,c);BOOMR.subscribe("form_submit",c.onsubmit,null,c);BOOMR.subscribe("before_beacon",this.addTimersToBeacon,"beacon",this);BOOMR.getBeaconURL=function(){return c.beacon_url};c.initialized=true;return this},startTimer:function(d,g){if(d){if(d==="t_page"){this.endTimer("t_resp",g)}c.timers[d]={start:(typeof g==="number"?g:new Date().getTime())}}return this},endTimer:function(d,g){if(d){c.timers[d]=c.timers[d]||{};if(c.timers[d].end===undefined){c.timers[d].end=(typeof g==="number"?g:new Date().getTime())}}return this},setTimer:function(d,g){if(d){c.timers[d]={delta:g}}return this},addTimersToBeacon:function(i,g){var h,j,d=[];for(h in c.timers){if(c.timers.hasOwnProperty(h)){j=c.timers[h];if(typeof j.delta!=="number"){if(typeof j.start!=="number"){j.start=c.cached_t_start}j.delta=j.end-j.start}if(isNaN(j.delta)){continue}if(c.basic_timers.hasOwnProperty(h)){BOOMR.addVar(h,j.delta)}else{d.push(h+"|"+j.delta)}}}if(d.length){BOOMR.addVar("t_other",d.join(","))}if(g==="beacon"){c.timers={};c.complete=false}},done:function(j,h){BOOMR.debug("Called done with "+BOOMR.utils.objectToString(j)+", "+h,"rt");var g,i=new Date().getTime(),d=false;c.complete=false;if(h==="load"||h==="visible"){if(!c.setPageLoadTimers(i)){return this}}if(h==="xhr"&&j&&j.data){d=j.data.subresource}g=c.determineTStart(h,j?j.name:null);c.refreshSession();c.maybeResetSession(i,g);this.endTimer("t_done",i);BOOMR.removeVar("t_done","t_page","t_resp","t_postrender","t_prerender","t_load","t_other","r","r2","rt.tstart","rt.cstart","rt.bstart","rt.end","rt.subres","rt.abld","rt.ss","rt.sl","rt.tt","rt.lt");c.setSupportingTimestamps(g);this.addTimersToBeacon();if(h!=="xhr"){BOOMR.addVar("r",BOOMR.utils.cleanupURL(c.r));if(c.r2!==c.r){BOOMR.addVar("r2",BOOMR.utils.cleanupURL(c.r2))}}if(d){BOOMR.addVar("rt.subres",1)}if(h==="load"||h==="visible"||(h==="xhr"&&!d)||!c.onloadfired){c.incrementSessionDetails()}BOOMR.addVar({"rt.si":BOOMR.session.ID+"-"+Math.round(BOOMR.session.start/1000).toString(36),"rt.ss":BOOMR.session.start,"rt.sl":BOOMR.session.length,"rt.tt":c.loadTime,"rt.obo":c.oboError});c.updateCookie();if(h==="unload"){BOOMR.addVar("rt.quit","");if(!c.onloadfired){BOOMR.addVar("rt.abld","")}if(!c.visiblefired){BOOMR.addVar("rt.ntvu","")}}c.complete=true;BOOMR.sendBeacon(c.beacon_url);return this},is_complete:function(){return c.complete}}}(window));
(function(){var b,a;BOOMR=BOOMR||{};BOOMR.plugins=BOOMR.plugins||{};a=[{name:"image-0.png",size:11483,timeout:1400},{name:"image-1.png",size:40658,timeout:1200},{name:"image-2.png",size:164897,timeout:1300},{name:"image-3.png",size:381756,timeout:1500},{name:"image-4.png",size:1234664,timeout:1200},{name:"image-5.png",size:4509613,timeout:1200},{name:"image-6.png",size:9084559,timeout:1200}];a.end=a.length;a.start=0;a.l={name:"image-l.gif",size:35,timeout:1000};b={base_url:"",timeout:15000,nruns:5,latency_runs:10,user_ip:"",cookie_exp:7*86400,cookie:"BA",results:[],latencies:[],latency:null,runs_left:0,aborted:false,complete:true,running:false,initialized:false,ncmp:function(d,c){return(d-c)},iqr:function(f){var e=f.length-1,d,j,h,c=[],g;d=(f[Math.floor(e*0.25)]+f[Math.ceil(e*0.25)])/2;j=(f[Math.floor(e*0.75)]+f[Math.ceil(e*0.75)])/2;h=(j-d)*1.5;if(h===0){return f}e++;for(g=0;g<e&&f[g]<j+h;g++){if(f[g]>d-h){c.push(f[g])}}return c},calc_latency:function(){var f,d,h=0,e=0,j,l,c,m,k,g;g=this.latencies.shift();k=this.iqr(this.latencies.sort(this.ncmp));d=k.length;BOOMR.debug("latencies: "+this.latencies,"bw");BOOMR.debug("lat_filtered: "+k,"bw");for(f=0;f<d;f++){h+=k[f];e+=k[f]*k[f]}j=Math.round(h/d);c=Math.sqrt(e/d-h*h/(d*d));m=(1.96*c/Math.sqrt(d)).toFixed(2);c=c.toFixed(2);l=Math.round((k[Math.floor(d/2)]+k[Math.ceil(d/2)])/2);return{mean:j,median:l,stddev:c,stderr:m}},calc_bw:function(){var x,w,s=0,o,e=[],u=[],d=0,m=0,B=0,t=0,p,z,A,f,c,v,g,l,k,y,q,h=[];for(x=0;x<this.nruns;x++){if(!this.results[x]||!this.results[x].r){continue}o=this.results[x].r;k=0;for(w=o.length-1;w>=0&&k<3;w--){if(!o[w]){break}if(o[w].t===null){continue}s++;k++;y=a[w].size*1000/o[w].t;e.push(y);q=a[w].size*1000/(o[w].t-this.latency.mean);u.push(q);if(o[w].t<this.latency.mean){h.push(w+"_"+o[w].t)}}}BOOMR.debug("got "+s+" readings","bw");BOOMR.debug("bandwidths: "+e,"bw");BOOMR.debug("corrected: "+u,"bw");if(e.length>3){e=this.iqr(e.sort(this.ncmp));u=this.iqr(u.sort(this.ncmp))}else{e=e.sort(this.ncmp);u=u.sort(this.ncmp)}BOOMR.debug("after iqr: "+e,"bw");BOOMR.debug("corrected: "+u,"bw");s=Math.max(e.length,u.length);for(x=0;x<s;x++){if(x<e.length){d+=e[x];m+=Math.pow(e[x],2)}if(x<u.length){B+=u[x];t+=Math.pow(u[x],2)}}s=e.length;p=Math.round(d/s);z=Math.sqrt(m/s-Math.pow(d/s,2));A=Math.round(1.96*z/Math.sqrt(s));z=Math.round(z);s=e.length-1;f=Math.round((e[Math.floor(s/2)]+e[Math.ceil(s/2)])/2);s=u.length;c=Math.round(B/s);v=Math.sqrt(t/s-Math.pow(B/s,2));g=(1.96*v/Math.sqrt(s)).toFixed(2);v=v.toFixed(2);s=u.length-1;l=Math.round((u[Math.floor(s/2)]+u[Math.ceil(s/2)])/2);BOOMR.debug("amean: "+p+", median: "+f,"bw");BOOMR.debug("corrected amean: "+c+", median: "+l,"bw");return{mean:p,stddev:z,stderr:A,median:f,mean_corrected:c,stddev_corrected:v,stderr_corrected:g,median_corrected:l,debug_info:h}},defer:function(d){var c=this;return setTimeout(function(){d.call(c);c=null},10)},load_img:function(e,h,k){var d=this.base_url+a[e].name+"?t="+(new Date().getTime())+Math.random(),j=0,g=0,c=new Image(),f=this;c.onload=function(){c.onload=c.onerror=null;c=null;clearTimeout(j);if(k){k.call(f,e,g,h,true)}f=k=null};c.onerror=function(){c.onload=c.onerror=null;c=null;clearTimeout(j);if(k){k.call(f,e,g,h,false)}f=k=null};j=setTimeout(function(){if(k){k.call(f,e,g,h,null)}},a[e].timeout+Math.min(400,this.latency?this.latency.mean:400));g=new Date().getTime();c.src=d},lat_loaded:function(c,d,f,g){if(f!==this.latency_runs+1){return}if(g!==null){var e=new Date().getTime()-d;this.latencies.push(e)}if(this.latency_runs===0){this.latency=this.calc_latency()}this.defer(this.iterate)},img_loaded:function(d,e,f,g){if(f!==this.runs_left+1){return}if(this.results[this.nruns-f].r[d]){return}if(g===null){this.results[this.nruns-f].r[d+1]={t:null,state:null,run:f};return}var c={start:e,end:new Date().getTime(),t:null,state:g,run:f};if(g){c.t=c.end-c.start}this.results[this.nruns-f].r[d]=c;if(d>=a.end-1||this.results[this.nruns-f].r[d+1]!==undefined){BOOMR.debug(BOOMR.utils.objectToString(this.results[this.nruns-f],undefined,2),"bw");if(f===this.nruns){a.start=d}this.defer(this.iterate)}else{this.load_img(d+1,f,this.img_loaded)}},finish:function(){if(!this.latency){this.latency=this.calc_latency()}var d=this.calc_bw(),c={bw:d.median_corrected,bw_err:parseFloat(d.stderr_corrected,10),lat:this.latency.mean,lat_err:parseFloat(this.latency.stderr,10),bw_time:Math.round(new Date().getTime()/1000)};BOOMR.addVar(c);if(d.debug_info.length>0){BOOMR.addVar("bw_debug",d.debug_info.join(","))}if(!isNaN(c.bw)&&c.bw>0){BOOMR.utils.setCookie(this.cookie,{ba:Math.round(c.bw),be:c.bw_err,l:c.lat,le:c.lat_err,ip:this.user_ip,t:c.bw_time},(this.user_ip?this.cookie_exp:0))}this.complete=true;BOOMR.sendBeacon();this.running=false},iterate:function(){if(this.aborted){return false}if(!this.runs_left){this.finish()}else{if(this.latency_runs){this.load_img("l",this.latency_runs--,this.lat_loaded)}else{this.results.push({r:[]});this.load_img(a.start,this.runs_left--,this.img_loaded)}}},setVarsFromCookie:function(j){var g=parseInt(j.ba,10),i=parseFloat(j.be,10),h=parseInt(j.l,10)||0,d=parseFloat(j.le,10)||0,c=j.ip.replace(/\.\d+$/,"0"),k=parseInt(j.t,10),f=this.user_ip.replace(/\.\d+$/,"0"),e=Math.round((new Date().getTime())/1000);if(c===f&&k>=e-this.cookie_exp&&g>0){this.complete=true;BOOMR.addVar({bw:g,lat:h,bw_err:i,lat_err:d});return true}return false}};BOOMR.plugins.BW={init:function(c){var d;if(b.initialized){return this}BOOMR.utils.pluginConfig(b,c,"BW",["base_url","timeout","nruns","cookie","cookie_exp"]);if(c&&c.user_ip){b.user_ip=c.user_ip}if(!b.base_url){return this}a.start=0;b.runs_left=b.nruns;b.latency_runs=10;b.results=[];b.latencies=[];b.latency=null;b.complete=false;b.aborted=false;BOOMR.removeVar("ba","ba_err","lat","lat_err");d=BOOMR.utils.getSubCookies(BOOMR.utils.getCookie(b.cookie));if(!d||!d.ba||!b.setVarsFromCookie(d)){BOOMR.subscribe("page_ready",this.run,null,this);BOOMR.subscribe("page_unload",this.skip,null,this)}b.initialized=true;return this},run:function(){if(b.running||b.complete){return this}if(BOOMR.window.location.protocol==="https:"){BOOMR.info("HTTPS detected, skipping bandwidth test","bw");b.complete=true;BOOMR.sendBeacon();return this}b.running=true;setTimeout(this.abort,b.timeout);b.defer(b.iterate);return this},abort:function(){b.aborted=true;if(b.running){b.finish()}return this},skip:function(){if(!b.complete){b.complete=true;BOOMR.sendBeacon()}return this},is_complete:function(){return b.complete}}}());
/*
The navtiming, mobile and lognormal configurator plugins for Boomerang are Copyright (c) 2011-2014 SOASTA, Inc. All rights reserved.
Code licensed and distributed under the BSD License.
*/
(function(){BOOMR=BOOMR||{};BOOMR.plugins=BOOMR.plugins||{};var a={complete:false,done:function(){var b=BOOMR.window,f,c,e,d;if(this.complete){return this}f=b.performance||b.msPerformance||b.webkitPerformance||b.mozPerformance;if(f&&f.timing&&f.navigation){BOOMR.info("This user agent supports NavigationTiming.","nt");c=f.navigation;e=f.timing;d={nt_red_cnt:c.redirectCount,nt_nav_type:c.type,nt_nav_st:e.navigationStart,nt_red_st:e.redirectStart,nt_red_end:e.redirectEnd,nt_fet_st:e.fetchStart,nt_dns_st:e.domainLookupStart,nt_dns_end:e.domainLookupEnd,nt_con_st:e.connectStart,nt_con_end:e.connectEnd,nt_req_st:e.requestStart,nt_res_st:e.responseStart,nt_res_end:e.responseEnd,nt_domloading:e.domLoading,nt_domint:e.domInteractive,nt_domcontloaded_st:e.domContentLoadedEventStart,nt_domcontloaded_end:e.domContentLoadedEventEnd,nt_domcomp:e.domComplete,nt_load_st:e.loadEventStart,nt_load_end:e.loadEventEnd,nt_unload_st:e.unloadEventStart,nt_unload_end:e.unloadEventEnd};if(e.secureConnectionStart){d.nt_ssl_st=e.secureConnectionStart}if(e.msFirstPaint){d.nt_first_paint=e.msFirstPaint}BOOMR.addVar(d)}if(b.chrome&&b.chrome.loadTimes){e=b.chrome.loadTimes();if(e){d={nt_spdy:(e.wasFetchedViaSpdy?1:0),nt_first_paint:e.firstPaintTime};BOOMR.addVar(d)}}this.complete=true;BOOMR.sendBeacon()}};BOOMR.plugins.NavigationTiming={init:function(){BOOMR.subscribe("page_ready",a.done,null,a);BOOMR.subscribe("page_unload",a.done,null,a);return this},is_complete:function(){return a.complete}}}());
(function(){var a;if(typeof navigator==="object"){a=navigator.connection||navigator.mozConnection||navigator.webkitConnection||navigator.msConnection}if(!a){return}BOOMR.addVar("mob.ct",a.type);BOOMR.addVar("mob.bw",a.bandwidth);BOOMR.addVar("mob.mt",a.metered)}());
(function(){BOOMR=BOOMR||{};BOOMR.plugins=BOOMR.plugins||{};var a={complete:false,done:function(){if(this.complete){return this}var e=BOOMR.window,i=e.performance,k=e.console,j=e.document,g=(({}).toString.call(e.opera)==="[object Opera]"?j.querySelectorAll:j.getElementsByTagName),b,h;h=(g.call===undefined?function(c){return g(c)}:g);b=(i&&i.memory?i.memory:(k&&k.memory?k.memory:null));if(i&&i.getEntries&&i.getEntries().length){BOOMR.addVar("dom.res",i.getEntries().length)}if(b){BOOMR.addVar({"mem.total":b.totalJSHeapSize,"mem.used":b.usedJSHeapSize})}BOOMR.addVar({"dom.ln":h.call(j,"*").length,"dom.sz":h.call(j,"html")[0].innerHTML.length,"dom.img":h.call(j,"img").length,"dom.script":h.call(j,"script").length});this.complete=true;BOOMR.sendBeacon()}};BOOMR.plugins.Memory={init:function(){BOOMR.subscribe("page_ready",a.done,null,a);BOOMR.subscribe("page_unload",a.done,null,a);return this},is_complete:function(){return a.complete}}}());
(function(){BOOMR=BOOMR||{};BOOMR.plugins=BOOMR.plugins||{};var a={url:""};BOOMR.plugins.CACHE_RELOAD={init:function(b){BOOMR.utils.pluginConfig(a,b,"CACHE_RELOAD",["url"]);if(!a.url){return this}var c=document.createElement("iframe");c.style.display="none";c.src=a.url;document.body.appendChild(c);return this},is_complete:function(){return true}}}());
/*
The md5 plugin for Boomerang is derived from JavaScript-MD5, Copyright 2011, Sebastian Tschan. https://blueimp.net.  Licensed under the MIT license: http://www.opensource.org/licenses/MIT
*/
(function(){BOOMR=BOOMR||{};if(BOOMR.utils&&BOOMR.utils.md5){return}BOOMR.utils=BOOMR.utils||{};"use strict";function n(t,w){var v=(t&65535)+(w&65535),u=(t>>16)+(w>>16)+(v>>16);return(u<<16)|(v&65535)}function r(t,u){return(t<<u)|(t>>>(32-u))}function c(A,w,v,u,z,y){return n(r(n(n(w,A),n(u,y)),z),v)}function b(w,v,B,A,u,z,y){return c((v&B)|((~v)&A),w,v,u,z,y)}function h(w,v,B,A,u,z,y){return c((v&A)|(B&(~A)),w,v,u,z,y)}function m(w,v,B,A,u,z,y){return c(v^B^A,w,v,u,z,y)}function a(w,v,B,A,u,z,y){return c(B^(v|(~A)),w,v,u,z,y)}function d(E,z){E[z>>5]|=128<<(z%32);E[(((z+64)>>>9)<<4)+14]=z;var v,y,w,u,t,D=1732584193,C=-271733879,B=-1732584194,A=271733878;for(v=0;v<E.length;v+=16){y=D;w=C;u=B;t=A;D=b(D,C,B,A,E[v],7,-680876936);A=b(A,D,C,B,E[v+1],12,-389564586);B=b(B,A,D,C,E[v+2],17,606105819);C=b(C,B,A,D,E[v+3],22,-1044525330);D=b(D,C,B,A,E[v+4],7,-176418897);A=b(A,D,C,B,E[v+5],12,1200080426);B=b(B,A,D,C,E[v+6],17,-1473231341);C=b(C,B,A,D,E[v+7],22,-45705983);D=b(D,C,B,A,E[v+8],7,1770035416);A=b(A,D,C,B,E[v+9],12,-1958414417);B=b(B,A,D,C,E[v+10],17,-42063);C=b(C,B,A,D,E[v+11],22,-1990404162);D=b(D,C,B,A,E[v+12],7,1804603682);A=b(A,D,C,B,E[v+13],12,-40341101);B=b(B,A,D,C,E[v+14],17,-1502002290);C=b(C,B,A,D,E[v+15],22,1236535329);D=h(D,C,B,A,E[v+1],5,-165796510);A=h(A,D,C,B,E[v+6],9,-1069501632);B=h(B,A,D,C,E[v+11],14,643717713);C=h(C,B,A,D,E[v],20,-373897302);D=h(D,C,B,A,E[v+5],5,-701558691);A=h(A,D,C,B,E[v+10],9,38016083);B=h(B,A,D,C,E[v+15],14,-660478335);C=h(C,B,A,D,E[v+4],20,-405537848);D=h(D,C,B,A,E[v+9],5,568446438);A=h(A,D,C,B,E[v+14],9,-1019803690);B=h(B,A,D,C,E[v+3],14,-187363961);C=h(C,B,A,D,E[v+8],20,1163531501);D=h(D,C,B,A,E[v+13],5,-1444681467);A=h(A,D,C,B,E[v+2],9,-51403784);B=h(B,A,D,C,E[v+7],14,1735328473);C=h(C,B,A,D,E[v+12],20,-1926607734);D=m(D,C,B,A,E[v+5],4,-378558);A=m(A,D,C,B,E[v+8],11,-2022574463);B=m(B,A,D,C,E[v+11],16,1839030562);C=m(C,B,A,D,E[v+14],23,-35309556);D=m(D,C,B,A,E[v+1],4,-1530992060);A=m(A,D,C,B,E[v+4],11,1272893353);B=m(B,A,D,C,E[v+7],16,-155497632);C=m(C,B,A,D,E[v+10],23,-1094730640);D=m(D,C,B,A,E[v+13],4,681279174);A=m(A,D,C,B,E[v],11,-358537222);B=m(B,A,D,C,E[v+3],16,-722521979);C=m(C,B,A,D,E[v+6],23,76029189);D=m(D,C,B,A,E[v+9],4,-640364487);A=m(A,D,C,B,E[v+12],11,-421815835);B=m(B,A,D,C,E[v+15],16,530742520);C=m(C,B,A,D,E[v+2],23,-995338651);D=a(D,C,B,A,E[v],6,-198630844);A=a(A,D,C,B,E[v+7],10,1126891415);B=a(B,A,D,C,E[v+14],15,-1416354905);C=a(C,B,A,D,E[v+5],21,-57434055);D=a(D,C,B,A,E[v+12],6,1700485571);A=a(A,D,C,B,E[v+3],10,-1894986606);B=a(B,A,D,C,E[v+10],15,-1051523);C=a(C,B,A,D,E[v+1],21,-2054922799);D=a(D,C,B,A,E[v+8],6,1873313359);A=a(A,D,C,B,E[v+15],10,-30611744);B=a(B,A,D,C,E[v+6],15,-1560198380);C=a(C,B,A,D,E[v+13],21,1309151649);D=a(D,C,B,A,E[v+4],6,-145523070);A=a(A,D,C,B,E[v+11],10,-1120210379);B=a(B,A,D,C,E[v+2],15,718787259);C=a(C,B,A,D,E[v+9],21,-343485551);D=n(D,y);C=n(C,w);B=n(B,u);A=n(A,t)}return[D,C,B,A]}function o(u){var v,t="";for(v=0;v<u.length*32;v+=8){t+=String.fromCharCode((u[v>>5]>>>(v%32))&255)}return t}function i(u){var v,t=[];t[(u.length>>2)-1]=undefined;for(v=0;v<t.length;v+=1){t[v]=0}for(v=0;v<u.length*8;v+=8){t[v>>5]|=(u.charCodeAt(v/8)&255)<<(v%32)}return t}function j(t){return o(d(i(t),t.length*8))}function e(v,y){var u,x=i(v),t=[],w=[],z;t[15]=w[15]=undefined;if(x.length>16){x=d(x,v.length*8)}for(u=0;u<16;u+=1){t[u]=x[u]^909522486;w[u]=x[u]^1549556828}z=d(t.concat(i(y)),512+y.length*8);return o(d(w.concat(z),512+128))}function s(v){var y="0123456789abcdef",u="",t,w;for(w=0;w<v.length;w+=1){t=v.charCodeAt(w);u+=y.charAt((t>>>4)&15)+y.charAt(t&15)}return u}function l(t){return unescape(encodeURIComponent(t))}function p(t){return j(l(t))}function k(t){return s(p(t))}function g(t,u){return e(l(t),l(u))}function q(t,u){return s(g(t,u))}function f(u,v,t){if(!v){if(!t){return k(u)}return p(u)}if(!t){return q(v,u)}return g(v,u)}BOOMR.utils.MD5=f}());
(function(f){var h=document,i="script",c=f.location.hostname,a=false,e=false,b,g,d;if(!c||c==="localhost"||c.match(/\.\d+$/)||c.match(/^mhtml/)||c.match(/^file:\//)){return}d=function(){if(a){return}a=true;e=false;BOOMR.sendBeacon()};g=function(){var l=h.getElementsByTagName(i)[0],k=h.createElement(i),j=BOOMR.getBeaconURL?BOOMR.getBeaconURL():"";b=new Date().getTime();k.src="//c.go-mpulse.net/boomerang/config.js?key=5JH29-5QDE6-AJKPZ-SVTUN-JGXS5&d="+encodeURIComponent(c)+"&t="+Math.round(b/(5*60*1000))+"&v="+BOOMR.version+(f===window?"":"&if=")+"&sl="+(BOOMR.session.length>0?1:0)+"&si="+BOOMR.session.ID+"-"+Math.round(BOOMR.session.start/1000).toString(36)+(a?"&r=":"")+(j?"&bcn="+encodeURIComponent(j):"");BOOMR.config_url=k.src;l.parentNode.insertBefore(k,l);l=k=null;if(a){setTimeout(g,5.5*60*1000)}};BOOMR.plugins.LOGN={init:function(j){if(a||BOOMR.session.rate_limited){return this}if(j&&j.rate_limited){BOOMR.session.rate_limited=true;return this}if(e){BOOMR.setImmediate(d);setTimeout(g,5.5*60*1000);BOOMR.addVar("t_configjs",new Date().getTime()-b);if(typeof BOOMR_configt==="number"){BOOMR.addVar("t_configfb",BOOMR_configt-b);delete BOOMR_configt}return}e=true;if(f===window){BOOMR.subscribe("page_ready",g,null,null)}else{g()}return this},is_complete:function(){return a}}}(BOOMR.window));BOOMR.addVar({"h.key":"5JH29-5QDE6-AJKPZ-SVTUN-JGXS5"}).init({log:null,wait:true,site_domain:null});BOOMR.t_end=new Date().getTime();
