function LIConnect(e){if(void 0!==e){this.config=e,this.config.login_source=""===e.login_source?"li-connect":this.config.login_source,this.config.connectRoute=void 0===e.connectRoute?"connect":e.connectRoute,void 0!==getUrlVar("re_auth")&&(this.config.re_auth=!0),this.config.connectRoutePrefix=void 0===e.connectRoutePrefix?"liconnect":e.connectRoutePrefix;var t=decodeURIComponent(document.location.protocol+"//"+document.location.host+document.location.pathname);this.config.connectUrl="https://"+window.location.host+"/"+this.config.connectRoutePrefix+"/"+this.config.connectRoute+"?login_source="+this.config.login_source+"&submit_url="+t,void 0!==this.config.re_auth&&(this.config.connectUrl+="&re_auth="+this.config.re_auth),this.bindEvents(),slideshare_object.registerMessageReceiver($.proxy(this.messageReceiver,this))}}function ModalShare(e){this.config=e,e&&this.init()}function ListPageModalShare(e){this.config=e,e&&this.init()}function MobileModalShare(e){this.config=e,this.init()}LIConnect.prototype.openAuthDialog=function(e){void 0===e&&(e=this.config.connectUrl),window.liChildWindow=window.open("https://www.linkedin.com/uas/oauth2/authorization?response_type=code&client_id=y4wa9oe4c6nu&scope=&state="+this.config.state+"&redirect_uri="+encodeURIComponent(e),"_blank","height=400,width=600,status=yes,toolbar=no,menubar=no,location=no,scrollbars=yes"),(isBrowserMSIE()||navigator.userAgent.match(/iPhone|iPad|iPod|Android|BlackBerry|IEMobile|webOS|Mobile|Windows Phone/i))&&(timer=setInterval(this.checkChild,500))},LIConnect.prototype.bindEvents=function(){var e=this;$(this.config.connectButtonClass).on("click",function(t){window._gaq=_gaq||[],_gaq.push(["_trackEvent","Login","linkedin",e.config.login_source+"_LiconnectClicked"]),e.openAuthDialog()})},LIConnect.prototype.checkChild=function(){if(0!=window.liChildWindow.closed){clearInterval(timer);var e=window.location!=window.parent.location;e?$.postMessage("modalLoginSubmit",$("#target_url").val(),parent):(window._gaq=_gaq||[],_gaq.push(["_trackEvent","Login","linkedin","login_successful"]),window.location.reload())}},LIConnect.prototype.uploadToLiCallback=function(e){var t=$("#li_upload_"+e);t.removeClass("j-linkedin-connect"),t.addClass("added"),$("#li_upload_"+e+" .flat-button-text").text("Added to profile"),slideshare_object.ga("Treasury","linkedin","connect_and_upload_success")},LIConnect.prototype.messageReceiver=function(e){switch(e){case"liconnectSubmit":slideshare_object.ga("Login","linkedin","login_successful");var t=getUrlVar("from_source");window.location=void 0!==t&&isInternalRedirect(t)?decodeURIComponent(t):"/";break;case"liconnectSubmitVisualResume":window.location="/professional-journey/show";break;case"liconnectModalSubmit":slideshare_object.ga("Login","linkedin","modal_login_successful"),$.postMessage("modalLoginSubmit",$("#target_url").val(),parent);break;case"liUploadSubmit":this.uploadToLiCallback(this.config.slideshow_id),bootbox.alert("Your SlideShare was successfully added to your LinkedIn profile.");break;case"liNewUserUpload":$("#j-linkedinConnectedMessage").modal("show"),this.uploadToLiCallback(this.config.slideshow_id);case"liconnectLeadGen":var t=getUrlVar("from_source");window.location=void 0!==t&&isInternalRedirect(t)?decodeURIComponent(t):"/lead-campaigns";break;case"liconnectReAuthFail":$(".j-alert").html("Login does not match, please try again."),$(".j-alert").removeClass("hide").show()}},ModalShare.prototype.init=function(){this.$container=$(this.config.el),this.$shareBtn=$(this.config.btnShare),this.$shareEmailMsg=this.$container.find(".j-share-email-msg"),this.$addMsgButton=this.$container.find(".j-add-msg"),this.$emailSentButton=this.$container.find(".j-email-sent"),this.$shareEmailSend=this.$container.find("#share-email-send"),this.$shareEmailForm=this.$container.find(".j-share-email-form"),this.$linkURLInput=this.$container.find(".j-share-link-url"),this.$close=this.$container.find(".j-modal-close"),this.$contentWrapper=this.$container.find(".modal-content-wrapper"),this.gaTrackCategory=this.$container.data("ga-track-category"),this.gaTrackAction=this.$container.data("ga-track-action"),this.createShareHash(),slideshare_object&&slideshare_object.user&&slideshare_object.user.loggedin===!0&&null!==slideshare_object.user.login&&this.$container.find(".j-share-email-name").val(slideshare_object.user.login),this.bindModalToShareButtons(),this.bindModalEvents(),this.bindCustomModalEvents(),this.adjustShareModalTop()},ModalShare.prototype.get_viral_share_url=function(e){$elem=$("li."+e+" a");var t=this.data.ssLink;return $elem.length>0&&(t=$.param($elem.data()),!t&&(t=this.data.ssLink)),this.SHARE_HASH[e]+t},ModalShare.prototype.get_viral_share_urls=function(){return{facebook:this.get_viral_share_url("facebook"),linkedin:this.get_viral_share_url("linkedin"),twitter:this.get_viral_share_url("twitter"),wordpress:this.get_viral_share_url("wordpress"),pinterest:this.get_viral_share_url("pinterest"),googleplus:this.get_viral_share_url("googleplus")}},ModalShare.prototype.sharePopup=function(e){var t=626,o=436,a=this.data.social[e];if(void 0!==a){if("facebook"===e){if(window.FB)return this.trackShareClick(e),void this.postToFacebook()}else if("linkedin"===e&&window.IN&&window.IN.UI)return IN.UI.Share().params({url:this.data.ssLink}).place(),this.trackShareClick(e),void this.saveShare(e);window.open(a,"shareDialog","width="+t+",height="+o),this.trackShareClick(e),this.saveShare(e)}},ModalShare.prototype.show=function(){this.reset(),this.$container.show(),this.shareGATracking("modalOpen")},ModalShare.prototype.close=function(){this.reset(),this.$container.hide()},ModalShare.prototype.reset=function(){this.$container.find(".j-embed-use-ssl-cbox").prop("checked",!1),$(".j-modal-popup").scrollTop(0),this.clearEmailFields(),this.$shareEmailForm.show(),this.$emailSentButton.hide(),this.collapseAllSections()},ModalShare.prototype.updateEmbed=function(){var e=this.$container.find(".j-share-embed-link"),t=e.val(),o=this.$container.find(".j-embed-size-picker").val(),a=this.$container.find(".j-embed-size-picker :selected").data("width")||this.config.embed_sizes.presets[o].size.width,i=this.$container.find(".j-embed-size-picker :selected").data("height")||this.config.embed_sizes.presets[o].size.height,n=t.match(/src="([^"]+)"/)[1].split("?")[0],s=this.$container.find(".j-embed-start-picker").prop("selectedIndex")+1||1;n+=s>1?"?startSlide="+s:"",t=t.replace(/src="[^"]+"/,'src="'+n+'"'),t=t.replace("http:",""),t=t.replace("https:",""),t=t.replace(/height="\d+"/,'height="'+i+'"'),t=t.replace(/width="\d+"/,'width="'+a+'"'),e.val(t),this.shareGATracking("share_embed","updateembed")},ModalShare.prototype.clearEmailErrorAlerts=function(){$(".error").removeClass("error")},ModalShare.prototype.clearEmailFields=function(){this.$container.find(".j-email-clear").val(""),this.$shareEmailSend.prop("disabled",!1),this.clearEmailErrorAlerts()},ModalShare.prototype.sendShareEmail=function(e){this.shareGATracking("share_email","send");var t=this,o=this.$container.find(".j-share-email-to").val(),a=this.$container.find(".j-share-email-name").val(),i=this.$shareEmailMsg.val(),n=!1;t.$shareEmailSend.val(""),t.$shareEmailSend.addClass("sending"),t.$shareEmailSend.prop("disabled",!0),t.clearEmailErrorAlerts(),n||(n=!0,$.post("/list/email_share",{data:{id:this.data.ssId,name:a,recipients:o,msg:i},dataType:"json"}).done(function(e){if(0===e.respCode)t.clearEmailFields(),t.$shareEmailForm.slideUp(400),t.collapseAllSections(),t.$container.find("#email-sent").slideDown(400),setTimeout(function(){t.$container.find("#email-sent").slideUp(400),t.$shareEmailForm.slideDown(400)},2e3),t.$contentWrapper.removeClass("email-expanded");else{var o=t.$container.find(".j-email-flash");switch(o.text(e.resp).show(),e.respCode){case 1:t.$container.find(".j-share-email-to").addClass("error");break;case 2:t.$container.find(".j-share-email-name").addClass("error")}setTimeout(function(){o.fadeOut(400)},5e3)}n=!1,t.$shareEmailSend.val("Send"),t.$shareEmailSend.removeClass("sending"),t.$shareEmailSend.prop("disabled",!1)}).fail(function(e,o,a){n=!1,t.$shareEmailSend.val("Send"),t.$shareEmailSend.removeClass("sending"),t.$shareEmailSend.prop("disabled",!1)}))},ModalShare.prototype.shareGATracking=function(e,t){var o=window._gaq||[];e=this.gaTrackAction?this.gaTrackAction+"_"+e:e,o.push(["_trackEvent",this.gaTrackCategory,e,t])},ModalShare.prototype.renderSlideStartOptions=function(){for(var e="",t=0;t<this.data.totalSlides;t++){var o="slide "+(t+1);e+="<option ",0===t&&(e+=' selected="selected"'),e+=">"+o+"</option>"}var a=this.$container.find(".j-embed-start-picker, .j-share-start-picker");a.empty(),a.append(e),this.updateStartSlide()},ModalShare.prototype.renderDefaultEmbedOptions=function(){var e={0:{small:[344,292],"default":[429,357],large:[514,422],xlarge:[599,487]},1:{small:[386,410],"default":[481,512],large:[576,614],xlarge:[672,716]}},t=e[this.data.ssType%2],o="";for(var a in t){var i=t[a][0]+" x "+t[a][1];o+='<option value="'+a+'" data-width="'+t[a][0]+'" data-height="'+t[a][1]+'"',"default"===a&&(o+=" selected"),o+=">"+i+"</option>"}var n=this.$container.find(".j-embed-size-picker");n.empty(),n.append(o),this.$container.find(".j-embed-start-picker").prop("selecteIndex",1),this.$container.find(".j-share-embed-wp").val(this.data.social.wordpress),this.$container.find(".j-share-embed-link").text(this.data.embedCode)},ModalShare.prototype.toggleAddMessageHeight=function(e){this.$shareEmailMsg.toggleClass("msg-expanded",e)},ModalShare.prototype.collapseAllSections=function(){$(".j-share-expand").slideUp(),$("#share-embed-link").scrollTop(0),$(".j-triggered").removeClass("j-triggered"),this.toggleAddMessageHeight(!1)},ModalShare.prototype.triggerExpand=function(e){this.collapseAllSections(),$(e).addClass("j-triggered"),$(e).siblings(".j-share-expand").slideDown(400,this.adjustShareModalTop.bind(this)),this.$contentWrapper.removeClass("email-expanded embed-expanded"),$(e).hasClass("j-share-email-to")?this.$contentWrapper.addClass("email-expanded"):$(e).hasClass("j-share-embed-link")&&this.$contentWrapper.addClass("embed-expanded")},ModalShare.prototype.getNewSlideURL=function(e,t){var o=document.createElement("a");o.href=e;var a=o.pathname.split("/");a[0]||a.shift();for(var i=a.length,n=a[i-1];!n&&i>0;)a.pop(),i--,n=a[i-1];return parseInt(n,10)&&i>2&&a.pop(),t>1&&a.push(t),o.pathname=a.join("/"),o.href},ModalShare.prototype.getSlideImageURL=function(e){return $('#svPlayerId .slide[data-index="'+e+'"] .slide_image').data("full")},ModalShare.prototype.bindModalEvents=function(){var e=this;this.$close.bind("click",function(){e.close()}),this.$container.find(".j-share-start-picker").change(function(t){e.updateStartSlide(),e.shareGATracking("share_social",$(this).data("ga"))}),this.$shareEmailForm.submit(function(t){t.preventDefault(),t.stopPropagation(),e.sendShareEmail()}),this.$shareEmailMsg.click(function(){e.toggleAddMessageHeight(!0)}),this.$container.find(".j-share-email-to, .j-share-email-name").click(function(t){e.toggleAddMessageHeight(!1)}),this.$container.find(".j-share-social-list li").click(function(){e.sharePopup($(this).data("network"))}),this.$container.find(".j-update-embed").change(function(){e.updateEmbed()}),this.$container.find(".j-share-embed-link, .j-share-embed-wp, .j-last-screen-ssurl").bind("click",function(){this.select()}),this.$container.find(".j-share-link-url").click(function(){this.select(),e.shareGATracking("share_social",$(this).data("ga"))}),this.$container.find(".j-share-email-form input, .j-share-email-form textarea, .j-add-msg, .j-send-another-email").click(function(t){"send"!==$(this).data("ga")&&e.shareGATracking("share_email",$(this).data("ga"))}),this.$container.find(".j-embed-use-ssl-cbox, .j-embed-related-cbox, .j-embed-size-picker, .j-embed-start-picker").click(function(){e.shareGATracking("share_embed",$(this).data("ga"))}),this.$container.find(".j-share-expand-trigger").click(function(){$(this).siblings(".j-share-expand:visible").length>0||e.triggerExpand(this)}),$(window).resize(function(){e.adjustShareModalTop()}),$(document).keydown(function(t){27===t.which&&(t.preventDefault(),e.close())}),$(".j-modal-popup").on("scroll",function(t){e.$close.css("top",8+$(this).scrollTop()+"px")})},ModalShare.prototype.bindCustomModalEvents=function(){},ModalShare.prototype.createShareHash=function(){this.SHARE_HASH={facebook:"https://www.facebook.com/sharer/sharer.php?u=",linkedin:"https://www.linkedin.com/cws/share?trk=SLIDESHARE&",twitter:"https://twitter.com/share?",googleplus:"https://plus.google.com/share?",wordpress:"",pinterest:"https://pinterest.com/pin/create/button/?"}},ModalShare.prototype.getSSId=function(e){return e.length?e.data("slideshowid"):slideshare_object.modal_player.get_ss_id()},ModalShare.prototype.bindModalToShareButtons=function(){},ModalShare.prototype.trackShareClick=function(e){},ModalShare.prototype.saveShare=function(e){$.post("/share/viralshare",{data:{id:this.data.ssId,network:e}})},ModalShare.prototype.showLikeUsModal=function(){},ModalShare.prototype.postToFacebook=function(){var e=this;if(window.FB){var t=function(t){t&&t.post_id&&e.saveShare("facebook")};FB.ui({method:"feed",display:"popup",link:this.data.ssLink},t)}},ModalShare.prototype.adjustShareModalTop=function(){},ModalShare.prototype.updateStartSlide=function(){},ListPageModalShare.prototype=new ModalShare,ListPageModalShare.prototype.bindCustomModalEvents=function(){this.$container.find(".j-modal-content").click(function(e){e.stopPropagation()})},ListPageModalShare.prototype.bindModalToShareButtons=function(){var e=this,t=!1,o=this.$container.find(".j-modal-popup");$(this.config.parentEl).on("click",this.config.btnShare,function(a){var i=$(this).closest(".iso_slideshow").length>0?$(this).closest(".iso_slideshow"):$("#modal_player");o.hide(),e.$container.fadeIn(200),data={embedCode:i.data("embedcode"),totalSlides:i.data("totalslides"),ssLink:i.data("sslink"),title:i.data("title"),ssType:i.data("sstype"),ssId:i.data("slideshowid"),social:{linkedin:i.data("linkedinshareurl"),facebook:i.data("facebookshareurl"),twitter:i.data("twittershareurl"),googleplus:i.data("googleplusshareurl"),pinterest:i.data("pinterestshareurl"),wordpress:i.data("wordpressshareurl"),email:"mailto:?subject=Check out this SlideShare "+i.data("sstypeasstring")+"&body="+i.data("sslink")}},e.data=data,o.show(),e.show(),e.adjustShareModalTop(),e.$linkURLInput.val(e.data.ssLink),e.renderDefaultEmbedOptions(),e.renderSlideStartOptions(),t||($(".iso_slideshow_link").attr("title",""),t=!0)})},ListPageModalShare.prototype.trackShareClick=function(e){this.shareGATracking("share_social",e)},ListPageModalShare.prototype.close=function(){this.reset(),this.$container.hide(),this.shareGATracking("modalClose")},ListPageModalShare.prototype.adjustShareModalTop=function(){var e=$("#homepage-modal-share, #new-list-modal-share"),t=e.find(".j-modal-popup");e.length>0&&t.length>0&&t.animate({top:(e.height()-t.height())/2+"px"},400)},MobileModalShare.prototype={},MobileModalShare.prototype.IOS4REGEX=/["iPhone"|"iPad"].+i?OS [4|3].+Safari/,MobileModalShare.prototype.isIpadAndChrome=function(){return/ipad.*crios|crios.*ipad|ipad.*chrome|chrome.*ipad/i.test(navigator.userAgent)},MobileModalShare.prototype.init=function(){this.$modalShare=$(this.config.el),this.$overlay=this.$modalShare.find(".share-overlay"),this.$shareList=this.$modalShare.find(".mobile-share-list"),this.$linkShare=this.$modalShare.find(".link-share"),this.gaCategory=this.$modalShare.data("ga"),this.bindModalEvents(),this.bindModalToShareBtns(),this.populateShareLinks(),this.applyAppropriateOrientationCSS()},MobileModalShare.prototype.getDeviceOrientation=function(){var e;if(window.orientation)e=0===window.orientation?"portrait":"landscape";else{var t=window.innerWidth||screen.width,o=window.innerHeight||screen.height;e=t>o?"landscape":"portrait"}return e},MobileModalShare.prototype.open=function(){this.gaTracking("open"),this.$modalShare.fadeIn(),$("body").addClass("no_scroll")},MobileModalShare.prototype.close=function(){this.gaTracking("close"),this.$modalShare.fadeOut(),$("body").removeClass("no_scroll")},MobileModalShare.prototype.populateShareLinks=function(){this.isIpadAndChrome()||$.each(this.$shareList.find("li > a"),function(){$(this).attr("href",$(this).data("url"))})},MobileModalShare.prototype.gaTracking=function(e,t){if(t){var o=window._gaq||[];e="mobile_"+e,o.push(["_trackEvent",this.gaCategory,e,t])}},MobileModalShare.prototype.viralshareTracking=function(e,t){e&&t&&$.post("/share/viralshare",{data:{id:e,network:t}})},MobileModalShare.prototype.repositionShareModal=function(){this.$overlay.css("position","static")},MobileModalShare.prototype.applyAppropriateOrientationCSS=function(){this.orientation=this.getDeviceOrientation(),"portrait"===this.orientation?this.$modalShare.removeClass("landscape"):this.$modalShare.addClass("landscape")},MobileModalShare.prototype.bindModalEvents=function(){var e=this;this.$shareList.on("click","li",function(){e.gaTracking("social",$(this).data("ga"))}),window.slideshare_mobile_object&&e.$shareList.data("slideshow-id",slideshare_mobile_object.slideshow.slideshowId),this.$shareList.on("click","[data-network]",function(){e.viralshareTracking(e.$shareList.data("slideshow-id"),$(this).data("network"))}),"undefined"==typeof $mainNav&&this.isIpadAndChrome()&&this.$shareList.on("click","a",function(){window.open($(this).data("url"),"_blank")}),this.$modalShare.find(".btn, .share-overlay, .j-close").click(function(){e.close()}),$(window).on("resize orientationchange",function(){e.applyAppropriateOrientationCSS()})},MobileModalShare.prototype.bindModalToShareBtns=function(){var e=this;$(this.config.parentEl).on("click",this.config.shareBtn,function(t){if(e.IOS4REGEX.test(navigator.userAgent)&&e.repositionShareModal(),window.mobilePlayer)return void e.open();var o=$(this).closest(".iso_slideshow").data("slideshowid"),a=$(this).closest(".iso_slideshow");if(o){data={ssLink:a.data("sslink"),social:{linkedin:a.data("linkedinshareurl"),facebook:a.data("facebookshareurl"),twitter:a.data("twittershareurl"),sms:a.data("smsshareurl"),whatsapp:a.data("whatsappshareurl"),googleplus:a.data("googleshareurl"),email:a.data("emailshareurl"),pinterest:a.data("pinterestshareurl")}};var i=data.social.linkedin,n=data.social.facebook,s=data.social.twitter,r=data.social.email,l=data.social.sms,d=data.social.whatsapp,h=data.social.googleplus,c=data.social.pinterest;e.$linkShare.attr("href",data.ssLink),e.$linkShare.html(data.ssLink),e.$shareList.find(".li-share-btn > a").attr("href",i),e.$shareList.find(".fb-share-btn > a").attr("href",n),e.$shareList.find(".tw-share-btn > a").attr("href",s),e.$shareList.find(".whatsapp-share-btn > a").attr("href",d),e.$shareList.find(".email-share-btn > a").attr("href",r),e.$shareList.find(".sms-share-btn > a").attr("href",l),e.$shareList.find(".gplus-share-btn > a").attr("href",h),e.$shareList.find(".pinterest-share-btn > a").attr("href",c),e.$shareList.data("slideshow-id",o),e.open()}})},function(e,t){function o(e){this.config=e,this.init()}o.prototype.init=function(){this.modalId=this.config.modalElementId,this.contentLoaded=!1,this.modalMessages=null,this.fromType=null,this.fromSource=null,this.iFrameElement=null,t.event.trigger("modalSignupLoaded"),this.initModal(),this.bindTriggers(),this.bindEvents(),e.registerMessageReceiver(t.proxy(this.messageReceiver,this))},o.prototype.initModal=function(){var e;if(null!==window.location.href.match("/upload")){var o='a[href*="/login?"], a[href$="/login"],a[href*="/signup?"], a[href$="/signup"], a[href*="/upload?"],a[href$="/upload"]';e=t(o).filter(":not(.void_fancybox, .smt-link)")}else{var a='a[href*="/login?"], a[href$="/login"],a[href*="/signup?"], a[href$="/signup"], button[href*="/signup"]';e=t(a).filter(":not(.void_fancybox, .smt-link)")}e.attr("data-toggle","modal"),e.attr("data-target","#"+this.modalId),t("body").append('<div class="modal fade FBlogin login-wrapper hide" id="'+this.modalId+'" style="width:470px;height:347px;"></div>'),this.modalElement=t("#"+this.modalId)},o.prototype.appendHeader=function(){this.modalMessages||(this.modalMessages={download:"to download...",addcontact:"to follow...",favorite:"to like...",comments:"to post a comment...",AddToCommunity:"to add this document to a group/event...",follow:"to follow this user...",business:"to continue...",upload:"to start uploading...",contest:"to vote...",rsvp:"to join this meeting...",user:"to register the username...",zipcast:"to schedule a meeting...",create:"to start creating...",_end:""}),this.fromType&&"undefined"!=typeof this.modalMessages[this.fromType]&&this.modalMessages[this.fromType].length>1&&(t("#modal-login-heading").children("span").remove(),t("#modal-login-heading").append("<span>"+this.modalMessages[this.fromType]+this.modalMessages._end+"</span>"))},o.prototype.bindTriggers=function(e){t(document).on("click","a[data-toggle=modal], button[data-toggle=modal]",t.proxy(function(e){var o=t(e.currentTarget);href=o.attr("href"),href&&href.length>0||(href=o.data("href")),e.currentTarget&&href&&href.length>0&&!o.hasClass("j-pro-hero-slideshow")&&(e.preventDefault(),this.open(href,o.attr("data-target")))},this))},o.prototype.bindEvents=function(){t(".modal-header .close").on("click",t.proxy(this.closedHandler,this)),t("#fb-login-modalbox").on("click",function(){e.ga("Signup","fancybox_fblogin_clicked")})},o.prototype.messageReceiver=function(e){switch(e){case"Signup_show_from_iframe":t("#j-facebook-text span").text("connect"),t("#modal-login-heading").html("Signup for SlideShare "),this.appendHeader(),t(".btn-fb-modal").show(),slideshare_object.ga("Signup","Signup_loaded");break;case"login_show_from_iframe":t("#j-facebook-text span").text("login"),t("#modal-login-heading").html("Login to SlideShare "),this.appendHeader(),slideshare_object.ga("Signup","Login_clicked");break;case"modalLoginSubmit":this.modalLoginCallBack();break;case"hideSpinner":t(".spinnerForIframe").hide(),t("#j-fb-modal-btn").show(),t("#modal_login_iframe").show();break;case"toggle_fb_message":var o=t(".btn-fb-modal, .btn-fb-modal-other, .btn-fb-modal-de");o.is(":visible")?o.fadeOut(200):o.fadeIn(500);break;case"fbconnectNewUser":case"fbconnectExistingUser":window.location.replace("/fbconnect/landingpage?from="+this.fromSource);break;case"fbconnectExistingUserWithLinkedAccount":var a=getUrlVar("from",this.url),i=decodeURIComponent(this.fromSource);void 0!==getUrlVars(this.fromSource).from_logout&&"undefined"==typeof a?window.location.replace("/?ss"):window.location.pathname.startsWith("/upload")&&/loggedout_/.test(window.location.href)?window.location.replace(window.location.href.replace("loggedout_","loggedin_loggedout_")):this.fromSource&&isInternalRedirect(this.fromSource)&&window.location.href!==i?window.location.href=decodeURIComponent(this.fromSource):window.location.reload();break;case"fbconnectFailed":t("#page-error span").html("Login unsuccessful. Please try again."),t("#page-error").show(),this.closeModal();break;case"fbconnectSuspendedUser":t("#page-error span").html("Oops! Your account was suspended after violating <a href='https://www.slideshare.net/terms' target='_blank' class='blue_link_bold'>SlideShare's Terms of Service</a> and/or <a href='http://www.slideshare.net/community_guidelines' target='_blank' class='blue_link_bold'>Community Guidelines</a>. Please read the <a href='https://help.linkedin.com/app/answers/detail/a_id/54677/kw/slideshare+suspend' target='_blank' class='blue_link_bold'>Suspended Users FAQ</a> to resolve this issue and log in."),t("#page-error").show(),this.closeModal();break;case"fbconnectDefault":window.location.reload()}},o.prototype.open=function(o,a){if(this.openModal(),this.url=o.replace("/login","/account/render_iframe_login"),this.url=this.url.replace("/signup","/account/render_iframe_login"),this.url=this.url||"/account/render_iframe_login",a=a||"#"+this.modalId,this.fromType=getUrlVar("from",this.url),this.fromSource=getUrlVar("from_source",this.url),this.contentLoaded===!1){var i=a;t(i).load(this.url,t.proxy(this.appendHeader,this)),this.contentLoaded=!0}else this.appendHeader();e.ga("Signup","thickbox_loaded")},o.prototype.openModal=function(e,o){t("#"+this.modalId).modal("show")},o.prototype.closedHandler=function(t){return e.isDownloadUrl(this.url)?e.ga("Signup","thickbox_closed","download"):e.ga("Signup","thickbox_closed"),!0},o.prototype.modalLoginCallBack=function(){if(e.isDownloadUrl(this.url)?e.ga("Login","ss_login","ss_login_from_fancybox(download)"):e.ga("Login","ss_login","ss_login_from_fancybox"),window.location.pathname.startsWith("/upload")===!0&&(e.ga("Upload","ss_login_successful"),/loggedout_/.test(window.location.href)))return window.location.replace(window.location.href.replace("loggedout_","loggedin_loggedout_")),!1;var t=-1!==jQuery.inArray(this.fromType,["business","upload","download","favorite"]),o=decodeURIComponent(this.fromSource);t&&this.fromSource&&this.fromSource.length>1&&isInternalRedirect(this.fromSource)&&window.location.href!==o?window.location.href=o:window.location.reload()},"undefined"!=typeof Foundation&&(o.prototype.initModal=function(){t("body").append('<div class="modal-login-wrapper reveal-modal" id="'+this.modalId+'" data-reveal></div>'),this.modalElement=t("#"+this.modalId)},o.prototype.bindTriggers=function(o){t(document).on("click","a[data-reveal-id="+this.modalId+"], button[data-reveal-id="+this.modalId+"]",t.proxy(function(o){if(!e.user||!e.user.loggedin){var a=t(o.currentTarget);o.currentTarget&&(href=a.attr("href"))&&href.length>0&&(o.preventDefault(),this.open(href,a.attr("reveal-id")))}},this))},o.prototype.bindEvents=function(){t(document).on("closed.fndtn.reveal",this.modalElement,t.proxy(this.closedHandler,this))},o.prototype.messageReceiver=function(e){switch(e){case"Signup_show_from_iframe":t("#modal-login-heading").html("Signup for SlideShare "),this.appendHeader(),slideshare_object.ga("Signup","Signup_loaded");break;case"login_show_from_iframe":t("#modal-login-heading").html("Login to SlideShare "),this.appendHeader(),slideshare_object.ga("Signup","Login_clicked");break;case"fbconnectNewUser":case"fbconnectExistingUser":window.location.replace("/fbconnect/landingpage?from="+this.fromSource);break;case"fbconnectExistingUserWithLinkedAccount":var o=getUrlVar("from",this.url),a=decodeURIComponent(this.fromSource);void 0!==getUrlVars(this.fromSource).from_logout&&"undefined"==typeof o?window.location.replace("/?ss"):window.location.pathname.startsWith("/upload")&&/loggedout_/.test(window.location.href)?window.location.replace(window.location.href.replace("loggedout_","loggedin_loggedout_")):isInternalRedirect(this.fromSource)&&window.location.href!==a?window.location.href=decodeURIComponent(this.fromSource):window.location.reload();break;case"fbconnectFailed":this.closeModal();break;case"fbconnectSuspendedUser":this.closeModal();break;case"fbconnectDefault":window.location.reload();break;case"modalLoginSubmit":this.modalLoginCallBack();break;case"hideSpinner":t(".frame-loading").hide();break;case"forgotPassword":window.location.href=t("#forgot-password-url").val()}},o.prototype.openModal=function(){this.modalElement.foundation("reveal","open")},o.prototype.closeModal=function(){this.modalElement.foundation("reveal","close")}),t(document).ready(function(){if(!e.user.loggedin){var t=new o({iFrameSelector:"#modal_login_iframe",modalElementId:"login_modal"});window.initiate_login_modal=function(e,o){t.open(e,o)}}}),window.initiate_login_modal=function(e,t){error("Login modal initialization cannot be performed")}}(slideshare_object,jQuery),slideshare_object.download_interaction=function(e,t){t=t||{},this.downloadAction=$(e||".j-download, .j-save"),this._shouldClickPropagate=t.propagate,slideshare_object.lead_form_on_download||this.bindEvents()},slideshare_object.download_interaction.prototype._init_loggedout=function(){this.downloadAction.on("click",function(e){var t=new Date;t.setTime(t.getTime()+12e4),$.cookie("logout_action","save",{path:"/",expires:t}),$(".player").hasClass("fullscreen")&&$.slideshareEventManager&&$.slideshareEventManager.trigger("leavefullscreen")})},slideshare_object.download_interaction.prototype._init=function(){var e=this._shouldClickPropagate;this.downloadAction.on("click",function(t){t.preventDefault(),e||t.stopPropagation(),window.location.origin||(window.location.origin=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")),slideshare_object.user&&slideshare_object.download_interaction.postDownloadRequest($(this).attr("href"),!1)})},slideshare_object.download_interaction.prototype.bindEvents=function(){slideshare_object.user.loggedin?this._init():this._init_loggedout()},slideshare_object.download_interaction.prototype.unbindEvents=function(){this.downloadAction.off("click")},slideshare_object.download_interaction.download=function(){if(slideshare_object.user&&slideshare_object.user.loggedin){var e=$(".j-action-download, .j-download, .j-save").attr("href");slideshare_object.download_interaction.postDownloadRequest(e,!1)}else slideshare_object.download_interaction.downloadFile(slideshare_object.download_url)},slideshare_object.download_interaction.postDownloadRequest=function(e,t){if(t){var o=$.cookie("text_the_app");"undefined"==typeof o&&($.cookie("text_the_app",1,{expires:28}),o="1")}$.post(e,function(a){a.success?(slideshare_object.download_interaction.downloadFile(a.download_ss_url),t&&"undefined"!=typeof SSTextApp&&parseInt(o,10)<4&&(ss_text_the_app=new SSTextApp(e),$("#my-save-modal").foundation("reveal","open"),$.cookie("text_the_app",parseInt(o,10)+1))):($("#alert-modal").find("p").text(a.notice),$("#alert-modal").foundation("reveal","open"),window._gaq.push(["_trackEvent","savedfiles","download_validation_failed"]))})},slideshare_object.download_interaction.downloadFile=function(e){window._gaq.push(["_trackEvent","savedfiles","download_started"]),$("#j-downloading-alert").show(),setTimeout(function(){$("#j-downloading-alert").hide()},3e3),$("#download").attr("src",e)};