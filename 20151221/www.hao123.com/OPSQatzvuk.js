__d("widget.canlash.imageloader",["common.js.nextTick"],function(b,n,c,a){var f=a("common.js.nextTick"),l=0;n.exports=function(a,h,n){function i(a){function i(){m.onload=m.onerror=null;try{delete window[e]}catch(a){}!--b&&!j&&(clearTimeout(c),h(d))}var m=a.img,e=a.id;a.status="loading";m.onload=function(){f(function(){d=d&&!0;a.status="loaded";i()})};m.onerror=function(){f(function(){d=!1;a.status="error";i()})};m.src=HAO.httpsTrans(a.src)}function m(){j=!0;h(!1)}var o,e,b,d,c,j;b=0;d=!0;j=!1;for(o in a)a.hasOwnProperty(o)&&
(e=a[o],"string"==typeof e&&(e=a[o]={src:e}),e&&e.src&&(b++,e.id="__img_"+o+ ++l,e.img=window[e.id]=new Image,i(e)));b?n&&(c=setTimeout(m,n)):h(d)};return c});
__d("widget.canlash.effect",[],function(b,n,c){return c={linear:function(a){return a},reverce:function(a){return 1-a},parabola:function(a){return Math.pow(a,2)},antiparabola:function(a){return 1-Math.pow(1-a,2)},sinoidal:function(a){return-Math.cos(a*Math.PI)/2+0.5},wobble:function(a){return-Math.cos(a*Math.PI*9*a)/2+0.5},spring:function(a){return 1-Math.cos(4.5*a*Math.PI)*Math.exp(6*-a)},shuttle:function(a){return 1-Math.abs(1-2*a)},percent:function(a,f,b){return(a+b)%f/f}}});
__d("widget.canlash.sprite",[],function(){function b(b){this.children=[];this.rotation=this.y=this.x=0;this.scale=1;b&&(this.paint=b)}b.prototype.draw=function(b,c){var a=this.children,f=a.length,l,g=this.x,h=this.y,k=this.rotation,i=this.scale;(g||h)&&b.translate(g,h);k&&b.rotate(k);1!==i&&b.scale(i,i);this.beforePaint(b,c);this.paint(b,c);for(l=0;l<f;l++)a[l].draw(b,c);this.afterPaint(b,c);1!==i&&(i=1/i,b.scale(i,i));k&&b.rotate(-k);(g||h)&&b.translate(-g,-h)};b.prototype.beforePaint=function(){};
b.prototype.paint=function(){};b.prototype.afterPaint=function(){};b.prototype.add=function(b,c){this.children.push(b);c&&(this[c]=b);return this};b.prototype.remove=function(b){for(var c=this.children,a=c.length;a--;)b===c[a]&&c.splice(a,1);return this};return b});
__d("widget.canlash.timeline",[],function(){function b(){this.animationHandler=0}var n,c,a=1E3/60;b.prototype.onenterframe=function(){};b.prototype.start=function(b){function l(){var a=+new Date;h.animationHandler=n(l);a-c>=b&&(h.onenterframe(a-g),c=a)}var g=+new Date,h=this,c=0,b=b||a;h.startTime=g;h.interval=b;h.stop();l()};b.prototype.restart=function(){function a(){var i=+new Date;b.animationHandler=n(a);i-c>=h&&(b.onenterframe(i-k),c=i)}var b=this,c=0,h,k;b.dur&&b.interval&&(h=b.interval,k=+new Date-
b.dur,b.startTime=k,b.stop(),a())};b.prototype.stop=function(){this.startTime&&(this.dur=+new Date-this.startTime);c(this.animationHandler)};n=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||function(a){return window.setTimeout(a,1E3/60)}}();c=function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||function(a){window.clearTimeout(a)}}();
return b});
__d("widget.canlash.stage",["widget.canlash.sprite","widget.canlash.timeline"],function(b,n,c,a){function f(a,b,i,m){l.call(this,m);this.timeline=new g;a&&this.setContext(a,b,i)}var l=a("widget.canlash.sprite"),g=a("widget.canlash.timeline");f.prototype=new l;f.prototype.start=function(a){this.timeline.start(a);return this};f.prototype.restart=function(){this.timeline.restart();return this};f.prototype.stop=function(){this.timeline.stop();return this};f.prototype.setContext=function(a,b,i){var m=
this;m.context=a;m.width=b;m.height=i;m.timeline.onenterframe=function(b){m.draw(a,b)}};f.prototype.beforePaint=function(a){a.clearRect(0,0,this.width,this.height)};return f});
__d("common.js.animation",["widget.canlash.timeline","widget.canlash.imageloader"],function(b,n,c,a){function f(a){a&&a()}function l(){this.taskQueue=[];this.timeline=new g;this.state=k;this.index=0}var g=a("widget.canlash.timeline"),h=a("widget.canlash.imageloader"),k=0;l.prototype={loadImage:function(a){return this._add(function(b){h(a.slice(),b);a=null})},changePosition:function(a,b){var c=b.length,e=0,g=!1,d=this;return this._add(c?function(h,j){var f;e=j/d.interval|0;g=e>=c-1;e=Math.min(e,c-
1);f=b[e].split(" ");a.style.backgroundPosition=f[0]+"px "+f[1]+"px";g&&h()}:f,1)},changeSrc:function(a,b){var c=b.length,e=0,g=!1,d=this;return this._add(c?function(h,j){e=j/d.interval|0;g=e>=c-1;e=Math.min(e,c-1);a.src=HAO.httpsTrans(b[e]);g&&h()}:f,1)},then:function(a){return this._add(function(b){a();b()})},enterFrame:function(a){return this._add(a,1)},repeat:function(a){var b=this;return this._add(function(){var c;a?--a?(b.index--,b._next()):(c=b.taskQueue[b.index],b.index++,c.wait?setTimeout(function(){b._next()},
c.wait):b._next()):(b.index--,b._next())})},repeatForever:function(){return this.repeat()},start:function(a){if(1==this.state)return this;this.state=1;if(!this.taskQueue.length)return this;this.interval=a;this._next();return this},pause:function(){this.state=2;this.timeline.stop();return this},wait:function(a){this.taskQueue&&0<this.taskQueue.length&&(this.taskQueue[this.taskQueue.length-1].wait=a);return this},dispose:function(){this.taskQueue=null;this.timeline&&this.timeline.stop();this.timeline=
null;this.state=k},_add:function(a,b){this.taskQueue.push({task:a,type:b});return this},_next:function(){var a;this.taskQueue&&2!=this.state&&(this.index==this.taskQueue.length?this.dispose():(a=this.taskQueue[this.index],1==a.type?this._enterframe(a.task):this._excuteTask(a.task)))},_excuteTask:function(a){var b=this;a(function(){var a;b.taskQueue&&(a=b.taskQueue[b.index],b.index++,a.wait?setTimeout(function(){b._next()},a.wait):b._next())})},_enterframe:function(a){var b=this;this.timeline.onenterframe=
function(c){a(function(){var a;b.taskQueue&&(a=b.taskQueue[b.index],b.timeline.stop(),b.index++,a.wait?setTimeout(function(){b._next()},a.wait):b._next())},c)};this.timeline.start(this.interval)},constructor:l};return function(){return new l}});
__d("widget.coolskin.paperplane",["widget.canlash.stage","widget.canlash.sprite","widget.canlash.effect","widget.canlash.imageloader","common.js.log"],function(b,n,c,a){function f(){var a=d.getContext("2d");e=new l(a,j,p);var b=o.leafImg,c=o.cloudImg0,f=o.cloudImg1,k,n;n=new g(function(a,b){var c=m(b,8E4,0),e=m(b,6E4,0);this.cloudImg00&&(this.cloudImg00.x=j*(1-c));this.cloudImg01&&(this.cloudImg01.x=j*-c);this.cloudImg11&&(this.cloudImg11.x=j*(1-e));this.cloudImg12&&(this.cloudImg12.x=j*-e)});"loaded"===
f.status&&(f=f.img,n.add(new g(function(a){a.drawImage(f,0,0)}),"cloudImg11").add(new g(function(a){a.drawImage(f,0,0)}),"cloudImg12"));"loaded"===c.status&&(c=c.img,n.add(new g(function(a){a.drawImage(c,0,0)}),"cloudImg00").add(new g(function(a){a.drawImage(c,0,0)}),"cloudImg01"));k=new g;"loaded"===b.status&&(b=b.img,k.add(new g(function(a){a.drawImage(b,0,0)}),"leafImg"));a=(new g(function(a,b){var c=m(b,12E3,8E3),e=20;0.75>c&&0.25<c&&(e=10);this.img.x=e*Math.cos(2*Math.PI*c);this.img.y=15*Math.sin(2*
Math.PI*c);this.img.scale=0.85+0.15*h.shuttle(c)})).add(new g(function(a){var b=a.createLinearGradient(0,0,0,92);b.addColorStop(0,"#dbf0fa");b.addColorStop(1,"#b3dcea");var c=a.createLinearGradient(25,56,20,22);c.addColorStop(0,"#c0e5f9");c.addColorStop(1,"#40addc");var e=a.createLinearGradient(25,56,32,34);e.addColorStop(0,"#bad7eb");e.addColorStop(1,"#41729c");var g=a.createLinearGradient(93,2,44,44);g.addColorStop(0,"#ddf0fa");g.addColorStop(1,"#68b0e3");a.beginPath();a.moveTo(20,23);a.lineTo(93,
2);a.lineTo(15,4);a.lineTo(1,12);a.closePath();a.fillStyle=b;a.fill();a.beginPath();a.moveTo(20,23);a.lineTo(25,56);a.lineTo(93,2);a.closePath();a.fillStyle=c;a.fill();a.beginPath();a.moveTo(25,56);a.lineTo(93,2);a.lineTo(32,34);a.closePath();a.fillStyle=e;a.fill();a.beginPath();a.moveTo(32,34);a.lineTo(44,44);a.lineTo(64,44);a.lineTo(93,2);a.closePath();a.fillStyle=g;a.fill()}),"img");a.rotation=-21*Math.PI/180;a.img.rotation=21*Math.PI/180;a.x=j/2+458;a.y=73;e.add(n).add(k).add(a).start(30);i({type:q,
k:s+"show"})}var l=a("widget.canlash.stage"),g=a("widget.canlash.sprite"),h=a("widget.canlash.effect"),k=a("widget.canlash.imageloader"),i=a("common.js.log"),m=h.percent,o={cloudImg0:"http://s0.hao123img.com/res/coolskin/paperplane/cloud0.png",cloudImg1:"http://s0.hao123img.com/res/coolskin/paperplane/cloud1.png",leafImg:"http://s0.hao123img.com/res/coolskin/paperplane/leaf0.png",lightImg:"http://s0.hao123img.com/res/coolskin/paperplane/light.png"},e,r,d,p=168,j=1600,b=$(window).width(),q="auto",
s="coolskin-pp-";b<j&&(j=b);return c={init:function(a){r=a;d=document.createElement("canvas");d.height=p;d.width=j;d.setAttribute("style","position:absolute;top:0;left:-"+j/2+"px;margin-left:50%;background:url(http://s0.hao123img.com/res/coolskin/paperplane/bg.jpg) no-repeat center top;");a=document.getElementById(a);a.insertBefore(d,a.firstChild);k(o,function(){f()})},stop:function(){e.stop();document.getElementById(r).removeChild(d);i({type:q,k:s+"clz"})}}});
__d("widget.coolskin.mylovefromstar","widget.canlash.stage,widget.canlash.sprite,widget.canlash.effect,widget.canlash.imageloader,common.js.log,common.js.jquery".split(","),function(b,n,c,a){function f(){function a(b,e){var e=e||20,d,i=[],l,k=new g;l=[c,f];for(d=0;d<e;d++){var n=8E3+8E3*Math.random(),o=n*Math.random(),p=(1-h.shuttle(Math.random()))*q,u=0.4+0.5*Math.random(),t=100*Math.random();k.add(new g(function(a){a.drawImage(l[d%2],0,0)}),"snowImg"+d);i.push([n,o,p,u,t])}k.paint=function(a,b){for(d=
0;d<e;d++){var c=i[d],g=c[2],f=c[3],h=c[4],c=m(b,c[0],c[1]);this["snowImg"+d].scale=f;this["snowImg"+d].x=g+h*Math.cos(2*Math.PI*c)|0;this["snowImg"+d].y=(j-30)*c|0}};return k}var b=p.getContext("2d");r=new l(b,q,j);var c=e.snow0,f=e.snow1,d;"loaded"===c.status&&(c=c.img,f=f.img,d=a(b,40));r.add(d).start();i({type:s,k:t+"show"})}var l=a("widget.canlash.stage"),g=a("widget.canlash.sprite"),h=a("widget.canlash.effect"),k=a("widget.canlash.imageloader"),i=a("common.js.log"),m=h.percent,o=a("common.js.jquery"),
e={snow0:"http://s0.hao123img.com/res/coolskin/xing/snow0.png",snow1:"http://s0.hao123img.com/res/coolskin/xing/snow1.png"},r,d,p,j=400,q=1900,b=o(window).width(),s="auto",t="coolskin-xing-";b<q&&(q=b);return c={init:function(a){d=a;p=document.createElement("canvas");p.height=j;p.width=q;p.setAttribute("style","display:none;position:absolute;top:0;left:-"+q/2+"px;margin-left:50%;");a=document.getElementById(a);a.insertBefore(p,a.firstChild);k(e,function(){f()});o(p).fadeIn(800)},stop:function(){r.stop();
document.getElementById(d).removeChild(p);i({type:s,k:t+"clz"})}}});
__d("widget.coolskin.xmas","widget.canlash.stage,widget.canlash.sprite,widget.canlash.effect,widget.canlash.imageloader,common.js.log,common.js.jquery".split(","),function(b,n,c,a){function f(){function a(b,e){var e=e||20,d,f=[],h=new g;for(d=0;d<e;d++){var k=8E3+8E3*Math.random(),l=k*Math.random(),m=Math.random()*(j-100)+50,n=0.5+0.5*Math.random(),o=50*Math.random();h.add(new g(function(a){a.drawImage(c,0,0)}),"snowImg"+d);f.push([k,l,m,n,o])}h.paint=function(a,b){for(d=0;d<e;d++){var c=f[d],g=c[2],
h=c[3],j=c[4],c=i(b,c[0],c[1]);this["snowImg"+d].scale=h;this["snowImg"+d].x=g+j*Math.cos(2*Math.PI*c)|0;this["snowImg"+d].y=(p-30)*c|0}};return h}var b=d.getContext("2d");e=new l(b,j,p);var c=o.snow,f=o.carriage,h;"loaded"===c.status&&(c=c.img,h=a(b,80));b=new g(function(a,b){var c=i(b,18E3,0);this.img.y=-15*Math.cos(2*Math.PI*c)});"loaded"===f.status&&(f=f.img,b.add(new g(function(a){a.drawImage(f,0,0)}),"img"));b.x=j/2+510;b.y=25;e.add(b).add(h).start();k({type:q,k:s+"show"})}var l=a("widget.canlash.stage"),
g=a("widget.canlash.sprite"),b=a("widget.canlash.effect"),h=a("widget.canlash.imageloader"),k=a("common.js.log"),i=b.percent,m=a("common.js.jquery"),o={snow:"http://s0.hao123img.com/res/coolskin/xmas/snow.png",carriage:"http://s0.hao123img.com/res/coolskin/xmas/100.png"},e,r,d,p=400,j=1700,a=m(window).width(),q="auto",s="coolskin-xmas-";a<j&&(j=a);return c={init:function(a){r=a;d=document.createElement("canvas");d.height=p;d.width=j;d.setAttribute("style","display:none;position:absolute;top:0;left:-"+
j/2+"px;margin-left:50%;background:url(http://s0.hao123img.com/res/coolskin/xmas/bg.jpg) no-repeat center top;");a=document.getElementById(a);a.insertBefore(d,a.firstChild);h(o,function(){f()});m(d).fadeIn(800)},stop:function(){e.stop();document.getElementById(r).removeChild(d);k({type:q,k:s+"clz"})}}});window.js_OPSQatzvuk&&window.js_OPSQatzvuk(!0);
